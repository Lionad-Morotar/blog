(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{178:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("åœ¨è¿™ç¯‡æ–‡ç« ä¸­, æˆ‘å°†ç”¨150è¡Œä»£ç , æ‰‹æŠŠæ‰‹å¸¦ä½ æ‰“é€ ä¸€ä¸ªå°ç¨‹åºä¹Ÿå¯ä»¥ä½¿ç”¨çš„ä¾¦å¬å™¨(ä¸‹ç®€ç§°VX):")]),t._v(" "),t._m(3),t._m(4),t._v(" "),a("p",[t._v("åç¨³äº†, ä¸‰è½®è½¦å‡†å¤‡å¯åŠ¨äº†~ å„ä½è¯„è®ºè§~ ğŸ˜‹")]),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("åœ¨å…¨å±€å¯¹è±¡ä¸­, æˆ‘ä»¬ä¸ä¸€å®šè¦å¯¹æ¯ä¸€ä¸ªå±æ€§éƒ½è¿›è¡Œä¾¦å¬, æ‰€ä»¥VXä¸»è¦çš„åŠŸèƒ½å°±æ˜¯é€šè¿‡setå»è®¾ç½®æŸä¸ªå…·ä½“å±æ€§çš„setter/getter, åŒæ—¶é€šè¿‡watchå‘æ·»åŠ è¯¥å±æ€§æ·»åŠ éœ€è¦è®¢é˜…çš„å›è°ƒå‡½æ•°.")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),a("p",[t._v("é€šè¿‡å¯¹definePropertyè¿›è¡Œä¸Šå±‚å°è£…, æˆ‘ä»¬å¯ä»¥è½»æ¾çš„å®ç°åœ¨å…¨å±€å¯¹è±¡ä¸Šè®¾ç½®å“åº”å¼å±æ€§åŠŸèƒ½, åœ¨æ­¤, æˆ‘ä»¬ç»“åˆåˆšæ‰å®šä¹‰çš„Depå¯¹è±¡, å°†ä¸€ä¸ªæ–°çš„depå®ä¾‹ç»‘å®šåˆ°æ–°å¢å±æ€§çš„setterä¸­:")]),t._v(" "),t._m(14),a("p",[t._v("æ¯å½“å¯¹åº”å±æ€§è¢«èµ‹å€¼, å°±ä¼šæ‰§è¡Œä¾èµ–æ•°ç»„ä¸­çš„å›è°ƒå‡½æ•°.")]),t._v(" "),a("p",[t._v("ä¸è¿‡è¿™æ ·è¿˜ä¸å¤Ÿ, æˆ‘ä»¬è¿˜å¾—æƒ³åŠæ³•è·å–åˆ°è¿™ä¸ªdepå®ä¾‹, æ‰èƒ½ç»™å®ƒçš„ä¾èµ–æ•°ç»„å¡«å……å‡½æ•°.")]),t._v(" "),a("p",[t._v("è¿™è¾¹æä¾›ä¸€ä¸ªå¾ˆç®€å•çš„æ€è·¯, å¹¶ä¸æ¨èå®è·µä¸­è¿™ä¹ˆåš:")]),t._v(" "),t._m(15),t._m(16),a("p",[t._v("è™½ç„¶ä»£ç èƒ½ä½¿ç”¨äº†, å°±æ˜¯æ˜¯çœ‹èµ·æ¥æ€ªæ€ªçš„~ ğŸ˜‹ æˆ‘ä»¬çš„ä¸‰è½®è½¦å¼€è¿›äº†å²”è·¯~")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),a("p",[t._v("<é»‘å®¢ä¸ç”»å®¶>ä¸€ä¹¦ä¸­æ›¾ç»æåˆ°è¿™æ ·ä¸€ä¸ªè§‚ç‚¹, æˆ‘æ·±æœ‰ä½“ä¼š:")]),t._v(" "),t._m(19),t._v(" "),a("p",[t._v("ä¸Šé¢çš„é‚£ä¸€ä¸²ä»£ç ä»…ä»…æ˜¯èƒ½è·‘é€šçš„æ°´å¹³, æˆ‘ä»¬éœ€è¦åŠ å…¥æ›´å¤šçš„ç»†èŠ‚å’Œæ€è€ƒ, æœ‰æ—¶å€™åªéœ€è¦åä¸‹æ¥ç¨å¾®çœ‹ä¸€ä¸‹ä»£ç , å°±ä¼šæœ‰å„ç§æƒ³æ³•è¹¦å‡ºæ¥:")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),a("p",[t._v("è¿™äº›å†…å®¹åº”å’Œå¤–éƒ¨æ˜¯è§£è€¦çš„. é¦–å…ˆä¸€ç‚¹, æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä¾¦å¬å™¨ç±», ç”¨äºå°è£…æˆ‘ä»¬ä¾¦å¬æ‰€ç”¨åˆ°çš„æ‰€æœ‰æ–¹æ³•, å®ƒåŒ…å«äº†æˆ‘ä»¬æƒ³è¦çš„å…¨å±€å¯¹è±¡ä»¥åŠæ“ä½œå®ƒçš„æ–¹æ³•(å¦‚watch,set):")]),t._v(" "),t._m(22),a("p",[t._v("æˆ‘ä»¬å¯ä»¥åœ¨watchä¸­ç»™å¯¹è±¡æŸä¸ªå±æ€§æ·»åŠ å›è°ƒ, å°±ä¸ç”¨å»ç›´æ¥æ“ä½œDepä¾èµ–æ•°ç»„äº†. åªæ˜¯, æˆ‘ä»¬åœ¨ä¸šåŠ¡ä»£ç ä¸­è°ƒç”¨watch, è¦æ€ä¹ˆå»è·å–obj.keyå¯¹åº”çš„depå‘¢?")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªå…¨å±€çš„depHandler, åœ¨obj.keyçš„getterä¸­ä¸»åŠ¨å°†depHandlerè®¾ç½®ä¸ºå½“å‰obj.keyçš„depå®ä¾‹, é‚£ä¹ˆæˆ‘ä»¬åœ¨watchå‡½æ•°é‡Œ, åªè¦ç”¨ä»»æ„æ“ä½œè§¦å‘obj.keyçš„getter, å°±èƒ½é€šè¿‡depHandlerå¾—åˆ°å®ƒçš„depå®ä¾‹äº†, ä»£ç å½¢å¦‚:")]),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç»å¸¸ç¢°åˆ°åœ¨å°ç¨‹åºä¸­ç”±Aé¡µé¢è·³è½¬åˆ°Bé¡µé¢, å¦‚æœBé¡µé¢è¿›è¡Œäº†ä¸€äº›æ“ä½œ, å¸Œæœ›Aé¡µé¢è‡ªåŠ¨åˆ·æ–°æ•°æ®çš„æƒ…å†µ. ä½†æ˜¯ç”±äºAé¡µé¢è·³è½¬åˆ°Bé¡µé¢ä¸åŒ(ä¹Ÿè®¸æ˜¯redirect,ä¹Ÿè®¸æ˜¯navigate), å¤„ç†æ–¹æ³•ä¹Ÿä¸å°½ç›¸åŒ.")]),t._v(" "),a("p",[t._v("ä½¿ç”¨navigateæ–¹å¼è·³è½¬å, Aé¡µé¢ä¸ä¼šè¢«æ³¨é”€, æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šé€šè¿‡å…¨å±€å¯¹è±¡å»è´®å­˜Aé¡µé¢å®ä¾‹(ä¹Ÿå°±æ˜¯Aé¡µé¢çš„thiså¯¹è±¡), ç„¶ååœ¨Bé¡µé¢ç›´æ¥è°ƒç”¨ç›¸åº”çš„æ–¹æ³•(å¦‚A.refreshList())è¿›è¡Œåˆ·æ–°æ“ä½œ.")]),t._v(" "),t._m(35),t._v(" "),t._m(36),t._m(37),t._v(" "),t._m(38),t._v(" "),a("p",[t._v("æœ‰çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›é€šè¿‡watchæ·»åŠ å‡½æ•°çš„åŒæ—¶è¿˜ç«‹å³æ‰§è¡Œè¯¥å‡½æ•°ä¸€æ¬¡, è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å†å®šä¹‰é¢å¤–çš„å‚æ•°ä¼ é€’åˆ°watchä¸­. é—®é¢˜æ˜¯è¿™ä¸ªå‡½æ•°ä¸ä¸€å®šæ˜¯åŒæ­¥å‡½æ•°.")]),t._v(" "),a("p",[t._v("ç®€å•å¤„ç†å¦‚ä¸‹:")]),t._v(" "),t._m(39),t._m(40),t._v(" "),a("p",[t._v("åœ¨æˆ‘åœ¨å¯¹VXè¿›è¡Œåˆ é™¤å±æ€§æ–¹æ³•çš„æ‰©å±•æ—¶, æˆ‘å¾€walkChainå‡½æ•°ä¸­æ·»åŠ äº†ä¸€ä¸ªæ‰§è¡Œå›è°ƒå‡½æ•°çš„æœºåˆ¶, å¹¶ä¸”åœ¨åˆ é™¤å±æ€§è¿™ä¸ªæ–¹æ³•ç›´æ¥è°ƒç”¨äº†walkChain:")]),t._v(" "),t._m(41),t._m(42),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),a("p",[t._v("åœ¨è¿™ç¯‡æ–‡ç« ä¸­, æˆ‘ä»¬é€šè¿‡å¯¹definePropertyè¿›è¡Œå°è£…, å®ç°äº†ä¸€ä¸ªç®€å•çš„å¯¹è±¡å±æ€§ä¾¦å¬å™¨çš„åŠŸèƒ½, ä»¥å¼¥è¡¥å°ç¨‹åºæ‰€æ²¡æœ‰çš„$watchèƒ½åŠ›. åœ¨æ­¤åŸºç¡€ä¸Š, å„ä½å¯ä»¥å†å¯¹VXè¿›è¡Œæ‰©å±•, æ›´æ–¹ä¾¿åœ°å»ä¹¦å†™ä¸šåŠ¡ä»£ç .")]),t._v(" "),a("p",[t._v("å®Œæ•´ä»£ç "),a("a",{attrs:{href:"https://github.com/Lionad-Morotar/media-gear/blob/master/src/renderer/utils/suites/vx/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Githubç›´è¾¾"),a("OutboundLink")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"ğŸš€150è¡Œä»£ç å¸¦ä½ å®ç°å°ç¨‹åºä¸­çš„æ•°æ®ä¾¦å¬"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€150è¡Œä»£ç å¸¦ä½ å®ç°å°ç¨‹åºä¸­çš„æ•°æ®ä¾¦å¬","aria-hidden":"true"}},[this._v("#")]),this._v(" ğŸš€150è¡Œä»£ç å¸¦ä½ å®ç°å°ç¨‹åºä¸­çš„æ•°æ®ä¾¦å¬")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€","aria-hidden":"true"}},[this._v("#")]),this._v(" å‰è¨€")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("åœ¨å°ç¨‹åºé¡¹ç›®ä¸­, æˆ‘ä»¬çš„é€šå¸¸ä¼šä½¿ç”¨åˆ°ä½¿ç”¨åˆ°ä¸€ä¸ªå…¨å±€å¯¹è±¡ä½œä¸ºå„ä¸ªé¡µé¢é€šç”¨çš„æ•°æ®å­˜å‚¨å®¹å™¨, å°†å®ƒç»‘å®šåˆ°appå¯¹è±¡å, å°±èƒ½åœ¨æ¯ä¸€ä¸ªé¡µé¢éƒ½è‡ªç”±çš„æ“çºµè¿™ä¸ªå¯¹è±¡. ç„¶è€Œåœ¨å®è·µä¸­, ç”±äºè¿™ä¸ªå¯¹è±¡åŠå…¶å±æ€§ä¸å…·å¤‡å“åº”å¼æ¡ä»¶, å®ƒä¸èƒ½ç›´æ¥å‚ä¸ä¸šåŠ¡é€»è¾‘çš„ç¼–å†™, èƒ½åŠ›ä»…ä»…å±€é™äºæ•°æ®å‚¨å­˜. è‹¥æ˜¯åœ¨VueJSé¡¹ç›®ä¸­, æˆ‘ä»¬å¯èƒ½ç»å¸¸ä½¿ç”¨åˆ°"),s("code",[this._v("Vue.$watch")]),this._v("å»ä¾¦å¬æŸä¸ªæ•°æ®æ˜¯å¦å‘ç”Ÿå˜åŒ–, å°ç¨‹åºå´ç¼ºä¹è¿™ç§èƒ½åŠ›.")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€ä¸ªå¿«é€Ÿèµ‹å€¼çš„è¯­æ³•ç³–å‡½æ•°, å¯ä»¥åˆ›å»ºç»“æ„ä¸º { value: a { b: { val: ''} } } çš„å¯¹è±¡")]),t._v("\nvx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value.a.d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹æŸä¸ªå±æ€§è¿›è¡Œä¾¦å¬, å¦‚æœå‘ç”Ÿæ”¹å˜, åˆ™æ‰§è¡Œç›¸åº”å‡½æ•°(å¯å¤šæ¬¡watchä»¥æ‰§è¡Œå¤šä¸ªå‡½æ•°)")]),t._v("\nvx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value.a.d.val'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`valæ”¹å˜ä¸º : `")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nvalue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// valæ”¹ç¼–ä¸º : 3")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä½¿ç”¨VXä¾¦å¬å™¨, æˆ‘ä»¬å¯ä»¥æ›´åŠ æ–¹ä¾¿çš„ç®¡ç†å„ä¸ªé¡µé¢çš„çŠ¶æ€. åŒæ—¶, æˆ‘ä»¬å‡­å€Ÿ"),s("code",[this._v("watch")]),this._v("è¯­æ³•, å¯ä»¥æ›´ä¼˜é›…åœ°ç¼–å†™ä¸šåŠ¡é€»è¾‘.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"ç¨å¾®ç†ä¸€ç†æ€è·¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¨å¾®ç†ä¸€ç†æ€è·¯","aria-hidden":"true"}},[this._v("#")]),this._v(" ç¨å¾®ç†ä¸€ç†æ€è·¯")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"ä¾èµ–å¯¹è±¡çš„å®ç°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–å¯¹è±¡çš„å®ç°","aria-hidden":"true"}},[this._v("#")]),this._v(" ä¾èµ–å¯¹è±¡çš„å®ç°")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦é€ ä¸€ä¸ªé€šç”¨çš„"),s("strong",[this._v("ä¾èµ–å¯¹è±¡")]),this._v(", ä¾èµ–å¯¹è±¡æºå¸¦ä¸€ä¸ªè®¢é˜…æ•°ç»„ç”¨äºå­˜æ”¾ä¸€ç»„å›è°ƒå‡½æ•°, åŒæ—¶å®ƒè¿˜åº”è¯¥åŒ…æ‹¬ä¸€äº›æ“ä½œè®¢é˜…æ•°ç»„èƒ½åŠ›(å¦‚æ·»åŠ è®¢é˜…, æ¸…ç©ºè®¢é˜…)çš„å‡½æ•°")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†å›è°ƒæ·»åŠ åˆ°æ•°ç»„ä¸­")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*...*/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("delSub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*...*/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸€é¡¹å‡½æ•°")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("func")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å…¨å±€å¯¹è±¡ä¸­æ¯ä¸€ä¸ªå“åº”å¼å±æ€§(åŠå…¶æ¯ä¸€ä¸ªå­å±æ€§), éƒ½åº”è¯¥å’Œä¸€ä¸ªæ–°çš„Depå®ä¾‹ä¿æŒä¸€ä¸€å¯¹åº”çš„å…³ç³», è¿™æ ·æˆ‘ä»¬è¿›è¡Œä¾¦å¬å˜åŒ–, æ‰§è¡Œè®¢é˜…çš„å›è°ƒå‡½æ•°æ—¶, åªéœ€è¦æ‰¾åˆ°å¯¹åº”çš„å®ä¾‹æ‰§è¡Œ"),s("code",[this._v("notify")]),this._v("é€šçŸ¥æ›´æ–°å³å¯.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"è®¾ç½®å“åº”å¼å±æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®å“åº”å¼å±æ€§","aria-hidden":"true"}},[this._v("#")]),this._v(" è®¾ç½®å“åº”å¼å±æ€§")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"defineproperty"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defineproperty","aria-hidden":"true"}},[this._v("#")]),this._v(" defineProperty")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å¯èƒ½æ˜¯å› ä¸ºæ¥è§¦DefinePropertyè¦æ¯”æ¥è§¦Proxyæ—©ä¸€äº›çš„ç¼˜æ•…, ä»£ç ä½¿ç”¨äº†å‰è€…è¿›è¡Œå“åº”å¼çš„å®ç°, Object.definePropertyæ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§, è¿™é‡Œå¿«é€Ÿè¿‡ä¸€é"),s("code",[this._v("defineProperty")]),this._v("å…·ä½“é…ç½®:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @param obj è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @param key è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°")]),t._v("\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯¥å±æ€§æ˜¯å¦èƒ½è¢«æšä¸¾")]),t._v("\n  enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯¥å±æ€§èƒ½å¦è¢«åˆ é™¤")]),t._v("\n  configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¿é—®è¯¥å±æ€§åˆ™ä¼šæ‰§è¡Œæ­¤æ–¹æ³•")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿®æ”¹è¯¥å±æ€§æ—¶ä¼šæ‰§è¡Œæ­¤æ–¹æ³•")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// value & writeble ä¸èƒ½å’Œ getter/setter åŒæ—¶å‡ºç°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v("set (key, val, options = {}, obj = this.store) {\n  const dep = new Dep()\n  Object.defineProperty(obj, key, {})\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+ return dep")]),this._v("\n}\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" valueDep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nvalueDep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value changed!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"é€šè¿‡watchæ·»åŠ è®¢é˜…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é€šè¿‡watchæ·»åŠ è®¢é˜…","aria-hidden":"true"}},[this._v("#")]),this._v(" é€šè¿‡watchæ·»åŠ è®¢é˜…")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"å–å£æ°´æˆ‘ä»¬ç»§ç»­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å–å£æ°´æˆ‘ä»¬ç»§ç»­","aria-hidden":"true"}},[this._v("#")]),this._v(" å–å£æ°´æˆ‘ä»¬ç»§ç»­")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("å¦‚æœä½ è§‰å¾—ä½ çš„ä»£ç å¥‡æ€ª, é‚£ä¹ˆå¾€å¾€å®ƒæ˜¯é”™çš„")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("æ„æ€è¿™ç§ä¸œè¥¿æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œé‚£å°±æ˜¯å®ƒä¼šå¯¼è‡´æ›´å¤šçš„æ„æ€ã€‚ä½ æœ‰æ²¡æœ‰æ³¨æ„è¿‡ï¼Œåä¸‹æ¥å†™ä¸œè¥¿çš„æ—¶å€™ï¼Œä¸€åŠçš„æ„æ€æ˜¯å†™ä½œæ—¶äº§ç”Ÿçš„ï¼Ÿ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"éšè—dep"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éšè—dep","aria-hidden":"true"}},[this._v("#")]),this._v(" éšè—Dep")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VX")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ // ä¸€å¼€å§‹æ²¡æœ‰æŒæœ‰depå®ä¾‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ let handleDep = null")]),t._v("\n  class VX {\n    watch (key, fn, obj = this.store) {\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     console.log(obj.key) // ä½¿ç”¨ä»»æ„æ“ä½œè§¦å‘obj.keyçš„getter, é‚£ä¹ˆhandleDepå°†è‡ªåŠ¨å¼•ç”¨obj.keyçš„depå®ä¾‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     handleDep.addSub(fn)")]),t._v("\n    }\n    set (key, val, options = {}, obj = this.store) {\n      const dep = new Dep()\n      Object.defineProperty(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => {\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         handleDep = dep")]),t._v("\n          return val\n        },\n        set: newVal => {}\n      })\n    }\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"ä¸»åŠ¨æ”¶é›†ä¾èµ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»åŠ¨æ”¶é›†ä¾èµ–","aria-hidden":"true"}},[this._v("#")]),this._v(" ä¸»åŠ¨æ”¶é›†ä¾èµ–")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("æˆ‘ä»¬å¢åŠ "),s("code",[this._v("handleDep.addSub(fn)")]),this._v("æ·»åŠ å›è°ƒå‡½æ•°çš„é€»è¾‘, å…¶å®å¯ä»¥ç›´æ¥æ”¾åˆ°getterä¸­, é¦–å…ˆåœ¨Depç±»ä¸­å°è£…ä¸€ä¸ª'ä¸»åŠ¨'æ”¶é›†ä¾èµ–çš„"),s("code",[this._v("collect")]),this._v("æ–¹æ³•, ä»–ä¼šå°†å…¨å±€"),s("code",[this._v("handleFn")]),this._v("å­˜æ”¾åˆ°è®¢é˜…æ•°ç»„ä¸­, è¿™æ ·ä¸€æ¥, åœ¨watchå‡½æ•°ä¸­, æˆ‘ä»¬åªè¦è§¦å‘obj.keyçš„getter, å°±å¯ä»¥ä¸»åŠ¨æ”¶é›†ä¾èµ–äº†:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" handleFn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("delSub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("collect")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handleFn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" handleDep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VX")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    handleFn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fn\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        handleDep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dep\n        handleDep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("collect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"å¤„ç†keyå€¼ä¸ºå¯¹è±¡é“¾çš„æƒ…å†µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤„ç†keyå€¼ä¸ºå¯¹è±¡é“¾çš„æƒ…å†µ","aria-hidden":"true"}},[this._v("#")]),this._v(" å¤„ç†keyå€¼ä¸ºå¯¹è±¡é“¾çš„æƒ…å†µ")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("åœ¨å…ˆå‰çš„watchå‡½æ•°ä¸­, æˆ‘ä»¬ä½¿ç”¨console.log(obj.key)å»è§¦å‘å¯¹åº”å±æ€§çš„getter, å¦‚æœæˆ‘ä»¬è°ƒç”¨æ–¹å¼æ˜¯"),s("code",[this._v("watch('a.b.c')")]),this._v("å°±æ— èƒ½ä¸ºåŠ›äº†. è¿™é‡Œæˆ‘ä»¬å°è£…ä¸€ä¸ªé€šç”¨æ–¹æ³•, ç”¨äºå¤„ç†å¯¹è±¡é“¾å­—ç¬¦ä¸²çš„å½¢å¼:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šè¿‡å°†å­—ç¬¦ä¸²'a.b'åˆ†å‰²ä¸º['a', 'b'], å†ä½¿ç”¨ä¸€ä¸ªwhileå¾ªç¯å°±å¯ä»¥èµ°å®Œè¿™ä¸ªå¯¹è±¡é“¾")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("walkChains")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" segments "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" deepObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("segments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    deepObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" deepObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("segments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shift")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VX")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    handleFn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fn\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("walkChains")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("åœ¨setæ–¹æ³•ä¸­å¤„ç†å¯¹è±¡é“¾å­—ç¬¦ä¸²ç¨å¾®æœ‰äº›ä¸åŒ, å› ä¸ºå¦‚æœ"),s("code",[this._v("set('a.b')")]),this._v("æ—¶, æ²¡æœ‰åœ¨æˆ‘ä»¬å…¨å±€å¯¹è±¡ä¸­æ‰¾åˆ°aå±æ€§, è¿™é‡Œåº”è¯¥æŠ›é”™.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å®é™…çš„å¤„ç†ä¸­, éœ€è¦æ¨æ–­'obj.a'ä»¥åŠ'obj.a.b'æ˜¯å¦å­˜åœ¨. å‡è®¾æ²¡æœ‰'obj.a', é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡, å¹¶ä¸”ç»™æ–°çš„å¯¹è±¡æ·»åŠ å±æ€§'b', æ‰€ä»¥ä»£ç ç±»ä¼¼"),s("code",[this._v("walkChains")]),this._v("å‡½æ•°, åªæ˜¯ç¨ä½œä¸€å±‚åˆ¤æ–­:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" segments "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œéœ€è¦æ³¨æ„, æˆ‘ä»¬åªå¤„ç†åˆ°å€’æ•°ç¬¬äºŒä¸ªå±æ€§")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("segments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handleKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" segments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shift")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handleVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("handleKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­˜åœ¨'obj.a'çš„æƒ…å†µ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" handleVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handleVal\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸å­˜åœ¨'obj.a'åˆ™ç»™aå±æ€§èµ‹ä¸€ä¸ªéå“åº”å¼çš„å¯¹è±¡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("handleVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handleKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("handleKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("handleKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("trace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'already has val'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœ€åä¸€ä¸ªå±æ€§è¦æ‰‹åŠ¨èµ‹å€¼")]),t._v("\n  key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" segments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"ä¸šåŠ¡åœºæ™¯åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸šåŠ¡åœºæ™¯åº”ç”¨","aria-hidden":"true"}},[this._v("#")]),this._v(" ä¸šåŠ¡åœºæ™¯åº”ç”¨")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"å°ç¨‹åºè·¨é¡µé¢åˆ·æ–°æ•°æ®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°ç¨‹åºè·¨é¡µé¢åˆ·æ–°æ•°æ®","aria-hidden":"true"}},[this._v("#")]),this._v(" å°ç¨‹åºè·¨é¡µé¢åˆ·æ–°æ•°æ®")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å¼•å…¥VXå, æˆ‘ä»¬å¯ä»¥åœ¨"),s("code",[this._v("onload")]),this._v("ç”Ÿå‘½å‘¨æœŸç›´æ¥è°ƒç”¨watchæ–¹æ³•æ·»åŠ è®¢é˜…:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VX")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/utils/suites/vx'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vx\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userType'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å•†æˆ·'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// page a")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userType'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("userType")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å•†æˆ·'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç®¡ç†å‘˜'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    immediate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// page b")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchUserType")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç®¡ç†å‘˜'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"å¯èƒ½é‡åˆ°çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯èƒ½é‡åˆ°çš„é—®é¢˜","aria-hidden":"true"}},[this._v("#")]),this._v(" å¯èƒ½é‡åˆ°çš„é—®é¢˜")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"ç»™watchæ–¹æ³•æ·»åŠ çš„å‡½æ•°è®¾ç½®ç«‹å³æ‰§è¡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»™watchæ–¹æ³•æ·»åŠ çš„å‡½æ•°è®¾ç½®ç«‹å³æ‰§è¡Œ","aria-hidden":"true"}},[this._v("#")]),this._v(" ç»™watchæ–¹æ³•æ·»åŠ çš„å‡½æ•°è®¾ç½®ç«‹å³æ‰§è¡Œ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VX")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" immediately"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    handleDep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fn\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("walkChains")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("immediately "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"thisç»‘å®šä¸¢å¤±é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#thisç»‘å®šä¸¢å¤±é—®é¢˜","aria-hidden":"true"}},[this._v("#")]),this._v(" thisç»‘å®šä¸¢å¤±é—®é¢˜")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+ function walkChains (key, obj, fn) {")]),this._v("\n    const segments = key.split('.')\n    let deepObj = obj\n    while (segments.length) {\n      deepObj = deepObj[segments.shift()]\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+     fn && fn()")]),this._v("\n    }\n  }\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("del")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("walkChains")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handleDep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clear"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å› ä¸ºhandleDep.clearå½“æˆå‚æ•°ä¼ é€’è¿›walkChainsä¸­ä¼š"),s("strong",[this._v("ä¸¢å¤±thisç»‘å®š")]),this._v(", æ‰€ä»¥ä¸Šé¢é‚£æ®µä»£ç å…¶å®æ˜¯æœ‰é—®é¢˜çš„, ä¸è¿‡ç¨ä½œä¿®æ”¹å°±å¥½äº†:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v("  del (key, obj = this.store) {\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+   walkChains(key, obj, () => handleDep.clear())")]),this._v("\n    delete obj[key]\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"åè¯­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åè¯­","aria-hidden":"true"}},[this._v("#")]),this._v(" åè¯­")])}],!1,null,null,null);s.default=e.exports}}]);