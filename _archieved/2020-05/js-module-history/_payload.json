[{"data":1,"prerenderedAt":3474},["Reactive",2],{"navigation":3,"/_archieved/2020-05/js-module-history":383,"/_archieved/2020-05/js-module-history-surround":3466},[4,32,80,96,123,129,135,366,372,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":42,"_path":43},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":45,"_path":46},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":48,"_path":49},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":51,"_path":52},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":54,"_path":55},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":57,"_path":58},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":60,"_path":61},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":63,"_path":64},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":66,"_path":67},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":69,"_path":70},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":72,"_path":73},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":75,"_path":76},"🚝 四十二篇系列","/articles/fourty-two",{"title":78,"_path":79},"📝 技术博客归档","/articles/fold",{"title":81,"_path":82,"children":83},"造物 / Make","/tools",[84,87,90,93],{"title":85,"_path":86},"🌐 AnySort","/tools/anysort",{"title":88,"_path":89},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":91,"_path":92},"👓 Crapto","/tools/crypto-inline",{"title":94,"_path":95},"🖨️ any-to-base64","/tools/any-to-base64",{"title":97,"_path":98,"children":99},"吉他剧场 / Music","/music",[100,102,105,108,111,114,117,120],{"title":101,"_path":98},"🎸 FingerStyle！",{"title":103,"_path":104},"🌬️ 等待的风","/music/wind",{"title":106,"_path":107},"💕 约定的海洋","/music/ocean",{"title":109,"_path":110},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":112,"_path":113},"🌏 残酷天使的行动纲领","/music/eva",{"title":115,"_path":116},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":118,"_path":119},"🍷 Wu Wei","/music/wu-wei",{"title":121,"_path":122},"🌅 无题","/music/untitled",{"title":124,"_path":125,"children":126},"画点什么 / Paint","/paint",[127],{"title":128,"_path":125},"🚧 正在施工",{"title":130,"_path":131,"children":132},"知识地图 / Maps","/maps",[133],{"title":134,"_path":131},"🏁 知识地图",{"title":136,"_path":137,"children":138},"零散的笔记 / Gists","/gists",[139,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363],{"title":140,"_path":137},"🧊 Gists",{"title":142,"_path":143},"网站的可访问性","/gists/accessibility",{"title":145,"_path":146},"图片模糊","/gists/blur",{"title":148,"_path":149},"渲染相关笔记","/gists/c4d",{"title":151,"_path":152},"CDN 问题记录","/gists/cdn",{"title":154,"_path":155},"消毒剂","/gists/cleaner",{"title":157,"_path":158},"Windows Command","/gists/cmd",{"title":160,"_path":161},"Command","/gists/command",{"title":163,"_path":164},"复杂科学","/gists/complexity-science",{"title":166,"_path":167},"宇宙","/gists/cosmos",{"title":169,"_path":170},"C++","/gists/cpp",{"title":172,"_path":173},"Data Structure","/gists/data-structure",{"title":175,"_path":176},"DEPRESSION","/gists/depression",{"title":178,"_path":179},"设计模式","/gists/design-patterns",{"title":181,"_path":182},"Developer Experience","/gists/developer-experience",{"title":184,"_path":185},"Device Metrics","/gists/device-metrix",{"title":187,"_path":188},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":190,"_path":191},"正则表达式","/gists/eegex",{"title":193,"_path":194},"Emoji","/gists/emoji",{"title":196,"_path":197},"工程","/gists/engineering",{"title":199,"_path":200},"熵","/gists/entropy",{"title":202,"_path":203},"Environment","/gists/environment",{"title":205,"_path":206},"Erlang","/gists/erlang",{"title":208,"_path":209},"逃离塔克夫","/gists/escape-from-tarkov",{"title":211,"_path":212},"ESNext (ES6-ES11)","/gists/esnext",{"title":214,"_path":215},"Eval！","/gists/eval",{"title":217,"_path":218},"Flutter","/gists/flutter",{"title":220,"_path":221},"字体","/gists/font",{"title":223,"_path":224},"JS 函数式编程","/gists/functional",{"title":226,"_path":227},"Google C++ Standard","/gists/google-cpp-standard",{"title":229,"_path":230},"双向链接完全体","/gists/graph",{"title":232,"_path":233},"Hardwares","/gists/hardwares",{"title":235,"_path":236},"哈希冲突","/gists/hash-collision",{"title":238,"_path":239},"信息设计","/gists/information-design",{"title":241,"_path":242},"InstantPage","/gists/instant.page",{"title":244,"_path":245},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":247,"_path":248},"KVStore","/gists/key-value-db",{"title":250,"_path":251},"Kubernetes","/gists/kubernetes",{"title":253,"_path":254},"Makefile","/gists/makefile",{"title":256,"_path":257},"Markdown Inline Style","/gists/markdown-nice",{"title":259,"_path":260},"小程序","/gists/miniapp",{"title":262,"_path":263},"减小页面快照体积","/gists/minify-html",{"title":265,"_path":266},"mklink","/gists/mklink",{"title":268,"_path":269},"Mock","/gists/mock",{"title":271,"_path":272},"多端应用","/gists/multy-end-app",{"title":274,"_path":275},"神经科学","/gists/neuroscience",{"title":277,"_path":278},"OO","/gists/oo",{"title":280,"_path":281},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":283,"_path":284},"人物","/gists/person",{"title":286,"_path":287},"PInvoke","/gists/pinvoke",{"title":289,"_path":290},"像素","/gists/pixel",{"title":292,"_path":293},"PowerShell","/gists/powershell",{"title":295,"_path":296},"量子","/gists/quantum",{"title":298,"_path":299},"保持好奇心","/gists/questions",{"title":301,"_path":302},"React Native","/gists/react-native",{"title":304,"_path":305},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":307,"_path":308},"SEO","/gists/seo",{"title":310,"_path":311},"Shader","/gists/shader",{"title":313,"_path":314},"Shape Up","/gists/shape-up",{"title":316,"_path":317},"睡觉","/gists/sleep",{"title":319,"_path":320},"States","/gists/states",{"title":322,"_path":323},"Storage","/gists/storage",{"title":325,"_path":326},"音视频流处理","/gists/stream-cli",{"title":328,"_path":329},"Symbol","/gists/symbol",{"title":331,"_path":332},"系统论","/gists/systems-theory",{"title":334,"_path":335},"Taro","/gists/taro",{"title":337,"_path":338},"任务切片","/gists/task-slice",{"title":340,"_path":341},"技术偏好","/gists/tech-dudge",{"title":343,"_path":344},"Untitled","/gists/untitled",{"title":346,"_path":347},"可变字体","/gists/variable-font",{"title":349,"_path":350},"视觉错觉","/gists/visual-illusion",{"title":352,"_path":353},"SS(SSR)","/gists/vpn",{"title":355,"_path":356},"VS Code 插件开发","/gists/vscode-plugin",{"title":358,"_path":359},"Web Components","/gists/web-components",{"title":361,"_path":362},"Windows","/gists/windows",{"title":364,"_path":365},"查缺补漏","/gists/wrong",{"title":367,"_path":368,"children":369},"代码笔记 / Gists","/source-code",[370],{"title":371,"_path":368},"🚄 代码笔记",{"title":373,"_path":374,"children":375},"我 / Abount","/hire",[376],{"title":377,"_path":374},"📬 技术简历",{"title":379,"_path":380,"children":381},"todo","/todo",[382],{"title":379,"_path":380},{"_path":384,"_dir":385,"_draft":386,"_partial":387,"_locale":388,"title":389,"description":388,"body":390,"_type":3461,"_id":3462,"_source":3463,"_file":3464,"_extension":3465},"/_archieved/2020-05/js-module-history","2020-05",false,true,"","JS 模块化简史",{"type":391,"children":392,"toc":3450},"root",[393,401,407,413,509,514,627,632,645,796,810,1291,1296,1301,1574,1579,1767,1772,1903,1908,1913,1933,1938,1943,1961,1966,2210,2215,2220,2361,2366,2615,2620,2971,2977,2990,3100,3105,3110,3123,3129,3134,3155,3161,3166,3172,3177,3189,3203,3215,3221,3330,3344,3349,3354,3359,3372,3377,3382,3444],{"type":394,"tag":395,"props":396,"children":398},"element","h2",{"id":397},"模块化的历史进程",[399],{"type":400,"value":397},"text",{"type":394,"tag":402,"props":403,"children":405},"h3",{"id":404},"模块模式",[406],{"type":400,"value":404},{"type":394,"tag":408,"props":409,"children":410},"p",{},[411],{"type":400,"value":412},"起初，我们写代码比较随意：",{"type":394,"tag":414,"props":415,"children":419},"pre",{"className":416,"code":417,"language":418,"meta":388,"style":388},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","function foo() {\n  //...\n}\nfunction bar() {\n  //...\n}\n","js",[420],{"type":394,"tag":421,"props":422,"children":423},"code",{"__ignoreMap":388},[424,453,463,472,493,501],{"type":394,"tag":425,"props":426,"children":429},"span",{"class":427,"line":428},"line",1,[430,436,442,448],{"type":394,"tag":425,"props":431,"children":433},{"style":432},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[434],{"type":400,"value":435},"function",{"type":394,"tag":425,"props":437,"children":439},{"style":438},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[440],{"type":400,"value":441}," foo",{"type":394,"tag":425,"props":443,"children":445},{"style":444},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[446],{"type":400,"value":447},"()",{"type":394,"tag":425,"props":449,"children":450},{"style":444},[451],{"type":400,"value":452}," {\n",{"type":394,"tag":425,"props":454,"children":456},{"class":427,"line":455},2,[457],{"type":394,"tag":425,"props":458,"children":460},{"style":459},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[461],{"type":400,"value":462},"  //...\n",{"type":394,"tag":425,"props":464,"children":466},{"class":427,"line":465},3,[467],{"type":394,"tag":425,"props":468,"children":469},{"style":444},[470],{"type":400,"value":471},"}\n",{"type":394,"tag":425,"props":473,"children":475},{"class":427,"line":474},4,[476,480,485,489],{"type":394,"tag":425,"props":477,"children":478},{"style":432},[479],{"type":400,"value":435},{"type":394,"tag":425,"props":481,"children":482},{"style":438},[483],{"type":400,"value":484}," bar",{"type":394,"tag":425,"props":486,"children":487},{"style":444},[488],{"type":400,"value":447},{"type":394,"tag":425,"props":490,"children":491},{"style":444},[492],{"type":400,"value":452},{"type":394,"tag":425,"props":494,"children":496},{"class":427,"line":495},5,[497],{"type":394,"tag":425,"props":498,"children":499},{"style":459},[500],{"type":400,"value":462},{"type":394,"tag":425,"props":502,"children":504},{"class":427,"line":503},6,[505],{"type":394,"tag":425,"props":506,"children":507},{"style":444},[508],{"type":400,"value":471},{"type":394,"tag":408,"props":510,"children":511},{},[512],{"type":400,"value":513},"这种写法容易和全局变量发生命名冲突问题，于是我们有了改进的写法：",{"type":394,"tag":414,"props":515,"children":517},{"className":416,"code":516,"language":418,"meta":388,"style":388},"var Utils = {\n  foo: function() {},\n  bar: function() {}\n}\nUtils.foo()\n",[518],{"type":394,"tag":421,"props":519,"children":520},{"__ignoreMap":388},[521,545,572,597,604],{"type":394,"tag":425,"props":522,"children":523},{"class":427,"line":428},[524,529,535,541],{"type":394,"tag":425,"props":525,"children":526},{"style":432},[527],{"type":400,"value":528},"var",{"type":394,"tag":425,"props":530,"children":532},{"style":531},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[533],{"type":400,"value":534}," Utils ",{"type":394,"tag":425,"props":536,"children":538},{"style":537},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[539],{"type":400,"value":540},"=",{"type":394,"tag":425,"props":542,"children":543},{"style":444},[544],{"type":400,"value":452},{"type":394,"tag":425,"props":546,"children":547},{"class":427,"line":455},[548,553,558,563,567],{"type":394,"tag":425,"props":549,"children":550},{"style":438},[551],{"type":400,"value":552},"  foo",{"type":394,"tag":425,"props":554,"children":555},{"style":444},[556],{"type":400,"value":557},":",{"type":394,"tag":425,"props":559,"children":560},{"style":432},[561],{"type":400,"value":562}," function",{"type":394,"tag":425,"props":564,"children":565},{"style":444},[566],{"type":400,"value":447},{"type":394,"tag":425,"props":568,"children":569},{"style":444},[570],{"type":400,"value":571}," {},\n",{"type":394,"tag":425,"props":573,"children":574},{"class":427,"line":465},[575,580,584,588,592],{"type":394,"tag":425,"props":576,"children":577},{"style":438},[578],{"type":400,"value":579},"  bar",{"type":394,"tag":425,"props":581,"children":582},{"style":444},[583],{"type":400,"value":557},{"type":394,"tag":425,"props":585,"children":586},{"style":432},[587],{"type":400,"value":562},{"type":394,"tag":425,"props":589,"children":590},{"style":444},[591],{"type":400,"value":447},{"type":394,"tag":425,"props":593,"children":594},{"style":444},[595],{"type":400,"value":596}," {}\n",{"type":394,"tag":425,"props":598,"children":599},{"class":427,"line":474},[600],{"type":394,"tag":425,"props":601,"children":602},{"style":444},[603],{"type":400,"value":471},{"type":394,"tag":425,"props":605,"children":606},{"class":427,"line":495},[607,612,617,622],{"type":394,"tag":425,"props":608,"children":609},{"style":531},[610],{"type":400,"value":611},"Utils",{"type":394,"tag":425,"props":613,"children":614},{"style":444},[615],{"type":400,"value":616},".",{"type":394,"tag":425,"props":618,"children":619},{"style":438},[620],{"type":400,"value":621},"foo",{"type":394,"tag":425,"props":623,"children":624},{"style":531},[625],{"type":400,"value":626},"()\n",{"type":394,"tag":408,"props":628,"children":629},{},[630],{"type":400,"value":631},"这种写法看似解决了命名冲突问题，其实也暗含了安全问题。我们可以在外部随意访问 Utils.foo 并对其进行修改。",{"type":394,"tag":408,"props":633,"children":634},{},[635,637,643],{"type":400,"value":636},"来看 jQuery，jQuery 通过 IIFE，使用",{"type":394,"tag":421,"props":638,"children":640},{"className":639},[],[641],{"type":400,"value":642},"引入全局变量",{"type":400,"value":644},"的方式解决了命名冲突及模块安全问题。",{"type":394,"tag":414,"props":646,"children":648},{"className":416,"code":647,"language":418,"meta":388,"style":388},";(function(window) {\n  const _privateFn = function() {\n    console.log('Aha, this is a private Fn')\n  }\n})(window)\n_privateFn // undefined\n",[649],{"type":394,"tag":421,"props":650,"children":651},{"__ignoreMap":388},[652,688,719,762,770,783],{"type":394,"tag":425,"props":653,"children":654},{"class":427,"line":428},[655,660,665,669,673,679,684],{"type":394,"tag":425,"props":656,"children":657},{"style":444},[658],{"type":400,"value":659},";",{"type":394,"tag":425,"props":661,"children":662},{"style":531},[663],{"type":400,"value":664},"(",{"type":394,"tag":425,"props":666,"children":667},{"style":432},[668],{"type":400,"value":435},{"type":394,"tag":425,"props":670,"children":671},{"style":444},[672],{"type":400,"value":664},{"type":394,"tag":425,"props":674,"children":676},{"style":675},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[677],{"type":400,"value":678},"window",{"type":394,"tag":425,"props":680,"children":681},{"style":444},[682],{"type":400,"value":683},")",{"type":394,"tag":425,"props":685,"children":686},{"style":444},[687],{"type":400,"value":452},{"type":394,"tag":425,"props":689,"children":690},{"class":427,"line":455},[691,696,702,707,711,715],{"type":394,"tag":425,"props":692,"children":693},{"style":432},[694],{"type":400,"value":695},"  const",{"type":394,"tag":425,"props":697,"children":699},{"style":698},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[700],{"type":400,"value":701}," _privateFn",{"type":394,"tag":425,"props":703,"children":704},{"style":537},[705],{"type":400,"value":706}," =",{"type":394,"tag":425,"props":708,"children":709},{"style":432},[710],{"type":400,"value":562},{"type":394,"tag":425,"props":712,"children":713},{"style":444},[714],{"type":400,"value":447},{"type":394,"tag":425,"props":716,"children":717},{"style":444},[718],{"type":400,"value":452},{"type":394,"tag":425,"props":720,"children":721},{"class":427,"line":465},[722,727,731,736,741,747,753,757],{"type":394,"tag":425,"props":723,"children":724},{"style":531},[725],{"type":400,"value":726},"    console",{"type":394,"tag":425,"props":728,"children":729},{"style":444},[730],{"type":400,"value":616},{"type":394,"tag":425,"props":732,"children":733},{"style":438},[734],{"type":400,"value":735},"log",{"type":394,"tag":425,"props":737,"children":739},{"style":738},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[740],{"type":400,"value":664},{"type":394,"tag":425,"props":742,"children":744},{"style":743},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[745],{"type":400,"value":746},"'",{"type":394,"tag":425,"props":748,"children":750},{"style":749},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[751],{"type":400,"value":752},"Aha, this is a private Fn",{"type":394,"tag":425,"props":754,"children":755},{"style":743},[756],{"type":400,"value":746},{"type":394,"tag":425,"props":758,"children":759},{"style":738},[760],{"type":400,"value":761},")\n",{"type":394,"tag":425,"props":763,"children":764},{"class":427,"line":474},[765],{"type":394,"tag":425,"props":766,"children":767},{"style":444},[768],{"type":400,"value":769},"  }\n",{"type":394,"tag":425,"props":771,"children":772},{"class":427,"line":495},[773,778],{"type":394,"tag":425,"props":774,"children":775},{"style":444},[776],{"type":400,"value":777},"}",{"type":394,"tag":425,"props":779,"children":780},{"style":531},[781],{"type":400,"value":782},")(window)\n",{"type":394,"tag":425,"props":784,"children":785},{"class":427,"line":503},[786,791],{"type":394,"tag":425,"props":787,"children":788},{"style":531},[789],{"type":400,"value":790},"_privateFn ",{"type":394,"tag":425,"props":792,"children":793},{"style":459},[794],{"type":400,"value":795},"// undefined\n",{"type":394,"tag":408,"props":797,"children":798},{},[799,808],{"type":394,"tag":800,"props":801,"children":805},"a",{"href":802,"rel":803},"https://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html",[804],"nofollow",[806],{"type":400,"value":807},"这篇博客",{"type":400,"value":809},"提到了如何解决状态私有问题：",{"type":394,"tag":414,"props":811,"children":813},{"className":416,"code":812,"language":418,"meta":388,"style":388},"var MODULE = (function(my) {\n  const _private = (my._private = my._private || {})\n  const _seal = (my._seal =\n    my._seal ||\n    function() {\n      delete my._private\n      delete my._seal\n      delete my._unseal\n    })\n  const _unseal = (my._unseal =\n    my._unseal ||\n    function() {\n      my._private = _private\n      my._seal = _seal\n      my._unseal = _unseal\n    })\n\n  return my\n})(MODULE || {})\n",[814],{"type":394,"tag":421,"props":815,"children":816},{"__ignoreMap":388},[817,860,924,962,983,999,1020,1041,1062,1075,1113,1133,1149,1175,1200,1225,1237,1246,1261],{"type":394,"tag":425,"props":818,"children":819},{"class":427,"line":428},[820,824,830,834,839,843,847,852,856],{"type":394,"tag":425,"props":821,"children":822},{"style":432},[823],{"type":400,"value":528},{"type":394,"tag":425,"props":825,"children":827},{"style":826},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[828],{"type":400,"value":829}," MODULE",{"type":394,"tag":425,"props":831,"children":832},{"style":537},[833],{"type":400,"value":706},{"type":394,"tag":425,"props":835,"children":836},{"style":531},[837],{"type":400,"value":838}," (",{"type":394,"tag":425,"props":840,"children":841},{"style":432},[842],{"type":400,"value":435},{"type":394,"tag":425,"props":844,"children":845},{"style":444},[846],{"type":400,"value":664},{"type":394,"tag":425,"props":848,"children":849},{"style":675},[850],{"type":400,"value":851},"my",{"type":394,"tag":425,"props":853,"children":854},{"style":444},[855],{"type":400,"value":683},{"type":394,"tag":425,"props":857,"children":858},{"style":444},[859],{"type":400,"value":452},{"type":394,"tag":425,"props":861,"children":862},{"class":427,"line":455},[863,867,872,876,880,884,888,893,897,902,906,910,915,920],{"type":394,"tag":425,"props":864,"children":865},{"style":432},[866],{"type":400,"value":695},{"type":394,"tag":425,"props":868,"children":869},{"style":826},[870],{"type":400,"value":871}," _private",{"type":394,"tag":425,"props":873,"children":874},{"style":537},[875],{"type":400,"value":706},{"type":394,"tag":425,"props":877,"children":878},{"style":738},[879],{"type":400,"value":838},{"type":394,"tag":425,"props":881,"children":882},{"style":531},[883],{"type":400,"value":851},{"type":394,"tag":425,"props":885,"children":886},{"style":444},[887],{"type":400,"value":616},{"type":394,"tag":425,"props":889,"children":890},{"style":531},[891],{"type":400,"value":892},"_private",{"type":394,"tag":425,"props":894,"children":895},{"style":537},[896],{"type":400,"value":706},{"type":394,"tag":425,"props":898,"children":899},{"style":531},[900],{"type":400,"value":901}," my",{"type":394,"tag":425,"props":903,"children":904},{"style":444},[905],{"type":400,"value":616},{"type":394,"tag":425,"props":907,"children":908},{"style":531},[909],{"type":400,"value":892},{"type":394,"tag":425,"props":911,"children":912},{"style":537},[913],{"type":400,"value":914}," ||",{"type":394,"tag":425,"props":916,"children":917},{"style":444},[918],{"type":400,"value":919}," {}",{"type":394,"tag":425,"props":921,"children":922},{"style":738},[923],{"type":400,"value":761},{"type":394,"tag":425,"props":925,"children":926},{"class":427,"line":465},[927,931,936,940,944,948,952,957],{"type":394,"tag":425,"props":928,"children":929},{"style":432},[930],{"type":400,"value":695},{"type":394,"tag":425,"props":932,"children":933},{"style":826},[934],{"type":400,"value":935}," _seal",{"type":394,"tag":425,"props":937,"children":938},{"style":537},[939],{"type":400,"value":706},{"type":394,"tag":425,"props":941,"children":942},{"style":738},[943],{"type":400,"value":838},{"type":394,"tag":425,"props":945,"children":946},{"style":531},[947],{"type":400,"value":851},{"type":394,"tag":425,"props":949,"children":950},{"style":444},[951],{"type":400,"value":616},{"type":394,"tag":425,"props":953,"children":954},{"style":531},[955],{"type":400,"value":956},"_seal",{"type":394,"tag":425,"props":958,"children":959},{"style":537},[960],{"type":400,"value":961}," =\n",{"type":394,"tag":425,"props":963,"children":964},{"class":427,"line":474},[965,970,974,978],{"type":394,"tag":425,"props":966,"children":967},{"style":531},[968],{"type":400,"value":969},"    my",{"type":394,"tag":425,"props":971,"children":972},{"style":444},[973],{"type":400,"value":616},{"type":394,"tag":425,"props":975,"children":976},{"style":531},[977],{"type":400,"value":956},{"type":394,"tag":425,"props":979,"children":980},{"style":537},[981],{"type":400,"value":982}," ||\n",{"type":394,"tag":425,"props":984,"children":985},{"class":427,"line":495},[986,991,995],{"type":394,"tag":425,"props":987,"children":988},{"style":432},[989],{"type":400,"value":990},"    function",{"type":394,"tag":425,"props":992,"children":993},{"style":444},[994],{"type":400,"value":447},{"type":394,"tag":425,"props":996,"children":997},{"style":444},[998],{"type":400,"value":452},{"type":394,"tag":425,"props":1000,"children":1001},{"class":427,"line":503},[1002,1007,1011,1015],{"type":394,"tag":425,"props":1003,"children":1004},{"style":537},[1005],{"type":400,"value":1006},"      delete",{"type":394,"tag":425,"props":1008,"children":1009},{"style":531},[1010],{"type":400,"value":901},{"type":394,"tag":425,"props":1012,"children":1013},{"style":444},[1014],{"type":400,"value":616},{"type":394,"tag":425,"props":1016,"children":1017},{"style":531},[1018],{"type":400,"value":1019},"_private\n",{"type":394,"tag":425,"props":1021,"children":1023},{"class":427,"line":1022},7,[1024,1028,1032,1036],{"type":394,"tag":425,"props":1025,"children":1026},{"style":537},[1027],{"type":400,"value":1006},{"type":394,"tag":425,"props":1029,"children":1030},{"style":531},[1031],{"type":400,"value":901},{"type":394,"tag":425,"props":1033,"children":1034},{"style":444},[1035],{"type":400,"value":616},{"type":394,"tag":425,"props":1037,"children":1038},{"style":531},[1039],{"type":400,"value":1040},"_seal\n",{"type":394,"tag":425,"props":1042,"children":1044},{"class":427,"line":1043},8,[1045,1049,1053,1057],{"type":394,"tag":425,"props":1046,"children":1047},{"style":537},[1048],{"type":400,"value":1006},{"type":394,"tag":425,"props":1050,"children":1051},{"style":531},[1052],{"type":400,"value":901},{"type":394,"tag":425,"props":1054,"children":1055},{"style":444},[1056],{"type":400,"value":616},{"type":394,"tag":425,"props":1058,"children":1059},{"style":531},[1060],{"type":400,"value":1061},"_unseal\n",{"type":394,"tag":425,"props":1063,"children":1065},{"class":427,"line":1064},9,[1066,1071],{"type":394,"tag":425,"props":1067,"children":1068},{"style":444},[1069],{"type":400,"value":1070},"    }",{"type":394,"tag":425,"props":1072,"children":1073},{"style":738},[1074],{"type":400,"value":761},{"type":394,"tag":425,"props":1076,"children":1078},{"class":427,"line":1077},10,[1079,1083,1088,1092,1096,1100,1104,1109],{"type":394,"tag":425,"props":1080,"children":1081},{"style":432},[1082],{"type":400,"value":695},{"type":394,"tag":425,"props":1084,"children":1085},{"style":826},[1086],{"type":400,"value":1087}," _unseal",{"type":394,"tag":425,"props":1089,"children":1090},{"style":537},[1091],{"type":400,"value":706},{"type":394,"tag":425,"props":1093,"children":1094},{"style":738},[1095],{"type":400,"value":838},{"type":394,"tag":425,"props":1097,"children":1098},{"style":531},[1099],{"type":400,"value":851},{"type":394,"tag":425,"props":1101,"children":1102},{"style":444},[1103],{"type":400,"value":616},{"type":394,"tag":425,"props":1105,"children":1106},{"style":531},[1107],{"type":400,"value":1108},"_unseal",{"type":394,"tag":425,"props":1110,"children":1111},{"style":537},[1112],{"type":400,"value":961},{"type":394,"tag":425,"props":1114,"children":1116},{"class":427,"line":1115},11,[1117,1121,1125,1129],{"type":394,"tag":425,"props":1118,"children":1119},{"style":531},[1120],{"type":400,"value":969},{"type":394,"tag":425,"props":1122,"children":1123},{"style":444},[1124],{"type":400,"value":616},{"type":394,"tag":425,"props":1126,"children":1127},{"style":531},[1128],{"type":400,"value":1108},{"type":394,"tag":425,"props":1130,"children":1131},{"style":537},[1132],{"type":400,"value":982},{"type":394,"tag":425,"props":1134,"children":1136},{"class":427,"line":1135},12,[1137,1141,1145],{"type":394,"tag":425,"props":1138,"children":1139},{"style":432},[1140],{"type":400,"value":990},{"type":394,"tag":425,"props":1142,"children":1143},{"style":444},[1144],{"type":400,"value":447},{"type":394,"tag":425,"props":1146,"children":1147},{"style":444},[1148],{"type":400,"value":452},{"type":394,"tag":425,"props":1150,"children":1152},{"class":427,"line":1151},13,[1153,1158,1162,1166,1170],{"type":394,"tag":425,"props":1154,"children":1155},{"style":531},[1156],{"type":400,"value":1157},"      my",{"type":394,"tag":425,"props":1159,"children":1160},{"style":444},[1161],{"type":400,"value":616},{"type":394,"tag":425,"props":1163,"children":1164},{"style":531},[1165],{"type":400,"value":892},{"type":394,"tag":425,"props":1167,"children":1168},{"style":537},[1169],{"type":400,"value":706},{"type":394,"tag":425,"props":1171,"children":1172},{"style":531},[1173],{"type":400,"value":1174}," _private\n",{"type":394,"tag":425,"props":1176,"children":1178},{"class":427,"line":1177},14,[1179,1183,1187,1191,1195],{"type":394,"tag":425,"props":1180,"children":1181},{"style":531},[1182],{"type":400,"value":1157},{"type":394,"tag":425,"props":1184,"children":1185},{"style":444},[1186],{"type":400,"value":616},{"type":394,"tag":425,"props":1188,"children":1189},{"style":531},[1190],{"type":400,"value":956},{"type":394,"tag":425,"props":1192,"children":1193},{"style":537},[1194],{"type":400,"value":706},{"type":394,"tag":425,"props":1196,"children":1197},{"style":531},[1198],{"type":400,"value":1199}," _seal\n",{"type":394,"tag":425,"props":1201,"children":1203},{"class":427,"line":1202},15,[1204,1208,1212,1216,1220],{"type":394,"tag":425,"props":1205,"children":1206},{"style":531},[1207],{"type":400,"value":1157},{"type":394,"tag":425,"props":1209,"children":1210},{"style":444},[1211],{"type":400,"value":616},{"type":394,"tag":425,"props":1213,"children":1214},{"style":531},[1215],{"type":400,"value":1108},{"type":394,"tag":425,"props":1217,"children":1218},{"style":537},[1219],{"type":400,"value":706},{"type":394,"tag":425,"props":1221,"children":1222},{"style":531},[1223],{"type":400,"value":1224}," _unseal\n",{"type":394,"tag":425,"props":1226,"children":1228},{"class":427,"line":1227},16,[1229,1233],{"type":394,"tag":425,"props":1230,"children":1231},{"style":444},[1232],{"type":400,"value":1070},{"type":394,"tag":425,"props":1234,"children":1235},{"style":738},[1236],{"type":400,"value":761},{"type":394,"tag":425,"props":1238,"children":1240},{"class":427,"line":1239},17,[1241],{"type":394,"tag":425,"props":1242,"children":1243},{"emptyLinePlaceholder":387},[1244],{"type":400,"value":1245},"\n",{"type":394,"tag":425,"props":1247,"children":1249},{"class":427,"line":1248},18,[1250,1256],{"type":394,"tag":425,"props":1251,"children":1253},{"style":1252},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[1254],{"type":400,"value":1255},"  return",{"type":394,"tag":425,"props":1257,"children":1258},{"style":531},[1259],{"type":400,"value":1260}," my\n",{"type":394,"tag":425,"props":1262,"children":1264},{"class":427,"line":1263},19,[1265,1269,1274,1279,1283,1287],{"type":394,"tag":425,"props":1266,"children":1267},{"style":444},[1268],{"type":400,"value":777},{"type":394,"tag":425,"props":1270,"children":1271},{"style":531},[1272],{"type":400,"value":1273},")(",{"type":394,"tag":425,"props":1275,"children":1276},{"style":826},[1277],{"type":400,"value":1278},"MODULE",{"type":394,"tag":425,"props":1280,"children":1281},{"style":537},[1282],{"type":400,"value":914},{"type":394,"tag":425,"props":1284,"children":1285},{"style":444},[1286],{"type":400,"value":919},{"type":394,"tag":425,"props":1288,"children":1289},{"style":531},[1290],{"type":400,"value":761},{"type":394,"tag":402,"props":1292,"children":1294},{"id":1293},"模块加载",[1295],{"type":400,"value":1293},{"type":394,"tag":408,"props":1297,"children":1298},{},[1299],{"type":400,"value":1300},"起初，我们这样组织代码：",{"type":394,"tag":414,"props":1302,"children":1304},{"className":416,"code":1303,"language":418,"meta":388,"style":388},"\u003Cscript type=\"text/javascript\" src=\"module1.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module2.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module3.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module4.js\">\u003C/script>\n",[1305],{"type":394,"tag":421,"props":1306,"children":1307},{"__ignoreMap":388},[1308,1382,1446,1510],{"type":394,"tag":425,"props":1309,"children":1310},{"class":427,"line":428},[1311,1316,1322,1328,1332,1337,1342,1346,1351,1355,1359,1364,1368,1373,1377],{"type":394,"tag":425,"props":1312,"children":1313},{"style":444},[1314],{"type":400,"value":1315},"\u003C",{"type":394,"tag":425,"props":1317,"children":1319},{"style":1318},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1320],{"type":400,"value":1321},"script",{"type":394,"tag":425,"props":1323,"children":1325},{"style":1324},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1326],{"type":400,"value":1327}," type",{"type":394,"tag":425,"props":1329,"children":1330},{"style":537},[1331],{"type":400,"value":540},{"type":394,"tag":425,"props":1333,"children":1334},{"style":743},[1335],{"type":400,"value":1336},"\"",{"type":394,"tag":425,"props":1338,"children":1339},{"style":749},[1340],{"type":400,"value":1341},"text/javascript",{"type":394,"tag":425,"props":1343,"children":1344},{"style":743},[1345],{"type":400,"value":1336},{"type":394,"tag":425,"props":1347,"children":1348},{"style":1324},[1349],{"type":400,"value":1350}," src",{"type":394,"tag":425,"props":1352,"children":1353},{"style":537},[1354],{"type":400,"value":540},{"type":394,"tag":425,"props":1356,"children":1357},{"style":743},[1358],{"type":400,"value":1336},{"type":394,"tag":425,"props":1360,"children":1361},{"style":749},[1362],{"type":400,"value":1363},"module1.js",{"type":394,"tag":425,"props":1365,"children":1366},{"style":743},[1367],{"type":400,"value":1336},{"type":394,"tag":425,"props":1369,"children":1370},{"style":444},[1371],{"type":400,"value":1372},">\u003C/",{"type":394,"tag":425,"props":1374,"children":1375},{"style":1318},[1376],{"type":400,"value":1321},{"type":394,"tag":425,"props":1378,"children":1379},{"style":444},[1380],{"type":400,"value":1381},">\n",{"type":394,"tag":425,"props":1383,"children":1384},{"class":427,"line":455},[1385,1389,1393,1397,1401,1405,1409,1413,1417,1421,1425,1430,1434,1438,1442],{"type":394,"tag":425,"props":1386,"children":1387},{"style":444},[1388],{"type":400,"value":1315},{"type":394,"tag":425,"props":1390,"children":1391},{"style":1318},[1392],{"type":400,"value":1321},{"type":394,"tag":425,"props":1394,"children":1395},{"style":1324},[1396],{"type":400,"value":1327},{"type":394,"tag":425,"props":1398,"children":1399},{"style":537},[1400],{"type":400,"value":540},{"type":394,"tag":425,"props":1402,"children":1403},{"style":743},[1404],{"type":400,"value":1336},{"type":394,"tag":425,"props":1406,"children":1407},{"style":749},[1408],{"type":400,"value":1341},{"type":394,"tag":425,"props":1410,"children":1411},{"style":743},[1412],{"type":400,"value":1336},{"type":394,"tag":425,"props":1414,"children":1415},{"style":1324},[1416],{"type":400,"value":1350},{"type":394,"tag":425,"props":1418,"children":1419},{"style":537},[1420],{"type":400,"value":540},{"type":394,"tag":425,"props":1422,"children":1423},{"style":743},[1424],{"type":400,"value":1336},{"type":394,"tag":425,"props":1426,"children":1427},{"style":749},[1428],{"type":400,"value":1429},"module2.js",{"type":394,"tag":425,"props":1431,"children":1432},{"style":743},[1433],{"type":400,"value":1336},{"type":394,"tag":425,"props":1435,"children":1436},{"style":444},[1437],{"type":400,"value":1372},{"type":394,"tag":425,"props":1439,"children":1440},{"style":1318},[1441],{"type":400,"value":1321},{"type":394,"tag":425,"props":1443,"children":1444},{"style":444},[1445],{"type":400,"value":1381},{"type":394,"tag":425,"props":1447,"children":1448},{"class":427,"line":465},[1449,1453,1457,1461,1465,1469,1473,1477,1481,1485,1489,1494,1498,1502,1506],{"type":394,"tag":425,"props":1450,"children":1451},{"style":444},[1452],{"type":400,"value":1315},{"type":394,"tag":425,"props":1454,"children":1455},{"style":1318},[1456],{"type":400,"value":1321},{"type":394,"tag":425,"props":1458,"children":1459},{"style":1324},[1460],{"type":400,"value":1327},{"type":394,"tag":425,"props":1462,"children":1463},{"style":537},[1464],{"type":400,"value":540},{"type":394,"tag":425,"props":1466,"children":1467},{"style":743},[1468],{"type":400,"value":1336},{"type":394,"tag":425,"props":1470,"children":1471},{"style":749},[1472],{"type":400,"value":1341},{"type":394,"tag":425,"props":1474,"children":1475},{"style":743},[1476],{"type":400,"value":1336},{"type":394,"tag":425,"props":1478,"children":1479},{"style":1324},[1480],{"type":400,"value":1350},{"type":394,"tag":425,"props":1482,"children":1483},{"style":537},[1484],{"type":400,"value":540},{"type":394,"tag":425,"props":1486,"children":1487},{"style":743},[1488],{"type":400,"value":1336},{"type":394,"tag":425,"props":1490,"children":1491},{"style":749},[1492],{"type":400,"value":1493},"module3.js",{"type":394,"tag":425,"props":1495,"children":1496},{"style":743},[1497],{"type":400,"value":1336},{"type":394,"tag":425,"props":1499,"children":1500},{"style":444},[1501],{"type":400,"value":1372},{"type":394,"tag":425,"props":1503,"children":1504},{"style":1318},[1505],{"type":400,"value":1321},{"type":394,"tag":425,"props":1507,"children":1508},{"style":444},[1509],{"type":400,"value":1381},{"type":394,"tag":425,"props":1511,"children":1512},{"class":427,"line":474},[1513,1517,1521,1525,1529,1533,1537,1541,1545,1549,1553,1558,1562,1566,1570],{"type":394,"tag":425,"props":1514,"children":1515},{"style":444},[1516],{"type":400,"value":1315},{"type":394,"tag":425,"props":1518,"children":1519},{"style":1318},[1520],{"type":400,"value":1321},{"type":394,"tag":425,"props":1522,"children":1523},{"style":1324},[1524],{"type":400,"value":1327},{"type":394,"tag":425,"props":1526,"children":1527},{"style":537},[1528],{"type":400,"value":540},{"type":394,"tag":425,"props":1530,"children":1531},{"style":743},[1532],{"type":400,"value":1336},{"type":394,"tag":425,"props":1534,"children":1535},{"style":749},[1536],{"type":400,"value":1341},{"type":394,"tag":425,"props":1538,"children":1539},{"style":743},[1540],{"type":400,"value":1336},{"type":394,"tag":425,"props":1542,"children":1543},{"style":1324},[1544],{"type":400,"value":1350},{"type":394,"tag":425,"props":1546,"children":1547},{"style":537},[1548],{"type":400,"value":540},{"type":394,"tag":425,"props":1550,"children":1551},{"style":743},[1552],{"type":400,"value":1336},{"type":394,"tag":425,"props":1554,"children":1555},{"style":749},[1556],{"type":400,"value":1557},"module4.js",{"type":394,"tag":425,"props":1559,"children":1560},{"style":743},[1561],{"type":400,"value":1336},{"type":394,"tag":425,"props":1563,"children":1564},{"style":444},[1565],{"type":400,"value":1372},{"type":394,"tag":425,"props":1567,"children":1568},{"style":1318},[1569],{"type":400,"value":1321},{"type":394,"tag":425,"props":1571,"children":1572},{"style":444},[1573],{"type":400,"value":1381},{"type":394,"tag":408,"props":1575,"children":1576},{},[1577],{"type":400,"value":1578},"YUI3、KISSY 主要是通过配置的方式来解决文件依赖的问题。",{"type":394,"tag":414,"props":1580,"children":1582},{"className":416,"code":1581,"language":418,"meta":388,"style":388},"YUI.add(\n  'module1',\n  function(Y) {\n    // ...\n  },\n  '0.0.1',\n  {\n    requires: ['node', 'event']\n  }\n)\n",[1583],{"type":394,"tag":421,"props":1584,"children":1585},{"__ignoreMap":388},[1586,1608,1630,1655,1663,1671,1691,1699,1753,1760],{"type":394,"tag":425,"props":1587,"children":1588},{"class":427,"line":428},[1589,1594,1598,1603],{"type":394,"tag":425,"props":1590,"children":1591},{"style":826},[1592],{"type":400,"value":1593},"YUI",{"type":394,"tag":425,"props":1595,"children":1596},{"style":444},[1597],{"type":400,"value":616},{"type":394,"tag":425,"props":1599,"children":1600},{"style":438},[1601],{"type":400,"value":1602},"add",{"type":394,"tag":425,"props":1604,"children":1605},{"style":531},[1606],{"type":400,"value":1607},"(\n",{"type":394,"tag":425,"props":1609,"children":1610},{"class":427,"line":455},[1611,1616,1621,1625],{"type":394,"tag":425,"props":1612,"children":1613},{"style":743},[1614],{"type":400,"value":1615},"  '",{"type":394,"tag":425,"props":1617,"children":1618},{"style":749},[1619],{"type":400,"value":1620},"module1",{"type":394,"tag":425,"props":1622,"children":1623},{"style":743},[1624],{"type":400,"value":746},{"type":394,"tag":425,"props":1626,"children":1627},{"style":444},[1628],{"type":400,"value":1629},",\n",{"type":394,"tag":425,"props":1631,"children":1632},{"class":427,"line":465},[1633,1638,1642,1647,1651],{"type":394,"tag":425,"props":1634,"children":1635},{"style":432},[1636],{"type":400,"value":1637},"  function",{"type":394,"tag":425,"props":1639,"children":1640},{"style":444},[1641],{"type":400,"value":664},{"type":394,"tag":425,"props":1643,"children":1644},{"style":675},[1645],{"type":400,"value":1646},"Y",{"type":394,"tag":425,"props":1648,"children":1649},{"style":444},[1650],{"type":400,"value":683},{"type":394,"tag":425,"props":1652,"children":1653},{"style":444},[1654],{"type":400,"value":452},{"type":394,"tag":425,"props":1656,"children":1657},{"class":427,"line":474},[1658],{"type":394,"tag":425,"props":1659,"children":1660},{"style":459},[1661],{"type":400,"value":1662},"    // ...\n",{"type":394,"tag":425,"props":1664,"children":1665},{"class":427,"line":495},[1666],{"type":394,"tag":425,"props":1667,"children":1668},{"style":444},[1669],{"type":400,"value":1670},"  },\n",{"type":394,"tag":425,"props":1672,"children":1673},{"class":427,"line":503},[1674,1678,1683,1687],{"type":394,"tag":425,"props":1675,"children":1676},{"style":743},[1677],{"type":400,"value":1615},{"type":394,"tag":425,"props":1679,"children":1680},{"style":749},[1681],{"type":400,"value":1682},"0.0.1",{"type":394,"tag":425,"props":1684,"children":1685},{"style":743},[1686],{"type":400,"value":746},{"type":394,"tag":425,"props":1688,"children":1689},{"style":444},[1690],{"type":400,"value":1629},{"type":394,"tag":425,"props":1692,"children":1693},{"class":427,"line":1022},[1694],{"type":394,"tag":425,"props":1695,"children":1696},{"style":444},[1697],{"type":400,"value":1698},"  {\n",{"type":394,"tag":425,"props":1700,"children":1701},{"class":427,"line":1043},[1702,1707,1711,1716,1720,1725,1729,1734,1739,1744,1748],{"type":394,"tag":425,"props":1703,"children":1704},{"style":738},[1705],{"type":400,"value":1706},"    requires",{"type":394,"tag":425,"props":1708,"children":1709},{"style":444},[1710],{"type":400,"value":557},{"type":394,"tag":425,"props":1712,"children":1713},{"style":531},[1714],{"type":400,"value":1715}," [",{"type":394,"tag":425,"props":1717,"children":1718},{"style":743},[1719],{"type":400,"value":746},{"type":394,"tag":425,"props":1721,"children":1722},{"style":749},[1723],{"type":400,"value":1724},"node",{"type":394,"tag":425,"props":1726,"children":1727},{"style":743},[1728],{"type":400,"value":746},{"type":394,"tag":425,"props":1730,"children":1731},{"style":444},[1732],{"type":400,"value":1733},",",{"type":394,"tag":425,"props":1735,"children":1736},{"style":743},[1737],{"type":400,"value":1738}," '",{"type":394,"tag":425,"props":1740,"children":1741},{"style":749},[1742],{"type":400,"value":1743},"event",{"type":394,"tag":425,"props":1745,"children":1746},{"style":743},[1747],{"type":400,"value":746},{"type":394,"tag":425,"props":1749,"children":1750},{"style":531},[1751],{"type":400,"value":1752},"]\n",{"type":394,"tag":425,"props":1754,"children":1755},{"class":427,"line":1064},[1756],{"type":394,"tag":425,"props":1757,"children":1758},{"style":444},[1759],{"type":400,"value":769},{"type":394,"tag":425,"props":1761,"children":1762},{"class":427,"line":1077},[1763],{"type":394,"tag":425,"props":1764,"children":1765},{"style":531},[1766],{"type":400,"value":761},{"type":394,"tag":408,"props":1768,"children":1769},{},[1770],{"type":400,"value":1771},"但是也带来了命名空间冲突的问题。",{"type":394,"tag":414,"props":1773,"children":1775},{"className":416,"code":1774,"language":418,"meta":388,"style":388},"YUI().use('a', 'b', function(Y) {\n  Y.foo()\n  // foo 方法究竟是模块 a 还是 b 提供的？\n  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n})\n",[1776],{"type":394,"tag":421,"props":1777,"children":1778},{"__ignoreMap":388},[1779,1856,1876,1884,1892],{"type":394,"tag":425,"props":1780,"children":1781},{"class":427,"line":428},[1782,1786,1790,1794,1799,1803,1807,1811,1815,1819,1823,1828,1832,1836,1840,1844,1848,1852],{"type":394,"tag":425,"props":1783,"children":1784},{"style":438},[1785],{"type":400,"value":1593},{"type":394,"tag":425,"props":1787,"children":1788},{"style":531},[1789],{"type":400,"value":447},{"type":394,"tag":425,"props":1791,"children":1792},{"style":444},[1793],{"type":400,"value":616},{"type":394,"tag":425,"props":1795,"children":1796},{"style":438},[1797],{"type":400,"value":1798},"use",{"type":394,"tag":425,"props":1800,"children":1801},{"style":531},[1802],{"type":400,"value":664},{"type":394,"tag":425,"props":1804,"children":1805},{"style":743},[1806],{"type":400,"value":746},{"type":394,"tag":425,"props":1808,"children":1809},{"style":749},[1810],{"type":400,"value":800},{"type":394,"tag":425,"props":1812,"children":1813},{"style":743},[1814],{"type":400,"value":746},{"type":394,"tag":425,"props":1816,"children":1817},{"style":444},[1818],{"type":400,"value":1733},{"type":394,"tag":425,"props":1820,"children":1821},{"style":743},[1822],{"type":400,"value":1738},{"type":394,"tag":425,"props":1824,"children":1825},{"style":749},[1826],{"type":400,"value":1827},"b",{"type":394,"tag":425,"props":1829,"children":1830},{"style":743},[1831],{"type":400,"value":746},{"type":394,"tag":425,"props":1833,"children":1834},{"style":444},[1835],{"type":400,"value":1733},{"type":394,"tag":425,"props":1837,"children":1838},{"style":432},[1839],{"type":400,"value":562},{"type":394,"tag":425,"props":1841,"children":1842},{"style":444},[1843],{"type":400,"value":664},{"type":394,"tag":425,"props":1845,"children":1846},{"style":675},[1847],{"type":400,"value":1646},{"type":394,"tag":425,"props":1849,"children":1850},{"style":444},[1851],{"type":400,"value":683},{"type":394,"tag":425,"props":1853,"children":1854},{"style":444},[1855],{"type":400,"value":452},{"type":394,"tag":425,"props":1857,"children":1858},{"class":427,"line":455},[1859,1864,1868,1872],{"type":394,"tag":425,"props":1860,"children":1861},{"style":826},[1862],{"type":400,"value":1863},"  Y",{"type":394,"tag":425,"props":1865,"children":1866},{"style":444},[1867],{"type":400,"value":616},{"type":394,"tag":425,"props":1869,"children":1870},{"style":438},[1871],{"type":400,"value":621},{"type":394,"tag":425,"props":1873,"children":1874},{"style":738},[1875],{"type":400,"value":626},{"type":394,"tag":425,"props":1877,"children":1878},{"class":427,"line":465},[1879],{"type":394,"tag":425,"props":1880,"children":1881},{"style":459},[1882],{"type":400,"value":1883},"  // foo 方法究竟是模块 a 还是 b 提供的？\n",{"type":394,"tag":425,"props":1885,"children":1886},{"class":427,"line":474},[1887],{"type":394,"tag":425,"props":1888,"children":1889},{"style":459},[1890],{"type":400,"value":1891},"  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n",{"type":394,"tag":425,"props":1893,"children":1894},{"class":427,"line":495},[1895,1899],{"type":394,"tag":425,"props":1896,"children":1897},{"style":444},[1898],{"type":400,"value":777},{"type":394,"tag":425,"props":1900,"children":1901},{"style":531},[1902],{"type":400,"value":761},{"type":394,"tag":408,"props":1904,"children":1905},{},[1906],{"type":400,"value":1907},"为什么我们需要模块化？",{"type":394,"tag":408,"props":1909,"children":1910},{},[1911],{"type":400,"value":1912},"当下来看，页面内应用正在变得复杂，我们需要使用模块解耦各个 JS 文件，使开发过程变得可维护，在部署过程中优化以提高页面加载性能。",{"type":394,"tag":1914,"props":1915,"children":1916},"ul",{},[1917,1923,1928],{"type":394,"tag":1918,"props":1919,"children":1920},"li",{},[1921],{"type":400,"value":1922},"如何安全的把模块的 API 暴漏出去？",{"type":394,"tag":1918,"props":1924,"children":1925},{},[1926],{"type":400,"value":1927},"如何唯一标识一个模块？",{"type":394,"tag":1918,"props":1929,"children":1930},{},[1931],{"type":400,"value":1932},"如何方便的使用所依赖的模块？",{"type":394,"tag":402,"props":1934,"children":1936},{"id":1935},"模块化规范演变",[1937],{"type":400,"value":1935},{"type":394,"tag":408,"props":1939,"children":1940},{},[1941],{"type":400,"value":1942},"目前有三种主流的模块加载方式，",{"type":394,"tag":1914,"props":1944,"children":1945},{},[1946,1951,1956],{"type":394,"tag":1918,"props":1947,"children":1948},{},[1949],{"type":400,"value":1950},"CommonJS",{"type":394,"tag":1918,"props":1952,"children":1953},{},[1954],{"type":400,"value":1955},"AMD（Asynchronous Module Definition）/ CMD / UMD",{"type":394,"tag":1918,"props":1957,"children":1958},{},[1959],{"type":400,"value":1960},"ES Module",{"type":394,"tag":408,"props":1962,"children":1963},{},[1964],{"type":400,"value":1965},"CommonJS 原名为 ServerJS，推出 Modules/1.0 规范后，在 Node.js 环境下取得了很不错的实践。",{"type":394,"tag":414,"props":1967,"children":1969},{"className":416,"code":1968,"language":418,"meta":388,"style":388},"// Define in math.js\nexports.sum = function(...numbers) {\n  return numbers.reduce((result, num) => result + num, 0)\n}\n\n// Use in other file\nvar math = require('math')\nmath.sum(1, 3)\n",[1970],{"type":394,"tag":421,"props":1971,"children":1972},{"__ignoreMap":388},[1973,1981,2029,2109,2116,2123,2131,2173],{"type":394,"tag":425,"props":1974,"children":1975},{"class":427,"line":428},[1976],{"type":394,"tag":425,"props":1977,"children":1978},{"style":459},[1979],{"type":400,"value":1980},"// Define in math.js\n",{"type":394,"tag":425,"props":1982,"children":1983},{"class":427,"line":455},[1984,1990,1994,1999,2003,2007,2011,2016,2021,2025],{"type":394,"tag":425,"props":1985,"children":1987},{"style":1986},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[1988],{"type":400,"value":1989},"exports",{"type":394,"tag":425,"props":1991,"children":1992},{"style":444},[1993],{"type":400,"value":616},{"type":394,"tag":425,"props":1995,"children":1996},{"style":438},[1997],{"type":400,"value":1998},"sum",{"type":394,"tag":425,"props":2000,"children":2001},{"style":537},[2002],{"type":400,"value":706},{"type":394,"tag":425,"props":2004,"children":2005},{"style":432},[2006],{"type":400,"value":562},{"type":394,"tag":425,"props":2008,"children":2009},{"style":444},[2010],{"type":400,"value":664},{"type":394,"tag":425,"props":2012,"children":2013},{"style":537},[2014],{"type":400,"value":2015},"...",{"type":394,"tag":425,"props":2017,"children":2018},{"style":675},[2019],{"type":400,"value":2020},"numbers",{"type":394,"tag":425,"props":2022,"children":2023},{"style":444},[2024],{"type":400,"value":683},{"type":394,"tag":425,"props":2026,"children":2027},{"style":444},[2028],{"type":400,"value":452},{"type":394,"tag":425,"props":2030,"children":2031},{"class":427,"line":465},[2032,2036,2041,2045,2050,2054,2058,2063,2067,2072,2076,2081,2086,2091,2095,2099,2105],{"type":394,"tag":425,"props":2033,"children":2034},{"style":1252},[2035],{"type":400,"value":1255},{"type":394,"tag":425,"props":2037,"children":2038},{"style":531},[2039],{"type":400,"value":2040}," numbers",{"type":394,"tag":425,"props":2042,"children":2043},{"style":444},[2044],{"type":400,"value":616},{"type":394,"tag":425,"props":2046,"children":2047},{"style":438},[2048],{"type":400,"value":2049},"reduce",{"type":394,"tag":425,"props":2051,"children":2052},{"style":738},[2053],{"type":400,"value":664},{"type":394,"tag":425,"props":2055,"children":2056},{"style":444},[2057],{"type":400,"value":664},{"type":394,"tag":425,"props":2059,"children":2060},{"style":675},[2061],{"type":400,"value":2062},"result",{"type":394,"tag":425,"props":2064,"children":2065},{"style":444},[2066],{"type":400,"value":1733},{"type":394,"tag":425,"props":2068,"children":2069},{"style":675},[2070],{"type":400,"value":2071}," num",{"type":394,"tag":425,"props":2073,"children":2074},{"style":444},[2075],{"type":400,"value":683},{"type":394,"tag":425,"props":2077,"children":2078},{"style":432},[2079],{"type":400,"value":2080}," =>",{"type":394,"tag":425,"props":2082,"children":2083},{"style":531},[2084],{"type":400,"value":2085}," result",{"type":394,"tag":425,"props":2087,"children":2088},{"style":537},[2089],{"type":400,"value":2090}," +",{"type":394,"tag":425,"props":2092,"children":2093},{"style":531},[2094],{"type":400,"value":2071},{"type":394,"tag":425,"props":2096,"children":2097},{"style":444},[2098],{"type":400,"value":1733},{"type":394,"tag":425,"props":2100,"children":2102},{"style":2101},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2103],{"type":400,"value":2104}," 0",{"type":394,"tag":425,"props":2106,"children":2107},{"style":738},[2108],{"type":400,"value":761},{"type":394,"tag":425,"props":2110,"children":2111},{"class":427,"line":474},[2112],{"type":394,"tag":425,"props":2113,"children":2114},{"style":444},[2115],{"type":400,"value":471},{"type":394,"tag":425,"props":2117,"children":2118},{"class":427,"line":495},[2119],{"type":394,"tag":425,"props":2120,"children":2121},{"emptyLinePlaceholder":387},[2122],{"type":400,"value":1245},{"type":394,"tag":425,"props":2124,"children":2125},{"class":427,"line":503},[2126],{"type":394,"tag":425,"props":2127,"children":2128},{"style":459},[2129],{"type":400,"value":2130},"// Use in other file\n",{"type":394,"tag":425,"props":2132,"children":2133},{"class":427,"line":1022},[2134,2138,2143,2147,2152,2156,2160,2165,2169],{"type":394,"tag":425,"props":2135,"children":2136},{"style":432},[2137],{"type":400,"value":528},{"type":394,"tag":425,"props":2139,"children":2140},{"style":531},[2141],{"type":400,"value":2142}," math ",{"type":394,"tag":425,"props":2144,"children":2145},{"style":537},[2146],{"type":400,"value":540},{"type":394,"tag":425,"props":2148,"children":2149},{"style":438},[2150],{"type":400,"value":2151}," require",{"type":394,"tag":425,"props":2153,"children":2154},{"style":531},[2155],{"type":400,"value":664},{"type":394,"tag":425,"props":2157,"children":2158},{"style":743},[2159],{"type":400,"value":746},{"type":394,"tag":425,"props":2161,"children":2162},{"style":749},[2163],{"type":400,"value":2164},"math",{"type":394,"tag":425,"props":2166,"children":2167},{"style":743},[2168],{"type":400,"value":746},{"type":394,"tag":425,"props":2170,"children":2171},{"style":531},[2172],{"type":400,"value":761},{"type":394,"tag":425,"props":2174,"children":2175},{"class":427,"line":1043},[2176,2180,2184,2188,2192,2197,2201,2206],{"type":394,"tag":425,"props":2177,"children":2178},{"style":531},[2179],{"type":400,"value":2164},{"type":394,"tag":425,"props":2181,"children":2182},{"style":444},[2183],{"type":400,"value":616},{"type":394,"tag":425,"props":2185,"children":2186},{"style":438},[2187],{"type":400,"value":1998},{"type":394,"tag":425,"props":2189,"children":2190},{"style":531},[2191],{"type":400,"value":664},{"type":394,"tag":425,"props":2193,"children":2194},{"style":2101},[2195],{"type":400,"value":2196},"1",{"type":394,"tag":425,"props":2198,"children":2199},{"style":444},[2200],{"type":400,"value":1733},{"type":394,"tag":425,"props":2202,"children":2203},{"style":2101},[2204],{"type":400,"value":2205}," 3",{"type":394,"tag":425,"props":2207,"children":2208},{"style":531},[2209],{"type":400,"value":761},{"type":394,"tag":408,"props":2211,"children":2212},{},[2213],{"type":400,"value":2214},"ServerJS 想进一步推广到浏览器端，于是将社区改名叫 CommonJS。激烈争论 Modules 的下一版规范时，分歧和冲突由此诞生。",{"type":394,"tag":408,"props":2216,"children":2217},{},[2218],{"type":400,"value":2219},"James Burke 推荐直接改良 CommonJS 的模块格式以适应浏览器端开发，但是 CommonJS 的发起者并不同意，这也就催生了 RequireJS。James Burke 制定了 AMD 规范，并在 2010 年实现了遵循 AMD 规范的模块加载器 RequireJS。",{"type":394,"tag":414,"props":2221,"children":2223},{"className":416,"code":2222,"language":418,"meta":388,"style":388},"require(['module/module1.js', 'module/module2.js'], function(module1, module2) {\n  module1.printModule1FileName()\n  module2.printModule2FileName()\n})\n",[2224],{"type":394,"tag":421,"props":2225,"children":2226},{"__ignoreMap":388},[2227,2308,2329,2350],{"type":394,"tag":425,"props":2228,"children":2229},{"class":427,"line":428},[2230,2235,2240,2244,2249,2253,2257,2261,2266,2270,2275,2279,2283,2287,2291,2295,2300,2304],{"type":394,"tag":425,"props":2231,"children":2232},{"style":438},[2233],{"type":400,"value":2234},"require",{"type":394,"tag":425,"props":2236,"children":2237},{"style":531},[2238],{"type":400,"value":2239},"([",{"type":394,"tag":425,"props":2241,"children":2242},{"style":743},[2243],{"type":400,"value":746},{"type":394,"tag":425,"props":2245,"children":2246},{"style":749},[2247],{"type":400,"value":2248},"module/module1.js",{"type":394,"tag":425,"props":2250,"children":2251},{"style":743},[2252],{"type":400,"value":746},{"type":394,"tag":425,"props":2254,"children":2255},{"style":444},[2256],{"type":400,"value":1733},{"type":394,"tag":425,"props":2258,"children":2259},{"style":743},[2260],{"type":400,"value":1738},{"type":394,"tag":425,"props":2262,"children":2263},{"style":749},[2264],{"type":400,"value":2265},"module/module2.js",{"type":394,"tag":425,"props":2267,"children":2268},{"style":743},[2269],{"type":400,"value":746},{"type":394,"tag":425,"props":2271,"children":2272},{"style":531},[2273],{"type":400,"value":2274},"]",{"type":394,"tag":425,"props":2276,"children":2277},{"style":444},[2278],{"type":400,"value":1733},{"type":394,"tag":425,"props":2280,"children":2281},{"style":432},[2282],{"type":400,"value":562},{"type":394,"tag":425,"props":2284,"children":2285},{"style":444},[2286],{"type":400,"value":664},{"type":394,"tag":425,"props":2288,"children":2289},{"style":675},[2290],{"type":400,"value":1620},{"type":394,"tag":425,"props":2292,"children":2293},{"style":444},[2294],{"type":400,"value":1733},{"type":394,"tag":425,"props":2296,"children":2297},{"style":675},[2298],{"type":400,"value":2299}," module2",{"type":394,"tag":425,"props":2301,"children":2302},{"style":444},[2303],{"type":400,"value":683},{"type":394,"tag":425,"props":2305,"children":2306},{"style":444},[2307],{"type":400,"value":452},{"type":394,"tag":425,"props":2309,"children":2310},{"class":427,"line":455},[2311,2316,2320,2325],{"type":394,"tag":425,"props":2312,"children":2313},{"style":531},[2314],{"type":400,"value":2315},"  module1",{"type":394,"tag":425,"props":2317,"children":2318},{"style":444},[2319],{"type":400,"value":616},{"type":394,"tag":425,"props":2321,"children":2322},{"style":438},[2323],{"type":400,"value":2324},"printModule1FileName",{"type":394,"tag":425,"props":2326,"children":2327},{"style":738},[2328],{"type":400,"value":626},{"type":394,"tag":425,"props":2330,"children":2331},{"class":427,"line":465},[2332,2337,2341,2346],{"type":394,"tag":425,"props":2333,"children":2334},{"style":531},[2335],{"type":400,"value":2336},"  module2",{"type":394,"tag":425,"props":2338,"children":2339},{"style":444},[2340],{"type":400,"value":616},{"type":394,"tag":425,"props":2342,"children":2343},{"style":438},[2344],{"type":400,"value":2345},"printModule2FileName",{"type":394,"tag":425,"props":2347,"children":2348},{"style":738},[2349],{"type":400,"value":626},{"type":394,"tag":425,"props":2351,"children":2352},{"class":427,"line":474},[2353,2357],{"type":394,"tag":425,"props":2354,"children":2355},{"style":444},[2356],{"type":400,"value":777},{"type":394,"tag":425,"props":2358,"children":2359},{"style":531},[2360],{"type":400,"value":761},{"type":394,"tag":408,"props":2362,"children":2363},{},[2364],{"type":400,"value":2365},"玉伯认为 RequireJS 不够完善，并从头开始实现模块加载程序 SeaJS。CMD 是 SeaJS 在推广过程中对模块定义的规范化产出。",{"type":394,"tag":414,"props":2367,"children":2369},{"className":416,"code":2368,"language":418,"meta":388,"style":388},"define(function(require, exports, module) {\n  // AMD推崇依赖前置，而CMD推崇依赖就近\n  const a = require('./a')\n  a.test()\n\n  // 软依赖\n  if (status) {\n    const b = require('./b')\n    b.test()\n  }\n})\n",[2370],{"type":394,"tag":421,"props":2371,"children":2372},{"__ignoreMap":388},[2373,2423,2431,2472,2493,2500,2508,2535,2577,2597,2604],{"type":394,"tag":425,"props":2374,"children":2375},{"class":427,"line":428},[2376,2381,2385,2389,2393,2397,2401,2406,2410,2415,2419],{"type":394,"tag":425,"props":2377,"children":2378},{"style":438},[2379],{"type":400,"value":2380},"define",{"type":394,"tag":425,"props":2382,"children":2383},{"style":531},[2384],{"type":400,"value":664},{"type":394,"tag":425,"props":2386,"children":2387},{"style":432},[2388],{"type":400,"value":435},{"type":394,"tag":425,"props":2390,"children":2391},{"style":444},[2392],{"type":400,"value":664},{"type":394,"tag":425,"props":2394,"children":2395},{"style":675},[2396],{"type":400,"value":2234},{"type":394,"tag":425,"props":2398,"children":2399},{"style":444},[2400],{"type":400,"value":1733},{"type":394,"tag":425,"props":2402,"children":2403},{"style":675},[2404],{"type":400,"value":2405}," exports",{"type":394,"tag":425,"props":2407,"children":2408},{"style":444},[2409],{"type":400,"value":1733},{"type":394,"tag":425,"props":2411,"children":2412},{"style":675},[2413],{"type":400,"value":2414}," module",{"type":394,"tag":425,"props":2416,"children":2417},{"style":444},[2418],{"type":400,"value":683},{"type":394,"tag":425,"props":2420,"children":2421},{"style":444},[2422],{"type":400,"value":452},{"type":394,"tag":425,"props":2424,"children":2425},{"class":427,"line":455},[2426],{"type":394,"tag":425,"props":2427,"children":2428},{"style":459},[2429],{"type":400,"value":2430},"  // AMD推崇依赖前置，而CMD推崇依赖就近\n",{"type":394,"tag":425,"props":2432,"children":2433},{"class":427,"line":465},[2434,2438,2443,2447,2451,2455,2459,2464,2468],{"type":394,"tag":425,"props":2435,"children":2436},{"style":432},[2437],{"type":400,"value":695},{"type":394,"tag":425,"props":2439,"children":2440},{"style":826},[2441],{"type":400,"value":2442}," a",{"type":394,"tag":425,"props":2444,"children":2445},{"style":537},[2446],{"type":400,"value":706},{"type":394,"tag":425,"props":2448,"children":2449},{"style":438},[2450],{"type":400,"value":2151},{"type":394,"tag":425,"props":2452,"children":2453},{"style":738},[2454],{"type":400,"value":664},{"type":394,"tag":425,"props":2456,"children":2457},{"style":743},[2458],{"type":400,"value":746},{"type":394,"tag":425,"props":2460,"children":2461},{"style":749},[2462],{"type":400,"value":2463},"./a",{"type":394,"tag":425,"props":2465,"children":2466},{"style":743},[2467],{"type":400,"value":746},{"type":394,"tag":425,"props":2469,"children":2470},{"style":738},[2471],{"type":400,"value":761},{"type":394,"tag":425,"props":2473,"children":2474},{"class":427,"line":474},[2475,2480,2484,2489],{"type":394,"tag":425,"props":2476,"children":2477},{"style":531},[2478],{"type":400,"value":2479},"  a",{"type":394,"tag":425,"props":2481,"children":2482},{"style":444},[2483],{"type":400,"value":616},{"type":394,"tag":425,"props":2485,"children":2486},{"style":438},[2487],{"type":400,"value":2488},"test",{"type":394,"tag":425,"props":2490,"children":2491},{"style":738},[2492],{"type":400,"value":626},{"type":394,"tag":425,"props":2494,"children":2495},{"class":427,"line":495},[2496],{"type":394,"tag":425,"props":2497,"children":2498},{"emptyLinePlaceholder":387},[2499],{"type":400,"value":1245},{"type":394,"tag":425,"props":2501,"children":2502},{"class":427,"line":503},[2503],{"type":394,"tag":425,"props":2504,"children":2505},{"style":459},[2506],{"type":400,"value":2507},"  // 软依赖\n",{"type":394,"tag":425,"props":2509,"children":2510},{"class":427,"line":1022},[2511,2516,2520,2525,2530],{"type":394,"tag":425,"props":2512,"children":2513},{"style":1252},[2514],{"type":400,"value":2515},"  if",{"type":394,"tag":425,"props":2517,"children":2518},{"style":738},[2519],{"type":400,"value":838},{"type":394,"tag":425,"props":2521,"children":2522},{"style":531},[2523],{"type":400,"value":2524},"status",{"type":394,"tag":425,"props":2526,"children":2527},{"style":738},[2528],{"type":400,"value":2529},") ",{"type":394,"tag":425,"props":2531,"children":2532},{"style":444},[2533],{"type":400,"value":2534},"{\n",{"type":394,"tag":425,"props":2536,"children":2537},{"class":427,"line":1043},[2538,2543,2548,2552,2556,2560,2564,2569,2573],{"type":394,"tag":425,"props":2539,"children":2540},{"style":432},[2541],{"type":400,"value":2542},"    const",{"type":394,"tag":425,"props":2544,"children":2545},{"style":826},[2546],{"type":400,"value":2547}," b",{"type":394,"tag":425,"props":2549,"children":2550},{"style":537},[2551],{"type":400,"value":706},{"type":394,"tag":425,"props":2553,"children":2554},{"style":438},[2555],{"type":400,"value":2151},{"type":394,"tag":425,"props":2557,"children":2558},{"style":738},[2559],{"type":400,"value":664},{"type":394,"tag":425,"props":2561,"children":2562},{"style":743},[2563],{"type":400,"value":746},{"type":394,"tag":425,"props":2565,"children":2566},{"style":749},[2567],{"type":400,"value":2568},"./b",{"type":394,"tag":425,"props":2570,"children":2571},{"style":743},[2572],{"type":400,"value":746},{"type":394,"tag":425,"props":2574,"children":2575},{"style":738},[2576],{"type":400,"value":761},{"type":394,"tag":425,"props":2578,"children":2579},{"class":427,"line":1064},[2580,2585,2589,2593],{"type":394,"tag":425,"props":2581,"children":2582},{"style":531},[2583],{"type":400,"value":2584},"    b",{"type":394,"tag":425,"props":2586,"children":2587},{"style":444},[2588],{"type":400,"value":616},{"type":394,"tag":425,"props":2590,"children":2591},{"style":438},[2592],{"type":400,"value":2488},{"type":394,"tag":425,"props":2594,"children":2595},{"style":738},[2596],{"type":400,"value":626},{"type":394,"tag":425,"props":2598,"children":2599},{"class":427,"line":1077},[2600],{"type":394,"tag":425,"props":2601,"children":2602},{"style":444},[2603],{"type":400,"value":769},{"type":394,"tag":425,"props":2605,"children":2606},{"class":427,"line":1115},[2607,2611],{"type":394,"tag":425,"props":2608,"children":2609},{"style":444},[2610],{"type":400,"value":777},{"type":394,"tag":425,"props":2612,"children":2613},{"style":531},[2614],{"type":400,"value":761},{"type":394,"tag":408,"props":2616,"children":2617},{},[2618],{"type":400,"value":2619},"UMD 统一 CommonJS 和 AMD，所以 UMD 定义的模块可以同时在客户端和服务端使用：",{"type":394,"tag":414,"props":2621,"children":2623},{"className":416,"code":2622,"language":418,"meta":388,"style":388},";(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self), (global.myModule = factory()))\n})(this, function() {\n  return myModule\n})\n",[2624],{"type":394,"tag":421,"props":2625,"children":2626},{"__ignoreMap":388},[2627,2668,2731,2769,2819,2843,2915,2948,2960],{"type":394,"tag":425,"props":2628,"children":2629},{"class":427,"line":428},[2630,2634,2638,2642,2646,2651,2655,2660,2664],{"type":394,"tag":425,"props":2631,"children":2632},{"style":444},[2633],{"type":400,"value":659},{"type":394,"tag":425,"props":2635,"children":2636},{"style":531},[2637],{"type":400,"value":664},{"type":394,"tag":425,"props":2639,"children":2640},{"style":432},[2641],{"type":400,"value":435},{"type":394,"tag":425,"props":2643,"children":2644},{"style":444},[2645],{"type":400,"value":664},{"type":394,"tag":425,"props":2647,"children":2648},{"style":675},[2649],{"type":400,"value":2650},"global",{"type":394,"tag":425,"props":2652,"children":2653},{"style":444},[2654],{"type":400,"value":1733},{"type":394,"tag":425,"props":2656,"children":2657},{"style":675},[2658],{"type":400,"value":2659}," factory",{"type":394,"tag":425,"props":2661,"children":2662},{"style":444},[2663],{"type":400,"value":683},{"type":394,"tag":425,"props":2665,"children":2666},{"style":444},[2667],{"type":400,"value":452},{"type":394,"tag":425,"props":2669,"children":2670},{"class":427,"line":455},[2671,2676,2680,2685,2689,2694,2698,2703,2708,2712,2717,2721,2726],{"type":394,"tag":425,"props":2672,"children":2673},{"style":537},[2674],{"type":400,"value":2675},"  typeof",{"type":394,"tag":425,"props":2677,"children":2678},{"style":1986},[2679],{"type":400,"value":2405},{"type":394,"tag":425,"props":2681,"children":2682},{"style":537},[2683],{"type":400,"value":2684}," ===",{"type":394,"tag":425,"props":2686,"children":2687},{"style":743},[2688],{"type":400,"value":1738},{"type":394,"tag":425,"props":2690,"children":2691},{"style":749},[2692],{"type":400,"value":2693},"object",{"type":394,"tag":425,"props":2695,"children":2696},{"style":743},[2697],{"type":400,"value":746},{"type":394,"tag":425,"props":2699,"children":2700},{"style":537},[2701],{"type":400,"value":2702}," &&",{"type":394,"tag":425,"props":2704,"children":2705},{"style":537},[2706],{"type":400,"value":2707}," typeof",{"type":394,"tag":425,"props":2709,"children":2710},{"style":1986},[2711],{"type":400,"value":2414},{"type":394,"tag":425,"props":2713,"children":2714},{"style":537},[2715],{"type":400,"value":2716}," !==",{"type":394,"tag":425,"props":2718,"children":2719},{"style":743},[2720],{"type":400,"value":1738},{"type":394,"tag":425,"props":2722,"children":2723},{"style":749},[2724],{"type":400,"value":2725},"undefined",{"type":394,"tag":425,"props":2727,"children":2728},{"style":743},[2729],{"type":400,"value":2730},"'\n",{"type":394,"tag":425,"props":2732,"children":2733},{"class":427,"line":465},[2734,2739,2743,2748,2752,2756,2760,2764],{"type":394,"tag":425,"props":2735,"children":2736},{"style":537},[2737],{"type":400,"value":2738},"    ?",{"type":394,"tag":425,"props":2740,"children":2741},{"style":738},[2742],{"type":400,"value":838},{"type":394,"tag":425,"props":2744,"children":2745},{"style":1986},[2746],{"type":400,"value":2747},"module",{"type":394,"tag":425,"props":2749,"children":2750},{"style":444},[2751],{"type":400,"value":616},{"type":394,"tag":425,"props":2753,"children":2754},{"style":1986},[2755],{"type":400,"value":1989},{"type":394,"tag":425,"props":2757,"children":2758},{"style":537},[2759],{"type":400,"value":706},{"type":394,"tag":425,"props":2761,"children":2762},{"style":438},[2763],{"type":400,"value":2659},{"type":394,"tag":425,"props":2765,"children":2766},{"style":738},[2767],{"type":400,"value":2768},"())\n",{"type":394,"tag":425,"props":2770,"children":2771},{"class":427,"line":474},[2772,2777,2781,2786,2790,2794,2798,2802,2806,2810,2814],{"type":394,"tag":425,"props":2773,"children":2774},{"style":537},[2775],{"type":400,"value":2776},"    :",{"type":394,"tag":425,"props":2778,"children":2779},{"style":537},[2780],{"type":400,"value":2707},{"type":394,"tag":425,"props":2782,"children":2783},{"style":531},[2784],{"type":400,"value":2785}," define",{"type":394,"tag":425,"props":2787,"children":2788},{"style":537},[2789],{"type":400,"value":2684},{"type":394,"tag":425,"props":2791,"children":2792},{"style":743},[2793],{"type":400,"value":1738},{"type":394,"tag":425,"props":2795,"children":2796},{"style":749},[2797],{"type":400,"value":435},{"type":394,"tag":425,"props":2799,"children":2800},{"style":743},[2801],{"type":400,"value":746},{"type":394,"tag":425,"props":2803,"children":2804},{"style":537},[2805],{"type":400,"value":2702},{"type":394,"tag":425,"props":2807,"children":2808},{"style":531},[2809],{"type":400,"value":2785},{"type":394,"tag":425,"props":2811,"children":2812},{"style":444},[2813],{"type":400,"value":616},{"type":394,"tag":425,"props":2815,"children":2816},{"style":531},[2817],{"type":400,"value":2818},"amd\n",{"type":394,"tag":425,"props":2820,"children":2821},{"class":427,"line":495},[2822,2826,2830,2834,2839],{"type":394,"tag":425,"props":2823,"children":2824},{"style":537},[2825],{"type":400,"value":2738},{"type":394,"tag":425,"props":2827,"children":2828},{"style":438},[2829],{"type":400,"value":2785},{"type":394,"tag":425,"props":2831,"children":2832},{"style":738},[2833],{"type":400,"value":664},{"type":394,"tag":425,"props":2835,"children":2836},{"style":531},[2837],{"type":400,"value":2838},"factory",{"type":394,"tag":425,"props":2840,"children":2841},{"style":738},[2842],{"type":400,"value":761},{"type":394,"tag":425,"props":2844,"children":2845},{"class":427,"line":503},[2846,2850,2855,2859,2863,2868,2872,2877,2881,2885,2889,2893,2897,2902,2906,2910],{"type":394,"tag":425,"props":2847,"children":2848},{"style":537},[2849],{"type":400,"value":2776},{"type":394,"tag":425,"props":2851,"children":2852},{"style":738},[2853],{"type":400,"value":2854}," ((",{"type":394,"tag":425,"props":2856,"children":2857},{"style":531},[2858],{"type":400,"value":2650},{"type":394,"tag":425,"props":2860,"children":2861},{"style":537},[2862],{"type":400,"value":706},{"type":394,"tag":425,"props":2864,"children":2865},{"style":531},[2866],{"type":400,"value":2867}," global",{"type":394,"tag":425,"props":2869,"children":2870},{"style":537},[2871],{"type":400,"value":914},{"type":394,"tag":425,"props":2873,"children":2874},{"style":531},[2875],{"type":400,"value":2876}," self",{"type":394,"tag":425,"props":2878,"children":2879},{"style":738},[2880],{"type":400,"value":683},{"type":394,"tag":425,"props":2882,"children":2883},{"style":444},[2884],{"type":400,"value":1733},{"type":394,"tag":425,"props":2886,"children":2887},{"style":738},[2888],{"type":400,"value":838},{"type":394,"tag":425,"props":2890,"children":2891},{"style":531},[2892],{"type":400,"value":2650},{"type":394,"tag":425,"props":2894,"children":2895},{"style":444},[2896],{"type":400,"value":616},{"type":394,"tag":425,"props":2898,"children":2899},{"style":531},[2900],{"type":400,"value":2901},"myModule",{"type":394,"tag":425,"props":2903,"children":2904},{"style":537},[2905],{"type":400,"value":706},{"type":394,"tag":425,"props":2907,"children":2908},{"style":438},[2909],{"type":400,"value":2659},{"type":394,"tag":425,"props":2911,"children":2912},{"style":738},[2913],{"type":400,"value":2914},"()))\n",{"type":394,"tag":425,"props":2916,"children":2917},{"class":427,"line":1022},[2918,2922,2926,2932,2936,2940,2944],{"type":394,"tag":425,"props":2919,"children":2920},{"style":444},[2921],{"type":400,"value":777},{"type":394,"tag":425,"props":2923,"children":2924},{"style":531},[2925],{"type":400,"value":1273},{"type":394,"tag":425,"props":2927,"children":2929},{"style":2928},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2930],{"type":400,"value":2931},"this",{"type":394,"tag":425,"props":2933,"children":2934},{"style":444},[2935],{"type":400,"value":1733},{"type":394,"tag":425,"props":2937,"children":2938},{"style":432},[2939],{"type":400,"value":562},{"type":394,"tag":425,"props":2941,"children":2942},{"style":444},[2943],{"type":400,"value":447},{"type":394,"tag":425,"props":2945,"children":2946},{"style":444},[2947],{"type":400,"value":452},{"type":394,"tag":425,"props":2949,"children":2950},{"class":427,"line":1043},[2951,2955],{"type":394,"tag":425,"props":2952,"children":2953},{"style":1252},[2954],{"type":400,"value":1255},{"type":394,"tag":425,"props":2956,"children":2957},{"style":531},[2958],{"type":400,"value":2959}," myModule\n",{"type":394,"tag":425,"props":2961,"children":2962},{"class":427,"line":1064},[2963,2967],{"type":394,"tag":425,"props":2964,"children":2965},{"style":444},[2966],{"type":400,"value":777},{"type":394,"tag":425,"props":2968,"children":2969},{"style":531},[2970],{"type":400,"value":761},{"type":394,"tag":402,"props":2972,"children":2974},{"id":2973},"现代模块规范-es-module",[2975],{"type":400,"value":2976},"现代模块规范 ES Module",{"type":394,"tag":408,"props":2978,"children":2979},{},[2980,2982,2988],{"type":400,"value":2981},"2015 年 6 月， ECMAScript6 标准正式发布，其中 ES 模块化规范的提出目标是整合 CommonJS、AMD 等已有模块方案，",{"type":394,"tag":2983,"props":2984,"children":2985},"strong",{},[2986],{"type":400,"value":2987},"在语言标准层面实现模块化",{"type":400,"value":2989},"，成为浏览器和服务器通用的模块解决方案。",{"type":394,"tag":414,"props":2991,"children":2993},{"className":416,"code":2992,"language":418,"meta":388,"style":388},"import { foo, bar } from '/modules/my-module.js'\n\nexport const foo = Math.sqrt(2)\n",[2994],{"type":394,"tag":421,"props":2995,"children":2996},{"__ignoreMap":388},[2997,3045,3052],{"type":394,"tag":425,"props":2998,"children":2999},{"class":427,"line":428},[3000,3005,3010,3014,3018,3022,3027,3032,3036,3041],{"type":394,"tag":425,"props":3001,"children":3002},{"style":1252},[3003],{"type":400,"value":3004},"import",{"type":394,"tag":425,"props":3006,"children":3007},{"style":444},[3008],{"type":400,"value":3009}," {",{"type":394,"tag":425,"props":3011,"children":3012},{"style":531},[3013],{"type":400,"value":441},{"type":394,"tag":425,"props":3015,"children":3016},{"style":444},[3017],{"type":400,"value":1733},{"type":394,"tag":425,"props":3019,"children":3020},{"style":531},[3021],{"type":400,"value":484},{"type":394,"tag":425,"props":3023,"children":3024},{"style":444},[3025],{"type":400,"value":3026}," }",{"type":394,"tag":425,"props":3028,"children":3029},{"style":1252},[3030],{"type":400,"value":3031}," from",{"type":394,"tag":425,"props":3033,"children":3034},{"style":743},[3035],{"type":400,"value":1738},{"type":394,"tag":425,"props":3037,"children":3038},{"style":749},[3039],{"type":400,"value":3040},"/modules/my-module.js",{"type":394,"tag":425,"props":3042,"children":3043},{"style":743},[3044],{"type":400,"value":2730},{"type":394,"tag":425,"props":3046,"children":3047},{"class":427,"line":455},[3048],{"type":394,"tag":425,"props":3049,"children":3050},{"emptyLinePlaceholder":387},[3051],{"type":400,"value":1245},{"type":394,"tag":425,"props":3053,"children":3054},{"class":427,"line":465},[3055,3060,3065,3069,3073,3078,3082,3087,3091,3096],{"type":394,"tag":425,"props":3056,"children":3057},{"style":1252},[3058],{"type":400,"value":3059},"export",{"type":394,"tag":425,"props":3061,"children":3062},{"style":432},[3063],{"type":400,"value":3064}," const",{"type":394,"tag":425,"props":3066,"children":3067},{"style":826},[3068],{"type":400,"value":441},{"type":394,"tag":425,"props":3070,"children":3071},{"style":537},[3072],{"type":400,"value":706},{"type":394,"tag":425,"props":3074,"children":3075},{"style":531},[3076],{"type":400,"value":3077}," Math",{"type":394,"tag":425,"props":3079,"children":3080},{"style":444},[3081],{"type":400,"value":616},{"type":394,"tag":425,"props":3083,"children":3084},{"style":438},[3085],{"type":400,"value":3086},"sqrt",{"type":394,"tag":425,"props":3088,"children":3089},{"style":531},[3090],{"type":400,"value":664},{"type":394,"tag":425,"props":3092,"children":3093},{"style":2101},[3094],{"type":400,"value":3095},"2",{"type":394,"tag":425,"props":3097,"children":3098},{"style":531},[3099],{"type":400,"value":761},{"type":394,"tag":408,"props":3101,"children":3102},{},[3103],{"type":400,"value":3104},"为什么 ES 模块比 CommonJS 更好？我引用 RollupJS 文档中的一段加以解释：",{"type":394,"tag":408,"props":3106,"children":3107},{},[3108],{"type":400,"value":3109},"ES Module 是官方标准，也是 JavaScript 语言明确的发展方向，而 CommonJS 模块是一种特殊的传统格式，在 ES 模块被提出之前做为暂时的解决方案。 ES 模块允许进行静态分析，从而实现像 tree-shaking 的优化，并提供诸如循环引用和动态绑定等高级功能。",{"type":394,"tag":408,"props":3111,"children":3112},{},[3113,3115,3121],{"type":400,"value":3114},"在浏览器中，需要使用特定属性的脚本标签，以支持 ES Module 规范（ ",{"type":394,"tag":421,"props":3116,"children":3118},{"className":3117},[],[3119],{"type":400,"value":3120},"\u003Cscript type=\"module\">",{"type":400,"value":3122}," ）。",{"type":394,"tag":3124,"props":3125,"children":3127},"h4",{"id":3126},"兼容性",[3128],{"type":400,"value":3126},{"type":394,"tag":408,"props":3130,"children":3131},{},[3132],{"type":400,"value":3133},"截止 2020 年 5 月 18 日，各大浏览器兼容 ES Module 情况如下：",{"type":394,"tag":408,"props":3135,"children":3136},{},[3137,3139,3145,3147,3153],{"type":400,"value":3138},"在 NodeJS 中（Version >= 8.5），需要打开一个开关（",{"type":394,"tag":421,"props":3140,"children":3142},{"className":3141},[],[3143],{"type":400,"value":3144},"--experimental-modules",{"type":400,"value":3146},"），以支持 ES Module 规范，但是需要模块的文件名为 ",{"type":394,"tag":421,"props":3148,"children":3150},{"className":3149},[],[3151],{"type":400,"value":3152},".mjs",{"type":400,"value":3154},"。",{"type":394,"tag":3124,"props":3156,"children":3158},{"id":3157},"动态-import",[3159],{"type":400,"value":3160},"动态 Import",{"type":394,"tag":408,"props":3162,"children":3163},{},[3164],{"type":400,"value":3165},"动态 Import 如今已经被大部分浏览器所支持。",{"type":394,"tag":395,"props":3167,"children":3169},{"id":3168},"cjs-vs-esm",[3170],{"type":400,"value":3171},"CJS VS ESM",{"type":394,"tag":408,"props":3173,"children":3174},{},[3175],{"type":400,"value":3176},"尽管 ES Module 规范发布已久，但并没有得到广泛的兼容。由于 ES Module 继承了现在来说仍属主流的 CommonJS 规范的诸多优点，所以两者之间有许多共性。我们来看看它们之间的区别。",{"type":394,"tag":408,"props":3178,"children":3179},{},[3180,3182,3187],{"type":400,"value":3181},"最大的不同之处在于，",{"type":394,"tag":2983,"props":3183,"children":3184},{},[3185],{"type":400,"value":3186},"CommonJS 是一种约定，而 ES Module 是语言规范",{"type":400,"value":3188},"。CommonJS 定义了一套使用“module.epoxrts 和 require”等代码进行模块导入导出的约定，通过扩充 JS 编译器外层代码，只要开发人员遵守约定，就可以使用此规范。而 ES Module 的实现依赖于编译器。这也导致：",{"type":394,"tag":3190,"props":3191,"children":3192},"ol",{},[3193,3198],{"type":394,"tag":1918,"props":3194,"children":3195},{},[3196],{"type":400,"value":3197},"Require 导入值的拷贝，模块内部变化不能直接反应到外部；ES Module 导入值的映射，就算是模块内部的字符串有修改，同样会反映到模块外部。",{"type":394,"tag":1918,"props":3199,"children":3200},{},[3201],{"type":400,"value":3202},"Require 本质是一个函数，所以容易实现动态导入的功能；ES Module 依赖于编译器的静态分析，所以动态导入功能难以被完善实现。",{"type":394,"tag":408,"props":3204,"children":3205},{},[3206,3208,3214],{"type":400,"value":3207},"要看看 Require 到底是个啥玩意儿，请看这篇：",{"type":394,"tag":800,"props":3209,"children":3211},{"href":3210},"/source-code/_server/nodejs/require.html",[3212],{"type":400,"value":3213},"Require",{"type":400,"value":3154},{"type":394,"tag":3124,"props":3216,"children":3218},{"id":3217},"如何在-esm-中引入-cjs-中的命名导出",[3219],{"type":400,"value":3220},"如何在 esm 中引入 cjs 中的命名导出？",{"type":394,"tag":414,"props":3222,"children":3224},{"className":416,"code":3223,"language":418,"meta":388,"style":388},"// .mjs\nimport { namedExport } from './lib.cjs'\n// .cjs\nexports.namedExport = 'yes'\n// .cjs wrong example\n// exports = { namedExport: 'yes' }\n",[3225],{"type":394,"tag":421,"props":3226,"children":3227},{"__ignoreMap":388},[3228,3236,3273,3281,3314,3322],{"type":394,"tag":425,"props":3229,"children":3230},{"class":427,"line":428},[3231],{"type":394,"tag":425,"props":3232,"children":3233},{"style":459},[3234],{"type":400,"value":3235},"// .mjs\n",{"type":394,"tag":425,"props":3237,"children":3238},{"class":427,"line":455},[3239,3243,3247,3252,3256,3260,3264,3269],{"type":394,"tag":425,"props":3240,"children":3241},{"style":1252},[3242],{"type":400,"value":3004},{"type":394,"tag":425,"props":3244,"children":3245},{"style":444},[3246],{"type":400,"value":3009},{"type":394,"tag":425,"props":3248,"children":3249},{"style":531},[3250],{"type":400,"value":3251}," namedExport",{"type":394,"tag":425,"props":3253,"children":3254},{"style":444},[3255],{"type":400,"value":3026},{"type":394,"tag":425,"props":3257,"children":3258},{"style":1252},[3259],{"type":400,"value":3031},{"type":394,"tag":425,"props":3261,"children":3262},{"style":743},[3263],{"type":400,"value":1738},{"type":394,"tag":425,"props":3265,"children":3266},{"style":749},[3267],{"type":400,"value":3268},"./lib.cjs",{"type":394,"tag":425,"props":3270,"children":3271},{"style":743},[3272],{"type":400,"value":2730},{"type":394,"tag":425,"props":3274,"children":3275},{"class":427,"line":465},[3276],{"type":394,"tag":425,"props":3277,"children":3278},{"style":459},[3279],{"type":400,"value":3280},"// .cjs\n",{"type":394,"tag":425,"props":3282,"children":3283},{"class":427,"line":474},[3284,3288,3292,3297,3301,3305,3310],{"type":394,"tag":425,"props":3285,"children":3286},{"style":1986},[3287],{"type":400,"value":1989},{"type":394,"tag":425,"props":3289,"children":3290},{"style":444},[3291],{"type":400,"value":616},{"type":394,"tag":425,"props":3293,"children":3294},{"style":531},[3295],{"type":400,"value":3296},"namedExport ",{"type":394,"tag":425,"props":3298,"children":3299},{"style":537},[3300],{"type":400,"value":540},{"type":394,"tag":425,"props":3302,"children":3303},{"style":743},[3304],{"type":400,"value":1738},{"type":394,"tag":425,"props":3306,"children":3307},{"style":749},[3308],{"type":400,"value":3309},"yes",{"type":394,"tag":425,"props":3311,"children":3312},{"style":743},[3313],{"type":400,"value":2730},{"type":394,"tag":425,"props":3315,"children":3316},{"class":427,"line":495},[3317],{"type":394,"tag":425,"props":3318,"children":3319},{"style":459},[3320],{"type":400,"value":3321},"// .cjs wrong example\n",{"type":394,"tag":425,"props":3323,"children":3324},{"class":427,"line":503},[3325],{"type":394,"tag":425,"props":3326,"children":3327},{"style":459},[3328],{"type":400,"value":3329},"// exports = { namedExport: 'yes' }\n",{"type":394,"tag":408,"props":3331,"children":3332},{},[3333,3335,3342],{"type":400,"value":3334},"见：",{"type":394,"tag":800,"props":3336,"children":3339},{"href":3337,"rel":3338},"https://2ality.com/2022/10/commonjs-named-exports.html",[804],[3340],{"type":400,"value":3341},"How to write CommonJS exports that can be name-imported from ESM",{"type":400,"value":3343},"，就算在 mjs 中导入了 cjs 的导出，为了兼容性考虑，导入的并不是映射。",{"type":394,"tag":395,"props":3345,"children":3347},{"id":3346},"打包工具之争",[3348],{"type":400,"value":3346},{"type":394,"tag":408,"props":3350,"children":3351},{},[3352],{"type":400,"value":3353},"TODO",{"type":394,"tag":408,"props":3355,"children":3356},{},[3357],{"type":400,"value":3358},"为什么需要打包工具",{"type":394,"tag":1914,"props":3360,"children":3361},{},[3362,3367],{"type":394,"tag":1918,"props":3363,"children":3364},{},[3365],{"type":400,"value":3366},"代码分析（合并、压缩、混淆）",{"type":394,"tag":1918,"props":3368,"children":3369},{},[3370],{"type":400,"value":3371},"兼容各种规范",{"type":394,"tag":408,"props":3373,"children":3374},{},[3375],{"type":400,"value":3376},"应用程序使用 WebpackJS，库文件使用 RollupJS",{"type":394,"tag":395,"props":3378,"children":3380},{"id":3379},"阅读更多",[3381],{"type":400,"value":3379},{"type":394,"tag":1914,"props":3383,"children":3384},{},[3385,3395,3405,3415,3425,3434],{"type":394,"tag":1918,"props":3386,"children":3387},{},[3388],{"type":394,"tag":800,"props":3389,"children":3392},{"href":3390,"rel":3391},"https://github.com/seajs/seajs/issues/547",[804],[3393],{"type":400,"value":3394},"模块开发的价值",{"type":394,"tag":1918,"props":3396,"children":3397},{},[3398],{"type":394,"tag":800,"props":3399,"children":3402},{"href":3400,"rel":3401},"https://www.cyj.me/programming/2018/05/22/about-module-i/",[804],[3403],{"type":400,"value":3404},"前端模块的历史沿革",{"type":394,"tag":1918,"props":3406,"children":3407},{},[3408],{"type":394,"tag":800,"props":3409,"children":3412},{"href":3410,"rel":3411},"https://www.cyj.me/programming/2018/05/23/about-module-ii/",[804],[3413],{"type":400,"value":3414},"前端模块的现状",{"type":394,"tag":1918,"props":3416,"children":3417},{},[3418],{"type":394,"tag":800,"props":3419,"children":3422},{"href":3420,"rel":3421},"https://zhuanlan.zhihu.com/p/22890374",[804],[3423],{"type":400,"value":3424},"JavaScript 模块化入门 Ⅰ：理解模块",{"type":394,"tag":1918,"props":3426,"children":3427},{},[3428],{"type":394,"tag":800,"props":3429,"children":3431},{"href":3430},"hhttps://zhuanlan.zhihu.com/p/22945985",[3432],{"type":400,"value":3433},"JavaScript 模块化入门 Ⅱ：模块打包构建",{"type":394,"tag":1918,"props":3435,"children":3436},{},[3437],{"type":394,"tag":800,"props":3438,"children":3441},{"href":3439,"rel":3440},"https://juejin.im/post/5cb004da5188251b130c773e",[804],[3442],{"type":400,"value":3443},"前端工程师必备：前端的模块化",{"type":394,"tag":3445,"props":3446,"children":3447},"style",{},[3448],{"type":400,"value":3449},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":388,"searchDepth":455,"depth":455,"links":3451},[3452,3458,3459,3460],{"id":397,"depth":455,"text":397,"children":3453},[3454,3455,3456,3457],{"id":404,"depth":465,"text":404},{"id":1293,"depth":465,"text":1293},{"id":1935,"depth":465,"text":1935},{"id":2973,"depth":465,"text":2976},{"id":3168,"depth":455,"text":3171},{"id":3346,"depth":455,"text":3346},{"id":3379,"depth":455,"text":3379},"markdown","content:_archieved:2020-05:js-module-history.md","content","_archieved/2020-05/js-module-history.md","md",[3467,3471],{"_path":3468,"title":3469,"description":3470},"/_archieved/2020-04/p5","造型构成","用P5.js做了一些造型构成练习，源码都在 GitHub 上，欢迎来星星 ⭐",{"_path":3472,"title":3473,"description":388},"/_archieved/2020-05/type-check","🎫 常用类型判断方法的优势及缺陷",1708107572738]