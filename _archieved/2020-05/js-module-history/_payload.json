[{"data":1,"prerenderedAt":3502},["ShallowReactive",2],{"navigation":3,"/_archieved/2020-05/js-module-history":410,"/_archieved/2020-05/js-module-history-surround":3494},[4,32,83,102,129,135,141,147,393,399,405],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96,99],{"title":88,"_path":89},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":91,"_path":92},"🌐 AnySort","/tools/anysort",{"title":94,"_path":95},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":97,"_path":98},"👓 Crapto","/tools/crypto-inline",{"title":100,"_path":101},"🖨️ any-to-base64","/tools/any-to-base64",{"title":103,"_path":104,"children":105},"吉他剧场 / Music","/music",[106,108,111,114,117,120,123,126],{"title":107,"_path":104},"🎸 FingerStyle！",{"title":109,"_path":110},"🌬️ 等待的风","/music/wind",{"title":112,"_path":113},"💕 约定的海洋","/music/ocean",{"title":115,"_path":116},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":118,"_path":119},"🌏 残酷天使的行动纲领","/music/eva",{"title":121,"_path":122},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":124,"_path":125},"🍷 Wu Wei","/music/wu-wei",{"title":127,"_path":128},"🌅 无题","/music/untitled",{"title":130,"_path":131,"children":132},"画点什么 / Paint","/paint",[133],{"title":134,"_path":131},"🚧 正在施工",{"title":136,"_path":137,"children":138},"读书笔记 / Notes","/books",[139],{"title":140,"_path":137},"📕 读书笔记",{"title":142,"_path":143,"children":144},"知识地图 / Maps","/maps",[145],{"title":146,"_path":143},"🏁 知识地图",{"title":148,"_path":149,"children":150},"零散的笔记 / Gists","/gists",[151,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390],{"title":152,"_path":149},"🧊 Gists",{"title":154,"_path":155},"网站的可访问性","/gists/accessibility",{"title":157,"_path":158},"Bit","/gists/bit",{"title":160,"_path":161},"图片模糊","/gists/blur",{"title":163,"_path":164},"渲染相关笔记","/gists/c4d",{"title":166,"_path":167},"CDN 问题记录","/gists/cdn",{"title":169,"_path":170},"消毒剂","/gists/cleaner",{"title":172,"_path":173},"Windows Command","/gists/cmd",{"title":175,"_path":176},"Command","/gists/command",{"title":178,"_path":179},"复杂科学","/gists/complexity-science",{"title":181,"_path":182},"GitHub Copilot","/gists/copilot",{"title":184,"_path":185},"宇宙","/gists/cosmos",{"title":187,"_path":188},"C++","/gists/cpp",{"title":190,"_path":191},"Data Structure","/gists/data-structure",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"设计模式","/gists/design-patterns",{"title":199,"_path":200},"Developer Experience","/gists/developer-experience",{"title":202,"_path":203},"Device Metrics","/gists/device-metrix",{"title":205,"_path":206},"数字化转型","/gists/digital-transformation",{"title":208,"_path":209},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":211,"_path":212},"正则表达式","/gists/eegex",{"title":214,"_path":215},"Emoji","/gists/emoji",{"title":217,"_path":218},"工程","/gists/engineering",{"title":220,"_path":221},"熵","/gists/entropy",{"title":223,"_path":224},"Environment","/gists/environment",{"title":226,"_path":227},"Erlang","/gists/erlang",{"title":229,"_path":230},"逃离塔克夫","/gists/escape-from-tarkov",{"title":232,"_path":233},"ESNext (ES6-ES11)","/gists/esnext",{"title":235,"_path":236},"Eval！","/gists/eval",{"title":238,"_path":239},"Flutter","/gists/flutter",{"title":241,"_path":242},"字体","/gists/font",{"title":244,"_path":245},"JS 函数式编程","/gists/functional",{"title":247,"_path":248},"游戏化","/gists/gamification",{"title":250,"_path":251},"Google C++ Standard","/gists/google-cpp-standard",{"title":253,"_path":254},"双向链接完全体","/gists/graph",{"title":256,"_path":257},"Hardwares","/gists/hardwares",{"title":259,"_path":260},"哈希冲突","/gists/hash-collision",{"title":262,"_path":263},"信息设计","/gists/information-design",{"title":265,"_path":266},"InstantPage","/gists/instant.page",{"title":268,"_path":269},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":271,"_path":272},"KVStore","/gists/key-value-db",{"title":274,"_path":275},"Kubernetes","/gists/kubernetes",{"title":277,"_path":278},"Makefile","/gists/makefile",{"title":280,"_path":281},"Markdown Inline Style","/gists/markdown-nice",{"title":283,"_path":284},"小程序","/gists/miniapp",{"title":286,"_path":287},"减小页面快照体积","/gists/minify-html",{"title":289,"_path":290},"mklink","/gists/mklink",{"title":292,"_path":293},"Mock","/gists/mock",{"title":295,"_path":296},"多人协作系统","/gists/multiplayer",{"title":298,"_path":299},"多端应用","/gists/multy-end-app",{"title":301,"_path":302},"神经科学","/gists/neuroscience",{"title":304,"_path":305},"OO","/gists/oo",{"title":307,"_path":308},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":310,"_path":311},"PInvoke","/gists/pinvoke",{"title":313,"_path":314},"像素","/gists/pixel",{"title":316,"_path":317},"PowerShell","/gists/powershell",{"title":319,"_path":320},"量子","/gists/quantum",{"title":322,"_path":323},"保持好奇心","/gists/questions",{"title":325,"_path":326},"React Native","/gists/react-native",{"title":328,"_path":329},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":331,"_path":332},"SEO","/gists/seo",{"title":334,"_path":335},"Shader","/gists/shader",{"title":337,"_path":338},"Shape Up","/gists/shape-up",{"title":340,"_path":341},"睡觉","/gists/sleep",{"title":343,"_path":344},"记录奇怪的问题","/gists/solved",{"title":346,"_path":347},"States","/gists/states",{"title":349,"_path":350},"Storage","/gists/storage",{"title":352,"_path":353},"音视频流处理","/gists/stream-cli",{"title":355,"_path":356},"Symbol","/gists/symbol",{"title":358,"_path":359},"系统论","/gists/systems-theory",{"title":361,"_path":362},"Taro","/gists/taro",{"title":364,"_path":365},"任务切片","/gists/task-slice",{"title":367,"_path":368},"技术偏好","/gists/tech-dudge",{"title":370,"_path":371},"Untitled","/gists/untitled",{"title":373,"_path":374},"可变字体","/gists/variable-font",{"title":376,"_path":377},"视觉错觉","/gists/visual-illusion",{"title":379,"_path":380},"SS(SSR)","/gists/vpn",{"title":382,"_path":383},"VS Code 插件开发","/gists/vscode-plugin",{"title":385,"_path":386},"Web Components","/gists/web-components",{"title":388,"_path":389},"Windows","/gists/windows",{"title":391,"_path":392},"查缺补漏","/gists/wrong",{"title":394,"_path":395,"children":396},"代码笔记 / Gists","/source-code",[397],{"title":398,"_path":395},"🚄 代码笔记",{"title":400,"_path":401,"children":402},"我 / Abount","/hire",[403],{"title":404,"_path":401},"📬 技术简历",{"title":406,"_path":407,"children":408},"todo","/todo",[409],{"title":406,"_path":407},{"_path":411,"_dir":412,"_draft":413,"_partial":414,"_locale":415,"title":416,"description":415,"body":417,"_type":3488,"_id":3489,"_source":3490,"_file":3491,"_stem":3492,"_extension":3493},"/_archieved/2020-05/js-module-history","2020-05",false,true,"","JS 模块化简史",{"type":418,"children":419,"toc":3477},"root",[420,428,434,440,536,541,654,659,672,823,837,1318,1323,1328,1601,1606,1794,1799,1930,1935,1940,1960,1965,1970,1988,1993,2237,2242,2247,2388,2393,2642,2647,2998,3004,3017,3127,3132,3137,3150,3156,3161,3182,3188,3193,3199,3204,3216,3230,3242,3248,3357,3371,3376,3381,3386,3399,3404,3409,3471],{"type":421,"tag":422,"props":423,"children":425},"element","h2",{"id":424},"模块化的历史进程",[426],{"type":427,"value":424},"text",{"type":421,"tag":429,"props":430,"children":432},"h3",{"id":431},"模块模式",[433],{"type":427,"value":431},{"type":421,"tag":435,"props":436,"children":437},"p",{},[438],{"type":427,"value":439},"起初，我们写代码比较随意：",{"type":421,"tag":441,"props":442,"children":446},"pre",{"className":443,"code":444,"language":445,"meta":415,"style":415},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","function foo() {\n  //...\n}\nfunction bar() {\n  //...\n}\n","js",[447],{"type":421,"tag":448,"props":449,"children":450},"code",{"__ignoreMap":415},[451,480,490,499,520,528],{"type":421,"tag":452,"props":453,"children":456},"span",{"class":454,"line":455},"line",1,[457,463,469,475],{"type":421,"tag":452,"props":458,"children":460},{"style":459},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[461],{"type":427,"value":462},"function",{"type":421,"tag":452,"props":464,"children":466},{"style":465},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[467],{"type":427,"value":468}," foo",{"type":421,"tag":452,"props":470,"children":472},{"style":471},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[473],{"type":427,"value":474},"()",{"type":421,"tag":452,"props":476,"children":477},{"style":471},[478],{"type":427,"value":479}," {\n",{"type":421,"tag":452,"props":481,"children":483},{"class":454,"line":482},2,[484],{"type":421,"tag":452,"props":485,"children":487},{"style":486},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[488],{"type":427,"value":489},"  //...\n",{"type":421,"tag":452,"props":491,"children":493},{"class":454,"line":492},3,[494],{"type":421,"tag":452,"props":495,"children":496},{"style":471},[497],{"type":427,"value":498},"}\n",{"type":421,"tag":452,"props":500,"children":502},{"class":454,"line":501},4,[503,507,512,516],{"type":421,"tag":452,"props":504,"children":505},{"style":459},[506],{"type":427,"value":462},{"type":421,"tag":452,"props":508,"children":509},{"style":465},[510],{"type":427,"value":511}," bar",{"type":421,"tag":452,"props":513,"children":514},{"style":471},[515],{"type":427,"value":474},{"type":421,"tag":452,"props":517,"children":518},{"style":471},[519],{"type":427,"value":479},{"type":421,"tag":452,"props":521,"children":523},{"class":454,"line":522},5,[524],{"type":421,"tag":452,"props":525,"children":526},{"style":486},[527],{"type":427,"value":489},{"type":421,"tag":452,"props":529,"children":531},{"class":454,"line":530},6,[532],{"type":421,"tag":452,"props":533,"children":534},{"style":471},[535],{"type":427,"value":498},{"type":421,"tag":435,"props":537,"children":538},{},[539],{"type":427,"value":540},"这种写法容易和全局变量发生命名冲突问题，于是我们有了改进的写法：",{"type":421,"tag":441,"props":542,"children":544},{"className":443,"code":543,"language":445,"meta":415,"style":415},"var Utils = {\n  foo: function() {},\n  bar: function() {}\n}\nUtils.foo()\n",[545],{"type":421,"tag":448,"props":546,"children":547},{"__ignoreMap":415},[548,572,599,624,631],{"type":421,"tag":452,"props":549,"children":550},{"class":454,"line":455},[551,556,562,568],{"type":421,"tag":452,"props":552,"children":553},{"style":459},[554],{"type":427,"value":555},"var",{"type":421,"tag":452,"props":557,"children":559},{"style":558},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[560],{"type":427,"value":561}," Utils ",{"type":421,"tag":452,"props":563,"children":565},{"style":564},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[566],{"type":427,"value":567},"=",{"type":421,"tag":452,"props":569,"children":570},{"style":471},[571],{"type":427,"value":479},{"type":421,"tag":452,"props":573,"children":574},{"class":454,"line":482},[575,580,585,590,594],{"type":421,"tag":452,"props":576,"children":577},{"style":465},[578],{"type":427,"value":579},"  foo",{"type":421,"tag":452,"props":581,"children":582},{"style":471},[583],{"type":427,"value":584},":",{"type":421,"tag":452,"props":586,"children":587},{"style":459},[588],{"type":427,"value":589}," function",{"type":421,"tag":452,"props":591,"children":592},{"style":471},[593],{"type":427,"value":474},{"type":421,"tag":452,"props":595,"children":596},{"style":471},[597],{"type":427,"value":598}," {},\n",{"type":421,"tag":452,"props":600,"children":601},{"class":454,"line":492},[602,607,611,615,619],{"type":421,"tag":452,"props":603,"children":604},{"style":465},[605],{"type":427,"value":606},"  bar",{"type":421,"tag":452,"props":608,"children":609},{"style":471},[610],{"type":427,"value":584},{"type":421,"tag":452,"props":612,"children":613},{"style":459},[614],{"type":427,"value":589},{"type":421,"tag":452,"props":616,"children":617},{"style":471},[618],{"type":427,"value":474},{"type":421,"tag":452,"props":620,"children":621},{"style":471},[622],{"type":427,"value":623}," {}\n",{"type":421,"tag":452,"props":625,"children":626},{"class":454,"line":501},[627],{"type":421,"tag":452,"props":628,"children":629},{"style":471},[630],{"type":427,"value":498},{"type":421,"tag":452,"props":632,"children":633},{"class":454,"line":522},[634,639,644,649],{"type":421,"tag":452,"props":635,"children":636},{"style":558},[637],{"type":427,"value":638},"Utils",{"type":421,"tag":452,"props":640,"children":641},{"style":471},[642],{"type":427,"value":643},".",{"type":421,"tag":452,"props":645,"children":646},{"style":465},[647],{"type":427,"value":648},"foo",{"type":421,"tag":452,"props":650,"children":651},{"style":558},[652],{"type":427,"value":653},"()\n",{"type":421,"tag":435,"props":655,"children":656},{},[657],{"type":427,"value":658},"这种写法看似解决了命名冲突问题，其实也暗含了安全问题。我们可以在外部随意访问 Utils.foo 并对其进行修改。",{"type":421,"tag":435,"props":660,"children":661},{},[662,664,670],{"type":427,"value":663},"来看 jQuery，jQuery 通过 IIFE，使用",{"type":421,"tag":448,"props":665,"children":667},{"className":666},[],[668],{"type":427,"value":669},"引入全局变量",{"type":427,"value":671},"的方式解决了命名冲突及模块安全问题。",{"type":421,"tag":441,"props":673,"children":675},{"className":443,"code":674,"language":445,"meta":415,"style":415},";(function(window) {\n  const _privateFn = function() {\n    console.log('Aha, this is a private Fn')\n  }\n})(window)\n_privateFn // undefined\n",[676],{"type":421,"tag":448,"props":677,"children":678},{"__ignoreMap":415},[679,715,746,789,797,810],{"type":421,"tag":452,"props":680,"children":681},{"class":454,"line":455},[682,687,692,696,700,706,711],{"type":421,"tag":452,"props":683,"children":684},{"style":471},[685],{"type":427,"value":686},";",{"type":421,"tag":452,"props":688,"children":689},{"style":558},[690],{"type":427,"value":691},"(",{"type":421,"tag":452,"props":693,"children":694},{"style":459},[695],{"type":427,"value":462},{"type":421,"tag":452,"props":697,"children":698},{"style":471},[699],{"type":427,"value":691},{"type":421,"tag":452,"props":701,"children":703},{"style":702},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[704],{"type":427,"value":705},"window",{"type":421,"tag":452,"props":707,"children":708},{"style":471},[709],{"type":427,"value":710},")",{"type":421,"tag":452,"props":712,"children":713},{"style":471},[714],{"type":427,"value":479},{"type":421,"tag":452,"props":716,"children":717},{"class":454,"line":482},[718,723,729,734,738,742],{"type":421,"tag":452,"props":719,"children":720},{"style":459},[721],{"type":427,"value":722},"  const",{"type":421,"tag":452,"props":724,"children":726},{"style":725},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[727],{"type":427,"value":728}," _privateFn",{"type":421,"tag":452,"props":730,"children":731},{"style":564},[732],{"type":427,"value":733}," =",{"type":421,"tag":452,"props":735,"children":736},{"style":459},[737],{"type":427,"value":589},{"type":421,"tag":452,"props":739,"children":740},{"style":471},[741],{"type":427,"value":474},{"type":421,"tag":452,"props":743,"children":744},{"style":471},[745],{"type":427,"value":479},{"type":421,"tag":452,"props":747,"children":748},{"class":454,"line":492},[749,754,758,763,768,774,780,784],{"type":421,"tag":452,"props":750,"children":751},{"style":558},[752],{"type":427,"value":753},"    console",{"type":421,"tag":452,"props":755,"children":756},{"style":471},[757],{"type":427,"value":643},{"type":421,"tag":452,"props":759,"children":760},{"style":465},[761],{"type":427,"value":762},"log",{"type":421,"tag":452,"props":764,"children":766},{"style":765},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[767],{"type":427,"value":691},{"type":421,"tag":452,"props":769,"children":771},{"style":770},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[772],{"type":427,"value":773},"'",{"type":421,"tag":452,"props":775,"children":777},{"style":776},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[778],{"type":427,"value":779},"Aha, this is a private Fn",{"type":421,"tag":452,"props":781,"children":782},{"style":770},[783],{"type":427,"value":773},{"type":421,"tag":452,"props":785,"children":786},{"style":765},[787],{"type":427,"value":788},")\n",{"type":421,"tag":452,"props":790,"children":791},{"class":454,"line":501},[792],{"type":421,"tag":452,"props":793,"children":794},{"style":471},[795],{"type":427,"value":796},"  }\n",{"type":421,"tag":452,"props":798,"children":799},{"class":454,"line":522},[800,805],{"type":421,"tag":452,"props":801,"children":802},{"style":471},[803],{"type":427,"value":804},"}",{"type":421,"tag":452,"props":806,"children":807},{"style":558},[808],{"type":427,"value":809},")(window)\n",{"type":421,"tag":452,"props":811,"children":812},{"class":454,"line":530},[813,818],{"type":421,"tag":452,"props":814,"children":815},{"style":558},[816],{"type":427,"value":817},"_privateFn ",{"type":421,"tag":452,"props":819,"children":820},{"style":486},[821],{"type":427,"value":822},"// undefined\n",{"type":421,"tag":435,"props":824,"children":825},{},[826,835],{"type":421,"tag":827,"props":828,"children":832},"a",{"href":829,"rel":830},"https://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html",[831],"nofollow",[833],{"type":427,"value":834},"这篇博客",{"type":427,"value":836},"提到了如何解决状态私有问题：",{"type":421,"tag":441,"props":838,"children":840},{"className":443,"code":839,"language":445,"meta":415,"style":415},"var MODULE = (function(my) {\n  const _private = (my._private = my._private || {})\n  const _seal = (my._seal =\n    my._seal ||\n    function() {\n      delete my._private\n      delete my._seal\n      delete my._unseal\n    })\n  const _unseal = (my._unseal =\n    my._unseal ||\n    function() {\n      my._private = _private\n      my._seal = _seal\n      my._unseal = _unseal\n    })\n\n  return my\n})(MODULE || {})\n",[841],{"type":421,"tag":448,"props":842,"children":843},{"__ignoreMap":415},[844,887,951,989,1010,1026,1047,1068,1089,1102,1140,1160,1176,1202,1227,1252,1264,1273,1288],{"type":421,"tag":452,"props":845,"children":846},{"class":454,"line":455},[847,851,857,861,866,870,874,879,883],{"type":421,"tag":452,"props":848,"children":849},{"style":459},[850],{"type":427,"value":555},{"type":421,"tag":452,"props":852,"children":854},{"style":853},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[855],{"type":427,"value":856}," MODULE",{"type":421,"tag":452,"props":858,"children":859},{"style":564},[860],{"type":427,"value":733},{"type":421,"tag":452,"props":862,"children":863},{"style":558},[864],{"type":427,"value":865}," (",{"type":421,"tag":452,"props":867,"children":868},{"style":459},[869],{"type":427,"value":462},{"type":421,"tag":452,"props":871,"children":872},{"style":471},[873],{"type":427,"value":691},{"type":421,"tag":452,"props":875,"children":876},{"style":702},[877],{"type":427,"value":878},"my",{"type":421,"tag":452,"props":880,"children":881},{"style":471},[882],{"type":427,"value":710},{"type":421,"tag":452,"props":884,"children":885},{"style":471},[886],{"type":427,"value":479},{"type":421,"tag":452,"props":888,"children":889},{"class":454,"line":482},[890,894,899,903,907,911,915,920,924,929,933,937,942,947],{"type":421,"tag":452,"props":891,"children":892},{"style":459},[893],{"type":427,"value":722},{"type":421,"tag":452,"props":895,"children":896},{"style":853},[897],{"type":427,"value":898}," _private",{"type":421,"tag":452,"props":900,"children":901},{"style":564},[902],{"type":427,"value":733},{"type":421,"tag":452,"props":904,"children":905},{"style":765},[906],{"type":427,"value":865},{"type":421,"tag":452,"props":908,"children":909},{"style":558},[910],{"type":427,"value":878},{"type":421,"tag":452,"props":912,"children":913},{"style":471},[914],{"type":427,"value":643},{"type":421,"tag":452,"props":916,"children":917},{"style":558},[918],{"type":427,"value":919},"_private",{"type":421,"tag":452,"props":921,"children":922},{"style":564},[923],{"type":427,"value":733},{"type":421,"tag":452,"props":925,"children":926},{"style":558},[927],{"type":427,"value":928}," my",{"type":421,"tag":452,"props":930,"children":931},{"style":471},[932],{"type":427,"value":643},{"type":421,"tag":452,"props":934,"children":935},{"style":558},[936],{"type":427,"value":919},{"type":421,"tag":452,"props":938,"children":939},{"style":564},[940],{"type":427,"value":941}," ||",{"type":421,"tag":452,"props":943,"children":944},{"style":471},[945],{"type":427,"value":946}," {}",{"type":421,"tag":452,"props":948,"children":949},{"style":765},[950],{"type":427,"value":788},{"type":421,"tag":452,"props":952,"children":953},{"class":454,"line":492},[954,958,963,967,971,975,979,984],{"type":421,"tag":452,"props":955,"children":956},{"style":459},[957],{"type":427,"value":722},{"type":421,"tag":452,"props":959,"children":960},{"style":853},[961],{"type":427,"value":962}," _seal",{"type":421,"tag":452,"props":964,"children":965},{"style":564},[966],{"type":427,"value":733},{"type":421,"tag":452,"props":968,"children":969},{"style":765},[970],{"type":427,"value":865},{"type":421,"tag":452,"props":972,"children":973},{"style":558},[974],{"type":427,"value":878},{"type":421,"tag":452,"props":976,"children":977},{"style":471},[978],{"type":427,"value":643},{"type":421,"tag":452,"props":980,"children":981},{"style":558},[982],{"type":427,"value":983},"_seal",{"type":421,"tag":452,"props":985,"children":986},{"style":564},[987],{"type":427,"value":988}," =\n",{"type":421,"tag":452,"props":990,"children":991},{"class":454,"line":501},[992,997,1001,1005],{"type":421,"tag":452,"props":993,"children":994},{"style":558},[995],{"type":427,"value":996},"    my",{"type":421,"tag":452,"props":998,"children":999},{"style":471},[1000],{"type":427,"value":643},{"type":421,"tag":452,"props":1002,"children":1003},{"style":558},[1004],{"type":427,"value":983},{"type":421,"tag":452,"props":1006,"children":1007},{"style":564},[1008],{"type":427,"value":1009}," ||\n",{"type":421,"tag":452,"props":1011,"children":1012},{"class":454,"line":522},[1013,1018,1022],{"type":421,"tag":452,"props":1014,"children":1015},{"style":459},[1016],{"type":427,"value":1017},"    function",{"type":421,"tag":452,"props":1019,"children":1020},{"style":471},[1021],{"type":427,"value":474},{"type":421,"tag":452,"props":1023,"children":1024},{"style":471},[1025],{"type":427,"value":479},{"type":421,"tag":452,"props":1027,"children":1028},{"class":454,"line":530},[1029,1034,1038,1042],{"type":421,"tag":452,"props":1030,"children":1031},{"style":564},[1032],{"type":427,"value":1033},"      delete",{"type":421,"tag":452,"props":1035,"children":1036},{"style":558},[1037],{"type":427,"value":928},{"type":421,"tag":452,"props":1039,"children":1040},{"style":471},[1041],{"type":427,"value":643},{"type":421,"tag":452,"props":1043,"children":1044},{"style":558},[1045],{"type":427,"value":1046},"_private\n",{"type":421,"tag":452,"props":1048,"children":1050},{"class":454,"line":1049},7,[1051,1055,1059,1063],{"type":421,"tag":452,"props":1052,"children":1053},{"style":564},[1054],{"type":427,"value":1033},{"type":421,"tag":452,"props":1056,"children":1057},{"style":558},[1058],{"type":427,"value":928},{"type":421,"tag":452,"props":1060,"children":1061},{"style":471},[1062],{"type":427,"value":643},{"type":421,"tag":452,"props":1064,"children":1065},{"style":558},[1066],{"type":427,"value":1067},"_seal\n",{"type":421,"tag":452,"props":1069,"children":1071},{"class":454,"line":1070},8,[1072,1076,1080,1084],{"type":421,"tag":452,"props":1073,"children":1074},{"style":564},[1075],{"type":427,"value":1033},{"type":421,"tag":452,"props":1077,"children":1078},{"style":558},[1079],{"type":427,"value":928},{"type":421,"tag":452,"props":1081,"children":1082},{"style":471},[1083],{"type":427,"value":643},{"type":421,"tag":452,"props":1085,"children":1086},{"style":558},[1087],{"type":427,"value":1088},"_unseal\n",{"type":421,"tag":452,"props":1090,"children":1092},{"class":454,"line":1091},9,[1093,1098],{"type":421,"tag":452,"props":1094,"children":1095},{"style":471},[1096],{"type":427,"value":1097},"    }",{"type":421,"tag":452,"props":1099,"children":1100},{"style":765},[1101],{"type":427,"value":788},{"type":421,"tag":452,"props":1103,"children":1105},{"class":454,"line":1104},10,[1106,1110,1115,1119,1123,1127,1131,1136],{"type":421,"tag":452,"props":1107,"children":1108},{"style":459},[1109],{"type":427,"value":722},{"type":421,"tag":452,"props":1111,"children":1112},{"style":853},[1113],{"type":427,"value":1114}," _unseal",{"type":421,"tag":452,"props":1116,"children":1117},{"style":564},[1118],{"type":427,"value":733},{"type":421,"tag":452,"props":1120,"children":1121},{"style":765},[1122],{"type":427,"value":865},{"type":421,"tag":452,"props":1124,"children":1125},{"style":558},[1126],{"type":427,"value":878},{"type":421,"tag":452,"props":1128,"children":1129},{"style":471},[1130],{"type":427,"value":643},{"type":421,"tag":452,"props":1132,"children":1133},{"style":558},[1134],{"type":427,"value":1135},"_unseal",{"type":421,"tag":452,"props":1137,"children":1138},{"style":564},[1139],{"type":427,"value":988},{"type":421,"tag":452,"props":1141,"children":1143},{"class":454,"line":1142},11,[1144,1148,1152,1156],{"type":421,"tag":452,"props":1145,"children":1146},{"style":558},[1147],{"type":427,"value":996},{"type":421,"tag":452,"props":1149,"children":1150},{"style":471},[1151],{"type":427,"value":643},{"type":421,"tag":452,"props":1153,"children":1154},{"style":558},[1155],{"type":427,"value":1135},{"type":421,"tag":452,"props":1157,"children":1158},{"style":564},[1159],{"type":427,"value":1009},{"type":421,"tag":452,"props":1161,"children":1163},{"class":454,"line":1162},12,[1164,1168,1172],{"type":421,"tag":452,"props":1165,"children":1166},{"style":459},[1167],{"type":427,"value":1017},{"type":421,"tag":452,"props":1169,"children":1170},{"style":471},[1171],{"type":427,"value":474},{"type":421,"tag":452,"props":1173,"children":1174},{"style":471},[1175],{"type":427,"value":479},{"type":421,"tag":452,"props":1177,"children":1179},{"class":454,"line":1178},13,[1180,1185,1189,1193,1197],{"type":421,"tag":452,"props":1181,"children":1182},{"style":558},[1183],{"type":427,"value":1184},"      my",{"type":421,"tag":452,"props":1186,"children":1187},{"style":471},[1188],{"type":427,"value":643},{"type":421,"tag":452,"props":1190,"children":1191},{"style":558},[1192],{"type":427,"value":919},{"type":421,"tag":452,"props":1194,"children":1195},{"style":564},[1196],{"type":427,"value":733},{"type":421,"tag":452,"props":1198,"children":1199},{"style":558},[1200],{"type":427,"value":1201}," _private\n",{"type":421,"tag":452,"props":1203,"children":1205},{"class":454,"line":1204},14,[1206,1210,1214,1218,1222],{"type":421,"tag":452,"props":1207,"children":1208},{"style":558},[1209],{"type":427,"value":1184},{"type":421,"tag":452,"props":1211,"children":1212},{"style":471},[1213],{"type":427,"value":643},{"type":421,"tag":452,"props":1215,"children":1216},{"style":558},[1217],{"type":427,"value":983},{"type":421,"tag":452,"props":1219,"children":1220},{"style":564},[1221],{"type":427,"value":733},{"type":421,"tag":452,"props":1223,"children":1224},{"style":558},[1225],{"type":427,"value":1226}," _seal\n",{"type":421,"tag":452,"props":1228,"children":1230},{"class":454,"line":1229},15,[1231,1235,1239,1243,1247],{"type":421,"tag":452,"props":1232,"children":1233},{"style":558},[1234],{"type":427,"value":1184},{"type":421,"tag":452,"props":1236,"children":1237},{"style":471},[1238],{"type":427,"value":643},{"type":421,"tag":452,"props":1240,"children":1241},{"style":558},[1242],{"type":427,"value":1135},{"type":421,"tag":452,"props":1244,"children":1245},{"style":564},[1246],{"type":427,"value":733},{"type":421,"tag":452,"props":1248,"children":1249},{"style":558},[1250],{"type":427,"value":1251}," _unseal\n",{"type":421,"tag":452,"props":1253,"children":1255},{"class":454,"line":1254},16,[1256,1260],{"type":421,"tag":452,"props":1257,"children":1258},{"style":471},[1259],{"type":427,"value":1097},{"type":421,"tag":452,"props":1261,"children":1262},{"style":765},[1263],{"type":427,"value":788},{"type":421,"tag":452,"props":1265,"children":1267},{"class":454,"line":1266},17,[1268],{"type":421,"tag":452,"props":1269,"children":1270},{"emptyLinePlaceholder":414},[1271],{"type":427,"value":1272},"\n",{"type":421,"tag":452,"props":1274,"children":1276},{"class":454,"line":1275},18,[1277,1283],{"type":421,"tag":452,"props":1278,"children":1280},{"style":1279},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1281],{"type":427,"value":1282},"  return",{"type":421,"tag":452,"props":1284,"children":1285},{"style":558},[1286],{"type":427,"value":1287}," my\n",{"type":421,"tag":452,"props":1289,"children":1291},{"class":454,"line":1290},19,[1292,1296,1301,1306,1310,1314],{"type":421,"tag":452,"props":1293,"children":1294},{"style":471},[1295],{"type":427,"value":804},{"type":421,"tag":452,"props":1297,"children":1298},{"style":558},[1299],{"type":427,"value":1300},")(",{"type":421,"tag":452,"props":1302,"children":1303},{"style":853},[1304],{"type":427,"value":1305},"MODULE",{"type":421,"tag":452,"props":1307,"children":1308},{"style":564},[1309],{"type":427,"value":941},{"type":421,"tag":452,"props":1311,"children":1312},{"style":471},[1313],{"type":427,"value":946},{"type":421,"tag":452,"props":1315,"children":1316},{"style":558},[1317],{"type":427,"value":788},{"type":421,"tag":429,"props":1319,"children":1321},{"id":1320},"模块加载",[1322],{"type":427,"value":1320},{"type":421,"tag":435,"props":1324,"children":1325},{},[1326],{"type":427,"value":1327},"起初，我们这样组织代码：",{"type":421,"tag":441,"props":1329,"children":1331},{"className":443,"code":1330,"language":445,"meta":415,"style":415},"\u003Cscript type=\"text/javascript\" src=\"module1.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module2.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module3.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module4.js\">\u003C/script>\n",[1332],{"type":421,"tag":448,"props":1333,"children":1334},{"__ignoreMap":415},[1335,1409,1473,1537],{"type":421,"tag":452,"props":1336,"children":1337},{"class":454,"line":455},[1338,1343,1349,1355,1359,1364,1369,1373,1378,1382,1386,1391,1395,1400,1404],{"type":421,"tag":452,"props":1339,"children":1340},{"style":471},[1341],{"type":427,"value":1342},"\u003C",{"type":421,"tag":452,"props":1344,"children":1346},{"style":1345},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1347],{"type":427,"value":1348},"script",{"type":421,"tag":452,"props":1350,"children":1352},{"style":1351},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1353],{"type":427,"value":1354}," type",{"type":421,"tag":452,"props":1356,"children":1357},{"style":564},[1358],{"type":427,"value":567},{"type":421,"tag":452,"props":1360,"children":1361},{"style":770},[1362],{"type":427,"value":1363},"\"",{"type":421,"tag":452,"props":1365,"children":1366},{"style":776},[1367],{"type":427,"value":1368},"text/javascript",{"type":421,"tag":452,"props":1370,"children":1371},{"style":770},[1372],{"type":427,"value":1363},{"type":421,"tag":452,"props":1374,"children":1375},{"style":1351},[1376],{"type":427,"value":1377}," src",{"type":421,"tag":452,"props":1379,"children":1380},{"style":564},[1381],{"type":427,"value":567},{"type":421,"tag":452,"props":1383,"children":1384},{"style":770},[1385],{"type":427,"value":1363},{"type":421,"tag":452,"props":1387,"children":1388},{"style":776},[1389],{"type":427,"value":1390},"module1.js",{"type":421,"tag":452,"props":1392,"children":1393},{"style":770},[1394],{"type":427,"value":1363},{"type":421,"tag":452,"props":1396,"children":1397},{"style":471},[1398],{"type":427,"value":1399},">\u003C/",{"type":421,"tag":452,"props":1401,"children":1402},{"style":1345},[1403],{"type":427,"value":1348},{"type":421,"tag":452,"props":1405,"children":1406},{"style":471},[1407],{"type":427,"value":1408},">\n",{"type":421,"tag":452,"props":1410,"children":1411},{"class":454,"line":482},[1412,1416,1420,1424,1428,1432,1436,1440,1444,1448,1452,1457,1461,1465,1469],{"type":421,"tag":452,"props":1413,"children":1414},{"style":471},[1415],{"type":427,"value":1342},{"type":421,"tag":452,"props":1417,"children":1418},{"style":1345},[1419],{"type":427,"value":1348},{"type":421,"tag":452,"props":1421,"children":1422},{"style":1351},[1423],{"type":427,"value":1354},{"type":421,"tag":452,"props":1425,"children":1426},{"style":564},[1427],{"type":427,"value":567},{"type":421,"tag":452,"props":1429,"children":1430},{"style":770},[1431],{"type":427,"value":1363},{"type":421,"tag":452,"props":1433,"children":1434},{"style":776},[1435],{"type":427,"value":1368},{"type":421,"tag":452,"props":1437,"children":1438},{"style":770},[1439],{"type":427,"value":1363},{"type":421,"tag":452,"props":1441,"children":1442},{"style":1351},[1443],{"type":427,"value":1377},{"type":421,"tag":452,"props":1445,"children":1446},{"style":564},[1447],{"type":427,"value":567},{"type":421,"tag":452,"props":1449,"children":1450},{"style":770},[1451],{"type":427,"value":1363},{"type":421,"tag":452,"props":1453,"children":1454},{"style":776},[1455],{"type":427,"value":1456},"module2.js",{"type":421,"tag":452,"props":1458,"children":1459},{"style":770},[1460],{"type":427,"value":1363},{"type":421,"tag":452,"props":1462,"children":1463},{"style":471},[1464],{"type":427,"value":1399},{"type":421,"tag":452,"props":1466,"children":1467},{"style":1345},[1468],{"type":427,"value":1348},{"type":421,"tag":452,"props":1470,"children":1471},{"style":471},[1472],{"type":427,"value":1408},{"type":421,"tag":452,"props":1474,"children":1475},{"class":454,"line":492},[1476,1480,1484,1488,1492,1496,1500,1504,1508,1512,1516,1521,1525,1529,1533],{"type":421,"tag":452,"props":1477,"children":1478},{"style":471},[1479],{"type":427,"value":1342},{"type":421,"tag":452,"props":1481,"children":1482},{"style":1345},[1483],{"type":427,"value":1348},{"type":421,"tag":452,"props":1485,"children":1486},{"style":1351},[1487],{"type":427,"value":1354},{"type":421,"tag":452,"props":1489,"children":1490},{"style":564},[1491],{"type":427,"value":567},{"type":421,"tag":452,"props":1493,"children":1494},{"style":770},[1495],{"type":427,"value":1363},{"type":421,"tag":452,"props":1497,"children":1498},{"style":776},[1499],{"type":427,"value":1368},{"type":421,"tag":452,"props":1501,"children":1502},{"style":770},[1503],{"type":427,"value":1363},{"type":421,"tag":452,"props":1505,"children":1506},{"style":1351},[1507],{"type":427,"value":1377},{"type":421,"tag":452,"props":1509,"children":1510},{"style":564},[1511],{"type":427,"value":567},{"type":421,"tag":452,"props":1513,"children":1514},{"style":770},[1515],{"type":427,"value":1363},{"type":421,"tag":452,"props":1517,"children":1518},{"style":776},[1519],{"type":427,"value":1520},"module3.js",{"type":421,"tag":452,"props":1522,"children":1523},{"style":770},[1524],{"type":427,"value":1363},{"type":421,"tag":452,"props":1526,"children":1527},{"style":471},[1528],{"type":427,"value":1399},{"type":421,"tag":452,"props":1530,"children":1531},{"style":1345},[1532],{"type":427,"value":1348},{"type":421,"tag":452,"props":1534,"children":1535},{"style":471},[1536],{"type":427,"value":1408},{"type":421,"tag":452,"props":1538,"children":1539},{"class":454,"line":501},[1540,1544,1548,1552,1556,1560,1564,1568,1572,1576,1580,1585,1589,1593,1597],{"type":421,"tag":452,"props":1541,"children":1542},{"style":471},[1543],{"type":427,"value":1342},{"type":421,"tag":452,"props":1545,"children":1546},{"style":1345},[1547],{"type":427,"value":1348},{"type":421,"tag":452,"props":1549,"children":1550},{"style":1351},[1551],{"type":427,"value":1354},{"type":421,"tag":452,"props":1553,"children":1554},{"style":564},[1555],{"type":427,"value":567},{"type":421,"tag":452,"props":1557,"children":1558},{"style":770},[1559],{"type":427,"value":1363},{"type":421,"tag":452,"props":1561,"children":1562},{"style":776},[1563],{"type":427,"value":1368},{"type":421,"tag":452,"props":1565,"children":1566},{"style":770},[1567],{"type":427,"value":1363},{"type":421,"tag":452,"props":1569,"children":1570},{"style":1351},[1571],{"type":427,"value":1377},{"type":421,"tag":452,"props":1573,"children":1574},{"style":564},[1575],{"type":427,"value":567},{"type":421,"tag":452,"props":1577,"children":1578},{"style":770},[1579],{"type":427,"value":1363},{"type":421,"tag":452,"props":1581,"children":1582},{"style":776},[1583],{"type":427,"value":1584},"module4.js",{"type":421,"tag":452,"props":1586,"children":1587},{"style":770},[1588],{"type":427,"value":1363},{"type":421,"tag":452,"props":1590,"children":1591},{"style":471},[1592],{"type":427,"value":1399},{"type":421,"tag":452,"props":1594,"children":1595},{"style":1345},[1596],{"type":427,"value":1348},{"type":421,"tag":452,"props":1598,"children":1599},{"style":471},[1600],{"type":427,"value":1408},{"type":421,"tag":435,"props":1602,"children":1603},{},[1604],{"type":427,"value":1605},"YUI3、KISSY 主要是通过配置的方式来解决文件依赖的问题。",{"type":421,"tag":441,"props":1607,"children":1609},{"className":443,"code":1608,"language":445,"meta":415,"style":415},"YUI.add(\n  'module1',\n  function(Y) {\n    // ...\n  },\n  '0.0.1',\n  {\n    requires: ['node', 'event']\n  }\n)\n",[1610],{"type":421,"tag":448,"props":1611,"children":1612},{"__ignoreMap":415},[1613,1635,1657,1682,1690,1698,1718,1726,1780,1787],{"type":421,"tag":452,"props":1614,"children":1615},{"class":454,"line":455},[1616,1621,1625,1630],{"type":421,"tag":452,"props":1617,"children":1618},{"style":853},[1619],{"type":427,"value":1620},"YUI",{"type":421,"tag":452,"props":1622,"children":1623},{"style":471},[1624],{"type":427,"value":643},{"type":421,"tag":452,"props":1626,"children":1627},{"style":465},[1628],{"type":427,"value":1629},"add",{"type":421,"tag":452,"props":1631,"children":1632},{"style":558},[1633],{"type":427,"value":1634},"(\n",{"type":421,"tag":452,"props":1636,"children":1637},{"class":454,"line":482},[1638,1643,1648,1652],{"type":421,"tag":452,"props":1639,"children":1640},{"style":770},[1641],{"type":427,"value":1642},"  '",{"type":421,"tag":452,"props":1644,"children":1645},{"style":776},[1646],{"type":427,"value":1647},"module1",{"type":421,"tag":452,"props":1649,"children":1650},{"style":770},[1651],{"type":427,"value":773},{"type":421,"tag":452,"props":1653,"children":1654},{"style":471},[1655],{"type":427,"value":1656},",\n",{"type":421,"tag":452,"props":1658,"children":1659},{"class":454,"line":492},[1660,1665,1669,1674,1678],{"type":421,"tag":452,"props":1661,"children":1662},{"style":459},[1663],{"type":427,"value":1664},"  function",{"type":421,"tag":452,"props":1666,"children":1667},{"style":471},[1668],{"type":427,"value":691},{"type":421,"tag":452,"props":1670,"children":1671},{"style":702},[1672],{"type":427,"value":1673},"Y",{"type":421,"tag":452,"props":1675,"children":1676},{"style":471},[1677],{"type":427,"value":710},{"type":421,"tag":452,"props":1679,"children":1680},{"style":471},[1681],{"type":427,"value":479},{"type":421,"tag":452,"props":1683,"children":1684},{"class":454,"line":501},[1685],{"type":421,"tag":452,"props":1686,"children":1687},{"style":486},[1688],{"type":427,"value":1689},"    // ...\n",{"type":421,"tag":452,"props":1691,"children":1692},{"class":454,"line":522},[1693],{"type":421,"tag":452,"props":1694,"children":1695},{"style":471},[1696],{"type":427,"value":1697},"  },\n",{"type":421,"tag":452,"props":1699,"children":1700},{"class":454,"line":530},[1701,1705,1710,1714],{"type":421,"tag":452,"props":1702,"children":1703},{"style":770},[1704],{"type":427,"value":1642},{"type":421,"tag":452,"props":1706,"children":1707},{"style":776},[1708],{"type":427,"value":1709},"0.0.1",{"type":421,"tag":452,"props":1711,"children":1712},{"style":770},[1713],{"type":427,"value":773},{"type":421,"tag":452,"props":1715,"children":1716},{"style":471},[1717],{"type":427,"value":1656},{"type":421,"tag":452,"props":1719,"children":1720},{"class":454,"line":1049},[1721],{"type":421,"tag":452,"props":1722,"children":1723},{"style":471},[1724],{"type":427,"value":1725},"  {\n",{"type":421,"tag":452,"props":1727,"children":1728},{"class":454,"line":1070},[1729,1734,1738,1743,1747,1752,1756,1761,1766,1771,1775],{"type":421,"tag":452,"props":1730,"children":1731},{"style":765},[1732],{"type":427,"value":1733},"    requires",{"type":421,"tag":452,"props":1735,"children":1736},{"style":471},[1737],{"type":427,"value":584},{"type":421,"tag":452,"props":1739,"children":1740},{"style":558},[1741],{"type":427,"value":1742}," [",{"type":421,"tag":452,"props":1744,"children":1745},{"style":770},[1746],{"type":427,"value":773},{"type":421,"tag":452,"props":1748,"children":1749},{"style":776},[1750],{"type":427,"value":1751},"node",{"type":421,"tag":452,"props":1753,"children":1754},{"style":770},[1755],{"type":427,"value":773},{"type":421,"tag":452,"props":1757,"children":1758},{"style":471},[1759],{"type":427,"value":1760},",",{"type":421,"tag":452,"props":1762,"children":1763},{"style":770},[1764],{"type":427,"value":1765}," '",{"type":421,"tag":452,"props":1767,"children":1768},{"style":776},[1769],{"type":427,"value":1770},"event",{"type":421,"tag":452,"props":1772,"children":1773},{"style":770},[1774],{"type":427,"value":773},{"type":421,"tag":452,"props":1776,"children":1777},{"style":558},[1778],{"type":427,"value":1779},"]\n",{"type":421,"tag":452,"props":1781,"children":1782},{"class":454,"line":1091},[1783],{"type":421,"tag":452,"props":1784,"children":1785},{"style":471},[1786],{"type":427,"value":796},{"type":421,"tag":452,"props":1788,"children":1789},{"class":454,"line":1104},[1790],{"type":421,"tag":452,"props":1791,"children":1792},{"style":558},[1793],{"type":427,"value":788},{"type":421,"tag":435,"props":1795,"children":1796},{},[1797],{"type":427,"value":1798},"但是也带来了命名空间冲突的问题。",{"type":421,"tag":441,"props":1800,"children":1802},{"className":443,"code":1801,"language":445,"meta":415,"style":415},"YUI().use('a', 'b', function(Y) {\n  Y.foo()\n  // foo 方法究竟是模块 a 还是 b 提供的？\n  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n})\n",[1803],{"type":421,"tag":448,"props":1804,"children":1805},{"__ignoreMap":415},[1806,1883,1903,1911,1919],{"type":421,"tag":452,"props":1807,"children":1808},{"class":454,"line":455},[1809,1813,1817,1821,1826,1830,1834,1838,1842,1846,1850,1855,1859,1863,1867,1871,1875,1879],{"type":421,"tag":452,"props":1810,"children":1811},{"style":465},[1812],{"type":427,"value":1620},{"type":421,"tag":452,"props":1814,"children":1815},{"style":558},[1816],{"type":427,"value":474},{"type":421,"tag":452,"props":1818,"children":1819},{"style":471},[1820],{"type":427,"value":643},{"type":421,"tag":452,"props":1822,"children":1823},{"style":465},[1824],{"type":427,"value":1825},"use",{"type":421,"tag":452,"props":1827,"children":1828},{"style":558},[1829],{"type":427,"value":691},{"type":421,"tag":452,"props":1831,"children":1832},{"style":770},[1833],{"type":427,"value":773},{"type":421,"tag":452,"props":1835,"children":1836},{"style":776},[1837],{"type":427,"value":827},{"type":421,"tag":452,"props":1839,"children":1840},{"style":770},[1841],{"type":427,"value":773},{"type":421,"tag":452,"props":1843,"children":1844},{"style":471},[1845],{"type":427,"value":1760},{"type":421,"tag":452,"props":1847,"children":1848},{"style":770},[1849],{"type":427,"value":1765},{"type":421,"tag":452,"props":1851,"children":1852},{"style":776},[1853],{"type":427,"value":1854},"b",{"type":421,"tag":452,"props":1856,"children":1857},{"style":770},[1858],{"type":427,"value":773},{"type":421,"tag":452,"props":1860,"children":1861},{"style":471},[1862],{"type":427,"value":1760},{"type":421,"tag":452,"props":1864,"children":1865},{"style":459},[1866],{"type":427,"value":589},{"type":421,"tag":452,"props":1868,"children":1869},{"style":471},[1870],{"type":427,"value":691},{"type":421,"tag":452,"props":1872,"children":1873},{"style":702},[1874],{"type":427,"value":1673},{"type":421,"tag":452,"props":1876,"children":1877},{"style":471},[1878],{"type":427,"value":710},{"type":421,"tag":452,"props":1880,"children":1881},{"style":471},[1882],{"type":427,"value":479},{"type":421,"tag":452,"props":1884,"children":1885},{"class":454,"line":482},[1886,1891,1895,1899],{"type":421,"tag":452,"props":1887,"children":1888},{"style":853},[1889],{"type":427,"value":1890},"  Y",{"type":421,"tag":452,"props":1892,"children":1893},{"style":471},[1894],{"type":427,"value":643},{"type":421,"tag":452,"props":1896,"children":1897},{"style":465},[1898],{"type":427,"value":648},{"type":421,"tag":452,"props":1900,"children":1901},{"style":765},[1902],{"type":427,"value":653},{"type":421,"tag":452,"props":1904,"children":1905},{"class":454,"line":492},[1906],{"type":421,"tag":452,"props":1907,"children":1908},{"style":486},[1909],{"type":427,"value":1910},"  // foo 方法究竟是模块 a 还是 b 提供的？\n",{"type":421,"tag":452,"props":1912,"children":1913},{"class":454,"line":501},[1914],{"type":421,"tag":452,"props":1915,"children":1916},{"style":486},[1917],{"type":427,"value":1918},"  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n",{"type":421,"tag":452,"props":1920,"children":1921},{"class":454,"line":522},[1922,1926],{"type":421,"tag":452,"props":1923,"children":1924},{"style":471},[1925],{"type":427,"value":804},{"type":421,"tag":452,"props":1927,"children":1928},{"style":558},[1929],{"type":427,"value":788},{"type":421,"tag":435,"props":1931,"children":1932},{},[1933],{"type":427,"value":1934},"为什么我们需要模块化？",{"type":421,"tag":435,"props":1936,"children":1937},{},[1938],{"type":427,"value":1939},"当下来看，页面内应用正在变得复杂，我们需要使用模块解耦各个 JS 文件，使开发过程变得可维护，在部署过程中优化以提高页面加载性能。",{"type":421,"tag":1941,"props":1942,"children":1943},"ul",{},[1944,1950,1955],{"type":421,"tag":1945,"props":1946,"children":1947},"li",{},[1948],{"type":427,"value":1949},"如何安全的把模块的 API 暴漏出去？",{"type":421,"tag":1945,"props":1951,"children":1952},{},[1953],{"type":427,"value":1954},"如何唯一标识一个模块？",{"type":421,"tag":1945,"props":1956,"children":1957},{},[1958],{"type":427,"value":1959},"如何方便的使用所依赖的模块？",{"type":421,"tag":429,"props":1961,"children":1963},{"id":1962},"模块化规范演变",[1964],{"type":427,"value":1962},{"type":421,"tag":435,"props":1966,"children":1967},{},[1968],{"type":427,"value":1969},"目前有三种主流的模块加载方式，",{"type":421,"tag":1941,"props":1971,"children":1972},{},[1973,1978,1983],{"type":421,"tag":1945,"props":1974,"children":1975},{},[1976],{"type":427,"value":1977},"CommonJS",{"type":421,"tag":1945,"props":1979,"children":1980},{},[1981],{"type":427,"value":1982},"AMD（Asynchronous Module Definition）/ CMD / UMD",{"type":421,"tag":1945,"props":1984,"children":1985},{},[1986],{"type":427,"value":1987},"ES Module",{"type":421,"tag":435,"props":1989,"children":1990},{},[1991],{"type":427,"value":1992},"CommonJS 原名为 ServerJS，推出 Modules/1.0 规范后，在 Node.js 环境下取得了很不错的实践。",{"type":421,"tag":441,"props":1994,"children":1996},{"className":443,"code":1995,"language":445,"meta":415,"style":415},"// Define in math.js\nexports.sum = function(...numbers) {\n  return numbers.reduce((result, num) => result + num, 0)\n}\n\n// Use in other file\nvar math = require('math')\nmath.sum(1, 3)\n",[1997],{"type":421,"tag":448,"props":1998,"children":1999},{"__ignoreMap":415},[2000,2008,2056,2136,2143,2150,2158,2200],{"type":421,"tag":452,"props":2001,"children":2002},{"class":454,"line":455},[2003],{"type":421,"tag":452,"props":2004,"children":2005},{"style":486},[2006],{"type":427,"value":2007},"// Define in math.js\n",{"type":421,"tag":452,"props":2009,"children":2010},{"class":454,"line":482},[2011,2017,2021,2026,2030,2034,2038,2043,2048,2052],{"type":421,"tag":452,"props":2012,"children":2014},{"style":2013},"--shiki-light:#39ADB5;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[2015],{"type":427,"value":2016},"exports",{"type":421,"tag":452,"props":2018,"children":2019},{"style":471},[2020],{"type":427,"value":643},{"type":421,"tag":452,"props":2022,"children":2023},{"style":465},[2024],{"type":427,"value":2025},"sum",{"type":421,"tag":452,"props":2027,"children":2028},{"style":564},[2029],{"type":427,"value":733},{"type":421,"tag":452,"props":2031,"children":2032},{"style":459},[2033],{"type":427,"value":589},{"type":421,"tag":452,"props":2035,"children":2036},{"style":471},[2037],{"type":427,"value":691},{"type":421,"tag":452,"props":2039,"children":2040},{"style":564},[2041],{"type":427,"value":2042},"...",{"type":421,"tag":452,"props":2044,"children":2045},{"style":702},[2046],{"type":427,"value":2047},"numbers",{"type":421,"tag":452,"props":2049,"children":2050},{"style":471},[2051],{"type":427,"value":710},{"type":421,"tag":452,"props":2053,"children":2054},{"style":471},[2055],{"type":427,"value":479},{"type":421,"tag":452,"props":2057,"children":2058},{"class":454,"line":492},[2059,2063,2068,2072,2077,2081,2085,2090,2094,2099,2103,2108,2113,2118,2122,2126,2132],{"type":421,"tag":452,"props":2060,"children":2061},{"style":1279},[2062],{"type":427,"value":1282},{"type":421,"tag":452,"props":2064,"children":2065},{"style":558},[2066],{"type":427,"value":2067}," numbers",{"type":421,"tag":452,"props":2069,"children":2070},{"style":471},[2071],{"type":427,"value":643},{"type":421,"tag":452,"props":2073,"children":2074},{"style":465},[2075],{"type":427,"value":2076},"reduce",{"type":421,"tag":452,"props":2078,"children":2079},{"style":765},[2080],{"type":427,"value":691},{"type":421,"tag":452,"props":2082,"children":2083},{"style":471},[2084],{"type":427,"value":691},{"type":421,"tag":452,"props":2086,"children":2087},{"style":702},[2088],{"type":427,"value":2089},"result",{"type":421,"tag":452,"props":2091,"children":2092},{"style":471},[2093],{"type":427,"value":1760},{"type":421,"tag":452,"props":2095,"children":2096},{"style":702},[2097],{"type":427,"value":2098}," num",{"type":421,"tag":452,"props":2100,"children":2101},{"style":471},[2102],{"type":427,"value":710},{"type":421,"tag":452,"props":2104,"children":2105},{"style":459},[2106],{"type":427,"value":2107}," =>",{"type":421,"tag":452,"props":2109,"children":2110},{"style":558},[2111],{"type":427,"value":2112}," result",{"type":421,"tag":452,"props":2114,"children":2115},{"style":564},[2116],{"type":427,"value":2117}," +",{"type":421,"tag":452,"props":2119,"children":2120},{"style":558},[2121],{"type":427,"value":2098},{"type":421,"tag":452,"props":2123,"children":2124},{"style":471},[2125],{"type":427,"value":1760},{"type":421,"tag":452,"props":2127,"children":2129},{"style":2128},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2130],{"type":427,"value":2131}," 0",{"type":421,"tag":452,"props":2133,"children":2134},{"style":765},[2135],{"type":427,"value":788},{"type":421,"tag":452,"props":2137,"children":2138},{"class":454,"line":501},[2139],{"type":421,"tag":452,"props":2140,"children":2141},{"style":471},[2142],{"type":427,"value":498},{"type":421,"tag":452,"props":2144,"children":2145},{"class":454,"line":522},[2146],{"type":421,"tag":452,"props":2147,"children":2148},{"emptyLinePlaceholder":414},[2149],{"type":427,"value":1272},{"type":421,"tag":452,"props":2151,"children":2152},{"class":454,"line":530},[2153],{"type":421,"tag":452,"props":2154,"children":2155},{"style":486},[2156],{"type":427,"value":2157},"// Use in other file\n",{"type":421,"tag":452,"props":2159,"children":2160},{"class":454,"line":1049},[2161,2165,2170,2174,2179,2183,2187,2192,2196],{"type":421,"tag":452,"props":2162,"children":2163},{"style":459},[2164],{"type":427,"value":555},{"type":421,"tag":452,"props":2166,"children":2167},{"style":558},[2168],{"type":427,"value":2169}," math ",{"type":421,"tag":452,"props":2171,"children":2172},{"style":564},[2173],{"type":427,"value":567},{"type":421,"tag":452,"props":2175,"children":2176},{"style":465},[2177],{"type":427,"value":2178}," require",{"type":421,"tag":452,"props":2180,"children":2181},{"style":558},[2182],{"type":427,"value":691},{"type":421,"tag":452,"props":2184,"children":2185},{"style":770},[2186],{"type":427,"value":773},{"type":421,"tag":452,"props":2188,"children":2189},{"style":776},[2190],{"type":427,"value":2191},"math",{"type":421,"tag":452,"props":2193,"children":2194},{"style":770},[2195],{"type":427,"value":773},{"type":421,"tag":452,"props":2197,"children":2198},{"style":558},[2199],{"type":427,"value":788},{"type":421,"tag":452,"props":2201,"children":2202},{"class":454,"line":1070},[2203,2207,2211,2215,2219,2224,2228,2233],{"type":421,"tag":452,"props":2204,"children":2205},{"style":558},[2206],{"type":427,"value":2191},{"type":421,"tag":452,"props":2208,"children":2209},{"style":471},[2210],{"type":427,"value":643},{"type":421,"tag":452,"props":2212,"children":2213},{"style":465},[2214],{"type":427,"value":2025},{"type":421,"tag":452,"props":2216,"children":2217},{"style":558},[2218],{"type":427,"value":691},{"type":421,"tag":452,"props":2220,"children":2221},{"style":2128},[2222],{"type":427,"value":2223},"1",{"type":421,"tag":452,"props":2225,"children":2226},{"style":471},[2227],{"type":427,"value":1760},{"type":421,"tag":452,"props":2229,"children":2230},{"style":2128},[2231],{"type":427,"value":2232}," 3",{"type":421,"tag":452,"props":2234,"children":2235},{"style":558},[2236],{"type":427,"value":788},{"type":421,"tag":435,"props":2238,"children":2239},{},[2240],{"type":427,"value":2241},"ServerJS 想进一步推广到浏览器端，于是将社区改名叫 CommonJS。激烈争论 Modules 的下一版规范时，分歧和冲突由此诞生。",{"type":421,"tag":435,"props":2243,"children":2244},{},[2245],{"type":427,"value":2246},"James Burke 推荐直接改良 CommonJS 的模块格式以适应浏览器端开发，但是 CommonJS 的发起者并不同意，这也就催生了 RequireJS。James Burke 制定了 AMD 规范，并在 2010 年实现了遵循 AMD 规范的模块加载器 RequireJS。",{"type":421,"tag":441,"props":2248,"children":2250},{"className":443,"code":2249,"language":445,"meta":415,"style":415},"require(['module/module1.js', 'module/module2.js'], function(module1, module2) {\n  module1.printModule1FileName()\n  module2.printModule2FileName()\n})\n",[2251],{"type":421,"tag":448,"props":2252,"children":2253},{"__ignoreMap":415},[2254,2335,2356,2377],{"type":421,"tag":452,"props":2255,"children":2256},{"class":454,"line":455},[2257,2262,2267,2271,2276,2280,2284,2288,2293,2297,2302,2306,2310,2314,2318,2322,2327,2331],{"type":421,"tag":452,"props":2258,"children":2259},{"style":465},[2260],{"type":427,"value":2261},"require",{"type":421,"tag":452,"props":2263,"children":2264},{"style":558},[2265],{"type":427,"value":2266},"([",{"type":421,"tag":452,"props":2268,"children":2269},{"style":770},[2270],{"type":427,"value":773},{"type":421,"tag":452,"props":2272,"children":2273},{"style":776},[2274],{"type":427,"value":2275},"module/module1.js",{"type":421,"tag":452,"props":2277,"children":2278},{"style":770},[2279],{"type":427,"value":773},{"type":421,"tag":452,"props":2281,"children":2282},{"style":471},[2283],{"type":427,"value":1760},{"type":421,"tag":452,"props":2285,"children":2286},{"style":770},[2287],{"type":427,"value":1765},{"type":421,"tag":452,"props":2289,"children":2290},{"style":776},[2291],{"type":427,"value":2292},"module/module2.js",{"type":421,"tag":452,"props":2294,"children":2295},{"style":770},[2296],{"type":427,"value":773},{"type":421,"tag":452,"props":2298,"children":2299},{"style":558},[2300],{"type":427,"value":2301},"]",{"type":421,"tag":452,"props":2303,"children":2304},{"style":471},[2305],{"type":427,"value":1760},{"type":421,"tag":452,"props":2307,"children":2308},{"style":459},[2309],{"type":427,"value":589},{"type":421,"tag":452,"props":2311,"children":2312},{"style":471},[2313],{"type":427,"value":691},{"type":421,"tag":452,"props":2315,"children":2316},{"style":702},[2317],{"type":427,"value":1647},{"type":421,"tag":452,"props":2319,"children":2320},{"style":471},[2321],{"type":427,"value":1760},{"type":421,"tag":452,"props":2323,"children":2324},{"style":702},[2325],{"type":427,"value":2326}," module2",{"type":421,"tag":452,"props":2328,"children":2329},{"style":471},[2330],{"type":427,"value":710},{"type":421,"tag":452,"props":2332,"children":2333},{"style":471},[2334],{"type":427,"value":479},{"type":421,"tag":452,"props":2336,"children":2337},{"class":454,"line":482},[2338,2343,2347,2352],{"type":421,"tag":452,"props":2339,"children":2340},{"style":558},[2341],{"type":427,"value":2342},"  module1",{"type":421,"tag":452,"props":2344,"children":2345},{"style":471},[2346],{"type":427,"value":643},{"type":421,"tag":452,"props":2348,"children":2349},{"style":465},[2350],{"type":427,"value":2351},"printModule1FileName",{"type":421,"tag":452,"props":2353,"children":2354},{"style":765},[2355],{"type":427,"value":653},{"type":421,"tag":452,"props":2357,"children":2358},{"class":454,"line":492},[2359,2364,2368,2373],{"type":421,"tag":452,"props":2360,"children":2361},{"style":558},[2362],{"type":427,"value":2363},"  module2",{"type":421,"tag":452,"props":2365,"children":2366},{"style":471},[2367],{"type":427,"value":643},{"type":421,"tag":452,"props":2369,"children":2370},{"style":465},[2371],{"type":427,"value":2372},"printModule2FileName",{"type":421,"tag":452,"props":2374,"children":2375},{"style":765},[2376],{"type":427,"value":653},{"type":421,"tag":452,"props":2378,"children":2379},{"class":454,"line":501},[2380,2384],{"type":421,"tag":452,"props":2381,"children":2382},{"style":471},[2383],{"type":427,"value":804},{"type":421,"tag":452,"props":2385,"children":2386},{"style":558},[2387],{"type":427,"value":788},{"type":421,"tag":435,"props":2389,"children":2390},{},[2391],{"type":427,"value":2392},"玉伯认为 RequireJS 不够完善，并从头开始实现模块加载程序 SeaJS。CMD 是 SeaJS 在推广过程中对模块定义的规范化产出。",{"type":421,"tag":441,"props":2394,"children":2396},{"className":443,"code":2395,"language":445,"meta":415,"style":415},"define(function(require, exports, module) {\n  // AMD推崇依赖前置，而CMD推崇依赖就近\n  const a = require('./a')\n  a.test()\n\n  // 软依赖\n  if (status) {\n    const b = require('./b')\n    b.test()\n  }\n})\n",[2397],{"type":421,"tag":448,"props":2398,"children":2399},{"__ignoreMap":415},[2400,2450,2458,2499,2520,2527,2535,2562,2604,2624,2631],{"type":421,"tag":452,"props":2401,"children":2402},{"class":454,"line":455},[2403,2408,2412,2416,2420,2424,2428,2433,2437,2442,2446],{"type":421,"tag":452,"props":2404,"children":2405},{"style":465},[2406],{"type":427,"value":2407},"define",{"type":421,"tag":452,"props":2409,"children":2410},{"style":558},[2411],{"type":427,"value":691},{"type":421,"tag":452,"props":2413,"children":2414},{"style":459},[2415],{"type":427,"value":462},{"type":421,"tag":452,"props":2417,"children":2418},{"style":471},[2419],{"type":427,"value":691},{"type":421,"tag":452,"props":2421,"children":2422},{"style":702},[2423],{"type":427,"value":2261},{"type":421,"tag":452,"props":2425,"children":2426},{"style":471},[2427],{"type":427,"value":1760},{"type":421,"tag":452,"props":2429,"children":2430},{"style":702},[2431],{"type":427,"value":2432}," exports",{"type":421,"tag":452,"props":2434,"children":2435},{"style":471},[2436],{"type":427,"value":1760},{"type":421,"tag":452,"props":2438,"children":2439},{"style":702},[2440],{"type":427,"value":2441}," module",{"type":421,"tag":452,"props":2443,"children":2444},{"style":471},[2445],{"type":427,"value":710},{"type":421,"tag":452,"props":2447,"children":2448},{"style":471},[2449],{"type":427,"value":479},{"type":421,"tag":452,"props":2451,"children":2452},{"class":454,"line":482},[2453],{"type":421,"tag":452,"props":2454,"children":2455},{"style":486},[2456],{"type":427,"value":2457},"  // AMD推崇依赖前置，而CMD推崇依赖就近\n",{"type":421,"tag":452,"props":2459,"children":2460},{"class":454,"line":492},[2461,2465,2470,2474,2478,2482,2486,2491,2495],{"type":421,"tag":452,"props":2462,"children":2463},{"style":459},[2464],{"type":427,"value":722},{"type":421,"tag":452,"props":2466,"children":2467},{"style":853},[2468],{"type":427,"value":2469}," a",{"type":421,"tag":452,"props":2471,"children":2472},{"style":564},[2473],{"type":427,"value":733},{"type":421,"tag":452,"props":2475,"children":2476},{"style":465},[2477],{"type":427,"value":2178},{"type":421,"tag":452,"props":2479,"children":2480},{"style":765},[2481],{"type":427,"value":691},{"type":421,"tag":452,"props":2483,"children":2484},{"style":770},[2485],{"type":427,"value":773},{"type":421,"tag":452,"props":2487,"children":2488},{"style":776},[2489],{"type":427,"value":2490},"./a",{"type":421,"tag":452,"props":2492,"children":2493},{"style":770},[2494],{"type":427,"value":773},{"type":421,"tag":452,"props":2496,"children":2497},{"style":765},[2498],{"type":427,"value":788},{"type":421,"tag":452,"props":2500,"children":2501},{"class":454,"line":501},[2502,2507,2511,2516],{"type":421,"tag":452,"props":2503,"children":2504},{"style":558},[2505],{"type":427,"value":2506},"  a",{"type":421,"tag":452,"props":2508,"children":2509},{"style":471},[2510],{"type":427,"value":643},{"type":421,"tag":452,"props":2512,"children":2513},{"style":465},[2514],{"type":427,"value":2515},"test",{"type":421,"tag":452,"props":2517,"children":2518},{"style":765},[2519],{"type":427,"value":653},{"type":421,"tag":452,"props":2521,"children":2522},{"class":454,"line":522},[2523],{"type":421,"tag":452,"props":2524,"children":2525},{"emptyLinePlaceholder":414},[2526],{"type":427,"value":1272},{"type":421,"tag":452,"props":2528,"children":2529},{"class":454,"line":530},[2530],{"type":421,"tag":452,"props":2531,"children":2532},{"style":486},[2533],{"type":427,"value":2534},"  // 软依赖\n",{"type":421,"tag":452,"props":2536,"children":2537},{"class":454,"line":1049},[2538,2543,2547,2552,2557],{"type":421,"tag":452,"props":2539,"children":2540},{"style":1279},[2541],{"type":427,"value":2542},"  if",{"type":421,"tag":452,"props":2544,"children":2545},{"style":765},[2546],{"type":427,"value":865},{"type":421,"tag":452,"props":2548,"children":2549},{"style":558},[2550],{"type":427,"value":2551},"status",{"type":421,"tag":452,"props":2553,"children":2554},{"style":765},[2555],{"type":427,"value":2556},") ",{"type":421,"tag":452,"props":2558,"children":2559},{"style":471},[2560],{"type":427,"value":2561},"{\n",{"type":421,"tag":452,"props":2563,"children":2564},{"class":454,"line":1070},[2565,2570,2575,2579,2583,2587,2591,2596,2600],{"type":421,"tag":452,"props":2566,"children":2567},{"style":459},[2568],{"type":427,"value":2569},"    const",{"type":421,"tag":452,"props":2571,"children":2572},{"style":853},[2573],{"type":427,"value":2574}," b",{"type":421,"tag":452,"props":2576,"children":2577},{"style":564},[2578],{"type":427,"value":733},{"type":421,"tag":452,"props":2580,"children":2581},{"style":465},[2582],{"type":427,"value":2178},{"type":421,"tag":452,"props":2584,"children":2585},{"style":765},[2586],{"type":427,"value":691},{"type":421,"tag":452,"props":2588,"children":2589},{"style":770},[2590],{"type":427,"value":773},{"type":421,"tag":452,"props":2592,"children":2593},{"style":776},[2594],{"type":427,"value":2595},"./b",{"type":421,"tag":452,"props":2597,"children":2598},{"style":770},[2599],{"type":427,"value":773},{"type":421,"tag":452,"props":2601,"children":2602},{"style":765},[2603],{"type":427,"value":788},{"type":421,"tag":452,"props":2605,"children":2606},{"class":454,"line":1091},[2607,2612,2616,2620],{"type":421,"tag":452,"props":2608,"children":2609},{"style":558},[2610],{"type":427,"value":2611},"    b",{"type":421,"tag":452,"props":2613,"children":2614},{"style":471},[2615],{"type":427,"value":643},{"type":421,"tag":452,"props":2617,"children":2618},{"style":465},[2619],{"type":427,"value":2515},{"type":421,"tag":452,"props":2621,"children":2622},{"style":765},[2623],{"type":427,"value":653},{"type":421,"tag":452,"props":2625,"children":2626},{"class":454,"line":1104},[2627],{"type":421,"tag":452,"props":2628,"children":2629},{"style":471},[2630],{"type":427,"value":796},{"type":421,"tag":452,"props":2632,"children":2633},{"class":454,"line":1142},[2634,2638],{"type":421,"tag":452,"props":2635,"children":2636},{"style":471},[2637],{"type":427,"value":804},{"type":421,"tag":452,"props":2639,"children":2640},{"style":558},[2641],{"type":427,"value":788},{"type":421,"tag":435,"props":2643,"children":2644},{},[2645],{"type":427,"value":2646},"UMD 统一 CommonJS 和 AMD，所以 UMD 定义的模块可以同时在客户端和服务端使用：",{"type":421,"tag":441,"props":2648,"children":2650},{"className":443,"code":2649,"language":445,"meta":415,"style":415},";(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self), (global.myModule = factory()))\n})(this, function() {\n  return myModule\n})\n",[2651],{"type":421,"tag":448,"props":2652,"children":2653},{"__ignoreMap":415},[2654,2695,2758,2796,2846,2870,2942,2975,2987],{"type":421,"tag":452,"props":2655,"children":2656},{"class":454,"line":455},[2657,2661,2665,2669,2673,2678,2682,2687,2691],{"type":421,"tag":452,"props":2658,"children":2659},{"style":471},[2660],{"type":427,"value":686},{"type":421,"tag":452,"props":2662,"children":2663},{"style":558},[2664],{"type":427,"value":691},{"type":421,"tag":452,"props":2666,"children":2667},{"style":459},[2668],{"type":427,"value":462},{"type":421,"tag":452,"props":2670,"children":2671},{"style":471},[2672],{"type":427,"value":691},{"type":421,"tag":452,"props":2674,"children":2675},{"style":702},[2676],{"type":427,"value":2677},"global",{"type":421,"tag":452,"props":2679,"children":2680},{"style":471},[2681],{"type":427,"value":1760},{"type":421,"tag":452,"props":2683,"children":2684},{"style":702},[2685],{"type":427,"value":2686}," factory",{"type":421,"tag":452,"props":2688,"children":2689},{"style":471},[2690],{"type":427,"value":710},{"type":421,"tag":452,"props":2692,"children":2693},{"style":471},[2694],{"type":427,"value":479},{"type":421,"tag":452,"props":2696,"children":2697},{"class":454,"line":482},[2698,2703,2707,2712,2716,2721,2725,2730,2735,2739,2744,2748,2753],{"type":421,"tag":452,"props":2699,"children":2700},{"style":564},[2701],{"type":427,"value":2702},"  typeof",{"type":421,"tag":452,"props":2704,"children":2705},{"style":2013},[2706],{"type":427,"value":2432},{"type":421,"tag":452,"props":2708,"children":2709},{"style":564},[2710],{"type":427,"value":2711}," ===",{"type":421,"tag":452,"props":2713,"children":2714},{"style":770},[2715],{"type":427,"value":1765},{"type":421,"tag":452,"props":2717,"children":2718},{"style":776},[2719],{"type":427,"value":2720},"object",{"type":421,"tag":452,"props":2722,"children":2723},{"style":770},[2724],{"type":427,"value":773},{"type":421,"tag":452,"props":2726,"children":2727},{"style":564},[2728],{"type":427,"value":2729}," &&",{"type":421,"tag":452,"props":2731,"children":2732},{"style":564},[2733],{"type":427,"value":2734}," typeof",{"type":421,"tag":452,"props":2736,"children":2737},{"style":2013},[2738],{"type":427,"value":2441},{"type":421,"tag":452,"props":2740,"children":2741},{"style":564},[2742],{"type":427,"value":2743}," !==",{"type":421,"tag":452,"props":2745,"children":2746},{"style":770},[2747],{"type":427,"value":1765},{"type":421,"tag":452,"props":2749,"children":2750},{"style":776},[2751],{"type":427,"value":2752},"undefined",{"type":421,"tag":452,"props":2754,"children":2755},{"style":770},[2756],{"type":427,"value":2757},"'\n",{"type":421,"tag":452,"props":2759,"children":2760},{"class":454,"line":492},[2761,2766,2770,2775,2779,2783,2787,2791],{"type":421,"tag":452,"props":2762,"children":2763},{"style":564},[2764],{"type":427,"value":2765},"    ?",{"type":421,"tag":452,"props":2767,"children":2768},{"style":765},[2769],{"type":427,"value":865},{"type":421,"tag":452,"props":2771,"children":2772},{"style":2013},[2773],{"type":427,"value":2774},"module",{"type":421,"tag":452,"props":2776,"children":2777},{"style":471},[2778],{"type":427,"value":643},{"type":421,"tag":452,"props":2780,"children":2781},{"style":2013},[2782],{"type":427,"value":2016},{"type":421,"tag":452,"props":2784,"children":2785},{"style":564},[2786],{"type":427,"value":733},{"type":421,"tag":452,"props":2788,"children":2789},{"style":465},[2790],{"type":427,"value":2686},{"type":421,"tag":452,"props":2792,"children":2793},{"style":765},[2794],{"type":427,"value":2795},"())\n",{"type":421,"tag":452,"props":2797,"children":2798},{"class":454,"line":501},[2799,2804,2808,2813,2817,2821,2825,2829,2833,2837,2841],{"type":421,"tag":452,"props":2800,"children":2801},{"style":564},[2802],{"type":427,"value":2803},"    :",{"type":421,"tag":452,"props":2805,"children":2806},{"style":564},[2807],{"type":427,"value":2734},{"type":421,"tag":452,"props":2809,"children":2810},{"style":558},[2811],{"type":427,"value":2812}," define",{"type":421,"tag":452,"props":2814,"children":2815},{"style":564},[2816],{"type":427,"value":2711},{"type":421,"tag":452,"props":2818,"children":2819},{"style":770},[2820],{"type":427,"value":1765},{"type":421,"tag":452,"props":2822,"children":2823},{"style":776},[2824],{"type":427,"value":462},{"type":421,"tag":452,"props":2826,"children":2827},{"style":770},[2828],{"type":427,"value":773},{"type":421,"tag":452,"props":2830,"children":2831},{"style":564},[2832],{"type":427,"value":2729},{"type":421,"tag":452,"props":2834,"children":2835},{"style":558},[2836],{"type":427,"value":2812},{"type":421,"tag":452,"props":2838,"children":2839},{"style":471},[2840],{"type":427,"value":643},{"type":421,"tag":452,"props":2842,"children":2843},{"style":558},[2844],{"type":427,"value":2845},"amd\n",{"type":421,"tag":452,"props":2847,"children":2848},{"class":454,"line":522},[2849,2853,2857,2861,2866],{"type":421,"tag":452,"props":2850,"children":2851},{"style":564},[2852],{"type":427,"value":2765},{"type":421,"tag":452,"props":2854,"children":2855},{"style":465},[2856],{"type":427,"value":2812},{"type":421,"tag":452,"props":2858,"children":2859},{"style":765},[2860],{"type":427,"value":691},{"type":421,"tag":452,"props":2862,"children":2863},{"style":558},[2864],{"type":427,"value":2865},"factory",{"type":421,"tag":452,"props":2867,"children":2868},{"style":765},[2869],{"type":427,"value":788},{"type":421,"tag":452,"props":2871,"children":2872},{"class":454,"line":530},[2873,2877,2882,2886,2890,2895,2899,2904,2908,2912,2916,2920,2924,2929,2933,2937],{"type":421,"tag":452,"props":2874,"children":2875},{"style":564},[2876],{"type":427,"value":2803},{"type":421,"tag":452,"props":2878,"children":2879},{"style":765},[2880],{"type":427,"value":2881}," ((",{"type":421,"tag":452,"props":2883,"children":2884},{"style":558},[2885],{"type":427,"value":2677},{"type":421,"tag":452,"props":2887,"children":2888},{"style":564},[2889],{"type":427,"value":733},{"type":421,"tag":452,"props":2891,"children":2892},{"style":558},[2893],{"type":427,"value":2894}," global",{"type":421,"tag":452,"props":2896,"children":2897},{"style":564},[2898],{"type":427,"value":941},{"type":421,"tag":452,"props":2900,"children":2901},{"style":558},[2902],{"type":427,"value":2903}," self",{"type":421,"tag":452,"props":2905,"children":2906},{"style":765},[2907],{"type":427,"value":710},{"type":421,"tag":452,"props":2909,"children":2910},{"style":471},[2911],{"type":427,"value":1760},{"type":421,"tag":452,"props":2913,"children":2914},{"style":765},[2915],{"type":427,"value":865},{"type":421,"tag":452,"props":2917,"children":2918},{"style":558},[2919],{"type":427,"value":2677},{"type":421,"tag":452,"props":2921,"children":2922},{"style":471},[2923],{"type":427,"value":643},{"type":421,"tag":452,"props":2925,"children":2926},{"style":558},[2927],{"type":427,"value":2928},"myModule",{"type":421,"tag":452,"props":2930,"children":2931},{"style":564},[2932],{"type":427,"value":733},{"type":421,"tag":452,"props":2934,"children":2935},{"style":465},[2936],{"type":427,"value":2686},{"type":421,"tag":452,"props":2938,"children":2939},{"style":765},[2940],{"type":427,"value":2941},"()))\n",{"type":421,"tag":452,"props":2943,"children":2944},{"class":454,"line":1049},[2945,2949,2953,2959,2963,2967,2971],{"type":421,"tag":452,"props":2946,"children":2947},{"style":471},[2948],{"type":427,"value":804},{"type":421,"tag":452,"props":2950,"children":2951},{"style":558},[2952],{"type":427,"value":1300},{"type":421,"tag":452,"props":2954,"children":2956},{"style":2955},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2957],{"type":427,"value":2958},"this",{"type":421,"tag":452,"props":2960,"children":2961},{"style":471},[2962],{"type":427,"value":1760},{"type":421,"tag":452,"props":2964,"children":2965},{"style":459},[2966],{"type":427,"value":589},{"type":421,"tag":452,"props":2968,"children":2969},{"style":471},[2970],{"type":427,"value":474},{"type":421,"tag":452,"props":2972,"children":2973},{"style":471},[2974],{"type":427,"value":479},{"type":421,"tag":452,"props":2976,"children":2977},{"class":454,"line":1070},[2978,2982],{"type":421,"tag":452,"props":2979,"children":2980},{"style":1279},[2981],{"type":427,"value":1282},{"type":421,"tag":452,"props":2983,"children":2984},{"style":558},[2985],{"type":427,"value":2986}," myModule\n",{"type":421,"tag":452,"props":2988,"children":2989},{"class":454,"line":1091},[2990,2994],{"type":421,"tag":452,"props":2991,"children":2992},{"style":471},[2993],{"type":427,"value":804},{"type":421,"tag":452,"props":2995,"children":2996},{"style":558},[2997],{"type":427,"value":788},{"type":421,"tag":429,"props":2999,"children":3001},{"id":3000},"现代模块规范-es-module",[3002],{"type":427,"value":3003},"现代模块规范 ES Module",{"type":421,"tag":435,"props":3005,"children":3006},{},[3007,3009,3015],{"type":427,"value":3008},"2015 年 6 月， ECMAScript6 标准正式发布，其中 ES 模块化规范的提出目标是整合 CommonJS、AMD 等已有模块方案，",{"type":421,"tag":3010,"props":3011,"children":3012},"strong",{},[3013],{"type":427,"value":3014},"在语言标准层面实现模块化",{"type":427,"value":3016},"，成为浏览器和服务器通用的模块解决方案。",{"type":421,"tag":441,"props":3018,"children":3020},{"className":443,"code":3019,"language":445,"meta":415,"style":415},"import { foo, bar } from '/modules/my-module.js'\n\nexport const foo = Math.sqrt(2)\n",[3021],{"type":421,"tag":448,"props":3022,"children":3023},{"__ignoreMap":415},[3024,3072,3079],{"type":421,"tag":452,"props":3025,"children":3026},{"class":454,"line":455},[3027,3032,3037,3041,3045,3049,3054,3059,3063,3068],{"type":421,"tag":452,"props":3028,"children":3029},{"style":1279},[3030],{"type":427,"value":3031},"import",{"type":421,"tag":452,"props":3033,"children":3034},{"style":471},[3035],{"type":427,"value":3036}," {",{"type":421,"tag":452,"props":3038,"children":3039},{"style":558},[3040],{"type":427,"value":468},{"type":421,"tag":452,"props":3042,"children":3043},{"style":471},[3044],{"type":427,"value":1760},{"type":421,"tag":452,"props":3046,"children":3047},{"style":558},[3048],{"type":427,"value":511},{"type":421,"tag":452,"props":3050,"children":3051},{"style":471},[3052],{"type":427,"value":3053}," }",{"type":421,"tag":452,"props":3055,"children":3056},{"style":1279},[3057],{"type":427,"value":3058}," from",{"type":421,"tag":452,"props":3060,"children":3061},{"style":770},[3062],{"type":427,"value":1765},{"type":421,"tag":452,"props":3064,"children":3065},{"style":776},[3066],{"type":427,"value":3067},"/modules/my-module.js",{"type":421,"tag":452,"props":3069,"children":3070},{"style":770},[3071],{"type":427,"value":2757},{"type":421,"tag":452,"props":3073,"children":3074},{"class":454,"line":482},[3075],{"type":421,"tag":452,"props":3076,"children":3077},{"emptyLinePlaceholder":414},[3078],{"type":427,"value":1272},{"type":421,"tag":452,"props":3080,"children":3081},{"class":454,"line":492},[3082,3087,3092,3096,3100,3105,3109,3114,3118,3123],{"type":421,"tag":452,"props":3083,"children":3084},{"style":1279},[3085],{"type":427,"value":3086},"export",{"type":421,"tag":452,"props":3088,"children":3089},{"style":459},[3090],{"type":427,"value":3091}," const",{"type":421,"tag":452,"props":3093,"children":3094},{"style":853},[3095],{"type":427,"value":468},{"type":421,"tag":452,"props":3097,"children":3098},{"style":564},[3099],{"type":427,"value":733},{"type":421,"tag":452,"props":3101,"children":3102},{"style":558},[3103],{"type":427,"value":3104}," Math",{"type":421,"tag":452,"props":3106,"children":3107},{"style":471},[3108],{"type":427,"value":643},{"type":421,"tag":452,"props":3110,"children":3111},{"style":465},[3112],{"type":427,"value":3113},"sqrt",{"type":421,"tag":452,"props":3115,"children":3116},{"style":558},[3117],{"type":427,"value":691},{"type":421,"tag":452,"props":3119,"children":3120},{"style":2128},[3121],{"type":427,"value":3122},"2",{"type":421,"tag":452,"props":3124,"children":3125},{"style":558},[3126],{"type":427,"value":788},{"type":421,"tag":435,"props":3128,"children":3129},{},[3130],{"type":427,"value":3131},"为什么 ES 模块比 CommonJS 更好？我引用 RollupJS 文档中的一段加以解释：",{"type":421,"tag":435,"props":3133,"children":3134},{},[3135],{"type":427,"value":3136},"ES Module 是官方标准，也是 JavaScript 语言明确的发展方向，而 CommonJS 模块是一种特殊的传统格式，在 ES 模块被提出之前做为暂时的解决方案。 ES 模块允许进行静态分析，从而实现像 tree-shaking 的优化，并提供诸如循环引用和动态绑定等高级功能。",{"type":421,"tag":435,"props":3138,"children":3139},{},[3140,3142,3148],{"type":427,"value":3141},"在浏览器中，需要使用特定属性的脚本标签，以支持 ES Module 规范（ ",{"type":421,"tag":448,"props":3143,"children":3145},{"className":3144},[],[3146],{"type":427,"value":3147},"\u003Cscript type=\"module\">",{"type":427,"value":3149}," ）。",{"type":421,"tag":3151,"props":3152,"children":3154},"h4",{"id":3153},"兼容性",[3155],{"type":427,"value":3153},{"type":421,"tag":435,"props":3157,"children":3158},{},[3159],{"type":427,"value":3160},"截止 2020 年 5 月 18 日，各大浏览器兼容 ES Module 情况如下：",{"type":421,"tag":435,"props":3162,"children":3163},{},[3164,3166,3172,3174,3180],{"type":427,"value":3165},"在 NodeJS 中（Version >= 8.5），需要打开一个开关（",{"type":421,"tag":448,"props":3167,"children":3169},{"className":3168},[],[3170],{"type":427,"value":3171},"--experimental-modules",{"type":427,"value":3173},"），以支持 ES Module 规范，但是需要模块的文件名为 ",{"type":421,"tag":448,"props":3175,"children":3177},{"className":3176},[],[3178],{"type":427,"value":3179},".mjs",{"type":427,"value":3181},"。",{"type":421,"tag":3151,"props":3183,"children":3185},{"id":3184},"动态-import",[3186],{"type":427,"value":3187},"动态 Import",{"type":421,"tag":435,"props":3189,"children":3190},{},[3191],{"type":427,"value":3192},"动态 Import 如今已经被大部分浏览器所支持。",{"type":421,"tag":422,"props":3194,"children":3196},{"id":3195},"cjs-vs-esm",[3197],{"type":427,"value":3198},"CJS VS ESM",{"type":421,"tag":435,"props":3200,"children":3201},{},[3202],{"type":427,"value":3203},"尽管 ES Module 规范发布已久，但并没有得到广泛的兼容。由于 ES Module 继承了现在来说仍属主流的 CommonJS 规范的诸多优点，所以两者之间有许多共性。我们来看看它们之间的区别。",{"type":421,"tag":435,"props":3205,"children":3206},{},[3207,3209,3214],{"type":427,"value":3208},"最大的不同之处在于，",{"type":421,"tag":3010,"props":3210,"children":3211},{},[3212],{"type":427,"value":3213},"CommonJS 是一种约定，而 ES Module 是语言规范",{"type":427,"value":3215},"。CommonJS 定义了一套使用“module.epoxrts 和 require”等代码进行模块导入导出的约定，通过扩充 JS 编译器外层代码，只要开发人员遵守约定，就可以使用此规范。而 ES Module 的实现依赖于编译器。这也导致：",{"type":421,"tag":3217,"props":3218,"children":3219},"ol",{},[3220,3225],{"type":421,"tag":1945,"props":3221,"children":3222},{},[3223],{"type":427,"value":3224},"Require 导入值的拷贝，模块内部变化不能直接反应到外部；ES Module 导入值的映射，就算是模块内部的字符串有修改，同样会反映到模块外部。",{"type":421,"tag":1945,"props":3226,"children":3227},{},[3228],{"type":427,"value":3229},"Require 本质是一个函数，所以容易实现动态导入的功能；ES Module 依赖于编译器的静态分析，所以动态导入功能难以被完善实现。",{"type":421,"tag":435,"props":3231,"children":3232},{},[3233,3235,3241],{"type":427,"value":3234},"要看看 Require 到底是个啥玩意儿，请看这篇：",{"type":421,"tag":827,"props":3236,"children":3238},{"href":3237},"/source-code/_server/nodejs/require.html",[3239],{"type":427,"value":3240},"Require",{"type":427,"value":3181},{"type":421,"tag":3151,"props":3243,"children":3245},{"id":3244},"如何在-esm-中引入-cjs-中的命名导出",[3246],{"type":427,"value":3247},"如何在 esm 中引入 cjs 中的命名导出？",{"type":421,"tag":441,"props":3249,"children":3251},{"className":443,"code":3250,"language":445,"meta":415,"style":415},"// .mjs\nimport { namedExport } from './lib.cjs'\n// .cjs\nexports.namedExport = 'yes'\n// .cjs wrong example\n// exports = { namedExport: 'yes' }\n",[3252],{"type":421,"tag":448,"props":3253,"children":3254},{"__ignoreMap":415},[3255,3263,3300,3308,3341,3349],{"type":421,"tag":452,"props":3256,"children":3257},{"class":454,"line":455},[3258],{"type":421,"tag":452,"props":3259,"children":3260},{"style":486},[3261],{"type":427,"value":3262},"// .mjs\n",{"type":421,"tag":452,"props":3264,"children":3265},{"class":454,"line":482},[3266,3270,3274,3279,3283,3287,3291,3296],{"type":421,"tag":452,"props":3267,"children":3268},{"style":1279},[3269],{"type":427,"value":3031},{"type":421,"tag":452,"props":3271,"children":3272},{"style":471},[3273],{"type":427,"value":3036},{"type":421,"tag":452,"props":3275,"children":3276},{"style":558},[3277],{"type":427,"value":3278}," namedExport",{"type":421,"tag":452,"props":3280,"children":3281},{"style":471},[3282],{"type":427,"value":3053},{"type":421,"tag":452,"props":3284,"children":3285},{"style":1279},[3286],{"type":427,"value":3058},{"type":421,"tag":452,"props":3288,"children":3289},{"style":770},[3290],{"type":427,"value":1765},{"type":421,"tag":452,"props":3292,"children":3293},{"style":776},[3294],{"type":427,"value":3295},"./lib.cjs",{"type":421,"tag":452,"props":3297,"children":3298},{"style":770},[3299],{"type":427,"value":2757},{"type":421,"tag":452,"props":3301,"children":3302},{"class":454,"line":492},[3303],{"type":421,"tag":452,"props":3304,"children":3305},{"style":486},[3306],{"type":427,"value":3307},"// .cjs\n",{"type":421,"tag":452,"props":3309,"children":3310},{"class":454,"line":501},[3311,3315,3319,3324,3328,3332,3337],{"type":421,"tag":452,"props":3312,"children":3313},{"style":2013},[3314],{"type":427,"value":2016},{"type":421,"tag":452,"props":3316,"children":3317},{"style":471},[3318],{"type":427,"value":643},{"type":421,"tag":452,"props":3320,"children":3321},{"style":558},[3322],{"type":427,"value":3323},"namedExport ",{"type":421,"tag":452,"props":3325,"children":3326},{"style":564},[3327],{"type":427,"value":567},{"type":421,"tag":452,"props":3329,"children":3330},{"style":770},[3331],{"type":427,"value":1765},{"type":421,"tag":452,"props":3333,"children":3334},{"style":776},[3335],{"type":427,"value":3336},"yes",{"type":421,"tag":452,"props":3338,"children":3339},{"style":770},[3340],{"type":427,"value":2757},{"type":421,"tag":452,"props":3342,"children":3343},{"class":454,"line":522},[3344],{"type":421,"tag":452,"props":3345,"children":3346},{"style":486},[3347],{"type":427,"value":3348},"// .cjs wrong example\n",{"type":421,"tag":452,"props":3350,"children":3351},{"class":454,"line":530},[3352],{"type":421,"tag":452,"props":3353,"children":3354},{"style":486},[3355],{"type":427,"value":3356},"// exports = { namedExport: 'yes' }\n",{"type":421,"tag":435,"props":3358,"children":3359},{},[3360,3362,3369],{"type":427,"value":3361},"见：",{"type":421,"tag":827,"props":3363,"children":3366},{"href":3364,"rel":3365},"https://2ality.com/2022/10/commonjs-named-exports.html",[831],[3367],{"type":427,"value":3368},"How to write CommonJS exports that can be name-imported from ESM",{"type":427,"value":3370},"，就算在 mjs 中导入了 cjs 的导出，为了兼容性考虑，导入的并不是映射。",{"type":421,"tag":422,"props":3372,"children":3374},{"id":3373},"打包工具之争",[3375],{"type":427,"value":3373},{"type":421,"tag":435,"props":3377,"children":3378},{},[3379],{"type":427,"value":3380},"TODO",{"type":421,"tag":435,"props":3382,"children":3383},{},[3384],{"type":427,"value":3385},"为什么需要打包工具",{"type":421,"tag":1941,"props":3387,"children":3388},{},[3389,3394],{"type":421,"tag":1945,"props":3390,"children":3391},{},[3392],{"type":427,"value":3393},"代码分析（合并、压缩、混淆）",{"type":421,"tag":1945,"props":3395,"children":3396},{},[3397],{"type":427,"value":3398},"兼容各种规范",{"type":421,"tag":435,"props":3400,"children":3401},{},[3402],{"type":427,"value":3403},"应用程序使用 WebpackJS，库文件使用 RollupJS",{"type":421,"tag":422,"props":3405,"children":3407},{"id":3406},"阅读更多",[3408],{"type":427,"value":3406},{"type":421,"tag":1941,"props":3410,"children":3411},{},[3412,3422,3432,3442,3452,3461],{"type":421,"tag":1945,"props":3413,"children":3414},{},[3415],{"type":421,"tag":827,"props":3416,"children":3419},{"href":3417,"rel":3418},"https://github.com/seajs/seajs/issues/547",[831],[3420],{"type":427,"value":3421},"模块开发的价值",{"type":421,"tag":1945,"props":3423,"children":3424},{},[3425],{"type":421,"tag":827,"props":3426,"children":3429},{"href":3427,"rel":3428},"https://www.cyj.me/programming/2018/05/22/about-module-i/",[831],[3430],{"type":427,"value":3431},"前端模块的历史沿革",{"type":421,"tag":1945,"props":3433,"children":3434},{},[3435],{"type":421,"tag":827,"props":3436,"children":3439},{"href":3437,"rel":3438},"https://www.cyj.me/programming/2018/05/23/about-module-ii/",[831],[3440],{"type":427,"value":3441},"前端模块的现状",{"type":421,"tag":1945,"props":3443,"children":3444},{},[3445],{"type":421,"tag":827,"props":3446,"children":3449},{"href":3447,"rel":3448},"https://zhuanlan.zhihu.com/p/22890374",[831],[3450],{"type":427,"value":3451},"JavaScript 模块化入门 Ⅰ：理解模块",{"type":421,"tag":1945,"props":3453,"children":3454},{},[3455],{"type":421,"tag":827,"props":3456,"children":3458},{"href":3457},"hhttps://zhuanlan.zhihu.com/p/22945985",[3459],{"type":427,"value":3460},"JavaScript 模块化入门 Ⅱ：模块打包构建",{"type":421,"tag":1945,"props":3462,"children":3463},{},[3464],{"type":421,"tag":827,"props":3465,"children":3468},{"href":3466,"rel":3467},"https://juejin.im/post/5cb004da5188251b130c773e",[831],[3469],{"type":427,"value":3470},"前端工程师必备：前端的模块化",{"type":421,"tag":3472,"props":3473,"children":3474},"style",{},[3475],{"type":427,"value":3476},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":415,"searchDepth":482,"depth":482,"links":3478},[3479,3485,3486,3487],{"id":424,"depth":482,"text":424,"children":3480},[3481,3482,3483,3484],{"id":431,"depth":492,"text":431},{"id":1320,"depth":492,"text":1320},{"id":1962,"depth":492,"text":1962},{"id":3000,"depth":492,"text":3003},{"id":3195,"depth":482,"text":3198},{"id":3373,"depth":482,"text":3373},{"id":3406,"depth":482,"text":3406},"markdown","content:_archieved:2020-05:js-module-history.md","content","_archieved/2020-05/js-module-history.md","_archieved/2020-05/js-module-history","md",[3495,3499],{"_path":3496,"title":3497,"description":3498},"/_archieved/2020-04/p5","造型构成","用P5.js做了一些造型构成练习，源码都在 GitHub 上，欢迎来星星 ⭐",{"_path":3500,"title":3501,"description":415},"/_archieved/2020-05/type-check","🎫 常用类型判断方法的优势及缺陷",1732808116377]