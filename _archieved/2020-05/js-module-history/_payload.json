[{"data":1,"prerenderedAt":3508},["ShallowReactive",2],{"navigation":3,"/_archieved/2020-05/js-module-history":416,"/_archieved/2020-05/js-module-history-surround":3500},[4,32,86,108,135,141,147,153,399,405,411],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":42,"_path":43},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":45,"_path":46},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":48,"_path":49},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":51,"_path":52},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":54,"_path":55},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":57,"_path":58},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":60,"_path":61},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":63,"_path":64},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":66,"_path":67},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":69,"_path":70},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":72,"_path":73},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":75,"_path":76},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":78,"_path":79},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":81,"_path":82},"🚝 四十二篇系列","/articles/fourty-two",{"title":84,"_path":85},"📝 技术博客归档","/articles/fold",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102,105],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107},"🖨️ any-to-base64","/tools/any-to-base64",{"title":109,"_path":110,"children":111},"吉他剧场 / Music","/music",[112,114,117,120,123,126,129,132],{"title":113,"_path":110},"🎸 FingerStyle！",{"title":115,"_path":116},"🌬️ 等待的风","/music/wind",{"title":118,"_path":119},"💕 约定的海洋","/music/ocean",{"title":121,"_path":122},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":124,"_path":125},"🌏 残酷天使的行动纲领","/music/eva",{"title":127,"_path":128},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":130,"_path":131},"🍷 Wu Wei","/music/wu-wei",{"title":133,"_path":134},"🌅 无题","/music/untitled",{"title":136,"_path":137,"children":138},"画点什么 / Paint","/paint",[139],{"title":140,"_path":137},"🚧 正在施工",{"title":142,"_path":143,"children":144},"读书笔记 / Notes","/books",[145],{"title":146,"_path":143},"📕 读书笔记",{"title":148,"_path":149,"children":150},"知识地图 / Maps","/maps",[151],{"title":152,"_path":149},"🏁 知识地图",{"title":154,"_path":155,"children":156},"零散的笔记 / Gists","/gists",[157,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396],{"title":158,"_path":155},"🧊 Gists",{"title":160,"_path":161},"网站的可访问性","/gists/accessibility",{"title":163,"_path":164},"Bit","/gists/bit",{"title":166,"_path":167},"图片模糊","/gists/blur",{"title":169,"_path":170},"渲染相关笔记","/gists/c4d",{"title":172,"_path":173},"CDN 问题记录","/gists/cdn",{"title":175,"_path":176},"消毒剂","/gists/cleaner",{"title":178,"_path":179},"Windows Command","/gists/cmd",{"title":181,"_path":182},"Command","/gists/command",{"title":184,"_path":185},"复杂科学","/gists/complexity-science",{"title":187,"_path":188},"GitHub Copilot","/gists/copilot",{"title":190,"_path":191},"宇宙","/gists/cosmos",{"title":193,"_path":194},"C++","/gists/cpp",{"title":196,"_path":197},"Data Structure","/gists/data-structure",{"title":199,"_path":200},"DEPRESSION","/gists/depression",{"title":202,"_path":203},"设计模式","/gists/design-patterns",{"title":205,"_path":206},"Developer Experience","/gists/developer-experience",{"title":208,"_path":209},"Device Metrics","/gists/device-metrix",{"title":211,"_path":212},"数字化转型","/gists/digital-transformation",{"title":214,"_path":215},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":217,"_path":218},"正则表达式","/gists/eegex",{"title":220,"_path":221},"Emoji","/gists/emoji",{"title":223,"_path":224},"工程","/gists/engineering",{"title":226,"_path":227},"熵","/gists/entropy",{"title":229,"_path":230},"Environment","/gists/environment",{"title":232,"_path":233},"Erlang","/gists/erlang",{"title":235,"_path":236},"逃离塔克夫","/gists/escape-from-tarkov",{"title":238,"_path":239},"ESNext (ES6-ES11)","/gists/esnext",{"title":241,"_path":242},"Eval！","/gists/eval",{"title":244,"_path":245},"Flutter","/gists/flutter",{"title":247,"_path":248},"字体","/gists/font",{"title":250,"_path":251},"JS 函数式编程","/gists/functional",{"title":253,"_path":254},"游戏化","/gists/gamification",{"title":256,"_path":257},"Google C++ Standard","/gists/google-cpp-standard",{"title":259,"_path":260},"双向链接完全体","/gists/graph",{"title":262,"_path":263},"Hardwares","/gists/hardwares",{"title":265,"_path":266},"哈希冲突","/gists/hash-collision",{"title":268,"_path":269},"信息设计","/gists/information-design",{"title":271,"_path":272},"InstantPage","/gists/instant.page",{"title":274,"_path":275},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":277,"_path":278},"KVStore","/gists/key-value-db",{"title":280,"_path":281},"Kubernetes","/gists/kubernetes",{"title":283,"_path":284},"Makefile","/gists/makefile",{"title":286,"_path":287},"Markdown Inline Style","/gists/markdown-nice",{"title":289,"_path":290},"小程序","/gists/miniapp",{"title":292,"_path":293},"减小页面快照体积","/gists/minify-html",{"title":295,"_path":296},"mklink","/gists/mklink",{"title":298,"_path":299},"Mock","/gists/mock",{"title":301,"_path":302},"多人协作系统","/gists/multiplayer",{"title":304,"_path":305},"多端应用","/gists/multy-end-app",{"title":307,"_path":308},"神经科学","/gists/neuroscience",{"title":310,"_path":311},"OO","/gists/oo",{"title":313,"_path":314},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":316,"_path":317},"PInvoke","/gists/pinvoke",{"title":319,"_path":320},"像素","/gists/pixel",{"title":322,"_path":323},"PowerShell","/gists/powershell",{"title":325,"_path":326},"量子","/gists/quantum",{"title":328,"_path":329},"保持好奇心","/gists/questions",{"title":331,"_path":332},"React Native","/gists/react-native",{"title":334,"_path":335},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":337,"_path":338},"SEO","/gists/seo",{"title":340,"_path":341},"Shader","/gists/shader",{"title":343,"_path":344},"Shape Up","/gists/shape-up",{"title":346,"_path":347},"睡觉","/gists/sleep",{"title":349,"_path":350},"记录奇怪的问题","/gists/solved",{"title":352,"_path":353},"States","/gists/states",{"title":355,"_path":356},"Storage","/gists/storage",{"title":358,"_path":359},"音视频流处理","/gists/stream-cli",{"title":361,"_path":362},"Symbol","/gists/symbol",{"title":364,"_path":365},"系统论","/gists/systems-theory",{"title":367,"_path":368},"Taro","/gists/taro",{"title":370,"_path":371},"任务切片","/gists/task-slice",{"title":373,"_path":374},"技术偏好","/gists/tech-dudge",{"title":376,"_path":377},"Untitled","/gists/untitled",{"title":379,"_path":380},"可变字体","/gists/variable-font",{"title":382,"_path":383},"视觉错觉","/gists/visual-illusion",{"title":385,"_path":386},"SS(SSR)","/gists/vpn",{"title":388,"_path":389},"VS Code 插件开发","/gists/vscode-plugin",{"title":391,"_path":392},"Web Components","/gists/web-components",{"title":394,"_path":395},"Windows","/gists/windows",{"title":397,"_path":398},"查缺补漏","/gists/wrong",{"title":400,"_path":401,"children":402},"代码笔记 / Gists","/source-code",[403],{"title":404,"_path":401},"🚄 代码笔记",{"title":406,"_path":407,"children":408},"我 / Abount","/hire",[409],{"title":410,"_path":407},"📬 技术简历",{"title":412,"_path":413,"children":414},"todo","/todo",[415],{"title":412,"_path":413},{"_path":417,"_dir":418,"_draft":419,"_partial":420,"_locale":421,"title":422,"description":421,"body":423,"_type":3494,"_id":3495,"_source":3496,"_file":3497,"_stem":3498,"_extension":3499},"/_archieved/2020-05/js-module-history","2020-05",false,true,"","JS 模块化简史",{"type":424,"children":425,"toc":3483},"root",[426,434,440,446,542,547,660,665,678,829,843,1324,1329,1334,1607,1612,1800,1805,1936,1941,1946,1966,1971,1976,1994,1999,2243,2248,2253,2394,2399,2648,2653,3004,3010,3023,3133,3138,3143,3156,3162,3167,3188,3194,3199,3205,3210,3222,3236,3248,3254,3363,3377,3382,3387,3392,3405,3410,3415,3477],{"type":427,"tag":428,"props":429,"children":431},"element","h2",{"id":430},"模块化的历史进程",[432],{"type":433,"value":430},"text",{"type":427,"tag":435,"props":436,"children":438},"h3",{"id":437},"模块模式",[439],{"type":433,"value":437},{"type":427,"tag":441,"props":442,"children":443},"p",{},[444],{"type":433,"value":445},"起初，我们写代码比较随意：",{"type":427,"tag":447,"props":448,"children":452},"pre",{"className":449,"code":450,"language":451,"meta":421,"style":421},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","function foo() {\n  //...\n}\nfunction bar() {\n  //...\n}\n","js",[453],{"type":427,"tag":454,"props":455,"children":456},"code",{"__ignoreMap":421},[457,486,496,505,526,534],{"type":427,"tag":458,"props":459,"children":462},"span",{"class":460,"line":461},"line",1,[463,469,475,481],{"type":427,"tag":458,"props":464,"children":466},{"style":465},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[467],{"type":433,"value":468},"function",{"type":427,"tag":458,"props":470,"children":472},{"style":471},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[473],{"type":433,"value":474}," foo",{"type":427,"tag":458,"props":476,"children":478},{"style":477},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[479],{"type":433,"value":480},"()",{"type":427,"tag":458,"props":482,"children":483},{"style":477},[484],{"type":433,"value":485}," {\n",{"type":427,"tag":458,"props":487,"children":489},{"class":460,"line":488},2,[490],{"type":427,"tag":458,"props":491,"children":493},{"style":492},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[494],{"type":433,"value":495},"  //...\n",{"type":427,"tag":458,"props":497,"children":499},{"class":460,"line":498},3,[500],{"type":427,"tag":458,"props":501,"children":502},{"style":477},[503],{"type":433,"value":504},"}\n",{"type":427,"tag":458,"props":506,"children":508},{"class":460,"line":507},4,[509,513,518,522],{"type":427,"tag":458,"props":510,"children":511},{"style":465},[512],{"type":433,"value":468},{"type":427,"tag":458,"props":514,"children":515},{"style":471},[516],{"type":433,"value":517}," bar",{"type":427,"tag":458,"props":519,"children":520},{"style":477},[521],{"type":433,"value":480},{"type":427,"tag":458,"props":523,"children":524},{"style":477},[525],{"type":433,"value":485},{"type":427,"tag":458,"props":527,"children":529},{"class":460,"line":528},5,[530],{"type":427,"tag":458,"props":531,"children":532},{"style":492},[533],{"type":433,"value":495},{"type":427,"tag":458,"props":535,"children":537},{"class":460,"line":536},6,[538],{"type":427,"tag":458,"props":539,"children":540},{"style":477},[541],{"type":433,"value":504},{"type":427,"tag":441,"props":543,"children":544},{},[545],{"type":433,"value":546},"这种写法容易和全局变量发生命名冲突问题，于是我们有了改进的写法：",{"type":427,"tag":447,"props":548,"children":550},{"className":449,"code":549,"language":451,"meta":421,"style":421},"var Utils = {\n  foo: function() {},\n  bar: function() {}\n}\nUtils.foo()\n",[551],{"type":427,"tag":454,"props":552,"children":553},{"__ignoreMap":421},[554,578,605,630,637],{"type":427,"tag":458,"props":555,"children":556},{"class":460,"line":461},[557,562,568,574],{"type":427,"tag":458,"props":558,"children":559},{"style":465},[560],{"type":433,"value":561},"var",{"type":427,"tag":458,"props":563,"children":565},{"style":564},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[566],{"type":433,"value":567}," Utils ",{"type":427,"tag":458,"props":569,"children":571},{"style":570},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[572],{"type":433,"value":573},"=",{"type":427,"tag":458,"props":575,"children":576},{"style":477},[577],{"type":433,"value":485},{"type":427,"tag":458,"props":579,"children":580},{"class":460,"line":488},[581,586,591,596,600],{"type":427,"tag":458,"props":582,"children":583},{"style":471},[584],{"type":433,"value":585},"  foo",{"type":427,"tag":458,"props":587,"children":588},{"style":477},[589],{"type":433,"value":590},":",{"type":427,"tag":458,"props":592,"children":593},{"style":465},[594],{"type":433,"value":595}," function",{"type":427,"tag":458,"props":597,"children":598},{"style":477},[599],{"type":433,"value":480},{"type":427,"tag":458,"props":601,"children":602},{"style":477},[603],{"type":433,"value":604}," {},\n",{"type":427,"tag":458,"props":606,"children":607},{"class":460,"line":498},[608,613,617,621,625],{"type":427,"tag":458,"props":609,"children":610},{"style":471},[611],{"type":433,"value":612},"  bar",{"type":427,"tag":458,"props":614,"children":615},{"style":477},[616],{"type":433,"value":590},{"type":427,"tag":458,"props":618,"children":619},{"style":465},[620],{"type":433,"value":595},{"type":427,"tag":458,"props":622,"children":623},{"style":477},[624],{"type":433,"value":480},{"type":427,"tag":458,"props":626,"children":627},{"style":477},[628],{"type":433,"value":629}," {}\n",{"type":427,"tag":458,"props":631,"children":632},{"class":460,"line":507},[633],{"type":427,"tag":458,"props":634,"children":635},{"style":477},[636],{"type":433,"value":504},{"type":427,"tag":458,"props":638,"children":639},{"class":460,"line":528},[640,645,650,655],{"type":427,"tag":458,"props":641,"children":642},{"style":564},[643],{"type":433,"value":644},"Utils",{"type":427,"tag":458,"props":646,"children":647},{"style":477},[648],{"type":433,"value":649},".",{"type":427,"tag":458,"props":651,"children":652},{"style":471},[653],{"type":433,"value":654},"foo",{"type":427,"tag":458,"props":656,"children":657},{"style":564},[658],{"type":433,"value":659},"()\n",{"type":427,"tag":441,"props":661,"children":662},{},[663],{"type":433,"value":664},"这种写法看似解决了命名冲突问题，其实也暗含了安全问题。我们可以在外部随意访问 Utils.foo 并对其进行修改。",{"type":427,"tag":441,"props":666,"children":667},{},[668,670,676],{"type":433,"value":669},"来看 jQuery，jQuery 通过 IIFE，使用",{"type":427,"tag":454,"props":671,"children":673},{"className":672},[],[674],{"type":433,"value":675},"引入全局变量",{"type":433,"value":677},"的方式解决了命名冲突及模块安全问题。",{"type":427,"tag":447,"props":679,"children":681},{"className":449,"code":680,"language":451,"meta":421,"style":421},";(function(window) {\n  const _privateFn = function() {\n    console.log('Aha, this is a private Fn')\n  }\n})(window)\n_privateFn // undefined\n",[682],{"type":427,"tag":454,"props":683,"children":684},{"__ignoreMap":421},[685,721,752,795,803,816],{"type":427,"tag":458,"props":686,"children":687},{"class":460,"line":461},[688,693,698,702,706,712,717],{"type":427,"tag":458,"props":689,"children":690},{"style":477},[691],{"type":433,"value":692},";",{"type":427,"tag":458,"props":694,"children":695},{"style":564},[696],{"type":433,"value":697},"(",{"type":427,"tag":458,"props":699,"children":700},{"style":465},[701],{"type":433,"value":468},{"type":427,"tag":458,"props":703,"children":704},{"style":477},[705],{"type":433,"value":697},{"type":427,"tag":458,"props":707,"children":709},{"style":708},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[710],{"type":433,"value":711},"window",{"type":427,"tag":458,"props":713,"children":714},{"style":477},[715],{"type":433,"value":716},")",{"type":427,"tag":458,"props":718,"children":719},{"style":477},[720],{"type":433,"value":485},{"type":427,"tag":458,"props":722,"children":723},{"class":460,"line":488},[724,729,735,740,744,748],{"type":427,"tag":458,"props":725,"children":726},{"style":465},[727],{"type":433,"value":728},"  const",{"type":427,"tag":458,"props":730,"children":732},{"style":731},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[733],{"type":433,"value":734}," _privateFn",{"type":427,"tag":458,"props":736,"children":737},{"style":570},[738],{"type":433,"value":739}," =",{"type":427,"tag":458,"props":741,"children":742},{"style":465},[743],{"type":433,"value":595},{"type":427,"tag":458,"props":745,"children":746},{"style":477},[747],{"type":433,"value":480},{"type":427,"tag":458,"props":749,"children":750},{"style":477},[751],{"type":433,"value":485},{"type":427,"tag":458,"props":753,"children":754},{"class":460,"line":498},[755,760,764,769,774,780,786,790],{"type":427,"tag":458,"props":756,"children":757},{"style":564},[758],{"type":433,"value":759},"    console",{"type":427,"tag":458,"props":761,"children":762},{"style":477},[763],{"type":433,"value":649},{"type":427,"tag":458,"props":765,"children":766},{"style":471},[767],{"type":433,"value":768},"log",{"type":427,"tag":458,"props":770,"children":772},{"style":771},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[773],{"type":433,"value":697},{"type":427,"tag":458,"props":775,"children":777},{"style":776},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[778],{"type":433,"value":779},"'",{"type":427,"tag":458,"props":781,"children":783},{"style":782},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[784],{"type":433,"value":785},"Aha, this is a private Fn",{"type":427,"tag":458,"props":787,"children":788},{"style":776},[789],{"type":433,"value":779},{"type":427,"tag":458,"props":791,"children":792},{"style":771},[793],{"type":433,"value":794},")\n",{"type":427,"tag":458,"props":796,"children":797},{"class":460,"line":507},[798],{"type":427,"tag":458,"props":799,"children":800},{"style":477},[801],{"type":433,"value":802},"  }\n",{"type":427,"tag":458,"props":804,"children":805},{"class":460,"line":528},[806,811],{"type":427,"tag":458,"props":807,"children":808},{"style":477},[809],{"type":433,"value":810},"}",{"type":427,"tag":458,"props":812,"children":813},{"style":564},[814],{"type":433,"value":815},")(window)\n",{"type":427,"tag":458,"props":817,"children":818},{"class":460,"line":536},[819,824],{"type":427,"tag":458,"props":820,"children":821},{"style":564},[822],{"type":433,"value":823},"_privateFn ",{"type":427,"tag":458,"props":825,"children":826},{"style":492},[827],{"type":433,"value":828},"// undefined\n",{"type":427,"tag":441,"props":830,"children":831},{},[832,841],{"type":427,"tag":833,"props":834,"children":838},"a",{"href":835,"rel":836},"https://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html",[837],"nofollow",[839],{"type":433,"value":840},"这篇博客",{"type":433,"value":842},"提到了如何解决状态私有问题：",{"type":427,"tag":447,"props":844,"children":846},{"className":449,"code":845,"language":451,"meta":421,"style":421},"var MODULE = (function(my) {\n  const _private = (my._private = my._private || {})\n  const _seal = (my._seal =\n    my._seal ||\n    function() {\n      delete my._private\n      delete my._seal\n      delete my._unseal\n    })\n  const _unseal = (my._unseal =\n    my._unseal ||\n    function() {\n      my._private = _private\n      my._seal = _seal\n      my._unseal = _unseal\n    })\n\n  return my\n})(MODULE || {})\n",[847],{"type":427,"tag":454,"props":848,"children":849},{"__ignoreMap":421},[850,893,957,995,1016,1032,1053,1074,1095,1108,1146,1166,1182,1208,1233,1258,1270,1279,1294],{"type":427,"tag":458,"props":851,"children":852},{"class":460,"line":461},[853,857,863,867,872,876,880,885,889],{"type":427,"tag":458,"props":854,"children":855},{"style":465},[856],{"type":433,"value":561},{"type":427,"tag":458,"props":858,"children":860},{"style":859},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[861],{"type":433,"value":862}," MODULE",{"type":427,"tag":458,"props":864,"children":865},{"style":570},[866],{"type":433,"value":739},{"type":427,"tag":458,"props":868,"children":869},{"style":564},[870],{"type":433,"value":871}," (",{"type":427,"tag":458,"props":873,"children":874},{"style":465},[875],{"type":433,"value":468},{"type":427,"tag":458,"props":877,"children":878},{"style":477},[879],{"type":433,"value":697},{"type":427,"tag":458,"props":881,"children":882},{"style":708},[883],{"type":433,"value":884},"my",{"type":427,"tag":458,"props":886,"children":887},{"style":477},[888],{"type":433,"value":716},{"type":427,"tag":458,"props":890,"children":891},{"style":477},[892],{"type":433,"value":485},{"type":427,"tag":458,"props":894,"children":895},{"class":460,"line":488},[896,900,905,909,913,917,921,926,930,935,939,943,948,953],{"type":427,"tag":458,"props":897,"children":898},{"style":465},[899],{"type":433,"value":728},{"type":427,"tag":458,"props":901,"children":902},{"style":859},[903],{"type":433,"value":904}," _private",{"type":427,"tag":458,"props":906,"children":907},{"style":570},[908],{"type":433,"value":739},{"type":427,"tag":458,"props":910,"children":911},{"style":771},[912],{"type":433,"value":871},{"type":427,"tag":458,"props":914,"children":915},{"style":564},[916],{"type":433,"value":884},{"type":427,"tag":458,"props":918,"children":919},{"style":477},[920],{"type":433,"value":649},{"type":427,"tag":458,"props":922,"children":923},{"style":564},[924],{"type":433,"value":925},"_private",{"type":427,"tag":458,"props":927,"children":928},{"style":570},[929],{"type":433,"value":739},{"type":427,"tag":458,"props":931,"children":932},{"style":564},[933],{"type":433,"value":934}," my",{"type":427,"tag":458,"props":936,"children":937},{"style":477},[938],{"type":433,"value":649},{"type":427,"tag":458,"props":940,"children":941},{"style":564},[942],{"type":433,"value":925},{"type":427,"tag":458,"props":944,"children":945},{"style":570},[946],{"type":433,"value":947}," ||",{"type":427,"tag":458,"props":949,"children":950},{"style":477},[951],{"type":433,"value":952}," {}",{"type":427,"tag":458,"props":954,"children":955},{"style":771},[956],{"type":433,"value":794},{"type":427,"tag":458,"props":958,"children":959},{"class":460,"line":498},[960,964,969,973,977,981,985,990],{"type":427,"tag":458,"props":961,"children":962},{"style":465},[963],{"type":433,"value":728},{"type":427,"tag":458,"props":965,"children":966},{"style":859},[967],{"type":433,"value":968}," _seal",{"type":427,"tag":458,"props":970,"children":971},{"style":570},[972],{"type":433,"value":739},{"type":427,"tag":458,"props":974,"children":975},{"style":771},[976],{"type":433,"value":871},{"type":427,"tag":458,"props":978,"children":979},{"style":564},[980],{"type":433,"value":884},{"type":427,"tag":458,"props":982,"children":983},{"style":477},[984],{"type":433,"value":649},{"type":427,"tag":458,"props":986,"children":987},{"style":564},[988],{"type":433,"value":989},"_seal",{"type":427,"tag":458,"props":991,"children":992},{"style":570},[993],{"type":433,"value":994}," =\n",{"type":427,"tag":458,"props":996,"children":997},{"class":460,"line":507},[998,1003,1007,1011],{"type":427,"tag":458,"props":999,"children":1000},{"style":564},[1001],{"type":433,"value":1002},"    my",{"type":427,"tag":458,"props":1004,"children":1005},{"style":477},[1006],{"type":433,"value":649},{"type":427,"tag":458,"props":1008,"children":1009},{"style":564},[1010],{"type":433,"value":989},{"type":427,"tag":458,"props":1012,"children":1013},{"style":570},[1014],{"type":433,"value":1015}," ||\n",{"type":427,"tag":458,"props":1017,"children":1018},{"class":460,"line":528},[1019,1024,1028],{"type":427,"tag":458,"props":1020,"children":1021},{"style":465},[1022],{"type":433,"value":1023},"    function",{"type":427,"tag":458,"props":1025,"children":1026},{"style":477},[1027],{"type":433,"value":480},{"type":427,"tag":458,"props":1029,"children":1030},{"style":477},[1031],{"type":433,"value":485},{"type":427,"tag":458,"props":1033,"children":1034},{"class":460,"line":536},[1035,1040,1044,1048],{"type":427,"tag":458,"props":1036,"children":1037},{"style":570},[1038],{"type":433,"value":1039},"      delete",{"type":427,"tag":458,"props":1041,"children":1042},{"style":564},[1043],{"type":433,"value":934},{"type":427,"tag":458,"props":1045,"children":1046},{"style":477},[1047],{"type":433,"value":649},{"type":427,"tag":458,"props":1049,"children":1050},{"style":564},[1051],{"type":433,"value":1052},"_private\n",{"type":427,"tag":458,"props":1054,"children":1056},{"class":460,"line":1055},7,[1057,1061,1065,1069],{"type":427,"tag":458,"props":1058,"children":1059},{"style":570},[1060],{"type":433,"value":1039},{"type":427,"tag":458,"props":1062,"children":1063},{"style":564},[1064],{"type":433,"value":934},{"type":427,"tag":458,"props":1066,"children":1067},{"style":477},[1068],{"type":433,"value":649},{"type":427,"tag":458,"props":1070,"children":1071},{"style":564},[1072],{"type":433,"value":1073},"_seal\n",{"type":427,"tag":458,"props":1075,"children":1077},{"class":460,"line":1076},8,[1078,1082,1086,1090],{"type":427,"tag":458,"props":1079,"children":1080},{"style":570},[1081],{"type":433,"value":1039},{"type":427,"tag":458,"props":1083,"children":1084},{"style":564},[1085],{"type":433,"value":934},{"type":427,"tag":458,"props":1087,"children":1088},{"style":477},[1089],{"type":433,"value":649},{"type":427,"tag":458,"props":1091,"children":1092},{"style":564},[1093],{"type":433,"value":1094},"_unseal\n",{"type":427,"tag":458,"props":1096,"children":1098},{"class":460,"line":1097},9,[1099,1104],{"type":427,"tag":458,"props":1100,"children":1101},{"style":477},[1102],{"type":433,"value":1103},"    }",{"type":427,"tag":458,"props":1105,"children":1106},{"style":771},[1107],{"type":433,"value":794},{"type":427,"tag":458,"props":1109,"children":1111},{"class":460,"line":1110},10,[1112,1116,1121,1125,1129,1133,1137,1142],{"type":427,"tag":458,"props":1113,"children":1114},{"style":465},[1115],{"type":433,"value":728},{"type":427,"tag":458,"props":1117,"children":1118},{"style":859},[1119],{"type":433,"value":1120}," _unseal",{"type":427,"tag":458,"props":1122,"children":1123},{"style":570},[1124],{"type":433,"value":739},{"type":427,"tag":458,"props":1126,"children":1127},{"style":771},[1128],{"type":433,"value":871},{"type":427,"tag":458,"props":1130,"children":1131},{"style":564},[1132],{"type":433,"value":884},{"type":427,"tag":458,"props":1134,"children":1135},{"style":477},[1136],{"type":433,"value":649},{"type":427,"tag":458,"props":1138,"children":1139},{"style":564},[1140],{"type":433,"value":1141},"_unseal",{"type":427,"tag":458,"props":1143,"children":1144},{"style":570},[1145],{"type":433,"value":994},{"type":427,"tag":458,"props":1147,"children":1149},{"class":460,"line":1148},11,[1150,1154,1158,1162],{"type":427,"tag":458,"props":1151,"children":1152},{"style":564},[1153],{"type":433,"value":1002},{"type":427,"tag":458,"props":1155,"children":1156},{"style":477},[1157],{"type":433,"value":649},{"type":427,"tag":458,"props":1159,"children":1160},{"style":564},[1161],{"type":433,"value":1141},{"type":427,"tag":458,"props":1163,"children":1164},{"style":570},[1165],{"type":433,"value":1015},{"type":427,"tag":458,"props":1167,"children":1169},{"class":460,"line":1168},12,[1170,1174,1178],{"type":427,"tag":458,"props":1171,"children":1172},{"style":465},[1173],{"type":433,"value":1023},{"type":427,"tag":458,"props":1175,"children":1176},{"style":477},[1177],{"type":433,"value":480},{"type":427,"tag":458,"props":1179,"children":1180},{"style":477},[1181],{"type":433,"value":485},{"type":427,"tag":458,"props":1183,"children":1185},{"class":460,"line":1184},13,[1186,1191,1195,1199,1203],{"type":427,"tag":458,"props":1187,"children":1188},{"style":564},[1189],{"type":433,"value":1190},"      my",{"type":427,"tag":458,"props":1192,"children":1193},{"style":477},[1194],{"type":433,"value":649},{"type":427,"tag":458,"props":1196,"children":1197},{"style":564},[1198],{"type":433,"value":925},{"type":427,"tag":458,"props":1200,"children":1201},{"style":570},[1202],{"type":433,"value":739},{"type":427,"tag":458,"props":1204,"children":1205},{"style":564},[1206],{"type":433,"value":1207}," _private\n",{"type":427,"tag":458,"props":1209,"children":1211},{"class":460,"line":1210},14,[1212,1216,1220,1224,1228],{"type":427,"tag":458,"props":1213,"children":1214},{"style":564},[1215],{"type":433,"value":1190},{"type":427,"tag":458,"props":1217,"children":1218},{"style":477},[1219],{"type":433,"value":649},{"type":427,"tag":458,"props":1221,"children":1222},{"style":564},[1223],{"type":433,"value":989},{"type":427,"tag":458,"props":1225,"children":1226},{"style":570},[1227],{"type":433,"value":739},{"type":427,"tag":458,"props":1229,"children":1230},{"style":564},[1231],{"type":433,"value":1232}," _seal\n",{"type":427,"tag":458,"props":1234,"children":1236},{"class":460,"line":1235},15,[1237,1241,1245,1249,1253],{"type":427,"tag":458,"props":1238,"children":1239},{"style":564},[1240],{"type":433,"value":1190},{"type":427,"tag":458,"props":1242,"children":1243},{"style":477},[1244],{"type":433,"value":649},{"type":427,"tag":458,"props":1246,"children":1247},{"style":564},[1248],{"type":433,"value":1141},{"type":427,"tag":458,"props":1250,"children":1251},{"style":570},[1252],{"type":433,"value":739},{"type":427,"tag":458,"props":1254,"children":1255},{"style":564},[1256],{"type":433,"value":1257}," _unseal\n",{"type":427,"tag":458,"props":1259,"children":1261},{"class":460,"line":1260},16,[1262,1266],{"type":427,"tag":458,"props":1263,"children":1264},{"style":477},[1265],{"type":433,"value":1103},{"type":427,"tag":458,"props":1267,"children":1268},{"style":771},[1269],{"type":433,"value":794},{"type":427,"tag":458,"props":1271,"children":1273},{"class":460,"line":1272},17,[1274],{"type":427,"tag":458,"props":1275,"children":1276},{"emptyLinePlaceholder":420},[1277],{"type":433,"value":1278},"\n",{"type":427,"tag":458,"props":1280,"children":1282},{"class":460,"line":1281},18,[1283,1289],{"type":427,"tag":458,"props":1284,"children":1286},{"style":1285},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1287],{"type":433,"value":1288},"  return",{"type":427,"tag":458,"props":1290,"children":1291},{"style":564},[1292],{"type":433,"value":1293}," my\n",{"type":427,"tag":458,"props":1295,"children":1297},{"class":460,"line":1296},19,[1298,1302,1307,1312,1316,1320],{"type":427,"tag":458,"props":1299,"children":1300},{"style":477},[1301],{"type":433,"value":810},{"type":427,"tag":458,"props":1303,"children":1304},{"style":564},[1305],{"type":433,"value":1306},")(",{"type":427,"tag":458,"props":1308,"children":1309},{"style":859},[1310],{"type":433,"value":1311},"MODULE",{"type":427,"tag":458,"props":1313,"children":1314},{"style":570},[1315],{"type":433,"value":947},{"type":427,"tag":458,"props":1317,"children":1318},{"style":477},[1319],{"type":433,"value":952},{"type":427,"tag":458,"props":1321,"children":1322},{"style":564},[1323],{"type":433,"value":794},{"type":427,"tag":435,"props":1325,"children":1327},{"id":1326},"模块加载",[1328],{"type":433,"value":1326},{"type":427,"tag":441,"props":1330,"children":1331},{},[1332],{"type":433,"value":1333},"起初，我们这样组织代码：",{"type":427,"tag":447,"props":1335,"children":1337},{"className":449,"code":1336,"language":451,"meta":421,"style":421},"\u003Cscript type=\"text/javascript\" src=\"module1.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module2.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module3.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module4.js\">\u003C/script>\n",[1338],{"type":427,"tag":454,"props":1339,"children":1340},{"__ignoreMap":421},[1341,1415,1479,1543],{"type":427,"tag":458,"props":1342,"children":1343},{"class":460,"line":461},[1344,1349,1355,1361,1365,1370,1375,1379,1384,1388,1392,1397,1401,1406,1410],{"type":427,"tag":458,"props":1345,"children":1346},{"style":477},[1347],{"type":433,"value":1348},"\u003C",{"type":427,"tag":458,"props":1350,"children":1352},{"style":1351},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1353],{"type":433,"value":1354},"script",{"type":427,"tag":458,"props":1356,"children":1358},{"style":1357},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1359],{"type":433,"value":1360}," type",{"type":427,"tag":458,"props":1362,"children":1363},{"style":570},[1364],{"type":433,"value":573},{"type":427,"tag":458,"props":1366,"children":1367},{"style":776},[1368],{"type":433,"value":1369},"\"",{"type":427,"tag":458,"props":1371,"children":1372},{"style":782},[1373],{"type":433,"value":1374},"text/javascript",{"type":427,"tag":458,"props":1376,"children":1377},{"style":776},[1378],{"type":433,"value":1369},{"type":427,"tag":458,"props":1380,"children":1381},{"style":1357},[1382],{"type":433,"value":1383}," src",{"type":427,"tag":458,"props":1385,"children":1386},{"style":570},[1387],{"type":433,"value":573},{"type":427,"tag":458,"props":1389,"children":1390},{"style":776},[1391],{"type":433,"value":1369},{"type":427,"tag":458,"props":1393,"children":1394},{"style":782},[1395],{"type":433,"value":1396},"module1.js",{"type":427,"tag":458,"props":1398,"children":1399},{"style":776},[1400],{"type":433,"value":1369},{"type":427,"tag":458,"props":1402,"children":1403},{"style":477},[1404],{"type":433,"value":1405},">\u003C/",{"type":427,"tag":458,"props":1407,"children":1408},{"style":1351},[1409],{"type":433,"value":1354},{"type":427,"tag":458,"props":1411,"children":1412},{"style":477},[1413],{"type":433,"value":1414},">\n",{"type":427,"tag":458,"props":1416,"children":1417},{"class":460,"line":488},[1418,1422,1426,1430,1434,1438,1442,1446,1450,1454,1458,1463,1467,1471,1475],{"type":427,"tag":458,"props":1419,"children":1420},{"style":477},[1421],{"type":433,"value":1348},{"type":427,"tag":458,"props":1423,"children":1424},{"style":1351},[1425],{"type":433,"value":1354},{"type":427,"tag":458,"props":1427,"children":1428},{"style":1357},[1429],{"type":433,"value":1360},{"type":427,"tag":458,"props":1431,"children":1432},{"style":570},[1433],{"type":433,"value":573},{"type":427,"tag":458,"props":1435,"children":1436},{"style":776},[1437],{"type":433,"value":1369},{"type":427,"tag":458,"props":1439,"children":1440},{"style":782},[1441],{"type":433,"value":1374},{"type":427,"tag":458,"props":1443,"children":1444},{"style":776},[1445],{"type":433,"value":1369},{"type":427,"tag":458,"props":1447,"children":1448},{"style":1357},[1449],{"type":433,"value":1383},{"type":427,"tag":458,"props":1451,"children":1452},{"style":570},[1453],{"type":433,"value":573},{"type":427,"tag":458,"props":1455,"children":1456},{"style":776},[1457],{"type":433,"value":1369},{"type":427,"tag":458,"props":1459,"children":1460},{"style":782},[1461],{"type":433,"value":1462},"module2.js",{"type":427,"tag":458,"props":1464,"children":1465},{"style":776},[1466],{"type":433,"value":1369},{"type":427,"tag":458,"props":1468,"children":1469},{"style":477},[1470],{"type":433,"value":1405},{"type":427,"tag":458,"props":1472,"children":1473},{"style":1351},[1474],{"type":433,"value":1354},{"type":427,"tag":458,"props":1476,"children":1477},{"style":477},[1478],{"type":433,"value":1414},{"type":427,"tag":458,"props":1480,"children":1481},{"class":460,"line":498},[1482,1486,1490,1494,1498,1502,1506,1510,1514,1518,1522,1527,1531,1535,1539],{"type":427,"tag":458,"props":1483,"children":1484},{"style":477},[1485],{"type":433,"value":1348},{"type":427,"tag":458,"props":1487,"children":1488},{"style":1351},[1489],{"type":433,"value":1354},{"type":427,"tag":458,"props":1491,"children":1492},{"style":1357},[1493],{"type":433,"value":1360},{"type":427,"tag":458,"props":1495,"children":1496},{"style":570},[1497],{"type":433,"value":573},{"type":427,"tag":458,"props":1499,"children":1500},{"style":776},[1501],{"type":433,"value":1369},{"type":427,"tag":458,"props":1503,"children":1504},{"style":782},[1505],{"type":433,"value":1374},{"type":427,"tag":458,"props":1507,"children":1508},{"style":776},[1509],{"type":433,"value":1369},{"type":427,"tag":458,"props":1511,"children":1512},{"style":1357},[1513],{"type":433,"value":1383},{"type":427,"tag":458,"props":1515,"children":1516},{"style":570},[1517],{"type":433,"value":573},{"type":427,"tag":458,"props":1519,"children":1520},{"style":776},[1521],{"type":433,"value":1369},{"type":427,"tag":458,"props":1523,"children":1524},{"style":782},[1525],{"type":433,"value":1526},"module3.js",{"type":427,"tag":458,"props":1528,"children":1529},{"style":776},[1530],{"type":433,"value":1369},{"type":427,"tag":458,"props":1532,"children":1533},{"style":477},[1534],{"type":433,"value":1405},{"type":427,"tag":458,"props":1536,"children":1537},{"style":1351},[1538],{"type":433,"value":1354},{"type":427,"tag":458,"props":1540,"children":1541},{"style":477},[1542],{"type":433,"value":1414},{"type":427,"tag":458,"props":1544,"children":1545},{"class":460,"line":507},[1546,1550,1554,1558,1562,1566,1570,1574,1578,1582,1586,1591,1595,1599,1603],{"type":427,"tag":458,"props":1547,"children":1548},{"style":477},[1549],{"type":433,"value":1348},{"type":427,"tag":458,"props":1551,"children":1552},{"style":1351},[1553],{"type":433,"value":1354},{"type":427,"tag":458,"props":1555,"children":1556},{"style":1357},[1557],{"type":433,"value":1360},{"type":427,"tag":458,"props":1559,"children":1560},{"style":570},[1561],{"type":433,"value":573},{"type":427,"tag":458,"props":1563,"children":1564},{"style":776},[1565],{"type":433,"value":1369},{"type":427,"tag":458,"props":1567,"children":1568},{"style":782},[1569],{"type":433,"value":1374},{"type":427,"tag":458,"props":1571,"children":1572},{"style":776},[1573],{"type":433,"value":1369},{"type":427,"tag":458,"props":1575,"children":1576},{"style":1357},[1577],{"type":433,"value":1383},{"type":427,"tag":458,"props":1579,"children":1580},{"style":570},[1581],{"type":433,"value":573},{"type":427,"tag":458,"props":1583,"children":1584},{"style":776},[1585],{"type":433,"value":1369},{"type":427,"tag":458,"props":1587,"children":1588},{"style":782},[1589],{"type":433,"value":1590},"module4.js",{"type":427,"tag":458,"props":1592,"children":1593},{"style":776},[1594],{"type":433,"value":1369},{"type":427,"tag":458,"props":1596,"children":1597},{"style":477},[1598],{"type":433,"value":1405},{"type":427,"tag":458,"props":1600,"children":1601},{"style":1351},[1602],{"type":433,"value":1354},{"type":427,"tag":458,"props":1604,"children":1605},{"style":477},[1606],{"type":433,"value":1414},{"type":427,"tag":441,"props":1608,"children":1609},{},[1610],{"type":433,"value":1611},"YUI3、KISSY 主要是通过配置的方式来解决文件依赖的问题。",{"type":427,"tag":447,"props":1613,"children":1615},{"className":449,"code":1614,"language":451,"meta":421,"style":421},"YUI.add(\n  'module1',\n  function(Y) {\n    // ...\n  },\n  '0.0.1',\n  {\n    requires: ['node', 'event']\n  }\n)\n",[1616],{"type":427,"tag":454,"props":1617,"children":1618},{"__ignoreMap":421},[1619,1641,1663,1688,1696,1704,1724,1732,1786,1793],{"type":427,"tag":458,"props":1620,"children":1621},{"class":460,"line":461},[1622,1627,1631,1636],{"type":427,"tag":458,"props":1623,"children":1624},{"style":859},[1625],{"type":433,"value":1626},"YUI",{"type":427,"tag":458,"props":1628,"children":1629},{"style":477},[1630],{"type":433,"value":649},{"type":427,"tag":458,"props":1632,"children":1633},{"style":471},[1634],{"type":433,"value":1635},"add",{"type":427,"tag":458,"props":1637,"children":1638},{"style":564},[1639],{"type":433,"value":1640},"(\n",{"type":427,"tag":458,"props":1642,"children":1643},{"class":460,"line":488},[1644,1649,1654,1658],{"type":427,"tag":458,"props":1645,"children":1646},{"style":776},[1647],{"type":433,"value":1648},"  '",{"type":427,"tag":458,"props":1650,"children":1651},{"style":782},[1652],{"type":433,"value":1653},"module1",{"type":427,"tag":458,"props":1655,"children":1656},{"style":776},[1657],{"type":433,"value":779},{"type":427,"tag":458,"props":1659,"children":1660},{"style":477},[1661],{"type":433,"value":1662},",\n",{"type":427,"tag":458,"props":1664,"children":1665},{"class":460,"line":498},[1666,1671,1675,1680,1684],{"type":427,"tag":458,"props":1667,"children":1668},{"style":465},[1669],{"type":433,"value":1670},"  function",{"type":427,"tag":458,"props":1672,"children":1673},{"style":477},[1674],{"type":433,"value":697},{"type":427,"tag":458,"props":1676,"children":1677},{"style":708},[1678],{"type":433,"value":1679},"Y",{"type":427,"tag":458,"props":1681,"children":1682},{"style":477},[1683],{"type":433,"value":716},{"type":427,"tag":458,"props":1685,"children":1686},{"style":477},[1687],{"type":433,"value":485},{"type":427,"tag":458,"props":1689,"children":1690},{"class":460,"line":507},[1691],{"type":427,"tag":458,"props":1692,"children":1693},{"style":492},[1694],{"type":433,"value":1695},"    // ...\n",{"type":427,"tag":458,"props":1697,"children":1698},{"class":460,"line":528},[1699],{"type":427,"tag":458,"props":1700,"children":1701},{"style":477},[1702],{"type":433,"value":1703},"  },\n",{"type":427,"tag":458,"props":1705,"children":1706},{"class":460,"line":536},[1707,1711,1716,1720],{"type":427,"tag":458,"props":1708,"children":1709},{"style":776},[1710],{"type":433,"value":1648},{"type":427,"tag":458,"props":1712,"children":1713},{"style":782},[1714],{"type":433,"value":1715},"0.0.1",{"type":427,"tag":458,"props":1717,"children":1718},{"style":776},[1719],{"type":433,"value":779},{"type":427,"tag":458,"props":1721,"children":1722},{"style":477},[1723],{"type":433,"value":1662},{"type":427,"tag":458,"props":1725,"children":1726},{"class":460,"line":1055},[1727],{"type":427,"tag":458,"props":1728,"children":1729},{"style":477},[1730],{"type":433,"value":1731},"  {\n",{"type":427,"tag":458,"props":1733,"children":1734},{"class":460,"line":1076},[1735,1740,1744,1749,1753,1758,1762,1767,1772,1777,1781],{"type":427,"tag":458,"props":1736,"children":1737},{"style":771},[1738],{"type":433,"value":1739},"    requires",{"type":427,"tag":458,"props":1741,"children":1742},{"style":477},[1743],{"type":433,"value":590},{"type":427,"tag":458,"props":1745,"children":1746},{"style":564},[1747],{"type":433,"value":1748}," [",{"type":427,"tag":458,"props":1750,"children":1751},{"style":776},[1752],{"type":433,"value":779},{"type":427,"tag":458,"props":1754,"children":1755},{"style":782},[1756],{"type":433,"value":1757},"node",{"type":427,"tag":458,"props":1759,"children":1760},{"style":776},[1761],{"type":433,"value":779},{"type":427,"tag":458,"props":1763,"children":1764},{"style":477},[1765],{"type":433,"value":1766},",",{"type":427,"tag":458,"props":1768,"children":1769},{"style":776},[1770],{"type":433,"value":1771}," '",{"type":427,"tag":458,"props":1773,"children":1774},{"style":782},[1775],{"type":433,"value":1776},"event",{"type":427,"tag":458,"props":1778,"children":1779},{"style":776},[1780],{"type":433,"value":779},{"type":427,"tag":458,"props":1782,"children":1783},{"style":564},[1784],{"type":433,"value":1785},"]\n",{"type":427,"tag":458,"props":1787,"children":1788},{"class":460,"line":1097},[1789],{"type":427,"tag":458,"props":1790,"children":1791},{"style":477},[1792],{"type":433,"value":802},{"type":427,"tag":458,"props":1794,"children":1795},{"class":460,"line":1110},[1796],{"type":427,"tag":458,"props":1797,"children":1798},{"style":564},[1799],{"type":433,"value":794},{"type":427,"tag":441,"props":1801,"children":1802},{},[1803],{"type":433,"value":1804},"但是也带来了命名空间冲突的问题。",{"type":427,"tag":447,"props":1806,"children":1808},{"className":449,"code":1807,"language":451,"meta":421,"style":421},"YUI().use('a', 'b', function(Y) {\n  Y.foo()\n  // foo 方法究竟是模块 a 还是 b 提供的？\n  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n})\n",[1809],{"type":427,"tag":454,"props":1810,"children":1811},{"__ignoreMap":421},[1812,1889,1909,1917,1925],{"type":427,"tag":458,"props":1813,"children":1814},{"class":460,"line":461},[1815,1819,1823,1827,1832,1836,1840,1844,1848,1852,1856,1861,1865,1869,1873,1877,1881,1885],{"type":427,"tag":458,"props":1816,"children":1817},{"style":471},[1818],{"type":433,"value":1626},{"type":427,"tag":458,"props":1820,"children":1821},{"style":564},[1822],{"type":433,"value":480},{"type":427,"tag":458,"props":1824,"children":1825},{"style":477},[1826],{"type":433,"value":649},{"type":427,"tag":458,"props":1828,"children":1829},{"style":471},[1830],{"type":433,"value":1831},"use",{"type":427,"tag":458,"props":1833,"children":1834},{"style":564},[1835],{"type":433,"value":697},{"type":427,"tag":458,"props":1837,"children":1838},{"style":776},[1839],{"type":433,"value":779},{"type":427,"tag":458,"props":1841,"children":1842},{"style":782},[1843],{"type":433,"value":833},{"type":427,"tag":458,"props":1845,"children":1846},{"style":776},[1847],{"type":433,"value":779},{"type":427,"tag":458,"props":1849,"children":1850},{"style":477},[1851],{"type":433,"value":1766},{"type":427,"tag":458,"props":1853,"children":1854},{"style":776},[1855],{"type":433,"value":1771},{"type":427,"tag":458,"props":1857,"children":1858},{"style":782},[1859],{"type":433,"value":1860},"b",{"type":427,"tag":458,"props":1862,"children":1863},{"style":776},[1864],{"type":433,"value":779},{"type":427,"tag":458,"props":1866,"children":1867},{"style":477},[1868],{"type":433,"value":1766},{"type":427,"tag":458,"props":1870,"children":1871},{"style":465},[1872],{"type":433,"value":595},{"type":427,"tag":458,"props":1874,"children":1875},{"style":477},[1876],{"type":433,"value":697},{"type":427,"tag":458,"props":1878,"children":1879},{"style":708},[1880],{"type":433,"value":1679},{"type":427,"tag":458,"props":1882,"children":1883},{"style":477},[1884],{"type":433,"value":716},{"type":427,"tag":458,"props":1886,"children":1887},{"style":477},[1888],{"type":433,"value":485},{"type":427,"tag":458,"props":1890,"children":1891},{"class":460,"line":488},[1892,1897,1901,1905],{"type":427,"tag":458,"props":1893,"children":1894},{"style":859},[1895],{"type":433,"value":1896},"  Y",{"type":427,"tag":458,"props":1898,"children":1899},{"style":477},[1900],{"type":433,"value":649},{"type":427,"tag":458,"props":1902,"children":1903},{"style":471},[1904],{"type":433,"value":654},{"type":427,"tag":458,"props":1906,"children":1907},{"style":771},[1908],{"type":433,"value":659},{"type":427,"tag":458,"props":1910,"children":1911},{"class":460,"line":498},[1912],{"type":427,"tag":458,"props":1913,"children":1914},{"style":492},[1915],{"type":433,"value":1916},"  // foo 方法究竟是模块 a 还是 b 提供的？\n",{"type":427,"tag":458,"props":1918,"children":1919},{"class":460,"line":507},[1920],{"type":427,"tag":458,"props":1921,"children":1922},{"style":492},[1923],{"type":433,"value":1924},"  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n",{"type":427,"tag":458,"props":1926,"children":1927},{"class":460,"line":528},[1928,1932],{"type":427,"tag":458,"props":1929,"children":1930},{"style":477},[1931],{"type":433,"value":810},{"type":427,"tag":458,"props":1933,"children":1934},{"style":564},[1935],{"type":433,"value":794},{"type":427,"tag":441,"props":1937,"children":1938},{},[1939],{"type":433,"value":1940},"为什么我们需要模块化？",{"type":427,"tag":441,"props":1942,"children":1943},{},[1944],{"type":433,"value":1945},"当下来看，页面内应用正在变得复杂，我们需要使用模块解耦各个 JS 文件，使开发过程变得可维护，在部署过程中优化以提高页面加载性能。",{"type":427,"tag":1947,"props":1948,"children":1949},"ul",{},[1950,1956,1961],{"type":427,"tag":1951,"props":1952,"children":1953},"li",{},[1954],{"type":433,"value":1955},"如何安全的把模块的 API 暴漏出去？",{"type":427,"tag":1951,"props":1957,"children":1958},{},[1959],{"type":433,"value":1960},"如何唯一标识一个模块？",{"type":427,"tag":1951,"props":1962,"children":1963},{},[1964],{"type":433,"value":1965},"如何方便的使用所依赖的模块？",{"type":427,"tag":435,"props":1967,"children":1969},{"id":1968},"模块化规范演变",[1970],{"type":433,"value":1968},{"type":427,"tag":441,"props":1972,"children":1973},{},[1974],{"type":433,"value":1975},"目前有三种主流的模块加载方式，",{"type":427,"tag":1947,"props":1977,"children":1978},{},[1979,1984,1989],{"type":427,"tag":1951,"props":1980,"children":1981},{},[1982],{"type":433,"value":1983},"CommonJS",{"type":427,"tag":1951,"props":1985,"children":1986},{},[1987],{"type":433,"value":1988},"AMD（Asynchronous Module Definition）/ CMD / UMD",{"type":427,"tag":1951,"props":1990,"children":1991},{},[1992],{"type":433,"value":1993},"ES Module",{"type":427,"tag":441,"props":1995,"children":1996},{},[1997],{"type":433,"value":1998},"CommonJS 原名为 ServerJS，推出 Modules/1.0 规范后，在 Node.js 环境下取得了很不错的实践。",{"type":427,"tag":447,"props":2000,"children":2002},{"className":449,"code":2001,"language":451,"meta":421,"style":421},"// Define in math.js\nexports.sum = function(...numbers) {\n  return numbers.reduce((result, num) => result + num, 0)\n}\n\n// Use in other file\nvar math = require('math')\nmath.sum(1, 3)\n",[2003],{"type":427,"tag":454,"props":2004,"children":2005},{"__ignoreMap":421},[2006,2014,2062,2142,2149,2156,2164,2206],{"type":427,"tag":458,"props":2007,"children":2008},{"class":460,"line":461},[2009],{"type":427,"tag":458,"props":2010,"children":2011},{"style":492},[2012],{"type":433,"value":2013},"// Define in math.js\n",{"type":427,"tag":458,"props":2015,"children":2016},{"class":460,"line":488},[2017,2023,2027,2032,2036,2040,2044,2049,2054,2058],{"type":427,"tag":458,"props":2018,"children":2020},{"style":2019},"--shiki-light:#39ADB5;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[2021],{"type":433,"value":2022},"exports",{"type":427,"tag":458,"props":2024,"children":2025},{"style":477},[2026],{"type":433,"value":649},{"type":427,"tag":458,"props":2028,"children":2029},{"style":471},[2030],{"type":433,"value":2031},"sum",{"type":427,"tag":458,"props":2033,"children":2034},{"style":570},[2035],{"type":433,"value":739},{"type":427,"tag":458,"props":2037,"children":2038},{"style":465},[2039],{"type":433,"value":595},{"type":427,"tag":458,"props":2041,"children":2042},{"style":477},[2043],{"type":433,"value":697},{"type":427,"tag":458,"props":2045,"children":2046},{"style":570},[2047],{"type":433,"value":2048},"...",{"type":427,"tag":458,"props":2050,"children":2051},{"style":708},[2052],{"type":433,"value":2053},"numbers",{"type":427,"tag":458,"props":2055,"children":2056},{"style":477},[2057],{"type":433,"value":716},{"type":427,"tag":458,"props":2059,"children":2060},{"style":477},[2061],{"type":433,"value":485},{"type":427,"tag":458,"props":2063,"children":2064},{"class":460,"line":498},[2065,2069,2074,2078,2083,2087,2091,2096,2100,2105,2109,2114,2119,2124,2128,2132,2138],{"type":427,"tag":458,"props":2066,"children":2067},{"style":1285},[2068],{"type":433,"value":1288},{"type":427,"tag":458,"props":2070,"children":2071},{"style":564},[2072],{"type":433,"value":2073}," numbers",{"type":427,"tag":458,"props":2075,"children":2076},{"style":477},[2077],{"type":433,"value":649},{"type":427,"tag":458,"props":2079,"children":2080},{"style":471},[2081],{"type":433,"value":2082},"reduce",{"type":427,"tag":458,"props":2084,"children":2085},{"style":771},[2086],{"type":433,"value":697},{"type":427,"tag":458,"props":2088,"children":2089},{"style":477},[2090],{"type":433,"value":697},{"type":427,"tag":458,"props":2092,"children":2093},{"style":708},[2094],{"type":433,"value":2095},"result",{"type":427,"tag":458,"props":2097,"children":2098},{"style":477},[2099],{"type":433,"value":1766},{"type":427,"tag":458,"props":2101,"children":2102},{"style":708},[2103],{"type":433,"value":2104}," num",{"type":427,"tag":458,"props":2106,"children":2107},{"style":477},[2108],{"type":433,"value":716},{"type":427,"tag":458,"props":2110,"children":2111},{"style":465},[2112],{"type":433,"value":2113}," =>",{"type":427,"tag":458,"props":2115,"children":2116},{"style":564},[2117],{"type":433,"value":2118}," result",{"type":427,"tag":458,"props":2120,"children":2121},{"style":570},[2122],{"type":433,"value":2123}," +",{"type":427,"tag":458,"props":2125,"children":2126},{"style":564},[2127],{"type":433,"value":2104},{"type":427,"tag":458,"props":2129,"children":2130},{"style":477},[2131],{"type":433,"value":1766},{"type":427,"tag":458,"props":2133,"children":2135},{"style":2134},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2136],{"type":433,"value":2137}," 0",{"type":427,"tag":458,"props":2139,"children":2140},{"style":771},[2141],{"type":433,"value":794},{"type":427,"tag":458,"props":2143,"children":2144},{"class":460,"line":507},[2145],{"type":427,"tag":458,"props":2146,"children":2147},{"style":477},[2148],{"type":433,"value":504},{"type":427,"tag":458,"props":2150,"children":2151},{"class":460,"line":528},[2152],{"type":427,"tag":458,"props":2153,"children":2154},{"emptyLinePlaceholder":420},[2155],{"type":433,"value":1278},{"type":427,"tag":458,"props":2157,"children":2158},{"class":460,"line":536},[2159],{"type":427,"tag":458,"props":2160,"children":2161},{"style":492},[2162],{"type":433,"value":2163},"// Use in other file\n",{"type":427,"tag":458,"props":2165,"children":2166},{"class":460,"line":1055},[2167,2171,2176,2180,2185,2189,2193,2198,2202],{"type":427,"tag":458,"props":2168,"children":2169},{"style":465},[2170],{"type":433,"value":561},{"type":427,"tag":458,"props":2172,"children":2173},{"style":564},[2174],{"type":433,"value":2175}," math ",{"type":427,"tag":458,"props":2177,"children":2178},{"style":570},[2179],{"type":433,"value":573},{"type":427,"tag":458,"props":2181,"children":2182},{"style":471},[2183],{"type":433,"value":2184}," require",{"type":427,"tag":458,"props":2186,"children":2187},{"style":564},[2188],{"type":433,"value":697},{"type":427,"tag":458,"props":2190,"children":2191},{"style":776},[2192],{"type":433,"value":779},{"type":427,"tag":458,"props":2194,"children":2195},{"style":782},[2196],{"type":433,"value":2197},"math",{"type":427,"tag":458,"props":2199,"children":2200},{"style":776},[2201],{"type":433,"value":779},{"type":427,"tag":458,"props":2203,"children":2204},{"style":564},[2205],{"type":433,"value":794},{"type":427,"tag":458,"props":2207,"children":2208},{"class":460,"line":1076},[2209,2213,2217,2221,2225,2230,2234,2239],{"type":427,"tag":458,"props":2210,"children":2211},{"style":564},[2212],{"type":433,"value":2197},{"type":427,"tag":458,"props":2214,"children":2215},{"style":477},[2216],{"type":433,"value":649},{"type":427,"tag":458,"props":2218,"children":2219},{"style":471},[2220],{"type":433,"value":2031},{"type":427,"tag":458,"props":2222,"children":2223},{"style":564},[2224],{"type":433,"value":697},{"type":427,"tag":458,"props":2226,"children":2227},{"style":2134},[2228],{"type":433,"value":2229},"1",{"type":427,"tag":458,"props":2231,"children":2232},{"style":477},[2233],{"type":433,"value":1766},{"type":427,"tag":458,"props":2235,"children":2236},{"style":2134},[2237],{"type":433,"value":2238}," 3",{"type":427,"tag":458,"props":2240,"children":2241},{"style":564},[2242],{"type":433,"value":794},{"type":427,"tag":441,"props":2244,"children":2245},{},[2246],{"type":433,"value":2247},"ServerJS 想进一步推广到浏览器端，于是将社区改名叫 CommonJS。激烈争论 Modules 的下一版规范时，分歧和冲突由此诞生。",{"type":427,"tag":441,"props":2249,"children":2250},{},[2251],{"type":433,"value":2252},"James Burke 推荐直接改良 CommonJS 的模块格式以适应浏览器端开发，但是 CommonJS 的发起者并不同意，这也就催生了 RequireJS。James Burke 制定了 AMD 规范，并在 2010 年实现了遵循 AMD 规范的模块加载器 RequireJS。",{"type":427,"tag":447,"props":2254,"children":2256},{"className":449,"code":2255,"language":451,"meta":421,"style":421},"require(['module/module1.js', 'module/module2.js'], function(module1, module2) {\n  module1.printModule1FileName()\n  module2.printModule2FileName()\n})\n",[2257],{"type":427,"tag":454,"props":2258,"children":2259},{"__ignoreMap":421},[2260,2341,2362,2383],{"type":427,"tag":458,"props":2261,"children":2262},{"class":460,"line":461},[2263,2268,2273,2277,2282,2286,2290,2294,2299,2303,2308,2312,2316,2320,2324,2328,2333,2337],{"type":427,"tag":458,"props":2264,"children":2265},{"style":471},[2266],{"type":433,"value":2267},"require",{"type":427,"tag":458,"props":2269,"children":2270},{"style":564},[2271],{"type":433,"value":2272},"([",{"type":427,"tag":458,"props":2274,"children":2275},{"style":776},[2276],{"type":433,"value":779},{"type":427,"tag":458,"props":2278,"children":2279},{"style":782},[2280],{"type":433,"value":2281},"module/module1.js",{"type":427,"tag":458,"props":2283,"children":2284},{"style":776},[2285],{"type":433,"value":779},{"type":427,"tag":458,"props":2287,"children":2288},{"style":477},[2289],{"type":433,"value":1766},{"type":427,"tag":458,"props":2291,"children":2292},{"style":776},[2293],{"type":433,"value":1771},{"type":427,"tag":458,"props":2295,"children":2296},{"style":782},[2297],{"type":433,"value":2298},"module/module2.js",{"type":427,"tag":458,"props":2300,"children":2301},{"style":776},[2302],{"type":433,"value":779},{"type":427,"tag":458,"props":2304,"children":2305},{"style":564},[2306],{"type":433,"value":2307},"]",{"type":427,"tag":458,"props":2309,"children":2310},{"style":477},[2311],{"type":433,"value":1766},{"type":427,"tag":458,"props":2313,"children":2314},{"style":465},[2315],{"type":433,"value":595},{"type":427,"tag":458,"props":2317,"children":2318},{"style":477},[2319],{"type":433,"value":697},{"type":427,"tag":458,"props":2321,"children":2322},{"style":708},[2323],{"type":433,"value":1653},{"type":427,"tag":458,"props":2325,"children":2326},{"style":477},[2327],{"type":433,"value":1766},{"type":427,"tag":458,"props":2329,"children":2330},{"style":708},[2331],{"type":433,"value":2332}," module2",{"type":427,"tag":458,"props":2334,"children":2335},{"style":477},[2336],{"type":433,"value":716},{"type":427,"tag":458,"props":2338,"children":2339},{"style":477},[2340],{"type":433,"value":485},{"type":427,"tag":458,"props":2342,"children":2343},{"class":460,"line":488},[2344,2349,2353,2358],{"type":427,"tag":458,"props":2345,"children":2346},{"style":564},[2347],{"type":433,"value":2348},"  module1",{"type":427,"tag":458,"props":2350,"children":2351},{"style":477},[2352],{"type":433,"value":649},{"type":427,"tag":458,"props":2354,"children":2355},{"style":471},[2356],{"type":433,"value":2357},"printModule1FileName",{"type":427,"tag":458,"props":2359,"children":2360},{"style":771},[2361],{"type":433,"value":659},{"type":427,"tag":458,"props":2363,"children":2364},{"class":460,"line":498},[2365,2370,2374,2379],{"type":427,"tag":458,"props":2366,"children":2367},{"style":564},[2368],{"type":433,"value":2369},"  module2",{"type":427,"tag":458,"props":2371,"children":2372},{"style":477},[2373],{"type":433,"value":649},{"type":427,"tag":458,"props":2375,"children":2376},{"style":471},[2377],{"type":433,"value":2378},"printModule2FileName",{"type":427,"tag":458,"props":2380,"children":2381},{"style":771},[2382],{"type":433,"value":659},{"type":427,"tag":458,"props":2384,"children":2385},{"class":460,"line":507},[2386,2390],{"type":427,"tag":458,"props":2387,"children":2388},{"style":477},[2389],{"type":433,"value":810},{"type":427,"tag":458,"props":2391,"children":2392},{"style":564},[2393],{"type":433,"value":794},{"type":427,"tag":441,"props":2395,"children":2396},{},[2397],{"type":433,"value":2398},"玉伯认为 RequireJS 不够完善，并从头开始实现模块加载程序 SeaJS。CMD 是 SeaJS 在推广过程中对模块定义的规范化产出。",{"type":427,"tag":447,"props":2400,"children":2402},{"className":449,"code":2401,"language":451,"meta":421,"style":421},"define(function(require, exports, module) {\n  // AMD推崇依赖前置，而CMD推崇依赖就近\n  const a = require('./a')\n  a.test()\n\n  // 软依赖\n  if (status) {\n    const b = require('./b')\n    b.test()\n  }\n})\n",[2403],{"type":427,"tag":454,"props":2404,"children":2405},{"__ignoreMap":421},[2406,2456,2464,2505,2526,2533,2541,2568,2610,2630,2637],{"type":427,"tag":458,"props":2407,"children":2408},{"class":460,"line":461},[2409,2414,2418,2422,2426,2430,2434,2439,2443,2448,2452],{"type":427,"tag":458,"props":2410,"children":2411},{"style":471},[2412],{"type":433,"value":2413},"define",{"type":427,"tag":458,"props":2415,"children":2416},{"style":564},[2417],{"type":433,"value":697},{"type":427,"tag":458,"props":2419,"children":2420},{"style":465},[2421],{"type":433,"value":468},{"type":427,"tag":458,"props":2423,"children":2424},{"style":477},[2425],{"type":433,"value":697},{"type":427,"tag":458,"props":2427,"children":2428},{"style":708},[2429],{"type":433,"value":2267},{"type":427,"tag":458,"props":2431,"children":2432},{"style":477},[2433],{"type":433,"value":1766},{"type":427,"tag":458,"props":2435,"children":2436},{"style":708},[2437],{"type":433,"value":2438}," exports",{"type":427,"tag":458,"props":2440,"children":2441},{"style":477},[2442],{"type":433,"value":1766},{"type":427,"tag":458,"props":2444,"children":2445},{"style":708},[2446],{"type":433,"value":2447}," module",{"type":427,"tag":458,"props":2449,"children":2450},{"style":477},[2451],{"type":433,"value":716},{"type":427,"tag":458,"props":2453,"children":2454},{"style":477},[2455],{"type":433,"value":485},{"type":427,"tag":458,"props":2457,"children":2458},{"class":460,"line":488},[2459],{"type":427,"tag":458,"props":2460,"children":2461},{"style":492},[2462],{"type":433,"value":2463},"  // AMD推崇依赖前置，而CMD推崇依赖就近\n",{"type":427,"tag":458,"props":2465,"children":2466},{"class":460,"line":498},[2467,2471,2476,2480,2484,2488,2492,2497,2501],{"type":427,"tag":458,"props":2468,"children":2469},{"style":465},[2470],{"type":433,"value":728},{"type":427,"tag":458,"props":2472,"children":2473},{"style":859},[2474],{"type":433,"value":2475}," a",{"type":427,"tag":458,"props":2477,"children":2478},{"style":570},[2479],{"type":433,"value":739},{"type":427,"tag":458,"props":2481,"children":2482},{"style":471},[2483],{"type":433,"value":2184},{"type":427,"tag":458,"props":2485,"children":2486},{"style":771},[2487],{"type":433,"value":697},{"type":427,"tag":458,"props":2489,"children":2490},{"style":776},[2491],{"type":433,"value":779},{"type":427,"tag":458,"props":2493,"children":2494},{"style":782},[2495],{"type":433,"value":2496},"./a",{"type":427,"tag":458,"props":2498,"children":2499},{"style":776},[2500],{"type":433,"value":779},{"type":427,"tag":458,"props":2502,"children":2503},{"style":771},[2504],{"type":433,"value":794},{"type":427,"tag":458,"props":2506,"children":2507},{"class":460,"line":507},[2508,2513,2517,2522],{"type":427,"tag":458,"props":2509,"children":2510},{"style":564},[2511],{"type":433,"value":2512},"  a",{"type":427,"tag":458,"props":2514,"children":2515},{"style":477},[2516],{"type":433,"value":649},{"type":427,"tag":458,"props":2518,"children":2519},{"style":471},[2520],{"type":433,"value":2521},"test",{"type":427,"tag":458,"props":2523,"children":2524},{"style":771},[2525],{"type":433,"value":659},{"type":427,"tag":458,"props":2527,"children":2528},{"class":460,"line":528},[2529],{"type":427,"tag":458,"props":2530,"children":2531},{"emptyLinePlaceholder":420},[2532],{"type":433,"value":1278},{"type":427,"tag":458,"props":2534,"children":2535},{"class":460,"line":536},[2536],{"type":427,"tag":458,"props":2537,"children":2538},{"style":492},[2539],{"type":433,"value":2540},"  // 软依赖\n",{"type":427,"tag":458,"props":2542,"children":2543},{"class":460,"line":1055},[2544,2549,2553,2558,2563],{"type":427,"tag":458,"props":2545,"children":2546},{"style":1285},[2547],{"type":433,"value":2548},"  if",{"type":427,"tag":458,"props":2550,"children":2551},{"style":771},[2552],{"type":433,"value":871},{"type":427,"tag":458,"props":2554,"children":2555},{"style":564},[2556],{"type":433,"value":2557},"status",{"type":427,"tag":458,"props":2559,"children":2560},{"style":771},[2561],{"type":433,"value":2562},") ",{"type":427,"tag":458,"props":2564,"children":2565},{"style":477},[2566],{"type":433,"value":2567},"{\n",{"type":427,"tag":458,"props":2569,"children":2570},{"class":460,"line":1076},[2571,2576,2581,2585,2589,2593,2597,2602,2606],{"type":427,"tag":458,"props":2572,"children":2573},{"style":465},[2574],{"type":433,"value":2575},"    const",{"type":427,"tag":458,"props":2577,"children":2578},{"style":859},[2579],{"type":433,"value":2580}," b",{"type":427,"tag":458,"props":2582,"children":2583},{"style":570},[2584],{"type":433,"value":739},{"type":427,"tag":458,"props":2586,"children":2587},{"style":471},[2588],{"type":433,"value":2184},{"type":427,"tag":458,"props":2590,"children":2591},{"style":771},[2592],{"type":433,"value":697},{"type":427,"tag":458,"props":2594,"children":2595},{"style":776},[2596],{"type":433,"value":779},{"type":427,"tag":458,"props":2598,"children":2599},{"style":782},[2600],{"type":433,"value":2601},"./b",{"type":427,"tag":458,"props":2603,"children":2604},{"style":776},[2605],{"type":433,"value":779},{"type":427,"tag":458,"props":2607,"children":2608},{"style":771},[2609],{"type":433,"value":794},{"type":427,"tag":458,"props":2611,"children":2612},{"class":460,"line":1097},[2613,2618,2622,2626],{"type":427,"tag":458,"props":2614,"children":2615},{"style":564},[2616],{"type":433,"value":2617},"    b",{"type":427,"tag":458,"props":2619,"children":2620},{"style":477},[2621],{"type":433,"value":649},{"type":427,"tag":458,"props":2623,"children":2624},{"style":471},[2625],{"type":433,"value":2521},{"type":427,"tag":458,"props":2627,"children":2628},{"style":771},[2629],{"type":433,"value":659},{"type":427,"tag":458,"props":2631,"children":2632},{"class":460,"line":1110},[2633],{"type":427,"tag":458,"props":2634,"children":2635},{"style":477},[2636],{"type":433,"value":802},{"type":427,"tag":458,"props":2638,"children":2639},{"class":460,"line":1148},[2640,2644],{"type":427,"tag":458,"props":2641,"children":2642},{"style":477},[2643],{"type":433,"value":810},{"type":427,"tag":458,"props":2645,"children":2646},{"style":564},[2647],{"type":433,"value":794},{"type":427,"tag":441,"props":2649,"children":2650},{},[2651],{"type":433,"value":2652},"UMD 统一 CommonJS 和 AMD，所以 UMD 定义的模块可以同时在客户端和服务端使用：",{"type":427,"tag":447,"props":2654,"children":2656},{"className":449,"code":2655,"language":451,"meta":421,"style":421},";(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self), (global.myModule = factory()))\n})(this, function() {\n  return myModule\n})\n",[2657],{"type":427,"tag":454,"props":2658,"children":2659},{"__ignoreMap":421},[2660,2701,2764,2802,2852,2876,2948,2981,2993],{"type":427,"tag":458,"props":2661,"children":2662},{"class":460,"line":461},[2663,2667,2671,2675,2679,2684,2688,2693,2697],{"type":427,"tag":458,"props":2664,"children":2665},{"style":477},[2666],{"type":433,"value":692},{"type":427,"tag":458,"props":2668,"children":2669},{"style":564},[2670],{"type":433,"value":697},{"type":427,"tag":458,"props":2672,"children":2673},{"style":465},[2674],{"type":433,"value":468},{"type":427,"tag":458,"props":2676,"children":2677},{"style":477},[2678],{"type":433,"value":697},{"type":427,"tag":458,"props":2680,"children":2681},{"style":708},[2682],{"type":433,"value":2683},"global",{"type":427,"tag":458,"props":2685,"children":2686},{"style":477},[2687],{"type":433,"value":1766},{"type":427,"tag":458,"props":2689,"children":2690},{"style":708},[2691],{"type":433,"value":2692}," factory",{"type":427,"tag":458,"props":2694,"children":2695},{"style":477},[2696],{"type":433,"value":716},{"type":427,"tag":458,"props":2698,"children":2699},{"style":477},[2700],{"type":433,"value":485},{"type":427,"tag":458,"props":2702,"children":2703},{"class":460,"line":488},[2704,2709,2713,2718,2722,2727,2731,2736,2741,2745,2750,2754,2759],{"type":427,"tag":458,"props":2705,"children":2706},{"style":570},[2707],{"type":433,"value":2708},"  typeof",{"type":427,"tag":458,"props":2710,"children":2711},{"style":2019},[2712],{"type":433,"value":2438},{"type":427,"tag":458,"props":2714,"children":2715},{"style":570},[2716],{"type":433,"value":2717}," ===",{"type":427,"tag":458,"props":2719,"children":2720},{"style":776},[2721],{"type":433,"value":1771},{"type":427,"tag":458,"props":2723,"children":2724},{"style":782},[2725],{"type":433,"value":2726},"object",{"type":427,"tag":458,"props":2728,"children":2729},{"style":776},[2730],{"type":433,"value":779},{"type":427,"tag":458,"props":2732,"children":2733},{"style":570},[2734],{"type":433,"value":2735}," &&",{"type":427,"tag":458,"props":2737,"children":2738},{"style":570},[2739],{"type":433,"value":2740}," typeof",{"type":427,"tag":458,"props":2742,"children":2743},{"style":2019},[2744],{"type":433,"value":2447},{"type":427,"tag":458,"props":2746,"children":2747},{"style":570},[2748],{"type":433,"value":2749}," !==",{"type":427,"tag":458,"props":2751,"children":2752},{"style":776},[2753],{"type":433,"value":1771},{"type":427,"tag":458,"props":2755,"children":2756},{"style":782},[2757],{"type":433,"value":2758},"undefined",{"type":427,"tag":458,"props":2760,"children":2761},{"style":776},[2762],{"type":433,"value":2763},"'\n",{"type":427,"tag":458,"props":2765,"children":2766},{"class":460,"line":498},[2767,2772,2776,2781,2785,2789,2793,2797],{"type":427,"tag":458,"props":2768,"children":2769},{"style":570},[2770],{"type":433,"value":2771},"    ?",{"type":427,"tag":458,"props":2773,"children":2774},{"style":771},[2775],{"type":433,"value":871},{"type":427,"tag":458,"props":2777,"children":2778},{"style":2019},[2779],{"type":433,"value":2780},"module",{"type":427,"tag":458,"props":2782,"children":2783},{"style":477},[2784],{"type":433,"value":649},{"type":427,"tag":458,"props":2786,"children":2787},{"style":2019},[2788],{"type":433,"value":2022},{"type":427,"tag":458,"props":2790,"children":2791},{"style":570},[2792],{"type":433,"value":739},{"type":427,"tag":458,"props":2794,"children":2795},{"style":471},[2796],{"type":433,"value":2692},{"type":427,"tag":458,"props":2798,"children":2799},{"style":771},[2800],{"type":433,"value":2801},"())\n",{"type":427,"tag":458,"props":2803,"children":2804},{"class":460,"line":507},[2805,2810,2814,2819,2823,2827,2831,2835,2839,2843,2847],{"type":427,"tag":458,"props":2806,"children":2807},{"style":570},[2808],{"type":433,"value":2809},"    :",{"type":427,"tag":458,"props":2811,"children":2812},{"style":570},[2813],{"type":433,"value":2740},{"type":427,"tag":458,"props":2815,"children":2816},{"style":564},[2817],{"type":433,"value":2818}," define",{"type":427,"tag":458,"props":2820,"children":2821},{"style":570},[2822],{"type":433,"value":2717},{"type":427,"tag":458,"props":2824,"children":2825},{"style":776},[2826],{"type":433,"value":1771},{"type":427,"tag":458,"props":2828,"children":2829},{"style":782},[2830],{"type":433,"value":468},{"type":427,"tag":458,"props":2832,"children":2833},{"style":776},[2834],{"type":433,"value":779},{"type":427,"tag":458,"props":2836,"children":2837},{"style":570},[2838],{"type":433,"value":2735},{"type":427,"tag":458,"props":2840,"children":2841},{"style":564},[2842],{"type":433,"value":2818},{"type":427,"tag":458,"props":2844,"children":2845},{"style":477},[2846],{"type":433,"value":649},{"type":427,"tag":458,"props":2848,"children":2849},{"style":564},[2850],{"type":433,"value":2851},"amd\n",{"type":427,"tag":458,"props":2853,"children":2854},{"class":460,"line":528},[2855,2859,2863,2867,2872],{"type":427,"tag":458,"props":2856,"children":2857},{"style":570},[2858],{"type":433,"value":2771},{"type":427,"tag":458,"props":2860,"children":2861},{"style":471},[2862],{"type":433,"value":2818},{"type":427,"tag":458,"props":2864,"children":2865},{"style":771},[2866],{"type":433,"value":697},{"type":427,"tag":458,"props":2868,"children":2869},{"style":564},[2870],{"type":433,"value":2871},"factory",{"type":427,"tag":458,"props":2873,"children":2874},{"style":771},[2875],{"type":433,"value":794},{"type":427,"tag":458,"props":2877,"children":2878},{"class":460,"line":536},[2879,2883,2888,2892,2896,2901,2905,2910,2914,2918,2922,2926,2930,2935,2939,2943],{"type":427,"tag":458,"props":2880,"children":2881},{"style":570},[2882],{"type":433,"value":2809},{"type":427,"tag":458,"props":2884,"children":2885},{"style":771},[2886],{"type":433,"value":2887}," ((",{"type":427,"tag":458,"props":2889,"children":2890},{"style":564},[2891],{"type":433,"value":2683},{"type":427,"tag":458,"props":2893,"children":2894},{"style":570},[2895],{"type":433,"value":739},{"type":427,"tag":458,"props":2897,"children":2898},{"style":564},[2899],{"type":433,"value":2900}," global",{"type":427,"tag":458,"props":2902,"children":2903},{"style":570},[2904],{"type":433,"value":947},{"type":427,"tag":458,"props":2906,"children":2907},{"style":564},[2908],{"type":433,"value":2909}," self",{"type":427,"tag":458,"props":2911,"children":2912},{"style":771},[2913],{"type":433,"value":716},{"type":427,"tag":458,"props":2915,"children":2916},{"style":477},[2917],{"type":433,"value":1766},{"type":427,"tag":458,"props":2919,"children":2920},{"style":771},[2921],{"type":433,"value":871},{"type":427,"tag":458,"props":2923,"children":2924},{"style":564},[2925],{"type":433,"value":2683},{"type":427,"tag":458,"props":2927,"children":2928},{"style":477},[2929],{"type":433,"value":649},{"type":427,"tag":458,"props":2931,"children":2932},{"style":564},[2933],{"type":433,"value":2934},"myModule",{"type":427,"tag":458,"props":2936,"children":2937},{"style":570},[2938],{"type":433,"value":739},{"type":427,"tag":458,"props":2940,"children":2941},{"style":471},[2942],{"type":433,"value":2692},{"type":427,"tag":458,"props":2944,"children":2945},{"style":771},[2946],{"type":433,"value":2947},"()))\n",{"type":427,"tag":458,"props":2949,"children":2950},{"class":460,"line":1055},[2951,2955,2959,2965,2969,2973,2977],{"type":427,"tag":458,"props":2952,"children":2953},{"style":477},[2954],{"type":433,"value":810},{"type":427,"tag":458,"props":2956,"children":2957},{"style":564},[2958],{"type":433,"value":1306},{"type":427,"tag":458,"props":2960,"children":2962},{"style":2961},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2963],{"type":433,"value":2964},"this",{"type":427,"tag":458,"props":2966,"children":2967},{"style":477},[2968],{"type":433,"value":1766},{"type":427,"tag":458,"props":2970,"children":2971},{"style":465},[2972],{"type":433,"value":595},{"type":427,"tag":458,"props":2974,"children":2975},{"style":477},[2976],{"type":433,"value":480},{"type":427,"tag":458,"props":2978,"children":2979},{"style":477},[2980],{"type":433,"value":485},{"type":427,"tag":458,"props":2982,"children":2983},{"class":460,"line":1076},[2984,2988],{"type":427,"tag":458,"props":2985,"children":2986},{"style":1285},[2987],{"type":433,"value":1288},{"type":427,"tag":458,"props":2989,"children":2990},{"style":564},[2991],{"type":433,"value":2992}," myModule\n",{"type":427,"tag":458,"props":2994,"children":2995},{"class":460,"line":1097},[2996,3000],{"type":427,"tag":458,"props":2997,"children":2998},{"style":477},[2999],{"type":433,"value":810},{"type":427,"tag":458,"props":3001,"children":3002},{"style":564},[3003],{"type":433,"value":794},{"type":427,"tag":435,"props":3005,"children":3007},{"id":3006},"现代模块规范-es-module",[3008],{"type":433,"value":3009},"现代模块规范 ES Module",{"type":427,"tag":441,"props":3011,"children":3012},{},[3013,3015,3021],{"type":433,"value":3014},"2015 年 6 月， ECMAScript6 标准正式发布，其中 ES 模块化规范的提出目标是整合 CommonJS、AMD 等已有模块方案，",{"type":427,"tag":3016,"props":3017,"children":3018},"strong",{},[3019],{"type":433,"value":3020},"在语言标准层面实现模块化",{"type":433,"value":3022},"，成为浏览器和服务器通用的模块解决方案。",{"type":427,"tag":447,"props":3024,"children":3026},{"className":449,"code":3025,"language":451,"meta":421,"style":421},"import { foo, bar } from '/modules/my-module.js'\n\nexport const foo = Math.sqrt(2)\n",[3027],{"type":427,"tag":454,"props":3028,"children":3029},{"__ignoreMap":421},[3030,3078,3085],{"type":427,"tag":458,"props":3031,"children":3032},{"class":460,"line":461},[3033,3038,3043,3047,3051,3055,3060,3065,3069,3074],{"type":427,"tag":458,"props":3034,"children":3035},{"style":1285},[3036],{"type":433,"value":3037},"import",{"type":427,"tag":458,"props":3039,"children":3040},{"style":477},[3041],{"type":433,"value":3042}," {",{"type":427,"tag":458,"props":3044,"children":3045},{"style":564},[3046],{"type":433,"value":474},{"type":427,"tag":458,"props":3048,"children":3049},{"style":477},[3050],{"type":433,"value":1766},{"type":427,"tag":458,"props":3052,"children":3053},{"style":564},[3054],{"type":433,"value":517},{"type":427,"tag":458,"props":3056,"children":3057},{"style":477},[3058],{"type":433,"value":3059}," }",{"type":427,"tag":458,"props":3061,"children":3062},{"style":1285},[3063],{"type":433,"value":3064}," from",{"type":427,"tag":458,"props":3066,"children":3067},{"style":776},[3068],{"type":433,"value":1771},{"type":427,"tag":458,"props":3070,"children":3071},{"style":782},[3072],{"type":433,"value":3073},"/modules/my-module.js",{"type":427,"tag":458,"props":3075,"children":3076},{"style":776},[3077],{"type":433,"value":2763},{"type":427,"tag":458,"props":3079,"children":3080},{"class":460,"line":488},[3081],{"type":427,"tag":458,"props":3082,"children":3083},{"emptyLinePlaceholder":420},[3084],{"type":433,"value":1278},{"type":427,"tag":458,"props":3086,"children":3087},{"class":460,"line":498},[3088,3093,3098,3102,3106,3111,3115,3120,3124,3129],{"type":427,"tag":458,"props":3089,"children":3090},{"style":1285},[3091],{"type":433,"value":3092},"export",{"type":427,"tag":458,"props":3094,"children":3095},{"style":465},[3096],{"type":433,"value":3097}," const",{"type":427,"tag":458,"props":3099,"children":3100},{"style":859},[3101],{"type":433,"value":474},{"type":427,"tag":458,"props":3103,"children":3104},{"style":570},[3105],{"type":433,"value":739},{"type":427,"tag":458,"props":3107,"children":3108},{"style":564},[3109],{"type":433,"value":3110}," Math",{"type":427,"tag":458,"props":3112,"children":3113},{"style":477},[3114],{"type":433,"value":649},{"type":427,"tag":458,"props":3116,"children":3117},{"style":471},[3118],{"type":433,"value":3119},"sqrt",{"type":427,"tag":458,"props":3121,"children":3122},{"style":564},[3123],{"type":433,"value":697},{"type":427,"tag":458,"props":3125,"children":3126},{"style":2134},[3127],{"type":433,"value":3128},"2",{"type":427,"tag":458,"props":3130,"children":3131},{"style":564},[3132],{"type":433,"value":794},{"type":427,"tag":441,"props":3134,"children":3135},{},[3136],{"type":433,"value":3137},"为什么 ES 模块比 CommonJS 更好？我引用 RollupJS 文档中的一段加以解释：",{"type":427,"tag":441,"props":3139,"children":3140},{},[3141],{"type":433,"value":3142},"ES Module 是官方标准，也是 JavaScript 语言明确的发展方向，而 CommonJS 模块是一种特殊的传统格式，在 ES 模块被提出之前做为暂时的解决方案。 ES 模块允许进行静态分析，从而实现像 tree-shaking 的优化，并提供诸如循环引用和动态绑定等高级功能。",{"type":427,"tag":441,"props":3144,"children":3145},{},[3146,3148,3154],{"type":433,"value":3147},"在浏览器中，需要使用特定属性的脚本标签，以支持 ES Module 规范（ ",{"type":427,"tag":454,"props":3149,"children":3151},{"className":3150},[],[3152],{"type":433,"value":3153},"\u003Cscript type=\"module\">",{"type":433,"value":3155}," ）。",{"type":427,"tag":3157,"props":3158,"children":3160},"h4",{"id":3159},"兼容性",[3161],{"type":433,"value":3159},{"type":427,"tag":441,"props":3163,"children":3164},{},[3165],{"type":433,"value":3166},"截止 2020 年 5 月 18 日，各大浏览器兼容 ES Module 情况如下：",{"type":427,"tag":441,"props":3168,"children":3169},{},[3170,3172,3178,3180,3186],{"type":433,"value":3171},"在 NodeJS 中（Version >= 8.5），需要打开一个开关（",{"type":427,"tag":454,"props":3173,"children":3175},{"className":3174},[],[3176],{"type":433,"value":3177},"--experimental-modules",{"type":433,"value":3179},"），以支持 ES Module 规范，但是需要模块的文件名为 ",{"type":427,"tag":454,"props":3181,"children":3183},{"className":3182},[],[3184],{"type":433,"value":3185},".mjs",{"type":433,"value":3187},"。",{"type":427,"tag":3157,"props":3189,"children":3191},{"id":3190},"动态-import",[3192],{"type":433,"value":3193},"动态 Import",{"type":427,"tag":441,"props":3195,"children":3196},{},[3197],{"type":433,"value":3198},"动态 Import 如今已经被大部分浏览器所支持。",{"type":427,"tag":428,"props":3200,"children":3202},{"id":3201},"cjs-vs-esm",[3203],{"type":433,"value":3204},"CJS VS ESM",{"type":427,"tag":441,"props":3206,"children":3207},{},[3208],{"type":433,"value":3209},"尽管 ES Module 规范发布已久，但并没有得到广泛的兼容。由于 ES Module 继承了现在来说仍属主流的 CommonJS 规范的诸多优点，所以两者之间有许多共性。我们来看看它们之间的区别。",{"type":427,"tag":441,"props":3211,"children":3212},{},[3213,3215,3220],{"type":433,"value":3214},"最大的不同之处在于，",{"type":427,"tag":3016,"props":3216,"children":3217},{},[3218],{"type":433,"value":3219},"CommonJS 是一种约定，而 ES Module 是语言规范",{"type":433,"value":3221},"。CommonJS 定义了一套使用“module.epoxrts 和 require”等代码进行模块导入导出的约定，通过扩充 JS 编译器外层代码，只要开发人员遵守约定，就可以使用此规范。而 ES Module 的实现依赖于编译器。这也导致：",{"type":427,"tag":3223,"props":3224,"children":3225},"ol",{},[3226,3231],{"type":427,"tag":1951,"props":3227,"children":3228},{},[3229],{"type":433,"value":3230},"Require 导入值的拷贝，模块内部变化不能直接反应到外部；ES Module 导入值的映射，就算是模块内部的字符串有修改，同样会反映到模块外部。",{"type":427,"tag":1951,"props":3232,"children":3233},{},[3234],{"type":433,"value":3235},"Require 本质是一个函数，所以容易实现动态导入的功能；ES Module 依赖于编译器的静态分析，所以动态导入功能难以被完善实现。",{"type":427,"tag":441,"props":3237,"children":3238},{},[3239,3241,3247],{"type":433,"value":3240},"要看看 Require 到底是个啥玩意儿，请看这篇：",{"type":427,"tag":833,"props":3242,"children":3244},{"href":3243},"/source-code/_server/nodejs/require.html",[3245],{"type":433,"value":3246},"Require",{"type":433,"value":3187},{"type":427,"tag":3157,"props":3249,"children":3251},{"id":3250},"如何在-esm-中引入-cjs-中的命名导出",[3252],{"type":433,"value":3253},"如何在 esm 中引入 cjs 中的命名导出？",{"type":427,"tag":447,"props":3255,"children":3257},{"className":449,"code":3256,"language":451,"meta":421,"style":421},"// .mjs\nimport { namedExport } from './lib.cjs'\n// .cjs\nexports.namedExport = 'yes'\n// .cjs wrong example\n// exports = { namedExport: 'yes' }\n",[3258],{"type":427,"tag":454,"props":3259,"children":3260},{"__ignoreMap":421},[3261,3269,3306,3314,3347,3355],{"type":427,"tag":458,"props":3262,"children":3263},{"class":460,"line":461},[3264],{"type":427,"tag":458,"props":3265,"children":3266},{"style":492},[3267],{"type":433,"value":3268},"// .mjs\n",{"type":427,"tag":458,"props":3270,"children":3271},{"class":460,"line":488},[3272,3276,3280,3285,3289,3293,3297,3302],{"type":427,"tag":458,"props":3273,"children":3274},{"style":1285},[3275],{"type":433,"value":3037},{"type":427,"tag":458,"props":3277,"children":3278},{"style":477},[3279],{"type":433,"value":3042},{"type":427,"tag":458,"props":3281,"children":3282},{"style":564},[3283],{"type":433,"value":3284}," namedExport",{"type":427,"tag":458,"props":3286,"children":3287},{"style":477},[3288],{"type":433,"value":3059},{"type":427,"tag":458,"props":3290,"children":3291},{"style":1285},[3292],{"type":433,"value":3064},{"type":427,"tag":458,"props":3294,"children":3295},{"style":776},[3296],{"type":433,"value":1771},{"type":427,"tag":458,"props":3298,"children":3299},{"style":782},[3300],{"type":433,"value":3301},"./lib.cjs",{"type":427,"tag":458,"props":3303,"children":3304},{"style":776},[3305],{"type":433,"value":2763},{"type":427,"tag":458,"props":3307,"children":3308},{"class":460,"line":498},[3309],{"type":427,"tag":458,"props":3310,"children":3311},{"style":492},[3312],{"type":433,"value":3313},"// .cjs\n",{"type":427,"tag":458,"props":3315,"children":3316},{"class":460,"line":507},[3317,3321,3325,3330,3334,3338,3343],{"type":427,"tag":458,"props":3318,"children":3319},{"style":2019},[3320],{"type":433,"value":2022},{"type":427,"tag":458,"props":3322,"children":3323},{"style":477},[3324],{"type":433,"value":649},{"type":427,"tag":458,"props":3326,"children":3327},{"style":564},[3328],{"type":433,"value":3329},"namedExport ",{"type":427,"tag":458,"props":3331,"children":3332},{"style":570},[3333],{"type":433,"value":573},{"type":427,"tag":458,"props":3335,"children":3336},{"style":776},[3337],{"type":433,"value":1771},{"type":427,"tag":458,"props":3339,"children":3340},{"style":782},[3341],{"type":433,"value":3342},"yes",{"type":427,"tag":458,"props":3344,"children":3345},{"style":776},[3346],{"type":433,"value":2763},{"type":427,"tag":458,"props":3348,"children":3349},{"class":460,"line":528},[3350],{"type":427,"tag":458,"props":3351,"children":3352},{"style":492},[3353],{"type":433,"value":3354},"// .cjs wrong example\n",{"type":427,"tag":458,"props":3356,"children":3357},{"class":460,"line":536},[3358],{"type":427,"tag":458,"props":3359,"children":3360},{"style":492},[3361],{"type":433,"value":3362},"// exports = { namedExport: 'yes' }\n",{"type":427,"tag":441,"props":3364,"children":3365},{},[3366,3368,3375],{"type":433,"value":3367},"见：",{"type":427,"tag":833,"props":3369,"children":3372},{"href":3370,"rel":3371},"https://2ality.com/2022/10/commonjs-named-exports.html",[837],[3373],{"type":433,"value":3374},"How to write CommonJS exports that can be name-imported from ESM",{"type":433,"value":3376},"，就算在 mjs 中导入了 cjs 的导出，为了兼容性考虑，导入的并不是映射。",{"type":427,"tag":428,"props":3378,"children":3380},{"id":3379},"打包工具之争",[3381],{"type":433,"value":3379},{"type":427,"tag":441,"props":3383,"children":3384},{},[3385],{"type":433,"value":3386},"TODO",{"type":427,"tag":441,"props":3388,"children":3389},{},[3390],{"type":433,"value":3391},"为什么需要打包工具",{"type":427,"tag":1947,"props":3393,"children":3394},{},[3395,3400],{"type":427,"tag":1951,"props":3396,"children":3397},{},[3398],{"type":433,"value":3399},"代码分析（合并、压缩、混淆）",{"type":427,"tag":1951,"props":3401,"children":3402},{},[3403],{"type":433,"value":3404},"兼容各种规范",{"type":427,"tag":441,"props":3406,"children":3407},{},[3408],{"type":433,"value":3409},"应用程序使用 WebpackJS，库文件使用 RollupJS",{"type":427,"tag":428,"props":3411,"children":3413},{"id":3412},"阅读更多",[3414],{"type":433,"value":3412},{"type":427,"tag":1947,"props":3416,"children":3417},{},[3418,3428,3438,3448,3458,3467],{"type":427,"tag":1951,"props":3419,"children":3420},{},[3421],{"type":427,"tag":833,"props":3422,"children":3425},{"href":3423,"rel":3424},"https://github.com/seajs/seajs/issues/547",[837],[3426],{"type":433,"value":3427},"模块开发的价值",{"type":427,"tag":1951,"props":3429,"children":3430},{},[3431],{"type":427,"tag":833,"props":3432,"children":3435},{"href":3433,"rel":3434},"https://www.cyj.me/programming/2018/05/22/about-module-i/",[837],[3436],{"type":433,"value":3437},"前端模块的历史沿革",{"type":427,"tag":1951,"props":3439,"children":3440},{},[3441],{"type":427,"tag":833,"props":3442,"children":3445},{"href":3443,"rel":3444},"https://www.cyj.me/programming/2018/05/23/about-module-ii/",[837],[3446],{"type":433,"value":3447},"前端模块的现状",{"type":427,"tag":1951,"props":3449,"children":3450},{},[3451],{"type":427,"tag":833,"props":3452,"children":3455},{"href":3453,"rel":3454},"https://zhuanlan.zhihu.com/p/22890374",[837],[3456],{"type":433,"value":3457},"JavaScript 模块化入门 Ⅰ：理解模块",{"type":427,"tag":1951,"props":3459,"children":3460},{},[3461],{"type":427,"tag":833,"props":3462,"children":3464},{"href":3463},"hhttps://zhuanlan.zhihu.com/p/22945985",[3465],{"type":433,"value":3466},"JavaScript 模块化入门 Ⅱ：模块打包构建",{"type":427,"tag":1951,"props":3468,"children":3469},{},[3470],{"type":427,"tag":833,"props":3471,"children":3474},{"href":3472,"rel":3473},"https://juejin.im/post/5cb004da5188251b130c773e",[837],[3475],{"type":433,"value":3476},"前端工程师必备：前端的模块化",{"type":427,"tag":3478,"props":3479,"children":3480},"style",{},[3481],{"type":433,"value":3482},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":421,"searchDepth":488,"depth":488,"links":3484},[3485,3491,3492,3493],{"id":430,"depth":488,"text":430,"children":3486},[3487,3488,3489,3490],{"id":437,"depth":498,"text":437},{"id":1326,"depth":498,"text":1326},{"id":1968,"depth":498,"text":1968},{"id":3006,"depth":498,"text":3009},{"id":3201,"depth":488,"text":3204},{"id":3379,"depth":488,"text":3379},{"id":3412,"depth":488,"text":3412},"markdown","content:_archieved:2020-05:js-module-history.md","content","_archieved/2020-05/js-module-history.md","_archieved/2020-05/js-module-history","md",[3501,3505],{"_path":3502,"title":3503,"description":3504},"/_archieved/2020-04/p5","造型构成","用P5.js做了一些造型构成练习，源码都在 GitHub 上，欢迎来星星 ⭐",{"_path":3506,"title":3507,"description":421},"/_archieved/2020-05/type-check","🎫 常用类型判断方法的优势及缺陷",1738321911759]