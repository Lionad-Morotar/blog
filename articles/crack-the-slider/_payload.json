[{"data":1,"prerenderedAt":4452},["Reactive",2],{"navigation":3,"/articles/crack-the-slider":386,"/articles/crack-the-slider-surround":4447},[4,32,80,96,123,129,135,369,375,381],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":42,"_path":43},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":45,"_path":46},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":48,"_path":49},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":51,"_path":52},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":54,"_path":55},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":57,"_path":58},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":60,"_path":61},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":63,"_path":64},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":66,"_path":67},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":69,"_path":70},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":72,"_path":73},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":75,"_path":76},"🚝 四十二篇系列","/articles/fourty-two",{"title":78,"_path":79},"📝 技术博客归档","/articles/fold",{"title":81,"_path":82,"children":83},"造物 / Make","/tools",[84,87,90,93],{"title":85,"_path":86},"🌐 AnySort","/tools/anysort",{"title":88,"_path":89},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":91,"_path":92},"👓 Crapto","/tools/crypto-inline",{"title":94,"_path":95},"🖨️ any-to-base64","/tools/any-to-base64",{"title":97,"_path":98,"children":99},"吉他剧场 / Music","/music",[100,102,105,108,111,114,117,120],{"title":101,"_path":98},"🎸 FingerStyle！",{"title":103,"_path":104},"🌬️ 等待的风","/music/wind",{"title":106,"_path":107},"💕 约定的海洋","/music/ocean",{"title":109,"_path":110},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":112,"_path":113},"🌏 残酷天使的行动纲领","/music/eva",{"title":115,"_path":116},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":118,"_path":119},"🍷 Wu Wei","/music/wu-wei",{"title":121,"_path":122},"🌅 无题","/music/untitled",{"title":124,"_path":125,"children":126},"画点什么 / Paint","/paint",[127],{"title":128,"_path":125},"🚧 正在施工",{"title":130,"_path":131,"children":132},"知识地图 / Maps","/maps",[133],{"title":134,"_path":131},"🏁 知识地图",{"title":136,"_path":137,"children":138},"零散的笔记 / Gists","/gists",[139,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366],{"title":140,"_path":137},"🧊 Gists",{"title":142,"_path":143},"网站的可访问性","/gists/accessibility",{"title":145,"_path":146},"Bit","/gists/bit",{"title":148,"_path":149},"图片模糊","/gists/blur",{"title":151,"_path":152},"渲染相关笔记","/gists/c4d",{"title":154,"_path":155},"CDN 问题记录","/gists/cdn",{"title":157,"_path":158},"消毒剂","/gists/cleaner",{"title":160,"_path":161},"Windows Command","/gists/cmd",{"title":163,"_path":164},"Command","/gists/command",{"title":166,"_path":167},"复杂科学","/gists/complexity-science",{"title":169,"_path":170},"宇宙","/gists/cosmos",{"title":172,"_path":173},"C++","/gists/cpp",{"title":175,"_path":176},"Data Structure","/gists/data-structure",{"title":178,"_path":179},"DEPRESSION","/gists/depression",{"title":181,"_path":182},"设计模式","/gists/design-patterns",{"title":184,"_path":185},"Developer Experience","/gists/developer-experience",{"title":187,"_path":188},"Device Metrics","/gists/device-metrix",{"title":190,"_path":191},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":193,"_path":194},"正则表达式","/gists/eegex",{"title":196,"_path":197},"Emoji","/gists/emoji",{"title":199,"_path":200},"工程","/gists/engineering",{"title":202,"_path":203},"熵","/gists/entropy",{"title":205,"_path":206},"Environment","/gists/environment",{"title":208,"_path":209},"Erlang","/gists/erlang",{"title":211,"_path":212},"逃离塔克夫","/gists/escape-from-tarkov",{"title":214,"_path":215},"ESNext (ES6-ES11)","/gists/esnext",{"title":217,"_path":218},"Eval！","/gists/eval",{"title":220,"_path":221},"Flutter","/gists/flutter",{"title":223,"_path":224},"字体","/gists/font",{"title":226,"_path":227},"JS 函数式编程","/gists/functional",{"title":229,"_path":230},"Google C++ Standard","/gists/google-cpp-standard",{"title":232,"_path":233},"双向链接完全体","/gists/graph",{"title":235,"_path":236},"Hardwares","/gists/hardwares",{"title":238,"_path":239},"哈希冲突","/gists/hash-collision",{"title":241,"_path":242},"信息设计","/gists/information-design",{"title":244,"_path":245},"InstantPage","/gists/instant.page",{"title":247,"_path":248},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":250,"_path":251},"KVStore","/gists/key-value-db",{"title":253,"_path":254},"Kubernetes","/gists/kubernetes",{"title":256,"_path":257},"Makefile","/gists/makefile",{"title":259,"_path":260},"Markdown Inline Style","/gists/markdown-nice",{"title":262,"_path":263},"小程序","/gists/miniapp",{"title":265,"_path":266},"减小页面快照体积","/gists/minify-html",{"title":268,"_path":269},"mklink","/gists/mklink",{"title":271,"_path":272},"Mock","/gists/mock",{"title":274,"_path":275},"多端应用","/gists/multy-end-app",{"title":277,"_path":278},"神经科学","/gists/neuroscience",{"title":280,"_path":281},"OO","/gists/oo",{"title":283,"_path":284},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":286,"_path":287},"人物","/gists/person",{"title":289,"_path":290},"PInvoke","/gists/pinvoke",{"title":292,"_path":293},"像素","/gists/pixel",{"title":295,"_path":296},"PowerShell","/gists/powershell",{"title":298,"_path":299},"量子","/gists/quantum",{"title":301,"_path":302},"保持好奇心","/gists/questions",{"title":304,"_path":305},"React Native","/gists/react-native",{"title":307,"_path":308},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":310,"_path":311},"SEO","/gists/seo",{"title":313,"_path":314},"Shader","/gists/shader",{"title":316,"_path":317},"Shape Up","/gists/shape-up",{"title":319,"_path":320},"睡觉","/gists/sleep",{"title":322,"_path":323},"States","/gists/states",{"title":325,"_path":326},"Storage","/gists/storage",{"title":328,"_path":329},"音视频流处理","/gists/stream-cli",{"title":331,"_path":332},"Symbol","/gists/symbol",{"title":334,"_path":335},"系统论","/gists/systems-theory",{"title":337,"_path":338},"Taro","/gists/taro",{"title":340,"_path":341},"任务切片","/gists/task-slice",{"title":343,"_path":344},"技术偏好","/gists/tech-dudge",{"title":346,"_path":347},"Untitled","/gists/untitled",{"title":349,"_path":350},"可变字体","/gists/variable-font",{"title":352,"_path":353},"视觉错觉","/gists/visual-illusion",{"title":355,"_path":356},"SS(SSR)","/gists/vpn",{"title":358,"_path":359},"VS Code 插件开发","/gists/vscode-plugin",{"title":361,"_path":362},"Web Components","/gists/web-components",{"title":364,"_path":365},"Windows","/gists/windows",{"title":367,"_path":368},"查缺补漏","/gists/wrong",{"title":370,"_path":371,"children":372},"代码笔记 / Gists","/source-code",[373],{"title":374,"_path":371},"🚄 代码笔记",{"title":376,"_path":377,"children":378},"我 / Abount","/hire",[379],{"title":380,"_path":377},"📬 技术简历",{"title":382,"_path":383,"children":384},"todo","/todo",[385],{"title":382,"_path":383},{"_path":55,"_dir":387,"_draft":388,"_partial":388,"_locale":389,"title":54,"description":390,"body":391,"_type":4442,"_id":4443,"_source":4444,"_file":4445,"_extension":4446},"articles",false,"","如何破解滑块验证码？本文介绍使用Puppeteer操作浏览器进行图片对比、图片识别及优化鼠标轨迹以模仿真是用户等几种简单爬虫验证码破解思路，适用多种场景。",{"type":392,"children":393,"toc":4431},"root",[394,413,418,427,433,439,444,464,478,490,726,734,739,744,777,782,787,792,797,805,825,833,845,853,858,866,871,892,897,902,1488,1496,1510,1518,1523,1528,1533,1538,1543,1561,1566,1571,1861,1866,2331,2336,2341,2346,2351,2365,2934,2939,2944,2949,2957,2971,2976,4327,4332,4337,4343,4356,4361,4388,4426],{"type":395,"tag":396,"props":397,"children":398},"element","p",{},[399,402,411],{"type":400,"value":401},"text","昨天在掘金看到推荐文章",{"type":395,"tag":403,"props":404,"children":408},"a",{"href":405,"rel":406},"https://juejin.cn/post/7007615666609979400",[407],"nofollow",[409],{"type":400,"value":410},"《从零开发一款轻量级滑动验证码插件》",{"type":400,"value":412},"，介绍了一些相关验证码及框架开发的知识点。巧的是就在前两周，我们公司举办了一个爬虫攻防赛，其中用到多种爬虫验证的破解方法，之一就是滑块验证码。",{"type":395,"tag":396,"props":414,"children":415},{},[416],{"type":400,"value":417},"今天在这篇文章里给大家介绍一下怎么使用 JS 破解滑块验证码。",{"type":395,"tag":396,"props":419,"children":420},{},[421],{"type":395,"tag":422,"props":423,"children":426},"img",{"alt":424,"src":425},"最终效果（加速）","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/73ba97c7435f.gif",[],{"type":395,"tag":428,"props":429,"children":431},"h2",{"id":430},"思路讲解",[432],{"type":400,"value":430},{"type":395,"tag":434,"props":435,"children":437},"h3",{"id":436},"操作浏览器打开页面",[438],{"type":400,"value":436},{"type":395,"tag":396,"props":440,"children":441},{},[442],{"type":400,"value":443},"滑块验证码是滑动验证码的一种，生成流程至少包含三步：",{"type":395,"tag":445,"props":446,"children":447},"ol",{},[448,454,459],{"type":395,"tag":449,"props":450,"children":451},"li",{},[452],{"type":400,"value":453},"根据用户标识，从后台获得验证码图片",{"type":395,"tag":449,"props":455,"children":456},{},[457],{"type":400,"value":458},"监听鼠标事件并回传后台",{"type":395,"tag":449,"props":460,"children":461},{},[462],{"type":400,"value":463},"后台判断事件的真伪，回传验证结果",{"type":395,"tag":396,"props":465,"children":466},{},[467,469,476],{"type":400,"value":468},"无论生成机制的细节如何，滑块终究是要展示在页面上的。直接用 HTTP Request 把页面 HTML 请求下来肯定不行，这里我们需要使用 Puppeteer 打开网页进行渲染。测试页面就以 ",{"type":395,"tag":403,"props":470,"children":473},{"href":471,"rel":472},"http://h5.dooring.cn/slider-vertify",[407],[474],{"type":400,"value":475},"react-slider-vertify",{"type":400,"value":477}," 的官网为例。",{"type":395,"tag":396,"props":479,"children":480},{},[481,488],{"type":395,"tag":403,"props":482,"children":485},{"href":483,"rel":484},"http://puppeteerjs.com/",[407],[486],{"type":400,"value":487},"Puppeteer",{"type":400,"value":489}," 是一个通过 DevTools 协议来控制浏览器行为的库，只需编写不多的代码，就可以操作真实的浏览器搞定诸如爬虫、自动化测试、网页性能分析、浏览器扩展测试等功能。使用起来比较方便，文档齐全。根据文档，打开页面前需要启动一个浏览器实例，然后调用 newPage 方法创建一个新页面。核心代码如下。",{"type":395,"tag":491,"props":492,"children":496},"pre",{"className":493,"code":494,"language":495,"meta":389,"style":389},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async browser => {\n  const page = await browser.newPage()\n  await page.goto('http://h5.dooring.cn/slider-vertify/vertify')\n})\n","js",[497],{"type":395,"tag":498,"props":499,"children":500},"code",{"__ignoreMap":389},[501,558,568,627,670,713],{"type":395,"tag":502,"props":503,"children":506},"span",{"class":504,"line":505},"line",1,[507,513,519,525,531,537,543,549,553],{"type":395,"tag":502,"props":508,"children":510},{"style":509},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[511],{"type":400,"value":512},"const",{"type":395,"tag":502,"props":514,"children":516},{"style":515},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[517],{"type":400,"value":518}," puppeteer",{"type":395,"tag":502,"props":520,"children":522},{"style":521},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[523],{"type":400,"value":524}," =",{"type":395,"tag":502,"props":526,"children":528},{"style":527},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[529],{"type":400,"value":530}," require",{"type":395,"tag":502,"props":532,"children":534},{"style":533},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[535],{"type":400,"value":536},"(",{"type":395,"tag":502,"props":538,"children":540},{"style":539},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[541],{"type":400,"value":542},"'",{"type":395,"tag":502,"props":544,"children":546},{"style":545},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[547],{"type":400,"value":548},"puppeteer",{"type":395,"tag":502,"props":550,"children":551},{"style":539},[552],{"type":400,"value":542},{"type":395,"tag":502,"props":554,"children":555},{"style":533},[556],{"type":400,"value":557},")\n",{"type":395,"tag":502,"props":559,"children":561},{"class":504,"line":560},2,[562],{"type":395,"tag":502,"props":563,"children":565},{"emptyLinePlaceholder":564},true,[566],{"type":400,"value":567},"\n",{"type":395,"tag":502,"props":569,"children":571},{"class":504,"line":570},3,[572,576,582,587,592,596,601,605,611,617,622],{"type":395,"tag":502,"props":573,"children":574},{"style":533},[575],{"type":400,"value":548},{"type":395,"tag":502,"props":577,"children":579},{"style":578},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[580],{"type":400,"value":581},".",{"type":395,"tag":502,"props":583,"children":584},{"style":527},[585],{"type":400,"value":586},"launch",{"type":395,"tag":502,"props":588,"children":589},{"style":533},[590],{"type":400,"value":591},"()",{"type":395,"tag":502,"props":593,"children":594},{"style":578},[595],{"type":400,"value":581},{"type":395,"tag":502,"props":597,"children":598},{"style":527},[599],{"type":400,"value":600},"then",{"type":395,"tag":502,"props":602,"children":603},{"style":533},[604],{"type":400,"value":536},{"type":395,"tag":502,"props":606,"children":608},{"style":607},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[609],{"type":400,"value":610},"async",{"type":395,"tag":502,"props":612,"children":614},{"style":613},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[615],{"type":400,"value":616}," browser",{"type":395,"tag":502,"props":618,"children":619},{"style":509},[620],{"type":400,"value":621}," =>",{"type":395,"tag":502,"props":623,"children":624},{"style":578},[625],{"type":400,"value":626}," {\n",{"type":395,"tag":502,"props":628,"children":630},{"class":504,"line":629},4,[631,636,641,645,651,655,659,664],{"type":395,"tag":502,"props":632,"children":633},{"style":509},[634],{"type":400,"value":635},"  const",{"type":395,"tag":502,"props":637,"children":638},{"style":515},[639],{"type":400,"value":640}," page",{"type":395,"tag":502,"props":642,"children":643},{"style":521},[644],{"type":400,"value":524},{"type":395,"tag":502,"props":646,"children":648},{"style":647},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[649],{"type":400,"value":650}," await",{"type":395,"tag":502,"props":652,"children":653},{"style":533},[654],{"type":400,"value":616},{"type":395,"tag":502,"props":656,"children":657},{"style":578},[658],{"type":400,"value":581},{"type":395,"tag":502,"props":660,"children":661},{"style":527},[662],{"type":400,"value":663},"newPage",{"type":395,"tag":502,"props":665,"children":667},{"style":666},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[668],{"type":400,"value":669},"()\n",{"type":395,"tag":502,"props":671,"children":673},{"class":504,"line":672},5,[674,679,683,687,692,696,700,705,709],{"type":395,"tag":502,"props":675,"children":676},{"style":647},[677],{"type":400,"value":678},"  await",{"type":395,"tag":502,"props":680,"children":681},{"style":533},[682],{"type":400,"value":640},{"type":395,"tag":502,"props":684,"children":685},{"style":578},[686],{"type":400,"value":581},{"type":395,"tag":502,"props":688,"children":689},{"style":527},[690],{"type":400,"value":691},"goto",{"type":395,"tag":502,"props":693,"children":694},{"style":666},[695],{"type":400,"value":536},{"type":395,"tag":502,"props":697,"children":698},{"style":539},[699],{"type":400,"value":542},{"type":395,"tag":502,"props":701,"children":702},{"style":545},[703],{"type":400,"value":704},"http://h5.dooring.cn/slider-vertify/vertify",{"type":395,"tag":502,"props":706,"children":707},{"style":539},[708],{"type":400,"value":542},{"type":395,"tag":502,"props":710,"children":711},{"style":666},[712],{"type":400,"value":557},{"type":395,"tag":502,"props":714,"children":716},{"class":504,"line":715},6,[717,722],{"type":395,"tag":502,"props":718,"children":719},{"style":578},[720],{"type":400,"value":721},"}",{"type":395,"tag":502,"props":723,"children":724},{"style":533},[725],{"type":400,"value":557},{"type":395,"tag":396,"props":727,"children":728},{},[729],{"type":395,"tag":422,"props":730,"children":733},{"alt":731,"src":732},"打开页面测试","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/jpoVF4UbuI.gif",[],{"type":395,"tag":396,"props":735,"children":736},{},[737],{"type":400,"value":738},"正常浏览网页时，很少会碰到滑块验证，因为它的路径非常长，会需要浪费用户好一会儿时间。虽然文案上给你显示“恭喜 0.9s 打败了 99% 的用户”，但从前置脚本请求，到加载图片，用户滑动滑块，到回传验证...前前后后的步骤加起来可能花了你 9s 不止。本质上它是防御性的手段，一般当服务器限流，或者服务器已经怀疑你是爬虫的时候，才会让它跳出来要求做进一步验证。所以一般来说，爬虫代码可以默认忽略滑块验证的，不过本文代码我们就假定默认验证码一定存在吧。",{"type":395,"tag":396,"props":740,"children":741},{},[742],{"type":400,"value":743},"接下来，分析一下用户行为。解决滑块验证，无非就是先判断一下缺口的位置，然后移动鼠标。这里进一步可以细分为鼠标的点击事件和鼠标移动事件两种。代码逻辑大致如下。",{"type":395,"tag":445,"props":745,"children":746},{},[747,752,757,762,767,772],{"type":395,"tag":449,"props":748,"children":749},{},[750],{"type":400,"value":751},"等待验证码图片加载完毕",{"type":395,"tag":449,"props":753,"children":754},{},[755],{"type":400,"value":756},"移动鼠标到滑块位置",{"type":395,"tag":449,"props":758,"children":759},{},[760],{"type":400,"value":761},"按下鼠标",{"type":395,"tag":449,"props":763,"children":764},{},[765],{"type":400,"value":766},"移动鼠标到缺口位置",{"type":395,"tag":449,"props":768,"children":769},{},[770],{"type":400,"value":771},"松开鼠标",{"type":395,"tag":449,"props":773,"children":774},{},[775],{"type":400,"value":776},"等待结果返回",{"type":395,"tag":396,"props":778,"children":779},{},[780],{"type":400,"value":781},"啊，流程我都知道，可问题就在，怎么判断要把鼠标移动到哪里？服务器端返回的是一张带缺口的图片，缺口位置指定是不通过接口传递的。",{"type":395,"tag":396,"props":783,"children":784},{},[785],{"type":400,"value":786},"可能还有些同学会问，怎么移动鼠标呢？如果我一次性就把滑块给移到指定位置了，那服务器不是会立马把我标记为爬虫嘛... 这两个问题我逐一解答。",{"type":395,"tag":434,"props":788,"children":790},{"id":789},"判断缺口位置",[791],{"type":400,"value":789},{"type":395,"tag":396,"props":793,"children":794},{},[795],{"type":400,"value":796},"要分析缺口的位置，我们必须先知道这个缺口是怎么画上去的。打开控制台初步检查可以发现，页面从服务器先拿到了一张完整的图片，然后缺口位置是通过 JS 随机生成的。啊这...这...这是因为我们用的测试页面是文档页，大家不必在意这些安全方面的小细节。",{"type":395,"tag":396,"props":798,"children":799},{},[800],{"type":395,"tag":422,"props":801,"children":804},{"alt":802,"src":803},"找到请求","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918184414.png?type=win11",[],{"type":395,"tag":396,"props":806,"children":807},{},[808,810,823],{"type":400,"value":809},"接着刚才的思路继续，既然缺口是从原图中挖的一个洞，那么我们只需要识别一下图片中洞的位置就好了。比较简单的方案是使用第三方的图像识别技术（或相关技术），把图片上传至第三方，就直接拿到缺口位置的相对坐标。下图给大家展示一下阿里云的图像分割的效果",{"type":395,"tag":811,"props":812,"children":813},"sup",{},[814],{"type":395,"tag":403,"props":815,"children":820},{"href":816,"ariaDescribedBy":817,"dataFootnoteRef":389,"id":819},"#user-content-fn-alimagic",[818],"footnote-label","user-content-fnref-alimagic",[821],{"type":400,"value":822},"1",{"type":400,"value":824},"。",{"type":395,"tag":396,"props":826,"children":827},{},[828],{"type":395,"tag":422,"props":829,"children":832},{"alt":830,"src":831},"阿里云图像分割","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/itLO6bbCMH.gif",[],{"type":395,"tag":396,"props":834,"children":835},{},[836,838,844],{"type":400,"value":837},"如果想做一个效果稳定一点的验证码破解工具，我建议大家还是用自己的模型，或者自己写算法。一来是第三方要的钱钱不少哇~ 再就是这种图像识别并不是专门为验证码训练的，所以放到爬虫中还不太成熟，",{"type":395,"tag":839,"props":840,"children":841},"strong",{},[842],{"type":400,"value":843},"一旦背景图片复杂，识别率下降得老快了",{"type":400,"value":824},{"type":395,"tag":396,"props":846,"children":847},{},[848],{"type":395,"tag":422,"props":849,"children":852},{"alt":850,"src":851},"百度云图像主体识别","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918191220.png",[],{"type":395,"tag":396,"props":854,"children":855},{},[856],{"type":400,"value":857},"以下介绍一种新思路。反正我们已经有一张完整的图片了，那就只要不断地滑动滑块，把结果和原图比对就行。理论上，只要滑倒差不多“那个点”，肉眼看起来不会有很大的违和感时，就搞定了。比如下面这张图。",{"type":395,"tag":396,"props":859,"children":860},{},[861],{"type":395,"tag":422,"props":862,"children":865},{"alt":863,"src":864},"和原图进行比对","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918192111.png",[],{"type":395,"tag":396,"props":867,"children":868},{},[869],{"type":400,"value":870},"截图嘛可以直接用 Pupeteer 的截图功能，它提供了对应的 API，可以精准的截出特定元素。",{"type":395,"tag":396,"props":872,"children":873},{},[874,876,881,883,890],{"type":400,"value":875},"至于图片比对，其实就是给图片初步处理后，两张图一个像素一个像素的去比较。",{"type":395,"tag":839,"props":877,"children":878},{},[879],{"type":400,"value":880},"两个像素如果颜色差异超过阈值，就认为这是两个不相同的像素",{"type":400,"value":882},"。简便起见，我们直接用开源库 ",{"type":395,"tag":403,"props":884,"children":887},{"href":885,"rel":886},"https://github.com/imgly/rembrandt",[407],[888],{"type":400,"value":889},"rembrandt",{"type":400,"value":891},"，它会给我们返回两张图片间的差异。",{"type":395,"tag":396,"props":893,"children":894},{},[895],{"type":400,"value":896},"最后是滑动滑块，既然要模拟人肉操作，那么操作 CSS，用绝对定位，把滑块一个像素一个像素的向右移；每移动一次，把图像比对的结果记录下来。",{"type":395,"tag":396,"props":898,"children":899},{},[900],{"type":400,"value":901},"以上三个流程的核心代码非常简单，只需要以下几行：",{"type":395,"tag":491,"props":903,"children":905},{"className":493,"code":904,"language":495,"meta":389,"style":389},"while (left \u003C= maxOffset) {\n\n  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n\n  await page.evaluate(async ($sliderFloat, left) => {\n    $sliderFloat.setAttribute('style', `left: ${left}px`)\n  }, $sliderFloat, left)\n\n  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n\n  const $panel = await page.$('#Vertify-demo-4 .canvasArea')\n  const panelImgBase64 = await $panel.screenshot({\n    type: 'jpeg'\n  })\n  const compareRes = await rembrandt({\n    imageA: panelImgBase64,\n    imageB: rawImage\n  })\n  results.push({\n    left,\n    diff: compareRes.differences\n  })\n\n  left += 1\n}\n",[906],{"type":395,"tag":498,"props":907,"children":908},{"__ignoreMap":389},[909,937,944,953,960,1021,1098,1124,1132,1141,1149,1204,1246,1275,1288,1322,1344,1362,1374,1400,1413,1439,1451,1459,1479],{"type":395,"tag":502,"props":910,"children":911},{"class":504,"line":505},[912,917,922,927,932],{"type":395,"tag":502,"props":913,"children":914},{"style":647},[915],{"type":400,"value":916},"while",{"type":395,"tag":502,"props":918,"children":919},{"style":533},[920],{"type":400,"value":921}," (left ",{"type":395,"tag":502,"props":923,"children":924},{"style":521},[925],{"type":400,"value":926},"\u003C=",{"type":395,"tag":502,"props":928,"children":929},{"style":533},[930],{"type":400,"value":931}," maxOffset) ",{"type":395,"tag":502,"props":933,"children":934},{"style":578},[935],{"type":400,"value":936},"{\n",{"type":395,"tag":502,"props":938,"children":939},{"class":504,"line":560},[940],{"type":395,"tag":502,"props":941,"children":942},{"emptyLinePlaceholder":564},[943],{"type":400,"value":567},{"type":395,"tag":502,"props":945,"children":946},{"class":504,"line":570},[947],{"type":395,"tag":502,"props":948,"children":950},{"style":949},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[951],{"type":400,"value":952},"  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n",{"type":395,"tag":502,"props":954,"children":955},{"class":504,"line":629},[956],{"type":395,"tag":502,"props":957,"children":958},{"emptyLinePlaceholder":564},[959],{"type":400,"value":567},{"type":395,"tag":502,"props":961,"children":962},{"class":504,"line":672},[963,967,971,975,980,984,988,993,998,1003,1008,1013,1017],{"type":395,"tag":502,"props":964,"children":965},{"style":647},[966],{"type":400,"value":678},{"type":395,"tag":502,"props":968,"children":969},{"style":533},[970],{"type":400,"value":640},{"type":395,"tag":502,"props":972,"children":973},{"style":578},[974],{"type":400,"value":581},{"type":395,"tag":502,"props":976,"children":977},{"style":527},[978],{"type":400,"value":979},"evaluate",{"type":395,"tag":502,"props":981,"children":982},{"style":666},[983],{"type":400,"value":536},{"type":395,"tag":502,"props":985,"children":986},{"style":607},[987],{"type":400,"value":610},{"type":395,"tag":502,"props":989,"children":990},{"style":578},[991],{"type":400,"value":992}," (",{"type":395,"tag":502,"props":994,"children":995},{"style":613},[996],{"type":400,"value":997},"$sliderFloat",{"type":395,"tag":502,"props":999,"children":1000},{"style":578},[1001],{"type":400,"value":1002},",",{"type":395,"tag":502,"props":1004,"children":1005},{"style":613},[1006],{"type":400,"value":1007}," left",{"type":395,"tag":502,"props":1009,"children":1010},{"style":578},[1011],{"type":400,"value":1012},")",{"type":395,"tag":502,"props":1014,"children":1015},{"style":509},[1016],{"type":400,"value":621},{"type":395,"tag":502,"props":1018,"children":1019},{"style":578},[1020],{"type":400,"value":626},{"type":395,"tag":502,"props":1022,"children":1023},{"class":504,"line":715},[1024,1029,1033,1038,1042,1046,1051,1055,1059,1064,1069,1075,1080,1084,1089,1094],{"type":395,"tag":502,"props":1025,"children":1026},{"style":533},[1027],{"type":400,"value":1028},"    $sliderFloat",{"type":395,"tag":502,"props":1030,"children":1031},{"style":578},[1032],{"type":400,"value":581},{"type":395,"tag":502,"props":1034,"children":1035},{"style":527},[1036],{"type":400,"value":1037},"setAttribute",{"type":395,"tag":502,"props":1039,"children":1040},{"style":666},[1041],{"type":400,"value":536},{"type":395,"tag":502,"props":1043,"children":1044},{"style":539},[1045],{"type":400,"value":542},{"type":395,"tag":502,"props":1047,"children":1048},{"style":545},[1049],{"type":400,"value":1050},"style",{"type":395,"tag":502,"props":1052,"children":1053},{"style":539},[1054],{"type":400,"value":542},{"type":395,"tag":502,"props":1056,"children":1057},{"style":578},[1058],{"type":400,"value":1002},{"type":395,"tag":502,"props":1060,"children":1061},{"style":539},[1062],{"type":400,"value":1063}," `",{"type":395,"tag":502,"props":1065,"children":1066},{"style":545},[1067],{"type":400,"value":1068},"left: ",{"type":395,"tag":502,"props":1070,"children":1072},{"style":1071},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1073],{"type":400,"value":1074},"${",{"type":395,"tag":502,"props":1076,"children":1077},{"style":533},[1078],{"type":400,"value":1079},"left",{"type":395,"tag":502,"props":1081,"children":1082},{"style":1071},[1083],{"type":400,"value":721},{"type":395,"tag":502,"props":1085,"children":1086},{"style":545},[1087],{"type":400,"value":1088},"px",{"type":395,"tag":502,"props":1090,"children":1091},{"style":539},[1092],{"type":400,"value":1093},"`",{"type":395,"tag":502,"props":1095,"children":1096},{"style":666},[1097],{"type":400,"value":557},{"type":395,"tag":502,"props":1099,"children":1101},{"class":504,"line":1100},7,[1102,1107,1112,1116,1120],{"type":395,"tag":502,"props":1103,"children":1104},{"style":578},[1105],{"type":400,"value":1106},"  },",{"type":395,"tag":502,"props":1108,"children":1109},{"style":533},[1110],{"type":400,"value":1111}," $sliderFloat",{"type":395,"tag":502,"props":1113,"children":1114},{"style":578},[1115],{"type":400,"value":1002},{"type":395,"tag":502,"props":1117,"children":1118},{"style":533},[1119],{"type":400,"value":1007},{"type":395,"tag":502,"props":1121,"children":1122},{"style":666},[1123],{"type":400,"value":557},{"type":395,"tag":502,"props":1125,"children":1127},{"class":504,"line":1126},8,[1128],{"type":395,"tag":502,"props":1129,"children":1130},{"emptyLinePlaceholder":564},[1131],{"type":400,"value":567},{"type":395,"tag":502,"props":1133,"children":1135},{"class":504,"line":1134},9,[1136],{"type":395,"tag":502,"props":1137,"children":1138},{"style":949},[1139],{"type":400,"value":1140},"  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n",{"type":395,"tag":502,"props":1142,"children":1144},{"class":504,"line":1143},10,[1145],{"type":395,"tag":502,"props":1146,"children":1147},{"emptyLinePlaceholder":564},[1148],{"type":400,"value":567},{"type":395,"tag":502,"props":1150,"children":1152},{"class":504,"line":1151},11,[1153,1157,1162,1166,1170,1174,1178,1183,1187,1191,1196,1200],{"type":395,"tag":502,"props":1154,"children":1155},{"style":509},[1156],{"type":400,"value":635},{"type":395,"tag":502,"props":1158,"children":1159},{"style":515},[1160],{"type":400,"value":1161}," $panel",{"type":395,"tag":502,"props":1163,"children":1164},{"style":521},[1165],{"type":400,"value":524},{"type":395,"tag":502,"props":1167,"children":1168},{"style":647},[1169],{"type":400,"value":650},{"type":395,"tag":502,"props":1171,"children":1172},{"style":533},[1173],{"type":400,"value":640},{"type":395,"tag":502,"props":1175,"children":1176},{"style":578},[1177],{"type":400,"value":581},{"type":395,"tag":502,"props":1179,"children":1180},{"style":527},[1181],{"type":400,"value":1182},"$",{"type":395,"tag":502,"props":1184,"children":1185},{"style":666},[1186],{"type":400,"value":536},{"type":395,"tag":502,"props":1188,"children":1189},{"style":539},[1190],{"type":400,"value":542},{"type":395,"tag":502,"props":1192,"children":1193},{"style":545},[1194],{"type":400,"value":1195},"#Vertify-demo-4 .canvasArea",{"type":395,"tag":502,"props":1197,"children":1198},{"style":539},[1199],{"type":400,"value":542},{"type":395,"tag":502,"props":1201,"children":1202},{"style":666},[1203],{"type":400,"value":557},{"type":395,"tag":502,"props":1205,"children":1207},{"class":504,"line":1206},12,[1208,1212,1217,1221,1225,1229,1233,1238,1242],{"type":395,"tag":502,"props":1209,"children":1210},{"style":509},[1211],{"type":400,"value":635},{"type":395,"tag":502,"props":1213,"children":1214},{"style":515},[1215],{"type":400,"value":1216}," panelImgBase64",{"type":395,"tag":502,"props":1218,"children":1219},{"style":521},[1220],{"type":400,"value":524},{"type":395,"tag":502,"props":1222,"children":1223},{"style":647},[1224],{"type":400,"value":650},{"type":395,"tag":502,"props":1226,"children":1227},{"style":533},[1228],{"type":400,"value":1161},{"type":395,"tag":502,"props":1230,"children":1231},{"style":578},[1232],{"type":400,"value":581},{"type":395,"tag":502,"props":1234,"children":1235},{"style":527},[1236],{"type":400,"value":1237},"screenshot",{"type":395,"tag":502,"props":1239,"children":1240},{"style":666},[1241],{"type":400,"value":536},{"type":395,"tag":502,"props":1243,"children":1244},{"style":578},[1245],{"type":400,"value":936},{"type":395,"tag":502,"props":1247,"children":1249},{"class":504,"line":1248},13,[1250,1255,1260,1265,1270],{"type":395,"tag":502,"props":1251,"children":1252},{"style":666},[1253],{"type":400,"value":1254},"    type",{"type":395,"tag":502,"props":1256,"children":1257},{"style":578},[1258],{"type":400,"value":1259},":",{"type":395,"tag":502,"props":1261,"children":1262},{"style":539},[1263],{"type":400,"value":1264}," '",{"type":395,"tag":502,"props":1266,"children":1267},{"style":545},[1268],{"type":400,"value":1269},"jpeg",{"type":395,"tag":502,"props":1271,"children":1272},{"style":539},[1273],{"type":400,"value":1274},"'\n",{"type":395,"tag":502,"props":1276,"children":1278},{"class":504,"line":1277},14,[1279,1284],{"type":395,"tag":502,"props":1280,"children":1281},{"style":578},[1282],{"type":400,"value":1283},"  }",{"type":395,"tag":502,"props":1285,"children":1286},{"style":666},[1287],{"type":400,"value":557},{"type":395,"tag":502,"props":1289,"children":1291},{"class":504,"line":1290},15,[1292,1296,1301,1305,1309,1314,1318],{"type":395,"tag":502,"props":1293,"children":1294},{"style":509},[1295],{"type":400,"value":635},{"type":395,"tag":502,"props":1297,"children":1298},{"style":515},[1299],{"type":400,"value":1300}," compareRes",{"type":395,"tag":502,"props":1302,"children":1303},{"style":521},[1304],{"type":400,"value":524},{"type":395,"tag":502,"props":1306,"children":1307},{"style":647},[1308],{"type":400,"value":650},{"type":395,"tag":502,"props":1310,"children":1311},{"style":527},[1312],{"type":400,"value":1313}," rembrandt",{"type":395,"tag":502,"props":1315,"children":1316},{"style":666},[1317],{"type":400,"value":536},{"type":395,"tag":502,"props":1319,"children":1320},{"style":578},[1321],{"type":400,"value":936},{"type":395,"tag":502,"props":1323,"children":1325},{"class":504,"line":1324},16,[1326,1331,1335,1339],{"type":395,"tag":502,"props":1327,"children":1328},{"style":666},[1329],{"type":400,"value":1330},"    imageA",{"type":395,"tag":502,"props":1332,"children":1333},{"style":578},[1334],{"type":400,"value":1259},{"type":395,"tag":502,"props":1336,"children":1337},{"style":533},[1338],{"type":400,"value":1216},{"type":395,"tag":502,"props":1340,"children":1341},{"style":578},[1342],{"type":400,"value":1343},",\n",{"type":395,"tag":502,"props":1345,"children":1347},{"class":504,"line":1346},17,[1348,1353,1357],{"type":395,"tag":502,"props":1349,"children":1350},{"style":666},[1351],{"type":400,"value":1352},"    imageB",{"type":395,"tag":502,"props":1354,"children":1355},{"style":578},[1356],{"type":400,"value":1259},{"type":395,"tag":502,"props":1358,"children":1359},{"style":533},[1360],{"type":400,"value":1361}," rawImage\n",{"type":395,"tag":502,"props":1363,"children":1365},{"class":504,"line":1364},18,[1366,1370],{"type":395,"tag":502,"props":1367,"children":1368},{"style":578},[1369],{"type":400,"value":1283},{"type":395,"tag":502,"props":1371,"children":1372},{"style":666},[1373],{"type":400,"value":557},{"type":395,"tag":502,"props":1375,"children":1377},{"class":504,"line":1376},19,[1378,1383,1387,1392,1396],{"type":395,"tag":502,"props":1379,"children":1380},{"style":533},[1381],{"type":400,"value":1382},"  results",{"type":395,"tag":502,"props":1384,"children":1385},{"style":578},[1386],{"type":400,"value":581},{"type":395,"tag":502,"props":1388,"children":1389},{"style":527},[1390],{"type":400,"value":1391},"push",{"type":395,"tag":502,"props":1393,"children":1394},{"style":666},[1395],{"type":400,"value":536},{"type":395,"tag":502,"props":1397,"children":1398},{"style":578},[1399],{"type":400,"value":936},{"type":395,"tag":502,"props":1401,"children":1403},{"class":504,"line":1402},20,[1404,1409],{"type":395,"tag":502,"props":1405,"children":1406},{"style":533},[1407],{"type":400,"value":1408},"    left",{"type":395,"tag":502,"props":1410,"children":1411},{"style":578},[1412],{"type":400,"value":1343},{"type":395,"tag":502,"props":1414,"children":1416},{"class":504,"line":1415},21,[1417,1422,1426,1430,1434],{"type":395,"tag":502,"props":1418,"children":1419},{"style":666},[1420],{"type":400,"value":1421},"    diff",{"type":395,"tag":502,"props":1423,"children":1424},{"style":578},[1425],{"type":400,"value":1259},{"type":395,"tag":502,"props":1427,"children":1428},{"style":533},[1429],{"type":400,"value":1300},{"type":395,"tag":502,"props":1431,"children":1432},{"style":578},[1433],{"type":400,"value":581},{"type":395,"tag":502,"props":1435,"children":1436},{"style":533},[1437],{"type":400,"value":1438},"differences\n",{"type":395,"tag":502,"props":1440,"children":1442},{"class":504,"line":1441},22,[1443,1447],{"type":395,"tag":502,"props":1444,"children":1445},{"style":578},[1446],{"type":400,"value":1283},{"type":395,"tag":502,"props":1448,"children":1449},{"style":666},[1450],{"type":400,"value":557},{"type":395,"tag":502,"props":1452,"children":1454},{"class":504,"line":1453},23,[1455],{"type":395,"tag":502,"props":1456,"children":1457},{"emptyLinePlaceholder":564},[1458],{"type":400,"value":567},{"type":395,"tag":502,"props":1460,"children":1462},{"class":504,"line":1461},24,[1463,1468,1473],{"type":395,"tag":502,"props":1464,"children":1465},{"style":533},[1466],{"type":400,"value":1467},"  left",{"type":395,"tag":502,"props":1469,"children":1470},{"style":521},[1471],{"type":400,"value":1472}," +=",{"type":395,"tag":502,"props":1474,"children":1476},{"style":1475},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1477],{"type":400,"value":1478}," 1\n",{"type":395,"tag":502,"props":1480,"children":1482},{"class":504,"line":1481},25,[1483],{"type":395,"tag":502,"props":1484,"children":1485},{"style":578},[1486],{"type":400,"value":1487},"}\n",{"type":395,"tag":396,"props":1489,"children":1490},{},[1491],{"type":395,"tag":422,"props":1492,"children":1495},{"alt":1493,"src":1494},"通过CSS控制位移","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/9KgejUuCru.gif",[],{"type":395,"tag":396,"props":1497,"children":1498},{},[1499,1501,1508],{"type":400,"value":1500},"最后，把 results 扔到里面展示一下（这里给个 ECharts ",{"type":395,"tag":403,"props":1502,"children":1505},{"href":1503,"rel":1504},"https://echarts.apache.org/examples/zh/editor.html?c=line-simple",[407],[1506],{"type":400,"value":1507},"折线图示例网址",{"type":400,"value":1509},"），不出意外能得到这样一张图表。看到那个尖尖的“V”型山谷了嘛，呼哈哈哈，答案很明显，当我们把滑块从左往右移动时，滑块约接近缺口，那截出来的图片就越像原图，它两之间像素差异越小；一直往右移动，滑块会逐渐远离缺口，截出来的图片和原图相比像素差异又逐渐开始增大。我们只需要把差异最小的那个点找到，然后滑动滑块到对应的 left 偏移量就阔以了。",{"type":395,"tag":396,"props":1511,"children":1512},{},[1513],{"type":395,"tag":422,"props":1514,"children":1517},{"alt":1515,"src":1516},"图像比对结果","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918203306.png",[],{"type":395,"tag":396,"props":1519,"children":1520},{},[1521],{"type":400,"value":1522},"题外话，为什么最大的差异在 3000 左右呢？我们简单估算一下。",{"type":395,"tag":396,"props":1524,"children":1525},{},[1526],{"type":400,"value":1527},"滑块的大小为 45*45，再加上外面的圆形，约摸占了 2100 像素；也就是说缺口加滑块，理论上最大会有 4200 个像素和原图不同。不过滑块可能和遮住的地方像素有重合，假设重合了 350 像素，再加上我们的最低点的图片差异都有 351，减去这些误差，得 3499。呜呼，3499 约等于 3000，估算成功（手动狗头）。",{"type":395,"tag":434,"props":1529,"children":1531},{"id":1530},"速度优化技巧",[1532],{"type":400,"value":1530},{"type":395,"tag":396,"props":1534,"children":1535},{},[1536],{"type":400,"value":1537},"不过这还没完，你要是把代码跑起来就会发现，卧草，太慢了这玩意儿！正常人划一下验证码顶多两秒钟的事儿，我们一帧一帧截图得花个 40s 的时间才能截完图算出山谷谷底的值来。",{"type":395,"tag":396,"props":1539,"children":1540},{},[1541],{"type":400,"value":1542},"这里提供几种思路优化效率：",{"type":395,"tag":445,"props":1544,"children":1545},{},[1546,1551,1556],{"type":395,"tag":449,"props":1547,"children":1548},{},[1549],{"type":400,"value":1550},"把元素缩小，复制多份，平铺开来展示；这样只要截一次，然后再裁剪、比对就好。",{"type":395,"tag":449,"props":1552,"children":1553},{},[1554],{"type":400,"value":1555},"放大步长，比方说先每次平移 15px，找到局部最优解，然后在局部最优解附近再回到平移 1px 的方案找最优解。",{"type":395,"tag":449,"props":1557,"children":1558},{},[1559],{"type":400,"value":1560},"因为图片比对的结果类似“V”字，“V”字右半边其实是可以不用再计算的。",{"type":395,"tag":396,"props":1562,"children":1563},{},[1564],{"type":400,"value":1565},"使用 1+2+3 我觉得可以在 3s 内搞定最优解，不过代码复杂度会变得很高，文中简单起见暂只实现一下方案 2。",{"type":395,"tag":396,"props":1567,"children":1568},{},[1569],{"type":400,"value":1570},"首先是每次移动 15px 找局部最优解。",{"type":395,"tag":491,"props":1572,"children":1574},{"className":493,"code":1573,"language":495,"meta":389,"style":389},"// 图片缺口是不会给挖在初始附近的，\n// 所以 left 从 45 像素开始计算可以节约不少计算量，\nlet left = 45;\nconst max15Offset = 265;\nconst res15px = [];\nwhile (left \u003C= max15Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res15px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 15;\n}\n",[1575],{"type":395,"tag":498,"props":1576,"children":1577},{"__ignoreMap":389},[1578,1586,1594,1622,1647,1672,1696,1724,1756,1780,1791,1819,1834,1854],{"type":395,"tag":502,"props":1579,"children":1580},{"class":504,"line":505},[1581],{"type":395,"tag":502,"props":1582,"children":1583},{"style":949},[1584],{"type":400,"value":1585},"// 图片缺口是不会给挖在初始附近的，\n",{"type":395,"tag":502,"props":1587,"children":1588},{"class":504,"line":560},[1589],{"type":395,"tag":502,"props":1590,"children":1591},{"style":949},[1592],{"type":400,"value":1593},"// 所以 left 从 45 像素开始计算可以节约不少计算量，\n",{"type":395,"tag":502,"props":1595,"children":1596},{"class":504,"line":570},[1597,1602,1607,1612,1617],{"type":395,"tag":502,"props":1598,"children":1599},{"style":509},[1600],{"type":400,"value":1601},"let",{"type":395,"tag":502,"props":1603,"children":1604},{"style":533},[1605],{"type":400,"value":1606}," left ",{"type":395,"tag":502,"props":1608,"children":1609},{"style":521},[1610],{"type":400,"value":1611},"=",{"type":395,"tag":502,"props":1613,"children":1614},{"style":1475},[1615],{"type":400,"value":1616}," 45",{"type":395,"tag":502,"props":1618,"children":1619},{"style":578},[1620],{"type":400,"value":1621},";\n",{"type":395,"tag":502,"props":1623,"children":1624},{"class":504,"line":629},[1625,1629,1634,1638,1643],{"type":395,"tag":502,"props":1626,"children":1627},{"style":509},[1628],{"type":400,"value":512},{"type":395,"tag":502,"props":1630,"children":1631},{"style":515},[1632],{"type":400,"value":1633}," max15Offset",{"type":395,"tag":502,"props":1635,"children":1636},{"style":521},[1637],{"type":400,"value":524},{"type":395,"tag":502,"props":1639,"children":1640},{"style":1475},[1641],{"type":400,"value":1642}," 265",{"type":395,"tag":502,"props":1644,"children":1645},{"style":578},[1646],{"type":400,"value":1621},{"type":395,"tag":502,"props":1648,"children":1649},{"class":504,"line":672},[1650,1654,1659,1663,1668],{"type":395,"tag":502,"props":1651,"children":1652},{"style":509},[1653],{"type":400,"value":512},{"type":395,"tag":502,"props":1655,"children":1656},{"style":515},[1657],{"type":400,"value":1658}," res15px",{"type":395,"tag":502,"props":1660,"children":1661},{"style":521},[1662],{"type":400,"value":524},{"type":395,"tag":502,"props":1664,"children":1665},{"style":533},[1666],{"type":400,"value":1667}," []",{"type":395,"tag":502,"props":1669,"children":1670},{"style":578},[1671],{"type":400,"value":1621},{"type":395,"tag":502,"props":1673,"children":1674},{"class":504,"line":715},[1675,1679,1683,1687,1692],{"type":395,"tag":502,"props":1676,"children":1677},{"style":647},[1678],{"type":400,"value":916},{"type":395,"tag":502,"props":1680,"children":1681},{"style":533},[1682],{"type":400,"value":921},{"type":395,"tag":502,"props":1684,"children":1685},{"style":521},[1686],{"type":400,"value":926},{"type":395,"tag":502,"props":1688,"children":1689},{"style":533},[1690],{"type":400,"value":1691}," max15Offset) ",{"type":395,"tag":502,"props":1693,"children":1694},{"style":578},[1695],{"type":400,"value":936},{"type":395,"tag":502,"props":1697,"children":1698},{"class":504,"line":1100},[1699,1703,1708,1712,1716,1720],{"type":395,"tag":502,"props":1700,"children":1701},{"style":647},[1702],{"type":400,"value":678},{"type":395,"tag":502,"props":1704,"children":1705},{"style":527},[1706],{"type":400,"value":1707}," setLeft",{"type":395,"tag":502,"props":1709,"children":1710},{"style":666},[1711],{"type":400,"value":536},{"type":395,"tag":502,"props":1713,"children":1714},{"style":533},[1715],{"type":400,"value":1079},{"type":395,"tag":502,"props":1717,"children":1718},{"style":666},[1719],{"type":400,"value":1012},{"type":395,"tag":502,"props":1721,"children":1722},{"style":578},[1723],{"type":400,"value":1621},{"type":395,"tag":502,"props":1725,"children":1726},{"class":504,"line":1126},[1727,1731,1735,1739,1743,1748,1752],{"type":395,"tag":502,"props":1728,"children":1729},{"style":509},[1730],{"type":400,"value":635},{"type":395,"tag":502,"props":1732,"children":1733},{"style":515},[1734],{"type":400,"value":1300},{"type":395,"tag":502,"props":1736,"children":1737},{"style":521},[1738],{"type":400,"value":524},{"type":395,"tag":502,"props":1740,"children":1741},{"style":647},[1742],{"type":400,"value":650},{"type":395,"tag":502,"props":1744,"children":1745},{"style":527},[1746],{"type":400,"value":1747}," compare",{"type":395,"tag":502,"props":1749,"children":1750},{"style":666},[1751],{"type":400,"value":591},{"type":395,"tag":502,"props":1753,"children":1754},{"style":578},[1755],{"type":400,"value":1621},{"type":395,"tag":502,"props":1757,"children":1758},{"class":504,"line":1134},[1759,1764,1768,1772,1776],{"type":395,"tag":502,"props":1760,"children":1761},{"style":533},[1762],{"type":400,"value":1763},"  res15px",{"type":395,"tag":502,"props":1765,"children":1766},{"style":578},[1767],{"type":400,"value":581},{"type":395,"tag":502,"props":1769,"children":1770},{"style":527},[1771],{"type":400,"value":1391},{"type":395,"tag":502,"props":1773,"children":1774},{"style":666},[1775],{"type":400,"value":536},{"type":395,"tag":502,"props":1777,"children":1778},{"style":578},[1779],{"type":400,"value":936},{"type":395,"tag":502,"props":1781,"children":1782},{"class":504,"line":1143},[1783,1787],{"type":395,"tag":502,"props":1784,"children":1785},{"style":533},[1786],{"type":400,"value":1408},{"type":395,"tag":502,"props":1788,"children":1789},{"style":578},[1790],{"type":400,"value":1343},{"type":395,"tag":502,"props":1792,"children":1793},{"class":504,"line":1151},[1794,1798,1802,1806,1810,1815],{"type":395,"tag":502,"props":1795,"children":1796},{"style":666},[1797],{"type":400,"value":1421},{"type":395,"tag":502,"props":1799,"children":1800},{"style":578},[1801],{"type":400,"value":1259},{"type":395,"tag":502,"props":1803,"children":1804},{"style":533},[1805],{"type":400,"value":1300},{"type":395,"tag":502,"props":1807,"children":1808},{"style":578},[1809],{"type":400,"value":581},{"type":395,"tag":502,"props":1811,"children":1812},{"style":533},[1813],{"type":400,"value":1814},"differences",{"type":395,"tag":502,"props":1816,"children":1817},{"style":578},[1818],{"type":400,"value":1343},{"type":395,"tag":502,"props":1820,"children":1821},{"class":504,"line":1206},[1822,1826,1830],{"type":395,"tag":502,"props":1823,"children":1824},{"style":578},[1825],{"type":400,"value":1283},{"type":395,"tag":502,"props":1827,"children":1828},{"style":666},[1829],{"type":400,"value":1012},{"type":395,"tag":502,"props":1831,"children":1832},{"style":578},[1833],{"type":400,"value":1621},{"type":395,"tag":502,"props":1835,"children":1836},{"class":504,"line":1248},[1837,1841,1845,1850],{"type":395,"tag":502,"props":1838,"children":1839},{"style":533},[1840],{"type":400,"value":1467},{"type":395,"tag":502,"props":1842,"children":1843},{"style":521},[1844],{"type":400,"value":1472},{"type":395,"tag":502,"props":1846,"children":1847},{"style":1475},[1848],{"type":400,"value":1849}," 15",{"type":395,"tag":502,"props":1851,"children":1852},{"style":578},[1853],{"type":400,"value":1621},{"type":395,"tag":502,"props":1855,"children":1856},{"class":504,"line":1277},[1857],{"type":395,"tag":502,"props":1858,"children":1859},{"style":578},[1860],{"type":400,"value":1487},{"type":395,"tag":396,"props":1862,"children":1863},{},[1864],{"type":400,"value":1865},"然后再尝试每次移动 2px 找最优解，搜寻的范围是 15px 步长最优解的 left 偏移量的左右共 20 个像素。",{"type":395,"tag":491,"props":1867,"children":1869},{"className":493,"code":1868,"language":495,"meta":389,"style":389},"const min15pxDiff = Math.min(...res15px.map((x) => x.diff));\nconst min15pxLeft = res15px.find((x) => x.diff === min15pxDiff).left;\n\nleft = min15pxLeft - 12;\nconst max2Offset = min15pxLeft + 8;\nconst res2px = [];\nwhile (left \u003C= max2Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res2px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 2;\n}\n",[1870],{"type":395,"tag":498,"props":1871,"children":1872},{"__ignoreMap":389},[1873,1965,2049,2056,2087,2121,2145,2169,2196,2227,2251,2262,2289,2304,2324],{"type":395,"tag":502,"props":1874,"children":1875},{"class":504,"line":505},[1876,1880,1885,1889,1894,1898,1903,1907,1912,1917,1921,1926,1930,1934,1939,1943,1947,1952,1956,1961],{"type":395,"tag":502,"props":1877,"children":1878},{"style":509},[1879],{"type":400,"value":512},{"type":395,"tag":502,"props":1881,"children":1882},{"style":515},[1883],{"type":400,"value":1884}," min15pxDiff",{"type":395,"tag":502,"props":1886,"children":1887},{"style":521},[1888],{"type":400,"value":524},{"type":395,"tag":502,"props":1890,"children":1891},{"style":533},[1892],{"type":400,"value":1893}," Math",{"type":395,"tag":502,"props":1895,"children":1896},{"style":578},[1897],{"type":400,"value":581},{"type":395,"tag":502,"props":1899,"children":1900},{"style":527},[1901],{"type":400,"value":1902},"min",{"type":395,"tag":502,"props":1904,"children":1905},{"style":533},[1906],{"type":400,"value":536},{"type":395,"tag":502,"props":1908,"children":1909},{"style":521},[1910],{"type":400,"value":1911},"...",{"type":395,"tag":502,"props":1913,"children":1914},{"style":533},[1915],{"type":400,"value":1916},"res15px",{"type":395,"tag":502,"props":1918,"children":1919},{"style":578},[1920],{"type":400,"value":581},{"type":395,"tag":502,"props":1922,"children":1923},{"style":527},[1924],{"type":400,"value":1925},"map",{"type":395,"tag":502,"props":1927,"children":1928},{"style":533},[1929],{"type":400,"value":536},{"type":395,"tag":502,"props":1931,"children":1932},{"style":578},[1933],{"type":400,"value":536},{"type":395,"tag":502,"props":1935,"children":1936},{"style":613},[1937],{"type":400,"value":1938},"x",{"type":395,"tag":502,"props":1940,"children":1941},{"style":578},[1942],{"type":400,"value":1012},{"type":395,"tag":502,"props":1944,"children":1945},{"style":509},[1946],{"type":400,"value":621},{"type":395,"tag":502,"props":1948,"children":1949},{"style":533},[1950],{"type":400,"value":1951}," x",{"type":395,"tag":502,"props":1953,"children":1954},{"style":578},[1955],{"type":400,"value":581},{"type":395,"tag":502,"props":1957,"children":1958},{"style":533},[1959],{"type":400,"value":1960},"diff))",{"type":395,"tag":502,"props":1962,"children":1963},{"style":578},[1964],{"type":400,"value":1621},{"type":395,"tag":502,"props":1966,"children":1967},{"class":504,"line":560},[1968,1972,1977,1981,1985,1989,1994,1998,2002,2006,2010,2014,2018,2022,2027,2032,2037,2041,2045],{"type":395,"tag":502,"props":1969,"children":1970},{"style":509},[1971],{"type":400,"value":512},{"type":395,"tag":502,"props":1973,"children":1974},{"style":515},[1975],{"type":400,"value":1976}," min15pxLeft",{"type":395,"tag":502,"props":1978,"children":1979},{"style":521},[1980],{"type":400,"value":524},{"type":395,"tag":502,"props":1982,"children":1983},{"style":533},[1984],{"type":400,"value":1658},{"type":395,"tag":502,"props":1986,"children":1987},{"style":578},[1988],{"type":400,"value":581},{"type":395,"tag":502,"props":1990,"children":1991},{"style":527},[1992],{"type":400,"value":1993},"find",{"type":395,"tag":502,"props":1995,"children":1996},{"style":533},[1997],{"type":400,"value":536},{"type":395,"tag":502,"props":1999,"children":2000},{"style":578},[2001],{"type":400,"value":536},{"type":395,"tag":502,"props":2003,"children":2004},{"style":613},[2005],{"type":400,"value":1938},{"type":395,"tag":502,"props":2007,"children":2008},{"style":578},[2009],{"type":400,"value":1012},{"type":395,"tag":502,"props":2011,"children":2012},{"style":509},[2013],{"type":400,"value":621},{"type":395,"tag":502,"props":2015,"children":2016},{"style":533},[2017],{"type":400,"value":1951},{"type":395,"tag":502,"props":2019,"children":2020},{"style":578},[2021],{"type":400,"value":581},{"type":395,"tag":502,"props":2023,"children":2024},{"style":533},[2025],{"type":400,"value":2026},"diff ",{"type":395,"tag":502,"props":2028,"children":2029},{"style":521},[2030],{"type":400,"value":2031},"===",{"type":395,"tag":502,"props":2033,"children":2034},{"style":533},[2035],{"type":400,"value":2036}," min15pxDiff)",{"type":395,"tag":502,"props":2038,"children":2039},{"style":578},[2040],{"type":400,"value":581},{"type":395,"tag":502,"props":2042,"children":2043},{"style":533},[2044],{"type":400,"value":1079},{"type":395,"tag":502,"props":2046,"children":2047},{"style":578},[2048],{"type":400,"value":1621},{"type":395,"tag":502,"props":2050,"children":2051},{"class":504,"line":570},[2052],{"type":395,"tag":502,"props":2053,"children":2054},{"emptyLinePlaceholder":564},[2055],{"type":400,"value":567},{"type":395,"tag":502,"props":2057,"children":2058},{"class":504,"line":629},[2059,2064,2068,2073,2078,2083],{"type":395,"tag":502,"props":2060,"children":2061},{"style":533},[2062],{"type":400,"value":2063},"left ",{"type":395,"tag":502,"props":2065,"children":2066},{"style":521},[2067],{"type":400,"value":1611},{"type":395,"tag":502,"props":2069,"children":2070},{"style":533},[2071],{"type":400,"value":2072}," min15pxLeft ",{"type":395,"tag":502,"props":2074,"children":2075},{"style":521},[2076],{"type":400,"value":2077},"-",{"type":395,"tag":502,"props":2079,"children":2080},{"style":1475},[2081],{"type":400,"value":2082}," 12",{"type":395,"tag":502,"props":2084,"children":2085},{"style":578},[2086],{"type":400,"value":1621},{"type":395,"tag":502,"props":2088,"children":2089},{"class":504,"line":672},[2090,2094,2099,2103,2107,2112,2117],{"type":395,"tag":502,"props":2091,"children":2092},{"style":509},[2093],{"type":400,"value":512},{"type":395,"tag":502,"props":2095,"children":2096},{"style":515},[2097],{"type":400,"value":2098}," max2Offset",{"type":395,"tag":502,"props":2100,"children":2101},{"style":521},[2102],{"type":400,"value":524},{"type":395,"tag":502,"props":2104,"children":2105},{"style":533},[2106],{"type":400,"value":2072},{"type":395,"tag":502,"props":2108,"children":2109},{"style":521},[2110],{"type":400,"value":2111},"+",{"type":395,"tag":502,"props":2113,"children":2114},{"style":1475},[2115],{"type":400,"value":2116}," 8",{"type":395,"tag":502,"props":2118,"children":2119},{"style":578},[2120],{"type":400,"value":1621},{"type":395,"tag":502,"props":2122,"children":2123},{"class":504,"line":715},[2124,2128,2133,2137,2141],{"type":395,"tag":502,"props":2125,"children":2126},{"style":509},[2127],{"type":400,"value":512},{"type":395,"tag":502,"props":2129,"children":2130},{"style":515},[2131],{"type":400,"value":2132}," res2px",{"type":395,"tag":502,"props":2134,"children":2135},{"style":521},[2136],{"type":400,"value":524},{"type":395,"tag":502,"props":2138,"children":2139},{"style":533},[2140],{"type":400,"value":1667},{"type":395,"tag":502,"props":2142,"children":2143},{"style":578},[2144],{"type":400,"value":1621},{"type":395,"tag":502,"props":2146,"children":2147},{"class":504,"line":1100},[2148,2152,2156,2160,2165],{"type":395,"tag":502,"props":2149,"children":2150},{"style":647},[2151],{"type":400,"value":916},{"type":395,"tag":502,"props":2153,"children":2154},{"style":533},[2155],{"type":400,"value":921},{"type":395,"tag":502,"props":2157,"children":2158},{"style":521},[2159],{"type":400,"value":926},{"type":395,"tag":502,"props":2161,"children":2162},{"style":533},[2163],{"type":400,"value":2164}," max2Offset) ",{"type":395,"tag":502,"props":2166,"children":2167},{"style":578},[2168],{"type":400,"value":936},{"type":395,"tag":502,"props":2170,"children":2171},{"class":504,"line":1126},[2172,2176,2180,2184,2188,2192],{"type":395,"tag":502,"props":2173,"children":2174},{"style":647},[2175],{"type":400,"value":678},{"type":395,"tag":502,"props":2177,"children":2178},{"style":527},[2179],{"type":400,"value":1707},{"type":395,"tag":502,"props":2181,"children":2182},{"style":666},[2183],{"type":400,"value":536},{"type":395,"tag":502,"props":2185,"children":2186},{"style":533},[2187],{"type":400,"value":1079},{"type":395,"tag":502,"props":2189,"children":2190},{"style":666},[2191],{"type":400,"value":1012},{"type":395,"tag":502,"props":2193,"children":2194},{"style":578},[2195],{"type":400,"value":1621},{"type":395,"tag":502,"props":2197,"children":2198},{"class":504,"line":1134},[2199,2203,2207,2211,2215,2219,2223],{"type":395,"tag":502,"props":2200,"children":2201},{"style":509},[2202],{"type":400,"value":635},{"type":395,"tag":502,"props":2204,"children":2205},{"style":515},[2206],{"type":400,"value":1300},{"type":395,"tag":502,"props":2208,"children":2209},{"style":521},[2210],{"type":400,"value":524},{"type":395,"tag":502,"props":2212,"children":2213},{"style":647},[2214],{"type":400,"value":650},{"type":395,"tag":502,"props":2216,"children":2217},{"style":527},[2218],{"type":400,"value":1747},{"type":395,"tag":502,"props":2220,"children":2221},{"style":666},[2222],{"type":400,"value":591},{"type":395,"tag":502,"props":2224,"children":2225},{"style":578},[2226],{"type":400,"value":1621},{"type":395,"tag":502,"props":2228,"children":2229},{"class":504,"line":1143},[2230,2235,2239,2243,2247],{"type":395,"tag":502,"props":2231,"children":2232},{"style":533},[2233],{"type":400,"value":2234},"  res2px",{"type":395,"tag":502,"props":2236,"children":2237},{"style":578},[2238],{"type":400,"value":581},{"type":395,"tag":502,"props":2240,"children":2241},{"style":527},[2242],{"type":400,"value":1391},{"type":395,"tag":502,"props":2244,"children":2245},{"style":666},[2246],{"type":400,"value":536},{"type":395,"tag":502,"props":2248,"children":2249},{"style":578},[2250],{"type":400,"value":936},{"type":395,"tag":502,"props":2252,"children":2253},{"class":504,"line":1151},[2254,2258],{"type":395,"tag":502,"props":2255,"children":2256},{"style":533},[2257],{"type":400,"value":1408},{"type":395,"tag":502,"props":2259,"children":2260},{"style":578},[2261],{"type":400,"value":1343},{"type":395,"tag":502,"props":2263,"children":2264},{"class":504,"line":1206},[2265,2269,2273,2277,2281,2285],{"type":395,"tag":502,"props":2266,"children":2267},{"style":666},[2268],{"type":400,"value":1421},{"type":395,"tag":502,"props":2270,"children":2271},{"style":578},[2272],{"type":400,"value":1259},{"type":395,"tag":502,"props":2274,"children":2275},{"style":533},[2276],{"type":400,"value":1300},{"type":395,"tag":502,"props":2278,"children":2279},{"style":578},[2280],{"type":400,"value":581},{"type":395,"tag":502,"props":2282,"children":2283},{"style":533},[2284],{"type":400,"value":1814},{"type":395,"tag":502,"props":2286,"children":2287},{"style":578},[2288],{"type":400,"value":1343},{"type":395,"tag":502,"props":2290,"children":2291},{"class":504,"line":1248},[2292,2296,2300],{"type":395,"tag":502,"props":2293,"children":2294},{"style":578},[2295],{"type":400,"value":1283},{"type":395,"tag":502,"props":2297,"children":2298},{"style":666},[2299],{"type":400,"value":1012},{"type":395,"tag":502,"props":2301,"children":2302},{"style":578},[2303],{"type":400,"value":1621},{"type":395,"tag":502,"props":2305,"children":2306},{"class":504,"line":1277},[2307,2311,2315,2320],{"type":395,"tag":502,"props":2308,"children":2309},{"style":533},[2310],{"type":400,"value":1467},{"type":395,"tag":502,"props":2312,"children":2313},{"style":521},[2314],{"type":400,"value":1472},{"type":395,"tag":502,"props":2316,"children":2317},{"style":1475},[2318],{"type":400,"value":2319}," 2",{"type":395,"tag":502,"props":2321,"children":2322},{"style":578},[2323],{"type":400,"value":1621},{"type":395,"tag":502,"props":2325,"children":2326},{"class":504,"line":1290},[2327],{"type":395,"tag":502,"props":2328,"children":2329},{"style":578},[2330],{"type":400,"value":1487},{"type":395,"tag":396,"props":2332,"children":2333},{},[2334],{"type":400,"value":2335},"此时得到的解可以约等于最优解了。当然，如果你觉得不稳的话，还可以使用 1px 步长去找。",{"type":395,"tag":396,"props":2337,"children":2338},{},[2339],{"type":400,"value":2340},"估算一下，原先需要截 245 次图片，现在直接降到 1/10，23 次。不过，也别太高兴，因为测试发现只做优化 2，解验证码的时候还是要 7s...",{"type":395,"tag":434,"props":2342,"children":2344},{"id":2343},"操作鼠标滑滑块",[2345],{"type":400,"value":2343},{"type":395,"tag":396,"props":2347,"children":2348},{},[2349],{"type":400,"value":2350},"缺口位置都搞定了，那移鼠标滑滑块儿还不简单嘛~",{"type":395,"tag":396,"props":2352,"children":2353},{},[2354,2356,2363],{"type":400,"value":2355},"Puppeteer 已经提供了",{"type":395,"tag":403,"props":2357,"children":2360},{"href":2358,"rel":2359},"http://puppeteerjs.com/#?product=Puppeteer&version=v10.2.0&show=api-class-mouse",[407],[2361],{"type":400,"value":2362},"鼠标相关的接口",{"type":400,"value":2364},"，一共四个：mouse.click、mouse.down、mouse.move、mouse.up，分别是点击、按下、移动和松开。使用 mouse.move 可以直接把鼠标位置移动到一个特定的坐标上。假设我们现在从坐标（100,100）花大约 1s 把鼠标移动到 （200,200），可以使用循环实现。",{"type":395,"tag":491,"props":2366,"children":2368},{"className":493,"code":2367,"language":495,"meta":389,"style":389},"const now = {\n  x: 100,\n  y: 100\n}\nconst target = {\n  time: 1000,\n  x: 200,\n  y: 200, \n}\nconst steps = 10\nconst step = {\n  x: Math.floor((target.x - now.x) / steps),\n  y: Math.floor((target.y - now.y) / steps),\n  time: target.time / steps\n}\nwhile (now.x \u003C target.x) {\n  await sleep(step.time)\n  now.x += step.x\n  now.y += step.y\n  await page.mouse.move(now)\n}\n",[2369],{"type":395,"tag":498,"props":2370,"children":2371},{"__ignoreMap":389},[2372,2392,2413,2430,2437,2457,2478,2498,2522,2529,2550,2570,2639,2704,2737,2744,2785,2819,2852,2885,2927],{"type":395,"tag":502,"props":2373,"children":2374},{"class":504,"line":505},[2375,2379,2384,2388],{"type":395,"tag":502,"props":2376,"children":2377},{"style":509},[2378],{"type":400,"value":512},{"type":395,"tag":502,"props":2380,"children":2381},{"style":515},[2382],{"type":400,"value":2383}," now",{"type":395,"tag":502,"props":2385,"children":2386},{"style":521},[2387],{"type":400,"value":524},{"type":395,"tag":502,"props":2389,"children":2390},{"style":578},[2391],{"type":400,"value":626},{"type":395,"tag":502,"props":2393,"children":2394},{"class":504,"line":560},[2395,2400,2404,2409],{"type":395,"tag":502,"props":2396,"children":2397},{"style":666},[2398],{"type":400,"value":2399},"  x",{"type":395,"tag":502,"props":2401,"children":2402},{"style":578},[2403],{"type":400,"value":1259},{"type":395,"tag":502,"props":2405,"children":2406},{"style":1475},[2407],{"type":400,"value":2408}," 100",{"type":395,"tag":502,"props":2410,"children":2411},{"style":578},[2412],{"type":400,"value":1343},{"type":395,"tag":502,"props":2414,"children":2415},{"class":504,"line":570},[2416,2421,2425],{"type":395,"tag":502,"props":2417,"children":2418},{"style":666},[2419],{"type":400,"value":2420},"  y",{"type":395,"tag":502,"props":2422,"children":2423},{"style":578},[2424],{"type":400,"value":1259},{"type":395,"tag":502,"props":2426,"children":2427},{"style":1475},[2428],{"type":400,"value":2429}," 100\n",{"type":395,"tag":502,"props":2431,"children":2432},{"class":504,"line":629},[2433],{"type":395,"tag":502,"props":2434,"children":2435},{"style":578},[2436],{"type":400,"value":1487},{"type":395,"tag":502,"props":2438,"children":2439},{"class":504,"line":672},[2440,2444,2449,2453],{"type":395,"tag":502,"props":2441,"children":2442},{"style":509},[2443],{"type":400,"value":512},{"type":395,"tag":502,"props":2445,"children":2446},{"style":515},[2447],{"type":400,"value":2448}," target",{"type":395,"tag":502,"props":2450,"children":2451},{"style":521},[2452],{"type":400,"value":524},{"type":395,"tag":502,"props":2454,"children":2455},{"style":578},[2456],{"type":400,"value":626},{"type":395,"tag":502,"props":2458,"children":2459},{"class":504,"line":715},[2460,2465,2469,2474],{"type":395,"tag":502,"props":2461,"children":2462},{"style":666},[2463],{"type":400,"value":2464},"  time",{"type":395,"tag":502,"props":2466,"children":2467},{"style":578},[2468],{"type":400,"value":1259},{"type":395,"tag":502,"props":2470,"children":2471},{"style":1475},[2472],{"type":400,"value":2473}," 1000",{"type":395,"tag":502,"props":2475,"children":2476},{"style":578},[2477],{"type":400,"value":1343},{"type":395,"tag":502,"props":2479,"children":2480},{"class":504,"line":1100},[2481,2485,2489,2494],{"type":395,"tag":502,"props":2482,"children":2483},{"style":666},[2484],{"type":400,"value":2399},{"type":395,"tag":502,"props":2486,"children":2487},{"style":578},[2488],{"type":400,"value":1259},{"type":395,"tag":502,"props":2490,"children":2491},{"style":1475},[2492],{"type":400,"value":2493}," 200",{"type":395,"tag":502,"props":2495,"children":2496},{"style":578},[2497],{"type":400,"value":1343},{"type":395,"tag":502,"props":2499,"children":2500},{"class":504,"line":1126},[2501,2505,2509,2513,2517],{"type":395,"tag":502,"props":2502,"children":2503},{"style":666},[2504],{"type":400,"value":2420},{"type":395,"tag":502,"props":2506,"children":2507},{"style":578},[2508],{"type":400,"value":1259},{"type":395,"tag":502,"props":2510,"children":2511},{"style":1475},[2512],{"type":400,"value":2493},{"type":395,"tag":502,"props":2514,"children":2515},{"style":578},[2516],{"type":400,"value":1002},{"type":395,"tag":502,"props":2518,"children":2519},{"style":533},[2520],{"type":400,"value":2521}," \n",{"type":395,"tag":502,"props":2523,"children":2524},{"class":504,"line":1134},[2525],{"type":395,"tag":502,"props":2526,"children":2527},{"style":578},[2528],{"type":400,"value":1487},{"type":395,"tag":502,"props":2530,"children":2531},{"class":504,"line":1143},[2532,2536,2541,2545],{"type":395,"tag":502,"props":2533,"children":2534},{"style":509},[2535],{"type":400,"value":512},{"type":395,"tag":502,"props":2537,"children":2538},{"style":515},[2539],{"type":400,"value":2540}," steps",{"type":395,"tag":502,"props":2542,"children":2543},{"style":521},[2544],{"type":400,"value":524},{"type":395,"tag":502,"props":2546,"children":2547},{"style":1475},[2548],{"type":400,"value":2549}," 10\n",{"type":395,"tag":502,"props":2551,"children":2552},{"class":504,"line":1151},[2553,2557,2562,2566],{"type":395,"tag":502,"props":2554,"children":2555},{"style":509},[2556],{"type":400,"value":512},{"type":395,"tag":502,"props":2558,"children":2559},{"style":515},[2560],{"type":400,"value":2561}," step",{"type":395,"tag":502,"props":2563,"children":2564},{"style":521},[2565],{"type":400,"value":524},{"type":395,"tag":502,"props":2567,"children":2568},{"style":578},[2569],{"type":400,"value":626},{"type":395,"tag":502,"props":2571,"children":2572},{"class":504,"line":1206},[2573,2577,2581,2585,2589,2594,2599,2603,2608,2612,2616,2620,2625,2630,2635],{"type":395,"tag":502,"props":2574,"children":2575},{"style":666},[2576],{"type":400,"value":2399},{"type":395,"tag":502,"props":2578,"children":2579},{"style":578},[2580],{"type":400,"value":1259},{"type":395,"tag":502,"props":2582,"children":2583},{"style":533},[2584],{"type":400,"value":1893},{"type":395,"tag":502,"props":2586,"children":2587},{"style":578},[2588],{"type":400,"value":581},{"type":395,"tag":502,"props":2590,"children":2591},{"style":527},[2592],{"type":400,"value":2593},"floor",{"type":395,"tag":502,"props":2595,"children":2596},{"style":533},[2597],{"type":400,"value":2598},"((target",{"type":395,"tag":502,"props":2600,"children":2601},{"style":578},[2602],{"type":400,"value":581},{"type":395,"tag":502,"props":2604,"children":2605},{"style":533},[2606],{"type":400,"value":2607},"x ",{"type":395,"tag":502,"props":2609,"children":2610},{"style":521},[2611],{"type":400,"value":2077},{"type":395,"tag":502,"props":2613,"children":2614},{"style":533},[2615],{"type":400,"value":2383},{"type":395,"tag":502,"props":2617,"children":2618},{"style":578},[2619],{"type":400,"value":581},{"type":395,"tag":502,"props":2621,"children":2622},{"style":533},[2623],{"type":400,"value":2624},"x) ",{"type":395,"tag":502,"props":2626,"children":2627},{"style":521},[2628],{"type":400,"value":2629},"/",{"type":395,"tag":502,"props":2631,"children":2632},{"style":533},[2633],{"type":400,"value":2634}," steps)",{"type":395,"tag":502,"props":2636,"children":2637},{"style":578},[2638],{"type":400,"value":1343},{"type":395,"tag":502,"props":2640,"children":2641},{"class":504,"line":1248},[2642,2646,2650,2654,2658,2662,2666,2670,2675,2679,2683,2687,2692,2696,2700],{"type":395,"tag":502,"props":2643,"children":2644},{"style":666},[2645],{"type":400,"value":2420},{"type":395,"tag":502,"props":2647,"children":2648},{"style":578},[2649],{"type":400,"value":1259},{"type":395,"tag":502,"props":2651,"children":2652},{"style":533},[2653],{"type":400,"value":1893},{"type":395,"tag":502,"props":2655,"children":2656},{"style":578},[2657],{"type":400,"value":581},{"type":395,"tag":502,"props":2659,"children":2660},{"style":527},[2661],{"type":400,"value":2593},{"type":395,"tag":502,"props":2663,"children":2664},{"style":533},[2665],{"type":400,"value":2598},{"type":395,"tag":502,"props":2667,"children":2668},{"style":578},[2669],{"type":400,"value":581},{"type":395,"tag":502,"props":2671,"children":2672},{"style":533},[2673],{"type":400,"value":2674},"y ",{"type":395,"tag":502,"props":2676,"children":2677},{"style":521},[2678],{"type":400,"value":2077},{"type":395,"tag":502,"props":2680,"children":2681},{"style":533},[2682],{"type":400,"value":2383},{"type":395,"tag":502,"props":2684,"children":2685},{"style":578},[2686],{"type":400,"value":581},{"type":395,"tag":502,"props":2688,"children":2689},{"style":533},[2690],{"type":400,"value":2691},"y) ",{"type":395,"tag":502,"props":2693,"children":2694},{"style":521},[2695],{"type":400,"value":2629},{"type":395,"tag":502,"props":2697,"children":2698},{"style":533},[2699],{"type":400,"value":2634},{"type":395,"tag":502,"props":2701,"children":2702},{"style":578},[2703],{"type":400,"value":1343},{"type":395,"tag":502,"props":2705,"children":2706},{"class":504,"line":1277},[2707,2711,2715,2719,2723,2728,2732],{"type":395,"tag":502,"props":2708,"children":2709},{"style":666},[2710],{"type":400,"value":2464},{"type":395,"tag":502,"props":2712,"children":2713},{"style":578},[2714],{"type":400,"value":1259},{"type":395,"tag":502,"props":2716,"children":2717},{"style":533},[2718],{"type":400,"value":2448},{"type":395,"tag":502,"props":2720,"children":2721},{"style":578},[2722],{"type":400,"value":581},{"type":395,"tag":502,"props":2724,"children":2725},{"style":533},[2726],{"type":400,"value":2727},"time ",{"type":395,"tag":502,"props":2729,"children":2730},{"style":521},[2731],{"type":400,"value":2629},{"type":395,"tag":502,"props":2733,"children":2734},{"style":533},[2735],{"type":400,"value":2736}," steps\n",{"type":395,"tag":502,"props":2738,"children":2739},{"class":504,"line":1290},[2740],{"type":395,"tag":502,"props":2741,"children":2742},{"style":578},[2743],{"type":400,"value":1487},{"type":395,"tag":502,"props":2745,"children":2746},{"class":504,"line":1324},[2747,2751,2756,2760,2764,2769,2773,2777,2781],{"type":395,"tag":502,"props":2748,"children":2749},{"style":647},[2750],{"type":400,"value":916},{"type":395,"tag":502,"props":2752,"children":2753},{"style":533},[2754],{"type":400,"value":2755}," (now",{"type":395,"tag":502,"props":2757,"children":2758},{"style":578},[2759],{"type":400,"value":581},{"type":395,"tag":502,"props":2761,"children":2762},{"style":533},[2763],{"type":400,"value":2607},{"type":395,"tag":502,"props":2765,"children":2766},{"style":521},[2767],{"type":400,"value":2768},"\u003C",{"type":395,"tag":502,"props":2770,"children":2771},{"style":533},[2772],{"type":400,"value":2448},{"type":395,"tag":502,"props":2774,"children":2775},{"style":578},[2776],{"type":400,"value":581},{"type":395,"tag":502,"props":2778,"children":2779},{"style":533},[2780],{"type":400,"value":2624},{"type":395,"tag":502,"props":2782,"children":2783},{"style":578},[2784],{"type":400,"value":936},{"type":395,"tag":502,"props":2786,"children":2787},{"class":504,"line":1346},[2788,2792,2797,2801,2806,2810,2815],{"type":395,"tag":502,"props":2789,"children":2790},{"style":647},[2791],{"type":400,"value":678},{"type":395,"tag":502,"props":2793,"children":2794},{"style":527},[2795],{"type":400,"value":2796}," sleep",{"type":395,"tag":502,"props":2798,"children":2799},{"style":666},[2800],{"type":400,"value":536},{"type":395,"tag":502,"props":2802,"children":2803},{"style":533},[2804],{"type":400,"value":2805},"step",{"type":395,"tag":502,"props":2807,"children":2808},{"style":578},[2809],{"type":400,"value":581},{"type":395,"tag":502,"props":2811,"children":2812},{"style":533},[2813],{"type":400,"value":2814},"time",{"type":395,"tag":502,"props":2816,"children":2817},{"style":666},[2818],{"type":400,"value":557},{"type":395,"tag":502,"props":2820,"children":2821},{"class":504,"line":1364},[2822,2827,2831,2835,2839,2843,2847],{"type":395,"tag":502,"props":2823,"children":2824},{"style":533},[2825],{"type":400,"value":2826},"  now",{"type":395,"tag":502,"props":2828,"children":2829},{"style":578},[2830],{"type":400,"value":581},{"type":395,"tag":502,"props":2832,"children":2833},{"style":533},[2834],{"type":400,"value":1938},{"type":395,"tag":502,"props":2836,"children":2837},{"style":521},[2838],{"type":400,"value":1472},{"type":395,"tag":502,"props":2840,"children":2841},{"style":533},[2842],{"type":400,"value":2561},{"type":395,"tag":502,"props":2844,"children":2845},{"style":578},[2846],{"type":400,"value":581},{"type":395,"tag":502,"props":2848,"children":2849},{"style":533},[2850],{"type":400,"value":2851},"x\n",{"type":395,"tag":502,"props":2853,"children":2854},{"class":504,"line":1376},[2855,2859,2863,2868,2872,2876,2880],{"type":395,"tag":502,"props":2856,"children":2857},{"style":533},[2858],{"type":400,"value":2826},{"type":395,"tag":502,"props":2860,"children":2861},{"style":578},[2862],{"type":400,"value":581},{"type":395,"tag":502,"props":2864,"children":2865},{"style":533},[2866],{"type":400,"value":2867},"y",{"type":395,"tag":502,"props":2869,"children":2870},{"style":521},[2871],{"type":400,"value":1472},{"type":395,"tag":502,"props":2873,"children":2874},{"style":533},[2875],{"type":400,"value":2561},{"type":395,"tag":502,"props":2877,"children":2878},{"style":578},[2879],{"type":400,"value":581},{"type":395,"tag":502,"props":2881,"children":2882},{"style":533},[2883],{"type":400,"value":2884},"y\n",{"type":395,"tag":502,"props":2886,"children":2887},{"class":504,"line":1402},[2888,2892,2896,2900,2905,2909,2914,2918,2923],{"type":395,"tag":502,"props":2889,"children":2890},{"style":647},[2891],{"type":400,"value":678},{"type":395,"tag":502,"props":2893,"children":2894},{"style":533},[2895],{"type":400,"value":640},{"type":395,"tag":502,"props":2897,"children":2898},{"style":578},[2899],{"type":400,"value":581},{"type":395,"tag":502,"props":2901,"children":2902},{"style":533},[2903],{"type":400,"value":2904},"mouse",{"type":395,"tag":502,"props":2906,"children":2907},{"style":578},[2908],{"type":400,"value":581},{"type":395,"tag":502,"props":2910,"children":2911},{"style":527},[2912],{"type":400,"value":2913},"move",{"type":395,"tag":502,"props":2915,"children":2916},{"style":666},[2917],{"type":400,"value":536},{"type":395,"tag":502,"props":2919,"children":2920},{"style":533},[2921],{"type":400,"value":2922},"now",{"type":395,"tag":502,"props":2924,"children":2925},{"style":666},[2926],{"type":400,"value":557},{"type":395,"tag":502,"props":2928,"children":2929},{"class":504,"line":1415},[2930],{"type":395,"tag":502,"props":2931,"children":2932},{"style":578},[2933],{"type":400,"value":1487},{"type":395,"tag":434,"props":2935,"children":2937},{"id":2936},"鼠标轨迹优化",[2938],{"type":400,"value":2936},{"type":395,"tag":396,"props":2940,"children":2941},{},[2942],{"type":400,"value":2943},"害，要是打游戏的时候也像这段代码一样，我想我的手点到哪儿它就点到哪儿就好了~",{"type":395,"tag":396,"props":2945,"children":2946},{},[2947],{"type":400,"value":2948},"机器是不会手抖的，这段代码和真实世界的滑动效果相差太远了！我们看一张我用手滑的效果，尤其是要仔细观察滑动过程中鼠标的位置。",{"type":395,"tag":396,"props":2950,"children":2951},{},[2952],{"type":395,"tag":422,"props":2953,"children":2956},{"alt":2954,"src":2955},"鼠标轨迹不稳定","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/soov8Gny09.gif",[],{"type":395,"tag":2958,"props":2959,"children":2960},"ul",{},[2961,2966],{"type":395,"tag":449,"props":2962,"children":2963},{},[2964],{"type":400,"value":2965},"鼠标 Y 轴位置总是在变",{"type":395,"tag":449,"props":2967,"children":2968},{},[2969],{"type":400,"value":2970},"鼠标 X 轴位置会滑过头（别笑，你肯定也经常划过头）",{"type":395,"tag":396,"props":2972,"children":2973},{},[2974],{"type":400,"value":2975},"这里做一波小优化，把这两个细节整合进去。",{"type":395,"tag":491,"props":2977,"children":2979},{"className":493,"code":2978,"language":495,"meta":389,"style":389},"// 获得一个随机的偏移量\nconst getRandOffset = (randNegative = true, max = 3) => {\n  const negative = randNeagtive\n    ? (Math.random() \u003C 0.5) ? -1 : 1\n    : 1\n  return Math.floor(Math.random() * max) * negative\n}\n\n// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\nconst points = [\n  {\n    time: 1000,\n    x: 200 + getRandOffset(false, 15),\n    y: 200 + getRandOffset(false, 15),\n    steps: 10\n  },\n  {\n    time: 100,\n    x: 200,\n    y: 200,\n    steps: 3\n  }\n]\n\n// 注意这里用 for await 循环把 points 串起来执行\nfor await (const target of points) {\n  const step = {\n    x: Math.floor((target.x - now.x) / target.steps),\n    y: Math.floor((target.y - now.y) / target.steps),\n    time: target.time / target.steps,\n  }\n  let gap\n  while (gap = Math.abs((target.x - now.x)), gap > 0) {\n    await sleep(step.time)\n    // 最后一步就直接滑动到位，不需要随机数了\n    const inOneStep = Math.abs(target.x - now.x) \u003C= Math.abs(step.x);\n    if (inOneStep) {\n      now.x = target.x;\n      now.y = target.y;\n    } else {\n      now.x += step.x + getRandOffset();\n      now.y += step.y + getRandOffset();\n    }\n    moveMouseTo(now)\n  }\n}\n",[2980],{"type":395,"tag":498,"props":2981,"children":2982},{"__ignoreMap":389},[2983,2991,3057,3078,3146,3158,3220,3227,3234,3242,3263,3271,3291,3341,3389,3405,3413,3420,3439,3458,3477,3493,3501,3509,3516,3524,3563,3583,3670,3754,3799,3807,3821,3920,3953,3962,4068,4094,4131,4167,4185,4233,4281,4290,4311,4319],{"type":395,"tag":502,"props":2984,"children":2985},{"class":504,"line":505},[2986],{"type":395,"tag":502,"props":2987,"children":2988},{"style":949},[2989],{"type":400,"value":2990},"// 获得一个随机的偏移量\n",{"type":395,"tag":502,"props":2992,"children":2993},{"class":504,"line":560},[2994,2998,3004,3008,3012,3017,3021,3027,3031,3036,3040,3045,3049,3053],{"type":395,"tag":502,"props":2995,"children":2996},{"style":509},[2997],{"type":400,"value":512},{"type":395,"tag":502,"props":2999,"children":3001},{"style":3000},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3002],{"type":400,"value":3003}," getRandOffset",{"type":395,"tag":502,"props":3005,"children":3006},{"style":521},[3007],{"type":400,"value":524},{"type":395,"tag":502,"props":3009,"children":3010},{"style":578},[3011],{"type":400,"value":992},{"type":395,"tag":502,"props":3013,"children":3014},{"style":613},[3015],{"type":400,"value":3016},"randNegative",{"type":395,"tag":502,"props":3018,"children":3019},{"style":521},[3020],{"type":400,"value":524},{"type":395,"tag":502,"props":3022,"children":3024},{"style":3023},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3025],{"type":400,"value":3026}," true",{"type":395,"tag":502,"props":3028,"children":3029},{"style":578},[3030],{"type":400,"value":1002},{"type":395,"tag":502,"props":3032,"children":3033},{"style":613},[3034],{"type":400,"value":3035}," max",{"type":395,"tag":502,"props":3037,"children":3038},{"style":521},[3039],{"type":400,"value":524},{"type":395,"tag":502,"props":3041,"children":3042},{"style":1475},[3043],{"type":400,"value":3044}," 3",{"type":395,"tag":502,"props":3046,"children":3047},{"style":578},[3048],{"type":400,"value":1012},{"type":395,"tag":502,"props":3050,"children":3051},{"style":509},[3052],{"type":400,"value":621},{"type":395,"tag":502,"props":3054,"children":3055},{"style":578},[3056],{"type":400,"value":626},{"type":395,"tag":502,"props":3058,"children":3059},{"class":504,"line":570},[3060,3064,3069,3073],{"type":395,"tag":502,"props":3061,"children":3062},{"style":509},[3063],{"type":400,"value":635},{"type":395,"tag":502,"props":3065,"children":3066},{"style":515},[3067],{"type":400,"value":3068}," negative",{"type":395,"tag":502,"props":3070,"children":3071},{"style":521},[3072],{"type":400,"value":524},{"type":395,"tag":502,"props":3074,"children":3075},{"style":533},[3076],{"type":400,"value":3077}," randNeagtive\n",{"type":395,"tag":502,"props":3079,"children":3080},{"class":504,"line":629},[3081,3086,3090,3095,3099,3104,3109,3113,3118,3123,3128,3133,3137,3142],{"type":395,"tag":502,"props":3082,"children":3083},{"style":521},[3084],{"type":400,"value":3085},"    ?",{"type":395,"tag":502,"props":3087,"children":3088},{"style":666},[3089],{"type":400,"value":992},{"type":395,"tag":502,"props":3091,"children":3092},{"style":533},[3093],{"type":400,"value":3094},"Math",{"type":395,"tag":502,"props":3096,"children":3097},{"style":578},[3098],{"type":400,"value":581},{"type":395,"tag":502,"props":3100,"children":3101},{"style":527},[3102],{"type":400,"value":3103},"random",{"type":395,"tag":502,"props":3105,"children":3106},{"style":666},[3107],{"type":400,"value":3108},"() ",{"type":395,"tag":502,"props":3110,"children":3111},{"style":521},[3112],{"type":400,"value":2768},{"type":395,"tag":502,"props":3114,"children":3115},{"style":1475},[3116],{"type":400,"value":3117}," 0.5",{"type":395,"tag":502,"props":3119,"children":3120},{"style":666},[3121],{"type":400,"value":3122},") ",{"type":395,"tag":502,"props":3124,"children":3125},{"style":521},[3126],{"type":400,"value":3127},"?",{"type":395,"tag":502,"props":3129,"children":3130},{"style":521},[3131],{"type":400,"value":3132}," -",{"type":395,"tag":502,"props":3134,"children":3135},{"style":1475},[3136],{"type":400,"value":822},{"type":395,"tag":502,"props":3138,"children":3139},{"style":521},[3140],{"type":400,"value":3141}," :",{"type":395,"tag":502,"props":3143,"children":3144},{"style":1475},[3145],{"type":400,"value":1478},{"type":395,"tag":502,"props":3147,"children":3148},{"class":504,"line":672},[3149,3154],{"type":395,"tag":502,"props":3150,"children":3151},{"style":521},[3152],{"type":400,"value":3153},"    :",{"type":395,"tag":502,"props":3155,"children":3156},{"style":1475},[3157],{"type":400,"value":1478},{"type":395,"tag":502,"props":3159,"children":3160},{"class":504,"line":715},[3161,3166,3170,3174,3178,3182,3186,3190,3194,3198,3203,3207,3211,3215],{"type":395,"tag":502,"props":3162,"children":3163},{"style":647},[3164],{"type":400,"value":3165},"  return",{"type":395,"tag":502,"props":3167,"children":3168},{"style":533},[3169],{"type":400,"value":1893},{"type":395,"tag":502,"props":3171,"children":3172},{"style":578},[3173],{"type":400,"value":581},{"type":395,"tag":502,"props":3175,"children":3176},{"style":527},[3177],{"type":400,"value":2593},{"type":395,"tag":502,"props":3179,"children":3180},{"style":666},[3181],{"type":400,"value":536},{"type":395,"tag":502,"props":3183,"children":3184},{"style":533},[3185],{"type":400,"value":3094},{"type":395,"tag":502,"props":3187,"children":3188},{"style":578},[3189],{"type":400,"value":581},{"type":395,"tag":502,"props":3191,"children":3192},{"style":527},[3193],{"type":400,"value":3103},{"type":395,"tag":502,"props":3195,"children":3196},{"style":666},[3197],{"type":400,"value":3108},{"type":395,"tag":502,"props":3199,"children":3200},{"style":521},[3201],{"type":400,"value":3202},"*",{"type":395,"tag":502,"props":3204,"children":3205},{"style":533},[3206],{"type":400,"value":3035},{"type":395,"tag":502,"props":3208,"children":3209},{"style":666},[3210],{"type":400,"value":3122},{"type":395,"tag":502,"props":3212,"children":3213},{"style":521},[3214],{"type":400,"value":3202},{"type":395,"tag":502,"props":3216,"children":3217},{"style":533},[3218],{"type":400,"value":3219}," negative\n",{"type":395,"tag":502,"props":3221,"children":3222},{"class":504,"line":1100},[3223],{"type":395,"tag":502,"props":3224,"children":3225},{"style":578},[3226],{"type":400,"value":1487},{"type":395,"tag":502,"props":3228,"children":3229},{"class":504,"line":1126},[3230],{"type":395,"tag":502,"props":3231,"children":3232},{"emptyLinePlaceholder":564},[3233],{"type":400,"value":567},{"type":395,"tag":502,"props":3235,"children":3236},{"class":504,"line":1134},[3237],{"type":395,"tag":502,"props":3238,"children":3239},{"style":949},[3240],{"type":400,"value":3241},"// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\n",{"type":395,"tag":502,"props":3243,"children":3244},{"class":504,"line":1143},[3245,3249,3254,3258],{"type":395,"tag":502,"props":3246,"children":3247},{"style":509},[3248],{"type":400,"value":512},{"type":395,"tag":502,"props":3250,"children":3251},{"style":515},[3252],{"type":400,"value":3253}," points",{"type":395,"tag":502,"props":3255,"children":3256},{"style":521},[3257],{"type":400,"value":524},{"type":395,"tag":502,"props":3259,"children":3260},{"style":533},[3261],{"type":400,"value":3262}," [\n",{"type":395,"tag":502,"props":3264,"children":3265},{"class":504,"line":1151},[3266],{"type":395,"tag":502,"props":3267,"children":3268},{"style":578},[3269],{"type":400,"value":3270},"  {\n",{"type":395,"tag":502,"props":3272,"children":3273},{"class":504,"line":1206},[3274,3279,3283,3287],{"type":395,"tag":502,"props":3275,"children":3276},{"style":666},[3277],{"type":400,"value":3278},"    time",{"type":395,"tag":502,"props":3280,"children":3281},{"style":578},[3282],{"type":400,"value":1259},{"type":395,"tag":502,"props":3284,"children":3285},{"style":1475},[3286],{"type":400,"value":2473},{"type":395,"tag":502,"props":3288,"children":3289},{"style":578},[3290],{"type":400,"value":1343},{"type":395,"tag":502,"props":3292,"children":3293},{"class":504,"line":1248},[3294,3299,3303,3307,3312,3316,3320,3325,3329,3333,3337],{"type":395,"tag":502,"props":3295,"children":3296},{"style":666},[3297],{"type":400,"value":3298},"    x",{"type":395,"tag":502,"props":3300,"children":3301},{"style":578},[3302],{"type":400,"value":1259},{"type":395,"tag":502,"props":3304,"children":3305},{"style":1475},[3306],{"type":400,"value":2493},{"type":395,"tag":502,"props":3308,"children":3309},{"style":521},[3310],{"type":400,"value":3311}," +",{"type":395,"tag":502,"props":3313,"children":3314},{"style":527},[3315],{"type":400,"value":3003},{"type":395,"tag":502,"props":3317,"children":3318},{"style":533},[3319],{"type":400,"value":536},{"type":395,"tag":502,"props":3321,"children":3322},{"style":3023},[3323],{"type":400,"value":3324},"false",{"type":395,"tag":502,"props":3326,"children":3327},{"style":578},[3328],{"type":400,"value":1002},{"type":395,"tag":502,"props":3330,"children":3331},{"style":1475},[3332],{"type":400,"value":1849},{"type":395,"tag":502,"props":3334,"children":3335},{"style":533},[3336],{"type":400,"value":1012},{"type":395,"tag":502,"props":3338,"children":3339},{"style":578},[3340],{"type":400,"value":1343},{"type":395,"tag":502,"props":3342,"children":3343},{"class":504,"line":1277},[3344,3349,3353,3357,3361,3365,3369,3373,3377,3381,3385],{"type":395,"tag":502,"props":3345,"children":3346},{"style":666},[3347],{"type":400,"value":3348},"    y",{"type":395,"tag":502,"props":3350,"children":3351},{"style":578},[3352],{"type":400,"value":1259},{"type":395,"tag":502,"props":3354,"children":3355},{"style":1475},[3356],{"type":400,"value":2493},{"type":395,"tag":502,"props":3358,"children":3359},{"style":521},[3360],{"type":400,"value":3311},{"type":395,"tag":502,"props":3362,"children":3363},{"style":527},[3364],{"type":400,"value":3003},{"type":395,"tag":502,"props":3366,"children":3367},{"style":533},[3368],{"type":400,"value":536},{"type":395,"tag":502,"props":3370,"children":3371},{"style":3023},[3372],{"type":400,"value":3324},{"type":395,"tag":502,"props":3374,"children":3375},{"style":578},[3376],{"type":400,"value":1002},{"type":395,"tag":502,"props":3378,"children":3379},{"style":1475},[3380],{"type":400,"value":1849},{"type":395,"tag":502,"props":3382,"children":3383},{"style":533},[3384],{"type":400,"value":1012},{"type":395,"tag":502,"props":3386,"children":3387},{"style":578},[3388],{"type":400,"value":1343},{"type":395,"tag":502,"props":3390,"children":3391},{"class":504,"line":1290},[3392,3397,3401],{"type":395,"tag":502,"props":3393,"children":3394},{"style":666},[3395],{"type":400,"value":3396},"    steps",{"type":395,"tag":502,"props":3398,"children":3399},{"style":578},[3400],{"type":400,"value":1259},{"type":395,"tag":502,"props":3402,"children":3403},{"style":1475},[3404],{"type":400,"value":2549},{"type":395,"tag":502,"props":3406,"children":3407},{"class":504,"line":1324},[3408],{"type":395,"tag":502,"props":3409,"children":3410},{"style":578},[3411],{"type":400,"value":3412},"  },\n",{"type":395,"tag":502,"props":3414,"children":3415},{"class":504,"line":1346},[3416],{"type":395,"tag":502,"props":3417,"children":3418},{"style":578},[3419],{"type":400,"value":3270},{"type":395,"tag":502,"props":3421,"children":3422},{"class":504,"line":1364},[3423,3427,3431,3435],{"type":395,"tag":502,"props":3424,"children":3425},{"style":666},[3426],{"type":400,"value":3278},{"type":395,"tag":502,"props":3428,"children":3429},{"style":578},[3430],{"type":400,"value":1259},{"type":395,"tag":502,"props":3432,"children":3433},{"style":1475},[3434],{"type":400,"value":2408},{"type":395,"tag":502,"props":3436,"children":3437},{"style":578},[3438],{"type":400,"value":1343},{"type":395,"tag":502,"props":3440,"children":3441},{"class":504,"line":1376},[3442,3446,3450,3454],{"type":395,"tag":502,"props":3443,"children":3444},{"style":666},[3445],{"type":400,"value":3298},{"type":395,"tag":502,"props":3447,"children":3448},{"style":578},[3449],{"type":400,"value":1259},{"type":395,"tag":502,"props":3451,"children":3452},{"style":1475},[3453],{"type":400,"value":2493},{"type":395,"tag":502,"props":3455,"children":3456},{"style":578},[3457],{"type":400,"value":1343},{"type":395,"tag":502,"props":3459,"children":3460},{"class":504,"line":1402},[3461,3465,3469,3473],{"type":395,"tag":502,"props":3462,"children":3463},{"style":666},[3464],{"type":400,"value":3348},{"type":395,"tag":502,"props":3466,"children":3467},{"style":578},[3468],{"type":400,"value":1259},{"type":395,"tag":502,"props":3470,"children":3471},{"style":1475},[3472],{"type":400,"value":2493},{"type":395,"tag":502,"props":3474,"children":3475},{"style":578},[3476],{"type":400,"value":1343},{"type":395,"tag":502,"props":3478,"children":3479},{"class":504,"line":1415},[3480,3484,3488],{"type":395,"tag":502,"props":3481,"children":3482},{"style":666},[3483],{"type":400,"value":3396},{"type":395,"tag":502,"props":3485,"children":3486},{"style":578},[3487],{"type":400,"value":1259},{"type":395,"tag":502,"props":3489,"children":3490},{"style":1475},[3491],{"type":400,"value":3492}," 3\n",{"type":395,"tag":502,"props":3494,"children":3495},{"class":504,"line":1441},[3496],{"type":395,"tag":502,"props":3497,"children":3498},{"style":578},[3499],{"type":400,"value":3500},"  }\n",{"type":395,"tag":502,"props":3502,"children":3503},{"class":504,"line":1453},[3504],{"type":395,"tag":502,"props":3505,"children":3506},{"style":533},[3507],{"type":400,"value":3508},"]\n",{"type":395,"tag":502,"props":3510,"children":3511},{"class":504,"line":1461},[3512],{"type":395,"tag":502,"props":3513,"children":3514},{"emptyLinePlaceholder":564},[3515],{"type":400,"value":567},{"type":395,"tag":502,"props":3517,"children":3518},{"class":504,"line":1481},[3519],{"type":395,"tag":502,"props":3520,"children":3521},{"style":949},[3522],{"type":400,"value":3523},"// 注意这里用 for await 循环把 points 串起来执行\n",{"type":395,"tag":502,"props":3525,"children":3527},{"class":504,"line":3526},26,[3528,3533,3537,3541,3545,3549,3554,3559],{"type":395,"tag":502,"props":3529,"children":3530},{"style":647},[3531],{"type":400,"value":3532},"for",{"type":395,"tag":502,"props":3534,"children":3535},{"style":647},[3536],{"type":400,"value":650},{"type":395,"tag":502,"props":3538,"children":3539},{"style":533},[3540],{"type":400,"value":992},{"type":395,"tag":502,"props":3542,"children":3543},{"style":509},[3544],{"type":400,"value":512},{"type":395,"tag":502,"props":3546,"children":3547},{"style":515},[3548],{"type":400,"value":2448},{"type":395,"tag":502,"props":3550,"children":3551},{"style":521},[3552],{"type":400,"value":3553}," of",{"type":395,"tag":502,"props":3555,"children":3556},{"style":533},[3557],{"type":400,"value":3558}," points) ",{"type":395,"tag":502,"props":3560,"children":3561},{"style":578},[3562],{"type":400,"value":936},{"type":395,"tag":502,"props":3564,"children":3566},{"class":504,"line":3565},27,[3567,3571,3575,3579],{"type":395,"tag":502,"props":3568,"children":3569},{"style":509},[3570],{"type":400,"value":635},{"type":395,"tag":502,"props":3572,"children":3573},{"style":515},[3574],{"type":400,"value":2561},{"type":395,"tag":502,"props":3576,"children":3577},{"style":521},[3578],{"type":400,"value":524},{"type":395,"tag":502,"props":3580,"children":3581},{"style":578},[3582],{"type":400,"value":626},{"type":395,"tag":502,"props":3584,"children":3586},{"class":504,"line":3585},28,[3587,3591,3595,3599,3603,3607,3612,3617,3621,3625,3629,3633,3637,3641,3645,3649,3653,3657,3662,3666],{"type":395,"tag":502,"props":3588,"children":3589},{"style":666},[3590],{"type":400,"value":3298},{"type":395,"tag":502,"props":3592,"children":3593},{"style":578},[3594],{"type":400,"value":1259},{"type":395,"tag":502,"props":3596,"children":3597},{"style":533},[3598],{"type":400,"value":1893},{"type":395,"tag":502,"props":3600,"children":3601},{"style":578},[3602],{"type":400,"value":581},{"type":395,"tag":502,"props":3604,"children":3605},{"style":527},[3606],{"type":400,"value":2593},{"type":395,"tag":502,"props":3608,"children":3609},{"style":666},[3610],{"type":400,"value":3611},"((",{"type":395,"tag":502,"props":3613,"children":3614},{"style":533},[3615],{"type":400,"value":3616},"target",{"type":395,"tag":502,"props":3618,"children":3619},{"style":578},[3620],{"type":400,"value":581},{"type":395,"tag":502,"props":3622,"children":3623},{"style":533},[3624],{"type":400,"value":1938},{"type":395,"tag":502,"props":3626,"children":3627},{"style":521},[3628],{"type":400,"value":3132},{"type":395,"tag":502,"props":3630,"children":3631},{"style":533},[3632],{"type":400,"value":2383},{"type":395,"tag":502,"props":3634,"children":3635},{"style":578},[3636],{"type":400,"value":581},{"type":395,"tag":502,"props":3638,"children":3639},{"style":533},[3640],{"type":400,"value":1938},{"type":395,"tag":502,"props":3642,"children":3643},{"style":666},[3644],{"type":400,"value":3122},{"type":395,"tag":502,"props":3646,"children":3647},{"style":521},[3648],{"type":400,"value":2629},{"type":395,"tag":502,"props":3650,"children":3651},{"style":533},[3652],{"type":400,"value":2448},{"type":395,"tag":502,"props":3654,"children":3655},{"style":578},[3656],{"type":400,"value":581},{"type":395,"tag":502,"props":3658,"children":3659},{"style":533},[3660],{"type":400,"value":3661},"steps",{"type":395,"tag":502,"props":3663,"children":3664},{"style":666},[3665],{"type":400,"value":1012},{"type":395,"tag":502,"props":3667,"children":3668},{"style":578},[3669],{"type":400,"value":1343},{"type":395,"tag":502,"props":3671,"children":3673},{"class":504,"line":3672},29,[3674,3678,3682,3686,3690,3694,3698,3702,3706,3710,3714,3718,3722,3726,3730,3734,3738,3742,3746,3750],{"type":395,"tag":502,"props":3675,"children":3676},{"style":666},[3677],{"type":400,"value":3348},{"type":395,"tag":502,"props":3679,"children":3680},{"style":578},[3681],{"type":400,"value":1259},{"type":395,"tag":502,"props":3683,"children":3684},{"style":533},[3685],{"type":400,"value":1893},{"type":395,"tag":502,"props":3687,"children":3688},{"style":578},[3689],{"type":400,"value":581},{"type":395,"tag":502,"props":3691,"children":3692},{"style":527},[3693],{"type":400,"value":2593},{"type":395,"tag":502,"props":3695,"children":3696},{"style":666},[3697],{"type":400,"value":3611},{"type":395,"tag":502,"props":3699,"children":3700},{"style":533},[3701],{"type":400,"value":3616},{"type":395,"tag":502,"props":3703,"children":3704},{"style":578},[3705],{"type":400,"value":581},{"type":395,"tag":502,"props":3707,"children":3708},{"style":533},[3709],{"type":400,"value":2867},{"type":395,"tag":502,"props":3711,"children":3712},{"style":521},[3713],{"type":400,"value":3132},{"type":395,"tag":502,"props":3715,"children":3716},{"style":533},[3717],{"type":400,"value":2383},{"type":395,"tag":502,"props":3719,"children":3720},{"style":578},[3721],{"type":400,"value":581},{"type":395,"tag":502,"props":3723,"children":3724},{"style":533},[3725],{"type":400,"value":2867},{"type":395,"tag":502,"props":3727,"children":3728},{"style":666},[3729],{"type":400,"value":3122},{"type":395,"tag":502,"props":3731,"children":3732},{"style":521},[3733],{"type":400,"value":2629},{"type":395,"tag":502,"props":3735,"children":3736},{"style":533},[3737],{"type":400,"value":2448},{"type":395,"tag":502,"props":3739,"children":3740},{"style":578},[3741],{"type":400,"value":581},{"type":395,"tag":502,"props":3743,"children":3744},{"style":533},[3745],{"type":400,"value":3661},{"type":395,"tag":502,"props":3747,"children":3748},{"style":666},[3749],{"type":400,"value":1012},{"type":395,"tag":502,"props":3751,"children":3752},{"style":578},[3753],{"type":400,"value":1343},{"type":395,"tag":502,"props":3755,"children":3757},{"class":504,"line":3756},30,[3758,3762,3766,3770,3774,3778,3783,3787,3791,3795],{"type":395,"tag":502,"props":3759,"children":3760},{"style":666},[3761],{"type":400,"value":3278},{"type":395,"tag":502,"props":3763,"children":3764},{"style":578},[3765],{"type":400,"value":1259},{"type":395,"tag":502,"props":3767,"children":3768},{"style":533},[3769],{"type":400,"value":2448},{"type":395,"tag":502,"props":3771,"children":3772},{"style":578},[3773],{"type":400,"value":581},{"type":395,"tag":502,"props":3775,"children":3776},{"style":533},[3777],{"type":400,"value":2814},{"type":395,"tag":502,"props":3779,"children":3780},{"style":521},[3781],{"type":400,"value":3782}," /",{"type":395,"tag":502,"props":3784,"children":3785},{"style":533},[3786],{"type":400,"value":2448},{"type":395,"tag":502,"props":3788,"children":3789},{"style":578},[3790],{"type":400,"value":581},{"type":395,"tag":502,"props":3792,"children":3793},{"style":533},[3794],{"type":400,"value":3661},{"type":395,"tag":502,"props":3796,"children":3797},{"style":578},[3798],{"type":400,"value":1343},{"type":395,"tag":502,"props":3800,"children":3802},{"class":504,"line":3801},31,[3803],{"type":395,"tag":502,"props":3804,"children":3805},{"style":578},[3806],{"type":400,"value":3500},{"type":395,"tag":502,"props":3808,"children":3810},{"class":504,"line":3809},32,[3811,3816],{"type":395,"tag":502,"props":3812,"children":3813},{"style":509},[3814],{"type":400,"value":3815},"  let",{"type":395,"tag":502,"props":3817,"children":3818},{"style":533},[3819],{"type":400,"value":3820}," gap\n",{"type":395,"tag":502,"props":3822,"children":3824},{"class":504,"line":3823},33,[3825,3830,3834,3839,3843,3847,3851,3856,3860,3864,3868,3872,3876,3880,3884,3888,3893,3897,3902,3907,3912,3916],{"type":395,"tag":502,"props":3826,"children":3827},{"style":647},[3828],{"type":400,"value":3829},"  while",{"type":395,"tag":502,"props":3831,"children":3832},{"style":666},[3833],{"type":400,"value":992},{"type":395,"tag":502,"props":3835,"children":3836},{"style":533},[3837],{"type":400,"value":3838},"gap",{"type":395,"tag":502,"props":3840,"children":3841},{"style":521},[3842],{"type":400,"value":524},{"type":395,"tag":502,"props":3844,"children":3845},{"style":533},[3846],{"type":400,"value":1893},{"type":395,"tag":502,"props":3848,"children":3849},{"style":578},[3850],{"type":400,"value":581},{"type":395,"tag":502,"props":3852,"children":3853},{"style":527},[3854],{"type":400,"value":3855},"abs",{"type":395,"tag":502,"props":3857,"children":3858},{"style":666},[3859],{"type":400,"value":3611},{"type":395,"tag":502,"props":3861,"children":3862},{"style":533},[3863],{"type":400,"value":3616},{"type":395,"tag":502,"props":3865,"children":3866},{"style":578},[3867],{"type":400,"value":581},{"type":395,"tag":502,"props":3869,"children":3870},{"style":533},[3871],{"type":400,"value":1938},{"type":395,"tag":502,"props":3873,"children":3874},{"style":521},[3875],{"type":400,"value":3132},{"type":395,"tag":502,"props":3877,"children":3878},{"style":533},[3879],{"type":400,"value":2383},{"type":395,"tag":502,"props":3881,"children":3882},{"style":578},[3883],{"type":400,"value":581},{"type":395,"tag":502,"props":3885,"children":3886},{"style":533},[3887],{"type":400,"value":1938},{"type":395,"tag":502,"props":3889,"children":3890},{"style":666},[3891],{"type":400,"value":3892},"))",{"type":395,"tag":502,"props":3894,"children":3895},{"style":578},[3896],{"type":400,"value":1002},{"type":395,"tag":502,"props":3898,"children":3899},{"style":533},[3900],{"type":400,"value":3901}," gap",{"type":395,"tag":502,"props":3903,"children":3904},{"style":521},[3905],{"type":400,"value":3906}," >",{"type":395,"tag":502,"props":3908,"children":3909},{"style":1475},[3910],{"type":400,"value":3911}," 0",{"type":395,"tag":502,"props":3913,"children":3914},{"style":666},[3915],{"type":400,"value":3122},{"type":395,"tag":502,"props":3917,"children":3918},{"style":578},[3919],{"type":400,"value":936},{"type":395,"tag":502,"props":3921,"children":3923},{"class":504,"line":3922},34,[3924,3929,3933,3937,3941,3945,3949],{"type":395,"tag":502,"props":3925,"children":3926},{"style":647},[3927],{"type":400,"value":3928},"    await",{"type":395,"tag":502,"props":3930,"children":3931},{"style":527},[3932],{"type":400,"value":2796},{"type":395,"tag":502,"props":3934,"children":3935},{"style":666},[3936],{"type":400,"value":536},{"type":395,"tag":502,"props":3938,"children":3939},{"style":533},[3940],{"type":400,"value":2805},{"type":395,"tag":502,"props":3942,"children":3943},{"style":578},[3944],{"type":400,"value":581},{"type":395,"tag":502,"props":3946,"children":3947},{"style":533},[3948],{"type":400,"value":2814},{"type":395,"tag":502,"props":3950,"children":3951},{"style":666},[3952],{"type":400,"value":557},{"type":395,"tag":502,"props":3954,"children":3956},{"class":504,"line":3955},35,[3957],{"type":395,"tag":502,"props":3958,"children":3959},{"style":949},[3960],{"type":400,"value":3961},"    // 最后一步就直接滑动到位，不需要随机数了\n",{"type":395,"tag":502,"props":3963,"children":3965},{"class":504,"line":3964},36,[3966,3971,3976,3980,3984,3988,3992,3996,4000,4004,4008,4012,4016,4020,4024,4028,4032,4036,4040,4044,4048,4052,4056,4060,4064],{"type":395,"tag":502,"props":3967,"children":3968},{"style":509},[3969],{"type":400,"value":3970},"    const",{"type":395,"tag":502,"props":3972,"children":3973},{"style":515},[3974],{"type":400,"value":3975}," inOneStep",{"type":395,"tag":502,"props":3977,"children":3978},{"style":521},[3979],{"type":400,"value":524},{"type":395,"tag":502,"props":3981,"children":3982},{"style":533},[3983],{"type":400,"value":1893},{"type":395,"tag":502,"props":3985,"children":3986},{"style":578},[3987],{"type":400,"value":581},{"type":395,"tag":502,"props":3989,"children":3990},{"style":527},[3991],{"type":400,"value":3855},{"type":395,"tag":502,"props":3993,"children":3994},{"style":666},[3995],{"type":400,"value":536},{"type":395,"tag":502,"props":3997,"children":3998},{"style":533},[3999],{"type":400,"value":3616},{"type":395,"tag":502,"props":4001,"children":4002},{"style":578},[4003],{"type":400,"value":581},{"type":395,"tag":502,"props":4005,"children":4006},{"style":533},[4007],{"type":400,"value":1938},{"type":395,"tag":502,"props":4009,"children":4010},{"style":521},[4011],{"type":400,"value":3132},{"type":395,"tag":502,"props":4013,"children":4014},{"style":533},[4015],{"type":400,"value":2383},{"type":395,"tag":502,"props":4017,"children":4018},{"style":578},[4019],{"type":400,"value":581},{"type":395,"tag":502,"props":4021,"children":4022},{"style":533},[4023],{"type":400,"value":1938},{"type":395,"tag":502,"props":4025,"children":4026},{"style":666},[4027],{"type":400,"value":3122},{"type":395,"tag":502,"props":4029,"children":4030},{"style":521},[4031],{"type":400,"value":926},{"type":395,"tag":502,"props":4033,"children":4034},{"style":533},[4035],{"type":400,"value":1893},{"type":395,"tag":502,"props":4037,"children":4038},{"style":578},[4039],{"type":400,"value":581},{"type":395,"tag":502,"props":4041,"children":4042},{"style":527},[4043],{"type":400,"value":3855},{"type":395,"tag":502,"props":4045,"children":4046},{"style":666},[4047],{"type":400,"value":536},{"type":395,"tag":502,"props":4049,"children":4050},{"style":533},[4051],{"type":400,"value":2805},{"type":395,"tag":502,"props":4053,"children":4054},{"style":578},[4055],{"type":400,"value":581},{"type":395,"tag":502,"props":4057,"children":4058},{"style":533},[4059],{"type":400,"value":1938},{"type":395,"tag":502,"props":4061,"children":4062},{"style":666},[4063],{"type":400,"value":1012},{"type":395,"tag":502,"props":4065,"children":4066},{"style":578},[4067],{"type":400,"value":1621},{"type":395,"tag":502,"props":4069,"children":4071},{"class":504,"line":4070},37,[4072,4077,4081,4086,4090],{"type":395,"tag":502,"props":4073,"children":4074},{"style":647},[4075],{"type":400,"value":4076},"    if",{"type":395,"tag":502,"props":4078,"children":4079},{"style":666},[4080],{"type":400,"value":992},{"type":395,"tag":502,"props":4082,"children":4083},{"style":533},[4084],{"type":400,"value":4085},"inOneStep",{"type":395,"tag":502,"props":4087,"children":4088},{"style":666},[4089],{"type":400,"value":3122},{"type":395,"tag":502,"props":4091,"children":4092},{"style":578},[4093],{"type":400,"value":936},{"type":395,"tag":502,"props":4095,"children":4097},{"class":504,"line":4096},38,[4098,4103,4107,4111,4115,4119,4123,4127],{"type":395,"tag":502,"props":4099,"children":4100},{"style":533},[4101],{"type":400,"value":4102},"      now",{"type":395,"tag":502,"props":4104,"children":4105},{"style":578},[4106],{"type":400,"value":581},{"type":395,"tag":502,"props":4108,"children":4109},{"style":533},[4110],{"type":400,"value":1938},{"type":395,"tag":502,"props":4112,"children":4113},{"style":521},[4114],{"type":400,"value":524},{"type":395,"tag":502,"props":4116,"children":4117},{"style":533},[4118],{"type":400,"value":2448},{"type":395,"tag":502,"props":4120,"children":4121},{"style":578},[4122],{"type":400,"value":581},{"type":395,"tag":502,"props":4124,"children":4125},{"style":533},[4126],{"type":400,"value":1938},{"type":395,"tag":502,"props":4128,"children":4129},{"style":578},[4130],{"type":400,"value":1621},{"type":395,"tag":502,"props":4132,"children":4134},{"class":504,"line":4133},39,[4135,4139,4143,4147,4151,4155,4159,4163],{"type":395,"tag":502,"props":4136,"children":4137},{"style":533},[4138],{"type":400,"value":4102},{"type":395,"tag":502,"props":4140,"children":4141},{"style":578},[4142],{"type":400,"value":581},{"type":395,"tag":502,"props":4144,"children":4145},{"style":533},[4146],{"type":400,"value":2867},{"type":395,"tag":502,"props":4148,"children":4149},{"style":521},[4150],{"type":400,"value":524},{"type":395,"tag":502,"props":4152,"children":4153},{"style":533},[4154],{"type":400,"value":2448},{"type":395,"tag":502,"props":4156,"children":4157},{"style":578},[4158],{"type":400,"value":581},{"type":395,"tag":502,"props":4160,"children":4161},{"style":533},[4162],{"type":400,"value":2867},{"type":395,"tag":502,"props":4164,"children":4165},{"style":578},[4166],{"type":400,"value":1621},{"type":395,"tag":502,"props":4168,"children":4170},{"class":504,"line":4169},40,[4171,4176,4181],{"type":395,"tag":502,"props":4172,"children":4173},{"style":578},[4174],{"type":400,"value":4175},"    }",{"type":395,"tag":502,"props":4177,"children":4178},{"style":647},[4179],{"type":400,"value":4180}," else",{"type":395,"tag":502,"props":4182,"children":4183},{"style":578},[4184],{"type":400,"value":626},{"type":395,"tag":502,"props":4186,"children":4188},{"class":504,"line":4187},41,[4189,4193,4197,4201,4205,4209,4213,4217,4221,4225,4229],{"type":395,"tag":502,"props":4190,"children":4191},{"style":533},[4192],{"type":400,"value":4102},{"type":395,"tag":502,"props":4194,"children":4195},{"style":578},[4196],{"type":400,"value":581},{"type":395,"tag":502,"props":4198,"children":4199},{"style":533},[4200],{"type":400,"value":1938},{"type":395,"tag":502,"props":4202,"children":4203},{"style":521},[4204],{"type":400,"value":1472},{"type":395,"tag":502,"props":4206,"children":4207},{"style":533},[4208],{"type":400,"value":2561},{"type":395,"tag":502,"props":4210,"children":4211},{"style":578},[4212],{"type":400,"value":581},{"type":395,"tag":502,"props":4214,"children":4215},{"style":533},[4216],{"type":400,"value":1938},{"type":395,"tag":502,"props":4218,"children":4219},{"style":521},[4220],{"type":400,"value":3311},{"type":395,"tag":502,"props":4222,"children":4223},{"style":527},[4224],{"type":400,"value":3003},{"type":395,"tag":502,"props":4226,"children":4227},{"style":666},[4228],{"type":400,"value":591},{"type":395,"tag":502,"props":4230,"children":4231},{"style":578},[4232],{"type":400,"value":1621},{"type":395,"tag":502,"props":4234,"children":4236},{"class":504,"line":4235},42,[4237,4241,4245,4249,4253,4257,4261,4265,4269,4273,4277],{"type":395,"tag":502,"props":4238,"children":4239},{"style":533},[4240],{"type":400,"value":4102},{"type":395,"tag":502,"props":4242,"children":4243},{"style":578},[4244],{"type":400,"value":581},{"type":395,"tag":502,"props":4246,"children":4247},{"style":533},[4248],{"type":400,"value":2867},{"type":395,"tag":502,"props":4250,"children":4251},{"style":521},[4252],{"type":400,"value":1472},{"type":395,"tag":502,"props":4254,"children":4255},{"style":533},[4256],{"type":400,"value":2561},{"type":395,"tag":502,"props":4258,"children":4259},{"style":578},[4260],{"type":400,"value":581},{"type":395,"tag":502,"props":4262,"children":4263},{"style":533},[4264],{"type":400,"value":2867},{"type":395,"tag":502,"props":4266,"children":4267},{"style":521},[4268],{"type":400,"value":3311},{"type":395,"tag":502,"props":4270,"children":4271},{"style":527},[4272],{"type":400,"value":3003},{"type":395,"tag":502,"props":4274,"children":4275},{"style":666},[4276],{"type":400,"value":591},{"type":395,"tag":502,"props":4278,"children":4279},{"style":578},[4280],{"type":400,"value":1621},{"type":395,"tag":502,"props":4282,"children":4284},{"class":504,"line":4283},43,[4285],{"type":395,"tag":502,"props":4286,"children":4287},{"style":578},[4288],{"type":400,"value":4289},"    }\n",{"type":395,"tag":502,"props":4291,"children":4293},{"class":504,"line":4292},44,[4294,4299,4303,4307],{"type":395,"tag":502,"props":4295,"children":4296},{"style":527},[4297],{"type":400,"value":4298},"    moveMouseTo",{"type":395,"tag":502,"props":4300,"children":4301},{"style":666},[4302],{"type":400,"value":536},{"type":395,"tag":502,"props":4304,"children":4305},{"style":533},[4306],{"type":400,"value":2922},{"type":395,"tag":502,"props":4308,"children":4309},{"style":666},[4310],{"type":400,"value":557},{"type":395,"tag":502,"props":4312,"children":4314},{"class":504,"line":4313},45,[4315],{"type":395,"tag":502,"props":4316,"children":4317},{"style":578},[4318],{"type":400,"value":3500},{"type":395,"tag":502,"props":4320,"children":4322},{"class":504,"line":4321},46,[4323],{"type":395,"tag":502,"props":4324,"children":4325},{"style":578},[4326],{"type":400,"value":1487},{"type":395,"tag":396,"props":4328,"children":4329},{},[4330],{"type":400,"value":4331},"如何移动鼠标到这里就解决了，如果要考虑加速度、用户习惯等因素，代码会复杂许多，暂时就不深入讨论啦，有兴趣的同学可以自己研究。",{"type":395,"tag":396,"props":4333,"children":4334},{},[4335],{"type":400,"value":4336},"最终效果见下图。",{"type":395,"tag":396,"props":4338,"children":4339},{},[4340],{"type":395,"tag":422,"props":4341,"children":4342},{"alt":424,"src":425},[],{"type":395,"tag":396,"props":4344,"children":4345},{},[4346,4348,4355],{"type":400,"value":4347},"源码地址在此：",{"type":395,"tag":403,"props":4349,"children":4352},{"href":4350,"rel":4351},"https://github.com/Lionad-Morotar/crack-the-shield/tree/master/tasks/dooring-slider",[407],[4353],{"type":400,"value":4354},"CrackTheShield",{"type":400,"value":824},{"type":395,"tag":428,"props":4357,"children":4359},{"id":4358},"阅读更多",[4360],{"type":400,"value":4358},{"type":395,"tag":2958,"props":4362,"children":4363},{},[4364,4376],{"type":395,"tag":449,"props":4365,"children":4366},{},[4367,4374],{"type":395,"tag":403,"props":4368,"children":4371},{"href":4369,"rel":4370},"https://juejin.cn/post/6945336161468416037",[407],[4372],{"type":400,"value":4373},"《Python爬虫的实际运用之：破解滑动验证码》",{"type":400,"value":4375},"，这个老哥用了图像边缘检测的方法来判断缺口所在位置。",{"type":395,"tag":449,"props":4377,"children":4378},{},[4379,4386],{"type":395,"tag":403,"props":4380,"children":4383},{"href":4381,"rel":4382},"https://juejin.cn/post/6844903679808520205",[407],[4384],{"type":400,"value":4385},"《震惊! 滑动验证码竟然能这样破解》",{"type":400,"value":4387},"，这个老哥用了一种看谁脸黑的办法来判断图片的缺口所在位置。",{"type":395,"tag":4389,"props":4390,"children":4393},"section",{"className":4391,"dataFootnotes":389},[4392],"footnotes",[4394,4401],{"type":395,"tag":428,"props":4395,"children":4398},{"className":4396,"id":818},[4397],"sr-only",[4399],{"type":400,"value":4400},"Footnotes",{"type":395,"tag":445,"props":4402,"children":4403},{},[4404],{"type":395,"tag":449,"props":4405,"children":4407},{"id":4406},"user-content-fn-alimagic",[4408,4415,4417],{"type":395,"tag":403,"props":4409,"children":4412},{"href":4410,"rel":4411},"https://vision.aliyun.com/experience/detail",[407],[4413],{"type":400,"value":4414},"测试地址",{"type":400,"value":4416}," ",{"type":395,"tag":403,"props":4418,"children":4423},{"href":4419,"ariaLabel":4420,"className":4421,"dataFootnoteBackref":389},"#user-content-fnref-alimagic","Back to reference 1",[4422],"data-footnote-backref",[4424],{"type":400,"value":4425},"↩",{"type":395,"tag":1050,"props":4427,"children":4428},{},[4429],{"type":400,"value":4430},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":389,"searchDepth":560,"depth":560,"links":4432},[4433,4440,4441],{"id":430,"depth":560,"text":430,"children":4434},[4435,4436,4437,4438,4439],{"id":436,"depth":570,"text":436},{"id":789,"depth":570,"text":789},{"id":1530,"depth":570,"text":1530},{"id":2343,"depth":570,"text":2343},{"id":2936,"depth":570,"text":2936},{"id":4358,"depth":560,"text":4358},{"id":818,"depth":560,"text":4400},"markdown","content:2.articles:5.crack-the-slider.md","content","2.articles/5.crack-the-slider.md","md",[4448,4450],{"_path":52,"title":51,"description":4449},"使用 element-plus 内的层级管理器可以解决多组件库间层级不统一的问题",{"_path":58,"title":57,"description":4451},"本文介绍了几种通过CSS实现的常见阴影效果如单侧投影、空心投影、投影动画、彩色阴影、长投影和倒影，以及尝试使用SVG模拟材质特性如粗糙度及光学效应如菲尼尔效应生成了几种特殊的纹理，最后通过一个CSS绘制真实书本案例介绍了实战中的一些细节。",1710257705309]