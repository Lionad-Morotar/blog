[{"data":1,"prerenderedAt":4483},["ShallowReactive",2],{"navigation":3,"/articles/crack-the-slider":416,"/articles/crack-the-slider-surround":4478},[4,32,86,108,135,141,147,153,399,405,411],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🗂️ 使你的 Git Graph 变得清晰易懂","/articles/clean-git-tree",{"title":42,"_path":43},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":45,"_path":46},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":48,"_path":49},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":51,"_path":52},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":54,"_path":55},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":57,"_path":58},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":60,"_path":61},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":63,"_path":64},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":66,"_path":67},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":69,"_path":70},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":72,"_path":73},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":75,"_path":76},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":78,"_path":79},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":81,"_path":82},"🚝 四十二篇系列","/articles/fourty-two",{"title":84,"_path":85},"📝 技术博客归档","/articles/fold",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102,105],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107},"🖨️ any-to-base64","/tools/any-to-base64",{"title":109,"_path":110,"children":111},"吉他剧场 / Music","/music",[112,114,117,120,123,126,129,132],{"title":113,"_path":110},"🎸 FingerStyle！",{"title":115,"_path":116},"🌬️ 等待的风","/music/wind",{"title":118,"_path":119},"💕 约定的海洋","/music/ocean",{"title":121,"_path":122},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":124,"_path":125},"🌏 残酷天使的行动纲领","/music/eva",{"title":127,"_path":128},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":130,"_path":131},"🍷 Wu Wei","/music/wu-wei",{"title":133,"_path":134},"🌅 无题","/music/untitled",{"title":136,"_path":137,"children":138},"画点什么 / Paint","/paint",[139],{"title":140,"_path":137},"🚧 正在施工",{"title":142,"_path":143,"children":144},"读书笔记 / Notes","/books",[145],{"title":146,"_path":143},"📕 读书笔记",{"title":148,"_path":149,"children":150},"知识地图 / Maps","/maps",[151],{"title":152,"_path":149},"🏁 知识地图",{"title":154,"_path":155,"children":156},"零散的笔记 / Gists","/gists",[157,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396],{"title":158,"_path":155},"🧊 Gists",{"title":160,"_path":161},"网站的可访问性","/gists/accessibility",{"title":163,"_path":164},"Bit","/gists/bit",{"title":166,"_path":167},"图片模糊","/gists/blur",{"title":169,"_path":170},"渲染相关笔记","/gists/c4d",{"title":172,"_path":173},"CDN 问题记录","/gists/cdn",{"title":175,"_path":176},"消毒剂","/gists/cleaner",{"title":178,"_path":179},"Windows Command","/gists/cmd",{"title":181,"_path":182},"Command","/gists/command",{"title":184,"_path":185},"复杂科学","/gists/complexity-science",{"title":187,"_path":188},"GitHub Copilot","/gists/copilot",{"title":190,"_path":191},"宇宙","/gists/cosmos",{"title":193,"_path":194},"C++","/gists/cpp",{"title":196,"_path":197},"Data Structure","/gists/data-structure",{"title":199,"_path":200},"DEPRESSION","/gists/depression",{"title":202,"_path":203},"设计模式","/gists/design-patterns",{"title":205,"_path":206},"Developer Experience","/gists/developer-experience",{"title":208,"_path":209},"Device Metrics","/gists/device-metrix",{"title":211,"_path":212},"数字化转型","/gists/digital-transformation",{"title":214,"_path":215},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":217,"_path":218},"正则表达式","/gists/eegex",{"title":220,"_path":221},"Emoji","/gists/emoji",{"title":223,"_path":224},"工程","/gists/engineering",{"title":226,"_path":227},"熵","/gists/entropy",{"title":229,"_path":230},"Environment","/gists/environment",{"title":232,"_path":233},"Erlang","/gists/erlang",{"title":235,"_path":236},"逃离塔克夫","/gists/escape-from-tarkov",{"title":238,"_path":239},"ESNext (ES6-ES11)","/gists/esnext",{"title":241,"_path":242},"Eval！","/gists/eval",{"title":244,"_path":245},"Flutter","/gists/flutter",{"title":247,"_path":248},"字体","/gists/font",{"title":250,"_path":251},"JS 函数式编程","/gists/functional",{"title":253,"_path":254},"游戏化","/gists/gamification",{"title":256,"_path":257},"Google C++ Standard","/gists/google-cpp-standard",{"title":259,"_path":260},"双向链接完全体","/gists/graph",{"title":262,"_path":263},"Hardwares","/gists/hardwares",{"title":265,"_path":266},"哈希冲突","/gists/hash-collision",{"title":268,"_path":269},"信息设计","/gists/information-design",{"title":271,"_path":272},"InstantPage","/gists/instant.page",{"title":274,"_path":275},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":277,"_path":278},"KVStore","/gists/key-value-db",{"title":280,"_path":281},"Kubernetes","/gists/kubernetes",{"title":283,"_path":284},"Makefile","/gists/makefile",{"title":286,"_path":287},"Markdown Inline Style","/gists/markdown-nice",{"title":289,"_path":290},"小程序","/gists/miniapp",{"title":292,"_path":293},"减小页面快照体积","/gists/minify-html",{"title":295,"_path":296},"mklink","/gists/mklink",{"title":298,"_path":299},"Mock","/gists/mock",{"title":301,"_path":302},"多人协作系统","/gists/multiplayer",{"title":304,"_path":305},"多端应用","/gists/multy-end-app",{"title":307,"_path":308},"神经科学","/gists/neuroscience",{"title":310,"_path":311},"OO","/gists/oo",{"title":313,"_path":314},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":316,"_path":317},"PInvoke","/gists/pinvoke",{"title":319,"_path":320},"像素","/gists/pixel",{"title":322,"_path":323},"PowerShell","/gists/powershell",{"title":325,"_path":326},"量子","/gists/quantum",{"title":328,"_path":329},"保持好奇心","/gists/questions",{"title":331,"_path":332},"React Native","/gists/react-native",{"title":334,"_path":335},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":337,"_path":338},"SEO","/gists/seo",{"title":340,"_path":341},"Shader","/gists/shader",{"title":343,"_path":344},"Shape Up","/gists/shape-up",{"title":346,"_path":347},"睡觉","/gists/sleep",{"title":349,"_path":350},"记录奇怪的问题","/gists/solved",{"title":352,"_path":353},"States","/gists/states",{"title":355,"_path":356},"Storage","/gists/storage",{"title":358,"_path":359},"音视频流处理","/gists/stream-cli",{"title":361,"_path":362},"Symbol","/gists/symbol",{"title":364,"_path":365},"系统论","/gists/systems-theory",{"title":367,"_path":368},"Taro","/gists/taro",{"title":370,"_path":371},"任务切片","/gists/task-slice",{"title":373,"_path":374},"技术偏好","/gists/tech-dudge",{"title":376,"_path":377},"Untitled","/gists/untitled",{"title":379,"_path":380},"可变字体","/gists/variable-font",{"title":382,"_path":383},"视觉错觉","/gists/visual-illusion",{"title":385,"_path":386},"SS(SSR)","/gists/vpn",{"title":388,"_path":389},"VS Code 插件开发","/gists/vscode-plugin",{"title":391,"_path":392},"Web Components","/gists/web-components",{"title":394,"_path":395},"Windows","/gists/windows",{"title":397,"_path":398},"查缺补漏","/gists/wrong",{"title":400,"_path":401,"children":402},"代码笔记 / Gists","/source-code",[403],{"title":404,"_path":401},"🚄 代码笔记",{"title":406,"_path":407,"children":408},"我 / Abount","/hire",[409],{"title":410,"_path":407},"📬 技术简历",{"title":412,"_path":413,"children":414},"todo","/todo",[415],{"title":412,"_path":413},{"_path":61,"_dir":417,"_draft":418,"_partial":418,"_locale":419,"title":60,"description":420,"body":421,"_type":4472,"_id":4473,"_source":4474,"_file":4475,"_stem":4476,"_extension":4477},"articles",false,"","如何破解滑块验证码？本文介绍使用Puppeteer操作浏览器进行图片对比、图片识别及优化鼠标轨迹以模仿真是用户等几种简单爬虫验证码破解思路，适用多种场景。",{"type":422,"children":423,"toc":4461},"root",[424,443,448,457,463,469,474,494,508,520,756,764,769,774,807,812,817,822,827,835,855,863,875,883,888,896,901,922,927,932,1518,1526,1540,1548,1553,1558,1563,1568,1573,1591,1596,1601,1891,1896,2361,2366,2371,2376,2381,2395,2964,2969,2974,2979,2987,3001,3006,4357,4362,4367,4373,4386,4391,4418,4456],{"type":425,"tag":426,"props":427,"children":428},"element","p",{},[429,432,441],{"type":430,"value":431},"text","昨天在掘金看到推荐文章",{"type":425,"tag":433,"props":434,"children":438},"a",{"href":435,"rel":436},"https://juejin.cn/post/7007615666609979400",[437],"nofollow",[439],{"type":430,"value":440},"《从零开发一款轻量级滑动验证码插件》",{"type":430,"value":442},"，介绍了一些相关验证码及框架开发的知识点。巧的是就在前两周，我们公司举办了一个爬虫攻防赛，其中用到多种爬虫验证的破解方法，之一就是滑块验证码。",{"type":425,"tag":426,"props":444,"children":445},{},[446],{"type":430,"value":447},"今天在这篇文章里给大家介绍一下怎么使用 JS 破解滑块验证码。",{"type":425,"tag":426,"props":449,"children":450},{},[451],{"type":425,"tag":452,"props":453,"children":456},"img",{"alt":454,"src":455},"最终效果（加速）","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/73ba97c7435f.gif",[],{"type":425,"tag":458,"props":459,"children":461},"h2",{"id":460},"思路讲解",[462],{"type":430,"value":460},{"type":425,"tag":464,"props":465,"children":467},"h3",{"id":466},"操作浏览器打开页面",[468],{"type":430,"value":466},{"type":425,"tag":426,"props":470,"children":471},{},[472],{"type":430,"value":473},"滑块验证码是滑动验证码的一种，生成流程至少包含三步：",{"type":425,"tag":475,"props":476,"children":477},"ol",{},[478,484,489],{"type":425,"tag":479,"props":480,"children":481},"li",{},[482],{"type":430,"value":483},"根据用户标识，从后台获得验证码图片",{"type":425,"tag":479,"props":485,"children":486},{},[487],{"type":430,"value":488},"监听鼠标事件并回传后台",{"type":425,"tag":479,"props":490,"children":491},{},[492],{"type":430,"value":493},"后台判断事件的真伪，回传验证结果",{"type":425,"tag":426,"props":495,"children":496},{},[497,499,506],{"type":430,"value":498},"无论生成机制的细节如何，滑块终究是要展示在页面上的。直接用 HTTP Request 把页面 HTML 请求下来肯定不行，这里我们需要使用 Puppeteer 打开网页进行渲染。测试页面就以 ",{"type":425,"tag":433,"props":500,"children":503},{"href":501,"rel":502},"http://h5.dooring.cn/slider-vertify",[437],[504],{"type":430,"value":505},"react-slider-vertify",{"type":430,"value":507}," 的官网为例。",{"type":425,"tag":426,"props":509,"children":510},{},[511,518],{"type":425,"tag":433,"props":512,"children":515},{"href":513,"rel":514},"http://puppeteerjs.com/",[437],[516],{"type":430,"value":517},"Puppeteer",{"type":430,"value":519}," 是一个通过 DevTools 协议来控制浏览器行为的库，只需编写不多的代码，就可以操作真实的浏览器搞定诸如爬虫、自动化测试、网页性能分析、浏览器扩展测试等功能。使用起来比较方便，文档齐全。根据文档，打开页面前需要启动一个浏览器实例，然后调用 newPage 方法创建一个新页面。核心代码如下。",{"type":425,"tag":521,"props":522,"children":526},"pre",{"className":523,"code":524,"language":525,"meta":419,"style":419},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async browser => {\n  const page = await browser.newPage()\n  await page.goto('http://h5.dooring.cn/slider-vertify/vertify')\n})\n","js",[527],{"type":425,"tag":528,"props":529,"children":530},"code",{"__ignoreMap":419},[531,588,598,657,700,743],{"type":425,"tag":532,"props":533,"children":536},"span",{"class":534,"line":535},"line",1,[537,543,549,555,561,567,573,579,583],{"type":425,"tag":532,"props":538,"children":540},{"style":539},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[541],{"type":430,"value":542},"const",{"type":425,"tag":532,"props":544,"children":546},{"style":545},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[547],{"type":430,"value":548}," puppeteer",{"type":425,"tag":532,"props":550,"children":552},{"style":551},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[553],{"type":430,"value":554}," =",{"type":425,"tag":532,"props":556,"children":558},{"style":557},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[559],{"type":430,"value":560}," require",{"type":425,"tag":532,"props":562,"children":564},{"style":563},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[565],{"type":430,"value":566},"(",{"type":425,"tag":532,"props":568,"children":570},{"style":569},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[571],{"type":430,"value":572},"'",{"type":425,"tag":532,"props":574,"children":576},{"style":575},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[577],{"type":430,"value":578},"puppeteer",{"type":425,"tag":532,"props":580,"children":581},{"style":569},[582],{"type":430,"value":572},{"type":425,"tag":532,"props":584,"children":585},{"style":563},[586],{"type":430,"value":587},")\n",{"type":425,"tag":532,"props":589,"children":591},{"class":534,"line":590},2,[592],{"type":425,"tag":532,"props":593,"children":595},{"emptyLinePlaceholder":594},true,[596],{"type":430,"value":597},"\n",{"type":425,"tag":532,"props":599,"children":601},{"class":534,"line":600},3,[602,606,612,617,622,626,631,635,641,647,652],{"type":425,"tag":532,"props":603,"children":604},{"style":563},[605],{"type":430,"value":578},{"type":425,"tag":532,"props":607,"children":609},{"style":608},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[610],{"type":430,"value":611},".",{"type":425,"tag":532,"props":613,"children":614},{"style":557},[615],{"type":430,"value":616},"launch",{"type":425,"tag":532,"props":618,"children":619},{"style":563},[620],{"type":430,"value":621},"()",{"type":425,"tag":532,"props":623,"children":624},{"style":608},[625],{"type":430,"value":611},{"type":425,"tag":532,"props":627,"children":628},{"style":557},[629],{"type":430,"value":630},"then",{"type":425,"tag":532,"props":632,"children":633},{"style":563},[634],{"type":430,"value":566},{"type":425,"tag":532,"props":636,"children":638},{"style":637},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[639],{"type":430,"value":640},"async",{"type":425,"tag":532,"props":642,"children":644},{"style":643},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[645],{"type":430,"value":646}," browser",{"type":425,"tag":532,"props":648,"children":649},{"style":539},[650],{"type":430,"value":651}," =>",{"type":425,"tag":532,"props":653,"children":654},{"style":608},[655],{"type":430,"value":656}," {\n",{"type":425,"tag":532,"props":658,"children":660},{"class":534,"line":659},4,[661,666,671,675,681,685,689,694],{"type":425,"tag":532,"props":662,"children":663},{"style":539},[664],{"type":430,"value":665},"  const",{"type":425,"tag":532,"props":667,"children":668},{"style":545},[669],{"type":430,"value":670}," page",{"type":425,"tag":532,"props":672,"children":673},{"style":551},[674],{"type":430,"value":554},{"type":425,"tag":532,"props":676,"children":678},{"style":677},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[679],{"type":430,"value":680}," await",{"type":425,"tag":532,"props":682,"children":683},{"style":563},[684],{"type":430,"value":646},{"type":425,"tag":532,"props":686,"children":687},{"style":608},[688],{"type":430,"value":611},{"type":425,"tag":532,"props":690,"children":691},{"style":557},[692],{"type":430,"value":693},"newPage",{"type":425,"tag":532,"props":695,"children":697},{"style":696},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[698],{"type":430,"value":699},"()\n",{"type":425,"tag":532,"props":701,"children":703},{"class":534,"line":702},5,[704,709,713,717,722,726,730,735,739],{"type":425,"tag":532,"props":705,"children":706},{"style":677},[707],{"type":430,"value":708},"  await",{"type":425,"tag":532,"props":710,"children":711},{"style":563},[712],{"type":430,"value":670},{"type":425,"tag":532,"props":714,"children":715},{"style":608},[716],{"type":430,"value":611},{"type":425,"tag":532,"props":718,"children":719},{"style":557},[720],{"type":430,"value":721},"goto",{"type":425,"tag":532,"props":723,"children":724},{"style":696},[725],{"type":430,"value":566},{"type":425,"tag":532,"props":727,"children":728},{"style":569},[729],{"type":430,"value":572},{"type":425,"tag":532,"props":731,"children":732},{"style":575},[733],{"type":430,"value":734},"http://h5.dooring.cn/slider-vertify/vertify",{"type":425,"tag":532,"props":736,"children":737},{"style":569},[738],{"type":430,"value":572},{"type":425,"tag":532,"props":740,"children":741},{"style":696},[742],{"type":430,"value":587},{"type":425,"tag":532,"props":744,"children":746},{"class":534,"line":745},6,[747,752],{"type":425,"tag":532,"props":748,"children":749},{"style":608},[750],{"type":430,"value":751},"}",{"type":425,"tag":532,"props":753,"children":754},{"style":563},[755],{"type":430,"value":587},{"type":425,"tag":426,"props":757,"children":758},{},[759],{"type":425,"tag":452,"props":760,"children":763},{"alt":761,"src":762},"打开页面测试","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/jpoVF4UbuI.gif",[],{"type":425,"tag":426,"props":765,"children":766},{},[767],{"type":430,"value":768},"正常浏览网页时，很少会碰到滑块验证，因为它的路径非常长，会需要浪费用户好一会儿时间。虽然文案上给你显示“恭喜 0.9s 打败了 99% 的用户”，但从前置脚本请求，到加载图片，用户滑动滑块，到回传验证...前前后后的步骤加起来可能花了你 9s 不止。本质上它是防御性的手段，一般当服务器限流，或者服务器已经怀疑你是爬虫的时候，才会让它跳出来要求做进一步验证。所以一般来说，爬虫代码可以默认忽略滑块验证的，不过本文代码我们就假定默认验证码一定存在吧。",{"type":425,"tag":426,"props":770,"children":771},{},[772],{"type":430,"value":773},"接下来，分析一下用户行为。解决滑块验证，无非就是先判断一下缺口的位置，然后移动鼠标。这里进一步可以细分为鼠标的点击事件和鼠标移动事件两种。代码逻辑大致如下。",{"type":425,"tag":475,"props":775,"children":776},{},[777,782,787,792,797,802],{"type":425,"tag":479,"props":778,"children":779},{},[780],{"type":430,"value":781},"等待验证码图片加载完毕",{"type":425,"tag":479,"props":783,"children":784},{},[785],{"type":430,"value":786},"移动鼠标到滑块位置",{"type":425,"tag":479,"props":788,"children":789},{},[790],{"type":430,"value":791},"按下鼠标",{"type":425,"tag":479,"props":793,"children":794},{},[795],{"type":430,"value":796},"移动鼠标到缺口位置",{"type":425,"tag":479,"props":798,"children":799},{},[800],{"type":430,"value":801},"松开鼠标",{"type":425,"tag":479,"props":803,"children":804},{},[805],{"type":430,"value":806},"等待结果返回",{"type":425,"tag":426,"props":808,"children":809},{},[810],{"type":430,"value":811},"啊，流程我都知道，可问题就在，怎么判断要把鼠标移动到哪里？服务器端返回的是一张带缺口的图片，缺口位置指定是不通过接口传递的。",{"type":425,"tag":426,"props":813,"children":814},{},[815],{"type":430,"value":816},"可能还有些同学会问，怎么移动鼠标呢？如果我一次性就把滑块给移到指定位置了，那服务器不是会立马把我标记为爬虫嘛... 这两个问题我逐一解答。",{"type":425,"tag":464,"props":818,"children":820},{"id":819},"判断缺口位置",[821],{"type":430,"value":819},{"type":425,"tag":426,"props":823,"children":824},{},[825],{"type":430,"value":826},"要分析缺口的位置，我们必须先知道这个缺口是怎么画上去的。打开控制台初步检查可以发现，页面从服务器先拿到了一张完整的图片，然后缺口位置是通过 JS 随机生成的。啊这...这...这是因为我们用的测试页面是文档页，大家不必在意这些安全方面的小细节。",{"type":425,"tag":426,"props":828,"children":829},{},[830],{"type":425,"tag":452,"props":831,"children":834},{"alt":832,"src":833},"找到请求","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918184414.png?type=win11",[],{"type":425,"tag":426,"props":836,"children":837},{},[838,840,853],{"type":430,"value":839},"接着刚才的思路继续，既然缺口是从原图中挖的一个洞，那么我们只需要识别一下图片中洞的位置就好了。比较简单的方案是使用第三方的图像识别技术（或相关技术），把图片上传至第三方，就直接拿到缺口位置的相对坐标。下图给大家展示一下阿里云的图像分割的效果",{"type":425,"tag":841,"props":842,"children":843},"sup",{},[844],{"type":425,"tag":433,"props":845,"children":850},{"href":846,"ariaDescribedBy":847,"dataFootnoteRef":419,"id":849},"#user-content-fn-alimagic",[848],"footnote-label","user-content-fnref-alimagic",[851],{"type":430,"value":852},"1",{"type":430,"value":854},"。",{"type":425,"tag":426,"props":856,"children":857},{},[858],{"type":425,"tag":452,"props":859,"children":862},{"alt":860,"src":861},"阿里云图像分割","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/itLO6bbCMH.gif",[],{"type":425,"tag":426,"props":864,"children":865},{},[866,868,874],{"type":430,"value":867},"如果想做一个效果稳定一点的验证码破解工具，我建议大家还是用自己的模型，或者自己写算法。一来是第三方要的钱钱不少哇~ 再就是这种图像识别并不是专门为验证码训练的，所以放到爬虫中还不太成熟，",{"type":425,"tag":869,"props":870,"children":871},"strong",{},[872],{"type":430,"value":873},"一旦背景图片复杂，识别率下降得老快了",{"type":430,"value":854},{"type":425,"tag":426,"props":876,"children":877},{},[878],{"type":425,"tag":452,"props":879,"children":882},{"alt":880,"src":881},"百度云图像主体识别","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918191220.png",[],{"type":425,"tag":426,"props":884,"children":885},{},[886],{"type":430,"value":887},"以下介绍一种新思路。反正我们已经有一张完整的图片了，那就只要不断地滑动滑块，把结果和原图比对就行。理论上，只要滑倒差不多“那个点”，肉眼看起来不会有很大的违和感时，就搞定了。比如下面这张图。",{"type":425,"tag":426,"props":889,"children":890},{},[891],{"type":425,"tag":452,"props":892,"children":895},{"alt":893,"src":894},"和原图进行比对","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918192111.png",[],{"type":425,"tag":426,"props":897,"children":898},{},[899],{"type":430,"value":900},"截图嘛可以直接用 Pupeteer 的截图功能，它提供了对应的 API，可以精准的截出特定元素。",{"type":425,"tag":426,"props":902,"children":903},{},[904,906,911,913,920],{"type":430,"value":905},"至于图片比对，其实就是给图片初步处理后，两张图一个像素一个像素的去比较。",{"type":425,"tag":869,"props":907,"children":908},{},[909],{"type":430,"value":910},"两个像素如果颜色差异超过阈值，就认为这是两个不相同的像素",{"type":430,"value":912},"。简便起见，我们直接用开源库 ",{"type":425,"tag":433,"props":914,"children":917},{"href":915,"rel":916},"https://github.com/imgly/rembrandt",[437],[918],{"type":430,"value":919},"rembrandt",{"type":430,"value":921},"，它会给我们返回两张图片间的差异。",{"type":425,"tag":426,"props":923,"children":924},{},[925],{"type":430,"value":926},"最后是滑动滑块，既然要模拟人肉操作，那么操作 CSS，用绝对定位，把滑块一个像素一个像素的向右移；每移动一次，把图像比对的结果记录下来。",{"type":425,"tag":426,"props":928,"children":929},{},[930],{"type":430,"value":931},"以上三个流程的核心代码非常简单，只需要以下几行：",{"type":425,"tag":521,"props":933,"children":935},{"className":523,"code":934,"language":525,"meta":419,"style":419},"while (left \u003C= maxOffset) {\n\n  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n\n  await page.evaluate(async ($sliderFloat, left) => {\n    $sliderFloat.setAttribute('style', `left: ${left}px`)\n  }, $sliderFloat, left)\n\n  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n\n  const $panel = await page.$('#Vertify-demo-4 .canvasArea')\n  const panelImgBase64 = await $panel.screenshot({\n    type: 'jpeg'\n  })\n  const compareRes = await rembrandt({\n    imageA: panelImgBase64,\n    imageB: rawImage\n  })\n  results.push({\n    left,\n    diff: compareRes.differences\n  })\n\n  left += 1\n}\n",[936],{"type":425,"tag":528,"props":937,"children":938},{"__ignoreMap":419},[939,967,974,983,990,1051,1128,1154,1162,1171,1179,1234,1276,1305,1318,1352,1374,1392,1404,1430,1443,1469,1481,1489,1509],{"type":425,"tag":532,"props":940,"children":941},{"class":534,"line":535},[942,947,952,957,962],{"type":425,"tag":532,"props":943,"children":944},{"style":677},[945],{"type":430,"value":946},"while",{"type":425,"tag":532,"props":948,"children":949},{"style":563},[950],{"type":430,"value":951}," (left ",{"type":425,"tag":532,"props":953,"children":954},{"style":551},[955],{"type":430,"value":956},"\u003C=",{"type":425,"tag":532,"props":958,"children":959},{"style":563},[960],{"type":430,"value":961}," maxOffset) ",{"type":425,"tag":532,"props":963,"children":964},{"style":608},[965],{"type":430,"value":966},"{\n",{"type":425,"tag":532,"props":968,"children":969},{"class":534,"line":590},[970],{"type":425,"tag":532,"props":971,"children":972},{"emptyLinePlaceholder":594},[973],{"type":430,"value":597},{"type":425,"tag":532,"props":975,"children":976},{"class":534,"line":600},[977],{"type":425,"tag":532,"props":978,"children":980},{"style":979},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[981],{"type":430,"value":982},"  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n",{"type":425,"tag":532,"props":984,"children":985},{"class":534,"line":659},[986],{"type":425,"tag":532,"props":987,"children":988},{"emptyLinePlaceholder":594},[989],{"type":430,"value":597},{"type":425,"tag":532,"props":991,"children":992},{"class":534,"line":702},[993,997,1001,1005,1010,1014,1018,1023,1028,1033,1038,1043,1047],{"type":425,"tag":532,"props":994,"children":995},{"style":677},[996],{"type":430,"value":708},{"type":425,"tag":532,"props":998,"children":999},{"style":563},[1000],{"type":430,"value":670},{"type":425,"tag":532,"props":1002,"children":1003},{"style":608},[1004],{"type":430,"value":611},{"type":425,"tag":532,"props":1006,"children":1007},{"style":557},[1008],{"type":430,"value":1009},"evaluate",{"type":425,"tag":532,"props":1011,"children":1012},{"style":696},[1013],{"type":430,"value":566},{"type":425,"tag":532,"props":1015,"children":1016},{"style":637},[1017],{"type":430,"value":640},{"type":425,"tag":532,"props":1019,"children":1020},{"style":608},[1021],{"type":430,"value":1022}," (",{"type":425,"tag":532,"props":1024,"children":1025},{"style":643},[1026],{"type":430,"value":1027},"$sliderFloat",{"type":425,"tag":532,"props":1029,"children":1030},{"style":608},[1031],{"type":430,"value":1032},",",{"type":425,"tag":532,"props":1034,"children":1035},{"style":643},[1036],{"type":430,"value":1037}," left",{"type":425,"tag":532,"props":1039,"children":1040},{"style":608},[1041],{"type":430,"value":1042},")",{"type":425,"tag":532,"props":1044,"children":1045},{"style":539},[1046],{"type":430,"value":651},{"type":425,"tag":532,"props":1048,"children":1049},{"style":608},[1050],{"type":430,"value":656},{"type":425,"tag":532,"props":1052,"children":1053},{"class":534,"line":745},[1054,1059,1063,1068,1072,1076,1081,1085,1089,1094,1099,1105,1110,1114,1119,1124],{"type":425,"tag":532,"props":1055,"children":1056},{"style":563},[1057],{"type":430,"value":1058},"    $sliderFloat",{"type":425,"tag":532,"props":1060,"children":1061},{"style":608},[1062],{"type":430,"value":611},{"type":425,"tag":532,"props":1064,"children":1065},{"style":557},[1066],{"type":430,"value":1067},"setAttribute",{"type":425,"tag":532,"props":1069,"children":1070},{"style":696},[1071],{"type":430,"value":566},{"type":425,"tag":532,"props":1073,"children":1074},{"style":569},[1075],{"type":430,"value":572},{"type":425,"tag":532,"props":1077,"children":1078},{"style":575},[1079],{"type":430,"value":1080},"style",{"type":425,"tag":532,"props":1082,"children":1083},{"style":569},[1084],{"type":430,"value":572},{"type":425,"tag":532,"props":1086,"children":1087},{"style":608},[1088],{"type":430,"value":1032},{"type":425,"tag":532,"props":1090,"children":1091},{"style":569},[1092],{"type":430,"value":1093}," `",{"type":425,"tag":532,"props":1095,"children":1096},{"style":575},[1097],{"type":430,"value":1098},"left: ",{"type":425,"tag":532,"props":1100,"children":1102},{"style":1101},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1103],{"type":430,"value":1104},"${",{"type":425,"tag":532,"props":1106,"children":1107},{"style":563},[1108],{"type":430,"value":1109},"left",{"type":425,"tag":532,"props":1111,"children":1112},{"style":1101},[1113],{"type":430,"value":751},{"type":425,"tag":532,"props":1115,"children":1116},{"style":575},[1117],{"type":430,"value":1118},"px",{"type":425,"tag":532,"props":1120,"children":1121},{"style":569},[1122],{"type":430,"value":1123},"`",{"type":425,"tag":532,"props":1125,"children":1126},{"style":696},[1127],{"type":430,"value":587},{"type":425,"tag":532,"props":1129,"children":1131},{"class":534,"line":1130},7,[1132,1137,1142,1146,1150],{"type":425,"tag":532,"props":1133,"children":1134},{"style":608},[1135],{"type":430,"value":1136},"  },",{"type":425,"tag":532,"props":1138,"children":1139},{"style":563},[1140],{"type":430,"value":1141}," $sliderFloat",{"type":425,"tag":532,"props":1143,"children":1144},{"style":608},[1145],{"type":430,"value":1032},{"type":425,"tag":532,"props":1147,"children":1148},{"style":563},[1149],{"type":430,"value":1037},{"type":425,"tag":532,"props":1151,"children":1152},{"style":696},[1153],{"type":430,"value":587},{"type":425,"tag":532,"props":1155,"children":1157},{"class":534,"line":1156},8,[1158],{"type":425,"tag":532,"props":1159,"children":1160},{"emptyLinePlaceholder":594},[1161],{"type":430,"value":597},{"type":425,"tag":532,"props":1163,"children":1165},{"class":534,"line":1164},9,[1166],{"type":425,"tag":532,"props":1167,"children":1168},{"style":979},[1169],{"type":430,"value":1170},"  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n",{"type":425,"tag":532,"props":1172,"children":1174},{"class":534,"line":1173},10,[1175],{"type":425,"tag":532,"props":1176,"children":1177},{"emptyLinePlaceholder":594},[1178],{"type":430,"value":597},{"type":425,"tag":532,"props":1180,"children":1182},{"class":534,"line":1181},11,[1183,1187,1192,1196,1200,1204,1208,1213,1217,1221,1226,1230],{"type":425,"tag":532,"props":1184,"children":1185},{"style":539},[1186],{"type":430,"value":665},{"type":425,"tag":532,"props":1188,"children":1189},{"style":545},[1190],{"type":430,"value":1191}," $panel",{"type":425,"tag":532,"props":1193,"children":1194},{"style":551},[1195],{"type":430,"value":554},{"type":425,"tag":532,"props":1197,"children":1198},{"style":677},[1199],{"type":430,"value":680},{"type":425,"tag":532,"props":1201,"children":1202},{"style":563},[1203],{"type":430,"value":670},{"type":425,"tag":532,"props":1205,"children":1206},{"style":608},[1207],{"type":430,"value":611},{"type":425,"tag":532,"props":1209,"children":1210},{"style":557},[1211],{"type":430,"value":1212},"$",{"type":425,"tag":532,"props":1214,"children":1215},{"style":696},[1216],{"type":430,"value":566},{"type":425,"tag":532,"props":1218,"children":1219},{"style":569},[1220],{"type":430,"value":572},{"type":425,"tag":532,"props":1222,"children":1223},{"style":575},[1224],{"type":430,"value":1225},"#Vertify-demo-4 .canvasArea",{"type":425,"tag":532,"props":1227,"children":1228},{"style":569},[1229],{"type":430,"value":572},{"type":425,"tag":532,"props":1231,"children":1232},{"style":696},[1233],{"type":430,"value":587},{"type":425,"tag":532,"props":1235,"children":1237},{"class":534,"line":1236},12,[1238,1242,1247,1251,1255,1259,1263,1268,1272],{"type":425,"tag":532,"props":1239,"children":1240},{"style":539},[1241],{"type":430,"value":665},{"type":425,"tag":532,"props":1243,"children":1244},{"style":545},[1245],{"type":430,"value":1246}," panelImgBase64",{"type":425,"tag":532,"props":1248,"children":1249},{"style":551},[1250],{"type":430,"value":554},{"type":425,"tag":532,"props":1252,"children":1253},{"style":677},[1254],{"type":430,"value":680},{"type":425,"tag":532,"props":1256,"children":1257},{"style":563},[1258],{"type":430,"value":1191},{"type":425,"tag":532,"props":1260,"children":1261},{"style":608},[1262],{"type":430,"value":611},{"type":425,"tag":532,"props":1264,"children":1265},{"style":557},[1266],{"type":430,"value":1267},"screenshot",{"type":425,"tag":532,"props":1269,"children":1270},{"style":696},[1271],{"type":430,"value":566},{"type":425,"tag":532,"props":1273,"children":1274},{"style":608},[1275],{"type":430,"value":966},{"type":425,"tag":532,"props":1277,"children":1279},{"class":534,"line":1278},13,[1280,1285,1290,1295,1300],{"type":425,"tag":532,"props":1281,"children":1282},{"style":696},[1283],{"type":430,"value":1284},"    type",{"type":425,"tag":532,"props":1286,"children":1287},{"style":608},[1288],{"type":430,"value":1289},":",{"type":425,"tag":532,"props":1291,"children":1292},{"style":569},[1293],{"type":430,"value":1294}," '",{"type":425,"tag":532,"props":1296,"children":1297},{"style":575},[1298],{"type":430,"value":1299},"jpeg",{"type":425,"tag":532,"props":1301,"children":1302},{"style":569},[1303],{"type":430,"value":1304},"'\n",{"type":425,"tag":532,"props":1306,"children":1308},{"class":534,"line":1307},14,[1309,1314],{"type":425,"tag":532,"props":1310,"children":1311},{"style":608},[1312],{"type":430,"value":1313},"  }",{"type":425,"tag":532,"props":1315,"children":1316},{"style":696},[1317],{"type":430,"value":587},{"type":425,"tag":532,"props":1319,"children":1321},{"class":534,"line":1320},15,[1322,1326,1331,1335,1339,1344,1348],{"type":425,"tag":532,"props":1323,"children":1324},{"style":539},[1325],{"type":430,"value":665},{"type":425,"tag":532,"props":1327,"children":1328},{"style":545},[1329],{"type":430,"value":1330}," compareRes",{"type":425,"tag":532,"props":1332,"children":1333},{"style":551},[1334],{"type":430,"value":554},{"type":425,"tag":532,"props":1336,"children":1337},{"style":677},[1338],{"type":430,"value":680},{"type":425,"tag":532,"props":1340,"children":1341},{"style":557},[1342],{"type":430,"value":1343}," rembrandt",{"type":425,"tag":532,"props":1345,"children":1346},{"style":696},[1347],{"type":430,"value":566},{"type":425,"tag":532,"props":1349,"children":1350},{"style":608},[1351],{"type":430,"value":966},{"type":425,"tag":532,"props":1353,"children":1355},{"class":534,"line":1354},16,[1356,1361,1365,1369],{"type":425,"tag":532,"props":1357,"children":1358},{"style":696},[1359],{"type":430,"value":1360},"    imageA",{"type":425,"tag":532,"props":1362,"children":1363},{"style":608},[1364],{"type":430,"value":1289},{"type":425,"tag":532,"props":1366,"children":1367},{"style":563},[1368],{"type":430,"value":1246},{"type":425,"tag":532,"props":1370,"children":1371},{"style":608},[1372],{"type":430,"value":1373},",\n",{"type":425,"tag":532,"props":1375,"children":1377},{"class":534,"line":1376},17,[1378,1383,1387],{"type":425,"tag":532,"props":1379,"children":1380},{"style":696},[1381],{"type":430,"value":1382},"    imageB",{"type":425,"tag":532,"props":1384,"children":1385},{"style":608},[1386],{"type":430,"value":1289},{"type":425,"tag":532,"props":1388,"children":1389},{"style":563},[1390],{"type":430,"value":1391}," rawImage\n",{"type":425,"tag":532,"props":1393,"children":1395},{"class":534,"line":1394},18,[1396,1400],{"type":425,"tag":532,"props":1397,"children":1398},{"style":608},[1399],{"type":430,"value":1313},{"type":425,"tag":532,"props":1401,"children":1402},{"style":696},[1403],{"type":430,"value":587},{"type":425,"tag":532,"props":1405,"children":1407},{"class":534,"line":1406},19,[1408,1413,1417,1422,1426],{"type":425,"tag":532,"props":1409,"children":1410},{"style":563},[1411],{"type":430,"value":1412},"  results",{"type":425,"tag":532,"props":1414,"children":1415},{"style":608},[1416],{"type":430,"value":611},{"type":425,"tag":532,"props":1418,"children":1419},{"style":557},[1420],{"type":430,"value":1421},"push",{"type":425,"tag":532,"props":1423,"children":1424},{"style":696},[1425],{"type":430,"value":566},{"type":425,"tag":532,"props":1427,"children":1428},{"style":608},[1429],{"type":430,"value":966},{"type":425,"tag":532,"props":1431,"children":1433},{"class":534,"line":1432},20,[1434,1439],{"type":425,"tag":532,"props":1435,"children":1436},{"style":563},[1437],{"type":430,"value":1438},"    left",{"type":425,"tag":532,"props":1440,"children":1441},{"style":608},[1442],{"type":430,"value":1373},{"type":425,"tag":532,"props":1444,"children":1446},{"class":534,"line":1445},21,[1447,1452,1456,1460,1464],{"type":425,"tag":532,"props":1448,"children":1449},{"style":696},[1450],{"type":430,"value":1451},"    diff",{"type":425,"tag":532,"props":1453,"children":1454},{"style":608},[1455],{"type":430,"value":1289},{"type":425,"tag":532,"props":1457,"children":1458},{"style":563},[1459],{"type":430,"value":1330},{"type":425,"tag":532,"props":1461,"children":1462},{"style":608},[1463],{"type":430,"value":611},{"type":425,"tag":532,"props":1465,"children":1466},{"style":563},[1467],{"type":430,"value":1468},"differences\n",{"type":425,"tag":532,"props":1470,"children":1472},{"class":534,"line":1471},22,[1473,1477],{"type":425,"tag":532,"props":1474,"children":1475},{"style":608},[1476],{"type":430,"value":1313},{"type":425,"tag":532,"props":1478,"children":1479},{"style":696},[1480],{"type":430,"value":587},{"type":425,"tag":532,"props":1482,"children":1484},{"class":534,"line":1483},23,[1485],{"type":425,"tag":532,"props":1486,"children":1487},{"emptyLinePlaceholder":594},[1488],{"type":430,"value":597},{"type":425,"tag":532,"props":1490,"children":1492},{"class":534,"line":1491},24,[1493,1498,1503],{"type":425,"tag":532,"props":1494,"children":1495},{"style":563},[1496],{"type":430,"value":1497},"  left",{"type":425,"tag":532,"props":1499,"children":1500},{"style":551},[1501],{"type":430,"value":1502}," +=",{"type":425,"tag":532,"props":1504,"children":1506},{"style":1505},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1507],{"type":430,"value":1508}," 1\n",{"type":425,"tag":532,"props":1510,"children":1512},{"class":534,"line":1511},25,[1513],{"type":425,"tag":532,"props":1514,"children":1515},{"style":608},[1516],{"type":430,"value":1517},"}\n",{"type":425,"tag":426,"props":1519,"children":1520},{},[1521],{"type":425,"tag":452,"props":1522,"children":1525},{"alt":1523,"src":1524},"通过CSS控制位移","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/9KgejUuCru.gif",[],{"type":425,"tag":426,"props":1527,"children":1528},{},[1529,1531,1538],{"type":430,"value":1530},"最后，把 results 扔到里面展示一下（这里给个 ECharts ",{"type":425,"tag":433,"props":1532,"children":1535},{"href":1533,"rel":1534},"https://echarts.apache.org/examples/zh/editor.html?c=line-simple",[437],[1536],{"type":430,"value":1537},"折线图示例网址",{"type":430,"value":1539},"），不出意外能得到这样一张图表。看到那个尖尖的“V”型山谷了嘛，呼哈哈哈，答案很明显，当我们把滑块从左往右移动时，滑块约接近缺口，那截出来的图片就越像原图，它两之间像素差异越小；一直往右移动，滑块会逐渐远离缺口，截出来的图片和原图相比像素差异又逐渐开始增大。我们只需要把差异最小的那个点找到，然后滑动滑块到对应的 left 偏移量就阔以了。",{"type":425,"tag":426,"props":1541,"children":1542},{},[1543],{"type":425,"tag":452,"props":1544,"children":1547},{"alt":1545,"src":1546},"图像比对结果","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918203306.png",[],{"type":425,"tag":426,"props":1549,"children":1550},{},[1551],{"type":430,"value":1552},"题外话，为什么最大的差异在 3000 左右呢？我们简单估算一下。",{"type":425,"tag":426,"props":1554,"children":1555},{},[1556],{"type":430,"value":1557},"滑块的大小为 45*45，再加上外面的圆形，约摸占了 2100 像素；也就是说缺口加滑块，理论上最大会有 4200 个像素和原图不同。不过滑块可能和遮住的地方像素有重合，假设重合了 350 像素，再加上我们的最低点的图片差异都有 351，减去这些误差，得 3499。呜呼，3499 约等于 3000，估算成功（手动狗头）。",{"type":425,"tag":464,"props":1559,"children":1561},{"id":1560},"速度优化技巧",[1562],{"type":430,"value":1560},{"type":425,"tag":426,"props":1564,"children":1565},{},[1566],{"type":430,"value":1567},"不过这还没完，你要是把代码跑起来就会发现，卧草，太慢了这玩意儿！正常人划一下验证码顶多两秒钟的事儿，我们一帧一帧截图得花个 40s 的时间才能截完图算出山谷谷底的值来。",{"type":425,"tag":426,"props":1569,"children":1570},{},[1571],{"type":430,"value":1572},"这里提供几种思路优化效率：",{"type":425,"tag":475,"props":1574,"children":1575},{},[1576,1581,1586],{"type":425,"tag":479,"props":1577,"children":1578},{},[1579],{"type":430,"value":1580},"把元素缩小，复制多份，平铺开来展示；这样只要截一次，然后再裁剪、比对就好。",{"type":425,"tag":479,"props":1582,"children":1583},{},[1584],{"type":430,"value":1585},"放大步长，比方说先每次平移 15px，找到局部最优解，然后在局部最优解附近再回到平移 1px 的方案找最优解。",{"type":425,"tag":479,"props":1587,"children":1588},{},[1589],{"type":430,"value":1590},"因为图片比对的结果类似“V”字，“V”字右半边其实是可以不用再计算的。",{"type":425,"tag":426,"props":1592,"children":1593},{},[1594],{"type":430,"value":1595},"使用 1+2+3 我觉得可以在 3s 内搞定最优解，不过代码复杂度会变得很高，文中简单起见暂只实现一下方案 2。",{"type":425,"tag":426,"props":1597,"children":1598},{},[1599],{"type":430,"value":1600},"首先是每次移动 15px 找局部最优解。",{"type":425,"tag":521,"props":1602,"children":1604},{"className":523,"code":1603,"language":525,"meta":419,"style":419},"// 图片缺口是不会给挖在初始附近的，\n// 所以 left 从 45 像素开始计算可以节约不少计算量，\nlet left = 45;\nconst max15Offset = 265;\nconst res15px = [];\nwhile (left \u003C= max15Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res15px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 15;\n}\n",[1605],{"type":425,"tag":528,"props":1606,"children":1607},{"__ignoreMap":419},[1608,1616,1624,1652,1677,1702,1726,1754,1786,1810,1821,1849,1864,1884],{"type":425,"tag":532,"props":1609,"children":1610},{"class":534,"line":535},[1611],{"type":425,"tag":532,"props":1612,"children":1613},{"style":979},[1614],{"type":430,"value":1615},"// 图片缺口是不会给挖在初始附近的，\n",{"type":425,"tag":532,"props":1617,"children":1618},{"class":534,"line":590},[1619],{"type":425,"tag":532,"props":1620,"children":1621},{"style":979},[1622],{"type":430,"value":1623},"// 所以 left 从 45 像素开始计算可以节约不少计算量，\n",{"type":425,"tag":532,"props":1625,"children":1626},{"class":534,"line":600},[1627,1632,1637,1642,1647],{"type":425,"tag":532,"props":1628,"children":1629},{"style":539},[1630],{"type":430,"value":1631},"let",{"type":425,"tag":532,"props":1633,"children":1634},{"style":563},[1635],{"type":430,"value":1636}," left ",{"type":425,"tag":532,"props":1638,"children":1639},{"style":551},[1640],{"type":430,"value":1641},"=",{"type":425,"tag":532,"props":1643,"children":1644},{"style":1505},[1645],{"type":430,"value":1646}," 45",{"type":425,"tag":532,"props":1648,"children":1649},{"style":608},[1650],{"type":430,"value":1651},";\n",{"type":425,"tag":532,"props":1653,"children":1654},{"class":534,"line":659},[1655,1659,1664,1668,1673],{"type":425,"tag":532,"props":1656,"children":1657},{"style":539},[1658],{"type":430,"value":542},{"type":425,"tag":532,"props":1660,"children":1661},{"style":545},[1662],{"type":430,"value":1663}," max15Offset",{"type":425,"tag":532,"props":1665,"children":1666},{"style":551},[1667],{"type":430,"value":554},{"type":425,"tag":532,"props":1669,"children":1670},{"style":1505},[1671],{"type":430,"value":1672}," 265",{"type":425,"tag":532,"props":1674,"children":1675},{"style":608},[1676],{"type":430,"value":1651},{"type":425,"tag":532,"props":1678,"children":1679},{"class":534,"line":702},[1680,1684,1689,1693,1698],{"type":425,"tag":532,"props":1681,"children":1682},{"style":539},[1683],{"type":430,"value":542},{"type":425,"tag":532,"props":1685,"children":1686},{"style":545},[1687],{"type":430,"value":1688}," res15px",{"type":425,"tag":532,"props":1690,"children":1691},{"style":551},[1692],{"type":430,"value":554},{"type":425,"tag":532,"props":1694,"children":1695},{"style":563},[1696],{"type":430,"value":1697}," []",{"type":425,"tag":532,"props":1699,"children":1700},{"style":608},[1701],{"type":430,"value":1651},{"type":425,"tag":532,"props":1703,"children":1704},{"class":534,"line":745},[1705,1709,1713,1717,1722],{"type":425,"tag":532,"props":1706,"children":1707},{"style":677},[1708],{"type":430,"value":946},{"type":425,"tag":532,"props":1710,"children":1711},{"style":563},[1712],{"type":430,"value":951},{"type":425,"tag":532,"props":1714,"children":1715},{"style":551},[1716],{"type":430,"value":956},{"type":425,"tag":532,"props":1718,"children":1719},{"style":563},[1720],{"type":430,"value":1721}," max15Offset) ",{"type":425,"tag":532,"props":1723,"children":1724},{"style":608},[1725],{"type":430,"value":966},{"type":425,"tag":532,"props":1727,"children":1728},{"class":534,"line":1130},[1729,1733,1738,1742,1746,1750],{"type":425,"tag":532,"props":1730,"children":1731},{"style":677},[1732],{"type":430,"value":708},{"type":425,"tag":532,"props":1734,"children":1735},{"style":557},[1736],{"type":430,"value":1737}," setLeft",{"type":425,"tag":532,"props":1739,"children":1740},{"style":696},[1741],{"type":430,"value":566},{"type":425,"tag":532,"props":1743,"children":1744},{"style":563},[1745],{"type":430,"value":1109},{"type":425,"tag":532,"props":1747,"children":1748},{"style":696},[1749],{"type":430,"value":1042},{"type":425,"tag":532,"props":1751,"children":1752},{"style":608},[1753],{"type":430,"value":1651},{"type":425,"tag":532,"props":1755,"children":1756},{"class":534,"line":1156},[1757,1761,1765,1769,1773,1778,1782],{"type":425,"tag":532,"props":1758,"children":1759},{"style":539},[1760],{"type":430,"value":665},{"type":425,"tag":532,"props":1762,"children":1763},{"style":545},[1764],{"type":430,"value":1330},{"type":425,"tag":532,"props":1766,"children":1767},{"style":551},[1768],{"type":430,"value":554},{"type":425,"tag":532,"props":1770,"children":1771},{"style":677},[1772],{"type":430,"value":680},{"type":425,"tag":532,"props":1774,"children":1775},{"style":557},[1776],{"type":430,"value":1777}," compare",{"type":425,"tag":532,"props":1779,"children":1780},{"style":696},[1781],{"type":430,"value":621},{"type":425,"tag":532,"props":1783,"children":1784},{"style":608},[1785],{"type":430,"value":1651},{"type":425,"tag":532,"props":1787,"children":1788},{"class":534,"line":1164},[1789,1794,1798,1802,1806],{"type":425,"tag":532,"props":1790,"children":1791},{"style":563},[1792],{"type":430,"value":1793},"  res15px",{"type":425,"tag":532,"props":1795,"children":1796},{"style":608},[1797],{"type":430,"value":611},{"type":425,"tag":532,"props":1799,"children":1800},{"style":557},[1801],{"type":430,"value":1421},{"type":425,"tag":532,"props":1803,"children":1804},{"style":696},[1805],{"type":430,"value":566},{"type":425,"tag":532,"props":1807,"children":1808},{"style":608},[1809],{"type":430,"value":966},{"type":425,"tag":532,"props":1811,"children":1812},{"class":534,"line":1173},[1813,1817],{"type":425,"tag":532,"props":1814,"children":1815},{"style":563},[1816],{"type":430,"value":1438},{"type":425,"tag":532,"props":1818,"children":1819},{"style":608},[1820],{"type":430,"value":1373},{"type":425,"tag":532,"props":1822,"children":1823},{"class":534,"line":1181},[1824,1828,1832,1836,1840,1845],{"type":425,"tag":532,"props":1825,"children":1826},{"style":696},[1827],{"type":430,"value":1451},{"type":425,"tag":532,"props":1829,"children":1830},{"style":608},[1831],{"type":430,"value":1289},{"type":425,"tag":532,"props":1833,"children":1834},{"style":563},[1835],{"type":430,"value":1330},{"type":425,"tag":532,"props":1837,"children":1838},{"style":608},[1839],{"type":430,"value":611},{"type":425,"tag":532,"props":1841,"children":1842},{"style":563},[1843],{"type":430,"value":1844},"differences",{"type":425,"tag":532,"props":1846,"children":1847},{"style":608},[1848],{"type":430,"value":1373},{"type":425,"tag":532,"props":1850,"children":1851},{"class":534,"line":1236},[1852,1856,1860],{"type":425,"tag":532,"props":1853,"children":1854},{"style":608},[1855],{"type":430,"value":1313},{"type":425,"tag":532,"props":1857,"children":1858},{"style":696},[1859],{"type":430,"value":1042},{"type":425,"tag":532,"props":1861,"children":1862},{"style":608},[1863],{"type":430,"value":1651},{"type":425,"tag":532,"props":1865,"children":1866},{"class":534,"line":1278},[1867,1871,1875,1880],{"type":425,"tag":532,"props":1868,"children":1869},{"style":563},[1870],{"type":430,"value":1497},{"type":425,"tag":532,"props":1872,"children":1873},{"style":551},[1874],{"type":430,"value":1502},{"type":425,"tag":532,"props":1876,"children":1877},{"style":1505},[1878],{"type":430,"value":1879}," 15",{"type":425,"tag":532,"props":1881,"children":1882},{"style":608},[1883],{"type":430,"value":1651},{"type":425,"tag":532,"props":1885,"children":1886},{"class":534,"line":1307},[1887],{"type":425,"tag":532,"props":1888,"children":1889},{"style":608},[1890],{"type":430,"value":1517},{"type":425,"tag":426,"props":1892,"children":1893},{},[1894],{"type":430,"value":1895},"然后再尝试每次移动 2px 找最优解，搜寻的范围是 15px 步长最优解的 left 偏移量的左右共 20 个像素。",{"type":425,"tag":521,"props":1897,"children":1899},{"className":523,"code":1898,"language":525,"meta":419,"style":419},"const min15pxDiff = Math.min(...res15px.map((x) => x.diff));\nconst min15pxLeft = res15px.find((x) => x.diff === min15pxDiff).left;\n\nleft = min15pxLeft - 12;\nconst max2Offset = min15pxLeft + 8;\nconst res2px = [];\nwhile (left \u003C= max2Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res2px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 2;\n}\n",[1900],{"type":425,"tag":528,"props":1901,"children":1902},{"__ignoreMap":419},[1903,1995,2079,2086,2117,2151,2175,2199,2226,2257,2281,2292,2319,2334,2354],{"type":425,"tag":532,"props":1904,"children":1905},{"class":534,"line":535},[1906,1910,1915,1919,1924,1928,1933,1937,1942,1947,1951,1956,1960,1964,1969,1973,1977,1982,1986,1991],{"type":425,"tag":532,"props":1907,"children":1908},{"style":539},[1909],{"type":430,"value":542},{"type":425,"tag":532,"props":1911,"children":1912},{"style":545},[1913],{"type":430,"value":1914}," min15pxDiff",{"type":425,"tag":532,"props":1916,"children":1917},{"style":551},[1918],{"type":430,"value":554},{"type":425,"tag":532,"props":1920,"children":1921},{"style":563},[1922],{"type":430,"value":1923}," Math",{"type":425,"tag":532,"props":1925,"children":1926},{"style":608},[1927],{"type":430,"value":611},{"type":425,"tag":532,"props":1929,"children":1930},{"style":557},[1931],{"type":430,"value":1932},"min",{"type":425,"tag":532,"props":1934,"children":1935},{"style":563},[1936],{"type":430,"value":566},{"type":425,"tag":532,"props":1938,"children":1939},{"style":551},[1940],{"type":430,"value":1941},"...",{"type":425,"tag":532,"props":1943,"children":1944},{"style":563},[1945],{"type":430,"value":1946},"res15px",{"type":425,"tag":532,"props":1948,"children":1949},{"style":608},[1950],{"type":430,"value":611},{"type":425,"tag":532,"props":1952,"children":1953},{"style":557},[1954],{"type":430,"value":1955},"map",{"type":425,"tag":532,"props":1957,"children":1958},{"style":563},[1959],{"type":430,"value":566},{"type":425,"tag":532,"props":1961,"children":1962},{"style":608},[1963],{"type":430,"value":566},{"type":425,"tag":532,"props":1965,"children":1966},{"style":643},[1967],{"type":430,"value":1968},"x",{"type":425,"tag":532,"props":1970,"children":1971},{"style":608},[1972],{"type":430,"value":1042},{"type":425,"tag":532,"props":1974,"children":1975},{"style":539},[1976],{"type":430,"value":651},{"type":425,"tag":532,"props":1978,"children":1979},{"style":563},[1980],{"type":430,"value":1981}," x",{"type":425,"tag":532,"props":1983,"children":1984},{"style":608},[1985],{"type":430,"value":611},{"type":425,"tag":532,"props":1987,"children":1988},{"style":563},[1989],{"type":430,"value":1990},"diff))",{"type":425,"tag":532,"props":1992,"children":1993},{"style":608},[1994],{"type":430,"value":1651},{"type":425,"tag":532,"props":1996,"children":1997},{"class":534,"line":590},[1998,2002,2007,2011,2015,2019,2024,2028,2032,2036,2040,2044,2048,2052,2057,2062,2067,2071,2075],{"type":425,"tag":532,"props":1999,"children":2000},{"style":539},[2001],{"type":430,"value":542},{"type":425,"tag":532,"props":2003,"children":2004},{"style":545},[2005],{"type":430,"value":2006}," min15pxLeft",{"type":425,"tag":532,"props":2008,"children":2009},{"style":551},[2010],{"type":430,"value":554},{"type":425,"tag":532,"props":2012,"children":2013},{"style":563},[2014],{"type":430,"value":1688},{"type":425,"tag":532,"props":2016,"children":2017},{"style":608},[2018],{"type":430,"value":611},{"type":425,"tag":532,"props":2020,"children":2021},{"style":557},[2022],{"type":430,"value":2023},"find",{"type":425,"tag":532,"props":2025,"children":2026},{"style":563},[2027],{"type":430,"value":566},{"type":425,"tag":532,"props":2029,"children":2030},{"style":608},[2031],{"type":430,"value":566},{"type":425,"tag":532,"props":2033,"children":2034},{"style":643},[2035],{"type":430,"value":1968},{"type":425,"tag":532,"props":2037,"children":2038},{"style":608},[2039],{"type":430,"value":1042},{"type":425,"tag":532,"props":2041,"children":2042},{"style":539},[2043],{"type":430,"value":651},{"type":425,"tag":532,"props":2045,"children":2046},{"style":563},[2047],{"type":430,"value":1981},{"type":425,"tag":532,"props":2049,"children":2050},{"style":608},[2051],{"type":430,"value":611},{"type":425,"tag":532,"props":2053,"children":2054},{"style":563},[2055],{"type":430,"value":2056},"diff ",{"type":425,"tag":532,"props":2058,"children":2059},{"style":551},[2060],{"type":430,"value":2061},"===",{"type":425,"tag":532,"props":2063,"children":2064},{"style":563},[2065],{"type":430,"value":2066}," min15pxDiff)",{"type":425,"tag":532,"props":2068,"children":2069},{"style":608},[2070],{"type":430,"value":611},{"type":425,"tag":532,"props":2072,"children":2073},{"style":563},[2074],{"type":430,"value":1109},{"type":425,"tag":532,"props":2076,"children":2077},{"style":608},[2078],{"type":430,"value":1651},{"type":425,"tag":532,"props":2080,"children":2081},{"class":534,"line":600},[2082],{"type":425,"tag":532,"props":2083,"children":2084},{"emptyLinePlaceholder":594},[2085],{"type":430,"value":597},{"type":425,"tag":532,"props":2087,"children":2088},{"class":534,"line":659},[2089,2094,2098,2103,2108,2113],{"type":425,"tag":532,"props":2090,"children":2091},{"style":563},[2092],{"type":430,"value":2093},"left ",{"type":425,"tag":532,"props":2095,"children":2096},{"style":551},[2097],{"type":430,"value":1641},{"type":425,"tag":532,"props":2099,"children":2100},{"style":563},[2101],{"type":430,"value":2102}," min15pxLeft ",{"type":425,"tag":532,"props":2104,"children":2105},{"style":551},[2106],{"type":430,"value":2107},"-",{"type":425,"tag":532,"props":2109,"children":2110},{"style":1505},[2111],{"type":430,"value":2112}," 12",{"type":425,"tag":532,"props":2114,"children":2115},{"style":608},[2116],{"type":430,"value":1651},{"type":425,"tag":532,"props":2118,"children":2119},{"class":534,"line":702},[2120,2124,2129,2133,2137,2142,2147],{"type":425,"tag":532,"props":2121,"children":2122},{"style":539},[2123],{"type":430,"value":542},{"type":425,"tag":532,"props":2125,"children":2126},{"style":545},[2127],{"type":430,"value":2128}," max2Offset",{"type":425,"tag":532,"props":2130,"children":2131},{"style":551},[2132],{"type":430,"value":554},{"type":425,"tag":532,"props":2134,"children":2135},{"style":563},[2136],{"type":430,"value":2102},{"type":425,"tag":532,"props":2138,"children":2139},{"style":551},[2140],{"type":430,"value":2141},"+",{"type":425,"tag":532,"props":2143,"children":2144},{"style":1505},[2145],{"type":430,"value":2146}," 8",{"type":425,"tag":532,"props":2148,"children":2149},{"style":608},[2150],{"type":430,"value":1651},{"type":425,"tag":532,"props":2152,"children":2153},{"class":534,"line":745},[2154,2158,2163,2167,2171],{"type":425,"tag":532,"props":2155,"children":2156},{"style":539},[2157],{"type":430,"value":542},{"type":425,"tag":532,"props":2159,"children":2160},{"style":545},[2161],{"type":430,"value":2162}," res2px",{"type":425,"tag":532,"props":2164,"children":2165},{"style":551},[2166],{"type":430,"value":554},{"type":425,"tag":532,"props":2168,"children":2169},{"style":563},[2170],{"type":430,"value":1697},{"type":425,"tag":532,"props":2172,"children":2173},{"style":608},[2174],{"type":430,"value":1651},{"type":425,"tag":532,"props":2176,"children":2177},{"class":534,"line":1130},[2178,2182,2186,2190,2195],{"type":425,"tag":532,"props":2179,"children":2180},{"style":677},[2181],{"type":430,"value":946},{"type":425,"tag":532,"props":2183,"children":2184},{"style":563},[2185],{"type":430,"value":951},{"type":425,"tag":532,"props":2187,"children":2188},{"style":551},[2189],{"type":430,"value":956},{"type":425,"tag":532,"props":2191,"children":2192},{"style":563},[2193],{"type":430,"value":2194}," max2Offset) ",{"type":425,"tag":532,"props":2196,"children":2197},{"style":608},[2198],{"type":430,"value":966},{"type":425,"tag":532,"props":2200,"children":2201},{"class":534,"line":1156},[2202,2206,2210,2214,2218,2222],{"type":425,"tag":532,"props":2203,"children":2204},{"style":677},[2205],{"type":430,"value":708},{"type":425,"tag":532,"props":2207,"children":2208},{"style":557},[2209],{"type":430,"value":1737},{"type":425,"tag":532,"props":2211,"children":2212},{"style":696},[2213],{"type":430,"value":566},{"type":425,"tag":532,"props":2215,"children":2216},{"style":563},[2217],{"type":430,"value":1109},{"type":425,"tag":532,"props":2219,"children":2220},{"style":696},[2221],{"type":430,"value":1042},{"type":425,"tag":532,"props":2223,"children":2224},{"style":608},[2225],{"type":430,"value":1651},{"type":425,"tag":532,"props":2227,"children":2228},{"class":534,"line":1164},[2229,2233,2237,2241,2245,2249,2253],{"type":425,"tag":532,"props":2230,"children":2231},{"style":539},[2232],{"type":430,"value":665},{"type":425,"tag":532,"props":2234,"children":2235},{"style":545},[2236],{"type":430,"value":1330},{"type":425,"tag":532,"props":2238,"children":2239},{"style":551},[2240],{"type":430,"value":554},{"type":425,"tag":532,"props":2242,"children":2243},{"style":677},[2244],{"type":430,"value":680},{"type":425,"tag":532,"props":2246,"children":2247},{"style":557},[2248],{"type":430,"value":1777},{"type":425,"tag":532,"props":2250,"children":2251},{"style":696},[2252],{"type":430,"value":621},{"type":425,"tag":532,"props":2254,"children":2255},{"style":608},[2256],{"type":430,"value":1651},{"type":425,"tag":532,"props":2258,"children":2259},{"class":534,"line":1173},[2260,2265,2269,2273,2277],{"type":425,"tag":532,"props":2261,"children":2262},{"style":563},[2263],{"type":430,"value":2264},"  res2px",{"type":425,"tag":532,"props":2266,"children":2267},{"style":608},[2268],{"type":430,"value":611},{"type":425,"tag":532,"props":2270,"children":2271},{"style":557},[2272],{"type":430,"value":1421},{"type":425,"tag":532,"props":2274,"children":2275},{"style":696},[2276],{"type":430,"value":566},{"type":425,"tag":532,"props":2278,"children":2279},{"style":608},[2280],{"type":430,"value":966},{"type":425,"tag":532,"props":2282,"children":2283},{"class":534,"line":1181},[2284,2288],{"type":425,"tag":532,"props":2285,"children":2286},{"style":563},[2287],{"type":430,"value":1438},{"type":425,"tag":532,"props":2289,"children":2290},{"style":608},[2291],{"type":430,"value":1373},{"type":425,"tag":532,"props":2293,"children":2294},{"class":534,"line":1236},[2295,2299,2303,2307,2311,2315],{"type":425,"tag":532,"props":2296,"children":2297},{"style":696},[2298],{"type":430,"value":1451},{"type":425,"tag":532,"props":2300,"children":2301},{"style":608},[2302],{"type":430,"value":1289},{"type":425,"tag":532,"props":2304,"children":2305},{"style":563},[2306],{"type":430,"value":1330},{"type":425,"tag":532,"props":2308,"children":2309},{"style":608},[2310],{"type":430,"value":611},{"type":425,"tag":532,"props":2312,"children":2313},{"style":563},[2314],{"type":430,"value":1844},{"type":425,"tag":532,"props":2316,"children":2317},{"style":608},[2318],{"type":430,"value":1373},{"type":425,"tag":532,"props":2320,"children":2321},{"class":534,"line":1278},[2322,2326,2330],{"type":425,"tag":532,"props":2323,"children":2324},{"style":608},[2325],{"type":430,"value":1313},{"type":425,"tag":532,"props":2327,"children":2328},{"style":696},[2329],{"type":430,"value":1042},{"type":425,"tag":532,"props":2331,"children":2332},{"style":608},[2333],{"type":430,"value":1651},{"type":425,"tag":532,"props":2335,"children":2336},{"class":534,"line":1307},[2337,2341,2345,2350],{"type":425,"tag":532,"props":2338,"children":2339},{"style":563},[2340],{"type":430,"value":1497},{"type":425,"tag":532,"props":2342,"children":2343},{"style":551},[2344],{"type":430,"value":1502},{"type":425,"tag":532,"props":2346,"children":2347},{"style":1505},[2348],{"type":430,"value":2349}," 2",{"type":425,"tag":532,"props":2351,"children":2352},{"style":608},[2353],{"type":430,"value":1651},{"type":425,"tag":532,"props":2355,"children":2356},{"class":534,"line":1320},[2357],{"type":425,"tag":532,"props":2358,"children":2359},{"style":608},[2360],{"type":430,"value":1517},{"type":425,"tag":426,"props":2362,"children":2363},{},[2364],{"type":430,"value":2365},"此时得到的解可以约等于最优解了。当然，如果你觉得不稳的话，还可以使用 1px 步长去找。",{"type":425,"tag":426,"props":2367,"children":2368},{},[2369],{"type":430,"value":2370},"估算一下，原先需要截 245 次图片，现在直接降到 1/10，23 次。不过，也别太高兴，因为测试发现只做优化 2，解验证码的时候还是要 7s...",{"type":425,"tag":464,"props":2372,"children":2374},{"id":2373},"操作鼠标滑滑块",[2375],{"type":430,"value":2373},{"type":425,"tag":426,"props":2377,"children":2378},{},[2379],{"type":430,"value":2380},"缺口位置都搞定了，那移鼠标滑滑块儿还不简单嘛~",{"type":425,"tag":426,"props":2382,"children":2383},{},[2384,2386,2393],{"type":430,"value":2385},"Puppeteer 已经提供了",{"type":425,"tag":433,"props":2387,"children":2390},{"href":2388,"rel":2389},"http://puppeteerjs.com/#?product=Puppeteer&version=v10.2.0&show=api-class-mouse",[437],[2391],{"type":430,"value":2392},"鼠标相关的接口",{"type":430,"value":2394},"，一共四个：mouse.click、mouse.down、mouse.move、mouse.up，分别是点击、按下、移动和松开。使用 mouse.move 可以直接把鼠标位置移动到一个特定的坐标上。假设我们现在从坐标（100,100）花大约 1s 把鼠标移动到 （200,200），可以使用循环实现。",{"type":425,"tag":521,"props":2396,"children":2398},{"className":523,"code":2397,"language":525,"meta":419,"style":419},"const now = {\n  x: 100,\n  y: 100\n}\nconst target = {\n  time: 1000,\n  x: 200,\n  y: 200, \n}\nconst steps = 10\nconst step = {\n  x: Math.floor((target.x - now.x) / steps),\n  y: Math.floor((target.y - now.y) / steps),\n  time: target.time / steps\n}\nwhile (now.x \u003C target.x) {\n  await sleep(step.time)\n  now.x += step.x\n  now.y += step.y\n  await page.mouse.move(now)\n}\n",[2399],{"type":425,"tag":528,"props":2400,"children":2401},{"__ignoreMap":419},[2402,2422,2443,2460,2467,2487,2508,2528,2552,2559,2580,2600,2669,2734,2767,2774,2815,2849,2882,2915,2957],{"type":425,"tag":532,"props":2403,"children":2404},{"class":534,"line":535},[2405,2409,2414,2418],{"type":425,"tag":532,"props":2406,"children":2407},{"style":539},[2408],{"type":430,"value":542},{"type":425,"tag":532,"props":2410,"children":2411},{"style":545},[2412],{"type":430,"value":2413}," now",{"type":425,"tag":532,"props":2415,"children":2416},{"style":551},[2417],{"type":430,"value":554},{"type":425,"tag":532,"props":2419,"children":2420},{"style":608},[2421],{"type":430,"value":656},{"type":425,"tag":532,"props":2423,"children":2424},{"class":534,"line":590},[2425,2430,2434,2439],{"type":425,"tag":532,"props":2426,"children":2427},{"style":696},[2428],{"type":430,"value":2429},"  x",{"type":425,"tag":532,"props":2431,"children":2432},{"style":608},[2433],{"type":430,"value":1289},{"type":425,"tag":532,"props":2435,"children":2436},{"style":1505},[2437],{"type":430,"value":2438}," 100",{"type":425,"tag":532,"props":2440,"children":2441},{"style":608},[2442],{"type":430,"value":1373},{"type":425,"tag":532,"props":2444,"children":2445},{"class":534,"line":600},[2446,2451,2455],{"type":425,"tag":532,"props":2447,"children":2448},{"style":696},[2449],{"type":430,"value":2450},"  y",{"type":425,"tag":532,"props":2452,"children":2453},{"style":608},[2454],{"type":430,"value":1289},{"type":425,"tag":532,"props":2456,"children":2457},{"style":1505},[2458],{"type":430,"value":2459}," 100\n",{"type":425,"tag":532,"props":2461,"children":2462},{"class":534,"line":659},[2463],{"type":425,"tag":532,"props":2464,"children":2465},{"style":608},[2466],{"type":430,"value":1517},{"type":425,"tag":532,"props":2468,"children":2469},{"class":534,"line":702},[2470,2474,2479,2483],{"type":425,"tag":532,"props":2471,"children":2472},{"style":539},[2473],{"type":430,"value":542},{"type":425,"tag":532,"props":2475,"children":2476},{"style":545},[2477],{"type":430,"value":2478}," target",{"type":425,"tag":532,"props":2480,"children":2481},{"style":551},[2482],{"type":430,"value":554},{"type":425,"tag":532,"props":2484,"children":2485},{"style":608},[2486],{"type":430,"value":656},{"type":425,"tag":532,"props":2488,"children":2489},{"class":534,"line":745},[2490,2495,2499,2504],{"type":425,"tag":532,"props":2491,"children":2492},{"style":696},[2493],{"type":430,"value":2494},"  time",{"type":425,"tag":532,"props":2496,"children":2497},{"style":608},[2498],{"type":430,"value":1289},{"type":425,"tag":532,"props":2500,"children":2501},{"style":1505},[2502],{"type":430,"value":2503}," 1000",{"type":425,"tag":532,"props":2505,"children":2506},{"style":608},[2507],{"type":430,"value":1373},{"type":425,"tag":532,"props":2509,"children":2510},{"class":534,"line":1130},[2511,2515,2519,2524],{"type":425,"tag":532,"props":2512,"children":2513},{"style":696},[2514],{"type":430,"value":2429},{"type":425,"tag":532,"props":2516,"children":2517},{"style":608},[2518],{"type":430,"value":1289},{"type":425,"tag":532,"props":2520,"children":2521},{"style":1505},[2522],{"type":430,"value":2523}," 200",{"type":425,"tag":532,"props":2525,"children":2526},{"style":608},[2527],{"type":430,"value":1373},{"type":425,"tag":532,"props":2529,"children":2530},{"class":534,"line":1156},[2531,2535,2539,2543,2547],{"type":425,"tag":532,"props":2532,"children":2533},{"style":696},[2534],{"type":430,"value":2450},{"type":425,"tag":532,"props":2536,"children":2537},{"style":608},[2538],{"type":430,"value":1289},{"type":425,"tag":532,"props":2540,"children":2541},{"style":1505},[2542],{"type":430,"value":2523},{"type":425,"tag":532,"props":2544,"children":2545},{"style":608},[2546],{"type":430,"value":1032},{"type":425,"tag":532,"props":2548,"children":2549},{"style":563},[2550],{"type":430,"value":2551}," \n",{"type":425,"tag":532,"props":2553,"children":2554},{"class":534,"line":1164},[2555],{"type":425,"tag":532,"props":2556,"children":2557},{"style":608},[2558],{"type":430,"value":1517},{"type":425,"tag":532,"props":2560,"children":2561},{"class":534,"line":1173},[2562,2566,2571,2575],{"type":425,"tag":532,"props":2563,"children":2564},{"style":539},[2565],{"type":430,"value":542},{"type":425,"tag":532,"props":2567,"children":2568},{"style":545},[2569],{"type":430,"value":2570}," steps",{"type":425,"tag":532,"props":2572,"children":2573},{"style":551},[2574],{"type":430,"value":554},{"type":425,"tag":532,"props":2576,"children":2577},{"style":1505},[2578],{"type":430,"value":2579}," 10\n",{"type":425,"tag":532,"props":2581,"children":2582},{"class":534,"line":1181},[2583,2587,2592,2596],{"type":425,"tag":532,"props":2584,"children":2585},{"style":539},[2586],{"type":430,"value":542},{"type":425,"tag":532,"props":2588,"children":2589},{"style":545},[2590],{"type":430,"value":2591}," step",{"type":425,"tag":532,"props":2593,"children":2594},{"style":551},[2595],{"type":430,"value":554},{"type":425,"tag":532,"props":2597,"children":2598},{"style":608},[2599],{"type":430,"value":656},{"type":425,"tag":532,"props":2601,"children":2602},{"class":534,"line":1236},[2603,2607,2611,2615,2619,2624,2629,2633,2638,2642,2646,2650,2655,2660,2665],{"type":425,"tag":532,"props":2604,"children":2605},{"style":696},[2606],{"type":430,"value":2429},{"type":425,"tag":532,"props":2608,"children":2609},{"style":608},[2610],{"type":430,"value":1289},{"type":425,"tag":532,"props":2612,"children":2613},{"style":563},[2614],{"type":430,"value":1923},{"type":425,"tag":532,"props":2616,"children":2617},{"style":608},[2618],{"type":430,"value":611},{"type":425,"tag":532,"props":2620,"children":2621},{"style":557},[2622],{"type":430,"value":2623},"floor",{"type":425,"tag":532,"props":2625,"children":2626},{"style":563},[2627],{"type":430,"value":2628},"((target",{"type":425,"tag":532,"props":2630,"children":2631},{"style":608},[2632],{"type":430,"value":611},{"type":425,"tag":532,"props":2634,"children":2635},{"style":563},[2636],{"type":430,"value":2637},"x ",{"type":425,"tag":532,"props":2639,"children":2640},{"style":551},[2641],{"type":430,"value":2107},{"type":425,"tag":532,"props":2643,"children":2644},{"style":563},[2645],{"type":430,"value":2413},{"type":425,"tag":532,"props":2647,"children":2648},{"style":608},[2649],{"type":430,"value":611},{"type":425,"tag":532,"props":2651,"children":2652},{"style":563},[2653],{"type":430,"value":2654},"x) ",{"type":425,"tag":532,"props":2656,"children":2657},{"style":551},[2658],{"type":430,"value":2659},"/",{"type":425,"tag":532,"props":2661,"children":2662},{"style":563},[2663],{"type":430,"value":2664}," steps)",{"type":425,"tag":532,"props":2666,"children":2667},{"style":608},[2668],{"type":430,"value":1373},{"type":425,"tag":532,"props":2670,"children":2671},{"class":534,"line":1278},[2672,2676,2680,2684,2688,2692,2696,2700,2705,2709,2713,2717,2722,2726,2730],{"type":425,"tag":532,"props":2673,"children":2674},{"style":696},[2675],{"type":430,"value":2450},{"type":425,"tag":532,"props":2677,"children":2678},{"style":608},[2679],{"type":430,"value":1289},{"type":425,"tag":532,"props":2681,"children":2682},{"style":563},[2683],{"type":430,"value":1923},{"type":425,"tag":532,"props":2685,"children":2686},{"style":608},[2687],{"type":430,"value":611},{"type":425,"tag":532,"props":2689,"children":2690},{"style":557},[2691],{"type":430,"value":2623},{"type":425,"tag":532,"props":2693,"children":2694},{"style":563},[2695],{"type":430,"value":2628},{"type":425,"tag":532,"props":2697,"children":2698},{"style":608},[2699],{"type":430,"value":611},{"type":425,"tag":532,"props":2701,"children":2702},{"style":563},[2703],{"type":430,"value":2704},"y ",{"type":425,"tag":532,"props":2706,"children":2707},{"style":551},[2708],{"type":430,"value":2107},{"type":425,"tag":532,"props":2710,"children":2711},{"style":563},[2712],{"type":430,"value":2413},{"type":425,"tag":532,"props":2714,"children":2715},{"style":608},[2716],{"type":430,"value":611},{"type":425,"tag":532,"props":2718,"children":2719},{"style":563},[2720],{"type":430,"value":2721},"y) ",{"type":425,"tag":532,"props":2723,"children":2724},{"style":551},[2725],{"type":430,"value":2659},{"type":425,"tag":532,"props":2727,"children":2728},{"style":563},[2729],{"type":430,"value":2664},{"type":425,"tag":532,"props":2731,"children":2732},{"style":608},[2733],{"type":430,"value":1373},{"type":425,"tag":532,"props":2735,"children":2736},{"class":534,"line":1307},[2737,2741,2745,2749,2753,2758,2762],{"type":425,"tag":532,"props":2738,"children":2739},{"style":696},[2740],{"type":430,"value":2494},{"type":425,"tag":532,"props":2742,"children":2743},{"style":608},[2744],{"type":430,"value":1289},{"type":425,"tag":532,"props":2746,"children":2747},{"style":563},[2748],{"type":430,"value":2478},{"type":425,"tag":532,"props":2750,"children":2751},{"style":608},[2752],{"type":430,"value":611},{"type":425,"tag":532,"props":2754,"children":2755},{"style":563},[2756],{"type":430,"value":2757},"time ",{"type":425,"tag":532,"props":2759,"children":2760},{"style":551},[2761],{"type":430,"value":2659},{"type":425,"tag":532,"props":2763,"children":2764},{"style":563},[2765],{"type":430,"value":2766}," steps\n",{"type":425,"tag":532,"props":2768,"children":2769},{"class":534,"line":1320},[2770],{"type":425,"tag":532,"props":2771,"children":2772},{"style":608},[2773],{"type":430,"value":1517},{"type":425,"tag":532,"props":2775,"children":2776},{"class":534,"line":1354},[2777,2781,2786,2790,2794,2799,2803,2807,2811],{"type":425,"tag":532,"props":2778,"children":2779},{"style":677},[2780],{"type":430,"value":946},{"type":425,"tag":532,"props":2782,"children":2783},{"style":563},[2784],{"type":430,"value":2785}," (now",{"type":425,"tag":532,"props":2787,"children":2788},{"style":608},[2789],{"type":430,"value":611},{"type":425,"tag":532,"props":2791,"children":2792},{"style":563},[2793],{"type":430,"value":2637},{"type":425,"tag":532,"props":2795,"children":2796},{"style":551},[2797],{"type":430,"value":2798},"\u003C",{"type":425,"tag":532,"props":2800,"children":2801},{"style":563},[2802],{"type":430,"value":2478},{"type":425,"tag":532,"props":2804,"children":2805},{"style":608},[2806],{"type":430,"value":611},{"type":425,"tag":532,"props":2808,"children":2809},{"style":563},[2810],{"type":430,"value":2654},{"type":425,"tag":532,"props":2812,"children":2813},{"style":608},[2814],{"type":430,"value":966},{"type":425,"tag":532,"props":2816,"children":2817},{"class":534,"line":1376},[2818,2822,2827,2831,2836,2840,2845],{"type":425,"tag":532,"props":2819,"children":2820},{"style":677},[2821],{"type":430,"value":708},{"type":425,"tag":532,"props":2823,"children":2824},{"style":557},[2825],{"type":430,"value":2826}," sleep",{"type":425,"tag":532,"props":2828,"children":2829},{"style":696},[2830],{"type":430,"value":566},{"type":425,"tag":532,"props":2832,"children":2833},{"style":563},[2834],{"type":430,"value":2835},"step",{"type":425,"tag":532,"props":2837,"children":2838},{"style":608},[2839],{"type":430,"value":611},{"type":425,"tag":532,"props":2841,"children":2842},{"style":563},[2843],{"type":430,"value":2844},"time",{"type":425,"tag":532,"props":2846,"children":2847},{"style":696},[2848],{"type":430,"value":587},{"type":425,"tag":532,"props":2850,"children":2851},{"class":534,"line":1394},[2852,2857,2861,2865,2869,2873,2877],{"type":425,"tag":532,"props":2853,"children":2854},{"style":563},[2855],{"type":430,"value":2856},"  now",{"type":425,"tag":532,"props":2858,"children":2859},{"style":608},[2860],{"type":430,"value":611},{"type":425,"tag":532,"props":2862,"children":2863},{"style":563},[2864],{"type":430,"value":1968},{"type":425,"tag":532,"props":2866,"children":2867},{"style":551},[2868],{"type":430,"value":1502},{"type":425,"tag":532,"props":2870,"children":2871},{"style":563},[2872],{"type":430,"value":2591},{"type":425,"tag":532,"props":2874,"children":2875},{"style":608},[2876],{"type":430,"value":611},{"type":425,"tag":532,"props":2878,"children":2879},{"style":563},[2880],{"type":430,"value":2881},"x\n",{"type":425,"tag":532,"props":2883,"children":2884},{"class":534,"line":1406},[2885,2889,2893,2898,2902,2906,2910],{"type":425,"tag":532,"props":2886,"children":2887},{"style":563},[2888],{"type":430,"value":2856},{"type":425,"tag":532,"props":2890,"children":2891},{"style":608},[2892],{"type":430,"value":611},{"type":425,"tag":532,"props":2894,"children":2895},{"style":563},[2896],{"type":430,"value":2897},"y",{"type":425,"tag":532,"props":2899,"children":2900},{"style":551},[2901],{"type":430,"value":1502},{"type":425,"tag":532,"props":2903,"children":2904},{"style":563},[2905],{"type":430,"value":2591},{"type":425,"tag":532,"props":2907,"children":2908},{"style":608},[2909],{"type":430,"value":611},{"type":425,"tag":532,"props":2911,"children":2912},{"style":563},[2913],{"type":430,"value":2914},"y\n",{"type":425,"tag":532,"props":2916,"children":2917},{"class":534,"line":1432},[2918,2922,2926,2930,2935,2939,2944,2948,2953],{"type":425,"tag":532,"props":2919,"children":2920},{"style":677},[2921],{"type":430,"value":708},{"type":425,"tag":532,"props":2923,"children":2924},{"style":563},[2925],{"type":430,"value":670},{"type":425,"tag":532,"props":2927,"children":2928},{"style":608},[2929],{"type":430,"value":611},{"type":425,"tag":532,"props":2931,"children":2932},{"style":563},[2933],{"type":430,"value":2934},"mouse",{"type":425,"tag":532,"props":2936,"children":2937},{"style":608},[2938],{"type":430,"value":611},{"type":425,"tag":532,"props":2940,"children":2941},{"style":557},[2942],{"type":430,"value":2943},"move",{"type":425,"tag":532,"props":2945,"children":2946},{"style":696},[2947],{"type":430,"value":566},{"type":425,"tag":532,"props":2949,"children":2950},{"style":563},[2951],{"type":430,"value":2952},"now",{"type":425,"tag":532,"props":2954,"children":2955},{"style":696},[2956],{"type":430,"value":587},{"type":425,"tag":532,"props":2958,"children":2959},{"class":534,"line":1445},[2960],{"type":425,"tag":532,"props":2961,"children":2962},{"style":608},[2963],{"type":430,"value":1517},{"type":425,"tag":464,"props":2965,"children":2967},{"id":2966},"鼠标轨迹优化",[2968],{"type":430,"value":2966},{"type":425,"tag":426,"props":2970,"children":2971},{},[2972],{"type":430,"value":2973},"害，要是打游戏的时候也像这段代码一样，我想我的手点到哪儿它就点到哪儿就好了~",{"type":425,"tag":426,"props":2975,"children":2976},{},[2977],{"type":430,"value":2978},"机器是不会手抖的，这段代码和真实世界的滑动效果相差太远了！我们看一张我用手滑的效果，尤其是要仔细观察滑动过程中鼠标的位置。",{"type":425,"tag":426,"props":2980,"children":2981},{},[2982],{"type":425,"tag":452,"props":2983,"children":2986},{"alt":2984,"src":2985},"鼠标轨迹不稳定","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/soov8Gny09.gif",[],{"type":425,"tag":2988,"props":2989,"children":2990},"ul",{},[2991,2996],{"type":425,"tag":479,"props":2992,"children":2993},{},[2994],{"type":430,"value":2995},"鼠标 Y 轴位置总是在变",{"type":425,"tag":479,"props":2997,"children":2998},{},[2999],{"type":430,"value":3000},"鼠标 X 轴位置会滑过头（别笑，你肯定也经常划过头）",{"type":425,"tag":426,"props":3002,"children":3003},{},[3004],{"type":430,"value":3005},"这里做一波小优化，把这两个细节整合进去。",{"type":425,"tag":521,"props":3007,"children":3009},{"className":523,"code":3008,"language":525,"meta":419,"style":419},"// 获得一个随机的偏移量\nconst getRandOffset = (randNegative = true, max = 3) => {\n  const negative = randNeagtive\n    ? (Math.random() \u003C 0.5) ? -1 : 1\n    : 1\n  return Math.floor(Math.random() * max) * negative\n}\n\n// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\nconst points = [\n  {\n    time: 1000,\n    x: 200 + getRandOffset(false, 15),\n    y: 200 + getRandOffset(false, 15),\n    steps: 10\n  },\n  {\n    time: 100,\n    x: 200,\n    y: 200,\n    steps: 3\n  }\n]\n\n// 注意这里用 for await 循环把 points 串起来执行\nfor await (const target of points) {\n  const step = {\n    x: Math.floor((target.x - now.x) / target.steps),\n    y: Math.floor((target.y - now.y) / target.steps),\n    time: target.time / target.steps,\n  }\n  let gap\n  while (gap = Math.abs((target.x - now.x)), gap > 0) {\n    await sleep(step.time)\n    // 最后一步就直接滑动到位，不需要随机数了\n    const inOneStep = Math.abs(target.x - now.x) \u003C= Math.abs(step.x);\n    if (inOneStep) {\n      now.x = target.x;\n      now.y = target.y;\n    } else {\n      now.x += step.x + getRandOffset();\n      now.y += step.y + getRandOffset();\n    }\n    moveMouseTo(now)\n  }\n}\n",[3010],{"type":425,"tag":528,"props":3011,"children":3012},{"__ignoreMap":419},[3013,3021,3087,3108,3176,3188,3250,3257,3264,3272,3293,3301,3321,3371,3419,3435,3443,3450,3469,3488,3507,3523,3531,3539,3546,3554,3593,3613,3700,3784,3829,3837,3851,3950,3983,3992,4098,4124,4161,4197,4215,4263,4311,4320,4341,4349],{"type":425,"tag":532,"props":3014,"children":3015},{"class":534,"line":535},[3016],{"type":425,"tag":532,"props":3017,"children":3018},{"style":979},[3019],{"type":430,"value":3020},"// 获得一个随机的偏移量\n",{"type":425,"tag":532,"props":3022,"children":3023},{"class":534,"line":590},[3024,3028,3034,3038,3042,3047,3051,3057,3061,3066,3070,3075,3079,3083],{"type":425,"tag":532,"props":3025,"children":3026},{"style":539},[3027],{"type":430,"value":542},{"type":425,"tag":532,"props":3029,"children":3031},{"style":3030},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3032],{"type":430,"value":3033}," getRandOffset",{"type":425,"tag":532,"props":3035,"children":3036},{"style":551},[3037],{"type":430,"value":554},{"type":425,"tag":532,"props":3039,"children":3040},{"style":608},[3041],{"type":430,"value":1022},{"type":425,"tag":532,"props":3043,"children":3044},{"style":643},[3045],{"type":430,"value":3046},"randNegative",{"type":425,"tag":532,"props":3048,"children":3049},{"style":551},[3050],{"type":430,"value":554},{"type":425,"tag":532,"props":3052,"children":3054},{"style":3053},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3055],{"type":430,"value":3056}," true",{"type":425,"tag":532,"props":3058,"children":3059},{"style":608},[3060],{"type":430,"value":1032},{"type":425,"tag":532,"props":3062,"children":3063},{"style":643},[3064],{"type":430,"value":3065}," max",{"type":425,"tag":532,"props":3067,"children":3068},{"style":551},[3069],{"type":430,"value":554},{"type":425,"tag":532,"props":3071,"children":3072},{"style":1505},[3073],{"type":430,"value":3074}," 3",{"type":425,"tag":532,"props":3076,"children":3077},{"style":608},[3078],{"type":430,"value":1042},{"type":425,"tag":532,"props":3080,"children":3081},{"style":539},[3082],{"type":430,"value":651},{"type":425,"tag":532,"props":3084,"children":3085},{"style":608},[3086],{"type":430,"value":656},{"type":425,"tag":532,"props":3088,"children":3089},{"class":534,"line":600},[3090,3094,3099,3103],{"type":425,"tag":532,"props":3091,"children":3092},{"style":539},[3093],{"type":430,"value":665},{"type":425,"tag":532,"props":3095,"children":3096},{"style":545},[3097],{"type":430,"value":3098}," negative",{"type":425,"tag":532,"props":3100,"children":3101},{"style":551},[3102],{"type":430,"value":554},{"type":425,"tag":532,"props":3104,"children":3105},{"style":563},[3106],{"type":430,"value":3107}," randNeagtive\n",{"type":425,"tag":532,"props":3109,"children":3110},{"class":534,"line":659},[3111,3116,3120,3125,3129,3134,3139,3143,3148,3153,3158,3163,3167,3172],{"type":425,"tag":532,"props":3112,"children":3113},{"style":551},[3114],{"type":430,"value":3115},"    ?",{"type":425,"tag":532,"props":3117,"children":3118},{"style":696},[3119],{"type":430,"value":1022},{"type":425,"tag":532,"props":3121,"children":3122},{"style":563},[3123],{"type":430,"value":3124},"Math",{"type":425,"tag":532,"props":3126,"children":3127},{"style":608},[3128],{"type":430,"value":611},{"type":425,"tag":532,"props":3130,"children":3131},{"style":557},[3132],{"type":430,"value":3133},"random",{"type":425,"tag":532,"props":3135,"children":3136},{"style":696},[3137],{"type":430,"value":3138},"() ",{"type":425,"tag":532,"props":3140,"children":3141},{"style":551},[3142],{"type":430,"value":2798},{"type":425,"tag":532,"props":3144,"children":3145},{"style":1505},[3146],{"type":430,"value":3147}," 0.5",{"type":425,"tag":532,"props":3149,"children":3150},{"style":696},[3151],{"type":430,"value":3152},") ",{"type":425,"tag":532,"props":3154,"children":3155},{"style":551},[3156],{"type":430,"value":3157},"?",{"type":425,"tag":532,"props":3159,"children":3160},{"style":551},[3161],{"type":430,"value":3162}," -",{"type":425,"tag":532,"props":3164,"children":3165},{"style":1505},[3166],{"type":430,"value":852},{"type":425,"tag":532,"props":3168,"children":3169},{"style":551},[3170],{"type":430,"value":3171}," :",{"type":425,"tag":532,"props":3173,"children":3174},{"style":1505},[3175],{"type":430,"value":1508},{"type":425,"tag":532,"props":3177,"children":3178},{"class":534,"line":702},[3179,3184],{"type":425,"tag":532,"props":3180,"children":3181},{"style":551},[3182],{"type":430,"value":3183},"    :",{"type":425,"tag":532,"props":3185,"children":3186},{"style":1505},[3187],{"type":430,"value":1508},{"type":425,"tag":532,"props":3189,"children":3190},{"class":534,"line":745},[3191,3196,3200,3204,3208,3212,3216,3220,3224,3228,3233,3237,3241,3245],{"type":425,"tag":532,"props":3192,"children":3193},{"style":677},[3194],{"type":430,"value":3195},"  return",{"type":425,"tag":532,"props":3197,"children":3198},{"style":563},[3199],{"type":430,"value":1923},{"type":425,"tag":532,"props":3201,"children":3202},{"style":608},[3203],{"type":430,"value":611},{"type":425,"tag":532,"props":3205,"children":3206},{"style":557},[3207],{"type":430,"value":2623},{"type":425,"tag":532,"props":3209,"children":3210},{"style":696},[3211],{"type":430,"value":566},{"type":425,"tag":532,"props":3213,"children":3214},{"style":563},[3215],{"type":430,"value":3124},{"type":425,"tag":532,"props":3217,"children":3218},{"style":608},[3219],{"type":430,"value":611},{"type":425,"tag":532,"props":3221,"children":3222},{"style":557},[3223],{"type":430,"value":3133},{"type":425,"tag":532,"props":3225,"children":3226},{"style":696},[3227],{"type":430,"value":3138},{"type":425,"tag":532,"props":3229,"children":3230},{"style":551},[3231],{"type":430,"value":3232},"*",{"type":425,"tag":532,"props":3234,"children":3235},{"style":563},[3236],{"type":430,"value":3065},{"type":425,"tag":532,"props":3238,"children":3239},{"style":696},[3240],{"type":430,"value":3152},{"type":425,"tag":532,"props":3242,"children":3243},{"style":551},[3244],{"type":430,"value":3232},{"type":425,"tag":532,"props":3246,"children":3247},{"style":563},[3248],{"type":430,"value":3249}," negative\n",{"type":425,"tag":532,"props":3251,"children":3252},{"class":534,"line":1130},[3253],{"type":425,"tag":532,"props":3254,"children":3255},{"style":608},[3256],{"type":430,"value":1517},{"type":425,"tag":532,"props":3258,"children":3259},{"class":534,"line":1156},[3260],{"type":425,"tag":532,"props":3261,"children":3262},{"emptyLinePlaceholder":594},[3263],{"type":430,"value":597},{"type":425,"tag":532,"props":3265,"children":3266},{"class":534,"line":1164},[3267],{"type":425,"tag":532,"props":3268,"children":3269},{"style":979},[3270],{"type":430,"value":3271},"// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\n",{"type":425,"tag":532,"props":3273,"children":3274},{"class":534,"line":1173},[3275,3279,3284,3288],{"type":425,"tag":532,"props":3276,"children":3277},{"style":539},[3278],{"type":430,"value":542},{"type":425,"tag":532,"props":3280,"children":3281},{"style":545},[3282],{"type":430,"value":3283}," points",{"type":425,"tag":532,"props":3285,"children":3286},{"style":551},[3287],{"type":430,"value":554},{"type":425,"tag":532,"props":3289,"children":3290},{"style":563},[3291],{"type":430,"value":3292}," [\n",{"type":425,"tag":532,"props":3294,"children":3295},{"class":534,"line":1181},[3296],{"type":425,"tag":532,"props":3297,"children":3298},{"style":608},[3299],{"type":430,"value":3300},"  {\n",{"type":425,"tag":532,"props":3302,"children":3303},{"class":534,"line":1236},[3304,3309,3313,3317],{"type":425,"tag":532,"props":3305,"children":3306},{"style":696},[3307],{"type":430,"value":3308},"    time",{"type":425,"tag":532,"props":3310,"children":3311},{"style":608},[3312],{"type":430,"value":1289},{"type":425,"tag":532,"props":3314,"children":3315},{"style":1505},[3316],{"type":430,"value":2503},{"type":425,"tag":532,"props":3318,"children":3319},{"style":608},[3320],{"type":430,"value":1373},{"type":425,"tag":532,"props":3322,"children":3323},{"class":534,"line":1278},[3324,3329,3333,3337,3342,3346,3350,3355,3359,3363,3367],{"type":425,"tag":532,"props":3325,"children":3326},{"style":696},[3327],{"type":430,"value":3328},"    x",{"type":425,"tag":532,"props":3330,"children":3331},{"style":608},[3332],{"type":430,"value":1289},{"type":425,"tag":532,"props":3334,"children":3335},{"style":1505},[3336],{"type":430,"value":2523},{"type":425,"tag":532,"props":3338,"children":3339},{"style":551},[3340],{"type":430,"value":3341}," +",{"type":425,"tag":532,"props":3343,"children":3344},{"style":557},[3345],{"type":430,"value":3033},{"type":425,"tag":532,"props":3347,"children":3348},{"style":563},[3349],{"type":430,"value":566},{"type":425,"tag":532,"props":3351,"children":3352},{"style":3053},[3353],{"type":430,"value":3354},"false",{"type":425,"tag":532,"props":3356,"children":3357},{"style":608},[3358],{"type":430,"value":1032},{"type":425,"tag":532,"props":3360,"children":3361},{"style":1505},[3362],{"type":430,"value":1879},{"type":425,"tag":532,"props":3364,"children":3365},{"style":563},[3366],{"type":430,"value":1042},{"type":425,"tag":532,"props":3368,"children":3369},{"style":608},[3370],{"type":430,"value":1373},{"type":425,"tag":532,"props":3372,"children":3373},{"class":534,"line":1307},[3374,3379,3383,3387,3391,3395,3399,3403,3407,3411,3415],{"type":425,"tag":532,"props":3375,"children":3376},{"style":696},[3377],{"type":430,"value":3378},"    y",{"type":425,"tag":532,"props":3380,"children":3381},{"style":608},[3382],{"type":430,"value":1289},{"type":425,"tag":532,"props":3384,"children":3385},{"style":1505},[3386],{"type":430,"value":2523},{"type":425,"tag":532,"props":3388,"children":3389},{"style":551},[3390],{"type":430,"value":3341},{"type":425,"tag":532,"props":3392,"children":3393},{"style":557},[3394],{"type":430,"value":3033},{"type":425,"tag":532,"props":3396,"children":3397},{"style":563},[3398],{"type":430,"value":566},{"type":425,"tag":532,"props":3400,"children":3401},{"style":3053},[3402],{"type":430,"value":3354},{"type":425,"tag":532,"props":3404,"children":3405},{"style":608},[3406],{"type":430,"value":1032},{"type":425,"tag":532,"props":3408,"children":3409},{"style":1505},[3410],{"type":430,"value":1879},{"type":425,"tag":532,"props":3412,"children":3413},{"style":563},[3414],{"type":430,"value":1042},{"type":425,"tag":532,"props":3416,"children":3417},{"style":608},[3418],{"type":430,"value":1373},{"type":425,"tag":532,"props":3420,"children":3421},{"class":534,"line":1320},[3422,3427,3431],{"type":425,"tag":532,"props":3423,"children":3424},{"style":696},[3425],{"type":430,"value":3426},"    steps",{"type":425,"tag":532,"props":3428,"children":3429},{"style":608},[3430],{"type":430,"value":1289},{"type":425,"tag":532,"props":3432,"children":3433},{"style":1505},[3434],{"type":430,"value":2579},{"type":425,"tag":532,"props":3436,"children":3437},{"class":534,"line":1354},[3438],{"type":425,"tag":532,"props":3439,"children":3440},{"style":608},[3441],{"type":430,"value":3442},"  },\n",{"type":425,"tag":532,"props":3444,"children":3445},{"class":534,"line":1376},[3446],{"type":425,"tag":532,"props":3447,"children":3448},{"style":608},[3449],{"type":430,"value":3300},{"type":425,"tag":532,"props":3451,"children":3452},{"class":534,"line":1394},[3453,3457,3461,3465],{"type":425,"tag":532,"props":3454,"children":3455},{"style":696},[3456],{"type":430,"value":3308},{"type":425,"tag":532,"props":3458,"children":3459},{"style":608},[3460],{"type":430,"value":1289},{"type":425,"tag":532,"props":3462,"children":3463},{"style":1505},[3464],{"type":430,"value":2438},{"type":425,"tag":532,"props":3466,"children":3467},{"style":608},[3468],{"type":430,"value":1373},{"type":425,"tag":532,"props":3470,"children":3471},{"class":534,"line":1406},[3472,3476,3480,3484],{"type":425,"tag":532,"props":3473,"children":3474},{"style":696},[3475],{"type":430,"value":3328},{"type":425,"tag":532,"props":3477,"children":3478},{"style":608},[3479],{"type":430,"value":1289},{"type":425,"tag":532,"props":3481,"children":3482},{"style":1505},[3483],{"type":430,"value":2523},{"type":425,"tag":532,"props":3485,"children":3486},{"style":608},[3487],{"type":430,"value":1373},{"type":425,"tag":532,"props":3489,"children":3490},{"class":534,"line":1432},[3491,3495,3499,3503],{"type":425,"tag":532,"props":3492,"children":3493},{"style":696},[3494],{"type":430,"value":3378},{"type":425,"tag":532,"props":3496,"children":3497},{"style":608},[3498],{"type":430,"value":1289},{"type":425,"tag":532,"props":3500,"children":3501},{"style":1505},[3502],{"type":430,"value":2523},{"type":425,"tag":532,"props":3504,"children":3505},{"style":608},[3506],{"type":430,"value":1373},{"type":425,"tag":532,"props":3508,"children":3509},{"class":534,"line":1445},[3510,3514,3518],{"type":425,"tag":532,"props":3511,"children":3512},{"style":696},[3513],{"type":430,"value":3426},{"type":425,"tag":532,"props":3515,"children":3516},{"style":608},[3517],{"type":430,"value":1289},{"type":425,"tag":532,"props":3519,"children":3520},{"style":1505},[3521],{"type":430,"value":3522}," 3\n",{"type":425,"tag":532,"props":3524,"children":3525},{"class":534,"line":1471},[3526],{"type":425,"tag":532,"props":3527,"children":3528},{"style":608},[3529],{"type":430,"value":3530},"  }\n",{"type":425,"tag":532,"props":3532,"children":3533},{"class":534,"line":1483},[3534],{"type":425,"tag":532,"props":3535,"children":3536},{"style":563},[3537],{"type":430,"value":3538},"]\n",{"type":425,"tag":532,"props":3540,"children":3541},{"class":534,"line":1491},[3542],{"type":425,"tag":532,"props":3543,"children":3544},{"emptyLinePlaceholder":594},[3545],{"type":430,"value":597},{"type":425,"tag":532,"props":3547,"children":3548},{"class":534,"line":1511},[3549],{"type":425,"tag":532,"props":3550,"children":3551},{"style":979},[3552],{"type":430,"value":3553},"// 注意这里用 for await 循环把 points 串起来执行\n",{"type":425,"tag":532,"props":3555,"children":3557},{"class":534,"line":3556},26,[3558,3563,3567,3571,3575,3579,3584,3589],{"type":425,"tag":532,"props":3559,"children":3560},{"style":677},[3561],{"type":430,"value":3562},"for",{"type":425,"tag":532,"props":3564,"children":3565},{"style":677},[3566],{"type":430,"value":680},{"type":425,"tag":532,"props":3568,"children":3569},{"style":563},[3570],{"type":430,"value":1022},{"type":425,"tag":532,"props":3572,"children":3573},{"style":539},[3574],{"type":430,"value":542},{"type":425,"tag":532,"props":3576,"children":3577},{"style":545},[3578],{"type":430,"value":2478},{"type":425,"tag":532,"props":3580,"children":3581},{"style":551},[3582],{"type":430,"value":3583}," of",{"type":425,"tag":532,"props":3585,"children":3586},{"style":563},[3587],{"type":430,"value":3588}," points) ",{"type":425,"tag":532,"props":3590,"children":3591},{"style":608},[3592],{"type":430,"value":966},{"type":425,"tag":532,"props":3594,"children":3596},{"class":534,"line":3595},27,[3597,3601,3605,3609],{"type":425,"tag":532,"props":3598,"children":3599},{"style":539},[3600],{"type":430,"value":665},{"type":425,"tag":532,"props":3602,"children":3603},{"style":545},[3604],{"type":430,"value":2591},{"type":425,"tag":532,"props":3606,"children":3607},{"style":551},[3608],{"type":430,"value":554},{"type":425,"tag":532,"props":3610,"children":3611},{"style":608},[3612],{"type":430,"value":656},{"type":425,"tag":532,"props":3614,"children":3616},{"class":534,"line":3615},28,[3617,3621,3625,3629,3633,3637,3642,3647,3651,3655,3659,3663,3667,3671,3675,3679,3683,3687,3692,3696],{"type":425,"tag":532,"props":3618,"children":3619},{"style":696},[3620],{"type":430,"value":3328},{"type":425,"tag":532,"props":3622,"children":3623},{"style":608},[3624],{"type":430,"value":1289},{"type":425,"tag":532,"props":3626,"children":3627},{"style":563},[3628],{"type":430,"value":1923},{"type":425,"tag":532,"props":3630,"children":3631},{"style":608},[3632],{"type":430,"value":611},{"type":425,"tag":532,"props":3634,"children":3635},{"style":557},[3636],{"type":430,"value":2623},{"type":425,"tag":532,"props":3638,"children":3639},{"style":696},[3640],{"type":430,"value":3641},"((",{"type":425,"tag":532,"props":3643,"children":3644},{"style":563},[3645],{"type":430,"value":3646},"target",{"type":425,"tag":532,"props":3648,"children":3649},{"style":608},[3650],{"type":430,"value":611},{"type":425,"tag":532,"props":3652,"children":3653},{"style":563},[3654],{"type":430,"value":1968},{"type":425,"tag":532,"props":3656,"children":3657},{"style":551},[3658],{"type":430,"value":3162},{"type":425,"tag":532,"props":3660,"children":3661},{"style":563},[3662],{"type":430,"value":2413},{"type":425,"tag":532,"props":3664,"children":3665},{"style":608},[3666],{"type":430,"value":611},{"type":425,"tag":532,"props":3668,"children":3669},{"style":563},[3670],{"type":430,"value":1968},{"type":425,"tag":532,"props":3672,"children":3673},{"style":696},[3674],{"type":430,"value":3152},{"type":425,"tag":532,"props":3676,"children":3677},{"style":551},[3678],{"type":430,"value":2659},{"type":425,"tag":532,"props":3680,"children":3681},{"style":563},[3682],{"type":430,"value":2478},{"type":425,"tag":532,"props":3684,"children":3685},{"style":608},[3686],{"type":430,"value":611},{"type":425,"tag":532,"props":3688,"children":3689},{"style":563},[3690],{"type":430,"value":3691},"steps",{"type":425,"tag":532,"props":3693,"children":3694},{"style":696},[3695],{"type":430,"value":1042},{"type":425,"tag":532,"props":3697,"children":3698},{"style":608},[3699],{"type":430,"value":1373},{"type":425,"tag":532,"props":3701,"children":3703},{"class":534,"line":3702},29,[3704,3708,3712,3716,3720,3724,3728,3732,3736,3740,3744,3748,3752,3756,3760,3764,3768,3772,3776,3780],{"type":425,"tag":532,"props":3705,"children":3706},{"style":696},[3707],{"type":430,"value":3378},{"type":425,"tag":532,"props":3709,"children":3710},{"style":608},[3711],{"type":430,"value":1289},{"type":425,"tag":532,"props":3713,"children":3714},{"style":563},[3715],{"type":430,"value":1923},{"type":425,"tag":532,"props":3717,"children":3718},{"style":608},[3719],{"type":430,"value":611},{"type":425,"tag":532,"props":3721,"children":3722},{"style":557},[3723],{"type":430,"value":2623},{"type":425,"tag":532,"props":3725,"children":3726},{"style":696},[3727],{"type":430,"value":3641},{"type":425,"tag":532,"props":3729,"children":3730},{"style":563},[3731],{"type":430,"value":3646},{"type":425,"tag":532,"props":3733,"children":3734},{"style":608},[3735],{"type":430,"value":611},{"type":425,"tag":532,"props":3737,"children":3738},{"style":563},[3739],{"type":430,"value":2897},{"type":425,"tag":532,"props":3741,"children":3742},{"style":551},[3743],{"type":430,"value":3162},{"type":425,"tag":532,"props":3745,"children":3746},{"style":563},[3747],{"type":430,"value":2413},{"type":425,"tag":532,"props":3749,"children":3750},{"style":608},[3751],{"type":430,"value":611},{"type":425,"tag":532,"props":3753,"children":3754},{"style":563},[3755],{"type":430,"value":2897},{"type":425,"tag":532,"props":3757,"children":3758},{"style":696},[3759],{"type":430,"value":3152},{"type":425,"tag":532,"props":3761,"children":3762},{"style":551},[3763],{"type":430,"value":2659},{"type":425,"tag":532,"props":3765,"children":3766},{"style":563},[3767],{"type":430,"value":2478},{"type":425,"tag":532,"props":3769,"children":3770},{"style":608},[3771],{"type":430,"value":611},{"type":425,"tag":532,"props":3773,"children":3774},{"style":563},[3775],{"type":430,"value":3691},{"type":425,"tag":532,"props":3777,"children":3778},{"style":696},[3779],{"type":430,"value":1042},{"type":425,"tag":532,"props":3781,"children":3782},{"style":608},[3783],{"type":430,"value":1373},{"type":425,"tag":532,"props":3785,"children":3787},{"class":534,"line":3786},30,[3788,3792,3796,3800,3804,3808,3813,3817,3821,3825],{"type":425,"tag":532,"props":3789,"children":3790},{"style":696},[3791],{"type":430,"value":3308},{"type":425,"tag":532,"props":3793,"children":3794},{"style":608},[3795],{"type":430,"value":1289},{"type":425,"tag":532,"props":3797,"children":3798},{"style":563},[3799],{"type":430,"value":2478},{"type":425,"tag":532,"props":3801,"children":3802},{"style":608},[3803],{"type":430,"value":611},{"type":425,"tag":532,"props":3805,"children":3806},{"style":563},[3807],{"type":430,"value":2844},{"type":425,"tag":532,"props":3809,"children":3810},{"style":551},[3811],{"type":430,"value":3812}," /",{"type":425,"tag":532,"props":3814,"children":3815},{"style":563},[3816],{"type":430,"value":2478},{"type":425,"tag":532,"props":3818,"children":3819},{"style":608},[3820],{"type":430,"value":611},{"type":425,"tag":532,"props":3822,"children":3823},{"style":563},[3824],{"type":430,"value":3691},{"type":425,"tag":532,"props":3826,"children":3827},{"style":608},[3828],{"type":430,"value":1373},{"type":425,"tag":532,"props":3830,"children":3832},{"class":534,"line":3831},31,[3833],{"type":425,"tag":532,"props":3834,"children":3835},{"style":608},[3836],{"type":430,"value":3530},{"type":425,"tag":532,"props":3838,"children":3840},{"class":534,"line":3839},32,[3841,3846],{"type":425,"tag":532,"props":3842,"children":3843},{"style":539},[3844],{"type":430,"value":3845},"  let",{"type":425,"tag":532,"props":3847,"children":3848},{"style":563},[3849],{"type":430,"value":3850}," gap\n",{"type":425,"tag":532,"props":3852,"children":3854},{"class":534,"line":3853},33,[3855,3860,3864,3869,3873,3877,3881,3886,3890,3894,3898,3902,3906,3910,3914,3918,3923,3927,3932,3937,3942,3946],{"type":425,"tag":532,"props":3856,"children":3857},{"style":677},[3858],{"type":430,"value":3859},"  while",{"type":425,"tag":532,"props":3861,"children":3862},{"style":696},[3863],{"type":430,"value":1022},{"type":425,"tag":532,"props":3865,"children":3866},{"style":563},[3867],{"type":430,"value":3868},"gap",{"type":425,"tag":532,"props":3870,"children":3871},{"style":551},[3872],{"type":430,"value":554},{"type":425,"tag":532,"props":3874,"children":3875},{"style":563},[3876],{"type":430,"value":1923},{"type":425,"tag":532,"props":3878,"children":3879},{"style":608},[3880],{"type":430,"value":611},{"type":425,"tag":532,"props":3882,"children":3883},{"style":557},[3884],{"type":430,"value":3885},"abs",{"type":425,"tag":532,"props":3887,"children":3888},{"style":696},[3889],{"type":430,"value":3641},{"type":425,"tag":532,"props":3891,"children":3892},{"style":563},[3893],{"type":430,"value":3646},{"type":425,"tag":532,"props":3895,"children":3896},{"style":608},[3897],{"type":430,"value":611},{"type":425,"tag":532,"props":3899,"children":3900},{"style":563},[3901],{"type":430,"value":1968},{"type":425,"tag":532,"props":3903,"children":3904},{"style":551},[3905],{"type":430,"value":3162},{"type":425,"tag":532,"props":3907,"children":3908},{"style":563},[3909],{"type":430,"value":2413},{"type":425,"tag":532,"props":3911,"children":3912},{"style":608},[3913],{"type":430,"value":611},{"type":425,"tag":532,"props":3915,"children":3916},{"style":563},[3917],{"type":430,"value":1968},{"type":425,"tag":532,"props":3919,"children":3920},{"style":696},[3921],{"type":430,"value":3922},"))",{"type":425,"tag":532,"props":3924,"children":3925},{"style":608},[3926],{"type":430,"value":1032},{"type":425,"tag":532,"props":3928,"children":3929},{"style":563},[3930],{"type":430,"value":3931}," gap",{"type":425,"tag":532,"props":3933,"children":3934},{"style":551},[3935],{"type":430,"value":3936}," >",{"type":425,"tag":532,"props":3938,"children":3939},{"style":1505},[3940],{"type":430,"value":3941}," 0",{"type":425,"tag":532,"props":3943,"children":3944},{"style":696},[3945],{"type":430,"value":3152},{"type":425,"tag":532,"props":3947,"children":3948},{"style":608},[3949],{"type":430,"value":966},{"type":425,"tag":532,"props":3951,"children":3953},{"class":534,"line":3952},34,[3954,3959,3963,3967,3971,3975,3979],{"type":425,"tag":532,"props":3955,"children":3956},{"style":677},[3957],{"type":430,"value":3958},"    await",{"type":425,"tag":532,"props":3960,"children":3961},{"style":557},[3962],{"type":430,"value":2826},{"type":425,"tag":532,"props":3964,"children":3965},{"style":696},[3966],{"type":430,"value":566},{"type":425,"tag":532,"props":3968,"children":3969},{"style":563},[3970],{"type":430,"value":2835},{"type":425,"tag":532,"props":3972,"children":3973},{"style":608},[3974],{"type":430,"value":611},{"type":425,"tag":532,"props":3976,"children":3977},{"style":563},[3978],{"type":430,"value":2844},{"type":425,"tag":532,"props":3980,"children":3981},{"style":696},[3982],{"type":430,"value":587},{"type":425,"tag":532,"props":3984,"children":3986},{"class":534,"line":3985},35,[3987],{"type":425,"tag":532,"props":3988,"children":3989},{"style":979},[3990],{"type":430,"value":3991},"    // 最后一步就直接滑动到位，不需要随机数了\n",{"type":425,"tag":532,"props":3993,"children":3995},{"class":534,"line":3994},36,[3996,4001,4006,4010,4014,4018,4022,4026,4030,4034,4038,4042,4046,4050,4054,4058,4062,4066,4070,4074,4078,4082,4086,4090,4094],{"type":425,"tag":532,"props":3997,"children":3998},{"style":539},[3999],{"type":430,"value":4000},"    const",{"type":425,"tag":532,"props":4002,"children":4003},{"style":545},[4004],{"type":430,"value":4005}," inOneStep",{"type":425,"tag":532,"props":4007,"children":4008},{"style":551},[4009],{"type":430,"value":554},{"type":425,"tag":532,"props":4011,"children":4012},{"style":563},[4013],{"type":430,"value":1923},{"type":425,"tag":532,"props":4015,"children":4016},{"style":608},[4017],{"type":430,"value":611},{"type":425,"tag":532,"props":4019,"children":4020},{"style":557},[4021],{"type":430,"value":3885},{"type":425,"tag":532,"props":4023,"children":4024},{"style":696},[4025],{"type":430,"value":566},{"type":425,"tag":532,"props":4027,"children":4028},{"style":563},[4029],{"type":430,"value":3646},{"type":425,"tag":532,"props":4031,"children":4032},{"style":608},[4033],{"type":430,"value":611},{"type":425,"tag":532,"props":4035,"children":4036},{"style":563},[4037],{"type":430,"value":1968},{"type":425,"tag":532,"props":4039,"children":4040},{"style":551},[4041],{"type":430,"value":3162},{"type":425,"tag":532,"props":4043,"children":4044},{"style":563},[4045],{"type":430,"value":2413},{"type":425,"tag":532,"props":4047,"children":4048},{"style":608},[4049],{"type":430,"value":611},{"type":425,"tag":532,"props":4051,"children":4052},{"style":563},[4053],{"type":430,"value":1968},{"type":425,"tag":532,"props":4055,"children":4056},{"style":696},[4057],{"type":430,"value":3152},{"type":425,"tag":532,"props":4059,"children":4060},{"style":551},[4061],{"type":430,"value":956},{"type":425,"tag":532,"props":4063,"children":4064},{"style":563},[4065],{"type":430,"value":1923},{"type":425,"tag":532,"props":4067,"children":4068},{"style":608},[4069],{"type":430,"value":611},{"type":425,"tag":532,"props":4071,"children":4072},{"style":557},[4073],{"type":430,"value":3885},{"type":425,"tag":532,"props":4075,"children":4076},{"style":696},[4077],{"type":430,"value":566},{"type":425,"tag":532,"props":4079,"children":4080},{"style":563},[4081],{"type":430,"value":2835},{"type":425,"tag":532,"props":4083,"children":4084},{"style":608},[4085],{"type":430,"value":611},{"type":425,"tag":532,"props":4087,"children":4088},{"style":563},[4089],{"type":430,"value":1968},{"type":425,"tag":532,"props":4091,"children":4092},{"style":696},[4093],{"type":430,"value":1042},{"type":425,"tag":532,"props":4095,"children":4096},{"style":608},[4097],{"type":430,"value":1651},{"type":425,"tag":532,"props":4099,"children":4101},{"class":534,"line":4100},37,[4102,4107,4111,4116,4120],{"type":425,"tag":532,"props":4103,"children":4104},{"style":677},[4105],{"type":430,"value":4106},"    if",{"type":425,"tag":532,"props":4108,"children":4109},{"style":696},[4110],{"type":430,"value":1022},{"type":425,"tag":532,"props":4112,"children":4113},{"style":563},[4114],{"type":430,"value":4115},"inOneStep",{"type":425,"tag":532,"props":4117,"children":4118},{"style":696},[4119],{"type":430,"value":3152},{"type":425,"tag":532,"props":4121,"children":4122},{"style":608},[4123],{"type":430,"value":966},{"type":425,"tag":532,"props":4125,"children":4127},{"class":534,"line":4126},38,[4128,4133,4137,4141,4145,4149,4153,4157],{"type":425,"tag":532,"props":4129,"children":4130},{"style":563},[4131],{"type":430,"value":4132},"      now",{"type":425,"tag":532,"props":4134,"children":4135},{"style":608},[4136],{"type":430,"value":611},{"type":425,"tag":532,"props":4138,"children":4139},{"style":563},[4140],{"type":430,"value":1968},{"type":425,"tag":532,"props":4142,"children":4143},{"style":551},[4144],{"type":430,"value":554},{"type":425,"tag":532,"props":4146,"children":4147},{"style":563},[4148],{"type":430,"value":2478},{"type":425,"tag":532,"props":4150,"children":4151},{"style":608},[4152],{"type":430,"value":611},{"type":425,"tag":532,"props":4154,"children":4155},{"style":563},[4156],{"type":430,"value":1968},{"type":425,"tag":532,"props":4158,"children":4159},{"style":608},[4160],{"type":430,"value":1651},{"type":425,"tag":532,"props":4162,"children":4164},{"class":534,"line":4163},39,[4165,4169,4173,4177,4181,4185,4189,4193],{"type":425,"tag":532,"props":4166,"children":4167},{"style":563},[4168],{"type":430,"value":4132},{"type":425,"tag":532,"props":4170,"children":4171},{"style":608},[4172],{"type":430,"value":611},{"type":425,"tag":532,"props":4174,"children":4175},{"style":563},[4176],{"type":430,"value":2897},{"type":425,"tag":532,"props":4178,"children":4179},{"style":551},[4180],{"type":430,"value":554},{"type":425,"tag":532,"props":4182,"children":4183},{"style":563},[4184],{"type":430,"value":2478},{"type":425,"tag":532,"props":4186,"children":4187},{"style":608},[4188],{"type":430,"value":611},{"type":425,"tag":532,"props":4190,"children":4191},{"style":563},[4192],{"type":430,"value":2897},{"type":425,"tag":532,"props":4194,"children":4195},{"style":608},[4196],{"type":430,"value":1651},{"type":425,"tag":532,"props":4198,"children":4200},{"class":534,"line":4199},40,[4201,4206,4211],{"type":425,"tag":532,"props":4202,"children":4203},{"style":608},[4204],{"type":430,"value":4205},"    }",{"type":425,"tag":532,"props":4207,"children":4208},{"style":677},[4209],{"type":430,"value":4210}," else",{"type":425,"tag":532,"props":4212,"children":4213},{"style":608},[4214],{"type":430,"value":656},{"type":425,"tag":532,"props":4216,"children":4218},{"class":534,"line":4217},41,[4219,4223,4227,4231,4235,4239,4243,4247,4251,4255,4259],{"type":425,"tag":532,"props":4220,"children":4221},{"style":563},[4222],{"type":430,"value":4132},{"type":425,"tag":532,"props":4224,"children":4225},{"style":608},[4226],{"type":430,"value":611},{"type":425,"tag":532,"props":4228,"children":4229},{"style":563},[4230],{"type":430,"value":1968},{"type":425,"tag":532,"props":4232,"children":4233},{"style":551},[4234],{"type":430,"value":1502},{"type":425,"tag":532,"props":4236,"children":4237},{"style":563},[4238],{"type":430,"value":2591},{"type":425,"tag":532,"props":4240,"children":4241},{"style":608},[4242],{"type":430,"value":611},{"type":425,"tag":532,"props":4244,"children":4245},{"style":563},[4246],{"type":430,"value":1968},{"type":425,"tag":532,"props":4248,"children":4249},{"style":551},[4250],{"type":430,"value":3341},{"type":425,"tag":532,"props":4252,"children":4253},{"style":557},[4254],{"type":430,"value":3033},{"type":425,"tag":532,"props":4256,"children":4257},{"style":696},[4258],{"type":430,"value":621},{"type":425,"tag":532,"props":4260,"children":4261},{"style":608},[4262],{"type":430,"value":1651},{"type":425,"tag":532,"props":4264,"children":4266},{"class":534,"line":4265},42,[4267,4271,4275,4279,4283,4287,4291,4295,4299,4303,4307],{"type":425,"tag":532,"props":4268,"children":4269},{"style":563},[4270],{"type":430,"value":4132},{"type":425,"tag":532,"props":4272,"children":4273},{"style":608},[4274],{"type":430,"value":611},{"type":425,"tag":532,"props":4276,"children":4277},{"style":563},[4278],{"type":430,"value":2897},{"type":425,"tag":532,"props":4280,"children":4281},{"style":551},[4282],{"type":430,"value":1502},{"type":425,"tag":532,"props":4284,"children":4285},{"style":563},[4286],{"type":430,"value":2591},{"type":425,"tag":532,"props":4288,"children":4289},{"style":608},[4290],{"type":430,"value":611},{"type":425,"tag":532,"props":4292,"children":4293},{"style":563},[4294],{"type":430,"value":2897},{"type":425,"tag":532,"props":4296,"children":4297},{"style":551},[4298],{"type":430,"value":3341},{"type":425,"tag":532,"props":4300,"children":4301},{"style":557},[4302],{"type":430,"value":3033},{"type":425,"tag":532,"props":4304,"children":4305},{"style":696},[4306],{"type":430,"value":621},{"type":425,"tag":532,"props":4308,"children":4309},{"style":608},[4310],{"type":430,"value":1651},{"type":425,"tag":532,"props":4312,"children":4314},{"class":534,"line":4313},43,[4315],{"type":425,"tag":532,"props":4316,"children":4317},{"style":608},[4318],{"type":430,"value":4319},"    }\n",{"type":425,"tag":532,"props":4321,"children":4323},{"class":534,"line":4322},44,[4324,4329,4333,4337],{"type":425,"tag":532,"props":4325,"children":4326},{"style":557},[4327],{"type":430,"value":4328},"    moveMouseTo",{"type":425,"tag":532,"props":4330,"children":4331},{"style":696},[4332],{"type":430,"value":566},{"type":425,"tag":532,"props":4334,"children":4335},{"style":563},[4336],{"type":430,"value":2952},{"type":425,"tag":532,"props":4338,"children":4339},{"style":696},[4340],{"type":430,"value":587},{"type":425,"tag":532,"props":4342,"children":4344},{"class":534,"line":4343},45,[4345],{"type":425,"tag":532,"props":4346,"children":4347},{"style":608},[4348],{"type":430,"value":3530},{"type":425,"tag":532,"props":4350,"children":4352},{"class":534,"line":4351},46,[4353],{"type":425,"tag":532,"props":4354,"children":4355},{"style":608},[4356],{"type":430,"value":1517},{"type":425,"tag":426,"props":4358,"children":4359},{},[4360],{"type":430,"value":4361},"如何移动鼠标到这里就解决了，如果要考虑加速度、用户习惯等因素，代码会复杂许多，暂时就不深入讨论啦，有兴趣的同学可以自己研究。",{"type":425,"tag":426,"props":4363,"children":4364},{},[4365],{"type":430,"value":4366},"最终效果见下图。",{"type":425,"tag":426,"props":4368,"children":4369},{},[4370],{"type":425,"tag":452,"props":4371,"children":4372},{"alt":454,"src":455},[],{"type":425,"tag":426,"props":4374,"children":4375},{},[4376,4378,4385],{"type":430,"value":4377},"源码地址在此：",{"type":425,"tag":433,"props":4379,"children":4382},{"href":4380,"rel":4381},"https://github.com/Lionad-Morotar/crack-the-shield/tree/master/tasks/dooring-slider",[437],[4383],{"type":430,"value":4384},"CrackTheShield",{"type":430,"value":854},{"type":425,"tag":458,"props":4387,"children":4389},{"id":4388},"阅读更多",[4390],{"type":430,"value":4388},{"type":425,"tag":2988,"props":4392,"children":4393},{},[4394,4406],{"type":425,"tag":479,"props":4395,"children":4396},{},[4397,4404],{"type":425,"tag":433,"props":4398,"children":4401},{"href":4399,"rel":4400},"https://juejin.cn/post/6945336161468416037",[437],[4402],{"type":430,"value":4403},"《Python爬虫的实际运用之：破解滑动验证码》",{"type":430,"value":4405},"，这个老哥用了图像边缘检测的方法来判断缺口所在位置。",{"type":425,"tag":479,"props":4407,"children":4408},{},[4409,4416],{"type":425,"tag":433,"props":4410,"children":4413},{"href":4411,"rel":4412},"https://juejin.cn/post/6844903679808520205",[437],[4414],{"type":430,"value":4415},"《震惊! 滑动验证码竟然能这样破解》",{"type":430,"value":4417},"，这个老哥用了一种看谁脸黑的办法来判断图片的缺口所在位置。",{"type":425,"tag":4419,"props":4420,"children":4423},"section",{"className":4421,"dataFootnotes":419},[4422],"footnotes",[4424,4431],{"type":425,"tag":458,"props":4425,"children":4428},{"className":4426,"id":848},[4427],"sr-only",[4429],{"type":430,"value":4430},"Footnotes",{"type":425,"tag":475,"props":4432,"children":4433},{},[4434],{"type":425,"tag":479,"props":4435,"children":4437},{"id":4436},"user-content-fn-alimagic",[4438,4445,4447],{"type":425,"tag":433,"props":4439,"children":4442},{"href":4440,"rel":4441},"https://vision.aliyun.com/experience/detail",[437],[4443],{"type":430,"value":4444},"测试地址",{"type":430,"value":4446}," ",{"type":425,"tag":433,"props":4448,"children":4453},{"href":4449,"ariaLabel":4450,"className":4451,"dataFootnoteBackref":419},"#user-content-fnref-alimagic","Back to reference 1",[4452],"data-footnote-backref",[4454],{"type":430,"value":4455},"↩",{"type":425,"tag":1080,"props":4457,"children":4458},{},[4459],{"type":430,"value":4460},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":419,"searchDepth":590,"depth":590,"links":4462},[4463,4470,4471],{"id":460,"depth":590,"text":460,"children":4464},[4465,4466,4467,4468,4469],{"id":466,"depth":600,"text":466},{"id":819,"depth":600,"text":819},{"id":1560,"depth":600,"text":1560},{"id":2373,"depth":600,"text":2373},{"id":2966,"depth":600,"text":2966},{"id":4388,"depth":590,"text":4388},{"id":848,"depth":590,"text":4430},"markdown","content:2.articles:1105.crack-the-slider.md","content","2.articles/1105.crack-the-slider.md","2.articles/1105.crack-the-slider","md",[4479,4481],{"_path":58,"title":57,"description":4480},"使用 element-plus 内的层级管理器可以解决多组件库间层级不统一的问题",{"_path":64,"title":63,"description":4482},"本文介绍了几种通过CSS实现的常见阴影效果如单侧投影、空心投影、投影动画、彩色阴影、长投影和倒影，以及尝试使用SVG模拟材质特性如粗糙度及光学效应如菲尼尔效应生成了几种特殊的纹理，最后通过一个CSS绘制真实书本案例介绍了实战中的一些细节。",1735922143745]