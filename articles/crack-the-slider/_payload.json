[{"data":1,"prerenderedAt":4477},["ShallowReactive",2],{"navigation":3,"/articles/crack-the-slider":410,"/articles/crack-the-slider-surround":4472},[4,32,83,102,129,135,141,147,393,399,405],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96,99],{"title":88,"_path":89},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":91,"_path":92},"🌐 AnySort","/tools/anysort",{"title":94,"_path":95},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":97,"_path":98},"👓 Crapto","/tools/crypto-inline",{"title":100,"_path":101},"🖨️ any-to-base64","/tools/any-to-base64",{"title":103,"_path":104,"children":105},"吉他剧场 / Music","/music",[106,108,111,114,117,120,123,126],{"title":107,"_path":104},"🎸 FingerStyle！",{"title":109,"_path":110},"🌬️ 等待的风","/music/wind",{"title":112,"_path":113},"💕 约定的海洋","/music/ocean",{"title":115,"_path":116},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":118,"_path":119},"🌏 残酷天使的行动纲领","/music/eva",{"title":121,"_path":122},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":124,"_path":125},"🍷 Wu Wei","/music/wu-wei",{"title":127,"_path":128},"🌅 无题","/music/untitled",{"title":130,"_path":131,"children":132},"画点什么 / Paint","/paint",[133],{"title":134,"_path":131},"🚧 正在施工",{"title":136,"_path":137,"children":138},"读书笔记 / Notes","/books",[139],{"title":140,"_path":137},"📕 读书笔记",{"title":142,"_path":143,"children":144},"知识地图 / Maps","/maps",[145],{"title":146,"_path":143},"🏁 知识地图",{"title":148,"_path":149,"children":150},"零散的笔记 / Gists","/gists",[151,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390],{"title":152,"_path":149},"🧊 Gists",{"title":154,"_path":155},"网站的可访问性","/gists/accessibility",{"title":157,"_path":158},"Bit","/gists/bit",{"title":160,"_path":161},"图片模糊","/gists/blur",{"title":163,"_path":164},"渲染相关笔记","/gists/c4d",{"title":166,"_path":167},"CDN 问题记录","/gists/cdn",{"title":169,"_path":170},"消毒剂","/gists/cleaner",{"title":172,"_path":173},"Windows Command","/gists/cmd",{"title":175,"_path":176},"Command","/gists/command",{"title":178,"_path":179},"复杂科学","/gists/complexity-science",{"title":181,"_path":182},"GitHub Copilot","/gists/copilot",{"title":184,"_path":185},"宇宙","/gists/cosmos",{"title":187,"_path":188},"C++","/gists/cpp",{"title":190,"_path":191},"Data Structure","/gists/data-structure",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"设计模式","/gists/design-patterns",{"title":199,"_path":200},"Developer Experience","/gists/developer-experience",{"title":202,"_path":203},"Device Metrics","/gists/device-metrix",{"title":205,"_path":206},"数字化转型","/gists/digital-transformation",{"title":208,"_path":209},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":211,"_path":212},"正则表达式","/gists/eegex",{"title":214,"_path":215},"Emoji","/gists/emoji",{"title":217,"_path":218},"工程","/gists/engineering",{"title":220,"_path":221},"熵","/gists/entropy",{"title":223,"_path":224},"Environment","/gists/environment",{"title":226,"_path":227},"Erlang","/gists/erlang",{"title":229,"_path":230},"逃离塔克夫","/gists/escape-from-tarkov",{"title":232,"_path":233},"ESNext (ES6-ES11)","/gists/esnext",{"title":235,"_path":236},"Eval！","/gists/eval",{"title":238,"_path":239},"Flutter","/gists/flutter",{"title":241,"_path":242},"字体","/gists/font",{"title":244,"_path":245},"JS 函数式编程","/gists/functional",{"title":247,"_path":248},"游戏化","/gists/gamification",{"title":250,"_path":251},"Google C++ Standard","/gists/google-cpp-standard",{"title":253,"_path":254},"双向链接完全体","/gists/graph",{"title":256,"_path":257},"Hardwares","/gists/hardwares",{"title":259,"_path":260},"哈希冲突","/gists/hash-collision",{"title":262,"_path":263},"信息设计","/gists/information-design",{"title":265,"_path":266},"InstantPage","/gists/instant.page",{"title":268,"_path":269},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":271,"_path":272},"KVStore","/gists/key-value-db",{"title":274,"_path":275},"Kubernetes","/gists/kubernetes",{"title":277,"_path":278},"Makefile","/gists/makefile",{"title":280,"_path":281},"Markdown Inline Style","/gists/markdown-nice",{"title":283,"_path":284},"小程序","/gists/miniapp",{"title":286,"_path":287},"减小页面快照体积","/gists/minify-html",{"title":289,"_path":290},"mklink","/gists/mklink",{"title":292,"_path":293},"Mock","/gists/mock",{"title":295,"_path":296},"多人协作系统","/gists/multiplayer",{"title":298,"_path":299},"多端应用","/gists/multy-end-app",{"title":301,"_path":302},"神经科学","/gists/neuroscience",{"title":304,"_path":305},"OO","/gists/oo",{"title":307,"_path":308},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":310,"_path":311},"PInvoke","/gists/pinvoke",{"title":313,"_path":314},"像素","/gists/pixel",{"title":316,"_path":317},"PowerShell","/gists/powershell",{"title":319,"_path":320},"量子","/gists/quantum",{"title":322,"_path":323},"保持好奇心","/gists/questions",{"title":325,"_path":326},"React Native","/gists/react-native",{"title":328,"_path":329},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":331,"_path":332},"SEO","/gists/seo",{"title":334,"_path":335},"Shader","/gists/shader",{"title":337,"_path":338},"Shape Up","/gists/shape-up",{"title":340,"_path":341},"睡觉","/gists/sleep",{"title":343,"_path":344},"记录奇怪的问题","/gists/solved",{"title":346,"_path":347},"States","/gists/states",{"title":349,"_path":350},"Storage","/gists/storage",{"title":352,"_path":353},"音视频流处理","/gists/stream-cli",{"title":355,"_path":356},"Symbol","/gists/symbol",{"title":358,"_path":359},"系统论","/gists/systems-theory",{"title":361,"_path":362},"Taro","/gists/taro",{"title":364,"_path":365},"任务切片","/gists/task-slice",{"title":367,"_path":368},"技术偏好","/gists/tech-dudge",{"title":370,"_path":371},"Untitled","/gists/untitled",{"title":373,"_path":374},"可变字体","/gists/variable-font",{"title":376,"_path":377},"视觉错觉","/gists/visual-illusion",{"title":379,"_path":380},"SS(SSR)","/gists/vpn",{"title":382,"_path":383},"VS Code 插件开发","/gists/vscode-plugin",{"title":385,"_path":386},"Web Components","/gists/web-components",{"title":388,"_path":389},"Windows","/gists/windows",{"title":391,"_path":392},"查缺补漏","/gists/wrong",{"title":394,"_path":395,"children":396},"代码笔记 / Gists","/source-code",[397],{"title":398,"_path":395},"🚄 代码笔记",{"title":400,"_path":401,"children":402},"我 / Abount","/hire",[403],{"title":404,"_path":401},"📬 技术简历",{"title":406,"_path":407,"children":408},"todo","/todo",[409],{"title":406,"_path":407},{"_path":58,"_dir":411,"_draft":412,"_partial":412,"_locale":413,"title":57,"description":414,"body":415,"_type":4466,"_id":4467,"_source":4468,"_file":4469,"_stem":4470,"_extension":4471},"articles",false,"","如何破解滑块验证码？本文介绍使用Puppeteer操作浏览器进行图片对比、图片识别及优化鼠标轨迹以模仿真是用户等几种简单爬虫验证码破解思路，适用多种场景。",{"type":416,"children":417,"toc":4455},"root",[418,437,442,451,457,463,468,488,502,514,750,758,763,768,801,806,811,816,821,829,849,857,869,877,882,890,895,916,921,926,1512,1520,1534,1542,1547,1552,1557,1562,1567,1585,1590,1595,1885,1890,2355,2360,2365,2370,2375,2389,2958,2963,2968,2973,2981,2995,3000,4351,4356,4361,4367,4380,4385,4412,4450],{"type":419,"tag":420,"props":421,"children":422},"element","p",{},[423,426,435],{"type":424,"value":425},"text","昨天在掘金看到推荐文章",{"type":419,"tag":427,"props":428,"children":432},"a",{"href":429,"rel":430},"https://juejin.cn/post/7007615666609979400",[431],"nofollow",[433],{"type":424,"value":434},"《从零开发一款轻量级滑动验证码插件》",{"type":424,"value":436},"，介绍了一些相关验证码及框架开发的知识点。巧的是就在前两周，我们公司举办了一个爬虫攻防赛，其中用到多种爬虫验证的破解方法，之一就是滑块验证码。",{"type":419,"tag":420,"props":438,"children":439},{},[440],{"type":424,"value":441},"今天在这篇文章里给大家介绍一下怎么使用 JS 破解滑块验证码。",{"type":419,"tag":420,"props":443,"children":444},{},[445],{"type":419,"tag":446,"props":447,"children":450},"img",{"alt":448,"src":449},"最终效果（加速）","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/73ba97c7435f.gif",[],{"type":419,"tag":452,"props":453,"children":455},"h2",{"id":454},"思路讲解",[456],{"type":424,"value":454},{"type":419,"tag":458,"props":459,"children":461},"h3",{"id":460},"操作浏览器打开页面",[462],{"type":424,"value":460},{"type":419,"tag":420,"props":464,"children":465},{},[466],{"type":424,"value":467},"滑块验证码是滑动验证码的一种，生成流程至少包含三步：",{"type":419,"tag":469,"props":470,"children":471},"ol",{},[472,478,483],{"type":419,"tag":473,"props":474,"children":475},"li",{},[476],{"type":424,"value":477},"根据用户标识，从后台获得验证码图片",{"type":419,"tag":473,"props":479,"children":480},{},[481],{"type":424,"value":482},"监听鼠标事件并回传后台",{"type":419,"tag":473,"props":484,"children":485},{},[486],{"type":424,"value":487},"后台判断事件的真伪，回传验证结果",{"type":419,"tag":420,"props":489,"children":490},{},[491,493,500],{"type":424,"value":492},"无论生成机制的细节如何，滑块终究是要展示在页面上的。直接用 HTTP Request 把页面 HTML 请求下来肯定不行，这里我们需要使用 Puppeteer 打开网页进行渲染。测试页面就以 ",{"type":419,"tag":427,"props":494,"children":497},{"href":495,"rel":496},"http://h5.dooring.cn/slider-vertify",[431],[498],{"type":424,"value":499},"react-slider-vertify",{"type":424,"value":501}," 的官网为例。",{"type":419,"tag":420,"props":503,"children":504},{},[505,512],{"type":419,"tag":427,"props":506,"children":509},{"href":507,"rel":508},"http://puppeteerjs.com/",[431],[510],{"type":424,"value":511},"Puppeteer",{"type":424,"value":513}," 是一个通过 DevTools 协议来控制浏览器行为的库，只需编写不多的代码，就可以操作真实的浏览器搞定诸如爬虫、自动化测试、网页性能分析、浏览器扩展测试等功能。使用起来比较方便，文档齐全。根据文档，打开页面前需要启动一个浏览器实例，然后调用 newPage 方法创建一个新页面。核心代码如下。",{"type":419,"tag":515,"props":516,"children":520},"pre",{"className":517,"code":518,"language":519,"meta":413,"style":413},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async browser => {\n  const page = await browser.newPage()\n  await page.goto('http://h5.dooring.cn/slider-vertify/vertify')\n})\n","js",[521],{"type":419,"tag":522,"props":523,"children":524},"code",{"__ignoreMap":413},[525,582,592,651,694,737],{"type":419,"tag":526,"props":527,"children":530},"span",{"class":528,"line":529},"line",1,[531,537,543,549,555,561,567,573,577],{"type":419,"tag":526,"props":532,"children":534},{"style":533},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[535],{"type":424,"value":536},"const",{"type":419,"tag":526,"props":538,"children":540},{"style":539},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[541],{"type":424,"value":542}," puppeteer",{"type":419,"tag":526,"props":544,"children":546},{"style":545},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[547],{"type":424,"value":548}," =",{"type":419,"tag":526,"props":550,"children":552},{"style":551},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[553],{"type":424,"value":554}," require",{"type":419,"tag":526,"props":556,"children":558},{"style":557},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[559],{"type":424,"value":560},"(",{"type":419,"tag":526,"props":562,"children":564},{"style":563},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[565],{"type":424,"value":566},"'",{"type":419,"tag":526,"props":568,"children":570},{"style":569},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[571],{"type":424,"value":572},"puppeteer",{"type":419,"tag":526,"props":574,"children":575},{"style":563},[576],{"type":424,"value":566},{"type":419,"tag":526,"props":578,"children":579},{"style":557},[580],{"type":424,"value":581},")\n",{"type":419,"tag":526,"props":583,"children":585},{"class":528,"line":584},2,[586],{"type":419,"tag":526,"props":587,"children":589},{"emptyLinePlaceholder":588},true,[590],{"type":424,"value":591},"\n",{"type":419,"tag":526,"props":593,"children":595},{"class":528,"line":594},3,[596,600,606,611,616,620,625,629,635,641,646],{"type":419,"tag":526,"props":597,"children":598},{"style":557},[599],{"type":424,"value":572},{"type":419,"tag":526,"props":601,"children":603},{"style":602},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[604],{"type":424,"value":605},".",{"type":419,"tag":526,"props":607,"children":608},{"style":551},[609],{"type":424,"value":610},"launch",{"type":419,"tag":526,"props":612,"children":613},{"style":557},[614],{"type":424,"value":615},"()",{"type":419,"tag":526,"props":617,"children":618},{"style":602},[619],{"type":424,"value":605},{"type":419,"tag":526,"props":621,"children":622},{"style":551},[623],{"type":424,"value":624},"then",{"type":419,"tag":526,"props":626,"children":627},{"style":557},[628],{"type":424,"value":560},{"type":419,"tag":526,"props":630,"children":632},{"style":631},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[633],{"type":424,"value":634},"async",{"type":419,"tag":526,"props":636,"children":638},{"style":637},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[639],{"type":424,"value":640}," browser",{"type":419,"tag":526,"props":642,"children":643},{"style":533},[644],{"type":424,"value":645}," =>",{"type":419,"tag":526,"props":647,"children":648},{"style":602},[649],{"type":424,"value":650}," {\n",{"type":419,"tag":526,"props":652,"children":654},{"class":528,"line":653},4,[655,660,665,669,675,679,683,688],{"type":419,"tag":526,"props":656,"children":657},{"style":533},[658],{"type":424,"value":659},"  const",{"type":419,"tag":526,"props":661,"children":662},{"style":539},[663],{"type":424,"value":664}," page",{"type":419,"tag":526,"props":666,"children":667},{"style":545},[668],{"type":424,"value":548},{"type":419,"tag":526,"props":670,"children":672},{"style":671},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[673],{"type":424,"value":674}," await",{"type":419,"tag":526,"props":676,"children":677},{"style":557},[678],{"type":424,"value":640},{"type":419,"tag":526,"props":680,"children":681},{"style":602},[682],{"type":424,"value":605},{"type":419,"tag":526,"props":684,"children":685},{"style":551},[686],{"type":424,"value":687},"newPage",{"type":419,"tag":526,"props":689,"children":691},{"style":690},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[692],{"type":424,"value":693},"()\n",{"type":419,"tag":526,"props":695,"children":697},{"class":528,"line":696},5,[698,703,707,711,716,720,724,729,733],{"type":419,"tag":526,"props":699,"children":700},{"style":671},[701],{"type":424,"value":702},"  await",{"type":419,"tag":526,"props":704,"children":705},{"style":557},[706],{"type":424,"value":664},{"type":419,"tag":526,"props":708,"children":709},{"style":602},[710],{"type":424,"value":605},{"type":419,"tag":526,"props":712,"children":713},{"style":551},[714],{"type":424,"value":715},"goto",{"type":419,"tag":526,"props":717,"children":718},{"style":690},[719],{"type":424,"value":560},{"type":419,"tag":526,"props":721,"children":722},{"style":563},[723],{"type":424,"value":566},{"type":419,"tag":526,"props":725,"children":726},{"style":569},[727],{"type":424,"value":728},"http://h5.dooring.cn/slider-vertify/vertify",{"type":419,"tag":526,"props":730,"children":731},{"style":563},[732],{"type":424,"value":566},{"type":419,"tag":526,"props":734,"children":735},{"style":690},[736],{"type":424,"value":581},{"type":419,"tag":526,"props":738,"children":740},{"class":528,"line":739},6,[741,746],{"type":419,"tag":526,"props":742,"children":743},{"style":602},[744],{"type":424,"value":745},"}",{"type":419,"tag":526,"props":747,"children":748},{"style":557},[749],{"type":424,"value":581},{"type":419,"tag":420,"props":751,"children":752},{},[753],{"type":419,"tag":446,"props":754,"children":757},{"alt":755,"src":756},"打开页面测试","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/jpoVF4UbuI.gif",[],{"type":419,"tag":420,"props":759,"children":760},{},[761],{"type":424,"value":762},"正常浏览网页时，很少会碰到滑块验证，因为它的路径非常长，会需要浪费用户好一会儿时间。虽然文案上给你显示“恭喜 0.9s 打败了 99% 的用户”，但从前置脚本请求，到加载图片，用户滑动滑块，到回传验证...前前后后的步骤加起来可能花了你 9s 不止。本质上它是防御性的手段，一般当服务器限流，或者服务器已经怀疑你是爬虫的时候，才会让它跳出来要求做进一步验证。所以一般来说，爬虫代码可以默认忽略滑块验证的，不过本文代码我们就假定默认验证码一定存在吧。",{"type":419,"tag":420,"props":764,"children":765},{},[766],{"type":424,"value":767},"接下来，分析一下用户行为。解决滑块验证，无非就是先判断一下缺口的位置，然后移动鼠标。这里进一步可以细分为鼠标的点击事件和鼠标移动事件两种。代码逻辑大致如下。",{"type":419,"tag":469,"props":769,"children":770},{},[771,776,781,786,791,796],{"type":419,"tag":473,"props":772,"children":773},{},[774],{"type":424,"value":775},"等待验证码图片加载完毕",{"type":419,"tag":473,"props":777,"children":778},{},[779],{"type":424,"value":780},"移动鼠标到滑块位置",{"type":419,"tag":473,"props":782,"children":783},{},[784],{"type":424,"value":785},"按下鼠标",{"type":419,"tag":473,"props":787,"children":788},{},[789],{"type":424,"value":790},"移动鼠标到缺口位置",{"type":419,"tag":473,"props":792,"children":793},{},[794],{"type":424,"value":795},"松开鼠标",{"type":419,"tag":473,"props":797,"children":798},{},[799],{"type":424,"value":800},"等待结果返回",{"type":419,"tag":420,"props":802,"children":803},{},[804],{"type":424,"value":805},"啊，流程我都知道，可问题就在，怎么判断要把鼠标移动到哪里？服务器端返回的是一张带缺口的图片，缺口位置指定是不通过接口传递的。",{"type":419,"tag":420,"props":807,"children":808},{},[809],{"type":424,"value":810},"可能还有些同学会问，怎么移动鼠标呢？如果我一次性就把滑块给移到指定位置了，那服务器不是会立马把我标记为爬虫嘛... 这两个问题我逐一解答。",{"type":419,"tag":458,"props":812,"children":814},{"id":813},"判断缺口位置",[815],{"type":424,"value":813},{"type":419,"tag":420,"props":817,"children":818},{},[819],{"type":424,"value":820},"要分析缺口的位置，我们必须先知道这个缺口是怎么画上去的。打开控制台初步检查可以发现，页面从服务器先拿到了一张完整的图片，然后缺口位置是通过 JS 随机生成的。啊这...这...这是因为我们用的测试页面是文档页，大家不必在意这些安全方面的小细节。",{"type":419,"tag":420,"props":822,"children":823},{},[824],{"type":419,"tag":446,"props":825,"children":828},{"alt":826,"src":827},"找到请求","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918184414.png?type=win11",[],{"type":419,"tag":420,"props":830,"children":831},{},[832,834,847],{"type":424,"value":833},"接着刚才的思路继续，既然缺口是从原图中挖的一个洞，那么我们只需要识别一下图片中洞的位置就好了。比较简单的方案是使用第三方的图像识别技术（或相关技术），把图片上传至第三方，就直接拿到缺口位置的相对坐标。下图给大家展示一下阿里云的图像分割的效果",{"type":419,"tag":835,"props":836,"children":837},"sup",{},[838],{"type":419,"tag":427,"props":839,"children":844},{"href":840,"ariaDescribedBy":841,"dataFootnoteRef":413,"id":843},"#user-content-fn-alimagic",[842],"footnote-label","user-content-fnref-alimagic",[845],{"type":424,"value":846},"1",{"type":424,"value":848},"。",{"type":419,"tag":420,"props":850,"children":851},{},[852],{"type":419,"tag":446,"props":853,"children":856},{"alt":854,"src":855},"阿里云图像分割","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/itLO6bbCMH.gif",[],{"type":419,"tag":420,"props":858,"children":859},{},[860,862,868],{"type":424,"value":861},"如果想做一个效果稳定一点的验证码破解工具，我建议大家还是用自己的模型，或者自己写算法。一来是第三方要的钱钱不少哇~ 再就是这种图像识别并不是专门为验证码训练的，所以放到爬虫中还不太成熟，",{"type":419,"tag":863,"props":864,"children":865},"strong",{},[866],{"type":424,"value":867},"一旦背景图片复杂，识别率下降得老快了",{"type":424,"value":848},{"type":419,"tag":420,"props":870,"children":871},{},[872],{"type":419,"tag":446,"props":873,"children":876},{"alt":874,"src":875},"百度云图像主体识别","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918191220.png",[],{"type":419,"tag":420,"props":878,"children":879},{},[880],{"type":424,"value":881},"以下介绍一种新思路。反正我们已经有一张完整的图片了，那就只要不断地滑动滑块，把结果和原图比对就行。理论上，只要滑倒差不多“那个点”，肉眼看起来不会有很大的违和感时，就搞定了。比如下面这张图。",{"type":419,"tag":420,"props":883,"children":884},{},[885],{"type":419,"tag":446,"props":886,"children":889},{"alt":887,"src":888},"和原图进行比对","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918192111.png",[],{"type":419,"tag":420,"props":891,"children":892},{},[893],{"type":424,"value":894},"截图嘛可以直接用 Pupeteer 的截图功能，它提供了对应的 API，可以精准的截出特定元素。",{"type":419,"tag":420,"props":896,"children":897},{},[898,900,905,907,914],{"type":424,"value":899},"至于图片比对，其实就是给图片初步处理后，两张图一个像素一个像素的去比较。",{"type":419,"tag":863,"props":901,"children":902},{},[903],{"type":424,"value":904},"两个像素如果颜色差异超过阈值，就认为这是两个不相同的像素",{"type":424,"value":906},"。简便起见，我们直接用开源库 ",{"type":419,"tag":427,"props":908,"children":911},{"href":909,"rel":910},"https://github.com/imgly/rembrandt",[431],[912],{"type":424,"value":913},"rembrandt",{"type":424,"value":915},"，它会给我们返回两张图片间的差异。",{"type":419,"tag":420,"props":917,"children":918},{},[919],{"type":424,"value":920},"最后是滑动滑块，既然要模拟人肉操作，那么操作 CSS，用绝对定位，把滑块一个像素一个像素的向右移；每移动一次，把图像比对的结果记录下来。",{"type":419,"tag":420,"props":922,"children":923},{},[924],{"type":424,"value":925},"以上三个流程的核心代码非常简单，只需要以下几行：",{"type":419,"tag":515,"props":927,"children":929},{"className":517,"code":928,"language":519,"meta":413,"style":413},"while (left \u003C= maxOffset) {\n\n  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n\n  await page.evaluate(async ($sliderFloat, left) => {\n    $sliderFloat.setAttribute('style', `left: ${left}px`)\n  }, $sliderFloat, left)\n\n  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n\n  const $panel = await page.$('#Vertify-demo-4 .canvasArea')\n  const panelImgBase64 = await $panel.screenshot({\n    type: 'jpeg'\n  })\n  const compareRes = await rembrandt({\n    imageA: panelImgBase64,\n    imageB: rawImage\n  })\n  results.push({\n    left,\n    diff: compareRes.differences\n  })\n\n  left += 1\n}\n",[930],{"type":419,"tag":522,"props":931,"children":932},{"__ignoreMap":413},[933,961,968,977,984,1045,1122,1148,1156,1165,1173,1228,1270,1299,1312,1346,1368,1386,1398,1424,1437,1463,1475,1483,1503],{"type":419,"tag":526,"props":934,"children":935},{"class":528,"line":529},[936,941,946,951,956],{"type":419,"tag":526,"props":937,"children":938},{"style":671},[939],{"type":424,"value":940},"while",{"type":419,"tag":526,"props":942,"children":943},{"style":557},[944],{"type":424,"value":945}," (left ",{"type":419,"tag":526,"props":947,"children":948},{"style":545},[949],{"type":424,"value":950},"\u003C=",{"type":419,"tag":526,"props":952,"children":953},{"style":557},[954],{"type":424,"value":955}," maxOffset) ",{"type":419,"tag":526,"props":957,"children":958},{"style":602},[959],{"type":424,"value":960},"{\n",{"type":419,"tag":526,"props":962,"children":963},{"class":528,"line":584},[964],{"type":419,"tag":526,"props":965,"children":966},{"emptyLinePlaceholder":588},[967],{"type":424,"value":591},{"type":419,"tag":526,"props":969,"children":970},{"class":528,"line":594},[971],{"type":419,"tag":526,"props":972,"children":974},{"style":973},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[975],{"type":424,"value":976},"  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n",{"type":419,"tag":526,"props":978,"children":979},{"class":528,"line":653},[980],{"type":419,"tag":526,"props":981,"children":982},{"emptyLinePlaceholder":588},[983],{"type":424,"value":591},{"type":419,"tag":526,"props":985,"children":986},{"class":528,"line":696},[987,991,995,999,1004,1008,1012,1017,1022,1027,1032,1037,1041],{"type":419,"tag":526,"props":988,"children":989},{"style":671},[990],{"type":424,"value":702},{"type":419,"tag":526,"props":992,"children":993},{"style":557},[994],{"type":424,"value":664},{"type":419,"tag":526,"props":996,"children":997},{"style":602},[998],{"type":424,"value":605},{"type":419,"tag":526,"props":1000,"children":1001},{"style":551},[1002],{"type":424,"value":1003},"evaluate",{"type":419,"tag":526,"props":1005,"children":1006},{"style":690},[1007],{"type":424,"value":560},{"type":419,"tag":526,"props":1009,"children":1010},{"style":631},[1011],{"type":424,"value":634},{"type":419,"tag":526,"props":1013,"children":1014},{"style":602},[1015],{"type":424,"value":1016}," (",{"type":419,"tag":526,"props":1018,"children":1019},{"style":637},[1020],{"type":424,"value":1021},"$sliderFloat",{"type":419,"tag":526,"props":1023,"children":1024},{"style":602},[1025],{"type":424,"value":1026},",",{"type":419,"tag":526,"props":1028,"children":1029},{"style":637},[1030],{"type":424,"value":1031}," left",{"type":419,"tag":526,"props":1033,"children":1034},{"style":602},[1035],{"type":424,"value":1036},")",{"type":419,"tag":526,"props":1038,"children":1039},{"style":533},[1040],{"type":424,"value":645},{"type":419,"tag":526,"props":1042,"children":1043},{"style":602},[1044],{"type":424,"value":650},{"type":419,"tag":526,"props":1046,"children":1047},{"class":528,"line":739},[1048,1053,1057,1062,1066,1070,1075,1079,1083,1088,1093,1099,1104,1108,1113,1118],{"type":419,"tag":526,"props":1049,"children":1050},{"style":557},[1051],{"type":424,"value":1052},"    $sliderFloat",{"type":419,"tag":526,"props":1054,"children":1055},{"style":602},[1056],{"type":424,"value":605},{"type":419,"tag":526,"props":1058,"children":1059},{"style":551},[1060],{"type":424,"value":1061},"setAttribute",{"type":419,"tag":526,"props":1063,"children":1064},{"style":690},[1065],{"type":424,"value":560},{"type":419,"tag":526,"props":1067,"children":1068},{"style":563},[1069],{"type":424,"value":566},{"type":419,"tag":526,"props":1071,"children":1072},{"style":569},[1073],{"type":424,"value":1074},"style",{"type":419,"tag":526,"props":1076,"children":1077},{"style":563},[1078],{"type":424,"value":566},{"type":419,"tag":526,"props":1080,"children":1081},{"style":602},[1082],{"type":424,"value":1026},{"type":419,"tag":526,"props":1084,"children":1085},{"style":563},[1086],{"type":424,"value":1087}," `",{"type":419,"tag":526,"props":1089,"children":1090},{"style":569},[1091],{"type":424,"value":1092},"left: ",{"type":419,"tag":526,"props":1094,"children":1096},{"style":1095},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1097],{"type":424,"value":1098},"${",{"type":419,"tag":526,"props":1100,"children":1101},{"style":557},[1102],{"type":424,"value":1103},"left",{"type":419,"tag":526,"props":1105,"children":1106},{"style":1095},[1107],{"type":424,"value":745},{"type":419,"tag":526,"props":1109,"children":1110},{"style":569},[1111],{"type":424,"value":1112},"px",{"type":419,"tag":526,"props":1114,"children":1115},{"style":563},[1116],{"type":424,"value":1117},"`",{"type":419,"tag":526,"props":1119,"children":1120},{"style":690},[1121],{"type":424,"value":581},{"type":419,"tag":526,"props":1123,"children":1125},{"class":528,"line":1124},7,[1126,1131,1136,1140,1144],{"type":419,"tag":526,"props":1127,"children":1128},{"style":602},[1129],{"type":424,"value":1130},"  },",{"type":419,"tag":526,"props":1132,"children":1133},{"style":557},[1134],{"type":424,"value":1135}," $sliderFloat",{"type":419,"tag":526,"props":1137,"children":1138},{"style":602},[1139],{"type":424,"value":1026},{"type":419,"tag":526,"props":1141,"children":1142},{"style":557},[1143],{"type":424,"value":1031},{"type":419,"tag":526,"props":1145,"children":1146},{"style":690},[1147],{"type":424,"value":581},{"type":419,"tag":526,"props":1149,"children":1151},{"class":528,"line":1150},8,[1152],{"type":419,"tag":526,"props":1153,"children":1154},{"emptyLinePlaceholder":588},[1155],{"type":424,"value":591},{"type":419,"tag":526,"props":1157,"children":1159},{"class":528,"line":1158},9,[1160],{"type":419,"tag":526,"props":1161,"children":1162},{"style":973},[1163],{"type":424,"value":1164},"  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n",{"type":419,"tag":526,"props":1166,"children":1168},{"class":528,"line":1167},10,[1169],{"type":419,"tag":526,"props":1170,"children":1171},{"emptyLinePlaceholder":588},[1172],{"type":424,"value":591},{"type":419,"tag":526,"props":1174,"children":1176},{"class":528,"line":1175},11,[1177,1181,1186,1190,1194,1198,1202,1207,1211,1215,1220,1224],{"type":419,"tag":526,"props":1178,"children":1179},{"style":533},[1180],{"type":424,"value":659},{"type":419,"tag":526,"props":1182,"children":1183},{"style":539},[1184],{"type":424,"value":1185}," $panel",{"type":419,"tag":526,"props":1187,"children":1188},{"style":545},[1189],{"type":424,"value":548},{"type":419,"tag":526,"props":1191,"children":1192},{"style":671},[1193],{"type":424,"value":674},{"type":419,"tag":526,"props":1195,"children":1196},{"style":557},[1197],{"type":424,"value":664},{"type":419,"tag":526,"props":1199,"children":1200},{"style":602},[1201],{"type":424,"value":605},{"type":419,"tag":526,"props":1203,"children":1204},{"style":551},[1205],{"type":424,"value":1206},"$",{"type":419,"tag":526,"props":1208,"children":1209},{"style":690},[1210],{"type":424,"value":560},{"type":419,"tag":526,"props":1212,"children":1213},{"style":563},[1214],{"type":424,"value":566},{"type":419,"tag":526,"props":1216,"children":1217},{"style":569},[1218],{"type":424,"value":1219},"#Vertify-demo-4 .canvasArea",{"type":419,"tag":526,"props":1221,"children":1222},{"style":563},[1223],{"type":424,"value":566},{"type":419,"tag":526,"props":1225,"children":1226},{"style":690},[1227],{"type":424,"value":581},{"type":419,"tag":526,"props":1229,"children":1231},{"class":528,"line":1230},12,[1232,1236,1241,1245,1249,1253,1257,1262,1266],{"type":419,"tag":526,"props":1233,"children":1234},{"style":533},[1235],{"type":424,"value":659},{"type":419,"tag":526,"props":1237,"children":1238},{"style":539},[1239],{"type":424,"value":1240}," panelImgBase64",{"type":419,"tag":526,"props":1242,"children":1243},{"style":545},[1244],{"type":424,"value":548},{"type":419,"tag":526,"props":1246,"children":1247},{"style":671},[1248],{"type":424,"value":674},{"type":419,"tag":526,"props":1250,"children":1251},{"style":557},[1252],{"type":424,"value":1185},{"type":419,"tag":526,"props":1254,"children":1255},{"style":602},[1256],{"type":424,"value":605},{"type":419,"tag":526,"props":1258,"children":1259},{"style":551},[1260],{"type":424,"value":1261},"screenshot",{"type":419,"tag":526,"props":1263,"children":1264},{"style":690},[1265],{"type":424,"value":560},{"type":419,"tag":526,"props":1267,"children":1268},{"style":602},[1269],{"type":424,"value":960},{"type":419,"tag":526,"props":1271,"children":1273},{"class":528,"line":1272},13,[1274,1279,1284,1289,1294],{"type":419,"tag":526,"props":1275,"children":1276},{"style":690},[1277],{"type":424,"value":1278},"    type",{"type":419,"tag":526,"props":1280,"children":1281},{"style":602},[1282],{"type":424,"value":1283},":",{"type":419,"tag":526,"props":1285,"children":1286},{"style":563},[1287],{"type":424,"value":1288}," '",{"type":419,"tag":526,"props":1290,"children":1291},{"style":569},[1292],{"type":424,"value":1293},"jpeg",{"type":419,"tag":526,"props":1295,"children":1296},{"style":563},[1297],{"type":424,"value":1298},"'\n",{"type":419,"tag":526,"props":1300,"children":1302},{"class":528,"line":1301},14,[1303,1308],{"type":419,"tag":526,"props":1304,"children":1305},{"style":602},[1306],{"type":424,"value":1307},"  }",{"type":419,"tag":526,"props":1309,"children":1310},{"style":690},[1311],{"type":424,"value":581},{"type":419,"tag":526,"props":1313,"children":1315},{"class":528,"line":1314},15,[1316,1320,1325,1329,1333,1338,1342],{"type":419,"tag":526,"props":1317,"children":1318},{"style":533},[1319],{"type":424,"value":659},{"type":419,"tag":526,"props":1321,"children":1322},{"style":539},[1323],{"type":424,"value":1324}," compareRes",{"type":419,"tag":526,"props":1326,"children":1327},{"style":545},[1328],{"type":424,"value":548},{"type":419,"tag":526,"props":1330,"children":1331},{"style":671},[1332],{"type":424,"value":674},{"type":419,"tag":526,"props":1334,"children":1335},{"style":551},[1336],{"type":424,"value":1337}," rembrandt",{"type":419,"tag":526,"props":1339,"children":1340},{"style":690},[1341],{"type":424,"value":560},{"type":419,"tag":526,"props":1343,"children":1344},{"style":602},[1345],{"type":424,"value":960},{"type":419,"tag":526,"props":1347,"children":1349},{"class":528,"line":1348},16,[1350,1355,1359,1363],{"type":419,"tag":526,"props":1351,"children":1352},{"style":690},[1353],{"type":424,"value":1354},"    imageA",{"type":419,"tag":526,"props":1356,"children":1357},{"style":602},[1358],{"type":424,"value":1283},{"type":419,"tag":526,"props":1360,"children":1361},{"style":557},[1362],{"type":424,"value":1240},{"type":419,"tag":526,"props":1364,"children":1365},{"style":602},[1366],{"type":424,"value":1367},",\n",{"type":419,"tag":526,"props":1369,"children":1371},{"class":528,"line":1370},17,[1372,1377,1381],{"type":419,"tag":526,"props":1373,"children":1374},{"style":690},[1375],{"type":424,"value":1376},"    imageB",{"type":419,"tag":526,"props":1378,"children":1379},{"style":602},[1380],{"type":424,"value":1283},{"type":419,"tag":526,"props":1382,"children":1383},{"style":557},[1384],{"type":424,"value":1385}," rawImage\n",{"type":419,"tag":526,"props":1387,"children":1389},{"class":528,"line":1388},18,[1390,1394],{"type":419,"tag":526,"props":1391,"children":1392},{"style":602},[1393],{"type":424,"value":1307},{"type":419,"tag":526,"props":1395,"children":1396},{"style":690},[1397],{"type":424,"value":581},{"type":419,"tag":526,"props":1399,"children":1401},{"class":528,"line":1400},19,[1402,1407,1411,1416,1420],{"type":419,"tag":526,"props":1403,"children":1404},{"style":557},[1405],{"type":424,"value":1406},"  results",{"type":419,"tag":526,"props":1408,"children":1409},{"style":602},[1410],{"type":424,"value":605},{"type":419,"tag":526,"props":1412,"children":1413},{"style":551},[1414],{"type":424,"value":1415},"push",{"type":419,"tag":526,"props":1417,"children":1418},{"style":690},[1419],{"type":424,"value":560},{"type":419,"tag":526,"props":1421,"children":1422},{"style":602},[1423],{"type":424,"value":960},{"type":419,"tag":526,"props":1425,"children":1427},{"class":528,"line":1426},20,[1428,1433],{"type":419,"tag":526,"props":1429,"children":1430},{"style":557},[1431],{"type":424,"value":1432},"    left",{"type":419,"tag":526,"props":1434,"children":1435},{"style":602},[1436],{"type":424,"value":1367},{"type":419,"tag":526,"props":1438,"children":1440},{"class":528,"line":1439},21,[1441,1446,1450,1454,1458],{"type":419,"tag":526,"props":1442,"children":1443},{"style":690},[1444],{"type":424,"value":1445},"    diff",{"type":419,"tag":526,"props":1447,"children":1448},{"style":602},[1449],{"type":424,"value":1283},{"type":419,"tag":526,"props":1451,"children":1452},{"style":557},[1453],{"type":424,"value":1324},{"type":419,"tag":526,"props":1455,"children":1456},{"style":602},[1457],{"type":424,"value":605},{"type":419,"tag":526,"props":1459,"children":1460},{"style":557},[1461],{"type":424,"value":1462},"differences\n",{"type":419,"tag":526,"props":1464,"children":1466},{"class":528,"line":1465},22,[1467,1471],{"type":419,"tag":526,"props":1468,"children":1469},{"style":602},[1470],{"type":424,"value":1307},{"type":419,"tag":526,"props":1472,"children":1473},{"style":690},[1474],{"type":424,"value":581},{"type":419,"tag":526,"props":1476,"children":1478},{"class":528,"line":1477},23,[1479],{"type":419,"tag":526,"props":1480,"children":1481},{"emptyLinePlaceholder":588},[1482],{"type":424,"value":591},{"type":419,"tag":526,"props":1484,"children":1486},{"class":528,"line":1485},24,[1487,1492,1497],{"type":419,"tag":526,"props":1488,"children":1489},{"style":557},[1490],{"type":424,"value":1491},"  left",{"type":419,"tag":526,"props":1493,"children":1494},{"style":545},[1495],{"type":424,"value":1496}," +=",{"type":419,"tag":526,"props":1498,"children":1500},{"style":1499},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1501],{"type":424,"value":1502}," 1\n",{"type":419,"tag":526,"props":1504,"children":1506},{"class":528,"line":1505},25,[1507],{"type":419,"tag":526,"props":1508,"children":1509},{"style":602},[1510],{"type":424,"value":1511},"}\n",{"type":419,"tag":420,"props":1513,"children":1514},{},[1515],{"type":419,"tag":446,"props":1516,"children":1519},{"alt":1517,"src":1518},"通过CSS控制位移","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/9KgejUuCru.gif",[],{"type":419,"tag":420,"props":1521,"children":1522},{},[1523,1525,1532],{"type":424,"value":1524},"最后，把 results 扔到里面展示一下（这里给个 ECharts ",{"type":419,"tag":427,"props":1526,"children":1529},{"href":1527,"rel":1528},"https://echarts.apache.org/examples/zh/editor.html?c=line-simple",[431],[1530],{"type":424,"value":1531},"折线图示例网址",{"type":424,"value":1533},"），不出意外能得到这样一张图表。看到那个尖尖的“V”型山谷了嘛，呼哈哈哈，答案很明显，当我们把滑块从左往右移动时，滑块约接近缺口，那截出来的图片就越像原图，它两之间像素差异越小；一直往右移动，滑块会逐渐远离缺口，截出来的图片和原图相比像素差异又逐渐开始增大。我们只需要把差异最小的那个点找到，然后滑动滑块到对应的 left 偏移量就阔以了。",{"type":419,"tag":420,"props":1535,"children":1536},{},[1537],{"type":419,"tag":446,"props":1538,"children":1541},{"alt":1539,"src":1540},"图像比对结果","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918203306.png",[],{"type":419,"tag":420,"props":1543,"children":1544},{},[1545],{"type":424,"value":1546},"题外话，为什么最大的差异在 3000 左右呢？我们简单估算一下。",{"type":419,"tag":420,"props":1548,"children":1549},{},[1550],{"type":424,"value":1551},"滑块的大小为 45*45，再加上外面的圆形，约摸占了 2100 像素；也就是说缺口加滑块，理论上最大会有 4200 个像素和原图不同。不过滑块可能和遮住的地方像素有重合，假设重合了 350 像素，再加上我们的最低点的图片差异都有 351，减去这些误差，得 3499。呜呼，3499 约等于 3000，估算成功（手动狗头）。",{"type":419,"tag":458,"props":1553,"children":1555},{"id":1554},"速度优化技巧",[1556],{"type":424,"value":1554},{"type":419,"tag":420,"props":1558,"children":1559},{},[1560],{"type":424,"value":1561},"不过这还没完，你要是把代码跑起来就会发现，卧草，太慢了这玩意儿！正常人划一下验证码顶多两秒钟的事儿，我们一帧一帧截图得花个 40s 的时间才能截完图算出山谷谷底的值来。",{"type":419,"tag":420,"props":1563,"children":1564},{},[1565],{"type":424,"value":1566},"这里提供几种思路优化效率：",{"type":419,"tag":469,"props":1568,"children":1569},{},[1570,1575,1580],{"type":419,"tag":473,"props":1571,"children":1572},{},[1573],{"type":424,"value":1574},"把元素缩小，复制多份，平铺开来展示；这样只要截一次，然后再裁剪、比对就好。",{"type":419,"tag":473,"props":1576,"children":1577},{},[1578],{"type":424,"value":1579},"放大步长，比方说先每次平移 15px，找到局部最优解，然后在局部最优解附近再回到平移 1px 的方案找最优解。",{"type":419,"tag":473,"props":1581,"children":1582},{},[1583],{"type":424,"value":1584},"因为图片比对的结果类似“V”字，“V”字右半边其实是可以不用再计算的。",{"type":419,"tag":420,"props":1586,"children":1587},{},[1588],{"type":424,"value":1589},"使用 1+2+3 我觉得可以在 3s 内搞定最优解，不过代码复杂度会变得很高，文中简单起见暂只实现一下方案 2。",{"type":419,"tag":420,"props":1591,"children":1592},{},[1593],{"type":424,"value":1594},"首先是每次移动 15px 找局部最优解。",{"type":419,"tag":515,"props":1596,"children":1598},{"className":517,"code":1597,"language":519,"meta":413,"style":413},"// 图片缺口是不会给挖在初始附近的，\n// 所以 left 从 45 像素开始计算可以节约不少计算量，\nlet left = 45;\nconst max15Offset = 265;\nconst res15px = [];\nwhile (left \u003C= max15Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res15px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 15;\n}\n",[1599],{"type":419,"tag":522,"props":1600,"children":1601},{"__ignoreMap":413},[1602,1610,1618,1646,1671,1696,1720,1748,1780,1804,1815,1843,1858,1878],{"type":419,"tag":526,"props":1603,"children":1604},{"class":528,"line":529},[1605],{"type":419,"tag":526,"props":1606,"children":1607},{"style":973},[1608],{"type":424,"value":1609},"// 图片缺口是不会给挖在初始附近的，\n",{"type":419,"tag":526,"props":1611,"children":1612},{"class":528,"line":584},[1613],{"type":419,"tag":526,"props":1614,"children":1615},{"style":973},[1616],{"type":424,"value":1617},"// 所以 left 从 45 像素开始计算可以节约不少计算量，\n",{"type":419,"tag":526,"props":1619,"children":1620},{"class":528,"line":594},[1621,1626,1631,1636,1641],{"type":419,"tag":526,"props":1622,"children":1623},{"style":533},[1624],{"type":424,"value":1625},"let",{"type":419,"tag":526,"props":1627,"children":1628},{"style":557},[1629],{"type":424,"value":1630}," left ",{"type":419,"tag":526,"props":1632,"children":1633},{"style":545},[1634],{"type":424,"value":1635},"=",{"type":419,"tag":526,"props":1637,"children":1638},{"style":1499},[1639],{"type":424,"value":1640}," 45",{"type":419,"tag":526,"props":1642,"children":1643},{"style":602},[1644],{"type":424,"value":1645},";\n",{"type":419,"tag":526,"props":1647,"children":1648},{"class":528,"line":653},[1649,1653,1658,1662,1667],{"type":419,"tag":526,"props":1650,"children":1651},{"style":533},[1652],{"type":424,"value":536},{"type":419,"tag":526,"props":1654,"children":1655},{"style":539},[1656],{"type":424,"value":1657}," max15Offset",{"type":419,"tag":526,"props":1659,"children":1660},{"style":545},[1661],{"type":424,"value":548},{"type":419,"tag":526,"props":1663,"children":1664},{"style":1499},[1665],{"type":424,"value":1666}," 265",{"type":419,"tag":526,"props":1668,"children":1669},{"style":602},[1670],{"type":424,"value":1645},{"type":419,"tag":526,"props":1672,"children":1673},{"class":528,"line":696},[1674,1678,1683,1687,1692],{"type":419,"tag":526,"props":1675,"children":1676},{"style":533},[1677],{"type":424,"value":536},{"type":419,"tag":526,"props":1679,"children":1680},{"style":539},[1681],{"type":424,"value":1682}," res15px",{"type":419,"tag":526,"props":1684,"children":1685},{"style":545},[1686],{"type":424,"value":548},{"type":419,"tag":526,"props":1688,"children":1689},{"style":557},[1690],{"type":424,"value":1691}," []",{"type":419,"tag":526,"props":1693,"children":1694},{"style":602},[1695],{"type":424,"value":1645},{"type":419,"tag":526,"props":1697,"children":1698},{"class":528,"line":739},[1699,1703,1707,1711,1716],{"type":419,"tag":526,"props":1700,"children":1701},{"style":671},[1702],{"type":424,"value":940},{"type":419,"tag":526,"props":1704,"children":1705},{"style":557},[1706],{"type":424,"value":945},{"type":419,"tag":526,"props":1708,"children":1709},{"style":545},[1710],{"type":424,"value":950},{"type":419,"tag":526,"props":1712,"children":1713},{"style":557},[1714],{"type":424,"value":1715}," max15Offset) ",{"type":419,"tag":526,"props":1717,"children":1718},{"style":602},[1719],{"type":424,"value":960},{"type":419,"tag":526,"props":1721,"children":1722},{"class":528,"line":1124},[1723,1727,1732,1736,1740,1744],{"type":419,"tag":526,"props":1724,"children":1725},{"style":671},[1726],{"type":424,"value":702},{"type":419,"tag":526,"props":1728,"children":1729},{"style":551},[1730],{"type":424,"value":1731}," setLeft",{"type":419,"tag":526,"props":1733,"children":1734},{"style":690},[1735],{"type":424,"value":560},{"type":419,"tag":526,"props":1737,"children":1738},{"style":557},[1739],{"type":424,"value":1103},{"type":419,"tag":526,"props":1741,"children":1742},{"style":690},[1743],{"type":424,"value":1036},{"type":419,"tag":526,"props":1745,"children":1746},{"style":602},[1747],{"type":424,"value":1645},{"type":419,"tag":526,"props":1749,"children":1750},{"class":528,"line":1150},[1751,1755,1759,1763,1767,1772,1776],{"type":419,"tag":526,"props":1752,"children":1753},{"style":533},[1754],{"type":424,"value":659},{"type":419,"tag":526,"props":1756,"children":1757},{"style":539},[1758],{"type":424,"value":1324},{"type":419,"tag":526,"props":1760,"children":1761},{"style":545},[1762],{"type":424,"value":548},{"type":419,"tag":526,"props":1764,"children":1765},{"style":671},[1766],{"type":424,"value":674},{"type":419,"tag":526,"props":1768,"children":1769},{"style":551},[1770],{"type":424,"value":1771}," compare",{"type":419,"tag":526,"props":1773,"children":1774},{"style":690},[1775],{"type":424,"value":615},{"type":419,"tag":526,"props":1777,"children":1778},{"style":602},[1779],{"type":424,"value":1645},{"type":419,"tag":526,"props":1781,"children":1782},{"class":528,"line":1158},[1783,1788,1792,1796,1800],{"type":419,"tag":526,"props":1784,"children":1785},{"style":557},[1786],{"type":424,"value":1787},"  res15px",{"type":419,"tag":526,"props":1789,"children":1790},{"style":602},[1791],{"type":424,"value":605},{"type":419,"tag":526,"props":1793,"children":1794},{"style":551},[1795],{"type":424,"value":1415},{"type":419,"tag":526,"props":1797,"children":1798},{"style":690},[1799],{"type":424,"value":560},{"type":419,"tag":526,"props":1801,"children":1802},{"style":602},[1803],{"type":424,"value":960},{"type":419,"tag":526,"props":1805,"children":1806},{"class":528,"line":1167},[1807,1811],{"type":419,"tag":526,"props":1808,"children":1809},{"style":557},[1810],{"type":424,"value":1432},{"type":419,"tag":526,"props":1812,"children":1813},{"style":602},[1814],{"type":424,"value":1367},{"type":419,"tag":526,"props":1816,"children":1817},{"class":528,"line":1175},[1818,1822,1826,1830,1834,1839],{"type":419,"tag":526,"props":1819,"children":1820},{"style":690},[1821],{"type":424,"value":1445},{"type":419,"tag":526,"props":1823,"children":1824},{"style":602},[1825],{"type":424,"value":1283},{"type":419,"tag":526,"props":1827,"children":1828},{"style":557},[1829],{"type":424,"value":1324},{"type":419,"tag":526,"props":1831,"children":1832},{"style":602},[1833],{"type":424,"value":605},{"type":419,"tag":526,"props":1835,"children":1836},{"style":557},[1837],{"type":424,"value":1838},"differences",{"type":419,"tag":526,"props":1840,"children":1841},{"style":602},[1842],{"type":424,"value":1367},{"type":419,"tag":526,"props":1844,"children":1845},{"class":528,"line":1230},[1846,1850,1854],{"type":419,"tag":526,"props":1847,"children":1848},{"style":602},[1849],{"type":424,"value":1307},{"type":419,"tag":526,"props":1851,"children":1852},{"style":690},[1853],{"type":424,"value":1036},{"type":419,"tag":526,"props":1855,"children":1856},{"style":602},[1857],{"type":424,"value":1645},{"type":419,"tag":526,"props":1859,"children":1860},{"class":528,"line":1272},[1861,1865,1869,1874],{"type":419,"tag":526,"props":1862,"children":1863},{"style":557},[1864],{"type":424,"value":1491},{"type":419,"tag":526,"props":1866,"children":1867},{"style":545},[1868],{"type":424,"value":1496},{"type":419,"tag":526,"props":1870,"children":1871},{"style":1499},[1872],{"type":424,"value":1873}," 15",{"type":419,"tag":526,"props":1875,"children":1876},{"style":602},[1877],{"type":424,"value":1645},{"type":419,"tag":526,"props":1879,"children":1880},{"class":528,"line":1301},[1881],{"type":419,"tag":526,"props":1882,"children":1883},{"style":602},[1884],{"type":424,"value":1511},{"type":419,"tag":420,"props":1886,"children":1887},{},[1888],{"type":424,"value":1889},"然后再尝试每次移动 2px 找最优解，搜寻的范围是 15px 步长最优解的 left 偏移量的左右共 20 个像素。",{"type":419,"tag":515,"props":1891,"children":1893},{"className":517,"code":1892,"language":519,"meta":413,"style":413},"const min15pxDiff = Math.min(...res15px.map((x) => x.diff));\nconst min15pxLeft = res15px.find((x) => x.diff === min15pxDiff).left;\n\nleft = min15pxLeft - 12;\nconst max2Offset = min15pxLeft + 8;\nconst res2px = [];\nwhile (left \u003C= max2Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res2px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 2;\n}\n",[1894],{"type":419,"tag":522,"props":1895,"children":1896},{"__ignoreMap":413},[1897,1989,2073,2080,2111,2145,2169,2193,2220,2251,2275,2286,2313,2328,2348],{"type":419,"tag":526,"props":1898,"children":1899},{"class":528,"line":529},[1900,1904,1909,1913,1918,1922,1927,1931,1936,1941,1945,1950,1954,1958,1963,1967,1971,1976,1980,1985],{"type":419,"tag":526,"props":1901,"children":1902},{"style":533},[1903],{"type":424,"value":536},{"type":419,"tag":526,"props":1905,"children":1906},{"style":539},[1907],{"type":424,"value":1908}," min15pxDiff",{"type":419,"tag":526,"props":1910,"children":1911},{"style":545},[1912],{"type":424,"value":548},{"type":419,"tag":526,"props":1914,"children":1915},{"style":557},[1916],{"type":424,"value":1917}," Math",{"type":419,"tag":526,"props":1919,"children":1920},{"style":602},[1921],{"type":424,"value":605},{"type":419,"tag":526,"props":1923,"children":1924},{"style":551},[1925],{"type":424,"value":1926},"min",{"type":419,"tag":526,"props":1928,"children":1929},{"style":557},[1930],{"type":424,"value":560},{"type":419,"tag":526,"props":1932,"children":1933},{"style":545},[1934],{"type":424,"value":1935},"...",{"type":419,"tag":526,"props":1937,"children":1938},{"style":557},[1939],{"type":424,"value":1940},"res15px",{"type":419,"tag":526,"props":1942,"children":1943},{"style":602},[1944],{"type":424,"value":605},{"type":419,"tag":526,"props":1946,"children":1947},{"style":551},[1948],{"type":424,"value":1949},"map",{"type":419,"tag":526,"props":1951,"children":1952},{"style":557},[1953],{"type":424,"value":560},{"type":419,"tag":526,"props":1955,"children":1956},{"style":602},[1957],{"type":424,"value":560},{"type":419,"tag":526,"props":1959,"children":1960},{"style":637},[1961],{"type":424,"value":1962},"x",{"type":419,"tag":526,"props":1964,"children":1965},{"style":602},[1966],{"type":424,"value":1036},{"type":419,"tag":526,"props":1968,"children":1969},{"style":533},[1970],{"type":424,"value":645},{"type":419,"tag":526,"props":1972,"children":1973},{"style":557},[1974],{"type":424,"value":1975}," x",{"type":419,"tag":526,"props":1977,"children":1978},{"style":602},[1979],{"type":424,"value":605},{"type":419,"tag":526,"props":1981,"children":1982},{"style":557},[1983],{"type":424,"value":1984},"diff))",{"type":419,"tag":526,"props":1986,"children":1987},{"style":602},[1988],{"type":424,"value":1645},{"type":419,"tag":526,"props":1990,"children":1991},{"class":528,"line":584},[1992,1996,2001,2005,2009,2013,2018,2022,2026,2030,2034,2038,2042,2046,2051,2056,2061,2065,2069],{"type":419,"tag":526,"props":1993,"children":1994},{"style":533},[1995],{"type":424,"value":536},{"type":419,"tag":526,"props":1997,"children":1998},{"style":539},[1999],{"type":424,"value":2000}," min15pxLeft",{"type":419,"tag":526,"props":2002,"children":2003},{"style":545},[2004],{"type":424,"value":548},{"type":419,"tag":526,"props":2006,"children":2007},{"style":557},[2008],{"type":424,"value":1682},{"type":419,"tag":526,"props":2010,"children":2011},{"style":602},[2012],{"type":424,"value":605},{"type":419,"tag":526,"props":2014,"children":2015},{"style":551},[2016],{"type":424,"value":2017},"find",{"type":419,"tag":526,"props":2019,"children":2020},{"style":557},[2021],{"type":424,"value":560},{"type":419,"tag":526,"props":2023,"children":2024},{"style":602},[2025],{"type":424,"value":560},{"type":419,"tag":526,"props":2027,"children":2028},{"style":637},[2029],{"type":424,"value":1962},{"type":419,"tag":526,"props":2031,"children":2032},{"style":602},[2033],{"type":424,"value":1036},{"type":419,"tag":526,"props":2035,"children":2036},{"style":533},[2037],{"type":424,"value":645},{"type":419,"tag":526,"props":2039,"children":2040},{"style":557},[2041],{"type":424,"value":1975},{"type":419,"tag":526,"props":2043,"children":2044},{"style":602},[2045],{"type":424,"value":605},{"type":419,"tag":526,"props":2047,"children":2048},{"style":557},[2049],{"type":424,"value":2050},"diff ",{"type":419,"tag":526,"props":2052,"children":2053},{"style":545},[2054],{"type":424,"value":2055},"===",{"type":419,"tag":526,"props":2057,"children":2058},{"style":557},[2059],{"type":424,"value":2060}," min15pxDiff)",{"type":419,"tag":526,"props":2062,"children":2063},{"style":602},[2064],{"type":424,"value":605},{"type":419,"tag":526,"props":2066,"children":2067},{"style":557},[2068],{"type":424,"value":1103},{"type":419,"tag":526,"props":2070,"children":2071},{"style":602},[2072],{"type":424,"value":1645},{"type":419,"tag":526,"props":2074,"children":2075},{"class":528,"line":594},[2076],{"type":419,"tag":526,"props":2077,"children":2078},{"emptyLinePlaceholder":588},[2079],{"type":424,"value":591},{"type":419,"tag":526,"props":2081,"children":2082},{"class":528,"line":653},[2083,2088,2092,2097,2102,2107],{"type":419,"tag":526,"props":2084,"children":2085},{"style":557},[2086],{"type":424,"value":2087},"left ",{"type":419,"tag":526,"props":2089,"children":2090},{"style":545},[2091],{"type":424,"value":1635},{"type":419,"tag":526,"props":2093,"children":2094},{"style":557},[2095],{"type":424,"value":2096}," min15pxLeft ",{"type":419,"tag":526,"props":2098,"children":2099},{"style":545},[2100],{"type":424,"value":2101},"-",{"type":419,"tag":526,"props":2103,"children":2104},{"style":1499},[2105],{"type":424,"value":2106}," 12",{"type":419,"tag":526,"props":2108,"children":2109},{"style":602},[2110],{"type":424,"value":1645},{"type":419,"tag":526,"props":2112,"children":2113},{"class":528,"line":696},[2114,2118,2123,2127,2131,2136,2141],{"type":419,"tag":526,"props":2115,"children":2116},{"style":533},[2117],{"type":424,"value":536},{"type":419,"tag":526,"props":2119,"children":2120},{"style":539},[2121],{"type":424,"value":2122}," max2Offset",{"type":419,"tag":526,"props":2124,"children":2125},{"style":545},[2126],{"type":424,"value":548},{"type":419,"tag":526,"props":2128,"children":2129},{"style":557},[2130],{"type":424,"value":2096},{"type":419,"tag":526,"props":2132,"children":2133},{"style":545},[2134],{"type":424,"value":2135},"+",{"type":419,"tag":526,"props":2137,"children":2138},{"style":1499},[2139],{"type":424,"value":2140}," 8",{"type":419,"tag":526,"props":2142,"children":2143},{"style":602},[2144],{"type":424,"value":1645},{"type":419,"tag":526,"props":2146,"children":2147},{"class":528,"line":739},[2148,2152,2157,2161,2165],{"type":419,"tag":526,"props":2149,"children":2150},{"style":533},[2151],{"type":424,"value":536},{"type":419,"tag":526,"props":2153,"children":2154},{"style":539},[2155],{"type":424,"value":2156}," res2px",{"type":419,"tag":526,"props":2158,"children":2159},{"style":545},[2160],{"type":424,"value":548},{"type":419,"tag":526,"props":2162,"children":2163},{"style":557},[2164],{"type":424,"value":1691},{"type":419,"tag":526,"props":2166,"children":2167},{"style":602},[2168],{"type":424,"value":1645},{"type":419,"tag":526,"props":2170,"children":2171},{"class":528,"line":1124},[2172,2176,2180,2184,2189],{"type":419,"tag":526,"props":2173,"children":2174},{"style":671},[2175],{"type":424,"value":940},{"type":419,"tag":526,"props":2177,"children":2178},{"style":557},[2179],{"type":424,"value":945},{"type":419,"tag":526,"props":2181,"children":2182},{"style":545},[2183],{"type":424,"value":950},{"type":419,"tag":526,"props":2185,"children":2186},{"style":557},[2187],{"type":424,"value":2188}," max2Offset) ",{"type":419,"tag":526,"props":2190,"children":2191},{"style":602},[2192],{"type":424,"value":960},{"type":419,"tag":526,"props":2194,"children":2195},{"class":528,"line":1150},[2196,2200,2204,2208,2212,2216],{"type":419,"tag":526,"props":2197,"children":2198},{"style":671},[2199],{"type":424,"value":702},{"type":419,"tag":526,"props":2201,"children":2202},{"style":551},[2203],{"type":424,"value":1731},{"type":419,"tag":526,"props":2205,"children":2206},{"style":690},[2207],{"type":424,"value":560},{"type":419,"tag":526,"props":2209,"children":2210},{"style":557},[2211],{"type":424,"value":1103},{"type":419,"tag":526,"props":2213,"children":2214},{"style":690},[2215],{"type":424,"value":1036},{"type":419,"tag":526,"props":2217,"children":2218},{"style":602},[2219],{"type":424,"value":1645},{"type":419,"tag":526,"props":2221,"children":2222},{"class":528,"line":1158},[2223,2227,2231,2235,2239,2243,2247],{"type":419,"tag":526,"props":2224,"children":2225},{"style":533},[2226],{"type":424,"value":659},{"type":419,"tag":526,"props":2228,"children":2229},{"style":539},[2230],{"type":424,"value":1324},{"type":419,"tag":526,"props":2232,"children":2233},{"style":545},[2234],{"type":424,"value":548},{"type":419,"tag":526,"props":2236,"children":2237},{"style":671},[2238],{"type":424,"value":674},{"type":419,"tag":526,"props":2240,"children":2241},{"style":551},[2242],{"type":424,"value":1771},{"type":419,"tag":526,"props":2244,"children":2245},{"style":690},[2246],{"type":424,"value":615},{"type":419,"tag":526,"props":2248,"children":2249},{"style":602},[2250],{"type":424,"value":1645},{"type":419,"tag":526,"props":2252,"children":2253},{"class":528,"line":1167},[2254,2259,2263,2267,2271],{"type":419,"tag":526,"props":2255,"children":2256},{"style":557},[2257],{"type":424,"value":2258},"  res2px",{"type":419,"tag":526,"props":2260,"children":2261},{"style":602},[2262],{"type":424,"value":605},{"type":419,"tag":526,"props":2264,"children":2265},{"style":551},[2266],{"type":424,"value":1415},{"type":419,"tag":526,"props":2268,"children":2269},{"style":690},[2270],{"type":424,"value":560},{"type":419,"tag":526,"props":2272,"children":2273},{"style":602},[2274],{"type":424,"value":960},{"type":419,"tag":526,"props":2276,"children":2277},{"class":528,"line":1175},[2278,2282],{"type":419,"tag":526,"props":2279,"children":2280},{"style":557},[2281],{"type":424,"value":1432},{"type":419,"tag":526,"props":2283,"children":2284},{"style":602},[2285],{"type":424,"value":1367},{"type":419,"tag":526,"props":2287,"children":2288},{"class":528,"line":1230},[2289,2293,2297,2301,2305,2309],{"type":419,"tag":526,"props":2290,"children":2291},{"style":690},[2292],{"type":424,"value":1445},{"type":419,"tag":526,"props":2294,"children":2295},{"style":602},[2296],{"type":424,"value":1283},{"type":419,"tag":526,"props":2298,"children":2299},{"style":557},[2300],{"type":424,"value":1324},{"type":419,"tag":526,"props":2302,"children":2303},{"style":602},[2304],{"type":424,"value":605},{"type":419,"tag":526,"props":2306,"children":2307},{"style":557},[2308],{"type":424,"value":1838},{"type":419,"tag":526,"props":2310,"children":2311},{"style":602},[2312],{"type":424,"value":1367},{"type":419,"tag":526,"props":2314,"children":2315},{"class":528,"line":1272},[2316,2320,2324],{"type":419,"tag":526,"props":2317,"children":2318},{"style":602},[2319],{"type":424,"value":1307},{"type":419,"tag":526,"props":2321,"children":2322},{"style":690},[2323],{"type":424,"value":1036},{"type":419,"tag":526,"props":2325,"children":2326},{"style":602},[2327],{"type":424,"value":1645},{"type":419,"tag":526,"props":2329,"children":2330},{"class":528,"line":1301},[2331,2335,2339,2344],{"type":419,"tag":526,"props":2332,"children":2333},{"style":557},[2334],{"type":424,"value":1491},{"type":419,"tag":526,"props":2336,"children":2337},{"style":545},[2338],{"type":424,"value":1496},{"type":419,"tag":526,"props":2340,"children":2341},{"style":1499},[2342],{"type":424,"value":2343}," 2",{"type":419,"tag":526,"props":2345,"children":2346},{"style":602},[2347],{"type":424,"value":1645},{"type":419,"tag":526,"props":2349,"children":2350},{"class":528,"line":1314},[2351],{"type":419,"tag":526,"props":2352,"children":2353},{"style":602},[2354],{"type":424,"value":1511},{"type":419,"tag":420,"props":2356,"children":2357},{},[2358],{"type":424,"value":2359},"此时得到的解可以约等于最优解了。当然，如果你觉得不稳的话，还可以使用 1px 步长去找。",{"type":419,"tag":420,"props":2361,"children":2362},{},[2363],{"type":424,"value":2364},"估算一下，原先需要截 245 次图片，现在直接降到 1/10，23 次。不过，也别太高兴，因为测试发现只做优化 2，解验证码的时候还是要 7s...",{"type":419,"tag":458,"props":2366,"children":2368},{"id":2367},"操作鼠标滑滑块",[2369],{"type":424,"value":2367},{"type":419,"tag":420,"props":2371,"children":2372},{},[2373],{"type":424,"value":2374},"缺口位置都搞定了，那移鼠标滑滑块儿还不简单嘛~",{"type":419,"tag":420,"props":2376,"children":2377},{},[2378,2380,2387],{"type":424,"value":2379},"Puppeteer 已经提供了",{"type":419,"tag":427,"props":2381,"children":2384},{"href":2382,"rel":2383},"http://puppeteerjs.com/#?product=Puppeteer&version=v10.2.0&show=api-class-mouse",[431],[2385],{"type":424,"value":2386},"鼠标相关的接口",{"type":424,"value":2388},"，一共四个：mouse.click、mouse.down、mouse.move、mouse.up，分别是点击、按下、移动和松开。使用 mouse.move 可以直接把鼠标位置移动到一个特定的坐标上。假设我们现在从坐标（100,100）花大约 1s 把鼠标移动到 （200,200），可以使用循环实现。",{"type":419,"tag":515,"props":2390,"children":2392},{"className":517,"code":2391,"language":519,"meta":413,"style":413},"const now = {\n  x: 100,\n  y: 100\n}\nconst target = {\n  time: 1000,\n  x: 200,\n  y: 200, \n}\nconst steps = 10\nconst step = {\n  x: Math.floor((target.x - now.x) / steps),\n  y: Math.floor((target.y - now.y) / steps),\n  time: target.time / steps\n}\nwhile (now.x \u003C target.x) {\n  await sleep(step.time)\n  now.x += step.x\n  now.y += step.y\n  await page.mouse.move(now)\n}\n",[2393],{"type":419,"tag":522,"props":2394,"children":2395},{"__ignoreMap":413},[2396,2416,2437,2454,2461,2481,2502,2522,2546,2553,2574,2594,2663,2728,2761,2768,2809,2843,2876,2909,2951],{"type":419,"tag":526,"props":2397,"children":2398},{"class":528,"line":529},[2399,2403,2408,2412],{"type":419,"tag":526,"props":2400,"children":2401},{"style":533},[2402],{"type":424,"value":536},{"type":419,"tag":526,"props":2404,"children":2405},{"style":539},[2406],{"type":424,"value":2407}," now",{"type":419,"tag":526,"props":2409,"children":2410},{"style":545},[2411],{"type":424,"value":548},{"type":419,"tag":526,"props":2413,"children":2414},{"style":602},[2415],{"type":424,"value":650},{"type":419,"tag":526,"props":2417,"children":2418},{"class":528,"line":584},[2419,2424,2428,2433],{"type":419,"tag":526,"props":2420,"children":2421},{"style":690},[2422],{"type":424,"value":2423},"  x",{"type":419,"tag":526,"props":2425,"children":2426},{"style":602},[2427],{"type":424,"value":1283},{"type":419,"tag":526,"props":2429,"children":2430},{"style":1499},[2431],{"type":424,"value":2432}," 100",{"type":419,"tag":526,"props":2434,"children":2435},{"style":602},[2436],{"type":424,"value":1367},{"type":419,"tag":526,"props":2438,"children":2439},{"class":528,"line":594},[2440,2445,2449],{"type":419,"tag":526,"props":2441,"children":2442},{"style":690},[2443],{"type":424,"value":2444},"  y",{"type":419,"tag":526,"props":2446,"children":2447},{"style":602},[2448],{"type":424,"value":1283},{"type":419,"tag":526,"props":2450,"children":2451},{"style":1499},[2452],{"type":424,"value":2453}," 100\n",{"type":419,"tag":526,"props":2455,"children":2456},{"class":528,"line":653},[2457],{"type":419,"tag":526,"props":2458,"children":2459},{"style":602},[2460],{"type":424,"value":1511},{"type":419,"tag":526,"props":2462,"children":2463},{"class":528,"line":696},[2464,2468,2473,2477],{"type":419,"tag":526,"props":2465,"children":2466},{"style":533},[2467],{"type":424,"value":536},{"type":419,"tag":526,"props":2469,"children":2470},{"style":539},[2471],{"type":424,"value":2472}," target",{"type":419,"tag":526,"props":2474,"children":2475},{"style":545},[2476],{"type":424,"value":548},{"type":419,"tag":526,"props":2478,"children":2479},{"style":602},[2480],{"type":424,"value":650},{"type":419,"tag":526,"props":2482,"children":2483},{"class":528,"line":739},[2484,2489,2493,2498],{"type":419,"tag":526,"props":2485,"children":2486},{"style":690},[2487],{"type":424,"value":2488},"  time",{"type":419,"tag":526,"props":2490,"children":2491},{"style":602},[2492],{"type":424,"value":1283},{"type":419,"tag":526,"props":2494,"children":2495},{"style":1499},[2496],{"type":424,"value":2497}," 1000",{"type":419,"tag":526,"props":2499,"children":2500},{"style":602},[2501],{"type":424,"value":1367},{"type":419,"tag":526,"props":2503,"children":2504},{"class":528,"line":1124},[2505,2509,2513,2518],{"type":419,"tag":526,"props":2506,"children":2507},{"style":690},[2508],{"type":424,"value":2423},{"type":419,"tag":526,"props":2510,"children":2511},{"style":602},[2512],{"type":424,"value":1283},{"type":419,"tag":526,"props":2514,"children":2515},{"style":1499},[2516],{"type":424,"value":2517}," 200",{"type":419,"tag":526,"props":2519,"children":2520},{"style":602},[2521],{"type":424,"value":1367},{"type":419,"tag":526,"props":2523,"children":2524},{"class":528,"line":1150},[2525,2529,2533,2537,2541],{"type":419,"tag":526,"props":2526,"children":2527},{"style":690},[2528],{"type":424,"value":2444},{"type":419,"tag":526,"props":2530,"children":2531},{"style":602},[2532],{"type":424,"value":1283},{"type":419,"tag":526,"props":2534,"children":2535},{"style":1499},[2536],{"type":424,"value":2517},{"type":419,"tag":526,"props":2538,"children":2539},{"style":602},[2540],{"type":424,"value":1026},{"type":419,"tag":526,"props":2542,"children":2543},{"style":557},[2544],{"type":424,"value":2545}," \n",{"type":419,"tag":526,"props":2547,"children":2548},{"class":528,"line":1158},[2549],{"type":419,"tag":526,"props":2550,"children":2551},{"style":602},[2552],{"type":424,"value":1511},{"type":419,"tag":526,"props":2554,"children":2555},{"class":528,"line":1167},[2556,2560,2565,2569],{"type":419,"tag":526,"props":2557,"children":2558},{"style":533},[2559],{"type":424,"value":536},{"type":419,"tag":526,"props":2561,"children":2562},{"style":539},[2563],{"type":424,"value":2564}," steps",{"type":419,"tag":526,"props":2566,"children":2567},{"style":545},[2568],{"type":424,"value":548},{"type":419,"tag":526,"props":2570,"children":2571},{"style":1499},[2572],{"type":424,"value":2573}," 10\n",{"type":419,"tag":526,"props":2575,"children":2576},{"class":528,"line":1175},[2577,2581,2586,2590],{"type":419,"tag":526,"props":2578,"children":2579},{"style":533},[2580],{"type":424,"value":536},{"type":419,"tag":526,"props":2582,"children":2583},{"style":539},[2584],{"type":424,"value":2585}," step",{"type":419,"tag":526,"props":2587,"children":2588},{"style":545},[2589],{"type":424,"value":548},{"type":419,"tag":526,"props":2591,"children":2592},{"style":602},[2593],{"type":424,"value":650},{"type":419,"tag":526,"props":2595,"children":2596},{"class":528,"line":1230},[2597,2601,2605,2609,2613,2618,2623,2627,2632,2636,2640,2644,2649,2654,2659],{"type":419,"tag":526,"props":2598,"children":2599},{"style":690},[2600],{"type":424,"value":2423},{"type":419,"tag":526,"props":2602,"children":2603},{"style":602},[2604],{"type":424,"value":1283},{"type":419,"tag":526,"props":2606,"children":2607},{"style":557},[2608],{"type":424,"value":1917},{"type":419,"tag":526,"props":2610,"children":2611},{"style":602},[2612],{"type":424,"value":605},{"type":419,"tag":526,"props":2614,"children":2615},{"style":551},[2616],{"type":424,"value":2617},"floor",{"type":419,"tag":526,"props":2619,"children":2620},{"style":557},[2621],{"type":424,"value":2622},"((target",{"type":419,"tag":526,"props":2624,"children":2625},{"style":602},[2626],{"type":424,"value":605},{"type":419,"tag":526,"props":2628,"children":2629},{"style":557},[2630],{"type":424,"value":2631},"x ",{"type":419,"tag":526,"props":2633,"children":2634},{"style":545},[2635],{"type":424,"value":2101},{"type":419,"tag":526,"props":2637,"children":2638},{"style":557},[2639],{"type":424,"value":2407},{"type":419,"tag":526,"props":2641,"children":2642},{"style":602},[2643],{"type":424,"value":605},{"type":419,"tag":526,"props":2645,"children":2646},{"style":557},[2647],{"type":424,"value":2648},"x) ",{"type":419,"tag":526,"props":2650,"children":2651},{"style":545},[2652],{"type":424,"value":2653},"/",{"type":419,"tag":526,"props":2655,"children":2656},{"style":557},[2657],{"type":424,"value":2658}," steps)",{"type":419,"tag":526,"props":2660,"children":2661},{"style":602},[2662],{"type":424,"value":1367},{"type":419,"tag":526,"props":2664,"children":2665},{"class":528,"line":1272},[2666,2670,2674,2678,2682,2686,2690,2694,2699,2703,2707,2711,2716,2720,2724],{"type":419,"tag":526,"props":2667,"children":2668},{"style":690},[2669],{"type":424,"value":2444},{"type":419,"tag":526,"props":2671,"children":2672},{"style":602},[2673],{"type":424,"value":1283},{"type":419,"tag":526,"props":2675,"children":2676},{"style":557},[2677],{"type":424,"value":1917},{"type":419,"tag":526,"props":2679,"children":2680},{"style":602},[2681],{"type":424,"value":605},{"type":419,"tag":526,"props":2683,"children":2684},{"style":551},[2685],{"type":424,"value":2617},{"type":419,"tag":526,"props":2687,"children":2688},{"style":557},[2689],{"type":424,"value":2622},{"type":419,"tag":526,"props":2691,"children":2692},{"style":602},[2693],{"type":424,"value":605},{"type":419,"tag":526,"props":2695,"children":2696},{"style":557},[2697],{"type":424,"value":2698},"y ",{"type":419,"tag":526,"props":2700,"children":2701},{"style":545},[2702],{"type":424,"value":2101},{"type":419,"tag":526,"props":2704,"children":2705},{"style":557},[2706],{"type":424,"value":2407},{"type":419,"tag":526,"props":2708,"children":2709},{"style":602},[2710],{"type":424,"value":605},{"type":419,"tag":526,"props":2712,"children":2713},{"style":557},[2714],{"type":424,"value":2715},"y) ",{"type":419,"tag":526,"props":2717,"children":2718},{"style":545},[2719],{"type":424,"value":2653},{"type":419,"tag":526,"props":2721,"children":2722},{"style":557},[2723],{"type":424,"value":2658},{"type":419,"tag":526,"props":2725,"children":2726},{"style":602},[2727],{"type":424,"value":1367},{"type":419,"tag":526,"props":2729,"children":2730},{"class":528,"line":1301},[2731,2735,2739,2743,2747,2752,2756],{"type":419,"tag":526,"props":2732,"children":2733},{"style":690},[2734],{"type":424,"value":2488},{"type":419,"tag":526,"props":2736,"children":2737},{"style":602},[2738],{"type":424,"value":1283},{"type":419,"tag":526,"props":2740,"children":2741},{"style":557},[2742],{"type":424,"value":2472},{"type":419,"tag":526,"props":2744,"children":2745},{"style":602},[2746],{"type":424,"value":605},{"type":419,"tag":526,"props":2748,"children":2749},{"style":557},[2750],{"type":424,"value":2751},"time ",{"type":419,"tag":526,"props":2753,"children":2754},{"style":545},[2755],{"type":424,"value":2653},{"type":419,"tag":526,"props":2757,"children":2758},{"style":557},[2759],{"type":424,"value":2760}," steps\n",{"type":419,"tag":526,"props":2762,"children":2763},{"class":528,"line":1314},[2764],{"type":419,"tag":526,"props":2765,"children":2766},{"style":602},[2767],{"type":424,"value":1511},{"type":419,"tag":526,"props":2769,"children":2770},{"class":528,"line":1348},[2771,2775,2780,2784,2788,2793,2797,2801,2805],{"type":419,"tag":526,"props":2772,"children":2773},{"style":671},[2774],{"type":424,"value":940},{"type":419,"tag":526,"props":2776,"children":2777},{"style":557},[2778],{"type":424,"value":2779}," (now",{"type":419,"tag":526,"props":2781,"children":2782},{"style":602},[2783],{"type":424,"value":605},{"type":419,"tag":526,"props":2785,"children":2786},{"style":557},[2787],{"type":424,"value":2631},{"type":419,"tag":526,"props":2789,"children":2790},{"style":545},[2791],{"type":424,"value":2792},"\u003C",{"type":419,"tag":526,"props":2794,"children":2795},{"style":557},[2796],{"type":424,"value":2472},{"type":419,"tag":526,"props":2798,"children":2799},{"style":602},[2800],{"type":424,"value":605},{"type":419,"tag":526,"props":2802,"children":2803},{"style":557},[2804],{"type":424,"value":2648},{"type":419,"tag":526,"props":2806,"children":2807},{"style":602},[2808],{"type":424,"value":960},{"type":419,"tag":526,"props":2810,"children":2811},{"class":528,"line":1370},[2812,2816,2821,2825,2830,2834,2839],{"type":419,"tag":526,"props":2813,"children":2814},{"style":671},[2815],{"type":424,"value":702},{"type":419,"tag":526,"props":2817,"children":2818},{"style":551},[2819],{"type":424,"value":2820}," sleep",{"type":419,"tag":526,"props":2822,"children":2823},{"style":690},[2824],{"type":424,"value":560},{"type":419,"tag":526,"props":2826,"children":2827},{"style":557},[2828],{"type":424,"value":2829},"step",{"type":419,"tag":526,"props":2831,"children":2832},{"style":602},[2833],{"type":424,"value":605},{"type":419,"tag":526,"props":2835,"children":2836},{"style":557},[2837],{"type":424,"value":2838},"time",{"type":419,"tag":526,"props":2840,"children":2841},{"style":690},[2842],{"type":424,"value":581},{"type":419,"tag":526,"props":2844,"children":2845},{"class":528,"line":1388},[2846,2851,2855,2859,2863,2867,2871],{"type":419,"tag":526,"props":2847,"children":2848},{"style":557},[2849],{"type":424,"value":2850},"  now",{"type":419,"tag":526,"props":2852,"children":2853},{"style":602},[2854],{"type":424,"value":605},{"type":419,"tag":526,"props":2856,"children":2857},{"style":557},[2858],{"type":424,"value":1962},{"type":419,"tag":526,"props":2860,"children":2861},{"style":545},[2862],{"type":424,"value":1496},{"type":419,"tag":526,"props":2864,"children":2865},{"style":557},[2866],{"type":424,"value":2585},{"type":419,"tag":526,"props":2868,"children":2869},{"style":602},[2870],{"type":424,"value":605},{"type":419,"tag":526,"props":2872,"children":2873},{"style":557},[2874],{"type":424,"value":2875},"x\n",{"type":419,"tag":526,"props":2877,"children":2878},{"class":528,"line":1400},[2879,2883,2887,2892,2896,2900,2904],{"type":419,"tag":526,"props":2880,"children":2881},{"style":557},[2882],{"type":424,"value":2850},{"type":419,"tag":526,"props":2884,"children":2885},{"style":602},[2886],{"type":424,"value":605},{"type":419,"tag":526,"props":2888,"children":2889},{"style":557},[2890],{"type":424,"value":2891},"y",{"type":419,"tag":526,"props":2893,"children":2894},{"style":545},[2895],{"type":424,"value":1496},{"type":419,"tag":526,"props":2897,"children":2898},{"style":557},[2899],{"type":424,"value":2585},{"type":419,"tag":526,"props":2901,"children":2902},{"style":602},[2903],{"type":424,"value":605},{"type":419,"tag":526,"props":2905,"children":2906},{"style":557},[2907],{"type":424,"value":2908},"y\n",{"type":419,"tag":526,"props":2910,"children":2911},{"class":528,"line":1426},[2912,2916,2920,2924,2929,2933,2938,2942,2947],{"type":419,"tag":526,"props":2913,"children":2914},{"style":671},[2915],{"type":424,"value":702},{"type":419,"tag":526,"props":2917,"children":2918},{"style":557},[2919],{"type":424,"value":664},{"type":419,"tag":526,"props":2921,"children":2922},{"style":602},[2923],{"type":424,"value":605},{"type":419,"tag":526,"props":2925,"children":2926},{"style":557},[2927],{"type":424,"value":2928},"mouse",{"type":419,"tag":526,"props":2930,"children":2931},{"style":602},[2932],{"type":424,"value":605},{"type":419,"tag":526,"props":2934,"children":2935},{"style":551},[2936],{"type":424,"value":2937},"move",{"type":419,"tag":526,"props":2939,"children":2940},{"style":690},[2941],{"type":424,"value":560},{"type":419,"tag":526,"props":2943,"children":2944},{"style":557},[2945],{"type":424,"value":2946},"now",{"type":419,"tag":526,"props":2948,"children":2949},{"style":690},[2950],{"type":424,"value":581},{"type":419,"tag":526,"props":2952,"children":2953},{"class":528,"line":1439},[2954],{"type":419,"tag":526,"props":2955,"children":2956},{"style":602},[2957],{"type":424,"value":1511},{"type":419,"tag":458,"props":2959,"children":2961},{"id":2960},"鼠标轨迹优化",[2962],{"type":424,"value":2960},{"type":419,"tag":420,"props":2964,"children":2965},{},[2966],{"type":424,"value":2967},"害，要是打游戏的时候也像这段代码一样，我想我的手点到哪儿它就点到哪儿就好了~",{"type":419,"tag":420,"props":2969,"children":2970},{},[2971],{"type":424,"value":2972},"机器是不会手抖的，这段代码和真实世界的滑动效果相差太远了！我们看一张我用手滑的效果，尤其是要仔细观察滑动过程中鼠标的位置。",{"type":419,"tag":420,"props":2974,"children":2975},{},[2976],{"type":419,"tag":446,"props":2977,"children":2980},{"alt":2978,"src":2979},"鼠标轨迹不稳定","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/soov8Gny09.gif",[],{"type":419,"tag":2982,"props":2983,"children":2984},"ul",{},[2985,2990],{"type":419,"tag":473,"props":2986,"children":2987},{},[2988],{"type":424,"value":2989},"鼠标 Y 轴位置总是在变",{"type":419,"tag":473,"props":2991,"children":2992},{},[2993],{"type":424,"value":2994},"鼠标 X 轴位置会滑过头（别笑，你肯定也经常划过头）",{"type":419,"tag":420,"props":2996,"children":2997},{},[2998],{"type":424,"value":2999},"这里做一波小优化，把这两个细节整合进去。",{"type":419,"tag":515,"props":3001,"children":3003},{"className":517,"code":3002,"language":519,"meta":413,"style":413},"// 获得一个随机的偏移量\nconst getRandOffset = (randNegative = true, max = 3) => {\n  const negative = randNeagtive\n    ? (Math.random() \u003C 0.5) ? -1 : 1\n    : 1\n  return Math.floor(Math.random() * max) * negative\n}\n\n// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\nconst points = [\n  {\n    time: 1000,\n    x: 200 + getRandOffset(false, 15),\n    y: 200 + getRandOffset(false, 15),\n    steps: 10\n  },\n  {\n    time: 100,\n    x: 200,\n    y: 200,\n    steps: 3\n  }\n]\n\n// 注意这里用 for await 循环把 points 串起来执行\nfor await (const target of points) {\n  const step = {\n    x: Math.floor((target.x - now.x) / target.steps),\n    y: Math.floor((target.y - now.y) / target.steps),\n    time: target.time / target.steps,\n  }\n  let gap\n  while (gap = Math.abs((target.x - now.x)), gap > 0) {\n    await sleep(step.time)\n    // 最后一步就直接滑动到位，不需要随机数了\n    const inOneStep = Math.abs(target.x - now.x) \u003C= Math.abs(step.x);\n    if (inOneStep) {\n      now.x = target.x;\n      now.y = target.y;\n    } else {\n      now.x += step.x + getRandOffset();\n      now.y += step.y + getRandOffset();\n    }\n    moveMouseTo(now)\n  }\n}\n",[3004],{"type":419,"tag":522,"props":3005,"children":3006},{"__ignoreMap":413},[3007,3015,3081,3102,3170,3182,3244,3251,3258,3266,3287,3295,3315,3365,3413,3429,3437,3444,3463,3482,3501,3517,3525,3533,3540,3548,3587,3607,3694,3778,3823,3831,3845,3944,3977,3986,4092,4118,4155,4191,4209,4257,4305,4314,4335,4343],{"type":419,"tag":526,"props":3008,"children":3009},{"class":528,"line":529},[3010],{"type":419,"tag":526,"props":3011,"children":3012},{"style":973},[3013],{"type":424,"value":3014},"// 获得一个随机的偏移量\n",{"type":419,"tag":526,"props":3016,"children":3017},{"class":528,"line":584},[3018,3022,3028,3032,3036,3041,3045,3051,3055,3060,3064,3069,3073,3077],{"type":419,"tag":526,"props":3019,"children":3020},{"style":533},[3021],{"type":424,"value":536},{"type":419,"tag":526,"props":3023,"children":3025},{"style":3024},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3026],{"type":424,"value":3027}," getRandOffset",{"type":419,"tag":526,"props":3029,"children":3030},{"style":545},[3031],{"type":424,"value":548},{"type":419,"tag":526,"props":3033,"children":3034},{"style":602},[3035],{"type":424,"value":1016},{"type":419,"tag":526,"props":3037,"children":3038},{"style":637},[3039],{"type":424,"value":3040},"randNegative",{"type":419,"tag":526,"props":3042,"children":3043},{"style":545},[3044],{"type":424,"value":548},{"type":419,"tag":526,"props":3046,"children":3048},{"style":3047},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3049],{"type":424,"value":3050}," true",{"type":419,"tag":526,"props":3052,"children":3053},{"style":602},[3054],{"type":424,"value":1026},{"type":419,"tag":526,"props":3056,"children":3057},{"style":637},[3058],{"type":424,"value":3059}," max",{"type":419,"tag":526,"props":3061,"children":3062},{"style":545},[3063],{"type":424,"value":548},{"type":419,"tag":526,"props":3065,"children":3066},{"style":1499},[3067],{"type":424,"value":3068}," 3",{"type":419,"tag":526,"props":3070,"children":3071},{"style":602},[3072],{"type":424,"value":1036},{"type":419,"tag":526,"props":3074,"children":3075},{"style":533},[3076],{"type":424,"value":645},{"type":419,"tag":526,"props":3078,"children":3079},{"style":602},[3080],{"type":424,"value":650},{"type":419,"tag":526,"props":3082,"children":3083},{"class":528,"line":594},[3084,3088,3093,3097],{"type":419,"tag":526,"props":3085,"children":3086},{"style":533},[3087],{"type":424,"value":659},{"type":419,"tag":526,"props":3089,"children":3090},{"style":539},[3091],{"type":424,"value":3092}," negative",{"type":419,"tag":526,"props":3094,"children":3095},{"style":545},[3096],{"type":424,"value":548},{"type":419,"tag":526,"props":3098,"children":3099},{"style":557},[3100],{"type":424,"value":3101}," randNeagtive\n",{"type":419,"tag":526,"props":3103,"children":3104},{"class":528,"line":653},[3105,3110,3114,3119,3123,3128,3133,3137,3142,3147,3152,3157,3161,3166],{"type":419,"tag":526,"props":3106,"children":3107},{"style":545},[3108],{"type":424,"value":3109},"    ?",{"type":419,"tag":526,"props":3111,"children":3112},{"style":690},[3113],{"type":424,"value":1016},{"type":419,"tag":526,"props":3115,"children":3116},{"style":557},[3117],{"type":424,"value":3118},"Math",{"type":419,"tag":526,"props":3120,"children":3121},{"style":602},[3122],{"type":424,"value":605},{"type":419,"tag":526,"props":3124,"children":3125},{"style":551},[3126],{"type":424,"value":3127},"random",{"type":419,"tag":526,"props":3129,"children":3130},{"style":690},[3131],{"type":424,"value":3132},"() ",{"type":419,"tag":526,"props":3134,"children":3135},{"style":545},[3136],{"type":424,"value":2792},{"type":419,"tag":526,"props":3138,"children":3139},{"style":1499},[3140],{"type":424,"value":3141}," 0.5",{"type":419,"tag":526,"props":3143,"children":3144},{"style":690},[3145],{"type":424,"value":3146},") ",{"type":419,"tag":526,"props":3148,"children":3149},{"style":545},[3150],{"type":424,"value":3151},"?",{"type":419,"tag":526,"props":3153,"children":3154},{"style":545},[3155],{"type":424,"value":3156}," -",{"type":419,"tag":526,"props":3158,"children":3159},{"style":1499},[3160],{"type":424,"value":846},{"type":419,"tag":526,"props":3162,"children":3163},{"style":545},[3164],{"type":424,"value":3165}," :",{"type":419,"tag":526,"props":3167,"children":3168},{"style":1499},[3169],{"type":424,"value":1502},{"type":419,"tag":526,"props":3171,"children":3172},{"class":528,"line":696},[3173,3178],{"type":419,"tag":526,"props":3174,"children":3175},{"style":545},[3176],{"type":424,"value":3177},"    :",{"type":419,"tag":526,"props":3179,"children":3180},{"style":1499},[3181],{"type":424,"value":1502},{"type":419,"tag":526,"props":3183,"children":3184},{"class":528,"line":739},[3185,3190,3194,3198,3202,3206,3210,3214,3218,3222,3227,3231,3235,3239],{"type":419,"tag":526,"props":3186,"children":3187},{"style":671},[3188],{"type":424,"value":3189},"  return",{"type":419,"tag":526,"props":3191,"children":3192},{"style":557},[3193],{"type":424,"value":1917},{"type":419,"tag":526,"props":3195,"children":3196},{"style":602},[3197],{"type":424,"value":605},{"type":419,"tag":526,"props":3199,"children":3200},{"style":551},[3201],{"type":424,"value":2617},{"type":419,"tag":526,"props":3203,"children":3204},{"style":690},[3205],{"type":424,"value":560},{"type":419,"tag":526,"props":3207,"children":3208},{"style":557},[3209],{"type":424,"value":3118},{"type":419,"tag":526,"props":3211,"children":3212},{"style":602},[3213],{"type":424,"value":605},{"type":419,"tag":526,"props":3215,"children":3216},{"style":551},[3217],{"type":424,"value":3127},{"type":419,"tag":526,"props":3219,"children":3220},{"style":690},[3221],{"type":424,"value":3132},{"type":419,"tag":526,"props":3223,"children":3224},{"style":545},[3225],{"type":424,"value":3226},"*",{"type":419,"tag":526,"props":3228,"children":3229},{"style":557},[3230],{"type":424,"value":3059},{"type":419,"tag":526,"props":3232,"children":3233},{"style":690},[3234],{"type":424,"value":3146},{"type":419,"tag":526,"props":3236,"children":3237},{"style":545},[3238],{"type":424,"value":3226},{"type":419,"tag":526,"props":3240,"children":3241},{"style":557},[3242],{"type":424,"value":3243}," negative\n",{"type":419,"tag":526,"props":3245,"children":3246},{"class":528,"line":1124},[3247],{"type":419,"tag":526,"props":3248,"children":3249},{"style":602},[3250],{"type":424,"value":1511},{"type":419,"tag":526,"props":3252,"children":3253},{"class":528,"line":1150},[3254],{"type":419,"tag":526,"props":3255,"children":3256},{"emptyLinePlaceholder":588},[3257],{"type":424,"value":591},{"type":419,"tag":526,"props":3259,"children":3260},{"class":528,"line":1158},[3261],{"type":419,"tag":526,"props":3262,"children":3263},{"style":973},[3264],{"type":424,"value":3265},"// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\n",{"type":419,"tag":526,"props":3267,"children":3268},{"class":528,"line":1167},[3269,3273,3278,3282],{"type":419,"tag":526,"props":3270,"children":3271},{"style":533},[3272],{"type":424,"value":536},{"type":419,"tag":526,"props":3274,"children":3275},{"style":539},[3276],{"type":424,"value":3277}," points",{"type":419,"tag":526,"props":3279,"children":3280},{"style":545},[3281],{"type":424,"value":548},{"type":419,"tag":526,"props":3283,"children":3284},{"style":557},[3285],{"type":424,"value":3286}," [\n",{"type":419,"tag":526,"props":3288,"children":3289},{"class":528,"line":1175},[3290],{"type":419,"tag":526,"props":3291,"children":3292},{"style":602},[3293],{"type":424,"value":3294},"  {\n",{"type":419,"tag":526,"props":3296,"children":3297},{"class":528,"line":1230},[3298,3303,3307,3311],{"type":419,"tag":526,"props":3299,"children":3300},{"style":690},[3301],{"type":424,"value":3302},"    time",{"type":419,"tag":526,"props":3304,"children":3305},{"style":602},[3306],{"type":424,"value":1283},{"type":419,"tag":526,"props":3308,"children":3309},{"style":1499},[3310],{"type":424,"value":2497},{"type":419,"tag":526,"props":3312,"children":3313},{"style":602},[3314],{"type":424,"value":1367},{"type":419,"tag":526,"props":3316,"children":3317},{"class":528,"line":1272},[3318,3323,3327,3331,3336,3340,3344,3349,3353,3357,3361],{"type":419,"tag":526,"props":3319,"children":3320},{"style":690},[3321],{"type":424,"value":3322},"    x",{"type":419,"tag":526,"props":3324,"children":3325},{"style":602},[3326],{"type":424,"value":1283},{"type":419,"tag":526,"props":3328,"children":3329},{"style":1499},[3330],{"type":424,"value":2517},{"type":419,"tag":526,"props":3332,"children":3333},{"style":545},[3334],{"type":424,"value":3335}," +",{"type":419,"tag":526,"props":3337,"children":3338},{"style":551},[3339],{"type":424,"value":3027},{"type":419,"tag":526,"props":3341,"children":3342},{"style":557},[3343],{"type":424,"value":560},{"type":419,"tag":526,"props":3345,"children":3346},{"style":3047},[3347],{"type":424,"value":3348},"false",{"type":419,"tag":526,"props":3350,"children":3351},{"style":602},[3352],{"type":424,"value":1026},{"type":419,"tag":526,"props":3354,"children":3355},{"style":1499},[3356],{"type":424,"value":1873},{"type":419,"tag":526,"props":3358,"children":3359},{"style":557},[3360],{"type":424,"value":1036},{"type":419,"tag":526,"props":3362,"children":3363},{"style":602},[3364],{"type":424,"value":1367},{"type":419,"tag":526,"props":3366,"children":3367},{"class":528,"line":1301},[3368,3373,3377,3381,3385,3389,3393,3397,3401,3405,3409],{"type":419,"tag":526,"props":3369,"children":3370},{"style":690},[3371],{"type":424,"value":3372},"    y",{"type":419,"tag":526,"props":3374,"children":3375},{"style":602},[3376],{"type":424,"value":1283},{"type":419,"tag":526,"props":3378,"children":3379},{"style":1499},[3380],{"type":424,"value":2517},{"type":419,"tag":526,"props":3382,"children":3383},{"style":545},[3384],{"type":424,"value":3335},{"type":419,"tag":526,"props":3386,"children":3387},{"style":551},[3388],{"type":424,"value":3027},{"type":419,"tag":526,"props":3390,"children":3391},{"style":557},[3392],{"type":424,"value":560},{"type":419,"tag":526,"props":3394,"children":3395},{"style":3047},[3396],{"type":424,"value":3348},{"type":419,"tag":526,"props":3398,"children":3399},{"style":602},[3400],{"type":424,"value":1026},{"type":419,"tag":526,"props":3402,"children":3403},{"style":1499},[3404],{"type":424,"value":1873},{"type":419,"tag":526,"props":3406,"children":3407},{"style":557},[3408],{"type":424,"value":1036},{"type":419,"tag":526,"props":3410,"children":3411},{"style":602},[3412],{"type":424,"value":1367},{"type":419,"tag":526,"props":3414,"children":3415},{"class":528,"line":1314},[3416,3421,3425],{"type":419,"tag":526,"props":3417,"children":3418},{"style":690},[3419],{"type":424,"value":3420},"    steps",{"type":419,"tag":526,"props":3422,"children":3423},{"style":602},[3424],{"type":424,"value":1283},{"type":419,"tag":526,"props":3426,"children":3427},{"style":1499},[3428],{"type":424,"value":2573},{"type":419,"tag":526,"props":3430,"children":3431},{"class":528,"line":1348},[3432],{"type":419,"tag":526,"props":3433,"children":3434},{"style":602},[3435],{"type":424,"value":3436},"  },\n",{"type":419,"tag":526,"props":3438,"children":3439},{"class":528,"line":1370},[3440],{"type":419,"tag":526,"props":3441,"children":3442},{"style":602},[3443],{"type":424,"value":3294},{"type":419,"tag":526,"props":3445,"children":3446},{"class":528,"line":1388},[3447,3451,3455,3459],{"type":419,"tag":526,"props":3448,"children":3449},{"style":690},[3450],{"type":424,"value":3302},{"type":419,"tag":526,"props":3452,"children":3453},{"style":602},[3454],{"type":424,"value":1283},{"type":419,"tag":526,"props":3456,"children":3457},{"style":1499},[3458],{"type":424,"value":2432},{"type":419,"tag":526,"props":3460,"children":3461},{"style":602},[3462],{"type":424,"value":1367},{"type":419,"tag":526,"props":3464,"children":3465},{"class":528,"line":1400},[3466,3470,3474,3478],{"type":419,"tag":526,"props":3467,"children":3468},{"style":690},[3469],{"type":424,"value":3322},{"type":419,"tag":526,"props":3471,"children":3472},{"style":602},[3473],{"type":424,"value":1283},{"type":419,"tag":526,"props":3475,"children":3476},{"style":1499},[3477],{"type":424,"value":2517},{"type":419,"tag":526,"props":3479,"children":3480},{"style":602},[3481],{"type":424,"value":1367},{"type":419,"tag":526,"props":3483,"children":3484},{"class":528,"line":1426},[3485,3489,3493,3497],{"type":419,"tag":526,"props":3486,"children":3487},{"style":690},[3488],{"type":424,"value":3372},{"type":419,"tag":526,"props":3490,"children":3491},{"style":602},[3492],{"type":424,"value":1283},{"type":419,"tag":526,"props":3494,"children":3495},{"style":1499},[3496],{"type":424,"value":2517},{"type":419,"tag":526,"props":3498,"children":3499},{"style":602},[3500],{"type":424,"value":1367},{"type":419,"tag":526,"props":3502,"children":3503},{"class":528,"line":1439},[3504,3508,3512],{"type":419,"tag":526,"props":3505,"children":3506},{"style":690},[3507],{"type":424,"value":3420},{"type":419,"tag":526,"props":3509,"children":3510},{"style":602},[3511],{"type":424,"value":1283},{"type":419,"tag":526,"props":3513,"children":3514},{"style":1499},[3515],{"type":424,"value":3516}," 3\n",{"type":419,"tag":526,"props":3518,"children":3519},{"class":528,"line":1465},[3520],{"type":419,"tag":526,"props":3521,"children":3522},{"style":602},[3523],{"type":424,"value":3524},"  }\n",{"type":419,"tag":526,"props":3526,"children":3527},{"class":528,"line":1477},[3528],{"type":419,"tag":526,"props":3529,"children":3530},{"style":557},[3531],{"type":424,"value":3532},"]\n",{"type":419,"tag":526,"props":3534,"children":3535},{"class":528,"line":1485},[3536],{"type":419,"tag":526,"props":3537,"children":3538},{"emptyLinePlaceholder":588},[3539],{"type":424,"value":591},{"type":419,"tag":526,"props":3541,"children":3542},{"class":528,"line":1505},[3543],{"type":419,"tag":526,"props":3544,"children":3545},{"style":973},[3546],{"type":424,"value":3547},"// 注意这里用 for await 循环把 points 串起来执行\n",{"type":419,"tag":526,"props":3549,"children":3551},{"class":528,"line":3550},26,[3552,3557,3561,3565,3569,3573,3578,3583],{"type":419,"tag":526,"props":3553,"children":3554},{"style":671},[3555],{"type":424,"value":3556},"for",{"type":419,"tag":526,"props":3558,"children":3559},{"style":671},[3560],{"type":424,"value":674},{"type":419,"tag":526,"props":3562,"children":3563},{"style":557},[3564],{"type":424,"value":1016},{"type":419,"tag":526,"props":3566,"children":3567},{"style":533},[3568],{"type":424,"value":536},{"type":419,"tag":526,"props":3570,"children":3571},{"style":539},[3572],{"type":424,"value":2472},{"type":419,"tag":526,"props":3574,"children":3575},{"style":545},[3576],{"type":424,"value":3577}," of",{"type":419,"tag":526,"props":3579,"children":3580},{"style":557},[3581],{"type":424,"value":3582}," points) ",{"type":419,"tag":526,"props":3584,"children":3585},{"style":602},[3586],{"type":424,"value":960},{"type":419,"tag":526,"props":3588,"children":3590},{"class":528,"line":3589},27,[3591,3595,3599,3603],{"type":419,"tag":526,"props":3592,"children":3593},{"style":533},[3594],{"type":424,"value":659},{"type":419,"tag":526,"props":3596,"children":3597},{"style":539},[3598],{"type":424,"value":2585},{"type":419,"tag":526,"props":3600,"children":3601},{"style":545},[3602],{"type":424,"value":548},{"type":419,"tag":526,"props":3604,"children":3605},{"style":602},[3606],{"type":424,"value":650},{"type":419,"tag":526,"props":3608,"children":3610},{"class":528,"line":3609},28,[3611,3615,3619,3623,3627,3631,3636,3641,3645,3649,3653,3657,3661,3665,3669,3673,3677,3681,3686,3690],{"type":419,"tag":526,"props":3612,"children":3613},{"style":690},[3614],{"type":424,"value":3322},{"type":419,"tag":526,"props":3616,"children":3617},{"style":602},[3618],{"type":424,"value":1283},{"type":419,"tag":526,"props":3620,"children":3621},{"style":557},[3622],{"type":424,"value":1917},{"type":419,"tag":526,"props":3624,"children":3625},{"style":602},[3626],{"type":424,"value":605},{"type":419,"tag":526,"props":3628,"children":3629},{"style":551},[3630],{"type":424,"value":2617},{"type":419,"tag":526,"props":3632,"children":3633},{"style":690},[3634],{"type":424,"value":3635},"((",{"type":419,"tag":526,"props":3637,"children":3638},{"style":557},[3639],{"type":424,"value":3640},"target",{"type":419,"tag":526,"props":3642,"children":3643},{"style":602},[3644],{"type":424,"value":605},{"type":419,"tag":526,"props":3646,"children":3647},{"style":557},[3648],{"type":424,"value":1962},{"type":419,"tag":526,"props":3650,"children":3651},{"style":545},[3652],{"type":424,"value":3156},{"type":419,"tag":526,"props":3654,"children":3655},{"style":557},[3656],{"type":424,"value":2407},{"type":419,"tag":526,"props":3658,"children":3659},{"style":602},[3660],{"type":424,"value":605},{"type":419,"tag":526,"props":3662,"children":3663},{"style":557},[3664],{"type":424,"value":1962},{"type":419,"tag":526,"props":3666,"children":3667},{"style":690},[3668],{"type":424,"value":3146},{"type":419,"tag":526,"props":3670,"children":3671},{"style":545},[3672],{"type":424,"value":2653},{"type":419,"tag":526,"props":3674,"children":3675},{"style":557},[3676],{"type":424,"value":2472},{"type":419,"tag":526,"props":3678,"children":3679},{"style":602},[3680],{"type":424,"value":605},{"type":419,"tag":526,"props":3682,"children":3683},{"style":557},[3684],{"type":424,"value":3685},"steps",{"type":419,"tag":526,"props":3687,"children":3688},{"style":690},[3689],{"type":424,"value":1036},{"type":419,"tag":526,"props":3691,"children":3692},{"style":602},[3693],{"type":424,"value":1367},{"type":419,"tag":526,"props":3695,"children":3697},{"class":528,"line":3696},29,[3698,3702,3706,3710,3714,3718,3722,3726,3730,3734,3738,3742,3746,3750,3754,3758,3762,3766,3770,3774],{"type":419,"tag":526,"props":3699,"children":3700},{"style":690},[3701],{"type":424,"value":3372},{"type":419,"tag":526,"props":3703,"children":3704},{"style":602},[3705],{"type":424,"value":1283},{"type":419,"tag":526,"props":3707,"children":3708},{"style":557},[3709],{"type":424,"value":1917},{"type":419,"tag":526,"props":3711,"children":3712},{"style":602},[3713],{"type":424,"value":605},{"type":419,"tag":526,"props":3715,"children":3716},{"style":551},[3717],{"type":424,"value":2617},{"type":419,"tag":526,"props":3719,"children":3720},{"style":690},[3721],{"type":424,"value":3635},{"type":419,"tag":526,"props":3723,"children":3724},{"style":557},[3725],{"type":424,"value":3640},{"type":419,"tag":526,"props":3727,"children":3728},{"style":602},[3729],{"type":424,"value":605},{"type":419,"tag":526,"props":3731,"children":3732},{"style":557},[3733],{"type":424,"value":2891},{"type":419,"tag":526,"props":3735,"children":3736},{"style":545},[3737],{"type":424,"value":3156},{"type":419,"tag":526,"props":3739,"children":3740},{"style":557},[3741],{"type":424,"value":2407},{"type":419,"tag":526,"props":3743,"children":3744},{"style":602},[3745],{"type":424,"value":605},{"type":419,"tag":526,"props":3747,"children":3748},{"style":557},[3749],{"type":424,"value":2891},{"type":419,"tag":526,"props":3751,"children":3752},{"style":690},[3753],{"type":424,"value":3146},{"type":419,"tag":526,"props":3755,"children":3756},{"style":545},[3757],{"type":424,"value":2653},{"type":419,"tag":526,"props":3759,"children":3760},{"style":557},[3761],{"type":424,"value":2472},{"type":419,"tag":526,"props":3763,"children":3764},{"style":602},[3765],{"type":424,"value":605},{"type":419,"tag":526,"props":3767,"children":3768},{"style":557},[3769],{"type":424,"value":3685},{"type":419,"tag":526,"props":3771,"children":3772},{"style":690},[3773],{"type":424,"value":1036},{"type":419,"tag":526,"props":3775,"children":3776},{"style":602},[3777],{"type":424,"value":1367},{"type":419,"tag":526,"props":3779,"children":3781},{"class":528,"line":3780},30,[3782,3786,3790,3794,3798,3802,3807,3811,3815,3819],{"type":419,"tag":526,"props":3783,"children":3784},{"style":690},[3785],{"type":424,"value":3302},{"type":419,"tag":526,"props":3787,"children":3788},{"style":602},[3789],{"type":424,"value":1283},{"type":419,"tag":526,"props":3791,"children":3792},{"style":557},[3793],{"type":424,"value":2472},{"type":419,"tag":526,"props":3795,"children":3796},{"style":602},[3797],{"type":424,"value":605},{"type":419,"tag":526,"props":3799,"children":3800},{"style":557},[3801],{"type":424,"value":2838},{"type":419,"tag":526,"props":3803,"children":3804},{"style":545},[3805],{"type":424,"value":3806}," /",{"type":419,"tag":526,"props":3808,"children":3809},{"style":557},[3810],{"type":424,"value":2472},{"type":419,"tag":526,"props":3812,"children":3813},{"style":602},[3814],{"type":424,"value":605},{"type":419,"tag":526,"props":3816,"children":3817},{"style":557},[3818],{"type":424,"value":3685},{"type":419,"tag":526,"props":3820,"children":3821},{"style":602},[3822],{"type":424,"value":1367},{"type":419,"tag":526,"props":3824,"children":3826},{"class":528,"line":3825},31,[3827],{"type":419,"tag":526,"props":3828,"children":3829},{"style":602},[3830],{"type":424,"value":3524},{"type":419,"tag":526,"props":3832,"children":3834},{"class":528,"line":3833},32,[3835,3840],{"type":419,"tag":526,"props":3836,"children":3837},{"style":533},[3838],{"type":424,"value":3839},"  let",{"type":419,"tag":526,"props":3841,"children":3842},{"style":557},[3843],{"type":424,"value":3844}," gap\n",{"type":419,"tag":526,"props":3846,"children":3848},{"class":528,"line":3847},33,[3849,3854,3858,3863,3867,3871,3875,3880,3884,3888,3892,3896,3900,3904,3908,3912,3917,3921,3926,3931,3936,3940],{"type":419,"tag":526,"props":3850,"children":3851},{"style":671},[3852],{"type":424,"value":3853},"  while",{"type":419,"tag":526,"props":3855,"children":3856},{"style":690},[3857],{"type":424,"value":1016},{"type":419,"tag":526,"props":3859,"children":3860},{"style":557},[3861],{"type":424,"value":3862},"gap",{"type":419,"tag":526,"props":3864,"children":3865},{"style":545},[3866],{"type":424,"value":548},{"type":419,"tag":526,"props":3868,"children":3869},{"style":557},[3870],{"type":424,"value":1917},{"type":419,"tag":526,"props":3872,"children":3873},{"style":602},[3874],{"type":424,"value":605},{"type":419,"tag":526,"props":3876,"children":3877},{"style":551},[3878],{"type":424,"value":3879},"abs",{"type":419,"tag":526,"props":3881,"children":3882},{"style":690},[3883],{"type":424,"value":3635},{"type":419,"tag":526,"props":3885,"children":3886},{"style":557},[3887],{"type":424,"value":3640},{"type":419,"tag":526,"props":3889,"children":3890},{"style":602},[3891],{"type":424,"value":605},{"type":419,"tag":526,"props":3893,"children":3894},{"style":557},[3895],{"type":424,"value":1962},{"type":419,"tag":526,"props":3897,"children":3898},{"style":545},[3899],{"type":424,"value":3156},{"type":419,"tag":526,"props":3901,"children":3902},{"style":557},[3903],{"type":424,"value":2407},{"type":419,"tag":526,"props":3905,"children":3906},{"style":602},[3907],{"type":424,"value":605},{"type":419,"tag":526,"props":3909,"children":3910},{"style":557},[3911],{"type":424,"value":1962},{"type":419,"tag":526,"props":3913,"children":3914},{"style":690},[3915],{"type":424,"value":3916},"))",{"type":419,"tag":526,"props":3918,"children":3919},{"style":602},[3920],{"type":424,"value":1026},{"type":419,"tag":526,"props":3922,"children":3923},{"style":557},[3924],{"type":424,"value":3925}," gap",{"type":419,"tag":526,"props":3927,"children":3928},{"style":545},[3929],{"type":424,"value":3930}," >",{"type":419,"tag":526,"props":3932,"children":3933},{"style":1499},[3934],{"type":424,"value":3935}," 0",{"type":419,"tag":526,"props":3937,"children":3938},{"style":690},[3939],{"type":424,"value":3146},{"type":419,"tag":526,"props":3941,"children":3942},{"style":602},[3943],{"type":424,"value":960},{"type":419,"tag":526,"props":3945,"children":3947},{"class":528,"line":3946},34,[3948,3953,3957,3961,3965,3969,3973],{"type":419,"tag":526,"props":3949,"children":3950},{"style":671},[3951],{"type":424,"value":3952},"    await",{"type":419,"tag":526,"props":3954,"children":3955},{"style":551},[3956],{"type":424,"value":2820},{"type":419,"tag":526,"props":3958,"children":3959},{"style":690},[3960],{"type":424,"value":560},{"type":419,"tag":526,"props":3962,"children":3963},{"style":557},[3964],{"type":424,"value":2829},{"type":419,"tag":526,"props":3966,"children":3967},{"style":602},[3968],{"type":424,"value":605},{"type":419,"tag":526,"props":3970,"children":3971},{"style":557},[3972],{"type":424,"value":2838},{"type":419,"tag":526,"props":3974,"children":3975},{"style":690},[3976],{"type":424,"value":581},{"type":419,"tag":526,"props":3978,"children":3980},{"class":528,"line":3979},35,[3981],{"type":419,"tag":526,"props":3982,"children":3983},{"style":973},[3984],{"type":424,"value":3985},"    // 最后一步就直接滑动到位，不需要随机数了\n",{"type":419,"tag":526,"props":3987,"children":3989},{"class":528,"line":3988},36,[3990,3995,4000,4004,4008,4012,4016,4020,4024,4028,4032,4036,4040,4044,4048,4052,4056,4060,4064,4068,4072,4076,4080,4084,4088],{"type":419,"tag":526,"props":3991,"children":3992},{"style":533},[3993],{"type":424,"value":3994},"    const",{"type":419,"tag":526,"props":3996,"children":3997},{"style":539},[3998],{"type":424,"value":3999}," inOneStep",{"type":419,"tag":526,"props":4001,"children":4002},{"style":545},[4003],{"type":424,"value":548},{"type":419,"tag":526,"props":4005,"children":4006},{"style":557},[4007],{"type":424,"value":1917},{"type":419,"tag":526,"props":4009,"children":4010},{"style":602},[4011],{"type":424,"value":605},{"type":419,"tag":526,"props":4013,"children":4014},{"style":551},[4015],{"type":424,"value":3879},{"type":419,"tag":526,"props":4017,"children":4018},{"style":690},[4019],{"type":424,"value":560},{"type":419,"tag":526,"props":4021,"children":4022},{"style":557},[4023],{"type":424,"value":3640},{"type":419,"tag":526,"props":4025,"children":4026},{"style":602},[4027],{"type":424,"value":605},{"type":419,"tag":526,"props":4029,"children":4030},{"style":557},[4031],{"type":424,"value":1962},{"type":419,"tag":526,"props":4033,"children":4034},{"style":545},[4035],{"type":424,"value":3156},{"type":419,"tag":526,"props":4037,"children":4038},{"style":557},[4039],{"type":424,"value":2407},{"type":419,"tag":526,"props":4041,"children":4042},{"style":602},[4043],{"type":424,"value":605},{"type":419,"tag":526,"props":4045,"children":4046},{"style":557},[4047],{"type":424,"value":1962},{"type":419,"tag":526,"props":4049,"children":4050},{"style":690},[4051],{"type":424,"value":3146},{"type":419,"tag":526,"props":4053,"children":4054},{"style":545},[4055],{"type":424,"value":950},{"type":419,"tag":526,"props":4057,"children":4058},{"style":557},[4059],{"type":424,"value":1917},{"type":419,"tag":526,"props":4061,"children":4062},{"style":602},[4063],{"type":424,"value":605},{"type":419,"tag":526,"props":4065,"children":4066},{"style":551},[4067],{"type":424,"value":3879},{"type":419,"tag":526,"props":4069,"children":4070},{"style":690},[4071],{"type":424,"value":560},{"type":419,"tag":526,"props":4073,"children":4074},{"style":557},[4075],{"type":424,"value":2829},{"type":419,"tag":526,"props":4077,"children":4078},{"style":602},[4079],{"type":424,"value":605},{"type":419,"tag":526,"props":4081,"children":4082},{"style":557},[4083],{"type":424,"value":1962},{"type":419,"tag":526,"props":4085,"children":4086},{"style":690},[4087],{"type":424,"value":1036},{"type":419,"tag":526,"props":4089,"children":4090},{"style":602},[4091],{"type":424,"value":1645},{"type":419,"tag":526,"props":4093,"children":4095},{"class":528,"line":4094},37,[4096,4101,4105,4110,4114],{"type":419,"tag":526,"props":4097,"children":4098},{"style":671},[4099],{"type":424,"value":4100},"    if",{"type":419,"tag":526,"props":4102,"children":4103},{"style":690},[4104],{"type":424,"value":1016},{"type":419,"tag":526,"props":4106,"children":4107},{"style":557},[4108],{"type":424,"value":4109},"inOneStep",{"type":419,"tag":526,"props":4111,"children":4112},{"style":690},[4113],{"type":424,"value":3146},{"type":419,"tag":526,"props":4115,"children":4116},{"style":602},[4117],{"type":424,"value":960},{"type":419,"tag":526,"props":4119,"children":4121},{"class":528,"line":4120},38,[4122,4127,4131,4135,4139,4143,4147,4151],{"type":419,"tag":526,"props":4123,"children":4124},{"style":557},[4125],{"type":424,"value":4126},"      now",{"type":419,"tag":526,"props":4128,"children":4129},{"style":602},[4130],{"type":424,"value":605},{"type":419,"tag":526,"props":4132,"children":4133},{"style":557},[4134],{"type":424,"value":1962},{"type":419,"tag":526,"props":4136,"children":4137},{"style":545},[4138],{"type":424,"value":548},{"type":419,"tag":526,"props":4140,"children":4141},{"style":557},[4142],{"type":424,"value":2472},{"type":419,"tag":526,"props":4144,"children":4145},{"style":602},[4146],{"type":424,"value":605},{"type":419,"tag":526,"props":4148,"children":4149},{"style":557},[4150],{"type":424,"value":1962},{"type":419,"tag":526,"props":4152,"children":4153},{"style":602},[4154],{"type":424,"value":1645},{"type":419,"tag":526,"props":4156,"children":4158},{"class":528,"line":4157},39,[4159,4163,4167,4171,4175,4179,4183,4187],{"type":419,"tag":526,"props":4160,"children":4161},{"style":557},[4162],{"type":424,"value":4126},{"type":419,"tag":526,"props":4164,"children":4165},{"style":602},[4166],{"type":424,"value":605},{"type":419,"tag":526,"props":4168,"children":4169},{"style":557},[4170],{"type":424,"value":2891},{"type":419,"tag":526,"props":4172,"children":4173},{"style":545},[4174],{"type":424,"value":548},{"type":419,"tag":526,"props":4176,"children":4177},{"style":557},[4178],{"type":424,"value":2472},{"type":419,"tag":526,"props":4180,"children":4181},{"style":602},[4182],{"type":424,"value":605},{"type":419,"tag":526,"props":4184,"children":4185},{"style":557},[4186],{"type":424,"value":2891},{"type":419,"tag":526,"props":4188,"children":4189},{"style":602},[4190],{"type":424,"value":1645},{"type":419,"tag":526,"props":4192,"children":4194},{"class":528,"line":4193},40,[4195,4200,4205],{"type":419,"tag":526,"props":4196,"children":4197},{"style":602},[4198],{"type":424,"value":4199},"    }",{"type":419,"tag":526,"props":4201,"children":4202},{"style":671},[4203],{"type":424,"value":4204}," else",{"type":419,"tag":526,"props":4206,"children":4207},{"style":602},[4208],{"type":424,"value":650},{"type":419,"tag":526,"props":4210,"children":4212},{"class":528,"line":4211},41,[4213,4217,4221,4225,4229,4233,4237,4241,4245,4249,4253],{"type":419,"tag":526,"props":4214,"children":4215},{"style":557},[4216],{"type":424,"value":4126},{"type":419,"tag":526,"props":4218,"children":4219},{"style":602},[4220],{"type":424,"value":605},{"type":419,"tag":526,"props":4222,"children":4223},{"style":557},[4224],{"type":424,"value":1962},{"type":419,"tag":526,"props":4226,"children":4227},{"style":545},[4228],{"type":424,"value":1496},{"type":419,"tag":526,"props":4230,"children":4231},{"style":557},[4232],{"type":424,"value":2585},{"type":419,"tag":526,"props":4234,"children":4235},{"style":602},[4236],{"type":424,"value":605},{"type":419,"tag":526,"props":4238,"children":4239},{"style":557},[4240],{"type":424,"value":1962},{"type":419,"tag":526,"props":4242,"children":4243},{"style":545},[4244],{"type":424,"value":3335},{"type":419,"tag":526,"props":4246,"children":4247},{"style":551},[4248],{"type":424,"value":3027},{"type":419,"tag":526,"props":4250,"children":4251},{"style":690},[4252],{"type":424,"value":615},{"type":419,"tag":526,"props":4254,"children":4255},{"style":602},[4256],{"type":424,"value":1645},{"type":419,"tag":526,"props":4258,"children":4260},{"class":528,"line":4259},42,[4261,4265,4269,4273,4277,4281,4285,4289,4293,4297,4301],{"type":419,"tag":526,"props":4262,"children":4263},{"style":557},[4264],{"type":424,"value":4126},{"type":419,"tag":526,"props":4266,"children":4267},{"style":602},[4268],{"type":424,"value":605},{"type":419,"tag":526,"props":4270,"children":4271},{"style":557},[4272],{"type":424,"value":2891},{"type":419,"tag":526,"props":4274,"children":4275},{"style":545},[4276],{"type":424,"value":1496},{"type":419,"tag":526,"props":4278,"children":4279},{"style":557},[4280],{"type":424,"value":2585},{"type":419,"tag":526,"props":4282,"children":4283},{"style":602},[4284],{"type":424,"value":605},{"type":419,"tag":526,"props":4286,"children":4287},{"style":557},[4288],{"type":424,"value":2891},{"type":419,"tag":526,"props":4290,"children":4291},{"style":545},[4292],{"type":424,"value":3335},{"type":419,"tag":526,"props":4294,"children":4295},{"style":551},[4296],{"type":424,"value":3027},{"type":419,"tag":526,"props":4298,"children":4299},{"style":690},[4300],{"type":424,"value":615},{"type":419,"tag":526,"props":4302,"children":4303},{"style":602},[4304],{"type":424,"value":1645},{"type":419,"tag":526,"props":4306,"children":4308},{"class":528,"line":4307},43,[4309],{"type":419,"tag":526,"props":4310,"children":4311},{"style":602},[4312],{"type":424,"value":4313},"    }\n",{"type":419,"tag":526,"props":4315,"children":4317},{"class":528,"line":4316},44,[4318,4323,4327,4331],{"type":419,"tag":526,"props":4319,"children":4320},{"style":551},[4321],{"type":424,"value":4322},"    moveMouseTo",{"type":419,"tag":526,"props":4324,"children":4325},{"style":690},[4326],{"type":424,"value":560},{"type":419,"tag":526,"props":4328,"children":4329},{"style":557},[4330],{"type":424,"value":2946},{"type":419,"tag":526,"props":4332,"children":4333},{"style":690},[4334],{"type":424,"value":581},{"type":419,"tag":526,"props":4336,"children":4338},{"class":528,"line":4337},45,[4339],{"type":419,"tag":526,"props":4340,"children":4341},{"style":602},[4342],{"type":424,"value":3524},{"type":419,"tag":526,"props":4344,"children":4346},{"class":528,"line":4345},46,[4347],{"type":419,"tag":526,"props":4348,"children":4349},{"style":602},[4350],{"type":424,"value":1511},{"type":419,"tag":420,"props":4352,"children":4353},{},[4354],{"type":424,"value":4355},"如何移动鼠标到这里就解决了，如果要考虑加速度、用户习惯等因素，代码会复杂许多，暂时就不深入讨论啦，有兴趣的同学可以自己研究。",{"type":419,"tag":420,"props":4357,"children":4358},{},[4359],{"type":424,"value":4360},"最终效果见下图。",{"type":419,"tag":420,"props":4362,"children":4363},{},[4364],{"type":419,"tag":446,"props":4365,"children":4366},{"alt":448,"src":449},[],{"type":419,"tag":420,"props":4368,"children":4369},{},[4370,4372,4379],{"type":424,"value":4371},"源码地址在此：",{"type":419,"tag":427,"props":4373,"children":4376},{"href":4374,"rel":4375},"https://github.com/Lionad-Morotar/crack-the-shield/tree/master/tasks/dooring-slider",[431],[4377],{"type":424,"value":4378},"CrackTheShield",{"type":424,"value":848},{"type":419,"tag":452,"props":4381,"children":4383},{"id":4382},"阅读更多",[4384],{"type":424,"value":4382},{"type":419,"tag":2982,"props":4386,"children":4387},{},[4388,4400],{"type":419,"tag":473,"props":4389,"children":4390},{},[4391,4398],{"type":419,"tag":427,"props":4392,"children":4395},{"href":4393,"rel":4394},"https://juejin.cn/post/6945336161468416037",[431],[4396],{"type":424,"value":4397},"《Python爬虫的实际运用之：破解滑动验证码》",{"type":424,"value":4399},"，这个老哥用了图像边缘检测的方法来判断缺口所在位置。",{"type":419,"tag":473,"props":4401,"children":4402},{},[4403,4410],{"type":419,"tag":427,"props":4404,"children":4407},{"href":4405,"rel":4406},"https://juejin.cn/post/6844903679808520205",[431],[4408],{"type":424,"value":4409},"《震惊! 滑动验证码竟然能这样破解》",{"type":424,"value":4411},"，这个老哥用了一种看谁脸黑的办法来判断图片的缺口所在位置。",{"type":419,"tag":4413,"props":4414,"children":4417},"section",{"className":4415,"dataFootnotes":413},[4416],"footnotes",[4418,4425],{"type":419,"tag":452,"props":4419,"children":4422},{"className":4420,"id":842},[4421],"sr-only",[4423],{"type":424,"value":4424},"Footnotes",{"type":419,"tag":469,"props":4426,"children":4427},{},[4428],{"type":419,"tag":473,"props":4429,"children":4431},{"id":4430},"user-content-fn-alimagic",[4432,4439,4441],{"type":419,"tag":427,"props":4433,"children":4436},{"href":4434,"rel":4435},"https://vision.aliyun.com/experience/detail",[431],[4437],{"type":424,"value":4438},"测试地址",{"type":424,"value":4440}," ",{"type":419,"tag":427,"props":4442,"children":4447},{"href":4443,"ariaLabel":4444,"className":4445,"dataFootnoteBackref":413},"#user-content-fnref-alimagic","Back to reference 1",[4446],"data-footnote-backref",[4448],{"type":424,"value":4449},"↩",{"type":419,"tag":1074,"props":4451,"children":4452},{},[4453],{"type":424,"value":4454},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":413,"searchDepth":584,"depth":584,"links":4456},[4457,4464,4465],{"id":454,"depth":584,"text":454,"children":4458},[4459,4460,4461,4462,4463],{"id":460,"depth":594,"text":460},{"id":813,"depth":594,"text":813},{"id":1554,"depth":594,"text":1554},{"id":2367,"depth":594,"text":2367},{"id":2960,"depth":594,"text":2960},{"id":4382,"depth":584,"text":4382},{"id":842,"depth":584,"text":4424},"markdown","content:2.articles:1105.crack-the-slider.md","content","2.articles/1105.crack-the-slider.md","2.articles/1105.crack-the-slider","md",[4473,4475],{"_path":55,"title":54,"description":4474},"使用 element-plus 内的层级管理器可以解决多组件库间层级不统一的问题",{"_path":61,"title":60,"description":4476},"本文介绍了几种通过CSS实现的常见阴影效果如单侧投影、空心投影、投影动画、彩色阴影、长投影和倒影，以及尝试使用SVG模拟材质特性如粗糙度及光学效应如菲尼尔效应生成了几种特殊的纹理，最后通过一个CSS绘制真实书本案例介绍了实战中的一些细节。",1732808103908]