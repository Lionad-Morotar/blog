[{"data":1,"prerenderedAt":4455},["Reactive",2],{"navigation":3,"/articles/crack-the-slider":389,"/articles/crack-the-slider-surround":4450},[4,32,83,99,126,132,138,372,378,384],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96],{"title":88,"_path":89},"🌐 AnySort","/tools/anysort",{"title":91,"_path":92},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":94,"_path":95},"👓 Crapto","/tools/crypto-inline",{"title":97,"_path":98},"🖨️ any-to-base64","/tools/any-to-base64",{"title":100,"_path":101,"children":102},"吉他剧场 / Music","/music",[103,105,108,111,114,117,120,123],{"title":104,"_path":101},"🎸 FingerStyle！",{"title":106,"_path":107},"🌬️ 等待的风","/music/wind",{"title":109,"_path":110},"💕 约定的海洋","/music/ocean",{"title":112,"_path":113},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":115,"_path":116},"🌏 残酷天使的行动纲领","/music/eva",{"title":118,"_path":119},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":121,"_path":122},"🍷 Wu Wei","/music/wu-wei",{"title":124,"_path":125},"🌅 无题","/music/untitled",{"title":127,"_path":128,"children":129},"画点什么 / Paint","/paint",[130],{"title":131,"_path":128},"🚧 正在施工",{"title":133,"_path":134,"children":135},"知识地图 / Maps","/maps",[136],{"title":137,"_path":134},"🏁 知识地图",{"title":139,"_path":140,"children":141},"零散的笔记 / Gists","/gists",[142,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369],{"title":143,"_path":140},"🧊 Gists",{"title":145,"_path":146},"网站的可访问性","/gists/accessibility",{"title":148,"_path":149},"Bit","/gists/bit",{"title":151,"_path":152},"图片模糊","/gists/blur",{"title":154,"_path":155},"渲染相关笔记","/gists/c4d",{"title":157,"_path":158},"CDN 问题记录","/gists/cdn",{"title":160,"_path":161},"消毒剂","/gists/cleaner",{"title":163,"_path":164},"Windows Command","/gists/cmd",{"title":166,"_path":167},"Command","/gists/command",{"title":169,"_path":170},"复杂科学","/gists/complexity-science",{"title":172,"_path":173},"宇宙","/gists/cosmos",{"title":175,"_path":176},"C++","/gists/cpp",{"title":178,"_path":179},"Data Structure","/gists/data-structure",{"title":181,"_path":182},"DEPRESSION","/gists/depression",{"title":184,"_path":185},"设计模式","/gists/design-patterns",{"title":187,"_path":188},"Developer Experience","/gists/developer-experience",{"title":190,"_path":191},"Device Metrics","/gists/device-metrix",{"title":193,"_path":194},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":196,"_path":197},"正则表达式","/gists/eegex",{"title":199,"_path":200},"Emoji","/gists/emoji",{"title":202,"_path":203},"工程","/gists/engineering",{"title":205,"_path":206},"熵","/gists/entropy",{"title":208,"_path":209},"Environment","/gists/environment",{"title":211,"_path":212},"Erlang","/gists/erlang",{"title":214,"_path":215},"逃离塔克夫","/gists/escape-from-tarkov",{"title":217,"_path":218},"ESNext (ES6-ES11)","/gists/esnext",{"title":220,"_path":221},"Eval！","/gists/eval",{"title":223,"_path":224},"Flutter","/gists/flutter",{"title":226,"_path":227},"字体","/gists/font",{"title":229,"_path":230},"JS 函数式编程","/gists/functional",{"title":232,"_path":233},"Google C++ Standard","/gists/google-cpp-standard",{"title":235,"_path":236},"双向链接完全体","/gists/graph",{"title":238,"_path":239},"Hardwares","/gists/hardwares",{"title":241,"_path":242},"哈希冲突","/gists/hash-collision",{"title":244,"_path":245},"信息设计","/gists/information-design",{"title":247,"_path":248},"InstantPage","/gists/instant.page",{"title":250,"_path":251},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":253,"_path":254},"KVStore","/gists/key-value-db",{"title":256,"_path":257},"Kubernetes","/gists/kubernetes",{"title":259,"_path":260},"Makefile","/gists/makefile",{"title":262,"_path":263},"Markdown Inline Style","/gists/markdown-nice",{"title":265,"_path":266},"小程序","/gists/miniapp",{"title":268,"_path":269},"减小页面快照体积","/gists/minify-html",{"title":271,"_path":272},"mklink","/gists/mklink",{"title":274,"_path":275},"Mock","/gists/mock",{"title":277,"_path":278},"多端应用","/gists/multy-end-app",{"title":280,"_path":281},"神经科学","/gists/neuroscience",{"title":283,"_path":284},"OO","/gists/oo",{"title":286,"_path":287},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":289,"_path":290},"人物","/gists/person",{"title":292,"_path":293},"PInvoke","/gists/pinvoke",{"title":295,"_path":296},"像素","/gists/pixel",{"title":298,"_path":299},"PowerShell","/gists/powershell",{"title":301,"_path":302},"量子","/gists/quantum",{"title":304,"_path":305},"保持好奇心","/gists/questions",{"title":307,"_path":308},"React Native","/gists/react-native",{"title":310,"_path":311},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":313,"_path":314},"SEO","/gists/seo",{"title":316,"_path":317},"Shader","/gists/shader",{"title":319,"_path":320},"Shape Up","/gists/shape-up",{"title":322,"_path":323},"睡觉","/gists/sleep",{"title":325,"_path":326},"States","/gists/states",{"title":328,"_path":329},"Storage","/gists/storage",{"title":331,"_path":332},"音视频流处理","/gists/stream-cli",{"title":334,"_path":335},"Symbol","/gists/symbol",{"title":337,"_path":338},"系统论","/gists/systems-theory",{"title":340,"_path":341},"Taro","/gists/taro",{"title":343,"_path":344},"任务切片","/gists/task-slice",{"title":346,"_path":347},"技术偏好","/gists/tech-dudge",{"title":349,"_path":350},"Untitled","/gists/untitled",{"title":352,"_path":353},"可变字体","/gists/variable-font",{"title":355,"_path":356},"视觉错觉","/gists/visual-illusion",{"title":358,"_path":359},"SS(SSR)","/gists/vpn",{"title":361,"_path":362},"VS Code 插件开发","/gists/vscode-plugin",{"title":364,"_path":365},"Web Components","/gists/web-components",{"title":367,"_path":368},"Windows","/gists/windows",{"title":370,"_path":371},"查缺补漏","/gists/wrong",{"title":373,"_path":374,"children":375},"代码笔记 / Gists","/source-code",[376],{"title":377,"_path":374},"🚄 代码笔记",{"title":379,"_path":380,"children":381},"我 / Abount","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"title":385,"_path":386,"children":387},"todo","/todo",[388],{"title":385,"_path":386},{"_path":58,"_dir":390,"_draft":391,"_partial":391,"_locale":392,"title":57,"description":393,"body":394,"_type":4445,"_id":4446,"_source":4447,"_file":4448,"_extension":4449},"articles",false,"","如何破解滑块验证码？本文介绍使用Puppeteer操作浏览器进行图片对比、图片识别及优化鼠标轨迹以模仿真是用户等几种简单爬虫验证码破解思路，适用多种场景。",{"type":395,"children":396,"toc":4434},"root",[397,416,421,430,436,442,447,467,481,493,729,737,742,747,780,785,790,795,800,808,828,836,848,856,861,869,874,895,900,905,1491,1499,1513,1521,1526,1531,1536,1541,1546,1564,1569,1574,1864,1869,2334,2339,2344,2349,2354,2368,2937,2942,2947,2952,2960,2974,2979,4330,4335,4340,4346,4359,4364,4391,4429],{"type":398,"tag":399,"props":400,"children":401},"element","p",{},[402,405,414],{"type":403,"value":404},"text","昨天在掘金看到推荐文章",{"type":398,"tag":406,"props":407,"children":411},"a",{"href":408,"rel":409},"https://juejin.cn/post/7007615666609979400",[410],"nofollow",[412],{"type":403,"value":413},"《从零开发一款轻量级滑动验证码插件》",{"type":403,"value":415},"，介绍了一些相关验证码及框架开发的知识点。巧的是就在前两周，我们公司举办了一个爬虫攻防赛，其中用到多种爬虫验证的破解方法，之一就是滑块验证码。",{"type":398,"tag":399,"props":417,"children":418},{},[419],{"type":403,"value":420},"今天在这篇文章里给大家介绍一下怎么使用 JS 破解滑块验证码。",{"type":398,"tag":399,"props":422,"children":423},{},[424],{"type":398,"tag":425,"props":426,"children":429},"img",{"alt":427,"src":428},"最终效果（加速）","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/73ba97c7435f.gif",[],{"type":398,"tag":431,"props":432,"children":434},"h2",{"id":433},"思路讲解",[435],{"type":403,"value":433},{"type":398,"tag":437,"props":438,"children":440},"h3",{"id":439},"操作浏览器打开页面",[441],{"type":403,"value":439},{"type":398,"tag":399,"props":443,"children":444},{},[445],{"type":403,"value":446},"滑块验证码是滑动验证码的一种，生成流程至少包含三步：",{"type":398,"tag":448,"props":449,"children":450},"ol",{},[451,457,462],{"type":398,"tag":452,"props":453,"children":454},"li",{},[455],{"type":403,"value":456},"根据用户标识，从后台获得验证码图片",{"type":398,"tag":452,"props":458,"children":459},{},[460],{"type":403,"value":461},"监听鼠标事件并回传后台",{"type":398,"tag":452,"props":463,"children":464},{},[465],{"type":403,"value":466},"后台判断事件的真伪，回传验证结果",{"type":398,"tag":399,"props":468,"children":469},{},[470,472,479],{"type":403,"value":471},"无论生成机制的细节如何，滑块终究是要展示在页面上的。直接用 HTTP Request 把页面 HTML 请求下来肯定不行，这里我们需要使用 Puppeteer 打开网页进行渲染。测试页面就以 ",{"type":398,"tag":406,"props":473,"children":476},{"href":474,"rel":475},"http://h5.dooring.cn/slider-vertify",[410],[477],{"type":403,"value":478},"react-slider-vertify",{"type":403,"value":480}," 的官网为例。",{"type":398,"tag":399,"props":482,"children":483},{},[484,491],{"type":398,"tag":406,"props":485,"children":488},{"href":486,"rel":487},"http://puppeteerjs.com/",[410],[489],{"type":403,"value":490},"Puppeteer",{"type":403,"value":492}," 是一个通过 DevTools 协议来控制浏览器行为的库，只需编写不多的代码，就可以操作真实的浏览器搞定诸如爬虫、自动化测试、网页性能分析、浏览器扩展测试等功能。使用起来比较方便，文档齐全。根据文档，打开页面前需要启动一个浏览器实例，然后调用 newPage 方法创建一个新页面。核心代码如下。",{"type":398,"tag":494,"props":495,"children":499},"pre",{"className":496,"code":497,"language":498,"meta":392,"style":392},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async browser => {\n  const page = await browser.newPage()\n  await page.goto('http://h5.dooring.cn/slider-vertify/vertify')\n})\n","js",[500],{"type":398,"tag":501,"props":502,"children":503},"code",{"__ignoreMap":392},[504,561,571,630,673,716],{"type":398,"tag":505,"props":506,"children":509},"span",{"class":507,"line":508},"line",1,[510,516,522,528,534,540,546,552,556],{"type":398,"tag":505,"props":511,"children":513},{"style":512},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[514],{"type":403,"value":515},"const",{"type":398,"tag":505,"props":517,"children":519},{"style":518},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[520],{"type":403,"value":521}," puppeteer",{"type":398,"tag":505,"props":523,"children":525},{"style":524},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[526],{"type":403,"value":527}," =",{"type":398,"tag":505,"props":529,"children":531},{"style":530},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[532],{"type":403,"value":533}," require",{"type":398,"tag":505,"props":535,"children":537},{"style":536},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[538],{"type":403,"value":539},"(",{"type":398,"tag":505,"props":541,"children":543},{"style":542},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[544],{"type":403,"value":545},"'",{"type":398,"tag":505,"props":547,"children":549},{"style":548},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[550],{"type":403,"value":551},"puppeteer",{"type":398,"tag":505,"props":553,"children":554},{"style":542},[555],{"type":403,"value":545},{"type":398,"tag":505,"props":557,"children":558},{"style":536},[559],{"type":403,"value":560},")\n",{"type":398,"tag":505,"props":562,"children":564},{"class":507,"line":563},2,[565],{"type":398,"tag":505,"props":566,"children":568},{"emptyLinePlaceholder":567},true,[569],{"type":403,"value":570},"\n",{"type":398,"tag":505,"props":572,"children":574},{"class":507,"line":573},3,[575,579,585,590,595,599,604,608,614,620,625],{"type":398,"tag":505,"props":576,"children":577},{"style":536},[578],{"type":403,"value":551},{"type":398,"tag":505,"props":580,"children":582},{"style":581},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[583],{"type":403,"value":584},".",{"type":398,"tag":505,"props":586,"children":587},{"style":530},[588],{"type":403,"value":589},"launch",{"type":398,"tag":505,"props":591,"children":592},{"style":536},[593],{"type":403,"value":594},"()",{"type":398,"tag":505,"props":596,"children":597},{"style":581},[598],{"type":403,"value":584},{"type":398,"tag":505,"props":600,"children":601},{"style":530},[602],{"type":403,"value":603},"then",{"type":398,"tag":505,"props":605,"children":606},{"style":536},[607],{"type":403,"value":539},{"type":398,"tag":505,"props":609,"children":611},{"style":610},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[612],{"type":403,"value":613},"async",{"type":398,"tag":505,"props":615,"children":617},{"style":616},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[618],{"type":403,"value":619}," browser",{"type":398,"tag":505,"props":621,"children":622},{"style":512},[623],{"type":403,"value":624}," =>",{"type":398,"tag":505,"props":626,"children":627},{"style":581},[628],{"type":403,"value":629}," {\n",{"type":398,"tag":505,"props":631,"children":633},{"class":507,"line":632},4,[634,639,644,648,654,658,662,667],{"type":398,"tag":505,"props":635,"children":636},{"style":512},[637],{"type":403,"value":638},"  const",{"type":398,"tag":505,"props":640,"children":641},{"style":518},[642],{"type":403,"value":643}," page",{"type":398,"tag":505,"props":645,"children":646},{"style":524},[647],{"type":403,"value":527},{"type":398,"tag":505,"props":649,"children":651},{"style":650},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[652],{"type":403,"value":653}," await",{"type":398,"tag":505,"props":655,"children":656},{"style":536},[657],{"type":403,"value":619},{"type":398,"tag":505,"props":659,"children":660},{"style":581},[661],{"type":403,"value":584},{"type":398,"tag":505,"props":663,"children":664},{"style":530},[665],{"type":403,"value":666},"newPage",{"type":398,"tag":505,"props":668,"children":670},{"style":669},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[671],{"type":403,"value":672},"()\n",{"type":398,"tag":505,"props":674,"children":676},{"class":507,"line":675},5,[677,682,686,690,695,699,703,708,712],{"type":398,"tag":505,"props":678,"children":679},{"style":650},[680],{"type":403,"value":681},"  await",{"type":398,"tag":505,"props":683,"children":684},{"style":536},[685],{"type":403,"value":643},{"type":398,"tag":505,"props":687,"children":688},{"style":581},[689],{"type":403,"value":584},{"type":398,"tag":505,"props":691,"children":692},{"style":530},[693],{"type":403,"value":694},"goto",{"type":398,"tag":505,"props":696,"children":697},{"style":669},[698],{"type":403,"value":539},{"type":398,"tag":505,"props":700,"children":701},{"style":542},[702],{"type":403,"value":545},{"type":398,"tag":505,"props":704,"children":705},{"style":548},[706],{"type":403,"value":707},"http://h5.dooring.cn/slider-vertify/vertify",{"type":398,"tag":505,"props":709,"children":710},{"style":542},[711],{"type":403,"value":545},{"type":398,"tag":505,"props":713,"children":714},{"style":669},[715],{"type":403,"value":560},{"type":398,"tag":505,"props":717,"children":719},{"class":507,"line":718},6,[720,725],{"type":398,"tag":505,"props":721,"children":722},{"style":581},[723],{"type":403,"value":724},"}",{"type":398,"tag":505,"props":726,"children":727},{"style":536},[728],{"type":403,"value":560},{"type":398,"tag":399,"props":730,"children":731},{},[732],{"type":398,"tag":425,"props":733,"children":736},{"alt":734,"src":735},"打开页面测试","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/jpoVF4UbuI.gif",[],{"type":398,"tag":399,"props":738,"children":739},{},[740],{"type":403,"value":741},"正常浏览网页时，很少会碰到滑块验证，因为它的路径非常长，会需要浪费用户好一会儿时间。虽然文案上给你显示“恭喜 0.9s 打败了 99% 的用户”，但从前置脚本请求，到加载图片，用户滑动滑块，到回传验证...前前后后的步骤加起来可能花了你 9s 不止。本质上它是防御性的手段，一般当服务器限流，或者服务器已经怀疑你是爬虫的时候，才会让它跳出来要求做进一步验证。所以一般来说，爬虫代码可以默认忽略滑块验证的，不过本文代码我们就假定默认验证码一定存在吧。",{"type":398,"tag":399,"props":743,"children":744},{},[745],{"type":403,"value":746},"接下来，分析一下用户行为。解决滑块验证，无非就是先判断一下缺口的位置，然后移动鼠标。这里进一步可以细分为鼠标的点击事件和鼠标移动事件两种。代码逻辑大致如下。",{"type":398,"tag":448,"props":748,"children":749},{},[750,755,760,765,770,775],{"type":398,"tag":452,"props":751,"children":752},{},[753],{"type":403,"value":754},"等待验证码图片加载完毕",{"type":398,"tag":452,"props":756,"children":757},{},[758],{"type":403,"value":759},"移动鼠标到滑块位置",{"type":398,"tag":452,"props":761,"children":762},{},[763],{"type":403,"value":764},"按下鼠标",{"type":398,"tag":452,"props":766,"children":767},{},[768],{"type":403,"value":769},"移动鼠标到缺口位置",{"type":398,"tag":452,"props":771,"children":772},{},[773],{"type":403,"value":774},"松开鼠标",{"type":398,"tag":452,"props":776,"children":777},{},[778],{"type":403,"value":779},"等待结果返回",{"type":398,"tag":399,"props":781,"children":782},{},[783],{"type":403,"value":784},"啊，流程我都知道，可问题就在，怎么判断要把鼠标移动到哪里？服务器端返回的是一张带缺口的图片，缺口位置指定是不通过接口传递的。",{"type":398,"tag":399,"props":786,"children":787},{},[788],{"type":403,"value":789},"可能还有些同学会问，怎么移动鼠标呢？如果我一次性就把滑块给移到指定位置了，那服务器不是会立马把我标记为爬虫嘛... 这两个问题我逐一解答。",{"type":398,"tag":437,"props":791,"children":793},{"id":792},"判断缺口位置",[794],{"type":403,"value":792},{"type":398,"tag":399,"props":796,"children":797},{},[798],{"type":403,"value":799},"要分析缺口的位置，我们必须先知道这个缺口是怎么画上去的。打开控制台初步检查可以发现，页面从服务器先拿到了一张完整的图片，然后缺口位置是通过 JS 随机生成的。啊这...这...这是因为我们用的测试页面是文档页，大家不必在意这些安全方面的小细节。",{"type":398,"tag":399,"props":801,"children":802},{},[803],{"type":398,"tag":425,"props":804,"children":807},{"alt":805,"src":806},"找到请求","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918184414.png?type=win11",[],{"type":398,"tag":399,"props":809,"children":810},{},[811,813,826],{"type":403,"value":812},"接着刚才的思路继续，既然缺口是从原图中挖的一个洞，那么我们只需要识别一下图片中洞的位置就好了。比较简单的方案是使用第三方的图像识别技术（或相关技术），把图片上传至第三方，就直接拿到缺口位置的相对坐标。下图给大家展示一下阿里云的图像分割的效果",{"type":398,"tag":814,"props":815,"children":816},"sup",{},[817],{"type":398,"tag":406,"props":818,"children":823},{"href":819,"ariaDescribedBy":820,"dataFootnoteRef":392,"id":822},"#user-content-fn-alimagic",[821],"footnote-label","user-content-fnref-alimagic",[824],{"type":403,"value":825},"1",{"type":403,"value":827},"。",{"type":398,"tag":399,"props":829,"children":830},{},[831],{"type":398,"tag":425,"props":832,"children":835},{"alt":833,"src":834},"阿里云图像分割","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/itLO6bbCMH.gif",[],{"type":398,"tag":399,"props":837,"children":838},{},[839,841,847],{"type":403,"value":840},"如果想做一个效果稳定一点的验证码破解工具，我建议大家还是用自己的模型，或者自己写算法。一来是第三方要的钱钱不少哇~ 再就是这种图像识别并不是专门为验证码训练的，所以放到爬虫中还不太成熟，",{"type":398,"tag":842,"props":843,"children":844},"strong",{},[845],{"type":403,"value":846},"一旦背景图片复杂，识别率下降得老快了",{"type":403,"value":827},{"type":398,"tag":399,"props":849,"children":850},{},[851],{"type":398,"tag":425,"props":852,"children":855},{"alt":853,"src":854},"百度云图像主体识别","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918191220.png",[],{"type":398,"tag":399,"props":857,"children":858},{},[859],{"type":403,"value":860},"以下介绍一种新思路。反正我们已经有一张完整的图片了，那就只要不断地滑动滑块，把结果和原图比对就行。理论上，只要滑倒差不多“那个点”，肉眼看起来不会有很大的违和感时，就搞定了。比如下面这张图。",{"type":398,"tag":399,"props":862,"children":863},{},[864],{"type":398,"tag":425,"props":865,"children":868},{"alt":866,"src":867},"和原图进行比对","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918192111.png",[],{"type":398,"tag":399,"props":870,"children":871},{},[872],{"type":403,"value":873},"截图嘛可以直接用 Pupeteer 的截图功能，它提供了对应的 API，可以精准的截出特定元素。",{"type":398,"tag":399,"props":875,"children":876},{},[877,879,884,886,893],{"type":403,"value":878},"至于图片比对，其实就是给图片初步处理后，两张图一个像素一个像素的去比较。",{"type":398,"tag":842,"props":880,"children":881},{},[882],{"type":403,"value":883},"两个像素如果颜色差异超过阈值，就认为这是两个不相同的像素",{"type":403,"value":885},"。简便起见，我们直接用开源库 ",{"type":398,"tag":406,"props":887,"children":890},{"href":888,"rel":889},"https://github.com/imgly/rembrandt",[410],[891],{"type":403,"value":892},"rembrandt",{"type":403,"value":894},"，它会给我们返回两张图片间的差异。",{"type":398,"tag":399,"props":896,"children":897},{},[898],{"type":403,"value":899},"最后是滑动滑块，既然要模拟人肉操作，那么操作 CSS，用绝对定位，把滑块一个像素一个像素的向右移；每移动一次，把图像比对的结果记录下来。",{"type":398,"tag":399,"props":901,"children":902},{},[903],{"type":403,"value":904},"以上三个流程的核心代码非常简单，只需要以下几行：",{"type":398,"tag":494,"props":906,"children":908},{"className":496,"code":907,"language":498,"meta":392,"style":392},"while (left \u003C= maxOffset) {\n\n  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n\n  await page.evaluate(async ($sliderFloat, left) => {\n    $sliderFloat.setAttribute('style', `left: ${left}px`)\n  }, $sliderFloat, left)\n\n  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n\n  const $panel = await page.$('#Vertify-demo-4 .canvasArea')\n  const panelImgBase64 = await $panel.screenshot({\n    type: 'jpeg'\n  })\n  const compareRes = await rembrandt({\n    imageA: panelImgBase64,\n    imageB: rawImage\n  })\n  results.push({\n    left,\n    diff: compareRes.differences\n  })\n\n  left += 1\n}\n",[909],{"type":398,"tag":501,"props":910,"children":911},{"__ignoreMap":392},[912,940,947,956,963,1024,1101,1127,1135,1144,1152,1207,1249,1278,1291,1325,1347,1365,1377,1403,1416,1442,1454,1462,1482],{"type":398,"tag":505,"props":913,"children":914},{"class":507,"line":508},[915,920,925,930,935],{"type":398,"tag":505,"props":916,"children":917},{"style":650},[918],{"type":403,"value":919},"while",{"type":398,"tag":505,"props":921,"children":922},{"style":536},[923],{"type":403,"value":924}," (left ",{"type":398,"tag":505,"props":926,"children":927},{"style":524},[928],{"type":403,"value":929},"\u003C=",{"type":398,"tag":505,"props":931,"children":932},{"style":536},[933],{"type":403,"value":934}," maxOffset) ",{"type":398,"tag":505,"props":936,"children":937},{"style":581},[938],{"type":403,"value":939},"{\n",{"type":398,"tag":505,"props":941,"children":942},{"class":507,"line":563},[943],{"type":398,"tag":505,"props":944,"children":945},{"emptyLinePlaceholder":567},[946],{"type":403,"value":570},{"type":398,"tag":505,"props":948,"children":949},{"class":507,"line":573},[950],{"type":398,"tag":505,"props":951,"children":953},{"style":952},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[954],{"type":403,"value":955},"  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n",{"type":398,"tag":505,"props":957,"children":958},{"class":507,"line":632},[959],{"type":398,"tag":505,"props":960,"children":961},{"emptyLinePlaceholder":567},[962],{"type":403,"value":570},{"type":398,"tag":505,"props":964,"children":965},{"class":507,"line":675},[966,970,974,978,983,987,991,996,1001,1006,1011,1016,1020],{"type":398,"tag":505,"props":967,"children":968},{"style":650},[969],{"type":403,"value":681},{"type":398,"tag":505,"props":971,"children":972},{"style":536},[973],{"type":403,"value":643},{"type":398,"tag":505,"props":975,"children":976},{"style":581},[977],{"type":403,"value":584},{"type":398,"tag":505,"props":979,"children":980},{"style":530},[981],{"type":403,"value":982},"evaluate",{"type":398,"tag":505,"props":984,"children":985},{"style":669},[986],{"type":403,"value":539},{"type":398,"tag":505,"props":988,"children":989},{"style":610},[990],{"type":403,"value":613},{"type":398,"tag":505,"props":992,"children":993},{"style":581},[994],{"type":403,"value":995}," (",{"type":398,"tag":505,"props":997,"children":998},{"style":616},[999],{"type":403,"value":1000},"$sliderFloat",{"type":398,"tag":505,"props":1002,"children":1003},{"style":581},[1004],{"type":403,"value":1005},",",{"type":398,"tag":505,"props":1007,"children":1008},{"style":616},[1009],{"type":403,"value":1010}," left",{"type":398,"tag":505,"props":1012,"children":1013},{"style":581},[1014],{"type":403,"value":1015},")",{"type":398,"tag":505,"props":1017,"children":1018},{"style":512},[1019],{"type":403,"value":624},{"type":398,"tag":505,"props":1021,"children":1022},{"style":581},[1023],{"type":403,"value":629},{"type":398,"tag":505,"props":1025,"children":1026},{"class":507,"line":718},[1027,1032,1036,1041,1045,1049,1054,1058,1062,1067,1072,1078,1083,1087,1092,1097],{"type":398,"tag":505,"props":1028,"children":1029},{"style":536},[1030],{"type":403,"value":1031},"    $sliderFloat",{"type":398,"tag":505,"props":1033,"children":1034},{"style":581},[1035],{"type":403,"value":584},{"type":398,"tag":505,"props":1037,"children":1038},{"style":530},[1039],{"type":403,"value":1040},"setAttribute",{"type":398,"tag":505,"props":1042,"children":1043},{"style":669},[1044],{"type":403,"value":539},{"type":398,"tag":505,"props":1046,"children":1047},{"style":542},[1048],{"type":403,"value":545},{"type":398,"tag":505,"props":1050,"children":1051},{"style":548},[1052],{"type":403,"value":1053},"style",{"type":398,"tag":505,"props":1055,"children":1056},{"style":542},[1057],{"type":403,"value":545},{"type":398,"tag":505,"props":1059,"children":1060},{"style":581},[1061],{"type":403,"value":1005},{"type":398,"tag":505,"props":1063,"children":1064},{"style":542},[1065],{"type":403,"value":1066}," `",{"type":398,"tag":505,"props":1068,"children":1069},{"style":548},[1070],{"type":403,"value":1071},"left: ",{"type":398,"tag":505,"props":1073,"children":1075},{"style":1074},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1076],{"type":403,"value":1077},"${",{"type":398,"tag":505,"props":1079,"children":1080},{"style":536},[1081],{"type":403,"value":1082},"left",{"type":398,"tag":505,"props":1084,"children":1085},{"style":1074},[1086],{"type":403,"value":724},{"type":398,"tag":505,"props":1088,"children":1089},{"style":548},[1090],{"type":403,"value":1091},"px",{"type":398,"tag":505,"props":1093,"children":1094},{"style":542},[1095],{"type":403,"value":1096},"`",{"type":398,"tag":505,"props":1098,"children":1099},{"style":669},[1100],{"type":403,"value":560},{"type":398,"tag":505,"props":1102,"children":1104},{"class":507,"line":1103},7,[1105,1110,1115,1119,1123],{"type":398,"tag":505,"props":1106,"children":1107},{"style":581},[1108],{"type":403,"value":1109},"  },",{"type":398,"tag":505,"props":1111,"children":1112},{"style":536},[1113],{"type":403,"value":1114}," $sliderFloat",{"type":398,"tag":505,"props":1116,"children":1117},{"style":581},[1118],{"type":403,"value":1005},{"type":398,"tag":505,"props":1120,"children":1121},{"style":536},[1122],{"type":403,"value":1010},{"type":398,"tag":505,"props":1124,"children":1125},{"style":669},[1126],{"type":403,"value":560},{"type":398,"tag":505,"props":1128,"children":1130},{"class":507,"line":1129},8,[1131],{"type":398,"tag":505,"props":1132,"children":1133},{"emptyLinePlaceholder":567},[1134],{"type":403,"value":570},{"type":398,"tag":505,"props":1136,"children":1138},{"class":507,"line":1137},9,[1139],{"type":398,"tag":505,"props":1140,"children":1141},{"style":952},[1142],{"type":403,"value":1143},"  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n",{"type":398,"tag":505,"props":1145,"children":1147},{"class":507,"line":1146},10,[1148],{"type":398,"tag":505,"props":1149,"children":1150},{"emptyLinePlaceholder":567},[1151],{"type":403,"value":570},{"type":398,"tag":505,"props":1153,"children":1155},{"class":507,"line":1154},11,[1156,1160,1165,1169,1173,1177,1181,1186,1190,1194,1199,1203],{"type":398,"tag":505,"props":1157,"children":1158},{"style":512},[1159],{"type":403,"value":638},{"type":398,"tag":505,"props":1161,"children":1162},{"style":518},[1163],{"type":403,"value":1164}," $panel",{"type":398,"tag":505,"props":1166,"children":1167},{"style":524},[1168],{"type":403,"value":527},{"type":398,"tag":505,"props":1170,"children":1171},{"style":650},[1172],{"type":403,"value":653},{"type":398,"tag":505,"props":1174,"children":1175},{"style":536},[1176],{"type":403,"value":643},{"type":398,"tag":505,"props":1178,"children":1179},{"style":581},[1180],{"type":403,"value":584},{"type":398,"tag":505,"props":1182,"children":1183},{"style":530},[1184],{"type":403,"value":1185},"$",{"type":398,"tag":505,"props":1187,"children":1188},{"style":669},[1189],{"type":403,"value":539},{"type":398,"tag":505,"props":1191,"children":1192},{"style":542},[1193],{"type":403,"value":545},{"type":398,"tag":505,"props":1195,"children":1196},{"style":548},[1197],{"type":403,"value":1198},"#Vertify-demo-4 .canvasArea",{"type":398,"tag":505,"props":1200,"children":1201},{"style":542},[1202],{"type":403,"value":545},{"type":398,"tag":505,"props":1204,"children":1205},{"style":669},[1206],{"type":403,"value":560},{"type":398,"tag":505,"props":1208,"children":1210},{"class":507,"line":1209},12,[1211,1215,1220,1224,1228,1232,1236,1241,1245],{"type":398,"tag":505,"props":1212,"children":1213},{"style":512},[1214],{"type":403,"value":638},{"type":398,"tag":505,"props":1216,"children":1217},{"style":518},[1218],{"type":403,"value":1219}," panelImgBase64",{"type":398,"tag":505,"props":1221,"children":1222},{"style":524},[1223],{"type":403,"value":527},{"type":398,"tag":505,"props":1225,"children":1226},{"style":650},[1227],{"type":403,"value":653},{"type":398,"tag":505,"props":1229,"children":1230},{"style":536},[1231],{"type":403,"value":1164},{"type":398,"tag":505,"props":1233,"children":1234},{"style":581},[1235],{"type":403,"value":584},{"type":398,"tag":505,"props":1237,"children":1238},{"style":530},[1239],{"type":403,"value":1240},"screenshot",{"type":398,"tag":505,"props":1242,"children":1243},{"style":669},[1244],{"type":403,"value":539},{"type":398,"tag":505,"props":1246,"children":1247},{"style":581},[1248],{"type":403,"value":939},{"type":398,"tag":505,"props":1250,"children":1252},{"class":507,"line":1251},13,[1253,1258,1263,1268,1273],{"type":398,"tag":505,"props":1254,"children":1255},{"style":669},[1256],{"type":403,"value":1257},"    type",{"type":398,"tag":505,"props":1259,"children":1260},{"style":581},[1261],{"type":403,"value":1262},":",{"type":398,"tag":505,"props":1264,"children":1265},{"style":542},[1266],{"type":403,"value":1267}," '",{"type":398,"tag":505,"props":1269,"children":1270},{"style":548},[1271],{"type":403,"value":1272},"jpeg",{"type":398,"tag":505,"props":1274,"children":1275},{"style":542},[1276],{"type":403,"value":1277},"'\n",{"type":398,"tag":505,"props":1279,"children":1281},{"class":507,"line":1280},14,[1282,1287],{"type":398,"tag":505,"props":1283,"children":1284},{"style":581},[1285],{"type":403,"value":1286},"  }",{"type":398,"tag":505,"props":1288,"children":1289},{"style":669},[1290],{"type":403,"value":560},{"type":398,"tag":505,"props":1292,"children":1294},{"class":507,"line":1293},15,[1295,1299,1304,1308,1312,1317,1321],{"type":398,"tag":505,"props":1296,"children":1297},{"style":512},[1298],{"type":403,"value":638},{"type":398,"tag":505,"props":1300,"children":1301},{"style":518},[1302],{"type":403,"value":1303}," compareRes",{"type":398,"tag":505,"props":1305,"children":1306},{"style":524},[1307],{"type":403,"value":527},{"type":398,"tag":505,"props":1309,"children":1310},{"style":650},[1311],{"type":403,"value":653},{"type":398,"tag":505,"props":1313,"children":1314},{"style":530},[1315],{"type":403,"value":1316}," rembrandt",{"type":398,"tag":505,"props":1318,"children":1319},{"style":669},[1320],{"type":403,"value":539},{"type":398,"tag":505,"props":1322,"children":1323},{"style":581},[1324],{"type":403,"value":939},{"type":398,"tag":505,"props":1326,"children":1328},{"class":507,"line":1327},16,[1329,1334,1338,1342],{"type":398,"tag":505,"props":1330,"children":1331},{"style":669},[1332],{"type":403,"value":1333},"    imageA",{"type":398,"tag":505,"props":1335,"children":1336},{"style":581},[1337],{"type":403,"value":1262},{"type":398,"tag":505,"props":1339,"children":1340},{"style":536},[1341],{"type":403,"value":1219},{"type":398,"tag":505,"props":1343,"children":1344},{"style":581},[1345],{"type":403,"value":1346},",\n",{"type":398,"tag":505,"props":1348,"children":1350},{"class":507,"line":1349},17,[1351,1356,1360],{"type":398,"tag":505,"props":1352,"children":1353},{"style":669},[1354],{"type":403,"value":1355},"    imageB",{"type":398,"tag":505,"props":1357,"children":1358},{"style":581},[1359],{"type":403,"value":1262},{"type":398,"tag":505,"props":1361,"children":1362},{"style":536},[1363],{"type":403,"value":1364}," rawImage\n",{"type":398,"tag":505,"props":1366,"children":1368},{"class":507,"line":1367},18,[1369,1373],{"type":398,"tag":505,"props":1370,"children":1371},{"style":581},[1372],{"type":403,"value":1286},{"type":398,"tag":505,"props":1374,"children":1375},{"style":669},[1376],{"type":403,"value":560},{"type":398,"tag":505,"props":1378,"children":1380},{"class":507,"line":1379},19,[1381,1386,1390,1395,1399],{"type":398,"tag":505,"props":1382,"children":1383},{"style":536},[1384],{"type":403,"value":1385},"  results",{"type":398,"tag":505,"props":1387,"children":1388},{"style":581},[1389],{"type":403,"value":584},{"type":398,"tag":505,"props":1391,"children":1392},{"style":530},[1393],{"type":403,"value":1394},"push",{"type":398,"tag":505,"props":1396,"children":1397},{"style":669},[1398],{"type":403,"value":539},{"type":398,"tag":505,"props":1400,"children":1401},{"style":581},[1402],{"type":403,"value":939},{"type":398,"tag":505,"props":1404,"children":1406},{"class":507,"line":1405},20,[1407,1412],{"type":398,"tag":505,"props":1408,"children":1409},{"style":536},[1410],{"type":403,"value":1411},"    left",{"type":398,"tag":505,"props":1413,"children":1414},{"style":581},[1415],{"type":403,"value":1346},{"type":398,"tag":505,"props":1417,"children":1419},{"class":507,"line":1418},21,[1420,1425,1429,1433,1437],{"type":398,"tag":505,"props":1421,"children":1422},{"style":669},[1423],{"type":403,"value":1424},"    diff",{"type":398,"tag":505,"props":1426,"children":1427},{"style":581},[1428],{"type":403,"value":1262},{"type":398,"tag":505,"props":1430,"children":1431},{"style":536},[1432],{"type":403,"value":1303},{"type":398,"tag":505,"props":1434,"children":1435},{"style":581},[1436],{"type":403,"value":584},{"type":398,"tag":505,"props":1438,"children":1439},{"style":536},[1440],{"type":403,"value":1441},"differences\n",{"type":398,"tag":505,"props":1443,"children":1445},{"class":507,"line":1444},22,[1446,1450],{"type":398,"tag":505,"props":1447,"children":1448},{"style":581},[1449],{"type":403,"value":1286},{"type":398,"tag":505,"props":1451,"children":1452},{"style":669},[1453],{"type":403,"value":560},{"type":398,"tag":505,"props":1455,"children":1457},{"class":507,"line":1456},23,[1458],{"type":398,"tag":505,"props":1459,"children":1460},{"emptyLinePlaceholder":567},[1461],{"type":403,"value":570},{"type":398,"tag":505,"props":1463,"children":1465},{"class":507,"line":1464},24,[1466,1471,1476],{"type":398,"tag":505,"props":1467,"children":1468},{"style":536},[1469],{"type":403,"value":1470},"  left",{"type":398,"tag":505,"props":1472,"children":1473},{"style":524},[1474],{"type":403,"value":1475}," +=",{"type":398,"tag":505,"props":1477,"children":1479},{"style":1478},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1480],{"type":403,"value":1481}," 1\n",{"type":398,"tag":505,"props":1483,"children":1485},{"class":507,"line":1484},25,[1486],{"type":398,"tag":505,"props":1487,"children":1488},{"style":581},[1489],{"type":403,"value":1490},"}\n",{"type":398,"tag":399,"props":1492,"children":1493},{},[1494],{"type":398,"tag":425,"props":1495,"children":1498},{"alt":1496,"src":1497},"通过CSS控制位移","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/9KgejUuCru.gif",[],{"type":398,"tag":399,"props":1500,"children":1501},{},[1502,1504,1511],{"type":403,"value":1503},"最后，把 results 扔到里面展示一下（这里给个 ECharts ",{"type":398,"tag":406,"props":1505,"children":1508},{"href":1506,"rel":1507},"https://echarts.apache.org/examples/zh/editor.html?c=line-simple",[410],[1509],{"type":403,"value":1510},"折线图示例网址",{"type":403,"value":1512},"），不出意外能得到这样一张图表。看到那个尖尖的“V”型山谷了嘛，呼哈哈哈，答案很明显，当我们把滑块从左往右移动时，滑块约接近缺口，那截出来的图片就越像原图，它两之间像素差异越小；一直往右移动，滑块会逐渐远离缺口，截出来的图片和原图相比像素差异又逐渐开始增大。我们只需要把差异最小的那个点找到，然后滑动滑块到对应的 left 偏移量就阔以了。",{"type":398,"tag":399,"props":1514,"children":1515},{},[1516],{"type":398,"tag":425,"props":1517,"children":1520},{"alt":1518,"src":1519},"图像比对结果","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918203306.png",[],{"type":398,"tag":399,"props":1522,"children":1523},{},[1524],{"type":403,"value":1525},"题外话，为什么最大的差异在 3000 左右呢？我们简单估算一下。",{"type":398,"tag":399,"props":1527,"children":1528},{},[1529],{"type":403,"value":1530},"滑块的大小为 45*45，再加上外面的圆形，约摸占了 2100 像素；也就是说缺口加滑块，理论上最大会有 4200 个像素和原图不同。不过滑块可能和遮住的地方像素有重合，假设重合了 350 像素，再加上我们的最低点的图片差异都有 351，减去这些误差，得 3499。呜呼，3499 约等于 3000，估算成功（手动狗头）。",{"type":398,"tag":437,"props":1532,"children":1534},{"id":1533},"速度优化技巧",[1535],{"type":403,"value":1533},{"type":398,"tag":399,"props":1537,"children":1538},{},[1539],{"type":403,"value":1540},"不过这还没完，你要是把代码跑起来就会发现，卧草，太慢了这玩意儿！正常人划一下验证码顶多两秒钟的事儿，我们一帧一帧截图得花个 40s 的时间才能截完图算出山谷谷底的值来。",{"type":398,"tag":399,"props":1542,"children":1543},{},[1544],{"type":403,"value":1545},"这里提供几种思路优化效率：",{"type":398,"tag":448,"props":1547,"children":1548},{},[1549,1554,1559],{"type":398,"tag":452,"props":1550,"children":1551},{},[1552],{"type":403,"value":1553},"把元素缩小，复制多份，平铺开来展示；这样只要截一次，然后再裁剪、比对就好。",{"type":398,"tag":452,"props":1555,"children":1556},{},[1557],{"type":403,"value":1558},"放大步长，比方说先每次平移 15px，找到局部最优解，然后在局部最优解附近再回到平移 1px 的方案找最优解。",{"type":398,"tag":452,"props":1560,"children":1561},{},[1562],{"type":403,"value":1563},"因为图片比对的结果类似“V”字，“V”字右半边其实是可以不用再计算的。",{"type":398,"tag":399,"props":1565,"children":1566},{},[1567],{"type":403,"value":1568},"使用 1+2+3 我觉得可以在 3s 内搞定最优解，不过代码复杂度会变得很高，文中简单起见暂只实现一下方案 2。",{"type":398,"tag":399,"props":1570,"children":1571},{},[1572],{"type":403,"value":1573},"首先是每次移动 15px 找局部最优解。",{"type":398,"tag":494,"props":1575,"children":1577},{"className":496,"code":1576,"language":498,"meta":392,"style":392},"// 图片缺口是不会给挖在初始附近的，\n// 所以 left 从 45 像素开始计算可以节约不少计算量，\nlet left = 45;\nconst max15Offset = 265;\nconst res15px = [];\nwhile (left \u003C= max15Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res15px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 15;\n}\n",[1578],{"type":398,"tag":501,"props":1579,"children":1580},{"__ignoreMap":392},[1581,1589,1597,1625,1650,1675,1699,1727,1759,1783,1794,1822,1837,1857],{"type":398,"tag":505,"props":1582,"children":1583},{"class":507,"line":508},[1584],{"type":398,"tag":505,"props":1585,"children":1586},{"style":952},[1587],{"type":403,"value":1588},"// 图片缺口是不会给挖在初始附近的，\n",{"type":398,"tag":505,"props":1590,"children":1591},{"class":507,"line":563},[1592],{"type":398,"tag":505,"props":1593,"children":1594},{"style":952},[1595],{"type":403,"value":1596},"// 所以 left 从 45 像素开始计算可以节约不少计算量，\n",{"type":398,"tag":505,"props":1598,"children":1599},{"class":507,"line":573},[1600,1605,1610,1615,1620],{"type":398,"tag":505,"props":1601,"children":1602},{"style":512},[1603],{"type":403,"value":1604},"let",{"type":398,"tag":505,"props":1606,"children":1607},{"style":536},[1608],{"type":403,"value":1609}," left ",{"type":398,"tag":505,"props":1611,"children":1612},{"style":524},[1613],{"type":403,"value":1614},"=",{"type":398,"tag":505,"props":1616,"children":1617},{"style":1478},[1618],{"type":403,"value":1619}," 45",{"type":398,"tag":505,"props":1621,"children":1622},{"style":581},[1623],{"type":403,"value":1624},";\n",{"type":398,"tag":505,"props":1626,"children":1627},{"class":507,"line":632},[1628,1632,1637,1641,1646],{"type":398,"tag":505,"props":1629,"children":1630},{"style":512},[1631],{"type":403,"value":515},{"type":398,"tag":505,"props":1633,"children":1634},{"style":518},[1635],{"type":403,"value":1636}," max15Offset",{"type":398,"tag":505,"props":1638,"children":1639},{"style":524},[1640],{"type":403,"value":527},{"type":398,"tag":505,"props":1642,"children":1643},{"style":1478},[1644],{"type":403,"value":1645}," 265",{"type":398,"tag":505,"props":1647,"children":1648},{"style":581},[1649],{"type":403,"value":1624},{"type":398,"tag":505,"props":1651,"children":1652},{"class":507,"line":675},[1653,1657,1662,1666,1671],{"type":398,"tag":505,"props":1654,"children":1655},{"style":512},[1656],{"type":403,"value":515},{"type":398,"tag":505,"props":1658,"children":1659},{"style":518},[1660],{"type":403,"value":1661}," res15px",{"type":398,"tag":505,"props":1663,"children":1664},{"style":524},[1665],{"type":403,"value":527},{"type":398,"tag":505,"props":1667,"children":1668},{"style":536},[1669],{"type":403,"value":1670}," []",{"type":398,"tag":505,"props":1672,"children":1673},{"style":581},[1674],{"type":403,"value":1624},{"type":398,"tag":505,"props":1676,"children":1677},{"class":507,"line":718},[1678,1682,1686,1690,1695],{"type":398,"tag":505,"props":1679,"children":1680},{"style":650},[1681],{"type":403,"value":919},{"type":398,"tag":505,"props":1683,"children":1684},{"style":536},[1685],{"type":403,"value":924},{"type":398,"tag":505,"props":1687,"children":1688},{"style":524},[1689],{"type":403,"value":929},{"type":398,"tag":505,"props":1691,"children":1692},{"style":536},[1693],{"type":403,"value":1694}," max15Offset) ",{"type":398,"tag":505,"props":1696,"children":1697},{"style":581},[1698],{"type":403,"value":939},{"type":398,"tag":505,"props":1700,"children":1701},{"class":507,"line":1103},[1702,1706,1711,1715,1719,1723],{"type":398,"tag":505,"props":1703,"children":1704},{"style":650},[1705],{"type":403,"value":681},{"type":398,"tag":505,"props":1707,"children":1708},{"style":530},[1709],{"type":403,"value":1710}," setLeft",{"type":398,"tag":505,"props":1712,"children":1713},{"style":669},[1714],{"type":403,"value":539},{"type":398,"tag":505,"props":1716,"children":1717},{"style":536},[1718],{"type":403,"value":1082},{"type":398,"tag":505,"props":1720,"children":1721},{"style":669},[1722],{"type":403,"value":1015},{"type":398,"tag":505,"props":1724,"children":1725},{"style":581},[1726],{"type":403,"value":1624},{"type":398,"tag":505,"props":1728,"children":1729},{"class":507,"line":1129},[1730,1734,1738,1742,1746,1751,1755],{"type":398,"tag":505,"props":1731,"children":1732},{"style":512},[1733],{"type":403,"value":638},{"type":398,"tag":505,"props":1735,"children":1736},{"style":518},[1737],{"type":403,"value":1303},{"type":398,"tag":505,"props":1739,"children":1740},{"style":524},[1741],{"type":403,"value":527},{"type":398,"tag":505,"props":1743,"children":1744},{"style":650},[1745],{"type":403,"value":653},{"type":398,"tag":505,"props":1747,"children":1748},{"style":530},[1749],{"type":403,"value":1750}," compare",{"type":398,"tag":505,"props":1752,"children":1753},{"style":669},[1754],{"type":403,"value":594},{"type":398,"tag":505,"props":1756,"children":1757},{"style":581},[1758],{"type":403,"value":1624},{"type":398,"tag":505,"props":1760,"children":1761},{"class":507,"line":1137},[1762,1767,1771,1775,1779],{"type":398,"tag":505,"props":1763,"children":1764},{"style":536},[1765],{"type":403,"value":1766},"  res15px",{"type":398,"tag":505,"props":1768,"children":1769},{"style":581},[1770],{"type":403,"value":584},{"type":398,"tag":505,"props":1772,"children":1773},{"style":530},[1774],{"type":403,"value":1394},{"type":398,"tag":505,"props":1776,"children":1777},{"style":669},[1778],{"type":403,"value":539},{"type":398,"tag":505,"props":1780,"children":1781},{"style":581},[1782],{"type":403,"value":939},{"type":398,"tag":505,"props":1784,"children":1785},{"class":507,"line":1146},[1786,1790],{"type":398,"tag":505,"props":1787,"children":1788},{"style":536},[1789],{"type":403,"value":1411},{"type":398,"tag":505,"props":1791,"children":1792},{"style":581},[1793],{"type":403,"value":1346},{"type":398,"tag":505,"props":1795,"children":1796},{"class":507,"line":1154},[1797,1801,1805,1809,1813,1818],{"type":398,"tag":505,"props":1798,"children":1799},{"style":669},[1800],{"type":403,"value":1424},{"type":398,"tag":505,"props":1802,"children":1803},{"style":581},[1804],{"type":403,"value":1262},{"type":398,"tag":505,"props":1806,"children":1807},{"style":536},[1808],{"type":403,"value":1303},{"type":398,"tag":505,"props":1810,"children":1811},{"style":581},[1812],{"type":403,"value":584},{"type":398,"tag":505,"props":1814,"children":1815},{"style":536},[1816],{"type":403,"value":1817},"differences",{"type":398,"tag":505,"props":1819,"children":1820},{"style":581},[1821],{"type":403,"value":1346},{"type":398,"tag":505,"props":1823,"children":1824},{"class":507,"line":1209},[1825,1829,1833],{"type":398,"tag":505,"props":1826,"children":1827},{"style":581},[1828],{"type":403,"value":1286},{"type":398,"tag":505,"props":1830,"children":1831},{"style":669},[1832],{"type":403,"value":1015},{"type":398,"tag":505,"props":1834,"children":1835},{"style":581},[1836],{"type":403,"value":1624},{"type":398,"tag":505,"props":1838,"children":1839},{"class":507,"line":1251},[1840,1844,1848,1853],{"type":398,"tag":505,"props":1841,"children":1842},{"style":536},[1843],{"type":403,"value":1470},{"type":398,"tag":505,"props":1845,"children":1846},{"style":524},[1847],{"type":403,"value":1475},{"type":398,"tag":505,"props":1849,"children":1850},{"style":1478},[1851],{"type":403,"value":1852}," 15",{"type":398,"tag":505,"props":1854,"children":1855},{"style":581},[1856],{"type":403,"value":1624},{"type":398,"tag":505,"props":1858,"children":1859},{"class":507,"line":1280},[1860],{"type":398,"tag":505,"props":1861,"children":1862},{"style":581},[1863],{"type":403,"value":1490},{"type":398,"tag":399,"props":1865,"children":1866},{},[1867],{"type":403,"value":1868},"然后再尝试每次移动 2px 找最优解，搜寻的范围是 15px 步长最优解的 left 偏移量的左右共 20 个像素。",{"type":398,"tag":494,"props":1870,"children":1872},{"className":496,"code":1871,"language":498,"meta":392,"style":392},"const min15pxDiff = Math.min(...res15px.map((x) => x.diff));\nconst min15pxLeft = res15px.find((x) => x.diff === min15pxDiff).left;\n\nleft = min15pxLeft - 12;\nconst max2Offset = min15pxLeft + 8;\nconst res2px = [];\nwhile (left \u003C= max2Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res2px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 2;\n}\n",[1873],{"type":398,"tag":501,"props":1874,"children":1875},{"__ignoreMap":392},[1876,1968,2052,2059,2090,2124,2148,2172,2199,2230,2254,2265,2292,2307,2327],{"type":398,"tag":505,"props":1877,"children":1878},{"class":507,"line":508},[1879,1883,1888,1892,1897,1901,1906,1910,1915,1920,1924,1929,1933,1937,1942,1946,1950,1955,1959,1964],{"type":398,"tag":505,"props":1880,"children":1881},{"style":512},[1882],{"type":403,"value":515},{"type":398,"tag":505,"props":1884,"children":1885},{"style":518},[1886],{"type":403,"value":1887}," min15pxDiff",{"type":398,"tag":505,"props":1889,"children":1890},{"style":524},[1891],{"type":403,"value":527},{"type":398,"tag":505,"props":1893,"children":1894},{"style":536},[1895],{"type":403,"value":1896}," Math",{"type":398,"tag":505,"props":1898,"children":1899},{"style":581},[1900],{"type":403,"value":584},{"type":398,"tag":505,"props":1902,"children":1903},{"style":530},[1904],{"type":403,"value":1905},"min",{"type":398,"tag":505,"props":1907,"children":1908},{"style":536},[1909],{"type":403,"value":539},{"type":398,"tag":505,"props":1911,"children":1912},{"style":524},[1913],{"type":403,"value":1914},"...",{"type":398,"tag":505,"props":1916,"children":1917},{"style":536},[1918],{"type":403,"value":1919},"res15px",{"type":398,"tag":505,"props":1921,"children":1922},{"style":581},[1923],{"type":403,"value":584},{"type":398,"tag":505,"props":1925,"children":1926},{"style":530},[1927],{"type":403,"value":1928},"map",{"type":398,"tag":505,"props":1930,"children":1931},{"style":536},[1932],{"type":403,"value":539},{"type":398,"tag":505,"props":1934,"children":1935},{"style":581},[1936],{"type":403,"value":539},{"type":398,"tag":505,"props":1938,"children":1939},{"style":616},[1940],{"type":403,"value":1941},"x",{"type":398,"tag":505,"props":1943,"children":1944},{"style":581},[1945],{"type":403,"value":1015},{"type":398,"tag":505,"props":1947,"children":1948},{"style":512},[1949],{"type":403,"value":624},{"type":398,"tag":505,"props":1951,"children":1952},{"style":536},[1953],{"type":403,"value":1954}," x",{"type":398,"tag":505,"props":1956,"children":1957},{"style":581},[1958],{"type":403,"value":584},{"type":398,"tag":505,"props":1960,"children":1961},{"style":536},[1962],{"type":403,"value":1963},"diff))",{"type":398,"tag":505,"props":1965,"children":1966},{"style":581},[1967],{"type":403,"value":1624},{"type":398,"tag":505,"props":1969,"children":1970},{"class":507,"line":563},[1971,1975,1980,1984,1988,1992,1997,2001,2005,2009,2013,2017,2021,2025,2030,2035,2040,2044,2048],{"type":398,"tag":505,"props":1972,"children":1973},{"style":512},[1974],{"type":403,"value":515},{"type":398,"tag":505,"props":1976,"children":1977},{"style":518},[1978],{"type":403,"value":1979}," min15pxLeft",{"type":398,"tag":505,"props":1981,"children":1982},{"style":524},[1983],{"type":403,"value":527},{"type":398,"tag":505,"props":1985,"children":1986},{"style":536},[1987],{"type":403,"value":1661},{"type":398,"tag":505,"props":1989,"children":1990},{"style":581},[1991],{"type":403,"value":584},{"type":398,"tag":505,"props":1993,"children":1994},{"style":530},[1995],{"type":403,"value":1996},"find",{"type":398,"tag":505,"props":1998,"children":1999},{"style":536},[2000],{"type":403,"value":539},{"type":398,"tag":505,"props":2002,"children":2003},{"style":581},[2004],{"type":403,"value":539},{"type":398,"tag":505,"props":2006,"children":2007},{"style":616},[2008],{"type":403,"value":1941},{"type":398,"tag":505,"props":2010,"children":2011},{"style":581},[2012],{"type":403,"value":1015},{"type":398,"tag":505,"props":2014,"children":2015},{"style":512},[2016],{"type":403,"value":624},{"type":398,"tag":505,"props":2018,"children":2019},{"style":536},[2020],{"type":403,"value":1954},{"type":398,"tag":505,"props":2022,"children":2023},{"style":581},[2024],{"type":403,"value":584},{"type":398,"tag":505,"props":2026,"children":2027},{"style":536},[2028],{"type":403,"value":2029},"diff ",{"type":398,"tag":505,"props":2031,"children":2032},{"style":524},[2033],{"type":403,"value":2034},"===",{"type":398,"tag":505,"props":2036,"children":2037},{"style":536},[2038],{"type":403,"value":2039}," min15pxDiff)",{"type":398,"tag":505,"props":2041,"children":2042},{"style":581},[2043],{"type":403,"value":584},{"type":398,"tag":505,"props":2045,"children":2046},{"style":536},[2047],{"type":403,"value":1082},{"type":398,"tag":505,"props":2049,"children":2050},{"style":581},[2051],{"type":403,"value":1624},{"type":398,"tag":505,"props":2053,"children":2054},{"class":507,"line":573},[2055],{"type":398,"tag":505,"props":2056,"children":2057},{"emptyLinePlaceholder":567},[2058],{"type":403,"value":570},{"type":398,"tag":505,"props":2060,"children":2061},{"class":507,"line":632},[2062,2067,2071,2076,2081,2086],{"type":398,"tag":505,"props":2063,"children":2064},{"style":536},[2065],{"type":403,"value":2066},"left ",{"type":398,"tag":505,"props":2068,"children":2069},{"style":524},[2070],{"type":403,"value":1614},{"type":398,"tag":505,"props":2072,"children":2073},{"style":536},[2074],{"type":403,"value":2075}," min15pxLeft ",{"type":398,"tag":505,"props":2077,"children":2078},{"style":524},[2079],{"type":403,"value":2080},"-",{"type":398,"tag":505,"props":2082,"children":2083},{"style":1478},[2084],{"type":403,"value":2085}," 12",{"type":398,"tag":505,"props":2087,"children":2088},{"style":581},[2089],{"type":403,"value":1624},{"type":398,"tag":505,"props":2091,"children":2092},{"class":507,"line":675},[2093,2097,2102,2106,2110,2115,2120],{"type":398,"tag":505,"props":2094,"children":2095},{"style":512},[2096],{"type":403,"value":515},{"type":398,"tag":505,"props":2098,"children":2099},{"style":518},[2100],{"type":403,"value":2101}," max2Offset",{"type":398,"tag":505,"props":2103,"children":2104},{"style":524},[2105],{"type":403,"value":527},{"type":398,"tag":505,"props":2107,"children":2108},{"style":536},[2109],{"type":403,"value":2075},{"type":398,"tag":505,"props":2111,"children":2112},{"style":524},[2113],{"type":403,"value":2114},"+",{"type":398,"tag":505,"props":2116,"children":2117},{"style":1478},[2118],{"type":403,"value":2119}," 8",{"type":398,"tag":505,"props":2121,"children":2122},{"style":581},[2123],{"type":403,"value":1624},{"type":398,"tag":505,"props":2125,"children":2126},{"class":507,"line":718},[2127,2131,2136,2140,2144],{"type":398,"tag":505,"props":2128,"children":2129},{"style":512},[2130],{"type":403,"value":515},{"type":398,"tag":505,"props":2132,"children":2133},{"style":518},[2134],{"type":403,"value":2135}," res2px",{"type":398,"tag":505,"props":2137,"children":2138},{"style":524},[2139],{"type":403,"value":527},{"type":398,"tag":505,"props":2141,"children":2142},{"style":536},[2143],{"type":403,"value":1670},{"type":398,"tag":505,"props":2145,"children":2146},{"style":581},[2147],{"type":403,"value":1624},{"type":398,"tag":505,"props":2149,"children":2150},{"class":507,"line":1103},[2151,2155,2159,2163,2168],{"type":398,"tag":505,"props":2152,"children":2153},{"style":650},[2154],{"type":403,"value":919},{"type":398,"tag":505,"props":2156,"children":2157},{"style":536},[2158],{"type":403,"value":924},{"type":398,"tag":505,"props":2160,"children":2161},{"style":524},[2162],{"type":403,"value":929},{"type":398,"tag":505,"props":2164,"children":2165},{"style":536},[2166],{"type":403,"value":2167}," max2Offset) ",{"type":398,"tag":505,"props":2169,"children":2170},{"style":581},[2171],{"type":403,"value":939},{"type":398,"tag":505,"props":2173,"children":2174},{"class":507,"line":1129},[2175,2179,2183,2187,2191,2195],{"type":398,"tag":505,"props":2176,"children":2177},{"style":650},[2178],{"type":403,"value":681},{"type":398,"tag":505,"props":2180,"children":2181},{"style":530},[2182],{"type":403,"value":1710},{"type":398,"tag":505,"props":2184,"children":2185},{"style":669},[2186],{"type":403,"value":539},{"type":398,"tag":505,"props":2188,"children":2189},{"style":536},[2190],{"type":403,"value":1082},{"type":398,"tag":505,"props":2192,"children":2193},{"style":669},[2194],{"type":403,"value":1015},{"type":398,"tag":505,"props":2196,"children":2197},{"style":581},[2198],{"type":403,"value":1624},{"type":398,"tag":505,"props":2200,"children":2201},{"class":507,"line":1137},[2202,2206,2210,2214,2218,2222,2226],{"type":398,"tag":505,"props":2203,"children":2204},{"style":512},[2205],{"type":403,"value":638},{"type":398,"tag":505,"props":2207,"children":2208},{"style":518},[2209],{"type":403,"value":1303},{"type":398,"tag":505,"props":2211,"children":2212},{"style":524},[2213],{"type":403,"value":527},{"type":398,"tag":505,"props":2215,"children":2216},{"style":650},[2217],{"type":403,"value":653},{"type":398,"tag":505,"props":2219,"children":2220},{"style":530},[2221],{"type":403,"value":1750},{"type":398,"tag":505,"props":2223,"children":2224},{"style":669},[2225],{"type":403,"value":594},{"type":398,"tag":505,"props":2227,"children":2228},{"style":581},[2229],{"type":403,"value":1624},{"type":398,"tag":505,"props":2231,"children":2232},{"class":507,"line":1146},[2233,2238,2242,2246,2250],{"type":398,"tag":505,"props":2234,"children":2235},{"style":536},[2236],{"type":403,"value":2237},"  res2px",{"type":398,"tag":505,"props":2239,"children":2240},{"style":581},[2241],{"type":403,"value":584},{"type":398,"tag":505,"props":2243,"children":2244},{"style":530},[2245],{"type":403,"value":1394},{"type":398,"tag":505,"props":2247,"children":2248},{"style":669},[2249],{"type":403,"value":539},{"type":398,"tag":505,"props":2251,"children":2252},{"style":581},[2253],{"type":403,"value":939},{"type":398,"tag":505,"props":2255,"children":2256},{"class":507,"line":1154},[2257,2261],{"type":398,"tag":505,"props":2258,"children":2259},{"style":536},[2260],{"type":403,"value":1411},{"type":398,"tag":505,"props":2262,"children":2263},{"style":581},[2264],{"type":403,"value":1346},{"type":398,"tag":505,"props":2266,"children":2267},{"class":507,"line":1209},[2268,2272,2276,2280,2284,2288],{"type":398,"tag":505,"props":2269,"children":2270},{"style":669},[2271],{"type":403,"value":1424},{"type":398,"tag":505,"props":2273,"children":2274},{"style":581},[2275],{"type":403,"value":1262},{"type":398,"tag":505,"props":2277,"children":2278},{"style":536},[2279],{"type":403,"value":1303},{"type":398,"tag":505,"props":2281,"children":2282},{"style":581},[2283],{"type":403,"value":584},{"type":398,"tag":505,"props":2285,"children":2286},{"style":536},[2287],{"type":403,"value":1817},{"type":398,"tag":505,"props":2289,"children":2290},{"style":581},[2291],{"type":403,"value":1346},{"type":398,"tag":505,"props":2293,"children":2294},{"class":507,"line":1251},[2295,2299,2303],{"type":398,"tag":505,"props":2296,"children":2297},{"style":581},[2298],{"type":403,"value":1286},{"type":398,"tag":505,"props":2300,"children":2301},{"style":669},[2302],{"type":403,"value":1015},{"type":398,"tag":505,"props":2304,"children":2305},{"style":581},[2306],{"type":403,"value":1624},{"type":398,"tag":505,"props":2308,"children":2309},{"class":507,"line":1280},[2310,2314,2318,2323],{"type":398,"tag":505,"props":2311,"children":2312},{"style":536},[2313],{"type":403,"value":1470},{"type":398,"tag":505,"props":2315,"children":2316},{"style":524},[2317],{"type":403,"value":1475},{"type":398,"tag":505,"props":2319,"children":2320},{"style":1478},[2321],{"type":403,"value":2322}," 2",{"type":398,"tag":505,"props":2324,"children":2325},{"style":581},[2326],{"type":403,"value":1624},{"type":398,"tag":505,"props":2328,"children":2329},{"class":507,"line":1293},[2330],{"type":398,"tag":505,"props":2331,"children":2332},{"style":581},[2333],{"type":403,"value":1490},{"type":398,"tag":399,"props":2335,"children":2336},{},[2337],{"type":403,"value":2338},"此时得到的解可以约等于最优解了。当然，如果你觉得不稳的话，还可以使用 1px 步长去找。",{"type":398,"tag":399,"props":2340,"children":2341},{},[2342],{"type":403,"value":2343},"估算一下，原先需要截 245 次图片，现在直接降到 1/10，23 次。不过，也别太高兴，因为测试发现只做优化 2，解验证码的时候还是要 7s...",{"type":398,"tag":437,"props":2345,"children":2347},{"id":2346},"操作鼠标滑滑块",[2348],{"type":403,"value":2346},{"type":398,"tag":399,"props":2350,"children":2351},{},[2352],{"type":403,"value":2353},"缺口位置都搞定了，那移鼠标滑滑块儿还不简单嘛~",{"type":398,"tag":399,"props":2355,"children":2356},{},[2357,2359,2366],{"type":403,"value":2358},"Puppeteer 已经提供了",{"type":398,"tag":406,"props":2360,"children":2363},{"href":2361,"rel":2362},"http://puppeteerjs.com/#?product=Puppeteer&version=v10.2.0&show=api-class-mouse",[410],[2364],{"type":403,"value":2365},"鼠标相关的接口",{"type":403,"value":2367},"，一共四个：mouse.click、mouse.down、mouse.move、mouse.up，分别是点击、按下、移动和松开。使用 mouse.move 可以直接把鼠标位置移动到一个特定的坐标上。假设我们现在从坐标（100,100）花大约 1s 把鼠标移动到 （200,200），可以使用循环实现。",{"type":398,"tag":494,"props":2369,"children":2371},{"className":496,"code":2370,"language":498,"meta":392,"style":392},"const now = {\n  x: 100,\n  y: 100\n}\nconst target = {\n  time: 1000,\n  x: 200,\n  y: 200, \n}\nconst steps = 10\nconst step = {\n  x: Math.floor((target.x - now.x) / steps),\n  y: Math.floor((target.y - now.y) / steps),\n  time: target.time / steps\n}\nwhile (now.x \u003C target.x) {\n  await sleep(step.time)\n  now.x += step.x\n  now.y += step.y\n  await page.mouse.move(now)\n}\n",[2372],{"type":398,"tag":501,"props":2373,"children":2374},{"__ignoreMap":392},[2375,2395,2416,2433,2440,2460,2481,2501,2525,2532,2553,2573,2642,2707,2740,2747,2788,2822,2855,2888,2930],{"type":398,"tag":505,"props":2376,"children":2377},{"class":507,"line":508},[2378,2382,2387,2391],{"type":398,"tag":505,"props":2379,"children":2380},{"style":512},[2381],{"type":403,"value":515},{"type":398,"tag":505,"props":2383,"children":2384},{"style":518},[2385],{"type":403,"value":2386}," now",{"type":398,"tag":505,"props":2388,"children":2389},{"style":524},[2390],{"type":403,"value":527},{"type":398,"tag":505,"props":2392,"children":2393},{"style":581},[2394],{"type":403,"value":629},{"type":398,"tag":505,"props":2396,"children":2397},{"class":507,"line":563},[2398,2403,2407,2412],{"type":398,"tag":505,"props":2399,"children":2400},{"style":669},[2401],{"type":403,"value":2402},"  x",{"type":398,"tag":505,"props":2404,"children":2405},{"style":581},[2406],{"type":403,"value":1262},{"type":398,"tag":505,"props":2408,"children":2409},{"style":1478},[2410],{"type":403,"value":2411}," 100",{"type":398,"tag":505,"props":2413,"children":2414},{"style":581},[2415],{"type":403,"value":1346},{"type":398,"tag":505,"props":2417,"children":2418},{"class":507,"line":573},[2419,2424,2428],{"type":398,"tag":505,"props":2420,"children":2421},{"style":669},[2422],{"type":403,"value":2423},"  y",{"type":398,"tag":505,"props":2425,"children":2426},{"style":581},[2427],{"type":403,"value":1262},{"type":398,"tag":505,"props":2429,"children":2430},{"style":1478},[2431],{"type":403,"value":2432}," 100\n",{"type":398,"tag":505,"props":2434,"children":2435},{"class":507,"line":632},[2436],{"type":398,"tag":505,"props":2437,"children":2438},{"style":581},[2439],{"type":403,"value":1490},{"type":398,"tag":505,"props":2441,"children":2442},{"class":507,"line":675},[2443,2447,2452,2456],{"type":398,"tag":505,"props":2444,"children":2445},{"style":512},[2446],{"type":403,"value":515},{"type":398,"tag":505,"props":2448,"children":2449},{"style":518},[2450],{"type":403,"value":2451}," target",{"type":398,"tag":505,"props":2453,"children":2454},{"style":524},[2455],{"type":403,"value":527},{"type":398,"tag":505,"props":2457,"children":2458},{"style":581},[2459],{"type":403,"value":629},{"type":398,"tag":505,"props":2461,"children":2462},{"class":507,"line":718},[2463,2468,2472,2477],{"type":398,"tag":505,"props":2464,"children":2465},{"style":669},[2466],{"type":403,"value":2467},"  time",{"type":398,"tag":505,"props":2469,"children":2470},{"style":581},[2471],{"type":403,"value":1262},{"type":398,"tag":505,"props":2473,"children":2474},{"style":1478},[2475],{"type":403,"value":2476}," 1000",{"type":398,"tag":505,"props":2478,"children":2479},{"style":581},[2480],{"type":403,"value":1346},{"type":398,"tag":505,"props":2482,"children":2483},{"class":507,"line":1103},[2484,2488,2492,2497],{"type":398,"tag":505,"props":2485,"children":2486},{"style":669},[2487],{"type":403,"value":2402},{"type":398,"tag":505,"props":2489,"children":2490},{"style":581},[2491],{"type":403,"value":1262},{"type":398,"tag":505,"props":2493,"children":2494},{"style":1478},[2495],{"type":403,"value":2496}," 200",{"type":398,"tag":505,"props":2498,"children":2499},{"style":581},[2500],{"type":403,"value":1346},{"type":398,"tag":505,"props":2502,"children":2503},{"class":507,"line":1129},[2504,2508,2512,2516,2520],{"type":398,"tag":505,"props":2505,"children":2506},{"style":669},[2507],{"type":403,"value":2423},{"type":398,"tag":505,"props":2509,"children":2510},{"style":581},[2511],{"type":403,"value":1262},{"type":398,"tag":505,"props":2513,"children":2514},{"style":1478},[2515],{"type":403,"value":2496},{"type":398,"tag":505,"props":2517,"children":2518},{"style":581},[2519],{"type":403,"value":1005},{"type":398,"tag":505,"props":2521,"children":2522},{"style":536},[2523],{"type":403,"value":2524}," \n",{"type":398,"tag":505,"props":2526,"children":2527},{"class":507,"line":1137},[2528],{"type":398,"tag":505,"props":2529,"children":2530},{"style":581},[2531],{"type":403,"value":1490},{"type":398,"tag":505,"props":2533,"children":2534},{"class":507,"line":1146},[2535,2539,2544,2548],{"type":398,"tag":505,"props":2536,"children":2537},{"style":512},[2538],{"type":403,"value":515},{"type":398,"tag":505,"props":2540,"children":2541},{"style":518},[2542],{"type":403,"value":2543}," steps",{"type":398,"tag":505,"props":2545,"children":2546},{"style":524},[2547],{"type":403,"value":527},{"type":398,"tag":505,"props":2549,"children":2550},{"style":1478},[2551],{"type":403,"value":2552}," 10\n",{"type":398,"tag":505,"props":2554,"children":2555},{"class":507,"line":1154},[2556,2560,2565,2569],{"type":398,"tag":505,"props":2557,"children":2558},{"style":512},[2559],{"type":403,"value":515},{"type":398,"tag":505,"props":2561,"children":2562},{"style":518},[2563],{"type":403,"value":2564}," step",{"type":398,"tag":505,"props":2566,"children":2567},{"style":524},[2568],{"type":403,"value":527},{"type":398,"tag":505,"props":2570,"children":2571},{"style":581},[2572],{"type":403,"value":629},{"type":398,"tag":505,"props":2574,"children":2575},{"class":507,"line":1209},[2576,2580,2584,2588,2592,2597,2602,2606,2611,2615,2619,2623,2628,2633,2638],{"type":398,"tag":505,"props":2577,"children":2578},{"style":669},[2579],{"type":403,"value":2402},{"type":398,"tag":505,"props":2581,"children":2582},{"style":581},[2583],{"type":403,"value":1262},{"type":398,"tag":505,"props":2585,"children":2586},{"style":536},[2587],{"type":403,"value":1896},{"type":398,"tag":505,"props":2589,"children":2590},{"style":581},[2591],{"type":403,"value":584},{"type":398,"tag":505,"props":2593,"children":2594},{"style":530},[2595],{"type":403,"value":2596},"floor",{"type":398,"tag":505,"props":2598,"children":2599},{"style":536},[2600],{"type":403,"value":2601},"((target",{"type":398,"tag":505,"props":2603,"children":2604},{"style":581},[2605],{"type":403,"value":584},{"type":398,"tag":505,"props":2607,"children":2608},{"style":536},[2609],{"type":403,"value":2610},"x ",{"type":398,"tag":505,"props":2612,"children":2613},{"style":524},[2614],{"type":403,"value":2080},{"type":398,"tag":505,"props":2616,"children":2617},{"style":536},[2618],{"type":403,"value":2386},{"type":398,"tag":505,"props":2620,"children":2621},{"style":581},[2622],{"type":403,"value":584},{"type":398,"tag":505,"props":2624,"children":2625},{"style":536},[2626],{"type":403,"value":2627},"x) ",{"type":398,"tag":505,"props":2629,"children":2630},{"style":524},[2631],{"type":403,"value":2632},"/",{"type":398,"tag":505,"props":2634,"children":2635},{"style":536},[2636],{"type":403,"value":2637}," steps)",{"type":398,"tag":505,"props":2639,"children":2640},{"style":581},[2641],{"type":403,"value":1346},{"type":398,"tag":505,"props":2643,"children":2644},{"class":507,"line":1251},[2645,2649,2653,2657,2661,2665,2669,2673,2678,2682,2686,2690,2695,2699,2703],{"type":398,"tag":505,"props":2646,"children":2647},{"style":669},[2648],{"type":403,"value":2423},{"type":398,"tag":505,"props":2650,"children":2651},{"style":581},[2652],{"type":403,"value":1262},{"type":398,"tag":505,"props":2654,"children":2655},{"style":536},[2656],{"type":403,"value":1896},{"type":398,"tag":505,"props":2658,"children":2659},{"style":581},[2660],{"type":403,"value":584},{"type":398,"tag":505,"props":2662,"children":2663},{"style":530},[2664],{"type":403,"value":2596},{"type":398,"tag":505,"props":2666,"children":2667},{"style":536},[2668],{"type":403,"value":2601},{"type":398,"tag":505,"props":2670,"children":2671},{"style":581},[2672],{"type":403,"value":584},{"type":398,"tag":505,"props":2674,"children":2675},{"style":536},[2676],{"type":403,"value":2677},"y ",{"type":398,"tag":505,"props":2679,"children":2680},{"style":524},[2681],{"type":403,"value":2080},{"type":398,"tag":505,"props":2683,"children":2684},{"style":536},[2685],{"type":403,"value":2386},{"type":398,"tag":505,"props":2687,"children":2688},{"style":581},[2689],{"type":403,"value":584},{"type":398,"tag":505,"props":2691,"children":2692},{"style":536},[2693],{"type":403,"value":2694},"y) ",{"type":398,"tag":505,"props":2696,"children":2697},{"style":524},[2698],{"type":403,"value":2632},{"type":398,"tag":505,"props":2700,"children":2701},{"style":536},[2702],{"type":403,"value":2637},{"type":398,"tag":505,"props":2704,"children":2705},{"style":581},[2706],{"type":403,"value":1346},{"type":398,"tag":505,"props":2708,"children":2709},{"class":507,"line":1280},[2710,2714,2718,2722,2726,2731,2735],{"type":398,"tag":505,"props":2711,"children":2712},{"style":669},[2713],{"type":403,"value":2467},{"type":398,"tag":505,"props":2715,"children":2716},{"style":581},[2717],{"type":403,"value":1262},{"type":398,"tag":505,"props":2719,"children":2720},{"style":536},[2721],{"type":403,"value":2451},{"type":398,"tag":505,"props":2723,"children":2724},{"style":581},[2725],{"type":403,"value":584},{"type":398,"tag":505,"props":2727,"children":2728},{"style":536},[2729],{"type":403,"value":2730},"time ",{"type":398,"tag":505,"props":2732,"children":2733},{"style":524},[2734],{"type":403,"value":2632},{"type":398,"tag":505,"props":2736,"children":2737},{"style":536},[2738],{"type":403,"value":2739}," steps\n",{"type":398,"tag":505,"props":2741,"children":2742},{"class":507,"line":1293},[2743],{"type":398,"tag":505,"props":2744,"children":2745},{"style":581},[2746],{"type":403,"value":1490},{"type":398,"tag":505,"props":2748,"children":2749},{"class":507,"line":1327},[2750,2754,2759,2763,2767,2772,2776,2780,2784],{"type":398,"tag":505,"props":2751,"children":2752},{"style":650},[2753],{"type":403,"value":919},{"type":398,"tag":505,"props":2755,"children":2756},{"style":536},[2757],{"type":403,"value":2758}," (now",{"type":398,"tag":505,"props":2760,"children":2761},{"style":581},[2762],{"type":403,"value":584},{"type":398,"tag":505,"props":2764,"children":2765},{"style":536},[2766],{"type":403,"value":2610},{"type":398,"tag":505,"props":2768,"children":2769},{"style":524},[2770],{"type":403,"value":2771},"\u003C",{"type":398,"tag":505,"props":2773,"children":2774},{"style":536},[2775],{"type":403,"value":2451},{"type":398,"tag":505,"props":2777,"children":2778},{"style":581},[2779],{"type":403,"value":584},{"type":398,"tag":505,"props":2781,"children":2782},{"style":536},[2783],{"type":403,"value":2627},{"type":398,"tag":505,"props":2785,"children":2786},{"style":581},[2787],{"type":403,"value":939},{"type":398,"tag":505,"props":2789,"children":2790},{"class":507,"line":1349},[2791,2795,2800,2804,2809,2813,2818],{"type":398,"tag":505,"props":2792,"children":2793},{"style":650},[2794],{"type":403,"value":681},{"type":398,"tag":505,"props":2796,"children":2797},{"style":530},[2798],{"type":403,"value":2799}," sleep",{"type":398,"tag":505,"props":2801,"children":2802},{"style":669},[2803],{"type":403,"value":539},{"type":398,"tag":505,"props":2805,"children":2806},{"style":536},[2807],{"type":403,"value":2808},"step",{"type":398,"tag":505,"props":2810,"children":2811},{"style":581},[2812],{"type":403,"value":584},{"type":398,"tag":505,"props":2814,"children":2815},{"style":536},[2816],{"type":403,"value":2817},"time",{"type":398,"tag":505,"props":2819,"children":2820},{"style":669},[2821],{"type":403,"value":560},{"type":398,"tag":505,"props":2823,"children":2824},{"class":507,"line":1367},[2825,2830,2834,2838,2842,2846,2850],{"type":398,"tag":505,"props":2826,"children":2827},{"style":536},[2828],{"type":403,"value":2829},"  now",{"type":398,"tag":505,"props":2831,"children":2832},{"style":581},[2833],{"type":403,"value":584},{"type":398,"tag":505,"props":2835,"children":2836},{"style":536},[2837],{"type":403,"value":1941},{"type":398,"tag":505,"props":2839,"children":2840},{"style":524},[2841],{"type":403,"value":1475},{"type":398,"tag":505,"props":2843,"children":2844},{"style":536},[2845],{"type":403,"value":2564},{"type":398,"tag":505,"props":2847,"children":2848},{"style":581},[2849],{"type":403,"value":584},{"type":398,"tag":505,"props":2851,"children":2852},{"style":536},[2853],{"type":403,"value":2854},"x\n",{"type":398,"tag":505,"props":2856,"children":2857},{"class":507,"line":1379},[2858,2862,2866,2871,2875,2879,2883],{"type":398,"tag":505,"props":2859,"children":2860},{"style":536},[2861],{"type":403,"value":2829},{"type":398,"tag":505,"props":2863,"children":2864},{"style":581},[2865],{"type":403,"value":584},{"type":398,"tag":505,"props":2867,"children":2868},{"style":536},[2869],{"type":403,"value":2870},"y",{"type":398,"tag":505,"props":2872,"children":2873},{"style":524},[2874],{"type":403,"value":1475},{"type":398,"tag":505,"props":2876,"children":2877},{"style":536},[2878],{"type":403,"value":2564},{"type":398,"tag":505,"props":2880,"children":2881},{"style":581},[2882],{"type":403,"value":584},{"type":398,"tag":505,"props":2884,"children":2885},{"style":536},[2886],{"type":403,"value":2887},"y\n",{"type":398,"tag":505,"props":2889,"children":2890},{"class":507,"line":1405},[2891,2895,2899,2903,2908,2912,2917,2921,2926],{"type":398,"tag":505,"props":2892,"children":2893},{"style":650},[2894],{"type":403,"value":681},{"type":398,"tag":505,"props":2896,"children":2897},{"style":536},[2898],{"type":403,"value":643},{"type":398,"tag":505,"props":2900,"children":2901},{"style":581},[2902],{"type":403,"value":584},{"type":398,"tag":505,"props":2904,"children":2905},{"style":536},[2906],{"type":403,"value":2907},"mouse",{"type":398,"tag":505,"props":2909,"children":2910},{"style":581},[2911],{"type":403,"value":584},{"type":398,"tag":505,"props":2913,"children":2914},{"style":530},[2915],{"type":403,"value":2916},"move",{"type":398,"tag":505,"props":2918,"children":2919},{"style":669},[2920],{"type":403,"value":539},{"type":398,"tag":505,"props":2922,"children":2923},{"style":536},[2924],{"type":403,"value":2925},"now",{"type":398,"tag":505,"props":2927,"children":2928},{"style":669},[2929],{"type":403,"value":560},{"type":398,"tag":505,"props":2931,"children":2932},{"class":507,"line":1418},[2933],{"type":398,"tag":505,"props":2934,"children":2935},{"style":581},[2936],{"type":403,"value":1490},{"type":398,"tag":437,"props":2938,"children":2940},{"id":2939},"鼠标轨迹优化",[2941],{"type":403,"value":2939},{"type":398,"tag":399,"props":2943,"children":2944},{},[2945],{"type":403,"value":2946},"害，要是打游戏的时候也像这段代码一样，我想我的手点到哪儿它就点到哪儿就好了~",{"type":398,"tag":399,"props":2948,"children":2949},{},[2950],{"type":403,"value":2951},"机器是不会手抖的，这段代码和真实世界的滑动效果相差太远了！我们看一张我用手滑的效果，尤其是要仔细观察滑动过程中鼠标的位置。",{"type":398,"tag":399,"props":2953,"children":2954},{},[2955],{"type":398,"tag":425,"props":2956,"children":2959},{"alt":2957,"src":2958},"鼠标轨迹不稳定","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/soov8Gny09.gif",[],{"type":398,"tag":2961,"props":2962,"children":2963},"ul",{},[2964,2969],{"type":398,"tag":452,"props":2965,"children":2966},{},[2967],{"type":403,"value":2968},"鼠标 Y 轴位置总是在变",{"type":398,"tag":452,"props":2970,"children":2971},{},[2972],{"type":403,"value":2973},"鼠标 X 轴位置会滑过头（别笑，你肯定也经常划过头）",{"type":398,"tag":399,"props":2975,"children":2976},{},[2977],{"type":403,"value":2978},"这里做一波小优化，把这两个细节整合进去。",{"type":398,"tag":494,"props":2980,"children":2982},{"className":496,"code":2981,"language":498,"meta":392,"style":392},"// 获得一个随机的偏移量\nconst getRandOffset = (randNegative = true, max = 3) => {\n  const negative = randNeagtive\n    ? (Math.random() \u003C 0.5) ? -1 : 1\n    : 1\n  return Math.floor(Math.random() * max) * negative\n}\n\n// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\nconst points = [\n  {\n    time: 1000,\n    x: 200 + getRandOffset(false, 15),\n    y: 200 + getRandOffset(false, 15),\n    steps: 10\n  },\n  {\n    time: 100,\n    x: 200,\n    y: 200,\n    steps: 3\n  }\n]\n\n// 注意这里用 for await 循环把 points 串起来执行\nfor await (const target of points) {\n  const step = {\n    x: Math.floor((target.x - now.x) / target.steps),\n    y: Math.floor((target.y - now.y) / target.steps),\n    time: target.time / target.steps,\n  }\n  let gap\n  while (gap = Math.abs((target.x - now.x)), gap > 0) {\n    await sleep(step.time)\n    // 最后一步就直接滑动到位，不需要随机数了\n    const inOneStep = Math.abs(target.x - now.x) \u003C= Math.abs(step.x);\n    if (inOneStep) {\n      now.x = target.x;\n      now.y = target.y;\n    } else {\n      now.x += step.x + getRandOffset();\n      now.y += step.y + getRandOffset();\n    }\n    moveMouseTo(now)\n  }\n}\n",[2983],{"type":398,"tag":501,"props":2984,"children":2985},{"__ignoreMap":392},[2986,2994,3060,3081,3149,3161,3223,3230,3237,3245,3266,3274,3294,3344,3392,3408,3416,3423,3442,3461,3480,3496,3504,3512,3519,3527,3566,3586,3673,3757,3802,3810,3824,3923,3956,3965,4071,4097,4134,4170,4188,4236,4284,4293,4314,4322],{"type":398,"tag":505,"props":2987,"children":2988},{"class":507,"line":508},[2989],{"type":398,"tag":505,"props":2990,"children":2991},{"style":952},[2992],{"type":403,"value":2993},"// 获得一个随机的偏移量\n",{"type":398,"tag":505,"props":2995,"children":2996},{"class":507,"line":563},[2997,3001,3007,3011,3015,3020,3024,3030,3034,3039,3043,3048,3052,3056],{"type":398,"tag":505,"props":2998,"children":2999},{"style":512},[3000],{"type":403,"value":515},{"type":398,"tag":505,"props":3002,"children":3004},{"style":3003},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3005],{"type":403,"value":3006}," getRandOffset",{"type":398,"tag":505,"props":3008,"children":3009},{"style":524},[3010],{"type":403,"value":527},{"type":398,"tag":505,"props":3012,"children":3013},{"style":581},[3014],{"type":403,"value":995},{"type":398,"tag":505,"props":3016,"children":3017},{"style":616},[3018],{"type":403,"value":3019},"randNegative",{"type":398,"tag":505,"props":3021,"children":3022},{"style":524},[3023],{"type":403,"value":527},{"type":398,"tag":505,"props":3025,"children":3027},{"style":3026},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3028],{"type":403,"value":3029}," true",{"type":398,"tag":505,"props":3031,"children":3032},{"style":581},[3033],{"type":403,"value":1005},{"type":398,"tag":505,"props":3035,"children":3036},{"style":616},[3037],{"type":403,"value":3038}," max",{"type":398,"tag":505,"props":3040,"children":3041},{"style":524},[3042],{"type":403,"value":527},{"type":398,"tag":505,"props":3044,"children":3045},{"style":1478},[3046],{"type":403,"value":3047}," 3",{"type":398,"tag":505,"props":3049,"children":3050},{"style":581},[3051],{"type":403,"value":1015},{"type":398,"tag":505,"props":3053,"children":3054},{"style":512},[3055],{"type":403,"value":624},{"type":398,"tag":505,"props":3057,"children":3058},{"style":581},[3059],{"type":403,"value":629},{"type":398,"tag":505,"props":3061,"children":3062},{"class":507,"line":573},[3063,3067,3072,3076],{"type":398,"tag":505,"props":3064,"children":3065},{"style":512},[3066],{"type":403,"value":638},{"type":398,"tag":505,"props":3068,"children":3069},{"style":518},[3070],{"type":403,"value":3071}," negative",{"type":398,"tag":505,"props":3073,"children":3074},{"style":524},[3075],{"type":403,"value":527},{"type":398,"tag":505,"props":3077,"children":3078},{"style":536},[3079],{"type":403,"value":3080}," randNeagtive\n",{"type":398,"tag":505,"props":3082,"children":3083},{"class":507,"line":632},[3084,3089,3093,3098,3102,3107,3112,3116,3121,3126,3131,3136,3140,3145],{"type":398,"tag":505,"props":3085,"children":3086},{"style":524},[3087],{"type":403,"value":3088},"    ?",{"type":398,"tag":505,"props":3090,"children":3091},{"style":669},[3092],{"type":403,"value":995},{"type":398,"tag":505,"props":3094,"children":3095},{"style":536},[3096],{"type":403,"value":3097},"Math",{"type":398,"tag":505,"props":3099,"children":3100},{"style":581},[3101],{"type":403,"value":584},{"type":398,"tag":505,"props":3103,"children":3104},{"style":530},[3105],{"type":403,"value":3106},"random",{"type":398,"tag":505,"props":3108,"children":3109},{"style":669},[3110],{"type":403,"value":3111},"() ",{"type":398,"tag":505,"props":3113,"children":3114},{"style":524},[3115],{"type":403,"value":2771},{"type":398,"tag":505,"props":3117,"children":3118},{"style":1478},[3119],{"type":403,"value":3120}," 0.5",{"type":398,"tag":505,"props":3122,"children":3123},{"style":669},[3124],{"type":403,"value":3125},") ",{"type":398,"tag":505,"props":3127,"children":3128},{"style":524},[3129],{"type":403,"value":3130},"?",{"type":398,"tag":505,"props":3132,"children":3133},{"style":524},[3134],{"type":403,"value":3135}," -",{"type":398,"tag":505,"props":3137,"children":3138},{"style":1478},[3139],{"type":403,"value":825},{"type":398,"tag":505,"props":3141,"children":3142},{"style":524},[3143],{"type":403,"value":3144}," :",{"type":398,"tag":505,"props":3146,"children":3147},{"style":1478},[3148],{"type":403,"value":1481},{"type":398,"tag":505,"props":3150,"children":3151},{"class":507,"line":675},[3152,3157],{"type":398,"tag":505,"props":3153,"children":3154},{"style":524},[3155],{"type":403,"value":3156},"    :",{"type":398,"tag":505,"props":3158,"children":3159},{"style":1478},[3160],{"type":403,"value":1481},{"type":398,"tag":505,"props":3162,"children":3163},{"class":507,"line":718},[3164,3169,3173,3177,3181,3185,3189,3193,3197,3201,3206,3210,3214,3218],{"type":398,"tag":505,"props":3165,"children":3166},{"style":650},[3167],{"type":403,"value":3168},"  return",{"type":398,"tag":505,"props":3170,"children":3171},{"style":536},[3172],{"type":403,"value":1896},{"type":398,"tag":505,"props":3174,"children":3175},{"style":581},[3176],{"type":403,"value":584},{"type":398,"tag":505,"props":3178,"children":3179},{"style":530},[3180],{"type":403,"value":2596},{"type":398,"tag":505,"props":3182,"children":3183},{"style":669},[3184],{"type":403,"value":539},{"type":398,"tag":505,"props":3186,"children":3187},{"style":536},[3188],{"type":403,"value":3097},{"type":398,"tag":505,"props":3190,"children":3191},{"style":581},[3192],{"type":403,"value":584},{"type":398,"tag":505,"props":3194,"children":3195},{"style":530},[3196],{"type":403,"value":3106},{"type":398,"tag":505,"props":3198,"children":3199},{"style":669},[3200],{"type":403,"value":3111},{"type":398,"tag":505,"props":3202,"children":3203},{"style":524},[3204],{"type":403,"value":3205},"*",{"type":398,"tag":505,"props":3207,"children":3208},{"style":536},[3209],{"type":403,"value":3038},{"type":398,"tag":505,"props":3211,"children":3212},{"style":669},[3213],{"type":403,"value":3125},{"type":398,"tag":505,"props":3215,"children":3216},{"style":524},[3217],{"type":403,"value":3205},{"type":398,"tag":505,"props":3219,"children":3220},{"style":536},[3221],{"type":403,"value":3222}," negative\n",{"type":398,"tag":505,"props":3224,"children":3225},{"class":507,"line":1103},[3226],{"type":398,"tag":505,"props":3227,"children":3228},{"style":581},[3229],{"type":403,"value":1490},{"type":398,"tag":505,"props":3231,"children":3232},{"class":507,"line":1129},[3233],{"type":398,"tag":505,"props":3234,"children":3235},{"emptyLinePlaceholder":567},[3236],{"type":403,"value":570},{"type":398,"tag":505,"props":3238,"children":3239},{"class":507,"line":1137},[3240],{"type":398,"tag":505,"props":3241,"children":3242},{"style":952},[3243],{"type":403,"value":3244},"// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\n",{"type":398,"tag":505,"props":3246,"children":3247},{"class":507,"line":1146},[3248,3252,3257,3261],{"type":398,"tag":505,"props":3249,"children":3250},{"style":512},[3251],{"type":403,"value":515},{"type":398,"tag":505,"props":3253,"children":3254},{"style":518},[3255],{"type":403,"value":3256}," points",{"type":398,"tag":505,"props":3258,"children":3259},{"style":524},[3260],{"type":403,"value":527},{"type":398,"tag":505,"props":3262,"children":3263},{"style":536},[3264],{"type":403,"value":3265}," [\n",{"type":398,"tag":505,"props":3267,"children":3268},{"class":507,"line":1154},[3269],{"type":398,"tag":505,"props":3270,"children":3271},{"style":581},[3272],{"type":403,"value":3273},"  {\n",{"type":398,"tag":505,"props":3275,"children":3276},{"class":507,"line":1209},[3277,3282,3286,3290],{"type":398,"tag":505,"props":3278,"children":3279},{"style":669},[3280],{"type":403,"value":3281},"    time",{"type":398,"tag":505,"props":3283,"children":3284},{"style":581},[3285],{"type":403,"value":1262},{"type":398,"tag":505,"props":3287,"children":3288},{"style":1478},[3289],{"type":403,"value":2476},{"type":398,"tag":505,"props":3291,"children":3292},{"style":581},[3293],{"type":403,"value":1346},{"type":398,"tag":505,"props":3295,"children":3296},{"class":507,"line":1251},[3297,3302,3306,3310,3315,3319,3323,3328,3332,3336,3340],{"type":398,"tag":505,"props":3298,"children":3299},{"style":669},[3300],{"type":403,"value":3301},"    x",{"type":398,"tag":505,"props":3303,"children":3304},{"style":581},[3305],{"type":403,"value":1262},{"type":398,"tag":505,"props":3307,"children":3308},{"style":1478},[3309],{"type":403,"value":2496},{"type":398,"tag":505,"props":3311,"children":3312},{"style":524},[3313],{"type":403,"value":3314}," +",{"type":398,"tag":505,"props":3316,"children":3317},{"style":530},[3318],{"type":403,"value":3006},{"type":398,"tag":505,"props":3320,"children":3321},{"style":536},[3322],{"type":403,"value":539},{"type":398,"tag":505,"props":3324,"children":3325},{"style":3026},[3326],{"type":403,"value":3327},"false",{"type":398,"tag":505,"props":3329,"children":3330},{"style":581},[3331],{"type":403,"value":1005},{"type":398,"tag":505,"props":3333,"children":3334},{"style":1478},[3335],{"type":403,"value":1852},{"type":398,"tag":505,"props":3337,"children":3338},{"style":536},[3339],{"type":403,"value":1015},{"type":398,"tag":505,"props":3341,"children":3342},{"style":581},[3343],{"type":403,"value":1346},{"type":398,"tag":505,"props":3345,"children":3346},{"class":507,"line":1280},[3347,3352,3356,3360,3364,3368,3372,3376,3380,3384,3388],{"type":398,"tag":505,"props":3348,"children":3349},{"style":669},[3350],{"type":403,"value":3351},"    y",{"type":398,"tag":505,"props":3353,"children":3354},{"style":581},[3355],{"type":403,"value":1262},{"type":398,"tag":505,"props":3357,"children":3358},{"style":1478},[3359],{"type":403,"value":2496},{"type":398,"tag":505,"props":3361,"children":3362},{"style":524},[3363],{"type":403,"value":3314},{"type":398,"tag":505,"props":3365,"children":3366},{"style":530},[3367],{"type":403,"value":3006},{"type":398,"tag":505,"props":3369,"children":3370},{"style":536},[3371],{"type":403,"value":539},{"type":398,"tag":505,"props":3373,"children":3374},{"style":3026},[3375],{"type":403,"value":3327},{"type":398,"tag":505,"props":3377,"children":3378},{"style":581},[3379],{"type":403,"value":1005},{"type":398,"tag":505,"props":3381,"children":3382},{"style":1478},[3383],{"type":403,"value":1852},{"type":398,"tag":505,"props":3385,"children":3386},{"style":536},[3387],{"type":403,"value":1015},{"type":398,"tag":505,"props":3389,"children":3390},{"style":581},[3391],{"type":403,"value":1346},{"type":398,"tag":505,"props":3393,"children":3394},{"class":507,"line":1293},[3395,3400,3404],{"type":398,"tag":505,"props":3396,"children":3397},{"style":669},[3398],{"type":403,"value":3399},"    steps",{"type":398,"tag":505,"props":3401,"children":3402},{"style":581},[3403],{"type":403,"value":1262},{"type":398,"tag":505,"props":3405,"children":3406},{"style":1478},[3407],{"type":403,"value":2552},{"type":398,"tag":505,"props":3409,"children":3410},{"class":507,"line":1327},[3411],{"type":398,"tag":505,"props":3412,"children":3413},{"style":581},[3414],{"type":403,"value":3415},"  },\n",{"type":398,"tag":505,"props":3417,"children":3418},{"class":507,"line":1349},[3419],{"type":398,"tag":505,"props":3420,"children":3421},{"style":581},[3422],{"type":403,"value":3273},{"type":398,"tag":505,"props":3424,"children":3425},{"class":507,"line":1367},[3426,3430,3434,3438],{"type":398,"tag":505,"props":3427,"children":3428},{"style":669},[3429],{"type":403,"value":3281},{"type":398,"tag":505,"props":3431,"children":3432},{"style":581},[3433],{"type":403,"value":1262},{"type":398,"tag":505,"props":3435,"children":3436},{"style":1478},[3437],{"type":403,"value":2411},{"type":398,"tag":505,"props":3439,"children":3440},{"style":581},[3441],{"type":403,"value":1346},{"type":398,"tag":505,"props":3443,"children":3444},{"class":507,"line":1379},[3445,3449,3453,3457],{"type":398,"tag":505,"props":3446,"children":3447},{"style":669},[3448],{"type":403,"value":3301},{"type":398,"tag":505,"props":3450,"children":3451},{"style":581},[3452],{"type":403,"value":1262},{"type":398,"tag":505,"props":3454,"children":3455},{"style":1478},[3456],{"type":403,"value":2496},{"type":398,"tag":505,"props":3458,"children":3459},{"style":581},[3460],{"type":403,"value":1346},{"type":398,"tag":505,"props":3462,"children":3463},{"class":507,"line":1405},[3464,3468,3472,3476],{"type":398,"tag":505,"props":3465,"children":3466},{"style":669},[3467],{"type":403,"value":3351},{"type":398,"tag":505,"props":3469,"children":3470},{"style":581},[3471],{"type":403,"value":1262},{"type":398,"tag":505,"props":3473,"children":3474},{"style":1478},[3475],{"type":403,"value":2496},{"type":398,"tag":505,"props":3477,"children":3478},{"style":581},[3479],{"type":403,"value":1346},{"type":398,"tag":505,"props":3481,"children":3482},{"class":507,"line":1418},[3483,3487,3491],{"type":398,"tag":505,"props":3484,"children":3485},{"style":669},[3486],{"type":403,"value":3399},{"type":398,"tag":505,"props":3488,"children":3489},{"style":581},[3490],{"type":403,"value":1262},{"type":398,"tag":505,"props":3492,"children":3493},{"style":1478},[3494],{"type":403,"value":3495}," 3\n",{"type":398,"tag":505,"props":3497,"children":3498},{"class":507,"line":1444},[3499],{"type":398,"tag":505,"props":3500,"children":3501},{"style":581},[3502],{"type":403,"value":3503},"  }\n",{"type":398,"tag":505,"props":3505,"children":3506},{"class":507,"line":1456},[3507],{"type":398,"tag":505,"props":3508,"children":3509},{"style":536},[3510],{"type":403,"value":3511},"]\n",{"type":398,"tag":505,"props":3513,"children":3514},{"class":507,"line":1464},[3515],{"type":398,"tag":505,"props":3516,"children":3517},{"emptyLinePlaceholder":567},[3518],{"type":403,"value":570},{"type":398,"tag":505,"props":3520,"children":3521},{"class":507,"line":1484},[3522],{"type":398,"tag":505,"props":3523,"children":3524},{"style":952},[3525],{"type":403,"value":3526},"// 注意这里用 for await 循环把 points 串起来执行\n",{"type":398,"tag":505,"props":3528,"children":3530},{"class":507,"line":3529},26,[3531,3536,3540,3544,3548,3552,3557,3562],{"type":398,"tag":505,"props":3532,"children":3533},{"style":650},[3534],{"type":403,"value":3535},"for",{"type":398,"tag":505,"props":3537,"children":3538},{"style":650},[3539],{"type":403,"value":653},{"type":398,"tag":505,"props":3541,"children":3542},{"style":536},[3543],{"type":403,"value":995},{"type":398,"tag":505,"props":3545,"children":3546},{"style":512},[3547],{"type":403,"value":515},{"type":398,"tag":505,"props":3549,"children":3550},{"style":518},[3551],{"type":403,"value":2451},{"type":398,"tag":505,"props":3553,"children":3554},{"style":524},[3555],{"type":403,"value":3556}," of",{"type":398,"tag":505,"props":3558,"children":3559},{"style":536},[3560],{"type":403,"value":3561}," points) ",{"type":398,"tag":505,"props":3563,"children":3564},{"style":581},[3565],{"type":403,"value":939},{"type":398,"tag":505,"props":3567,"children":3569},{"class":507,"line":3568},27,[3570,3574,3578,3582],{"type":398,"tag":505,"props":3571,"children":3572},{"style":512},[3573],{"type":403,"value":638},{"type":398,"tag":505,"props":3575,"children":3576},{"style":518},[3577],{"type":403,"value":2564},{"type":398,"tag":505,"props":3579,"children":3580},{"style":524},[3581],{"type":403,"value":527},{"type":398,"tag":505,"props":3583,"children":3584},{"style":581},[3585],{"type":403,"value":629},{"type":398,"tag":505,"props":3587,"children":3589},{"class":507,"line":3588},28,[3590,3594,3598,3602,3606,3610,3615,3620,3624,3628,3632,3636,3640,3644,3648,3652,3656,3660,3665,3669],{"type":398,"tag":505,"props":3591,"children":3592},{"style":669},[3593],{"type":403,"value":3301},{"type":398,"tag":505,"props":3595,"children":3596},{"style":581},[3597],{"type":403,"value":1262},{"type":398,"tag":505,"props":3599,"children":3600},{"style":536},[3601],{"type":403,"value":1896},{"type":398,"tag":505,"props":3603,"children":3604},{"style":581},[3605],{"type":403,"value":584},{"type":398,"tag":505,"props":3607,"children":3608},{"style":530},[3609],{"type":403,"value":2596},{"type":398,"tag":505,"props":3611,"children":3612},{"style":669},[3613],{"type":403,"value":3614},"((",{"type":398,"tag":505,"props":3616,"children":3617},{"style":536},[3618],{"type":403,"value":3619},"target",{"type":398,"tag":505,"props":3621,"children":3622},{"style":581},[3623],{"type":403,"value":584},{"type":398,"tag":505,"props":3625,"children":3626},{"style":536},[3627],{"type":403,"value":1941},{"type":398,"tag":505,"props":3629,"children":3630},{"style":524},[3631],{"type":403,"value":3135},{"type":398,"tag":505,"props":3633,"children":3634},{"style":536},[3635],{"type":403,"value":2386},{"type":398,"tag":505,"props":3637,"children":3638},{"style":581},[3639],{"type":403,"value":584},{"type":398,"tag":505,"props":3641,"children":3642},{"style":536},[3643],{"type":403,"value":1941},{"type":398,"tag":505,"props":3645,"children":3646},{"style":669},[3647],{"type":403,"value":3125},{"type":398,"tag":505,"props":3649,"children":3650},{"style":524},[3651],{"type":403,"value":2632},{"type":398,"tag":505,"props":3653,"children":3654},{"style":536},[3655],{"type":403,"value":2451},{"type":398,"tag":505,"props":3657,"children":3658},{"style":581},[3659],{"type":403,"value":584},{"type":398,"tag":505,"props":3661,"children":3662},{"style":536},[3663],{"type":403,"value":3664},"steps",{"type":398,"tag":505,"props":3666,"children":3667},{"style":669},[3668],{"type":403,"value":1015},{"type":398,"tag":505,"props":3670,"children":3671},{"style":581},[3672],{"type":403,"value":1346},{"type":398,"tag":505,"props":3674,"children":3676},{"class":507,"line":3675},29,[3677,3681,3685,3689,3693,3697,3701,3705,3709,3713,3717,3721,3725,3729,3733,3737,3741,3745,3749,3753],{"type":398,"tag":505,"props":3678,"children":3679},{"style":669},[3680],{"type":403,"value":3351},{"type":398,"tag":505,"props":3682,"children":3683},{"style":581},[3684],{"type":403,"value":1262},{"type":398,"tag":505,"props":3686,"children":3687},{"style":536},[3688],{"type":403,"value":1896},{"type":398,"tag":505,"props":3690,"children":3691},{"style":581},[3692],{"type":403,"value":584},{"type":398,"tag":505,"props":3694,"children":3695},{"style":530},[3696],{"type":403,"value":2596},{"type":398,"tag":505,"props":3698,"children":3699},{"style":669},[3700],{"type":403,"value":3614},{"type":398,"tag":505,"props":3702,"children":3703},{"style":536},[3704],{"type":403,"value":3619},{"type":398,"tag":505,"props":3706,"children":3707},{"style":581},[3708],{"type":403,"value":584},{"type":398,"tag":505,"props":3710,"children":3711},{"style":536},[3712],{"type":403,"value":2870},{"type":398,"tag":505,"props":3714,"children":3715},{"style":524},[3716],{"type":403,"value":3135},{"type":398,"tag":505,"props":3718,"children":3719},{"style":536},[3720],{"type":403,"value":2386},{"type":398,"tag":505,"props":3722,"children":3723},{"style":581},[3724],{"type":403,"value":584},{"type":398,"tag":505,"props":3726,"children":3727},{"style":536},[3728],{"type":403,"value":2870},{"type":398,"tag":505,"props":3730,"children":3731},{"style":669},[3732],{"type":403,"value":3125},{"type":398,"tag":505,"props":3734,"children":3735},{"style":524},[3736],{"type":403,"value":2632},{"type":398,"tag":505,"props":3738,"children":3739},{"style":536},[3740],{"type":403,"value":2451},{"type":398,"tag":505,"props":3742,"children":3743},{"style":581},[3744],{"type":403,"value":584},{"type":398,"tag":505,"props":3746,"children":3747},{"style":536},[3748],{"type":403,"value":3664},{"type":398,"tag":505,"props":3750,"children":3751},{"style":669},[3752],{"type":403,"value":1015},{"type":398,"tag":505,"props":3754,"children":3755},{"style":581},[3756],{"type":403,"value":1346},{"type":398,"tag":505,"props":3758,"children":3760},{"class":507,"line":3759},30,[3761,3765,3769,3773,3777,3781,3786,3790,3794,3798],{"type":398,"tag":505,"props":3762,"children":3763},{"style":669},[3764],{"type":403,"value":3281},{"type":398,"tag":505,"props":3766,"children":3767},{"style":581},[3768],{"type":403,"value":1262},{"type":398,"tag":505,"props":3770,"children":3771},{"style":536},[3772],{"type":403,"value":2451},{"type":398,"tag":505,"props":3774,"children":3775},{"style":581},[3776],{"type":403,"value":584},{"type":398,"tag":505,"props":3778,"children":3779},{"style":536},[3780],{"type":403,"value":2817},{"type":398,"tag":505,"props":3782,"children":3783},{"style":524},[3784],{"type":403,"value":3785}," /",{"type":398,"tag":505,"props":3787,"children":3788},{"style":536},[3789],{"type":403,"value":2451},{"type":398,"tag":505,"props":3791,"children":3792},{"style":581},[3793],{"type":403,"value":584},{"type":398,"tag":505,"props":3795,"children":3796},{"style":536},[3797],{"type":403,"value":3664},{"type":398,"tag":505,"props":3799,"children":3800},{"style":581},[3801],{"type":403,"value":1346},{"type":398,"tag":505,"props":3803,"children":3805},{"class":507,"line":3804},31,[3806],{"type":398,"tag":505,"props":3807,"children":3808},{"style":581},[3809],{"type":403,"value":3503},{"type":398,"tag":505,"props":3811,"children":3813},{"class":507,"line":3812},32,[3814,3819],{"type":398,"tag":505,"props":3815,"children":3816},{"style":512},[3817],{"type":403,"value":3818},"  let",{"type":398,"tag":505,"props":3820,"children":3821},{"style":536},[3822],{"type":403,"value":3823}," gap\n",{"type":398,"tag":505,"props":3825,"children":3827},{"class":507,"line":3826},33,[3828,3833,3837,3842,3846,3850,3854,3859,3863,3867,3871,3875,3879,3883,3887,3891,3896,3900,3905,3910,3915,3919],{"type":398,"tag":505,"props":3829,"children":3830},{"style":650},[3831],{"type":403,"value":3832},"  while",{"type":398,"tag":505,"props":3834,"children":3835},{"style":669},[3836],{"type":403,"value":995},{"type":398,"tag":505,"props":3838,"children":3839},{"style":536},[3840],{"type":403,"value":3841},"gap",{"type":398,"tag":505,"props":3843,"children":3844},{"style":524},[3845],{"type":403,"value":527},{"type":398,"tag":505,"props":3847,"children":3848},{"style":536},[3849],{"type":403,"value":1896},{"type":398,"tag":505,"props":3851,"children":3852},{"style":581},[3853],{"type":403,"value":584},{"type":398,"tag":505,"props":3855,"children":3856},{"style":530},[3857],{"type":403,"value":3858},"abs",{"type":398,"tag":505,"props":3860,"children":3861},{"style":669},[3862],{"type":403,"value":3614},{"type":398,"tag":505,"props":3864,"children":3865},{"style":536},[3866],{"type":403,"value":3619},{"type":398,"tag":505,"props":3868,"children":3869},{"style":581},[3870],{"type":403,"value":584},{"type":398,"tag":505,"props":3872,"children":3873},{"style":536},[3874],{"type":403,"value":1941},{"type":398,"tag":505,"props":3876,"children":3877},{"style":524},[3878],{"type":403,"value":3135},{"type":398,"tag":505,"props":3880,"children":3881},{"style":536},[3882],{"type":403,"value":2386},{"type":398,"tag":505,"props":3884,"children":3885},{"style":581},[3886],{"type":403,"value":584},{"type":398,"tag":505,"props":3888,"children":3889},{"style":536},[3890],{"type":403,"value":1941},{"type":398,"tag":505,"props":3892,"children":3893},{"style":669},[3894],{"type":403,"value":3895},"))",{"type":398,"tag":505,"props":3897,"children":3898},{"style":581},[3899],{"type":403,"value":1005},{"type":398,"tag":505,"props":3901,"children":3902},{"style":536},[3903],{"type":403,"value":3904}," gap",{"type":398,"tag":505,"props":3906,"children":3907},{"style":524},[3908],{"type":403,"value":3909}," >",{"type":398,"tag":505,"props":3911,"children":3912},{"style":1478},[3913],{"type":403,"value":3914}," 0",{"type":398,"tag":505,"props":3916,"children":3917},{"style":669},[3918],{"type":403,"value":3125},{"type":398,"tag":505,"props":3920,"children":3921},{"style":581},[3922],{"type":403,"value":939},{"type":398,"tag":505,"props":3924,"children":3926},{"class":507,"line":3925},34,[3927,3932,3936,3940,3944,3948,3952],{"type":398,"tag":505,"props":3928,"children":3929},{"style":650},[3930],{"type":403,"value":3931},"    await",{"type":398,"tag":505,"props":3933,"children":3934},{"style":530},[3935],{"type":403,"value":2799},{"type":398,"tag":505,"props":3937,"children":3938},{"style":669},[3939],{"type":403,"value":539},{"type":398,"tag":505,"props":3941,"children":3942},{"style":536},[3943],{"type":403,"value":2808},{"type":398,"tag":505,"props":3945,"children":3946},{"style":581},[3947],{"type":403,"value":584},{"type":398,"tag":505,"props":3949,"children":3950},{"style":536},[3951],{"type":403,"value":2817},{"type":398,"tag":505,"props":3953,"children":3954},{"style":669},[3955],{"type":403,"value":560},{"type":398,"tag":505,"props":3957,"children":3959},{"class":507,"line":3958},35,[3960],{"type":398,"tag":505,"props":3961,"children":3962},{"style":952},[3963],{"type":403,"value":3964},"    // 最后一步就直接滑动到位，不需要随机数了\n",{"type":398,"tag":505,"props":3966,"children":3968},{"class":507,"line":3967},36,[3969,3974,3979,3983,3987,3991,3995,3999,4003,4007,4011,4015,4019,4023,4027,4031,4035,4039,4043,4047,4051,4055,4059,4063,4067],{"type":398,"tag":505,"props":3970,"children":3971},{"style":512},[3972],{"type":403,"value":3973},"    const",{"type":398,"tag":505,"props":3975,"children":3976},{"style":518},[3977],{"type":403,"value":3978}," inOneStep",{"type":398,"tag":505,"props":3980,"children":3981},{"style":524},[3982],{"type":403,"value":527},{"type":398,"tag":505,"props":3984,"children":3985},{"style":536},[3986],{"type":403,"value":1896},{"type":398,"tag":505,"props":3988,"children":3989},{"style":581},[3990],{"type":403,"value":584},{"type":398,"tag":505,"props":3992,"children":3993},{"style":530},[3994],{"type":403,"value":3858},{"type":398,"tag":505,"props":3996,"children":3997},{"style":669},[3998],{"type":403,"value":539},{"type":398,"tag":505,"props":4000,"children":4001},{"style":536},[4002],{"type":403,"value":3619},{"type":398,"tag":505,"props":4004,"children":4005},{"style":581},[4006],{"type":403,"value":584},{"type":398,"tag":505,"props":4008,"children":4009},{"style":536},[4010],{"type":403,"value":1941},{"type":398,"tag":505,"props":4012,"children":4013},{"style":524},[4014],{"type":403,"value":3135},{"type":398,"tag":505,"props":4016,"children":4017},{"style":536},[4018],{"type":403,"value":2386},{"type":398,"tag":505,"props":4020,"children":4021},{"style":581},[4022],{"type":403,"value":584},{"type":398,"tag":505,"props":4024,"children":4025},{"style":536},[4026],{"type":403,"value":1941},{"type":398,"tag":505,"props":4028,"children":4029},{"style":669},[4030],{"type":403,"value":3125},{"type":398,"tag":505,"props":4032,"children":4033},{"style":524},[4034],{"type":403,"value":929},{"type":398,"tag":505,"props":4036,"children":4037},{"style":536},[4038],{"type":403,"value":1896},{"type":398,"tag":505,"props":4040,"children":4041},{"style":581},[4042],{"type":403,"value":584},{"type":398,"tag":505,"props":4044,"children":4045},{"style":530},[4046],{"type":403,"value":3858},{"type":398,"tag":505,"props":4048,"children":4049},{"style":669},[4050],{"type":403,"value":539},{"type":398,"tag":505,"props":4052,"children":4053},{"style":536},[4054],{"type":403,"value":2808},{"type":398,"tag":505,"props":4056,"children":4057},{"style":581},[4058],{"type":403,"value":584},{"type":398,"tag":505,"props":4060,"children":4061},{"style":536},[4062],{"type":403,"value":1941},{"type":398,"tag":505,"props":4064,"children":4065},{"style":669},[4066],{"type":403,"value":1015},{"type":398,"tag":505,"props":4068,"children":4069},{"style":581},[4070],{"type":403,"value":1624},{"type":398,"tag":505,"props":4072,"children":4074},{"class":507,"line":4073},37,[4075,4080,4084,4089,4093],{"type":398,"tag":505,"props":4076,"children":4077},{"style":650},[4078],{"type":403,"value":4079},"    if",{"type":398,"tag":505,"props":4081,"children":4082},{"style":669},[4083],{"type":403,"value":995},{"type":398,"tag":505,"props":4085,"children":4086},{"style":536},[4087],{"type":403,"value":4088},"inOneStep",{"type":398,"tag":505,"props":4090,"children":4091},{"style":669},[4092],{"type":403,"value":3125},{"type":398,"tag":505,"props":4094,"children":4095},{"style":581},[4096],{"type":403,"value":939},{"type":398,"tag":505,"props":4098,"children":4100},{"class":507,"line":4099},38,[4101,4106,4110,4114,4118,4122,4126,4130],{"type":398,"tag":505,"props":4102,"children":4103},{"style":536},[4104],{"type":403,"value":4105},"      now",{"type":398,"tag":505,"props":4107,"children":4108},{"style":581},[4109],{"type":403,"value":584},{"type":398,"tag":505,"props":4111,"children":4112},{"style":536},[4113],{"type":403,"value":1941},{"type":398,"tag":505,"props":4115,"children":4116},{"style":524},[4117],{"type":403,"value":527},{"type":398,"tag":505,"props":4119,"children":4120},{"style":536},[4121],{"type":403,"value":2451},{"type":398,"tag":505,"props":4123,"children":4124},{"style":581},[4125],{"type":403,"value":584},{"type":398,"tag":505,"props":4127,"children":4128},{"style":536},[4129],{"type":403,"value":1941},{"type":398,"tag":505,"props":4131,"children":4132},{"style":581},[4133],{"type":403,"value":1624},{"type":398,"tag":505,"props":4135,"children":4137},{"class":507,"line":4136},39,[4138,4142,4146,4150,4154,4158,4162,4166],{"type":398,"tag":505,"props":4139,"children":4140},{"style":536},[4141],{"type":403,"value":4105},{"type":398,"tag":505,"props":4143,"children":4144},{"style":581},[4145],{"type":403,"value":584},{"type":398,"tag":505,"props":4147,"children":4148},{"style":536},[4149],{"type":403,"value":2870},{"type":398,"tag":505,"props":4151,"children":4152},{"style":524},[4153],{"type":403,"value":527},{"type":398,"tag":505,"props":4155,"children":4156},{"style":536},[4157],{"type":403,"value":2451},{"type":398,"tag":505,"props":4159,"children":4160},{"style":581},[4161],{"type":403,"value":584},{"type":398,"tag":505,"props":4163,"children":4164},{"style":536},[4165],{"type":403,"value":2870},{"type":398,"tag":505,"props":4167,"children":4168},{"style":581},[4169],{"type":403,"value":1624},{"type":398,"tag":505,"props":4171,"children":4173},{"class":507,"line":4172},40,[4174,4179,4184],{"type":398,"tag":505,"props":4175,"children":4176},{"style":581},[4177],{"type":403,"value":4178},"    }",{"type":398,"tag":505,"props":4180,"children":4181},{"style":650},[4182],{"type":403,"value":4183}," else",{"type":398,"tag":505,"props":4185,"children":4186},{"style":581},[4187],{"type":403,"value":629},{"type":398,"tag":505,"props":4189,"children":4191},{"class":507,"line":4190},41,[4192,4196,4200,4204,4208,4212,4216,4220,4224,4228,4232],{"type":398,"tag":505,"props":4193,"children":4194},{"style":536},[4195],{"type":403,"value":4105},{"type":398,"tag":505,"props":4197,"children":4198},{"style":581},[4199],{"type":403,"value":584},{"type":398,"tag":505,"props":4201,"children":4202},{"style":536},[4203],{"type":403,"value":1941},{"type":398,"tag":505,"props":4205,"children":4206},{"style":524},[4207],{"type":403,"value":1475},{"type":398,"tag":505,"props":4209,"children":4210},{"style":536},[4211],{"type":403,"value":2564},{"type":398,"tag":505,"props":4213,"children":4214},{"style":581},[4215],{"type":403,"value":584},{"type":398,"tag":505,"props":4217,"children":4218},{"style":536},[4219],{"type":403,"value":1941},{"type":398,"tag":505,"props":4221,"children":4222},{"style":524},[4223],{"type":403,"value":3314},{"type":398,"tag":505,"props":4225,"children":4226},{"style":530},[4227],{"type":403,"value":3006},{"type":398,"tag":505,"props":4229,"children":4230},{"style":669},[4231],{"type":403,"value":594},{"type":398,"tag":505,"props":4233,"children":4234},{"style":581},[4235],{"type":403,"value":1624},{"type":398,"tag":505,"props":4237,"children":4239},{"class":507,"line":4238},42,[4240,4244,4248,4252,4256,4260,4264,4268,4272,4276,4280],{"type":398,"tag":505,"props":4241,"children":4242},{"style":536},[4243],{"type":403,"value":4105},{"type":398,"tag":505,"props":4245,"children":4246},{"style":581},[4247],{"type":403,"value":584},{"type":398,"tag":505,"props":4249,"children":4250},{"style":536},[4251],{"type":403,"value":2870},{"type":398,"tag":505,"props":4253,"children":4254},{"style":524},[4255],{"type":403,"value":1475},{"type":398,"tag":505,"props":4257,"children":4258},{"style":536},[4259],{"type":403,"value":2564},{"type":398,"tag":505,"props":4261,"children":4262},{"style":581},[4263],{"type":403,"value":584},{"type":398,"tag":505,"props":4265,"children":4266},{"style":536},[4267],{"type":403,"value":2870},{"type":398,"tag":505,"props":4269,"children":4270},{"style":524},[4271],{"type":403,"value":3314},{"type":398,"tag":505,"props":4273,"children":4274},{"style":530},[4275],{"type":403,"value":3006},{"type":398,"tag":505,"props":4277,"children":4278},{"style":669},[4279],{"type":403,"value":594},{"type":398,"tag":505,"props":4281,"children":4282},{"style":581},[4283],{"type":403,"value":1624},{"type":398,"tag":505,"props":4285,"children":4287},{"class":507,"line":4286},43,[4288],{"type":398,"tag":505,"props":4289,"children":4290},{"style":581},[4291],{"type":403,"value":4292},"    }\n",{"type":398,"tag":505,"props":4294,"children":4296},{"class":507,"line":4295},44,[4297,4302,4306,4310],{"type":398,"tag":505,"props":4298,"children":4299},{"style":530},[4300],{"type":403,"value":4301},"    moveMouseTo",{"type":398,"tag":505,"props":4303,"children":4304},{"style":669},[4305],{"type":403,"value":539},{"type":398,"tag":505,"props":4307,"children":4308},{"style":536},[4309],{"type":403,"value":2925},{"type":398,"tag":505,"props":4311,"children":4312},{"style":669},[4313],{"type":403,"value":560},{"type":398,"tag":505,"props":4315,"children":4317},{"class":507,"line":4316},45,[4318],{"type":398,"tag":505,"props":4319,"children":4320},{"style":581},[4321],{"type":403,"value":3503},{"type":398,"tag":505,"props":4323,"children":4325},{"class":507,"line":4324},46,[4326],{"type":398,"tag":505,"props":4327,"children":4328},{"style":581},[4329],{"type":403,"value":1490},{"type":398,"tag":399,"props":4331,"children":4332},{},[4333],{"type":403,"value":4334},"如何移动鼠标到这里就解决了，如果要考虑加速度、用户习惯等因素，代码会复杂许多，暂时就不深入讨论啦，有兴趣的同学可以自己研究。",{"type":398,"tag":399,"props":4336,"children":4337},{},[4338],{"type":403,"value":4339},"最终效果见下图。",{"type":398,"tag":399,"props":4341,"children":4342},{},[4343],{"type":398,"tag":425,"props":4344,"children":4345},{"alt":427,"src":428},[],{"type":398,"tag":399,"props":4347,"children":4348},{},[4349,4351,4358],{"type":403,"value":4350},"源码地址在此：",{"type":398,"tag":406,"props":4352,"children":4355},{"href":4353,"rel":4354},"https://github.com/Lionad-Morotar/crack-the-shield/tree/master/tasks/dooring-slider",[410],[4356],{"type":403,"value":4357},"CrackTheShield",{"type":403,"value":827},{"type":398,"tag":431,"props":4360,"children":4362},{"id":4361},"阅读更多",[4363],{"type":403,"value":4361},{"type":398,"tag":2961,"props":4365,"children":4366},{},[4367,4379],{"type":398,"tag":452,"props":4368,"children":4369},{},[4370,4377],{"type":398,"tag":406,"props":4371,"children":4374},{"href":4372,"rel":4373},"https://juejin.cn/post/6945336161468416037",[410],[4375],{"type":403,"value":4376},"《Python爬虫的实际运用之：破解滑动验证码》",{"type":403,"value":4378},"，这个老哥用了图像边缘检测的方法来判断缺口所在位置。",{"type":398,"tag":452,"props":4380,"children":4381},{},[4382,4389],{"type":398,"tag":406,"props":4383,"children":4386},{"href":4384,"rel":4385},"https://juejin.cn/post/6844903679808520205",[410],[4387],{"type":403,"value":4388},"《震惊! 滑动验证码竟然能这样破解》",{"type":403,"value":4390},"，这个老哥用了一种看谁脸黑的办法来判断图片的缺口所在位置。",{"type":398,"tag":4392,"props":4393,"children":4396},"section",{"className":4394,"dataFootnotes":392},[4395],"footnotes",[4397,4404],{"type":398,"tag":431,"props":4398,"children":4401},{"className":4399,"id":821},[4400],"sr-only",[4402],{"type":403,"value":4403},"Footnotes",{"type":398,"tag":448,"props":4405,"children":4406},{},[4407],{"type":398,"tag":452,"props":4408,"children":4410},{"id":4409},"user-content-fn-alimagic",[4411,4418,4420],{"type":398,"tag":406,"props":4412,"children":4415},{"href":4413,"rel":4414},"https://vision.aliyun.com/experience/detail",[410],[4416],{"type":403,"value":4417},"测试地址",{"type":403,"value":4419}," ",{"type":398,"tag":406,"props":4421,"children":4426},{"href":4422,"ariaLabel":4423,"className":4424,"dataFootnoteBackref":392},"#user-content-fnref-alimagic","Back to reference 1",[4425],"data-footnote-backref",[4427],{"type":403,"value":4428},"↩",{"type":398,"tag":1053,"props":4430,"children":4431},{},[4432],{"type":403,"value":4433},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":392,"searchDepth":563,"depth":563,"links":4435},[4436,4443,4444],{"id":433,"depth":563,"text":433,"children":4437},[4438,4439,4440,4441,4442],{"id":439,"depth":573,"text":439},{"id":792,"depth":573,"text":792},{"id":1533,"depth":573,"text":1533},{"id":2346,"depth":573,"text":2346},{"id":2939,"depth":573,"text":2939},{"id":4361,"depth":563,"text":4361},{"id":821,"depth":563,"text":4403},"markdown","content:2.articles:1105.crack-the-slider.md","content","2.articles/1105.crack-the-slider.md","md",[4451,4453],{"_path":55,"title":54,"description":4452},"使用 element-plus 内的层级管理器可以解决多组件库间层级不统一的问题",{"_path":61,"title":60,"description":4454},"本文介绍了几种通过CSS实现的常见阴影效果如单侧投影、空心投影、投影动画、彩色阴影、长投影和倒影，以及尝试使用SVG模拟材质特性如粗糙度及光学效应如菲尼尔效应生成了几种特殊的纹理，最后通过一个CSS绘制真实书本案例介绍了实战中的一些细节。",1711865882601]