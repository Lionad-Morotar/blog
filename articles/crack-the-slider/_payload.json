[{"data":1,"prerenderedAt":4460},["ShallowReactive",2],{"navigation":3,"/articles/crack-the-slider":393,"/articles/crack-the-slider-surround":4455},[4,35,86,105,132,138,144,150,387],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"数字化转型","/gists/digital-transformation",{"title":205,"_path":206},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":208,"_path":209},"正则表达式","/gists/eegex",{"title":211,"_path":212},"Emoji","/gists/emoji",{"title":214,"_path":215},"工程","/gists/engineering",{"title":217,"_path":218},"熵","/gists/entropy",{"title":220,"_path":221},"Environment","/gists/environment",{"title":223,"_path":224},"Erlang","/gists/erlang",{"title":226,"_path":227},"逃离塔克夫","/gists/escape-from-tarkov",{"title":229,"_path":230},"ESNext (ES6-ES11)","/gists/esnext",{"title":232,"_path":233},"Eval！","/gists/eval",{"title":235,"_path":236},"Flutter","/gists/flutter",{"title":238,"_path":239},"字体","/gists/font",{"title":241,"_path":242},"JS 函数式编程","/gists/functional",{"title":244,"_path":245},"游戏化","/gists/gamification",{"title":247,"_path":248},"Google C++ Standard","/gists/google-cpp-standard",{"title":250,"_path":251},"双向链接完全体","/gists/graph",{"title":253,"_path":254},"Hardwares","/gists/hardwares",{"title":256,"_path":257},"哈希冲突","/gists/hash-collision",{"title":259,"_path":260},"信息设计","/gists/information-design",{"title":262,"_path":263},"InstantPage","/gists/instant.page",{"title":265,"_path":266},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":268,"_path":269},"KVStore","/gists/key-value-db",{"title":271,"_path":272},"Kubernetes","/gists/kubernetes",{"title":274,"_path":275},"Makefile","/gists/makefile",{"title":277,"_path":278},"Markdown Inline Style","/gists/markdown-nice",{"title":280,"_path":281},"小程序","/gists/miniapp",{"title":283,"_path":284},"减小页面快照体积","/gists/minify-html",{"title":286,"_path":287},"mklink","/gists/mklink",{"title":289,"_path":290},"Mock","/gists/mock",{"title":292,"_path":293},"多人协作系统","/gists/multiplayer",{"title":295,"_path":296},"多端应用","/gists/multy-end-app",{"title":298,"_path":299},"神经科学","/gists/neuroscience",{"title":301,"_path":302},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":304,"_path":305},"PInvoke","/gists/pinvoke",{"title":307,"_path":308},"像素","/gists/pixel",{"title":310,"_path":311},"PowerShell","/gists/powershell",{"title":313,"_path":314},"量子","/gists/quantum",{"title":316,"_path":317},"保持好奇心","/gists/questions",{"title":319,"_path":320},"React Native","/gists/react-native",{"title":322,"_path":323},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":325,"_path":326},"SEO","/gists/seo",{"title":328,"_path":329},"Shader","/gists/shader",{"title":331,"_path":332},"Shape Up","/gists/shape-up",{"title":334,"_path":335},"睡觉","/gists/sleep",{"title":337,"_path":338},"记录奇怪的问题","/gists/solved",{"title":340,"_path":341},"States","/gists/states",{"title":343,"_path":344},"Storage","/gists/storage",{"title":346,"_path":347},"音视频流处理","/gists/stream-cli",{"title":349,"_path":350},"Symbol","/gists/symbol",{"title":352,"_path":353},"系统论","/gists/systems-theory",{"title":355,"_path":356},"Taro","/gists/taro",{"title":358,"_path":359},"任务切片","/gists/task-slice",{"title":361,"_path":362},"技术偏好","/gists/tech-dudge",{"title":364,"_path":365},"Untitled","/gists/untitled",{"title":367,"_path":368},"可变字体","/gists/variable-font",{"title":370,"_path":371},"视觉错觉","/gists/visual-illusion",{"title":373,"_path":374},"SS(SSR)","/gists/vpn",{"title":376,"_path":377},"VS Code 插件开发","/gists/vscode-plugin",{"title":379,"_path":380},"Web Components","/gists/web-components",{"title":382,"_path":383},"Windows","/gists/windows",{"title":385,"_path":386},"查缺补漏","/gists/wrong",{"title":388,"_path":389,"children":390},"我 / About","/hire",[391],{"title":392,"_path":389},"📬 技术简历",{"_path":64,"_dir":394,"_draft":395,"_partial":395,"_locale":396,"title":63,"description":397,"body":398,"_type":4449,"_id":4450,"_source":4451,"_file":4452,"_stem":4453,"_extension":4454},"articles",false,"","如何破解滑块验证码？本文介绍使用Puppeteer操作浏览器进行图片对比、图片识别及优化鼠标轨迹以模仿真是用户等几种简单爬虫验证码破解思路，适用多种场景。",{"type":399,"children":400,"toc":4438},"root",[401,420,425,434,440,446,451,471,485,497,733,741,746,751,784,789,794,799,804,812,832,840,852,860,865,873,878,899,904,909,1495,1503,1517,1525,1530,1535,1540,1545,1550,1568,1573,1578,1868,1873,2338,2343,2348,2353,2358,2372,2941,2946,2951,2956,2964,2978,2983,4334,4339,4344,4350,4363,4368,4395,4433],{"type":402,"tag":403,"props":404,"children":405},"element","p",{},[406,409,418],{"type":407,"value":408},"text","昨天在掘金看到推荐文章",{"type":402,"tag":410,"props":411,"children":415},"a",{"href":412,"rel":413},"https://juejin.cn/post/7007615666609979400",[414],"nofollow",[416],{"type":407,"value":417},"《从零开发一款轻量级滑动验证码插件》",{"type":407,"value":419},"，介绍了一些相关验证码及框架开发的知识点。巧的是就在前两周，我们公司举办了一个爬虫攻防赛，其中用到多种爬虫验证的破解方法，之一就是滑块验证码。",{"type":402,"tag":403,"props":421,"children":422},{},[423],{"type":407,"value":424},"今天在这篇文章里给大家介绍一下怎么使用 JS 破解滑块验证码。",{"type":402,"tag":403,"props":426,"children":427},{},[428],{"type":402,"tag":429,"props":430,"children":433},"img",{"alt":431,"src":432},"最终效果（加速）","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/73ba97c7435f.gif",[],{"type":402,"tag":435,"props":436,"children":438},"h2",{"id":437},"思路讲解",[439],{"type":407,"value":437},{"type":402,"tag":441,"props":442,"children":444},"h3",{"id":443},"操作浏览器打开页面",[445],{"type":407,"value":443},{"type":402,"tag":403,"props":447,"children":448},{},[449],{"type":407,"value":450},"滑块验证码是滑动验证码的一种，生成流程至少包含三步：",{"type":402,"tag":452,"props":453,"children":454},"ol",{},[455,461,466],{"type":402,"tag":456,"props":457,"children":458},"li",{},[459],{"type":407,"value":460},"根据用户标识，从后台获得验证码图片",{"type":402,"tag":456,"props":462,"children":463},{},[464],{"type":407,"value":465},"监听鼠标事件并回传后台",{"type":402,"tag":456,"props":467,"children":468},{},[469],{"type":407,"value":470},"后台判断事件的真伪，回传验证结果",{"type":402,"tag":403,"props":472,"children":473},{},[474,476,483],{"type":407,"value":475},"无论生成机制的细节如何，滑块终究是要展示在页面上的。直接用 HTTP Request 把页面 HTML 请求下来肯定不行，这里我们需要使用 Puppeteer 打开网页进行渲染。测试页面就以 ",{"type":402,"tag":410,"props":477,"children":480},{"href":478,"rel":479},"http://h5.dooring.cn/slider-vertify",[414],[481],{"type":407,"value":482},"react-slider-vertify",{"type":407,"value":484}," 的官网为例。",{"type":402,"tag":403,"props":486,"children":487},{},[488,495],{"type":402,"tag":410,"props":489,"children":492},{"href":490,"rel":491},"http://puppeteerjs.com/",[414],[493],{"type":407,"value":494},"Puppeteer",{"type":407,"value":496}," 是一个通过 DevTools 协议来控制浏览器行为的库，只需编写不多的代码，就可以操作真实的浏览器搞定诸如爬虫、自动化测试、网页性能分析、浏览器扩展测试等功能。使用起来比较方便，文档齐全。根据文档，打开页面前需要启动一个浏览器实例，然后调用 newPage 方法创建一个新页面。核心代码如下。",{"type":402,"tag":498,"props":499,"children":503},"pre",{"className":500,"code":501,"language":502,"meta":396,"style":396},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async browser => {\n  const page = await browser.newPage()\n  await page.goto('http://h5.dooring.cn/slider-vertify/vertify')\n})\n","js",[504],{"type":402,"tag":505,"props":506,"children":507},"code",{"__ignoreMap":396},[508,565,575,634,677,720],{"type":402,"tag":509,"props":510,"children":513},"span",{"class":511,"line":512},"line",1,[514,520,526,532,538,544,550,556,560],{"type":402,"tag":509,"props":515,"children":517},{"style":516},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[518],{"type":407,"value":519},"const",{"type":402,"tag":509,"props":521,"children":523},{"style":522},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[524],{"type":407,"value":525}," puppeteer",{"type":402,"tag":509,"props":527,"children":529},{"style":528},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[530],{"type":407,"value":531}," =",{"type":402,"tag":509,"props":533,"children":535},{"style":534},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[536],{"type":407,"value":537}," require",{"type":402,"tag":509,"props":539,"children":541},{"style":540},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[542],{"type":407,"value":543},"(",{"type":402,"tag":509,"props":545,"children":547},{"style":546},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[548],{"type":407,"value":549},"'",{"type":402,"tag":509,"props":551,"children":553},{"style":552},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[554],{"type":407,"value":555},"puppeteer",{"type":402,"tag":509,"props":557,"children":558},{"style":546},[559],{"type":407,"value":549},{"type":402,"tag":509,"props":561,"children":562},{"style":540},[563],{"type":407,"value":564},")\n",{"type":402,"tag":509,"props":566,"children":568},{"class":511,"line":567},2,[569],{"type":402,"tag":509,"props":570,"children":572},{"emptyLinePlaceholder":571},true,[573],{"type":407,"value":574},"\n",{"type":402,"tag":509,"props":576,"children":578},{"class":511,"line":577},3,[579,583,589,594,599,603,608,612,618,624,629],{"type":402,"tag":509,"props":580,"children":581},{"style":540},[582],{"type":407,"value":555},{"type":402,"tag":509,"props":584,"children":586},{"style":585},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[587],{"type":407,"value":588},".",{"type":402,"tag":509,"props":590,"children":591},{"style":534},[592],{"type":407,"value":593},"launch",{"type":402,"tag":509,"props":595,"children":596},{"style":540},[597],{"type":407,"value":598},"()",{"type":402,"tag":509,"props":600,"children":601},{"style":585},[602],{"type":407,"value":588},{"type":402,"tag":509,"props":604,"children":605},{"style":534},[606],{"type":407,"value":607},"then",{"type":402,"tag":509,"props":609,"children":610},{"style":540},[611],{"type":407,"value":543},{"type":402,"tag":509,"props":613,"children":615},{"style":614},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[616],{"type":407,"value":617},"async",{"type":402,"tag":509,"props":619,"children":621},{"style":620},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[622],{"type":407,"value":623}," browser",{"type":402,"tag":509,"props":625,"children":626},{"style":516},[627],{"type":407,"value":628}," =>",{"type":402,"tag":509,"props":630,"children":631},{"style":585},[632],{"type":407,"value":633}," {\n",{"type":402,"tag":509,"props":635,"children":637},{"class":511,"line":636},4,[638,643,648,652,658,662,666,671],{"type":402,"tag":509,"props":639,"children":640},{"style":516},[641],{"type":407,"value":642},"  const",{"type":402,"tag":509,"props":644,"children":645},{"style":522},[646],{"type":407,"value":647}," page",{"type":402,"tag":509,"props":649,"children":650},{"style":528},[651],{"type":407,"value":531},{"type":402,"tag":509,"props":653,"children":655},{"style":654},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[656],{"type":407,"value":657}," await",{"type":402,"tag":509,"props":659,"children":660},{"style":540},[661],{"type":407,"value":623},{"type":402,"tag":509,"props":663,"children":664},{"style":585},[665],{"type":407,"value":588},{"type":402,"tag":509,"props":667,"children":668},{"style":534},[669],{"type":407,"value":670},"newPage",{"type":402,"tag":509,"props":672,"children":674},{"style":673},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[675],{"type":407,"value":676},"()\n",{"type":402,"tag":509,"props":678,"children":680},{"class":511,"line":679},5,[681,686,690,694,699,703,707,712,716],{"type":402,"tag":509,"props":682,"children":683},{"style":654},[684],{"type":407,"value":685},"  await",{"type":402,"tag":509,"props":687,"children":688},{"style":540},[689],{"type":407,"value":647},{"type":402,"tag":509,"props":691,"children":692},{"style":585},[693],{"type":407,"value":588},{"type":402,"tag":509,"props":695,"children":696},{"style":534},[697],{"type":407,"value":698},"goto",{"type":402,"tag":509,"props":700,"children":701},{"style":673},[702],{"type":407,"value":543},{"type":402,"tag":509,"props":704,"children":705},{"style":546},[706],{"type":407,"value":549},{"type":402,"tag":509,"props":708,"children":709},{"style":552},[710],{"type":407,"value":711},"http://h5.dooring.cn/slider-vertify/vertify",{"type":402,"tag":509,"props":713,"children":714},{"style":546},[715],{"type":407,"value":549},{"type":402,"tag":509,"props":717,"children":718},{"style":673},[719],{"type":407,"value":564},{"type":402,"tag":509,"props":721,"children":723},{"class":511,"line":722},6,[724,729],{"type":402,"tag":509,"props":725,"children":726},{"style":585},[727],{"type":407,"value":728},"}",{"type":402,"tag":509,"props":730,"children":731},{"style":540},[732],{"type":407,"value":564},{"type":402,"tag":403,"props":734,"children":735},{},[736],{"type":402,"tag":429,"props":737,"children":740},{"alt":738,"src":739},"打开页面测试","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/jpoVF4UbuI.gif",[],{"type":402,"tag":403,"props":742,"children":743},{},[744],{"type":407,"value":745},"正常浏览网页时，很少会碰到滑块验证，因为它的路径非常长，会需要浪费用户好一会儿时间。虽然文案上给你显示“恭喜 0.9s 打败了 99% 的用户”，但从前置脚本请求，到加载图片，用户滑动滑块，到回传验证...前前后后的步骤加起来可能花了你 9s 不止。本质上它是防御性的手段，一般当服务器限流，或者服务器已经怀疑你是爬虫的时候，才会让它跳出来要求做进一步验证。所以一般来说，爬虫代码可以默认忽略滑块验证的，不过本文代码我们就假定默认验证码一定存在吧。",{"type":402,"tag":403,"props":747,"children":748},{},[749],{"type":407,"value":750},"接下来，分析一下用户行为。解决滑块验证，无非就是先判断一下缺口的位置，然后移动鼠标。这里进一步可以细分为鼠标的点击事件和鼠标移动事件两种。代码逻辑大致如下。",{"type":402,"tag":452,"props":752,"children":753},{},[754,759,764,769,774,779],{"type":402,"tag":456,"props":755,"children":756},{},[757],{"type":407,"value":758},"等待验证码图片加载完毕",{"type":402,"tag":456,"props":760,"children":761},{},[762],{"type":407,"value":763},"移动鼠标到滑块位置",{"type":402,"tag":456,"props":765,"children":766},{},[767],{"type":407,"value":768},"按下鼠标",{"type":402,"tag":456,"props":770,"children":771},{},[772],{"type":407,"value":773},"移动鼠标到缺口位置",{"type":402,"tag":456,"props":775,"children":776},{},[777],{"type":407,"value":778},"松开鼠标",{"type":402,"tag":456,"props":780,"children":781},{},[782],{"type":407,"value":783},"等待结果返回",{"type":402,"tag":403,"props":785,"children":786},{},[787],{"type":407,"value":788},"啊，流程我都知道，可问题就在，怎么判断要把鼠标移动到哪里？服务器端返回的是一张带缺口的图片，缺口位置指定是不通过接口传递的。",{"type":402,"tag":403,"props":790,"children":791},{},[792],{"type":407,"value":793},"可能还有些同学会问，怎么移动鼠标呢？如果我一次性就把滑块给移到指定位置了，那服务器不是会立马把我标记为爬虫嘛... 这两个问题我逐一解答。",{"type":402,"tag":441,"props":795,"children":797},{"id":796},"判断缺口位置",[798],{"type":407,"value":796},{"type":402,"tag":403,"props":800,"children":801},{},[802],{"type":407,"value":803},"要分析缺口的位置，我们必须先知道这个缺口是怎么画上去的。打开控制台初步检查可以发现，页面从服务器先拿到了一张完整的图片，然后缺口位置是通过 JS 随机生成的。啊这...这...这是因为我们用的测试页面是文档页，大家不必在意这些安全方面的小细节。",{"type":402,"tag":403,"props":805,"children":806},{},[807],{"type":402,"tag":429,"props":808,"children":811},{"alt":809,"src":810},"找到请求","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918184414.png?type=win11",[],{"type":402,"tag":403,"props":813,"children":814},{},[815,817,830],{"type":407,"value":816},"接着刚才的思路继续，既然缺口是从原图中挖的一个洞，那么我们只需要识别一下图片中洞的位置就好了。比较简单的方案是使用第三方的图像识别技术（或相关技术），把图片上传至第三方，就直接拿到缺口位置的相对坐标。下图给大家展示一下阿里云的图像分割的效果",{"type":402,"tag":818,"props":819,"children":820},"sup",{},[821],{"type":402,"tag":410,"props":822,"children":827},{"href":823,"ariaDescribedBy":824,"dataFootnoteRef":396,"id":826},"#user-content-fn-alimagic",[825],"footnote-label","user-content-fnref-alimagic",[828],{"type":407,"value":829},"1",{"type":407,"value":831},"。",{"type":402,"tag":403,"props":833,"children":834},{},[835],{"type":402,"tag":429,"props":836,"children":839},{"alt":837,"src":838},"阿里云图像分割","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/itLO6bbCMH.gif",[],{"type":402,"tag":403,"props":841,"children":842},{},[843,845,851],{"type":407,"value":844},"如果想做一个效果稳定一点的验证码破解工具，我建议大家还是用自己的模型，或者自己写算法。一来是第三方要的钱钱不少哇~ 再就是这种图像识别并不是专门为验证码训练的，所以放到爬虫中还不太成熟，",{"type":402,"tag":846,"props":847,"children":848},"strong",{},[849],{"type":407,"value":850},"一旦背景图片复杂，识别率下降得老快了",{"type":407,"value":831},{"type":402,"tag":403,"props":853,"children":854},{},[855],{"type":402,"tag":429,"props":856,"children":859},{"alt":857,"src":858},"百度云图像主体识别","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918191220.png",[],{"type":402,"tag":403,"props":861,"children":862},{},[863],{"type":407,"value":864},"以下介绍一种新思路。反正我们已经有一张完整的图片了，那就只要不断地滑动滑块，把结果和原图比对就行。理论上，只要滑倒差不多“那个点”，肉眼看起来不会有很大的违和感时，就搞定了。比如下面这张图。",{"type":402,"tag":403,"props":866,"children":867},{},[868],{"type":402,"tag":429,"props":869,"children":872},{"alt":870,"src":871},"和原图进行比对","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918192111.png",[],{"type":402,"tag":403,"props":874,"children":875},{},[876],{"type":407,"value":877},"截图嘛可以直接用 Pupeteer 的截图功能，它提供了对应的 API，可以精准的截出特定元素。",{"type":402,"tag":403,"props":879,"children":880},{},[881,883,888,890,897],{"type":407,"value":882},"至于图片比对，其实就是给图片初步处理后，两张图一个像素一个像素的去比较。",{"type":402,"tag":846,"props":884,"children":885},{},[886],{"type":407,"value":887},"两个像素如果颜色差异超过阈值，就认为这是两个不相同的像素",{"type":407,"value":889},"。简便起见，我们直接用开源库 ",{"type":402,"tag":410,"props":891,"children":894},{"href":892,"rel":893},"https://github.com/imgly/rembrandt",[414],[895],{"type":407,"value":896},"rembrandt",{"type":407,"value":898},"，它会给我们返回两张图片间的差异。",{"type":402,"tag":403,"props":900,"children":901},{},[902],{"type":407,"value":903},"最后是滑动滑块，既然要模拟人肉操作，那么操作 CSS，用绝对定位，把滑块一个像素一个像素的向右移；每移动一次，把图像比对的结果记录下来。",{"type":402,"tag":403,"props":905,"children":906},{},[907],{"type":407,"value":908},"以上三个流程的核心代码非常简单，只需要以下几行：",{"type":402,"tag":498,"props":910,"children":912},{"className":500,"code":911,"language":502,"meta":396,"style":396},"while (left \u003C= maxOffset) {\n\n  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n\n  await page.evaluate(async ($sliderFloat, left) => {\n    $sliderFloat.setAttribute('style', `left: ${left}px`)\n  }, $sliderFloat, left)\n\n  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n\n  const $panel = await page.$('#Vertify-demo-4 .canvasArea')\n  const panelImgBase64 = await $panel.screenshot({\n    type: 'jpeg'\n  })\n  const compareRes = await rembrandt({\n    imageA: panelImgBase64,\n    imageB: rawImage\n  })\n  results.push({\n    left,\n    diff: compareRes.differences\n  })\n\n  left += 1\n}\n",[913],{"type":402,"tag":505,"props":914,"children":915},{"__ignoreMap":396},[916,944,951,960,967,1028,1105,1131,1139,1148,1156,1211,1253,1282,1295,1329,1351,1369,1381,1407,1420,1446,1458,1466,1486],{"type":402,"tag":509,"props":917,"children":918},{"class":511,"line":512},[919,924,929,934,939],{"type":402,"tag":509,"props":920,"children":921},{"style":654},[922],{"type":407,"value":923},"while",{"type":402,"tag":509,"props":925,"children":926},{"style":540},[927],{"type":407,"value":928}," (left ",{"type":402,"tag":509,"props":930,"children":931},{"style":528},[932],{"type":407,"value":933},"\u003C=",{"type":402,"tag":509,"props":935,"children":936},{"style":540},[937],{"type":407,"value":938}," maxOffset) ",{"type":402,"tag":509,"props":940,"children":941},{"style":585},[942],{"type":407,"value":943},"{\n",{"type":402,"tag":509,"props":945,"children":946},{"class":511,"line":567},[947],{"type":402,"tag":509,"props":948,"children":949},{"emptyLinePlaceholder":571},[950],{"type":407,"value":574},{"type":402,"tag":509,"props":952,"children":953},{"class":511,"line":577},[954],{"type":402,"tag":509,"props":955,"children":957},{"style":956},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[958],{"type":407,"value":959},"  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n",{"type":402,"tag":509,"props":961,"children":962},{"class":511,"line":636},[963],{"type":402,"tag":509,"props":964,"children":965},{"emptyLinePlaceholder":571},[966],{"type":407,"value":574},{"type":402,"tag":509,"props":968,"children":969},{"class":511,"line":679},[970,974,978,982,987,991,995,1000,1005,1010,1015,1020,1024],{"type":402,"tag":509,"props":971,"children":972},{"style":654},[973],{"type":407,"value":685},{"type":402,"tag":509,"props":975,"children":976},{"style":540},[977],{"type":407,"value":647},{"type":402,"tag":509,"props":979,"children":980},{"style":585},[981],{"type":407,"value":588},{"type":402,"tag":509,"props":983,"children":984},{"style":534},[985],{"type":407,"value":986},"evaluate",{"type":402,"tag":509,"props":988,"children":989},{"style":673},[990],{"type":407,"value":543},{"type":402,"tag":509,"props":992,"children":993},{"style":614},[994],{"type":407,"value":617},{"type":402,"tag":509,"props":996,"children":997},{"style":585},[998],{"type":407,"value":999}," (",{"type":402,"tag":509,"props":1001,"children":1002},{"style":620},[1003],{"type":407,"value":1004},"$sliderFloat",{"type":402,"tag":509,"props":1006,"children":1007},{"style":585},[1008],{"type":407,"value":1009},",",{"type":402,"tag":509,"props":1011,"children":1012},{"style":620},[1013],{"type":407,"value":1014}," left",{"type":402,"tag":509,"props":1016,"children":1017},{"style":585},[1018],{"type":407,"value":1019},")",{"type":402,"tag":509,"props":1021,"children":1022},{"style":516},[1023],{"type":407,"value":628},{"type":402,"tag":509,"props":1025,"children":1026},{"style":585},[1027],{"type":407,"value":633},{"type":402,"tag":509,"props":1029,"children":1030},{"class":511,"line":722},[1031,1036,1040,1045,1049,1053,1058,1062,1066,1071,1076,1082,1087,1091,1096,1101],{"type":402,"tag":509,"props":1032,"children":1033},{"style":540},[1034],{"type":407,"value":1035},"    $sliderFloat",{"type":402,"tag":509,"props":1037,"children":1038},{"style":585},[1039],{"type":407,"value":588},{"type":402,"tag":509,"props":1041,"children":1042},{"style":534},[1043],{"type":407,"value":1044},"setAttribute",{"type":402,"tag":509,"props":1046,"children":1047},{"style":673},[1048],{"type":407,"value":543},{"type":402,"tag":509,"props":1050,"children":1051},{"style":546},[1052],{"type":407,"value":549},{"type":402,"tag":509,"props":1054,"children":1055},{"style":552},[1056],{"type":407,"value":1057},"style",{"type":402,"tag":509,"props":1059,"children":1060},{"style":546},[1061],{"type":407,"value":549},{"type":402,"tag":509,"props":1063,"children":1064},{"style":585},[1065],{"type":407,"value":1009},{"type":402,"tag":509,"props":1067,"children":1068},{"style":546},[1069],{"type":407,"value":1070}," `",{"type":402,"tag":509,"props":1072,"children":1073},{"style":552},[1074],{"type":407,"value":1075},"left: ",{"type":402,"tag":509,"props":1077,"children":1079},{"style":1078},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1080],{"type":407,"value":1081},"${",{"type":402,"tag":509,"props":1083,"children":1084},{"style":540},[1085],{"type":407,"value":1086},"left",{"type":402,"tag":509,"props":1088,"children":1089},{"style":1078},[1090],{"type":407,"value":728},{"type":402,"tag":509,"props":1092,"children":1093},{"style":552},[1094],{"type":407,"value":1095},"px",{"type":402,"tag":509,"props":1097,"children":1098},{"style":546},[1099],{"type":407,"value":1100},"`",{"type":402,"tag":509,"props":1102,"children":1103},{"style":673},[1104],{"type":407,"value":564},{"type":402,"tag":509,"props":1106,"children":1108},{"class":511,"line":1107},7,[1109,1114,1119,1123,1127],{"type":402,"tag":509,"props":1110,"children":1111},{"style":585},[1112],{"type":407,"value":1113},"  },",{"type":402,"tag":509,"props":1115,"children":1116},{"style":540},[1117],{"type":407,"value":1118}," $sliderFloat",{"type":402,"tag":509,"props":1120,"children":1121},{"style":585},[1122],{"type":407,"value":1009},{"type":402,"tag":509,"props":1124,"children":1125},{"style":540},[1126],{"type":407,"value":1014},{"type":402,"tag":509,"props":1128,"children":1129},{"style":673},[1130],{"type":407,"value":564},{"type":402,"tag":509,"props":1132,"children":1134},{"class":511,"line":1133},8,[1135],{"type":402,"tag":509,"props":1136,"children":1137},{"emptyLinePlaceholder":571},[1138],{"type":407,"value":574},{"type":402,"tag":509,"props":1140,"children":1142},{"class":511,"line":1141},9,[1143],{"type":402,"tag":509,"props":1144,"children":1145},{"style":956},[1146],{"type":407,"value":1147},"  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n",{"type":402,"tag":509,"props":1149,"children":1151},{"class":511,"line":1150},10,[1152],{"type":402,"tag":509,"props":1153,"children":1154},{"emptyLinePlaceholder":571},[1155],{"type":407,"value":574},{"type":402,"tag":509,"props":1157,"children":1159},{"class":511,"line":1158},11,[1160,1164,1169,1173,1177,1181,1185,1190,1194,1198,1203,1207],{"type":402,"tag":509,"props":1161,"children":1162},{"style":516},[1163],{"type":407,"value":642},{"type":402,"tag":509,"props":1165,"children":1166},{"style":522},[1167],{"type":407,"value":1168}," $panel",{"type":402,"tag":509,"props":1170,"children":1171},{"style":528},[1172],{"type":407,"value":531},{"type":402,"tag":509,"props":1174,"children":1175},{"style":654},[1176],{"type":407,"value":657},{"type":402,"tag":509,"props":1178,"children":1179},{"style":540},[1180],{"type":407,"value":647},{"type":402,"tag":509,"props":1182,"children":1183},{"style":585},[1184],{"type":407,"value":588},{"type":402,"tag":509,"props":1186,"children":1187},{"style":534},[1188],{"type":407,"value":1189},"$",{"type":402,"tag":509,"props":1191,"children":1192},{"style":673},[1193],{"type":407,"value":543},{"type":402,"tag":509,"props":1195,"children":1196},{"style":546},[1197],{"type":407,"value":549},{"type":402,"tag":509,"props":1199,"children":1200},{"style":552},[1201],{"type":407,"value":1202},"#Vertify-demo-4 .canvasArea",{"type":402,"tag":509,"props":1204,"children":1205},{"style":546},[1206],{"type":407,"value":549},{"type":402,"tag":509,"props":1208,"children":1209},{"style":673},[1210],{"type":407,"value":564},{"type":402,"tag":509,"props":1212,"children":1214},{"class":511,"line":1213},12,[1215,1219,1224,1228,1232,1236,1240,1245,1249],{"type":402,"tag":509,"props":1216,"children":1217},{"style":516},[1218],{"type":407,"value":642},{"type":402,"tag":509,"props":1220,"children":1221},{"style":522},[1222],{"type":407,"value":1223}," panelImgBase64",{"type":402,"tag":509,"props":1225,"children":1226},{"style":528},[1227],{"type":407,"value":531},{"type":402,"tag":509,"props":1229,"children":1230},{"style":654},[1231],{"type":407,"value":657},{"type":402,"tag":509,"props":1233,"children":1234},{"style":540},[1235],{"type":407,"value":1168},{"type":402,"tag":509,"props":1237,"children":1238},{"style":585},[1239],{"type":407,"value":588},{"type":402,"tag":509,"props":1241,"children":1242},{"style":534},[1243],{"type":407,"value":1244},"screenshot",{"type":402,"tag":509,"props":1246,"children":1247},{"style":673},[1248],{"type":407,"value":543},{"type":402,"tag":509,"props":1250,"children":1251},{"style":585},[1252],{"type":407,"value":943},{"type":402,"tag":509,"props":1254,"children":1256},{"class":511,"line":1255},13,[1257,1262,1267,1272,1277],{"type":402,"tag":509,"props":1258,"children":1259},{"style":673},[1260],{"type":407,"value":1261},"    type",{"type":402,"tag":509,"props":1263,"children":1264},{"style":585},[1265],{"type":407,"value":1266},":",{"type":402,"tag":509,"props":1268,"children":1269},{"style":546},[1270],{"type":407,"value":1271}," '",{"type":402,"tag":509,"props":1273,"children":1274},{"style":552},[1275],{"type":407,"value":1276},"jpeg",{"type":402,"tag":509,"props":1278,"children":1279},{"style":546},[1280],{"type":407,"value":1281},"'\n",{"type":402,"tag":509,"props":1283,"children":1285},{"class":511,"line":1284},14,[1286,1291],{"type":402,"tag":509,"props":1287,"children":1288},{"style":585},[1289],{"type":407,"value":1290},"  }",{"type":402,"tag":509,"props":1292,"children":1293},{"style":673},[1294],{"type":407,"value":564},{"type":402,"tag":509,"props":1296,"children":1298},{"class":511,"line":1297},15,[1299,1303,1308,1312,1316,1321,1325],{"type":402,"tag":509,"props":1300,"children":1301},{"style":516},[1302],{"type":407,"value":642},{"type":402,"tag":509,"props":1304,"children":1305},{"style":522},[1306],{"type":407,"value":1307}," compareRes",{"type":402,"tag":509,"props":1309,"children":1310},{"style":528},[1311],{"type":407,"value":531},{"type":402,"tag":509,"props":1313,"children":1314},{"style":654},[1315],{"type":407,"value":657},{"type":402,"tag":509,"props":1317,"children":1318},{"style":534},[1319],{"type":407,"value":1320}," rembrandt",{"type":402,"tag":509,"props":1322,"children":1323},{"style":673},[1324],{"type":407,"value":543},{"type":402,"tag":509,"props":1326,"children":1327},{"style":585},[1328],{"type":407,"value":943},{"type":402,"tag":509,"props":1330,"children":1332},{"class":511,"line":1331},16,[1333,1338,1342,1346],{"type":402,"tag":509,"props":1334,"children":1335},{"style":673},[1336],{"type":407,"value":1337},"    imageA",{"type":402,"tag":509,"props":1339,"children":1340},{"style":585},[1341],{"type":407,"value":1266},{"type":402,"tag":509,"props":1343,"children":1344},{"style":540},[1345],{"type":407,"value":1223},{"type":402,"tag":509,"props":1347,"children":1348},{"style":585},[1349],{"type":407,"value":1350},",\n",{"type":402,"tag":509,"props":1352,"children":1354},{"class":511,"line":1353},17,[1355,1360,1364],{"type":402,"tag":509,"props":1356,"children":1357},{"style":673},[1358],{"type":407,"value":1359},"    imageB",{"type":402,"tag":509,"props":1361,"children":1362},{"style":585},[1363],{"type":407,"value":1266},{"type":402,"tag":509,"props":1365,"children":1366},{"style":540},[1367],{"type":407,"value":1368}," rawImage\n",{"type":402,"tag":509,"props":1370,"children":1372},{"class":511,"line":1371},18,[1373,1377],{"type":402,"tag":509,"props":1374,"children":1375},{"style":585},[1376],{"type":407,"value":1290},{"type":402,"tag":509,"props":1378,"children":1379},{"style":673},[1380],{"type":407,"value":564},{"type":402,"tag":509,"props":1382,"children":1384},{"class":511,"line":1383},19,[1385,1390,1394,1399,1403],{"type":402,"tag":509,"props":1386,"children":1387},{"style":540},[1388],{"type":407,"value":1389},"  results",{"type":402,"tag":509,"props":1391,"children":1392},{"style":585},[1393],{"type":407,"value":588},{"type":402,"tag":509,"props":1395,"children":1396},{"style":534},[1397],{"type":407,"value":1398},"push",{"type":402,"tag":509,"props":1400,"children":1401},{"style":673},[1402],{"type":407,"value":543},{"type":402,"tag":509,"props":1404,"children":1405},{"style":585},[1406],{"type":407,"value":943},{"type":402,"tag":509,"props":1408,"children":1410},{"class":511,"line":1409},20,[1411,1416],{"type":402,"tag":509,"props":1412,"children":1413},{"style":540},[1414],{"type":407,"value":1415},"    left",{"type":402,"tag":509,"props":1417,"children":1418},{"style":585},[1419],{"type":407,"value":1350},{"type":402,"tag":509,"props":1421,"children":1423},{"class":511,"line":1422},21,[1424,1429,1433,1437,1441],{"type":402,"tag":509,"props":1425,"children":1426},{"style":673},[1427],{"type":407,"value":1428},"    diff",{"type":402,"tag":509,"props":1430,"children":1431},{"style":585},[1432],{"type":407,"value":1266},{"type":402,"tag":509,"props":1434,"children":1435},{"style":540},[1436],{"type":407,"value":1307},{"type":402,"tag":509,"props":1438,"children":1439},{"style":585},[1440],{"type":407,"value":588},{"type":402,"tag":509,"props":1442,"children":1443},{"style":540},[1444],{"type":407,"value":1445},"differences\n",{"type":402,"tag":509,"props":1447,"children":1449},{"class":511,"line":1448},22,[1450,1454],{"type":402,"tag":509,"props":1451,"children":1452},{"style":585},[1453],{"type":407,"value":1290},{"type":402,"tag":509,"props":1455,"children":1456},{"style":673},[1457],{"type":407,"value":564},{"type":402,"tag":509,"props":1459,"children":1461},{"class":511,"line":1460},23,[1462],{"type":402,"tag":509,"props":1463,"children":1464},{"emptyLinePlaceholder":571},[1465],{"type":407,"value":574},{"type":402,"tag":509,"props":1467,"children":1469},{"class":511,"line":1468},24,[1470,1475,1480],{"type":402,"tag":509,"props":1471,"children":1472},{"style":540},[1473],{"type":407,"value":1474},"  left",{"type":402,"tag":509,"props":1476,"children":1477},{"style":528},[1478],{"type":407,"value":1479}," +=",{"type":402,"tag":509,"props":1481,"children":1483},{"style":1482},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1484],{"type":407,"value":1485}," 1\n",{"type":402,"tag":509,"props":1487,"children":1489},{"class":511,"line":1488},25,[1490],{"type":402,"tag":509,"props":1491,"children":1492},{"style":585},[1493],{"type":407,"value":1494},"}\n",{"type":402,"tag":403,"props":1496,"children":1497},{},[1498],{"type":402,"tag":429,"props":1499,"children":1502},{"alt":1500,"src":1501},"通过CSS控制位移","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/9KgejUuCru.gif",[],{"type":402,"tag":403,"props":1504,"children":1505},{},[1506,1508,1515],{"type":407,"value":1507},"最后，把 results 扔到里面展示一下（这里给个 ECharts ",{"type":402,"tag":410,"props":1509,"children":1512},{"href":1510,"rel":1511},"https://echarts.apache.org/examples/zh/editor.html?c=line-simple",[414],[1513],{"type":407,"value":1514},"折线图示例网址",{"type":407,"value":1516},"），不出意外能得到这样一张图表。看到那个尖尖的“V”型山谷了嘛，呼哈哈哈，答案很明显，当我们把滑块从左往右移动时，滑块约接近缺口，那截出来的图片就越像原图，它两之间像素差异越小；一直往右移动，滑块会逐渐远离缺口，截出来的图片和原图相比像素差异又逐渐开始增大。我们只需要把差异最小的那个点找到，然后滑动滑块到对应的 left 偏移量就阔以了。",{"type":402,"tag":403,"props":1518,"children":1519},{},[1520],{"type":402,"tag":429,"props":1521,"children":1524},{"alt":1522,"src":1523},"图像比对结果","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918203306.png",[],{"type":402,"tag":403,"props":1526,"children":1527},{},[1528],{"type":407,"value":1529},"题外话，为什么最大的差异在 3000 左右呢？我们简单估算一下。",{"type":402,"tag":403,"props":1531,"children":1532},{},[1533],{"type":407,"value":1534},"滑块的大小为 45*45，再加上外面的圆形，约摸占了 2100 像素；也就是说缺口加滑块，理论上最大会有 4200 个像素和原图不同。不过滑块可能和遮住的地方像素有重合，假设重合了 350 像素，再加上我们的最低点的图片差异都有 351，减去这些误差，得 3499。呜呼，3499 约等于 3000，估算成功（手动狗头）。",{"type":402,"tag":441,"props":1536,"children":1538},{"id":1537},"速度优化技巧",[1539],{"type":407,"value":1537},{"type":402,"tag":403,"props":1541,"children":1542},{},[1543],{"type":407,"value":1544},"不过这还没完，你要是把代码跑起来就会发现，卧草，太慢了这玩意儿！正常人划一下验证码顶多两秒钟的事儿，我们一帧一帧截图得花个 40s 的时间才能截完图算出山谷谷底的值来。",{"type":402,"tag":403,"props":1546,"children":1547},{},[1548],{"type":407,"value":1549},"这里提供几种思路优化效率：",{"type":402,"tag":452,"props":1551,"children":1552},{},[1553,1558,1563],{"type":402,"tag":456,"props":1554,"children":1555},{},[1556],{"type":407,"value":1557},"把元素缩小，复制多份，平铺开来展示；这样只要截一次，然后再裁剪、比对就好。",{"type":402,"tag":456,"props":1559,"children":1560},{},[1561],{"type":407,"value":1562},"放大步长，比方说先每次平移 15px，找到局部最优解，然后在局部最优解附近再回到平移 1px 的方案找最优解。",{"type":402,"tag":456,"props":1564,"children":1565},{},[1566],{"type":407,"value":1567},"因为图片比对的结果类似“V”字，“V”字右半边其实是可以不用再计算的。",{"type":402,"tag":403,"props":1569,"children":1570},{},[1571],{"type":407,"value":1572},"使用 1+2+3 我觉得可以在 3s 内搞定最优解，不过代码复杂度会变得很高，文中简单起见暂只实现一下方案 2。",{"type":402,"tag":403,"props":1574,"children":1575},{},[1576],{"type":407,"value":1577},"首先是每次移动 15px 找局部最优解。",{"type":402,"tag":498,"props":1579,"children":1581},{"className":500,"code":1580,"language":502,"meta":396,"style":396},"// 图片缺口是不会给挖在初始附近的，\n// 所以 left 从 45 像素开始计算可以节约不少计算量，\nlet left = 45;\nconst max15Offset = 265;\nconst res15px = [];\nwhile (left \u003C= max15Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res15px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 15;\n}\n",[1582],{"type":402,"tag":505,"props":1583,"children":1584},{"__ignoreMap":396},[1585,1593,1601,1629,1654,1679,1703,1731,1763,1787,1798,1826,1841,1861],{"type":402,"tag":509,"props":1586,"children":1587},{"class":511,"line":512},[1588],{"type":402,"tag":509,"props":1589,"children":1590},{"style":956},[1591],{"type":407,"value":1592},"// 图片缺口是不会给挖在初始附近的，\n",{"type":402,"tag":509,"props":1594,"children":1595},{"class":511,"line":567},[1596],{"type":402,"tag":509,"props":1597,"children":1598},{"style":956},[1599],{"type":407,"value":1600},"// 所以 left 从 45 像素开始计算可以节约不少计算量，\n",{"type":402,"tag":509,"props":1602,"children":1603},{"class":511,"line":577},[1604,1609,1614,1619,1624],{"type":402,"tag":509,"props":1605,"children":1606},{"style":516},[1607],{"type":407,"value":1608},"let",{"type":402,"tag":509,"props":1610,"children":1611},{"style":540},[1612],{"type":407,"value":1613}," left ",{"type":402,"tag":509,"props":1615,"children":1616},{"style":528},[1617],{"type":407,"value":1618},"=",{"type":402,"tag":509,"props":1620,"children":1621},{"style":1482},[1622],{"type":407,"value":1623}," 45",{"type":402,"tag":509,"props":1625,"children":1626},{"style":585},[1627],{"type":407,"value":1628},";\n",{"type":402,"tag":509,"props":1630,"children":1631},{"class":511,"line":636},[1632,1636,1641,1645,1650],{"type":402,"tag":509,"props":1633,"children":1634},{"style":516},[1635],{"type":407,"value":519},{"type":402,"tag":509,"props":1637,"children":1638},{"style":522},[1639],{"type":407,"value":1640}," max15Offset",{"type":402,"tag":509,"props":1642,"children":1643},{"style":528},[1644],{"type":407,"value":531},{"type":402,"tag":509,"props":1646,"children":1647},{"style":1482},[1648],{"type":407,"value":1649}," 265",{"type":402,"tag":509,"props":1651,"children":1652},{"style":585},[1653],{"type":407,"value":1628},{"type":402,"tag":509,"props":1655,"children":1656},{"class":511,"line":679},[1657,1661,1666,1670,1675],{"type":402,"tag":509,"props":1658,"children":1659},{"style":516},[1660],{"type":407,"value":519},{"type":402,"tag":509,"props":1662,"children":1663},{"style":522},[1664],{"type":407,"value":1665}," res15px",{"type":402,"tag":509,"props":1667,"children":1668},{"style":528},[1669],{"type":407,"value":531},{"type":402,"tag":509,"props":1671,"children":1672},{"style":540},[1673],{"type":407,"value":1674}," []",{"type":402,"tag":509,"props":1676,"children":1677},{"style":585},[1678],{"type":407,"value":1628},{"type":402,"tag":509,"props":1680,"children":1681},{"class":511,"line":722},[1682,1686,1690,1694,1699],{"type":402,"tag":509,"props":1683,"children":1684},{"style":654},[1685],{"type":407,"value":923},{"type":402,"tag":509,"props":1687,"children":1688},{"style":540},[1689],{"type":407,"value":928},{"type":402,"tag":509,"props":1691,"children":1692},{"style":528},[1693],{"type":407,"value":933},{"type":402,"tag":509,"props":1695,"children":1696},{"style":540},[1697],{"type":407,"value":1698}," max15Offset) ",{"type":402,"tag":509,"props":1700,"children":1701},{"style":585},[1702],{"type":407,"value":943},{"type":402,"tag":509,"props":1704,"children":1705},{"class":511,"line":1107},[1706,1710,1715,1719,1723,1727],{"type":402,"tag":509,"props":1707,"children":1708},{"style":654},[1709],{"type":407,"value":685},{"type":402,"tag":509,"props":1711,"children":1712},{"style":534},[1713],{"type":407,"value":1714}," setLeft",{"type":402,"tag":509,"props":1716,"children":1717},{"style":673},[1718],{"type":407,"value":543},{"type":402,"tag":509,"props":1720,"children":1721},{"style":540},[1722],{"type":407,"value":1086},{"type":402,"tag":509,"props":1724,"children":1725},{"style":673},[1726],{"type":407,"value":1019},{"type":402,"tag":509,"props":1728,"children":1729},{"style":585},[1730],{"type":407,"value":1628},{"type":402,"tag":509,"props":1732,"children":1733},{"class":511,"line":1133},[1734,1738,1742,1746,1750,1755,1759],{"type":402,"tag":509,"props":1735,"children":1736},{"style":516},[1737],{"type":407,"value":642},{"type":402,"tag":509,"props":1739,"children":1740},{"style":522},[1741],{"type":407,"value":1307},{"type":402,"tag":509,"props":1743,"children":1744},{"style":528},[1745],{"type":407,"value":531},{"type":402,"tag":509,"props":1747,"children":1748},{"style":654},[1749],{"type":407,"value":657},{"type":402,"tag":509,"props":1751,"children":1752},{"style":534},[1753],{"type":407,"value":1754}," compare",{"type":402,"tag":509,"props":1756,"children":1757},{"style":673},[1758],{"type":407,"value":598},{"type":402,"tag":509,"props":1760,"children":1761},{"style":585},[1762],{"type":407,"value":1628},{"type":402,"tag":509,"props":1764,"children":1765},{"class":511,"line":1141},[1766,1771,1775,1779,1783],{"type":402,"tag":509,"props":1767,"children":1768},{"style":540},[1769],{"type":407,"value":1770},"  res15px",{"type":402,"tag":509,"props":1772,"children":1773},{"style":585},[1774],{"type":407,"value":588},{"type":402,"tag":509,"props":1776,"children":1777},{"style":534},[1778],{"type":407,"value":1398},{"type":402,"tag":509,"props":1780,"children":1781},{"style":673},[1782],{"type":407,"value":543},{"type":402,"tag":509,"props":1784,"children":1785},{"style":585},[1786],{"type":407,"value":943},{"type":402,"tag":509,"props":1788,"children":1789},{"class":511,"line":1150},[1790,1794],{"type":402,"tag":509,"props":1791,"children":1792},{"style":540},[1793],{"type":407,"value":1415},{"type":402,"tag":509,"props":1795,"children":1796},{"style":585},[1797],{"type":407,"value":1350},{"type":402,"tag":509,"props":1799,"children":1800},{"class":511,"line":1158},[1801,1805,1809,1813,1817,1822],{"type":402,"tag":509,"props":1802,"children":1803},{"style":673},[1804],{"type":407,"value":1428},{"type":402,"tag":509,"props":1806,"children":1807},{"style":585},[1808],{"type":407,"value":1266},{"type":402,"tag":509,"props":1810,"children":1811},{"style":540},[1812],{"type":407,"value":1307},{"type":402,"tag":509,"props":1814,"children":1815},{"style":585},[1816],{"type":407,"value":588},{"type":402,"tag":509,"props":1818,"children":1819},{"style":540},[1820],{"type":407,"value":1821},"differences",{"type":402,"tag":509,"props":1823,"children":1824},{"style":585},[1825],{"type":407,"value":1350},{"type":402,"tag":509,"props":1827,"children":1828},{"class":511,"line":1213},[1829,1833,1837],{"type":402,"tag":509,"props":1830,"children":1831},{"style":585},[1832],{"type":407,"value":1290},{"type":402,"tag":509,"props":1834,"children":1835},{"style":673},[1836],{"type":407,"value":1019},{"type":402,"tag":509,"props":1838,"children":1839},{"style":585},[1840],{"type":407,"value":1628},{"type":402,"tag":509,"props":1842,"children":1843},{"class":511,"line":1255},[1844,1848,1852,1857],{"type":402,"tag":509,"props":1845,"children":1846},{"style":540},[1847],{"type":407,"value":1474},{"type":402,"tag":509,"props":1849,"children":1850},{"style":528},[1851],{"type":407,"value":1479},{"type":402,"tag":509,"props":1853,"children":1854},{"style":1482},[1855],{"type":407,"value":1856}," 15",{"type":402,"tag":509,"props":1858,"children":1859},{"style":585},[1860],{"type":407,"value":1628},{"type":402,"tag":509,"props":1862,"children":1863},{"class":511,"line":1284},[1864],{"type":402,"tag":509,"props":1865,"children":1866},{"style":585},[1867],{"type":407,"value":1494},{"type":402,"tag":403,"props":1869,"children":1870},{},[1871],{"type":407,"value":1872},"然后再尝试每次移动 2px 找最优解，搜寻的范围是 15px 步长最优解的 left 偏移量的左右共 20 个像素。",{"type":402,"tag":498,"props":1874,"children":1876},{"className":500,"code":1875,"language":502,"meta":396,"style":396},"const min15pxDiff = Math.min(...res15px.map((x) => x.diff));\nconst min15pxLeft = res15px.find((x) => x.diff === min15pxDiff).left;\n\nleft = min15pxLeft - 12;\nconst max2Offset = min15pxLeft + 8;\nconst res2px = [];\nwhile (left \u003C= max2Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res2px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 2;\n}\n",[1877],{"type":402,"tag":505,"props":1878,"children":1879},{"__ignoreMap":396},[1880,1972,2056,2063,2094,2128,2152,2176,2203,2234,2258,2269,2296,2311,2331],{"type":402,"tag":509,"props":1881,"children":1882},{"class":511,"line":512},[1883,1887,1892,1896,1901,1905,1910,1914,1919,1924,1928,1933,1937,1941,1946,1950,1954,1959,1963,1968],{"type":402,"tag":509,"props":1884,"children":1885},{"style":516},[1886],{"type":407,"value":519},{"type":402,"tag":509,"props":1888,"children":1889},{"style":522},[1890],{"type":407,"value":1891}," min15pxDiff",{"type":402,"tag":509,"props":1893,"children":1894},{"style":528},[1895],{"type":407,"value":531},{"type":402,"tag":509,"props":1897,"children":1898},{"style":540},[1899],{"type":407,"value":1900}," Math",{"type":402,"tag":509,"props":1902,"children":1903},{"style":585},[1904],{"type":407,"value":588},{"type":402,"tag":509,"props":1906,"children":1907},{"style":534},[1908],{"type":407,"value":1909},"min",{"type":402,"tag":509,"props":1911,"children":1912},{"style":540},[1913],{"type":407,"value":543},{"type":402,"tag":509,"props":1915,"children":1916},{"style":528},[1917],{"type":407,"value":1918},"...",{"type":402,"tag":509,"props":1920,"children":1921},{"style":540},[1922],{"type":407,"value":1923},"res15px",{"type":402,"tag":509,"props":1925,"children":1926},{"style":585},[1927],{"type":407,"value":588},{"type":402,"tag":509,"props":1929,"children":1930},{"style":534},[1931],{"type":407,"value":1932},"map",{"type":402,"tag":509,"props":1934,"children":1935},{"style":540},[1936],{"type":407,"value":543},{"type":402,"tag":509,"props":1938,"children":1939},{"style":585},[1940],{"type":407,"value":543},{"type":402,"tag":509,"props":1942,"children":1943},{"style":620},[1944],{"type":407,"value":1945},"x",{"type":402,"tag":509,"props":1947,"children":1948},{"style":585},[1949],{"type":407,"value":1019},{"type":402,"tag":509,"props":1951,"children":1952},{"style":516},[1953],{"type":407,"value":628},{"type":402,"tag":509,"props":1955,"children":1956},{"style":540},[1957],{"type":407,"value":1958}," x",{"type":402,"tag":509,"props":1960,"children":1961},{"style":585},[1962],{"type":407,"value":588},{"type":402,"tag":509,"props":1964,"children":1965},{"style":540},[1966],{"type":407,"value":1967},"diff))",{"type":402,"tag":509,"props":1969,"children":1970},{"style":585},[1971],{"type":407,"value":1628},{"type":402,"tag":509,"props":1973,"children":1974},{"class":511,"line":567},[1975,1979,1984,1988,1992,1996,2001,2005,2009,2013,2017,2021,2025,2029,2034,2039,2044,2048,2052],{"type":402,"tag":509,"props":1976,"children":1977},{"style":516},[1978],{"type":407,"value":519},{"type":402,"tag":509,"props":1980,"children":1981},{"style":522},[1982],{"type":407,"value":1983}," min15pxLeft",{"type":402,"tag":509,"props":1985,"children":1986},{"style":528},[1987],{"type":407,"value":531},{"type":402,"tag":509,"props":1989,"children":1990},{"style":540},[1991],{"type":407,"value":1665},{"type":402,"tag":509,"props":1993,"children":1994},{"style":585},[1995],{"type":407,"value":588},{"type":402,"tag":509,"props":1997,"children":1998},{"style":534},[1999],{"type":407,"value":2000},"find",{"type":402,"tag":509,"props":2002,"children":2003},{"style":540},[2004],{"type":407,"value":543},{"type":402,"tag":509,"props":2006,"children":2007},{"style":585},[2008],{"type":407,"value":543},{"type":402,"tag":509,"props":2010,"children":2011},{"style":620},[2012],{"type":407,"value":1945},{"type":402,"tag":509,"props":2014,"children":2015},{"style":585},[2016],{"type":407,"value":1019},{"type":402,"tag":509,"props":2018,"children":2019},{"style":516},[2020],{"type":407,"value":628},{"type":402,"tag":509,"props":2022,"children":2023},{"style":540},[2024],{"type":407,"value":1958},{"type":402,"tag":509,"props":2026,"children":2027},{"style":585},[2028],{"type":407,"value":588},{"type":402,"tag":509,"props":2030,"children":2031},{"style":540},[2032],{"type":407,"value":2033},"diff ",{"type":402,"tag":509,"props":2035,"children":2036},{"style":528},[2037],{"type":407,"value":2038},"===",{"type":402,"tag":509,"props":2040,"children":2041},{"style":540},[2042],{"type":407,"value":2043}," min15pxDiff)",{"type":402,"tag":509,"props":2045,"children":2046},{"style":585},[2047],{"type":407,"value":588},{"type":402,"tag":509,"props":2049,"children":2050},{"style":540},[2051],{"type":407,"value":1086},{"type":402,"tag":509,"props":2053,"children":2054},{"style":585},[2055],{"type":407,"value":1628},{"type":402,"tag":509,"props":2057,"children":2058},{"class":511,"line":577},[2059],{"type":402,"tag":509,"props":2060,"children":2061},{"emptyLinePlaceholder":571},[2062],{"type":407,"value":574},{"type":402,"tag":509,"props":2064,"children":2065},{"class":511,"line":636},[2066,2071,2075,2080,2085,2090],{"type":402,"tag":509,"props":2067,"children":2068},{"style":540},[2069],{"type":407,"value":2070},"left ",{"type":402,"tag":509,"props":2072,"children":2073},{"style":528},[2074],{"type":407,"value":1618},{"type":402,"tag":509,"props":2076,"children":2077},{"style":540},[2078],{"type":407,"value":2079}," min15pxLeft ",{"type":402,"tag":509,"props":2081,"children":2082},{"style":528},[2083],{"type":407,"value":2084},"-",{"type":402,"tag":509,"props":2086,"children":2087},{"style":1482},[2088],{"type":407,"value":2089}," 12",{"type":402,"tag":509,"props":2091,"children":2092},{"style":585},[2093],{"type":407,"value":1628},{"type":402,"tag":509,"props":2095,"children":2096},{"class":511,"line":679},[2097,2101,2106,2110,2114,2119,2124],{"type":402,"tag":509,"props":2098,"children":2099},{"style":516},[2100],{"type":407,"value":519},{"type":402,"tag":509,"props":2102,"children":2103},{"style":522},[2104],{"type":407,"value":2105}," max2Offset",{"type":402,"tag":509,"props":2107,"children":2108},{"style":528},[2109],{"type":407,"value":531},{"type":402,"tag":509,"props":2111,"children":2112},{"style":540},[2113],{"type":407,"value":2079},{"type":402,"tag":509,"props":2115,"children":2116},{"style":528},[2117],{"type":407,"value":2118},"+",{"type":402,"tag":509,"props":2120,"children":2121},{"style":1482},[2122],{"type":407,"value":2123}," 8",{"type":402,"tag":509,"props":2125,"children":2126},{"style":585},[2127],{"type":407,"value":1628},{"type":402,"tag":509,"props":2129,"children":2130},{"class":511,"line":722},[2131,2135,2140,2144,2148],{"type":402,"tag":509,"props":2132,"children":2133},{"style":516},[2134],{"type":407,"value":519},{"type":402,"tag":509,"props":2136,"children":2137},{"style":522},[2138],{"type":407,"value":2139}," res2px",{"type":402,"tag":509,"props":2141,"children":2142},{"style":528},[2143],{"type":407,"value":531},{"type":402,"tag":509,"props":2145,"children":2146},{"style":540},[2147],{"type":407,"value":1674},{"type":402,"tag":509,"props":2149,"children":2150},{"style":585},[2151],{"type":407,"value":1628},{"type":402,"tag":509,"props":2153,"children":2154},{"class":511,"line":1107},[2155,2159,2163,2167,2172],{"type":402,"tag":509,"props":2156,"children":2157},{"style":654},[2158],{"type":407,"value":923},{"type":402,"tag":509,"props":2160,"children":2161},{"style":540},[2162],{"type":407,"value":928},{"type":402,"tag":509,"props":2164,"children":2165},{"style":528},[2166],{"type":407,"value":933},{"type":402,"tag":509,"props":2168,"children":2169},{"style":540},[2170],{"type":407,"value":2171}," max2Offset) ",{"type":402,"tag":509,"props":2173,"children":2174},{"style":585},[2175],{"type":407,"value":943},{"type":402,"tag":509,"props":2177,"children":2178},{"class":511,"line":1133},[2179,2183,2187,2191,2195,2199],{"type":402,"tag":509,"props":2180,"children":2181},{"style":654},[2182],{"type":407,"value":685},{"type":402,"tag":509,"props":2184,"children":2185},{"style":534},[2186],{"type":407,"value":1714},{"type":402,"tag":509,"props":2188,"children":2189},{"style":673},[2190],{"type":407,"value":543},{"type":402,"tag":509,"props":2192,"children":2193},{"style":540},[2194],{"type":407,"value":1086},{"type":402,"tag":509,"props":2196,"children":2197},{"style":673},[2198],{"type":407,"value":1019},{"type":402,"tag":509,"props":2200,"children":2201},{"style":585},[2202],{"type":407,"value":1628},{"type":402,"tag":509,"props":2204,"children":2205},{"class":511,"line":1141},[2206,2210,2214,2218,2222,2226,2230],{"type":402,"tag":509,"props":2207,"children":2208},{"style":516},[2209],{"type":407,"value":642},{"type":402,"tag":509,"props":2211,"children":2212},{"style":522},[2213],{"type":407,"value":1307},{"type":402,"tag":509,"props":2215,"children":2216},{"style":528},[2217],{"type":407,"value":531},{"type":402,"tag":509,"props":2219,"children":2220},{"style":654},[2221],{"type":407,"value":657},{"type":402,"tag":509,"props":2223,"children":2224},{"style":534},[2225],{"type":407,"value":1754},{"type":402,"tag":509,"props":2227,"children":2228},{"style":673},[2229],{"type":407,"value":598},{"type":402,"tag":509,"props":2231,"children":2232},{"style":585},[2233],{"type":407,"value":1628},{"type":402,"tag":509,"props":2235,"children":2236},{"class":511,"line":1150},[2237,2242,2246,2250,2254],{"type":402,"tag":509,"props":2238,"children":2239},{"style":540},[2240],{"type":407,"value":2241},"  res2px",{"type":402,"tag":509,"props":2243,"children":2244},{"style":585},[2245],{"type":407,"value":588},{"type":402,"tag":509,"props":2247,"children":2248},{"style":534},[2249],{"type":407,"value":1398},{"type":402,"tag":509,"props":2251,"children":2252},{"style":673},[2253],{"type":407,"value":543},{"type":402,"tag":509,"props":2255,"children":2256},{"style":585},[2257],{"type":407,"value":943},{"type":402,"tag":509,"props":2259,"children":2260},{"class":511,"line":1158},[2261,2265],{"type":402,"tag":509,"props":2262,"children":2263},{"style":540},[2264],{"type":407,"value":1415},{"type":402,"tag":509,"props":2266,"children":2267},{"style":585},[2268],{"type":407,"value":1350},{"type":402,"tag":509,"props":2270,"children":2271},{"class":511,"line":1213},[2272,2276,2280,2284,2288,2292],{"type":402,"tag":509,"props":2273,"children":2274},{"style":673},[2275],{"type":407,"value":1428},{"type":402,"tag":509,"props":2277,"children":2278},{"style":585},[2279],{"type":407,"value":1266},{"type":402,"tag":509,"props":2281,"children":2282},{"style":540},[2283],{"type":407,"value":1307},{"type":402,"tag":509,"props":2285,"children":2286},{"style":585},[2287],{"type":407,"value":588},{"type":402,"tag":509,"props":2289,"children":2290},{"style":540},[2291],{"type":407,"value":1821},{"type":402,"tag":509,"props":2293,"children":2294},{"style":585},[2295],{"type":407,"value":1350},{"type":402,"tag":509,"props":2297,"children":2298},{"class":511,"line":1255},[2299,2303,2307],{"type":402,"tag":509,"props":2300,"children":2301},{"style":585},[2302],{"type":407,"value":1290},{"type":402,"tag":509,"props":2304,"children":2305},{"style":673},[2306],{"type":407,"value":1019},{"type":402,"tag":509,"props":2308,"children":2309},{"style":585},[2310],{"type":407,"value":1628},{"type":402,"tag":509,"props":2312,"children":2313},{"class":511,"line":1284},[2314,2318,2322,2327],{"type":402,"tag":509,"props":2315,"children":2316},{"style":540},[2317],{"type":407,"value":1474},{"type":402,"tag":509,"props":2319,"children":2320},{"style":528},[2321],{"type":407,"value":1479},{"type":402,"tag":509,"props":2323,"children":2324},{"style":1482},[2325],{"type":407,"value":2326}," 2",{"type":402,"tag":509,"props":2328,"children":2329},{"style":585},[2330],{"type":407,"value":1628},{"type":402,"tag":509,"props":2332,"children":2333},{"class":511,"line":1297},[2334],{"type":402,"tag":509,"props":2335,"children":2336},{"style":585},[2337],{"type":407,"value":1494},{"type":402,"tag":403,"props":2339,"children":2340},{},[2341],{"type":407,"value":2342},"此时得到的解可以约等于最优解了。当然，如果你觉得不稳的话，还可以使用 1px 步长去找。",{"type":402,"tag":403,"props":2344,"children":2345},{},[2346],{"type":407,"value":2347},"估算一下，原先需要截 245 次图片，现在直接降到 1/10，23 次。不过，也别太高兴，因为测试发现只做优化 2，解验证码的时候还是要 7s...",{"type":402,"tag":441,"props":2349,"children":2351},{"id":2350},"操作鼠标滑滑块",[2352],{"type":407,"value":2350},{"type":402,"tag":403,"props":2354,"children":2355},{},[2356],{"type":407,"value":2357},"缺口位置都搞定了，那移鼠标滑滑块儿还不简单嘛~",{"type":402,"tag":403,"props":2359,"children":2360},{},[2361,2363,2370],{"type":407,"value":2362},"Puppeteer 已经提供了",{"type":402,"tag":410,"props":2364,"children":2367},{"href":2365,"rel":2366},"http://puppeteerjs.com/#?product=Puppeteer&version=v10.2.0&show=api-class-mouse",[414],[2368],{"type":407,"value":2369},"鼠标相关的接口",{"type":407,"value":2371},"，一共四个：mouse.click、mouse.down、mouse.move、mouse.up，分别是点击、按下、移动和松开。使用 mouse.move 可以直接把鼠标位置移动到一个特定的坐标上。假设我们现在从坐标（100,100）花大约 1s 把鼠标移动到 （200,200），可以使用循环实现。",{"type":402,"tag":498,"props":2373,"children":2375},{"className":500,"code":2374,"language":502,"meta":396,"style":396},"const now = {\n  x: 100,\n  y: 100\n}\nconst target = {\n  time: 1000,\n  x: 200,\n  y: 200, \n}\nconst steps = 10\nconst step = {\n  x: Math.floor((target.x - now.x) / steps),\n  y: Math.floor((target.y - now.y) / steps),\n  time: target.time / steps\n}\nwhile (now.x \u003C target.x) {\n  await sleep(step.time)\n  now.x += step.x\n  now.y += step.y\n  await page.mouse.move(now)\n}\n",[2376],{"type":402,"tag":505,"props":2377,"children":2378},{"__ignoreMap":396},[2379,2399,2420,2437,2444,2464,2485,2505,2529,2536,2557,2577,2646,2711,2744,2751,2792,2826,2859,2892,2934],{"type":402,"tag":509,"props":2380,"children":2381},{"class":511,"line":512},[2382,2386,2391,2395],{"type":402,"tag":509,"props":2383,"children":2384},{"style":516},[2385],{"type":407,"value":519},{"type":402,"tag":509,"props":2387,"children":2388},{"style":522},[2389],{"type":407,"value":2390}," now",{"type":402,"tag":509,"props":2392,"children":2393},{"style":528},[2394],{"type":407,"value":531},{"type":402,"tag":509,"props":2396,"children":2397},{"style":585},[2398],{"type":407,"value":633},{"type":402,"tag":509,"props":2400,"children":2401},{"class":511,"line":567},[2402,2407,2411,2416],{"type":402,"tag":509,"props":2403,"children":2404},{"style":673},[2405],{"type":407,"value":2406},"  x",{"type":402,"tag":509,"props":2408,"children":2409},{"style":585},[2410],{"type":407,"value":1266},{"type":402,"tag":509,"props":2412,"children":2413},{"style":1482},[2414],{"type":407,"value":2415}," 100",{"type":402,"tag":509,"props":2417,"children":2418},{"style":585},[2419],{"type":407,"value":1350},{"type":402,"tag":509,"props":2421,"children":2422},{"class":511,"line":577},[2423,2428,2432],{"type":402,"tag":509,"props":2424,"children":2425},{"style":673},[2426],{"type":407,"value":2427},"  y",{"type":402,"tag":509,"props":2429,"children":2430},{"style":585},[2431],{"type":407,"value":1266},{"type":402,"tag":509,"props":2433,"children":2434},{"style":1482},[2435],{"type":407,"value":2436}," 100\n",{"type":402,"tag":509,"props":2438,"children":2439},{"class":511,"line":636},[2440],{"type":402,"tag":509,"props":2441,"children":2442},{"style":585},[2443],{"type":407,"value":1494},{"type":402,"tag":509,"props":2445,"children":2446},{"class":511,"line":679},[2447,2451,2456,2460],{"type":402,"tag":509,"props":2448,"children":2449},{"style":516},[2450],{"type":407,"value":519},{"type":402,"tag":509,"props":2452,"children":2453},{"style":522},[2454],{"type":407,"value":2455}," target",{"type":402,"tag":509,"props":2457,"children":2458},{"style":528},[2459],{"type":407,"value":531},{"type":402,"tag":509,"props":2461,"children":2462},{"style":585},[2463],{"type":407,"value":633},{"type":402,"tag":509,"props":2465,"children":2466},{"class":511,"line":722},[2467,2472,2476,2481],{"type":402,"tag":509,"props":2468,"children":2469},{"style":673},[2470],{"type":407,"value":2471},"  time",{"type":402,"tag":509,"props":2473,"children":2474},{"style":585},[2475],{"type":407,"value":1266},{"type":402,"tag":509,"props":2477,"children":2478},{"style":1482},[2479],{"type":407,"value":2480}," 1000",{"type":402,"tag":509,"props":2482,"children":2483},{"style":585},[2484],{"type":407,"value":1350},{"type":402,"tag":509,"props":2486,"children":2487},{"class":511,"line":1107},[2488,2492,2496,2501],{"type":402,"tag":509,"props":2489,"children":2490},{"style":673},[2491],{"type":407,"value":2406},{"type":402,"tag":509,"props":2493,"children":2494},{"style":585},[2495],{"type":407,"value":1266},{"type":402,"tag":509,"props":2497,"children":2498},{"style":1482},[2499],{"type":407,"value":2500}," 200",{"type":402,"tag":509,"props":2502,"children":2503},{"style":585},[2504],{"type":407,"value":1350},{"type":402,"tag":509,"props":2506,"children":2507},{"class":511,"line":1133},[2508,2512,2516,2520,2524],{"type":402,"tag":509,"props":2509,"children":2510},{"style":673},[2511],{"type":407,"value":2427},{"type":402,"tag":509,"props":2513,"children":2514},{"style":585},[2515],{"type":407,"value":1266},{"type":402,"tag":509,"props":2517,"children":2518},{"style":1482},[2519],{"type":407,"value":2500},{"type":402,"tag":509,"props":2521,"children":2522},{"style":585},[2523],{"type":407,"value":1009},{"type":402,"tag":509,"props":2525,"children":2526},{"style":540},[2527],{"type":407,"value":2528}," \n",{"type":402,"tag":509,"props":2530,"children":2531},{"class":511,"line":1141},[2532],{"type":402,"tag":509,"props":2533,"children":2534},{"style":585},[2535],{"type":407,"value":1494},{"type":402,"tag":509,"props":2537,"children":2538},{"class":511,"line":1150},[2539,2543,2548,2552],{"type":402,"tag":509,"props":2540,"children":2541},{"style":516},[2542],{"type":407,"value":519},{"type":402,"tag":509,"props":2544,"children":2545},{"style":522},[2546],{"type":407,"value":2547}," steps",{"type":402,"tag":509,"props":2549,"children":2550},{"style":528},[2551],{"type":407,"value":531},{"type":402,"tag":509,"props":2553,"children":2554},{"style":1482},[2555],{"type":407,"value":2556}," 10\n",{"type":402,"tag":509,"props":2558,"children":2559},{"class":511,"line":1158},[2560,2564,2569,2573],{"type":402,"tag":509,"props":2561,"children":2562},{"style":516},[2563],{"type":407,"value":519},{"type":402,"tag":509,"props":2565,"children":2566},{"style":522},[2567],{"type":407,"value":2568}," step",{"type":402,"tag":509,"props":2570,"children":2571},{"style":528},[2572],{"type":407,"value":531},{"type":402,"tag":509,"props":2574,"children":2575},{"style":585},[2576],{"type":407,"value":633},{"type":402,"tag":509,"props":2578,"children":2579},{"class":511,"line":1213},[2580,2584,2588,2592,2596,2601,2606,2610,2615,2619,2623,2627,2632,2637,2642],{"type":402,"tag":509,"props":2581,"children":2582},{"style":673},[2583],{"type":407,"value":2406},{"type":402,"tag":509,"props":2585,"children":2586},{"style":585},[2587],{"type":407,"value":1266},{"type":402,"tag":509,"props":2589,"children":2590},{"style":540},[2591],{"type":407,"value":1900},{"type":402,"tag":509,"props":2593,"children":2594},{"style":585},[2595],{"type":407,"value":588},{"type":402,"tag":509,"props":2597,"children":2598},{"style":534},[2599],{"type":407,"value":2600},"floor",{"type":402,"tag":509,"props":2602,"children":2603},{"style":540},[2604],{"type":407,"value":2605},"((target",{"type":402,"tag":509,"props":2607,"children":2608},{"style":585},[2609],{"type":407,"value":588},{"type":402,"tag":509,"props":2611,"children":2612},{"style":540},[2613],{"type":407,"value":2614},"x ",{"type":402,"tag":509,"props":2616,"children":2617},{"style":528},[2618],{"type":407,"value":2084},{"type":402,"tag":509,"props":2620,"children":2621},{"style":540},[2622],{"type":407,"value":2390},{"type":402,"tag":509,"props":2624,"children":2625},{"style":585},[2626],{"type":407,"value":588},{"type":402,"tag":509,"props":2628,"children":2629},{"style":540},[2630],{"type":407,"value":2631},"x) ",{"type":402,"tag":509,"props":2633,"children":2634},{"style":528},[2635],{"type":407,"value":2636},"/",{"type":402,"tag":509,"props":2638,"children":2639},{"style":540},[2640],{"type":407,"value":2641}," steps)",{"type":402,"tag":509,"props":2643,"children":2644},{"style":585},[2645],{"type":407,"value":1350},{"type":402,"tag":509,"props":2647,"children":2648},{"class":511,"line":1255},[2649,2653,2657,2661,2665,2669,2673,2677,2682,2686,2690,2694,2699,2703,2707],{"type":402,"tag":509,"props":2650,"children":2651},{"style":673},[2652],{"type":407,"value":2427},{"type":402,"tag":509,"props":2654,"children":2655},{"style":585},[2656],{"type":407,"value":1266},{"type":402,"tag":509,"props":2658,"children":2659},{"style":540},[2660],{"type":407,"value":1900},{"type":402,"tag":509,"props":2662,"children":2663},{"style":585},[2664],{"type":407,"value":588},{"type":402,"tag":509,"props":2666,"children":2667},{"style":534},[2668],{"type":407,"value":2600},{"type":402,"tag":509,"props":2670,"children":2671},{"style":540},[2672],{"type":407,"value":2605},{"type":402,"tag":509,"props":2674,"children":2675},{"style":585},[2676],{"type":407,"value":588},{"type":402,"tag":509,"props":2678,"children":2679},{"style":540},[2680],{"type":407,"value":2681},"y ",{"type":402,"tag":509,"props":2683,"children":2684},{"style":528},[2685],{"type":407,"value":2084},{"type":402,"tag":509,"props":2687,"children":2688},{"style":540},[2689],{"type":407,"value":2390},{"type":402,"tag":509,"props":2691,"children":2692},{"style":585},[2693],{"type":407,"value":588},{"type":402,"tag":509,"props":2695,"children":2696},{"style":540},[2697],{"type":407,"value":2698},"y) ",{"type":402,"tag":509,"props":2700,"children":2701},{"style":528},[2702],{"type":407,"value":2636},{"type":402,"tag":509,"props":2704,"children":2705},{"style":540},[2706],{"type":407,"value":2641},{"type":402,"tag":509,"props":2708,"children":2709},{"style":585},[2710],{"type":407,"value":1350},{"type":402,"tag":509,"props":2712,"children":2713},{"class":511,"line":1284},[2714,2718,2722,2726,2730,2735,2739],{"type":402,"tag":509,"props":2715,"children":2716},{"style":673},[2717],{"type":407,"value":2471},{"type":402,"tag":509,"props":2719,"children":2720},{"style":585},[2721],{"type":407,"value":1266},{"type":402,"tag":509,"props":2723,"children":2724},{"style":540},[2725],{"type":407,"value":2455},{"type":402,"tag":509,"props":2727,"children":2728},{"style":585},[2729],{"type":407,"value":588},{"type":402,"tag":509,"props":2731,"children":2732},{"style":540},[2733],{"type":407,"value":2734},"time ",{"type":402,"tag":509,"props":2736,"children":2737},{"style":528},[2738],{"type":407,"value":2636},{"type":402,"tag":509,"props":2740,"children":2741},{"style":540},[2742],{"type":407,"value":2743}," steps\n",{"type":402,"tag":509,"props":2745,"children":2746},{"class":511,"line":1297},[2747],{"type":402,"tag":509,"props":2748,"children":2749},{"style":585},[2750],{"type":407,"value":1494},{"type":402,"tag":509,"props":2752,"children":2753},{"class":511,"line":1331},[2754,2758,2763,2767,2771,2776,2780,2784,2788],{"type":402,"tag":509,"props":2755,"children":2756},{"style":654},[2757],{"type":407,"value":923},{"type":402,"tag":509,"props":2759,"children":2760},{"style":540},[2761],{"type":407,"value":2762}," (now",{"type":402,"tag":509,"props":2764,"children":2765},{"style":585},[2766],{"type":407,"value":588},{"type":402,"tag":509,"props":2768,"children":2769},{"style":540},[2770],{"type":407,"value":2614},{"type":402,"tag":509,"props":2772,"children":2773},{"style":528},[2774],{"type":407,"value":2775},"\u003C",{"type":402,"tag":509,"props":2777,"children":2778},{"style":540},[2779],{"type":407,"value":2455},{"type":402,"tag":509,"props":2781,"children":2782},{"style":585},[2783],{"type":407,"value":588},{"type":402,"tag":509,"props":2785,"children":2786},{"style":540},[2787],{"type":407,"value":2631},{"type":402,"tag":509,"props":2789,"children":2790},{"style":585},[2791],{"type":407,"value":943},{"type":402,"tag":509,"props":2793,"children":2794},{"class":511,"line":1353},[2795,2799,2804,2808,2813,2817,2822],{"type":402,"tag":509,"props":2796,"children":2797},{"style":654},[2798],{"type":407,"value":685},{"type":402,"tag":509,"props":2800,"children":2801},{"style":534},[2802],{"type":407,"value":2803}," sleep",{"type":402,"tag":509,"props":2805,"children":2806},{"style":673},[2807],{"type":407,"value":543},{"type":402,"tag":509,"props":2809,"children":2810},{"style":540},[2811],{"type":407,"value":2812},"step",{"type":402,"tag":509,"props":2814,"children":2815},{"style":585},[2816],{"type":407,"value":588},{"type":402,"tag":509,"props":2818,"children":2819},{"style":540},[2820],{"type":407,"value":2821},"time",{"type":402,"tag":509,"props":2823,"children":2824},{"style":673},[2825],{"type":407,"value":564},{"type":402,"tag":509,"props":2827,"children":2828},{"class":511,"line":1371},[2829,2834,2838,2842,2846,2850,2854],{"type":402,"tag":509,"props":2830,"children":2831},{"style":540},[2832],{"type":407,"value":2833},"  now",{"type":402,"tag":509,"props":2835,"children":2836},{"style":585},[2837],{"type":407,"value":588},{"type":402,"tag":509,"props":2839,"children":2840},{"style":540},[2841],{"type":407,"value":1945},{"type":402,"tag":509,"props":2843,"children":2844},{"style":528},[2845],{"type":407,"value":1479},{"type":402,"tag":509,"props":2847,"children":2848},{"style":540},[2849],{"type":407,"value":2568},{"type":402,"tag":509,"props":2851,"children":2852},{"style":585},[2853],{"type":407,"value":588},{"type":402,"tag":509,"props":2855,"children":2856},{"style":540},[2857],{"type":407,"value":2858},"x\n",{"type":402,"tag":509,"props":2860,"children":2861},{"class":511,"line":1383},[2862,2866,2870,2875,2879,2883,2887],{"type":402,"tag":509,"props":2863,"children":2864},{"style":540},[2865],{"type":407,"value":2833},{"type":402,"tag":509,"props":2867,"children":2868},{"style":585},[2869],{"type":407,"value":588},{"type":402,"tag":509,"props":2871,"children":2872},{"style":540},[2873],{"type":407,"value":2874},"y",{"type":402,"tag":509,"props":2876,"children":2877},{"style":528},[2878],{"type":407,"value":1479},{"type":402,"tag":509,"props":2880,"children":2881},{"style":540},[2882],{"type":407,"value":2568},{"type":402,"tag":509,"props":2884,"children":2885},{"style":585},[2886],{"type":407,"value":588},{"type":402,"tag":509,"props":2888,"children":2889},{"style":540},[2890],{"type":407,"value":2891},"y\n",{"type":402,"tag":509,"props":2893,"children":2894},{"class":511,"line":1409},[2895,2899,2903,2907,2912,2916,2921,2925,2930],{"type":402,"tag":509,"props":2896,"children":2897},{"style":654},[2898],{"type":407,"value":685},{"type":402,"tag":509,"props":2900,"children":2901},{"style":540},[2902],{"type":407,"value":647},{"type":402,"tag":509,"props":2904,"children":2905},{"style":585},[2906],{"type":407,"value":588},{"type":402,"tag":509,"props":2908,"children":2909},{"style":540},[2910],{"type":407,"value":2911},"mouse",{"type":402,"tag":509,"props":2913,"children":2914},{"style":585},[2915],{"type":407,"value":588},{"type":402,"tag":509,"props":2917,"children":2918},{"style":534},[2919],{"type":407,"value":2920},"move",{"type":402,"tag":509,"props":2922,"children":2923},{"style":673},[2924],{"type":407,"value":543},{"type":402,"tag":509,"props":2926,"children":2927},{"style":540},[2928],{"type":407,"value":2929},"now",{"type":402,"tag":509,"props":2931,"children":2932},{"style":673},[2933],{"type":407,"value":564},{"type":402,"tag":509,"props":2935,"children":2936},{"class":511,"line":1422},[2937],{"type":402,"tag":509,"props":2938,"children":2939},{"style":585},[2940],{"type":407,"value":1494},{"type":402,"tag":441,"props":2942,"children":2944},{"id":2943},"鼠标轨迹优化",[2945],{"type":407,"value":2943},{"type":402,"tag":403,"props":2947,"children":2948},{},[2949],{"type":407,"value":2950},"害，要是打游戏的时候也像这段代码一样，我想我的手点到哪儿它就点到哪儿就好了~",{"type":402,"tag":403,"props":2952,"children":2953},{},[2954],{"type":407,"value":2955},"机器是不会手抖的，这段代码和真实世界的滑动效果相差太远了！我们看一张我用手滑的效果，尤其是要仔细观察滑动过程中鼠标的位置。",{"type":402,"tag":403,"props":2957,"children":2958},{},[2959],{"type":402,"tag":429,"props":2960,"children":2963},{"alt":2961,"src":2962},"鼠标轨迹不稳定","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/soov8Gny09.gif",[],{"type":402,"tag":2965,"props":2966,"children":2967},"ul",{},[2968,2973],{"type":402,"tag":456,"props":2969,"children":2970},{},[2971],{"type":407,"value":2972},"鼠标 Y 轴位置总是在变",{"type":402,"tag":456,"props":2974,"children":2975},{},[2976],{"type":407,"value":2977},"鼠标 X 轴位置会滑过头（别笑，你肯定也经常划过头）",{"type":402,"tag":403,"props":2979,"children":2980},{},[2981],{"type":407,"value":2982},"这里做一波小优化，把这两个细节整合进去。",{"type":402,"tag":498,"props":2984,"children":2986},{"className":500,"code":2985,"language":502,"meta":396,"style":396},"// 获得一个随机的偏移量\nconst getRandOffset = (randNegative = true, max = 3) => {\n  const negative = randNeagtive\n    ? (Math.random() \u003C 0.5) ? -1 : 1\n    : 1\n  return Math.floor(Math.random() * max) * negative\n}\n\n// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\nconst points = [\n  {\n    time: 1000,\n    x: 200 + getRandOffset(false, 15),\n    y: 200 + getRandOffset(false, 15),\n    steps: 10\n  },\n  {\n    time: 100,\n    x: 200,\n    y: 200,\n    steps: 3\n  }\n]\n\n// 注意这里用 for await 循环把 points 串起来执行\nfor await (const target of points) {\n  const step = {\n    x: Math.floor((target.x - now.x) / target.steps),\n    y: Math.floor((target.y - now.y) / target.steps),\n    time: target.time / target.steps,\n  }\n  let gap\n  while (gap = Math.abs((target.x - now.x)), gap > 0) {\n    await sleep(step.time)\n    // 最后一步就直接滑动到位，不需要随机数了\n    const inOneStep = Math.abs(target.x - now.x) \u003C= Math.abs(step.x);\n    if (inOneStep) {\n      now.x = target.x;\n      now.y = target.y;\n    } else {\n      now.x += step.x + getRandOffset();\n      now.y += step.y + getRandOffset();\n    }\n    moveMouseTo(now)\n  }\n}\n",[2987],{"type":402,"tag":505,"props":2988,"children":2989},{"__ignoreMap":396},[2990,2998,3064,3085,3153,3165,3227,3234,3241,3249,3270,3278,3298,3348,3396,3412,3420,3427,3446,3465,3484,3500,3508,3516,3523,3531,3570,3590,3677,3761,3806,3814,3828,3927,3960,3969,4075,4101,4138,4174,4192,4240,4288,4297,4318,4326],{"type":402,"tag":509,"props":2991,"children":2992},{"class":511,"line":512},[2993],{"type":402,"tag":509,"props":2994,"children":2995},{"style":956},[2996],{"type":407,"value":2997},"// 获得一个随机的偏移量\n",{"type":402,"tag":509,"props":2999,"children":3000},{"class":511,"line":567},[3001,3005,3011,3015,3019,3024,3028,3034,3038,3043,3047,3052,3056,3060],{"type":402,"tag":509,"props":3002,"children":3003},{"style":516},[3004],{"type":407,"value":519},{"type":402,"tag":509,"props":3006,"children":3008},{"style":3007},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3009],{"type":407,"value":3010}," getRandOffset",{"type":402,"tag":509,"props":3012,"children":3013},{"style":528},[3014],{"type":407,"value":531},{"type":402,"tag":509,"props":3016,"children":3017},{"style":585},[3018],{"type":407,"value":999},{"type":402,"tag":509,"props":3020,"children":3021},{"style":620},[3022],{"type":407,"value":3023},"randNegative",{"type":402,"tag":509,"props":3025,"children":3026},{"style":528},[3027],{"type":407,"value":531},{"type":402,"tag":509,"props":3029,"children":3031},{"style":3030},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3032],{"type":407,"value":3033}," true",{"type":402,"tag":509,"props":3035,"children":3036},{"style":585},[3037],{"type":407,"value":1009},{"type":402,"tag":509,"props":3039,"children":3040},{"style":620},[3041],{"type":407,"value":3042}," max",{"type":402,"tag":509,"props":3044,"children":3045},{"style":528},[3046],{"type":407,"value":531},{"type":402,"tag":509,"props":3048,"children":3049},{"style":1482},[3050],{"type":407,"value":3051}," 3",{"type":402,"tag":509,"props":3053,"children":3054},{"style":585},[3055],{"type":407,"value":1019},{"type":402,"tag":509,"props":3057,"children":3058},{"style":516},[3059],{"type":407,"value":628},{"type":402,"tag":509,"props":3061,"children":3062},{"style":585},[3063],{"type":407,"value":633},{"type":402,"tag":509,"props":3065,"children":3066},{"class":511,"line":577},[3067,3071,3076,3080],{"type":402,"tag":509,"props":3068,"children":3069},{"style":516},[3070],{"type":407,"value":642},{"type":402,"tag":509,"props":3072,"children":3073},{"style":522},[3074],{"type":407,"value":3075}," negative",{"type":402,"tag":509,"props":3077,"children":3078},{"style":528},[3079],{"type":407,"value":531},{"type":402,"tag":509,"props":3081,"children":3082},{"style":540},[3083],{"type":407,"value":3084}," randNeagtive\n",{"type":402,"tag":509,"props":3086,"children":3087},{"class":511,"line":636},[3088,3093,3097,3102,3106,3111,3116,3120,3125,3130,3135,3140,3144,3149],{"type":402,"tag":509,"props":3089,"children":3090},{"style":528},[3091],{"type":407,"value":3092},"    ?",{"type":402,"tag":509,"props":3094,"children":3095},{"style":673},[3096],{"type":407,"value":999},{"type":402,"tag":509,"props":3098,"children":3099},{"style":540},[3100],{"type":407,"value":3101},"Math",{"type":402,"tag":509,"props":3103,"children":3104},{"style":585},[3105],{"type":407,"value":588},{"type":402,"tag":509,"props":3107,"children":3108},{"style":534},[3109],{"type":407,"value":3110},"random",{"type":402,"tag":509,"props":3112,"children":3113},{"style":673},[3114],{"type":407,"value":3115},"() ",{"type":402,"tag":509,"props":3117,"children":3118},{"style":528},[3119],{"type":407,"value":2775},{"type":402,"tag":509,"props":3121,"children":3122},{"style":1482},[3123],{"type":407,"value":3124}," 0.5",{"type":402,"tag":509,"props":3126,"children":3127},{"style":673},[3128],{"type":407,"value":3129},") ",{"type":402,"tag":509,"props":3131,"children":3132},{"style":528},[3133],{"type":407,"value":3134},"?",{"type":402,"tag":509,"props":3136,"children":3137},{"style":528},[3138],{"type":407,"value":3139}," -",{"type":402,"tag":509,"props":3141,"children":3142},{"style":1482},[3143],{"type":407,"value":829},{"type":402,"tag":509,"props":3145,"children":3146},{"style":528},[3147],{"type":407,"value":3148}," :",{"type":402,"tag":509,"props":3150,"children":3151},{"style":1482},[3152],{"type":407,"value":1485},{"type":402,"tag":509,"props":3154,"children":3155},{"class":511,"line":679},[3156,3161],{"type":402,"tag":509,"props":3157,"children":3158},{"style":528},[3159],{"type":407,"value":3160},"    :",{"type":402,"tag":509,"props":3162,"children":3163},{"style":1482},[3164],{"type":407,"value":1485},{"type":402,"tag":509,"props":3166,"children":3167},{"class":511,"line":722},[3168,3173,3177,3181,3185,3189,3193,3197,3201,3205,3210,3214,3218,3222],{"type":402,"tag":509,"props":3169,"children":3170},{"style":654},[3171],{"type":407,"value":3172},"  return",{"type":402,"tag":509,"props":3174,"children":3175},{"style":540},[3176],{"type":407,"value":1900},{"type":402,"tag":509,"props":3178,"children":3179},{"style":585},[3180],{"type":407,"value":588},{"type":402,"tag":509,"props":3182,"children":3183},{"style":534},[3184],{"type":407,"value":2600},{"type":402,"tag":509,"props":3186,"children":3187},{"style":673},[3188],{"type":407,"value":543},{"type":402,"tag":509,"props":3190,"children":3191},{"style":540},[3192],{"type":407,"value":3101},{"type":402,"tag":509,"props":3194,"children":3195},{"style":585},[3196],{"type":407,"value":588},{"type":402,"tag":509,"props":3198,"children":3199},{"style":534},[3200],{"type":407,"value":3110},{"type":402,"tag":509,"props":3202,"children":3203},{"style":673},[3204],{"type":407,"value":3115},{"type":402,"tag":509,"props":3206,"children":3207},{"style":528},[3208],{"type":407,"value":3209},"*",{"type":402,"tag":509,"props":3211,"children":3212},{"style":540},[3213],{"type":407,"value":3042},{"type":402,"tag":509,"props":3215,"children":3216},{"style":673},[3217],{"type":407,"value":3129},{"type":402,"tag":509,"props":3219,"children":3220},{"style":528},[3221],{"type":407,"value":3209},{"type":402,"tag":509,"props":3223,"children":3224},{"style":540},[3225],{"type":407,"value":3226}," negative\n",{"type":402,"tag":509,"props":3228,"children":3229},{"class":511,"line":1107},[3230],{"type":402,"tag":509,"props":3231,"children":3232},{"style":585},[3233],{"type":407,"value":1494},{"type":402,"tag":509,"props":3235,"children":3236},{"class":511,"line":1133},[3237],{"type":402,"tag":509,"props":3238,"children":3239},{"emptyLinePlaceholder":571},[3240],{"type":407,"value":574},{"type":402,"tag":509,"props":3242,"children":3243},{"class":511,"line":1141},[3244],{"type":402,"tag":509,"props":3245,"children":3246},{"style":956},[3247],{"type":407,"value":3248},"// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\n",{"type":402,"tag":509,"props":3250,"children":3251},{"class":511,"line":1150},[3252,3256,3261,3265],{"type":402,"tag":509,"props":3253,"children":3254},{"style":516},[3255],{"type":407,"value":519},{"type":402,"tag":509,"props":3257,"children":3258},{"style":522},[3259],{"type":407,"value":3260}," points",{"type":402,"tag":509,"props":3262,"children":3263},{"style":528},[3264],{"type":407,"value":531},{"type":402,"tag":509,"props":3266,"children":3267},{"style":540},[3268],{"type":407,"value":3269}," [\n",{"type":402,"tag":509,"props":3271,"children":3272},{"class":511,"line":1158},[3273],{"type":402,"tag":509,"props":3274,"children":3275},{"style":585},[3276],{"type":407,"value":3277},"  {\n",{"type":402,"tag":509,"props":3279,"children":3280},{"class":511,"line":1213},[3281,3286,3290,3294],{"type":402,"tag":509,"props":3282,"children":3283},{"style":673},[3284],{"type":407,"value":3285},"    time",{"type":402,"tag":509,"props":3287,"children":3288},{"style":585},[3289],{"type":407,"value":1266},{"type":402,"tag":509,"props":3291,"children":3292},{"style":1482},[3293],{"type":407,"value":2480},{"type":402,"tag":509,"props":3295,"children":3296},{"style":585},[3297],{"type":407,"value":1350},{"type":402,"tag":509,"props":3299,"children":3300},{"class":511,"line":1255},[3301,3306,3310,3314,3319,3323,3327,3332,3336,3340,3344],{"type":402,"tag":509,"props":3302,"children":3303},{"style":673},[3304],{"type":407,"value":3305},"    x",{"type":402,"tag":509,"props":3307,"children":3308},{"style":585},[3309],{"type":407,"value":1266},{"type":402,"tag":509,"props":3311,"children":3312},{"style":1482},[3313],{"type":407,"value":2500},{"type":402,"tag":509,"props":3315,"children":3316},{"style":528},[3317],{"type":407,"value":3318}," +",{"type":402,"tag":509,"props":3320,"children":3321},{"style":534},[3322],{"type":407,"value":3010},{"type":402,"tag":509,"props":3324,"children":3325},{"style":540},[3326],{"type":407,"value":543},{"type":402,"tag":509,"props":3328,"children":3329},{"style":3030},[3330],{"type":407,"value":3331},"false",{"type":402,"tag":509,"props":3333,"children":3334},{"style":585},[3335],{"type":407,"value":1009},{"type":402,"tag":509,"props":3337,"children":3338},{"style":1482},[3339],{"type":407,"value":1856},{"type":402,"tag":509,"props":3341,"children":3342},{"style":540},[3343],{"type":407,"value":1019},{"type":402,"tag":509,"props":3345,"children":3346},{"style":585},[3347],{"type":407,"value":1350},{"type":402,"tag":509,"props":3349,"children":3350},{"class":511,"line":1284},[3351,3356,3360,3364,3368,3372,3376,3380,3384,3388,3392],{"type":402,"tag":509,"props":3352,"children":3353},{"style":673},[3354],{"type":407,"value":3355},"    y",{"type":402,"tag":509,"props":3357,"children":3358},{"style":585},[3359],{"type":407,"value":1266},{"type":402,"tag":509,"props":3361,"children":3362},{"style":1482},[3363],{"type":407,"value":2500},{"type":402,"tag":509,"props":3365,"children":3366},{"style":528},[3367],{"type":407,"value":3318},{"type":402,"tag":509,"props":3369,"children":3370},{"style":534},[3371],{"type":407,"value":3010},{"type":402,"tag":509,"props":3373,"children":3374},{"style":540},[3375],{"type":407,"value":543},{"type":402,"tag":509,"props":3377,"children":3378},{"style":3030},[3379],{"type":407,"value":3331},{"type":402,"tag":509,"props":3381,"children":3382},{"style":585},[3383],{"type":407,"value":1009},{"type":402,"tag":509,"props":3385,"children":3386},{"style":1482},[3387],{"type":407,"value":1856},{"type":402,"tag":509,"props":3389,"children":3390},{"style":540},[3391],{"type":407,"value":1019},{"type":402,"tag":509,"props":3393,"children":3394},{"style":585},[3395],{"type":407,"value":1350},{"type":402,"tag":509,"props":3397,"children":3398},{"class":511,"line":1297},[3399,3404,3408],{"type":402,"tag":509,"props":3400,"children":3401},{"style":673},[3402],{"type":407,"value":3403},"    steps",{"type":402,"tag":509,"props":3405,"children":3406},{"style":585},[3407],{"type":407,"value":1266},{"type":402,"tag":509,"props":3409,"children":3410},{"style":1482},[3411],{"type":407,"value":2556},{"type":402,"tag":509,"props":3413,"children":3414},{"class":511,"line":1331},[3415],{"type":402,"tag":509,"props":3416,"children":3417},{"style":585},[3418],{"type":407,"value":3419},"  },\n",{"type":402,"tag":509,"props":3421,"children":3422},{"class":511,"line":1353},[3423],{"type":402,"tag":509,"props":3424,"children":3425},{"style":585},[3426],{"type":407,"value":3277},{"type":402,"tag":509,"props":3428,"children":3429},{"class":511,"line":1371},[3430,3434,3438,3442],{"type":402,"tag":509,"props":3431,"children":3432},{"style":673},[3433],{"type":407,"value":3285},{"type":402,"tag":509,"props":3435,"children":3436},{"style":585},[3437],{"type":407,"value":1266},{"type":402,"tag":509,"props":3439,"children":3440},{"style":1482},[3441],{"type":407,"value":2415},{"type":402,"tag":509,"props":3443,"children":3444},{"style":585},[3445],{"type":407,"value":1350},{"type":402,"tag":509,"props":3447,"children":3448},{"class":511,"line":1383},[3449,3453,3457,3461],{"type":402,"tag":509,"props":3450,"children":3451},{"style":673},[3452],{"type":407,"value":3305},{"type":402,"tag":509,"props":3454,"children":3455},{"style":585},[3456],{"type":407,"value":1266},{"type":402,"tag":509,"props":3458,"children":3459},{"style":1482},[3460],{"type":407,"value":2500},{"type":402,"tag":509,"props":3462,"children":3463},{"style":585},[3464],{"type":407,"value":1350},{"type":402,"tag":509,"props":3466,"children":3467},{"class":511,"line":1409},[3468,3472,3476,3480],{"type":402,"tag":509,"props":3469,"children":3470},{"style":673},[3471],{"type":407,"value":3355},{"type":402,"tag":509,"props":3473,"children":3474},{"style":585},[3475],{"type":407,"value":1266},{"type":402,"tag":509,"props":3477,"children":3478},{"style":1482},[3479],{"type":407,"value":2500},{"type":402,"tag":509,"props":3481,"children":3482},{"style":585},[3483],{"type":407,"value":1350},{"type":402,"tag":509,"props":3485,"children":3486},{"class":511,"line":1422},[3487,3491,3495],{"type":402,"tag":509,"props":3488,"children":3489},{"style":673},[3490],{"type":407,"value":3403},{"type":402,"tag":509,"props":3492,"children":3493},{"style":585},[3494],{"type":407,"value":1266},{"type":402,"tag":509,"props":3496,"children":3497},{"style":1482},[3498],{"type":407,"value":3499}," 3\n",{"type":402,"tag":509,"props":3501,"children":3502},{"class":511,"line":1448},[3503],{"type":402,"tag":509,"props":3504,"children":3505},{"style":585},[3506],{"type":407,"value":3507},"  }\n",{"type":402,"tag":509,"props":3509,"children":3510},{"class":511,"line":1460},[3511],{"type":402,"tag":509,"props":3512,"children":3513},{"style":540},[3514],{"type":407,"value":3515},"]\n",{"type":402,"tag":509,"props":3517,"children":3518},{"class":511,"line":1468},[3519],{"type":402,"tag":509,"props":3520,"children":3521},{"emptyLinePlaceholder":571},[3522],{"type":407,"value":574},{"type":402,"tag":509,"props":3524,"children":3525},{"class":511,"line":1488},[3526],{"type":402,"tag":509,"props":3527,"children":3528},{"style":956},[3529],{"type":407,"value":3530},"// 注意这里用 for await 循环把 points 串起来执行\n",{"type":402,"tag":509,"props":3532,"children":3534},{"class":511,"line":3533},26,[3535,3540,3544,3548,3552,3556,3561,3566],{"type":402,"tag":509,"props":3536,"children":3537},{"style":654},[3538],{"type":407,"value":3539},"for",{"type":402,"tag":509,"props":3541,"children":3542},{"style":654},[3543],{"type":407,"value":657},{"type":402,"tag":509,"props":3545,"children":3546},{"style":540},[3547],{"type":407,"value":999},{"type":402,"tag":509,"props":3549,"children":3550},{"style":516},[3551],{"type":407,"value":519},{"type":402,"tag":509,"props":3553,"children":3554},{"style":522},[3555],{"type":407,"value":2455},{"type":402,"tag":509,"props":3557,"children":3558},{"style":528},[3559],{"type":407,"value":3560}," of",{"type":402,"tag":509,"props":3562,"children":3563},{"style":540},[3564],{"type":407,"value":3565}," points) ",{"type":402,"tag":509,"props":3567,"children":3568},{"style":585},[3569],{"type":407,"value":943},{"type":402,"tag":509,"props":3571,"children":3573},{"class":511,"line":3572},27,[3574,3578,3582,3586],{"type":402,"tag":509,"props":3575,"children":3576},{"style":516},[3577],{"type":407,"value":642},{"type":402,"tag":509,"props":3579,"children":3580},{"style":522},[3581],{"type":407,"value":2568},{"type":402,"tag":509,"props":3583,"children":3584},{"style":528},[3585],{"type":407,"value":531},{"type":402,"tag":509,"props":3587,"children":3588},{"style":585},[3589],{"type":407,"value":633},{"type":402,"tag":509,"props":3591,"children":3593},{"class":511,"line":3592},28,[3594,3598,3602,3606,3610,3614,3619,3624,3628,3632,3636,3640,3644,3648,3652,3656,3660,3664,3669,3673],{"type":402,"tag":509,"props":3595,"children":3596},{"style":673},[3597],{"type":407,"value":3305},{"type":402,"tag":509,"props":3599,"children":3600},{"style":585},[3601],{"type":407,"value":1266},{"type":402,"tag":509,"props":3603,"children":3604},{"style":540},[3605],{"type":407,"value":1900},{"type":402,"tag":509,"props":3607,"children":3608},{"style":585},[3609],{"type":407,"value":588},{"type":402,"tag":509,"props":3611,"children":3612},{"style":534},[3613],{"type":407,"value":2600},{"type":402,"tag":509,"props":3615,"children":3616},{"style":673},[3617],{"type":407,"value":3618},"((",{"type":402,"tag":509,"props":3620,"children":3621},{"style":540},[3622],{"type":407,"value":3623},"target",{"type":402,"tag":509,"props":3625,"children":3626},{"style":585},[3627],{"type":407,"value":588},{"type":402,"tag":509,"props":3629,"children":3630},{"style":540},[3631],{"type":407,"value":1945},{"type":402,"tag":509,"props":3633,"children":3634},{"style":528},[3635],{"type":407,"value":3139},{"type":402,"tag":509,"props":3637,"children":3638},{"style":540},[3639],{"type":407,"value":2390},{"type":402,"tag":509,"props":3641,"children":3642},{"style":585},[3643],{"type":407,"value":588},{"type":402,"tag":509,"props":3645,"children":3646},{"style":540},[3647],{"type":407,"value":1945},{"type":402,"tag":509,"props":3649,"children":3650},{"style":673},[3651],{"type":407,"value":3129},{"type":402,"tag":509,"props":3653,"children":3654},{"style":528},[3655],{"type":407,"value":2636},{"type":402,"tag":509,"props":3657,"children":3658},{"style":540},[3659],{"type":407,"value":2455},{"type":402,"tag":509,"props":3661,"children":3662},{"style":585},[3663],{"type":407,"value":588},{"type":402,"tag":509,"props":3665,"children":3666},{"style":540},[3667],{"type":407,"value":3668},"steps",{"type":402,"tag":509,"props":3670,"children":3671},{"style":673},[3672],{"type":407,"value":1019},{"type":402,"tag":509,"props":3674,"children":3675},{"style":585},[3676],{"type":407,"value":1350},{"type":402,"tag":509,"props":3678,"children":3680},{"class":511,"line":3679},29,[3681,3685,3689,3693,3697,3701,3705,3709,3713,3717,3721,3725,3729,3733,3737,3741,3745,3749,3753,3757],{"type":402,"tag":509,"props":3682,"children":3683},{"style":673},[3684],{"type":407,"value":3355},{"type":402,"tag":509,"props":3686,"children":3687},{"style":585},[3688],{"type":407,"value":1266},{"type":402,"tag":509,"props":3690,"children":3691},{"style":540},[3692],{"type":407,"value":1900},{"type":402,"tag":509,"props":3694,"children":3695},{"style":585},[3696],{"type":407,"value":588},{"type":402,"tag":509,"props":3698,"children":3699},{"style":534},[3700],{"type":407,"value":2600},{"type":402,"tag":509,"props":3702,"children":3703},{"style":673},[3704],{"type":407,"value":3618},{"type":402,"tag":509,"props":3706,"children":3707},{"style":540},[3708],{"type":407,"value":3623},{"type":402,"tag":509,"props":3710,"children":3711},{"style":585},[3712],{"type":407,"value":588},{"type":402,"tag":509,"props":3714,"children":3715},{"style":540},[3716],{"type":407,"value":2874},{"type":402,"tag":509,"props":3718,"children":3719},{"style":528},[3720],{"type":407,"value":3139},{"type":402,"tag":509,"props":3722,"children":3723},{"style":540},[3724],{"type":407,"value":2390},{"type":402,"tag":509,"props":3726,"children":3727},{"style":585},[3728],{"type":407,"value":588},{"type":402,"tag":509,"props":3730,"children":3731},{"style":540},[3732],{"type":407,"value":2874},{"type":402,"tag":509,"props":3734,"children":3735},{"style":673},[3736],{"type":407,"value":3129},{"type":402,"tag":509,"props":3738,"children":3739},{"style":528},[3740],{"type":407,"value":2636},{"type":402,"tag":509,"props":3742,"children":3743},{"style":540},[3744],{"type":407,"value":2455},{"type":402,"tag":509,"props":3746,"children":3747},{"style":585},[3748],{"type":407,"value":588},{"type":402,"tag":509,"props":3750,"children":3751},{"style":540},[3752],{"type":407,"value":3668},{"type":402,"tag":509,"props":3754,"children":3755},{"style":673},[3756],{"type":407,"value":1019},{"type":402,"tag":509,"props":3758,"children":3759},{"style":585},[3760],{"type":407,"value":1350},{"type":402,"tag":509,"props":3762,"children":3764},{"class":511,"line":3763},30,[3765,3769,3773,3777,3781,3785,3790,3794,3798,3802],{"type":402,"tag":509,"props":3766,"children":3767},{"style":673},[3768],{"type":407,"value":3285},{"type":402,"tag":509,"props":3770,"children":3771},{"style":585},[3772],{"type":407,"value":1266},{"type":402,"tag":509,"props":3774,"children":3775},{"style":540},[3776],{"type":407,"value":2455},{"type":402,"tag":509,"props":3778,"children":3779},{"style":585},[3780],{"type":407,"value":588},{"type":402,"tag":509,"props":3782,"children":3783},{"style":540},[3784],{"type":407,"value":2821},{"type":402,"tag":509,"props":3786,"children":3787},{"style":528},[3788],{"type":407,"value":3789}," /",{"type":402,"tag":509,"props":3791,"children":3792},{"style":540},[3793],{"type":407,"value":2455},{"type":402,"tag":509,"props":3795,"children":3796},{"style":585},[3797],{"type":407,"value":588},{"type":402,"tag":509,"props":3799,"children":3800},{"style":540},[3801],{"type":407,"value":3668},{"type":402,"tag":509,"props":3803,"children":3804},{"style":585},[3805],{"type":407,"value":1350},{"type":402,"tag":509,"props":3807,"children":3809},{"class":511,"line":3808},31,[3810],{"type":402,"tag":509,"props":3811,"children":3812},{"style":585},[3813],{"type":407,"value":3507},{"type":402,"tag":509,"props":3815,"children":3817},{"class":511,"line":3816},32,[3818,3823],{"type":402,"tag":509,"props":3819,"children":3820},{"style":516},[3821],{"type":407,"value":3822},"  let",{"type":402,"tag":509,"props":3824,"children":3825},{"style":540},[3826],{"type":407,"value":3827}," gap\n",{"type":402,"tag":509,"props":3829,"children":3831},{"class":511,"line":3830},33,[3832,3837,3841,3846,3850,3854,3858,3863,3867,3871,3875,3879,3883,3887,3891,3895,3900,3904,3909,3914,3919,3923],{"type":402,"tag":509,"props":3833,"children":3834},{"style":654},[3835],{"type":407,"value":3836},"  while",{"type":402,"tag":509,"props":3838,"children":3839},{"style":673},[3840],{"type":407,"value":999},{"type":402,"tag":509,"props":3842,"children":3843},{"style":540},[3844],{"type":407,"value":3845},"gap",{"type":402,"tag":509,"props":3847,"children":3848},{"style":528},[3849],{"type":407,"value":531},{"type":402,"tag":509,"props":3851,"children":3852},{"style":540},[3853],{"type":407,"value":1900},{"type":402,"tag":509,"props":3855,"children":3856},{"style":585},[3857],{"type":407,"value":588},{"type":402,"tag":509,"props":3859,"children":3860},{"style":534},[3861],{"type":407,"value":3862},"abs",{"type":402,"tag":509,"props":3864,"children":3865},{"style":673},[3866],{"type":407,"value":3618},{"type":402,"tag":509,"props":3868,"children":3869},{"style":540},[3870],{"type":407,"value":3623},{"type":402,"tag":509,"props":3872,"children":3873},{"style":585},[3874],{"type":407,"value":588},{"type":402,"tag":509,"props":3876,"children":3877},{"style":540},[3878],{"type":407,"value":1945},{"type":402,"tag":509,"props":3880,"children":3881},{"style":528},[3882],{"type":407,"value":3139},{"type":402,"tag":509,"props":3884,"children":3885},{"style":540},[3886],{"type":407,"value":2390},{"type":402,"tag":509,"props":3888,"children":3889},{"style":585},[3890],{"type":407,"value":588},{"type":402,"tag":509,"props":3892,"children":3893},{"style":540},[3894],{"type":407,"value":1945},{"type":402,"tag":509,"props":3896,"children":3897},{"style":673},[3898],{"type":407,"value":3899},"))",{"type":402,"tag":509,"props":3901,"children":3902},{"style":585},[3903],{"type":407,"value":1009},{"type":402,"tag":509,"props":3905,"children":3906},{"style":540},[3907],{"type":407,"value":3908}," gap",{"type":402,"tag":509,"props":3910,"children":3911},{"style":528},[3912],{"type":407,"value":3913}," >",{"type":402,"tag":509,"props":3915,"children":3916},{"style":1482},[3917],{"type":407,"value":3918}," 0",{"type":402,"tag":509,"props":3920,"children":3921},{"style":673},[3922],{"type":407,"value":3129},{"type":402,"tag":509,"props":3924,"children":3925},{"style":585},[3926],{"type":407,"value":943},{"type":402,"tag":509,"props":3928,"children":3930},{"class":511,"line":3929},34,[3931,3936,3940,3944,3948,3952,3956],{"type":402,"tag":509,"props":3932,"children":3933},{"style":654},[3934],{"type":407,"value":3935},"    await",{"type":402,"tag":509,"props":3937,"children":3938},{"style":534},[3939],{"type":407,"value":2803},{"type":402,"tag":509,"props":3941,"children":3942},{"style":673},[3943],{"type":407,"value":543},{"type":402,"tag":509,"props":3945,"children":3946},{"style":540},[3947],{"type":407,"value":2812},{"type":402,"tag":509,"props":3949,"children":3950},{"style":585},[3951],{"type":407,"value":588},{"type":402,"tag":509,"props":3953,"children":3954},{"style":540},[3955],{"type":407,"value":2821},{"type":402,"tag":509,"props":3957,"children":3958},{"style":673},[3959],{"type":407,"value":564},{"type":402,"tag":509,"props":3961,"children":3963},{"class":511,"line":3962},35,[3964],{"type":402,"tag":509,"props":3965,"children":3966},{"style":956},[3967],{"type":407,"value":3968},"    // 最后一步就直接滑动到位，不需要随机数了\n",{"type":402,"tag":509,"props":3970,"children":3972},{"class":511,"line":3971},36,[3973,3978,3983,3987,3991,3995,3999,4003,4007,4011,4015,4019,4023,4027,4031,4035,4039,4043,4047,4051,4055,4059,4063,4067,4071],{"type":402,"tag":509,"props":3974,"children":3975},{"style":516},[3976],{"type":407,"value":3977},"    const",{"type":402,"tag":509,"props":3979,"children":3980},{"style":522},[3981],{"type":407,"value":3982}," inOneStep",{"type":402,"tag":509,"props":3984,"children":3985},{"style":528},[3986],{"type":407,"value":531},{"type":402,"tag":509,"props":3988,"children":3989},{"style":540},[3990],{"type":407,"value":1900},{"type":402,"tag":509,"props":3992,"children":3993},{"style":585},[3994],{"type":407,"value":588},{"type":402,"tag":509,"props":3996,"children":3997},{"style":534},[3998],{"type":407,"value":3862},{"type":402,"tag":509,"props":4000,"children":4001},{"style":673},[4002],{"type":407,"value":543},{"type":402,"tag":509,"props":4004,"children":4005},{"style":540},[4006],{"type":407,"value":3623},{"type":402,"tag":509,"props":4008,"children":4009},{"style":585},[4010],{"type":407,"value":588},{"type":402,"tag":509,"props":4012,"children":4013},{"style":540},[4014],{"type":407,"value":1945},{"type":402,"tag":509,"props":4016,"children":4017},{"style":528},[4018],{"type":407,"value":3139},{"type":402,"tag":509,"props":4020,"children":4021},{"style":540},[4022],{"type":407,"value":2390},{"type":402,"tag":509,"props":4024,"children":4025},{"style":585},[4026],{"type":407,"value":588},{"type":402,"tag":509,"props":4028,"children":4029},{"style":540},[4030],{"type":407,"value":1945},{"type":402,"tag":509,"props":4032,"children":4033},{"style":673},[4034],{"type":407,"value":3129},{"type":402,"tag":509,"props":4036,"children":4037},{"style":528},[4038],{"type":407,"value":933},{"type":402,"tag":509,"props":4040,"children":4041},{"style":540},[4042],{"type":407,"value":1900},{"type":402,"tag":509,"props":4044,"children":4045},{"style":585},[4046],{"type":407,"value":588},{"type":402,"tag":509,"props":4048,"children":4049},{"style":534},[4050],{"type":407,"value":3862},{"type":402,"tag":509,"props":4052,"children":4053},{"style":673},[4054],{"type":407,"value":543},{"type":402,"tag":509,"props":4056,"children":4057},{"style":540},[4058],{"type":407,"value":2812},{"type":402,"tag":509,"props":4060,"children":4061},{"style":585},[4062],{"type":407,"value":588},{"type":402,"tag":509,"props":4064,"children":4065},{"style":540},[4066],{"type":407,"value":1945},{"type":402,"tag":509,"props":4068,"children":4069},{"style":673},[4070],{"type":407,"value":1019},{"type":402,"tag":509,"props":4072,"children":4073},{"style":585},[4074],{"type":407,"value":1628},{"type":402,"tag":509,"props":4076,"children":4078},{"class":511,"line":4077},37,[4079,4084,4088,4093,4097],{"type":402,"tag":509,"props":4080,"children":4081},{"style":654},[4082],{"type":407,"value":4083},"    if",{"type":402,"tag":509,"props":4085,"children":4086},{"style":673},[4087],{"type":407,"value":999},{"type":402,"tag":509,"props":4089,"children":4090},{"style":540},[4091],{"type":407,"value":4092},"inOneStep",{"type":402,"tag":509,"props":4094,"children":4095},{"style":673},[4096],{"type":407,"value":3129},{"type":402,"tag":509,"props":4098,"children":4099},{"style":585},[4100],{"type":407,"value":943},{"type":402,"tag":509,"props":4102,"children":4104},{"class":511,"line":4103},38,[4105,4110,4114,4118,4122,4126,4130,4134],{"type":402,"tag":509,"props":4106,"children":4107},{"style":540},[4108],{"type":407,"value":4109},"      now",{"type":402,"tag":509,"props":4111,"children":4112},{"style":585},[4113],{"type":407,"value":588},{"type":402,"tag":509,"props":4115,"children":4116},{"style":540},[4117],{"type":407,"value":1945},{"type":402,"tag":509,"props":4119,"children":4120},{"style":528},[4121],{"type":407,"value":531},{"type":402,"tag":509,"props":4123,"children":4124},{"style":540},[4125],{"type":407,"value":2455},{"type":402,"tag":509,"props":4127,"children":4128},{"style":585},[4129],{"type":407,"value":588},{"type":402,"tag":509,"props":4131,"children":4132},{"style":540},[4133],{"type":407,"value":1945},{"type":402,"tag":509,"props":4135,"children":4136},{"style":585},[4137],{"type":407,"value":1628},{"type":402,"tag":509,"props":4139,"children":4141},{"class":511,"line":4140},39,[4142,4146,4150,4154,4158,4162,4166,4170],{"type":402,"tag":509,"props":4143,"children":4144},{"style":540},[4145],{"type":407,"value":4109},{"type":402,"tag":509,"props":4147,"children":4148},{"style":585},[4149],{"type":407,"value":588},{"type":402,"tag":509,"props":4151,"children":4152},{"style":540},[4153],{"type":407,"value":2874},{"type":402,"tag":509,"props":4155,"children":4156},{"style":528},[4157],{"type":407,"value":531},{"type":402,"tag":509,"props":4159,"children":4160},{"style":540},[4161],{"type":407,"value":2455},{"type":402,"tag":509,"props":4163,"children":4164},{"style":585},[4165],{"type":407,"value":588},{"type":402,"tag":509,"props":4167,"children":4168},{"style":540},[4169],{"type":407,"value":2874},{"type":402,"tag":509,"props":4171,"children":4172},{"style":585},[4173],{"type":407,"value":1628},{"type":402,"tag":509,"props":4175,"children":4177},{"class":511,"line":4176},40,[4178,4183,4188],{"type":402,"tag":509,"props":4179,"children":4180},{"style":585},[4181],{"type":407,"value":4182},"    }",{"type":402,"tag":509,"props":4184,"children":4185},{"style":654},[4186],{"type":407,"value":4187}," else",{"type":402,"tag":509,"props":4189,"children":4190},{"style":585},[4191],{"type":407,"value":633},{"type":402,"tag":509,"props":4193,"children":4195},{"class":511,"line":4194},41,[4196,4200,4204,4208,4212,4216,4220,4224,4228,4232,4236],{"type":402,"tag":509,"props":4197,"children":4198},{"style":540},[4199],{"type":407,"value":4109},{"type":402,"tag":509,"props":4201,"children":4202},{"style":585},[4203],{"type":407,"value":588},{"type":402,"tag":509,"props":4205,"children":4206},{"style":540},[4207],{"type":407,"value":1945},{"type":402,"tag":509,"props":4209,"children":4210},{"style":528},[4211],{"type":407,"value":1479},{"type":402,"tag":509,"props":4213,"children":4214},{"style":540},[4215],{"type":407,"value":2568},{"type":402,"tag":509,"props":4217,"children":4218},{"style":585},[4219],{"type":407,"value":588},{"type":402,"tag":509,"props":4221,"children":4222},{"style":540},[4223],{"type":407,"value":1945},{"type":402,"tag":509,"props":4225,"children":4226},{"style":528},[4227],{"type":407,"value":3318},{"type":402,"tag":509,"props":4229,"children":4230},{"style":534},[4231],{"type":407,"value":3010},{"type":402,"tag":509,"props":4233,"children":4234},{"style":673},[4235],{"type":407,"value":598},{"type":402,"tag":509,"props":4237,"children":4238},{"style":585},[4239],{"type":407,"value":1628},{"type":402,"tag":509,"props":4241,"children":4243},{"class":511,"line":4242},42,[4244,4248,4252,4256,4260,4264,4268,4272,4276,4280,4284],{"type":402,"tag":509,"props":4245,"children":4246},{"style":540},[4247],{"type":407,"value":4109},{"type":402,"tag":509,"props":4249,"children":4250},{"style":585},[4251],{"type":407,"value":588},{"type":402,"tag":509,"props":4253,"children":4254},{"style":540},[4255],{"type":407,"value":2874},{"type":402,"tag":509,"props":4257,"children":4258},{"style":528},[4259],{"type":407,"value":1479},{"type":402,"tag":509,"props":4261,"children":4262},{"style":540},[4263],{"type":407,"value":2568},{"type":402,"tag":509,"props":4265,"children":4266},{"style":585},[4267],{"type":407,"value":588},{"type":402,"tag":509,"props":4269,"children":4270},{"style":540},[4271],{"type":407,"value":2874},{"type":402,"tag":509,"props":4273,"children":4274},{"style":528},[4275],{"type":407,"value":3318},{"type":402,"tag":509,"props":4277,"children":4278},{"style":534},[4279],{"type":407,"value":3010},{"type":402,"tag":509,"props":4281,"children":4282},{"style":673},[4283],{"type":407,"value":598},{"type":402,"tag":509,"props":4285,"children":4286},{"style":585},[4287],{"type":407,"value":1628},{"type":402,"tag":509,"props":4289,"children":4291},{"class":511,"line":4290},43,[4292],{"type":402,"tag":509,"props":4293,"children":4294},{"style":585},[4295],{"type":407,"value":4296},"    }\n",{"type":402,"tag":509,"props":4298,"children":4300},{"class":511,"line":4299},44,[4301,4306,4310,4314],{"type":402,"tag":509,"props":4302,"children":4303},{"style":534},[4304],{"type":407,"value":4305},"    moveMouseTo",{"type":402,"tag":509,"props":4307,"children":4308},{"style":673},[4309],{"type":407,"value":543},{"type":402,"tag":509,"props":4311,"children":4312},{"style":540},[4313],{"type":407,"value":2929},{"type":402,"tag":509,"props":4315,"children":4316},{"style":673},[4317],{"type":407,"value":564},{"type":402,"tag":509,"props":4319,"children":4321},{"class":511,"line":4320},45,[4322],{"type":402,"tag":509,"props":4323,"children":4324},{"style":585},[4325],{"type":407,"value":3507},{"type":402,"tag":509,"props":4327,"children":4329},{"class":511,"line":4328},46,[4330],{"type":402,"tag":509,"props":4331,"children":4332},{"style":585},[4333],{"type":407,"value":1494},{"type":402,"tag":403,"props":4335,"children":4336},{},[4337],{"type":407,"value":4338},"如何移动鼠标到这里就解决了，如果要考虑加速度、用户习惯等因素，代码会复杂许多，暂时就不深入讨论啦，有兴趣的同学可以自己研究。",{"type":402,"tag":403,"props":4340,"children":4341},{},[4342],{"type":407,"value":4343},"最终效果见下图。",{"type":402,"tag":403,"props":4345,"children":4346},{},[4347],{"type":402,"tag":429,"props":4348,"children":4349},{"alt":431,"src":432},[],{"type":402,"tag":403,"props":4351,"children":4352},{},[4353,4355,4362],{"type":407,"value":4354},"源码地址在此：",{"type":402,"tag":410,"props":4356,"children":4359},{"href":4357,"rel":4358},"https://github.com/Lionad-Morotar/crack-the-shield/tree/master/tasks/dooring-slider",[414],[4360],{"type":407,"value":4361},"CrackTheShield",{"type":407,"value":831},{"type":402,"tag":435,"props":4364,"children":4366},{"id":4365},"阅读更多",[4367],{"type":407,"value":4365},{"type":402,"tag":2965,"props":4369,"children":4370},{},[4371,4383],{"type":402,"tag":456,"props":4372,"children":4373},{},[4374,4381],{"type":402,"tag":410,"props":4375,"children":4378},{"href":4376,"rel":4377},"https://juejin.cn/post/6945336161468416037",[414],[4379],{"type":407,"value":4380},"《Python爬虫的实际运用之：破解滑动验证码》",{"type":407,"value":4382},"，这个老哥用了图像边缘检测的方法来判断缺口所在位置。",{"type":402,"tag":456,"props":4384,"children":4385},{},[4386,4393],{"type":402,"tag":410,"props":4387,"children":4390},{"href":4388,"rel":4389},"https://juejin.cn/post/6844903679808520205",[414],[4391],{"type":407,"value":4392},"《震惊! 滑动验证码竟然能这样破解》",{"type":407,"value":4394},"，这个老哥用了一种看谁脸黑的办法来判断图片的缺口所在位置。",{"type":402,"tag":4396,"props":4397,"children":4400},"section",{"className":4398,"dataFootnotes":396},[4399],"footnotes",[4401,4408],{"type":402,"tag":435,"props":4402,"children":4405},{"className":4403,"id":825},[4404],"sr-only",[4406],{"type":407,"value":4407},"Footnotes",{"type":402,"tag":452,"props":4409,"children":4410},{},[4411],{"type":402,"tag":456,"props":4412,"children":4414},{"id":4413},"user-content-fn-alimagic",[4415,4422,4424],{"type":402,"tag":410,"props":4416,"children":4419},{"href":4417,"rel":4418},"https://vision.aliyun.com/experience/detail",[414],[4420],{"type":407,"value":4421},"测试地址",{"type":407,"value":4423}," ",{"type":402,"tag":410,"props":4425,"children":4430},{"href":4426,"ariaLabel":4427,"className":4428,"dataFootnoteBackref":396},"#user-content-fnref-alimagic","Back to reference 1",[4429],"data-footnote-backref",[4431],{"type":407,"value":4432},"↩",{"type":402,"tag":1057,"props":4434,"children":4435},{},[4436],{"type":407,"value":4437},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":396,"searchDepth":567,"depth":567,"links":4439},[4440,4447,4448],{"id":437,"depth":567,"text":437,"children":4441},[4442,4443,4444,4445,4446],{"id":443,"depth":577,"text":443},{"id":796,"depth":577,"text":796},{"id":1537,"depth":577,"text":1537},{"id":2350,"depth":577,"text":2350},{"id":2943,"depth":577,"text":2943},{"id":4365,"depth":567,"text":4365},{"id":825,"depth":567,"text":4407},"markdown","content:2.articles:1105.crack-the-slider.md","content","2.articles/1105.crack-the-slider.md","2.articles/1105.crack-the-slider","md",[4456,4458],{"_path":61,"title":60,"description":4457},"使用 element-plus 内的层级管理器可以解决多组件库间层级不统一的问题",{"_path":67,"title":66,"description":4459},"本文介绍了几种通过CSS实现的常见阴影效果如单侧投影、空心投影、投影动画、彩色阴影、长投影和倒影，以及尝试使用SVG模拟材质特性如粗糙度及光学效应如菲尼尔效应生成了几种特殊的纹理，最后通过一个CSS绘制真实书本案例介绍了实战中的一些细节。",1741604941587]