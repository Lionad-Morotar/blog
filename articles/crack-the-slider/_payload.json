[{"data":1,"prerenderedAt":4451},["ShallowReactive",2],{"navigation":3,"/articles/crack-the-slider":384,"/articles/crack-the-slider-surround":4446},[4,35,86,105,132,138,144,150,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":205,"_path":206},"正则表达式","/gists/eegex",{"title":208,"_path":209},"Emoji","/gists/emoji",{"title":211,"_path":212},"工程","/gists/engineering",{"title":214,"_path":215},"熵","/gists/entropy",{"title":217,"_path":218},"Environment","/gists/environment",{"title":220,"_path":221},"Erlang","/gists/erlang",{"title":223,"_path":224},"逃离塔克夫","/gists/escape-from-tarkov",{"title":226,"_path":227},"ESNext (ES6-ES11)","/gists/esnext",{"title":229,"_path":230},"Eval！","/gists/eval",{"title":232,"_path":233},"Flutter","/gists/flutter",{"title":235,"_path":236},"字体","/gists/font",{"title":238,"_path":239},"JS 函数式编程","/gists/functional",{"title":241,"_path":242},"游戏化","/gists/gamification",{"title":244,"_path":245},"Google C++ Standard","/gists/google-cpp-standard",{"title":247,"_path":248},"双向链接完全体","/gists/graph",{"title":250,"_path":251},"Hardwares","/gists/hardwares",{"title":253,"_path":254},"哈希冲突","/gists/hash-collision",{"title":256,"_path":257},"信息设计","/gists/information-design",{"title":259,"_path":260},"InstantPage","/gists/instant.page",{"title":262,"_path":263},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":265,"_path":266},"KVStore","/gists/key-value-db",{"title":268,"_path":269},"Kubernetes","/gists/kubernetes",{"title":271,"_path":272},"Makefile","/gists/makefile",{"title":274,"_path":275},"Markdown Inline Style","/gists/markdown-nice",{"title":277,"_path":278},"减小页面快照体积","/gists/minify-html",{"title":280,"_path":281},"mklink","/gists/mklink",{"title":283,"_path":284},"Mock","/gists/mock",{"title":286,"_path":287},"多人协作系统","/gists/multiplayer",{"title":289,"_path":290},"多端应用","/gists/multy-end-app",{"title":292,"_path":293},"神经科学","/gists/neuroscience",{"title":295,"_path":296},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":298,"_path":299},"PInvoke","/gists/pinvoke",{"title":301,"_path":302},"像素","/gists/pixel",{"title":304,"_path":305},"PowerShell","/gists/powershell",{"title":307,"_path":308},"量子","/gists/quantum",{"title":310,"_path":311},"保持好奇心","/gists/questions",{"title":313,"_path":314},"React Native","/gists/react-native",{"title":316,"_path":317},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":319,"_path":320},"SEO","/gists/seo",{"title":322,"_path":323},"Shader","/gists/shader",{"title":325,"_path":326},"Shape Up","/gists/shape-up",{"title":328,"_path":329},"睡觉","/gists/sleep",{"title":331,"_path":332},"记录奇怪的问题","/gists/solved",{"title":334,"_path":335},"States","/gists/states",{"title":337,"_path":338},"Storage","/gists/storage",{"title":340,"_path":341},"音视频流处理","/gists/stream-cli",{"title":343,"_path":344},"Symbol","/gists/symbol",{"title":346,"_path":347},"系统论","/gists/systems-theory",{"title":349,"_path":350},"任务切片","/gists/task-slice",{"title":352,"_path":353},"技术偏好","/gists/tech-dudge",{"title":355,"_path":356},"Untitled","/gists/untitled",{"title":358,"_path":359},"可变字体","/gists/variable-font",{"title":361,"_path":362},"视觉错觉","/gists/visual-illusion",{"title":364,"_path":365},"SS(SSR)","/gists/vpn",{"title":367,"_path":368},"VS Code 插件开发","/gists/vscode-plugin",{"title":370,"_path":371},"Web Components","/gists/web-components",{"title":373,"_path":374},"Windows","/gists/windows",{"title":376,"_path":377},"查缺补漏","/gists/wrong",{"title":379,"_path":380,"children":381},"我 / About","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"_path":64,"_dir":385,"_draft":386,"_partial":386,"_locale":387,"title":63,"description":388,"body":389,"_type":4440,"_id":4441,"_source":4442,"_file":4443,"_stem":4444,"_extension":4445},"articles",false,"","如何破解滑块验证码？本文介绍使用Puppeteer操作浏览器进行图片对比、图片识别及优化鼠标轨迹以模仿真是用户等几种简单爬虫验证码破解思路，适用多种场景。",{"type":390,"children":391,"toc":4429},"root",[392,411,416,425,431,437,442,462,476,488,724,732,737,742,775,780,785,790,795,803,823,831,843,851,856,864,869,890,895,900,1486,1494,1508,1516,1521,1526,1531,1536,1541,1559,1564,1569,1859,1864,2329,2334,2339,2344,2349,2363,2932,2937,2942,2947,2955,2969,2974,4325,4330,4335,4341,4354,4359,4386,4424],{"type":393,"tag":394,"props":395,"children":396},"element","p",{},[397,400,409],{"type":398,"value":399},"text","昨天在掘金看到推荐文章",{"type":393,"tag":401,"props":402,"children":406},"a",{"href":403,"rel":404},"https://juejin.cn/post/7007615666609979400",[405],"nofollow",[407],{"type":398,"value":408},"《从零开发一款轻量级滑动验证码插件》",{"type":398,"value":410},"，介绍了一些相关验证码及框架开发的知识点。巧的是就在前两周，我们公司举办了一个爬虫攻防赛，其中用到多种爬虫验证的破解方法，之一就是滑块验证码。",{"type":393,"tag":394,"props":412,"children":413},{},[414],{"type":398,"value":415},"今天在这篇文章里给大家介绍一下怎么使用 JS 破解滑块验证码。",{"type":393,"tag":394,"props":417,"children":418},{},[419],{"type":393,"tag":420,"props":421,"children":424},"img",{"alt":422,"src":423},"最终效果（加速）","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/73ba97c7435f.gif",[],{"type":393,"tag":426,"props":427,"children":429},"h2",{"id":428},"思路讲解",[430],{"type":398,"value":428},{"type":393,"tag":432,"props":433,"children":435},"h3",{"id":434},"操作浏览器打开页面",[436],{"type":398,"value":434},{"type":393,"tag":394,"props":438,"children":439},{},[440],{"type":398,"value":441},"滑块验证码是滑动验证码的一种，生成流程至少包含三步：",{"type":393,"tag":443,"props":444,"children":445},"ol",{},[446,452,457],{"type":393,"tag":447,"props":448,"children":449},"li",{},[450],{"type":398,"value":451},"根据用户标识，从后台获得验证码图片",{"type":393,"tag":447,"props":453,"children":454},{},[455],{"type":398,"value":456},"监听鼠标事件并回传后台",{"type":393,"tag":447,"props":458,"children":459},{},[460],{"type":398,"value":461},"后台判断事件的真伪，回传验证结果",{"type":393,"tag":394,"props":463,"children":464},{},[465,467,474],{"type":398,"value":466},"无论生成机制的细节如何，滑块终究是要展示在页面上的。直接用 HTTP Request 把页面 HTML 请求下来肯定不行，这里我们需要使用 Puppeteer 打开网页进行渲染。测试页面就以 ",{"type":393,"tag":401,"props":468,"children":471},{"href":469,"rel":470},"http://h5.dooring.cn/slider-vertify",[405],[472],{"type":398,"value":473},"react-slider-vertify",{"type":398,"value":475}," 的官网为例。",{"type":393,"tag":394,"props":477,"children":478},{},[479,486],{"type":393,"tag":401,"props":480,"children":483},{"href":481,"rel":482},"http://puppeteerjs.com/",[405],[484],{"type":398,"value":485},"Puppeteer",{"type":398,"value":487}," 是一个通过 DevTools 协议来控制浏览器行为的库，只需编写不多的代码，就可以操作真实的浏览器搞定诸如爬虫、自动化测试、网页性能分析、浏览器扩展测试等功能。使用起来比较方便，文档齐全。根据文档，打开页面前需要启动一个浏览器实例，然后调用 newPage 方法创建一个新页面。核心代码如下。",{"type":393,"tag":489,"props":490,"children":494},"pre",{"className":491,"code":492,"language":493,"meta":387,"style":387},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async browser => {\n  const page = await browser.newPage()\n  await page.goto('http://h5.dooring.cn/slider-vertify/vertify')\n})\n","js",[495],{"type":393,"tag":496,"props":497,"children":498},"code",{"__ignoreMap":387},[499,556,566,625,668,711],{"type":393,"tag":500,"props":501,"children":504},"span",{"class":502,"line":503},"line",1,[505,511,517,523,529,535,541,547,551],{"type":393,"tag":500,"props":506,"children":508},{"style":507},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[509],{"type":398,"value":510},"const",{"type":393,"tag":500,"props":512,"children":514},{"style":513},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[515],{"type":398,"value":516}," puppeteer",{"type":393,"tag":500,"props":518,"children":520},{"style":519},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[521],{"type":398,"value":522}," =",{"type":393,"tag":500,"props":524,"children":526},{"style":525},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[527],{"type":398,"value":528}," require",{"type":393,"tag":500,"props":530,"children":532},{"style":531},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[533],{"type":398,"value":534},"(",{"type":393,"tag":500,"props":536,"children":538},{"style":537},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[539],{"type":398,"value":540},"'",{"type":393,"tag":500,"props":542,"children":544},{"style":543},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[545],{"type":398,"value":546},"puppeteer",{"type":393,"tag":500,"props":548,"children":549},{"style":537},[550],{"type":398,"value":540},{"type":393,"tag":500,"props":552,"children":553},{"style":531},[554],{"type":398,"value":555},")\n",{"type":393,"tag":500,"props":557,"children":559},{"class":502,"line":558},2,[560],{"type":393,"tag":500,"props":561,"children":563},{"emptyLinePlaceholder":562},true,[564],{"type":398,"value":565},"\n",{"type":393,"tag":500,"props":567,"children":569},{"class":502,"line":568},3,[570,574,580,585,590,594,599,603,609,615,620],{"type":393,"tag":500,"props":571,"children":572},{"style":531},[573],{"type":398,"value":546},{"type":393,"tag":500,"props":575,"children":577},{"style":576},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[578],{"type":398,"value":579},".",{"type":393,"tag":500,"props":581,"children":582},{"style":525},[583],{"type":398,"value":584},"launch",{"type":393,"tag":500,"props":586,"children":587},{"style":531},[588],{"type":398,"value":589},"()",{"type":393,"tag":500,"props":591,"children":592},{"style":576},[593],{"type":398,"value":579},{"type":393,"tag":500,"props":595,"children":596},{"style":525},[597],{"type":398,"value":598},"then",{"type":393,"tag":500,"props":600,"children":601},{"style":531},[602],{"type":398,"value":534},{"type":393,"tag":500,"props":604,"children":606},{"style":605},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[607],{"type":398,"value":608},"async",{"type":393,"tag":500,"props":610,"children":612},{"style":611},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[613],{"type":398,"value":614}," browser",{"type":393,"tag":500,"props":616,"children":617},{"style":507},[618],{"type":398,"value":619}," =>",{"type":393,"tag":500,"props":621,"children":622},{"style":576},[623],{"type":398,"value":624}," {\n",{"type":393,"tag":500,"props":626,"children":628},{"class":502,"line":627},4,[629,634,639,643,649,653,657,662],{"type":393,"tag":500,"props":630,"children":631},{"style":507},[632],{"type":398,"value":633},"  const",{"type":393,"tag":500,"props":635,"children":636},{"style":513},[637],{"type":398,"value":638}," page",{"type":393,"tag":500,"props":640,"children":641},{"style":519},[642],{"type":398,"value":522},{"type":393,"tag":500,"props":644,"children":646},{"style":645},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[647],{"type":398,"value":648}," await",{"type":393,"tag":500,"props":650,"children":651},{"style":531},[652],{"type":398,"value":614},{"type":393,"tag":500,"props":654,"children":655},{"style":576},[656],{"type":398,"value":579},{"type":393,"tag":500,"props":658,"children":659},{"style":525},[660],{"type":398,"value":661},"newPage",{"type":393,"tag":500,"props":663,"children":665},{"style":664},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[666],{"type":398,"value":667},"()\n",{"type":393,"tag":500,"props":669,"children":671},{"class":502,"line":670},5,[672,677,681,685,690,694,698,703,707],{"type":393,"tag":500,"props":673,"children":674},{"style":645},[675],{"type":398,"value":676},"  await",{"type":393,"tag":500,"props":678,"children":679},{"style":531},[680],{"type":398,"value":638},{"type":393,"tag":500,"props":682,"children":683},{"style":576},[684],{"type":398,"value":579},{"type":393,"tag":500,"props":686,"children":687},{"style":525},[688],{"type":398,"value":689},"goto",{"type":393,"tag":500,"props":691,"children":692},{"style":664},[693],{"type":398,"value":534},{"type":393,"tag":500,"props":695,"children":696},{"style":537},[697],{"type":398,"value":540},{"type":393,"tag":500,"props":699,"children":700},{"style":543},[701],{"type":398,"value":702},"http://h5.dooring.cn/slider-vertify/vertify",{"type":393,"tag":500,"props":704,"children":705},{"style":537},[706],{"type":398,"value":540},{"type":393,"tag":500,"props":708,"children":709},{"style":664},[710],{"type":398,"value":555},{"type":393,"tag":500,"props":712,"children":714},{"class":502,"line":713},6,[715,720],{"type":393,"tag":500,"props":716,"children":717},{"style":576},[718],{"type":398,"value":719},"}",{"type":393,"tag":500,"props":721,"children":722},{"style":531},[723],{"type":398,"value":555},{"type":393,"tag":394,"props":725,"children":726},{},[727],{"type":393,"tag":420,"props":728,"children":731},{"alt":729,"src":730},"打开页面测试","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/jpoVF4UbuI.gif",[],{"type":393,"tag":394,"props":733,"children":734},{},[735],{"type":398,"value":736},"正常浏览网页时，很少会碰到滑块验证，因为它的路径非常长，会需要浪费用户好一会儿时间。虽然文案上给你显示“恭喜 0.9s 打败了 99% 的用户”，但从前置脚本请求，到加载图片，用户滑动滑块，到回传验证...前前后后的步骤加起来可能花了你 9s 不止。本质上它是防御性的手段，一般当服务器限流，或者服务器已经怀疑你是爬虫的时候，才会让它跳出来要求做进一步验证。所以一般来说，爬虫代码可以默认忽略滑块验证的，不过本文代码我们就假定默认验证码一定存在吧。",{"type":393,"tag":394,"props":738,"children":739},{},[740],{"type":398,"value":741},"接下来，分析一下用户行为。解决滑块验证，无非就是先判断一下缺口的位置，然后移动鼠标。这里进一步可以细分为鼠标的点击事件和鼠标移动事件两种。代码逻辑大致如下。",{"type":393,"tag":443,"props":743,"children":744},{},[745,750,755,760,765,770],{"type":393,"tag":447,"props":746,"children":747},{},[748],{"type":398,"value":749},"等待验证码图片加载完毕",{"type":393,"tag":447,"props":751,"children":752},{},[753],{"type":398,"value":754},"移动鼠标到滑块位置",{"type":393,"tag":447,"props":756,"children":757},{},[758],{"type":398,"value":759},"按下鼠标",{"type":393,"tag":447,"props":761,"children":762},{},[763],{"type":398,"value":764},"移动鼠标到缺口位置",{"type":393,"tag":447,"props":766,"children":767},{},[768],{"type":398,"value":769},"松开鼠标",{"type":393,"tag":447,"props":771,"children":772},{},[773],{"type":398,"value":774},"等待结果返回",{"type":393,"tag":394,"props":776,"children":777},{},[778],{"type":398,"value":779},"啊，流程我都知道，可问题就在，怎么判断要把鼠标移动到哪里？服务器端返回的是一张带缺口的图片，缺口位置指定是不通过接口传递的。",{"type":393,"tag":394,"props":781,"children":782},{},[783],{"type":398,"value":784},"可能还有些同学会问，怎么移动鼠标呢？如果我一次性就把滑块给移到指定位置了，那服务器不是会立马把我标记为爬虫嘛... 这两个问题我逐一解答。",{"type":393,"tag":432,"props":786,"children":788},{"id":787},"判断缺口位置",[789],{"type":398,"value":787},{"type":393,"tag":394,"props":791,"children":792},{},[793],{"type":398,"value":794},"要分析缺口的位置，我们必须先知道这个缺口是怎么画上去的。打开控制台初步检查可以发现，页面从服务器先拿到了一张完整的图片，然后缺口位置是通过 JS 随机生成的。啊这...这...这是因为我们用的测试页面是文档页，大家不必在意这些安全方面的小细节。",{"type":393,"tag":394,"props":796,"children":797},{},[798],{"type":393,"tag":420,"props":799,"children":802},{"alt":800,"src":801},"找到请求","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918184414.png?type=win11",[],{"type":393,"tag":394,"props":804,"children":805},{},[806,808,821],{"type":398,"value":807},"接着刚才的思路继续，既然缺口是从原图中挖的一个洞，那么我们只需要识别一下图片中洞的位置就好了。比较简单的方案是使用第三方的图像识别技术（或相关技术），把图片上传至第三方，就直接拿到缺口位置的相对坐标。下图给大家展示一下阿里云的图像分割的效果",{"type":393,"tag":809,"props":810,"children":811},"sup",{},[812],{"type":393,"tag":401,"props":813,"children":818},{"href":814,"ariaDescribedBy":815,"dataFootnoteRef":387,"id":817},"#user-content-fn-alimagic",[816],"footnote-label","user-content-fnref-alimagic",[819],{"type":398,"value":820},"1",{"type":398,"value":822},"。",{"type":393,"tag":394,"props":824,"children":825},{},[826],{"type":393,"tag":420,"props":827,"children":830},{"alt":828,"src":829},"阿里云图像分割","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/itLO6bbCMH.gif",[],{"type":393,"tag":394,"props":832,"children":833},{},[834,836,842],{"type":398,"value":835},"如果想做一个效果稳定一点的验证码破解工具，我建议大家还是用自己的模型，或者自己写算法。一来是第三方要的钱钱不少哇~ 再就是这种图像识别并不是专门为验证码训练的，所以放到爬虫中还不太成熟，",{"type":393,"tag":837,"props":838,"children":839},"strong",{},[840],{"type":398,"value":841},"一旦背景图片复杂，识别率下降得老快了",{"type":398,"value":822},{"type":393,"tag":394,"props":844,"children":845},{},[846],{"type":393,"tag":420,"props":847,"children":850},{"alt":848,"src":849},"百度云图像主体识别","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918191220.png",[],{"type":393,"tag":394,"props":852,"children":853},{},[854],{"type":398,"value":855},"以下介绍一种新思路。反正我们已经有一张完整的图片了，那就只要不断地滑动滑块，把结果和原图比对就行。理论上，只要滑倒差不多“那个点”，肉眼看起来不会有很大的违和感时，就搞定了。比如下面这张图。",{"type":393,"tag":394,"props":857,"children":858},{},[859],{"type":393,"tag":420,"props":860,"children":863},{"alt":861,"src":862},"和原图进行比对","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918192111.png",[],{"type":393,"tag":394,"props":865,"children":866},{},[867],{"type":398,"value":868},"截图嘛可以直接用 Pupeteer 的截图功能，它提供了对应的 API，可以精准的截出特定元素。",{"type":393,"tag":394,"props":870,"children":871},{},[872,874,879,881,888],{"type":398,"value":873},"至于图片比对，其实就是给图片初步处理后，两张图一个像素一个像素的去比较。",{"type":393,"tag":837,"props":875,"children":876},{},[877],{"type":398,"value":878},"两个像素如果颜色差异超过阈值，就认为这是两个不相同的像素",{"type":398,"value":880},"。简便起见，我们直接用开源库 ",{"type":393,"tag":401,"props":882,"children":885},{"href":883,"rel":884},"https://github.com/imgly/rembrandt",[405],[886],{"type":398,"value":887},"rembrandt",{"type":398,"value":889},"，它会给我们返回两张图片间的差异。",{"type":393,"tag":394,"props":891,"children":892},{},[893],{"type":398,"value":894},"最后是滑动滑块，既然要模拟人肉操作，那么操作 CSS，用绝对定位，把滑块一个像素一个像素的向右移；每移动一次，把图像比对的结果记录下来。",{"type":393,"tag":394,"props":896,"children":897},{},[898],{"type":398,"value":899},"以上三个流程的核心代码非常简单，只需要以下几行：",{"type":393,"tag":489,"props":901,"children":903},{"className":491,"code":902,"language":493,"meta":387,"style":387},"while (left \u003C= maxOffset) {\n\n  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n\n  await page.evaluate(async ($sliderFloat, left) => {\n    $sliderFloat.setAttribute('style', `left: ${left}px`)\n  }, $sliderFloat, left)\n\n  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n\n  const $panel = await page.$('#Vertify-demo-4 .canvasArea')\n  const panelImgBase64 = await $panel.screenshot({\n    type: 'jpeg'\n  })\n  const compareRes = await rembrandt({\n    imageA: panelImgBase64,\n    imageB: rawImage\n  })\n  results.push({\n    left,\n    diff: compareRes.differences\n  })\n\n  left += 1\n}\n",[904],{"type":393,"tag":496,"props":905,"children":906},{"__ignoreMap":387},[907,935,942,951,958,1019,1096,1122,1130,1139,1147,1202,1244,1273,1286,1320,1342,1360,1372,1398,1411,1437,1449,1457,1477],{"type":393,"tag":500,"props":908,"children":909},{"class":502,"line":503},[910,915,920,925,930],{"type":393,"tag":500,"props":911,"children":912},{"style":645},[913],{"type":398,"value":914},"while",{"type":393,"tag":500,"props":916,"children":917},{"style":531},[918],{"type":398,"value":919}," (left ",{"type":393,"tag":500,"props":921,"children":922},{"style":519},[923],{"type":398,"value":924},"\u003C=",{"type":393,"tag":500,"props":926,"children":927},{"style":531},[928],{"type":398,"value":929}," maxOffset) ",{"type":393,"tag":500,"props":931,"children":932},{"style":576},[933],{"type":398,"value":934},"{\n",{"type":393,"tag":500,"props":936,"children":937},{"class":502,"line":558},[938],{"type":393,"tag":500,"props":939,"children":940},{"emptyLinePlaceholder":562},[941],{"type":398,"value":565},{"type":393,"tag":500,"props":943,"children":944},{"class":502,"line":568},[945],{"type":393,"tag":500,"props":946,"children":948},{"style":947},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[949],{"type":398,"value":950},"  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n",{"type":393,"tag":500,"props":952,"children":953},{"class":502,"line":627},[954],{"type":393,"tag":500,"props":955,"children":956},{"emptyLinePlaceholder":562},[957],{"type":398,"value":565},{"type":393,"tag":500,"props":959,"children":960},{"class":502,"line":670},[961,965,969,973,978,982,986,991,996,1001,1006,1011,1015],{"type":393,"tag":500,"props":962,"children":963},{"style":645},[964],{"type":398,"value":676},{"type":393,"tag":500,"props":966,"children":967},{"style":531},[968],{"type":398,"value":638},{"type":393,"tag":500,"props":970,"children":971},{"style":576},[972],{"type":398,"value":579},{"type":393,"tag":500,"props":974,"children":975},{"style":525},[976],{"type":398,"value":977},"evaluate",{"type":393,"tag":500,"props":979,"children":980},{"style":664},[981],{"type":398,"value":534},{"type":393,"tag":500,"props":983,"children":984},{"style":605},[985],{"type":398,"value":608},{"type":393,"tag":500,"props":987,"children":988},{"style":576},[989],{"type":398,"value":990}," (",{"type":393,"tag":500,"props":992,"children":993},{"style":611},[994],{"type":398,"value":995},"$sliderFloat",{"type":393,"tag":500,"props":997,"children":998},{"style":576},[999],{"type":398,"value":1000},",",{"type":393,"tag":500,"props":1002,"children":1003},{"style":611},[1004],{"type":398,"value":1005}," left",{"type":393,"tag":500,"props":1007,"children":1008},{"style":576},[1009],{"type":398,"value":1010},")",{"type":393,"tag":500,"props":1012,"children":1013},{"style":507},[1014],{"type":398,"value":619},{"type":393,"tag":500,"props":1016,"children":1017},{"style":576},[1018],{"type":398,"value":624},{"type":393,"tag":500,"props":1020,"children":1021},{"class":502,"line":713},[1022,1027,1031,1036,1040,1044,1049,1053,1057,1062,1067,1073,1078,1082,1087,1092],{"type":393,"tag":500,"props":1023,"children":1024},{"style":531},[1025],{"type":398,"value":1026},"    $sliderFloat",{"type":393,"tag":500,"props":1028,"children":1029},{"style":576},[1030],{"type":398,"value":579},{"type":393,"tag":500,"props":1032,"children":1033},{"style":525},[1034],{"type":398,"value":1035},"setAttribute",{"type":393,"tag":500,"props":1037,"children":1038},{"style":664},[1039],{"type":398,"value":534},{"type":393,"tag":500,"props":1041,"children":1042},{"style":537},[1043],{"type":398,"value":540},{"type":393,"tag":500,"props":1045,"children":1046},{"style":543},[1047],{"type":398,"value":1048},"style",{"type":393,"tag":500,"props":1050,"children":1051},{"style":537},[1052],{"type":398,"value":540},{"type":393,"tag":500,"props":1054,"children":1055},{"style":576},[1056],{"type":398,"value":1000},{"type":393,"tag":500,"props":1058,"children":1059},{"style":537},[1060],{"type":398,"value":1061}," `",{"type":393,"tag":500,"props":1063,"children":1064},{"style":543},[1065],{"type":398,"value":1066},"left: ",{"type":393,"tag":500,"props":1068,"children":1070},{"style":1069},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1071],{"type":398,"value":1072},"${",{"type":393,"tag":500,"props":1074,"children":1075},{"style":531},[1076],{"type":398,"value":1077},"left",{"type":393,"tag":500,"props":1079,"children":1080},{"style":1069},[1081],{"type":398,"value":719},{"type":393,"tag":500,"props":1083,"children":1084},{"style":543},[1085],{"type":398,"value":1086},"px",{"type":393,"tag":500,"props":1088,"children":1089},{"style":537},[1090],{"type":398,"value":1091},"`",{"type":393,"tag":500,"props":1093,"children":1094},{"style":664},[1095],{"type":398,"value":555},{"type":393,"tag":500,"props":1097,"children":1099},{"class":502,"line":1098},7,[1100,1105,1110,1114,1118],{"type":393,"tag":500,"props":1101,"children":1102},{"style":576},[1103],{"type":398,"value":1104},"  },",{"type":393,"tag":500,"props":1106,"children":1107},{"style":531},[1108],{"type":398,"value":1109}," $sliderFloat",{"type":393,"tag":500,"props":1111,"children":1112},{"style":576},[1113],{"type":398,"value":1000},{"type":393,"tag":500,"props":1115,"children":1116},{"style":531},[1117],{"type":398,"value":1005},{"type":393,"tag":500,"props":1119,"children":1120},{"style":664},[1121],{"type":398,"value":555},{"type":393,"tag":500,"props":1123,"children":1125},{"class":502,"line":1124},8,[1126],{"type":393,"tag":500,"props":1127,"children":1128},{"emptyLinePlaceholder":562},[1129],{"type":398,"value":565},{"type":393,"tag":500,"props":1131,"children":1133},{"class":502,"line":1132},9,[1134],{"type":393,"tag":500,"props":1135,"children":1136},{"style":947},[1137],{"type":398,"value":1138},"  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n",{"type":393,"tag":500,"props":1140,"children":1142},{"class":502,"line":1141},10,[1143],{"type":393,"tag":500,"props":1144,"children":1145},{"emptyLinePlaceholder":562},[1146],{"type":398,"value":565},{"type":393,"tag":500,"props":1148,"children":1150},{"class":502,"line":1149},11,[1151,1155,1160,1164,1168,1172,1176,1181,1185,1189,1194,1198],{"type":393,"tag":500,"props":1152,"children":1153},{"style":507},[1154],{"type":398,"value":633},{"type":393,"tag":500,"props":1156,"children":1157},{"style":513},[1158],{"type":398,"value":1159}," $panel",{"type":393,"tag":500,"props":1161,"children":1162},{"style":519},[1163],{"type":398,"value":522},{"type":393,"tag":500,"props":1165,"children":1166},{"style":645},[1167],{"type":398,"value":648},{"type":393,"tag":500,"props":1169,"children":1170},{"style":531},[1171],{"type":398,"value":638},{"type":393,"tag":500,"props":1173,"children":1174},{"style":576},[1175],{"type":398,"value":579},{"type":393,"tag":500,"props":1177,"children":1178},{"style":525},[1179],{"type":398,"value":1180},"$",{"type":393,"tag":500,"props":1182,"children":1183},{"style":664},[1184],{"type":398,"value":534},{"type":393,"tag":500,"props":1186,"children":1187},{"style":537},[1188],{"type":398,"value":540},{"type":393,"tag":500,"props":1190,"children":1191},{"style":543},[1192],{"type":398,"value":1193},"#Vertify-demo-4 .canvasArea",{"type":393,"tag":500,"props":1195,"children":1196},{"style":537},[1197],{"type":398,"value":540},{"type":393,"tag":500,"props":1199,"children":1200},{"style":664},[1201],{"type":398,"value":555},{"type":393,"tag":500,"props":1203,"children":1205},{"class":502,"line":1204},12,[1206,1210,1215,1219,1223,1227,1231,1236,1240],{"type":393,"tag":500,"props":1207,"children":1208},{"style":507},[1209],{"type":398,"value":633},{"type":393,"tag":500,"props":1211,"children":1212},{"style":513},[1213],{"type":398,"value":1214}," panelImgBase64",{"type":393,"tag":500,"props":1216,"children":1217},{"style":519},[1218],{"type":398,"value":522},{"type":393,"tag":500,"props":1220,"children":1221},{"style":645},[1222],{"type":398,"value":648},{"type":393,"tag":500,"props":1224,"children":1225},{"style":531},[1226],{"type":398,"value":1159},{"type":393,"tag":500,"props":1228,"children":1229},{"style":576},[1230],{"type":398,"value":579},{"type":393,"tag":500,"props":1232,"children":1233},{"style":525},[1234],{"type":398,"value":1235},"screenshot",{"type":393,"tag":500,"props":1237,"children":1238},{"style":664},[1239],{"type":398,"value":534},{"type":393,"tag":500,"props":1241,"children":1242},{"style":576},[1243],{"type":398,"value":934},{"type":393,"tag":500,"props":1245,"children":1247},{"class":502,"line":1246},13,[1248,1253,1258,1263,1268],{"type":393,"tag":500,"props":1249,"children":1250},{"style":664},[1251],{"type":398,"value":1252},"    type",{"type":393,"tag":500,"props":1254,"children":1255},{"style":576},[1256],{"type":398,"value":1257},":",{"type":393,"tag":500,"props":1259,"children":1260},{"style":537},[1261],{"type":398,"value":1262}," '",{"type":393,"tag":500,"props":1264,"children":1265},{"style":543},[1266],{"type":398,"value":1267},"jpeg",{"type":393,"tag":500,"props":1269,"children":1270},{"style":537},[1271],{"type":398,"value":1272},"'\n",{"type":393,"tag":500,"props":1274,"children":1276},{"class":502,"line":1275},14,[1277,1282],{"type":393,"tag":500,"props":1278,"children":1279},{"style":576},[1280],{"type":398,"value":1281},"  }",{"type":393,"tag":500,"props":1283,"children":1284},{"style":664},[1285],{"type":398,"value":555},{"type":393,"tag":500,"props":1287,"children":1289},{"class":502,"line":1288},15,[1290,1294,1299,1303,1307,1312,1316],{"type":393,"tag":500,"props":1291,"children":1292},{"style":507},[1293],{"type":398,"value":633},{"type":393,"tag":500,"props":1295,"children":1296},{"style":513},[1297],{"type":398,"value":1298}," compareRes",{"type":393,"tag":500,"props":1300,"children":1301},{"style":519},[1302],{"type":398,"value":522},{"type":393,"tag":500,"props":1304,"children":1305},{"style":645},[1306],{"type":398,"value":648},{"type":393,"tag":500,"props":1308,"children":1309},{"style":525},[1310],{"type":398,"value":1311}," rembrandt",{"type":393,"tag":500,"props":1313,"children":1314},{"style":664},[1315],{"type":398,"value":534},{"type":393,"tag":500,"props":1317,"children":1318},{"style":576},[1319],{"type":398,"value":934},{"type":393,"tag":500,"props":1321,"children":1323},{"class":502,"line":1322},16,[1324,1329,1333,1337],{"type":393,"tag":500,"props":1325,"children":1326},{"style":664},[1327],{"type":398,"value":1328},"    imageA",{"type":393,"tag":500,"props":1330,"children":1331},{"style":576},[1332],{"type":398,"value":1257},{"type":393,"tag":500,"props":1334,"children":1335},{"style":531},[1336],{"type":398,"value":1214},{"type":393,"tag":500,"props":1338,"children":1339},{"style":576},[1340],{"type":398,"value":1341},",\n",{"type":393,"tag":500,"props":1343,"children":1345},{"class":502,"line":1344},17,[1346,1351,1355],{"type":393,"tag":500,"props":1347,"children":1348},{"style":664},[1349],{"type":398,"value":1350},"    imageB",{"type":393,"tag":500,"props":1352,"children":1353},{"style":576},[1354],{"type":398,"value":1257},{"type":393,"tag":500,"props":1356,"children":1357},{"style":531},[1358],{"type":398,"value":1359}," rawImage\n",{"type":393,"tag":500,"props":1361,"children":1363},{"class":502,"line":1362},18,[1364,1368],{"type":393,"tag":500,"props":1365,"children":1366},{"style":576},[1367],{"type":398,"value":1281},{"type":393,"tag":500,"props":1369,"children":1370},{"style":664},[1371],{"type":398,"value":555},{"type":393,"tag":500,"props":1373,"children":1375},{"class":502,"line":1374},19,[1376,1381,1385,1390,1394],{"type":393,"tag":500,"props":1377,"children":1378},{"style":531},[1379],{"type":398,"value":1380},"  results",{"type":393,"tag":500,"props":1382,"children":1383},{"style":576},[1384],{"type":398,"value":579},{"type":393,"tag":500,"props":1386,"children":1387},{"style":525},[1388],{"type":398,"value":1389},"push",{"type":393,"tag":500,"props":1391,"children":1392},{"style":664},[1393],{"type":398,"value":534},{"type":393,"tag":500,"props":1395,"children":1396},{"style":576},[1397],{"type":398,"value":934},{"type":393,"tag":500,"props":1399,"children":1401},{"class":502,"line":1400},20,[1402,1407],{"type":393,"tag":500,"props":1403,"children":1404},{"style":531},[1405],{"type":398,"value":1406},"    left",{"type":393,"tag":500,"props":1408,"children":1409},{"style":576},[1410],{"type":398,"value":1341},{"type":393,"tag":500,"props":1412,"children":1414},{"class":502,"line":1413},21,[1415,1420,1424,1428,1432],{"type":393,"tag":500,"props":1416,"children":1417},{"style":664},[1418],{"type":398,"value":1419},"    diff",{"type":393,"tag":500,"props":1421,"children":1422},{"style":576},[1423],{"type":398,"value":1257},{"type":393,"tag":500,"props":1425,"children":1426},{"style":531},[1427],{"type":398,"value":1298},{"type":393,"tag":500,"props":1429,"children":1430},{"style":576},[1431],{"type":398,"value":579},{"type":393,"tag":500,"props":1433,"children":1434},{"style":531},[1435],{"type":398,"value":1436},"differences\n",{"type":393,"tag":500,"props":1438,"children":1440},{"class":502,"line":1439},22,[1441,1445],{"type":393,"tag":500,"props":1442,"children":1443},{"style":576},[1444],{"type":398,"value":1281},{"type":393,"tag":500,"props":1446,"children":1447},{"style":664},[1448],{"type":398,"value":555},{"type":393,"tag":500,"props":1450,"children":1452},{"class":502,"line":1451},23,[1453],{"type":393,"tag":500,"props":1454,"children":1455},{"emptyLinePlaceholder":562},[1456],{"type":398,"value":565},{"type":393,"tag":500,"props":1458,"children":1460},{"class":502,"line":1459},24,[1461,1466,1471],{"type":393,"tag":500,"props":1462,"children":1463},{"style":531},[1464],{"type":398,"value":1465},"  left",{"type":393,"tag":500,"props":1467,"children":1468},{"style":519},[1469],{"type":398,"value":1470}," +=",{"type":393,"tag":500,"props":1472,"children":1474},{"style":1473},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1475],{"type":398,"value":1476}," 1\n",{"type":393,"tag":500,"props":1478,"children":1480},{"class":502,"line":1479},25,[1481],{"type":393,"tag":500,"props":1482,"children":1483},{"style":576},[1484],{"type":398,"value":1485},"}\n",{"type":393,"tag":394,"props":1487,"children":1488},{},[1489],{"type":393,"tag":420,"props":1490,"children":1493},{"alt":1491,"src":1492},"通过CSS控制位移","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/9KgejUuCru.gif",[],{"type":393,"tag":394,"props":1495,"children":1496},{},[1497,1499,1506],{"type":398,"value":1498},"最后，把 results 扔到里面展示一下（这里给个 ECharts ",{"type":393,"tag":401,"props":1500,"children":1503},{"href":1501,"rel":1502},"https://echarts.apache.org/examples/zh/editor.html?c=line-simple",[405],[1504],{"type":398,"value":1505},"折线图示例网址",{"type":398,"value":1507},"），不出意外能得到这样一张图表。看到那个尖尖的“V”型山谷了嘛，呼哈哈哈，答案很明显，当我们把滑块从左往右移动时，滑块约接近缺口，那截出来的图片就越像原图，它两之间像素差异越小；一直往右移动，滑块会逐渐远离缺口，截出来的图片和原图相比像素差异又逐渐开始增大。我们只需要把差异最小的那个点找到，然后滑动滑块到对应的 left 偏移量就阔以了。",{"type":393,"tag":394,"props":1509,"children":1510},{},[1511],{"type":393,"tag":420,"props":1512,"children":1515},{"alt":1513,"src":1514},"图像比对结果","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918203306.png",[],{"type":393,"tag":394,"props":1517,"children":1518},{},[1519],{"type":398,"value":1520},"题外话，为什么最大的差异在 3000 左右呢？我们简单估算一下。",{"type":393,"tag":394,"props":1522,"children":1523},{},[1524],{"type":398,"value":1525},"滑块的大小为 45*45，再加上外面的圆形，约摸占了 2100 像素；也就是说缺口加滑块，理论上最大会有 4200 个像素和原图不同。不过滑块可能和遮住的地方像素有重合，假设重合了 350 像素，再加上我们的最低点的图片差异都有 351，减去这些误差，得 3499。呜呼，3499 约等于 3000，估算成功（手动狗头）。",{"type":393,"tag":432,"props":1527,"children":1529},{"id":1528},"速度优化技巧",[1530],{"type":398,"value":1528},{"type":393,"tag":394,"props":1532,"children":1533},{},[1534],{"type":398,"value":1535},"不过这还没完，你要是把代码跑起来就会发现，卧草，太慢了这玩意儿！正常人划一下验证码顶多两秒钟的事儿，我们一帧一帧截图得花个 40s 的时间才能截完图算出山谷谷底的值来。",{"type":393,"tag":394,"props":1537,"children":1538},{},[1539],{"type":398,"value":1540},"这里提供几种思路优化效率：",{"type":393,"tag":443,"props":1542,"children":1543},{},[1544,1549,1554],{"type":393,"tag":447,"props":1545,"children":1546},{},[1547],{"type":398,"value":1548},"把元素缩小，复制多份，平铺开来展示；这样只要截一次，然后再裁剪、比对就好。",{"type":393,"tag":447,"props":1550,"children":1551},{},[1552],{"type":398,"value":1553},"放大步长，比方说先每次平移 15px，找到局部最优解，然后在局部最优解附近再回到平移 1px 的方案找最优解。",{"type":393,"tag":447,"props":1555,"children":1556},{},[1557],{"type":398,"value":1558},"因为图片比对的结果类似“V”字，“V”字右半边其实是可以不用再计算的。",{"type":393,"tag":394,"props":1560,"children":1561},{},[1562],{"type":398,"value":1563},"使用 1+2+3 我觉得可以在 3s 内搞定最优解，不过代码复杂度会变得很高，文中简单起见暂只实现一下方案 2。",{"type":393,"tag":394,"props":1565,"children":1566},{},[1567],{"type":398,"value":1568},"首先是每次移动 15px 找局部最优解。",{"type":393,"tag":489,"props":1570,"children":1572},{"className":491,"code":1571,"language":493,"meta":387,"style":387},"// 图片缺口是不会给挖在初始附近的，\n// 所以 left 从 45 像素开始计算可以节约不少计算量，\nlet left = 45;\nconst max15Offset = 265;\nconst res15px = [];\nwhile (left \u003C= max15Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res15px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 15;\n}\n",[1573],{"type":393,"tag":496,"props":1574,"children":1575},{"__ignoreMap":387},[1576,1584,1592,1620,1645,1670,1694,1722,1754,1778,1789,1817,1832,1852],{"type":393,"tag":500,"props":1577,"children":1578},{"class":502,"line":503},[1579],{"type":393,"tag":500,"props":1580,"children":1581},{"style":947},[1582],{"type":398,"value":1583},"// 图片缺口是不会给挖在初始附近的，\n",{"type":393,"tag":500,"props":1585,"children":1586},{"class":502,"line":558},[1587],{"type":393,"tag":500,"props":1588,"children":1589},{"style":947},[1590],{"type":398,"value":1591},"// 所以 left 从 45 像素开始计算可以节约不少计算量，\n",{"type":393,"tag":500,"props":1593,"children":1594},{"class":502,"line":568},[1595,1600,1605,1610,1615],{"type":393,"tag":500,"props":1596,"children":1597},{"style":507},[1598],{"type":398,"value":1599},"let",{"type":393,"tag":500,"props":1601,"children":1602},{"style":531},[1603],{"type":398,"value":1604}," left ",{"type":393,"tag":500,"props":1606,"children":1607},{"style":519},[1608],{"type":398,"value":1609},"=",{"type":393,"tag":500,"props":1611,"children":1612},{"style":1473},[1613],{"type":398,"value":1614}," 45",{"type":393,"tag":500,"props":1616,"children":1617},{"style":576},[1618],{"type":398,"value":1619},";\n",{"type":393,"tag":500,"props":1621,"children":1622},{"class":502,"line":627},[1623,1627,1632,1636,1641],{"type":393,"tag":500,"props":1624,"children":1625},{"style":507},[1626],{"type":398,"value":510},{"type":393,"tag":500,"props":1628,"children":1629},{"style":513},[1630],{"type":398,"value":1631}," max15Offset",{"type":393,"tag":500,"props":1633,"children":1634},{"style":519},[1635],{"type":398,"value":522},{"type":393,"tag":500,"props":1637,"children":1638},{"style":1473},[1639],{"type":398,"value":1640}," 265",{"type":393,"tag":500,"props":1642,"children":1643},{"style":576},[1644],{"type":398,"value":1619},{"type":393,"tag":500,"props":1646,"children":1647},{"class":502,"line":670},[1648,1652,1657,1661,1666],{"type":393,"tag":500,"props":1649,"children":1650},{"style":507},[1651],{"type":398,"value":510},{"type":393,"tag":500,"props":1653,"children":1654},{"style":513},[1655],{"type":398,"value":1656}," res15px",{"type":393,"tag":500,"props":1658,"children":1659},{"style":519},[1660],{"type":398,"value":522},{"type":393,"tag":500,"props":1662,"children":1663},{"style":531},[1664],{"type":398,"value":1665}," []",{"type":393,"tag":500,"props":1667,"children":1668},{"style":576},[1669],{"type":398,"value":1619},{"type":393,"tag":500,"props":1671,"children":1672},{"class":502,"line":713},[1673,1677,1681,1685,1690],{"type":393,"tag":500,"props":1674,"children":1675},{"style":645},[1676],{"type":398,"value":914},{"type":393,"tag":500,"props":1678,"children":1679},{"style":531},[1680],{"type":398,"value":919},{"type":393,"tag":500,"props":1682,"children":1683},{"style":519},[1684],{"type":398,"value":924},{"type":393,"tag":500,"props":1686,"children":1687},{"style":531},[1688],{"type":398,"value":1689}," max15Offset) ",{"type":393,"tag":500,"props":1691,"children":1692},{"style":576},[1693],{"type":398,"value":934},{"type":393,"tag":500,"props":1695,"children":1696},{"class":502,"line":1098},[1697,1701,1706,1710,1714,1718],{"type":393,"tag":500,"props":1698,"children":1699},{"style":645},[1700],{"type":398,"value":676},{"type":393,"tag":500,"props":1702,"children":1703},{"style":525},[1704],{"type":398,"value":1705}," setLeft",{"type":393,"tag":500,"props":1707,"children":1708},{"style":664},[1709],{"type":398,"value":534},{"type":393,"tag":500,"props":1711,"children":1712},{"style":531},[1713],{"type":398,"value":1077},{"type":393,"tag":500,"props":1715,"children":1716},{"style":664},[1717],{"type":398,"value":1010},{"type":393,"tag":500,"props":1719,"children":1720},{"style":576},[1721],{"type":398,"value":1619},{"type":393,"tag":500,"props":1723,"children":1724},{"class":502,"line":1124},[1725,1729,1733,1737,1741,1746,1750],{"type":393,"tag":500,"props":1726,"children":1727},{"style":507},[1728],{"type":398,"value":633},{"type":393,"tag":500,"props":1730,"children":1731},{"style":513},[1732],{"type":398,"value":1298},{"type":393,"tag":500,"props":1734,"children":1735},{"style":519},[1736],{"type":398,"value":522},{"type":393,"tag":500,"props":1738,"children":1739},{"style":645},[1740],{"type":398,"value":648},{"type":393,"tag":500,"props":1742,"children":1743},{"style":525},[1744],{"type":398,"value":1745}," compare",{"type":393,"tag":500,"props":1747,"children":1748},{"style":664},[1749],{"type":398,"value":589},{"type":393,"tag":500,"props":1751,"children":1752},{"style":576},[1753],{"type":398,"value":1619},{"type":393,"tag":500,"props":1755,"children":1756},{"class":502,"line":1132},[1757,1762,1766,1770,1774],{"type":393,"tag":500,"props":1758,"children":1759},{"style":531},[1760],{"type":398,"value":1761},"  res15px",{"type":393,"tag":500,"props":1763,"children":1764},{"style":576},[1765],{"type":398,"value":579},{"type":393,"tag":500,"props":1767,"children":1768},{"style":525},[1769],{"type":398,"value":1389},{"type":393,"tag":500,"props":1771,"children":1772},{"style":664},[1773],{"type":398,"value":534},{"type":393,"tag":500,"props":1775,"children":1776},{"style":576},[1777],{"type":398,"value":934},{"type":393,"tag":500,"props":1779,"children":1780},{"class":502,"line":1141},[1781,1785],{"type":393,"tag":500,"props":1782,"children":1783},{"style":531},[1784],{"type":398,"value":1406},{"type":393,"tag":500,"props":1786,"children":1787},{"style":576},[1788],{"type":398,"value":1341},{"type":393,"tag":500,"props":1790,"children":1791},{"class":502,"line":1149},[1792,1796,1800,1804,1808,1813],{"type":393,"tag":500,"props":1793,"children":1794},{"style":664},[1795],{"type":398,"value":1419},{"type":393,"tag":500,"props":1797,"children":1798},{"style":576},[1799],{"type":398,"value":1257},{"type":393,"tag":500,"props":1801,"children":1802},{"style":531},[1803],{"type":398,"value":1298},{"type":393,"tag":500,"props":1805,"children":1806},{"style":576},[1807],{"type":398,"value":579},{"type":393,"tag":500,"props":1809,"children":1810},{"style":531},[1811],{"type":398,"value":1812},"differences",{"type":393,"tag":500,"props":1814,"children":1815},{"style":576},[1816],{"type":398,"value":1341},{"type":393,"tag":500,"props":1818,"children":1819},{"class":502,"line":1204},[1820,1824,1828],{"type":393,"tag":500,"props":1821,"children":1822},{"style":576},[1823],{"type":398,"value":1281},{"type":393,"tag":500,"props":1825,"children":1826},{"style":664},[1827],{"type":398,"value":1010},{"type":393,"tag":500,"props":1829,"children":1830},{"style":576},[1831],{"type":398,"value":1619},{"type":393,"tag":500,"props":1833,"children":1834},{"class":502,"line":1246},[1835,1839,1843,1848],{"type":393,"tag":500,"props":1836,"children":1837},{"style":531},[1838],{"type":398,"value":1465},{"type":393,"tag":500,"props":1840,"children":1841},{"style":519},[1842],{"type":398,"value":1470},{"type":393,"tag":500,"props":1844,"children":1845},{"style":1473},[1846],{"type":398,"value":1847}," 15",{"type":393,"tag":500,"props":1849,"children":1850},{"style":576},[1851],{"type":398,"value":1619},{"type":393,"tag":500,"props":1853,"children":1854},{"class":502,"line":1275},[1855],{"type":393,"tag":500,"props":1856,"children":1857},{"style":576},[1858],{"type":398,"value":1485},{"type":393,"tag":394,"props":1860,"children":1861},{},[1862],{"type":398,"value":1863},"然后再尝试每次移动 2px 找最优解，搜寻的范围是 15px 步长最优解的 left 偏移量的左右共 20 个像素。",{"type":393,"tag":489,"props":1865,"children":1867},{"className":491,"code":1866,"language":493,"meta":387,"style":387},"const min15pxDiff = Math.min(...res15px.map((x) => x.diff));\nconst min15pxLeft = res15px.find((x) => x.diff === min15pxDiff).left;\n\nleft = min15pxLeft - 12;\nconst max2Offset = min15pxLeft + 8;\nconst res2px = [];\nwhile (left \u003C= max2Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res2px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 2;\n}\n",[1868],{"type":393,"tag":496,"props":1869,"children":1870},{"__ignoreMap":387},[1871,1963,2047,2054,2085,2119,2143,2167,2194,2225,2249,2260,2287,2302,2322],{"type":393,"tag":500,"props":1872,"children":1873},{"class":502,"line":503},[1874,1878,1883,1887,1892,1896,1901,1905,1910,1915,1919,1924,1928,1932,1937,1941,1945,1950,1954,1959],{"type":393,"tag":500,"props":1875,"children":1876},{"style":507},[1877],{"type":398,"value":510},{"type":393,"tag":500,"props":1879,"children":1880},{"style":513},[1881],{"type":398,"value":1882}," min15pxDiff",{"type":393,"tag":500,"props":1884,"children":1885},{"style":519},[1886],{"type":398,"value":522},{"type":393,"tag":500,"props":1888,"children":1889},{"style":531},[1890],{"type":398,"value":1891}," Math",{"type":393,"tag":500,"props":1893,"children":1894},{"style":576},[1895],{"type":398,"value":579},{"type":393,"tag":500,"props":1897,"children":1898},{"style":525},[1899],{"type":398,"value":1900},"min",{"type":393,"tag":500,"props":1902,"children":1903},{"style":531},[1904],{"type":398,"value":534},{"type":393,"tag":500,"props":1906,"children":1907},{"style":519},[1908],{"type":398,"value":1909},"...",{"type":393,"tag":500,"props":1911,"children":1912},{"style":531},[1913],{"type":398,"value":1914},"res15px",{"type":393,"tag":500,"props":1916,"children":1917},{"style":576},[1918],{"type":398,"value":579},{"type":393,"tag":500,"props":1920,"children":1921},{"style":525},[1922],{"type":398,"value":1923},"map",{"type":393,"tag":500,"props":1925,"children":1926},{"style":531},[1927],{"type":398,"value":534},{"type":393,"tag":500,"props":1929,"children":1930},{"style":576},[1931],{"type":398,"value":534},{"type":393,"tag":500,"props":1933,"children":1934},{"style":611},[1935],{"type":398,"value":1936},"x",{"type":393,"tag":500,"props":1938,"children":1939},{"style":576},[1940],{"type":398,"value":1010},{"type":393,"tag":500,"props":1942,"children":1943},{"style":507},[1944],{"type":398,"value":619},{"type":393,"tag":500,"props":1946,"children":1947},{"style":531},[1948],{"type":398,"value":1949}," x",{"type":393,"tag":500,"props":1951,"children":1952},{"style":576},[1953],{"type":398,"value":579},{"type":393,"tag":500,"props":1955,"children":1956},{"style":531},[1957],{"type":398,"value":1958},"diff))",{"type":393,"tag":500,"props":1960,"children":1961},{"style":576},[1962],{"type":398,"value":1619},{"type":393,"tag":500,"props":1964,"children":1965},{"class":502,"line":558},[1966,1970,1975,1979,1983,1987,1992,1996,2000,2004,2008,2012,2016,2020,2025,2030,2035,2039,2043],{"type":393,"tag":500,"props":1967,"children":1968},{"style":507},[1969],{"type":398,"value":510},{"type":393,"tag":500,"props":1971,"children":1972},{"style":513},[1973],{"type":398,"value":1974}," min15pxLeft",{"type":393,"tag":500,"props":1976,"children":1977},{"style":519},[1978],{"type":398,"value":522},{"type":393,"tag":500,"props":1980,"children":1981},{"style":531},[1982],{"type":398,"value":1656},{"type":393,"tag":500,"props":1984,"children":1985},{"style":576},[1986],{"type":398,"value":579},{"type":393,"tag":500,"props":1988,"children":1989},{"style":525},[1990],{"type":398,"value":1991},"find",{"type":393,"tag":500,"props":1993,"children":1994},{"style":531},[1995],{"type":398,"value":534},{"type":393,"tag":500,"props":1997,"children":1998},{"style":576},[1999],{"type":398,"value":534},{"type":393,"tag":500,"props":2001,"children":2002},{"style":611},[2003],{"type":398,"value":1936},{"type":393,"tag":500,"props":2005,"children":2006},{"style":576},[2007],{"type":398,"value":1010},{"type":393,"tag":500,"props":2009,"children":2010},{"style":507},[2011],{"type":398,"value":619},{"type":393,"tag":500,"props":2013,"children":2014},{"style":531},[2015],{"type":398,"value":1949},{"type":393,"tag":500,"props":2017,"children":2018},{"style":576},[2019],{"type":398,"value":579},{"type":393,"tag":500,"props":2021,"children":2022},{"style":531},[2023],{"type":398,"value":2024},"diff ",{"type":393,"tag":500,"props":2026,"children":2027},{"style":519},[2028],{"type":398,"value":2029},"===",{"type":393,"tag":500,"props":2031,"children":2032},{"style":531},[2033],{"type":398,"value":2034}," min15pxDiff)",{"type":393,"tag":500,"props":2036,"children":2037},{"style":576},[2038],{"type":398,"value":579},{"type":393,"tag":500,"props":2040,"children":2041},{"style":531},[2042],{"type":398,"value":1077},{"type":393,"tag":500,"props":2044,"children":2045},{"style":576},[2046],{"type":398,"value":1619},{"type":393,"tag":500,"props":2048,"children":2049},{"class":502,"line":568},[2050],{"type":393,"tag":500,"props":2051,"children":2052},{"emptyLinePlaceholder":562},[2053],{"type":398,"value":565},{"type":393,"tag":500,"props":2055,"children":2056},{"class":502,"line":627},[2057,2062,2066,2071,2076,2081],{"type":393,"tag":500,"props":2058,"children":2059},{"style":531},[2060],{"type":398,"value":2061},"left ",{"type":393,"tag":500,"props":2063,"children":2064},{"style":519},[2065],{"type":398,"value":1609},{"type":393,"tag":500,"props":2067,"children":2068},{"style":531},[2069],{"type":398,"value":2070}," min15pxLeft ",{"type":393,"tag":500,"props":2072,"children":2073},{"style":519},[2074],{"type":398,"value":2075},"-",{"type":393,"tag":500,"props":2077,"children":2078},{"style":1473},[2079],{"type":398,"value":2080}," 12",{"type":393,"tag":500,"props":2082,"children":2083},{"style":576},[2084],{"type":398,"value":1619},{"type":393,"tag":500,"props":2086,"children":2087},{"class":502,"line":670},[2088,2092,2097,2101,2105,2110,2115],{"type":393,"tag":500,"props":2089,"children":2090},{"style":507},[2091],{"type":398,"value":510},{"type":393,"tag":500,"props":2093,"children":2094},{"style":513},[2095],{"type":398,"value":2096}," max2Offset",{"type":393,"tag":500,"props":2098,"children":2099},{"style":519},[2100],{"type":398,"value":522},{"type":393,"tag":500,"props":2102,"children":2103},{"style":531},[2104],{"type":398,"value":2070},{"type":393,"tag":500,"props":2106,"children":2107},{"style":519},[2108],{"type":398,"value":2109},"+",{"type":393,"tag":500,"props":2111,"children":2112},{"style":1473},[2113],{"type":398,"value":2114}," 8",{"type":393,"tag":500,"props":2116,"children":2117},{"style":576},[2118],{"type":398,"value":1619},{"type":393,"tag":500,"props":2120,"children":2121},{"class":502,"line":713},[2122,2126,2131,2135,2139],{"type":393,"tag":500,"props":2123,"children":2124},{"style":507},[2125],{"type":398,"value":510},{"type":393,"tag":500,"props":2127,"children":2128},{"style":513},[2129],{"type":398,"value":2130}," res2px",{"type":393,"tag":500,"props":2132,"children":2133},{"style":519},[2134],{"type":398,"value":522},{"type":393,"tag":500,"props":2136,"children":2137},{"style":531},[2138],{"type":398,"value":1665},{"type":393,"tag":500,"props":2140,"children":2141},{"style":576},[2142],{"type":398,"value":1619},{"type":393,"tag":500,"props":2144,"children":2145},{"class":502,"line":1098},[2146,2150,2154,2158,2163],{"type":393,"tag":500,"props":2147,"children":2148},{"style":645},[2149],{"type":398,"value":914},{"type":393,"tag":500,"props":2151,"children":2152},{"style":531},[2153],{"type":398,"value":919},{"type":393,"tag":500,"props":2155,"children":2156},{"style":519},[2157],{"type":398,"value":924},{"type":393,"tag":500,"props":2159,"children":2160},{"style":531},[2161],{"type":398,"value":2162}," max2Offset) ",{"type":393,"tag":500,"props":2164,"children":2165},{"style":576},[2166],{"type":398,"value":934},{"type":393,"tag":500,"props":2168,"children":2169},{"class":502,"line":1124},[2170,2174,2178,2182,2186,2190],{"type":393,"tag":500,"props":2171,"children":2172},{"style":645},[2173],{"type":398,"value":676},{"type":393,"tag":500,"props":2175,"children":2176},{"style":525},[2177],{"type":398,"value":1705},{"type":393,"tag":500,"props":2179,"children":2180},{"style":664},[2181],{"type":398,"value":534},{"type":393,"tag":500,"props":2183,"children":2184},{"style":531},[2185],{"type":398,"value":1077},{"type":393,"tag":500,"props":2187,"children":2188},{"style":664},[2189],{"type":398,"value":1010},{"type":393,"tag":500,"props":2191,"children":2192},{"style":576},[2193],{"type":398,"value":1619},{"type":393,"tag":500,"props":2195,"children":2196},{"class":502,"line":1132},[2197,2201,2205,2209,2213,2217,2221],{"type":393,"tag":500,"props":2198,"children":2199},{"style":507},[2200],{"type":398,"value":633},{"type":393,"tag":500,"props":2202,"children":2203},{"style":513},[2204],{"type":398,"value":1298},{"type":393,"tag":500,"props":2206,"children":2207},{"style":519},[2208],{"type":398,"value":522},{"type":393,"tag":500,"props":2210,"children":2211},{"style":645},[2212],{"type":398,"value":648},{"type":393,"tag":500,"props":2214,"children":2215},{"style":525},[2216],{"type":398,"value":1745},{"type":393,"tag":500,"props":2218,"children":2219},{"style":664},[2220],{"type":398,"value":589},{"type":393,"tag":500,"props":2222,"children":2223},{"style":576},[2224],{"type":398,"value":1619},{"type":393,"tag":500,"props":2226,"children":2227},{"class":502,"line":1141},[2228,2233,2237,2241,2245],{"type":393,"tag":500,"props":2229,"children":2230},{"style":531},[2231],{"type":398,"value":2232},"  res2px",{"type":393,"tag":500,"props":2234,"children":2235},{"style":576},[2236],{"type":398,"value":579},{"type":393,"tag":500,"props":2238,"children":2239},{"style":525},[2240],{"type":398,"value":1389},{"type":393,"tag":500,"props":2242,"children":2243},{"style":664},[2244],{"type":398,"value":534},{"type":393,"tag":500,"props":2246,"children":2247},{"style":576},[2248],{"type":398,"value":934},{"type":393,"tag":500,"props":2250,"children":2251},{"class":502,"line":1149},[2252,2256],{"type":393,"tag":500,"props":2253,"children":2254},{"style":531},[2255],{"type":398,"value":1406},{"type":393,"tag":500,"props":2257,"children":2258},{"style":576},[2259],{"type":398,"value":1341},{"type":393,"tag":500,"props":2261,"children":2262},{"class":502,"line":1204},[2263,2267,2271,2275,2279,2283],{"type":393,"tag":500,"props":2264,"children":2265},{"style":664},[2266],{"type":398,"value":1419},{"type":393,"tag":500,"props":2268,"children":2269},{"style":576},[2270],{"type":398,"value":1257},{"type":393,"tag":500,"props":2272,"children":2273},{"style":531},[2274],{"type":398,"value":1298},{"type":393,"tag":500,"props":2276,"children":2277},{"style":576},[2278],{"type":398,"value":579},{"type":393,"tag":500,"props":2280,"children":2281},{"style":531},[2282],{"type":398,"value":1812},{"type":393,"tag":500,"props":2284,"children":2285},{"style":576},[2286],{"type":398,"value":1341},{"type":393,"tag":500,"props":2288,"children":2289},{"class":502,"line":1246},[2290,2294,2298],{"type":393,"tag":500,"props":2291,"children":2292},{"style":576},[2293],{"type":398,"value":1281},{"type":393,"tag":500,"props":2295,"children":2296},{"style":664},[2297],{"type":398,"value":1010},{"type":393,"tag":500,"props":2299,"children":2300},{"style":576},[2301],{"type":398,"value":1619},{"type":393,"tag":500,"props":2303,"children":2304},{"class":502,"line":1275},[2305,2309,2313,2318],{"type":393,"tag":500,"props":2306,"children":2307},{"style":531},[2308],{"type":398,"value":1465},{"type":393,"tag":500,"props":2310,"children":2311},{"style":519},[2312],{"type":398,"value":1470},{"type":393,"tag":500,"props":2314,"children":2315},{"style":1473},[2316],{"type":398,"value":2317}," 2",{"type":393,"tag":500,"props":2319,"children":2320},{"style":576},[2321],{"type":398,"value":1619},{"type":393,"tag":500,"props":2323,"children":2324},{"class":502,"line":1288},[2325],{"type":393,"tag":500,"props":2326,"children":2327},{"style":576},[2328],{"type":398,"value":1485},{"type":393,"tag":394,"props":2330,"children":2331},{},[2332],{"type":398,"value":2333},"此时得到的解可以约等于最优解了。当然，如果你觉得不稳的话，还可以使用 1px 步长去找。",{"type":393,"tag":394,"props":2335,"children":2336},{},[2337],{"type":398,"value":2338},"估算一下，原先需要截 245 次图片，现在直接降到 1/10，23 次。不过，也别太高兴，因为测试发现只做优化 2，解验证码的时候还是要 7s...",{"type":393,"tag":432,"props":2340,"children":2342},{"id":2341},"操作鼠标滑滑块",[2343],{"type":398,"value":2341},{"type":393,"tag":394,"props":2345,"children":2346},{},[2347],{"type":398,"value":2348},"缺口位置都搞定了，那移鼠标滑滑块儿还不简单嘛~",{"type":393,"tag":394,"props":2350,"children":2351},{},[2352,2354,2361],{"type":398,"value":2353},"Puppeteer 已经提供了",{"type":393,"tag":401,"props":2355,"children":2358},{"href":2356,"rel":2357},"http://puppeteerjs.com/#?product=Puppeteer&version=v10.2.0&show=api-class-mouse",[405],[2359],{"type":398,"value":2360},"鼠标相关的接口",{"type":398,"value":2362},"，一共四个：mouse.click、mouse.down、mouse.move、mouse.up，分别是点击、按下、移动和松开。使用 mouse.move 可以直接把鼠标位置移动到一个特定的坐标上。假设我们现在从坐标（100,100）花大约 1s 把鼠标移动到 （200,200），可以使用循环实现。",{"type":393,"tag":489,"props":2364,"children":2366},{"className":491,"code":2365,"language":493,"meta":387,"style":387},"const now = {\n  x: 100,\n  y: 100\n}\nconst target = {\n  time: 1000,\n  x: 200,\n  y: 200, \n}\nconst steps = 10\nconst step = {\n  x: Math.floor((target.x - now.x) / steps),\n  y: Math.floor((target.y - now.y) / steps),\n  time: target.time / steps\n}\nwhile (now.x \u003C target.x) {\n  await sleep(step.time)\n  now.x += step.x\n  now.y += step.y\n  await page.mouse.move(now)\n}\n",[2367],{"type":393,"tag":496,"props":2368,"children":2369},{"__ignoreMap":387},[2370,2390,2411,2428,2435,2455,2476,2496,2520,2527,2548,2568,2637,2702,2735,2742,2783,2817,2850,2883,2925],{"type":393,"tag":500,"props":2371,"children":2372},{"class":502,"line":503},[2373,2377,2382,2386],{"type":393,"tag":500,"props":2374,"children":2375},{"style":507},[2376],{"type":398,"value":510},{"type":393,"tag":500,"props":2378,"children":2379},{"style":513},[2380],{"type":398,"value":2381}," now",{"type":393,"tag":500,"props":2383,"children":2384},{"style":519},[2385],{"type":398,"value":522},{"type":393,"tag":500,"props":2387,"children":2388},{"style":576},[2389],{"type":398,"value":624},{"type":393,"tag":500,"props":2391,"children":2392},{"class":502,"line":558},[2393,2398,2402,2407],{"type":393,"tag":500,"props":2394,"children":2395},{"style":664},[2396],{"type":398,"value":2397},"  x",{"type":393,"tag":500,"props":2399,"children":2400},{"style":576},[2401],{"type":398,"value":1257},{"type":393,"tag":500,"props":2403,"children":2404},{"style":1473},[2405],{"type":398,"value":2406}," 100",{"type":393,"tag":500,"props":2408,"children":2409},{"style":576},[2410],{"type":398,"value":1341},{"type":393,"tag":500,"props":2412,"children":2413},{"class":502,"line":568},[2414,2419,2423],{"type":393,"tag":500,"props":2415,"children":2416},{"style":664},[2417],{"type":398,"value":2418},"  y",{"type":393,"tag":500,"props":2420,"children":2421},{"style":576},[2422],{"type":398,"value":1257},{"type":393,"tag":500,"props":2424,"children":2425},{"style":1473},[2426],{"type":398,"value":2427}," 100\n",{"type":393,"tag":500,"props":2429,"children":2430},{"class":502,"line":627},[2431],{"type":393,"tag":500,"props":2432,"children":2433},{"style":576},[2434],{"type":398,"value":1485},{"type":393,"tag":500,"props":2436,"children":2437},{"class":502,"line":670},[2438,2442,2447,2451],{"type":393,"tag":500,"props":2439,"children":2440},{"style":507},[2441],{"type":398,"value":510},{"type":393,"tag":500,"props":2443,"children":2444},{"style":513},[2445],{"type":398,"value":2446}," target",{"type":393,"tag":500,"props":2448,"children":2449},{"style":519},[2450],{"type":398,"value":522},{"type":393,"tag":500,"props":2452,"children":2453},{"style":576},[2454],{"type":398,"value":624},{"type":393,"tag":500,"props":2456,"children":2457},{"class":502,"line":713},[2458,2463,2467,2472],{"type":393,"tag":500,"props":2459,"children":2460},{"style":664},[2461],{"type":398,"value":2462},"  time",{"type":393,"tag":500,"props":2464,"children":2465},{"style":576},[2466],{"type":398,"value":1257},{"type":393,"tag":500,"props":2468,"children":2469},{"style":1473},[2470],{"type":398,"value":2471}," 1000",{"type":393,"tag":500,"props":2473,"children":2474},{"style":576},[2475],{"type":398,"value":1341},{"type":393,"tag":500,"props":2477,"children":2478},{"class":502,"line":1098},[2479,2483,2487,2492],{"type":393,"tag":500,"props":2480,"children":2481},{"style":664},[2482],{"type":398,"value":2397},{"type":393,"tag":500,"props":2484,"children":2485},{"style":576},[2486],{"type":398,"value":1257},{"type":393,"tag":500,"props":2488,"children":2489},{"style":1473},[2490],{"type":398,"value":2491}," 200",{"type":393,"tag":500,"props":2493,"children":2494},{"style":576},[2495],{"type":398,"value":1341},{"type":393,"tag":500,"props":2497,"children":2498},{"class":502,"line":1124},[2499,2503,2507,2511,2515],{"type":393,"tag":500,"props":2500,"children":2501},{"style":664},[2502],{"type":398,"value":2418},{"type":393,"tag":500,"props":2504,"children":2505},{"style":576},[2506],{"type":398,"value":1257},{"type":393,"tag":500,"props":2508,"children":2509},{"style":1473},[2510],{"type":398,"value":2491},{"type":393,"tag":500,"props":2512,"children":2513},{"style":576},[2514],{"type":398,"value":1000},{"type":393,"tag":500,"props":2516,"children":2517},{"style":531},[2518],{"type":398,"value":2519}," \n",{"type":393,"tag":500,"props":2521,"children":2522},{"class":502,"line":1132},[2523],{"type":393,"tag":500,"props":2524,"children":2525},{"style":576},[2526],{"type":398,"value":1485},{"type":393,"tag":500,"props":2528,"children":2529},{"class":502,"line":1141},[2530,2534,2539,2543],{"type":393,"tag":500,"props":2531,"children":2532},{"style":507},[2533],{"type":398,"value":510},{"type":393,"tag":500,"props":2535,"children":2536},{"style":513},[2537],{"type":398,"value":2538}," steps",{"type":393,"tag":500,"props":2540,"children":2541},{"style":519},[2542],{"type":398,"value":522},{"type":393,"tag":500,"props":2544,"children":2545},{"style":1473},[2546],{"type":398,"value":2547}," 10\n",{"type":393,"tag":500,"props":2549,"children":2550},{"class":502,"line":1149},[2551,2555,2560,2564],{"type":393,"tag":500,"props":2552,"children":2553},{"style":507},[2554],{"type":398,"value":510},{"type":393,"tag":500,"props":2556,"children":2557},{"style":513},[2558],{"type":398,"value":2559}," step",{"type":393,"tag":500,"props":2561,"children":2562},{"style":519},[2563],{"type":398,"value":522},{"type":393,"tag":500,"props":2565,"children":2566},{"style":576},[2567],{"type":398,"value":624},{"type":393,"tag":500,"props":2569,"children":2570},{"class":502,"line":1204},[2571,2575,2579,2583,2587,2592,2597,2601,2606,2610,2614,2618,2623,2628,2633],{"type":393,"tag":500,"props":2572,"children":2573},{"style":664},[2574],{"type":398,"value":2397},{"type":393,"tag":500,"props":2576,"children":2577},{"style":576},[2578],{"type":398,"value":1257},{"type":393,"tag":500,"props":2580,"children":2581},{"style":531},[2582],{"type":398,"value":1891},{"type":393,"tag":500,"props":2584,"children":2585},{"style":576},[2586],{"type":398,"value":579},{"type":393,"tag":500,"props":2588,"children":2589},{"style":525},[2590],{"type":398,"value":2591},"floor",{"type":393,"tag":500,"props":2593,"children":2594},{"style":531},[2595],{"type":398,"value":2596},"((target",{"type":393,"tag":500,"props":2598,"children":2599},{"style":576},[2600],{"type":398,"value":579},{"type":393,"tag":500,"props":2602,"children":2603},{"style":531},[2604],{"type":398,"value":2605},"x ",{"type":393,"tag":500,"props":2607,"children":2608},{"style":519},[2609],{"type":398,"value":2075},{"type":393,"tag":500,"props":2611,"children":2612},{"style":531},[2613],{"type":398,"value":2381},{"type":393,"tag":500,"props":2615,"children":2616},{"style":576},[2617],{"type":398,"value":579},{"type":393,"tag":500,"props":2619,"children":2620},{"style":531},[2621],{"type":398,"value":2622},"x) ",{"type":393,"tag":500,"props":2624,"children":2625},{"style":519},[2626],{"type":398,"value":2627},"/",{"type":393,"tag":500,"props":2629,"children":2630},{"style":531},[2631],{"type":398,"value":2632}," steps)",{"type":393,"tag":500,"props":2634,"children":2635},{"style":576},[2636],{"type":398,"value":1341},{"type":393,"tag":500,"props":2638,"children":2639},{"class":502,"line":1246},[2640,2644,2648,2652,2656,2660,2664,2668,2673,2677,2681,2685,2690,2694,2698],{"type":393,"tag":500,"props":2641,"children":2642},{"style":664},[2643],{"type":398,"value":2418},{"type":393,"tag":500,"props":2645,"children":2646},{"style":576},[2647],{"type":398,"value":1257},{"type":393,"tag":500,"props":2649,"children":2650},{"style":531},[2651],{"type":398,"value":1891},{"type":393,"tag":500,"props":2653,"children":2654},{"style":576},[2655],{"type":398,"value":579},{"type":393,"tag":500,"props":2657,"children":2658},{"style":525},[2659],{"type":398,"value":2591},{"type":393,"tag":500,"props":2661,"children":2662},{"style":531},[2663],{"type":398,"value":2596},{"type":393,"tag":500,"props":2665,"children":2666},{"style":576},[2667],{"type":398,"value":579},{"type":393,"tag":500,"props":2669,"children":2670},{"style":531},[2671],{"type":398,"value":2672},"y ",{"type":393,"tag":500,"props":2674,"children":2675},{"style":519},[2676],{"type":398,"value":2075},{"type":393,"tag":500,"props":2678,"children":2679},{"style":531},[2680],{"type":398,"value":2381},{"type":393,"tag":500,"props":2682,"children":2683},{"style":576},[2684],{"type":398,"value":579},{"type":393,"tag":500,"props":2686,"children":2687},{"style":531},[2688],{"type":398,"value":2689},"y) ",{"type":393,"tag":500,"props":2691,"children":2692},{"style":519},[2693],{"type":398,"value":2627},{"type":393,"tag":500,"props":2695,"children":2696},{"style":531},[2697],{"type":398,"value":2632},{"type":393,"tag":500,"props":2699,"children":2700},{"style":576},[2701],{"type":398,"value":1341},{"type":393,"tag":500,"props":2703,"children":2704},{"class":502,"line":1275},[2705,2709,2713,2717,2721,2726,2730],{"type":393,"tag":500,"props":2706,"children":2707},{"style":664},[2708],{"type":398,"value":2462},{"type":393,"tag":500,"props":2710,"children":2711},{"style":576},[2712],{"type":398,"value":1257},{"type":393,"tag":500,"props":2714,"children":2715},{"style":531},[2716],{"type":398,"value":2446},{"type":393,"tag":500,"props":2718,"children":2719},{"style":576},[2720],{"type":398,"value":579},{"type":393,"tag":500,"props":2722,"children":2723},{"style":531},[2724],{"type":398,"value":2725},"time ",{"type":393,"tag":500,"props":2727,"children":2728},{"style":519},[2729],{"type":398,"value":2627},{"type":393,"tag":500,"props":2731,"children":2732},{"style":531},[2733],{"type":398,"value":2734}," steps\n",{"type":393,"tag":500,"props":2736,"children":2737},{"class":502,"line":1288},[2738],{"type":393,"tag":500,"props":2739,"children":2740},{"style":576},[2741],{"type":398,"value":1485},{"type":393,"tag":500,"props":2743,"children":2744},{"class":502,"line":1322},[2745,2749,2754,2758,2762,2767,2771,2775,2779],{"type":393,"tag":500,"props":2746,"children":2747},{"style":645},[2748],{"type":398,"value":914},{"type":393,"tag":500,"props":2750,"children":2751},{"style":531},[2752],{"type":398,"value":2753}," (now",{"type":393,"tag":500,"props":2755,"children":2756},{"style":576},[2757],{"type":398,"value":579},{"type":393,"tag":500,"props":2759,"children":2760},{"style":531},[2761],{"type":398,"value":2605},{"type":393,"tag":500,"props":2763,"children":2764},{"style":519},[2765],{"type":398,"value":2766},"\u003C",{"type":393,"tag":500,"props":2768,"children":2769},{"style":531},[2770],{"type":398,"value":2446},{"type":393,"tag":500,"props":2772,"children":2773},{"style":576},[2774],{"type":398,"value":579},{"type":393,"tag":500,"props":2776,"children":2777},{"style":531},[2778],{"type":398,"value":2622},{"type":393,"tag":500,"props":2780,"children":2781},{"style":576},[2782],{"type":398,"value":934},{"type":393,"tag":500,"props":2784,"children":2785},{"class":502,"line":1344},[2786,2790,2795,2799,2804,2808,2813],{"type":393,"tag":500,"props":2787,"children":2788},{"style":645},[2789],{"type":398,"value":676},{"type":393,"tag":500,"props":2791,"children":2792},{"style":525},[2793],{"type":398,"value":2794}," sleep",{"type":393,"tag":500,"props":2796,"children":2797},{"style":664},[2798],{"type":398,"value":534},{"type":393,"tag":500,"props":2800,"children":2801},{"style":531},[2802],{"type":398,"value":2803},"step",{"type":393,"tag":500,"props":2805,"children":2806},{"style":576},[2807],{"type":398,"value":579},{"type":393,"tag":500,"props":2809,"children":2810},{"style":531},[2811],{"type":398,"value":2812},"time",{"type":393,"tag":500,"props":2814,"children":2815},{"style":664},[2816],{"type":398,"value":555},{"type":393,"tag":500,"props":2818,"children":2819},{"class":502,"line":1362},[2820,2825,2829,2833,2837,2841,2845],{"type":393,"tag":500,"props":2821,"children":2822},{"style":531},[2823],{"type":398,"value":2824},"  now",{"type":393,"tag":500,"props":2826,"children":2827},{"style":576},[2828],{"type":398,"value":579},{"type":393,"tag":500,"props":2830,"children":2831},{"style":531},[2832],{"type":398,"value":1936},{"type":393,"tag":500,"props":2834,"children":2835},{"style":519},[2836],{"type":398,"value":1470},{"type":393,"tag":500,"props":2838,"children":2839},{"style":531},[2840],{"type":398,"value":2559},{"type":393,"tag":500,"props":2842,"children":2843},{"style":576},[2844],{"type":398,"value":579},{"type":393,"tag":500,"props":2846,"children":2847},{"style":531},[2848],{"type":398,"value":2849},"x\n",{"type":393,"tag":500,"props":2851,"children":2852},{"class":502,"line":1374},[2853,2857,2861,2866,2870,2874,2878],{"type":393,"tag":500,"props":2854,"children":2855},{"style":531},[2856],{"type":398,"value":2824},{"type":393,"tag":500,"props":2858,"children":2859},{"style":576},[2860],{"type":398,"value":579},{"type":393,"tag":500,"props":2862,"children":2863},{"style":531},[2864],{"type":398,"value":2865},"y",{"type":393,"tag":500,"props":2867,"children":2868},{"style":519},[2869],{"type":398,"value":1470},{"type":393,"tag":500,"props":2871,"children":2872},{"style":531},[2873],{"type":398,"value":2559},{"type":393,"tag":500,"props":2875,"children":2876},{"style":576},[2877],{"type":398,"value":579},{"type":393,"tag":500,"props":2879,"children":2880},{"style":531},[2881],{"type":398,"value":2882},"y\n",{"type":393,"tag":500,"props":2884,"children":2885},{"class":502,"line":1400},[2886,2890,2894,2898,2903,2907,2912,2916,2921],{"type":393,"tag":500,"props":2887,"children":2888},{"style":645},[2889],{"type":398,"value":676},{"type":393,"tag":500,"props":2891,"children":2892},{"style":531},[2893],{"type":398,"value":638},{"type":393,"tag":500,"props":2895,"children":2896},{"style":576},[2897],{"type":398,"value":579},{"type":393,"tag":500,"props":2899,"children":2900},{"style":531},[2901],{"type":398,"value":2902},"mouse",{"type":393,"tag":500,"props":2904,"children":2905},{"style":576},[2906],{"type":398,"value":579},{"type":393,"tag":500,"props":2908,"children":2909},{"style":525},[2910],{"type":398,"value":2911},"move",{"type":393,"tag":500,"props":2913,"children":2914},{"style":664},[2915],{"type":398,"value":534},{"type":393,"tag":500,"props":2917,"children":2918},{"style":531},[2919],{"type":398,"value":2920},"now",{"type":393,"tag":500,"props":2922,"children":2923},{"style":664},[2924],{"type":398,"value":555},{"type":393,"tag":500,"props":2926,"children":2927},{"class":502,"line":1413},[2928],{"type":393,"tag":500,"props":2929,"children":2930},{"style":576},[2931],{"type":398,"value":1485},{"type":393,"tag":432,"props":2933,"children":2935},{"id":2934},"鼠标轨迹优化",[2936],{"type":398,"value":2934},{"type":393,"tag":394,"props":2938,"children":2939},{},[2940],{"type":398,"value":2941},"害，要是打游戏的时候也像这段代码一样，我想我的手点到哪儿它就点到哪儿就好了~",{"type":393,"tag":394,"props":2943,"children":2944},{},[2945],{"type":398,"value":2946},"机器是不会手抖的，这段代码和真实世界的滑动效果相差太远了！我们看一张我用手滑的效果，尤其是要仔细观察滑动过程中鼠标的位置。",{"type":393,"tag":394,"props":2948,"children":2949},{},[2950],{"type":393,"tag":420,"props":2951,"children":2954},{"alt":2952,"src":2953},"鼠标轨迹不稳定","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/soov8Gny09.gif",[],{"type":393,"tag":2956,"props":2957,"children":2958},"ul",{},[2959,2964],{"type":393,"tag":447,"props":2960,"children":2961},{},[2962],{"type":398,"value":2963},"鼠标 Y 轴位置总是在变",{"type":393,"tag":447,"props":2965,"children":2966},{},[2967],{"type":398,"value":2968},"鼠标 X 轴位置会滑过头（别笑，你肯定也经常划过头）",{"type":393,"tag":394,"props":2970,"children":2971},{},[2972],{"type":398,"value":2973},"这里做一波小优化，把这两个细节整合进去。",{"type":393,"tag":489,"props":2975,"children":2977},{"className":491,"code":2976,"language":493,"meta":387,"style":387},"// 获得一个随机的偏移量\nconst getRandOffset = (randNegative = true, max = 3) => {\n  const negative = randNeagtive\n    ? (Math.random() \u003C 0.5) ? -1 : 1\n    : 1\n  return Math.floor(Math.random() * max) * negative\n}\n\n// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\nconst points = [\n  {\n    time: 1000,\n    x: 200 + getRandOffset(false, 15),\n    y: 200 + getRandOffset(false, 15),\n    steps: 10\n  },\n  {\n    time: 100,\n    x: 200,\n    y: 200,\n    steps: 3\n  }\n]\n\n// 注意这里用 for await 循环把 points 串起来执行\nfor await (const target of points) {\n  const step = {\n    x: Math.floor((target.x - now.x) / target.steps),\n    y: Math.floor((target.y - now.y) / target.steps),\n    time: target.time / target.steps,\n  }\n  let gap\n  while (gap = Math.abs((target.x - now.x)), gap > 0) {\n    await sleep(step.time)\n    // 最后一步就直接滑动到位，不需要随机数了\n    const inOneStep = Math.abs(target.x - now.x) \u003C= Math.abs(step.x);\n    if (inOneStep) {\n      now.x = target.x;\n      now.y = target.y;\n    } else {\n      now.x += step.x + getRandOffset();\n      now.y += step.y + getRandOffset();\n    }\n    moveMouseTo(now)\n  }\n}\n",[2978],{"type":393,"tag":496,"props":2979,"children":2980},{"__ignoreMap":387},[2981,2989,3055,3076,3144,3156,3218,3225,3232,3240,3261,3269,3289,3339,3387,3403,3411,3418,3437,3456,3475,3491,3499,3507,3514,3522,3561,3581,3668,3752,3797,3805,3819,3918,3951,3960,4066,4092,4129,4165,4183,4231,4279,4288,4309,4317],{"type":393,"tag":500,"props":2982,"children":2983},{"class":502,"line":503},[2984],{"type":393,"tag":500,"props":2985,"children":2986},{"style":947},[2987],{"type":398,"value":2988},"// 获得一个随机的偏移量\n",{"type":393,"tag":500,"props":2990,"children":2991},{"class":502,"line":558},[2992,2996,3002,3006,3010,3015,3019,3025,3029,3034,3038,3043,3047,3051],{"type":393,"tag":500,"props":2993,"children":2994},{"style":507},[2995],{"type":398,"value":510},{"type":393,"tag":500,"props":2997,"children":2999},{"style":2998},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3000],{"type":398,"value":3001}," getRandOffset",{"type":393,"tag":500,"props":3003,"children":3004},{"style":519},[3005],{"type":398,"value":522},{"type":393,"tag":500,"props":3007,"children":3008},{"style":576},[3009],{"type":398,"value":990},{"type":393,"tag":500,"props":3011,"children":3012},{"style":611},[3013],{"type":398,"value":3014},"randNegative",{"type":393,"tag":500,"props":3016,"children":3017},{"style":519},[3018],{"type":398,"value":522},{"type":393,"tag":500,"props":3020,"children":3022},{"style":3021},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3023],{"type":398,"value":3024}," true",{"type":393,"tag":500,"props":3026,"children":3027},{"style":576},[3028],{"type":398,"value":1000},{"type":393,"tag":500,"props":3030,"children":3031},{"style":611},[3032],{"type":398,"value":3033}," max",{"type":393,"tag":500,"props":3035,"children":3036},{"style":519},[3037],{"type":398,"value":522},{"type":393,"tag":500,"props":3039,"children":3040},{"style":1473},[3041],{"type":398,"value":3042}," 3",{"type":393,"tag":500,"props":3044,"children":3045},{"style":576},[3046],{"type":398,"value":1010},{"type":393,"tag":500,"props":3048,"children":3049},{"style":507},[3050],{"type":398,"value":619},{"type":393,"tag":500,"props":3052,"children":3053},{"style":576},[3054],{"type":398,"value":624},{"type":393,"tag":500,"props":3056,"children":3057},{"class":502,"line":568},[3058,3062,3067,3071],{"type":393,"tag":500,"props":3059,"children":3060},{"style":507},[3061],{"type":398,"value":633},{"type":393,"tag":500,"props":3063,"children":3064},{"style":513},[3065],{"type":398,"value":3066}," negative",{"type":393,"tag":500,"props":3068,"children":3069},{"style":519},[3070],{"type":398,"value":522},{"type":393,"tag":500,"props":3072,"children":3073},{"style":531},[3074],{"type":398,"value":3075}," randNeagtive\n",{"type":393,"tag":500,"props":3077,"children":3078},{"class":502,"line":627},[3079,3084,3088,3093,3097,3102,3107,3111,3116,3121,3126,3131,3135,3140],{"type":393,"tag":500,"props":3080,"children":3081},{"style":519},[3082],{"type":398,"value":3083},"    ?",{"type":393,"tag":500,"props":3085,"children":3086},{"style":664},[3087],{"type":398,"value":990},{"type":393,"tag":500,"props":3089,"children":3090},{"style":531},[3091],{"type":398,"value":3092},"Math",{"type":393,"tag":500,"props":3094,"children":3095},{"style":576},[3096],{"type":398,"value":579},{"type":393,"tag":500,"props":3098,"children":3099},{"style":525},[3100],{"type":398,"value":3101},"random",{"type":393,"tag":500,"props":3103,"children":3104},{"style":664},[3105],{"type":398,"value":3106},"() ",{"type":393,"tag":500,"props":3108,"children":3109},{"style":519},[3110],{"type":398,"value":2766},{"type":393,"tag":500,"props":3112,"children":3113},{"style":1473},[3114],{"type":398,"value":3115}," 0.5",{"type":393,"tag":500,"props":3117,"children":3118},{"style":664},[3119],{"type":398,"value":3120},") ",{"type":393,"tag":500,"props":3122,"children":3123},{"style":519},[3124],{"type":398,"value":3125},"?",{"type":393,"tag":500,"props":3127,"children":3128},{"style":519},[3129],{"type":398,"value":3130}," -",{"type":393,"tag":500,"props":3132,"children":3133},{"style":1473},[3134],{"type":398,"value":820},{"type":393,"tag":500,"props":3136,"children":3137},{"style":519},[3138],{"type":398,"value":3139}," :",{"type":393,"tag":500,"props":3141,"children":3142},{"style":1473},[3143],{"type":398,"value":1476},{"type":393,"tag":500,"props":3145,"children":3146},{"class":502,"line":670},[3147,3152],{"type":393,"tag":500,"props":3148,"children":3149},{"style":519},[3150],{"type":398,"value":3151},"    :",{"type":393,"tag":500,"props":3153,"children":3154},{"style":1473},[3155],{"type":398,"value":1476},{"type":393,"tag":500,"props":3157,"children":3158},{"class":502,"line":713},[3159,3164,3168,3172,3176,3180,3184,3188,3192,3196,3201,3205,3209,3213],{"type":393,"tag":500,"props":3160,"children":3161},{"style":645},[3162],{"type":398,"value":3163},"  return",{"type":393,"tag":500,"props":3165,"children":3166},{"style":531},[3167],{"type":398,"value":1891},{"type":393,"tag":500,"props":3169,"children":3170},{"style":576},[3171],{"type":398,"value":579},{"type":393,"tag":500,"props":3173,"children":3174},{"style":525},[3175],{"type":398,"value":2591},{"type":393,"tag":500,"props":3177,"children":3178},{"style":664},[3179],{"type":398,"value":534},{"type":393,"tag":500,"props":3181,"children":3182},{"style":531},[3183],{"type":398,"value":3092},{"type":393,"tag":500,"props":3185,"children":3186},{"style":576},[3187],{"type":398,"value":579},{"type":393,"tag":500,"props":3189,"children":3190},{"style":525},[3191],{"type":398,"value":3101},{"type":393,"tag":500,"props":3193,"children":3194},{"style":664},[3195],{"type":398,"value":3106},{"type":393,"tag":500,"props":3197,"children":3198},{"style":519},[3199],{"type":398,"value":3200},"*",{"type":393,"tag":500,"props":3202,"children":3203},{"style":531},[3204],{"type":398,"value":3033},{"type":393,"tag":500,"props":3206,"children":3207},{"style":664},[3208],{"type":398,"value":3120},{"type":393,"tag":500,"props":3210,"children":3211},{"style":519},[3212],{"type":398,"value":3200},{"type":393,"tag":500,"props":3214,"children":3215},{"style":531},[3216],{"type":398,"value":3217}," negative\n",{"type":393,"tag":500,"props":3219,"children":3220},{"class":502,"line":1098},[3221],{"type":393,"tag":500,"props":3222,"children":3223},{"style":576},[3224],{"type":398,"value":1485},{"type":393,"tag":500,"props":3226,"children":3227},{"class":502,"line":1124},[3228],{"type":393,"tag":500,"props":3229,"children":3230},{"emptyLinePlaceholder":562},[3231],{"type":398,"value":565},{"type":393,"tag":500,"props":3233,"children":3234},{"class":502,"line":1132},[3235],{"type":393,"tag":500,"props":3236,"children":3237},{"style":947},[3238],{"type":398,"value":3239},"// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\n",{"type":393,"tag":500,"props":3241,"children":3242},{"class":502,"line":1141},[3243,3247,3252,3256],{"type":393,"tag":500,"props":3244,"children":3245},{"style":507},[3246],{"type":398,"value":510},{"type":393,"tag":500,"props":3248,"children":3249},{"style":513},[3250],{"type":398,"value":3251}," points",{"type":393,"tag":500,"props":3253,"children":3254},{"style":519},[3255],{"type":398,"value":522},{"type":393,"tag":500,"props":3257,"children":3258},{"style":531},[3259],{"type":398,"value":3260}," [\n",{"type":393,"tag":500,"props":3262,"children":3263},{"class":502,"line":1149},[3264],{"type":393,"tag":500,"props":3265,"children":3266},{"style":576},[3267],{"type":398,"value":3268},"  {\n",{"type":393,"tag":500,"props":3270,"children":3271},{"class":502,"line":1204},[3272,3277,3281,3285],{"type":393,"tag":500,"props":3273,"children":3274},{"style":664},[3275],{"type":398,"value":3276},"    time",{"type":393,"tag":500,"props":3278,"children":3279},{"style":576},[3280],{"type":398,"value":1257},{"type":393,"tag":500,"props":3282,"children":3283},{"style":1473},[3284],{"type":398,"value":2471},{"type":393,"tag":500,"props":3286,"children":3287},{"style":576},[3288],{"type":398,"value":1341},{"type":393,"tag":500,"props":3290,"children":3291},{"class":502,"line":1246},[3292,3297,3301,3305,3310,3314,3318,3323,3327,3331,3335],{"type":393,"tag":500,"props":3293,"children":3294},{"style":664},[3295],{"type":398,"value":3296},"    x",{"type":393,"tag":500,"props":3298,"children":3299},{"style":576},[3300],{"type":398,"value":1257},{"type":393,"tag":500,"props":3302,"children":3303},{"style":1473},[3304],{"type":398,"value":2491},{"type":393,"tag":500,"props":3306,"children":3307},{"style":519},[3308],{"type":398,"value":3309}," +",{"type":393,"tag":500,"props":3311,"children":3312},{"style":525},[3313],{"type":398,"value":3001},{"type":393,"tag":500,"props":3315,"children":3316},{"style":531},[3317],{"type":398,"value":534},{"type":393,"tag":500,"props":3319,"children":3320},{"style":3021},[3321],{"type":398,"value":3322},"false",{"type":393,"tag":500,"props":3324,"children":3325},{"style":576},[3326],{"type":398,"value":1000},{"type":393,"tag":500,"props":3328,"children":3329},{"style":1473},[3330],{"type":398,"value":1847},{"type":393,"tag":500,"props":3332,"children":3333},{"style":531},[3334],{"type":398,"value":1010},{"type":393,"tag":500,"props":3336,"children":3337},{"style":576},[3338],{"type":398,"value":1341},{"type":393,"tag":500,"props":3340,"children":3341},{"class":502,"line":1275},[3342,3347,3351,3355,3359,3363,3367,3371,3375,3379,3383],{"type":393,"tag":500,"props":3343,"children":3344},{"style":664},[3345],{"type":398,"value":3346},"    y",{"type":393,"tag":500,"props":3348,"children":3349},{"style":576},[3350],{"type":398,"value":1257},{"type":393,"tag":500,"props":3352,"children":3353},{"style":1473},[3354],{"type":398,"value":2491},{"type":393,"tag":500,"props":3356,"children":3357},{"style":519},[3358],{"type":398,"value":3309},{"type":393,"tag":500,"props":3360,"children":3361},{"style":525},[3362],{"type":398,"value":3001},{"type":393,"tag":500,"props":3364,"children":3365},{"style":531},[3366],{"type":398,"value":534},{"type":393,"tag":500,"props":3368,"children":3369},{"style":3021},[3370],{"type":398,"value":3322},{"type":393,"tag":500,"props":3372,"children":3373},{"style":576},[3374],{"type":398,"value":1000},{"type":393,"tag":500,"props":3376,"children":3377},{"style":1473},[3378],{"type":398,"value":1847},{"type":393,"tag":500,"props":3380,"children":3381},{"style":531},[3382],{"type":398,"value":1010},{"type":393,"tag":500,"props":3384,"children":3385},{"style":576},[3386],{"type":398,"value":1341},{"type":393,"tag":500,"props":3388,"children":3389},{"class":502,"line":1288},[3390,3395,3399],{"type":393,"tag":500,"props":3391,"children":3392},{"style":664},[3393],{"type":398,"value":3394},"    steps",{"type":393,"tag":500,"props":3396,"children":3397},{"style":576},[3398],{"type":398,"value":1257},{"type":393,"tag":500,"props":3400,"children":3401},{"style":1473},[3402],{"type":398,"value":2547},{"type":393,"tag":500,"props":3404,"children":3405},{"class":502,"line":1322},[3406],{"type":393,"tag":500,"props":3407,"children":3408},{"style":576},[3409],{"type":398,"value":3410},"  },\n",{"type":393,"tag":500,"props":3412,"children":3413},{"class":502,"line":1344},[3414],{"type":393,"tag":500,"props":3415,"children":3416},{"style":576},[3417],{"type":398,"value":3268},{"type":393,"tag":500,"props":3419,"children":3420},{"class":502,"line":1362},[3421,3425,3429,3433],{"type":393,"tag":500,"props":3422,"children":3423},{"style":664},[3424],{"type":398,"value":3276},{"type":393,"tag":500,"props":3426,"children":3427},{"style":576},[3428],{"type":398,"value":1257},{"type":393,"tag":500,"props":3430,"children":3431},{"style":1473},[3432],{"type":398,"value":2406},{"type":393,"tag":500,"props":3434,"children":3435},{"style":576},[3436],{"type":398,"value":1341},{"type":393,"tag":500,"props":3438,"children":3439},{"class":502,"line":1374},[3440,3444,3448,3452],{"type":393,"tag":500,"props":3441,"children":3442},{"style":664},[3443],{"type":398,"value":3296},{"type":393,"tag":500,"props":3445,"children":3446},{"style":576},[3447],{"type":398,"value":1257},{"type":393,"tag":500,"props":3449,"children":3450},{"style":1473},[3451],{"type":398,"value":2491},{"type":393,"tag":500,"props":3453,"children":3454},{"style":576},[3455],{"type":398,"value":1341},{"type":393,"tag":500,"props":3457,"children":3458},{"class":502,"line":1400},[3459,3463,3467,3471],{"type":393,"tag":500,"props":3460,"children":3461},{"style":664},[3462],{"type":398,"value":3346},{"type":393,"tag":500,"props":3464,"children":3465},{"style":576},[3466],{"type":398,"value":1257},{"type":393,"tag":500,"props":3468,"children":3469},{"style":1473},[3470],{"type":398,"value":2491},{"type":393,"tag":500,"props":3472,"children":3473},{"style":576},[3474],{"type":398,"value":1341},{"type":393,"tag":500,"props":3476,"children":3477},{"class":502,"line":1413},[3478,3482,3486],{"type":393,"tag":500,"props":3479,"children":3480},{"style":664},[3481],{"type":398,"value":3394},{"type":393,"tag":500,"props":3483,"children":3484},{"style":576},[3485],{"type":398,"value":1257},{"type":393,"tag":500,"props":3487,"children":3488},{"style":1473},[3489],{"type":398,"value":3490}," 3\n",{"type":393,"tag":500,"props":3492,"children":3493},{"class":502,"line":1439},[3494],{"type":393,"tag":500,"props":3495,"children":3496},{"style":576},[3497],{"type":398,"value":3498},"  }\n",{"type":393,"tag":500,"props":3500,"children":3501},{"class":502,"line":1451},[3502],{"type":393,"tag":500,"props":3503,"children":3504},{"style":531},[3505],{"type":398,"value":3506},"]\n",{"type":393,"tag":500,"props":3508,"children":3509},{"class":502,"line":1459},[3510],{"type":393,"tag":500,"props":3511,"children":3512},{"emptyLinePlaceholder":562},[3513],{"type":398,"value":565},{"type":393,"tag":500,"props":3515,"children":3516},{"class":502,"line":1479},[3517],{"type":393,"tag":500,"props":3518,"children":3519},{"style":947},[3520],{"type":398,"value":3521},"// 注意这里用 for await 循环把 points 串起来执行\n",{"type":393,"tag":500,"props":3523,"children":3525},{"class":502,"line":3524},26,[3526,3531,3535,3539,3543,3547,3552,3557],{"type":393,"tag":500,"props":3527,"children":3528},{"style":645},[3529],{"type":398,"value":3530},"for",{"type":393,"tag":500,"props":3532,"children":3533},{"style":645},[3534],{"type":398,"value":648},{"type":393,"tag":500,"props":3536,"children":3537},{"style":531},[3538],{"type":398,"value":990},{"type":393,"tag":500,"props":3540,"children":3541},{"style":507},[3542],{"type":398,"value":510},{"type":393,"tag":500,"props":3544,"children":3545},{"style":513},[3546],{"type":398,"value":2446},{"type":393,"tag":500,"props":3548,"children":3549},{"style":519},[3550],{"type":398,"value":3551}," of",{"type":393,"tag":500,"props":3553,"children":3554},{"style":531},[3555],{"type":398,"value":3556}," points) ",{"type":393,"tag":500,"props":3558,"children":3559},{"style":576},[3560],{"type":398,"value":934},{"type":393,"tag":500,"props":3562,"children":3564},{"class":502,"line":3563},27,[3565,3569,3573,3577],{"type":393,"tag":500,"props":3566,"children":3567},{"style":507},[3568],{"type":398,"value":633},{"type":393,"tag":500,"props":3570,"children":3571},{"style":513},[3572],{"type":398,"value":2559},{"type":393,"tag":500,"props":3574,"children":3575},{"style":519},[3576],{"type":398,"value":522},{"type":393,"tag":500,"props":3578,"children":3579},{"style":576},[3580],{"type":398,"value":624},{"type":393,"tag":500,"props":3582,"children":3584},{"class":502,"line":3583},28,[3585,3589,3593,3597,3601,3605,3610,3615,3619,3623,3627,3631,3635,3639,3643,3647,3651,3655,3660,3664],{"type":393,"tag":500,"props":3586,"children":3587},{"style":664},[3588],{"type":398,"value":3296},{"type":393,"tag":500,"props":3590,"children":3591},{"style":576},[3592],{"type":398,"value":1257},{"type":393,"tag":500,"props":3594,"children":3595},{"style":531},[3596],{"type":398,"value":1891},{"type":393,"tag":500,"props":3598,"children":3599},{"style":576},[3600],{"type":398,"value":579},{"type":393,"tag":500,"props":3602,"children":3603},{"style":525},[3604],{"type":398,"value":2591},{"type":393,"tag":500,"props":3606,"children":3607},{"style":664},[3608],{"type":398,"value":3609},"((",{"type":393,"tag":500,"props":3611,"children":3612},{"style":531},[3613],{"type":398,"value":3614},"target",{"type":393,"tag":500,"props":3616,"children":3617},{"style":576},[3618],{"type":398,"value":579},{"type":393,"tag":500,"props":3620,"children":3621},{"style":531},[3622],{"type":398,"value":1936},{"type":393,"tag":500,"props":3624,"children":3625},{"style":519},[3626],{"type":398,"value":3130},{"type":393,"tag":500,"props":3628,"children":3629},{"style":531},[3630],{"type":398,"value":2381},{"type":393,"tag":500,"props":3632,"children":3633},{"style":576},[3634],{"type":398,"value":579},{"type":393,"tag":500,"props":3636,"children":3637},{"style":531},[3638],{"type":398,"value":1936},{"type":393,"tag":500,"props":3640,"children":3641},{"style":664},[3642],{"type":398,"value":3120},{"type":393,"tag":500,"props":3644,"children":3645},{"style":519},[3646],{"type":398,"value":2627},{"type":393,"tag":500,"props":3648,"children":3649},{"style":531},[3650],{"type":398,"value":2446},{"type":393,"tag":500,"props":3652,"children":3653},{"style":576},[3654],{"type":398,"value":579},{"type":393,"tag":500,"props":3656,"children":3657},{"style":531},[3658],{"type":398,"value":3659},"steps",{"type":393,"tag":500,"props":3661,"children":3662},{"style":664},[3663],{"type":398,"value":1010},{"type":393,"tag":500,"props":3665,"children":3666},{"style":576},[3667],{"type":398,"value":1341},{"type":393,"tag":500,"props":3669,"children":3671},{"class":502,"line":3670},29,[3672,3676,3680,3684,3688,3692,3696,3700,3704,3708,3712,3716,3720,3724,3728,3732,3736,3740,3744,3748],{"type":393,"tag":500,"props":3673,"children":3674},{"style":664},[3675],{"type":398,"value":3346},{"type":393,"tag":500,"props":3677,"children":3678},{"style":576},[3679],{"type":398,"value":1257},{"type":393,"tag":500,"props":3681,"children":3682},{"style":531},[3683],{"type":398,"value":1891},{"type":393,"tag":500,"props":3685,"children":3686},{"style":576},[3687],{"type":398,"value":579},{"type":393,"tag":500,"props":3689,"children":3690},{"style":525},[3691],{"type":398,"value":2591},{"type":393,"tag":500,"props":3693,"children":3694},{"style":664},[3695],{"type":398,"value":3609},{"type":393,"tag":500,"props":3697,"children":3698},{"style":531},[3699],{"type":398,"value":3614},{"type":393,"tag":500,"props":3701,"children":3702},{"style":576},[3703],{"type":398,"value":579},{"type":393,"tag":500,"props":3705,"children":3706},{"style":531},[3707],{"type":398,"value":2865},{"type":393,"tag":500,"props":3709,"children":3710},{"style":519},[3711],{"type":398,"value":3130},{"type":393,"tag":500,"props":3713,"children":3714},{"style":531},[3715],{"type":398,"value":2381},{"type":393,"tag":500,"props":3717,"children":3718},{"style":576},[3719],{"type":398,"value":579},{"type":393,"tag":500,"props":3721,"children":3722},{"style":531},[3723],{"type":398,"value":2865},{"type":393,"tag":500,"props":3725,"children":3726},{"style":664},[3727],{"type":398,"value":3120},{"type":393,"tag":500,"props":3729,"children":3730},{"style":519},[3731],{"type":398,"value":2627},{"type":393,"tag":500,"props":3733,"children":3734},{"style":531},[3735],{"type":398,"value":2446},{"type":393,"tag":500,"props":3737,"children":3738},{"style":576},[3739],{"type":398,"value":579},{"type":393,"tag":500,"props":3741,"children":3742},{"style":531},[3743],{"type":398,"value":3659},{"type":393,"tag":500,"props":3745,"children":3746},{"style":664},[3747],{"type":398,"value":1010},{"type":393,"tag":500,"props":3749,"children":3750},{"style":576},[3751],{"type":398,"value":1341},{"type":393,"tag":500,"props":3753,"children":3755},{"class":502,"line":3754},30,[3756,3760,3764,3768,3772,3776,3781,3785,3789,3793],{"type":393,"tag":500,"props":3757,"children":3758},{"style":664},[3759],{"type":398,"value":3276},{"type":393,"tag":500,"props":3761,"children":3762},{"style":576},[3763],{"type":398,"value":1257},{"type":393,"tag":500,"props":3765,"children":3766},{"style":531},[3767],{"type":398,"value":2446},{"type":393,"tag":500,"props":3769,"children":3770},{"style":576},[3771],{"type":398,"value":579},{"type":393,"tag":500,"props":3773,"children":3774},{"style":531},[3775],{"type":398,"value":2812},{"type":393,"tag":500,"props":3777,"children":3778},{"style":519},[3779],{"type":398,"value":3780}," /",{"type":393,"tag":500,"props":3782,"children":3783},{"style":531},[3784],{"type":398,"value":2446},{"type":393,"tag":500,"props":3786,"children":3787},{"style":576},[3788],{"type":398,"value":579},{"type":393,"tag":500,"props":3790,"children":3791},{"style":531},[3792],{"type":398,"value":3659},{"type":393,"tag":500,"props":3794,"children":3795},{"style":576},[3796],{"type":398,"value":1341},{"type":393,"tag":500,"props":3798,"children":3800},{"class":502,"line":3799},31,[3801],{"type":393,"tag":500,"props":3802,"children":3803},{"style":576},[3804],{"type":398,"value":3498},{"type":393,"tag":500,"props":3806,"children":3808},{"class":502,"line":3807},32,[3809,3814],{"type":393,"tag":500,"props":3810,"children":3811},{"style":507},[3812],{"type":398,"value":3813},"  let",{"type":393,"tag":500,"props":3815,"children":3816},{"style":531},[3817],{"type":398,"value":3818}," gap\n",{"type":393,"tag":500,"props":3820,"children":3822},{"class":502,"line":3821},33,[3823,3828,3832,3837,3841,3845,3849,3854,3858,3862,3866,3870,3874,3878,3882,3886,3891,3895,3900,3905,3910,3914],{"type":393,"tag":500,"props":3824,"children":3825},{"style":645},[3826],{"type":398,"value":3827},"  while",{"type":393,"tag":500,"props":3829,"children":3830},{"style":664},[3831],{"type":398,"value":990},{"type":393,"tag":500,"props":3833,"children":3834},{"style":531},[3835],{"type":398,"value":3836},"gap",{"type":393,"tag":500,"props":3838,"children":3839},{"style":519},[3840],{"type":398,"value":522},{"type":393,"tag":500,"props":3842,"children":3843},{"style":531},[3844],{"type":398,"value":1891},{"type":393,"tag":500,"props":3846,"children":3847},{"style":576},[3848],{"type":398,"value":579},{"type":393,"tag":500,"props":3850,"children":3851},{"style":525},[3852],{"type":398,"value":3853},"abs",{"type":393,"tag":500,"props":3855,"children":3856},{"style":664},[3857],{"type":398,"value":3609},{"type":393,"tag":500,"props":3859,"children":3860},{"style":531},[3861],{"type":398,"value":3614},{"type":393,"tag":500,"props":3863,"children":3864},{"style":576},[3865],{"type":398,"value":579},{"type":393,"tag":500,"props":3867,"children":3868},{"style":531},[3869],{"type":398,"value":1936},{"type":393,"tag":500,"props":3871,"children":3872},{"style":519},[3873],{"type":398,"value":3130},{"type":393,"tag":500,"props":3875,"children":3876},{"style":531},[3877],{"type":398,"value":2381},{"type":393,"tag":500,"props":3879,"children":3880},{"style":576},[3881],{"type":398,"value":579},{"type":393,"tag":500,"props":3883,"children":3884},{"style":531},[3885],{"type":398,"value":1936},{"type":393,"tag":500,"props":3887,"children":3888},{"style":664},[3889],{"type":398,"value":3890},"))",{"type":393,"tag":500,"props":3892,"children":3893},{"style":576},[3894],{"type":398,"value":1000},{"type":393,"tag":500,"props":3896,"children":3897},{"style":531},[3898],{"type":398,"value":3899}," gap",{"type":393,"tag":500,"props":3901,"children":3902},{"style":519},[3903],{"type":398,"value":3904}," >",{"type":393,"tag":500,"props":3906,"children":3907},{"style":1473},[3908],{"type":398,"value":3909}," 0",{"type":393,"tag":500,"props":3911,"children":3912},{"style":664},[3913],{"type":398,"value":3120},{"type":393,"tag":500,"props":3915,"children":3916},{"style":576},[3917],{"type":398,"value":934},{"type":393,"tag":500,"props":3919,"children":3921},{"class":502,"line":3920},34,[3922,3927,3931,3935,3939,3943,3947],{"type":393,"tag":500,"props":3923,"children":3924},{"style":645},[3925],{"type":398,"value":3926},"    await",{"type":393,"tag":500,"props":3928,"children":3929},{"style":525},[3930],{"type":398,"value":2794},{"type":393,"tag":500,"props":3932,"children":3933},{"style":664},[3934],{"type":398,"value":534},{"type":393,"tag":500,"props":3936,"children":3937},{"style":531},[3938],{"type":398,"value":2803},{"type":393,"tag":500,"props":3940,"children":3941},{"style":576},[3942],{"type":398,"value":579},{"type":393,"tag":500,"props":3944,"children":3945},{"style":531},[3946],{"type":398,"value":2812},{"type":393,"tag":500,"props":3948,"children":3949},{"style":664},[3950],{"type":398,"value":555},{"type":393,"tag":500,"props":3952,"children":3954},{"class":502,"line":3953},35,[3955],{"type":393,"tag":500,"props":3956,"children":3957},{"style":947},[3958],{"type":398,"value":3959},"    // 最后一步就直接滑动到位，不需要随机数了\n",{"type":393,"tag":500,"props":3961,"children":3963},{"class":502,"line":3962},36,[3964,3969,3974,3978,3982,3986,3990,3994,3998,4002,4006,4010,4014,4018,4022,4026,4030,4034,4038,4042,4046,4050,4054,4058,4062],{"type":393,"tag":500,"props":3965,"children":3966},{"style":507},[3967],{"type":398,"value":3968},"    const",{"type":393,"tag":500,"props":3970,"children":3971},{"style":513},[3972],{"type":398,"value":3973}," inOneStep",{"type":393,"tag":500,"props":3975,"children":3976},{"style":519},[3977],{"type":398,"value":522},{"type":393,"tag":500,"props":3979,"children":3980},{"style":531},[3981],{"type":398,"value":1891},{"type":393,"tag":500,"props":3983,"children":3984},{"style":576},[3985],{"type":398,"value":579},{"type":393,"tag":500,"props":3987,"children":3988},{"style":525},[3989],{"type":398,"value":3853},{"type":393,"tag":500,"props":3991,"children":3992},{"style":664},[3993],{"type":398,"value":534},{"type":393,"tag":500,"props":3995,"children":3996},{"style":531},[3997],{"type":398,"value":3614},{"type":393,"tag":500,"props":3999,"children":4000},{"style":576},[4001],{"type":398,"value":579},{"type":393,"tag":500,"props":4003,"children":4004},{"style":531},[4005],{"type":398,"value":1936},{"type":393,"tag":500,"props":4007,"children":4008},{"style":519},[4009],{"type":398,"value":3130},{"type":393,"tag":500,"props":4011,"children":4012},{"style":531},[4013],{"type":398,"value":2381},{"type":393,"tag":500,"props":4015,"children":4016},{"style":576},[4017],{"type":398,"value":579},{"type":393,"tag":500,"props":4019,"children":4020},{"style":531},[4021],{"type":398,"value":1936},{"type":393,"tag":500,"props":4023,"children":4024},{"style":664},[4025],{"type":398,"value":3120},{"type":393,"tag":500,"props":4027,"children":4028},{"style":519},[4029],{"type":398,"value":924},{"type":393,"tag":500,"props":4031,"children":4032},{"style":531},[4033],{"type":398,"value":1891},{"type":393,"tag":500,"props":4035,"children":4036},{"style":576},[4037],{"type":398,"value":579},{"type":393,"tag":500,"props":4039,"children":4040},{"style":525},[4041],{"type":398,"value":3853},{"type":393,"tag":500,"props":4043,"children":4044},{"style":664},[4045],{"type":398,"value":534},{"type":393,"tag":500,"props":4047,"children":4048},{"style":531},[4049],{"type":398,"value":2803},{"type":393,"tag":500,"props":4051,"children":4052},{"style":576},[4053],{"type":398,"value":579},{"type":393,"tag":500,"props":4055,"children":4056},{"style":531},[4057],{"type":398,"value":1936},{"type":393,"tag":500,"props":4059,"children":4060},{"style":664},[4061],{"type":398,"value":1010},{"type":393,"tag":500,"props":4063,"children":4064},{"style":576},[4065],{"type":398,"value":1619},{"type":393,"tag":500,"props":4067,"children":4069},{"class":502,"line":4068},37,[4070,4075,4079,4084,4088],{"type":393,"tag":500,"props":4071,"children":4072},{"style":645},[4073],{"type":398,"value":4074},"    if",{"type":393,"tag":500,"props":4076,"children":4077},{"style":664},[4078],{"type":398,"value":990},{"type":393,"tag":500,"props":4080,"children":4081},{"style":531},[4082],{"type":398,"value":4083},"inOneStep",{"type":393,"tag":500,"props":4085,"children":4086},{"style":664},[4087],{"type":398,"value":3120},{"type":393,"tag":500,"props":4089,"children":4090},{"style":576},[4091],{"type":398,"value":934},{"type":393,"tag":500,"props":4093,"children":4095},{"class":502,"line":4094},38,[4096,4101,4105,4109,4113,4117,4121,4125],{"type":393,"tag":500,"props":4097,"children":4098},{"style":531},[4099],{"type":398,"value":4100},"      now",{"type":393,"tag":500,"props":4102,"children":4103},{"style":576},[4104],{"type":398,"value":579},{"type":393,"tag":500,"props":4106,"children":4107},{"style":531},[4108],{"type":398,"value":1936},{"type":393,"tag":500,"props":4110,"children":4111},{"style":519},[4112],{"type":398,"value":522},{"type":393,"tag":500,"props":4114,"children":4115},{"style":531},[4116],{"type":398,"value":2446},{"type":393,"tag":500,"props":4118,"children":4119},{"style":576},[4120],{"type":398,"value":579},{"type":393,"tag":500,"props":4122,"children":4123},{"style":531},[4124],{"type":398,"value":1936},{"type":393,"tag":500,"props":4126,"children":4127},{"style":576},[4128],{"type":398,"value":1619},{"type":393,"tag":500,"props":4130,"children":4132},{"class":502,"line":4131},39,[4133,4137,4141,4145,4149,4153,4157,4161],{"type":393,"tag":500,"props":4134,"children":4135},{"style":531},[4136],{"type":398,"value":4100},{"type":393,"tag":500,"props":4138,"children":4139},{"style":576},[4140],{"type":398,"value":579},{"type":393,"tag":500,"props":4142,"children":4143},{"style":531},[4144],{"type":398,"value":2865},{"type":393,"tag":500,"props":4146,"children":4147},{"style":519},[4148],{"type":398,"value":522},{"type":393,"tag":500,"props":4150,"children":4151},{"style":531},[4152],{"type":398,"value":2446},{"type":393,"tag":500,"props":4154,"children":4155},{"style":576},[4156],{"type":398,"value":579},{"type":393,"tag":500,"props":4158,"children":4159},{"style":531},[4160],{"type":398,"value":2865},{"type":393,"tag":500,"props":4162,"children":4163},{"style":576},[4164],{"type":398,"value":1619},{"type":393,"tag":500,"props":4166,"children":4168},{"class":502,"line":4167},40,[4169,4174,4179],{"type":393,"tag":500,"props":4170,"children":4171},{"style":576},[4172],{"type":398,"value":4173},"    }",{"type":393,"tag":500,"props":4175,"children":4176},{"style":645},[4177],{"type":398,"value":4178}," else",{"type":393,"tag":500,"props":4180,"children":4181},{"style":576},[4182],{"type":398,"value":624},{"type":393,"tag":500,"props":4184,"children":4186},{"class":502,"line":4185},41,[4187,4191,4195,4199,4203,4207,4211,4215,4219,4223,4227],{"type":393,"tag":500,"props":4188,"children":4189},{"style":531},[4190],{"type":398,"value":4100},{"type":393,"tag":500,"props":4192,"children":4193},{"style":576},[4194],{"type":398,"value":579},{"type":393,"tag":500,"props":4196,"children":4197},{"style":531},[4198],{"type":398,"value":1936},{"type":393,"tag":500,"props":4200,"children":4201},{"style":519},[4202],{"type":398,"value":1470},{"type":393,"tag":500,"props":4204,"children":4205},{"style":531},[4206],{"type":398,"value":2559},{"type":393,"tag":500,"props":4208,"children":4209},{"style":576},[4210],{"type":398,"value":579},{"type":393,"tag":500,"props":4212,"children":4213},{"style":531},[4214],{"type":398,"value":1936},{"type":393,"tag":500,"props":4216,"children":4217},{"style":519},[4218],{"type":398,"value":3309},{"type":393,"tag":500,"props":4220,"children":4221},{"style":525},[4222],{"type":398,"value":3001},{"type":393,"tag":500,"props":4224,"children":4225},{"style":664},[4226],{"type":398,"value":589},{"type":393,"tag":500,"props":4228,"children":4229},{"style":576},[4230],{"type":398,"value":1619},{"type":393,"tag":500,"props":4232,"children":4234},{"class":502,"line":4233},42,[4235,4239,4243,4247,4251,4255,4259,4263,4267,4271,4275],{"type":393,"tag":500,"props":4236,"children":4237},{"style":531},[4238],{"type":398,"value":4100},{"type":393,"tag":500,"props":4240,"children":4241},{"style":576},[4242],{"type":398,"value":579},{"type":393,"tag":500,"props":4244,"children":4245},{"style":531},[4246],{"type":398,"value":2865},{"type":393,"tag":500,"props":4248,"children":4249},{"style":519},[4250],{"type":398,"value":1470},{"type":393,"tag":500,"props":4252,"children":4253},{"style":531},[4254],{"type":398,"value":2559},{"type":393,"tag":500,"props":4256,"children":4257},{"style":576},[4258],{"type":398,"value":579},{"type":393,"tag":500,"props":4260,"children":4261},{"style":531},[4262],{"type":398,"value":2865},{"type":393,"tag":500,"props":4264,"children":4265},{"style":519},[4266],{"type":398,"value":3309},{"type":393,"tag":500,"props":4268,"children":4269},{"style":525},[4270],{"type":398,"value":3001},{"type":393,"tag":500,"props":4272,"children":4273},{"style":664},[4274],{"type":398,"value":589},{"type":393,"tag":500,"props":4276,"children":4277},{"style":576},[4278],{"type":398,"value":1619},{"type":393,"tag":500,"props":4280,"children":4282},{"class":502,"line":4281},43,[4283],{"type":393,"tag":500,"props":4284,"children":4285},{"style":576},[4286],{"type":398,"value":4287},"    }\n",{"type":393,"tag":500,"props":4289,"children":4291},{"class":502,"line":4290},44,[4292,4297,4301,4305],{"type":393,"tag":500,"props":4293,"children":4294},{"style":525},[4295],{"type":398,"value":4296},"    moveMouseTo",{"type":393,"tag":500,"props":4298,"children":4299},{"style":664},[4300],{"type":398,"value":534},{"type":393,"tag":500,"props":4302,"children":4303},{"style":531},[4304],{"type":398,"value":2920},{"type":393,"tag":500,"props":4306,"children":4307},{"style":664},[4308],{"type":398,"value":555},{"type":393,"tag":500,"props":4310,"children":4312},{"class":502,"line":4311},45,[4313],{"type":393,"tag":500,"props":4314,"children":4315},{"style":576},[4316],{"type":398,"value":3498},{"type":393,"tag":500,"props":4318,"children":4320},{"class":502,"line":4319},46,[4321],{"type":393,"tag":500,"props":4322,"children":4323},{"style":576},[4324],{"type":398,"value":1485},{"type":393,"tag":394,"props":4326,"children":4327},{},[4328],{"type":398,"value":4329},"如何移动鼠标到这里就解决了，如果要考虑加速度、用户习惯等因素，代码会复杂许多，暂时就不深入讨论啦，有兴趣的同学可以自己研究。",{"type":393,"tag":394,"props":4331,"children":4332},{},[4333],{"type":398,"value":4334},"最终效果见下图。",{"type":393,"tag":394,"props":4336,"children":4337},{},[4338],{"type":393,"tag":420,"props":4339,"children":4340},{"alt":422,"src":423},[],{"type":393,"tag":394,"props":4342,"children":4343},{},[4344,4346,4353],{"type":398,"value":4345},"源码地址在此：",{"type":393,"tag":401,"props":4347,"children":4350},{"href":4348,"rel":4349},"https://github.com/Lionad-Morotar/crack-the-shield/tree/master/tasks/dooring-slider",[405],[4351],{"type":398,"value":4352},"CrackTheShield",{"type":398,"value":822},{"type":393,"tag":426,"props":4355,"children":4357},{"id":4356},"阅读更多",[4358],{"type":398,"value":4356},{"type":393,"tag":2956,"props":4360,"children":4361},{},[4362,4374],{"type":393,"tag":447,"props":4363,"children":4364},{},[4365,4372],{"type":393,"tag":401,"props":4366,"children":4369},{"href":4367,"rel":4368},"https://juejin.cn/post/6945336161468416037",[405],[4370],{"type":398,"value":4371},"《Python爬虫的实际运用之：破解滑动验证码》",{"type":398,"value":4373},"，这个老哥用了图像边缘检测的方法来判断缺口所在位置。",{"type":393,"tag":447,"props":4375,"children":4376},{},[4377,4384],{"type":393,"tag":401,"props":4378,"children":4381},{"href":4379,"rel":4380},"https://juejin.cn/post/6844903679808520205",[405],[4382],{"type":398,"value":4383},"《震惊! 滑动验证码竟然能这样破解》",{"type":398,"value":4385},"，这个老哥用了一种看谁脸黑的办法来判断图片的缺口所在位置。",{"type":393,"tag":4387,"props":4388,"children":4391},"section",{"className":4389,"dataFootnotes":387},[4390],"footnotes",[4392,4399],{"type":393,"tag":426,"props":4393,"children":4396},{"className":4394,"id":816},[4395],"sr-only",[4397],{"type":398,"value":4398},"Footnotes",{"type":393,"tag":443,"props":4400,"children":4401},{},[4402],{"type":393,"tag":447,"props":4403,"children":4405},{"id":4404},"user-content-fn-alimagic",[4406,4413,4415],{"type":393,"tag":401,"props":4407,"children":4410},{"href":4408,"rel":4409},"https://vision.aliyun.com/experience/detail",[405],[4411],{"type":398,"value":4412},"测试地址",{"type":398,"value":4414}," ",{"type":393,"tag":401,"props":4416,"children":4421},{"href":4417,"ariaLabel":4418,"className":4419,"dataFootnoteBackref":387},"#user-content-fnref-alimagic","Back to reference 1",[4420],"data-footnote-backref",[4422],{"type":398,"value":4423},"↩",{"type":393,"tag":1048,"props":4425,"children":4426},{},[4427],{"type":398,"value":4428},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":387,"searchDepth":558,"depth":558,"links":4430},[4431,4438,4439],{"id":428,"depth":558,"text":428,"children":4432},[4433,4434,4435,4436,4437],{"id":434,"depth":568,"text":434},{"id":787,"depth":568,"text":787},{"id":1528,"depth":568,"text":1528},{"id":2341,"depth":568,"text":2341},{"id":2934,"depth":568,"text":2934},{"id":4356,"depth":558,"text":4356},{"id":816,"depth":558,"text":4398},"markdown","content:2.articles:1105.crack-the-slider.md","content","2.articles/1105.crack-the-slider.md","2.articles/1105.crack-the-slider","md",[4447,4449],{"_path":61,"title":60,"description":4448},"使用 element-plus 内的层级管理器可以解决多组件库间层级不统一的问题",{"_path":67,"title":66,"description":4450},"本文介绍了几种通过CSS实现的常见阴影效果如单侧投影、空心投影、投影动画、彩色阴影、长投影和倒影，以及尝试使用SVG模拟材质特性如粗糙度及光学效应如菲尼尔效应生成了几种特殊的纹理，最后通过一个CSS绘制真实书本案例介绍了实战中的一些细节。",1742039234989]