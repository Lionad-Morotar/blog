[{"data":1,"prerenderedAt":4449},["Reactive",2],{"navigation":3,"/articles/crack-the-slider":383,"/articles/crack-the-slider-surround":4444},[4,32,80,96,123,129,135,366,372,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":42,"_path":43},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":45,"_path":46},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":48,"_path":49},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":51,"_path":52},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":54,"_path":55},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":57,"_path":58},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":60,"_path":61},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":63,"_path":64},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":66,"_path":67},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":69,"_path":70},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":72,"_path":73},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":75,"_path":76},"🚝 四十二篇系列","/articles/fourty-two",{"title":78,"_path":79},"📝 技术博客归档","/articles/fold",{"title":81,"_path":82,"children":83},"造物 / Make","/tools",[84,87,90,93],{"title":85,"_path":86},"🌐 AnySort","/tools/anysort",{"title":88,"_path":89},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":91,"_path":92},"👓 Crapto","/tools/crypto-inline",{"title":94,"_path":95},"🖨️ any-to-base64","/tools/any-to-base64",{"title":97,"_path":98,"children":99},"吉他剧场 / Music","/music",[100,102,105,108,111,114,117,120],{"title":101,"_path":98},"🎸 FingerStyle！",{"title":103,"_path":104},"🌬️ 等待的风","/music/wind",{"title":106,"_path":107},"💕 约定的海洋","/music/ocean",{"title":109,"_path":110},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":112,"_path":113},"🌏 残酷天使的行动纲领","/music/eva",{"title":115,"_path":116},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":118,"_path":119},"🍷 Wu Wei","/music/wu-wei",{"title":121,"_path":122},"🌅 无题","/music/untitled",{"title":124,"_path":125,"children":126},"画点什么 / Paint","/paint",[127],{"title":128,"_path":125},"🚧 正在施工",{"title":130,"_path":131,"children":132},"知识地图 / Maps","/maps",[133],{"title":134,"_path":131},"🏁 知识地图",{"title":136,"_path":137,"children":138},"零散的笔记 / Gists","/gists",[139,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363],{"title":140,"_path":137},"🧊 Gists",{"title":142,"_path":143},"网站的可访问性","/gists/accessibility",{"title":145,"_path":146},"图片模糊","/gists/blur",{"title":148,"_path":149},"渲染相关笔记","/gists/c4d",{"title":151,"_path":152},"CDN 问题记录","/gists/cdn",{"title":154,"_path":155},"消毒剂","/gists/cleaner",{"title":157,"_path":158},"Windows Command","/gists/cmd",{"title":160,"_path":161},"Command","/gists/command",{"title":163,"_path":164},"复杂科学","/gists/complexity-science",{"title":166,"_path":167},"宇宙","/gists/cosmos",{"title":169,"_path":170},"C++","/gists/cpp",{"title":172,"_path":173},"Data Structure","/gists/data-structure",{"title":175,"_path":176},"DEPRESSION","/gists/depression",{"title":178,"_path":179},"设计模式","/gists/design-patterns",{"title":181,"_path":182},"Developer Experience","/gists/developer-experience",{"title":184,"_path":185},"Device Metrics","/gists/device-metrix",{"title":187,"_path":188},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":190,"_path":191},"正则表达式","/gists/eegex",{"title":193,"_path":194},"Emoji","/gists/emoji",{"title":196,"_path":197},"工程","/gists/engineering",{"title":199,"_path":200},"熵","/gists/entropy",{"title":202,"_path":203},"Environment","/gists/environment",{"title":205,"_path":206},"Erlang","/gists/erlang",{"title":208,"_path":209},"逃离塔克夫","/gists/escape-from-tarkov",{"title":211,"_path":212},"ESNext (ES6-ES11)","/gists/esnext",{"title":214,"_path":215},"Eval！","/gists/eval",{"title":217,"_path":218},"Flutter","/gists/flutter",{"title":220,"_path":221},"字体","/gists/font",{"title":223,"_path":224},"JS 函数式编程","/gists/functional",{"title":226,"_path":227},"Google C++ Standard","/gists/google-cpp-standard",{"title":229,"_path":230},"双向链接完全体","/gists/graph",{"title":232,"_path":233},"Hardwares","/gists/hardwares",{"title":235,"_path":236},"哈希冲突","/gists/hash-collision",{"title":238,"_path":239},"信息设计","/gists/information-design",{"title":241,"_path":242},"InstantPage","/gists/instant.page",{"title":244,"_path":245},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":247,"_path":248},"KVStore","/gists/key-value-db",{"title":250,"_path":251},"Kubernetes","/gists/kubernetes",{"title":253,"_path":254},"Makefile","/gists/makefile",{"title":256,"_path":257},"Markdown Inline Style","/gists/markdown-nice",{"title":259,"_path":260},"小程序","/gists/miniapp",{"title":262,"_path":263},"减小页面快照体积","/gists/minify-html",{"title":265,"_path":266},"mklink","/gists/mklink",{"title":268,"_path":269},"Mock","/gists/mock",{"title":271,"_path":272},"多端应用","/gists/multy-end-app",{"title":274,"_path":275},"神经科学","/gists/neuroscience",{"title":277,"_path":278},"OO","/gists/oo",{"title":280,"_path":281},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":283,"_path":284},"人物","/gists/person",{"title":286,"_path":287},"PInvoke","/gists/pinvoke",{"title":289,"_path":290},"像素","/gists/pixel",{"title":292,"_path":293},"PowerShell","/gists/powershell",{"title":295,"_path":296},"量子","/gists/quantum",{"title":298,"_path":299},"保持好奇心","/gists/questions",{"title":301,"_path":302},"React Native","/gists/react-native",{"title":304,"_path":305},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":307,"_path":308},"SEO","/gists/seo",{"title":310,"_path":311},"Shader","/gists/shader",{"title":313,"_path":314},"Shape Up","/gists/shape-up",{"title":316,"_path":317},"睡觉","/gists/sleep",{"title":319,"_path":320},"States","/gists/states",{"title":322,"_path":323},"Storage","/gists/storage",{"title":325,"_path":326},"音视频流处理","/gists/stream-cli",{"title":328,"_path":329},"Symbol","/gists/symbol",{"title":331,"_path":332},"系统论","/gists/systems-theory",{"title":334,"_path":335},"Taro","/gists/taro",{"title":337,"_path":338},"任务切片","/gists/task-slice",{"title":340,"_path":341},"技术偏好","/gists/tech-dudge",{"title":343,"_path":344},"Untitled","/gists/untitled",{"title":346,"_path":347},"可变字体","/gists/variable-font",{"title":349,"_path":350},"视觉错觉","/gists/visual-illusion",{"title":352,"_path":353},"SS(SSR)","/gists/vpn",{"title":355,"_path":356},"VS Code 插件开发","/gists/vscode-plugin",{"title":358,"_path":359},"Web Components","/gists/web-components",{"title":361,"_path":362},"Windows","/gists/windows",{"title":364,"_path":365},"查缺补漏","/gists/wrong",{"title":367,"_path":368,"children":369},"代码笔记 / Gists","/source-code",[370],{"title":371,"_path":368},"🚄 代码笔记",{"title":373,"_path":374,"children":375},"我 / Abount","/hire",[376],{"title":377,"_path":374},"📬 技术简历",{"title":379,"_path":380,"children":381},"todo","/todo",[382],{"title":379,"_path":380},{"_path":55,"_dir":384,"_draft":385,"_partial":385,"_locale":386,"title":54,"description":387,"body":388,"_type":4439,"_id":4440,"_source":4441,"_file":4442,"_extension":4443},"articles",false,"","如何破解滑块验证码？本文介绍使用Puppeteer操作浏览器进行图片对比、图片识别及优化鼠标轨迹以模仿真是用户等几种简单爬虫验证码破解思路，适用多种场景。",{"type":389,"children":390,"toc":4428},"root",[391,410,415,424,430,436,441,461,475,487,723,731,736,741,774,779,784,789,794,802,822,830,842,850,855,863,868,889,894,899,1485,1493,1507,1515,1520,1525,1530,1535,1540,1558,1563,1568,1858,1863,2328,2333,2338,2343,2348,2362,2931,2936,2941,2946,2954,2968,2973,4324,4329,4334,4340,4353,4358,4385,4423],{"type":392,"tag":393,"props":394,"children":395},"element","p",{},[396,399,408],{"type":397,"value":398},"text","昨天在掘金看到推荐文章",{"type":392,"tag":400,"props":401,"children":405},"a",{"href":402,"rel":403},"https://juejin.cn/post/7007615666609979400",[404],"nofollow",[406],{"type":397,"value":407},"《从零开发一款轻量级滑动验证码插件》",{"type":397,"value":409},"，介绍了一些相关验证码及框架开发的知识点。巧的是就在前两周，我们公司举办了一个爬虫攻防赛，其中用到多种爬虫验证的破解方法，之一就是滑块验证码。",{"type":392,"tag":393,"props":411,"children":412},{},[413],{"type":397,"value":414},"今天在这篇文章里给大家介绍一下怎么使用 JS 破解滑块验证码。",{"type":392,"tag":393,"props":416,"children":417},{},[418],{"type":392,"tag":419,"props":420,"children":423},"img",{"alt":421,"src":422},"最终效果（加速）","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/73ba97c7435f.gif",[],{"type":392,"tag":425,"props":426,"children":428},"h2",{"id":427},"思路讲解",[429],{"type":397,"value":427},{"type":392,"tag":431,"props":432,"children":434},"h3",{"id":433},"操作浏览器打开页面",[435],{"type":397,"value":433},{"type":392,"tag":393,"props":437,"children":438},{},[439],{"type":397,"value":440},"滑块验证码是滑动验证码的一种，生成流程至少包含三步：",{"type":392,"tag":442,"props":443,"children":444},"ol",{},[445,451,456],{"type":392,"tag":446,"props":447,"children":448},"li",{},[449],{"type":397,"value":450},"根据用户标识，从后台获得验证码图片",{"type":392,"tag":446,"props":452,"children":453},{},[454],{"type":397,"value":455},"监听鼠标事件并回传后台",{"type":392,"tag":446,"props":457,"children":458},{},[459],{"type":397,"value":460},"后台判断事件的真伪，回传验证结果",{"type":392,"tag":393,"props":462,"children":463},{},[464,466,473],{"type":397,"value":465},"无论生成机制的细节如何，滑块终究是要展示在页面上的。直接用 HTTP Request 把页面 HTML 请求下来肯定不行，这里我们需要使用 Puppeteer 打开网页进行渲染。测试页面就以 ",{"type":392,"tag":400,"props":467,"children":470},{"href":468,"rel":469},"http://h5.dooring.cn/slider-vertify",[404],[471],{"type":397,"value":472},"react-slider-vertify",{"type":397,"value":474}," 的官网为例。",{"type":392,"tag":393,"props":476,"children":477},{},[478,485],{"type":392,"tag":400,"props":479,"children":482},{"href":480,"rel":481},"http://puppeteerjs.com/",[404],[483],{"type":397,"value":484},"Puppeteer",{"type":397,"value":486}," 是一个通过 DevTools 协议来控制浏览器行为的库，只需编写不多的代码，就可以操作真实的浏览器搞定诸如爬虫、自动化测试、网页性能分析、浏览器扩展测试等功能。使用起来比较方便，文档齐全。根据文档，打开页面前需要启动一个浏览器实例，然后调用 newPage 方法创建一个新页面。核心代码如下。",{"type":392,"tag":488,"props":489,"children":493},"pre",{"className":490,"code":491,"language":492,"meta":386,"style":386},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const puppeteer = require('puppeteer')\n\npuppeteer.launch().then(async browser => {\n  const page = await browser.newPage()\n  await page.goto('http://h5.dooring.cn/slider-vertify/vertify')\n})\n","js",[494],{"type":392,"tag":495,"props":496,"children":497},"code",{"__ignoreMap":386},[498,555,565,624,667,710],{"type":392,"tag":499,"props":500,"children":503},"span",{"class":501,"line":502},"line",1,[504,510,516,522,528,534,540,546,550],{"type":392,"tag":499,"props":505,"children":507},{"style":506},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[508],{"type":397,"value":509},"const",{"type":392,"tag":499,"props":511,"children":513},{"style":512},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[514],{"type":397,"value":515}," puppeteer",{"type":392,"tag":499,"props":517,"children":519},{"style":518},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[520],{"type":397,"value":521}," =",{"type":392,"tag":499,"props":523,"children":525},{"style":524},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[526],{"type":397,"value":527}," require",{"type":392,"tag":499,"props":529,"children":531},{"style":530},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[532],{"type":397,"value":533},"(",{"type":392,"tag":499,"props":535,"children":537},{"style":536},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[538],{"type":397,"value":539},"'",{"type":392,"tag":499,"props":541,"children":543},{"style":542},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[544],{"type":397,"value":545},"puppeteer",{"type":392,"tag":499,"props":547,"children":548},{"style":536},[549],{"type":397,"value":539},{"type":392,"tag":499,"props":551,"children":552},{"style":530},[553],{"type":397,"value":554},")\n",{"type":392,"tag":499,"props":556,"children":558},{"class":501,"line":557},2,[559],{"type":392,"tag":499,"props":560,"children":562},{"emptyLinePlaceholder":561},true,[563],{"type":397,"value":564},"\n",{"type":392,"tag":499,"props":566,"children":568},{"class":501,"line":567},3,[569,573,579,584,589,593,598,602,608,614,619],{"type":392,"tag":499,"props":570,"children":571},{"style":530},[572],{"type":397,"value":545},{"type":392,"tag":499,"props":574,"children":576},{"style":575},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[577],{"type":397,"value":578},".",{"type":392,"tag":499,"props":580,"children":581},{"style":524},[582],{"type":397,"value":583},"launch",{"type":392,"tag":499,"props":585,"children":586},{"style":530},[587],{"type":397,"value":588},"()",{"type":392,"tag":499,"props":590,"children":591},{"style":575},[592],{"type":397,"value":578},{"type":392,"tag":499,"props":594,"children":595},{"style":524},[596],{"type":397,"value":597},"then",{"type":392,"tag":499,"props":599,"children":600},{"style":530},[601],{"type":397,"value":533},{"type":392,"tag":499,"props":603,"children":605},{"style":604},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[606],{"type":397,"value":607},"async",{"type":392,"tag":499,"props":609,"children":611},{"style":610},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[612],{"type":397,"value":613}," browser",{"type":392,"tag":499,"props":615,"children":616},{"style":506},[617],{"type":397,"value":618}," =>",{"type":392,"tag":499,"props":620,"children":621},{"style":575},[622],{"type":397,"value":623}," {\n",{"type":392,"tag":499,"props":625,"children":627},{"class":501,"line":626},4,[628,633,638,642,648,652,656,661],{"type":392,"tag":499,"props":629,"children":630},{"style":506},[631],{"type":397,"value":632},"  const",{"type":392,"tag":499,"props":634,"children":635},{"style":512},[636],{"type":397,"value":637}," page",{"type":392,"tag":499,"props":639,"children":640},{"style":518},[641],{"type":397,"value":521},{"type":392,"tag":499,"props":643,"children":645},{"style":644},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[646],{"type":397,"value":647}," await",{"type":392,"tag":499,"props":649,"children":650},{"style":530},[651],{"type":397,"value":613},{"type":392,"tag":499,"props":653,"children":654},{"style":575},[655],{"type":397,"value":578},{"type":392,"tag":499,"props":657,"children":658},{"style":524},[659],{"type":397,"value":660},"newPage",{"type":392,"tag":499,"props":662,"children":664},{"style":663},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[665],{"type":397,"value":666},"()\n",{"type":392,"tag":499,"props":668,"children":670},{"class":501,"line":669},5,[671,676,680,684,689,693,697,702,706],{"type":392,"tag":499,"props":672,"children":673},{"style":644},[674],{"type":397,"value":675},"  await",{"type":392,"tag":499,"props":677,"children":678},{"style":530},[679],{"type":397,"value":637},{"type":392,"tag":499,"props":681,"children":682},{"style":575},[683],{"type":397,"value":578},{"type":392,"tag":499,"props":685,"children":686},{"style":524},[687],{"type":397,"value":688},"goto",{"type":392,"tag":499,"props":690,"children":691},{"style":663},[692],{"type":397,"value":533},{"type":392,"tag":499,"props":694,"children":695},{"style":536},[696],{"type":397,"value":539},{"type":392,"tag":499,"props":698,"children":699},{"style":542},[700],{"type":397,"value":701},"http://h5.dooring.cn/slider-vertify/vertify",{"type":392,"tag":499,"props":703,"children":704},{"style":536},[705],{"type":397,"value":539},{"type":392,"tag":499,"props":707,"children":708},{"style":663},[709],{"type":397,"value":554},{"type":392,"tag":499,"props":711,"children":713},{"class":501,"line":712},6,[714,719],{"type":392,"tag":499,"props":715,"children":716},{"style":575},[717],{"type":397,"value":718},"}",{"type":392,"tag":499,"props":720,"children":721},{"style":530},[722],{"type":397,"value":554},{"type":392,"tag":393,"props":724,"children":725},{},[726],{"type":392,"tag":419,"props":727,"children":730},{"alt":728,"src":729},"打开页面测试","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/jpoVF4UbuI.gif",[],{"type":392,"tag":393,"props":732,"children":733},{},[734],{"type":397,"value":735},"正常浏览网页时，很少会碰到滑块验证，因为它的路径非常长，会需要浪费用户好一会儿时间。虽然文案上给你显示“恭喜 0.9s 打败了 99% 的用户”，但从前置脚本请求，到加载图片，用户滑动滑块，到回传验证...前前后后的步骤加起来可能花了你 9s 不止。本质上它是防御性的手段，一般当服务器限流，或者服务器已经怀疑你是爬虫的时候，才会让它跳出来要求做进一步验证。所以一般来说，爬虫代码可以默认忽略滑块验证的，不过本文代码我们就假定默认验证码一定存在吧。",{"type":392,"tag":393,"props":737,"children":738},{},[739],{"type":397,"value":740},"接下来，分析一下用户行为。解决滑块验证，无非就是先判断一下缺口的位置，然后移动鼠标。这里进一步可以细分为鼠标的点击事件和鼠标移动事件两种。代码逻辑大致如下。",{"type":392,"tag":442,"props":742,"children":743},{},[744,749,754,759,764,769],{"type":392,"tag":446,"props":745,"children":746},{},[747],{"type":397,"value":748},"等待验证码图片加载完毕",{"type":392,"tag":446,"props":750,"children":751},{},[752],{"type":397,"value":753},"移动鼠标到滑块位置",{"type":392,"tag":446,"props":755,"children":756},{},[757],{"type":397,"value":758},"按下鼠标",{"type":392,"tag":446,"props":760,"children":761},{},[762],{"type":397,"value":763},"移动鼠标到缺口位置",{"type":392,"tag":446,"props":765,"children":766},{},[767],{"type":397,"value":768},"松开鼠标",{"type":392,"tag":446,"props":770,"children":771},{},[772],{"type":397,"value":773},"等待结果返回",{"type":392,"tag":393,"props":775,"children":776},{},[777],{"type":397,"value":778},"啊，流程我都知道，可问题就在，怎么判断要把鼠标移动到哪里？服务器端返回的是一张带缺口的图片，缺口位置指定是不通过接口传递的。",{"type":392,"tag":393,"props":780,"children":781},{},[782],{"type":397,"value":783},"可能还有些同学会问，怎么移动鼠标呢？如果我一次性就把滑块给移到指定位置了，那服务器不是会立马把我标记为爬虫嘛... 这两个问题我逐一解答。",{"type":392,"tag":431,"props":785,"children":787},{"id":786},"判断缺口位置",[788],{"type":397,"value":786},{"type":392,"tag":393,"props":790,"children":791},{},[792],{"type":397,"value":793},"要分析缺口的位置，我们必须先知道这个缺口是怎么画上去的。打开控制台初步检查可以发现，页面从服务器先拿到了一张完整的图片，然后缺口位置是通过 JS 随机生成的。啊这...这...这是因为我们用的测试页面是文档页，大家不必在意这些安全方面的小细节。",{"type":392,"tag":393,"props":795,"children":796},{},[797],{"type":392,"tag":419,"props":798,"children":801},{"alt":799,"src":800},"找到请求","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918184414.png?type=win11",[],{"type":392,"tag":393,"props":803,"children":804},{},[805,807,820],{"type":397,"value":806},"接着刚才的思路继续，既然缺口是从原图中挖的一个洞，那么我们只需要识别一下图片中洞的位置就好了。比较简单的方案是使用第三方的图像识别技术（或相关技术），把图片上传至第三方，就直接拿到缺口位置的相对坐标。下图给大家展示一下阿里云的图像分割的效果",{"type":392,"tag":808,"props":809,"children":810},"sup",{},[811],{"type":392,"tag":400,"props":812,"children":817},{"href":813,"ariaDescribedBy":814,"dataFootnoteRef":386,"id":816},"#user-content-fn-alimagic",[815],"footnote-label","user-content-fnref-alimagic",[818],{"type":397,"value":819},"1",{"type":397,"value":821},"。",{"type":392,"tag":393,"props":823,"children":824},{},[825],{"type":392,"tag":419,"props":826,"children":829},{"alt":827,"src":828},"阿里云图像分割","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/itLO6bbCMH.gif",[],{"type":392,"tag":393,"props":831,"children":832},{},[833,835,841],{"type":397,"value":834},"如果想做一个效果稳定一点的验证码破解工具，我建议大家还是用自己的模型，或者自己写算法。一来是第三方要的钱钱不少哇~ 再就是这种图像识别并不是专门为验证码训练的，所以放到爬虫中还不太成熟，",{"type":392,"tag":836,"props":837,"children":838},"strong",{},[839],{"type":397,"value":840},"一旦背景图片复杂，识别率下降得老快了",{"type":397,"value":821},{"type":392,"tag":393,"props":843,"children":844},{},[845],{"type":392,"tag":419,"props":846,"children":849},{"alt":847,"src":848},"百度云图像主体识别","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918191220.png",[],{"type":392,"tag":393,"props":851,"children":852},{},[853],{"type":397,"value":854},"以下介绍一种新思路。反正我们已经有一张完整的图片了，那就只要不断地滑动滑块，把结果和原图比对就行。理论上，只要滑倒差不多“那个点”，肉眼看起来不会有很大的违和感时，就搞定了。比如下面这张图。",{"type":392,"tag":393,"props":856,"children":857},{},[858],{"type":392,"tag":419,"props":859,"children":862},{"alt":860,"src":861},"和原图进行比对","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918192111.png",[],{"type":392,"tag":393,"props":864,"children":865},{},[866],{"type":397,"value":867},"截图嘛可以直接用 Pupeteer 的截图功能，它提供了对应的 API，可以精准的截出特定元素。",{"type":392,"tag":393,"props":869,"children":870},{},[871,873,878,880,887],{"type":397,"value":872},"至于图片比对，其实就是给图片初步处理后，两张图一个像素一个像素的去比较。",{"type":392,"tag":836,"props":874,"children":875},{},[876],{"type":397,"value":877},"两个像素如果颜色差异超过阈值，就认为这是两个不相同的像素",{"type":397,"value":879},"。简便起见，我们直接用开源库 ",{"type":392,"tag":400,"props":881,"children":884},{"href":882,"rel":883},"https://github.com/imgly/rembrandt",[404],[885],{"type":397,"value":886},"rembrandt",{"type":397,"value":888},"，它会给我们返回两张图片间的差异。",{"type":392,"tag":393,"props":890,"children":891},{},[892],{"type":397,"value":893},"最后是滑动滑块，既然要模拟人肉操作，那么操作 CSS，用绝对定位，把滑块一个像素一个像素的向右移；每移动一次，把图像比对的结果记录下来。",{"type":392,"tag":393,"props":895,"children":896},{},[897],{"type":397,"value":898},"以上三个流程的核心代码非常简单，只需要以下几行：",{"type":392,"tag":488,"props":900,"children":902},{"className":490,"code":901,"language":492,"meta":386,"style":386},"while (left \u003C= maxOffset) {\n\n  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n\n  await page.evaluate(async ($sliderFloat, left) => {\n    $sliderFloat.setAttribute('style', `left: ${left}px`)\n  }, $sliderFloat, left)\n\n  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n\n  const $panel = await page.$('#Vertify-demo-4 .canvasArea')\n  const panelImgBase64 = await $panel.screenshot({\n    type: 'jpeg'\n  })\n  const compareRes = await rembrandt({\n    imageA: panelImgBase64,\n    imageB: rawImage\n  })\n  results.push({\n    left,\n    diff: compareRes.differences\n  })\n\n  left += 1\n}\n",[903],{"type":392,"tag":495,"props":904,"children":905},{"__ignoreMap":386},[906,934,941,950,957,1018,1095,1121,1129,1138,1146,1201,1243,1272,1285,1319,1341,1359,1371,1397,1410,1436,1448,1456,1476],{"type":392,"tag":499,"props":907,"children":908},{"class":501,"line":502},[909,914,919,924,929],{"type":392,"tag":499,"props":910,"children":911},{"style":644},[912],{"type":397,"value":913},"while",{"type":392,"tag":499,"props":915,"children":916},{"style":530},[917],{"type":397,"value":918}," (left ",{"type":392,"tag":499,"props":920,"children":921},{"style":518},[922],{"type":397,"value":923},"\u003C=",{"type":392,"tag":499,"props":925,"children":926},{"style":530},[927],{"type":397,"value":928}," maxOffset) ",{"type":392,"tag":499,"props":930,"children":931},{"style":575},[932],{"type":397,"value":933},"{\n",{"type":392,"tag":499,"props":935,"children":936},{"class":501,"line":557},[937],{"type":392,"tag":499,"props":938,"children":939},{"emptyLinePlaceholder":561},[940],{"type":397,"value":564},{"type":392,"tag":499,"props":942,"children":943},{"class":501,"line":567},[944],{"type":392,"tag":499,"props":945,"children":947},{"style":946},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[948],{"type":397,"value":949},"  /* 使用 CSS left 属性控制悬浮的滑块的偏移量 */\n",{"type":392,"tag":499,"props":951,"children":952},{"class":501,"line":626},[953],{"type":392,"tag":499,"props":954,"children":955},{"emptyLinePlaceholder":561},[956],{"type":397,"value":564},{"type":392,"tag":499,"props":958,"children":959},{"class":501,"line":669},[960,964,968,972,977,981,985,990,995,1000,1005,1010,1014],{"type":392,"tag":499,"props":961,"children":962},{"style":644},[963],{"type":397,"value":675},{"type":392,"tag":499,"props":965,"children":966},{"style":530},[967],{"type":397,"value":637},{"type":392,"tag":499,"props":969,"children":970},{"style":575},[971],{"type":397,"value":578},{"type":392,"tag":499,"props":973,"children":974},{"style":524},[975],{"type":397,"value":976},"evaluate",{"type":392,"tag":499,"props":978,"children":979},{"style":663},[980],{"type":397,"value":533},{"type":392,"tag":499,"props":982,"children":983},{"style":604},[984],{"type":397,"value":607},{"type":392,"tag":499,"props":986,"children":987},{"style":575},[988],{"type":397,"value":989}," (",{"type":392,"tag":499,"props":991,"children":992},{"style":610},[993],{"type":397,"value":994},"$sliderFloat",{"type":392,"tag":499,"props":996,"children":997},{"style":575},[998],{"type":397,"value":999},",",{"type":392,"tag":499,"props":1001,"children":1002},{"style":610},[1003],{"type":397,"value":1004}," left",{"type":392,"tag":499,"props":1006,"children":1007},{"style":575},[1008],{"type":397,"value":1009},")",{"type":392,"tag":499,"props":1011,"children":1012},{"style":506},[1013],{"type":397,"value":618},{"type":392,"tag":499,"props":1015,"children":1016},{"style":575},[1017],{"type":397,"value":623},{"type":392,"tag":499,"props":1019,"children":1020},{"class":501,"line":712},[1021,1026,1030,1035,1039,1043,1048,1052,1056,1061,1066,1072,1077,1081,1086,1091],{"type":392,"tag":499,"props":1022,"children":1023},{"style":530},[1024],{"type":397,"value":1025},"    $sliderFloat",{"type":392,"tag":499,"props":1027,"children":1028},{"style":575},[1029],{"type":397,"value":578},{"type":392,"tag":499,"props":1031,"children":1032},{"style":524},[1033],{"type":397,"value":1034},"setAttribute",{"type":392,"tag":499,"props":1036,"children":1037},{"style":663},[1038],{"type":397,"value":533},{"type":392,"tag":499,"props":1040,"children":1041},{"style":536},[1042],{"type":397,"value":539},{"type":392,"tag":499,"props":1044,"children":1045},{"style":542},[1046],{"type":397,"value":1047},"style",{"type":392,"tag":499,"props":1049,"children":1050},{"style":536},[1051],{"type":397,"value":539},{"type":392,"tag":499,"props":1053,"children":1054},{"style":575},[1055],{"type":397,"value":999},{"type":392,"tag":499,"props":1057,"children":1058},{"style":536},[1059],{"type":397,"value":1060}," `",{"type":392,"tag":499,"props":1062,"children":1063},{"style":542},[1064],{"type":397,"value":1065},"left: ",{"type":392,"tag":499,"props":1067,"children":1069},{"style":1068},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1070],{"type":397,"value":1071},"${",{"type":392,"tag":499,"props":1073,"children":1074},{"style":530},[1075],{"type":397,"value":1076},"left",{"type":392,"tag":499,"props":1078,"children":1079},{"style":1068},[1080],{"type":397,"value":718},{"type":392,"tag":499,"props":1082,"children":1083},{"style":542},[1084],{"type":397,"value":1085},"px",{"type":392,"tag":499,"props":1087,"children":1088},{"style":536},[1089],{"type":397,"value":1090},"`",{"type":392,"tag":499,"props":1092,"children":1093},{"style":663},[1094],{"type":397,"value":554},{"type":392,"tag":499,"props":1096,"children":1098},{"class":501,"line":1097},7,[1099,1104,1109,1113,1117],{"type":392,"tag":499,"props":1100,"children":1101},{"style":575},[1102],{"type":397,"value":1103},"  },",{"type":392,"tag":499,"props":1105,"children":1106},{"style":530},[1107],{"type":397,"value":1108}," $sliderFloat",{"type":392,"tag":499,"props":1110,"children":1111},{"style":575},[1112],{"type":397,"value":999},{"type":392,"tag":499,"props":1114,"children":1115},{"style":530},[1116],{"type":397,"value":1004},{"type":392,"tag":499,"props":1118,"children":1119},{"style":663},[1120],{"type":397,"value":554},{"type":392,"tag":499,"props":1122,"children":1124},{"class":501,"line":1123},8,[1125],{"type":392,"tag":499,"props":1126,"children":1127},{"emptyLinePlaceholder":561},[1128],{"type":397,"value":564},{"type":392,"tag":499,"props":1130,"children":1132},{"class":501,"line":1131},9,[1133],{"type":392,"tag":499,"props":1134,"children":1135},{"style":946},[1136],{"type":397,"value":1137},"  /* 截图并和原图进行比对，把结果存到 results 数组里 */\n",{"type":392,"tag":499,"props":1139,"children":1141},{"class":501,"line":1140},10,[1142],{"type":392,"tag":499,"props":1143,"children":1144},{"emptyLinePlaceholder":561},[1145],{"type":397,"value":564},{"type":392,"tag":499,"props":1147,"children":1149},{"class":501,"line":1148},11,[1150,1154,1159,1163,1167,1171,1175,1180,1184,1188,1193,1197],{"type":392,"tag":499,"props":1151,"children":1152},{"style":506},[1153],{"type":397,"value":632},{"type":392,"tag":499,"props":1155,"children":1156},{"style":512},[1157],{"type":397,"value":1158}," $panel",{"type":392,"tag":499,"props":1160,"children":1161},{"style":518},[1162],{"type":397,"value":521},{"type":392,"tag":499,"props":1164,"children":1165},{"style":644},[1166],{"type":397,"value":647},{"type":392,"tag":499,"props":1168,"children":1169},{"style":530},[1170],{"type":397,"value":637},{"type":392,"tag":499,"props":1172,"children":1173},{"style":575},[1174],{"type":397,"value":578},{"type":392,"tag":499,"props":1176,"children":1177},{"style":524},[1178],{"type":397,"value":1179},"$",{"type":392,"tag":499,"props":1181,"children":1182},{"style":663},[1183],{"type":397,"value":533},{"type":392,"tag":499,"props":1185,"children":1186},{"style":536},[1187],{"type":397,"value":539},{"type":392,"tag":499,"props":1189,"children":1190},{"style":542},[1191],{"type":397,"value":1192},"#Vertify-demo-4 .canvasArea",{"type":392,"tag":499,"props":1194,"children":1195},{"style":536},[1196],{"type":397,"value":539},{"type":392,"tag":499,"props":1198,"children":1199},{"style":663},[1200],{"type":397,"value":554},{"type":392,"tag":499,"props":1202,"children":1204},{"class":501,"line":1203},12,[1205,1209,1214,1218,1222,1226,1230,1235,1239],{"type":392,"tag":499,"props":1206,"children":1207},{"style":506},[1208],{"type":397,"value":632},{"type":392,"tag":499,"props":1210,"children":1211},{"style":512},[1212],{"type":397,"value":1213}," panelImgBase64",{"type":392,"tag":499,"props":1215,"children":1216},{"style":518},[1217],{"type":397,"value":521},{"type":392,"tag":499,"props":1219,"children":1220},{"style":644},[1221],{"type":397,"value":647},{"type":392,"tag":499,"props":1223,"children":1224},{"style":530},[1225],{"type":397,"value":1158},{"type":392,"tag":499,"props":1227,"children":1228},{"style":575},[1229],{"type":397,"value":578},{"type":392,"tag":499,"props":1231,"children":1232},{"style":524},[1233],{"type":397,"value":1234},"screenshot",{"type":392,"tag":499,"props":1236,"children":1237},{"style":663},[1238],{"type":397,"value":533},{"type":392,"tag":499,"props":1240,"children":1241},{"style":575},[1242],{"type":397,"value":933},{"type":392,"tag":499,"props":1244,"children":1246},{"class":501,"line":1245},13,[1247,1252,1257,1262,1267],{"type":392,"tag":499,"props":1248,"children":1249},{"style":663},[1250],{"type":397,"value":1251},"    type",{"type":392,"tag":499,"props":1253,"children":1254},{"style":575},[1255],{"type":397,"value":1256},":",{"type":392,"tag":499,"props":1258,"children":1259},{"style":536},[1260],{"type":397,"value":1261}," '",{"type":392,"tag":499,"props":1263,"children":1264},{"style":542},[1265],{"type":397,"value":1266},"jpeg",{"type":392,"tag":499,"props":1268,"children":1269},{"style":536},[1270],{"type":397,"value":1271},"'\n",{"type":392,"tag":499,"props":1273,"children":1275},{"class":501,"line":1274},14,[1276,1281],{"type":392,"tag":499,"props":1277,"children":1278},{"style":575},[1279],{"type":397,"value":1280},"  }",{"type":392,"tag":499,"props":1282,"children":1283},{"style":663},[1284],{"type":397,"value":554},{"type":392,"tag":499,"props":1286,"children":1288},{"class":501,"line":1287},15,[1289,1293,1298,1302,1306,1311,1315],{"type":392,"tag":499,"props":1290,"children":1291},{"style":506},[1292],{"type":397,"value":632},{"type":392,"tag":499,"props":1294,"children":1295},{"style":512},[1296],{"type":397,"value":1297}," compareRes",{"type":392,"tag":499,"props":1299,"children":1300},{"style":518},[1301],{"type":397,"value":521},{"type":392,"tag":499,"props":1303,"children":1304},{"style":644},[1305],{"type":397,"value":647},{"type":392,"tag":499,"props":1307,"children":1308},{"style":524},[1309],{"type":397,"value":1310}," rembrandt",{"type":392,"tag":499,"props":1312,"children":1313},{"style":663},[1314],{"type":397,"value":533},{"type":392,"tag":499,"props":1316,"children":1317},{"style":575},[1318],{"type":397,"value":933},{"type":392,"tag":499,"props":1320,"children":1322},{"class":501,"line":1321},16,[1323,1328,1332,1336],{"type":392,"tag":499,"props":1324,"children":1325},{"style":663},[1326],{"type":397,"value":1327},"    imageA",{"type":392,"tag":499,"props":1329,"children":1330},{"style":575},[1331],{"type":397,"value":1256},{"type":392,"tag":499,"props":1333,"children":1334},{"style":530},[1335],{"type":397,"value":1213},{"type":392,"tag":499,"props":1337,"children":1338},{"style":575},[1339],{"type":397,"value":1340},",\n",{"type":392,"tag":499,"props":1342,"children":1344},{"class":501,"line":1343},17,[1345,1350,1354],{"type":392,"tag":499,"props":1346,"children":1347},{"style":663},[1348],{"type":397,"value":1349},"    imageB",{"type":392,"tag":499,"props":1351,"children":1352},{"style":575},[1353],{"type":397,"value":1256},{"type":392,"tag":499,"props":1355,"children":1356},{"style":530},[1357],{"type":397,"value":1358}," rawImage\n",{"type":392,"tag":499,"props":1360,"children":1362},{"class":501,"line":1361},18,[1363,1367],{"type":392,"tag":499,"props":1364,"children":1365},{"style":575},[1366],{"type":397,"value":1280},{"type":392,"tag":499,"props":1368,"children":1369},{"style":663},[1370],{"type":397,"value":554},{"type":392,"tag":499,"props":1372,"children":1374},{"class":501,"line":1373},19,[1375,1380,1384,1389,1393],{"type":392,"tag":499,"props":1376,"children":1377},{"style":530},[1378],{"type":397,"value":1379},"  results",{"type":392,"tag":499,"props":1381,"children":1382},{"style":575},[1383],{"type":397,"value":578},{"type":392,"tag":499,"props":1385,"children":1386},{"style":524},[1387],{"type":397,"value":1388},"push",{"type":392,"tag":499,"props":1390,"children":1391},{"style":663},[1392],{"type":397,"value":533},{"type":392,"tag":499,"props":1394,"children":1395},{"style":575},[1396],{"type":397,"value":933},{"type":392,"tag":499,"props":1398,"children":1400},{"class":501,"line":1399},20,[1401,1406],{"type":392,"tag":499,"props":1402,"children":1403},{"style":530},[1404],{"type":397,"value":1405},"    left",{"type":392,"tag":499,"props":1407,"children":1408},{"style":575},[1409],{"type":397,"value":1340},{"type":392,"tag":499,"props":1411,"children":1413},{"class":501,"line":1412},21,[1414,1419,1423,1427,1431],{"type":392,"tag":499,"props":1415,"children":1416},{"style":663},[1417],{"type":397,"value":1418},"    diff",{"type":392,"tag":499,"props":1420,"children":1421},{"style":575},[1422],{"type":397,"value":1256},{"type":392,"tag":499,"props":1424,"children":1425},{"style":530},[1426],{"type":397,"value":1297},{"type":392,"tag":499,"props":1428,"children":1429},{"style":575},[1430],{"type":397,"value":578},{"type":392,"tag":499,"props":1432,"children":1433},{"style":530},[1434],{"type":397,"value":1435},"differences\n",{"type":392,"tag":499,"props":1437,"children":1439},{"class":501,"line":1438},22,[1440,1444],{"type":392,"tag":499,"props":1441,"children":1442},{"style":575},[1443],{"type":397,"value":1280},{"type":392,"tag":499,"props":1445,"children":1446},{"style":663},[1447],{"type":397,"value":554},{"type":392,"tag":499,"props":1449,"children":1451},{"class":501,"line":1450},23,[1452],{"type":392,"tag":499,"props":1453,"children":1454},{"emptyLinePlaceholder":561},[1455],{"type":397,"value":564},{"type":392,"tag":499,"props":1457,"children":1459},{"class":501,"line":1458},24,[1460,1465,1470],{"type":392,"tag":499,"props":1461,"children":1462},{"style":530},[1463],{"type":397,"value":1464},"  left",{"type":392,"tag":499,"props":1466,"children":1467},{"style":518},[1468],{"type":397,"value":1469}," +=",{"type":392,"tag":499,"props":1471,"children":1473},{"style":1472},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1474],{"type":397,"value":1475}," 1\n",{"type":392,"tag":499,"props":1477,"children":1479},{"class":501,"line":1478},25,[1480],{"type":392,"tag":499,"props":1481,"children":1482},{"style":575},[1483],{"type":397,"value":1484},"}\n",{"type":392,"tag":393,"props":1486,"children":1487},{},[1488],{"type":392,"tag":419,"props":1489,"children":1492},{"alt":1490,"src":1491},"通过CSS控制位移","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/9KgejUuCru.gif",[],{"type":392,"tag":393,"props":1494,"children":1495},{},[1496,1498,1505],{"type":397,"value":1497},"最后，把 results 扔到里面展示一下（这里给个 ECharts ",{"type":392,"tag":400,"props":1499,"children":1502},{"href":1500,"rel":1501},"https://echarts.apache.org/examples/zh/editor.html?c=line-simple",[404],[1503],{"type":397,"value":1504},"折线图示例网址",{"type":397,"value":1506},"），不出意外能得到这样一张图表。看到那个尖尖的“V”型山谷了嘛，呼哈哈哈，答案很明显，当我们把滑块从左往右移动时，滑块约接近缺口，那截出来的图片就越像原图，它两之间像素差异越小；一直往右移动，滑块会逐渐远离缺口，截出来的图片和原图相比像素差异又逐渐开始增大。我们只需要把差异最小的那个点找到，然后滑动滑块到对应的 left 偏移量就阔以了。",{"type":392,"tag":393,"props":1508,"children":1509},{},[1510],{"type":392,"tag":419,"props":1511,"children":1514},{"alt":1512,"src":1513},"图像比对结果","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210918203306.png",[],{"type":392,"tag":393,"props":1516,"children":1517},{},[1518],{"type":397,"value":1519},"题外话，为什么最大的差异在 3000 左右呢？我们简单估算一下。",{"type":392,"tag":393,"props":1521,"children":1522},{},[1523],{"type":397,"value":1524},"滑块的大小为 45*45，再加上外面的圆形，约摸占了 2100 像素；也就是说缺口加滑块，理论上最大会有 4200 个像素和原图不同。不过滑块可能和遮住的地方像素有重合，假设重合了 350 像素，再加上我们的最低点的图片差异都有 351，减去这些误差，得 3499。呜呼，3499 约等于 3000，估算成功（手动狗头）。",{"type":392,"tag":431,"props":1526,"children":1528},{"id":1527},"速度优化技巧",[1529],{"type":397,"value":1527},{"type":392,"tag":393,"props":1531,"children":1532},{},[1533],{"type":397,"value":1534},"不过这还没完，你要是把代码跑起来就会发现，卧草，太慢了这玩意儿！正常人划一下验证码顶多两秒钟的事儿，我们一帧一帧截图得花个 40s 的时间才能截完图算出山谷谷底的值来。",{"type":392,"tag":393,"props":1536,"children":1537},{},[1538],{"type":397,"value":1539},"这里提供几种思路优化效率：",{"type":392,"tag":442,"props":1541,"children":1542},{},[1543,1548,1553],{"type":392,"tag":446,"props":1544,"children":1545},{},[1546],{"type":397,"value":1547},"把元素缩小，复制多份，平铺开来展示；这样只要截一次，然后再裁剪、比对就好。",{"type":392,"tag":446,"props":1549,"children":1550},{},[1551],{"type":397,"value":1552},"放大步长，比方说先每次平移 15px，找到局部最优解，然后在局部最优解附近再回到平移 1px 的方案找最优解。",{"type":392,"tag":446,"props":1554,"children":1555},{},[1556],{"type":397,"value":1557},"因为图片比对的结果类似“V”字，“V”字右半边其实是可以不用再计算的。",{"type":392,"tag":393,"props":1559,"children":1560},{},[1561],{"type":397,"value":1562},"使用 1+2+3 我觉得可以在 3s 内搞定最优解，不过代码复杂度会变得很高，文中简单起见暂只实现一下方案 2。",{"type":392,"tag":393,"props":1564,"children":1565},{},[1566],{"type":397,"value":1567},"首先是每次移动 15px 找局部最优解。",{"type":392,"tag":488,"props":1569,"children":1571},{"className":490,"code":1570,"language":492,"meta":386,"style":386},"// 图片缺口是不会给挖在初始附近的，\n// 所以 left 从 45 像素开始计算可以节约不少计算量，\nlet left = 45;\nconst max15Offset = 265;\nconst res15px = [];\nwhile (left \u003C= max15Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res15px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 15;\n}\n",[1572],{"type":392,"tag":495,"props":1573,"children":1574},{"__ignoreMap":386},[1575,1583,1591,1619,1644,1669,1693,1721,1753,1777,1788,1816,1831,1851],{"type":392,"tag":499,"props":1576,"children":1577},{"class":501,"line":502},[1578],{"type":392,"tag":499,"props":1579,"children":1580},{"style":946},[1581],{"type":397,"value":1582},"// 图片缺口是不会给挖在初始附近的，\n",{"type":392,"tag":499,"props":1584,"children":1585},{"class":501,"line":557},[1586],{"type":392,"tag":499,"props":1587,"children":1588},{"style":946},[1589],{"type":397,"value":1590},"// 所以 left 从 45 像素开始计算可以节约不少计算量，\n",{"type":392,"tag":499,"props":1592,"children":1593},{"class":501,"line":567},[1594,1599,1604,1609,1614],{"type":392,"tag":499,"props":1595,"children":1596},{"style":506},[1597],{"type":397,"value":1598},"let",{"type":392,"tag":499,"props":1600,"children":1601},{"style":530},[1602],{"type":397,"value":1603}," left ",{"type":392,"tag":499,"props":1605,"children":1606},{"style":518},[1607],{"type":397,"value":1608},"=",{"type":392,"tag":499,"props":1610,"children":1611},{"style":1472},[1612],{"type":397,"value":1613}," 45",{"type":392,"tag":499,"props":1615,"children":1616},{"style":575},[1617],{"type":397,"value":1618},";\n",{"type":392,"tag":499,"props":1620,"children":1621},{"class":501,"line":626},[1622,1626,1631,1635,1640],{"type":392,"tag":499,"props":1623,"children":1624},{"style":506},[1625],{"type":397,"value":509},{"type":392,"tag":499,"props":1627,"children":1628},{"style":512},[1629],{"type":397,"value":1630}," max15Offset",{"type":392,"tag":499,"props":1632,"children":1633},{"style":518},[1634],{"type":397,"value":521},{"type":392,"tag":499,"props":1636,"children":1637},{"style":1472},[1638],{"type":397,"value":1639}," 265",{"type":392,"tag":499,"props":1641,"children":1642},{"style":575},[1643],{"type":397,"value":1618},{"type":392,"tag":499,"props":1645,"children":1646},{"class":501,"line":669},[1647,1651,1656,1660,1665],{"type":392,"tag":499,"props":1648,"children":1649},{"style":506},[1650],{"type":397,"value":509},{"type":392,"tag":499,"props":1652,"children":1653},{"style":512},[1654],{"type":397,"value":1655}," res15px",{"type":392,"tag":499,"props":1657,"children":1658},{"style":518},[1659],{"type":397,"value":521},{"type":392,"tag":499,"props":1661,"children":1662},{"style":530},[1663],{"type":397,"value":1664}," []",{"type":392,"tag":499,"props":1666,"children":1667},{"style":575},[1668],{"type":397,"value":1618},{"type":392,"tag":499,"props":1670,"children":1671},{"class":501,"line":712},[1672,1676,1680,1684,1689],{"type":392,"tag":499,"props":1673,"children":1674},{"style":644},[1675],{"type":397,"value":913},{"type":392,"tag":499,"props":1677,"children":1678},{"style":530},[1679],{"type":397,"value":918},{"type":392,"tag":499,"props":1681,"children":1682},{"style":518},[1683],{"type":397,"value":923},{"type":392,"tag":499,"props":1685,"children":1686},{"style":530},[1687],{"type":397,"value":1688}," max15Offset) ",{"type":392,"tag":499,"props":1690,"children":1691},{"style":575},[1692],{"type":397,"value":933},{"type":392,"tag":499,"props":1694,"children":1695},{"class":501,"line":1097},[1696,1700,1705,1709,1713,1717],{"type":392,"tag":499,"props":1697,"children":1698},{"style":644},[1699],{"type":397,"value":675},{"type":392,"tag":499,"props":1701,"children":1702},{"style":524},[1703],{"type":397,"value":1704}," setLeft",{"type":392,"tag":499,"props":1706,"children":1707},{"style":663},[1708],{"type":397,"value":533},{"type":392,"tag":499,"props":1710,"children":1711},{"style":530},[1712],{"type":397,"value":1076},{"type":392,"tag":499,"props":1714,"children":1715},{"style":663},[1716],{"type":397,"value":1009},{"type":392,"tag":499,"props":1718,"children":1719},{"style":575},[1720],{"type":397,"value":1618},{"type":392,"tag":499,"props":1722,"children":1723},{"class":501,"line":1123},[1724,1728,1732,1736,1740,1745,1749],{"type":392,"tag":499,"props":1725,"children":1726},{"style":506},[1727],{"type":397,"value":632},{"type":392,"tag":499,"props":1729,"children":1730},{"style":512},[1731],{"type":397,"value":1297},{"type":392,"tag":499,"props":1733,"children":1734},{"style":518},[1735],{"type":397,"value":521},{"type":392,"tag":499,"props":1737,"children":1738},{"style":644},[1739],{"type":397,"value":647},{"type":392,"tag":499,"props":1741,"children":1742},{"style":524},[1743],{"type":397,"value":1744}," compare",{"type":392,"tag":499,"props":1746,"children":1747},{"style":663},[1748],{"type":397,"value":588},{"type":392,"tag":499,"props":1750,"children":1751},{"style":575},[1752],{"type":397,"value":1618},{"type":392,"tag":499,"props":1754,"children":1755},{"class":501,"line":1131},[1756,1761,1765,1769,1773],{"type":392,"tag":499,"props":1757,"children":1758},{"style":530},[1759],{"type":397,"value":1760},"  res15px",{"type":392,"tag":499,"props":1762,"children":1763},{"style":575},[1764],{"type":397,"value":578},{"type":392,"tag":499,"props":1766,"children":1767},{"style":524},[1768],{"type":397,"value":1388},{"type":392,"tag":499,"props":1770,"children":1771},{"style":663},[1772],{"type":397,"value":533},{"type":392,"tag":499,"props":1774,"children":1775},{"style":575},[1776],{"type":397,"value":933},{"type":392,"tag":499,"props":1778,"children":1779},{"class":501,"line":1140},[1780,1784],{"type":392,"tag":499,"props":1781,"children":1782},{"style":530},[1783],{"type":397,"value":1405},{"type":392,"tag":499,"props":1785,"children":1786},{"style":575},[1787],{"type":397,"value":1340},{"type":392,"tag":499,"props":1789,"children":1790},{"class":501,"line":1148},[1791,1795,1799,1803,1807,1812],{"type":392,"tag":499,"props":1792,"children":1793},{"style":663},[1794],{"type":397,"value":1418},{"type":392,"tag":499,"props":1796,"children":1797},{"style":575},[1798],{"type":397,"value":1256},{"type":392,"tag":499,"props":1800,"children":1801},{"style":530},[1802],{"type":397,"value":1297},{"type":392,"tag":499,"props":1804,"children":1805},{"style":575},[1806],{"type":397,"value":578},{"type":392,"tag":499,"props":1808,"children":1809},{"style":530},[1810],{"type":397,"value":1811},"differences",{"type":392,"tag":499,"props":1813,"children":1814},{"style":575},[1815],{"type":397,"value":1340},{"type":392,"tag":499,"props":1817,"children":1818},{"class":501,"line":1203},[1819,1823,1827],{"type":392,"tag":499,"props":1820,"children":1821},{"style":575},[1822],{"type":397,"value":1280},{"type":392,"tag":499,"props":1824,"children":1825},{"style":663},[1826],{"type":397,"value":1009},{"type":392,"tag":499,"props":1828,"children":1829},{"style":575},[1830],{"type":397,"value":1618},{"type":392,"tag":499,"props":1832,"children":1833},{"class":501,"line":1245},[1834,1838,1842,1847],{"type":392,"tag":499,"props":1835,"children":1836},{"style":530},[1837],{"type":397,"value":1464},{"type":392,"tag":499,"props":1839,"children":1840},{"style":518},[1841],{"type":397,"value":1469},{"type":392,"tag":499,"props":1843,"children":1844},{"style":1472},[1845],{"type":397,"value":1846}," 15",{"type":392,"tag":499,"props":1848,"children":1849},{"style":575},[1850],{"type":397,"value":1618},{"type":392,"tag":499,"props":1852,"children":1853},{"class":501,"line":1274},[1854],{"type":392,"tag":499,"props":1855,"children":1856},{"style":575},[1857],{"type":397,"value":1484},{"type":392,"tag":393,"props":1859,"children":1860},{},[1861],{"type":397,"value":1862},"然后再尝试每次移动 2px 找最优解，搜寻的范围是 15px 步长最优解的 left 偏移量的左右共 20 个像素。",{"type":392,"tag":488,"props":1864,"children":1866},{"className":490,"code":1865,"language":492,"meta":386,"style":386},"const min15pxDiff = Math.min(...res15px.map((x) => x.diff));\nconst min15pxLeft = res15px.find((x) => x.diff === min15pxDiff).left;\n\nleft = min15pxLeft - 12;\nconst max2Offset = min15pxLeft + 8;\nconst res2px = [];\nwhile (left \u003C= max2Offset) {\n  await setLeft(left);\n  const compareRes = await compare();\n  res2px.push({\n    left,\n    diff: compareRes.differences,\n  });\n  left += 2;\n}\n",[1867],{"type":392,"tag":495,"props":1868,"children":1869},{"__ignoreMap":386},[1870,1962,2046,2053,2084,2118,2142,2166,2193,2224,2248,2259,2286,2301,2321],{"type":392,"tag":499,"props":1871,"children":1872},{"class":501,"line":502},[1873,1877,1882,1886,1891,1895,1900,1904,1909,1914,1918,1923,1927,1931,1936,1940,1944,1949,1953,1958],{"type":392,"tag":499,"props":1874,"children":1875},{"style":506},[1876],{"type":397,"value":509},{"type":392,"tag":499,"props":1878,"children":1879},{"style":512},[1880],{"type":397,"value":1881}," min15pxDiff",{"type":392,"tag":499,"props":1883,"children":1884},{"style":518},[1885],{"type":397,"value":521},{"type":392,"tag":499,"props":1887,"children":1888},{"style":530},[1889],{"type":397,"value":1890}," Math",{"type":392,"tag":499,"props":1892,"children":1893},{"style":575},[1894],{"type":397,"value":578},{"type":392,"tag":499,"props":1896,"children":1897},{"style":524},[1898],{"type":397,"value":1899},"min",{"type":392,"tag":499,"props":1901,"children":1902},{"style":530},[1903],{"type":397,"value":533},{"type":392,"tag":499,"props":1905,"children":1906},{"style":518},[1907],{"type":397,"value":1908},"...",{"type":392,"tag":499,"props":1910,"children":1911},{"style":530},[1912],{"type":397,"value":1913},"res15px",{"type":392,"tag":499,"props":1915,"children":1916},{"style":575},[1917],{"type":397,"value":578},{"type":392,"tag":499,"props":1919,"children":1920},{"style":524},[1921],{"type":397,"value":1922},"map",{"type":392,"tag":499,"props":1924,"children":1925},{"style":530},[1926],{"type":397,"value":533},{"type":392,"tag":499,"props":1928,"children":1929},{"style":575},[1930],{"type":397,"value":533},{"type":392,"tag":499,"props":1932,"children":1933},{"style":610},[1934],{"type":397,"value":1935},"x",{"type":392,"tag":499,"props":1937,"children":1938},{"style":575},[1939],{"type":397,"value":1009},{"type":392,"tag":499,"props":1941,"children":1942},{"style":506},[1943],{"type":397,"value":618},{"type":392,"tag":499,"props":1945,"children":1946},{"style":530},[1947],{"type":397,"value":1948}," x",{"type":392,"tag":499,"props":1950,"children":1951},{"style":575},[1952],{"type":397,"value":578},{"type":392,"tag":499,"props":1954,"children":1955},{"style":530},[1956],{"type":397,"value":1957},"diff))",{"type":392,"tag":499,"props":1959,"children":1960},{"style":575},[1961],{"type":397,"value":1618},{"type":392,"tag":499,"props":1963,"children":1964},{"class":501,"line":557},[1965,1969,1974,1978,1982,1986,1991,1995,1999,2003,2007,2011,2015,2019,2024,2029,2034,2038,2042],{"type":392,"tag":499,"props":1966,"children":1967},{"style":506},[1968],{"type":397,"value":509},{"type":392,"tag":499,"props":1970,"children":1971},{"style":512},[1972],{"type":397,"value":1973}," min15pxLeft",{"type":392,"tag":499,"props":1975,"children":1976},{"style":518},[1977],{"type":397,"value":521},{"type":392,"tag":499,"props":1979,"children":1980},{"style":530},[1981],{"type":397,"value":1655},{"type":392,"tag":499,"props":1983,"children":1984},{"style":575},[1985],{"type":397,"value":578},{"type":392,"tag":499,"props":1987,"children":1988},{"style":524},[1989],{"type":397,"value":1990},"find",{"type":392,"tag":499,"props":1992,"children":1993},{"style":530},[1994],{"type":397,"value":533},{"type":392,"tag":499,"props":1996,"children":1997},{"style":575},[1998],{"type":397,"value":533},{"type":392,"tag":499,"props":2000,"children":2001},{"style":610},[2002],{"type":397,"value":1935},{"type":392,"tag":499,"props":2004,"children":2005},{"style":575},[2006],{"type":397,"value":1009},{"type":392,"tag":499,"props":2008,"children":2009},{"style":506},[2010],{"type":397,"value":618},{"type":392,"tag":499,"props":2012,"children":2013},{"style":530},[2014],{"type":397,"value":1948},{"type":392,"tag":499,"props":2016,"children":2017},{"style":575},[2018],{"type":397,"value":578},{"type":392,"tag":499,"props":2020,"children":2021},{"style":530},[2022],{"type":397,"value":2023},"diff ",{"type":392,"tag":499,"props":2025,"children":2026},{"style":518},[2027],{"type":397,"value":2028},"===",{"type":392,"tag":499,"props":2030,"children":2031},{"style":530},[2032],{"type":397,"value":2033}," min15pxDiff)",{"type":392,"tag":499,"props":2035,"children":2036},{"style":575},[2037],{"type":397,"value":578},{"type":392,"tag":499,"props":2039,"children":2040},{"style":530},[2041],{"type":397,"value":1076},{"type":392,"tag":499,"props":2043,"children":2044},{"style":575},[2045],{"type":397,"value":1618},{"type":392,"tag":499,"props":2047,"children":2048},{"class":501,"line":567},[2049],{"type":392,"tag":499,"props":2050,"children":2051},{"emptyLinePlaceholder":561},[2052],{"type":397,"value":564},{"type":392,"tag":499,"props":2054,"children":2055},{"class":501,"line":626},[2056,2061,2065,2070,2075,2080],{"type":392,"tag":499,"props":2057,"children":2058},{"style":530},[2059],{"type":397,"value":2060},"left ",{"type":392,"tag":499,"props":2062,"children":2063},{"style":518},[2064],{"type":397,"value":1608},{"type":392,"tag":499,"props":2066,"children":2067},{"style":530},[2068],{"type":397,"value":2069}," min15pxLeft ",{"type":392,"tag":499,"props":2071,"children":2072},{"style":518},[2073],{"type":397,"value":2074},"-",{"type":392,"tag":499,"props":2076,"children":2077},{"style":1472},[2078],{"type":397,"value":2079}," 12",{"type":392,"tag":499,"props":2081,"children":2082},{"style":575},[2083],{"type":397,"value":1618},{"type":392,"tag":499,"props":2085,"children":2086},{"class":501,"line":669},[2087,2091,2096,2100,2104,2109,2114],{"type":392,"tag":499,"props":2088,"children":2089},{"style":506},[2090],{"type":397,"value":509},{"type":392,"tag":499,"props":2092,"children":2093},{"style":512},[2094],{"type":397,"value":2095}," max2Offset",{"type":392,"tag":499,"props":2097,"children":2098},{"style":518},[2099],{"type":397,"value":521},{"type":392,"tag":499,"props":2101,"children":2102},{"style":530},[2103],{"type":397,"value":2069},{"type":392,"tag":499,"props":2105,"children":2106},{"style":518},[2107],{"type":397,"value":2108},"+",{"type":392,"tag":499,"props":2110,"children":2111},{"style":1472},[2112],{"type":397,"value":2113}," 8",{"type":392,"tag":499,"props":2115,"children":2116},{"style":575},[2117],{"type":397,"value":1618},{"type":392,"tag":499,"props":2119,"children":2120},{"class":501,"line":712},[2121,2125,2130,2134,2138],{"type":392,"tag":499,"props":2122,"children":2123},{"style":506},[2124],{"type":397,"value":509},{"type":392,"tag":499,"props":2126,"children":2127},{"style":512},[2128],{"type":397,"value":2129}," res2px",{"type":392,"tag":499,"props":2131,"children":2132},{"style":518},[2133],{"type":397,"value":521},{"type":392,"tag":499,"props":2135,"children":2136},{"style":530},[2137],{"type":397,"value":1664},{"type":392,"tag":499,"props":2139,"children":2140},{"style":575},[2141],{"type":397,"value":1618},{"type":392,"tag":499,"props":2143,"children":2144},{"class":501,"line":1097},[2145,2149,2153,2157,2162],{"type":392,"tag":499,"props":2146,"children":2147},{"style":644},[2148],{"type":397,"value":913},{"type":392,"tag":499,"props":2150,"children":2151},{"style":530},[2152],{"type":397,"value":918},{"type":392,"tag":499,"props":2154,"children":2155},{"style":518},[2156],{"type":397,"value":923},{"type":392,"tag":499,"props":2158,"children":2159},{"style":530},[2160],{"type":397,"value":2161}," max2Offset) ",{"type":392,"tag":499,"props":2163,"children":2164},{"style":575},[2165],{"type":397,"value":933},{"type":392,"tag":499,"props":2167,"children":2168},{"class":501,"line":1123},[2169,2173,2177,2181,2185,2189],{"type":392,"tag":499,"props":2170,"children":2171},{"style":644},[2172],{"type":397,"value":675},{"type":392,"tag":499,"props":2174,"children":2175},{"style":524},[2176],{"type":397,"value":1704},{"type":392,"tag":499,"props":2178,"children":2179},{"style":663},[2180],{"type":397,"value":533},{"type":392,"tag":499,"props":2182,"children":2183},{"style":530},[2184],{"type":397,"value":1076},{"type":392,"tag":499,"props":2186,"children":2187},{"style":663},[2188],{"type":397,"value":1009},{"type":392,"tag":499,"props":2190,"children":2191},{"style":575},[2192],{"type":397,"value":1618},{"type":392,"tag":499,"props":2194,"children":2195},{"class":501,"line":1131},[2196,2200,2204,2208,2212,2216,2220],{"type":392,"tag":499,"props":2197,"children":2198},{"style":506},[2199],{"type":397,"value":632},{"type":392,"tag":499,"props":2201,"children":2202},{"style":512},[2203],{"type":397,"value":1297},{"type":392,"tag":499,"props":2205,"children":2206},{"style":518},[2207],{"type":397,"value":521},{"type":392,"tag":499,"props":2209,"children":2210},{"style":644},[2211],{"type":397,"value":647},{"type":392,"tag":499,"props":2213,"children":2214},{"style":524},[2215],{"type":397,"value":1744},{"type":392,"tag":499,"props":2217,"children":2218},{"style":663},[2219],{"type":397,"value":588},{"type":392,"tag":499,"props":2221,"children":2222},{"style":575},[2223],{"type":397,"value":1618},{"type":392,"tag":499,"props":2225,"children":2226},{"class":501,"line":1140},[2227,2232,2236,2240,2244],{"type":392,"tag":499,"props":2228,"children":2229},{"style":530},[2230],{"type":397,"value":2231},"  res2px",{"type":392,"tag":499,"props":2233,"children":2234},{"style":575},[2235],{"type":397,"value":578},{"type":392,"tag":499,"props":2237,"children":2238},{"style":524},[2239],{"type":397,"value":1388},{"type":392,"tag":499,"props":2241,"children":2242},{"style":663},[2243],{"type":397,"value":533},{"type":392,"tag":499,"props":2245,"children":2246},{"style":575},[2247],{"type":397,"value":933},{"type":392,"tag":499,"props":2249,"children":2250},{"class":501,"line":1148},[2251,2255],{"type":392,"tag":499,"props":2252,"children":2253},{"style":530},[2254],{"type":397,"value":1405},{"type":392,"tag":499,"props":2256,"children":2257},{"style":575},[2258],{"type":397,"value":1340},{"type":392,"tag":499,"props":2260,"children":2261},{"class":501,"line":1203},[2262,2266,2270,2274,2278,2282],{"type":392,"tag":499,"props":2263,"children":2264},{"style":663},[2265],{"type":397,"value":1418},{"type":392,"tag":499,"props":2267,"children":2268},{"style":575},[2269],{"type":397,"value":1256},{"type":392,"tag":499,"props":2271,"children":2272},{"style":530},[2273],{"type":397,"value":1297},{"type":392,"tag":499,"props":2275,"children":2276},{"style":575},[2277],{"type":397,"value":578},{"type":392,"tag":499,"props":2279,"children":2280},{"style":530},[2281],{"type":397,"value":1811},{"type":392,"tag":499,"props":2283,"children":2284},{"style":575},[2285],{"type":397,"value":1340},{"type":392,"tag":499,"props":2287,"children":2288},{"class":501,"line":1245},[2289,2293,2297],{"type":392,"tag":499,"props":2290,"children":2291},{"style":575},[2292],{"type":397,"value":1280},{"type":392,"tag":499,"props":2294,"children":2295},{"style":663},[2296],{"type":397,"value":1009},{"type":392,"tag":499,"props":2298,"children":2299},{"style":575},[2300],{"type":397,"value":1618},{"type":392,"tag":499,"props":2302,"children":2303},{"class":501,"line":1274},[2304,2308,2312,2317],{"type":392,"tag":499,"props":2305,"children":2306},{"style":530},[2307],{"type":397,"value":1464},{"type":392,"tag":499,"props":2309,"children":2310},{"style":518},[2311],{"type":397,"value":1469},{"type":392,"tag":499,"props":2313,"children":2314},{"style":1472},[2315],{"type":397,"value":2316}," 2",{"type":392,"tag":499,"props":2318,"children":2319},{"style":575},[2320],{"type":397,"value":1618},{"type":392,"tag":499,"props":2322,"children":2323},{"class":501,"line":1287},[2324],{"type":392,"tag":499,"props":2325,"children":2326},{"style":575},[2327],{"type":397,"value":1484},{"type":392,"tag":393,"props":2329,"children":2330},{},[2331],{"type":397,"value":2332},"此时得到的解可以约等于最优解了。当然，如果你觉得不稳的话，还可以使用 1px 步长去找。",{"type":392,"tag":393,"props":2334,"children":2335},{},[2336],{"type":397,"value":2337},"估算一下，原先需要截 245 次图片，现在直接降到 1/10，23 次。不过，也别太高兴，因为测试发现只做优化 2，解验证码的时候还是要 7s...",{"type":392,"tag":431,"props":2339,"children":2341},{"id":2340},"操作鼠标滑滑块",[2342],{"type":397,"value":2340},{"type":392,"tag":393,"props":2344,"children":2345},{},[2346],{"type":397,"value":2347},"缺口位置都搞定了，那移鼠标滑滑块儿还不简单嘛~",{"type":392,"tag":393,"props":2349,"children":2350},{},[2351,2353,2360],{"type":397,"value":2352},"Puppeteer 已经提供了",{"type":392,"tag":400,"props":2354,"children":2357},{"href":2355,"rel":2356},"http://puppeteerjs.com/#?product=Puppeteer&version=v10.2.0&show=api-class-mouse",[404],[2358],{"type":397,"value":2359},"鼠标相关的接口",{"type":397,"value":2361},"，一共四个：mouse.click、mouse.down、mouse.move、mouse.up，分别是点击、按下、移动和松开。使用 mouse.move 可以直接把鼠标位置移动到一个特定的坐标上。假设我们现在从坐标（100,100）花大约 1s 把鼠标移动到 （200,200），可以使用循环实现。",{"type":392,"tag":488,"props":2363,"children":2365},{"className":490,"code":2364,"language":492,"meta":386,"style":386},"const now = {\n  x: 100,\n  y: 100\n}\nconst target = {\n  time: 1000,\n  x: 200,\n  y: 200, \n}\nconst steps = 10\nconst step = {\n  x: Math.floor((target.x - now.x) / steps),\n  y: Math.floor((target.y - now.y) / steps),\n  time: target.time / steps\n}\nwhile (now.x \u003C target.x) {\n  await sleep(step.time)\n  now.x += step.x\n  now.y += step.y\n  await page.mouse.move(now)\n}\n",[2366],{"type":392,"tag":495,"props":2367,"children":2368},{"__ignoreMap":386},[2369,2389,2410,2427,2434,2454,2475,2495,2519,2526,2547,2567,2636,2701,2734,2741,2782,2816,2849,2882,2924],{"type":392,"tag":499,"props":2370,"children":2371},{"class":501,"line":502},[2372,2376,2381,2385],{"type":392,"tag":499,"props":2373,"children":2374},{"style":506},[2375],{"type":397,"value":509},{"type":392,"tag":499,"props":2377,"children":2378},{"style":512},[2379],{"type":397,"value":2380}," now",{"type":392,"tag":499,"props":2382,"children":2383},{"style":518},[2384],{"type":397,"value":521},{"type":392,"tag":499,"props":2386,"children":2387},{"style":575},[2388],{"type":397,"value":623},{"type":392,"tag":499,"props":2390,"children":2391},{"class":501,"line":557},[2392,2397,2401,2406],{"type":392,"tag":499,"props":2393,"children":2394},{"style":663},[2395],{"type":397,"value":2396},"  x",{"type":392,"tag":499,"props":2398,"children":2399},{"style":575},[2400],{"type":397,"value":1256},{"type":392,"tag":499,"props":2402,"children":2403},{"style":1472},[2404],{"type":397,"value":2405}," 100",{"type":392,"tag":499,"props":2407,"children":2408},{"style":575},[2409],{"type":397,"value":1340},{"type":392,"tag":499,"props":2411,"children":2412},{"class":501,"line":567},[2413,2418,2422],{"type":392,"tag":499,"props":2414,"children":2415},{"style":663},[2416],{"type":397,"value":2417},"  y",{"type":392,"tag":499,"props":2419,"children":2420},{"style":575},[2421],{"type":397,"value":1256},{"type":392,"tag":499,"props":2423,"children":2424},{"style":1472},[2425],{"type":397,"value":2426}," 100\n",{"type":392,"tag":499,"props":2428,"children":2429},{"class":501,"line":626},[2430],{"type":392,"tag":499,"props":2431,"children":2432},{"style":575},[2433],{"type":397,"value":1484},{"type":392,"tag":499,"props":2435,"children":2436},{"class":501,"line":669},[2437,2441,2446,2450],{"type":392,"tag":499,"props":2438,"children":2439},{"style":506},[2440],{"type":397,"value":509},{"type":392,"tag":499,"props":2442,"children":2443},{"style":512},[2444],{"type":397,"value":2445}," target",{"type":392,"tag":499,"props":2447,"children":2448},{"style":518},[2449],{"type":397,"value":521},{"type":392,"tag":499,"props":2451,"children":2452},{"style":575},[2453],{"type":397,"value":623},{"type":392,"tag":499,"props":2455,"children":2456},{"class":501,"line":712},[2457,2462,2466,2471],{"type":392,"tag":499,"props":2458,"children":2459},{"style":663},[2460],{"type":397,"value":2461},"  time",{"type":392,"tag":499,"props":2463,"children":2464},{"style":575},[2465],{"type":397,"value":1256},{"type":392,"tag":499,"props":2467,"children":2468},{"style":1472},[2469],{"type":397,"value":2470}," 1000",{"type":392,"tag":499,"props":2472,"children":2473},{"style":575},[2474],{"type":397,"value":1340},{"type":392,"tag":499,"props":2476,"children":2477},{"class":501,"line":1097},[2478,2482,2486,2491],{"type":392,"tag":499,"props":2479,"children":2480},{"style":663},[2481],{"type":397,"value":2396},{"type":392,"tag":499,"props":2483,"children":2484},{"style":575},[2485],{"type":397,"value":1256},{"type":392,"tag":499,"props":2487,"children":2488},{"style":1472},[2489],{"type":397,"value":2490}," 200",{"type":392,"tag":499,"props":2492,"children":2493},{"style":575},[2494],{"type":397,"value":1340},{"type":392,"tag":499,"props":2496,"children":2497},{"class":501,"line":1123},[2498,2502,2506,2510,2514],{"type":392,"tag":499,"props":2499,"children":2500},{"style":663},[2501],{"type":397,"value":2417},{"type":392,"tag":499,"props":2503,"children":2504},{"style":575},[2505],{"type":397,"value":1256},{"type":392,"tag":499,"props":2507,"children":2508},{"style":1472},[2509],{"type":397,"value":2490},{"type":392,"tag":499,"props":2511,"children":2512},{"style":575},[2513],{"type":397,"value":999},{"type":392,"tag":499,"props":2515,"children":2516},{"style":530},[2517],{"type":397,"value":2518}," \n",{"type":392,"tag":499,"props":2520,"children":2521},{"class":501,"line":1131},[2522],{"type":392,"tag":499,"props":2523,"children":2524},{"style":575},[2525],{"type":397,"value":1484},{"type":392,"tag":499,"props":2527,"children":2528},{"class":501,"line":1140},[2529,2533,2538,2542],{"type":392,"tag":499,"props":2530,"children":2531},{"style":506},[2532],{"type":397,"value":509},{"type":392,"tag":499,"props":2534,"children":2535},{"style":512},[2536],{"type":397,"value":2537}," steps",{"type":392,"tag":499,"props":2539,"children":2540},{"style":518},[2541],{"type":397,"value":521},{"type":392,"tag":499,"props":2543,"children":2544},{"style":1472},[2545],{"type":397,"value":2546}," 10\n",{"type":392,"tag":499,"props":2548,"children":2549},{"class":501,"line":1148},[2550,2554,2559,2563],{"type":392,"tag":499,"props":2551,"children":2552},{"style":506},[2553],{"type":397,"value":509},{"type":392,"tag":499,"props":2555,"children":2556},{"style":512},[2557],{"type":397,"value":2558}," step",{"type":392,"tag":499,"props":2560,"children":2561},{"style":518},[2562],{"type":397,"value":521},{"type":392,"tag":499,"props":2564,"children":2565},{"style":575},[2566],{"type":397,"value":623},{"type":392,"tag":499,"props":2568,"children":2569},{"class":501,"line":1203},[2570,2574,2578,2582,2586,2591,2596,2600,2605,2609,2613,2617,2622,2627,2632],{"type":392,"tag":499,"props":2571,"children":2572},{"style":663},[2573],{"type":397,"value":2396},{"type":392,"tag":499,"props":2575,"children":2576},{"style":575},[2577],{"type":397,"value":1256},{"type":392,"tag":499,"props":2579,"children":2580},{"style":530},[2581],{"type":397,"value":1890},{"type":392,"tag":499,"props":2583,"children":2584},{"style":575},[2585],{"type":397,"value":578},{"type":392,"tag":499,"props":2587,"children":2588},{"style":524},[2589],{"type":397,"value":2590},"floor",{"type":392,"tag":499,"props":2592,"children":2593},{"style":530},[2594],{"type":397,"value":2595},"((target",{"type":392,"tag":499,"props":2597,"children":2598},{"style":575},[2599],{"type":397,"value":578},{"type":392,"tag":499,"props":2601,"children":2602},{"style":530},[2603],{"type":397,"value":2604},"x ",{"type":392,"tag":499,"props":2606,"children":2607},{"style":518},[2608],{"type":397,"value":2074},{"type":392,"tag":499,"props":2610,"children":2611},{"style":530},[2612],{"type":397,"value":2380},{"type":392,"tag":499,"props":2614,"children":2615},{"style":575},[2616],{"type":397,"value":578},{"type":392,"tag":499,"props":2618,"children":2619},{"style":530},[2620],{"type":397,"value":2621},"x) ",{"type":392,"tag":499,"props":2623,"children":2624},{"style":518},[2625],{"type":397,"value":2626},"/",{"type":392,"tag":499,"props":2628,"children":2629},{"style":530},[2630],{"type":397,"value":2631}," steps)",{"type":392,"tag":499,"props":2633,"children":2634},{"style":575},[2635],{"type":397,"value":1340},{"type":392,"tag":499,"props":2637,"children":2638},{"class":501,"line":1245},[2639,2643,2647,2651,2655,2659,2663,2667,2672,2676,2680,2684,2689,2693,2697],{"type":392,"tag":499,"props":2640,"children":2641},{"style":663},[2642],{"type":397,"value":2417},{"type":392,"tag":499,"props":2644,"children":2645},{"style":575},[2646],{"type":397,"value":1256},{"type":392,"tag":499,"props":2648,"children":2649},{"style":530},[2650],{"type":397,"value":1890},{"type":392,"tag":499,"props":2652,"children":2653},{"style":575},[2654],{"type":397,"value":578},{"type":392,"tag":499,"props":2656,"children":2657},{"style":524},[2658],{"type":397,"value":2590},{"type":392,"tag":499,"props":2660,"children":2661},{"style":530},[2662],{"type":397,"value":2595},{"type":392,"tag":499,"props":2664,"children":2665},{"style":575},[2666],{"type":397,"value":578},{"type":392,"tag":499,"props":2668,"children":2669},{"style":530},[2670],{"type":397,"value":2671},"y ",{"type":392,"tag":499,"props":2673,"children":2674},{"style":518},[2675],{"type":397,"value":2074},{"type":392,"tag":499,"props":2677,"children":2678},{"style":530},[2679],{"type":397,"value":2380},{"type":392,"tag":499,"props":2681,"children":2682},{"style":575},[2683],{"type":397,"value":578},{"type":392,"tag":499,"props":2685,"children":2686},{"style":530},[2687],{"type":397,"value":2688},"y) ",{"type":392,"tag":499,"props":2690,"children":2691},{"style":518},[2692],{"type":397,"value":2626},{"type":392,"tag":499,"props":2694,"children":2695},{"style":530},[2696],{"type":397,"value":2631},{"type":392,"tag":499,"props":2698,"children":2699},{"style":575},[2700],{"type":397,"value":1340},{"type":392,"tag":499,"props":2702,"children":2703},{"class":501,"line":1274},[2704,2708,2712,2716,2720,2725,2729],{"type":392,"tag":499,"props":2705,"children":2706},{"style":663},[2707],{"type":397,"value":2461},{"type":392,"tag":499,"props":2709,"children":2710},{"style":575},[2711],{"type":397,"value":1256},{"type":392,"tag":499,"props":2713,"children":2714},{"style":530},[2715],{"type":397,"value":2445},{"type":392,"tag":499,"props":2717,"children":2718},{"style":575},[2719],{"type":397,"value":578},{"type":392,"tag":499,"props":2721,"children":2722},{"style":530},[2723],{"type":397,"value":2724},"time ",{"type":392,"tag":499,"props":2726,"children":2727},{"style":518},[2728],{"type":397,"value":2626},{"type":392,"tag":499,"props":2730,"children":2731},{"style":530},[2732],{"type":397,"value":2733}," steps\n",{"type":392,"tag":499,"props":2735,"children":2736},{"class":501,"line":1287},[2737],{"type":392,"tag":499,"props":2738,"children":2739},{"style":575},[2740],{"type":397,"value":1484},{"type":392,"tag":499,"props":2742,"children":2743},{"class":501,"line":1321},[2744,2748,2753,2757,2761,2766,2770,2774,2778],{"type":392,"tag":499,"props":2745,"children":2746},{"style":644},[2747],{"type":397,"value":913},{"type":392,"tag":499,"props":2749,"children":2750},{"style":530},[2751],{"type":397,"value":2752}," (now",{"type":392,"tag":499,"props":2754,"children":2755},{"style":575},[2756],{"type":397,"value":578},{"type":392,"tag":499,"props":2758,"children":2759},{"style":530},[2760],{"type":397,"value":2604},{"type":392,"tag":499,"props":2762,"children":2763},{"style":518},[2764],{"type":397,"value":2765},"\u003C",{"type":392,"tag":499,"props":2767,"children":2768},{"style":530},[2769],{"type":397,"value":2445},{"type":392,"tag":499,"props":2771,"children":2772},{"style":575},[2773],{"type":397,"value":578},{"type":392,"tag":499,"props":2775,"children":2776},{"style":530},[2777],{"type":397,"value":2621},{"type":392,"tag":499,"props":2779,"children":2780},{"style":575},[2781],{"type":397,"value":933},{"type":392,"tag":499,"props":2783,"children":2784},{"class":501,"line":1343},[2785,2789,2794,2798,2803,2807,2812],{"type":392,"tag":499,"props":2786,"children":2787},{"style":644},[2788],{"type":397,"value":675},{"type":392,"tag":499,"props":2790,"children":2791},{"style":524},[2792],{"type":397,"value":2793}," sleep",{"type":392,"tag":499,"props":2795,"children":2796},{"style":663},[2797],{"type":397,"value":533},{"type":392,"tag":499,"props":2799,"children":2800},{"style":530},[2801],{"type":397,"value":2802},"step",{"type":392,"tag":499,"props":2804,"children":2805},{"style":575},[2806],{"type":397,"value":578},{"type":392,"tag":499,"props":2808,"children":2809},{"style":530},[2810],{"type":397,"value":2811},"time",{"type":392,"tag":499,"props":2813,"children":2814},{"style":663},[2815],{"type":397,"value":554},{"type":392,"tag":499,"props":2817,"children":2818},{"class":501,"line":1361},[2819,2824,2828,2832,2836,2840,2844],{"type":392,"tag":499,"props":2820,"children":2821},{"style":530},[2822],{"type":397,"value":2823},"  now",{"type":392,"tag":499,"props":2825,"children":2826},{"style":575},[2827],{"type":397,"value":578},{"type":392,"tag":499,"props":2829,"children":2830},{"style":530},[2831],{"type":397,"value":1935},{"type":392,"tag":499,"props":2833,"children":2834},{"style":518},[2835],{"type":397,"value":1469},{"type":392,"tag":499,"props":2837,"children":2838},{"style":530},[2839],{"type":397,"value":2558},{"type":392,"tag":499,"props":2841,"children":2842},{"style":575},[2843],{"type":397,"value":578},{"type":392,"tag":499,"props":2845,"children":2846},{"style":530},[2847],{"type":397,"value":2848},"x\n",{"type":392,"tag":499,"props":2850,"children":2851},{"class":501,"line":1373},[2852,2856,2860,2865,2869,2873,2877],{"type":392,"tag":499,"props":2853,"children":2854},{"style":530},[2855],{"type":397,"value":2823},{"type":392,"tag":499,"props":2857,"children":2858},{"style":575},[2859],{"type":397,"value":578},{"type":392,"tag":499,"props":2861,"children":2862},{"style":530},[2863],{"type":397,"value":2864},"y",{"type":392,"tag":499,"props":2866,"children":2867},{"style":518},[2868],{"type":397,"value":1469},{"type":392,"tag":499,"props":2870,"children":2871},{"style":530},[2872],{"type":397,"value":2558},{"type":392,"tag":499,"props":2874,"children":2875},{"style":575},[2876],{"type":397,"value":578},{"type":392,"tag":499,"props":2878,"children":2879},{"style":530},[2880],{"type":397,"value":2881},"y\n",{"type":392,"tag":499,"props":2883,"children":2884},{"class":501,"line":1399},[2885,2889,2893,2897,2902,2906,2911,2915,2920],{"type":392,"tag":499,"props":2886,"children":2887},{"style":644},[2888],{"type":397,"value":675},{"type":392,"tag":499,"props":2890,"children":2891},{"style":530},[2892],{"type":397,"value":637},{"type":392,"tag":499,"props":2894,"children":2895},{"style":575},[2896],{"type":397,"value":578},{"type":392,"tag":499,"props":2898,"children":2899},{"style":530},[2900],{"type":397,"value":2901},"mouse",{"type":392,"tag":499,"props":2903,"children":2904},{"style":575},[2905],{"type":397,"value":578},{"type":392,"tag":499,"props":2907,"children":2908},{"style":524},[2909],{"type":397,"value":2910},"move",{"type":392,"tag":499,"props":2912,"children":2913},{"style":663},[2914],{"type":397,"value":533},{"type":392,"tag":499,"props":2916,"children":2917},{"style":530},[2918],{"type":397,"value":2919},"now",{"type":392,"tag":499,"props":2921,"children":2922},{"style":663},[2923],{"type":397,"value":554},{"type":392,"tag":499,"props":2925,"children":2926},{"class":501,"line":1412},[2927],{"type":392,"tag":499,"props":2928,"children":2929},{"style":575},[2930],{"type":397,"value":1484},{"type":392,"tag":431,"props":2932,"children":2934},{"id":2933},"鼠标轨迹优化",[2935],{"type":397,"value":2933},{"type":392,"tag":393,"props":2937,"children":2938},{},[2939],{"type":397,"value":2940},"害，要是打游戏的时候也像这段代码一样，我想我的手点到哪儿它就点到哪儿就好了~",{"type":392,"tag":393,"props":2942,"children":2943},{},[2944],{"type":397,"value":2945},"机器是不会手抖的，这段代码和真实世界的滑动效果相差太远了！我们看一张我用手滑的效果，尤其是要仔细观察滑动过程中鼠标的位置。",{"type":392,"tag":393,"props":2947,"children":2948},{},[2949],{"type":392,"tag":419,"props":2950,"children":2953},{"alt":2951,"src":2952},"鼠标轨迹不稳定","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/soov8Gny09.gif",[],{"type":392,"tag":2955,"props":2956,"children":2957},"ul",{},[2958,2963],{"type":392,"tag":446,"props":2959,"children":2960},{},[2961],{"type":397,"value":2962},"鼠标 Y 轴位置总是在变",{"type":392,"tag":446,"props":2964,"children":2965},{},[2966],{"type":397,"value":2967},"鼠标 X 轴位置会滑过头（别笑，你肯定也经常划过头）",{"type":392,"tag":393,"props":2969,"children":2970},{},[2971],{"type":397,"value":2972},"这里做一波小优化，把这两个细节整合进去。",{"type":392,"tag":488,"props":2974,"children":2976},{"className":490,"code":2975,"language":492,"meta":386,"style":386},"// 获得一个随机的偏移量\nconst getRandOffset = (randNegative = true, max = 3) => {\n  const negative = randNeagtive\n    ? (Math.random() \u003C 0.5) ? -1 : 1\n    : 1\n  return Math.floor(Math.random() * max) * negative\n}\n\n// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\nconst points = [\n  {\n    time: 1000,\n    x: 200 + getRandOffset(false, 15),\n    y: 200 + getRandOffset(false, 15),\n    steps: 10\n  },\n  {\n    time: 100,\n    x: 200,\n    y: 200,\n    steps: 3\n  }\n]\n\n// 注意这里用 for await 循环把 points 串起来执行\nfor await (const target of points) {\n  const step = {\n    x: Math.floor((target.x - now.x) / target.steps),\n    y: Math.floor((target.y - now.y) / target.steps),\n    time: target.time / target.steps,\n  }\n  let gap\n  while (gap = Math.abs((target.x - now.x)), gap > 0) {\n    await sleep(step.time)\n    // 最后一步就直接滑动到位，不需要随机数了\n    const inOneStep = Math.abs(target.x - now.x) \u003C= Math.abs(step.x);\n    if (inOneStep) {\n      now.x = target.x;\n      now.y = target.y;\n    } else {\n      now.x += step.x + getRandOffset();\n      now.y += step.y + getRandOffset();\n    }\n    moveMouseTo(now)\n  }\n}\n",[2977],{"type":392,"tag":495,"props":2978,"children":2979},{"__ignoreMap":386},[2980,2988,3054,3075,3143,3155,3217,3224,3231,3239,3260,3268,3288,3338,3386,3402,3410,3417,3436,3455,3474,3490,3498,3506,3513,3521,3560,3580,3667,3751,3796,3804,3818,3917,3950,3959,4065,4091,4128,4164,4182,4230,4278,4287,4308,4316],{"type":392,"tag":499,"props":2981,"children":2982},{"class":501,"line":502},[2983],{"type":392,"tag":499,"props":2984,"children":2985},{"style":946},[2986],{"type":397,"value":2987},"// 获得一个随机的偏移量\n",{"type":392,"tag":499,"props":2989,"children":2990},{"class":501,"line":557},[2991,2995,3001,3005,3009,3014,3018,3024,3028,3033,3037,3042,3046,3050],{"type":392,"tag":499,"props":2992,"children":2993},{"style":506},[2994],{"type":397,"value":509},{"type":392,"tag":499,"props":2996,"children":2998},{"style":2997},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[2999],{"type":397,"value":3000}," getRandOffset",{"type":392,"tag":499,"props":3002,"children":3003},{"style":518},[3004],{"type":397,"value":521},{"type":392,"tag":499,"props":3006,"children":3007},{"style":575},[3008],{"type":397,"value":989},{"type":392,"tag":499,"props":3010,"children":3011},{"style":610},[3012],{"type":397,"value":3013},"randNegative",{"type":392,"tag":499,"props":3015,"children":3016},{"style":518},[3017],{"type":397,"value":521},{"type":392,"tag":499,"props":3019,"children":3021},{"style":3020},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3022],{"type":397,"value":3023}," true",{"type":392,"tag":499,"props":3025,"children":3026},{"style":575},[3027],{"type":397,"value":999},{"type":392,"tag":499,"props":3029,"children":3030},{"style":610},[3031],{"type":397,"value":3032}," max",{"type":392,"tag":499,"props":3034,"children":3035},{"style":518},[3036],{"type":397,"value":521},{"type":392,"tag":499,"props":3038,"children":3039},{"style":1472},[3040],{"type":397,"value":3041}," 3",{"type":392,"tag":499,"props":3043,"children":3044},{"style":575},[3045],{"type":397,"value":1009},{"type":392,"tag":499,"props":3047,"children":3048},{"style":506},[3049],{"type":397,"value":618},{"type":392,"tag":499,"props":3051,"children":3052},{"style":575},[3053],{"type":397,"value":623},{"type":392,"tag":499,"props":3055,"children":3056},{"class":501,"line":567},[3057,3061,3066,3070],{"type":392,"tag":499,"props":3058,"children":3059},{"style":506},[3060],{"type":397,"value":632},{"type":392,"tag":499,"props":3062,"children":3063},{"style":512},[3064],{"type":397,"value":3065}," negative",{"type":392,"tag":499,"props":3067,"children":3068},{"style":518},[3069],{"type":397,"value":521},{"type":392,"tag":499,"props":3071,"children":3072},{"style":530},[3073],{"type":397,"value":3074}," randNeagtive\n",{"type":392,"tag":499,"props":3076,"children":3077},{"class":501,"line":626},[3078,3083,3087,3092,3096,3101,3106,3110,3115,3120,3125,3130,3134,3139],{"type":392,"tag":499,"props":3079,"children":3080},{"style":518},[3081],{"type":397,"value":3082},"    ?",{"type":392,"tag":499,"props":3084,"children":3085},{"style":663},[3086],{"type":397,"value":989},{"type":392,"tag":499,"props":3088,"children":3089},{"style":530},[3090],{"type":397,"value":3091},"Math",{"type":392,"tag":499,"props":3093,"children":3094},{"style":575},[3095],{"type":397,"value":578},{"type":392,"tag":499,"props":3097,"children":3098},{"style":524},[3099],{"type":397,"value":3100},"random",{"type":392,"tag":499,"props":3102,"children":3103},{"style":663},[3104],{"type":397,"value":3105},"() ",{"type":392,"tag":499,"props":3107,"children":3108},{"style":518},[3109],{"type":397,"value":2765},{"type":392,"tag":499,"props":3111,"children":3112},{"style":1472},[3113],{"type":397,"value":3114}," 0.5",{"type":392,"tag":499,"props":3116,"children":3117},{"style":663},[3118],{"type":397,"value":3119},") ",{"type":392,"tag":499,"props":3121,"children":3122},{"style":518},[3123],{"type":397,"value":3124},"?",{"type":392,"tag":499,"props":3126,"children":3127},{"style":518},[3128],{"type":397,"value":3129}," -",{"type":392,"tag":499,"props":3131,"children":3132},{"style":1472},[3133],{"type":397,"value":819},{"type":392,"tag":499,"props":3135,"children":3136},{"style":518},[3137],{"type":397,"value":3138}," :",{"type":392,"tag":499,"props":3140,"children":3141},{"style":1472},[3142],{"type":397,"value":1475},{"type":392,"tag":499,"props":3144,"children":3145},{"class":501,"line":669},[3146,3151],{"type":392,"tag":499,"props":3147,"children":3148},{"style":518},[3149],{"type":397,"value":3150},"    :",{"type":392,"tag":499,"props":3152,"children":3153},{"style":1472},[3154],{"type":397,"value":1475},{"type":392,"tag":499,"props":3156,"children":3157},{"class":501,"line":712},[3158,3163,3167,3171,3175,3179,3183,3187,3191,3195,3200,3204,3208,3212],{"type":392,"tag":499,"props":3159,"children":3160},{"style":644},[3161],{"type":397,"value":3162},"  return",{"type":392,"tag":499,"props":3164,"children":3165},{"style":530},[3166],{"type":397,"value":1890},{"type":392,"tag":499,"props":3168,"children":3169},{"style":575},[3170],{"type":397,"value":578},{"type":392,"tag":499,"props":3172,"children":3173},{"style":524},[3174],{"type":397,"value":2590},{"type":392,"tag":499,"props":3176,"children":3177},{"style":663},[3178],{"type":397,"value":533},{"type":392,"tag":499,"props":3180,"children":3181},{"style":530},[3182],{"type":397,"value":3091},{"type":392,"tag":499,"props":3184,"children":3185},{"style":575},[3186],{"type":397,"value":578},{"type":392,"tag":499,"props":3188,"children":3189},{"style":524},[3190],{"type":397,"value":3100},{"type":392,"tag":499,"props":3192,"children":3193},{"style":663},[3194],{"type":397,"value":3105},{"type":392,"tag":499,"props":3196,"children":3197},{"style":518},[3198],{"type":397,"value":3199},"*",{"type":392,"tag":499,"props":3201,"children":3202},{"style":530},[3203],{"type":397,"value":3032},{"type":392,"tag":499,"props":3205,"children":3206},{"style":663},[3207],{"type":397,"value":3119},{"type":392,"tag":499,"props":3209,"children":3210},{"style":518},[3211],{"type":397,"value":3199},{"type":392,"tag":499,"props":3213,"children":3214},{"style":530},[3215],{"type":397,"value":3216}," negative\n",{"type":392,"tag":499,"props":3218,"children":3219},{"class":501,"line":1097},[3220],{"type":392,"tag":499,"props":3221,"children":3222},{"style":575},[3223],{"type":397,"value":1484},{"type":392,"tag":499,"props":3225,"children":3226},{"class":501,"line":1123},[3227],{"type":392,"tag":499,"props":3228,"children":3229},{"emptyLinePlaceholder":561},[3230],{"type":397,"value":564},{"type":392,"tag":499,"props":3232,"children":3233},{"class":501,"line":1131},[3234],{"type":392,"tag":499,"props":3235,"children":3236},{"style":946},[3237],{"type":397,"value":3238},"// 先滑过头十几像素，然后再花 100 毫秒的时间往回滑到正确位置\n",{"type":392,"tag":499,"props":3240,"children":3241},{"class":501,"line":1140},[3242,3246,3251,3255],{"type":392,"tag":499,"props":3243,"children":3244},{"style":506},[3245],{"type":397,"value":509},{"type":392,"tag":499,"props":3247,"children":3248},{"style":512},[3249],{"type":397,"value":3250}," points",{"type":392,"tag":499,"props":3252,"children":3253},{"style":518},[3254],{"type":397,"value":521},{"type":392,"tag":499,"props":3256,"children":3257},{"style":530},[3258],{"type":397,"value":3259}," [\n",{"type":392,"tag":499,"props":3261,"children":3262},{"class":501,"line":1148},[3263],{"type":392,"tag":499,"props":3264,"children":3265},{"style":575},[3266],{"type":397,"value":3267},"  {\n",{"type":392,"tag":499,"props":3269,"children":3270},{"class":501,"line":1203},[3271,3276,3280,3284],{"type":392,"tag":499,"props":3272,"children":3273},{"style":663},[3274],{"type":397,"value":3275},"    time",{"type":392,"tag":499,"props":3277,"children":3278},{"style":575},[3279],{"type":397,"value":1256},{"type":392,"tag":499,"props":3281,"children":3282},{"style":1472},[3283],{"type":397,"value":2470},{"type":392,"tag":499,"props":3285,"children":3286},{"style":575},[3287],{"type":397,"value":1340},{"type":392,"tag":499,"props":3289,"children":3290},{"class":501,"line":1245},[3291,3296,3300,3304,3309,3313,3317,3322,3326,3330,3334],{"type":392,"tag":499,"props":3292,"children":3293},{"style":663},[3294],{"type":397,"value":3295},"    x",{"type":392,"tag":499,"props":3297,"children":3298},{"style":575},[3299],{"type":397,"value":1256},{"type":392,"tag":499,"props":3301,"children":3302},{"style":1472},[3303],{"type":397,"value":2490},{"type":392,"tag":499,"props":3305,"children":3306},{"style":518},[3307],{"type":397,"value":3308}," +",{"type":392,"tag":499,"props":3310,"children":3311},{"style":524},[3312],{"type":397,"value":3000},{"type":392,"tag":499,"props":3314,"children":3315},{"style":530},[3316],{"type":397,"value":533},{"type":392,"tag":499,"props":3318,"children":3319},{"style":3020},[3320],{"type":397,"value":3321},"false",{"type":392,"tag":499,"props":3323,"children":3324},{"style":575},[3325],{"type":397,"value":999},{"type":392,"tag":499,"props":3327,"children":3328},{"style":1472},[3329],{"type":397,"value":1846},{"type":392,"tag":499,"props":3331,"children":3332},{"style":530},[3333],{"type":397,"value":1009},{"type":392,"tag":499,"props":3335,"children":3336},{"style":575},[3337],{"type":397,"value":1340},{"type":392,"tag":499,"props":3339,"children":3340},{"class":501,"line":1274},[3341,3346,3350,3354,3358,3362,3366,3370,3374,3378,3382],{"type":392,"tag":499,"props":3342,"children":3343},{"style":663},[3344],{"type":397,"value":3345},"    y",{"type":392,"tag":499,"props":3347,"children":3348},{"style":575},[3349],{"type":397,"value":1256},{"type":392,"tag":499,"props":3351,"children":3352},{"style":1472},[3353],{"type":397,"value":2490},{"type":392,"tag":499,"props":3355,"children":3356},{"style":518},[3357],{"type":397,"value":3308},{"type":392,"tag":499,"props":3359,"children":3360},{"style":524},[3361],{"type":397,"value":3000},{"type":392,"tag":499,"props":3363,"children":3364},{"style":530},[3365],{"type":397,"value":533},{"type":392,"tag":499,"props":3367,"children":3368},{"style":3020},[3369],{"type":397,"value":3321},{"type":392,"tag":499,"props":3371,"children":3372},{"style":575},[3373],{"type":397,"value":999},{"type":392,"tag":499,"props":3375,"children":3376},{"style":1472},[3377],{"type":397,"value":1846},{"type":392,"tag":499,"props":3379,"children":3380},{"style":530},[3381],{"type":397,"value":1009},{"type":392,"tag":499,"props":3383,"children":3384},{"style":575},[3385],{"type":397,"value":1340},{"type":392,"tag":499,"props":3387,"children":3388},{"class":501,"line":1287},[3389,3394,3398],{"type":392,"tag":499,"props":3390,"children":3391},{"style":663},[3392],{"type":397,"value":3393},"    steps",{"type":392,"tag":499,"props":3395,"children":3396},{"style":575},[3397],{"type":397,"value":1256},{"type":392,"tag":499,"props":3399,"children":3400},{"style":1472},[3401],{"type":397,"value":2546},{"type":392,"tag":499,"props":3403,"children":3404},{"class":501,"line":1321},[3405],{"type":392,"tag":499,"props":3406,"children":3407},{"style":575},[3408],{"type":397,"value":3409},"  },\n",{"type":392,"tag":499,"props":3411,"children":3412},{"class":501,"line":1343},[3413],{"type":392,"tag":499,"props":3414,"children":3415},{"style":575},[3416],{"type":397,"value":3267},{"type":392,"tag":499,"props":3418,"children":3419},{"class":501,"line":1361},[3420,3424,3428,3432],{"type":392,"tag":499,"props":3421,"children":3422},{"style":663},[3423],{"type":397,"value":3275},{"type":392,"tag":499,"props":3425,"children":3426},{"style":575},[3427],{"type":397,"value":1256},{"type":392,"tag":499,"props":3429,"children":3430},{"style":1472},[3431],{"type":397,"value":2405},{"type":392,"tag":499,"props":3433,"children":3434},{"style":575},[3435],{"type":397,"value":1340},{"type":392,"tag":499,"props":3437,"children":3438},{"class":501,"line":1373},[3439,3443,3447,3451],{"type":392,"tag":499,"props":3440,"children":3441},{"style":663},[3442],{"type":397,"value":3295},{"type":392,"tag":499,"props":3444,"children":3445},{"style":575},[3446],{"type":397,"value":1256},{"type":392,"tag":499,"props":3448,"children":3449},{"style":1472},[3450],{"type":397,"value":2490},{"type":392,"tag":499,"props":3452,"children":3453},{"style":575},[3454],{"type":397,"value":1340},{"type":392,"tag":499,"props":3456,"children":3457},{"class":501,"line":1399},[3458,3462,3466,3470],{"type":392,"tag":499,"props":3459,"children":3460},{"style":663},[3461],{"type":397,"value":3345},{"type":392,"tag":499,"props":3463,"children":3464},{"style":575},[3465],{"type":397,"value":1256},{"type":392,"tag":499,"props":3467,"children":3468},{"style":1472},[3469],{"type":397,"value":2490},{"type":392,"tag":499,"props":3471,"children":3472},{"style":575},[3473],{"type":397,"value":1340},{"type":392,"tag":499,"props":3475,"children":3476},{"class":501,"line":1412},[3477,3481,3485],{"type":392,"tag":499,"props":3478,"children":3479},{"style":663},[3480],{"type":397,"value":3393},{"type":392,"tag":499,"props":3482,"children":3483},{"style":575},[3484],{"type":397,"value":1256},{"type":392,"tag":499,"props":3486,"children":3487},{"style":1472},[3488],{"type":397,"value":3489}," 3\n",{"type":392,"tag":499,"props":3491,"children":3492},{"class":501,"line":1438},[3493],{"type":392,"tag":499,"props":3494,"children":3495},{"style":575},[3496],{"type":397,"value":3497},"  }\n",{"type":392,"tag":499,"props":3499,"children":3500},{"class":501,"line":1450},[3501],{"type":392,"tag":499,"props":3502,"children":3503},{"style":530},[3504],{"type":397,"value":3505},"]\n",{"type":392,"tag":499,"props":3507,"children":3508},{"class":501,"line":1458},[3509],{"type":392,"tag":499,"props":3510,"children":3511},{"emptyLinePlaceholder":561},[3512],{"type":397,"value":564},{"type":392,"tag":499,"props":3514,"children":3515},{"class":501,"line":1478},[3516],{"type":392,"tag":499,"props":3517,"children":3518},{"style":946},[3519],{"type":397,"value":3520},"// 注意这里用 for await 循环把 points 串起来执行\n",{"type":392,"tag":499,"props":3522,"children":3524},{"class":501,"line":3523},26,[3525,3530,3534,3538,3542,3546,3551,3556],{"type":392,"tag":499,"props":3526,"children":3527},{"style":644},[3528],{"type":397,"value":3529},"for",{"type":392,"tag":499,"props":3531,"children":3532},{"style":644},[3533],{"type":397,"value":647},{"type":392,"tag":499,"props":3535,"children":3536},{"style":530},[3537],{"type":397,"value":989},{"type":392,"tag":499,"props":3539,"children":3540},{"style":506},[3541],{"type":397,"value":509},{"type":392,"tag":499,"props":3543,"children":3544},{"style":512},[3545],{"type":397,"value":2445},{"type":392,"tag":499,"props":3547,"children":3548},{"style":518},[3549],{"type":397,"value":3550}," of",{"type":392,"tag":499,"props":3552,"children":3553},{"style":530},[3554],{"type":397,"value":3555}," points) ",{"type":392,"tag":499,"props":3557,"children":3558},{"style":575},[3559],{"type":397,"value":933},{"type":392,"tag":499,"props":3561,"children":3563},{"class":501,"line":3562},27,[3564,3568,3572,3576],{"type":392,"tag":499,"props":3565,"children":3566},{"style":506},[3567],{"type":397,"value":632},{"type":392,"tag":499,"props":3569,"children":3570},{"style":512},[3571],{"type":397,"value":2558},{"type":392,"tag":499,"props":3573,"children":3574},{"style":518},[3575],{"type":397,"value":521},{"type":392,"tag":499,"props":3577,"children":3578},{"style":575},[3579],{"type":397,"value":623},{"type":392,"tag":499,"props":3581,"children":3583},{"class":501,"line":3582},28,[3584,3588,3592,3596,3600,3604,3609,3614,3618,3622,3626,3630,3634,3638,3642,3646,3650,3654,3659,3663],{"type":392,"tag":499,"props":3585,"children":3586},{"style":663},[3587],{"type":397,"value":3295},{"type":392,"tag":499,"props":3589,"children":3590},{"style":575},[3591],{"type":397,"value":1256},{"type":392,"tag":499,"props":3593,"children":3594},{"style":530},[3595],{"type":397,"value":1890},{"type":392,"tag":499,"props":3597,"children":3598},{"style":575},[3599],{"type":397,"value":578},{"type":392,"tag":499,"props":3601,"children":3602},{"style":524},[3603],{"type":397,"value":2590},{"type":392,"tag":499,"props":3605,"children":3606},{"style":663},[3607],{"type":397,"value":3608},"((",{"type":392,"tag":499,"props":3610,"children":3611},{"style":530},[3612],{"type":397,"value":3613},"target",{"type":392,"tag":499,"props":3615,"children":3616},{"style":575},[3617],{"type":397,"value":578},{"type":392,"tag":499,"props":3619,"children":3620},{"style":530},[3621],{"type":397,"value":1935},{"type":392,"tag":499,"props":3623,"children":3624},{"style":518},[3625],{"type":397,"value":3129},{"type":392,"tag":499,"props":3627,"children":3628},{"style":530},[3629],{"type":397,"value":2380},{"type":392,"tag":499,"props":3631,"children":3632},{"style":575},[3633],{"type":397,"value":578},{"type":392,"tag":499,"props":3635,"children":3636},{"style":530},[3637],{"type":397,"value":1935},{"type":392,"tag":499,"props":3639,"children":3640},{"style":663},[3641],{"type":397,"value":3119},{"type":392,"tag":499,"props":3643,"children":3644},{"style":518},[3645],{"type":397,"value":2626},{"type":392,"tag":499,"props":3647,"children":3648},{"style":530},[3649],{"type":397,"value":2445},{"type":392,"tag":499,"props":3651,"children":3652},{"style":575},[3653],{"type":397,"value":578},{"type":392,"tag":499,"props":3655,"children":3656},{"style":530},[3657],{"type":397,"value":3658},"steps",{"type":392,"tag":499,"props":3660,"children":3661},{"style":663},[3662],{"type":397,"value":1009},{"type":392,"tag":499,"props":3664,"children":3665},{"style":575},[3666],{"type":397,"value":1340},{"type":392,"tag":499,"props":3668,"children":3670},{"class":501,"line":3669},29,[3671,3675,3679,3683,3687,3691,3695,3699,3703,3707,3711,3715,3719,3723,3727,3731,3735,3739,3743,3747],{"type":392,"tag":499,"props":3672,"children":3673},{"style":663},[3674],{"type":397,"value":3345},{"type":392,"tag":499,"props":3676,"children":3677},{"style":575},[3678],{"type":397,"value":1256},{"type":392,"tag":499,"props":3680,"children":3681},{"style":530},[3682],{"type":397,"value":1890},{"type":392,"tag":499,"props":3684,"children":3685},{"style":575},[3686],{"type":397,"value":578},{"type":392,"tag":499,"props":3688,"children":3689},{"style":524},[3690],{"type":397,"value":2590},{"type":392,"tag":499,"props":3692,"children":3693},{"style":663},[3694],{"type":397,"value":3608},{"type":392,"tag":499,"props":3696,"children":3697},{"style":530},[3698],{"type":397,"value":3613},{"type":392,"tag":499,"props":3700,"children":3701},{"style":575},[3702],{"type":397,"value":578},{"type":392,"tag":499,"props":3704,"children":3705},{"style":530},[3706],{"type":397,"value":2864},{"type":392,"tag":499,"props":3708,"children":3709},{"style":518},[3710],{"type":397,"value":3129},{"type":392,"tag":499,"props":3712,"children":3713},{"style":530},[3714],{"type":397,"value":2380},{"type":392,"tag":499,"props":3716,"children":3717},{"style":575},[3718],{"type":397,"value":578},{"type":392,"tag":499,"props":3720,"children":3721},{"style":530},[3722],{"type":397,"value":2864},{"type":392,"tag":499,"props":3724,"children":3725},{"style":663},[3726],{"type":397,"value":3119},{"type":392,"tag":499,"props":3728,"children":3729},{"style":518},[3730],{"type":397,"value":2626},{"type":392,"tag":499,"props":3732,"children":3733},{"style":530},[3734],{"type":397,"value":2445},{"type":392,"tag":499,"props":3736,"children":3737},{"style":575},[3738],{"type":397,"value":578},{"type":392,"tag":499,"props":3740,"children":3741},{"style":530},[3742],{"type":397,"value":3658},{"type":392,"tag":499,"props":3744,"children":3745},{"style":663},[3746],{"type":397,"value":1009},{"type":392,"tag":499,"props":3748,"children":3749},{"style":575},[3750],{"type":397,"value":1340},{"type":392,"tag":499,"props":3752,"children":3754},{"class":501,"line":3753},30,[3755,3759,3763,3767,3771,3775,3780,3784,3788,3792],{"type":392,"tag":499,"props":3756,"children":3757},{"style":663},[3758],{"type":397,"value":3275},{"type":392,"tag":499,"props":3760,"children":3761},{"style":575},[3762],{"type":397,"value":1256},{"type":392,"tag":499,"props":3764,"children":3765},{"style":530},[3766],{"type":397,"value":2445},{"type":392,"tag":499,"props":3768,"children":3769},{"style":575},[3770],{"type":397,"value":578},{"type":392,"tag":499,"props":3772,"children":3773},{"style":530},[3774],{"type":397,"value":2811},{"type":392,"tag":499,"props":3776,"children":3777},{"style":518},[3778],{"type":397,"value":3779}," /",{"type":392,"tag":499,"props":3781,"children":3782},{"style":530},[3783],{"type":397,"value":2445},{"type":392,"tag":499,"props":3785,"children":3786},{"style":575},[3787],{"type":397,"value":578},{"type":392,"tag":499,"props":3789,"children":3790},{"style":530},[3791],{"type":397,"value":3658},{"type":392,"tag":499,"props":3793,"children":3794},{"style":575},[3795],{"type":397,"value":1340},{"type":392,"tag":499,"props":3797,"children":3799},{"class":501,"line":3798},31,[3800],{"type":392,"tag":499,"props":3801,"children":3802},{"style":575},[3803],{"type":397,"value":3497},{"type":392,"tag":499,"props":3805,"children":3807},{"class":501,"line":3806},32,[3808,3813],{"type":392,"tag":499,"props":3809,"children":3810},{"style":506},[3811],{"type":397,"value":3812},"  let",{"type":392,"tag":499,"props":3814,"children":3815},{"style":530},[3816],{"type":397,"value":3817}," gap\n",{"type":392,"tag":499,"props":3819,"children":3821},{"class":501,"line":3820},33,[3822,3827,3831,3836,3840,3844,3848,3853,3857,3861,3865,3869,3873,3877,3881,3885,3890,3894,3899,3904,3909,3913],{"type":392,"tag":499,"props":3823,"children":3824},{"style":644},[3825],{"type":397,"value":3826},"  while",{"type":392,"tag":499,"props":3828,"children":3829},{"style":663},[3830],{"type":397,"value":989},{"type":392,"tag":499,"props":3832,"children":3833},{"style":530},[3834],{"type":397,"value":3835},"gap",{"type":392,"tag":499,"props":3837,"children":3838},{"style":518},[3839],{"type":397,"value":521},{"type":392,"tag":499,"props":3841,"children":3842},{"style":530},[3843],{"type":397,"value":1890},{"type":392,"tag":499,"props":3845,"children":3846},{"style":575},[3847],{"type":397,"value":578},{"type":392,"tag":499,"props":3849,"children":3850},{"style":524},[3851],{"type":397,"value":3852},"abs",{"type":392,"tag":499,"props":3854,"children":3855},{"style":663},[3856],{"type":397,"value":3608},{"type":392,"tag":499,"props":3858,"children":3859},{"style":530},[3860],{"type":397,"value":3613},{"type":392,"tag":499,"props":3862,"children":3863},{"style":575},[3864],{"type":397,"value":578},{"type":392,"tag":499,"props":3866,"children":3867},{"style":530},[3868],{"type":397,"value":1935},{"type":392,"tag":499,"props":3870,"children":3871},{"style":518},[3872],{"type":397,"value":3129},{"type":392,"tag":499,"props":3874,"children":3875},{"style":530},[3876],{"type":397,"value":2380},{"type":392,"tag":499,"props":3878,"children":3879},{"style":575},[3880],{"type":397,"value":578},{"type":392,"tag":499,"props":3882,"children":3883},{"style":530},[3884],{"type":397,"value":1935},{"type":392,"tag":499,"props":3886,"children":3887},{"style":663},[3888],{"type":397,"value":3889},"))",{"type":392,"tag":499,"props":3891,"children":3892},{"style":575},[3893],{"type":397,"value":999},{"type":392,"tag":499,"props":3895,"children":3896},{"style":530},[3897],{"type":397,"value":3898}," gap",{"type":392,"tag":499,"props":3900,"children":3901},{"style":518},[3902],{"type":397,"value":3903}," >",{"type":392,"tag":499,"props":3905,"children":3906},{"style":1472},[3907],{"type":397,"value":3908}," 0",{"type":392,"tag":499,"props":3910,"children":3911},{"style":663},[3912],{"type":397,"value":3119},{"type":392,"tag":499,"props":3914,"children":3915},{"style":575},[3916],{"type":397,"value":933},{"type":392,"tag":499,"props":3918,"children":3920},{"class":501,"line":3919},34,[3921,3926,3930,3934,3938,3942,3946],{"type":392,"tag":499,"props":3922,"children":3923},{"style":644},[3924],{"type":397,"value":3925},"    await",{"type":392,"tag":499,"props":3927,"children":3928},{"style":524},[3929],{"type":397,"value":2793},{"type":392,"tag":499,"props":3931,"children":3932},{"style":663},[3933],{"type":397,"value":533},{"type":392,"tag":499,"props":3935,"children":3936},{"style":530},[3937],{"type":397,"value":2802},{"type":392,"tag":499,"props":3939,"children":3940},{"style":575},[3941],{"type":397,"value":578},{"type":392,"tag":499,"props":3943,"children":3944},{"style":530},[3945],{"type":397,"value":2811},{"type":392,"tag":499,"props":3947,"children":3948},{"style":663},[3949],{"type":397,"value":554},{"type":392,"tag":499,"props":3951,"children":3953},{"class":501,"line":3952},35,[3954],{"type":392,"tag":499,"props":3955,"children":3956},{"style":946},[3957],{"type":397,"value":3958},"    // 最后一步就直接滑动到位，不需要随机数了\n",{"type":392,"tag":499,"props":3960,"children":3962},{"class":501,"line":3961},36,[3963,3968,3973,3977,3981,3985,3989,3993,3997,4001,4005,4009,4013,4017,4021,4025,4029,4033,4037,4041,4045,4049,4053,4057,4061],{"type":392,"tag":499,"props":3964,"children":3965},{"style":506},[3966],{"type":397,"value":3967},"    const",{"type":392,"tag":499,"props":3969,"children":3970},{"style":512},[3971],{"type":397,"value":3972}," inOneStep",{"type":392,"tag":499,"props":3974,"children":3975},{"style":518},[3976],{"type":397,"value":521},{"type":392,"tag":499,"props":3978,"children":3979},{"style":530},[3980],{"type":397,"value":1890},{"type":392,"tag":499,"props":3982,"children":3983},{"style":575},[3984],{"type":397,"value":578},{"type":392,"tag":499,"props":3986,"children":3987},{"style":524},[3988],{"type":397,"value":3852},{"type":392,"tag":499,"props":3990,"children":3991},{"style":663},[3992],{"type":397,"value":533},{"type":392,"tag":499,"props":3994,"children":3995},{"style":530},[3996],{"type":397,"value":3613},{"type":392,"tag":499,"props":3998,"children":3999},{"style":575},[4000],{"type":397,"value":578},{"type":392,"tag":499,"props":4002,"children":4003},{"style":530},[4004],{"type":397,"value":1935},{"type":392,"tag":499,"props":4006,"children":4007},{"style":518},[4008],{"type":397,"value":3129},{"type":392,"tag":499,"props":4010,"children":4011},{"style":530},[4012],{"type":397,"value":2380},{"type":392,"tag":499,"props":4014,"children":4015},{"style":575},[4016],{"type":397,"value":578},{"type":392,"tag":499,"props":4018,"children":4019},{"style":530},[4020],{"type":397,"value":1935},{"type":392,"tag":499,"props":4022,"children":4023},{"style":663},[4024],{"type":397,"value":3119},{"type":392,"tag":499,"props":4026,"children":4027},{"style":518},[4028],{"type":397,"value":923},{"type":392,"tag":499,"props":4030,"children":4031},{"style":530},[4032],{"type":397,"value":1890},{"type":392,"tag":499,"props":4034,"children":4035},{"style":575},[4036],{"type":397,"value":578},{"type":392,"tag":499,"props":4038,"children":4039},{"style":524},[4040],{"type":397,"value":3852},{"type":392,"tag":499,"props":4042,"children":4043},{"style":663},[4044],{"type":397,"value":533},{"type":392,"tag":499,"props":4046,"children":4047},{"style":530},[4048],{"type":397,"value":2802},{"type":392,"tag":499,"props":4050,"children":4051},{"style":575},[4052],{"type":397,"value":578},{"type":392,"tag":499,"props":4054,"children":4055},{"style":530},[4056],{"type":397,"value":1935},{"type":392,"tag":499,"props":4058,"children":4059},{"style":663},[4060],{"type":397,"value":1009},{"type":392,"tag":499,"props":4062,"children":4063},{"style":575},[4064],{"type":397,"value":1618},{"type":392,"tag":499,"props":4066,"children":4068},{"class":501,"line":4067},37,[4069,4074,4078,4083,4087],{"type":392,"tag":499,"props":4070,"children":4071},{"style":644},[4072],{"type":397,"value":4073},"    if",{"type":392,"tag":499,"props":4075,"children":4076},{"style":663},[4077],{"type":397,"value":989},{"type":392,"tag":499,"props":4079,"children":4080},{"style":530},[4081],{"type":397,"value":4082},"inOneStep",{"type":392,"tag":499,"props":4084,"children":4085},{"style":663},[4086],{"type":397,"value":3119},{"type":392,"tag":499,"props":4088,"children":4089},{"style":575},[4090],{"type":397,"value":933},{"type":392,"tag":499,"props":4092,"children":4094},{"class":501,"line":4093},38,[4095,4100,4104,4108,4112,4116,4120,4124],{"type":392,"tag":499,"props":4096,"children":4097},{"style":530},[4098],{"type":397,"value":4099},"      now",{"type":392,"tag":499,"props":4101,"children":4102},{"style":575},[4103],{"type":397,"value":578},{"type":392,"tag":499,"props":4105,"children":4106},{"style":530},[4107],{"type":397,"value":1935},{"type":392,"tag":499,"props":4109,"children":4110},{"style":518},[4111],{"type":397,"value":521},{"type":392,"tag":499,"props":4113,"children":4114},{"style":530},[4115],{"type":397,"value":2445},{"type":392,"tag":499,"props":4117,"children":4118},{"style":575},[4119],{"type":397,"value":578},{"type":392,"tag":499,"props":4121,"children":4122},{"style":530},[4123],{"type":397,"value":1935},{"type":392,"tag":499,"props":4125,"children":4126},{"style":575},[4127],{"type":397,"value":1618},{"type":392,"tag":499,"props":4129,"children":4131},{"class":501,"line":4130},39,[4132,4136,4140,4144,4148,4152,4156,4160],{"type":392,"tag":499,"props":4133,"children":4134},{"style":530},[4135],{"type":397,"value":4099},{"type":392,"tag":499,"props":4137,"children":4138},{"style":575},[4139],{"type":397,"value":578},{"type":392,"tag":499,"props":4141,"children":4142},{"style":530},[4143],{"type":397,"value":2864},{"type":392,"tag":499,"props":4145,"children":4146},{"style":518},[4147],{"type":397,"value":521},{"type":392,"tag":499,"props":4149,"children":4150},{"style":530},[4151],{"type":397,"value":2445},{"type":392,"tag":499,"props":4153,"children":4154},{"style":575},[4155],{"type":397,"value":578},{"type":392,"tag":499,"props":4157,"children":4158},{"style":530},[4159],{"type":397,"value":2864},{"type":392,"tag":499,"props":4161,"children":4162},{"style":575},[4163],{"type":397,"value":1618},{"type":392,"tag":499,"props":4165,"children":4167},{"class":501,"line":4166},40,[4168,4173,4178],{"type":392,"tag":499,"props":4169,"children":4170},{"style":575},[4171],{"type":397,"value":4172},"    }",{"type":392,"tag":499,"props":4174,"children":4175},{"style":644},[4176],{"type":397,"value":4177}," else",{"type":392,"tag":499,"props":4179,"children":4180},{"style":575},[4181],{"type":397,"value":623},{"type":392,"tag":499,"props":4183,"children":4185},{"class":501,"line":4184},41,[4186,4190,4194,4198,4202,4206,4210,4214,4218,4222,4226],{"type":392,"tag":499,"props":4187,"children":4188},{"style":530},[4189],{"type":397,"value":4099},{"type":392,"tag":499,"props":4191,"children":4192},{"style":575},[4193],{"type":397,"value":578},{"type":392,"tag":499,"props":4195,"children":4196},{"style":530},[4197],{"type":397,"value":1935},{"type":392,"tag":499,"props":4199,"children":4200},{"style":518},[4201],{"type":397,"value":1469},{"type":392,"tag":499,"props":4203,"children":4204},{"style":530},[4205],{"type":397,"value":2558},{"type":392,"tag":499,"props":4207,"children":4208},{"style":575},[4209],{"type":397,"value":578},{"type":392,"tag":499,"props":4211,"children":4212},{"style":530},[4213],{"type":397,"value":1935},{"type":392,"tag":499,"props":4215,"children":4216},{"style":518},[4217],{"type":397,"value":3308},{"type":392,"tag":499,"props":4219,"children":4220},{"style":524},[4221],{"type":397,"value":3000},{"type":392,"tag":499,"props":4223,"children":4224},{"style":663},[4225],{"type":397,"value":588},{"type":392,"tag":499,"props":4227,"children":4228},{"style":575},[4229],{"type":397,"value":1618},{"type":392,"tag":499,"props":4231,"children":4233},{"class":501,"line":4232},42,[4234,4238,4242,4246,4250,4254,4258,4262,4266,4270,4274],{"type":392,"tag":499,"props":4235,"children":4236},{"style":530},[4237],{"type":397,"value":4099},{"type":392,"tag":499,"props":4239,"children":4240},{"style":575},[4241],{"type":397,"value":578},{"type":392,"tag":499,"props":4243,"children":4244},{"style":530},[4245],{"type":397,"value":2864},{"type":392,"tag":499,"props":4247,"children":4248},{"style":518},[4249],{"type":397,"value":1469},{"type":392,"tag":499,"props":4251,"children":4252},{"style":530},[4253],{"type":397,"value":2558},{"type":392,"tag":499,"props":4255,"children":4256},{"style":575},[4257],{"type":397,"value":578},{"type":392,"tag":499,"props":4259,"children":4260},{"style":530},[4261],{"type":397,"value":2864},{"type":392,"tag":499,"props":4263,"children":4264},{"style":518},[4265],{"type":397,"value":3308},{"type":392,"tag":499,"props":4267,"children":4268},{"style":524},[4269],{"type":397,"value":3000},{"type":392,"tag":499,"props":4271,"children":4272},{"style":663},[4273],{"type":397,"value":588},{"type":392,"tag":499,"props":4275,"children":4276},{"style":575},[4277],{"type":397,"value":1618},{"type":392,"tag":499,"props":4279,"children":4281},{"class":501,"line":4280},43,[4282],{"type":392,"tag":499,"props":4283,"children":4284},{"style":575},[4285],{"type":397,"value":4286},"    }\n",{"type":392,"tag":499,"props":4288,"children":4290},{"class":501,"line":4289},44,[4291,4296,4300,4304],{"type":392,"tag":499,"props":4292,"children":4293},{"style":524},[4294],{"type":397,"value":4295},"    moveMouseTo",{"type":392,"tag":499,"props":4297,"children":4298},{"style":663},[4299],{"type":397,"value":533},{"type":392,"tag":499,"props":4301,"children":4302},{"style":530},[4303],{"type":397,"value":2919},{"type":392,"tag":499,"props":4305,"children":4306},{"style":663},[4307],{"type":397,"value":554},{"type":392,"tag":499,"props":4309,"children":4311},{"class":501,"line":4310},45,[4312],{"type":392,"tag":499,"props":4313,"children":4314},{"style":575},[4315],{"type":397,"value":3497},{"type":392,"tag":499,"props":4317,"children":4319},{"class":501,"line":4318},46,[4320],{"type":392,"tag":499,"props":4321,"children":4322},{"style":575},[4323],{"type":397,"value":1484},{"type":392,"tag":393,"props":4325,"children":4326},{},[4327],{"type":397,"value":4328},"如何移动鼠标到这里就解决了，如果要考虑加速度、用户习惯等因素，代码会复杂许多，暂时就不深入讨论啦，有兴趣的同学可以自己研究。",{"type":392,"tag":393,"props":4330,"children":4331},{},[4332],{"type":397,"value":4333},"最终效果见下图。",{"type":392,"tag":393,"props":4335,"children":4336},{},[4337],{"type":392,"tag":419,"props":4338,"children":4339},{"alt":421,"src":422},[],{"type":392,"tag":393,"props":4341,"children":4342},{},[4343,4345,4352],{"type":397,"value":4344},"源码地址在此：",{"type":392,"tag":400,"props":4346,"children":4349},{"href":4347,"rel":4348},"https://github.com/Lionad-Morotar/crack-the-shield/tree/master/tasks/dooring-slider",[404],[4350],{"type":397,"value":4351},"CrackTheShield",{"type":397,"value":821},{"type":392,"tag":425,"props":4354,"children":4356},{"id":4355},"阅读更多",[4357],{"type":397,"value":4355},{"type":392,"tag":2955,"props":4359,"children":4360},{},[4361,4373],{"type":392,"tag":446,"props":4362,"children":4363},{},[4364,4371],{"type":392,"tag":400,"props":4365,"children":4368},{"href":4366,"rel":4367},"https://juejin.cn/post/6945336161468416037",[404],[4369],{"type":397,"value":4370},"《Python爬虫的实际运用之：破解滑动验证码》",{"type":397,"value":4372},"，这个老哥用了图像边缘检测的方法来判断缺口所在位置。",{"type":392,"tag":446,"props":4374,"children":4375},{},[4376,4383],{"type":392,"tag":400,"props":4377,"children":4380},{"href":4378,"rel":4379},"https://juejin.cn/post/6844903679808520205",[404],[4381],{"type":397,"value":4382},"《震惊! 滑动验证码竟然能这样破解》",{"type":397,"value":4384},"，这个老哥用了一种看谁脸黑的办法来判断图片的缺口所在位置。",{"type":392,"tag":4386,"props":4387,"children":4390},"section",{"className":4388,"dataFootnotes":386},[4389],"footnotes",[4391,4398],{"type":392,"tag":425,"props":4392,"children":4395},{"className":4393,"id":815},[4394],"sr-only",[4396],{"type":397,"value":4397},"Footnotes",{"type":392,"tag":442,"props":4399,"children":4400},{},[4401],{"type":392,"tag":446,"props":4402,"children":4404},{"id":4403},"user-content-fn-alimagic",[4405,4412,4414],{"type":392,"tag":400,"props":4406,"children":4409},{"href":4407,"rel":4408},"https://vision.aliyun.com/experience/detail",[404],[4410],{"type":397,"value":4411},"测试地址",{"type":397,"value":4413}," ",{"type":392,"tag":400,"props":4415,"children":4420},{"href":4416,"ariaLabel":4417,"className":4418,"dataFootnoteBackref":386},"#user-content-fnref-alimagic","Back to reference 1",[4419],"data-footnote-backref",[4421],{"type":397,"value":4422},"↩",{"type":392,"tag":1047,"props":4424,"children":4425},{},[4426],{"type":397,"value":4427},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":386,"searchDepth":557,"depth":557,"links":4429},[4430,4437,4438],{"id":427,"depth":557,"text":427,"children":4431},[4432,4433,4434,4435,4436],{"id":433,"depth":567,"text":433},{"id":786,"depth":567,"text":786},{"id":1527,"depth":567,"text":1527},{"id":2340,"depth":567,"text":2340},{"id":2933,"depth":567,"text":2933},{"id":4355,"depth":557,"text":4355},{"id":815,"depth":557,"text":4397},"markdown","content:2.articles:5.crack-the-slider.md","content","2.articles/5.crack-the-slider.md","md",[4445,4447],{"_path":52,"title":51,"description":4446},"使用 element-plus 内的层级管理器可以解决多组件库间层级不统一的问题",{"_path":58,"title":57,"description":4448},"本文介绍了几种通过CSS实现的常见阴影效果如单侧投影、空心投影、投影动画、彩色阴影、长投影和倒影，以及尝试使用SVG模拟材质特性如粗糙度及光学效应如菲尼尔效应生成了几种特殊的纹理，最后通过一个CSS绘制真实书本案例介绍了实战中的一些细节。",1708107554005]