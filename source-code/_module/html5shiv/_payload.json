[{"data":1,"prerenderedAt":5875},["ShallowReactive",2],{"navigation":3,"/source-code/_module/html5shiv":410,"/source-code/_module/html5shiv-surround":5867},[4,32,83,102,129,135,141,147,393,399,405],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96,99],{"title":88,"_path":89},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":91,"_path":92},"🌐 AnySort","/tools/anysort",{"title":94,"_path":95},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":97,"_path":98},"👓 Crapto","/tools/crypto-inline",{"title":100,"_path":101},"🖨️ any-to-base64","/tools/any-to-base64",{"title":103,"_path":104,"children":105},"吉他剧场 / Music","/music",[106,108,111,114,117,120,123,126],{"title":107,"_path":104},"🎸 FingerStyle！",{"title":109,"_path":110},"🌬️ 等待的风","/music/wind",{"title":112,"_path":113},"💕 约定的海洋","/music/ocean",{"title":115,"_path":116},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":118,"_path":119},"🌏 残酷天使的行动纲领","/music/eva",{"title":121,"_path":122},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":124,"_path":125},"🍷 Wu Wei","/music/wu-wei",{"title":127,"_path":128},"🌅 无题","/music/untitled",{"title":130,"_path":131,"children":132},"画点什么 / Paint","/paint",[133],{"title":134,"_path":131},"🚧 正在施工",{"title":136,"_path":137,"children":138},"读书笔记 / Notes","/books",[139],{"title":140,"_path":137},"📕 读书笔记",{"title":142,"_path":143,"children":144},"知识地图 / Maps","/maps",[145],{"title":146,"_path":143},"🏁 知识地图",{"title":148,"_path":149,"children":150},"零散的笔记 / Gists","/gists",[151,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390],{"title":152,"_path":149},"🧊 Gists",{"title":154,"_path":155},"网站的可访问性","/gists/accessibility",{"title":157,"_path":158},"Bit","/gists/bit",{"title":160,"_path":161},"图片模糊","/gists/blur",{"title":163,"_path":164},"渲染相关笔记","/gists/c4d",{"title":166,"_path":167},"CDN 问题记录","/gists/cdn",{"title":169,"_path":170},"消毒剂","/gists/cleaner",{"title":172,"_path":173},"Windows Command","/gists/cmd",{"title":175,"_path":176},"Command","/gists/command",{"title":178,"_path":179},"复杂科学","/gists/complexity-science",{"title":181,"_path":182},"GitHub Copilot","/gists/copilot",{"title":184,"_path":185},"宇宙","/gists/cosmos",{"title":187,"_path":188},"C++","/gists/cpp",{"title":190,"_path":191},"Data Structure","/gists/data-structure",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"设计模式","/gists/design-patterns",{"title":199,"_path":200},"Developer Experience","/gists/developer-experience",{"title":202,"_path":203},"Device Metrics","/gists/device-metrix",{"title":205,"_path":206},"数字化转型","/gists/digital-transformation",{"title":208,"_path":209},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":211,"_path":212},"正则表达式","/gists/eegex",{"title":214,"_path":215},"Emoji","/gists/emoji",{"title":217,"_path":218},"工程","/gists/engineering",{"title":220,"_path":221},"熵","/gists/entropy",{"title":223,"_path":224},"Environment","/gists/environment",{"title":226,"_path":227},"Erlang","/gists/erlang",{"title":229,"_path":230},"逃离塔克夫","/gists/escape-from-tarkov",{"title":232,"_path":233},"ESNext (ES6-ES11)","/gists/esnext",{"title":235,"_path":236},"Eval！","/gists/eval",{"title":238,"_path":239},"Flutter","/gists/flutter",{"title":241,"_path":242},"字体","/gists/font",{"title":244,"_path":245},"JS 函数式编程","/gists/functional",{"title":247,"_path":248},"游戏化","/gists/gamification",{"title":250,"_path":251},"Google C++ Standard","/gists/google-cpp-standard",{"title":253,"_path":254},"双向链接完全体","/gists/graph",{"title":256,"_path":257},"Hardwares","/gists/hardwares",{"title":259,"_path":260},"哈希冲突","/gists/hash-collision",{"title":262,"_path":263},"信息设计","/gists/information-design",{"title":265,"_path":266},"InstantPage","/gists/instant.page",{"title":268,"_path":269},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":271,"_path":272},"KVStore","/gists/key-value-db",{"title":274,"_path":275},"Kubernetes","/gists/kubernetes",{"title":277,"_path":278},"Makefile","/gists/makefile",{"title":280,"_path":281},"Markdown Inline Style","/gists/markdown-nice",{"title":283,"_path":284},"小程序","/gists/miniapp",{"title":286,"_path":287},"减小页面快照体积","/gists/minify-html",{"title":289,"_path":290},"mklink","/gists/mklink",{"title":292,"_path":293},"Mock","/gists/mock",{"title":295,"_path":296},"多人协作系统","/gists/multiplayer",{"title":298,"_path":299},"多端应用","/gists/multy-end-app",{"title":301,"_path":302},"神经科学","/gists/neuroscience",{"title":304,"_path":305},"OO","/gists/oo",{"title":307,"_path":308},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":310,"_path":311},"PInvoke","/gists/pinvoke",{"title":313,"_path":314},"像素","/gists/pixel",{"title":316,"_path":317},"PowerShell","/gists/powershell",{"title":319,"_path":320},"量子","/gists/quantum",{"title":322,"_path":323},"保持好奇心","/gists/questions",{"title":325,"_path":326},"React Native","/gists/react-native",{"title":328,"_path":329},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":331,"_path":332},"SEO","/gists/seo",{"title":334,"_path":335},"Shader","/gists/shader",{"title":337,"_path":338},"Shape Up","/gists/shape-up",{"title":340,"_path":341},"睡觉","/gists/sleep",{"title":343,"_path":344},"记录奇怪的问题","/gists/solved",{"title":346,"_path":347},"States","/gists/states",{"title":349,"_path":350},"Storage","/gists/storage",{"title":352,"_path":353},"音视频流处理","/gists/stream-cli",{"title":355,"_path":356},"Symbol","/gists/symbol",{"title":358,"_path":359},"系统论","/gists/systems-theory",{"title":361,"_path":362},"Taro","/gists/taro",{"title":364,"_path":365},"任务切片","/gists/task-slice",{"title":367,"_path":368},"技术偏好","/gists/tech-dudge",{"title":370,"_path":371},"Untitled","/gists/untitled",{"title":373,"_path":374},"可变字体","/gists/variable-font",{"title":376,"_path":377},"视觉错觉","/gists/visual-illusion",{"title":379,"_path":380},"SS(SSR)","/gists/vpn",{"title":382,"_path":383},"VS Code 插件开发","/gists/vscode-plugin",{"title":385,"_path":386},"Web Components","/gists/web-components",{"title":388,"_path":389},"Windows","/gists/windows",{"title":391,"_path":392},"查缺补漏","/gists/wrong",{"title":394,"_path":395,"children":396},"代码笔记 / Gists","/source-code",[397],{"title":398,"_path":395},"🚄 代码笔记",{"title":400,"_path":401,"children":402},"我 / Abount","/hire",[403],{"title":404,"_path":401},"📬 技术简历",{"title":406,"_path":407,"children":408},"todo","/todo",[409],{"title":406,"_path":407},{"_path":411,"_dir":412,"_draft":413,"_partial":414,"_locale":415,"title":416,"description":415,"body":417,"_type":5861,"_id":5862,"_source":5863,"_file":5864,"_stem":5865,"_extension":5866},"/source-code/_module/html5shiv","_module",false,true,"","🛠 低版本浏览器兼容HTML5标签原理",{"type":418,"children":419,"toc":5850},"root",[420,428,434,456,461,476,481,487,492,647,652,657,662,667,764,782,787,1135,1140,1725,1730,1735,1740,2037,2042,2461,2466,3340,3345,3451,3456,3573,3578,4303,4308,4684,4689,4954,4959,4964,5297,5302,5775,5780,5785,5844],{"type":421,"tag":422,"props":423,"children":425},"element","h1",{"id":424},"低版本浏览器兼容html5标签原理",[426],{"type":427,"value":416},"text",{"type":421,"tag":429,"props":430,"children":432},"h2",{"id":431},"长话短说",[433],{"type":427,"value":431},{"type":421,"tag":435,"props":436,"children":437},"p",{},[438,440,454],{"type":427,"value":439},"最近在复习 HTML 相关内容呢，不知不觉想起以前在实习公司用过的 html5shiv 这个玩意儿。html5shiv 能使 IE6/7/8 等浏览器支持 HTML5 的新标签",{"type":421,"tag":441,"props":442,"children":443},"sup",{},[444],{"type":421,"tag":445,"props":446,"children":451},"a",{"href":447,"ariaDescribedBy":448,"dataFootnoteRef":415,"id":450},"#user-content-fn-html5shiv",[449],"footnote-label","user-content-fnref-html5shiv",[452],{"type":427,"value":453},"1",{"type":427,"value":455},"。这里我初略扫了一眼它的原理。",{"type":421,"tag":435,"props":457,"children":458},{},[459],{"type":427,"value":460},"它主要做了以下两件事情：",{"type":421,"tag":462,"props":463,"children":464},"ul",{},[465,471],{"type":421,"tag":466,"props":467,"children":468},"li",{},[469],{"type":427,"value":470},"用高阶函数增强浏览器原生的 createElement 等 API。需要创建新标签时，使用已缓存的元素克隆并返还一个新元素，或回退至调用原生 API 创建 H5 新元素。这个增强是基于 document.createElement 能创建非标准元素这个特性实现的。",{"type":421,"tag":466,"props":472,"children":473},{},[474],{"type":427,"value":475},"给新标签增加相应的默认样式。",{"type":421,"tag":429,"props":477,"children":479},{"id":478},"具体实现",[480],{"type":427,"value":478},{"type":421,"tag":482,"props":483,"children":485},"h3",{"id":484},"代码结构",[486],{"type":427,"value":484},{"type":421,"tag":435,"props":488,"children":489},{},[490],{"type":427,"value":491},"整个代码被包裹在 IIFE 中。像 jQuery 一样，把 window 对象传了进来。",{"type":421,"tag":493,"props":494,"children":498},"pre",{"className":495,"code":496,"language":497,"meta":415,"style":415},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",";(function(window, document) {\n    // rest of code\n}(typeof window !== \"undefined\" ? window : this, document));\n","js",[499],{"type":421,"tag":500,"props":501,"children":502},"code",{"__ignoreMap":415},[503,557,567],{"type":421,"tag":504,"props":505,"children":508},"span",{"class":506,"line":507},"line",1,[509,515,521,527,531,537,542,547,552],{"type":421,"tag":504,"props":510,"children":512},{"style":511},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[513],{"type":427,"value":514},";",{"type":421,"tag":504,"props":516,"children":518},{"style":517},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[519],{"type":427,"value":520},"(",{"type":421,"tag":504,"props":522,"children":524},{"style":523},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[525],{"type":427,"value":526},"function",{"type":421,"tag":504,"props":528,"children":529},{"style":511},[530],{"type":427,"value":520},{"type":421,"tag":504,"props":532,"children":534},{"style":533},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[535],{"type":427,"value":536},"window",{"type":421,"tag":504,"props":538,"children":539},{"style":511},[540],{"type":427,"value":541},",",{"type":421,"tag":504,"props":543,"children":544},{"style":533},[545],{"type":427,"value":546}," document",{"type":421,"tag":504,"props":548,"children":549},{"style":511},[550],{"type":427,"value":551},")",{"type":421,"tag":504,"props":553,"children":554},{"style":511},[555],{"type":427,"value":556}," {\n",{"type":421,"tag":504,"props":558,"children":560},{"class":506,"line":559},2,[561],{"type":421,"tag":504,"props":562,"children":564},{"style":563},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[565],{"type":427,"value":566},"    // rest of code\n",{"type":421,"tag":504,"props":568,"children":570},{"class":506,"line":569},3,[571,576,580,586,591,596,602,608,613,618,622,627,633,637,642],{"type":421,"tag":504,"props":572,"children":573},{"style":511},[574],{"type":427,"value":575},"}",{"type":421,"tag":504,"props":577,"children":578},{"style":517},[579],{"type":427,"value":520},{"type":421,"tag":504,"props":581,"children":583},{"style":582},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[584],{"type":427,"value":585},"typeof",{"type":421,"tag":504,"props":587,"children":588},{"style":517},[589],{"type":427,"value":590}," window ",{"type":421,"tag":504,"props":592,"children":593},{"style":582},[594],{"type":427,"value":595},"!==",{"type":421,"tag":504,"props":597,"children":599},{"style":598},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[600],{"type":427,"value":601}," \"",{"type":421,"tag":504,"props":603,"children":605},{"style":604},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[606],{"type":427,"value":607},"undefined",{"type":421,"tag":504,"props":609,"children":610},{"style":598},[611],{"type":427,"value":612},"\"",{"type":421,"tag":504,"props":614,"children":615},{"style":582},[616],{"type":427,"value":617}," ?",{"type":421,"tag":504,"props":619,"children":620},{"style":517},[621],{"type":427,"value":590},{"type":421,"tag":504,"props":623,"children":624},{"style":582},[625],{"type":427,"value":626},":",{"type":421,"tag":504,"props":628,"children":630},{"style":629},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[631],{"type":427,"value":632}," this",{"type":421,"tag":504,"props":634,"children":635},{"style":511},[636],{"type":427,"value":541},{"type":421,"tag":504,"props":638,"children":639},{"style":517},[640],{"type":427,"value":641}," document))",{"type":421,"tag":504,"props":643,"children":644},{"style":511},[645],{"type":427,"value":646},";\n",{"type":421,"tag":435,"props":648,"children":649},{},[650],{"type":427,"value":651},"一个很经典的模块模式，没什么好拓展的，我们继续...",{"type":421,"tag":482,"props":653,"children":655},{"id":654},"兼容性检测",[656],{"type":427,"value":654},{"type":421,"tag":435,"props":658,"children":659},{},[660],{"type":427,"value":661},"以下代码检测当前浏览器对 HTML5 的支持程度。",{"type":421,"tag":435,"props":663,"children":664},{},[665],{"type":427,"value":666},"通过检测元素对 hidden 属性的支持程度，检测浏览器对 HTML5 样式支持的水平。",{"type":421,"tag":493,"props":668,"children":670},{"className":495,"code":669,"language":497,"meta":415,"style":415},"a = document.createElement('a')\nsupportsHtml5Styles = ('hidden' in a)\n",[671],{"type":421,"tag":500,"props":672,"children":673},{"__ignoreMap":415},[674,724],{"type":421,"tag":504,"props":675,"children":676},{"class":506,"line":507},[677,682,687,691,696,702,706,711,715,719],{"type":421,"tag":504,"props":678,"children":679},{"style":517},[680],{"type":427,"value":681},"a ",{"type":421,"tag":504,"props":683,"children":684},{"style":582},[685],{"type":427,"value":686},"=",{"type":421,"tag":504,"props":688,"children":689},{"style":517},[690],{"type":427,"value":546},{"type":421,"tag":504,"props":692,"children":693},{"style":511},[694],{"type":427,"value":695},".",{"type":421,"tag":504,"props":697,"children":699},{"style":698},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[700],{"type":427,"value":701},"createElement",{"type":421,"tag":504,"props":703,"children":704},{"style":517},[705],{"type":427,"value":520},{"type":421,"tag":504,"props":707,"children":708},{"style":598},[709],{"type":427,"value":710},"'",{"type":421,"tag":504,"props":712,"children":713},{"style":604},[714],{"type":427,"value":445},{"type":421,"tag":504,"props":716,"children":717},{"style":598},[718],{"type":427,"value":710},{"type":421,"tag":504,"props":720,"children":721},{"style":517},[722],{"type":427,"value":723},")\n",{"type":421,"tag":504,"props":725,"children":726},{"class":506,"line":559},[727,732,736,741,745,750,754,759],{"type":421,"tag":504,"props":728,"children":729},{"style":517},[730],{"type":427,"value":731},"supportsHtml5Styles ",{"type":421,"tag":504,"props":733,"children":734},{"style":582},[735],{"type":427,"value":686},{"type":421,"tag":504,"props":737,"children":738},{"style":517},[739],{"type":427,"value":740}," (",{"type":421,"tag":504,"props":742,"children":743},{"style":598},[744],{"type":427,"value":710},{"type":421,"tag":504,"props":746,"children":747},{"style":604},[748],{"type":427,"value":749},"hidden",{"type":421,"tag":504,"props":751,"children":752},{"style":598},[753],{"type":427,"value":710},{"type":421,"tag":504,"props":755,"children":756},{"style":582},[757],{"type":427,"value":758}," in",{"type":421,"tag":504,"props":760,"children":761},{"style":517},[762],{"type":427,"value":763}," a)\n",{"type":421,"tag":435,"props":765,"children":766},{},[767,769,780],{"type":427,"value":768},"以前没听过 HTMLElement.hidden，项目里的隐藏元素都是直接上 CSS 做的。不过据 MDN 表示，除了隐藏元素之外，hidden 属性还能用于创造离屏 Canvas",{"type":421,"tag":441,"props":770,"children":771},{},[772],{"type":421,"tag":445,"props":773,"children":777},{"href":774,"ariaDescribedBy":775,"dataFootnoteRef":415,"id":776},"#user-content-fn-hidden",[449],"user-content-fnref-hidden",[778],{"type":427,"value":779},"2",{"type":427,"value":781},"。",{"type":421,"tag":435,"props":783,"children":784},{},[785],{"type":427,"value":786},"这段代码用于测试浏览器是否支持未知元素的创建。",{"type":421,"tag":493,"props":788,"children":790},{"className":495,"code":789,"language":497,"meta":415,"style":415},"a = document.createElement('a')\na.innerHTML = '\u003Cxyz>\u003C/xyz>'\nsupportsUnknownElements = a.childNodes.length == 1 || (function() {\n    var frag = document.createDocumentFragment()\n    return (\n    typeof frag.cloneNode == 'undefined' ||\n    typeof frag.createDocumentFragment == 'undefined' ||\n    typeof frag.createElement == 'undefined'\n    )\n}())\n",[791],{"type":421,"tag":500,"props":792,"children":793},{"__ignoreMap":415},[794,837,872,941,979,994,1037,1077,1113,1122],{"type":421,"tag":504,"props":795,"children":796},{"class":506,"line":507},[797,801,805,809,813,817,821,825,829,833],{"type":421,"tag":504,"props":798,"children":799},{"style":517},[800],{"type":427,"value":681},{"type":421,"tag":504,"props":802,"children":803},{"style":582},[804],{"type":427,"value":686},{"type":421,"tag":504,"props":806,"children":807},{"style":517},[808],{"type":427,"value":546},{"type":421,"tag":504,"props":810,"children":811},{"style":511},[812],{"type":427,"value":695},{"type":421,"tag":504,"props":814,"children":815},{"style":698},[816],{"type":427,"value":701},{"type":421,"tag":504,"props":818,"children":819},{"style":517},[820],{"type":427,"value":520},{"type":421,"tag":504,"props":822,"children":823},{"style":598},[824],{"type":427,"value":710},{"type":421,"tag":504,"props":826,"children":827},{"style":604},[828],{"type":427,"value":445},{"type":421,"tag":504,"props":830,"children":831},{"style":598},[832],{"type":427,"value":710},{"type":421,"tag":504,"props":834,"children":835},{"style":517},[836],{"type":427,"value":723},{"type":421,"tag":504,"props":838,"children":839},{"class":506,"line":559},[840,844,848,853,857,862,867],{"type":421,"tag":504,"props":841,"children":842},{"style":517},[843],{"type":427,"value":445},{"type":421,"tag":504,"props":845,"children":846},{"style":511},[847],{"type":427,"value":695},{"type":421,"tag":504,"props":849,"children":850},{"style":517},[851],{"type":427,"value":852},"innerHTML ",{"type":421,"tag":504,"props":854,"children":855},{"style":582},[856],{"type":427,"value":686},{"type":421,"tag":504,"props":858,"children":859},{"style":598},[860],{"type":427,"value":861}," '",{"type":421,"tag":504,"props":863,"children":864},{"style":604},[865],{"type":427,"value":866},"\u003Cxyz>\u003C/xyz>",{"type":421,"tag":504,"props":868,"children":869},{"style":598},[870],{"type":427,"value":871},"'\n",{"type":421,"tag":504,"props":873,"children":874},{"class":506,"line":569},[875,880,884,889,893,898,902,908,913,919,924,928,932,937],{"type":421,"tag":504,"props":876,"children":877},{"style":517},[878],{"type":427,"value":879},"supportsUnknownElements ",{"type":421,"tag":504,"props":881,"children":882},{"style":582},[883],{"type":427,"value":686},{"type":421,"tag":504,"props":885,"children":886},{"style":517},[887],{"type":427,"value":888}," a",{"type":421,"tag":504,"props":890,"children":891},{"style":511},[892],{"type":427,"value":695},{"type":421,"tag":504,"props":894,"children":895},{"style":517},[896],{"type":427,"value":897},"childNodes",{"type":421,"tag":504,"props":899,"children":900},{"style":511},[901],{"type":427,"value":695},{"type":421,"tag":504,"props":903,"children":905},{"style":904},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[906],{"type":427,"value":907},"length",{"type":421,"tag":504,"props":909,"children":910},{"style":582},[911],{"type":427,"value":912}," ==",{"type":421,"tag":504,"props":914,"children":916},{"style":915},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[917],{"type":427,"value":918}," 1",{"type":421,"tag":504,"props":920,"children":921},{"style":582},[922],{"type":427,"value":923}," ||",{"type":421,"tag":504,"props":925,"children":926},{"style":517},[927],{"type":427,"value":740},{"type":421,"tag":504,"props":929,"children":930},{"style":523},[931],{"type":427,"value":526},{"type":421,"tag":504,"props":933,"children":934},{"style":511},[935],{"type":427,"value":936},"()",{"type":421,"tag":504,"props":938,"children":939},{"style":511},[940],{"type":427,"value":556},{"type":421,"tag":504,"props":942,"children":944},{"class":506,"line":943},4,[945,950,955,960,964,968,973],{"type":421,"tag":504,"props":946,"children":947},{"style":523},[948],{"type":427,"value":949},"    var",{"type":421,"tag":504,"props":951,"children":952},{"style":517},[953],{"type":427,"value":954}," frag",{"type":421,"tag":504,"props":956,"children":957},{"style":582},[958],{"type":427,"value":959}," =",{"type":421,"tag":504,"props":961,"children":962},{"style":517},[963],{"type":427,"value":546},{"type":421,"tag":504,"props":965,"children":966},{"style":511},[967],{"type":427,"value":695},{"type":421,"tag":504,"props":969,"children":970},{"style":698},[971],{"type":427,"value":972},"createDocumentFragment",{"type":421,"tag":504,"props":974,"children":976},{"style":975},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[977],{"type":427,"value":978},"()\n",{"type":421,"tag":504,"props":980,"children":982},{"class":506,"line":981},5,[983,989],{"type":421,"tag":504,"props":984,"children":986},{"style":985},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[987],{"type":427,"value":988},"    return",{"type":421,"tag":504,"props":990,"children":991},{"style":975},[992],{"type":427,"value":993}," (\n",{"type":421,"tag":504,"props":995,"children":997},{"class":506,"line":996},6,[998,1003,1007,1011,1016,1020,1024,1028,1032],{"type":421,"tag":504,"props":999,"children":1000},{"style":582},[1001],{"type":427,"value":1002},"    typeof",{"type":421,"tag":504,"props":1004,"children":1005},{"style":517},[1006],{"type":427,"value":954},{"type":421,"tag":504,"props":1008,"children":1009},{"style":511},[1010],{"type":427,"value":695},{"type":421,"tag":504,"props":1012,"children":1013},{"style":517},[1014],{"type":427,"value":1015},"cloneNode",{"type":421,"tag":504,"props":1017,"children":1018},{"style":582},[1019],{"type":427,"value":912},{"type":421,"tag":504,"props":1021,"children":1022},{"style":598},[1023],{"type":427,"value":861},{"type":421,"tag":504,"props":1025,"children":1026},{"style":604},[1027],{"type":427,"value":607},{"type":421,"tag":504,"props":1029,"children":1030},{"style":598},[1031],{"type":427,"value":710},{"type":421,"tag":504,"props":1033,"children":1034},{"style":582},[1035],{"type":427,"value":1036}," ||\n",{"type":421,"tag":504,"props":1038,"children":1040},{"class":506,"line":1039},7,[1041,1045,1049,1053,1057,1061,1065,1069,1073],{"type":421,"tag":504,"props":1042,"children":1043},{"style":582},[1044],{"type":427,"value":1002},{"type":421,"tag":504,"props":1046,"children":1047},{"style":517},[1048],{"type":427,"value":954},{"type":421,"tag":504,"props":1050,"children":1051},{"style":511},[1052],{"type":427,"value":695},{"type":421,"tag":504,"props":1054,"children":1055},{"style":517},[1056],{"type":427,"value":972},{"type":421,"tag":504,"props":1058,"children":1059},{"style":582},[1060],{"type":427,"value":912},{"type":421,"tag":504,"props":1062,"children":1063},{"style":598},[1064],{"type":427,"value":861},{"type":421,"tag":504,"props":1066,"children":1067},{"style":604},[1068],{"type":427,"value":607},{"type":421,"tag":504,"props":1070,"children":1071},{"style":598},[1072],{"type":427,"value":710},{"type":421,"tag":504,"props":1074,"children":1075},{"style":582},[1076],{"type":427,"value":1036},{"type":421,"tag":504,"props":1078,"children":1080},{"class":506,"line":1079},8,[1081,1085,1089,1093,1097,1101,1105,1109],{"type":421,"tag":504,"props":1082,"children":1083},{"style":582},[1084],{"type":427,"value":1002},{"type":421,"tag":504,"props":1086,"children":1087},{"style":517},[1088],{"type":427,"value":954},{"type":421,"tag":504,"props":1090,"children":1091},{"style":511},[1092],{"type":427,"value":695},{"type":421,"tag":504,"props":1094,"children":1095},{"style":517},[1096],{"type":427,"value":701},{"type":421,"tag":504,"props":1098,"children":1099},{"style":582},[1100],{"type":427,"value":912},{"type":421,"tag":504,"props":1102,"children":1103},{"style":598},[1104],{"type":427,"value":861},{"type":421,"tag":504,"props":1106,"children":1107},{"style":604},[1108],{"type":427,"value":607},{"type":421,"tag":504,"props":1110,"children":1111},{"style":598},[1112],{"type":427,"value":871},{"type":421,"tag":504,"props":1114,"children":1116},{"class":506,"line":1115},9,[1117],{"type":421,"tag":504,"props":1118,"children":1119},{"style":975},[1120],{"type":427,"value":1121},"    )\n",{"type":421,"tag":504,"props":1123,"children":1125},{"class":506,"line":1124},10,[1126,1130],{"type":421,"tag":504,"props":1127,"children":1128},{"style":511},[1129],{"type":427,"value":575},{"type":421,"tag":504,"props":1131,"children":1132},{"style":517},[1133],{"type":427,"value":1134},"())\n",{"type":421,"tag":435,"props":1136,"children":1137},{},[1138],{"type":427,"value":1139},"如果连 document.createElement 都调用失败的话，那 html5shiv 代码就毫无作用了（html5shiv 的原理需要用到 document.createElement），所以用一个 try/catch 将上述两个功能包裹起来。遇到错误则假装浏览器正常支持 HTML5，相关检测变量被置为 true。",{"type":421,"tag":493,"props":1141,"children":1143},{"className":495,"code":1142,"language":497,"meta":415,"style":415},"(function() {\n    try {\n        var a = document.createElement('a')\n        a.innerHTML = '\u003Cxyz>\u003C/xyz>'\n        //if the hidden property is implemented we can assume, \n        // that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a)\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n            // assign a false positive if unable to shiv\n            // ? 猜测特定浏览器对这种括号调用方法会报错\n            (document.createElement)('a')\n            var frag = document.createDocumentFragment()\n            return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n            )\n        }())\n    } catch(e) {\n        // assign a false positive if detection fails => unable to shiv\n        supportsHtml5Styles = true\n        supportsUnknownElements = true\n    }\n}())\n",[1144],{"type":421,"tag":500,"props":1145,"children":1146},{"__ignoreMap":415},[1147,1166,1178,1226,1259,1267,1275,1315,1323,1383,1391,1400,1443,1476,1489,1530,1570,1606,1615,1628,1661,1670,1688,1704,1713],{"type":421,"tag":504,"props":1148,"children":1149},{"class":506,"line":507},[1150,1154,1158,1162],{"type":421,"tag":504,"props":1151,"children":1152},{"style":517},[1153],{"type":427,"value":520},{"type":421,"tag":504,"props":1155,"children":1156},{"style":523},[1157],{"type":427,"value":526},{"type":421,"tag":504,"props":1159,"children":1160},{"style":511},[1161],{"type":427,"value":936},{"type":421,"tag":504,"props":1163,"children":1164},{"style":511},[1165],{"type":427,"value":556},{"type":421,"tag":504,"props":1167,"children":1168},{"class":506,"line":559},[1169,1174],{"type":421,"tag":504,"props":1170,"children":1171},{"style":985},[1172],{"type":427,"value":1173},"    try",{"type":421,"tag":504,"props":1175,"children":1176},{"style":511},[1177],{"type":427,"value":556},{"type":421,"tag":504,"props":1179,"children":1180},{"class":506,"line":569},[1181,1186,1190,1194,1198,1202,1206,1210,1214,1218,1222],{"type":421,"tag":504,"props":1182,"children":1183},{"style":523},[1184],{"type":427,"value":1185},"        var",{"type":421,"tag":504,"props":1187,"children":1188},{"style":517},[1189],{"type":427,"value":888},{"type":421,"tag":504,"props":1191,"children":1192},{"style":582},[1193],{"type":427,"value":959},{"type":421,"tag":504,"props":1195,"children":1196},{"style":517},[1197],{"type":427,"value":546},{"type":421,"tag":504,"props":1199,"children":1200},{"style":511},[1201],{"type":427,"value":695},{"type":421,"tag":504,"props":1203,"children":1204},{"style":698},[1205],{"type":427,"value":701},{"type":421,"tag":504,"props":1207,"children":1208},{"style":975},[1209],{"type":427,"value":520},{"type":421,"tag":504,"props":1211,"children":1212},{"style":598},[1213],{"type":427,"value":710},{"type":421,"tag":504,"props":1215,"children":1216},{"style":604},[1217],{"type":427,"value":445},{"type":421,"tag":504,"props":1219,"children":1220},{"style":598},[1221],{"type":427,"value":710},{"type":421,"tag":504,"props":1223,"children":1224},{"style":975},[1225],{"type":427,"value":723},{"type":421,"tag":504,"props":1227,"children":1228},{"class":506,"line":943},[1229,1234,1238,1243,1247,1251,1255],{"type":421,"tag":504,"props":1230,"children":1231},{"style":517},[1232],{"type":427,"value":1233},"        a",{"type":421,"tag":504,"props":1235,"children":1236},{"style":511},[1237],{"type":427,"value":695},{"type":421,"tag":504,"props":1239,"children":1240},{"style":517},[1241],{"type":427,"value":1242},"innerHTML",{"type":421,"tag":504,"props":1244,"children":1245},{"style":582},[1246],{"type":427,"value":959},{"type":421,"tag":504,"props":1248,"children":1249},{"style":598},[1250],{"type":427,"value":861},{"type":421,"tag":504,"props":1252,"children":1253},{"style":604},[1254],{"type":427,"value":866},{"type":421,"tag":504,"props":1256,"children":1257},{"style":598},[1258],{"type":427,"value":871},{"type":421,"tag":504,"props":1260,"children":1261},{"class":506,"line":981},[1262],{"type":421,"tag":504,"props":1263,"children":1264},{"style":563},[1265],{"type":427,"value":1266},"        //if the hidden property is implemented we can assume, \n",{"type":421,"tag":504,"props":1268,"children":1269},{"class":506,"line":996},[1270],{"type":421,"tag":504,"props":1271,"children":1272},{"style":563},[1273],{"type":427,"value":1274},"        // that the browser supports basic HTML5 Styles\n",{"type":421,"tag":504,"props":1276,"children":1277},{"class":506,"line":1039},[1278,1283,1287,1291,1295,1299,1303,1307,1311],{"type":421,"tag":504,"props":1279,"children":1280},{"style":517},[1281],{"type":427,"value":1282},"        supportsHtml5Styles",{"type":421,"tag":504,"props":1284,"children":1285},{"style":582},[1286],{"type":427,"value":959},{"type":421,"tag":504,"props":1288,"children":1289},{"style":975},[1290],{"type":427,"value":740},{"type":421,"tag":504,"props":1292,"children":1293},{"style":598},[1294],{"type":427,"value":710},{"type":421,"tag":504,"props":1296,"children":1297},{"style":604},[1298],{"type":427,"value":749},{"type":421,"tag":504,"props":1300,"children":1301},{"style":598},[1302],{"type":427,"value":710},{"type":421,"tag":504,"props":1304,"children":1305},{"style":582},[1306],{"type":427,"value":758},{"type":421,"tag":504,"props":1308,"children":1309},{"style":517},[1310],{"type":427,"value":888},{"type":421,"tag":504,"props":1312,"children":1313},{"style":975},[1314],{"type":427,"value":723},{"type":421,"tag":504,"props":1316,"children":1317},{"class":506,"line":1079},[1318],{"type":421,"tag":504,"props":1319,"children":1320},{"emptyLinePlaceholder":414},[1321],{"type":427,"value":1322},"\n",{"type":421,"tag":504,"props":1324,"children":1325},{"class":506,"line":1115},[1326,1331,1335,1339,1343,1347,1351,1355,1359,1363,1367,1371,1375,1379],{"type":421,"tag":504,"props":1327,"children":1328},{"style":517},[1329],{"type":427,"value":1330},"        supportsUnknownElements",{"type":421,"tag":504,"props":1332,"children":1333},{"style":582},[1334],{"type":427,"value":959},{"type":421,"tag":504,"props":1336,"children":1337},{"style":517},[1338],{"type":427,"value":888},{"type":421,"tag":504,"props":1340,"children":1341},{"style":511},[1342],{"type":427,"value":695},{"type":421,"tag":504,"props":1344,"children":1345},{"style":517},[1346],{"type":427,"value":897},{"type":421,"tag":504,"props":1348,"children":1349},{"style":511},[1350],{"type":427,"value":695},{"type":421,"tag":504,"props":1352,"children":1353},{"style":904},[1354],{"type":427,"value":907},{"type":421,"tag":504,"props":1356,"children":1357},{"style":582},[1358],{"type":427,"value":912},{"type":421,"tag":504,"props":1360,"children":1361},{"style":915},[1362],{"type":427,"value":918},{"type":421,"tag":504,"props":1364,"children":1365},{"style":582},[1366],{"type":427,"value":923},{"type":421,"tag":504,"props":1368,"children":1369},{"style":975},[1370],{"type":427,"value":740},{"type":421,"tag":504,"props":1372,"children":1373},{"style":523},[1374],{"type":427,"value":526},{"type":421,"tag":504,"props":1376,"children":1377},{"style":511},[1378],{"type":427,"value":936},{"type":421,"tag":504,"props":1380,"children":1381},{"style":511},[1382],{"type":427,"value":556},{"type":421,"tag":504,"props":1384,"children":1385},{"class":506,"line":1124},[1386],{"type":421,"tag":504,"props":1387,"children":1388},{"style":563},[1389],{"type":427,"value":1390},"            // assign a false positive if unable to shiv\n",{"type":421,"tag":504,"props":1392,"children":1394},{"class":506,"line":1393},11,[1395],{"type":421,"tag":504,"props":1396,"children":1397},{"style":563},[1398],{"type":427,"value":1399},"            // ? 猜测特定浏览器对这种括号调用方法会报错\n",{"type":421,"tag":504,"props":1401,"children":1403},{"class":506,"line":1402},12,[1404,1409,1414,1418,1422,1427,1431,1435,1439],{"type":421,"tag":504,"props":1405,"children":1406},{"style":975},[1407],{"type":427,"value":1408},"            (",{"type":421,"tag":504,"props":1410,"children":1411},{"style":517},[1412],{"type":427,"value":1413},"document",{"type":421,"tag":504,"props":1415,"children":1416},{"style":511},[1417],{"type":427,"value":695},{"type":421,"tag":504,"props":1419,"children":1420},{"style":517},[1421],{"type":427,"value":701},{"type":421,"tag":504,"props":1423,"children":1424},{"style":975},[1425],{"type":427,"value":1426},")(",{"type":421,"tag":504,"props":1428,"children":1429},{"style":598},[1430],{"type":427,"value":710},{"type":421,"tag":504,"props":1432,"children":1433},{"style":604},[1434],{"type":427,"value":445},{"type":421,"tag":504,"props":1436,"children":1437},{"style":598},[1438],{"type":427,"value":710},{"type":421,"tag":504,"props":1440,"children":1441},{"style":975},[1442],{"type":427,"value":723},{"type":421,"tag":504,"props":1444,"children":1446},{"class":506,"line":1445},13,[1447,1452,1456,1460,1464,1468,1472],{"type":421,"tag":504,"props":1448,"children":1449},{"style":523},[1450],{"type":427,"value":1451},"            var",{"type":421,"tag":504,"props":1453,"children":1454},{"style":517},[1455],{"type":427,"value":954},{"type":421,"tag":504,"props":1457,"children":1458},{"style":582},[1459],{"type":427,"value":959},{"type":421,"tag":504,"props":1461,"children":1462},{"style":517},[1463],{"type":427,"value":546},{"type":421,"tag":504,"props":1465,"children":1466},{"style":511},[1467],{"type":427,"value":695},{"type":421,"tag":504,"props":1469,"children":1470},{"style":698},[1471],{"type":427,"value":972},{"type":421,"tag":504,"props":1473,"children":1474},{"style":975},[1475],{"type":427,"value":978},{"type":421,"tag":504,"props":1477,"children":1479},{"class":506,"line":1478},14,[1480,1485],{"type":421,"tag":504,"props":1481,"children":1482},{"style":985},[1483],{"type":427,"value":1484},"            return",{"type":421,"tag":504,"props":1486,"children":1487},{"style":975},[1488],{"type":427,"value":993},{"type":421,"tag":504,"props":1490,"children":1492},{"class":506,"line":1491},15,[1493,1498,1502,1506,1510,1514,1518,1522,1526],{"type":421,"tag":504,"props":1494,"children":1495},{"style":582},[1496],{"type":427,"value":1497},"            typeof",{"type":421,"tag":504,"props":1499,"children":1500},{"style":517},[1501],{"type":427,"value":954},{"type":421,"tag":504,"props":1503,"children":1504},{"style":511},[1505],{"type":427,"value":695},{"type":421,"tag":504,"props":1507,"children":1508},{"style":517},[1509],{"type":427,"value":1015},{"type":421,"tag":504,"props":1511,"children":1512},{"style":582},[1513],{"type":427,"value":912},{"type":421,"tag":504,"props":1515,"children":1516},{"style":598},[1517],{"type":427,"value":861},{"type":421,"tag":504,"props":1519,"children":1520},{"style":604},[1521],{"type":427,"value":607},{"type":421,"tag":504,"props":1523,"children":1524},{"style":598},[1525],{"type":427,"value":710},{"type":421,"tag":504,"props":1527,"children":1528},{"style":582},[1529],{"type":427,"value":1036},{"type":421,"tag":504,"props":1531,"children":1533},{"class":506,"line":1532},16,[1534,1538,1542,1546,1550,1554,1558,1562,1566],{"type":421,"tag":504,"props":1535,"children":1536},{"style":582},[1537],{"type":427,"value":1497},{"type":421,"tag":504,"props":1539,"children":1540},{"style":517},[1541],{"type":427,"value":954},{"type":421,"tag":504,"props":1543,"children":1544},{"style":511},[1545],{"type":427,"value":695},{"type":421,"tag":504,"props":1547,"children":1548},{"style":517},[1549],{"type":427,"value":972},{"type":421,"tag":504,"props":1551,"children":1552},{"style":582},[1553],{"type":427,"value":912},{"type":421,"tag":504,"props":1555,"children":1556},{"style":598},[1557],{"type":427,"value":861},{"type":421,"tag":504,"props":1559,"children":1560},{"style":604},[1561],{"type":427,"value":607},{"type":421,"tag":504,"props":1563,"children":1564},{"style":598},[1565],{"type":427,"value":710},{"type":421,"tag":504,"props":1567,"children":1568},{"style":582},[1569],{"type":427,"value":1036},{"type":421,"tag":504,"props":1571,"children":1573},{"class":506,"line":1572},17,[1574,1578,1582,1586,1590,1594,1598,1602],{"type":421,"tag":504,"props":1575,"children":1576},{"style":582},[1577],{"type":427,"value":1497},{"type":421,"tag":504,"props":1579,"children":1580},{"style":517},[1581],{"type":427,"value":954},{"type":421,"tag":504,"props":1583,"children":1584},{"style":511},[1585],{"type":427,"value":695},{"type":421,"tag":504,"props":1587,"children":1588},{"style":517},[1589],{"type":427,"value":701},{"type":421,"tag":504,"props":1591,"children":1592},{"style":582},[1593],{"type":427,"value":912},{"type":421,"tag":504,"props":1595,"children":1596},{"style":598},[1597],{"type":427,"value":861},{"type":421,"tag":504,"props":1599,"children":1600},{"style":604},[1601],{"type":427,"value":607},{"type":421,"tag":504,"props":1603,"children":1604},{"style":598},[1605],{"type":427,"value":871},{"type":421,"tag":504,"props":1607,"children":1609},{"class":506,"line":1608},18,[1610],{"type":421,"tag":504,"props":1611,"children":1612},{"style":975},[1613],{"type":427,"value":1614},"            )\n",{"type":421,"tag":504,"props":1616,"children":1618},{"class":506,"line":1617},19,[1619,1624],{"type":421,"tag":504,"props":1620,"children":1621},{"style":511},[1622],{"type":427,"value":1623},"        }",{"type":421,"tag":504,"props":1625,"children":1626},{"style":975},[1627],{"type":427,"value":1134},{"type":421,"tag":504,"props":1629,"children":1631},{"class":506,"line":1630},20,[1632,1637,1642,1646,1651,1656],{"type":421,"tag":504,"props":1633,"children":1634},{"style":511},[1635],{"type":427,"value":1636},"    }",{"type":421,"tag":504,"props":1638,"children":1639},{"style":985},[1640],{"type":427,"value":1641}," catch",{"type":421,"tag":504,"props":1643,"children":1644},{"style":975},[1645],{"type":427,"value":520},{"type":421,"tag":504,"props":1647,"children":1648},{"style":517},[1649],{"type":427,"value":1650},"e",{"type":421,"tag":504,"props":1652,"children":1653},{"style":975},[1654],{"type":427,"value":1655},") ",{"type":421,"tag":504,"props":1657,"children":1658},{"style":511},[1659],{"type":427,"value":1660},"{\n",{"type":421,"tag":504,"props":1662,"children":1664},{"class":506,"line":1663},21,[1665],{"type":421,"tag":504,"props":1666,"children":1667},{"style":563},[1668],{"type":427,"value":1669},"        // assign a false positive if detection fails => unable to shiv\n",{"type":421,"tag":504,"props":1671,"children":1673},{"class":506,"line":1672},22,[1674,1678,1682],{"type":421,"tag":504,"props":1675,"children":1676},{"style":517},[1677],{"type":427,"value":1282},{"type":421,"tag":504,"props":1679,"children":1680},{"style":582},[1681],{"type":427,"value":959},{"type":421,"tag":504,"props":1683,"children":1685},{"style":1684},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1686],{"type":427,"value":1687}," true\n",{"type":421,"tag":504,"props":1689,"children":1691},{"class":506,"line":1690},23,[1692,1696,1700],{"type":421,"tag":504,"props":1693,"children":1694},{"style":517},[1695],{"type":427,"value":1330},{"type":421,"tag":504,"props":1697,"children":1698},{"style":582},[1699],{"type":427,"value":959},{"type":421,"tag":504,"props":1701,"children":1702},{"style":1684},[1703],{"type":427,"value":1687},{"type":421,"tag":504,"props":1705,"children":1707},{"class":506,"line":1706},24,[1708],{"type":421,"tag":504,"props":1709,"children":1710},{"style":511},[1711],{"type":427,"value":1712},"    }\n",{"type":421,"tag":504,"props":1714,"children":1716},{"class":506,"line":1715},25,[1717,1721],{"type":421,"tag":504,"props":1718,"children":1719},{"style":511},[1720],{"type":427,"value":575},{"type":421,"tag":504,"props":1722,"children":1723},{"style":517},[1724],{"type":427,"value":1134},{"type":421,"tag":482,"props":1726,"children":1728},{"id":1727},"功能仿制",[1729],{"type":427,"value":1727},{"type":421,"tag":435,"props":1731,"children":1732},{},[1733],{"type":427,"value":1734},"每个页面可能有多个 iframe，所以可能有多个 document 对象。因为不同 document 对象可被 shiv 的元素可能不同，所以需要一个变量用作记录。",{"type":421,"tag":435,"props":1736,"children":1737},{},[1738],{"type":427,"value":1739},"getExpandoData 方法在传入的 document 对象下挂载了一个属性名为 '_html5shiv' 的空对象，用来便捷存放某些数据（比如说元素缓存），并返回对象单例。",{"type":421,"tag":493,"props":1741,"children":1743},{"className":495,"code":1742,"language":497,"meta":415,"style":415},"var expandoData = {}\nvar expanID = 0\nvar expando = '_html5shiv'\nfunction getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]]\n    if (!data) {\n        data = {}\n        expanID++\n        ownerDocument[expando] = expanID\n        expandoData[expanID] = data\n    }\n    return data\n  }\n",[1744],{"type":421,"tag":500,"props":1745,"children":1746},{"__ignoreMap":415},[1747,1769,1790,1819,1848,1892,1922,1938,1951,1981,2011,2018,2029],{"type":421,"tag":504,"props":1748,"children":1749},{"class":506,"line":507},[1750,1755,1760,1764],{"type":421,"tag":504,"props":1751,"children":1752},{"style":523},[1753],{"type":427,"value":1754},"var",{"type":421,"tag":504,"props":1756,"children":1757},{"style":517},[1758],{"type":427,"value":1759}," expandoData ",{"type":421,"tag":504,"props":1761,"children":1762},{"style":582},[1763],{"type":427,"value":686},{"type":421,"tag":504,"props":1765,"children":1766},{"style":511},[1767],{"type":427,"value":1768}," {}\n",{"type":421,"tag":504,"props":1770,"children":1771},{"class":506,"line":559},[1772,1776,1781,1785],{"type":421,"tag":504,"props":1773,"children":1774},{"style":523},[1775],{"type":427,"value":1754},{"type":421,"tag":504,"props":1777,"children":1778},{"style":517},[1779],{"type":427,"value":1780}," expanID ",{"type":421,"tag":504,"props":1782,"children":1783},{"style":582},[1784],{"type":427,"value":686},{"type":421,"tag":504,"props":1786,"children":1787},{"style":915},[1788],{"type":427,"value":1789}," 0\n",{"type":421,"tag":504,"props":1791,"children":1792},{"class":506,"line":569},[1793,1797,1802,1806,1810,1815],{"type":421,"tag":504,"props":1794,"children":1795},{"style":523},[1796],{"type":427,"value":1754},{"type":421,"tag":504,"props":1798,"children":1799},{"style":517},[1800],{"type":427,"value":1801}," expando ",{"type":421,"tag":504,"props":1803,"children":1804},{"style":582},[1805],{"type":427,"value":686},{"type":421,"tag":504,"props":1807,"children":1808},{"style":598},[1809],{"type":427,"value":861},{"type":421,"tag":504,"props":1811,"children":1812},{"style":604},[1813],{"type":427,"value":1814},"_html5shiv",{"type":421,"tag":504,"props":1816,"children":1817},{"style":598},[1818],{"type":427,"value":871},{"type":421,"tag":504,"props":1820,"children":1821},{"class":506,"line":943},[1822,1826,1831,1835,1840,1844],{"type":421,"tag":504,"props":1823,"children":1824},{"style":523},[1825],{"type":427,"value":526},{"type":421,"tag":504,"props":1827,"children":1828},{"style":698},[1829],{"type":427,"value":1830}," getExpandoData",{"type":421,"tag":504,"props":1832,"children":1833},{"style":511},[1834],{"type":427,"value":520},{"type":421,"tag":504,"props":1836,"children":1837},{"style":533},[1838],{"type":427,"value":1839},"ownerDocument",{"type":421,"tag":504,"props":1841,"children":1842},{"style":511},[1843],{"type":427,"value":551},{"type":421,"tag":504,"props":1845,"children":1846},{"style":511},[1847],{"type":427,"value":556},{"type":421,"tag":504,"props":1849,"children":1850},{"class":506,"line":981},[1851,1855,1860,1864,1869,1874,1878,1882,1887],{"type":421,"tag":504,"props":1852,"children":1853},{"style":523},[1854],{"type":427,"value":949},{"type":421,"tag":504,"props":1856,"children":1857},{"style":517},[1858],{"type":427,"value":1859}," data",{"type":421,"tag":504,"props":1861,"children":1862},{"style":582},[1863],{"type":427,"value":959},{"type":421,"tag":504,"props":1865,"children":1866},{"style":517},[1867],{"type":427,"value":1868}," expandoData",{"type":421,"tag":504,"props":1870,"children":1871},{"style":975},[1872],{"type":427,"value":1873},"[",{"type":421,"tag":504,"props":1875,"children":1876},{"style":517},[1877],{"type":427,"value":1839},{"type":421,"tag":504,"props":1879,"children":1880},{"style":975},[1881],{"type":427,"value":1873},{"type":421,"tag":504,"props":1883,"children":1884},{"style":517},[1885],{"type":427,"value":1886},"expando",{"type":421,"tag":504,"props":1888,"children":1889},{"style":975},[1890],{"type":427,"value":1891},"]]\n",{"type":421,"tag":504,"props":1893,"children":1894},{"class":506,"line":996},[1895,1900,1904,1909,1914,1918],{"type":421,"tag":504,"props":1896,"children":1897},{"style":985},[1898],{"type":427,"value":1899},"    if",{"type":421,"tag":504,"props":1901,"children":1902},{"style":975},[1903],{"type":427,"value":740},{"type":421,"tag":504,"props":1905,"children":1906},{"style":582},[1907],{"type":427,"value":1908},"!",{"type":421,"tag":504,"props":1910,"children":1911},{"style":517},[1912],{"type":427,"value":1913},"data",{"type":421,"tag":504,"props":1915,"children":1916},{"style":975},[1917],{"type":427,"value":1655},{"type":421,"tag":504,"props":1919,"children":1920},{"style":511},[1921],{"type":427,"value":1660},{"type":421,"tag":504,"props":1923,"children":1924},{"class":506,"line":1039},[1925,1930,1934],{"type":421,"tag":504,"props":1926,"children":1927},{"style":517},[1928],{"type":427,"value":1929},"        data",{"type":421,"tag":504,"props":1931,"children":1932},{"style":582},[1933],{"type":427,"value":959},{"type":421,"tag":504,"props":1935,"children":1936},{"style":511},[1937],{"type":427,"value":1768},{"type":421,"tag":504,"props":1939,"children":1940},{"class":506,"line":1079},[1941,1946],{"type":421,"tag":504,"props":1942,"children":1943},{"style":517},[1944],{"type":427,"value":1945},"        expanID",{"type":421,"tag":504,"props":1947,"children":1948},{"style":582},[1949],{"type":427,"value":1950},"++\n",{"type":421,"tag":504,"props":1952,"children":1953},{"class":506,"line":1115},[1954,1959,1963,1967,1972,1976],{"type":421,"tag":504,"props":1955,"children":1956},{"style":517},[1957],{"type":427,"value":1958},"        ownerDocument",{"type":421,"tag":504,"props":1960,"children":1961},{"style":975},[1962],{"type":427,"value":1873},{"type":421,"tag":504,"props":1964,"children":1965},{"style":517},[1966],{"type":427,"value":1886},{"type":421,"tag":504,"props":1968,"children":1969},{"style":975},[1970],{"type":427,"value":1971},"] ",{"type":421,"tag":504,"props":1973,"children":1974},{"style":582},[1975],{"type":427,"value":686},{"type":421,"tag":504,"props":1977,"children":1978},{"style":517},[1979],{"type":427,"value":1980}," expanID\n",{"type":421,"tag":504,"props":1982,"children":1983},{"class":506,"line":1124},[1984,1989,1993,1998,2002,2006],{"type":421,"tag":504,"props":1985,"children":1986},{"style":517},[1987],{"type":427,"value":1988},"        expandoData",{"type":421,"tag":504,"props":1990,"children":1991},{"style":975},[1992],{"type":427,"value":1873},{"type":421,"tag":504,"props":1994,"children":1995},{"style":517},[1996],{"type":427,"value":1997},"expanID",{"type":421,"tag":504,"props":1999,"children":2000},{"style":975},[2001],{"type":427,"value":1971},{"type":421,"tag":504,"props":2003,"children":2004},{"style":582},[2005],{"type":427,"value":686},{"type":421,"tag":504,"props":2007,"children":2008},{"style":517},[2009],{"type":427,"value":2010}," data\n",{"type":421,"tag":504,"props":2012,"children":2013},{"class":506,"line":1393},[2014],{"type":421,"tag":504,"props":2015,"children":2016},{"style":511},[2017],{"type":427,"value":1712},{"type":421,"tag":504,"props":2019,"children":2020},{"class":506,"line":1402},[2021,2025],{"type":421,"tag":504,"props":2022,"children":2023},{"style":985},[2024],{"type":427,"value":988},{"type":421,"tag":504,"props":2026,"children":2027},{"style":517},[2028],{"type":427,"value":2010},{"type":421,"tag":504,"props":2030,"children":2031},{"class":506,"line":1445},[2032],{"type":421,"tag":504,"props":2033,"children":2034},{"style":511},[2035],{"type":427,"value":2036},"  }\n",{"type":421,"tag":435,"props":2038,"children":2039},{},[2040],{"type":427,"value":2041},"如何对 document 进行 html5 的增强呢？原理体现都在 shivDocument 这个函数了，只需要增强浏览器原生的 createElement 等 API 的功能，再添加对应的元素样式就好了。",{"type":421,"tag":493,"props":2043,"children":2045},{"className":495,"code":2044,"language":497,"meta":415,"style":415},"function shivDocument(ownerDocument) {\n    // 挂载 document._html5shiv\n    var data = getExpandoData(ownerDocument)\n\n    // 增强样式\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      )\n    }\n\n    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n    // 如果当前浏览器连 document.createElement 都会报错，\n    // 那就没办法 shiv 了，只好假装一切正常...\n    if (!supportsUnknownElements) {\n      // 增强 createElement 和 createDocumentFragment\n      shivMethods(ownerDocument, data)\n    }\n    return ownerDocument\n  }\n",[2046],{"type":421,"tag":500,"props":2047,"children":2048},{"__ignoreMap":415},[2049,2077,2085,2116,2123,2131,2200,2243,2251,2273,2281,2301,2309,2325,2333,2340,2347,2355,2363,2371,2399,2407,2435,2442,2454],{"type":421,"tag":504,"props":2050,"children":2051},{"class":506,"line":507},[2052,2056,2061,2065,2069,2073],{"type":421,"tag":504,"props":2053,"children":2054},{"style":523},[2055],{"type":427,"value":526},{"type":421,"tag":504,"props":2057,"children":2058},{"style":698},[2059],{"type":427,"value":2060}," shivDocument",{"type":421,"tag":504,"props":2062,"children":2063},{"style":511},[2064],{"type":427,"value":520},{"type":421,"tag":504,"props":2066,"children":2067},{"style":533},[2068],{"type":427,"value":1839},{"type":421,"tag":504,"props":2070,"children":2071},{"style":511},[2072],{"type":427,"value":551},{"type":421,"tag":504,"props":2074,"children":2075},{"style":511},[2076],{"type":427,"value":556},{"type":421,"tag":504,"props":2078,"children":2079},{"class":506,"line":559},[2080],{"type":421,"tag":504,"props":2081,"children":2082},{"style":563},[2083],{"type":427,"value":2084},"    // 挂载 document._html5shiv\n",{"type":421,"tag":504,"props":2086,"children":2087},{"class":506,"line":569},[2088,2092,2096,2100,2104,2108,2112],{"type":421,"tag":504,"props":2089,"children":2090},{"style":523},[2091],{"type":427,"value":949},{"type":421,"tag":504,"props":2093,"children":2094},{"style":517},[2095],{"type":427,"value":1859},{"type":421,"tag":504,"props":2097,"children":2098},{"style":582},[2099],{"type":427,"value":959},{"type":421,"tag":504,"props":2101,"children":2102},{"style":698},[2103],{"type":427,"value":1830},{"type":421,"tag":504,"props":2105,"children":2106},{"style":975},[2107],{"type":427,"value":520},{"type":421,"tag":504,"props":2109,"children":2110},{"style":517},[2111],{"type":427,"value":1839},{"type":421,"tag":504,"props":2113,"children":2114},{"style":975},[2115],{"type":427,"value":723},{"type":421,"tag":504,"props":2117,"children":2118},{"class":506,"line":943},[2119],{"type":421,"tag":504,"props":2120,"children":2121},{"emptyLinePlaceholder":414},[2122],{"type":427,"value":1322},{"type":421,"tag":504,"props":2124,"children":2125},{"class":506,"line":981},[2126],{"type":421,"tag":504,"props":2127,"children":2128},{"style":563},[2129],{"type":427,"value":2130},"    // 增强样式\n",{"type":421,"tag":504,"props":2132,"children":2133},{"class":506,"line":996},[2134,2138,2142,2147,2151,2156,2161,2166,2171,2175,2179,2183,2187,2192,2196],{"type":421,"tag":504,"props":2135,"children":2136},{"style":985},[2137],{"type":427,"value":1899},{"type":421,"tag":504,"props":2139,"children":2140},{"style":975},[2141],{"type":427,"value":740},{"type":421,"tag":504,"props":2143,"children":2144},{"style":517},[2145],{"type":427,"value":2146},"html5",{"type":421,"tag":504,"props":2148,"children":2149},{"style":511},[2150],{"type":427,"value":695},{"type":421,"tag":504,"props":2152,"children":2153},{"style":517},[2154],{"type":427,"value":2155},"shivCSS",{"type":421,"tag":504,"props":2157,"children":2158},{"style":582},[2159],{"type":427,"value":2160}," &&",{"type":421,"tag":504,"props":2162,"children":2163},{"style":582},[2164],{"type":427,"value":2165}," !",{"type":421,"tag":504,"props":2167,"children":2168},{"style":517},[2169],{"type":427,"value":2170},"supportsHtml5Styles",{"type":421,"tag":504,"props":2172,"children":2173},{"style":582},[2174],{"type":427,"value":2160},{"type":421,"tag":504,"props":2176,"children":2177},{"style":582},[2178],{"type":427,"value":2165},{"type":421,"tag":504,"props":2180,"children":2181},{"style":517},[2182],{"type":427,"value":1913},{"type":421,"tag":504,"props":2184,"children":2185},{"style":511},[2186],{"type":427,"value":695},{"type":421,"tag":504,"props":2188,"children":2189},{"style":517},[2190],{"type":427,"value":2191},"hasCSS",{"type":421,"tag":504,"props":2193,"children":2194},{"style":975},[2195],{"type":427,"value":1655},{"type":421,"tag":504,"props":2197,"children":2198},{"style":511},[2199],{"type":427,"value":1660},{"type":421,"tag":504,"props":2201,"children":2202},{"class":506,"line":1039},[2203,2208,2212,2216,2220,2225,2230,2234,2238],{"type":421,"tag":504,"props":2204,"children":2205},{"style":517},[2206],{"type":427,"value":2207},"      data",{"type":421,"tag":504,"props":2209,"children":2210},{"style":511},[2211],{"type":427,"value":695},{"type":421,"tag":504,"props":2213,"children":2214},{"style":517},[2215],{"type":427,"value":2191},{"type":421,"tag":504,"props":2217,"children":2218},{"style":582},[2219],{"type":427,"value":959},{"type":421,"tag":504,"props":2221,"children":2222},{"style":582},[2223],{"type":427,"value":2224}," !!",{"type":421,"tag":504,"props":2226,"children":2227},{"style":698},[2228],{"type":427,"value":2229},"addStyleSheet",{"type":421,"tag":504,"props":2231,"children":2232},{"style":975},[2233],{"type":427,"value":520},{"type":421,"tag":504,"props":2235,"children":2236},{"style":517},[2237],{"type":427,"value":1839},{"type":421,"tag":504,"props":2239,"children":2240},{"style":511},[2241],{"type":427,"value":2242},",\n",{"type":421,"tag":504,"props":2244,"children":2245},{"class":506,"line":1079},[2246],{"type":421,"tag":504,"props":2247,"children":2248},{"style":563},[2249],{"type":427,"value":2250},"        // corrects block display not defined in IE6/7/8/9\n",{"type":421,"tag":504,"props":2252,"children":2253},{"class":506,"line":1115},[2254,2259,2264,2268],{"type":421,"tag":504,"props":2255,"children":2256},{"style":598},[2257],{"type":427,"value":2258},"        '",{"type":421,"tag":504,"props":2260,"children":2261},{"style":604},[2262],{"type":427,"value":2263},"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}",{"type":421,"tag":504,"props":2265,"children":2266},{"style":598},[2267],{"type":427,"value":710},{"type":421,"tag":504,"props":2269,"children":2270},{"style":582},[2271],{"type":427,"value":2272}," +\n",{"type":421,"tag":504,"props":2274,"children":2275},{"class":506,"line":1124},[2276],{"type":421,"tag":504,"props":2277,"children":2278},{"style":563},[2279],{"type":427,"value":2280},"        // adds styling not present in IE6/7/8/9\n",{"type":421,"tag":504,"props":2282,"children":2283},{"class":506,"line":1393},[2284,2288,2293,2297],{"type":421,"tag":504,"props":2285,"children":2286},{"style":598},[2287],{"type":427,"value":2258},{"type":421,"tag":504,"props":2289,"children":2290},{"style":604},[2291],{"type":427,"value":2292},"mark{background:#FF0;color:#000}",{"type":421,"tag":504,"props":2294,"children":2295},{"style":598},[2296],{"type":427,"value":710},{"type":421,"tag":504,"props":2298,"children":2299},{"style":582},[2300],{"type":427,"value":2272},{"type":421,"tag":504,"props":2302,"children":2303},{"class":506,"line":1402},[2304],{"type":421,"tag":504,"props":2305,"children":2306},{"style":563},[2307],{"type":427,"value":2308},"        // hides non-rendered elements\n",{"type":421,"tag":504,"props":2310,"children":2311},{"class":506,"line":1445},[2312,2316,2321],{"type":421,"tag":504,"props":2313,"children":2314},{"style":598},[2315],{"type":427,"value":2258},{"type":421,"tag":504,"props":2317,"children":2318},{"style":604},[2319],{"type":427,"value":2320},"template{display:none}",{"type":421,"tag":504,"props":2322,"children":2323},{"style":598},[2324],{"type":427,"value":871},{"type":421,"tag":504,"props":2326,"children":2327},{"class":506,"line":1478},[2328],{"type":421,"tag":504,"props":2329,"children":2330},{"style":975},[2331],{"type":427,"value":2332},"      )\n",{"type":421,"tag":504,"props":2334,"children":2335},{"class":506,"line":1491},[2336],{"type":421,"tag":504,"props":2337,"children":2338},{"style":511},[2339],{"type":427,"value":1712},{"type":421,"tag":504,"props":2341,"children":2342},{"class":506,"line":1532},[2343],{"type":421,"tag":504,"props":2344,"children":2345},{"emptyLinePlaceholder":414},[2346],{"type":427,"value":1322},{"type":421,"tag":504,"props":2348,"children":2349},{"class":506,"line":1572},[2350],{"type":421,"tag":504,"props":2351,"children":2352},{"style":563},[2353],{"type":427,"value":2354},"    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n",{"type":421,"tag":504,"props":2356,"children":2357},{"class":506,"line":1608},[2358],{"type":421,"tag":504,"props":2359,"children":2360},{"style":563},[2361],{"type":427,"value":2362},"    // 如果当前浏览器连 document.createElement 都会报错，\n",{"type":421,"tag":504,"props":2364,"children":2365},{"class":506,"line":1617},[2366],{"type":421,"tag":504,"props":2367,"children":2368},{"style":563},[2369],{"type":427,"value":2370},"    // 那就没办法 shiv 了，只好假装一切正常...\n",{"type":421,"tag":504,"props":2372,"children":2373},{"class":506,"line":1630},[2374,2378,2382,2386,2391,2395],{"type":421,"tag":504,"props":2375,"children":2376},{"style":985},[2377],{"type":427,"value":1899},{"type":421,"tag":504,"props":2379,"children":2380},{"style":975},[2381],{"type":427,"value":740},{"type":421,"tag":504,"props":2383,"children":2384},{"style":582},[2385],{"type":427,"value":1908},{"type":421,"tag":504,"props":2387,"children":2388},{"style":517},[2389],{"type":427,"value":2390},"supportsUnknownElements",{"type":421,"tag":504,"props":2392,"children":2393},{"style":975},[2394],{"type":427,"value":1655},{"type":421,"tag":504,"props":2396,"children":2397},{"style":511},[2398],{"type":427,"value":1660},{"type":421,"tag":504,"props":2400,"children":2401},{"class":506,"line":1663},[2402],{"type":421,"tag":504,"props":2403,"children":2404},{"style":563},[2405],{"type":427,"value":2406},"      // 增强 createElement 和 createDocumentFragment\n",{"type":421,"tag":504,"props":2408,"children":2409},{"class":506,"line":1672},[2410,2415,2419,2423,2427,2431],{"type":421,"tag":504,"props":2411,"children":2412},{"style":698},[2413],{"type":427,"value":2414},"      shivMethods",{"type":421,"tag":504,"props":2416,"children":2417},{"style":975},[2418],{"type":427,"value":520},{"type":421,"tag":504,"props":2420,"children":2421},{"style":517},[2422],{"type":427,"value":1839},{"type":421,"tag":504,"props":2424,"children":2425},{"style":511},[2426],{"type":427,"value":541},{"type":421,"tag":504,"props":2428,"children":2429},{"style":517},[2430],{"type":427,"value":1859},{"type":421,"tag":504,"props":2432,"children":2433},{"style":975},[2434],{"type":427,"value":723},{"type":421,"tag":504,"props":2436,"children":2437},{"class":506,"line":1690},[2438],{"type":421,"tag":504,"props":2439,"children":2440},{"style":511},[2441],{"type":427,"value":1712},{"type":421,"tag":504,"props":2443,"children":2444},{"class":506,"line":1706},[2445,2449],{"type":421,"tag":504,"props":2446,"children":2447},{"style":985},[2448],{"type":427,"value":988},{"type":421,"tag":504,"props":2450,"children":2451},{"style":517},[2452],{"type":427,"value":2453}," ownerDocument\n",{"type":421,"tag":504,"props":2455,"children":2456},{"class":506,"line":1715},[2457],{"type":421,"tag":504,"props":2458,"children":2459},{"style":511},[2460],{"type":427,"value":2036},{"type":421,"tag":435,"props":2462,"children":2463},{},[2464],{"type":427,"value":2465},"接下来，仔细康康 shivMethods 方法。shivMethods 仿制了 createElement 和 createDocumentFragment 两个 API，将其挂载到 document._html5shiv。并通过装饰器模式增强了浏览器原生的 createElement 等 API 的功能。",{"type":421,"tag":493,"props":2467,"children":2469},{"className":495,"code":2468,"language":497,"meta":415,"style":415},"function shivMethods(ownerDocument, data) {\n    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n    if (!data.cache) {\n        data.cache = {}\n        data.createElem = ownerDocument.createElement\n        data.createFrag = ownerDocument.createDocumentFragment\n        data.frag = data.createFrag()\n    }\n\n    ownerDocument.createElement = function(nodeName) {\n      // shivMethods 可看作全局的 shiv 开关\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName)\n      }\n      return createElement(nodeName, ownerDocument, data)\n    }\n\n    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n    // 最终返回 data.frag 的克隆函数\n    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n    // 猜测它只能在老版本 IE 上起作用\n    ownerDocument.createDocumentFragment = Function(\n      'html5,dataFrag', \n      'return function(){' +\n        'var clone=dataFrag.cloneNode(),create=clone.createElement' +\n        'html5.shivMethods&&(' +\n            // unroll the `createElement` calls\n            getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n            data.createElem(nodeName)\n            data.frag.createElement(nodeName)\n            return 'create(\"' + nodeName + '\")'\n            }) +\n        ')return clone' +\n      '}'\n    )(html5, data.frag)\n  }\n",[2470],{"type":421,"tag":500,"props":2471,"children":2472},{"__ignoreMap":415},[2473,2509,2517,2553,2576,2610,2643,2679,2686,2693,2735,2743,2780,2812,2820,2861,2868,2875,2883,2891,2899,2907,2936,2962,2982,3002,3023,3032,3131,3160,3196,3244,3262,3283,3299,3332],{"type":421,"tag":504,"props":2474,"children":2475},{"class":506,"line":507},[2476,2480,2485,2489,2493,2497,2501,2505],{"type":421,"tag":504,"props":2477,"children":2478},{"style":523},[2479],{"type":427,"value":526},{"type":421,"tag":504,"props":2481,"children":2482},{"style":698},[2483],{"type":427,"value":2484}," shivMethods",{"type":421,"tag":504,"props":2486,"children":2487},{"style":511},[2488],{"type":427,"value":520},{"type":421,"tag":504,"props":2490,"children":2491},{"style":533},[2492],{"type":427,"value":1839},{"type":421,"tag":504,"props":2494,"children":2495},{"style":511},[2496],{"type":427,"value":541},{"type":421,"tag":504,"props":2498,"children":2499},{"style":533},[2500],{"type":427,"value":1859},{"type":421,"tag":504,"props":2502,"children":2503},{"style":511},[2504],{"type":427,"value":551},{"type":421,"tag":504,"props":2506,"children":2507},{"style":511},[2508],{"type":427,"value":556},{"type":421,"tag":504,"props":2510,"children":2511},{"class":506,"line":559},[2512],{"type":421,"tag":504,"props":2513,"children":2514},{"style":563},[2515],{"type":427,"value":2516},"    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n",{"type":421,"tag":504,"props":2518,"children":2519},{"class":506,"line":569},[2520,2524,2528,2532,2536,2540,2545,2549],{"type":421,"tag":504,"props":2521,"children":2522},{"style":985},[2523],{"type":427,"value":1899},{"type":421,"tag":504,"props":2525,"children":2526},{"style":975},[2527],{"type":427,"value":740},{"type":421,"tag":504,"props":2529,"children":2530},{"style":582},[2531],{"type":427,"value":1908},{"type":421,"tag":504,"props":2533,"children":2534},{"style":517},[2535],{"type":427,"value":1913},{"type":421,"tag":504,"props":2537,"children":2538},{"style":511},[2539],{"type":427,"value":695},{"type":421,"tag":504,"props":2541,"children":2542},{"style":517},[2543],{"type":427,"value":2544},"cache",{"type":421,"tag":504,"props":2546,"children":2547},{"style":975},[2548],{"type":427,"value":1655},{"type":421,"tag":504,"props":2550,"children":2551},{"style":511},[2552],{"type":427,"value":1660},{"type":421,"tag":504,"props":2554,"children":2555},{"class":506,"line":943},[2556,2560,2564,2568,2572],{"type":421,"tag":504,"props":2557,"children":2558},{"style":517},[2559],{"type":427,"value":1929},{"type":421,"tag":504,"props":2561,"children":2562},{"style":511},[2563],{"type":427,"value":695},{"type":421,"tag":504,"props":2565,"children":2566},{"style":517},[2567],{"type":427,"value":2544},{"type":421,"tag":504,"props":2569,"children":2570},{"style":582},[2571],{"type":427,"value":959},{"type":421,"tag":504,"props":2573,"children":2574},{"style":511},[2575],{"type":427,"value":1768},{"type":421,"tag":504,"props":2577,"children":2578},{"class":506,"line":981},[2579,2583,2587,2592,2596,2601,2605],{"type":421,"tag":504,"props":2580,"children":2581},{"style":517},[2582],{"type":427,"value":1929},{"type":421,"tag":504,"props":2584,"children":2585},{"style":511},[2586],{"type":427,"value":695},{"type":421,"tag":504,"props":2588,"children":2589},{"style":517},[2590],{"type":427,"value":2591},"createElem",{"type":421,"tag":504,"props":2593,"children":2594},{"style":582},[2595],{"type":427,"value":959},{"type":421,"tag":504,"props":2597,"children":2598},{"style":517},[2599],{"type":427,"value":2600}," ownerDocument",{"type":421,"tag":504,"props":2602,"children":2603},{"style":511},[2604],{"type":427,"value":695},{"type":421,"tag":504,"props":2606,"children":2607},{"style":517},[2608],{"type":427,"value":2609},"createElement\n",{"type":421,"tag":504,"props":2611,"children":2612},{"class":506,"line":996},[2613,2617,2621,2626,2630,2634,2638],{"type":421,"tag":504,"props":2614,"children":2615},{"style":517},[2616],{"type":427,"value":1929},{"type":421,"tag":504,"props":2618,"children":2619},{"style":511},[2620],{"type":427,"value":695},{"type":421,"tag":504,"props":2622,"children":2623},{"style":517},[2624],{"type":427,"value":2625},"createFrag",{"type":421,"tag":504,"props":2627,"children":2628},{"style":582},[2629],{"type":427,"value":959},{"type":421,"tag":504,"props":2631,"children":2632},{"style":517},[2633],{"type":427,"value":2600},{"type":421,"tag":504,"props":2635,"children":2636},{"style":511},[2637],{"type":427,"value":695},{"type":421,"tag":504,"props":2639,"children":2640},{"style":517},[2641],{"type":427,"value":2642},"createDocumentFragment\n",{"type":421,"tag":504,"props":2644,"children":2645},{"class":506,"line":1039},[2646,2650,2654,2659,2663,2667,2671,2675],{"type":421,"tag":504,"props":2647,"children":2648},{"style":517},[2649],{"type":427,"value":1929},{"type":421,"tag":504,"props":2651,"children":2652},{"style":511},[2653],{"type":427,"value":695},{"type":421,"tag":504,"props":2655,"children":2656},{"style":517},[2657],{"type":427,"value":2658},"frag",{"type":421,"tag":504,"props":2660,"children":2661},{"style":582},[2662],{"type":427,"value":959},{"type":421,"tag":504,"props":2664,"children":2665},{"style":517},[2666],{"type":427,"value":1859},{"type":421,"tag":504,"props":2668,"children":2669},{"style":511},[2670],{"type":427,"value":695},{"type":421,"tag":504,"props":2672,"children":2673},{"style":698},[2674],{"type":427,"value":2625},{"type":421,"tag":504,"props":2676,"children":2677},{"style":975},[2678],{"type":427,"value":978},{"type":421,"tag":504,"props":2680,"children":2681},{"class":506,"line":1079},[2682],{"type":421,"tag":504,"props":2683,"children":2684},{"style":511},[2685],{"type":427,"value":1712},{"type":421,"tag":504,"props":2687,"children":2688},{"class":506,"line":1115},[2689],{"type":421,"tag":504,"props":2690,"children":2691},{"emptyLinePlaceholder":414},[2692],{"type":427,"value":1322},{"type":421,"tag":504,"props":2694,"children":2695},{"class":506,"line":1124},[2696,2701,2705,2709,2713,2718,2722,2727,2731],{"type":421,"tag":504,"props":2697,"children":2698},{"style":517},[2699],{"type":427,"value":2700},"    ownerDocument",{"type":421,"tag":504,"props":2702,"children":2703},{"style":511},[2704],{"type":427,"value":695},{"type":421,"tag":504,"props":2706,"children":2707},{"style":698},[2708],{"type":427,"value":701},{"type":421,"tag":504,"props":2710,"children":2711},{"style":582},[2712],{"type":427,"value":959},{"type":421,"tag":504,"props":2714,"children":2715},{"style":523},[2716],{"type":427,"value":2717}," function",{"type":421,"tag":504,"props":2719,"children":2720},{"style":511},[2721],{"type":427,"value":520},{"type":421,"tag":504,"props":2723,"children":2724},{"style":533},[2725],{"type":427,"value":2726},"nodeName",{"type":421,"tag":504,"props":2728,"children":2729},{"style":511},[2730],{"type":427,"value":551},{"type":421,"tag":504,"props":2732,"children":2733},{"style":511},[2734],{"type":427,"value":556},{"type":421,"tag":504,"props":2736,"children":2737},{"class":506,"line":1393},[2738],{"type":421,"tag":504,"props":2739,"children":2740},{"style":563},[2741],{"type":427,"value":2742},"      // shivMethods 可看作全局的 shiv 开关\n",{"type":421,"tag":504,"props":2744,"children":2745},{"class":506,"line":1402},[2746,2751,2755,2759,2763,2767,2772,2776],{"type":421,"tag":504,"props":2747,"children":2748},{"style":985},[2749],{"type":427,"value":2750},"      if",{"type":421,"tag":504,"props":2752,"children":2753},{"style":975},[2754],{"type":427,"value":740},{"type":421,"tag":504,"props":2756,"children":2757},{"style":582},[2758],{"type":427,"value":1908},{"type":421,"tag":504,"props":2760,"children":2761},{"style":517},[2762],{"type":427,"value":2146},{"type":421,"tag":504,"props":2764,"children":2765},{"style":511},[2766],{"type":427,"value":695},{"type":421,"tag":504,"props":2768,"children":2769},{"style":517},[2770],{"type":427,"value":2771},"shivMethods",{"type":421,"tag":504,"props":2773,"children":2774},{"style":975},[2775],{"type":427,"value":1655},{"type":421,"tag":504,"props":2777,"children":2778},{"style":511},[2779],{"type":427,"value":1660},{"type":421,"tag":504,"props":2781,"children":2782},{"class":506,"line":1445},[2783,2788,2792,2796,2800,2804,2808],{"type":421,"tag":504,"props":2784,"children":2785},{"style":985},[2786],{"type":427,"value":2787},"          return",{"type":421,"tag":504,"props":2789,"children":2790},{"style":517},[2791],{"type":427,"value":1859},{"type":421,"tag":504,"props":2793,"children":2794},{"style":511},[2795],{"type":427,"value":695},{"type":421,"tag":504,"props":2797,"children":2798},{"style":698},[2799],{"type":427,"value":2591},{"type":421,"tag":504,"props":2801,"children":2802},{"style":975},[2803],{"type":427,"value":520},{"type":421,"tag":504,"props":2805,"children":2806},{"style":517},[2807],{"type":427,"value":2726},{"type":421,"tag":504,"props":2809,"children":2810},{"style":975},[2811],{"type":427,"value":723},{"type":421,"tag":504,"props":2813,"children":2814},{"class":506,"line":1478},[2815],{"type":421,"tag":504,"props":2816,"children":2817},{"style":511},[2818],{"type":427,"value":2819},"      }\n",{"type":421,"tag":504,"props":2821,"children":2822},{"class":506,"line":1491},[2823,2828,2833,2837,2841,2845,2849,2853,2857],{"type":421,"tag":504,"props":2824,"children":2825},{"style":985},[2826],{"type":427,"value":2827},"      return",{"type":421,"tag":504,"props":2829,"children":2830},{"style":698},[2831],{"type":427,"value":2832}," createElement",{"type":421,"tag":504,"props":2834,"children":2835},{"style":975},[2836],{"type":427,"value":520},{"type":421,"tag":504,"props":2838,"children":2839},{"style":517},[2840],{"type":427,"value":2726},{"type":421,"tag":504,"props":2842,"children":2843},{"style":511},[2844],{"type":427,"value":541},{"type":421,"tag":504,"props":2846,"children":2847},{"style":517},[2848],{"type":427,"value":2600},{"type":421,"tag":504,"props":2850,"children":2851},{"style":511},[2852],{"type":427,"value":541},{"type":421,"tag":504,"props":2854,"children":2855},{"style":517},[2856],{"type":427,"value":1859},{"type":421,"tag":504,"props":2858,"children":2859},{"style":975},[2860],{"type":427,"value":723},{"type":421,"tag":504,"props":2862,"children":2863},{"class":506,"line":1532},[2864],{"type":421,"tag":504,"props":2865,"children":2866},{"style":511},[2867],{"type":427,"value":1712},{"type":421,"tag":504,"props":2869,"children":2870},{"class":506,"line":1572},[2871],{"type":421,"tag":504,"props":2872,"children":2873},{"emptyLinePlaceholder":414},[2874],{"type":427,"value":1322},{"type":421,"tag":504,"props":2876,"children":2877},{"class":506,"line":1608},[2878],{"type":421,"tag":504,"props":2879,"children":2880},{"style":563},[2881],{"type":427,"value":2882},"    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n",{"type":421,"tag":504,"props":2884,"children":2885},{"class":506,"line":1617},[2886],{"type":421,"tag":504,"props":2887,"children":2888},{"style":563},[2889],{"type":427,"value":2890},"    // 最终返回 data.frag 的克隆函数\n",{"type":421,"tag":504,"props":2892,"children":2893},{"class":506,"line":1630},[2894],{"type":421,"tag":504,"props":2895,"children":2896},{"style":563},[2897],{"type":427,"value":2898},"    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n",{"type":421,"tag":504,"props":2900,"children":2901},{"class":506,"line":1663},[2902],{"type":421,"tag":504,"props":2903,"children":2904},{"style":563},[2905],{"type":427,"value":2906},"    // 猜测它只能在老版本 IE 上起作用\n",{"type":421,"tag":504,"props":2908,"children":2909},{"class":506,"line":1672},[2910,2914,2918,2922,2926,2931],{"type":421,"tag":504,"props":2911,"children":2912},{"style":517},[2913],{"type":427,"value":2700},{"type":421,"tag":504,"props":2915,"children":2916},{"style":511},[2917],{"type":427,"value":695},{"type":421,"tag":504,"props":2919,"children":2920},{"style":517},[2921],{"type":427,"value":972},{"type":421,"tag":504,"props":2923,"children":2924},{"style":582},[2925],{"type":427,"value":959},{"type":421,"tag":504,"props":2927,"children":2928},{"style":698},[2929],{"type":427,"value":2930}," Function",{"type":421,"tag":504,"props":2932,"children":2933},{"style":975},[2934],{"type":427,"value":2935},"(\n",{"type":421,"tag":504,"props":2937,"children":2938},{"class":506,"line":1690},[2939,2944,2949,2953,2957],{"type":421,"tag":504,"props":2940,"children":2941},{"style":598},[2942],{"type":427,"value":2943},"      '",{"type":421,"tag":504,"props":2945,"children":2946},{"style":604},[2947],{"type":427,"value":2948},"html5,dataFrag",{"type":421,"tag":504,"props":2950,"children":2951},{"style":598},[2952],{"type":427,"value":710},{"type":421,"tag":504,"props":2954,"children":2955},{"style":511},[2956],{"type":427,"value":541},{"type":421,"tag":504,"props":2958,"children":2959},{"style":975},[2960],{"type":427,"value":2961}," \n",{"type":421,"tag":504,"props":2963,"children":2964},{"class":506,"line":1706},[2965,2969,2974,2978],{"type":421,"tag":504,"props":2966,"children":2967},{"style":598},[2968],{"type":427,"value":2943},{"type":421,"tag":504,"props":2970,"children":2971},{"style":604},[2972],{"type":427,"value":2973},"return function(){",{"type":421,"tag":504,"props":2975,"children":2976},{"style":598},[2977],{"type":427,"value":710},{"type":421,"tag":504,"props":2979,"children":2980},{"style":582},[2981],{"type":427,"value":2272},{"type":421,"tag":504,"props":2983,"children":2984},{"class":506,"line":1715},[2985,2989,2994,2998],{"type":421,"tag":504,"props":2986,"children":2987},{"style":598},[2988],{"type":427,"value":2258},{"type":421,"tag":504,"props":2990,"children":2991},{"style":604},[2992],{"type":427,"value":2993},"var clone=dataFrag.cloneNode(),create=clone.createElement",{"type":421,"tag":504,"props":2995,"children":2996},{"style":598},[2997],{"type":427,"value":710},{"type":421,"tag":504,"props":2999,"children":3000},{"style":582},[3001],{"type":427,"value":2272},{"type":421,"tag":504,"props":3003,"children":3005},{"class":506,"line":3004},26,[3006,3010,3015,3019],{"type":421,"tag":504,"props":3007,"children":3008},{"style":598},[3009],{"type":427,"value":2258},{"type":421,"tag":504,"props":3011,"children":3012},{"style":604},[3013],{"type":427,"value":3014},"html5.shivMethods&&(",{"type":421,"tag":504,"props":3016,"children":3017},{"style":598},[3018],{"type":427,"value":710},{"type":421,"tag":504,"props":3020,"children":3021},{"style":582},[3022],{"type":427,"value":2272},{"type":421,"tag":504,"props":3024,"children":3026},{"class":506,"line":3025},27,[3027],{"type":421,"tag":504,"props":3028,"children":3029},{"style":563},[3030],{"type":427,"value":3031},"            // unroll the `createElement` calls\n",{"type":421,"tag":504,"props":3033,"children":3035},{"class":506,"line":3034},28,[3036,3041,3045,3049,3054,3058,3062,3067,3071,3076,3081,3087,3092,3097,3101,3107,3111,3115,3119,3123,3127],{"type":421,"tag":504,"props":3037,"children":3038},{"style":698},[3039],{"type":427,"value":3040},"            getElements",{"type":421,"tag":504,"props":3042,"children":3043},{"style":975},[3044],{"type":427,"value":936},{"type":421,"tag":504,"props":3046,"children":3047},{"style":511},[3048],{"type":427,"value":695},{"type":421,"tag":504,"props":3050,"children":3051},{"style":698},[3052],{"type":427,"value":3053},"join",{"type":421,"tag":504,"props":3055,"children":3056},{"style":975},[3057],{"type":427,"value":936},{"type":421,"tag":504,"props":3059,"children":3060},{"style":511},[3061],{"type":427,"value":695},{"type":421,"tag":504,"props":3063,"children":3064},{"style":698},[3065],{"type":427,"value":3066},"replace",{"type":421,"tag":504,"props":3068,"children":3069},{"style":975},[3070],{"type":427,"value":520},{"type":421,"tag":504,"props":3072,"children":3073},{"style":598},[3074],{"type":427,"value":3075},"/",{"type":421,"tag":504,"props":3077,"children":3079},{"style":3078},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3080],{"type":427,"value":1873},{"type":421,"tag":504,"props":3082,"children":3084},{"style":3083},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3085],{"type":427,"value":3086},"\\w\\-:",{"type":421,"tag":504,"props":3088,"children":3089},{"style":3078},[3090],{"type":427,"value":3091},"]",{"type":421,"tag":504,"props":3093,"children":3094},{"style":582},[3095],{"type":427,"value":3096},"+",{"type":421,"tag":504,"props":3098,"children":3099},{"style":598},[3100],{"type":427,"value":3075},{"type":421,"tag":504,"props":3102,"children":3104},{"style":3103},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[3105],{"type":427,"value":3106},"g",{"type":421,"tag":504,"props":3108,"children":3109},{"style":511},[3110],{"type":427,"value":541},{"type":421,"tag":504,"props":3112,"children":3113},{"style":523},[3114],{"type":427,"value":2717},{"type":421,"tag":504,"props":3116,"children":3117},{"style":511},[3118],{"type":427,"value":520},{"type":421,"tag":504,"props":3120,"children":3121},{"style":533},[3122],{"type":427,"value":2726},{"type":421,"tag":504,"props":3124,"children":3125},{"style":511},[3126],{"type":427,"value":551},{"type":421,"tag":504,"props":3128,"children":3129},{"style":511},[3130],{"type":427,"value":556},{"type":421,"tag":504,"props":3132,"children":3134},{"class":506,"line":3133},29,[3135,3140,3144,3148,3152,3156],{"type":421,"tag":504,"props":3136,"children":3137},{"style":517},[3138],{"type":427,"value":3139},"            data",{"type":421,"tag":504,"props":3141,"children":3142},{"style":511},[3143],{"type":427,"value":695},{"type":421,"tag":504,"props":3145,"children":3146},{"style":698},[3147],{"type":427,"value":2591},{"type":421,"tag":504,"props":3149,"children":3150},{"style":975},[3151],{"type":427,"value":520},{"type":421,"tag":504,"props":3153,"children":3154},{"style":517},[3155],{"type":427,"value":2726},{"type":421,"tag":504,"props":3157,"children":3158},{"style":975},[3159],{"type":427,"value":723},{"type":421,"tag":504,"props":3161,"children":3163},{"class":506,"line":3162},30,[3164,3168,3172,3176,3180,3184,3188,3192],{"type":421,"tag":504,"props":3165,"children":3166},{"style":517},[3167],{"type":427,"value":3139},{"type":421,"tag":504,"props":3169,"children":3170},{"style":511},[3171],{"type":427,"value":695},{"type":421,"tag":504,"props":3173,"children":3174},{"style":517},[3175],{"type":427,"value":2658},{"type":421,"tag":504,"props":3177,"children":3178},{"style":511},[3179],{"type":427,"value":695},{"type":421,"tag":504,"props":3181,"children":3182},{"style":698},[3183],{"type":427,"value":701},{"type":421,"tag":504,"props":3185,"children":3186},{"style":975},[3187],{"type":427,"value":520},{"type":421,"tag":504,"props":3189,"children":3190},{"style":517},[3191],{"type":427,"value":2726},{"type":421,"tag":504,"props":3193,"children":3194},{"style":975},[3195],{"type":427,"value":723},{"type":421,"tag":504,"props":3197,"children":3199},{"class":506,"line":3198},31,[3200,3204,3208,3213,3217,3222,3227,3231,3235,3240],{"type":421,"tag":504,"props":3201,"children":3202},{"style":985},[3203],{"type":427,"value":1484},{"type":421,"tag":504,"props":3205,"children":3206},{"style":598},[3207],{"type":427,"value":861},{"type":421,"tag":504,"props":3209,"children":3210},{"style":604},[3211],{"type":427,"value":3212},"create(\"",{"type":421,"tag":504,"props":3214,"children":3215},{"style":598},[3216],{"type":427,"value":710},{"type":421,"tag":504,"props":3218,"children":3219},{"style":582},[3220],{"type":427,"value":3221}," +",{"type":421,"tag":504,"props":3223,"children":3224},{"style":517},[3225],{"type":427,"value":3226}," nodeName",{"type":421,"tag":504,"props":3228,"children":3229},{"style":582},[3230],{"type":427,"value":3221},{"type":421,"tag":504,"props":3232,"children":3233},{"style":598},[3234],{"type":427,"value":861},{"type":421,"tag":504,"props":3236,"children":3237},{"style":604},[3238],{"type":427,"value":3239},"\")",{"type":421,"tag":504,"props":3241,"children":3242},{"style":598},[3243],{"type":427,"value":871},{"type":421,"tag":504,"props":3245,"children":3247},{"class":506,"line":3246},32,[3248,3253,3257],{"type":421,"tag":504,"props":3249,"children":3250},{"style":511},[3251],{"type":427,"value":3252},"            }",{"type":421,"tag":504,"props":3254,"children":3255},{"style":975},[3256],{"type":427,"value":1655},{"type":421,"tag":504,"props":3258,"children":3259},{"style":582},[3260],{"type":427,"value":3261},"+\n",{"type":421,"tag":504,"props":3263,"children":3265},{"class":506,"line":3264},33,[3266,3270,3275,3279],{"type":421,"tag":504,"props":3267,"children":3268},{"style":598},[3269],{"type":427,"value":2258},{"type":421,"tag":504,"props":3271,"children":3272},{"style":604},[3273],{"type":427,"value":3274},")return clone",{"type":421,"tag":504,"props":3276,"children":3277},{"style":598},[3278],{"type":427,"value":710},{"type":421,"tag":504,"props":3280,"children":3281},{"style":582},[3282],{"type":427,"value":2272},{"type":421,"tag":504,"props":3284,"children":3286},{"class":506,"line":3285},34,[3287,3291,3295],{"type":421,"tag":504,"props":3288,"children":3289},{"style":598},[3290],{"type":427,"value":2943},{"type":421,"tag":504,"props":3292,"children":3293},{"style":604},[3294],{"type":427,"value":575},{"type":421,"tag":504,"props":3296,"children":3297},{"style":598},[3298],{"type":427,"value":871},{"type":421,"tag":504,"props":3300,"children":3302},{"class":506,"line":3301},35,[3303,3308,3312,3316,3320,3324,3328],{"type":421,"tag":504,"props":3304,"children":3305},{"style":975},[3306],{"type":427,"value":3307},"    )(",{"type":421,"tag":504,"props":3309,"children":3310},{"style":517},[3311],{"type":427,"value":2146},{"type":421,"tag":504,"props":3313,"children":3314},{"style":511},[3315],{"type":427,"value":541},{"type":421,"tag":504,"props":3317,"children":3318},{"style":517},[3319],{"type":427,"value":1859},{"type":421,"tag":504,"props":3321,"children":3322},{"style":511},[3323],{"type":427,"value":695},{"type":421,"tag":504,"props":3325,"children":3326},{"style":517},[3327],{"type":427,"value":2658},{"type":421,"tag":504,"props":3329,"children":3330},{"style":975},[3331],{"type":427,"value":723},{"type":421,"tag":504,"props":3333,"children":3335},{"class":506,"line":3334},36,[3336],{"type":421,"tag":504,"props":3337,"children":3338},{"style":511},[3339],{"type":427,"value":2036},{"type":421,"tag":435,"props":3341,"children":3342},{},[3343],{"type":427,"value":3344},"小插曲。我在浏览器测试时发现，若像上面这个函数一样，将 document.createDocumentFrament 先缓存，再调用，会发生报错：",{"type":421,"tag":493,"props":3346,"children":3348},{"className":495,"code":3347,"language":497,"meta":415,"style":415},"data = {}\ndata.createFrag = document.createDocumentFragment\ndata.frag = data.createFrag()\n\n// >>> Uncaught TypeError: Illegal invocation\n",[3349],{"type":421,"tag":500,"props":3350,"children":3351},{"__ignoreMap":415},[3352,3368,3400,3436,3443],{"type":421,"tag":504,"props":3353,"children":3354},{"class":506,"line":507},[3355,3360,3364],{"type":421,"tag":504,"props":3356,"children":3357},{"style":517},[3358],{"type":427,"value":3359},"data ",{"type":421,"tag":504,"props":3361,"children":3362},{"style":582},[3363],{"type":427,"value":686},{"type":421,"tag":504,"props":3365,"children":3366},{"style":511},[3367],{"type":427,"value":1768},{"type":421,"tag":504,"props":3369,"children":3370},{"class":506,"line":559},[3371,3375,3379,3384,3388,3392,3396],{"type":421,"tag":504,"props":3372,"children":3373},{"style":517},[3374],{"type":427,"value":1913},{"type":421,"tag":504,"props":3376,"children":3377},{"style":511},[3378],{"type":427,"value":695},{"type":421,"tag":504,"props":3380,"children":3381},{"style":517},[3382],{"type":427,"value":3383},"createFrag ",{"type":421,"tag":504,"props":3385,"children":3386},{"style":582},[3387],{"type":427,"value":686},{"type":421,"tag":504,"props":3389,"children":3390},{"style":517},[3391],{"type":427,"value":546},{"type":421,"tag":504,"props":3393,"children":3394},{"style":511},[3395],{"type":427,"value":695},{"type":421,"tag":504,"props":3397,"children":3398},{"style":517},[3399],{"type":427,"value":2642},{"type":421,"tag":504,"props":3401,"children":3402},{"class":506,"line":569},[3403,3407,3411,3416,3420,3424,3428,3432],{"type":421,"tag":504,"props":3404,"children":3405},{"style":517},[3406],{"type":427,"value":1913},{"type":421,"tag":504,"props":3408,"children":3409},{"style":511},[3410],{"type":427,"value":695},{"type":421,"tag":504,"props":3412,"children":3413},{"style":517},[3414],{"type":427,"value":3415},"frag ",{"type":421,"tag":504,"props":3417,"children":3418},{"style":582},[3419],{"type":427,"value":686},{"type":421,"tag":504,"props":3421,"children":3422},{"style":517},[3423],{"type":427,"value":1859},{"type":421,"tag":504,"props":3425,"children":3426},{"style":511},[3427],{"type":427,"value":695},{"type":421,"tag":504,"props":3429,"children":3430},{"style":698},[3431],{"type":427,"value":2625},{"type":421,"tag":504,"props":3433,"children":3434},{"style":517},[3435],{"type":427,"value":978},{"type":421,"tag":504,"props":3437,"children":3438},{"class":506,"line":943},[3439],{"type":421,"tag":504,"props":3440,"children":3441},{"emptyLinePlaceholder":414},[3442],{"type":427,"value":1322},{"type":421,"tag":504,"props":3444,"children":3445},{"class":506,"line":981},[3446],{"type":421,"tag":504,"props":3447,"children":3448},{"style":563},[3449],{"type":427,"value":3450},"// >>> Uncaught TypeError: Illegal invocation\n",{"type":421,"tag":435,"props":3452,"children":3453},{},[3454],{"type":427,"value":3455},"由于没有具体的报错原因，只能暂时猜测是 this 指向的锅。更改 this 指向后，再试了一次，这次没得问题。在 GitHub issues 中没有人提过这个问题，所以我只能猜测因为所有现代浏览器都支持使用原生 API 创建非标准元素，所以不会走 shivMethods 的逻辑。",{"type":421,"tag":493,"props":3457,"children":3459},{"className":495,"code":3458,"language":497,"meta":415,"style":415},"data = {}\ndata.createFrag = document.createDocumentFragment.bind(document)\ndata.frag = data.createFrag()\n\n// >>> #document-fragment\n",[3460],{"type":421,"tag":500,"props":3461,"children":3462},{"__ignoreMap":415},[3463,3478,3523,3558,3565],{"type":421,"tag":504,"props":3464,"children":3465},{"class":506,"line":507},[3466,3470,3474],{"type":421,"tag":504,"props":3467,"children":3468},{"style":517},[3469],{"type":427,"value":3359},{"type":421,"tag":504,"props":3471,"children":3472},{"style":582},[3473],{"type":427,"value":686},{"type":421,"tag":504,"props":3475,"children":3476},{"style":511},[3477],{"type":427,"value":1768},{"type":421,"tag":504,"props":3479,"children":3480},{"class":506,"line":559},[3481,3485,3489,3493,3497,3501,3505,3509,3513,3518],{"type":421,"tag":504,"props":3482,"children":3483},{"style":517},[3484],{"type":427,"value":1913},{"type":421,"tag":504,"props":3486,"children":3487},{"style":511},[3488],{"type":427,"value":695},{"type":421,"tag":504,"props":3490,"children":3491},{"style":517},[3492],{"type":427,"value":3383},{"type":421,"tag":504,"props":3494,"children":3495},{"style":582},[3496],{"type":427,"value":686},{"type":421,"tag":504,"props":3498,"children":3499},{"style":517},[3500],{"type":427,"value":546},{"type":421,"tag":504,"props":3502,"children":3503},{"style":511},[3504],{"type":427,"value":695},{"type":421,"tag":504,"props":3506,"children":3507},{"style":517},[3508],{"type":427,"value":972},{"type":421,"tag":504,"props":3510,"children":3511},{"style":511},[3512],{"type":427,"value":695},{"type":421,"tag":504,"props":3514,"children":3515},{"style":698},[3516],{"type":427,"value":3517},"bind",{"type":421,"tag":504,"props":3519,"children":3520},{"style":517},[3521],{"type":427,"value":3522},"(document)\n",{"type":421,"tag":504,"props":3524,"children":3525},{"class":506,"line":569},[3526,3530,3534,3538,3542,3546,3550,3554],{"type":421,"tag":504,"props":3527,"children":3528},{"style":517},[3529],{"type":427,"value":1913},{"type":421,"tag":504,"props":3531,"children":3532},{"style":511},[3533],{"type":427,"value":695},{"type":421,"tag":504,"props":3535,"children":3536},{"style":517},[3537],{"type":427,"value":3415},{"type":421,"tag":504,"props":3539,"children":3540},{"style":582},[3541],{"type":427,"value":686},{"type":421,"tag":504,"props":3543,"children":3544},{"style":517},[3545],{"type":427,"value":1859},{"type":421,"tag":504,"props":3547,"children":3548},{"style":511},[3549],{"type":427,"value":695},{"type":421,"tag":504,"props":3551,"children":3552},{"style":698},[3553],{"type":427,"value":2625},{"type":421,"tag":504,"props":3555,"children":3556},{"style":517},[3557],{"type":427,"value":978},{"type":421,"tag":504,"props":3559,"children":3560},{"class":506,"line":943},[3561],{"type":421,"tag":504,"props":3562,"children":3563},{"emptyLinePlaceholder":414},[3564],{"type":427,"value":1322},{"type":421,"tag":504,"props":3566,"children":3567},{"class":506,"line":981},[3568],{"type":421,"tag":504,"props":3569,"children":3570},{"style":563},[3571],{"type":427,"value":3572},"// >>> #document-fragment\n",{"type":421,"tag":435,"props":3574,"children":3575},{},[3576],{"type":427,"value":3577},"我们继续。以下代码是对 createElement 的仿制， 用于返回一个已经 shiv 过的元素。主要是用来兼容原生 document.createElement 不支持创建一个非规范的元素的情况。比方说，HTML5 标签中有 article 元素，document.createElement 不支持的话，就需要调用此仿制 API。",{"type":421,"tag":493,"props":3579,"children":3581},{"className":495,"code":3580,"language":497,"meta":415,"style":415},"function createElement(nodeName, ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName)\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument)\n    }\n    var node\n\n    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode()\n    } else \n    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n    // 则创建一个新元素并存到缓存中\n    if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode()\n    } else \n    // 如果是不能被克隆的对象，那就直接创建吧...\n    {\n        node = data.createElem(nodeName)\n    }\n\n    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n    // Avoid adding some elements to fragments in IE \u003C 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn \n        ? data.frag.appendChild(node) \n        : node\n  }\n",[3582],{"type":421,"tag":500,"props":3583,"children":3584},{"__ignoreMap":415},[3585,3625,3648,3680,3687,3714,3741,3748,3760,3767,3775,3815,3863,3879,3887,3895,3937,4017,4032,4040,4048,4083,4090,4097,4105,4113,4121,4129,4137,4145,4153,4161,4242,4284,4296],{"type":421,"tag":504,"props":3586,"children":3587},{"class":506,"line":507},[3588,3592,3596,3600,3604,3608,3612,3616,3620],{"type":421,"tag":504,"props":3589,"children":3590},{"style":523},[3591],{"type":427,"value":526},{"type":421,"tag":504,"props":3593,"children":3594},{"style":698},[3595],{"type":427,"value":2832},{"type":421,"tag":504,"props":3597,"children":3598},{"style":511},[3599],{"type":427,"value":520},{"type":421,"tag":504,"props":3601,"children":3602},{"style":533},[3603],{"type":427,"value":2726},{"type":421,"tag":504,"props":3605,"children":3606},{"style":511},[3607],{"type":427,"value":541},{"type":421,"tag":504,"props":3609,"children":3610},{"style":533},[3611],{"type":427,"value":2600},{"type":421,"tag":504,"props":3613,"children":3614},{"style":511},[3615],{"type":427,"value":541},{"type":421,"tag":504,"props":3617,"children":3618},{"style":533},[3619],{"type":427,"value":1859},{"type":421,"tag":504,"props":3621,"children":3622},{"style":511},[3623],{"type":427,"value":3624},"){\n",{"type":421,"tag":504,"props":3626,"children":3627},{"class":506,"line":559},[3628,3632,3636,3640,3644],{"type":421,"tag":504,"props":3629,"children":3630},{"style":985},[3631],{"type":427,"value":1899},{"type":421,"tag":504,"props":3633,"children":3634},{"style":975},[3635],{"type":427,"value":520},{"type":421,"tag":504,"props":3637,"children":3638},{"style":517},[3639],{"type":427,"value":2390},{"type":421,"tag":504,"props":3641,"children":3642},{"style":975},[3643],{"type":427,"value":551},{"type":421,"tag":504,"props":3645,"children":3646},{"style":511},[3647],{"type":427,"value":1660},{"type":421,"tag":504,"props":3649,"children":3650},{"class":506,"line":569},[3651,3656,3660,3664,3668,3672,3676],{"type":421,"tag":504,"props":3652,"children":3653},{"style":985},[3654],{"type":427,"value":3655},"        return",{"type":421,"tag":504,"props":3657,"children":3658},{"style":517},[3659],{"type":427,"value":2600},{"type":421,"tag":504,"props":3661,"children":3662},{"style":511},[3663],{"type":427,"value":695},{"type":421,"tag":504,"props":3665,"children":3666},{"style":698},[3667],{"type":427,"value":701},{"type":421,"tag":504,"props":3669,"children":3670},{"style":975},[3671],{"type":427,"value":520},{"type":421,"tag":504,"props":3673,"children":3674},{"style":517},[3675],{"type":427,"value":2726},{"type":421,"tag":504,"props":3677,"children":3678},{"style":975},[3679],{"type":427,"value":723},{"type":421,"tag":504,"props":3681,"children":3682},{"class":506,"line":943},[3683],{"type":421,"tag":504,"props":3684,"children":3685},{"style":511},[3686],{"type":427,"value":1712},{"type":421,"tag":504,"props":3688,"children":3689},{"class":506,"line":981},[3690,3694,3698,3702,3706,3710],{"type":421,"tag":504,"props":3691,"children":3692},{"style":985},[3693],{"type":427,"value":1899},{"type":421,"tag":504,"props":3695,"children":3696},{"style":975},[3697],{"type":427,"value":740},{"type":421,"tag":504,"props":3699,"children":3700},{"style":582},[3701],{"type":427,"value":1908},{"type":421,"tag":504,"props":3703,"children":3704},{"style":517},[3705],{"type":427,"value":1913},{"type":421,"tag":504,"props":3707,"children":3708},{"style":975},[3709],{"type":427,"value":1655},{"type":421,"tag":504,"props":3711,"children":3712},{"style":511},[3713],{"type":427,"value":1660},{"type":421,"tag":504,"props":3715,"children":3716},{"class":506,"line":996},[3717,3721,3725,3729,3733,3737],{"type":421,"tag":504,"props":3718,"children":3719},{"style":517},[3720],{"type":427,"value":1929},{"type":421,"tag":504,"props":3722,"children":3723},{"style":582},[3724],{"type":427,"value":959},{"type":421,"tag":504,"props":3726,"children":3727},{"style":698},[3728],{"type":427,"value":1830},{"type":421,"tag":504,"props":3730,"children":3731},{"style":975},[3732],{"type":427,"value":520},{"type":421,"tag":504,"props":3734,"children":3735},{"style":517},[3736],{"type":427,"value":1839},{"type":421,"tag":504,"props":3738,"children":3739},{"style":975},[3740],{"type":427,"value":723},{"type":421,"tag":504,"props":3742,"children":3743},{"class":506,"line":1039},[3744],{"type":421,"tag":504,"props":3745,"children":3746},{"style":511},[3747],{"type":427,"value":1712},{"type":421,"tag":504,"props":3749,"children":3750},{"class":506,"line":1079},[3751,3755],{"type":421,"tag":504,"props":3752,"children":3753},{"style":523},[3754],{"type":427,"value":949},{"type":421,"tag":504,"props":3756,"children":3757},{"style":517},[3758],{"type":427,"value":3759}," node\n",{"type":421,"tag":504,"props":3761,"children":3762},{"class":506,"line":1115},[3763],{"type":421,"tag":504,"props":3764,"children":3765},{"emptyLinePlaceholder":414},[3766],{"type":427,"value":1322},{"type":421,"tag":504,"props":3768,"children":3769},{"class":506,"line":1124},[3770],{"type":421,"tag":504,"props":3771,"children":3772},{"style":563},[3773],{"type":427,"value":3774},"    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n",{"type":421,"tag":504,"props":3776,"children":3777},{"class":506,"line":1393},[3778,3782,3786,3790,3794,3798,3802,3806,3811],{"type":421,"tag":504,"props":3779,"children":3780},{"style":985},[3781],{"type":427,"value":1899},{"type":421,"tag":504,"props":3783,"children":3784},{"style":975},[3785],{"type":427,"value":740},{"type":421,"tag":504,"props":3787,"children":3788},{"style":517},[3789],{"type":427,"value":1913},{"type":421,"tag":504,"props":3791,"children":3792},{"style":511},[3793],{"type":427,"value":695},{"type":421,"tag":504,"props":3795,"children":3796},{"style":517},[3797],{"type":427,"value":2544},{"type":421,"tag":504,"props":3799,"children":3800},{"style":975},[3801],{"type":427,"value":1873},{"type":421,"tag":504,"props":3803,"children":3804},{"style":517},[3805],{"type":427,"value":2726},{"type":421,"tag":504,"props":3807,"children":3808},{"style":975},[3809],{"type":427,"value":3810},"]) ",{"type":421,"tag":504,"props":3812,"children":3813},{"style":511},[3814],{"type":427,"value":1660},{"type":421,"tag":504,"props":3816,"children":3817},{"class":506,"line":1402},[3818,3823,3827,3831,3835,3839,3843,3847,3851,3855,3859],{"type":421,"tag":504,"props":3819,"children":3820},{"style":517},[3821],{"type":427,"value":3822},"        node",{"type":421,"tag":504,"props":3824,"children":3825},{"style":582},[3826],{"type":427,"value":959},{"type":421,"tag":504,"props":3828,"children":3829},{"style":517},[3830],{"type":427,"value":1859},{"type":421,"tag":504,"props":3832,"children":3833},{"style":511},[3834],{"type":427,"value":695},{"type":421,"tag":504,"props":3836,"children":3837},{"style":517},[3838],{"type":427,"value":2544},{"type":421,"tag":504,"props":3840,"children":3841},{"style":975},[3842],{"type":427,"value":1873},{"type":421,"tag":504,"props":3844,"children":3845},{"style":517},[3846],{"type":427,"value":2726},{"type":421,"tag":504,"props":3848,"children":3849},{"style":975},[3850],{"type":427,"value":3091},{"type":421,"tag":504,"props":3852,"children":3853},{"style":511},[3854],{"type":427,"value":695},{"type":421,"tag":504,"props":3856,"children":3857},{"style":698},[3858],{"type":427,"value":1015},{"type":421,"tag":504,"props":3860,"children":3861},{"style":975},[3862],{"type":427,"value":978},{"type":421,"tag":504,"props":3864,"children":3865},{"class":506,"line":1445},[3866,3870,3875],{"type":421,"tag":504,"props":3867,"children":3868},{"style":511},[3869],{"type":427,"value":1636},{"type":421,"tag":504,"props":3871,"children":3872},{"style":985},[3873],{"type":427,"value":3874}," else",{"type":421,"tag":504,"props":3876,"children":3877},{"style":975},[3878],{"type":427,"value":2961},{"type":421,"tag":504,"props":3880,"children":3881},{"class":506,"line":1478},[3882],{"type":421,"tag":504,"props":3883,"children":3884},{"style":563},[3885],{"type":427,"value":3886},"    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n",{"type":421,"tag":504,"props":3888,"children":3889},{"class":506,"line":1491},[3890],{"type":421,"tag":504,"props":3891,"children":3892},{"style":563},[3893],{"type":427,"value":3894},"    // 则创建一个新元素并存到缓存中\n",{"type":421,"tag":504,"props":3896,"children":3897},{"class":506,"line":1532},[3898,3902,3906,3911,3915,3920,3924,3928,3933],{"type":421,"tag":504,"props":3899,"children":3900},{"style":985},[3901],{"type":427,"value":1899},{"type":421,"tag":504,"props":3903,"children":3904},{"style":975},[3905],{"type":427,"value":740},{"type":421,"tag":504,"props":3907,"children":3908},{"style":517},[3909],{"type":427,"value":3910},"saveClones",{"type":421,"tag":504,"props":3912,"children":3913},{"style":511},[3914],{"type":427,"value":695},{"type":421,"tag":504,"props":3916,"children":3917},{"style":698},[3918],{"type":427,"value":3919},"test",{"type":421,"tag":504,"props":3921,"children":3922},{"style":975},[3923],{"type":427,"value":520},{"type":421,"tag":504,"props":3925,"children":3926},{"style":517},[3927],{"type":427,"value":2726},{"type":421,"tag":504,"props":3929,"children":3930},{"style":975},[3931],{"type":427,"value":3932},")) ",{"type":421,"tag":504,"props":3934,"children":3935},{"style":511},[3936],{"type":427,"value":1660},{"type":421,"tag":504,"props":3938,"children":3939},{"class":506,"line":1572},[3940,3944,3948,3952,3956,3960,3964,3968,3972,3976,3980,3984,3988,3992,3996,4000,4005,4009,4013],{"type":421,"tag":504,"props":3941,"children":3942},{"style":517},[3943],{"type":427,"value":3822},{"type":421,"tag":504,"props":3945,"children":3946},{"style":582},[3947],{"type":427,"value":959},{"type":421,"tag":504,"props":3949,"children":3950},{"style":975},[3951],{"type":427,"value":740},{"type":421,"tag":504,"props":3953,"children":3954},{"style":517},[3955],{"type":427,"value":1913},{"type":421,"tag":504,"props":3957,"children":3958},{"style":511},[3959],{"type":427,"value":695},{"type":421,"tag":504,"props":3961,"children":3962},{"style":517},[3963],{"type":427,"value":2544},{"type":421,"tag":504,"props":3965,"children":3966},{"style":975},[3967],{"type":427,"value":1873},{"type":421,"tag":504,"props":3969,"children":3970},{"style":517},[3971],{"type":427,"value":2726},{"type":421,"tag":504,"props":3973,"children":3974},{"style":975},[3975],{"type":427,"value":1971},{"type":421,"tag":504,"props":3977,"children":3978},{"style":582},[3979],{"type":427,"value":686},{"type":421,"tag":504,"props":3981,"children":3982},{"style":517},[3983],{"type":427,"value":1859},{"type":421,"tag":504,"props":3985,"children":3986},{"style":511},[3987],{"type":427,"value":695},{"type":421,"tag":504,"props":3989,"children":3990},{"style":698},[3991],{"type":427,"value":2591},{"type":421,"tag":504,"props":3993,"children":3994},{"style":975},[3995],{"type":427,"value":520},{"type":421,"tag":504,"props":3997,"children":3998},{"style":517},[3999],{"type":427,"value":2726},{"type":421,"tag":504,"props":4001,"children":4002},{"style":975},[4003],{"type":427,"value":4004},"))",{"type":421,"tag":504,"props":4006,"children":4007},{"style":511},[4008],{"type":427,"value":695},{"type":421,"tag":504,"props":4010,"children":4011},{"style":698},[4012],{"type":427,"value":1015},{"type":421,"tag":504,"props":4014,"children":4015},{"style":975},[4016],{"type":427,"value":978},{"type":421,"tag":504,"props":4018,"children":4019},{"class":506,"line":1608},[4020,4024,4028],{"type":421,"tag":504,"props":4021,"children":4022},{"style":511},[4023],{"type":427,"value":1636},{"type":421,"tag":504,"props":4025,"children":4026},{"style":985},[4027],{"type":427,"value":3874},{"type":421,"tag":504,"props":4029,"children":4030},{"style":975},[4031],{"type":427,"value":2961},{"type":421,"tag":504,"props":4033,"children":4034},{"class":506,"line":1617},[4035],{"type":421,"tag":504,"props":4036,"children":4037},{"style":563},[4038],{"type":427,"value":4039},"    // 如果是不能被克隆的对象，那就直接创建吧...\n",{"type":421,"tag":504,"props":4041,"children":4042},{"class":506,"line":1630},[4043],{"type":421,"tag":504,"props":4044,"children":4045},{"style":511},[4046],{"type":427,"value":4047},"    {\n",{"type":421,"tag":504,"props":4049,"children":4050},{"class":506,"line":1663},[4051,4055,4059,4063,4067,4071,4075,4079],{"type":421,"tag":504,"props":4052,"children":4053},{"style":517},[4054],{"type":427,"value":3822},{"type":421,"tag":504,"props":4056,"children":4057},{"style":582},[4058],{"type":427,"value":959},{"type":421,"tag":504,"props":4060,"children":4061},{"style":517},[4062],{"type":427,"value":1859},{"type":421,"tag":504,"props":4064,"children":4065},{"style":511},[4066],{"type":427,"value":695},{"type":421,"tag":504,"props":4068,"children":4069},{"style":698},[4070],{"type":427,"value":2591},{"type":421,"tag":504,"props":4072,"children":4073},{"style":975},[4074],{"type":427,"value":520},{"type":421,"tag":504,"props":4076,"children":4077},{"style":517},[4078],{"type":427,"value":2726},{"type":421,"tag":504,"props":4080,"children":4081},{"style":975},[4082],{"type":427,"value":723},{"type":421,"tag":504,"props":4084,"children":4085},{"class":506,"line":1672},[4086],{"type":421,"tag":504,"props":4087,"children":4088},{"style":511},[4089],{"type":427,"value":1712},{"type":421,"tag":504,"props":4091,"children":4092},{"class":506,"line":1690},[4093],{"type":421,"tag":504,"props":4094,"children":4095},{"emptyLinePlaceholder":414},[4096],{"type":427,"value":1322},{"type":421,"tag":504,"props":4098,"children":4099},{"class":506,"line":1706},[4100],{"type":421,"tag":504,"props":4101,"children":4102},{"style":563},[4103],{"type":427,"value":4104},"    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n",{"type":421,"tag":504,"props":4106,"children":4107},{"class":506,"line":1715},[4108],{"type":421,"tag":504,"props":4109,"children":4110},{"style":563},[4111],{"type":427,"value":4112},"    // Avoid adding some elements to fragments in IE \u003C 9 because\n",{"type":421,"tag":504,"props":4114,"children":4115},{"class":506,"line":3004},[4116],{"type":421,"tag":504,"props":4117,"children":4118},{"style":563},[4119],{"type":427,"value":4120},"    // * Attributes like `name` or `type` cannot be set/changed once an element\n",{"type":421,"tag":504,"props":4122,"children":4123},{"class":506,"line":3025},[4124],{"type":421,"tag":504,"props":4125,"children":4126},{"style":563},[4127],{"type":427,"value":4128},"    //   is inserted into a document/fragment\n",{"type":421,"tag":504,"props":4130,"children":4131},{"class":506,"line":3034},[4132],{"type":421,"tag":504,"props":4133,"children":4134},{"style":563},[4135],{"type":427,"value":4136},"    // * Link elements with `src` attributes that are inaccessible, as with\n",{"type":421,"tag":504,"props":4138,"children":4139},{"class":506,"line":3133},[4140],{"type":421,"tag":504,"props":4141,"children":4142},{"style":563},[4143],{"type":427,"value":4144},"    //   a 403 response, will cause the tab/window to crash\n",{"type":421,"tag":504,"props":4146,"children":4147},{"class":506,"line":3162},[4148],{"type":421,"tag":504,"props":4149,"children":4150},{"style":563},[4151],{"type":427,"value":4152},"    // * Script elements appended to fragments will execute when their `src`\n",{"type":421,"tag":504,"props":4154,"children":4155},{"class":506,"line":3198},[4156],{"type":421,"tag":504,"props":4157,"children":4158},{"style":563},[4159],{"type":427,"value":4160},"    //   or `text` property is set\n",{"type":421,"tag":504,"props":4162,"children":4163},{"class":506,"line":3246},[4164,4168,4173,4177,4182,4186,4190,4195,4199,4203,4207,4211,4215,4220,4224,4229,4233,4238],{"type":421,"tag":504,"props":4165,"children":4166},{"style":985},[4167],{"type":427,"value":988},{"type":421,"tag":504,"props":4169,"children":4170},{"style":517},[4171],{"type":427,"value":4172}," node",{"type":421,"tag":504,"props":4174,"children":4175},{"style":511},[4176],{"type":427,"value":695},{"type":421,"tag":504,"props":4178,"children":4179},{"style":517},[4180],{"type":427,"value":4181},"canHaveChildren",{"type":421,"tag":504,"props":4183,"children":4184},{"style":582},[4185],{"type":427,"value":2160},{"type":421,"tag":504,"props":4187,"children":4188},{"style":582},[4189],{"type":427,"value":2165},{"type":421,"tag":504,"props":4191,"children":4192},{"style":517},[4193],{"type":427,"value":4194},"reSkip",{"type":421,"tag":504,"props":4196,"children":4197},{"style":511},[4198],{"type":427,"value":695},{"type":421,"tag":504,"props":4200,"children":4201},{"style":698},[4202],{"type":427,"value":3919},{"type":421,"tag":504,"props":4204,"children":4205},{"style":975},[4206],{"type":427,"value":520},{"type":421,"tag":504,"props":4208,"children":4209},{"style":517},[4210],{"type":427,"value":2726},{"type":421,"tag":504,"props":4212,"children":4213},{"style":975},[4214],{"type":427,"value":1655},{"type":421,"tag":504,"props":4216,"children":4217},{"style":582},[4218],{"type":427,"value":4219},"&&",{"type":421,"tag":504,"props":4221,"children":4222},{"style":582},[4223],{"type":427,"value":2165},{"type":421,"tag":504,"props":4225,"children":4226},{"style":517},[4227],{"type":427,"value":4228},"node",{"type":421,"tag":504,"props":4230,"children":4231},{"style":511},[4232],{"type":427,"value":695},{"type":421,"tag":504,"props":4234,"children":4235},{"style":517},[4236],{"type":427,"value":4237},"tagUrn",{"type":421,"tag":504,"props":4239,"children":4240},{"style":975},[4241],{"type":427,"value":2961},{"type":421,"tag":504,"props":4243,"children":4244},{"class":506,"line":3264},[4245,4250,4254,4258,4262,4266,4271,4275,4279],{"type":421,"tag":504,"props":4246,"children":4247},{"style":582},[4248],{"type":427,"value":4249},"        ?",{"type":421,"tag":504,"props":4251,"children":4252},{"style":517},[4253],{"type":427,"value":1859},{"type":421,"tag":504,"props":4255,"children":4256},{"style":511},[4257],{"type":427,"value":695},{"type":421,"tag":504,"props":4259,"children":4260},{"style":517},[4261],{"type":427,"value":2658},{"type":421,"tag":504,"props":4263,"children":4264},{"style":511},[4265],{"type":427,"value":695},{"type":421,"tag":504,"props":4267,"children":4268},{"style":698},[4269],{"type":427,"value":4270},"appendChild",{"type":421,"tag":504,"props":4272,"children":4273},{"style":975},[4274],{"type":427,"value":520},{"type":421,"tag":504,"props":4276,"children":4277},{"style":517},[4278],{"type":427,"value":4228},{"type":421,"tag":504,"props":4280,"children":4281},{"style":975},[4282],{"type":427,"value":4283},") \n",{"type":421,"tag":504,"props":4285,"children":4286},{"class":506,"line":3285},[4287,4292],{"type":421,"tag":504,"props":4288,"children":4289},{"style":582},[4290],{"type":427,"value":4291},"        :",{"type":421,"tag":504,"props":4293,"children":4294},{"style":517},[4295],{"type":427,"value":3759},{"type":421,"tag":504,"props":4297,"children":4298},{"class":506,"line":3301},[4299],{"type":421,"tag":504,"props":4300,"children":4301},{"style":511},[4302],{"type":427,"value":2036},{"type":421,"tag":435,"props":4304,"children":4305},{},[4306],{"type":427,"value":4307},"和 createElement 类似，createDocumentFragment 也需要仿制。",{"type":421,"tag":493,"props":4309,"children":4311},{"className":495,"code":4310,"language":497,"meta":415,"style":415},"function createDocumentFragment(ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment()\n    }\n    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n    data = data || getExpandoData(ownerDocument)\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length\n    for(;i\u003Cl;i++){\n        // 返回的 documentFragment 包含了所有 shived 元素\n        clone.createElement(elems[i])\n    }\n    return clone\n  }\n",[4312],{"type":421,"tag":500,"props":4313,"children":4314},{"__ignoreMap":415},[4315,4347,4370,4393,4400,4408,4444,4488,4509,4534,4560,4612,4620,4658,4665,4677],{"type":421,"tag":504,"props":4316,"children":4317},{"class":506,"line":507},[4318,4322,4327,4331,4335,4339,4343],{"type":421,"tag":504,"props":4319,"children":4320},{"style":523},[4321],{"type":427,"value":526},{"type":421,"tag":504,"props":4323,"children":4324},{"style":698},[4325],{"type":427,"value":4326}," createDocumentFragment",{"type":421,"tag":504,"props":4328,"children":4329},{"style":511},[4330],{"type":427,"value":520},{"type":421,"tag":504,"props":4332,"children":4333},{"style":533},[4334],{"type":427,"value":1839},{"type":421,"tag":504,"props":4336,"children":4337},{"style":511},[4338],{"type":427,"value":541},{"type":421,"tag":504,"props":4340,"children":4341},{"style":533},[4342],{"type":427,"value":1859},{"type":421,"tag":504,"props":4344,"children":4345},{"style":511},[4346],{"type":427,"value":3624},{"type":421,"tag":504,"props":4348,"children":4349},{"class":506,"line":559},[4350,4354,4358,4362,4366],{"type":421,"tag":504,"props":4351,"children":4352},{"style":985},[4353],{"type":427,"value":1899},{"type":421,"tag":504,"props":4355,"children":4356},{"style":975},[4357],{"type":427,"value":520},{"type":421,"tag":504,"props":4359,"children":4360},{"style":517},[4361],{"type":427,"value":2390},{"type":421,"tag":504,"props":4363,"children":4364},{"style":975},[4365],{"type":427,"value":551},{"type":421,"tag":504,"props":4367,"children":4368},{"style":511},[4369],{"type":427,"value":1660},{"type":421,"tag":504,"props":4371,"children":4372},{"class":506,"line":569},[4373,4377,4381,4385,4389],{"type":421,"tag":504,"props":4374,"children":4375},{"style":985},[4376],{"type":427,"value":3655},{"type":421,"tag":504,"props":4378,"children":4379},{"style":517},[4380],{"type":427,"value":2600},{"type":421,"tag":504,"props":4382,"children":4383},{"style":511},[4384],{"type":427,"value":695},{"type":421,"tag":504,"props":4386,"children":4387},{"style":698},[4388],{"type":427,"value":972},{"type":421,"tag":504,"props":4390,"children":4391},{"style":975},[4392],{"type":427,"value":978},{"type":421,"tag":504,"props":4394,"children":4395},{"class":506,"line":943},[4396],{"type":421,"tag":504,"props":4397,"children":4398},{"style":511},[4399],{"type":427,"value":1712},{"type":421,"tag":504,"props":4401,"children":4402},{"class":506,"line":981},[4403],{"type":421,"tag":504,"props":4404,"children":4405},{"style":563},[4406],{"type":427,"value":4407},"    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n",{"type":421,"tag":504,"props":4409,"children":4410},{"class":506,"line":996},[4411,4416,4420,4424,4428,4432,4436,4440],{"type":421,"tag":504,"props":4412,"children":4413},{"style":517},[4414],{"type":427,"value":4415},"    data",{"type":421,"tag":504,"props":4417,"children":4418},{"style":582},[4419],{"type":427,"value":959},{"type":421,"tag":504,"props":4421,"children":4422},{"style":517},[4423],{"type":427,"value":1859},{"type":421,"tag":504,"props":4425,"children":4426},{"style":582},[4427],{"type":427,"value":923},{"type":421,"tag":504,"props":4429,"children":4430},{"style":698},[4431],{"type":427,"value":1830},{"type":421,"tag":504,"props":4433,"children":4434},{"style":975},[4435],{"type":427,"value":520},{"type":421,"tag":504,"props":4437,"children":4438},{"style":517},[4439],{"type":427,"value":1839},{"type":421,"tag":504,"props":4441,"children":4442},{"style":975},[4443],{"type":427,"value":723},{"type":421,"tag":504,"props":4445,"children":4446},{"class":506,"line":1039},[4447,4451,4456,4460,4464,4468,4472,4476,4480,4484],{"type":421,"tag":504,"props":4448,"children":4449},{"style":523},[4450],{"type":427,"value":949},{"type":421,"tag":504,"props":4452,"children":4453},{"style":517},[4454],{"type":427,"value":4455}," clone",{"type":421,"tag":504,"props":4457,"children":4458},{"style":582},[4459],{"type":427,"value":959},{"type":421,"tag":504,"props":4461,"children":4462},{"style":517},[4463],{"type":427,"value":1859},{"type":421,"tag":504,"props":4465,"children":4466},{"style":511},[4467],{"type":427,"value":695},{"type":421,"tag":504,"props":4469,"children":4470},{"style":517},[4471],{"type":427,"value":2658},{"type":421,"tag":504,"props":4473,"children":4474},{"style":511},[4475],{"type":427,"value":695},{"type":421,"tag":504,"props":4477,"children":4478},{"style":698},[4479],{"type":427,"value":1015},{"type":421,"tag":504,"props":4481,"children":4482},{"style":975},[4483],{"type":427,"value":936},{"type":421,"tag":504,"props":4485,"children":4486},{"style":511},[4487],{"type":427,"value":2242},{"type":421,"tag":504,"props":4489,"children":4490},{"class":506,"line":1079},[4491,4496,4500,4505],{"type":421,"tag":504,"props":4492,"children":4493},{"style":517},[4494],{"type":427,"value":4495},"        i",{"type":421,"tag":504,"props":4497,"children":4498},{"style":582},[4499],{"type":427,"value":959},{"type":421,"tag":504,"props":4501,"children":4502},{"style":915},[4503],{"type":427,"value":4504}," 0",{"type":421,"tag":504,"props":4506,"children":4507},{"style":511},[4508],{"type":427,"value":2242},{"type":421,"tag":504,"props":4510,"children":4511},{"class":506,"line":1115},[4512,4517,4521,4526,4530],{"type":421,"tag":504,"props":4513,"children":4514},{"style":517},[4515],{"type":427,"value":4516},"        elems",{"type":421,"tag":504,"props":4518,"children":4519},{"style":582},[4520],{"type":427,"value":959},{"type":421,"tag":504,"props":4522,"children":4523},{"style":698},[4524],{"type":427,"value":4525}," getElements",{"type":421,"tag":504,"props":4527,"children":4528},{"style":975},[4529],{"type":427,"value":936},{"type":421,"tag":504,"props":4531,"children":4532},{"style":511},[4533],{"type":427,"value":2242},{"type":421,"tag":504,"props":4535,"children":4536},{"class":506,"line":1124},[4537,4542,4546,4551,4555],{"type":421,"tag":504,"props":4538,"children":4539},{"style":517},[4540],{"type":427,"value":4541},"        l",{"type":421,"tag":504,"props":4543,"children":4544},{"style":582},[4545],{"type":427,"value":959},{"type":421,"tag":504,"props":4547,"children":4548},{"style":517},[4549],{"type":427,"value":4550}," elems",{"type":421,"tag":504,"props":4552,"children":4553},{"style":511},[4554],{"type":427,"value":695},{"type":421,"tag":504,"props":4556,"children":4557},{"style":904},[4558],{"type":427,"value":4559},"length\n",{"type":421,"tag":504,"props":4561,"children":4562},{"class":506,"line":1393},[4563,4568,4572,4576,4581,4586,4591,4595,4599,4604,4608],{"type":421,"tag":504,"props":4564,"children":4565},{"style":985},[4566],{"type":427,"value":4567},"    for",{"type":421,"tag":504,"props":4569,"children":4570},{"style":975},[4571],{"type":427,"value":520},{"type":421,"tag":504,"props":4573,"children":4574},{"style":511},[4575],{"type":427,"value":514},{"type":421,"tag":504,"props":4577,"children":4578},{"style":517},[4579],{"type":427,"value":4580},"i",{"type":421,"tag":504,"props":4582,"children":4583},{"style":582},[4584],{"type":427,"value":4585},"\u003C",{"type":421,"tag":504,"props":4587,"children":4588},{"style":517},[4589],{"type":427,"value":4590},"l",{"type":421,"tag":504,"props":4592,"children":4593},{"style":511},[4594],{"type":427,"value":514},{"type":421,"tag":504,"props":4596,"children":4597},{"style":517},[4598],{"type":427,"value":4580},{"type":421,"tag":504,"props":4600,"children":4601},{"style":582},[4602],{"type":427,"value":4603},"++",{"type":421,"tag":504,"props":4605,"children":4606},{"style":975},[4607],{"type":427,"value":551},{"type":421,"tag":504,"props":4609,"children":4610},{"style":511},[4611],{"type":427,"value":1660},{"type":421,"tag":504,"props":4613,"children":4614},{"class":506,"line":1402},[4615],{"type":421,"tag":504,"props":4616,"children":4617},{"style":563},[4618],{"type":427,"value":4619},"        // 返回的 documentFragment 包含了所有 shived 元素\n",{"type":421,"tag":504,"props":4621,"children":4622},{"class":506,"line":1445},[4623,4628,4632,4636,4640,4645,4649,4653],{"type":421,"tag":504,"props":4624,"children":4625},{"style":517},[4626],{"type":427,"value":4627},"        clone",{"type":421,"tag":504,"props":4629,"children":4630},{"style":511},[4631],{"type":427,"value":695},{"type":421,"tag":504,"props":4633,"children":4634},{"style":698},[4635],{"type":427,"value":701},{"type":421,"tag":504,"props":4637,"children":4638},{"style":975},[4639],{"type":427,"value":520},{"type":421,"tag":504,"props":4641,"children":4642},{"style":517},[4643],{"type":427,"value":4644},"elems",{"type":421,"tag":504,"props":4646,"children":4647},{"style":975},[4648],{"type":427,"value":1873},{"type":421,"tag":504,"props":4650,"children":4651},{"style":517},[4652],{"type":427,"value":4580},{"type":421,"tag":504,"props":4654,"children":4655},{"style":975},[4656],{"type":427,"value":4657},"])\n",{"type":421,"tag":504,"props":4659,"children":4660},{"class":506,"line":1478},[4661],{"type":421,"tag":504,"props":4662,"children":4663},{"style":511},[4664],{"type":427,"value":1712},{"type":421,"tag":504,"props":4666,"children":4667},{"class":506,"line":1491},[4668,4672],{"type":421,"tag":504,"props":4669,"children":4670},{"style":985},[4671],{"type":427,"value":988},{"type":421,"tag":504,"props":4673,"children":4674},{"style":517},[4675],{"type":427,"value":4676}," clone\n",{"type":421,"tag":504,"props":4678,"children":4679},{"class":506,"line":1532},[4680],{"type":421,"tag":504,"props":4681,"children":4682},{"style":511},[4683],{"type":427,"value":2036},{"type":421,"tag":435,"props":4685,"children":4686},{},[4687],{"type":427,"value":4688},"可以发现，需要 shiv 的元素都存在了 getElements 这个方法中，我们来看看具体实现。",{"type":421,"tag":493,"props":4690,"children":4692},{"className":495,"code":4691,"language":497,"meta":415,"style":415},"// getElements 返回 html5.elments 的数组形式\n// 看来 getElements 也只是一个类似 getter 的存在\nfunction getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\n\n// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\nvar html5 = {\n    // options 是外部调用 html5shiv 的接口参数\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'\n}\n",[4693],{"type":421,"tag":500,"props":4694,"children":4695},{"__ignoreMap":415},[4696,4704,4712,4731,4765,4843,4851,4858,4866,4886,4894,4947],{"type":421,"tag":504,"props":4697,"children":4698},{"class":506,"line":507},[4699],{"type":421,"tag":504,"props":4700,"children":4701},{"style":563},[4702],{"type":427,"value":4703},"// getElements 返回 html5.elments 的数组形式\n",{"type":421,"tag":504,"props":4705,"children":4706},{"class":506,"line":559},[4707],{"type":421,"tag":504,"props":4708,"children":4709},{"style":563},[4710],{"type":427,"value":4711},"// 看来 getElements 也只是一个类似 getter 的存在\n",{"type":421,"tag":504,"props":4713,"children":4714},{"class":506,"line":569},[4715,4719,4723,4727],{"type":421,"tag":504,"props":4716,"children":4717},{"style":523},[4718],{"type":427,"value":526},{"type":421,"tag":504,"props":4720,"children":4721},{"style":698},[4722],{"type":427,"value":4525},{"type":421,"tag":504,"props":4724,"children":4725},{"style":511},[4726],{"type":427,"value":936},{"type":421,"tag":504,"props":4728,"children":4729},{"style":511},[4730],{"type":427,"value":556},{"type":421,"tag":504,"props":4732,"children":4733},{"class":506,"line":943},[4734,4738,4743,4747,4752,4756,4761],{"type":421,"tag":504,"props":4735,"children":4736},{"style":523},[4737],{"type":427,"value":949},{"type":421,"tag":504,"props":4739,"children":4740},{"style":517},[4741],{"type":427,"value":4742}," elements",{"type":421,"tag":504,"props":4744,"children":4745},{"style":582},[4746],{"type":427,"value":959},{"type":421,"tag":504,"props":4748,"children":4749},{"style":517},[4750],{"type":427,"value":4751}," html5",{"type":421,"tag":504,"props":4753,"children":4754},{"style":511},[4755],{"type":427,"value":695},{"type":421,"tag":504,"props":4757,"children":4758},{"style":517},[4759],{"type":427,"value":4760},"elements",{"type":421,"tag":504,"props":4762,"children":4763},{"style":511},[4764],{"type":427,"value":646},{"type":421,"tag":504,"props":4766,"children":4767},{"class":506,"line":981},[4768,4772,4777,4781,4785,4789,4794,4798,4802,4806,4810,4815,4819,4823,4827,4831,4835,4839],{"type":421,"tag":504,"props":4769,"children":4770},{"style":985},[4771],{"type":427,"value":988},{"type":421,"tag":504,"props":4773,"children":4774},{"style":582},[4775],{"type":427,"value":4776}," typeof",{"type":421,"tag":504,"props":4778,"children":4779},{"style":517},[4780],{"type":427,"value":4742},{"type":421,"tag":504,"props":4782,"children":4783},{"style":582},[4784],{"type":427,"value":912},{"type":421,"tag":504,"props":4786,"children":4787},{"style":598},[4788],{"type":427,"value":861},{"type":421,"tag":504,"props":4790,"children":4791},{"style":604},[4792],{"type":427,"value":4793},"string",{"type":421,"tag":504,"props":4795,"children":4796},{"style":598},[4797],{"type":427,"value":710},{"type":421,"tag":504,"props":4799,"children":4800},{"style":582},[4801],{"type":427,"value":617},{"type":421,"tag":504,"props":4803,"children":4804},{"style":517},[4805],{"type":427,"value":4742},{"type":421,"tag":504,"props":4807,"children":4808},{"style":511},[4809],{"type":427,"value":695},{"type":421,"tag":504,"props":4811,"children":4812},{"style":698},[4813],{"type":427,"value":4814},"split",{"type":421,"tag":504,"props":4816,"children":4817},{"style":975},[4818],{"type":427,"value":520},{"type":421,"tag":504,"props":4820,"children":4821},{"style":598},[4822],{"type":427,"value":710},{"type":421,"tag":504,"props":4824,"children":4825},{"style":598},[4826],{"type":427,"value":861},{"type":421,"tag":504,"props":4828,"children":4829},{"style":975},[4830],{"type":427,"value":1655},{"type":421,"tag":504,"props":4832,"children":4833},{"style":582},[4834],{"type":427,"value":626},{"type":421,"tag":504,"props":4836,"children":4837},{"style":517},[4838],{"type":427,"value":4742},{"type":421,"tag":504,"props":4840,"children":4841},{"style":511},[4842],{"type":427,"value":646},{"type":421,"tag":504,"props":4844,"children":4845},{"class":506,"line":996},[4846],{"type":421,"tag":504,"props":4847,"children":4848},{"style":511},[4849],{"type":427,"value":4850},"}\n",{"type":421,"tag":504,"props":4852,"children":4853},{"class":506,"line":1039},[4854],{"type":421,"tag":504,"props":4855,"children":4856},{"emptyLinePlaceholder":414},[4857],{"type":427,"value":1322},{"type":421,"tag":504,"props":4859,"children":4860},{"class":506,"line":1079},[4861],{"type":421,"tag":504,"props":4862,"children":4863},{"style":563},[4864],{"type":427,"value":4865},"// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\n",{"type":421,"tag":504,"props":4867,"children":4868},{"class":506,"line":1115},[4869,4873,4878,4882],{"type":421,"tag":504,"props":4870,"children":4871},{"style":523},[4872],{"type":427,"value":1754},{"type":421,"tag":504,"props":4874,"children":4875},{"style":517},[4876],{"type":427,"value":4877}," html5 ",{"type":421,"tag":504,"props":4879,"children":4880},{"style":582},[4881],{"type":427,"value":686},{"type":421,"tag":504,"props":4883,"children":4884},{"style":511},[4885],{"type":427,"value":556},{"type":421,"tag":504,"props":4887,"children":4888},{"class":506,"line":1124},[4889],{"type":421,"tag":504,"props":4890,"children":4891},{"style":563},[4892],{"type":427,"value":4893},"    // options 是外部调用 html5shiv 的接口参数\n",{"type":421,"tag":504,"props":4895,"children":4896},{"class":506,"line":1393},[4897,4902,4907,4911,4915,4920,4924,4929,4934,4938,4943],{"type":421,"tag":504,"props":4898,"children":4899},{"style":598},[4900],{"type":427,"value":4901},"    '",{"type":421,"tag":504,"props":4903,"children":4905},{"style":4904},"--shiki-light:#E53935;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[4906],{"type":427,"value":4760},{"type":421,"tag":504,"props":4908,"children":4909},{"style":598},[4910],{"type":427,"value":710},{"type":421,"tag":504,"props":4912,"children":4913},{"style":511},[4914],{"type":427,"value":626},{"type":421,"tag":504,"props":4916,"children":4917},{"style":517},[4918],{"type":427,"value":4919}," options",{"type":421,"tag":504,"props":4921,"children":4922},{"style":511},[4923],{"type":427,"value":695},{"type":421,"tag":504,"props":4925,"children":4926},{"style":517},[4927],{"type":427,"value":4928},"elements ",{"type":421,"tag":504,"props":4930,"children":4931},{"style":582},[4932],{"type":427,"value":4933},"||",{"type":421,"tag":504,"props":4935,"children":4936},{"style":598},[4937],{"type":427,"value":861},{"type":421,"tag":504,"props":4939,"children":4940},{"style":604},[4941],{"type":427,"value":4942},"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",{"type":421,"tag":504,"props":4944,"children":4945},{"style":598},[4946],{"type":427,"value":871},{"type":421,"tag":504,"props":4948,"children":4949},{"class":506,"line":1402},[4950],{"type":421,"tag":504,"props":4951,"children":4952},{"style":511},[4953],{"type":427,"value":4850},{"type":421,"tag":482,"props":4955,"children":4957},{"id":4956},"私有方法",[4958],{"type":427,"value":4956},{"type":421,"tag":435,"props":4960,"children":4961},{},[4962],{"type":427,"value":4963},"接下来是几个私有方法。和 shiv 原理不相关，所以不重要。",{"type":421,"tag":493,"props":4965,"children":4967},{"className":495,"code":4966,"language":497,"meta":415,"style":415},"/**\n * Creates a style sheet with the given CSS text and adds it to the document.\n * 在文档头部添加样式标签\n */\nfunction addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement\n    // ? 这个 'x' 应该是兼容性考虑\n    p.innerHTML = 'x\u003Cstyle>' + cssText + '\u003C/style>'\n    return parent.insertBefore(p.lastChild, parent.firstChild)\n}\n",[4968],{"type":421,"tag":500,"props":4969,"children":4970},{"__ignoreMap":415},[4971,4979,4987,4995,5003,5040,5092,5165,5173,5231,5290],{"type":421,"tag":504,"props":4972,"children":4973},{"class":506,"line":507},[4974],{"type":421,"tag":504,"props":4975,"children":4976},{"style":563},[4977],{"type":427,"value":4978},"/**\n",{"type":421,"tag":504,"props":4980,"children":4981},{"class":506,"line":559},[4982],{"type":421,"tag":504,"props":4983,"children":4984},{"style":563},[4985],{"type":427,"value":4986}," * Creates a style sheet with the given CSS text and adds it to the document.\n",{"type":421,"tag":504,"props":4988,"children":4989},{"class":506,"line":569},[4990],{"type":421,"tag":504,"props":4991,"children":4992},{"style":563},[4993],{"type":427,"value":4994}," * 在文档头部添加样式标签\n",{"type":421,"tag":504,"props":4996,"children":4997},{"class":506,"line":943},[4998],{"type":421,"tag":504,"props":4999,"children":5000},{"style":563},[5001],{"type":427,"value":5002}," */\n",{"type":421,"tag":504,"props":5004,"children":5005},{"class":506,"line":981},[5006,5010,5015,5019,5023,5027,5032,5036],{"type":421,"tag":504,"props":5007,"children":5008},{"style":523},[5009],{"type":427,"value":526},{"type":421,"tag":504,"props":5011,"children":5012},{"style":698},[5013],{"type":427,"value":5014}," addStyleSheet",{"type":421,"tag":504,"props":5016,"children":5017},{"style":511},[5018],{"type":427,"value":520},{"type":421,"tag":504,"props":5020,"children":5021},{"style":533},[5022],{"type":427,"value":1839},{"type":421,"tag":504,"props":5024,"children":5025},{"style":511},[5026],{"type":427,"value":541},{"type":421,"tag":504,"props":5028,"children":5029},{"style":533},[5030],{"type":427,"value":5031}," cssText",{"type":421,"tag":504,"props":5033,"children":5034},{"style":511},[5035],{"type":427,"value":551},{"type":421,"tag":504,"props":5037,"children":5038},{"style":511},[5039],{"type":427,"value":556},{"type":421,"tag":504,"props":5041,"children":5042},{"class":506,"line":996},[5043,5047,5052,5056,5060,5064,5068,5072,5076,5080,5084,5088],{"type":421,"tag":504,"props":5044,"children":5045},{"style":523},[5046],{"type":427,"value":949},{"type":421,"tag":504,"props":5048,"children":5049},{"style":517},[5050],{"type":427,"value":5051}," p",{"type":421,"tag":504,"props":5053,"children":5054},{"style":582},[5055],{"type":427,"value":959},{"type":421,"tag":504,"props":5057,"children":5058},{"style":517},[5059],{"type":427,"value":2600},{"type":421,"tag":504,"props":5061,"children":5062},{"style":511},[5063],{"type":427,"value":695},{"type":421,"tag":504,"props":5065,"children":5066},{"style":698},[5067],{"type":427,"value":701},{"type":421,"tag":504,"props":5069,"children":5070},{"style":975},[5071],{"type":427,"value":520},{"type":421,"tag":504,"props":5073,"children":5074},{"style":598},[5075],{"type":427,"value":710},{"type":421,"tag":504,"props":5077,"children":5078},{"style":604},[5079],{"type":427,"value":435},{"type":421,"tag":504,"props":5081,"children":5082},{"style":598},[5083],{"type":427,"value":710},{"type":421,"tag":504,"props":5085,"children":5086},{"style":975},[5087],{"type":427,"value":551},{"type":421,"tag":504,"props":5089,"children":5090},{"style":511},[5091],{"type":427,"value":2242},{"type":421,"tag":504,"props":5093,"children":5094},{"class":506,"line":1039},[5095,5100,5104,5108,5112,5117,5121,5125,5130,5134,5139,5144,5148,5152,5156,5160],{"type":421,"tag":504,"props":5096,"children":5097},{"style":517},[5098],{"type":427,"value":5099},"        parent",{"type":421,"tag":504,"props":5101,"children":5102},{"style":582},[5103],{"type":427,"value":959},{"type":421,"tag":504,"props":5105,"children":5106},{"style":517},[5107],{"type":427,"value":2600},{"type":421,"tag":504,"props":5109,"children":5110},{"style":511},[5111],{"type":427,"value":695},{"type":421,"tag":504,"props":5113,"children":5114},{"style":698},[5115],{"type":427,"value":5116},"getElementsByTagName",{"type":421,"tag":504,"props":5118,"children":5119},{"style":975},[5120],{"type":427,"value":520},{"type":421,"tag":504,"props":5122,"children":5123},{"style":598},[5124],{"type":427,"value":710},{"type":421,"tag":504,"props":5126,"children":5127},{"style":604},[5128],{"type":427,"value":5129},"head",{"type":421,"tag":504,"props":5131,"children":5132},{"style":598},[5133],{"type":427,"value":710},{"type":421,"tag":504,"props":5135,"children":5136},{"style":975},[5137],{"type":427,"value":5138},")[",{"type":421,"tag":504,"props":5140,"children":5141},{"style":915},[5142],{"type":427,"value":5143},"0",{"type":421,"tag":504,"props":5145,"children":5146},{"style":975},[5147],{"type":427,"value":1971},{"type":421,"tag":504,"props":5149,"children":5150},{"style":582},[5151],{"type":427,"value":4933},{"type":421,"tag":504,"props":5153,"children":5154},{"style":517},[5155],{"type":427,"value":2600},{"type":421,"tag":504,"props":5157,"children":5158},{"style":511},[5159],{"type":427,"value":695},{"type":421,"tag":504,"props":5161,"children":5162},{"style":517},[5163],{"type":427,"value":5164},"documentElement\n",{"type":421,"tag":504,"props":5166,"children":5167},{"class":506,"line":1079},[5168],{"type":421,"tag":504,"props":5169,"children":5170},{"style":563},[5171],{"type":427,"value":5172},"    // ? 这个 'x' 应该是兼容性考虑\n",{"type":421,"tag":504,"props":5174,"children":5175},{"class":506,"line":1115},[5176,5181,5185,5189,5193,5197,5202,5206,5210,5214,5218,5222,5227],{"type":421,"tag":504,"props":5177,"children":5178},{"style":517},[5179],{"type":427,"value":5180},"    p",{"type":421,"tag":504,"props":5182,"children":5183},{"style":511},[5184],{"type":427,"value":695},{"type":421,"tag":504,"props":5186,"children":5187},{"style":517},[5188],{"type":427,"value":1242},{"type":421,"tag":504,"props":5190,"children":5191},{"style":582},[5192],{"type":427,"value":959},{"type":421,"tag":504,"props":5194,"children":5195},{"style":598},[5196],{"type":427,"value":861},{"type":421,"tag":504,"props":5198,"children":5199},{"style":604},[5200],{"type":427,"value":5201},"x\u003Cstyle>",{"type":421,"tag":504,"props":5203,"children":5204},{"style":598},[5205],{"type":427,"value":710},{"type":421,"tag":504,"props":5207,"children":5208},{"style":582},[5209],{"type":427,"value":3221},{"type":421,"tag":504,"props":5211,"children":5212},{"style":517},[5213],{"type":427,"value":5031},{"type":421,"tag":504,"props":5215,"children":5216},{"style":582},[5217],{"type":427,"value":3221},{"type":421,"tag":504,"props":5219,"children":5220},{"style":598},[5221],{"type":427,"value":861},{"type":421,"tag":504,"props":5223,"children":5224},{"style":604},[5225],{"type":427,"value":5226},"\u003C/style>",{"type":421,"tag":504,"props":5228,"children":5229},{"style":598},[5230],{"type":427,"value":871},{"type":421,"tag":504,"props":5232,"children":5233},{"class":506,"line":1124},[5234,5238,5243,5247,5252,5256,5260,5264,5269,5273,5277,5281,5286],{"type":421,"tag":504,"props":5235,"children":5236},{"style":985},[5237],{"type":427,"value":988},{"type":421,"tag":504,"props":5239,"children":5240},{"style":517},[5241],{"type":427,"value":5242}," parent",{"type":421,"tag":504,"props":5244,"children":5245},{"style":511},[5246],{"type":427,"value":695},{"type":421,"tag":504,"props":5248,"children":5249},{"style":698},[5250],{"type":427,"value":5251},"insertBefore",{"type":421,"tag":504,"props":5253,"children":5254},{"style":975},[5255],{"type":427,"value":520},{"type":421,"tag":504,"props":5257,"children":5258},{"style":517},[5259],{"type":427,"value":435},{"type":421,"tag":504,"props":5261,"children":5262},{"style":511},[5263],{"type":427,"value":695},{"type":421,"tag":504,"props":5265,"children":5266},{"style":517},[5267],{"type":427,"value":5268},"lastChild",{"type":421,"tag":504,"props":5270,"children":5271},{"style":511},[5272],{"type":427,"value":541},{"type":421,"tag":504,"props":5274,"children":5275},{"style":517},[5276],{"type":427,"value":5242},{"type":421,"tag":504,"props":5278,"children":5279},{"style":511},[5280],{"type":427,"value":695},{"type":421,"tag":504,"props":5282,"children":5283},{"style":517},[5284],{"type":427,"value":5285},"firstChild",{"type":421,"tag":504,"props":5287,"children":5288},{"style":975},[5289],{"type":427,"value":723},{"type":421,"tag":504,"props":5291,"children":5292},{"class":506,"line":1393},[5293],{"type":421,"tag":504,"props":5294,"children":5295},{"style":511},[5296],{"type":427,"value":4850},{"type":421,"tag":435,"props":5298,"children":5299},{},[5300],{"type":427,"value":5301},"一对用来维护 html5.elements 的方法 getElements、addElements。相当于 getter/setter。因为 html5shiv 将 html5 这个对象挂载到了 window 对象上，向外暴露。所以可以轻易调用 addElements 维护 html.elements。",{"type":421,"tag":493,"props":5303,"children":5305},{"className":495,"code":5304,"language":497,"meta":415,"style":415},"function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\nfunction addElements(newElements, ownerDocument) {\n    var elements = html5.elements\n    if(typeof elements != 'string'){\n        elements = elements.join(' ')\n    }\n    if(typeof newElements != 'string'){\n        newElements = newElements.join(' ')\n    }\n    html5.elements = elements +' '+ newElements\n\n    // 每次增加元素的最后，会进行一次 shiv\n    shivDocument(ownerDocument)\n}\n",[5306],{"type":421,"tag":500,"props":5307,"children":5308},{"__ignoreMap":415},[5309,5328,5359,5434,5441,5478,5506,5550,5590,5597,5641,5681,5688,5733,5740,5748,5768],{"type":421,"tag":504,"props":5310,"children":5311},{"class":506,"line":507},[5312,5316,5320,5324],{"type":421,"tag":504,"props":5313,"children":5314},{"style":523},[5315],{"type":427,"value":526},{"type":421,"tag":504,"props":5317,"children":5318},{"style":698},[5319],{"type":427,"value":4525},{"type":421,"tag":504,"props":5321,"children":5322},{"style":511},[5323],{"type":427,"value":936},{"type":421,"tag":504,"props":5325,"children":5326},{"style":511},[5327],{"type":427,"value":556},{"type":421,"tag":504,"props":5329,"children":5330},{"class":506,"line":559},[5331,5335,5339,5343,5347,5351,5355],{"type":421,"tag":504,"props":5332,"children":5333},{"style":523},[5334],{"type":427,"value":949},{"type":421,"tag":504,"props":5336,"children":5337},{"style":517},[5338],{"type":427,"value":4742},{"type":421,"tag":504,"props":5340,"children":5341},{"style":582},[5342],{"type":427,"value":959},{"type":421,"tag":504,"props":5344,"children":5345},{"style":517},[5346],{"type":427,"value":4751},{"type":421,"tag":504,"props":5348,"children":5349},{"style":511},[5350],{"type":427,"value":695},{"type":421,"tag":504,"props":5352,"children":5353},{"style":517},[5354],{"type":427,"value":4760},{"type":421,"tag":504,"props":5356,"children":5357},{"style":511},[5358],{"type":427,"value":646},{"type":421,"tag":504,"props":5360,"children":5361},{"class":506,"line":569},[5362,5366,5370,5374,5378,5382,5386,5390,5394,5398,5402,5406,5410,5414,5418,5422,5426,5430],{"type":421,"tag":504,"props":5363,"children":5364},{"style":985},[5365],{"type":427,"value":988},{"type":421,"tag":504,"props":5367,"children":5368},{"style":582},[5369],{"type":427,"value":4776},{"type":421,"tag":504,"props":5371,"children":5372},{"style":517},[5373],{"type":427,"value":4742},{"type":421,"tag":504,"props":5375,"children":5376},{"style":582},[5377],{"type":427,"value":912},{"type":421,"tag":504,"props":5379,"children":5380},{"style":598},[5381],{"type":427,"value":861},{"type":421,"tag":504,"props":5383,"children":5384},{"style":604},[5385],{"type":427,"value":4793},{"type":421,"tag":504,"props":5387,"children":5388},{"style":598},[5389],{"type":427,"value":710},{"type":421,"tag":504,"props":5391,"children":5392},{"style":582},[5393],{"type":427,"value":617},{"type":421,"tag":504,"props":5395,"children":5396},{"style":517},[5397],{"type":427,"value":4742},{"type":421,"tag":504,"props":5399,"children":5400},{"style":511},[5401],{"type":427,"value":695},{"type":421,"tag":504,"props":5403,"children":5404},{"style":698},[5405],{"type":427,"value":4814},{"type":421,"tag":504,"props":5407,"children":5408},{"style":975},[5409],{"type":427,"value":520},{"type":421,"tag":504,"props":5411,"children":5412},{"style":598},[5413],{"type":427,"value":710},{"type":421,"tag":504,"props":5415,"children":5416},{"style":598},[5417],{"type":427,"value":861},{"type":421,"tag":504,"props":5419,"children":5420},{"style":975},[5421],{"type":427,"value":1655},{"type":421,"tag":504,"props":5423,"children":5424},{"style":582},[5425],{"type":427,"value":626},{"type":421,"tag":504,"props":5427,"children":5428},{"style":517},[5429],{"type":427,"value":4742},{"type":421,"tag":504,"props":5431,"children":5432},{"style":511},[5433],{"type":427,"value":646},{"type":421,"tag":504,"props":5435,"children":5436},{"class":506,"line":943},[5437],{"type":421,"tag":504,"props":5438,"children":5439},{"style":511},[5440],{"type":427,"value":4850},{"type":421,"tag":504,"props":5442,"children":5443},{"class":506,"line":981},[5444,5448,5453,5457,5462,5466,5470,5474],{"type":421,"tag":504,"props":5445,"children":5446},{"style":523},[5447],{"type":427,"value":526},{"type":421,"tag":504,"props":5449,"children":5450},{"style":698},[5451],{"type":427,"value":5452}," addElements",{"type":421,"tag":504,"props":5454,"children":5455},{"style":511},[5456],{"type":427,"value":520},{"type":421,"tag":504,"props":5458,"children":5459},{"style":533},[5460],{"type":427,"value":5461},"newElements",{"type":421,"tag":504,"props":5463,"children":5464},{"style":511},[5465],{"type":427,"value":541},{"type":421,"tag":504,"props":5467,"children":5468},{"style":533},[5469],{"type":427,"value":2600},{"type":421,"tag":504,"props":5471,"children":5472},{"style":511},[5473],{"type":427,"value":551},{"type":421,"tag":504,"props":5475,"children":5476},{"style":511},[5477],{"type":427,"value":556},{"type":421,"tag":504,"props":5479,"children":5480},{"class":506,"line":996},[5481,5485,5489,5493,5497,5501],{"type":421,"tag":504,"props":5482,"children":5483},{"style":523},[5484],{"type":427,"value":949},{"type":421,"tag":504,"props":5486,"children":5487},{"style":517},[5488],{"type":427,"value":4742},{"type":421,"tag":504,"props":5490,"children":5491},{"style":582},[5492],{"type":427,"value":959},{"type":421,"tag":504,"props":5494,"children":5495},{"style":517},[5496],{"type":427,"value":4751},{"type":421,"tag":504,"props":5498,"children":5499},{"style":511},[5500],{"type":427,"value":695},{"type":421,"tag":504,"props":5502,"children":5503},{"style":517},[5504],{"type":427,"value":5505},"elements\n",{"type":421,"tag":504,"props":5507,"children":5508},{"class":506,"line":1039},[5509,5513,5517,5521,5525,5530,5534,5538,5542,5546],{"type":421,"tag":504,"props":5510,"children":5511},{"style":985},[5512],{"type":427,"value":1899},{"type":421,"tag":504,"props":5514,"children":5515},{"style":975},[5516],{"type":427,"value":520},{"type":421,"tag":504,"props":5518,"children":5519},{"style":582},[5520],{"type":427,"value":585},{"type":421,"tag":504,"props":5522,"children":5523},{"style":517},[5524],{"type":427,"value":4742},{"type":421,"tag":504,"props":5526,"children":5527},{"style":582},[5528],{"type":427,"value":5529}," !=",{"type":421,"tag":504,"props":5531,"children":5532},{"style":598},[5533],{"type":427,"value":861},{"type":421,"tag":504,"props":5535,"children":5536},{"style":604},[5537],{"type":427,"value":4793},{"type":421,"tag":504,"props":5539,"children":5540},{"style":598},[5541],{"type":427,"value":710},{"type":421,"tag":504,"props":5543,"children":5544},{"style":975},[5545],{"type":427,"value":551},{"type":421,"tag":504,"props":5547,"children":5548},{"style":511},[5549],{"type":427,"value":1660},{"type":421,"tag":504,"props":5551,"children":5552},{"class":506,"line":1079},[5553,5558,5562,5566,5570,5574,5578,5582,5586],{"type":421,"tag":504,"props":5554,"children":5555},{"style":517},[5556],{"type":427,"value":5557},"        elements",{"type":421,"tag":504,"props":5559,"children":5560},{"style":582},[5561],{"type":427,"value":959},{"type":421,"tag":504,"props":5563,"children":5564},{"style":517},[5565],{"type":427,"value":4742},{"type":421,"tag":504,"props":5567,"children":5568},{"style":511},[5569],{"type":427,"value":695},{"type":421,"tag":504,"props":5571,"children":5572},{"style":698},[5573],{"type":427,"value":3053},{"type":421,"tag":504,"props":5575,"children":5576},{"style":975},[5577],{"type":427,"value":520},{"type":421,"tag":504,"props":5579,"children":5580},{"style":598},[5581],{"type":427,"value":710},{"type":421,"tag":504,"props":5583,"children":5584},{"style":598},[5585],{"type":427,"value":861},{"type":421,"tag":504,"props":5587,"children":5588},{"style":975},[5589],{"type":427,"value":723},{"type":421,"tag":504,"props":5591,"children":5592},{"class":506,"line":1115},[5593],{"type":421,"tag":504,"props":5594,"children":5595},{"style":511},[5596],{"type":427,"value":1712},{"type":421,"tag":504,"props":5598,"children":5599},{"class":506,"line":1124},[5600,5604,5608,5612,5617,5621,5625,5629,5633,5637],{"type":421,"tag":504,"props":5601,"children":5602},{"style":985},[5603],{"type":427,"value":1899},{"type":421,"tag":504,"props":5605,"children":5606},{"style":975},[5607],{"type":427,"value":520},{"type":421,"tag":504,"props":5609,"children":5610},{"style":582},[5611],{"type":427,"value":585},{"type":421,"tag":504,"props":5613,"children":5614},{"style":517},[5615],{"type":427,"value":5616}," newElements",{"type":421,"tag":504,"props":5618,"children":5619},{"style":582},[5620],{"type":427,"value":5529},{"type":421,"tag":504,"props":5622,"children":5623},{"style":598},[5624],{"type":427,"value":861},{"type":421,"tag":504,"props":5626,"children":5627},{"style":604},[5628],{"type":427,"value":4793},{"type":421,"tag":504,"props":5630,"children":5631},{"style":598},[5632],{"type":427,"value":710},{"type":421,"tag":504,"props":5634,"children":5635},{"style":975},[5636],{"type":427,"value":551},{"type":421,"tag":504,"props":5638,"children":5639},{"style":511},[5640],{"type":427,"value":1660},{"type":421,"tag":504,"props":5642,"children":5643},{"class":506,"line":1393},[5644,5649,5653,5657,5661,5665,5669,5673,5677],{"type":421,"tag":504,"props":5645,"children":5646},{"style":517},[5647],{"type":427,"value":5648},"        newElements",{"type":421,"tag":504,"props":5650,"children":5651},{"style":582},[5652],{"type":427,"value":959},{"type":421,"tag":504,"props":5654,"children":5655},{"style":517},[5656],{"type":427,"value":5616},{"type":421,"tag":504,"props":5658,"children":5659},{"style":511},[5660],{"type":427,"value":695},{"type":421,"tag":504,"props":5662,"children":5663},{"style":698},[5664],{"type":427,"value":3053},{"type":421,"tag":504,"props":5666,"children":5667},{"style":975},[5668],{"type":427,"value":520},{"type":421,"tag":504,"props":5670,"children":5671},{"style":598},[5672],{"type":427,"value":710},{"type":421,"tag":504,"props":5674,"children":5675},{"style":598},[5676],{"type":427,"value":861},{"type":421,"tag":504,"props":5678,"children":5679},{"style":975},[5680],{"type":427,"value":723},{"type":421,"tag":504,"props":5682,"children":5683},{"class":506,"line":1402},[5684],{"type":421,"tag":504,"props":5685,"children":5686},{"style":511},[5687],{"type":427,"value":1712},{"type":421,"tag":504,"props":5689,"children":5690},{"class":506,"line":1445},[5691,5696,5700,5704,5708,5712,5716,5720,5724,5728],{"type":421,"tag":504,"props":5692,"children":5693},{"style":517},[5694],{"type":427,"value":5695},"    html5",{"type":421,"tag":504,"props":5697,"children":5698},{"style":511},[5699],{"type":427,"value":695},{"type":421,"tag":504,"props":5701,"children":5702},{"style":517},[5703],{"type":427,"value":4760},{"type":421,"tag":504,"props":5705,"children":5706},{"style":582},[5707],{"type":427,"value":959},{"type":421,"tag":504,"props":5709,"children":5710},{"style":517},[5711],{"type":427,"value":4742},{"type":421,"tag":504,"props":5713,"children":5714},{"style":582},[5715],{"type":427,"value":3221},{"type":421,"tag":504,"props":5717,"children":5718},{"style":598},[5719],{"type":427,"value":710},{"type":421,"tag":504,"props":5721,"children":5722},{"style":598},[5723],{"type":427,"value":861},{"type":421,"tag":504,"props":5725,"children":5726},{"style":582},[5727],{"type":427,"value":3096},{"type":421,"tag":504,"props":5729,"children":5730},{"style":517},[5731],{"type":427,"value":5732}," newElements\n",{"type":421,"tag":504,"props":5734,"children":5735},{"class":506,"line":1478},[5736],{"type":421,"tag":504,"props":5737,"children":5738},{"emptyLinePlaceholder":414},[5739],{"type":427,"value":1322},{"type":421,"tag":504,"props":5741,"children":5742},{"class":506,"line":1491},[5743],{"type":421,"tag":504,"props":5744,"children":5745},{"style":563},[5746],{"type":427,"value":5747},"    // 每次增加元素的最后，会进行一次 shiv\n",{"type":421,"tag":504,"props":5749,"children":5750},{"class":506,"line":1532},[5751,5756,5760,5764],{"type":421,"tag":504,"props":5752,"children":5753},{"style":698},[5754],{"type":427,"value":5755},"    shivDocument",{"type":421,"tag":504,"props":5757,"children":5758},{"style":975},[5759],{"type":427,"value":520},{"type":421,"tag":504,"props":5761,"children":5762},{"style":517},[5763],{"type":427,"value":1839},{"type":421,"tag":504,"props":5765,"children":5766},{"style":975},[5767],{"type":427,"value":723},{"type":421,"tag":504,"props":5769,"children":5770},{"class":506,"line":1572},[5771],{"type":421,"tag":504,"props":5772,"children":5773},{"style":511},[5774],{"type":427,"value":4850},{"type":421,"tag":429,"props":5776,"children":5778},{"id":5777},"阅读更多",[5779],{"type":427,"value":5777},{"type":421,"tag":435,"props":5781,"children":5782},{},[5783],{"type":427,"value":5784},"害，看 html5shiv 并不能带来什么具体的帮助。看完之后，只感觉上一代前端真是太辛苦了，为 IE 操碎了心。现代前端技术随着打包工具的发展开阔了不止一点，兼容性这个曾经的代码重心已经悄然落下帷幕。如果现在我去哪家公司面试，还会被大面积问到兼容性问题，那估计我会当场“quit”吧。",{"type":421,"tag":5786,"props":5787,"children":5790},"section",{"className":5788,"dataFootnotes":415},[5789],"footnotes",[5791,5798],{"type":421,"tag":429,"props":5792,"children":5795},{"className":5793,"id":449},[5794],"sr-only",[5796],{"type":427,"value":5797},"Footnotes",{"type":421,"tag":5799,"props":5800,"children":5801},"ol",{},[5802,5825],{"type":421,"tag":466,"props":5803,"children":5805},{"id":5804},"user-content-fn-html5shiv",[5806,5814,5816],{"type":421,"tag":445,"props":5807,"children":5811},{"href":5808,"rel":5809},"https://github.com/aFarkas/html5shiv",[5810],"nofollow",[5812],{"type":427,"value":5813},"html5shiv",{"type":427,"value":5815}," ",{"type":421,"tag":445,"props":5817,"children":5822},{"href":5818,"ariaLabel":5819,"className":5820,"dataFootnoteBackref":415},"#user-content-fnref-html5shiv","Back to reference 1",[5821],"data-footnote-backref",[5823],{"type":427,"value":5824},"↩",{"type":421,"tag":466,"props":5826,"children":5828},{"id":5827},"user-content-fn-hidden",[5829,5836,5837],{"type":421,"tag":445,"props":5830,"children":5833},{"href":5831,"rel":5832},"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/hidden",[5810],[5834],{"type":427,"value":5835},"HTMLElement.hidden@MDN",{"type":427,"value":5815},{"type":421,"tag":445,"props":5838,"children":5842},{"href":5839,"ariaLabel":5840,"className":5841,"dataFootnoteBackref":415},"#user-content-fnref-hidden","Back to reference 2",[5821],[5843],{"type":427,"value":5824},{"type":421,"tag":5845,"props":5846,"children":5847},"style",{},[5848],{"type":427,"value":5849},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":415,"searchDepth":559,"depth":559,"links":5851},[5852,5853,5859,5860],{"id":431,"depth":559,"text":431},{"id":478,"depth":559,"text":478,"children":5854},[5855,5856,5857,5858],{"id":484,"depth":569,"text":484},{"id":654,"depth":569,"text":654},{"id":1727,"depth":569,"text":1727},{"id":4956,"depth":569,"text":4956},{"id":5777,"depth":559,"text":5777},{"id":449,"depth":559,"text":5797},"markdown","content:8.source-code:_module:html5shiv.md","content","8.source-code/_module/html5shiv.md","8.source-code/_module/html5shiv","md",[5868,5871],{"_path":5869,"title":5870,"description":415},"/source-code/_module/fast-deep-equal","判断两个变量相等",{"_path":5872,"title":5873,"description":5874},"/source-code/_module/is-online","判断 NodeJS 是否在线","之前被组长问道要如何判断 NodeJS 是否在线，我不假思索回答：“Ping 百度试试。”。调用 Ping 需要 child_process，那还不如直接改用内置的 DNS 试试是否在线更简单一些。不过会不会碰到缓存等问题，没往下细想了。今天正好在别人的博客看到了 NodeJS DNS 模块，突然想起这个问题，于是就搜了一下相关库。找到了 internet-available 这个玩意儿。这里一起来看看他们的实现。",1732808135300]