[{"data":1,"prerenderedAt":5847},["Reactive",2],{"navigation":3,"/source-code/_module/html5shiv":383,"/source-code/_module/html5shiv-surround":5839},[4,32,80,96,123,129,135,366,372,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":42,"_path":43},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":45,"_path":46},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":48,"_path":49},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":51,"_path":52},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":54,"_path":55},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":57,"_path":58},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":60,"_path":61},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":63,"_path":64},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":66,"_path":67},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":69,"_path":70},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":72,"_path":73},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":75,"_path":76},"🚝 四十二篇系列","/articles/fourty-two",{"title":78,"_path":79},"📝 技术博客归档","/articles/fold",{"title":81,"_path":82,"children":83},"造物 / Make","/tools",[84,87,90,93],{"title":85,"_path":86},"🌐 AnySort","/tools/anysort",{"title":88,"_path":89},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":91,"_path":92},"👓 Crapto","/tools/crypto-inline",{"title":94,"_path":95},"🖨️ any-to-base64","/tools/any-to-base64",{"title":97,"_path":98,"children":99},"吉他剧场 / Music","/music",[100,102,105,108,111,114,117,120],{"title":101,"_path":98},"🎸 FingerStyle！",{"title":103,"_path":104},"🌬️ 等待的风","/music/wind",{"title":106,"_path":107},"💕 约定的海洋","/music/ocean",{"title":109,"_path":110},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":112,"_path":113},"🌏 残酷天使的行动纲领","/music/eva",{"title":115,"_path":116},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":118,"_path":119},"🍷 Wu Wei","/music/wu-wei",{"title":121,"_path":122},"🌅 无题","/music/untitled",{"title":124,"_path":125,"children":126},"画点什么 / Paint","/paint",[127],{"title":128,"_path":125},"🚧 正在施工",{"title":130,"_path":131,"children":132},"知识地图 / Maps","/maps",[133],{"title":134,"_path":131},"🏁 知识地图",{"title":136,"_path":137,"children":138},"零散的笔记 / Gists","/gists",[139,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363],{"title":140,"_path":137},"🧊 Gists",{"title":142,"_path":143},"网站的可访问性","/gists/accessibility",{"title":145,"_path":146},"图片模糊","/gists/blur",{"title":148,"_path":149},"渲染相关笔记","/gists/c4d",{"title":151,"_path":152},"CDN 问题记录","/gists/cdn",{"title":154,"_path":155},"消毒剂","/gists/cleaner",{"title":157,"_path":158},"Windows Command","/gists/cmd",{"title":160,"_path":161},"Command","/gists/command",{"title":163,"_path":164},"复杂科学","/gists/complexity-science",{"title":166,"_path":167},"宇宙","/gists/cosmos",{"title":169,"_path":170},"C++","/gists/cpp",{"title":172,"_path":173},"Data Structure","/gists/data-structure",{"title":175,"_path":176},"DEPRESSION","/gists/depression",{"title":178,"_path":179},"设计模式","/gists/design-patterns",{"title":181,"_path":182},"Developer Experience","/gists/developer-experience",{"title":184,"_path":185},"Device Metrics","/gists/device-metrix",{"title":187,"_path":188},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":190,"_path":191},"正则表达式","/gists/eegex",{"title":193,"_path":194},"Emoji","/gists/emoji",{"title":196,"_path":197},"工程","/gists/engineering",{"title":199,"_path":200},"熵","/gists/entropy",{"title":202,"_path":203},"Environment","/gists/environment",{"title":205,"_path":206},"Erlang","/gists/erlang",{"title":208,"_path":209},"逃离塔克夫","/gists/escape-from-tarkov",{"title":211,"_path":212},"ESNext (ES6-ES11)","/gists/esnext",{"title":214,"_path":215},"Eval！","/gists/eval",{"title":217,"_path":218},"Flutter","/gists/flutter",{"title":220,"_path":221},"字体","/gists/font",{"title":223,"_path":224},"JS 函数式编程","/gists/functional",{"title":226,"_path":227},"Google C++ Standard","/gists/google-cpp-standard",{"title":229,"_path":230},"双向链接完全体","/gists/graph",{"title":232,"_path":233},"Hardwares","/gists/hardwares",{"title":235,"_path":236},"哈希冲突","/gists/hash-collision",{"title":238,"_path":239},"信息设计","/gists/information-design",{"title":241,"_path":242},"InstantPage","/gists/instant.page",{"title":244,"_path":245},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":247,"_path":248},"KVStore","/gists/key-value-db",{"title":250,"_path":251},"Kubernetes","/gists/kubernetes",{"title":253,"_path":254},"Makefile","/gists/makefile",{"title":256,"_path":257},"Markdown Inline Style","/gists/markdown-nice",{"title":259,"_path":260},"小程序","/gists/miniapp",{"title":262,"_path":263},"减小页面快照体积","/gists/minify-html",{"title":265,"_path":266},"mklink","/gists/mklink",{"title":268,"_path":269},"Mock","/gists/mock",{"title":271,"_path":272},"多端应用","/gists/multy-end-app",{"title":274,"_path":275},"神经科学","/gists/neuroscience",{"title":277,"_path":278},"OO","/gists/oo",{"title":280,"_path":281},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":283,"_path":284},"人物","/gists/person",{"title":286,"_path":287},"PInvoke","/gists/pinvoke",{"title":289,"_path":290},"像素","/gists/pixel",{"title":292,"_path":293},"PowerShell","/gists/powershell",{"title":295,"_path":296},"量子","/gists/quantum",{"title":298,"_path":299},"保持好奇心","/gists/questions",{"title":301,"_path":302},"React Native","/gists/react-native",{"title":304,"_path":305},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":307,"_path":308},"SEO","/gists/seo",{"title":310,"_path":311},"Shader","/gists/shader",{"title":313,"_path":314},"Shape Up","/gists/shape-up",{"title":316,"_path":317},"睡觉","/gists/sleep",{"title":319,"_path":320},"States","/gists/states",{"title":322,"_path":323},"Storage","/gists/storage",{"title":325,"_path":326},"音视频流处理","/gists/stream-cli",{"title":328,"_path":329},"Symbol","/gists/symbol",{"title":331,"_path":332},"系统论","/gists/systems-theory",{"title":334,"_path":335},"Taro","/gists/taro",{"title":337,"_path":338},"任务切片","/gists/task-slice",{"title":340,"_path":341},"技术偏好","/gists/tech-dudge",{"title":343,"_path":344},"Untitled","/gists/untitled",{"title":346,"_path":347},"可变字体","/gists/variable-font",{"title":349,"_path":350},"视觉错觉","/gists/visual-illusion",{"title":352,"_path":353},"SS(SSR)","/gists/vpn",{"title":355,"_path":356},"VS Code 插件开发","/gists/vscode-plugin",{"title":358,"_path":359},"Web Components","/gists/web-components",{"title":361,"_path":362},"Windows","/gists/windows",{"title":364,"_path":365},"查缺补漏","/gists/wrong",{"title":367,"_path":368,"children":369},"代码笔记 / Gists","/source-code",[370],{"title":371,"_path":368},"🚄 代码笔记",{"title":373,"_path":374,"children":375},"我 / Abount","/hire",[376],{"title":377,"_path":374},"📬 技术简历",{"title":379,"_path":380,"children":381},"todo","/todo",[382],{"title":379,"_path":380},{"_path":384,"_dir":385,"_draft":386,"_partial":387,"_locale":388,"title":389,"description":388,"body":390,"_type":5834,"_id":5835,"_source":5836,"_file":5837,"_extension":5838},"/source-code/_module/html5shiv","_module",false,true,"","🛠 低版本浏览器兼容HTML5标签原理",{"type":391,"children":392,"toc":5823},"root",[393,401,407,429,434,449,454,460,465,620,625,630,635,640,737,755,760,1108,1113,1698,1703,1708,1713,2010,2015,2434,2439,3313,3318,3424,3429,3546,3551,4276,4281,4657,4662,4927,4932,4937,5270,5275,5748,5753,5758,5817],{"type":394,"tag":395,"props":396,"children":398},"element","h1",{"id":397},"低版本浏览器兼容html5标签原理",[399],{"type":400,"value":389},"text",{"type":394,"tag":402,"props":403,"children":405},"h2",{"id":404},"长话短说",[406],{"type":400,"value":404},{"type":394,"tag":408,"props":409,"children":410},"p",{},[411,413,427],{"type":400,"value":412},"最近在复习 HTML 相关内容呢，不知不觉想起以前在实习公司用过的 html5shiv 这个玩意儿。html5shiv 能使 IE6/7/8 等浏览器支持 HTML5 的新标签",{"type":394,"tag":414,"props":415,"children":416},"sup",{},[417],{"type":394,"tag":418,"props":419,"children":424},"a",{"href":420,"ariaDescribedBy":421,"dataFootnoteRef":388,"id":423},"#user-content-fn-html5shiv",[422],"footnote-label","user-content-fnref-html5shiv",[425],{"type":400,"value":426},"1",{"type":400,"value":428},"。这里我初略扫了一眼它的原理。",{"type":394,"tag":408,"props":430,"children":431},{},[432],{"type":400,"value":433},"它主要做了以下两件事情：",{"type":394,"tag":435,"props":436,"children":437},"ul",{},[438,444],{"type":394,"tag":439,"props":440,"children":441},"li",{},[442],{"type":400,"value":443},"用高阶函数增强浏览器原生的 createElement 等 API。需要创建新标签时，使用已缓存的元素克隆并返还一个新元素，或回退至调用原生 API 创建 H5 新元素。这个增强是基于 document.createElement 能创建非标准元素这个特性实现的。",{"type":394,"tag":439,"props":445,"children":446},{},[447],{"type":400,"value":448},"给新标签增加相应的默认样式。",{"type":394,"tag":402,"props":450,"children":452},{"id":451},"具体实现",[453],{"type":400,"value":451},{"type":394,"tag":455,"props":456,"children":458},"h3",{"id":457},"代码结构",[459],{"type":400,"value":457},{"type":394,"tag":408,"props":461,"children":462},{},[463],{"type":400,"value":464},"整个代码被包裹在 IIFE 中。像 jQuery 一样，把 window 对象传了进来。",{"type":394,"tag":466,"props":467,"children":471},"pre",{"className":468,"code":469,"language":470,"meta":388,"style":388},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",";(function(window, document) {\n    // rest of code\n}(typeof window !== \"undefined\" ? window : this, document));\n","js",[472],{"type":394,"tag":473,"props":474,"children":475},"code",{"__ignoreMap":388},[476,530,540],{"type":394,"tag":477,"props":478,"children":481},"span",{"class":479,"line":480},"line",1,[482,488,494,500,504,510,515,520,525],{"type":394,"tag":477,"props":483,"children":485},{"style":484},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[486],{"type":400,"value":487},";",{"type":394,"tag":477,"props":489,"children":491},{"style":490},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[492],{"type":400,"value":493},"(",{"type":394,"tag":477,"props":495,"children":497},{"style":496},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[498],{"type":400,"value":499},"function",{"type":394,"tag":477,"props":501,"children":502},{"style":484},[503],{"type":400,"value":493},{"type":394,"tag":477,"props":505,"children":507},{"style":506},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[508],{"type":400,"value":509},"window",{"type":394,"tag":477,"props":511,"children":512},{"style":484},[513],{"type":400,"value":514},",",{"type":394,"tag":477,"props":516,"children":517},{"style":506},[518],{"type":400,"value":519}," document",{"type":394,"tag":477,"props":521,"children":522},{"style":484},[523],{"type":400,"value":524},")",{"type":394,"tag":477,"props":526,"children":527},{"style":484},[528],{"type":400,"value":529}," {\n",{"type":394,"tag":477,"props":531,"children":533},{"class":479,"line":532},2,[534],{"type":394,"tag":477,"props":535,"children":537},{"style":536},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[538],{"type":400,"value":539},"    // rest of code\n",{"type":394,"tag":477,"props":541,"children":543},{"class":479,"line":542},3,[544,549,553,559,564,569,575,581,586,591,595,600,606,610,615],{"type":394,"tag":477,"props":545,"children":546},{"style":484},[547],{"type":400,"value":548},"}",{"type":394,"tag":477,"props":550,"children":551},{"style":490},[552],{"type":400,"value":493},{"type":394,"tag":477,"props":554,"children":556},{"style":555},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[557],{"type":400,"value":558},"typeof",{"type":394,"tag":477,"props":560,"children":561},{"style":490},[562],{"type":400,"value":563}," window ",{"type":394,"tag":477,"props":565,"children":566},{"style":555},[567],{"type":400,"value":568},"!==",{"type":394,"tag":477,"props":570,"children":572},{"style":571},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[573],{"type":400,"value":574}," \"",{"type":394,"tag":477,"props":576,"children":578},{"style":577},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[579],{"type":400,"value":580},"undefined",{"type":394,"tag":477,"props":582,"children":583},{"style":571},[584],{"type":400,"value":585},"\"",{"type":394,"tag":477,"props":587,"children":588},{"style":555},[589],{"type":400,"value":590}," ?",{"type":394,"tag":477,"props":592,"children":593},{"style":490},[594],{"type":400,"value":563},{"type":394,"tag":477,"props":596,"children":597},{"style":555},[598],{"type":400,"value":599},":",{"type":394,"tag":477,"props":601,"children":603},{"style":602},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[604],{"type":400,"value":605}," this",{"type":394,"tag":477,"props":607,"children":608},{"style":484},[609],{"type":400,"value":514},{"type":394,"tag":477,"props":611,"children":612},{"style":490},[613],{"type":400,"value":614}," document))",{"type":394,"tag":477,"props":616,"children":617},{"style":484},[618],{"type":400,"value":619},";\n",{"type":394,"tag":408,"props":621,"children":622},{},[623],{"type":400,"value":624},"一个很经典的模块模式，没什么好拓展的，我们继续...",{"type":394,"tag":455,"props":626,"children":628},{"id":627},"兼容性检测",[629],{"type":400,"value":627},{"type":394,"tag":408,"props":631,"children":632},{},[633],{"type":400,"value":634},"以下代码检测当前浏览器对 HTML5 的支持程度。",{"type":394,"tag":408,"props":636,"children":637},{},[638],{"type":400,"value":639},"通过检测元素对 hidden 属性的支持程度，检测浏览器对 HTML5 样式支持的水平。",{"type":394,"tag":466,"props":641,"children":643},{"className":468,"code":642,"language":470,"meta":388,"style":388},"a = document.createElement('a')\nsupportsHtml5Styles = ('hidden' in a)\n",[644],{"type":394,"tag":473,"props":645,"children":646},{"__ignoreMap":388},[647,697],{"type":394,"tag":477,"props":648,"children":649},{"class":479,"line":480},[650,655,660,664,669,675,679,684,688,692],{"type":394,"tag":477,"props":651,"children":652},{"style":490},[653],{"type":400,"value":654},"a ",{"type":394,"tag":477,"props":656,"children":657},{"style":555},[658],{"type":400,"value":659},"=",{"type":394,"tag":477,"props":661,"children":662},{"style":490},[663],{"type":400,"value":519},{"type":394,"tag":477,"props":665,"children":666},{"style":484},[667],{"type":400,"value":668},".",{"type":394,"tag":477,"props":670,"children":672},{"style":671},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[673],{"type":400,"value":674},"createElement",{"type":394,"tag":477,"props":676,"children":677},{"style":490},[678],{"type":400,"value":493},{"type":394,"tag":477,"props":680,"children":681},{"style":571},[682],{"type":400,"value":683},"'",{"type":394,"tag":477,"props":685,"children":686},{"style":577},[687],{"type":400,"value":418},{"type":394,"tag":477,"props":689,"children":690},{"style":571},[691],{"type":400,"value":683},{"type":394,"tag":477,"props":693,"children":694},{"style":490},[695],{"type":400,"value":696},")\n",{"type":394,"tag":477,"props":698,"children":699},{"class":479,"line":532},[700,705,709,714,718,723,727,732],{"type":394,"tag":477,"props":701,"children":702},{"style":490},[703],{"type":400,"value":704},"supportsHtml5Styles ",{"type":394,"tag":477,"props":706,"children":707},{"style":555},[708],{"type":400,"value":659},{"type":394,"tag":477,"props":710,"children":711},{"style":490},[712],{"type":400,"value":713}," (",{"type":394,"tag":477,"props":715,"children":716},{"style":571},[717],{"type":400,"value":683},{"type":394,"tag":477,"props":719,"children":720},{"style":577},[721],{"type":400,"value":722},"hidden",{"type":394,"tag":477,"props":724,"children":725},{"style":571},[726],{"type":400,"value":683},{"type":394,"tag":477,"props":728,"children":729},{"style":555},[730],{"type":400,"value":731}," in",{"type":394,"tag":477,"props":733,"children":734},{"style":490},[735],{"type":400,"value":736}," a)\n",{"type":394,"tag":408,"props":738,"children":739},{},[740,742,753],{"type":400,"value":741},"以前没听过 HTMLElement.hidden，项目里的隐藏元素都是直接上 CSS 做的。不过据 MDN 表示，除了隐藏元素之外，hidden 属性还能用于创造离屏 Canvas",{"type":394,"tag":414,"props":743,"children":744},{},[745],{"type":394,"tag":418,"props":746,"children":750},{"href":747,"ariaDescribedBy":748,"dataFootnoteRef":388,"id":749},"#user-content-fn-hidden",[422],"user-content-fnref-hidden",[751],{"type":400,"value":752},"2",{"type":400,"value":754},"。",{"type":394,"tag":408,"props":756,"children":757},{},[758],{"type":400,"value":759},"这段代码用于测试浏览器是否支持未知元素的创建。",{"type":394,"tag":466,"props":761,"children":763},{"className":468,"code":762,"language":470,"meta":388,"style":388},"a = document.createElement('a')\na.innerHTML = '\u003Cxyz>\u003C/xyz>'\nsupportsUnknownElements = a.childNodes.length == 1 || (function() {\n    var frag = document.createDocumentFragment()\n    return (\n    typeof frag.cloneNode == 'undefined' ||\n    typeof frag.createDocumentFragment == 'undefined' ||\n    typeof frag.createElement == 'undefined'\n    )\n}())\n",[764],{"type":394,"tag":473,"props":765,"children":766},{"__ignoreMap":388},[767,810,845,914,952,967,1010,1050,1086,1095],{"type":394,"tag":477,"props":768,"children":769},{"class":479,"line":480},[770,774,778,782,786,790,794,798,802,806],{"type":394,"tag":477,"props":771,"children":772},{"style":490},[773],{"type":400,"value":654},{"type":394,"tag":477,"props":775,"children":776},{"style":555},[777],{"type":400,"value":659},{"type":394,"tag":477,"props":779,"children":780},{"style":490},[781],{"type":400,"value":519},{"type":394,"tag":477,"props":783,"children":784},{"style":484},[785],{"type":400,"value":668},{"type":394,"tag":477,"props":787,"children":788},{"style":671},[789],{"type":400,"value":674},{"type":394,"tag":477,"props":791,"children":792},{"style":490},[793],{"type":400,"value":493},{"type":394,"tag":477,"props":795,"children":796},{"style":571},[797],{"type":400,"value":683},{"type":394,"tag":477,"props":799,"children":800},{"style":577},[801],{"type":400,"value":418},{"type":394,"tag":477,"props":803,"children":804},{"style":571},[805],{"type":400,"value":683},{"type":394,"tag":477,"props":807,"children":808},{"style":490},[809],{"type":400,"value":696},{"type":394,"tag":477,"props":811,"children":812},{"class":479,"line":532},[813,817,821,826,830,835,840],{"type":394,"tag":477,"props":814,"children":815},{"style":490},[816],{"type":400,"value":418},{"type":394,"tag":477,"props":818,"children":819},{"style":484},[820],{"type":400,"value":668},{"type":394,"tag":477,"props":822,"children":823},{"style":490},[824],{"type":400,"value":825},"innerHTML ",{"type":394,"tag":477,"props":827,"children":828},{"style":555},[829],{"type":400,"value":659},{"type":394,"tag":477,"props":831,"children":832},{"style":571},[833],{"type":400,"value":834}," '",{"type":394,"tag":477,"props":836,"children":837},{"style":577},[838],{"type":400,"value":839},"\u003Cxyz>\u003C/xyz>",{"type":394,"tag":477,"props":841,"children":842},{"style":571},[843],{"type":400,"value":844},"'\n",{"type":394,"tag":477,"props":846,"children":847},{"class":479,"line":542},[848,853,857,862,866,871,875,881,886,892,897,901,905,910],{"type":394,"tag":477,"props":849,"children":850},{"style":490},[851],{"type":400,"value":852},"supportsUnknownElements ",{"type":394,"tag":477,"props":854,"children":855},{"style":555},[856],{"type":400,"value":659},{"type":394,"tag":477,"props":858,"children":859},{"style":490},[860],{"type":400,"value":861}," a",{"type":394,"tag":477,"props":863,"children":864},{"style":484},[865],{"type":400,"value":668},{"type":394,"tag":477,"props":867,"children":868},{"style":490},[869],{"type":400,"value":870},"childNodes",{"type":394,"tag":477,"props":872,"children":873},{"style":484},[874],{"type":400,"value":668},{"type":394,"tag":477,"props":876,"children":878},{"style":877},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[879],{"type":400,"value":880},"length",{"type":394,"tag":477,"props":882,"children":883},{"style":555},[884],{"type":400,"value":885}," ==",{"type":394,"tag":477,"props":887,"children":889},{"style":888},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[890],{"type":400,"value":891}," 1",{"type":394,"tag":477,"props":893,"children":894},{"style":555},[895],{"type":400,"value":896}," ||",{"type":394,"tag":477,"props":898,"children":899},{"style":490},[900],{"type":400,"value":713},{"type":394,"tag":477,"props":902,"children":903},{"style":496},[904],{"type":400,"value":499},{"type":394,"tag":477,"props":906,"children":907},{"style":484},[908],{"type":400,"value":909},"()",{"type":394,"tag":477,"props":911,"children":912},{"style":484},[913],{"type":400,"value":529},{"type":394,"tag":477,"props":915,"children":917},{"class":479,"line":916},4,[918,923,928,933,937,941,946],{"type":394,"tag":477,"props":919,"children":920},{"style":496},[921],{"type":400,"value":922},"    var",{"type":394,"tag":477,"props":924,"children":925},{"style":490},[926],{"type":400,"value":927}," frag",{"type":394,"tag":477,"props":929,"children":930},{"style":555},[931],{"type":400,"value":932}," =",{"type":394,"tag":477,"props":934,"children":935},{"style":490},[936],{"type":400,"value":519},{"type":394,"tag":477,"props":938,"children":939},{"style":484},[940],{"type":400,"value":668},{"type":394,"tag":477,"props":942,"children":943},{"style":671},[944],{"type":400,"value":945},"createDocumentFragment",{"type":394,"tag":477,"props":947,"children":949},{"style":948},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[950],{"type":400,"value":951},"()\n",{"type":394,"tag":477,"props":953,"children":955},{"class":479,"line":954},5,[956,962],{"type":394,"tag":477,"props":957,"children":959},{"style":958},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[960],{"type":400,"value":961},"    return",{"type":394,"tag":477,"props":963,"children":964},{"style":948},[965],{"type":400,"value":966}," (\n",{"type":394,"tag":477,"props":968,"children":970},{"class":479,"line":969},6,[971,976,980,984,989,993,997,1001,1005],{"type":394,"tag":477,"props":972,"children":973},{"style":555},[974],{"type":400,"value":975},"    typeof",{"type":394,"tag":477,"props":977,"children":978},{"style":490},[979],{"type":400,"value":927},{"type":394,"tag":477,"props":981,"children":982},{"style":484},[983],{"type":400,"value":668},{"type":394,"tag":477,"props":985,"children":986},{"style":490},[987],{"type":400,"value":988},"cloneNode",{"type":394,"tag":477,"props":990,"children":991},{"style":555},[992],{"type":400,"value":885},{"type":394,"tag":477,"props":994,"children":995},{"style":571},[996],{"type":400,"value":834},{"type":394,"tag":477,"props":998,"children":999},{"style":577},[1000],{"type":400,"value":580},{"type":394,"tag":477,"props":1002,"children":1003},{"style":571},[1004],{"type":400,"value":683},{"type":394,"tag":477,"props":1006,"children":1007},{"style":555},[1008],{"type":400,"value":1009}," ||\n",{"type":394,"tag":477,"props":1011,"children":1013},{"class":479,"line":1012},7,[1014,1018,1022,1026,1030,1034,1038,1042,1046],{"type":394,"tag":477,"props":1015,"children":1016},{"style":555},[1017],{"type":400,"value":975},{"type":394,"tag":477,"props":1019,"children":1020},{"style":490},[1021],{"type":400,"value":927},{"type":394,"tag":477,"props":1023,"children":1024},{"style":484},[1025],{"type":400,"value":668},{"type":394,"tag":477,"props":1027,"children":1028},{"style":490},[1029],{"type":400,"value":945},{"type":394,"tag":477,"props":1031,"children":1032},{"style":555},[1033],{"type":400,"value":885},{"type":394,"tag":477,"props":1035,"children":1036},{"style":571},[1037],{"type":400,"value":834},{"type":394,"tag":477,"props":1039,"children":1040},{"style":577},[1041],{"type":400,"value":580},{"type":394,"tag":477,"props":1043,"children":1044},{"style":571},[1045],{"type":400,"value":683},{"type":394,"tag":477,"props":1047,"children":1048},{"style":555},[1049],{"type":400,"value":1009},{"type":394,"tag":477,"props":1051,"children":1053},{"class":479,"line":1052},8,[1054,1058,1062,1066,1070,1074,1078,1082],{"type":394,"tag":477,"props":1055,"children":1056},{"style":555},[1057],{"type":400,"value":975},{"type":394,"tag":477,"props":1059,"children":1060},{"style":490},[1061],{"type":400,"value":927},{"type":394,"tag":477,"props":1063,"children":1064},{"style":484},[1065],{"type":400,"value":668},{"type":394,"tag":477,"props":1067,"children":1068},{"style":490},[1069],{"type":400,"value":674},{"type":394,"tag":477,"props":1071,"children":1072},{"style":555},[1073],{"type":400,"value":885},{"type":394,"tag":477,"props":1075,"children":1076},{"style":571},[1077],{"type":400,"value":834},{"type":394,"tag":477,"props":1079,"children":1080},{"style":577},[1081],{"type":400,"value":580},{"type":394,"tag":477,"props":1083,"children":1084},{"style":571},[1085],{"type":400,"value":844},{"type":394,"tag":477,"props":1087,"children":1089},{"class":479,"line":1088},9,[1090],{"type":394,"tag":477,"props":1091,"children":1092},{"style":948},[1093],{"type":400,"value":1094},"    )\n",{"type":394,"tag":477,"props":1096,"children":1098},{"class":479,"line":1097},10,[1099,1103],{"type":394,"tag":477,"props":1100,"children":1101},{"style":484},[1102],{"type":400,"value":548},{"type":394,"tag":477,"props":1104,"children":1105},{"style":490},[1106],{"type":400,"value":1107},"())\n",{"type":394,"tag":408,"props":1109,"children":1110},{},[1111],{"type":400,"value":1112},"如果连 document.createElement 都调用失败的话，那 html5shiv 代码就毫无作用了（html5shiv 的原理需要用到 document.createElement），所以用一个 try/catch 将上述两个功能包裹起来。遇到错误则假装浏览器正常支持 HTML5，相关检测变量被置为 true。",{"type":394,"tag":466,"props":1114,"children":1116},{"className":468,"code":1115,"language":470,"meta":388,"style":388},"(function() {\n    try {\n        var a = document.createElement('a')\n        a.innerHTML = '\u003Cxyz>\u003C/xyz>'\n        //if the hidden property is implemented we can assume, \n        // that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a)\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n            // assign a false positive if unable to shiv\n            // ? 猜测特定浏览器对这种括号调用方法会报错\n            (document.createElement)('a')\n            var frag = document.createDocumentFragment()\n            return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n            )\n        }())\n    } catch(e) {\n        // assign a false positive if detection fails => unable to shiv\n        supportsHtml5Styles = true\n        supportsUnknownElements = true\n    }\n}())\n",[1117],{"type":394,"tag":473,"props":1118,"children":1119},{"__ignoreMap":388},[1120,1139,1151,1199,1232,1240,1248,1288,1296,1356,1364,1373,1416,1449,1462,1503,1543,1579,1588,1601,1634,1643,1661,1677,1686],{"type":394,"tag":477,"props":1121,"children":1122},{"class":479,"line":480},[1123,1127,1131,1135],{"type":394,"tag":477,"props":1124,"children":1125},{"style":490},[1126],{"type":400,"value":493},{"type":394,"tag":477,"props":1128,"children":1129},{"style":496},[1130],{"type":400,"value":499},{"type":394,"tag":477,"props":1132,"children":1133},{"style":484},[1134],{"type":400,"value":909},{"type":394,"tag":477,"props":1136,"children":1137},{"style":484},[1138],{"type":400,"value":529},{"type":394,"tag":477,"props":1140,"children":1141},{"class":479,"line":532},[1142,1147],{"type":394,"tag":477,"props":1143,"children":1144},{"style":958},[1145],{"type":400,"value":1146},"    try",{"type":394,"tag":477,"props":1148,"children":1149},{"style":484},[1150],{"type":400,"value":529},{"type":394,"tag":477,"props":1152,"children":1153},{"class":479,"line":542},[1154,1159,1163,1167,1171,1175,1179,1183,1187,1191,1195],{"type":394,"tag":477,"props":1155,"children":1156},{"style":496},[1157],{"type":400,"value":1158},"        var",{"type":394,"tag":477,"props":1160,"children":1161},{"style":490},[1162],{"type":400,"value":861},{"type":394,"tag":477,"props":1164,"children":1165},{"style":555},[1166],{"type":400,"value":932},{"type":394,"tag":477,"props":1168,"children":1169},{"style":490},[1170],{"type":400,"value":519},{"type":394,"tag":477,"props":1172,"children":1173},{"style":484},[1174],{"type":400,"value":668},{"type":394,"tag":477,"props":1176,"children":1177},{"style":671},[1178],{"type":400,"value":674},{"type":394,"tag":477,"props":1180,"children":1181},{"style":948},[1182],{"type":400,"value":493},{"type":394,"tag":477,"props":1184,"children":1185},{"style":571},[1186],{"type":400,"value":683},{"type":394,"tag":477,"props":1188,"children":1189},{"style":577},[1190],{"type":400,"value":418},{"type":394,"tag":477,"props":1192,"children":1193},{"style":571},[1194],{"type":400,"value":683},{"type":394,"tag":477,"props":1196,"children":1197},{"style":948},[1198],{"type":400,"value":696},{"type":394,"tag":477,"props":1200,"children":1201},{"class":479,"line":916},[1202,1207,1211,1216,1220,1224,1228],{"type":394,"tag":477,"props":1203,"children":1204},{"style":490},[1205],{"type":400,"value":1206},"        a",{"type":394,"tag":477,"props":1208,"children":1209},{"style":484},[1210],{"type":400,"value":668},{"type":394,"tag":477,"props":1212,"children":1213},{"style":490},[1214],{"type":400,"value":1215},"innerHTML",{"type":394,"tag":477,"props":1217,"children":1218},{"style":555},[1219],{"type":400,"value":932},{"type":394,"tag":477,"props":1221,"children":1222},{"style":571},[1223],{"type":400,"value":834},{"type":394,"tag":477,"props":1225,"children":1226},{"style":577},[1227],{"type":400,"value":839},{"type":394,"tag":477,"props":1229,"children":1230},{"style":571},[1231],{"type":400,"value":844},{"type":394,"tag":477,"props":1233,"children":1234},{"class":479,"line":954},[1235],{"type":394,"tag":477,"props":1236,"children":1237},{"style":536},[1238],{"type":400,"value":1239},"        //if the hidden property is implemented we can assume, \n",{"type":394,"tag":477,"props":1241,"children":1242},{"class":479,"line":969},[1243],{"type":394,"tag":477,"props":1244,"children":1245},{"style":536},[1246],{"type":400,"value":1247},"        // that the browser supports basic HTML5 Styles\n",{"type":394,"tag":477,"props":1249,"children":1250},{"class":479,"line":1012},[1251,1256,1260,1264,1268,1272,1276,1280,1284],{"type":394,"tag":477,"props":1252,"children":1253},{"style":490},[1254],{"type":400,"value":1255},"        supportsHtml5Styles",{"type":394,"tag":477,"props":1257,"children":1258},{"style":555},[1259],{"type":400,"value":932},{"type":394,"tag":477,"props":1261,"children":1262},{"style":948},[1263],{"type":400,"value":713},{"type":394,"tag":477,"props":1265,"children":1266},{"style":571},[1267],{"type":400,"value":683},{"type":394,"tag":477,"props":1269,"children":1270},{"style":577},[1271],{"type":400,"value":722},{"type":394,"tag":477,"props":1273,"children":1274},{"style":571},[1275],{"type":400,"value":683},{"type":394,"tag":477,"props":1277,"children":1278},{"style":555},[1279],{"type":400,"value":731},{"type":394,"tag":477,"props":1281,"children":1282},{"style":490},[1283],{"type":400,"value":861},{"type":394,"tag":477,"props":1285,"children":1286},{"style":948},[1287],{"type":400,"value":696},{"type":394,"tag":477,"props":1289,"children":1290},{"class":479,"line":1052},[1291],{"type":394,"tag":477,"props":1292,"children":1293},{"emptyLinePlaceholder":387},[1294],{"type":400,"value":1295},"\n",{"type":394,"tag":477,"props":1297,"children":1298},{"class":479,"line":1088},[1299,1304,1308,1312,1316,1320,1324,1328,1332,1336,1340,1344,1348,1352],{"type":394,"tag":477,"props":1300,"children":1301},{"style":490},[1302],{"type":400,"value":1303},"        supportsUnknownElements",{"type":394,"tag":477,"props":1305,"children":1306},{"style":555},[1307],{"type":400,"value":932},{"type":394,"tag":477,"props":1309,"children":1310},{"style":490},[1311],{"type":400,"value":861},{"type":394,"tag":477,"props":1313,"children":1314},{"style":484},[1315],{"type":400,"value":668},{"type":394,"tag":477,"props":1317,"children":1318},{"style":490},[1319],{"type":400,"value":870},{"type":394,"tag":477,"props":1321,"children":1322},{"style":484},[1323],{"type":400,"value":668},{"type":394,"tag":477,"props":1325,"children":1326},{"style":877},[1327],{"type":400,"value":880},{"type":394,"tag":477,"props":1329,"children":1330},{"style":555},[1331],{"type":400,"value":885},{"type":394,"tag":477,"props":1333,"children":1334},{"style":888},[1335],{"type":400,"value":891},{"type":394,"tag":477,"props":1337,"children":1338},{"style":555},[1339],{"type":400,"value":896},{"type":394,"tag":477,"props":1341,"children":1342},{"style":948},[1343],{"type":400,"value":713},{"type":394,"tag":477,"props":1345,"children":1346},{"style":496},[1347],{"type":400,"value":499},{"type":394,"tag":477,"props":1349,"children":1350},{"style":484},[1351],{"type":400,"value":909},{"type":394,"tag":477,"props":1353,"children":1354},{"style":484},[1355],{"type":400,"value":529},{"type":394,"tag":477,"props":1357,"children":1358},{"class":479,"line":1097},[1359],{"type":394,"tag":477,"props":1360,"children":1361},{"style":536},[1362],{"type":400,"value":1363},"            // assign a false positive if unable to shiv\n",{"type":394,"tag":477,"props":1365,"children":1367},{"class":479,"line":1366},11,[1368],{"type":394,"tag":477,"props":1369,"children":1370},{"style":536},[1371],{"type":400,"value":1372},"            // ? 猜测特定浏览器对这种括号调用方法会报错\n",{"type":394,"tag":477,"props":1374,"children":1376},{"class":479,"line":1375},12,[1377,1382,1387,1391,1395,1400,1404,1408,1412],{"type":394,"tag":477,"props":1378,"children":1379},{"style":948},[1380],{"type":400,"value":1381},"            (",{"type":394,"tag":477,"props":1383,"children":1384},{"style":490},[1385],{"type":400,"value":1386},"document",{"type":394,"tag":477,"props":1388,"children":1389},{"style":484},[1390],{"type":400,"value":668},{"type":394,"tag":477,"props":1392,"children":1393},{"style":490},[1394],{"type":400,"value":674},{"type":394,"tag":477,"props":1396,"children":1397},{"style":948},[1398],{"type":400,"value":1399},")(",{"type":394,"tag":477,"props":1401,"children":1402},{"style":571},[1403],{"type":400,"value":683},{"type":394,"tag":477,"props":1405,"children":1406},{"style":577},[1407],{"type":400,"value":418},{"type":394,"tag":477,"props":1409,"children":1410},{"style":571},[1411],{"type":400,"value":683},{"type":394,"tag":477,"props":1413,"children":1414},{"style":948},[1415],{"type":400,"value":696},{"type":394,"tag":477,"props":1417,"children":1419},{"class":479,"line":1418},13,[1420,1425,1429,1433,1437,1441,1445],{"type":394,"tag":477,"props":1421,"children":1422},{"style":496},[1423],{"type":400,"value":1424},"            var",{"type":394,"tag":477,"props":1426,"children":1427},{"style":490},[1428],{"type":400,"value":927},{"type":394,"tag":477,"props":1430,"children":1431},{"style":555},[1432],{"type":400,"value":932},{"type":394,"tag":477,"props":1434,"children":1435},{"style":490},[1436],{"type":400,"value":519},{"type":394,"tag":477,"props":1438,"children":1439},{"style":484},[1440],{"type":400,"value":668},{"type":394,"tag":477,"props":1442,"children":1443},{"style":671},[1444],{"type":400,"value":945},{"type":394,"tag":477,"props":1446,"children":1447},{"style":948},[1448],{"type":400,"value":951},{"type":394,"tag":477,"props":1450,"children":1452},{"class":479,"line":1451},14,[1453,1458],{"type":394,"tag":477,"props":1454,"children":1455},{"style":958},[1456],{"type":400,"value":1457},"            return",{"type":394,"tag":477,"props":1459,"children":1460},{"style":948},[1461],{"type":400,"value":966},{"type":394,"tag":477,"props":1463,"children":1465},{"class":479,"line":1464},15,[1466,1471,1475,1479,1483,1487,1491,1495,1499],{"type":394,"tag":477,"props":1467,"children":1468},{"style":555},[1469],{"type":400,"value":1470},"            typeof",{"type":394,"tag":477,"props":1472,"children":1473},{"style":490},[1474],{"type":400,"value":927},{"type":394,"tag":477,"props":1476,"children":1477},{"style":484},[1478],{"type":400,"value":668},{"type":394,"tag":477,"props":1480,"children":1481},{"style":490},[1482],{"type":400,"value":988},{"type":394,"tag":477,"props":1484,"children":1485},{"style":555},[1486],{"type":400,"value":885},{"type":394,"tag":477,"props":1488,"children":1489},{"style":571},[1490],{"type":400,"value":834},{"type":394,"tag":477,"props":1492,"children":1493},{"style":577},[1494],{"type":400,"value":580},{"type":394,"tag":477,"props":1496,"children":1497},{"style":571},[1498],{"type":400,"value":683},{"type":394,"tag":477,"props":1500,"children":1501},{"style":555},[1502],{"type":400,"value":1009},{"type":394,"tag":477,"props":1504,"children":1506},{"class":479,"line":1505},16,[1507,1511,1515,1519,1523,1527,1531,1535,1539],{"type":394,"tag":477,"props":1508,"children":1509},{"style":555},[1510],{"type":400,"value":1470},{"type":394,"tag":477,"props":1512,"children":1513},{"style":490},[1514],{"type":400,"value":927},{"type":394,"tag":477,"props":1516,"children":1517},{"style":484},[1518],{"type":400,"value":668},{"type":394,"tag":477,"props":1520,"children":1521},{"style":490},[1522],{"type":400,"value":945},{"type":394,"tag":477,"props":1524,"children":1525},{"style":555},[1526],{"type":400,"value":885},{"type":394,"tag":477,"props":1528,"children":1529},{"style":571},[1530],{"type":400,"value":834},{"type":394,"tag":477,"props":1532,"children":1533},{"style":577},[1534],{"type":400,"value":580},{"type":394,"tag":477,"props":1536,"children":1537},{"style":571},[1538],{"type":400,"value":683},{"type":394,"tag":477,"props":1540,"children":1541},{"style":555},[1542],{"type":400,"value":1009},{"type":394,"tag":477,"props":1544,"children":1546},{"class":479,"line":1545},17,[1547,1551,1555,1559,1563,1567,1571,1575],{"type":394,"tag":477,"props":1548,"children":1549},{"style":555},[1550],{"type":400,"value":1470},{"type":394,"tag":477,"props":1552,"children":1553},{"style":490},[1554],{"type":400,"value":927},{"type":394,"tag":477,"props":1556,"children":1557},{"style":484},[1558],{"type":400,"value":668},{"type":394,"tag":477,"props":1560,"children":1561},{"style":490},[1562],{"type":400,"value":674},{"type":394,"tag":477,"props":1564,"children":1565},{"style":555},[1566],{"type":400,"value":885},{"type":394,"tag":477,"props":1568,"children":1569},{"style":571},[1570],{"type":400,"value":834},{"type":394,"tag":477,"props":1572,"children":1573},{"style":577},[1574],{"type":400,"value":580},{"type":394,"tag":477,"props":1576,"children":1577},{"style":571},[1578],{"type":400,"value":844},{"type":394,"tag":477,"props":1580,"children":1582},{"class":479,"line":1581},18,[1583],{"type":394,"tag":477,"props":1584,"children":1585},{"style":948},[1586],{"type":400,"value":1587},"            )\n",{"type":394,"tag":477,"props":1589,"children":1591},{"class":479,"line":1590},19,[1592,1597],{"type":394,"tag":477,"props":1593,"children":1594},{"style":484},[1595],{"type":400,"value":1596},"        }",{"type":394,"tag":477,"props":1598,"children":1599},{"style":948},[1600],{"type":400,"value":1107},{"type":394,"tag":477,"props":1602,"children":1604},{"class":479,"line":1603},20,[1605,1610,1615,1619,1624,1629],{"type":394,"tag":477,"props":1606,"children":1607},{"style":484},[1608],{"type":400,"value":1609},"    }",{"type":394,"tag":477,"props":1611,"children":1612},{"style":958},[1613],{"type":400,"value":1614}," catch",{"type":394,"tag":477,"props":1616,"children":1617},{"style":948},[1618],{"type":400,"value":493},{"type":394,"tag":477,"props":1620,"children":1621},{"style":490},[1622],{"type":400,"value":1623},"e",{"type":394,"tag":477,"props":1625,"children":1626},{"style":948},[1627],{"type":400,"value":1628},") ",{"type":394,"tag":477,"props":1630,"children":1631},{"style":484},[1632],{"type":400,"value":1633},"{\n",{"type":394,"tag":477,"props":1635,"children":1637},{"class":479,"line":1636},21,[1638],{"type":394,"tag":477,"props":1639,"children":1640},{"style":536},[1641],{"type":400,"value":1642},"        // assign a false positive if detection fails => unable to shiv\n",{"type":394,"tag":477,"props":1644,"children":1646},{"class":479,"line":1645},22,[1647,1651,1655],{"type":394,"tag":477,"props":1648,"children":1649},{"style":490},[1650],{"type":400,"value":1255},{"type":394,"tag":477,"props":1652,"children":1653},{"style":555},[1654],{"type":400,"value":932},{"type":394,"tag":477,"props":1656,"children":1658},{"style":1657},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1659],{"type":400,"value":1660}," true\n",{"type":394,"tag":477,"props":1662,"children":1664},{"class":479,"line":1663},23,[1665,1669,1673],{"type":394,"tag":477,"props":1666,"children":1667},{"style":490},[1668],{"type":400,"value":1303},{"type":394,"tag":477,"props":1670,"children":1671},{"style":555},[1672],{"type":400,"value":932},{"type":394,"tag":477,"props":1674,"children":1675},{"style":1657},[1676],{"type":400,"value":1660},{"type":394,"tag":477,"props":1678,"children":1680},{"class":479,"line":1679},24,[1681],{"type":394,"tag":477,"props":1682,"children":1683},{"style":484},[1684],{"type":400,"value":1685},"    }\n",{"type":394,"tag":477,"props":1687,"children":1689},{"class":479,"line":1688},25,[1690,1694],{"type":394,"tag":477,"props":1691,"children":1692},{"style":484},[1693],{"type":400,"value":548},{"type":394,"tag":477,"props":1695,"children":1696},{"style":490},[1697],{"type":400,"value":1107},{"type":394,"tag":455,"props":1699,"children":1701},{"id":1700},"功能仿制",[1702],{"type":400,"value":1700},{"type":394,"tag":408,"props":1704,"children":1705},{},[1706],{"type":400,"value":1707},"每个页面可能有多个 iframe，所以可能有多个 document 对象。因为不同 document 对象可被 shiv 的元素可能不同，所以需要一个变量用作记录。",{"type":394,"tag":408,"props":1709,"children":1710},{},[1711],{"type":400,"value":1712},"getExpandoData 方法在传入的 document 对象下挂载了一个属性名为 '_html5shiv' 的空对象，用来便捷存放某些数据（比如说元素缓存），并返回对象单例。",{"type":394,"tag":466,"props":1714,"children":1716},{"className":468,"code":1715,"language":470,"meta":388,"style":388},"var expandoData = {}\nvar expanID = 0\nvar expando = '_html5shiv'\nfunction getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]]\n    if (!data) {\n        data = {}\n        expanID++\n        ownerDocument[expando] = expanID\n        expandoData[expanID] = data\n    }\n    return data\n  }\n",[1717],{"type":394,"tag":473,"props":1718,"children":1719},{"__ignoreMap":388},[1720,1742,1763,1792,1821,1865,1895,1911,1924,1954,1984,1991,2002],{"type":394,"tag":477,"props":1721,"children":1722},{"class":479,"line":480},[1723,1728,1733,1737],{"type":394,"tag":477,"props":1724,"children":1725},{"style":496},[1726],{"type":400,"value":1727},"var",{"type":394,"tag":477,"props":1729,"children":1730},{"style":490},[1731],{"type":400,"value":1732}," expandoData ",{"type":394,"tag":477,"props":1734,"children":1735},{"style":555},[1736],{"type":400,"value":659},{"type":394,"tag":477,"props":1738,"children":1739},{"style":484},[1740],{"type":400,"value":1741}," {}\n",{"type":394,"tag":477,"props":1743,"children":1744},{"class":479,"line":532},[1745,1749,1754,1758],{"type":394,"tag":477,"props":1746,"children":1747},{"style":496},[1748],{"type":400,"value":1727},{"type":394,"tag":477,"props":1750,"children":1751},{"style":490},[1752],{"type":400,"value":1753}," expanID ",{"type":394,"tag":477,"props":1755,"children":1756},{"style":555},[1757],{"type":400,"value":659},{"type":394,"tag":477,"props":1759,"children":1760},{"style":888},[1761],{"type":400,"value":1762}," 0\n",{"type":394,"tag":477,"props":1764,"children":1765},{"class":479,"line":542},[1766,1770,1775,1779,1783,1788],{"type":394,"tag":477,"props":1767,"children":1768},{"style":496},[1769],{"type":400,"value":1727},{"type":394,"tag":477,"props":1771,"children":1772},{"style":490},[1773],{"type":400,"value":1774}," expando ",{"type":394,"tag":477,"props":1776,"children":1777},{"style":555},[1778],{"type":400,"value":659},{"type":394,"tag":477,"props":1780,"children":1781},{"style":571},[1782],{"type":400,"value":834},{"type":394,"tag":477,"props":1784,"children":1785},{"style":577},[1786],{"type":400,"value":1787},"_html5shiv",{"type":394,"tag":477,"props":1789,"children":1790},{"style":571},[1791],{"type":400,"value":844},{"type":394,"tag":477,"props":1793,"children":1794},{"class":479,"line":916},[1795,1799,1804,1808,1813,1817],{"type":394,"tag":477,"props":1796,"children":1797},{"style":496},[1798],{"type":400,"value":499},{"type":394,"tag":477,"props":1800,"children":1801},{"style":671},[1802],{"type":400,"value":1803}," getExpandoData",{"type":394,"tag":477,"props":1805,"children":1806},{"style":484},[1807],{"type":400,"value":493},{"type":394,"tag":477,"props":1809,"children":1810},{"style":506},[1811],{"type":400,"value":1812},"ownerDocument",{"type":394,"tag":477,"props":1814,"children":1815},{"style":484},[1816],{"type":400,"value":524},{"type":394,"tag":477,"props":1818,"children":1819},{"style":484},[1820],{"type":400,"value":529},{"type":394,"tag":477,"props":1822,"children":1823},{"class":479,"line":954},[1824,1828,1833,1837,1842,1847,1851,1855,1860],{"type":394,"tag":477,"props":1825,"children":1826},{"style":496},[1827],{"type":400,"value":922},{"type":394,"tag":477,"props":1829,"children":1830},{"style":490},[1831],{"type":400,"value":1832}," data",{"type":394,"tag":477,"props":1834,"children":1835},{"style":555},[1836],{"type":400,"value":932},{"type":394,"tag":477,"props":1838,"children":1839},{"style":490},[1840],{"type":400,"value":1841}," expandoData",{"type":394,"tag":477,"props":1843,"children":1844},{"style":948},[1845],{"type":400,"value":1846},"[",{"type":394,"tag":477,"props":1848,"children":1849},{"style":490},[1850],{"type":400,"value":1812},{"type":394,"tag":477,"props":1852,"children":1853},{"style":948},[1854],{"type":400,"value":1846},{"type":394,"tag":477,"props":1856,"children":1857},{"style":490},[1858],{"type":400,"value":1859},"expando",{"type":394,"tag":477,"props":1861,"children":1862},{"style":948},[1863],{"type":400,"value":1864},"]]\n",{"type":394,"tag":477,"props":1866,"children":1867},{"class":479,"line":969},[1868,1873,1877,1882,1887,1891],{"type":394,"tag":477,"props":1869,"children":1870},{"style":958},[1871],{"type":400,"value":1872},"    if",{"type":394,"tag":477,"props":1874,"children":1875},{"style":948},[1876],{"type":400,"value":713},{"type":394,"tag":477,"props":1878,"children":1879},{"style":555},[1880],{"type":400,"value":1881},"!",{"type":394,"tag":477,"props":1883,"children":1884},{"style":490},[1885],{"type":400,"value":1886},"data",{"type":394,"tag":477,"props":1888,"children":1889},{"style":948},[1890],{"type":400,"value":1628},{"type":394,"tag":477,"props":1892,"children":1893},{"style":484},[1894],{"type":400,"value":1633},{"type":394,"tag":477,"props":1896,"children":1897},{"class":479,"line":1012},[1898,1903,1907],{"type":394,"tag":477,"props":1899,"children":1900},{"style":490},[1901],{"type":400,"value":1902},"        data",{"type":394,"tag":477,"props":1904,"children":1905},{"style":555},[1906],{"type":400,"value":932},{"type":394,"tag":477,"props":1908,"children":1909},{"style":484},[1910],{"type":400,"value":1741},{"type":394,"tag":477,"props":1912,"children":1913},{"class":479,"line":1052},[1914,1919],{"type":394,"tag":477,"props":1915,"children":1916},{"style":490},[1917],{"type":400,"value":1918},"        expanID",{"type":394,"tag":477,"props":1920,"children":1921},{"style":555},[1922],{"type":400,"value":1923},"++\n",{"type":394,"tag":477,"props":1925,"children":1926},{"class":479,"line":1088},[1927,1932,1936,1940,1945,1949],{"type":394,"tag":477,"props":1928,"children":1929},{"style":490},[1930],{"type":400,"value":1931},"        ownerDocument",{"type":394,"tag":477,"props":1933,"children":1934},{"style":948},[1935],{"type":400,"value":1846},{"type":394,"tag":477,"props":1937,"children":1938},{"style":490},[1939],{"type":400,"value":1859},{"type":394,"tag":477,"props":1941,"children":1942},{"style":948},[1943],{"type":400,"value":1944},"] ",{"type":394,"tag":477,"props":1946,"children":1947},{"style":555},[1948],{"type":400,"value":659},{"type":394,"tag":477,"props":1950,"children":1951},{"style":490},[1952],{"type":400,"value":1953}," expanID\n",{"type":394,"tag":477,"props":1955,"children":1956},{"class":479,"line":1097},[1957,1962,1966,1971,1975,1979],{"type":394,"tag":477,"props":1958,"children":1959},{"style":490},[1960],{"type":400,"value":1961},"        expandoData",{"type":394,"tag":477,"props":1963,"children":1964},{"style":948},[1965],{"type":400,"value":1846},{"type":394,"tag":477,"props":1967,"children":1968},{"style":490},[1969],{"type":400,"value":1970},"expanID",{"type":394,"tag":477,"props":1972,"children":1973},{"style":948},[1974],{"type":400,"value":1944},{"type":394,"tag":477,"props":1976,"children":1977},{"style":555},[1978],{"type":400,"value":659},{"type":394,"tag":477,"props":1980,"children":1981},{"style":490},[1982],{"type":400,"value":1983}," data\n",{"type":394,"tag":477,"props":1985,"children":1986},{"class":479,"line":1366},[1987],{"type":394,"tag":477,"props":1988,"children":1989},{"style":484},[1990],{"type":400,"value":1685},{"type":394,"tag":477,"props":1992,"children":1993},{"class":479,"line":1375},[1994,1998],{"type":394,"tag":477,"props":1995,"children":1996},{"style":958},[1997],{"type":400,"value":961},{"type":394,"tag":477,"props":1999,"children":2000},{"style":490},[2001],{"type":400,"value":1983},{"type":394,"tag":477,"props":2003,"children":2004},{"class":479,"line":1418},[2005],{"type":394,"tag":477,"props":2006,"children":2007},{"style":484},[2008],{"type":400,"value":2009},"  }\n",{"type":394,"tag":408,"props":2011,"children":2012},{},[2013],{"type":400,"value":2014},"如何对 document 进行 html5 的增强呢？原理体现都在 shivDocument 这个函数了，只需要增强浏览器原生的 createElement 等 API 的功能，再添加对应的元素样式就好了。",{"type":394,"tag":466,"props":2016,"children":2018},{"className":468,"code":2017,"language":470,"meta":388,"style":388},"function shivDocument(ownerDocument) {\n    // 挂载 document._html5shiv\n    var data = getExpandoData(ownerDocument)\n\n    // 增强样式\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      )\n    }\n\n    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n    // 如果当前浏览器连 document.createElement 都会报错，\n    // 那就没办法 shiv 了，只好假装一切正常...\n    if (!supportsUnknownElements) {\n      // 增强 createElement 和 createDocumentFragment\n      shivMethods(ownerDocument, data)\n    }\n    return ownerDocument\n  }\n",[2019],{"type":394,"tag":473,"props":2020,"children":2021},{"__ignoreMap":388},[2022,2050,2058,2089,2096,2104,2173,2216,2224,2246,2254,2274,2282,2298,2306,2313,2320,2328,2336,2344,2372,2380,2408,2415,2427],{"type":394,"tag":477,"props":2023,"children":2024},{"class":479,"line":480},[2025,2029,2034,2038,2042,2046],{"type":394,"tag":477,"props":2026,"children":2027},{"style":496},[2028],{"type":400,"value":499},{"type":394,"tag":477,"props":2030,"children":2031},{"style":671},[2032],{"type":400,"value":2033}," shivDocument",{"type":394,"tag":477,"props":2035,"children":2036},{"style":484},[2037],{"type":400,"value":493},{"type":394,"tag":477,"props":2039,"children":2040},{"style":506},[2041],{"type":400,"value":1812},{"type":394,"tag":477,"props":2043,"children":2044},{"style":484},[2045],{"type":400,"value":524},{"type":394,"tag":477,"props":2047,"children":2048},{"style":484},[2049],{"type":400,"value":529},{"type":394,"tag":477,"props":2051,"children":2052},{"class":479,"line":532},[2053],{"type":394,"tag":477,"props":2054,"children":2055},{"style":536},[2056],{"type":400,"value":2057},"    // 挂载 document._html5shiv\n",{"type":394,"tag":477,"props":2059,"children":2060},{"class":479,"line":542},[2061,2065,2069,2073,2077,2081,2085],{"type":394,"tag":477,"props":2062,"children":2063},{"style":496},[2064],{"type":400,"value":922},{"type":394,"tag":477,"props":2066,"children":2067},{"style":490},[2068],{"type":400,"value":1832},{"type":394,"tag":477,"props":2070,"children":2071},{"style":555},[2072],{"type":400,"value":932},{"type":394,"tag":477,"props":2074,"children":2075},{"style":671},[2076],{"type":400,"value":1803},{"type":394,"tag":477,"props":2078,"children":2079},{"style":948},[2080],{"type":400,"value":493},{"type":394,"tag":477,"props":2082,"children":2083},{"style":490},[2084],{"type":400,"value":1812},{"type":394,"tag":477,"props":2086,"children":2087},{"style":948},[2088],{"type":400,"value":696},{"type":394,"tag":477,"props":2090,"children":2091},{"class":479,"line":916},[2092],{"type":394,"tag":477,"props":2093,"children":2094},{"emptyLinePlaceholder":387},[2095],{"type":400,"value":1295},{"type":394,"tag":477,"props":2097,"children":2098},{"class":479,"line":954},[2099],{"type":394,"tag":477,"props":2100,"children":2101},{"style":536},[2102],{"type":400,"value":2103},"    // 增强样式\n",{"type":394,"tag":477,"props":2105,"children":2106},{"class":479,"line":969},[2107,2111,2115,2120,2124,2129,2134,2139,2144,2148,2152,2156,2160,2165,2169],{"type":394,"tag":477,"props":2108,"children":2109},{"style":958},[2110],{"type":400,"value":1872},{"type":394,"tag":477,"props":2112,"children":2113},{"style":948},[2114],{"type":400,"value":713},{"type":394,"tag":477,"props":2116,"children":2117},{"style":490},[2118],{"type":400,"value":2119},"html5",{"type":394,"tag":477,"props":2121,"children":2122},{"style":484},[2123],{"type":400,"value":668},{"type":394,"tag":477,"props":2125,"children":2126},{"style":490},[2127],{"type":400,"value":2128},"shivCSS",{"type":394,"tag":477,"props":2130,"children":2131},{"style":555},[2132],{"type":400,"value":2133}," &&",{"type":394,"tag":477,"props":2135,"children":2136},{"style":555},[2137],{"type":400,"value":2138}," !",{"type":394,"tag":477,"props":2140,"children":2141},{"style":490},[2142],{"type":400,"value":2143},"supportsHtml5Styles",{"type":394,"tag":477,"props":2145,"children":2146},{"style":555},[2147],{"type":400,"value":2133},{"type":394,"tag":477,"props":2149,"children":2150},{"style":555},[2151],{"type":400,"value":2138},{"type":394,"tag":477,"props":2153,"children":2154},{"style":490},[2155],{"type":400,"value":1886},{"type":394,"tag":477,"props":2157,"children":2158},{"style":484},[2159],{"type":400,"value":668},{"type":394,"tag":477,"props":2161,"children":2162},{"style":490},[2163],{"type":400,"value":2164},"hasCSS",{"type":394,"tag":477,"props":2166,"children":2167},{"style":948},[2168],{"type":400,"value":1628},{"type":394,"tag":477,"props":2170,"children":2171},{"style":484},[2172],{"type":400,"value":1633},{"type":394,"tag":477,"props":2174,"children":2175},{"class":479,"line":1012},[2176,2181,2185,2189,2193,2198,2203,2207,2211],{"type":394,"tag":477,"props":2177,"children":2178},{"style":490},[2179],{"type":400,"value":2180},"      data",{"type":394,"tag":477,"props":2182,"children":2183},{"style":484},[2184],{"type":400,"value":668},{"type":394,"tag":477,"props":2186,"children":2187},{"style":490},[2188],{"type":400,"value":2164},{"type":394,"tag":477,"props":2190,"children":2191},{"style":555},[2192],{"type":400,"value":932},{"type":394,"tag":477,"props":2194,"children":2195},{"style":555},[2196],{"type":400,"value":2197}," !!",{"type":394,"tag":477,"props":2199,"children":2200},{"style":671},[2201],{"type":400,"value":2202},"addStyleSheet",{"type":394,"tag":477,"props":2204,"children":2205},{"style":948},[2206],{"type":400,"value":493},{"type":394,"tag":477,"props":2208,"children":2209},{"style":490},[2210],{"type":400,"value":1812},{"type":394,"tag":477,"props":2212,"children":2213},{"style":484},[2214],{"type":400,"value":2215},",\n",{"type":394,"tag":477,"props":2217,"children":2218},{"class":479,"line":1052},[2219],{"type":394,"tag":477,"props":2220,"children":2221},{"style":536},[2222],{"type":400,"value":2223},"        // corrects block display not defined in IE6/7/8/9\n",{"type":394,"tag":477,"props":2225,"children":2226},{"class":479,"line":1088},[2227,2232,2237,2241],{"type":394,"tag":477,"props":2228,"children":2229},{"style":571},[2230],{"type":400,"value":2231},"        '",{"type":394,"tag":477,"props":2233,"children":2234},{"style":577},[2235],{"type":400,"value":2236},"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}",{"type":394,"tag":477,"props":2238,"children":2239},{"style":571},[2240],{"type":400,"value":683},{"type":394,"tag":477,"props":2242,"children":2243},{"style":555},[2244],{"type":400,"value":2245}," +\n",{"type":394,"tag":477,"props":2247,"children":2248},{"class":479,"line":1097},[2249],{"type":394,"tag":477,"props":2250,"children":2251},{"style":536},[2252],{"type":400,"value":2253},"        // adds styling not present in IE6/7/8/9\n",{"type":394,"tag":477,"props":2255,"children":2256},{"class":479,"line":1366},[2257,2261,2266,2270],{"type":394,"tag":477,"props":2258,"children":2259},{"style":571},[2260],{"type":400,"value":2231},{"type":394,"tag":477,"props":2262,"children":2263},{"style":577},[2264],{"type":400,"value":2265},"mark{background:#FF0;color:#000}",{"type":394,"tag":477,"props":2267,"children":2268},{"style":571},[2269],{"type":400,"value":683},{"type":394,"tag":477,"props":2271,"children":2272},{"style":555},[2273],{"type":400,"value":2245},{"type":394,"tag":477,"props":2275,"children":2276},{"class":479,"line":1375},[2277],{"type":394,"tag":477,"props":2278,"children":2279},{"style":536},[2280],{"type":400,"value":2281},"        // hides non-rendered elements\n",{"type":394,"tag":477,"props":2283,"children":2284},{"class":479,"line":1418},[2285,2289,2294],{"type":394,"tag":477,"props":2286,"children":2287},{"style":571},[2288],{"type":400,"value":2231},{"type":394,"tag":477,"props":2290,"children":2291},{"style":577},[2292],{"type":400,"value":2293},"template{display:none}",{"type":394,"tag":477,"props":2295,"children":2296},{"style":571},[2297],{"type":400,"value":844},{"type":394,"tag":477,"props":2299,"children":2300},{"class":479,"line":1451},[2301],{"type":394,"tag":477,"props":2302,"children":2303},{"style":948},[2304],{"type":400,"value":2305},"      )\n",{"type":394,"tag":477,"props":2307,"children":2308},{"class":479,"line":1464},[2309],{"type":394,"tag":477,"props":2310,"children":2311},{"style":484},[2312],{"type":400,"value":1685},{"type":394,"tag":477,"props":2314,"children":2315},{"class":479,"line":1505},[2316],{"type":394,"tag":477,"props":2317,"children":2318},{"emptyLinePlaceholder":387},[2319],{"type":400,"value":1295},{"type":394,"tag":477,"props":2321,"children":2322},{"class":479,"line":1545},[2323],{"type":394,"tag":477,"props":2324,"children":2325},{"style":536},[2326],{"type":400,"value":2327},"    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n",{"type":394,"tag":477,"props":2329,"children":2330},{"class":479,"line":1581},[2331],{"type":394,"tag":477,"props":2332,"children":2333},{"style":536},[2334],{"type":400,"value":2335},"    // 如果当前浏览器连 document.createElement 都会报错，\n",{"type":394,"tag":477,"props":2337,"children":2338},{"class":479,"line":1590},[2339],{"type":394,"tag":477,"props":2340,"children":2341},{"style":536},[2342],{"type":400,"value":2343},"    // 那就没办法 shiv 了，只好假装一切正常...\n",{"type":394,"tag":477,"props":2345,"children":2346},{"class":479,"line":1603},[2347,2351,2355,2359,2364,2368],{"type":394,"tag":477,"props":2348,"children":2349},{"style":958},[2350],{"type":400,"value":1872},{"type":394,"tag":477,"props":2352,"children":2353},{"style":948},[2354],{"type":400,"value":713},{"type":394,"tag":477,"props":2356,"children":2357},{"style":555},[2358],{"type":400,"value":1881},{"type":394,"tag":477,"props":2360,"children":2361},{"style":490},[2362],{"type":400,"value":2363},"supportsUnknownElements",{"type":394,"tag":477,"props":2365,"children":2366},{"style":948},[2367],{"type":400,"value":1628},{"type":394,"tag":477,"props":2369,"children":2370},{"style":484},[2371],{"type":400,"value":1633},{"type":394,"tag":477,"props":2373,"children":2374},{"class":479,"line":1636},[2375],{"type":394,"tag":477,"props":2376,"children":2377},{"style":536},[2378],{"type":400,"value":2379},"      // 增强 createElement 和 createDocumentFragment\n",{"type":394,"tag":477,"props":2381,"children":2382},{"class":479,"line":1645},[2383,2388,2392,2396,2400,2404],{"type":394,"tag":477,"props":2384,"children":2385},{"style":671},[2386],{"type":400,"value":2387},"      shivMethods",{"type":394,"tag":477,"props":2389,"children":2390},{"style":948},[2391],{"type":400,"value":493},{"type":394,"tag":477,"props":2393,"children":2394},{"style":490},[2395],{"type":400,"value":1812},{"type":394,"tag":477,"props":2397,"children":2398},{"style":484},[2399],{"type":400,"value":514},{"type":394,"tag":477,"props":2401,"children":2402},{"style":490},[2403],{"type":400,"value":1832},{"type":394,"tag":477,"props":2405,"children":2406},{"style":948},[2407],{"type":400,"value":696},{"type":394,"tag":477,"props":2409,"children":2410},{"class":479,"line":1663},[2411],{"type":394,"tag":477,"props":2412,"children":2413},{"style":484},[2414],{"type":400,"value":1685},{"type":394,"tag":477,"props":2416,"children":2417},{"class":479,"line":1679},[2418,2422],{"type":394,"tag":477,"props":2419,"children":2420},{"style":958},[2421],{"type":400,"value":961},{"type":394,"tag":477,"props":2423,"children":2424},{"style":490},[2425],{"type":400,"value":2426}," ownerDocument\n",{"type":394,"tag":477,"props":2428,"children":2429},{"class":479,"line":1688},[2430],{"type":394,"tag":477,"props":2431,"children":2432},{"style":484},[2433],{"type":400,"value":2009},{"type":394,"tag":408,"props":2435,"children":2436},{},[2437],{"type":400,"value":2438},"接下来，仔细康康 shivMethods 方法。shivMethods 仿制了 createElement 和 createDocumentFragment 两个 API，将其挂载到 document._html5shiv。并通过装饰器模式增强了浏览器原生的 createElement 等 API 的功能。",{"type":394,"tag":466,"props":2440,"children":2442},{"className":468,"code":2441,"language":470,"meta":388,"style":388},"function shivMethods(ownerDocument, data) {\n    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n    if (!data.cache) {\n        data.cache = {}\n        data.createElem = ownerDocument.createElement\n        data.createFrag = ownerDocument.createDocumentFragment\n        data.frag = data.createFrag()\n    }\n\n    ownerDocument.createElement = function(nodeName) {\n      // shivMethods 可看作全局的 shiv 开关\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName)\n      }\n      return createElement(nodeName, ownerDocument, data)\n    }\n\n    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n    // 最终返回 data.frag 的克隆函数\n    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n    // 猜测它只能在老版本 IE 上起作用\n    ownerDocument.createDocumentFragment = Function(\n      'html5,dataFrag', \n      'return function(){' +\n        'var clone=dataFrag.cloneNode(),create=clone.createElement' +\n        'html5.shivMethods&&(' +\n            // unroll the `createElement` calls\n            getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n            data.createElem(nodeName)\n            data.frag.createElement(nodeName)\n            return 'create(\"' + nodeName + '\")'\n            }) +\n        ')return clone' +\n      '}'\n    )(html5, data.frag)\n  }\n",[2443],{"type":394,"tag":473,"props":2444,"children":2445},{"__ignoreMap":388},[2446,2482,2490,2526,2549,2583,2616,2652,2659,2666,2708,2716,2753,2785,2793,2834,2841,2848,2856,2864,2872,2880,2909,2935,2955,2975,2996,3005,3104,3133,3169,3217,3235,3256,3272,3305],{"type":394,"tag":477,"props":2447,"children":2448},{"class":479,"line":480},[2449,2453,2458,2462,2466,2470,2474,2478],{"type":394,"tag":477,"props":2450,"children":2451},{"style":496},[2452],{"type":400,"value":499},{"type":394,"tag":477,"props":2454,"children":2455},{"style":671},[2456],{"type":400,"value":2457}," shivMethods",{"type":394,"tag":477,"props":2459,"children":2460},{"style":484},[2461],{"type":400,"value":493},{"type":394,"tag":477,"props":2463,"children":2464},{"style":506},[2465],{"type":400,"value":1812},{"type":394,"tag":477,"props":2467,"children":2468},{"style":484},[2469],{"type":400,"value":514},{"type":394,"tag":477,"props":2471,"children":2472},{"style":506},[2473],{"type":400,"value":1832},{"type":394,"tag":477,"props":2475,"children":2476},{"style":484},[2477],{"type":400,"value":524},{"type":394,"tag":477,"props":2479,"children":2480},{"style":484},[2481],{"type":400,"value":529},{"type":394,"tag":477,"props":2483,"children":2484},{"class":479,"line":532},[2485],{"type":394,"tag":477,"props":2486,"children":2487},{"style":536},[2488],{"type":400,"value":2489},"    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n",{"type":394,"tag":477,"props":2491,"children":2492},{"class":479,"line":542},[2493,2497,2501,2505,2509,2513,2518,2522],{"type":394,"tag":477,"props":2494,"children":2495},{"style":958},[2496],{"type":400,"value":1872},{"type":394,"tag":477,"props":2498,"children":2499},{"style":948},[2500],{"type":400,"value":713},{"type":394,"tag":477,"props":2502,"children":2503},{"style":555},[2504],{"type":400,"value":1881},{"type":394,"tag":477,"props":2506,"children":2507},{"style":490},[2508],{"type":400,"value":1886},{"type":394,"tag":477,"props":2510,"children":2511},{"style":484},[2512],{"type":400,"value":668},{"type":394,"tag":477,"props":2514,"children":2515},{"style":490},[2516],{"type":400,"value":2517},"cache",{"type":394,"tag":477,"props":2519,"children":2520},{"style":948},[2521],{"type":400,"value":1628},{"type":394,"tag":477,"props":2523,"children":2524},{"style":484},[2525],{"type":400,"value":1633},{"type":394,"tag":477,"props":2527,"children":2528},{"class":479,"line":916},[2529,2533,2537,2541,2545],{"type":394,"tag":477,"props":2530,"children":2531},{"style":490},[2532],{"type":400,"value":1902},{"type":394,"tag":477,"props":2534,"children":2535},{"style":484},[2536],{"type":400,"value":668},{"type":394,"tag":477,"props":2538,"children":2539},{"style":490},[2540],{"type":400,"value":2517},{"type":394,"tag":477,"props":2542,"children":2543},{"style":555},[2544],{"type":400,"value":932},{"type":394,"tag":477,"props":2546,"children":2547},{"style":484},[2548],{"type":400,"value":1741},{"type":394,"tag":477,"props":2550,"children":2551},{"class":479,"line":954},[2552,2556,2560,2565,2569,2574,2578],{"type":394,"tag":477,"props":2553,"children":2554},{"style":490},[2555],{"type":400,"value":1902},{"type":394,"tag":477,"props":2557,"children":2558},{"style":484},[2559],{"type":400,"value":668},{"type":394,"tag":477,"props":2561,"children":2562},{"style":490},[2563],{"type":400,"value":2564},"createElem",{"type":394,"tag":477,"props":2566,"children":2567},{"style":555},[2568],{"type":400,"value":932},{"type":394,"tag":477,"props":2570,"children":2571},{"style":490},[2572],{"type":400,"value":2573}," ownerDocument",{"type":394,"tag":477,"props":2575,"children":2576},{"style":484},[2577],{"type":400,"value":668},{"type":394,"tag":477,"props":2579,"children":2580},{"style":490},[2581],{"type":400,"value":2582},"createElement\n",{"type":394,"tag":477,"props":2584,"children":2585},{"class":479,"line":969},[2586,2590,2594,2599,2603,2607,2611],{"type":394,"tag":477,"props":2587,"children":2588},{"style":490},[2589],{"type":400,"value":1902},{"type":394,"tag":477,"props":2591,"children":2592},{"style":484},[2593],{"type":400,"value":668},{"type":394,"tag":477,"props":2595,"children":2596},{"style":490},[2597],{"type":400,"value":2598},"createFrag",{"type":394,"tag":477,"props":2600,"children":2601},{"style":555},[2602],{"type":400,"value":932},{"type":394,"tag":477,"props":2604,"children":2605},{"style":490},[2606],{"type":400,"value":2573},{"type":394,"tag":477,"props":2608,"children":2609},{"style":484},[2610],{"type":400,"value":668},{"type":394,"tag":477,"props":2612,"children":2613},{"style":490},[2614],{"type":400,"value":2615},"createDocumentFragment\n",{"type":394,"tag":477,"props":2617,"children":2618},{"class":479,"line":1012},[2619,2623,2627,2632,2636,2640,2644,2648],{"type":394,"tag":477,"props":2620,"children":2621},{"style":490},[2622],{"type":400,"value":1902},{"type":394,"tag":477,"props":2624,"children":2625},{"style":484},[2626],{"type":400,"value":668},{"type":394,"tag":477,"props":2628,"children":2629},{"style":490},[2630],{"type":400,"value":2631},"frag",{"type":394,"tag":477,"props":2633,"children":2634},{"style":555},[2635],{"type":400,"value":932},{"type":394,"tag":477,"props":2637,"children":2638},{"style":490},[2639],{"type":400,"value":1832},{"type":394,"tag":477,"props":2641,"children":2642},{"style":484},[2643],{"type":400,"value":668},{"type":394,"tag":477,"props":2645,"children":2646},{"style":671},[2647],{"type":400,"value":2598},{"type":394,"tag":477,"props":2649,"children":2650},{"style":948},[2651],{"type":400,"value":951},{"type":394,"tag":477,"props":2653,"children":2654},{"class":479,"line":1052},[2655],{"type":394,"tag":477,"props":2656,"children":2657},{"style":484},[2658],{"type":400,"value":1685},{"type":394,"tag":477,"props":2660,"children":2661},{"class":479,"line":1088},[2662],{"type":394,"tag":477,"props":2663,"children":2664},{"emptyLinePlaceholder":387},[2665],{"type":400,"value":1295},{"type":394,"tag":477,"props":2667,"children":2668},{"class":479,"line":1097},[2669,2674,2678,2682,2686,2691,2695,2700,2704],{"type":394,"tag":477,"props":2670,"children":2671},{"style":490},[2672],{"type":400,"value":2673},"    ownerDocument",{"type":394,"tag":477,"props":2675,"children":2676},{"style":484},[2677],{"type":400,"value":668},{"type":394,"tag":477,"props":2679,"children":2680},{"style":671},[2681],{"type":400,"value":674},{"type":394,"tag":477,"props":2683,"children":2684},{"style":555},[2685],{"type":400,"value":932},{"type":394,"tag":477,"props":2687,"children":2688},{"style":496},[2689],{"type":400,"value":2690}," function",{"type":394,"tag":477,"props":2692,"children":2693},{"style":484},[2694],{"type":400,"value":493},{"type":394,"tag":477,"props":2696,"children":2697},{"style":506},[2698],{"type":400,"value":2699},"nodeName",{"type":394,"tag":477,"props":2701,"children":2702},{"style":484},[2703],{"type":400,"value":524},{"type":394,"tag":477,"props":2705,"children":2706},{"style":484},[2707],{"type":400,"value":529},{"type":394,"tag":477,"props":2709,"children":2710},{"class":479,"line":1366},[2711],{"type":394,"tag":477,"props":2712,"children":2713},{"style":536},[2714],{"type":400,"value":2715},"      // shivMethods 可看作全局的 shiv 开关\n",{"type":394,"tag":477,"props":2717,"children":2718},{"class":479,"line":1375},[2719,2724,2728,2732,2736,2740,2745,2749],{"type":394,"tag":477,"props":2720,"children":2721},{"style":958},[2722],{"type":400,"value":2723},"      if",{"type":394,"tag":477,"props":2725,"children":2726},{"style":948},[2727],{"type":400,"value":713},{"type":394,"tag":477,"props":2729,"children":2730},{"style":555},[2731],{"type":400,"value":1881},{"type":394,"tag":477,"props":2733,"children":2734},{"style":490},[2735],{"type":400,"value":2119},{"type":394,"tag":477,"props":2737,"children":2738},{"style":484},[2739],{"type":400,"value":668},{"type":394,"tag":477,"props":2741,"children":2742},{"style":490},[2743],{"type":400,"value":2744},"shivMethods",{"type":394,"tag":477,"props":2746,"children":2747},{"style":948},[2748],{"type":400,"value":1628},{"type":394,"tag":477,"props":2750,"children":2751},{"style":484},[2752],{"type":400,"value":1633},{"type":394,"tag":477,"props":2754,"children":2755},{"class":479,"line":1418},[2756,2761,2765,2769,2773,2777,2781],{"type":394,"tag":477,"props":2757,"children":2758},{"style":958},[2759],{"type":400,"value":2760},"          return",{"type":394,"tag":477,"props":2762,"children":2763},{"style":490},[2764],{"type":400,"value":1832},{"type":394,"tag":477,"props":2766,"children":2767},{"style":484},[2768],{"type":400,"value":668},{"type":394,"tag":477,"props":2770,"children":2771},{"style":671},[2772],{"type":400,"value":2564},{"type":394,"tag":477,"props":2774,"children":2775},{"style":948},[2776],{"type":400,"value":493},{"type":394,"tag":477,"props":2778,"children":2779},{"style":490},[2780],{"type":400,"value":2699},{"type":394,"tag":477,"props":2782,"children":2783},{"style":948},[2784],{"type":400,"value":696},{"type":394,"tag":477,"props":2786,"children":2787},{"class":479,"line":1451},[2788],{"type":394,"tag":477,"props":2789,"children":2790},{"style":484},[2791],{"type":400,"value":2792},"      }\n",{"type":394,"tag":477,"props":2794,"children":2795},{"class":479,"line":1464},[2796,2801,2806,2810,2814,2818,2822,2826,2830],{"type":394,"tag":477,"props":2797,"children":2798},{"style":958},[2799],{"type":400,"value":2800},"      return",{"type":394,"tag":477,"props":2802,"children":2803},{"style":671},[2804],{"type":400,"value":2805}," createElement",{"type":394,"tag":477,"props":2807,"children":2808},{"style":948},[2809],{"type":400,"value":493},{"type":394,"tag":477,"props":2811,"children":2812},{"style":490},[2813],{"type":400,"value":2699},{"type":394,"tag":477,"props":2815,"children":2816},{"style":484},[2817],{"type":400,"value":514},{"type":394,"tag":477,"props":2819,"children":2820},{"style":490},[2821],{"type":400,"value":2573},{"type":394,"tag":477,"props":2823,"children":2824},{"style":484},[2825],{"type":400,"value":514},{"type":394,"tag":477,"props":2827,"children":2828},{"style":490},[2829],{"type":400,"value":1832},{"type":394,"tag":477,"props":2831,"children":2832},{"style":948},[2833],{"type":400,"value":696},{"type":394,"tag":477,"props":2835,"children":2836},{"class":479,"line":1505},[2837],{"type":394,"tag":477,"props":2838,"children":2839},{"style":484},[2840],{"type":400,"value":1685},{"type":394,"tag":477,"props":2842,"children":2843},{"class":479,"line":1545},[2844],{"type":394,"tag":477,"props":2845,"children":2846},{"emptyLinePlaceholder":387},[2847],{"type":400,"value":1295},{"type":394,"tag":477,"props":2849,"children":2850},{"class":479,"line":1581},[2851],{"type":394,"tag":477,"props":2852,"children":2853},{"style":536},[2854],{"type":400,"value":2855},"    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n",{"type":394,"tag":477,"props":2857,"children":2858},{"class":479,"line":1590},[2859],{"type":394,"tag":477,"props":2860,"children":2861},{"style":536},[2862],{"type":400,"value":2863},"    // 最终返回 data.frag 的克隆函数\n",{"type":394,"tag":477,"props":2865,"children":2866},{"class":479,"line":1603},[2867],{"type":394,"tag":477,"props":2868,"children":2869},{"style":536},[2870],{"type":400,"value":2871},"    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n",{"type":394,"tag":477,"props":2873,"children":2874},{"class":479,"line":1636},[2875],{"type":394,"tag":477,"props":2876,"children":2877},{"style":536},[2878],{"type":400,"value":2879},"    // 猜测它只能在老版本 IE 上起作用\n",{"type":394,"tag":477,"props":2881,"children":2882},{"class":479,"line":1645},[2883,2887,2891,2895,2899,2904],{"type":394,"tag":477,"props":2884,"children":2885},{"style":490},[2886],{"type":400,"value":2673},{"type":394,"tag":477,"props":2888,"children":2889},{"style":484},[2890],{"type":400,"value":668},{"type":394,"tag":477,"props":2892,"children":2893},{"style":490},[2894],{"type":400,"value":945},{"type":394,"tag":477,"props":2896,"children":2897},{"style":555},[2898],{"type":400,"value":932},{"type":394,"tag":477,"props":2900,"children":2901},{"style":671},[2902],{"type":400,"value":2903}," Function",{"type":394,"tag":477,"props":2905,"children":2906},{"style":948},[2907],{"type":400,"value":2908},"(\n",{"type":394,"tag":477,"props":2910,"children":2911},{"class":479,"line":1663},[2912,2917,2922,2926,2930],{"type":394,"tag":477,"props":2913,"children":2914},{"style":571},[2915],{"type":400,"value":2916},"      '",{"type":394,"tag":477,"props":2918,"children":2919},{"style":577},[2920],{"type":400,"value":2921},"html5,dataFrag",{"type":394,"tag":477,"props":2923,"children":2924},{"style":571},[2925],{"type":400,"value":683},{"type":394,"tag":477,"props":2927,"children":2928},{"style":484},[2929],{"type":400,"value":514},{"type":394,"tag":477,"props":2931,"children":2932},{"style":948},[2933],{"type":400,"value":2934}," \n",{"type":394,"tag":477,"props":2936,"children":2937},{"class":479,"line":1679},[2938,2942,2947,2951],{"type":394,"tag":477,"props":2939,"children":2940},{"style":571},[2941],{"type":400,"value":2916},{"type":394,"tag":477,"props":2943,"children":2944},{"style":577},[2945],{"type":400,"value":2946},"return function(){",{"type":394,"tag":477,"props":2948,"children":2949},{"style":571},[2950],{"type":400,"value":683},{"type":394,"tag":477,"props":2952,"children":2953},{"style":555},[2954],{"type":400,"value":2245},{"type":394,"tag":477,"props":2956,"children":2957},{"class":479,"line":1688},[2958,2962,2967,2971],{"type":394,"tag":477,"props":2959,"children":2960},{"style":571},[2961],{"type":400,"value":2231},{"type":394,"tag":477,"props":2963,"children":2964},{"style":577},[2965],{"type":400,"value":2966},"var clone=dataFrag.cloneNode(),create=clone.createElement",{"type":394,"tag":477,"props":2968,"children":2969},{"style":571},[2970],{"type":400,"value":683},{"type":394,"tag":477,"props":2972,"children":2973},{"style":555},[2974],{"type":400,"value":2245},{"type":394,"tag":477,"props":2976,"children":2978},{"class":479,"line":2977},26,[2979,2983,2988,2992],{"type":394,"tag":477,"props":2980,"children":2981},{"style":571},[2982],{"type":400,"value":2231},{"type":394,"tag":477,"props":2984,"children":2985},{"style":577},[2986],{"type":400,"value":2987},"html5.shivMethods&&(",{"type":394,"tag":477,"props":2989,"children":2990},{"style":571},[2991],{"type":400,"value":683},{"type":394,"tag":477,"props":2993,"children":2994},{"style":555},[2995],{"type":400,"value":2245},{"type":394,"tag":477,"props":2997,"children":2999},{"class":479,"line":2998},27,[3000],{"type":394,"tag":477,"props":3001,"children":3002},{"style":536},[3003],{"type":400,"value":3004},"            // unroll the `createElement` calls\n",{"type":394,"tag":477,"props":3006,"children":3008},{"class":479,"line":3007},28,[3009,3014,3018,3022,3027,3031,3035,3040,3044,3049,3054,3060,3065,3070,3074,3080,3084,3088,3092,3096,3100],{"type":394,"tag":477,"props":3010,"children":3011},{"style":671},[3012],{"type":400,"value":3013},"            getElements",{"type":394,"tag":477,"props":3015,"children":3016},{"style":948},[3017],{"type":400,"value":909},{"type":394,"tag":477,"props":3019,"children":3020},{"style":484},[3021],{"type":400,"value":668},{"type":394,"tag":477,"props":3023,"children":3024},{"style":671},[3025],{"type":400,"value":3026},"join",{"type":394,"tag":477,"props":3028,"children":3029},{"style":948},[3030],{"type":400,"value":909},{"type":394,"tag":477,"props":3032,"children":3033},{"style":484},[3034],{"type":400,"value":668},{"type":394,"tag":477,"props":3036,"children":3037},{"style":671},[3038],{"type":400,"value":3039},"replace",{"type":394,"tag":477,"props":3041,"children":3042},{"style":948},[3043],{"type":400,"value":493},{"type":394,"tag":477,"props":3045,"children":3046},{"style":571},[3047],{"type":400,"value":3048},"/",{"type":394,"tag":477,"props":3050,"children":3052},{"style":3051},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3053],{"type":400,"value":1846},{"type":394,"tag":477,"props":3055,"children":3057},{"style":3056},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3058],{"type":400,"value":3059},"\\w\\-:",{"type":394,"tag":477,"props":3061,"children":3062},{"style":3051},[3063],{"type":400,"value":3064},"]",{"type":394,"tag":477,"props":3066,"children":3067},{"style":555},[3068],{"type":400,"value":3069},"+",{"type":394,"tag":477,"props":3071,"children":3072},{"style":571},[3073],{"type":400,"value":3048},{"type":394,"tag":477,"props":3075,"children":3077},{"style":3076},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[3078],{"type":400,"value":3079},"g",{"type":394,"tag":477,"props":3081,"children":3082},{"style":484},[3083],{"type":400,"value":514},{"type":394,"tag":477,"props":3085,"children":3086},{"style":496},[3087],{"type":400,"value":2690},{"type":394,"tag":477,"props":3089,"children":3090},{"style":484},[3091],{"type":400,"value":493},{"type":394,"tag":477,"props":3093,"children":3094},{"style":506},[3095],{"type":400,"value":2699},{"type":394,"tag":477,"props":3097,"children":3098},{"style":484},[3099],{"type":400,"value":524},{"type":394,"tag":477,"props":3101,"children":3102},{"style":484},[3103],{"type":400,"value":529},{"type":394,"tag":477,"props":3105,"children":3107},{"class":479,"line":3106},29,[3108,3113,3117,3121,3125,3129],{"type":394,"tag":477,"props":3109,"children":3110},{"style":490},[3111],{"type":400,"value":3112},"            data",{"type":394,"tag":477,"props":3114,"children":3115},{"style":484},[3116],{"type":400,"value":668},{"type":394,"tag":477,"props":3118,"children":3119},{"style":671},[3120],{"type":400,"value":2564},{"type":394,"tag":477,"props":3122,"children":3123},{"style":948},[3124],{"type":400,"value":493},{"type":394,"tag":477,"props":3126,"children":3127},{"style":490},[3128],{"type":400,"value":2699},{"type":394,"tag":477,"props":3130,"children":3131},{"style":948},[3132],{"type":400,"value":696},{"type":394,"tag":477,"props":3134,"children":3136},{"class":479,"line":3135},30,[3137,3141,3145,3149,3153,3157,3161,3165],{"type":394,"tag":477,"props":3138,"children":3139},{"style":490},[3140],{"type":400,"value":3112},{"type":394,"tag":477,"props":3142,"children":3143},{"style":484},[3144],{"type":400,"value":668},{"type":394,"tag":477,"props":3146,"children":3147},{"style":490},[3148],{"type":400,"value":2631},{"type":394,"tag":477,"props":3150,"children":3151},{"style":484},[3152],{"type":400,"value":668},{"type":394,"tag":477,"props":3154,"children":3155},{"style":671},[3156],{"type":400,"value":674},{"type":394,"tag":477,"props":3158,"children":3159},{"style":948},[3160],{"type":400,"value":493},{"type":394,"tag":477,"props":3162,"children":3163},{"style":490},[3164],{"type":400,"value":2699},{"type":394,"tag":477,"props":3166,"children":3167},{"style":948},[3168],{"type":400,"value":696},{"type":394,"tag":477,"props":3170,"children":3172},{"class":479,"line":3171},31,[3173,3177,3181,3186,3190,3195,3200,3204,3208,3213],{"type":394,"tag":477,"props":3174,"children":3175},{"style":958},[3176],{"type":400,"value":1457},{"type":394,"tag":477,"props":3178,"children":3179},{"style":571},[3180],{"type":400,"value":834},{"type":394,"tag":477,"props":3182,"children":3183},{"style":577},[3184],{"type":400,"value":3185},"create(\"",{"type":394,"tag":477,"props":3187,"children":3188},{"style":571},[3189],{"type":400,"value":683},{"type":394,"tag":477,"props":3191,"children":3192},{"style":555},[3193],{"type":400,"value":3194}," +",{"type":394,"tag":477,"props":3196,"children":3197},{"style":490},[3198],{"type":400,"value":3199}," nodeName",{"type":394,"tag":477,"props":3201,"children":3202},{"style":555},[3203],{"type":400,"value":3194},{"type":394,"tag":477,"props":3205,"children":3206},{"style":571},[3207],{"type":400,"value":834},{"type":394,"tag":477,"props":3209,"children":3210},{"style":577},[3211],{"type":400,"value":3212},"\")",{"type":394,"tag":477,"props":3214,"children":3215},{"style":571},[3216],{"type":400,"value":844},{"type":394,"tag":477,"props":3218,"children":3220},{"class":479,"line":3219},32,[3221,3226,3230],{"type":394,"tag":477,"props":3222,"children":3223},{"style":484},[3224],{"type":400,"value":3225},"            }",{"type":394,"tag":477,"props":3227,"children":3228},{"style":948},[3229],{"type":400,"value":1628},{"type":394,"tag":477,"props":3231,"children":3232},{"style":555},[3233],{"type":400,"value":3234},"+\n",{"type":394,"tag":477,"props":3236,"children":3238},{"class":479,"line":3237},33,[3239,3243,3248,3252],{"type":394,"tag":477,"props":3240,"children":3241},{"style":571},[3242],{"type":400,"value":2231},{"type":394,"tag":477,"props":3244,"children":3245},{"style":577},[3246],{"type":400,"value":3247},")return clone",{"type":394,"tag":477,"props":3249,"children":3250},{"style":571},[3251],{"type":400,"value":683},{"type":394,"tag":477,"props":3253,"children":3254},{"style":555},[3255],{"type":400,"value":2245},{"type":394,"tag":477,"props":3257,"children":3259},{"class":479,"line":3258},34,[3260,3264,3268],{"type":394,"tag":477,"props":3261,"children":3262},{"style":571},[3263],{"type":400,"value":2916},{"type":394,"tag":477,"props":3265,"children":3266},{"style":577},[3267],{"type":400,"value":548},{"type":394,"tag":477,"props":3269,"children":3270},{"style":571},[3271],{"type":400,"value":844},{"type":394,"tag":477,"props":3273,"children":3275},{"class":479,"line":3274},35,[3276,3281,3285,3289,3293,3297,3301],{"type":394,"tag":477,"props":3277,"children":3278},{"style":948},[3279],{"type":400,"value":3280},"    )(",{"type":394,"tag":477,"props":3282,"children":3283},{"style":490},[3284],{"type":400,"value":2119},{"type":394,"tag":477,"props":3286,"children":3287},{"style":484},[3288],{"type":400,"value":514},{"type":394,"tag":477,"props":3290,"children":3291},{"style":490},[3292],{"type":400,"value":1832},{"type":394,"tag":477,"props":3294,"children":3295},{"style":484},[3296],{"type":400,"value":668},{"type":394,"tag":477,"props":3298,"children":3299},{"style":490},[3300],{"type":400,"value":2631},{"type":394,"tag":477,"props":3302,"children":3303},{"style":948},[3304],{"type":400,"value":696},{"type":394,"tag":477,"props":3306,"children":3308},{"class":479,"line":3307},36,[3309],{"type":394,"tag":477,"props":3310,"children":3311},{"style":484},[3312],{"type":400,"value":2009},{"type":394,"tag":408,"props":3314,"children":3315},{},[3316],{"type":400,"value":3317},"小插曲。我在浏览器测试时发现，若像上面这个函数一样，将 document.createDocumentFrament 先缓存，再调用，会发生报错：",{"type":394,"tag":466,"props":3319,"children":3321},{"className":468,"code":3320,"language":470,"meta":388,"style":388},"data = {}\ndata.createFrag = document.createDocumentFragment\ndata.frag = data.createFrag()\n\n// >>> Uncaught TypeError: Illegal invocation\n",[3322],{"type":394,"tag":473,"props":3323,"children":3324},{"__ignoreMap":388},[3325,3341,3373,3409,3416],{"type":394,"tag":477,"props":3326,"children":3327},{"class":479,"line":480},[3328,3333,3337],{"type":394,"tag":477,"props":3329,"children":3330},{"style":490},[3331],{"type":400,"value":3332},"data ",{"type":394,"tag":477,"props":3334,"children":3335},{"style":555},[3336],{"type":400,"value":659},{"type":394,"tag":477,"props":3338,"children":3339},{"style":484},[3340],{"type":400,"value":1741},{"type":394,"tag":477,"props":3342,"children":3343},{"class":479,"line":532},[3344,3348,3352,3357,3361,3365,3369],{"type":394,"tag":477,"props":3345,"children":3346},{"style":490},[3347],{"type":400,"value":1886},{"type":394,"tag":477,"props":3349,"children":3350},{"style":484},[3351],{"type":400,"value":668},{"type":394,"tag":477,"props":3353,"children":3354},{"style":490},[3355],{"type":400,"value":3356},"createFrag ",{"type":394,"tag":477,"props":3358,"children":3359},{"style":555},[3360],{"type":400,"value":659},{"type":394,"tag":477,"props":3362,"children":3363},{"style":490},[3364],{"type":400,"value":519},{"type":394,"tag":477,"props":3366,"children":3367},{"style":484},[3368],{"type":400,"value":668},{"type":394,"tag":477,"props":3370,"children":3371},{"style":490},[3372],{"type":400,"value":2615},{"type":394,"tag":477,"props":3374,"children":3375},{"class":479,"line":542},[3376,3380,3384,3389,3393,3397,3401,3405],{"type":394,"tag":477,"props":3377,"children":3378},{"style":490},[3379],{"type":400,"value":1886},{"type":394,"tag":477,"props":3381,"children":3382},{"style":484},[3383],{"type":400,"value":668},{"type":394,"tag":477,"props":3385,"children":3386},{"style":490},[3387],{"type":400,"value":3388},"frag ",{"type":394,"tag":477,"props":3390,"children":3391},{"style":555},[3392],{"type":400,"value":659},{"type":394,"tag":477,"props":3394,"children":3395},{"style":490},[3396],{"type":400,"value":1832},{"type":394,"tag":477,"props":3398,"children":3399},{"style":484},[3400],{"type":400,"value":668},{"type":394,"tag":477,"props":3402,"children":3403},{"style":671},[3404],{"type":400,"value":2598},{"type":394,"tag":477,"props":3406,"children":3407},{"style":490},[3408],{"type":400,"value":951},{"type":394,"tag":477,"props":3410,"children":3411},{"class":479,"line":916},[3412],{"type":394,"tag":477,"props":3413,"children":3414},{"emptyLinePlaceholder":387},[3415],{"type":400,"value":1295},{"type":394,"tag":477,"props":3417,"children":3418},{"class":479,"line":954},[3419],{"type":394,"tag":477,"props":3420,"children":3421},{"style":536},[3422],{"type":400,"value":3423},"// >>> Uncaught TypeError: Illegal invocation\n",{"type":394,"tag":408,"props":3425,"children":3426},{},[3427],{"type":400,"value":3428},"由于没有具体的报错原因，只能暂时猜测是 this 指向的锅。更改 this 指向后，再试了一次，这次没得问题。在 GitHub issues 中没有人提过这个问题，所以我只能猜测因为所有现代浏览器都支持使用原生 API 创建非标准元素，所以不会走 shivMethods 的逻辑。",{"type":394,"tag":466,"props":3430,"children":3432},{"className":468,"code":3431,"language":470,"meta":388,"style":388},"data = {}\ndata.createFrag = document.createDocumentFragment.bind(document)\ndata.frag = data.createFrag()\n\n// >>> #document-fragment\n",[3433],{"type":394,"tag":473,"props":3434,"children":3435},{"__ignoreMap":388},[3436,3451,3496,3531,3538],{"type":394,"tag":477,"props":3437,"children":3438},{"class":479,"line":480},[3439,3443,3447],{"type":394,"tag":477,"props":3440,"children":3441},{"style":490},[3442],{"type":400,"value":3332},{"type":394,"tag":477,"props":3444,"children":3445},{"style":555},[3446],{"type":400,"value":659},{"type":394,"tag":477,"props":3448,"children":3449},{"style":484},[3450],{"type":400,"value":1741},{"type":394,"tag":477,"props":3452,"children":3453},{"class":479,"line":532},[3454,3458,3462,3466,3470,3474,3478,3482,3486,3491],{"type":394,"tag":477,"props":3455,"children":3456},{"style":490},[3457],{"type":400,"value":1886},{"type":394,"tag":477,"props":3459,"children":3460},{"style":484},[3461],{"type":400,"value":668},{"type":394,"tag":477,"props":3463,"children":3464},{"style":490},[3465],{"type":400,"value":3356},{"type":394,"tag":477,"props":3467,"children":3468},{"style":555},[3469],{"type":400,"value":659},{"type":394,"tag":477,"props":3471,"children":3472},{"style":490},[3473],{"type":400,"value":519},{"type":394,"tag":477,"props":3475,"children":3476},{"style":484},[3477],{"type":400,"value":668},{"type":394,"tag":477,"props":3479,"children":3480},{"style":490},[3481],{"type":400,"value":945},{"type":394,"tag":477,"props":3483,"children":3484},{"style":484},[3485],{"type":400,"value":668},{"type":394,"tag":477,"props":3487,"children":3488},{"style":671},[3489],{"type":400,"value":3490},"bind",{"type":394,"tag":477,"props":3492,"children":3493},{"style":490},[3494],{"type":400,"value":3495},"(document)\n",{"type":394,"tag":477,"props":3497,"children":3498},{"class":479,"line":542},[3499,3503,3507,3511,3515,3519,3523,3527],{"type":394,"tag":477,"props":3500,"children":3501},{"style":490},[3502],{"type":400,"value":1886},{"type":394,"tag":477,"props":3504,"children":3505},{"style":484},[3506],{"type":400,"value":668},{"type":394,"tag":477,"props":3508,"children":3509},{"style":490},[3510],{"type":400,"value":3388},{"type":394,"tag":477,"props":3512,"children":3513},{"style":555},[3514],{"type":400,"value":659},{"type":394,"tag":477,"props":3516,"children":3517},{"style":490},[3518],{"type":400,"value":1832},{"type":394,"tag":477,"props":3520,"children":3521},{"style":484},[3522],{"type":400,"value":668},{"type":394,"tag":477,"props":3524,"children":3525},{"style":671},[3526],{"type":400,"value":2598},{"type":394,"tag":477,"props":3528,"children":3529},{"style":490},[3530],{"type":400,"value":951},{"type":394,"tag":477,"props":3532,"children":3533},{"class":479,"line":916},[3534],{"type":394,"tag":477,"props":3535,"children":3536},{"emptyLinePlaceholder":387},[3537],{"type":400,"value":1295},{"type":394,"tag":477,"props":3539,"children":3540},{"class":479,"line":954},[3541],{"type":394,"tag":477,"props":3542,"children":3543},{"style":536},[3544],{"type":400,"value":3545},"// >>> #document-fragment\n",{"type":394,"tag":408,"props":3547,"children":3548},{},[3549],{"type":400,"value":3550},"我们继续。以下代码是对 createElement 的仿制， 用于返回一个已经 shiv 过的元素。主要是用来兼容原生 document.createElement 不支持创建一个非规范的元素的情况。比方说，HTML5 标签中有 article 元素，document.createElement 不支持的话，就需要调用此仿制 API。",{"type":394,"tag":466,"props":3552,"children":3554},{"className":468,"code":3553,"language":470,"meta":388,"style":388},"function createElement(nodeName, ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName)\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument)\n    }\n    var node\n\n    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode()\n    } else \n    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n    // 则创建一个新元素并存到缓存中\n    if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode()\n    } else \n    // 如果是不能被克隆的对象，那就直接创建吧...\n    {\n        node = data.createElem(nodeName)\n    }\n\n    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n    // Avoid adding some elements to fragments in IE \u003C 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn \n        ? data.frag.appendChild(node) \n        : node\n  }\n",[3555],{"type":394,"tag":473,"props":3556,"children":3557},{"__ignoreMap":388},[3558,3598,3621,3653,3660,3687,3714,3721,3733,3740,3748,3788,3836,3852,3860,3868,3910,3990,4005,4013,4021,4056,4063,4070,4078,4086,4094,4102,4110,4118,4126,4134,4215,4257,4269],{"type":394,"tag":477,"props":3559,"children":3560},{"class":479,"line":480},[3561,3565,3569,3573,3577,3581,3585,3589,3593],{"type":394,"tag":477,"props":3562,"children":3563},{"style":496},[3564],{"type":400,"value":499},{"type":394,"tag":477,"props":3566,"children":3567},{"style":671},[3568],{"type":400,"value":2805},{"type":394,"tag":477,"props":3570,"children":3571},{"style":484},[3572],{"type":400,"value":493},{"type":394,"tag":477,"props":3574,"children":3575},{"style":506},[3576],{"type":400,"value":2699},{"type":394,"tag":477,"props":3578,"children":3579},{"style":484},[3580],{"type":400,"value":514},{"type":394,"tag":477,"props":3582,"children":3583},{"style":506},[3584],{"type":400,"value":2573},{"type":394,"tag":477,"props":3586,"children":3587},{"style":484},[3588],{"type":400,"value":514},{"type":394,"tag":477,"props":3590,"children":3591},{"style":506},[3592],{"type":400,"value":1832},{"type":394,"tag":477,"props":3594,"children":3595},{"style":484},[3596],{"type":400,"value":3597},"){\n",{"type":394,"tag":477,"props":3599,"children":3600},{"class":479,"line":532},[3601,3605,3609,3613,3617],{"type":394,"tag":477,"props":3602,"children":3603},{"style":958},[3604],{"type":400,"value":1872},{"type":394,"tag":477,"props":3606,"children":3607},{"style":948},[3608],{"type":400,"value":493},{"type":394,"tag":477,"props":3610,"children":3611},{"style":490},[3612],{"type":400,"value":2363},{"type":394,"tag":477,"props":3614,"children":3615},{"style":948},[3616],{"type":400,"value":524},{"type":394,"tag":477,"props":3618,"children":3619},{"style":484},[3620],{"type":400,"value":1633},{"type":394,"tag":477,"props":3622,"children":3623},{"class":479,"line":542},[3624,3629,3633,3637,3641,3645,3649],{"type":394,"tag":477,"props":3625,"children":3626},{"style":958},[3627],{"type":400,"value":3628},"        return",{"type":394,"tag":477,"props":3630,"children":3631},{"style":490},[3632],{"type":400,"value":2573},{"type":394,"tag":477,"props":3634,"children":3635},{"style":484},[3636],{"type":400,"value":668},{"type":394,"tag":477,"props":3638,"children":3639},{"style":671},[3640],{"type":400,"value":674},{"type":394,"tag":477,"props":3642,"children":3643},{"style":948},[3644],{"type":400,"value":493},{"type":394,"tag":477,"props":3646,"children":3647},{"style":490},[3648],{"type":400,"value":2699},{"type":394,"tag":477,"props":3650,"children":3651},{"style":948},[3652],{"type":400,"value":696},{"type":394,"tag":477,"props":3654,"children":3655},{"class":479,"line":916},[3656],{"type":394,"tag":477,"props":3657,"children":3658},{"style":484},[3659],{"type":400,"value":1685},{"type":394,"tag":477,"props":3661,"children":3662},{"class":479,"line":954},[3663,3667,3671,3675,3679,3683],{"type":394,"tag":477,"props":3664,"children":3665},{"style":958},[3666],{"type":400,"value":1872},{"type":394,"tag":477,"props":3668,"children":3669},{"style":948},[3670],{"type":400,"value":713},{"type":394,"tag":477,"props":3672,"children":3673},{"style":555},[3674],{"type":400,"value":1881},{"type":394,"tag":477,"props":3676,"children":3677},{"style":490},[3678],{"type":400,"value":1886},{"type":394,"tag":477,"props":3680,"children":3681},{"style":948},[3682],{"type":400,"value":1628},{"type":394,"tag":477,"props":3684,"children":3685},{"style":484},[3686],{"type":400,"value":1633},{"type":394,"tag":477,"props":3688,"children":3689},{"class":479,"line":969},[3690,3694,3698,3702,3706,3710],{"type":394,"tag":477,"props":3691,"children":3692},{"style":490},[3693],{"type":400,"value":1902},{"type":394,"tag":477,"props":3695,"children":3696},{"style":555},[3697],{"type":400,"value":932},{"type":394,"tag":477,"props":3699,"children":3700},{"style":671},[3701],{"type":400,"value":1803},{"type":394,"tag":477,"props":3703,"children":3704},{"style":948},[3705],{"type":400,"value":493},{"type":394,"tag":477,"props":3707,"children":3708},{"style":490},[3709],{"type":400,"value":1812},{"type":394,"tag":477,"props":3711,"children":3712},{"style":948},[3713],{"type":400,"value":696},{"type":394,"tag":477,"props":3715,"children":3716},{"class":479,"line":1012},[3717],{"type":394,"tag":477,"props":3718,"children":3719},{"style":484},[3720],{"type":400,"value":1685},{"type":394,"tag":477,"props":3722,"children":3723},{"class":479,"line":1052},[3724,3728],{"type":394,"tag":477,"props":3725,"children":3726},{"style":496},[3727],{"type":400,"value":922},{"type":394,"tag":477,"props":3729,"children":3730},{"style":490},[3731],{"type":400,"value":3732}," node\n",{"type":394,"tag":477,"props":3734,"children":3735},{"class":479,"line":1088},[3736],{"type":394,"tag":477,"props":3737,"children":3738},{"emptyLinePlaceholder":387},[3739],{"type":400,"value":1295},{"type":394,"tag":477,"props":3741,"children":3742},{"class":479,"line":1097},[3743],{"type":394,"tag":477,"props":3744,"children":3745},{"style":536},[3746],{"type":400,"value":3747},"    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n",{"type":394,"tag":477,"props":3749,"children":3750},{"class":479,"line":1366},[3751,3755,3759,3763,3767,3771,3775,3779,3784],{"type":394,"tag":477,"props":3752,"children":3753},{"style":958},[3754],{"type":400,"value":1872},{"type":394,"tag":477,"props":3756,"children":3757},{"style":948},[3758],{"type":400,"value":713},{"type":394,"tag":477,"props":3760,"children":3761},{"style":490},[3762],{"type":400,"value":1886},{"type":394,"tag":477,"props":3764,"children":3765},{"style":484},[3766],{"type":400,"value":668},{"type":394,"tag":477,"props":3768,"children":3769},{"style":490},[3770],{"type":400,"value":2517},{"type":394,"tag":477,"props":3772,"children":3773},{"style":948},[3774],{"type":400,"value":1846},{"type":394,"tag":477,"props":3776,"children":3777},{"style":490},[3778],{"type":400,"value":2699},{"type":394,"tag":477,"props":3780,"children":3781},{"style":948},[3782],{"type":400,"value":3783},"]) ",{"type":394,"tag":477,"props":3785,"children":3786},{"style":484},[3787],{"type":400,"value":1633},{"type":394,"tag":477,"props":3789,"children":3790},{"class":479,"line":1375},[3791,3796,3800,3804,3808,3812,3816,3820,3824,3828,3832],{"type":394,"tag":477,"props":3792,"children":3793},{"style":490},[3794],{"type":400,"value":3795},"        node",{"type":394,"tag":477,"props":3797,"children":3798},{"style":555},[3799],{"type":400,"value":932},{"type":394,"tag":477,"props":3801,"children":3802},{"style":490},[3803],{"type":400,"value":1832},{"type":394,"tag":477,"props":3805,"children":3806},{"style":484},[3807],{"type":400,"value":668},{"type":394,"tag":477,"props":3809,"children":3810},{"style":490},[3811],{"type":400,"value":2517},{"type":394,"tag":477,"props":3813,"children":3814},{"style":948},[3815],{"type":400,"value":1846},{"type":394,"tag":477,"props":3817,"children":3818},{"style":490},[3819],{"type":400,"value":2699},{"type":394,"tag":477,"props":3821,"children":3822},{"style":948},[3823],{"type":400,"value":3064},{"type":394,"tag":477,"props":3825,"children":3826},{"style":484},[3827],{"type":400,"value":668},{"type":394,"tag":477,"props":3829,"children":3830},{"style":671},[3831],{"type":400,"value":988},{"type":394,"tag":477,"props":3833,"children":3834},{"style":948},[3835],{"type":400,"value":951},{"type":394,"tag":477,"props":3837,"children":3838},{"class":479,"line":1418},[3839,3843,3848],{"type":394,"tag":477,"props":3840,"children":3841},{"style":484},[3842],{"type":400,"value":1609},{"type":394,"tag":477,"props":3844,"children":3845},{"style":958},[3846],{"type":400,"value":3847}," else",{"type":394,"tag":477,"props":3849,"children":3850},{"style":948},[3851],{"type":400,"value":2934},{"type":394,"tag":477,"props":3853,"children":3854},{"class":479,"line":1451},[3855],{"type":394,"tag":477,"props":3856,"children":3857},{"style":536},[3858],{"type":400,"value":3859},"    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n",{"type":394,"tag":477,"props":3861,"children":3862},{"class":479,"line":1464},[3863],{"type":394,"tag":477,"props":3864,"children":3865},{"style":536},[3866],{"type":400,"value":3867},"    // 则创建一个新元素并存到缓存中\n",{"type":394,"tag":477,"props":3869,"children":3870},{"class":479,"line":1505},[3871,3875,3879,3884,3888,3893,3897,3901,3906],{"type":394,"tag":477,"props":3872,"children":3873},{"style":958},[3874],{"type":400,"value":1872},{"type":394,"tag":477,"props":3876,"children":3877},{"style":948},[3878],{"type":400,"value":713},{"type":394,"tag":477,"props":3880,"children":3881},{"style":490},[3882],{"type":400,"value":3883},"saveClones",{"type":394,"tag":477,"props":3885,"children":3886},{"style":484},[3887],{"type":400,"value":668},{"type":394,"tag":477,"props":3889,"children":3890},{"style":671},[3891],{"type":400,"value":3892},"test",{"type":394,"tag":477,"props":3894,"children":3895},{"style":948},[3896],{"type":400,"value":493},{"type":394,"tag":477,"props":3898,"children":3899},{"style":490},[3900],{"type":400,"value":2699},{"type":394,"tag":477,"props":3902,"children":3903},{"style":948},[3904],{"type":400,"value":3905},")) ",{"type":394,"tag":477,"props":3907,"children":3908},{"style":484},[3909],{"type":400,"value":1633},{"type":394,"tag":477,"props":3911,"children":3912},{"class":479,"line":1545},[3913,3917,3921,3925,3929,3933,3937,3941,3945,3949,3953,3957,3961,3965,3969,3973,3978,3982,3986],{"type":394,"tag":477,"props":3914,"children":3915},{"style":490},[3916],{"type":400,"value":3795},{"type":394,"tag":477,"props":3918,"children":3919},{"style":555},[3920],{"type":400,"value":932},{"type":394,"tag":477,"props":3922,"children":3923},{"style":948},[3924],{"type":400,"value":713},{"type":394,"tag":477,"props":3926,"children":3927},{"style":490},[3928],{"type":400,"value":1886},{"type":394,"tag":477,"props":3930,"children":3931},{"style":484},[3932],{"type":400,"value":668},{"type":394,"tag":477,"props":3934,"children":3935},{"style":490},[3936],{"type":400,"value":2517},{"type":394,"tag":477,"props":3938,"children":3939},{"style":948},[3940],{"type":400,"value":1846},{"type":394,"tag":477,"props":3942,"children":3943},{"style":490},[3944],{"type":400,"value":2699},{"type":394,"tag":477,"props":3946,"children":3947},{"style":948},[3948],{"type":400,"value":1944},{"type":394,"tag":477,"props":3950,"children":3951},{"style":555},[3952],{"type":400,"value":659},{"type":394,"tag":477,"props":3954,"children":3955},{"style":490},[3956],{"type":400,"value":1832},{"type":394,"tag":477,"props":3958,"children":3959},{"style":484},[3960],{"type":400,"value":668},{"type":394,"tag":477,"props":3962,"children":3963},{"style":671},[3964],{"type":400,"value":2564},{"type":394,"tag":477,"props":3966,"children":3967},{"style":948},[3968],{"type":400,"value":493},{"type":394,"tag":477,"props":3970,"children":3971},{"style":490},[3972],{"type":400,"value":2699},{"type":394,"tag":477,"props":3974,"children":3975},{"style":948},[3976],{"type":400,"value":3977},"))",{"type":394,"tag":477,"props":3979,"children":3980},{"style":484},[3981],{"type":400,"value":668},{"type":394,"tag":477,"props":3983,"children":3984},{"style":671},[3985],{"type":400,"value":988},{"type":394,"tag":477,"props":3987,"children":3988},{"style":948},[3989],{"type":400,"value":951},{"type":394,"tag":477,"props":3991,"children":3992},{"class":479,"line":1581},[3993,3997,4001],{"type":394,"tag":477,"props":3994,"children":3995},{"style":484},[3996],{"type":400,"value":1609},{"type":394,"tag":477,"props":3998,"children":3999},{"style":958},[4000],{"type":400,"value":3847},{"type":394,"tag":477,"props":4002,"children":4003},{"style":948},[4004],{"type":400,"value":2934},{"type":394,"tag":477,"props":4006,"children":4007},{"class":479,"line":1590},[4008],{"type":394,"tag":477,"props":4009,"children":4010},{"style":536},[4011],{"type":400,"value":4012},"    // 如果是不能被克隆的对象，那就直接创建吧...\n",{"type":394,"tag":477,"props":4014,"children":4015},{"class":479,"line":1603},[4016],{"type":394,"tag":477,"props":4017,"children":4018},{"style":484},[4019],{"type":400,"value":4020},"    {\n",{"type":394,"tag":477,"props":4022,"children":4023},{"class":479,"line":1636},[4024,4028,4032,4036,4040,4044,4048,4052],{"type":394,"tag":477,"props":4025,"children":4026},{"style":490},[4027],{"type":400,"value":3795},{"type":394,"tag":477,"props":4029,"children":4030},{"style":555},[4031],{"type":400,"value":932},{"type":394,"tag":477,"props":4033,"children":4034},{"style":490},[4035],{"type":400,"value":1832},{"type":394,"tag":477,"props":4037,"children":4038},{"style":484},[4039],{"type":400,"value":668},{"type":394,"tag":477,"props":4041,"children":4042},{"style":671},[4043],{"type":400,"value":2564},{"type":394,"tag":477,"props":4045,"children":4046},{"style":948},[4047],{"type":400,"value":493},{"type":394,"tag":477,"props":4049,"children":4050},{"style":490},[4051],{"type":400,"value":2699},{"type":394,"tag":477,"props":4053,"children":4054},{"style":948},[4055],{"type":400,"value":696},{"type":394,"tag":477,"props":4057,"children":4058},{"class":479,"line":1645},[4059],{"type":394,"tag":477,"props":4060,"children":4061},{"style":484},[4062],{"type":400,"value":1685},{"type":394,"tag":477,"props":4064,"children":4065},{"class":479,"line":1663},[4066],{"type":394,"tag":477,"props":4067,"children":4068},{"emptyLinePlaceholder":387},[4069],{"type":400,"value":1295},{"type":394,"tag":477,"props":4071,"children":4072},{"class":479,"line":1679},[4073],{"type":394,"tag":477,"props":4074,"children":4075},{"style":536},[4076],{"type":400,"value":4077},"    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n",{"type":394,"tag":477,"props":4079,"children":4080},{"class":479,"line":1688},[4081],{"type":394,"tag":477,"props":4082,"children":4083},{"style":536},[4084],{"type":400,"value":4085},"    // Avoid adding some elements to fragments in IE \u003C 9 because\n",{"type":394,"tag":477,"props":4087,"children":4088},{"class":479,"line":2977},[4089],{"type":394,"tag":477,"props":4090,"children":4091},{"style":536},[4092],{"type":400,"value":4093},"    // * Attributes like `name` or `type` cannot be set/changed once an element\n",{"type":394,"tag":477,"props":4095,"children":4096},{"class":479,"line":2998},[4097],{"type":394,"tag":477,"props":4098,"children":4099},{"style":536},[4100],{"type":400,"value":4101},"    //   is inserted into a document/fragment\n",{"type":394,"tag":477,"props":4103,"children":4104},{"class":479,"line":3007},[4105],{"type":394,"tag":477,"props":4106,"children":4107},{"style":536},[4108],{"type":400,"value":4109},"    // * Link elements with `src` attributes that are inaccessible, as with\n",{"type":394,"tag":477,"props":4111,"children":4112},{"class":479,"line":3106},[4113],{"type":394,"tag":477,"props":4114,"children":4115},{"style":536},[4116],{"type":400,"value":4117},"    //   a 403 response, will cause the tab/window to crash\n",{"type":394,"tag":477,"props":4119,"children":4120},{"class":479,"line":3135},[4121],{"type":394,"tag":477,"props":4122,"children":4123},{"style":536},[4124],{"type":400,"value":4125},"    // * Script elements appended to fragments will execute when their `src`\n",{"type":394,"tag":477,"props":4127,"children":4128},{"class":479,"line":3171},[4129],{"type":394,"tag":477,"props":4130,"children":4131},{"style":536},[4132],{"type":400,"value":4133},"    //   or `text` property is set\n",{"type":394,"tag":477,"props":4135,"children":4136},{"class":479,"line":3219},[4137,4141,4146,4150,4155,4159,4163,4168,4172,4176,4180,4184,4188,4193,4197,4202,4206,4211],{"type":394,"tag":477,"props":4138,"children":4139},{"style":958},[4140],{"type":400,"value":961},{"type":394,"tag":477,"props":4142,"children":4143},{"style":490},[4144],{"type":400,"value":4145}," node",{"type":394,"tag":477,"props":4147,"children":4148},{"style":484},[4149],{"type":400,"value":668},{"type":394,"tag":477,"props":4151,"children":4152},{"style":490},[4153],{"type":400,"value":4154},"canHaveChildren",{"type":394,"tag":477,"props":4156,"children":4157},{"style":555},[4158],{"type":400,"value":2133},{"type":394,"tag":477,"props":4160,"children":4161},{"style":555},[4162],{"type":400,"value":2138},{"type":394,"tag":477,"props":4164,"children":4165},{"style":490},[4166],{"type":400,"value":4167},"reSkip",{"type":394,"tag":477,"props":4169,"children":4170},{"style":484},[4171],{"type":400,"value":668},{"type":394,"tag":477,"props":4173,"children":4174},{"style":671},[4175],{"type":400,"value":3892},{"type":394,"tag":477,"props":4177,"children":4178},{"style":948},[4179],{"type":400,"value":493},{"type":394,"tag":477,"props":4181,"children":4182},{"style":490},[4183],{"type":400,"value":2699},{"type":394,"tag":477,"props":4185,"children":4186},{"style":948},[4187],{"type":400,"value":1628},{"type":394,"tag":477,"props":4189,"children":4190},{"style":555},[4191],{"type":400,"value":4192},"&&",{"type":394,"tag":477,"props":4194,"children":4195},{"style":555},[4196],{"type":400,"value":2138},{"type":394,"tag":477,"props":4198,"children":4199},{"style":490},[4200],{"type":400,"value":4201},"node",{"type":394,"tag":477,"props":4203,"children":4204},{"style":484},[4205],{"type":400,"value":668},{"type":394,"tag":477,"props":4207,"children":4208},{"style":490},[4209],{"type":400,"value":4210},"tagUrn",{"type":394,"tag":477,"props":4212,"children":4213},{"style":948},[4214],{"type":400,"value":2934},{"type":394,"tag":477,"props":4216,"children":4217},{"class":479,"line":3237},[4218,4223,4227,4231,4235,4239,4244,4248,4252],{"type":394,"tag":477,"props":4219,"children":4220},{"style":555},[4221],{"type":400,"value":4222},"        ?",{"type":394,"tag":477,"props":4224,"children":4225},{"style":490},[4226],{"type":400,"value":1832},{"type":394,"tag":477,"props":4228,"children":4229},{"style":484},[4230],{"type":400,"value":668},{"type":394,"tag":477,"props":4232,"children":4233},{"style":490},[4234],{"type":400,"value":2631},{"type":394,"tag":477,"props":4236,"children":4237},{"style":484},[4238],{"type":400,"value":668},{"type":394,"tag":477,"props":4240,"children":4241},{"style":671},[4242],{"type":400,"value":4243},"appendChild",{"type":394,"tag":477,"props":4245,"children":4246},{"style":948},[4247],{"type":400,"value":493},{"type":394,"tag":477,"props":4249,"children":4250},{"style":490},[4251],{"type":400,"value":4201},{"type":394,"tag":477,"props":4253,"children":4254},{"style":948},[4255],{"type":400,"value":4256},") \n",{"type":394,"tag":477,"props":4258,"children":4259},{"class":479,"line":3258},[4260,4265],{"type":394,"tag":477,"props":4261,"children":4262},{"style":555},[4263],{"type":400,"value":4264},"        :",{"type":394,"tag":477,"props":4266,"children":4267},{"style":490},[4268],{"type":400,"value":3732},{"type":394,"tag":477,"props":4270,"children":4271},{"class":479,"line":3274},[4272],{"type":394,"tag":477,"props":4273,"children":4274},{"style":484},[4275],{"type":400,"value":2009},{"type":394,"tag":408,"props":4277,"children":4278},{},[4279],{"type":400,"value":4280},"和 createElement 类似，createDocumentFragment 也需要仿制。",{"type":394,"tag":466,"props":4282,"children":4284},{"className":468,"code":4283,"language":470,"meta":388,"style":388},"function createDocumentFragment(ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment()\n    }\n    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n    data = data || getExpandoData(ownerDocument)\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length\n    for(;i\u003Cl;i++){\n        // 返回的 documentFragment 包含了所有 shived 元素\n        clone.createElement(elems[i])\n    }\n    return clone\n  }\n",[4285],{"type":394,"tag":473,"props":4286,"children":4287},{"__ignoreMap":388},[4288,4320,4343,4366,4373,4381,4417,4461,4482,4507,4533,4585,4593,4631,4638,4650],{"type":394,"tag":477,"props":4289,"children":4290},{"class":479,"line":480},[4291,4295,4300,4304,4308,4312,4316],{"type":394,"tag":477,"props":4292,"children":4293},{"style":496},[4294],{"type":400,"value":499},{"type":394,"tag":477,"props":4296,"children":4297},{"style":671},[4298],{"type":400,"value":4299}," createDocumentFragment",{"type":394,"tag":477,"props":4301,"children":4302},{"style":484},[4303],{"type":400,"value":493},{"type":394,"tag":477,"props":4305,"children":4306},{"style":506},[4307],{"type":400,"value":1812},{"type":394,"tag":477,"props":4309,"children":4310},{"style":484},[4311],{"type":400,"value":514},{"type":394,"tag":477,"props":4313,"children":4314},{"style":506},[4315],{"type":400,"value":1832},{"type":394,"tag":477,"props":4317,"children":4318},{"style":484},[4319],{"type":400,"value":3597},{"type":394,"tag":477,"props":4321,"children":4322},{"class":479,"line":532},[4323,4327,4331,4335,4339],{"type":394,"tag":477,"props":4324,"children":4325},{"style":958},[4326],{"type":400,"value":1872},{"type":394,"tag":477,"props":4328,"children":4329},{"style":948},[4330],{"type":400,"value":493},{"type":394,"tag":477,"props":4332,"children":4333},{"style":490},[4334],{"type":400,"value":2363},{"type":394,"tag":477,"props":4336,"children":4337},{"style":948},[4338],{"type":400,"value":524},{"type":394,"tag":477,"props":4340,"children":4341},{"style":484},[4342],{"type":400,"value":1633},{"type":394,"tag":477,"props":4344,"children":4345},{"class":479,"line":542},[4346,4350,4354,4358,4362],{"type":394,"tag":477,"props":4347,"children":4348},{"style":958},[4349],{"type":400,"value":3628},{"type":394,"tag":477,"props":4351,"children":4352},{"style":490},[4353],{"type":400,"value":2573},{"type":394,"tag":477,"props":4355,"children":4356},{"style":484},[4357],{"type":400,"value":668},{"type":394,"tag":477,"props":4359,"children":4360},{"style":671},[4361],{"type":400,"value":945},{"type":394,"tag":477,"props":4363,"children":4364},{"style":948},[4365],{"type":400,"value":951},{"type":394,"tag":477,"props":4367,"children":4368},{"class":479,"line":916},[4369],{"type":394,"tag":477,"props":4370,"children":4371},{"style":484},[4372],{"type":400,"value":1685},{"type":394,"tag":477,"props":4374,"children":4375},{"class":479,"line":954},[4376],{"type":394,"tag":477,"props":4377,"children":4378},{"style":536},[4379],{"type":400,"value":4380},"    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n",{"type":394,"tag":477,"props":4382,"children":4383},{"class":479,"line":969},[4384,4389,4393,4397,4401,4405,4409,4413],{"type":394,"tag":477,"props":4385,"children":4386},{"style":490},[4387],{"type":400,"value":4388},"    data",{"type":394,"tag":477,"props":4390,"children":4391},{"style":555},[4392],{"type":400,"value":932},{"type":394,"tag":477,"props":4394,"children":4395},{"style":490},[4396],{"type":400,"value":1832},{"type":394,"tag":477,"props":4398,"children":4399},{"style":555},[4400],{"type":400,"value":896},{"type":394,"tag":477,"props":4402,"children":4403},{"style":671},[4404],{"type":400,"value":1803},{"type":394,"tag":477,"props":4406,"children":4407},{"style":948},[4408],{"type":400,"value":493},{"type":394,"tag":477,"props":4410,"children":4411},{"style":490},[4412],{"type":400,"value":1812},{"type":394,"tag":477,"props":4414,"children":4415},{"style":948},[4416],{"type":400,"value":696},{"type":394,"tag":477,"props":4418,"children":4419},{"class":479,"line":1012},[4420,4424,4429,4433,4437,4441,4445,4449,4453,4457],{"type":394,"tag":477,"props":4421,"children":4422},{"style":496},[4423],{"type":400,"value":922},{"type":394,"tag":477,"props":4425,"children":4426},{"style":490},[4427],{"type":400,"value":4428}," clone",{"type":394,"tag":477,"props":4430,"children":4431},{"style":555},[4432],{"type":400,"value":932},{"type":394,"tag":477,"props":4434,"children":4435},{"style":490},[4436],{"type":400,"value":1832},{"type":394,"tag":477,"props":4438,"children":4439},{"style":484},[4440],{"type":400,"value":668},{"type":394,"tag":477,"props":4442,"children":4443},{"style":490},[4444],{"type":400,"value":2631},{"type":394,"tag":477,"props":4446,"children":4447},{"style":484},[4448],{"type":400,"value":668},{"type":394,"tag":477,"props":4450,"children":4451},{"style":671},[4452],{"type":400,"value":988},{"type":394,"tag":477,"props":4454,"children":4455},{"style":948},[4456],{"type":400,"value":909},{"type":394,"tag":477,"props":4458,"children":4459},{"style":484},[4460],{"type":400,"value":2215},{"type":394,"tag":477,"props":4462,"children":4463},{"class":479,"line":1052},[4464,4469,4473,4478],{"type":394,"tag":477,"props":4465,"children":4466},{"style":490},[4467],{"type":400,"value":4468},"        i",{"type":394,"tag":477,"props":4470,"children":4471},{"style":555},[4472],{"type":400,"value":932},{"type":394,"tag":477,"props":4474,"children":4475},{"style":888},[4476],{"type":400,"value":4477}," 0",{"type":394,"tag":477,"props":4479,"children":4480},{"style":484},[4481],{"type":400,"value":2215},{"type":394,"tag":477,"props":4483,"children":4484},{"class":479,"line":1088},[4485,4490,4494,4499,4503],{"type":394,"tag":477,"props":4486,"children":4487},{"style":490},[4488],{"type":400,"value":4489},"        elems",{"type":394,"tag":477,"props":4491,"children":4492},{"style":555},[4493],{"type":400,"value":932},{"type":394,"tag":477,"props":4495,"children":4496},{"style":671},[4497],{"type":400,"value":4498}," getElements",{"type":394,"tag":477,"props":4500,"children":4501},{"style":948},[4502],{"type":400,"value":909},{"type":394,"tag":477,"props":4504,"children":4505},{"style":484},[4506],{"type":400,"value":2215},{"type":394,"tag":477,"props":4508,"children":4509},{"class":479,"line":1097},[4510,4515,4519,4524,4528],{"type":394,"tag":477,"props":4511,"children":4512},{"style":490},[4513],{"type":400,"value":4514},"        l",{"type":394,"tag":477,"props":4516,"children":4517},{"style":555},[4518],{"type":400,"value":932},{"type":394,"tag":477,"props":4520,"children":4521},{"style":490},[4522],{"type":400,"value":4523}," elems",{"type":394,"tag":477,"props":4525,"children":4526},{"style":484},[4527],{"type":400,"value":668},{"type":394,"tag":477,"props":4529,"children":4530},{"style":877},[4531],{"type":400,"value":4532},"length\n",{"type":394,"tag":477,"props":4534,"children":4535},{"class":479,"line":1366},[4536,4541,4545,4549,4554,4559,4564,4568,4572,4577,4581],{"type":394,"tag":477,"props":4537,"children":4538},{"style":958},[4539],{"type":400,"value":4540},"    for",{"type":394,"tag":477,"props":4542,"children":4543},{"style":948},[4544],{"type":400,"value":493},{"type":394,"tag":477,"props":4546,"children":4547},{"style":484},[4548],{"type":400,"value":487},{"type":394,"tag":477,"props":4550,"children":4551},{"style":490},[4552],{"type":400,"value":4553},"i",{"type":394,"tag":477,"props":4555,"children":4556},{"style":555},[4557],{"type":400,"value":4558},"\u003C",{"type":394,"tag":477,"props":4560,"children":4561},{"style":490},[4562],{"type":400,"value":4563},"l",{"type":394,"tag":477,"props":4565,"children":4566},{"style":484},[4567],{"type":400,"value":487},{"type":394,"tag":477,"props":4569,"children":4570},{"style":490},[4571],{"type":400,"value":4553},{"type":394,"tag":477,"props":4573,"children":4574},{"style":555},[4575],{"type":400,"value":4576},"++",{"type":394,"tag":477,"props":4578,"children":4579},{"style":948},[4580],{"type":400,"value":524},{"type":394,"tag":477,"props":4582,"children":4583},{"style":484},[4584],{"type":400,"value":1633},{"type":394,"tag":477,"props":4586,"children":4587},{"class":479,"line":1375},[4588],{"type":394,"tag":477,"props":4589,"children":4590},{"style":536},[4591],{"type":400,"value":4592},"        // 返回的 documentFragment 包含了所有 shived 元素\n",{"type":394,"tag":477,"props":4594,"children":4595},{"class":479,"line":1418},[4596,4601,4605,4609,4613,4618,4622,4626],{"type":394,"tag":477,"props":4597,"children":4598},{"style":490},[4599],{"type":400,"value":4600},"        clone",{"type":394,"tag":477,"props":4602,"children":4603},{"style":484},[4604],{"type":400,"value":668},{"type":394,"tag":477,"props":4606,"children":4607},{"style":671},[4608],{"type":400,"value":674},{"type":394,"tag":477,"props":4610,"children":4611},{"style":948},[4612],{"type":400,"value":493},{"type":394,"tag":477,"props":4614,"children":4615},{"style":490},[4616],{"type":400,"value":4617},"elems",{"type":394,"tag":477,"props":4619,"children":4620},{"style":948},[4621],{"type":400,"value":1846},{"type":394,"tag":477,"props":4623,"children":4624},{"style":490},[4625],{"type":400,"value":4553},{"type":394,"tag":477,"props":4627,"children":4628},{"style":948},[4629],{"type":400,"value":4630},"])\n",{"type":394,"tag":477,"props":4632,"children":4633},{"class":479,"line":1451},[4634],{"type":394,"tag":477,"props":4635,"children":4636},{"style":484},[4637],{"type":400,"value":1685},{"type":394,"tag":477,"props":4639,"children":4640},{"class":479,"line":1464},[4641,4645],{"type":394,"tag":477,"props":4642,"children":4643},{"style":958},[4644],{"type":400,"value":961},{"type":394,"tag":477,"props":4646,"children":4647},{"style":490},[4648],{"type":400,"value":4649}," clone\n",{"type":394,"tag":477,"props":4651,"children":4652},{"class":479,"line":1505},[4653],{"type":394,"tag":477,"props":4654,"children":4655},{"style":484},[4656],{"type":400,"value":2009},{"type":394,"tag":408,"props":4658,"children":4659},{},[4660],{"type":400,"value":4661},"可以发现，需要 shiv 的元素都存在了 getElements 这个方法中，我们来看看具体实现。",{"type":394,"tag":466,"props":4663,"children":4665},{"className":468,"code":4664,"language":470,"meta":388,"style":388},"// getElements 返回 html5.elments 的数组形式\n// 看来 getElements 也只是一个类似 getter 的存在\nfunction getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\n\n// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\nvar html5 = {\n    // options 是外部调用 html5shiv 的接口参数\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'\n}\n",[4666],{"type":394,"tag":473,"props":4667,"children":4668},{"__ignoreMap":388},[4669,4677,4685,4704,4738,4816,4824,4831,4839,4859,4867,4920],{"type":394,"tag":477,"props":4670,"children":4671},{"class":479,"line":480},[4672],{"type":394,"tag":477,"props":4673,"children":4674},{"style":536},[4675],{"type":400,"value":4676},"// getElements 返回 html5.elments 的数组形式\n",{"type":394,"tag":477,"props":4678,"children":4679},{"class":479,"line":532},[4680],{"type":394,"tag":477,"props":4681,"children":4682},{"style":536},[4683],{"type":400,"value":4684},"// 看来 getElements 也只是一个类似 getter 的存在\n",{"type":394,"tag":477,"props":4686,"children":4687},{"class":479,"line":542},[4688,4692,4696,4700],{"type":394,"tag":477,"props":4689,"children":4690},{"style":496},[4691],{"type":400,"value":499},{"type":394,"tag":477,"props":4693,"children":4694},{"style":671},[4695],{"type":400,"value":4498},{"type":394,"tag":477,"props":4697,"children":4698},{"style":484},[4699],{"type":400,"value":909},{"type":394,"tag":477,"props":4701,"children":4702},{"style":484},[4703],{"type":400,"value":529},{"type":394,"tag":477,"props":4705,"children":4706},{"class":479,"line":916},[4707,4711,4716,4720,4725,4729,4734],{"type":394,"tag":477,"props":4708,"children":4709},{"style":496},[4710],{"type":400,"value":922},{"type":394,"tag":477,"props":4712,"children":4713},{"style":490},[4714],{"type":400,"value":4715}," elements",{"type":394,"tag":477,"props":4717,"children":4718},{"style":555},[4719],{"type":400,"value":932},{"type":394,"tag":477,"props":4721,"children":4722},{"style":490},[4723],{"type":400,"value":4724}," html5",{"type":394,"tag":477,"props":4726,"children":4727},{"style":484},[4728],{"type":400,"value":668},{"type":394,"tag":477,"props":4730,"children":4731},{"style":490},[4732],{"type":400,"value":4733},"elements",{"type":394,"tag":477,"props":4735,"children":4736},{"style":484},[4737],{"type":400,"value":619},{"type":394,"tag":477,"props":4739,"children":4740},{"class":479,"line":954},[4741,4745,4750,4754,4758,4762,4767,4771,4775,4779,4783,4788,4792,4796,4800,4804,4808,4812],{"type":394,"tag":477,"props":4742,"children":4743},{"style":958},[4744],{"type":400,"value":961},{"type":394,"tag":477,"props":4746,"children":4747},{"style":555},[4748],{"type":400,"value":4749}," typeof",{"type":394,"tag":477,"props":4751,"children":4752},{"style":490},[4753],{"type":400,"value":4715},{"type":394,"tag":477,"props":4755,"children":4756},{"style":555},[4757],{"type":400,"value":885},{"type":394,"tag":477,"props":4759,"children":4760},{"style":571},[4761],{"type":400,"value":834},{"type":394,"tag":477,"props":4763,"children":4764},{"style":577},[4765],{"type":400,"value":4766},"string",{"type":394,"tag":477,"props":4768,"children":4769},{"style":571},[4770],{"type":400,"value":683},{"type":394,"tag":477,"props":4772,"children":4773},{"style":555},[4774],{"type":400,"value":590},{"type":394,"tag":477,"props":4776,"children":4777},{"style":490},[4778],{"type":400,"value":4715},{"type":394,"tag":477,"props":4780,"children":4781},{"style":484},[4782],{"type":400,"value":668},{"type":394,"tag":477,"props":4784,"children":4785},{"style":671},[4786],{"type":400,"value":4787},"split",{"type":394,"tag":477,"props":4789,"children":4790},{"style":948},[4791],{"type":400,"value":493},{"type":394,"tag":477,"props":4793,"children":4794},{"style":571},[4795],{"type":400,"value":683},{"type":394,"tag":477,"props":4797,"children":4798},{"style":571},[4799],{"type":400,"value":834},{"type":394,"tag":477,"props":4801,"children":4802},{"style":948},[4803],{"type":400,"value":1628},{"type":394,"tag":477,"props":4805,"children":4806},{"style":555},[4807],{"type":400,"value":599},{"type":394,"tag":477,"props":4809,"children":4810},{"style":490},[4811],{"type":400,"value":4715},{"type":394,"tag":477,"props":4813,"children":4814},{"style":484},[4815],{"type":400,"value":619},{"type":394,"tag":477,"props":4817,"children":4818},{"class":479,"line":969},[4819],{"type":394,"tag":477,"props":4820,"children":4821},{"style":484},[4822],{"type":400,"value":4823},"}\n",{"type":394,"tag":477,"props":4825,"children":4826},{"class":479,"line":1012},[4827],{"type":394,"tag":477,"props":4828,"children":4829},{"emptyLinePlaceholder":387},[4830],{"type":400,"value":1295},{"type":394,"tag":477,"props":4832,"children":4833},{"class":479,"line":1052},[4834],{"type":394,"tag":477,"props":4835,"children":4836},{"style":536},[4837],{"type":400,"value":4838},"// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\n",{"type":394,"tag":477,"props":4840,"children":4841},{"class":479,"line":1088},[4842,4846,4851,4855],{"type":394,"tag":477,"props":4843,"children":4844},{"style":496},[4845],{"type":400,"value":1727},{"type":394,"tag":477,"props":4847,"children":4848},{"style":490},[4849],{"type":400,"value":4850}," html5 ",{"type":394,"tag":477,"props":4852,"children":4853},{"style":555},[4854],{"type":400,"value":659},{"type":394,"tag":477,"props":4856,"children":4857},{"style":484},[4858],{"type":400,"value":529},{"type":394,"tag":477,"props":4860,"children":4861},{"class":479,"line":1097},[4862],{"type":394,"tag":477,"props":4863,"children":4864},{"style":536},[4865],{"type":400,"value":4866},"    // options 是外部调用 html5shiv 的接口参数\n",{"type":394,"tag":477,"props":4868,"children":4869},{"class":479,"line":1366},[4870,4875,4880,4884,4888,4893,4897,4902,4907,4911,4916],{"type":394,"tag":477,"props":4871,"children":4872},{"style":571},[4873],{"type":400,"value":4874},"    '",{"type":394,"tag":477,"props":4876,"children":4878},{"style":4877},"--shiki-light:#E53935;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[4879],{"type":400,"value":4733},{"type":394,"tag":477,"props":4881,"children":4882},{"style":571},[4883],{"type":400,"value":683},{"type":394,"tag":477,"props":4885,"children":4886},{"style":484},[4887],{"type":400,"value":599},{"type":394,"tag":477,"props":4889,"children":4890},{"style":490},[4891],{"type":400,"value":4892}," options",{"type":394,"tag":477,"props":4894,"children":4895},{"style":484},[4896],{"type":400,"value":668},{"type":394,"tag":477,"props":4898,"children":4899},{"style":490},[4900],{"type":400,"value":4901},"elements ",{"type":394,"tag":477,"props":4903,"children":4904},{"style":555},[4905],{"type":400,"value":4906},"||",{"type":394,"tag":477,"props":4908,"children":4909},{"style":571},[4910],{"type":400,"value":834},{"type":394,"tag":477,"props":4912,"children":4913},{"style":577},[4914],{"type":400,"value":4915},"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",{"type":394,"tag":477,"props":4917,"children":4918},{"style":571},[4919],{"type":400,"value":844},{"type":394,"tag":477,"props":4921,"children":4922},{"class":479,"line":1375},[4923],{"type":394,"tag":477,"props":4924,"children":4925},{"style":484},[4926],{"type":400,"value":4823},{"type":394,"tag":455,"props":4928,"children":4930},{"id":4929},"私有方法",[4931],{"type":400,"value":4929},{"type":394,"tag":408,"props":4933,"children":4934},{},[4935],{"type":400,"value":4936},"接下来是几个私有方法。和 shiv 原理不相关，所以不重要。",{"type":394,"tag":466,"props":4938,"children":4940},{"className":468,"code":4939,"language":470,"meta":388,"style":388},"/**\n * Creates a style sheet with the given CSS text and adds it to the document.\n * 在文档头部添加样式标签\n */\nfunction addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement\n    // ? 这个 'x' 应该是兼容性考虑\n    p.innerHTML = 'x\u003Cstyle>' + cssText + '\u003C/style>'\n    return parent.insertBefore(p.lastChild, parent.firstChild)\n}\n",[4941],{"type":394,"tag":473,"props":4942,"children":4943},{"__ignoreMap":388},[4944,4952,4960,4968,4976,5013,5065,5138,5146,5204,5263],{"type":394,"tag":477,"props":4945,"children":4946},{"class":479,"line":480},[4947],{"type":394,"tag":477,"props":4948,"children":4949},{"style":536},[4950],{"type":400,"value":4951},"/**\n",{"type":394,"tag":477,"props":4953,"children":4954},{"class":479,"line":532},[4955],{"type":394,"tag":477,"props":4956,"children":4957},{"style":536},[4958],{"type":400,"value":4959}," * Creates a style sheet with the given CSS text and adds it to the document.\n",{"type":394,"tag":477,"props":4961,"children":4962},{"class":479,"line":542},[4963],{"type":394,"tag":477,"props":4964,"children":4965},{"style":536},[4966],{"type":400,"value":4967}," * 在文档头部添加样式标签\n",{"type":394,"tag":477,"props":4969,"children":4970},{"class":479,"line":916},[4971],{"type":394,"tag":477,"props":4972,"children":4973},{"style":536},[4974],{"type":400,"value":4975}," */\n",{"type":394,"tag":477,"props":4977,"children":4978},{"class":479,"line":954},[4979,4983,4988,4992,4996,5000,5005,5009],{"type":394,"tag":477,"props":4980,"children":4981},{"style":496},[4982],{"type":400,"value":499},{"type":394,"tag":477,"props":4984,"children":4985},{"style":671},[4986],{"type":400,"value":4987}," addStyleSheet",{"type":394,"tag":477,"props":4989,"children":4990},{"style":484},[4991],{"type":400,"value":493},{"type":394,"tag":477,"props":4993,"children":4994},{"style":506},[4995],{"type":400,"value":1812},{"type":394,"tag":477,"props":4997,"children":4998},{"style":484},[4999],{"type":400,"value":514},{"type":394,"tag":477,"props":5001,"children":5002},{"style":506},[5003],{"type":400,"value":5004}," cssText",{"type":394,"tag":477,"props":5006,"children":5007},{"style":484},[5008],{"type":400,"value":524},{"type":394,"tag":477,"props":5010,"children":5011},{"style":484},[5012],{"type":400,"value":529},{"type":394,"tag":477,"props":5014,"children":5015},{"class":479,"line":969},[5016,5020,5025,5029,5033,5037,5041,5045,5049,5053,5057,5061],{"type":394,"tag":477,"props":5017,"children":5018},{"style":496},[5019],{"type":400,"value":922},{"type":394,"tag":477,"props":5021,"children":5022},{"style":490},[5023],{"type":400,"value":5024}," p",{"type":394,"tag":477,"props":5026,"children":5027},{"style":555},[5028],{"type":400,"value":932},{"type":394,"tag":477,"props":5030,"children":5031},{"style":490},[5032],{"type":400,"value":2573},{"type":394,"tag":477,"props":5034,"children":5035},{"style":484},[5036],{"type":400,"value":668},{"type":394,"tag":477,"props":5038,"children":5039},{"style":671},[5040],{"type":400,"value":674},{"type":394,"tag":477,"props":5042,"children":5043},{"style":948},[5044],{"type":400,"value":493},{"type":394,"tag":477,"props":5046,"children":5047},{"style":571},[5048],{"type":400,"value":683},{"type":394,"tag":477,"props":5050,"children":5051},{"style":577},[5052],{"type":400,"value":408},{"type":394,"tag":477,"props":5054,"children":5055},{"style":571},[5056],{"type":400,"value":683},{"type":394,"tag":477,"props":5058,"children":5059},{"style":948},[5060],{"type":400,"value":524},{"type":394,"tag":477,"props":5062,"children":5063},{"style":484},[5064],{"type":400,"value":2215},{"type":394,"tag":477,"props":5066,"children":5067},{"class":479,"line":1012},[5068,5073,5077,5081,5085,5090,5094,5098,5103,5107,5112,5117,5121,5125,5129,5133],{"type":394,"tag":477,"props":5069,"children":5070},{"style":490},[5071],{"type":400,"value":5072},"        parent",{"type":394,"tag":477,"props":5074,"children":5075},{"style":555},[5076],{"type":400,"value":932},{"type":394,"tag":477,"props":5078,"children":5079},{"style":490},[5080],{"type":400,"value":2573},{"type":394,"tag":477,"props":5082,"children":5083},{"style":484},[5084],{"type":400,"value":668},{"type":394,"tag":477,"props":5086,"children":5087},{"style":671},[5088],{"type":400,"value":5089},"getElementsByTagName",{"type":394,"tag":477,"props":5091,"children":5092},{"style":948},[5093],{"type":400,"value":493},{"type":394,"tag":477,"props":5095,"children":5096},{"style":571},[5097],{"type":400,"value":683},{"type":394,"tag":477,"props":5099,"children":5100},{"style":577},[5101],{"type":400,"value":5102},"head",{"type":394,"tag":477,"props":5104,"children":5105},{"style":571},[5106],{"type":400,"value":683},{"type":394,"tag":477,"props":5108,"children":5109},{"style":948},[5110],{"type":400,"value":5111},")[",{"type":394,"tag":477,"props":5113,"children":5114},{"style":888},[5115],{"type":400,"value":5116},"0",{"type":394,"tag":477,"props":5118,"children":5119},{"style":948},[5120],{"type":400,"value":1944},{"type":394,"tag":477,"props":5122,"children":5123},{"style":555},[5124],{"type":400,"value":4906},{"type":394,"tag":477,"props":5126,"children":5127},{"style":490},[5128],{"type":400,"value":2573},{"type":394,"tag":477,"props":5130,"children":5131},{"style":484},[5132],{"type":400,"value":668},{"type":394,"tag":477,"props":5134,"children":5135},{"style":490},[5136],{"type":400,"value":5137},"documentElement\n",{"type":394,"tag":477,"props":5139,"children":5140},{"class":479,"line":1052},[5141],{"type":394,"tag":477,"props":5142,"children":5143},{"style":536},[5144],{"type":400,"value":5145},"    // ? 这个 'x' 应该是兼容性考虑\n",{"type":394,"tag":477,"props":5147,"children":5148},{"class":479,"line":1088},[5149,5154,5158,5162,5166,5170,5175,5179,5183,5187,5191,5195,5200],{"type":394,"tag":477,"props":5150,"children":5151},{"style":490},[5152],{"type":400,"value":5153},"    p",{"type":394,"tag":477,"props":5155,"children":5156},{"style":484},[5157],{"type":400,"value":668},{"type":394,"tag":477,"props":5159,"children":5160},{"style":490},[5161],{"type":400,"value":1215},{"type":394,"tag":477,"props":5163,"children":5164},{"style":555},[5165],{"type":400,"value":932},{"type":394,"tag":477,"props":5167,"children":5168},{"style":571},[5169],{"type":400,"value":834},{"type":394,"tag":477,"props":5171,"children":5172},{"style":577},[5173],{"type":400,"value":5174},"x\u003Cstyle>",{"type":394,"tag":477,"props":5176,"children":5177},{"style":571},[5178],{"type":400,"value":683},{"type":394,"tag":477,"props":5180,"children":5181},{"style":555},[5182],{"type":400,"value":3194},{"type":394,"tag":477,"props":5184,"children":5185},{"style":490},[5186],{"type":400,"value":5004},{"type":394,"tag":477,"props":5188,"children":5189},{"style":555},[5190],{"type":400,"value":3194},{"type":394,"tag":477,"props":5192,"children":5193},{"style":571},[5194],{"type":400,"value":834},{"type":394,"tag":477,"props":5196,"children":5197},{"style":577},[5198],{"type":400,"value":5199},"\u003C/style>",{"type":394,"tag":477,"props":5201,"children":5202},{"style":571},[5203],{"type":400,"value":844},{"type":394,"tag":477,"props":5205,"children":5206},{"class":479,"line":1097},[5207,5211,5216,5220,5225,5229,5233,5237,5242,5246,5250,5254,5259],{"type":394,"tag":477,"props":5208,"children":5209},{"style":958},[5210],{"type":400,"value":961},{"type":394,"tag":477,"props":5212,"children":5213},{"style":490},[5214],{"type":400,"value":5215}," parent",{"type":394,"tag":477,"props":5217,"children":5218},{"style":484},[5219],{"type":400,"value":668},{"type":394,"tag":477,"props":5221,"children":5222},{"style":671},[5223],{"type":400,"value":5224},"insertBefore",{"type":394,"tag":477,"props":5226,"children":5227},{"style":948},[5228],{"type":400,"value":493},{"type":394,"tag":477,"props":5230,"children":5231},{"style":490},[5232],{"type":400,"value":408},{"type":394,"tag":477,"props":5234,"children":5235},{"style":484},[5236],{"type":400,"value":668},{"type":394,"tag":477,"props":5238,"children":5239},{"style":490},[5240],{"type":400,"value":5241},"lastChild",{"type":394,"tag":477,"props":5243,"children":5244},{"style":484},[5245],{"type":400,"value":514},{"type":394,"tag":477,"props":5247,"children":5248},{"style":490},[5249],{"type":400,"value":5215},{"type":394,"tag":477,"props":5251,"children":5252},{"style":484},[5253],{"type":400,"value":668},{"type":394,"tag":477,"props":5255,"children":5256},{"style":490},[5257],{"type":400,"value":5258},"firstChild",{"type":394,"tag":477,"props":5260,"children":5261},{"style":948},[5262],{"type":400,"value":696},{"type":394,"tag":477,"props":5264,"children":5265},{"class":479,"line":1366},[5266],{"type":394,"tag":477,"props":5267,"children":5268},{"style":484},[5269],{"type":400,"value":4823},{"type":394,"tag":408,"props":5271,"children":5272},{},[5273],{"type":400,"value":5274},"一对用来维护 html5.elements 的方法 getElements、addElements。相当于 getter/setter。因为 html5shiv 将 html5 这个对象挂载到了 window 对象上，向外暴露。所以可以轻易调用 addElements 维护 html.elements。",{"type":394,"tag":466,"props":5276,"children":5278},{"className":468,"code":5277,"language":470,"meta":388,"style":388},"function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\nfunction addElements(newElements, ownerDocument) {\n    var elements = html5.elements\n    if(typeof elements != 'string'){\n        elements = elements.join(' ')\n    }\n    if(typeof newElements != 'string'){\n        newElements = newElements.join(' ')\n    }\n    html5.elements = elements +' '+ newElements\n\n    // 每次增加元素的最后，会进行一次 shiv\n    shivDocument(ownerDocument)\n}\n",[5279],{"type":394,"tag":473,"props":5280,"children":5281},{"__ignoreMap":388},[5282,5301,5332,5407,5414,5451,5479,5523,5563,5570,5614,5654,5661,5706,5713,5721,5741],{"type":394,"tag":477,"props":5283,"children":5284},{"class":479,"line":480},[5285,5289,5293,5297],{"type":394,"tag":477,"props":5286,"children":5287},{"style":496},[5288],{"type":400,"value":499},{"type":394,"tag":477,"props":5290,"children":5291},{"style":671},[5292],{"type":400,"value":4498},{"type":394,"tag":477,"props":5294,"children":5295},{"style":484},[5296],{"type":400,"value":909},{"type":394,"tag":477,"props":5298,"children":5299},{"style":484},[5300],{"type":400,"value":529},{"type":394,"tag":477,"props":5302,"children":5303},{"class":479,"line":532},[5304,5308,5312,5316,5320,5324,5328],{"type":394,"tag":477,"props":5305,"children":5306},{"style":496},[5307],{"type":400,"value":922},{"type":394,"tag":477,"props":5309,"children":5310},{"style":490},[5311],{"type":400,"value":4715},{"type":394,"tag":477,"props":5313,"children":5314},{"style":555},[5315],{"type":400,"value":932},{"type":394,"tag":477,"props":5317,"children":5318},{"style":490},[5319],{"type":400,"value":4724},{"type":394,"tag":477,"props":5321,"children":5322},{"style":484},[5323],{"type":400,"value":668},{"type":394,"tag":477,"props":5325,"children":5326},{"style":490},[5327],{"type":400,"value":4733},{"type":394,"tag":477,"props":5329,"children":5330},{"style":484},[5331],{"type":400,"value":619},{"type":394,"tag":477,"props":5333,"children":5334},{"class":479,"line":542},[5335,5339,5343,5347,5351,5355,5359,5363,5367,5371,5375,5379,5383,5387,5391,5395,5399,5403],{"type":394,"tag":477,"props":5336,"children":5337},{"style":958},[5338],{"type":400,"value":961},{"type":394,"tag":477,"props":5340,"children":5341},{"style":555},[5342],{"type":400,"value":4749},{"type":394,"tag":477,"props":5344,"children":5345},{"style":490},[5346],{"type":400,"value":4715},{"type":394,"tag":477,"props":5348,"children":5349},{"style":555},[5350],{"type":400,"value":885},{"type":394,"tag":477,"props":5352,"children":5353},{"style":571},[5354],{"type":400,"value":834},{"type":394,"tag":477,"props":5356,"children":5357},{"style":577},[5358],{"type":400,"value":4766},{"type":394,"tag":477,"props":5360,"children":5361},{"style":571},[5362],{"type":400,"value":683},{"type":394,"tag":477,"props":5364,"children":5365},{"style":555},[5366],{"type":400,"value":590},{"type":394,"tag":477,"props":5368,"children":5369},{"style":490},[5370],{"type":400,"value":4715},{"type":394,"tag":477,"props":5372,"children":5373},{"style":484},[5374],{"type":400,"value":668},{"type":394,"tag":477,"props":5376,"children":5377},{"style":671},[5378],{"type":400,"value":4787},{"type":394,"tag":477,"props":5380,"children":5381},{"style":948},[5382],{"type":400,"value":493},{"type":394,"tag":477,"props":5384,"children":5385},{"style":571},[5386],{"type":400,"value":683},{"type":394,"tag":477,"props":5388,"children":5389},{"style":571},[5390],{"type":400,"value":834},{"type":394,"tag":477,"props":5392,"children":5393},{"style":948},[5394],{"type":400,"value":1628},{"type":394,"tag":477,"props":5396,"children":5397},{"style":555},[5398],{"type":400,"value":599},{"type":394,"tag":477,"props":5400,"children":5401},{"style":490},[5402],{"type":400,"value":4715},{"type":394,"tag":477,"props":5404,"children":5405},{"style":484},[5406],{"type":400,"value":619},{"type":394,"tag":477,"props":5408,"children":5409},{"class":479,"line":916},[5410],{"type":394,"tag":477,"props":5411,"children":5412},{"style":484},[5413],{"type":400,"value":4823},{"type":394,"tag":477,"props":5415,"children":5416},{"class":479,"line":954},[5417,5421,5426,5430,5435,5439,5443,5447],{"type":394,"tag":477,"props":5418,"children":5419},{"style":496},[5420],{"type":400,"value":499},{"type":394,"tag":477,"props":5422,"children":5423},{"style":671},[5424],{"type":400,"value":5425}," addElements",{"type":394,"tag":477,"props":5427,"children":5428},{"style":484},[5429],{"type":400,"value":493},{"type":394,"tag":477,"props":5431,"children":5432},{"style":506},[5433],{"type":400,"value":5434},"newElements",{"type":394,"tag":477,"props":5436,"children":5437},{"style":484},[5438],{"type":400,"value":514},{"type":394,"tag":477,"props":5440,"children":5441},{"style":506},[5442],{"type":400,"value":2573},{"type":394,"tag":477,"props":5444,"children":5445},{"style":484},[5446],{"type":400,"value":524},{"type":394,"tag":477,"props":5448,"children":5449},{"style":484},[5450],{"type":400,"value":529},{"type":394,"tag":477,"props":5452,"children":5453},{"class":479,"line":969},[5454,5458,5462,5466,5470,5474],{"type":394,"tag":477,"props":5455,"children":5456},{"style":496},[5457],{"type":400,"value":922},{"type":394,"tag":477,"props":5459,"children":5460},{"style":490},[5461],{"type":400,"value":4715},{"type":394,"tag":477,"props":5463,"children":5464},{"style":555},[5465],{"type":400,"value":932},{"type":394,"tag":477,"props":5467,"children":5468},{"style":490},[5469],{"type":400,"value":4724},{"type":394,"tag":477,"props":5471,"children":5472},{"style":484},[5473],{"type":400,"value":668},{"type":394,"tag":477,"props":5475,"children":5476},{"style":490},[5477],{"type":400,"value":5478},"elements\n",{"type":394,"tag":477,"props":5480,"children":5481},{"class":479,"line":1012},[5482,5486,5490,5494,5498,5503,5507,5511,5515,5519],{"type":394,"tag":477,"props":5483,"children":5484},{"style":958},[5485],{"type":400,"value":1872},{"type":394,"tag":477,"props":5487,"children":5488},{"style":948},[5489],{"type":400,"value":493},{"type":394,"tag":477,"props":5491,"children":5492},{"style":555},[5493],{"type":400,"value":558},{"type":394,"tag":477,"props":5495,"children":5496},{"style":490},[5497],{"type":400,"value":4715},{"type":394,"tag":477,"props":5499,"children":5500},{"style":555},[5501],{"type":400,"value":5502}," !=",{"type":394,"tag":477,"props":5504,"children":5505},{"style":571},[5506],{"type":400,"value":834},{"type":394,"tag":477,"props":5508,"children":5509},{"style":577},[5510],{"type":400,"value":4766},{"type":394,"tag":477,"props":5512,"children":5513},{"style":571},[5514],{"type":400,"value":683},{"type":394,"tag":477,"props":5516,"children":5517},{"style":948},[5518],{"type":400,"value":524},{"type":394,"tag":477,"props":5520,"children":5521},{"style":484},[5522],{"type":400,"value":1633},{"type":394,"tag":477,"props":5524,"children":5525},{"class":479,"line":1052},[5526,5531,5535,5539,5543,5547,5551,5555,5559],{"type":394,"tag":477,"props":5527,"children":5528},{"style":490},[5529],{"type":400,"value":5530},"        elements",{"type":394,"tag":477,"props":5532,"children":5533},{"style":555},[5534],{"type":400,"value":932},{"type":394,"tag":477,"props":5536,"children":5537},{"style":490},[5538],{"type":400,"value":4715},{"type":394,"tag":477,"props":5540,"children":5541},{"style":484},[5542],{"type":400,"value":668},{"type":394,"tag":477,"props":5544,"children":5545},{"style":671},[5546],{"type":400,"value":3026},{"type":394,"tag":477,"props":5548,"children":5549},{"style":948},[5550],{"type":400,"value":493},{"type":394,"tag":477,"props":5552,"children":5553},{"style":571},[5554],{"type":400,"value":683},{"type":394,"tag":477,"props":5556,"children":5557},{"style":571},[5558],{"type":400,"value":834},{"type":394,"tag":477,"props":5560,"children":5561},{"style":948},[5562],{"type":400,"value":696},{"type":394,"tag":477,"props":5564,"children":5565},{"class":479,"line":1088},[5566],{"type":394,"tag":477,"props":5567,"children":5568},{"style":484},[5569],{"type":400,"value":1685},{"type":394,"tag":477,"props":5571,"children":5572},{"class":479,"line":1097},[5573,5577,5581,5585,5590,5594,5598,5602,5606,5610],{"type":394,"tag":477,"props":5574,"children":5575},{"style":958},[5576],{"type":400,"value":1872},{"type":394,"tag":477,"props":5578,"children":5579},{"style":948},[5580],{"type":400,"value":493},{"type":394,"tag":477,"props":5582,"children":5583},{"style":555},[5584],{"type":400,"value":558},{"type":394,"tag":477,"props":5586,"children":5587},{"style":490},[5588],{"type":400,"value":5589}," newElements",{"type":394,"tag":477,"props":5591,"children":5592},{"style":555},[5593],{"type":400,"value":5502},{"type":394,"tag":477,"props":5595,"children":5596},{"style":571},[5597],{"type":400,"value":834},{"type":394,"tag":477,"props":5599,"children":5600},{"style":577},[5601],{"type":400,"value":4766},{"type":394,"tag":477,"props":5603,"children":5604},{"style":571},[5605],{"type":400,"value":683},{"type":394,"tag":477,"props":5607,"children":5608},{"style":948},[5609],{"type":400,"value":524},{"type":394,"tag":477,"props":5611,"children":5612},{"style":484},[5613],{"type":400,"value":1633},{"type":394,"tag":477,"props":5615,"children":5616},{"class":479,"line":1366},[5617,5622,5626,5630,5634,5638,5642,5646,5650],{"type":394,"tag":477,"props":5618,"children":5619},{"style":490},[5620],{"type":400,"value":5621},"        newElements",{"type":394,"tag":477,"props":5623,"children":5624},{"style":555},[5625],{"type":400,"value":932},{"type":394,"tag":477,"props":5627,"children":5628},{"style":490},[5629],{"type":400,"value":5589},{"type":394,"tag":477,"props":5631,"children":5632},{"style":484},[5633],{"type":400,"value":668},{"type":394,"tag":477,"props":5635,"children":5636},{"style":671},[5637],{"type":400,"value":3026},{"type":394,"tag":477,"props":5639,"children":5640},{"style":948},[5641],{"type":400,"value":493},{"type":394,"tag":477,"props":5643,"children":5644},{"style":571},[5645],{"type":400,"value":683},{"type":394,"tag":477,"props":5647,"children":5648},{"style":571},[5649],{"type":400,"value":834},{"type":394,"tag":477,"props":5651,"children":5652},{"style":948},[5653],{"type":400,"value":696},{"type":394,"tag":477,"props":5655,"children":5656},{"class":479,"line":1375},[5657],{"type":394,"tag":477,"props":5658,"children":5659},{"style":484},[5660],{"type":400,"value":1685},{"type":394,"tag":477,"props":5662,"children":5663},{"class":479,"line":1418},[5664,5669,5673,5677,5681,5685,5689,5693,5697,5701],{"type":394,"tag":477,"props":5665,"children":5666},{"style":490},[5667],{"type":400,"value":5668},"    html5",{"type":394,"tag":477,"props":5670,"children":5671},{"style":484},[5672],{"type":400,"value":668},{"type":394,"tag":477,"props":5674,"children":5675},{"style":490},[5676],{"type":400,"value":4733},{"type":394,"tag":477,"props":5678,"children":5679},{"style":555},[5680],{"type":400,"value":932},{"type":394,"tag":477,"props":5682,"children":5683},{"style":490},[5684],{"type":400,"value":4715},{"type":394,"tag":477,"props":5686,"children":5687},{"style":555},[5688],{"type":400,"value":3194},{"type":394,"tag":477,"props":5690,"children":5691},{"style":571},[5692],{"type":400,"value":683},{"type":394,"tag":477,"props":5694,"children":5695},{"style":571},[5696],{"type":400,"value":834},{"type":394,"tag":477,"props":5698,"children":5699},{"style":555},[5700],{"type":400,"value":3069},{"type":394,"tag":477,"props":5702,"children":5703},{"style":490},[5704],{"type":400,"value":5705}," newElements\n",{"type":394,"tag":477,"props":5707,"children":5708},{"class":479,"line":1451},[5709],{"type":394,"tag":477,"props":5710,"children":5711},{"emptyLinePlaceholder":387},[5712],{"type":400,"value":1295},{"type":394,"tag":477,"props":5714,"children":5715},{"class":479,"line":1464},[5716],{"type":394,"tag":477,"props":5717,"children":5718},{"style":536},[5719],{"type":400,"value":5720},"    // 每次增加元素的最后，会进行一次 shiv\n",{"type":394,"tag":477,"props":5722,"children":5723},{"class":479,"line":1505},[5724,5729,5733,5737],{"type":394,"tag":477,"props":5725,"children":5726},{"style":671},[5727],{"type":400,"value":5728},"    shivDocument",{"type":394,"tag":477,"props":5730,"children":5731},{"style":948},[5732],{"type":400,"value":493},{"type":394,"tag":477,"props":5734,"children":5735},{"style":490},[5736],{"type":400,"value":1812},{"type":394,"tag":477,"props":5738,"children":5739},{"style":948},[5740],{"type":400,"value":696},{"type":394,"tag":477,"props":5742,"children":5743},{"class":479,"line":1545},[5744],{"type":394,"tag":477,"props":5745,"children":5746},{"style":484},[5747],{"type":400,"value":4823},{"type":394,"tag":402,"props":5749,"children":5751},{"id":5750},"阅读更多",[5752],{"type":400,"value":5750},{"type":394,"tag":408,"props":5754,"children":5755},{},[5756],{"type":400,"value":5757},"害，看 html5shiv 并不能带来什么具体的帮助。看完之后，只感觉上一代前端真是太辛苦了，为 IE 操碎了心。现代前端技术随着打包工具的发展开阔了不止一点，兼容性这个曾经的代码重心已经悄然落下帷幕。如果现在我去哪家公司面试，还会被大面积问到兼容性问题，那估计我会当场“quit”吧。",{"type":394,"tag":5759,"props":5760,"children":5763},"section",{"className":5761,"dataFootnotes":388},[5762],"footnotes",[5764,5771],{"type":394,"tag":402,"props":5765,"children":5768},{"className":5766,"id":422},[5767],"sr-only",[5769],{"type":400,"value":5770},"Footnotes",{"type":394,"tag":5772,"props":5773,"children":5774},"ol",{},[5775,5798],{"type":394,"tag":439,"props":5776,"children":5778},{"id":5777},"user-content-fn-html5shiv",[5779,5787,5789],{"type":394,"tag":418,"props":5780,"children":5784},{"href":5781,"rel":5782},"https://github.com/aFarkas/html5shiv",[5783],"nofollow",[5785],{"type":400,"value":5786},"html5shiv",{"type":400,"value":5788}," ",{"type":394,"tag":418,"props":5790,"children":5795},{"href":5791,"ariaLabel":5792,"className":5793,"dataFootnoteBackref":388},"#user-content-fnref-html5shiv","Back to reference 1",[5794],"data-footnote-backref",[5796],{"type":400,"value":5797},"↩",{"type":394,"tag":439,"props":5799,"children":5801},{"id":5800},"user-content-fn-hidden",[5802,5809,5810],{"type":394,"tag":418,"props":5803,"children":5806},{"href":5804,"rel":5805},"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/hidden",[5783],[5807],{"type":400,"value":5808},"HTMLElement.hidden@MDN",{"type":400,"value":5788},{"type":394,"tag":418,"props":5811,"children":5815},{"href":5812,"ariaLabel":5813,"className":5814,"dataFootnoteBackref":388},"#user-content-fnref-hidden","Back to reference 2",[5794],[5816],{"type":400,"value":5797},{"type":394,"tag":5818,"props":5819,"children":5820},"style",{},[5821],{"type":400,"value":5822},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":388,"searchDepth":532,"depth":532,"links":5824},[5825,5826,5832,5833],{"id":404,"depth":532,"text":404},{"id":451,"depth":532,"text":451,"children":5827},[5828,5829,5830,5831],{"id":457,"depth":542,"text":457},{"id":627,"depth":542,"text":627},{"id":1700,"depth":542,"text":1700},{"id":4929,"depth":542,"text":4929},{"id":5750,"depth":532,"text":5750},{"id":422,"depth":532,"text":5770},"markdown","content:8.source-code:_module:html5shiv.md","content","8.source-code/_module/html5shiv.md","md",[5840,5843],{"_path":5841,"title":5842,"description":388},"/source-code/_module/fast-deep-equal","判断两个变量相等",{"_path":5844,"title":5845,"description":5846},"/source-code/_module/is-online","判断 NodeJS 是否在线","之前被组长问道要如何判断 NodeJS 是否在线，我不假思索回答：“Ping 百度试试。”。调用 Ping 需要 child_process，那还不如直接改用内置的 DNS 试试是否在线更简单一些。不过会不会碰到缓存等问题，没往下细想了。今天正好在别人的博客看到了 NodeJS DNS 模块，突然想起这个问题，于是就搜了一下相关库。找到了 internet-available 这个玩意儿。这里一起来看看他们的实现。",1708107592370]