[{"data":1,"prerenderedAt":5620},["ShallowReactive",2],{"navigation":3,"/source-code/_module/html5shiv":155,"/source-code/_module/html5shiv-surround":5612},[4,35,86,92,119,125,149],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"读书笔记 / Notes","/books",[90],{"title":91,"_path":88},"📕 读书笔记",{"title":93,"_path":94,"children":95},"吉他剧场 / Music","/music",[96,98,101,104,107,110,113,116],{"title":97,"_path":94},"🎸 FingerStyle！",{"title":99,"_path":100},"🌬️ 等待的风","/music/wind",{"title":102,"_path":103},"💕 约定的海洋","/music/ocean",{"title":105,"_path":106},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":108,"_path":109},"🌏 残酷天使的行动纲领","/music/eva",{"title":111,"_path":112},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":114,"_path":115},"🍷 Wu Wei","/music/wu-wei",{"title":117,"_path":118},"🌅 无题","/music/untitled",{"title":120,"_path":121,"children":122},"知识地图 / Maps","/maps",[123],{"title":124,"_path":121},"🏁 知识地图",{"title":126,"_path":127,"children":128},"造物 / Make","/tools",[129,131,134,137,140,143,146],{"title":130,"_path":127},"🧰 工具收集",{"title":132,"_path":133},"📕 博客","/tools/blog",{"title":135,"_path":136},"🥥 Coconut","/tools/coconut",{"title":138,"_path":139},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":141,"_path":142},"🌐 AnySort","/tools/anysort",{"title":144,"_path":145},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":147,"_path":148},"👓 Crapto","/tools/crypto-inline",{"title":150,"_path":151,"children":152},"我 / About","/hire",[153],{"title":154,"_path":151},"📬 技术简历",{"_path":156,"_dir":157,"_draft":158,"_partial":159,"_locale":160,"title":161,"description":160,"body":162,"_type":5606,"_id":5607,"_source":5608,"_file":5609,"_stem":5610,"_extension":5611},"/source-code/_module/html5shiv","_module",false,true,"","🛠 低版本浏览器兼容HTML5标签原理",{"type":163,"children":164,"toc":5595},"root",[165,173,179,201,206,221,226,232,237,392,397,402,407,412,509,527,532,880,885,1470,1475,1480,1485,1782,1787,2206,2211,3085,3090,3196,3201,3318,3323,4048,4053,4429,4434,4699,4704,4709,5042,5047,5520,5525,5530,5589],{"type":166,"tag":167,"props":168,"children":170},"element","h1",{"id":169},"低版本浏览器兼容html5标签原理",[171],{"type":172,"value":161},"text",{"type":166,"tag":174,"props":175,"children":177},"h2",{"id":176},"长话短说",[178],{"type":172,"value":176},{"type":166,"tag":180,"props":181,"children":182},"p",{},[183,185,199],{"type":172,"value":184},"最近在复习 HTML 相关内容呢，不知不觉想起以前在实习公司用过的 html5shiv 这个玩意儿。html5shiv 能使 IE6/7/8 等浏览器支持 HTML5 的新标签",{"type":166,"tag":186,"props":187,"children":188},"sup",{},[189],{"type":166,"tag":190,"props":191,"children":196},"a",{"href":192,"ariaDescribedBy":193,"dataFootnoteRef":160,"id":195},"#user-content-fn-html5shiv",[194],"footnote-label","user-content-fnref-html5shiv",[197],{"type":172,"value":198},"1",{"type":172,"value":200},"。这里我初略扫了一眼它的原理。",{"type":166,"tag":180,"props":202,"children":203},{},[204],{"type":172,"value":205},"它主要做了以下两件事情：",{"type":166,"tag":207,"props":208,"children":209},"ul",{},[210,216],{"type":166,"tag":211,"props":212,"children":213},"li",{},[214],{"type":172,"value":215},"用高阶函数增强浏览器原生的 createElement 等 API。需要创建新标签时，使用已缓存的元素克隆并返还一个新元素，或回退至调用原生 API 创建 H5 新元素。这个增强是基于 document.createElement 能创建非标准元素这个特性实现的。",{"type":166,"tag":211,"props":217,"children":218},{},[219],{"type":172,"value":220},"给新标签增加相应的默认样式。",{"type":166,"tag":174,"props":222,"children":224},{"id":223},"具体实现",[225],{"type":172,"value":223},{"type":166,"tag":227,"props":228,"children":230},"h3",{"id":229},"代码结构",[231],{"type":172,"value":229},{"type":166,"tag":180,"props":233,"children":234},{},[235],{"type":172,"value":236},"整个代码被包裹在 IIFE 中。像 jQuery 一样，把 window 对象传了进来。",{"type":166,"tag":238,"props":239,"children":243},"pre",{"className":240,"code":241,"language":242,"meta":160,"style":160},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",";(function(window, document) {\n    // rest of code\n}(typeof window !== \"undefined\" ? window : this, document));\n","js",[244],{"type":166,"tag":245,"props":246,"children":247},"code",{"__ignoreMap":160},[248,302,312],{"type":166,"tag":249,"props":250,"children":253},"span",{"class":251,"line":252},"line",1,[254,260,266,272,276,282,287,292,297],{"type":166,"tag":249,"props":255,"children":257},{"style":256},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[258],{"type":172,"value":259},";",{"type":166,"tag":249,"props":261,"children":263},{"style":262},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[264],{"type":172,"value":265},"(",{"type":166,"tag":249,"props":267,"children":269},{"style":268},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[270],{"type":172,"value":271},"function",{"type":166,"tag":249,"props":273,"children":274},{"style":256},[275],{"type":172,"value":265},{"type":166,"tag":249,"props":277,"children":279},{"style":278},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[280],{"type":172,"value":281},"window",{"type":166,"tag":249,"props":283,"children":284},{"style":256},[285],{"type":172,"value":286},",",{"type":166,"tag":249,"props":288,"children":289},{"style":278},[290],{"type":172,"value":291}," document",{"type":166,"tag":249,"props":293,"children":294},{"style":256},[295],{"type":172,"value":296},")",{"type":166,"tag":249,"props":298,"children":299},{"style":256},[300],{"type":172,"value":301}," {\n",{"type":166,"tag":249,"props":303,"children":305},{"class":251,"line":304},2,[306],{"type":166,"tag":249,"props":307,"children":309},{"style":308},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[310],{"type":172,"value":311},"    // rest of code\n",{"type":166,"tag":249,"props":313,"children":315},{"class":251,"line":314},3,[316,321,325,331,336,341,347,353,358,363,367,372,378,382,387],{"type":166,"tag":249,"props":317,"children":318},{"style":256},[319],{"type":172,"value":320},"}",{"type":166,"tag":249,"props":322,"children":323},{"style":262},[324],{"type":172,"value":265},{"type":166,"tag":249,"props":326,"children":328},{"style":327},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[329],{"type":172,"value":330},"typeof",{"type":166,"tag":249,"props":332,"children":333},{"style":262},[334],{"type":172,"value":335}," window ",{"type":166,"tag":249,"props":337,"children":338},{"style":327},[339],{"type":172,"value":340},"!==",{"type":166,"tag":249,"props":342,"children":344},{"style":343},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[345],{"type":172,"value":346}," \"",{"type":166,"tag":249,"props":348,"children":350},{"style":349},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[351],{"type":172,"value":352},"undefined",{"type":166,"tag":249,"props":354,"children":355},{"style":343},[356],{"type":172,"value":357},"\"",{"type":166,"tag":249,"props":359,"children":360},{"style":327},[361],{"type":172,"value":362}," ?",{"type":166,"tag":249,"props":364,"children":365},{"style":262},[366],{"type":172,"value":335},{"type":166,"tag":249,"props":368,"children":369},{"style":327},[370],{"type":172,"value":371},":",{"type":166,"tag":249,"props":373,"children":375},{"style":374},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[376],{"type":172,"value":377}," this",{"type":166,"tag":249,"props":379,"children":380},{"style":256},[381],{"type":172,"value":286},{"type":166,"tag":249,"props":383,"children":384},{"style":262},[385],{"type":172,"value":386}," document))",{"type":166,"tag":249,"props":388,"children":389},{"style":256},[390],{"type":172,"value":391},";\n",{"type":166,"tag":180,"props":393,"children":394},{},[395],{"type":172,"value":396},"一个很经典的模块模式，没什么好拓展的，我们继续...",{"type":166,"tag":227,"props":398,"children":400},{"id":399},"兼容性检测",[401],{"type":172,"value":399},{"type":166,"tag":180,"props":403,"children":404},{},[405],{"type":172,"value":406},"以下代码检测当前浏览器对 HTML5 的支持程度。",{"type":166,"tag":180,"props":408,"children":409},{},[410],{"type":172,"value":411},"通过检测元素对 hidden 属性的支持程度，检测浏览器对 HTML5 样式支持的水平。",{"type":166,"tag":238,"props":413,"children":415},{"className":240,"code":414,"language":242,"meta":160,"style":160},"a = document.createElement('a')\nsupportsHtml5Styles = ('hidden' in a)\n",[416],{"type":166,"tag":245,"props":417,"children":418},{"__ignoreMap":160},[419,469],{"type":166,"tag":249,"props":420,"children":421},{"class":251,"line":252},[422,427,432,436,441,447,451,456,460,464],{"type":166,"tag":249,"props":423,"children":424},{"style":262},[425],{"type":172,"value":426},"a ",{"type":166,"tag":249,"props":428,"children":429},{"style":327},[430],{"type":172,"value":431},"=",{"type":166,"tag":249,"props":433,"children":434},{"style":262},[435],{"type":172,"value":291},{"type":166,"tag":249,"props":437,"children":438},{"style":256},[439],{"type":172,"value":440},".",{"type":166,"tag":249,"props":442,"children":444},{"style":443},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[445],{"type":172,"value":446},"createElement",{"type":166,"tag":249,"props":448,"children":449},{"style":262},[450],{"type":172,"value":265},{"type":166,"tag":249,"props":452,"children":453},{"style":343},[454],{"type":172,"value":455},"'",{"type":166,"tag":249,"props":457,"children":458},{"style":349},[459],{"type":172,"value":190},{"type":166,"tag":249,"props":461,"children":462},{"style":343},[463],{"type":172,"value":455},{"type":166,"tag":249,"props":465,"children":466},{"style":262},[467],{"type":172,"value":468},")\n",{"type":166,"tag":249,"props":470,"children":471},{"class":251,"line":304},[472,477,481,486,490,495,499,504],{"type":166,"tag":249,"props":473,"children":474},{"style":262},[475],{"type":172,"value":476},"supportsHtml5Styles ",{"type":166,"tag":249,"props":478,"children":479},{"style":327},[480],{"type":172,"value":431},{"type":166,"tag":249,"props":482,"children":483},{"style":262},[484],{"type":172,"value":485}," (",{"type":166,"tag":249,"props":487,"children":488},{"style":343},[489],{"type":172,"value":455},{"type":166,"tag":249,"props":491,"children":492},{"style":349},[493],{"type":172,"value":494},"hidden",{"type":166,"tag":249,"props":496,"children":497},{"style":343},[498],{"type":172,"value":455},{"type":166,"tag":249,"props":500,"children":501},{"style":327},[502],{"type":172,"value":503}," in",{"type":166,"tag":249,"props":505,"children":506},{"style":262},[507],{"type":172,"value":508}," a)\n",{"type":166,"tag":180,"props":510,"children":511},{},[512,514,525],{"type":172,"value":513},"以前没听过 HTMLElement.hidden，项目里的隐藏元素都是直接上 CSS 做的。不过据 MDN 表示，除了隐藏元素之外，hidden 属性还能用于创造离屏 Canvas",{"type":166,"tag":186,"props":515,"children":516},{},[517],{"type":166,"tag":190,"props":518,"children":522},{"href":519,"ariaDescribedBy":520,"dataFootnoteRef":160,"id":521},"#user-content-fn-hidden",[194],"user-content-fnref-hidden",[523],{"type":172,"value":524},"2",{"type":172,"value":526},"。",{"type":166,"tag":180,"props":528,"children":529},{},[530],{"type":172,"value":531},"这段代码用于测试浏览器是否支持未知元素的创建。",{"type":166,"tag":238,"props":533,"children":535},{"className":240,"code":534,"language":242,"meta":160,"style":160},"a = document.createElement('a')\na.innerHTML = '\u003Cxyz>\u003C/xyz>'\nsupportsUnknownElements = a.childNodes.length == 1 || (function() {\n    var frag = document.createDocumentFragment()\n    return (\n    typeof frag.cloneNode == 'undefined' ||\n    typeof frag.createDocumentFragment == 'undefined' ||\n    typeof frag.createElement == 'undefined'\n    )\n}())\n",[536],{"type":166,"tag":245,"props":537,"children":538},{"__ignoreMap":160},[539,582,617,686,724,739,782,822,858,867],{"type":166,"tag":249,"props":540,"children":541},{"class":251,"line":252},[542,546,550,554,558,562,566,570,574,578],{"type":166,"tag":249,"props":543,"children":544},{"style":262},[545],{"type":172,"value":426},{"type":166,"tag":249,"props":547,"children":548},{"style":327},[549],{"type":172,"value":431},{"type":166,"tag":249,"props":551,"children":552},{"style":262},[553],{"type":172,"value":291},{"type":166,"tag":249,"props":555,"children":556},{"style":256},[557],{"type":172,"value":440},{"type":166,"tag":249,"props":559,"children":560},{"style":443},[561],{"type":172,"value":446},{"type":166,"tag":249,"props":563,"children":564},{"style":262},[565],{"type":172,"value":265},{"type":166,"tag":249,"props":567,"children":568},{"style":343},[569],{"type":172,"value":455},{"type":166,"tag":249,"props":571,"children":572},{"style":349},[573],{"type":172,"value":190},{"type":166,"tag":249,"props":575,"children":576},{"style":343},[577],{"type":172,"value":455},{"type":166,"tag":249,"props":579,"children":580},{"style":262},[581],{"type":172,"value":468},{"type":166,"tag":249,"props":583,"children":584},{"class":251,"line":304},[585,589,593,598,602,607,612],{"type":166,"tag":249,"props":586,"children":587},{"style":262},[588],{"type":172,"value":190},{"type":166,"tag":249,"props":590,"children":591},{"style":256},[592],{"type":172,"value":440},{"type":166,"tag":249,"props":594,"children":595},{"style":262},[596],{"type":172,"value":597},"innerHTML ",{"type":166,"tag":249,"props":599,"children":600},{"style":327},[601],{"type":172,"value":431},{"type":166,"tag":249,"props":603,"children":604},{"style":343},[605],{"type":172,"value":606}," '",{"type":166,"tag":249,"props":608,"children":609},{"style":349},[610],{"type":172,"value":611},"\u003Cxyz>\u003C/xyz>",{"type":166,"tag":249,"props":613,"children":614},{"style":343},[615],{"type":172,"value":616},"'\n",{"type":166,"tag":249,"props":618,"children":619},{"class":251,"line":314},[620,625,629,634,638,643,647,653,658,664,669,673,677,682],{"type":166,"tag":249,"props":621,"children":622},{"style":262},[623],{"type":172,"value":624},"supportsUnknownElements ",{"type":166,"tag":249,"props":626,"children":627},{"style":327},[628],{"type":172,"value":431},{"type":166,"tag":249,"props":630,"children":631},{"style":262},[632],{"type":172,"value":633}," a",{"type":166,"tag":249,"props":635,"children":636},{"style":256},[637],{"type":172,"value":440},{"type":166,"tag":249,"props":639,"children":640},{"style":262},[641],{"type":172,"value":642},"childNodes",{"type":166,"tag":249,"props":644,"children":645},{"style":256},[646],{"type":172,"value":440},{"type":166,"tag":249,"props":648,"children":650},{"style":649},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[651],{"type":172,"value":652},"length",{"type":166,"tag":249,"props":654,"children":655},{"style":327},[656],{"type":172,"value":657}," ==",{"type":166,"tag":249,"props":659,"children":661},{"style":660},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[662],{"type":172,"value":663}," 1",{"type":166,"tag":249,"props":665,"children":666},{"style":327},[667],{"type":172,"value":668}," ||",{"type":166,"tag":249,"props":670,"children":671},{"style":262},[672],{"type":172,"value":485},{"type":166,"tag":249,"props":674,"children":675},{"style":268},[676],{"type":172,"value":271},{"type":166,"tag":249,"props":678,"children":679},{"style":256},[680],{"type":172,"value":681},"()",{"type":166,"tag":249,"props":683,"children":684},{"style":256},[685],{"type":172,"value":301},{"type":166,"tag":249,"props":687,"children":689},{"class":251,"line":688},4,[690,695,700,705,709,713,718],{"type":166,"tag":249,"props":691,"children":692},{"style":268},[693],{"type":172,"value":694},"    var",{"type":166,"tag":249,"props":696,"children":697},{"style":262},[698],{"type":172,"value":699}," frag",{"type":166,"tag":249,"props":701,"children":702},{"style":327},[703],{"type":172,"value":704}," =",{"type":166,"tag":249,"props":706,"children":707},{"style":262},[708],{"type":172,"value":291},{"type":166,"tag":249,"props":710,"children":711},{"style":256},[712],{"type":172,"value":440},{"type":166,"tag":249,"props":714,"children":715},{"style":443},[716],{"type":172,"value":717},"createDocumentFragment",{"type":166,"tag":249,"props":719,"children":721},{"style":720},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[722],{"type":172,"value":723},"()\n",{"type":166,"tag":249,"props":725,"children":727},{"class":251,"line":726},5,[728,734],{"type":166,"tag":249,"props":729,"children":731},{"style":730},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[732],{"type":172,"value":733},"    return",{"type":166,"tag":249,"props":735,"children":736},{"style":720},[737],{"type":172,"value":738}," (\n",{"type":166,"tag":249,"props":740,"children":742},{"class":251,"line":741},6,[743,748,752,756,761,765,769,773,777],{"type":166,"tag":249,"props":744,"children":745},{"style":327},[746],{"type":172,"value":747},"    typeof",{"type":166,"tag":249,"props":749,"children":750},{"style":262},[751],{"type":172,"value":699},{"type":166,"tag":249,"props":753,"children":754},{"style":256},[755],{"type":172,"value":440},{"type":166,"tag":249,"props":757,"children":758},{"style":262},[759],{"type":172,"value":760},"cloneNode",{"type":166,"tag":249,"props":762,"children":763},{"style":327},[764],{"type":172,"value":657},{"type":166,"tag":249,"props":766,"children":767},{"style":343},[768],{"type":172,"value":606},{"type":166,"tag":249,"props":770,"children":771},{"style":349},[772],{"type":172,"value":352},{"type":166,"tag":249,"props":774,"children":775},{"style":343},[776],{"type":172,"value":455},{"type":166,"tag":249,"props":778,"children":779},{"style":327},[780],{"type":172,"value":781}," ||\n",{"type":166,"tag":249,"props":783,"children":785},{"class":251,"line":784},7,[786,790,794,798,802,806,810,814,818],{"type":166,"tag":249,"props":787,"children":788},{"style":327},[789],{"type":172,"value":747},{"type":166,"tag":249,"props":791,"children":792},{"style":262},[793],{"type":172,"value":699},{"type":166,"tag":249,"props":795,"children":796},{"style":256},[797],{"type":172,"value":440},{"type":166,"tag":249,"props":799,"children":800},{"style":262},[801],{"type":172,"value":717},{"type":166,"tag":249,"props":803,"children":804},{"style":327},[805],{"type":172,"value":657},{"type":166,"tag":249,"props":807,"children":808},{"style":343},[809],{"type":172,"value":606},{"type":166,"tag":249,"props":811,"children":812},{"style":349},[813],{"type":172,"value":352},{"type":166,"tag":249,"props":815,"children":816},{"style":343},[817],{"type":172,"value":455},{"type":166,"tag":249,"props":819,"children":820},{"style":327},[821],{"type":172,"value":781},{"type":166,"tag":249,"props":823,"children":825},{"class":251,"line":824},8,[826,830,834,838,842,846,850,854],{"type":166,"tag":249,"props":827,"children":828},{"style":327},[829],{"type":172,"value":747},{"type":166,"tag":249,"props":831,"children":832},{"style":262},[833],{"type":172,"value":699},{"type":166,"tag":249,"props":835,"children":836},{"style":256},[837],{"type":172,"value":440},{"type":166,"tag":249,"props":839,"children":840},{"style":262},[841],{"type":172,"value":446},{"type":166,"tag":249,"props":843,"children":844},{"style":327},[845],{"type":172,"value":657},{"type":166,"tag":249,"props":847,"children":848},{"style":343},[849],{"type":172,"value":606},{"type":166,"tag":249,"props":851,"children":852},{"style":349},[853],{"type":172,"value":352},{"type":166,"tag":249,"props":855,"children":856},{"style":343},[857],{"type":172,"value":616},{"type":166,"tag":249,"props":859,"children":861},{"class":251,"line":860},9,[862],{"type":166,"tag":249,"props":863,"children":864},{"style":720},[865],{"type":172,"value":866},"    )\n",{"type":166,"tag":249,"props":868,"children":870},{"class":251,"line":869},10,[871,875],{"type":166,"tag":249,"props":872,"children":873},{"style":256},[874],{"type":172,"value":320},{"type":166,"tag":249,"props":876,"children":877},{"style":262},[878],{"type":172,"value":879},"())\n",{"type":166,"tag":180,"props":881,"children":882},{},[883],{"type":172,"value":884},"如果连 document.createElement 都调用失败的话，那 html5shiv 代码就毫无作用了（html5shiv 的原理需要用到 document.createElement），所以用一个 try/catch 将上述两个功能包裹起来。遇到错误则假装浏览器正常支持 HTML5，相关检测变量被置为 true。",{"type":166,"tag":238,"props":886,"children":888},{"className":240,"code":887,"language":242,"meta":160,"style":160},"(function() {\n    try {\n        var a = document.createElement('a')\n        a.innerHTML = '\u003Cxyz>\u003C/xyz>'\n        //if the hidden property is implemented we can assume, \n        // that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a)\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n            // assign a false positive if unable to shiv\n            // ? 猜测特定浏览器对这种括号调用方法会报错\n            (document.createElement)('a')\n            var frag = document.createDocumentFragment()\n            return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n            )\n        }())\n    } catch(e) {\n        // assign a false positive if detection fails => unable to shiv\n        supportsHtml5Styles = true\n        supportsUnknownElements = true\n    }\n}())\n",[889],{"type":166,"tag":245,"props":890,"children":891},{"__ignoreMap":160},[892,911,923,971,1004,1012,1020,1060,1068,1128,1136,1145,1188,1221,1234,1275,1315,1351,1360,1373,1406,1415,1433,1449,1458],{"type":166,"tag":249,"props":893,"children":894},{"class":251,"line":252},[895,899,903,907],{"type":166,"tag":249,"props":896,"children":897},{"style":262},[898],{"type":172,"value":265},{"type":166,"tag":249,"props":900,"children":901},{"style":268},[902],{"type":172,"value":271},{"type":166,"tag":249,"props":904,"children":905},{"style":256},[906],{"type":172,"value":681},{"type":166,"tag":249,"props":908,"children":909},{"style":256},[910],{"type":172,"value":301},{"type":166,"tag":249,"props":912,"children":913},{"class":251,"line":304},[914,919],{"type":166,"tag":249,"props":915,"children":916},{"style":730},[917],{"type":172,"value":918},"    try",{"type":166,"tag":249,"props":920,"children":921},{"style":256},[922],{"type":172,"value":301},{"type":166,"tag":249,"props":924,"children":925},{"class":251,"line":314},[926,931,935,939,943,947,951,955,959,963,967],{"type":166,"tag":249,"props":927,"children":928},{"style":268},[929],{"type":172,"value":930},"        var",{"type":166,"tag":249,"props":932,"children":933},{"style":262},[934],{"type":172,"value":633},{"type":166,"tag":249,"props":936,"children":937},{"style":327},[938],{"type":172,"value":704},{"type":166,"tag":249,"props":940,"children":941},{"style":262},[942],{"type":172,"value":291},{"type":166,"tag":249,"props":944,"children":945},{"style":256},[946],{"type":172,"value":440},{"type":166,"tag":249,"props":948,"children":949},{"style":443},[950],{"type":172,"value":446},{"type":166,"tag":249,"props":952,"children":953},{"style":720},[954],{"type":172,"value":265},{"type":166,"tag":249,"props":956,"children":957},{"style":343},[958],{"type":172,"value":455},{"type":166,"tag":249,"props":960,"children":961},{"style":349},[962],{"type":172,"value":190},{"type":166,"tag":249,"props":964,"children":965},{"style":343},[966],{"type":172,"value":455},{"type":166,"tag":249,"props":968,"children":969},{"style":720},[970],{"type":172,"value":468},{"type":166,"tag":249,"props":972,"children":973},{"class":251,"line":688},[974,979,983,988,992,996,1000],{"type":166,"tag":249,"props":975,"children":976},{"style":262},[977],{"type":172,"value":978},"        a",{"type":166,"tag":249,"props":980,"children":981},{"style":256},[982],{"type":172,"value":440},{"type":166,"tag":249,"props":984,"children":985},{"style":262},[986],{"type":172,"value":987},"innerHTML",{"type":166,"tag":249,"props":989,"children":990},{"style":327},[991],{"type":172,"value":704},{"type":166,"tag":249,"props":993,"children":994},{"style":343},[995],{"type":172,"value":606},{"type":166,"tag":249,"props":997,"children":998},{"style":349},[999],{"type":172,"value":611},{"type":166,"tag":249,"props":1001,"children":1002},{"style":343},[1003],{"type":172,"value":616},{"type":166,"tag":249,"props":1005,"children":1006},{"class":251,"line":726},[1007],{"type":166,"tag":249,"props":1008,"children":1009},{"style":308},[1010],{"type":172,"value":1011},"        //if the hidden property is implemented we can assume, \n",{"type":166,"tag":249,"props":1013,"children":1014},{"class":251,"line":741},[1015],{"type":166,"tag":249,"props":1016,"children":1017},{"style":308},[1018],{"type":172,"value":1019},"        // that the browser supports basic HTML5 Styles\n",{"type":166,"tag":249,"props":1021,"children":1022},{"class":251,"line":784},[1023,1028,1032,1036,1040,1044,1048,1052,1056],{"type":166,"tag":249,"props":1024,"children":1025},{"style":262},[1026],{"type":172,"value":1027},"        supportsHtml5Styles",{"type":166,"tag":249,"props":1029,"children":1030},{"style":327},[1031],{"type":172,"value":704},{"type":166,"tag":249,"props":1033,"children":1034},{"style":720},[1035],{"type":172,"value":485},{"type":166,"tag":249,"props":1037,"children":1038},{"style":343},[1039],{"type":172,"value":455},{"type":166,"tag":249,"props":1041,"children":1042},{"style":349},[1043],{"type":172,"value":494},{"type":166,"tag":249,"props":1045,"children":1046},{"style":343},[1047],{"type":172,"value":455},{"type":166,"tag":249,"props":1049,"children":1050},{"style":327},[1051],{"type":172,"value":503},{"type":166,"tag":249,"props":1053,"children":1054},{"style":262},[1055],{"type":172,"value":633},{"type":166,"tag":249,"props":1057,"children":1058},{"style":720},[1059],{"type":172,"value":468},{"type":166,"tag":249,"props":1061,"children":1062},{"class":251,"line":824},[1063],{"type":166,"tag":249,"props":1064,"children":1065},{"emptyLinePlaceholder":159},[1066],{"type":172,"value":1067},"\n",{"type":166,"tag":249,"props":1069,"children":1070},{"class":251,"line":860},[1071,1076,1080,1084,1088,1092,1096,1100,1104,1108,1112,1116,1120,1124],{"type":166,"tag":249,"props":1072,"children":1073},{"style":262},[1074],{"type":172,"value":1075},"        supportsUnknownElements",{"type":166,"tag":249,"props":1077,"children":1078},{"style":327},[1079],{"type":172,"value":704},{"type":166,"tag":249,"props":1081,"children":1082},{"style":262},[1083],{"type":172,"value":633},{"type":166,"tag":249,"props":1085,"children":1086},{"style":256},[1087],{"type":172,"value":440},{"type":166,"tag":249,"props":1089,"children":1090},{"style":262},[1091],{"type":172,"value":642},{"type":166,"tag":249,"props":1093,"children":1094},{"style":256},[1095],{"type":172,"value":440},{"type":166,"tag":249,"props":1097,"children":1098},{"style":649},[1099],{"type":172,"value":652},{"type":166,"tag":249,"props":1101,"children":1102},{"style":327},[1103],{"type":172,"value":657},{"type":166,"tag":249,"props":1105,"children":1106},{"style":660},[1107],{"type":172,"value":663},{"type":166,"tag":249,"props":1109,"children":1110},{"style":327},[1111],{"type":172,"value":668},{"type":166,"tag":249,"props":1113,"children":1114},{"style":720},[1115],{"type":172,"value":485},{"type":166,"tag":249,"props":1117,"children":1118},{"style":268},[1119],{"type":172,"value":271},{"type":166,"tag":249,"props":1121,"children":1122},{"style":256},[1123],{"type":172,"value":681},{"type":166,"tag":249,"props":1125,"children":1126},{"style":256},[1127],{"type":172,"value":301},{"type":166,"tag":249,"props":1129,"children":1130},{"class":251,"line":869},[1131],{"type":166,"tag":249,"props":1132,"children":1133},{"style":308},[1134],{"type":172,"value":1135},"            // assign a false positive if unable to shiv\n",{"type":166,"tag":249,"props":1137,"children":1139},{"class":251,"line":1138},11,[1140],{"type":166,"tag":249,"props":1141,"children":1142},{"style":308},[1143],{"type":172,"value":1144},"            // ? 猜测特定浏览器对这种括号调用方法会报错\n",{"type":166,"tag":249,"props":1146,"children":1148},{"class":251,"line":1147},12,[1149,1154,1159,1163,1167,1172,1176,1180,1184],{"type":166,"tag":249,"props":1150,"children":1151},{"style":720},[1152],{"type":172,"value":1153},"            (",{"type":166,"tag":249,"props":1155,"children":1156},{"style":262},[1157],{"type":172,"value":1158},"document",{"type":166,"tag":249,"props":1160,"children":1161},{"style":256},[1162],{"type":172,"value":440},{"type":166,"tag":249,"props":1164,"children":1165},{"style":262},[1166],{"type":172,"value":446},{"type":166,"tag":249,"props":1168,"children":1169},{"style":720},[1170],{"type":172,"value":1171},")(",{"type":166,"tag":249,"props":1173,"children":1174},{"style":343},[1175],{"type":172,"value":455},{"type":166,"tag":249,"props":1177,"children":1178},{"style":349},[1179],{"type":172,"value":190},{"type":166,"tag":249,"props":1181,"children":1182},{"style":343},[1183],{"type":172,"value":455},{"type":166,"tag":249,"props":1185,"children":1186},{"style":720},[1187],{"type":172,"value":468},{"type":166,"tag":249,"props":1189,"children":1191},{"class":251,"line":1190},13,[1192,1197,1201,1205,1209,1213,1217],{"type":166,"tag":249,"props":1193,"children":1194},{"style":268},[1195],{"type":172,"value":1196},"            var",{"type":166,"tag":249,"props":1198,"children":1199},{"style":262},[1200],{"type":172,"value":699},{"type":166,"tag":249,"props":1202,"children":1203},{"style":327},[1204],{"type":172,"value":704},{"type":166,"tag":249,"props":1206,"children":1207},{"style":262},[1208],{"type":172,"value":291},{"type":166,"tag":249,"props":1210,"children":1211},{"style":256},[1212],{"type":172,"value":440},{"type":166,"tag":249,"props":1214,"children":1215},{"style":443},[1216],{"type":172,"value":717},{"type":166,"tag":249,"props":1218,"children":1219},{"style":720},[1220],{"type":172,"value":723},{"type":166,"tag":249,"props":1222,"children":1224},{"class":251,"line":1223},14,[1225,1230],{"type":166,"tag":249,"props":1226,"children":1227},{"style":730},[1228],{"type":172,"value":1229},"            return",{"type":166,"tag":249,"props":1231,"children":1232},{"style":720},[1233],{"type":172,"value":738},{"type":166,"tag":249,"props":1235,"children":1237},{"class":251,"line":1236},15,[1238,1243,1247,1251,1255,1259,1263,1267,1271],{"type":166,"tag":249,"props":1239,"children":1240},{"style":327},[1241],{"type":172,"value":1242},"            typeof",{"type":166,"tag":249,"props":1244,"children":1245},{"style":262},[1246],{"type":172,"value":699},{"type":166,"tag":249,"props":1248,"children":1249},{"style":256},[1250],{"type":172,"value":440},{"type":166,"tag":249,"props":1252,"children":1253},{"style":262},[1254],{"type":172,"value":760},{"type":166,"tag":249,"props":1256,"children":1257},{"style":327},[1258],{"type":172,"value":657},{"type":166,"tag":249,"props":1260,"children":1261},{"style":343},[1262],{"type":172,"value":606},{"type":166,"tag":249,"props":1264,"children":1265},{"style":349},[1266],{"type":172,"value":352},{"type":166,"tag":249,"props":1268,"children":1269},{"style":343},[1270],{"type":172,"value":455},{"type":166,"tag":249,"props":1272,"children":1273},{"style":327},[1274],{"type":172,"value":781},{"type":166,"tag":249,"props":1276,"children":1278},{"class":251,"line":1277},16,[1279,1283,1287,1291,1295,1299,1303,1307,1311],{"type":166,"tag":249,"props":1280,"children":1281},{"style":327},[1282],{"type":172,"value":1242},{"type":166,"tag":249,"props":1284,"children":1285},{"style":262},[1286],{"type":172,"value":699},{"type":166,"tag":249,"props":1288,"children":1289},{"style":256},[1290],{"type":172,"value":440},{"type":166,"tag":249,"props":1292,"children":1293},{"style":262},[1294],{"type":172,"value":717},{"type":166,"tag":249,"props":1296,"children":1297},{"style":327},[1298],{"type":172,"value":657},{"type":166,"tag":249,"props":1300,"children":1301},{"style":343},[1302],{"type":172,"value":606},{"type":166,"tag":249,"props":1304,"children":1305},{"style":349},[1306],{"type":172,"value":352},{"type":166,"tag":249,"props":1308,"children":1309},{"style":343},[1310],{"type":172,"value":455},{"type":166,"tag":249,"props":1312,"children":1313},{"style":327},[1314],{"type":172,"value":781},{"type":166,"tag":249,"props":1316,"children":1318},{"class":251,"line":1317},17,[1319,1323,1327,1331,1335,1339,1343,1347],{"type":166,"tag":249,"props":1320,"children":1321},{"style":327},[1322],{"type":172,"value":1242},{"type":166,"tag":249,"props":1324,"children":1325},{"style":262},[1326],{"type":172,"value":699},{"type":166,"tag":249,"props":1328,"children":1329},{"style":256},[1330],{"type":172,"value":440},{"type":166,"tag":249,"props":1332,"children":1333},{"style":262},[1334],{"type":172,"value":446},{"type":166,"tag":249,"props":1336,"children":1337},{"style":327},[1338],{"type":172,"value":657},{"type":166,"tag":249,"props":1340,"children":1341},{"style":343},[1342],{"type":172,"value":606},{"type":166,"tag":249,"props":1344,"children":1345},{"style":349},[1346],{"type":172,"value":352},{"type":166,"tag":249,"props":1348,"children":1349},{"style":343},[1350],{"type":172,"value":616},{"type":166,"tag":249,"props":1352,"children":1354},{"class":251,"line":1353},18,[1355],{"type":166,"tag":249,"props":1356,"children":1357},{"style":720},[1358],{"type":172,"value":1359},"            )\n",{"type":166,"tag":249,"props":1361,"children":1363},{"class":251,"line":1362},19,[1364,1369],{"type":166,"tag":249,"props":1365,"children":1366},{"style":256},[1367],{"type":172,"value":1368},"        }",{"type":166,"tag":249,"props":1370,"children":1371},{"style":720},[1372],{"type":172,"value":879},{"type":166,"tag":249,"props":1374,"children":1376},{"class":251,"line":1375},20,[1377,1382,1387,1391,1396,1401],{"type":166,"tag":249,"props":1378,"children":1379},{"style":256},[1380],{"type":172,"value":1381},"    }",{"type":166,"tag":249,"props":1383,"children":1384},{"style":730},[1385],{"type":172,"value":1386}," catch",{"type":166,"tag":249,"props":1388,"children":1389},{"style":720},[1390],{"type":172,"value":265},{"type":166,"tag":249,"props":1392,"children":1393},{"style":262},[1394],{"type":172,"value":1395},"e",{"type":166,"tag":249,"props":1397,"children":1398},{"style":720},[1399],{"type":172,"value":1400},") ",{"type":166,"tag":249,"props":1402,"children":1403},{"style":256},[1404],{"type":172,"value":1405},"{\n",{"type":166,"tag":249,"props":1407,"children":1409},{"class":251,"line":1408},21,[1410],{"type":166,"tag":249,"props":1411,"children":1412},{"style":308},[1413],{"type":172,"value":1414},"        // assign a false positive if detection fails => unable to shiv\n",{"type":166,"tag":249,"props":1416,"children":1418},{"class":251,"line":1417},22,[1419,1423,1427],{"type":166,"tag":249,"props":1420,"children":1421},{"style":262},[1422],{"type":172,"value":1027},{"type":166,"tag":249,"props":1424,"children":1425},{"style":327},[1426],{"type":172,"value":704},{"type":166,"tag":249,"props":1428,"children":1430},{"style":1429},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1431],{"type":172,"value":1432}," true\n",{"type":166,"tag":249,"props":1434,"children":1436},{"class":251,"line":1435},23,[1437,1441,1445],{"type":166,"tag":249,"props":1438,"children":1439},{"style":262},[1440],{"type":172,"value":1075},{"type":166,"tag":249,"props":1442,"children":1443},{"style":327},[1444],{"type":172,"value":704},{"type":166,"tag":249,"props":1446,"children":1447},{"style":1429},[1448],{"type":172,"value":1432},{"type":166,"tag":249,"props":1450,"children":1452},{"class":251,"line":1451},24,[1453],{"type":166,"tag":249,"props":1454,"children":1455},{"style":256},[1456],{"type":172,"value":1457},"    }\n",{"type":166,"tag":249,"props":1459,"children":1461},{"class":251,"line":1460},25,[1462,1466],{"type":166,"tag":249,"props":1463,"children":1464},{"style":256},[1465],{"type":172,"value":320},{"type":166,"tag":249,"props":1467,"children":1468},{"style":262},[1469],{"type":172,"value":879},{"type":166,"tag":227,"props":1471,"children":1473},{"id":1472},"功能仿制",[1474],{"type":172,"value":1472},{"type":166,"tag":180,"props":1476,"children":1477},{},[1478],{"type":172,"value":1479},"每个页面可能有多个 iframe，所以可能有多个 document 对象。因为不同 document 对象可被 shiv 的元素可能不同，所以需要一个变量用作记录。",{"type":166,"tag":180,"props":1481,"children":1482},{},[1483],{"type":172,"value":1484},"getExpandoData 方法在传入的 document 对象下挂载了一个属性名为 '_html5shiv' 的空对象，用来便捷存放某些数据（比如说元素缓存），并返回对象单例。",{"type":166,"tag":238,"props":1486,"children":1488},{"className":240,"code":1487,"language":242,"meta":160,"style":160},"var expandoData = {}\nvar expanID = 0\nvar expando = '_html5shiv'\nfunction getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]]\n    if (!data) {\n        data = {}\n        expanID++\n        ownerDocument[expando] = expanID\n        expandoData[expanID] = data\n    }\n    return data\n  }\n",[1489],{"type":166,"tag":245,"props":1490,"children":1491},{"__ignoreMap":160},[1492,1514,1535,1564,1593,1637,1667,1683,1696,1726,1756,1763,1774],{"type":166,"tag":249,"props":1493,"children":1494},{"class":251,"line":252},[1495,1500,1505,1509],{"type":166,"tag":249,"props":1496,"children":1497},{"style":268},[1498],{"type":172,"value":1499},"var",{"type":166,"tag":249,"props":1501,"children":1502},{"style":262},[1503],{"type":172,"value":1504}," expandoData ",{"type":166,"tag":249,"props":1506,"children":1507},{"style":327},[1508],{"type":172,"value":431},{"type":166,"tag":249,"props":1510,"children":1511},{"style":256},[1512],{"type":172,"value":1513}," {}\n",{"type":166,"tag":249,"props":1515,"children":1516},{"class":251,"line":304},[1517,1521,1526,1530],{"type":166,"tag":249,"props":1518,"children":1519},{"style":268},[1520],{"type":172,"value":1499},{"type":166,"tag":249,"props":1522,"children":1523},{"style":262},[1524],{"type":172,"value":1525}," expanID ",{"type":166,"tag":249,"props":1527,"children":1528},{"style":327},[1529],{"type":172,"value":431},{"type":166,"tag":249,"props":1531,"children":1532},{"style":660},[1533],{"type":172,"value":1534}," 0\n",{"type":166,"tag":249,"props":1536,"children":1537},{"class":251,"line":314},[1538,1542,1547,1551,1555,1560],{"type":166,"tag":249,"props":1539,"children":1540},{"style":268},[1541],{"type":172,"value":1499},{"type":166,"tag":249,"props":1543,"children":1544},{"style":262},[1545],{"type":172,"value":1546}," expando ",{"type":166,"tag":249,"props":1548,"children":1549},{"style":327},[1550],{"type":172,"value":431},{"type":166,"tag":249,"props":1552,"children":1553},{"style":343},[1554],{"type":172,"value":606},{"type":166,"tag":249,"props":1556,"children":1557},{"style":349},[1558],{"type":172,"value":1559},"_html5shiv",{"type":166,"tag":249,"props":1561,"children":1562},{"style":343},[1563],{"type":172,"value":616},{"type":166,"tag":249,"props":1565,"children":1566},{"class":251,"line":688},[1567,1571,1576,1580,1585,1589],{"type":166,"tag":249,"props":1568,"children":1569},{"style":268},[1570],{"type":172,"value":271},{"type":166,"tag":249,"props":1572,"children":1573},{"style":443},[1574],{"type":172,"value":1575}," getExpandoData",{"type":166,"tag":249,"props":1577,"children":1578},{"style":256},[1579],{"type":172,"value":265},{"type":166,"tag":249,"props":1581,"children":1582},{"style":278},[1583],{"type":172,"value":1584},"ownerDocument",{"type":166,"tag":249,"props":1586,"children":1587},{"style":256},[1588],{"type":172,"value":296},{"type":166,"tag":249,"props":1590,"children":1591},{"style":256},[1592],{"type":172,"value":301},{"type":166,"tag":249,"props":1594,"children":1595},{"class":251,"line":726},[1596,1600,1605,1609,1614,1619,1623,1627,1632],{"type":166,"tag":249,"props":1597,"children":1598},{"style":268},[1599],{"type":172,"value":694},{"type":166,"tag":249,"props":1601,"children":1602},{"style":262},[1603],{"type":172,"value":1604}," data",{"type":166,"tag":249,"props":1606,"children":1607},{"style":327},[1608],{"type":172,"value":704},{"type":166,"tag":249,"props":1610,"children":1611},{"style":262},[1612],{"type":172,"value":1613}," expandoData",{"type":166,"tag":249,"props":1615,"children":1616},{"style":720},[1617],{"type":172,"value":1618},"[",{"type":166,"tag":249,"props":1620,"children":1621},{"style":262},[1622],{"type":172,"value":1584},{"type":166,"tag":249,"props":1624,"children":1625},{"style":720},[1626],{"type":172,"value":1618},{"type":166,"tag":249,"props":1628,"children":1629},{"style":262},[1630],{"type":172,"value":1631},"expando",{"type":166,"tag":249,"props":1633,"children":1634},{"style":720},[1635],{"type":172,"value":1636},"]]\n",{"type":166,"tag":249,"props":1638,"children":1639},{"class":251,"line":741},[1640,1645,1649,1654,1659,1663],{"type":166,"tag":249,"props":1641,"children":1642},{"style":730},[1643],{"type":172,"value":1644},"    if",{"type":166,"tag":249,"props":1646,"children":1647},{"style":720},[1648],{"type":172,"value":485},{"type":166,"tag":249,"props":1650,"children":1651},{"style":327},[1652],{"type":172,"value":1653},"!",{"type":166,"tag":249,"props":1655,"children":1656},{"style":262},[1657],{"type":172,"value":1658},"data",{"type":166,"tag":249,"props":1660,"children":1661},{"style":720},[1662],{"type":172,"value":1400},{"type":166,"tag":249,"props":1664,"children":1665},{"style":256},[1666],{"type":172,"value":1405},{"type":166,"tag":249,"props":1668,"children":1669},{"class":251,"line":784},[1670,1675,1679],{"type":166,"tag":249,"props":1671,"children":1672},{"style":262},[1673],{"type":172,"value":1674},"        data",{"type":166,"tag":249,"props":1676,"children":1677},{"style":327},[1678],{"type":172,"value":704},{"type":166,"tag":249,"props":1680,"children":1681},{"style":256},[1682],{"type":172,"value":1513},{"type":166,"tag":249,"props":1684,"children":1685},{"class":251,"line":824},[1686,1691],{"type":166,"tag":249,"props":1687,"children":1688},{"style":262},[1689],{"type":172,"value":1690},"        expanID",{"type":166,"tag":249,"props":1692,"children":1693},{"style":327},[1694],{"type":172,"value":1695},"++\n",{"type":166,"tag":249,"props":1697,"children":1698},{"class":251,"line":860},[1699,1704,1708,1712,1717,1721],{"type":166,"tag":249,"props":1700,"children":1701},{"style":262},[1702],{"type":172,"value":1703},"        ownerDocument",{"type":166,"tag":249,"props":1705,"children":1706},{"style":720},[1707],{"type":172,"value":1618},{"type":166,"tag":249,"props":1709,"children":1710},{"style":262},[1711],{"type":172,"value":1631},{"type":166,"tag":249,"props":1713,"children":1714},{"style":720},[1715],{"type":172,"value":1716},"] ",{"type":166,"tag":249,"props":1718,"children":1719},{"style":327},[1720],{"type":172,"value":431},{"type":166,"tag":249,"props":1722,"children":1723},{"style":262},[1724],{"type":172,"value":1725}," expanID\n",{"type":166,"tag":249,"props":1727,"children":1728},{"class":251,"line":869},[1729,1734,1738,1743,1747,1751],{"type":166,"tag":249,"props":1730,"children":1731},{"style":262},[1732],{"type":172,"value":1733},"        expandoData",{"type":166,"tag":249,"props":1735,"children":1736},{"style":720},[1737],{"type":172,"value":1618},{"type":166,"tag":249,"props":1739,"children":1740},{"style":262},[1741],{"type":172,"value":1742},"expanID",{"type":166,"tag":249,"props":1744,"children":1745},{"style":720},[1746],{"type":172,"value":1716},{"type":166,"tag":249,"props":1748,"children":1749},{"style":327},[1750],{"type":172,"value":431},{"type":166,"tag":249,"props":1752,"children":1753},{"style":262},[1754],{"type":172,"value":1755}," data\n",{"type":166,"tag":249,"props":1757,"children":1758},{"class":251,"line":1138},[1759],{"type":166,"tag":249,"props":1760,"children":1761},{"style":256},[1762],{"type":172,"value":1457},{"type":166,"tag":249,"props":1764,"children":1765},{"class":251,"line":1147},[1766,1770],{"type":166,"tag":249,"props":1767,"children":1768},{"style":730},[1769],{"type":172,"value":733},{"type":166,"tag":249,"props":1771,"children":1772},{"style":262},[1773],{"type":172,"value":1755},{"type":166,"tag":249,"props":1775,"children":1776},{"class":251,"line":1190},[1777],{"type":166,"tag":249,"props":1778,"children":1779},{"style":256},[1780],{"type":172,"value":1781},"  }\n",{"type":166,"tag":180,"props":1783,"children":1784},{},[1785],{"type":172,"value":1786},"如何对 document 进行 html5 的增强呢？原理体现都在 shivDocument 这个函数了，只需要增强浏览器原生的 createElement 等 API 的功能，再添加对应的元素样式就好了。",{"type":166,"tag":238,"props":1788,"children":1790},{"className":240,"code":1789,"language":242,"meta":160,"style":160},"function shivDocument(ownerDocument) {\n    // 挂载 document._html5shiv\n    var data = getExpandoData(ownerDocument)\n\n    // 增强样式\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      )\n    }\n\n    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n    // 如果当前浏览器连 document.createElement 都会报错，\n    // 那就没办法 shiv 了，只好假装一切正常...\n    if (!supportsUnknownElements) {\n      // 增强 createElement 和 createDocumentFragment\n      shivMethods(ownerDocument, data)\n    }\n    return ownerDocument\n  }\n",[1791],{"type":166,"tag":245,"props":1792,"children":1793},{"__ignoreMap":160},[1794,1822,1830,1861,1868,1876,1945,1988,1996,2018,2026,2046,2054,2070,2078,2085,2092,2100,2108,2116,2144,2152,2180,2187,2199],{"type":166,"tag":249,"props":1795,"children":1796},{"class":251,"line":252},[1797,1801,1806,1810,1814,1818],{"type":166,"tag":249,"props":1798,"children":1799},{"style":268},[1800],{"type":172,"value":271},{"type":166,"tag":249,"props":1802,"children":1803},{"style":443},[1804],{"type":172,"value":1805}," shivDocument",{"type":166,"tag":249,"props":1807,"children":1808},{"style":256},[1809],{"type":172,"value":265},{"type":166,"tag":249,"props":1811,"children":1812},{"style":278},[1813],{"type":172,"value":1584},{"type":166,"tag":249,"props":1815,"children":1816},{"style":256},[1817],{"type":172,"value":296},{"type":166,"tag":249,"props":1819,"children":1820},{"style":256},[1821],{"type":172,"value":301},{"type":166,"tag":249,"props":1823,"children":1824},{"class":251,"line":304},[1825],{"type":166,"tag":249,"props":1826,"children":1827},{"style":308},[1828],{"type":172,"value":1829},"    // 挂载 document._html5shiv\n",{"type":166,"tag":249,"props":1831,"children":1832},{"class":251,"line":314},[1833,1837,1841,1845,1849,1853,1857],{"type":166,"tag":249,"props":1834,"children":1835},{"style":268},[1836],{"type":172,"value":694},{"type":166,"tag":249,"props":1838,"children":1839},{"style":262},[1840],{"type":172,"value":1604},{"type":166,"tag":249,"props":1842,"children":1843},{"style":327},[1844],{"type":172,"value":704},{"type":166,"tag":249,"props":1846,"children":1847},{"style":443},[1848],{"type":172,"value":1575},{"type":166,"tag":249,"props":1850,"children":1851},{"style":720},[1852],{"type":172,"value":265},{"type":166,"tag":249,"props":1854,"children":1855},{"style":262},[1856],{"type":172,"value":1584},{"type":166,"tag":249,"props":1858,"children":1859},{"style":720},[1860],{"type":172,"value":468},{"type":166,"tag":249,"props":1862,"children":1863},{"class":251,"line":688},[1864],{"type":166,"tag":249,"props":1865,"children":1866},{"emptyLinePlaceholder":159},[1867],{"type":172,"value":1067},{"type":166,"tag":249,"props":1869,"children":1870},{"class":251,"line":726},[1871],{"type":166,"tag":249,"props":1872,"children":1873},{"style":308},[1874],{"type":172,"value":1875},"    // 增强样式\n",{"type":166,"tag":249,"props":1877,"children":1878},{"class":251,"line":741},[1879,1883,1887,1892,1896,1901,1906,1911,1916,1920,1924,1928,1932,1937,1941],{"type":166,"tag":249,"props":1880,"children":1881},{"style":730},[1882],{"type":172,"value":1644},{"type":166,"tag":249,"props":1884,"children":1885},{"style":720},[1886],{"type":172,"value":485},{"type":166,"tag":249,"props":1888,"children":1889},{"style":262},[1890],{"type":172,"value":1891},"html5",{"type":166,"tag":249,"props":1893,"children":1894},{"style":256},[1895],{"type":172,"value":440},{"type":166,"tag":249,"props":1897,"children":1898},{"style":262},[1899],{"type":172,"value":1900},"shivCSS",{"type":166,"tag":249,"props":1902,"children":1903},{"style":327},[1904],{"type":172,"value":1905}," &&",{"type":166,"tag":249,"props":1907,"children":1908},{"style":327},[1909],{"type":172,"value":1910}," !",{"type":166,"tag":249,"props":1912,"children":1913},{"style":262},[1914],{"type":172,"value":1915},"supportsHtml5Styles",{"type":166,"tag":249,"props":1917,"children":1918},{"style":327},[1919],{"type":172,"value":1905},{"type":166,"tag":249,"props":1921,"children":1922},{"style":327},[1923],{"type":172,"value":1910},{"type":166,"tag":249,"props":1925,"children":1926},{"style":262},[1927],{"type":172,"value":1658},{"type":166,"tag":249,"props":1929,"children":1930},{"style":256},[1931],{"type":172,"value":440},{"type":166,"tag":249,"props":1933,"children":1934},{"style":262},[1935],{"type":172,"value":1936},"hasCSS",{"type":166,"tag":249,"props":1938,"children":1939},{"style":720},[1940],{"type":172,"value":1400},{"type":166,"tag":249,"props":1942,"children":1943},{"style":256},[1944],{"type":172,"value":1405},{"type":166,"tag":249,"props":1946,"children":1947},{"class":251,"line":784},[1948,1953,1957,1961,1965,1970,1975,1979,1983],{"type":166,"tag":249,"props":1949,"children":1950},{"style":262},[1951],{"type":172,"value":1952},"      data",{"type":166,"tag":249,"props":1954,"children":1955},{"style":256},[1956],{"type":172,"value":440},{"type":166,"tag":249,"props":1958,"children":1959},{"style":262},[1960],{"type":172,"value":1936},{"type":166,"tag":249,"props":1962,"children":1963},{"style":327},[1964],{"type":172,"value":704},{"type":166,"tag":249,"props":1966,"children":1967},{"style":327},[1968],{"type":172,"value":1969}," !!",{"type":166,"tag":249,"props":1971,"children":1972},{"style":443},[1973],{"type":172,"value":1974},"addStyleSheet",{"type":166,"tag":249,"props":1976,"children":1977},{"style":720},[1978],{"type":172,"value":265},{"type":166,"tag":249,"props":1980,"children":1981},{"style":262},[1982],{"type":172,"value":1584},{"type":166,"tag":249,"props":1984,"children":1985},{"style":256},[1986],{"type":172,"value":1987},",\n",{"type":166,"tag":249,"props":1989,"children":1990},{"class":251,"line":824},[1991],{"type":166,"tag":249,"props":1992,"children":1993},{"style":308},[1994],{"type":172,"value":1995},"        // corrects block display not defined in IE6/7/8/9\n",{"type":166,"tag":249,"props":1997,"children":1998},{"class":251,"line":860},[1999,2004,2009,2013],{"type":166,"tag":249,"props":2000,"children":2001},{"style":343},[2002],{"type":172,"value":2003},"        '",{"type":166,"tag":249,"props":2005,"children":2006},{"style":349},[2007],{"type":172,"value":2008},"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}",{"type":166,"tag":249,"props":2010,"children":2011},{"style":343},[2012],{"type":172,"value":455},{"type":166,"tag":249,"props":2014,"children":2015},{"style":327},[2016],{"type":172,"value":2017}," +\n",{"type":166,"tag":249,"props":2019,"children":2020},{"class":251,"line":869},[2021],{"type":166,"tag":249,"props":2022,"children":2023},{"style":308},[2024],{"type":172,"value":2025},"        // adds styling not present in IE6/7/8/9\n",{"type":166,"tag":249,"props":2027,"children":2028},{"class":251,"line":1138},[2029,2033,2038,2042],{"type":166,"tag":249,"props":2030,"children":2031},{"style":343},[2032],{"type":172,"value":2003},{"type":166,"tag":249,"props":2034,"children":2035},{"style":349},[2036],{"type":172,"value":2037},"mark{background:#FF0;color:#000}",{"type":166,"tag":249,"props":2039,"children":2040},{"style":343},[2041],{"type":172,"value":455},{"type":166,"tag":249,"props":2043,"children":2044},{"style":327},[2045],{"type":172,"value":2017},{"type":166,"tag":249,"props":2047,"children":2048},{"class":251,"line":1147},[2049],{"type":166,"tag":249,"props":2050,"children":2051},{"style":308},[2052],{"type":172,"value":2053},"        // hides non-rendered elements\n",{"type":166,"tag":249,"props":2055,"children":2056},{"class":251,"line":1190},[2057,2061,2066],{"type":166,"tag":249,"props":2058,"children":2059},{"style":343},[2060],{"type":172,"value":2003},{"type":166,"tag":249,"props":2062,"children":2063},{"style":349},[2064],{"type":172,"value":2065},"template{display:none}",{"type":166,"tag":249,"props":2067,"children":2068},{"style":343},[2069],{"type":172,"value":616},{"type":166,"tag":249,"props":2071,"children":2072},{"class":251,"line":1223},[2073],{"type":166,"tag":249,"props":2074,"children":2075},{"style":720},[2076],{"type":172,"value":2077},"      )\n",{"type":166,"tag":249,"props":2079,"children":2080},{"class":251,"line":1236},[2081],{"type":166,"tag":249,"props":2082,"children":2083},{"style":256},[2084],{"type":172,"value":1457},{"type":166,"tag":249,"props":2086,"children":2087},{"class":251,"line":1277},[2088],{"type":166,"tag":249,"props":2089,"children":2090},{"emptyLinePlaceholder":159},[2091],{"type":172,"value":1067},{"type":166,"tag":249,"props":2093,"children":2094},{"class":251,"line":1317},[2095],{"type":166,"tag":249,"props":2096,"children":2097},{"style":308},[2098],{"type":172,"value":2099},"    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n",{"type":166,"tag":249,"props":2101,"children":2102},{"class":251,"line":1353},[2103],{"type":166,"tag":249,"props":2104,"children":2105},{"style":308},[2106],{"type":172,"value":2107},"    // 如果当前浏览器连 document.createElement 都会报错，\n",{"type":166,"tag":249,"props":2109,"children":2110},{"class":251,"line":1362},[2111],{"type":166,"tag":249,"props":2112,"children":2113},{"style":308},[2114],{"type":172,"value":2115},"    // 那就没办法 shiv 了，只好假装一切正常...\n",{"type":166,"tag":249,"props":2117,"children":2118},{"class":251,"line":1375},[2119,2123,2127,2131,2136,2140],{"type":166,"tag":249,"props":2120,"children":2121},{"style":730},[2122],{"type":172,"value":1644},{"type":166,"tag":249,"props":2124,"children":2125},{"style":720},[2126],{"type":172,"value":485},{"type":166,"tag":249,"props":2128,"children":2129},{"style":327},[2130],{"type":172,"value":1653},{"type":166,"tag":249,"props":2132,"children":2133},{"style":262},[2134],{"type":172,"value":2135},"supportsUnknownElements",{"type":166,"tag":249,"props":2137,"children":2138},{"style":720},[2139],{"type":172,"value":1400},{"type":166,"tag":249,"props":2141,"children":2142},{"style":256},[2143],{"type":172,"value":1405},{"type":166,"tag":249,"props":2145,"children":2146},{"class":251,"line":1408},[2147],{"type":166,"tag":249,"props":2148,"children":2149},{"style":308},[2150],{"type":172,"value":2151},"      // 增强 createElement 和 createDocumentFragment\n",{"type":166,"tag":249,"props":2153,"children":2154},{"class":251,"line":1417},[2155,2160,2164,2168,2172,2176],{"type":166,"tag":249,"props":2156,"children":2157},{"style":443},[2158],{"type":172,"value":2159},"      shivMethods",{"type":166,"tag":249,"props":2161,"children":2162},{"style":720},[2163],{"type":172,"value":265},{"type":166,"tag":249,"props":2165,"children":2166},{"style":262},[2167],{"type":172,"value":1584},{"type":166,"tag":249,"props":2169,"children":2170},{"style":256},[2171],{"type":172,"value":286},{"type":166,"tag":249,"props":2173,"children":2174},{"style":262},[2175],{"type":172,"value":1604},{"type":166,"tag":249,"props":2177,"children":2178},{"style":720},[2179],{"type":172,"value":468},{"type":166,"tag":249,"props":2181,"children":2182},{"class":251,"line":1435},[2183],{"type":166,"tag":249,"props":2184,"children":2185},{"style":256},[2186],{"type":172,"value":1457},{"type":166,"tag":249,"props":2188,"children":2189},{"class":251,"line":1451},[2190,2194],{"type":166,"tag":249,"props":2191,"children":2192},{"style":730},[2193],{"type":172,"value":733},{"type":166,"tag":249,"props":2195,"children":2196},{"style":262},[2197],{"type":172,"value":2198}," ownerDocument\n",{"type":166,"tag":249,"props":2200,"children":2201},{"class":251,"line":1460},[2202],{"type":166,"tag":249,"props":2203,"children":2204},{"style":256},[2205],{"type":172,"value":1781},{"type":166,"tag":180,"props":2207,"children":2208},{},[2209],{"type":172,"value":2210},"接下来，仔细康康 shivMethods 方法。shivMethods 仿制了 createElement 和 createDocumentFragment 两个 API，将其挂载到 document._html5shiv。并通过装饰器模式增强了浏览器原生的 createElement 等 API 的功能。",{"type":166,"tag":238,"props":2212,"children":2214},{"className":240,"code":2213,"language":242,"meta":160,"style":160},"function shivMethods(ownerDocument, data) {\n    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n    if (!data.cache) {\n        data.cache = {}\n        data.createElem = ownerDocument.createElement\n        data.createFrag = ownerDocument.createDocumentFragment\n        data.frag = data.createFrag()\n    }\n\n    ownerDocument.createElement = function(nodeName) {\n      // shivMethods 可看作全局的 shiv 开关\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName)\n      }\n      return createElement(nodeName, ownerDocument, data)\n    }\n\n    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n    // 最终返回 data.frag 的克隆函数\n    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n    // 猜测它只能在老版本 IE 上起作用\n    ownerDocument.createDocumentFragment = Function(\n      'html5,dataFrag', \n      'return function(){' +\n        'var clone=dataFrag.cloneNode(),create=clone.createElement' +\n        'html5.shivMethods&&(' +\n            // unroll the `createElement` calls\n            getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n            data.createElem(nodeName)\n            data.frag.createElement(nodeName)\n            return 'create(\"' + nodeName + '\")'\n            }) +\n        ')return clone' +\n      '}'\n    )(html5, data.frag)\n  }\n",[2215],{"type":166,"tag":245,"props":2216,"children":2217},{"__ignoreMap":160},[2218,2254,2262,2298,2321,2355,2388,2424,2431,2438,2480,2488,2525,2557,2565,2606,2613,2620,2628,2636,2644,2652,2681,2707,2727,2747,2768,2777,2876,2905,2941,2989,3007,3028,3044,3077],{"type":166,"tag":249,"props":2219,"children":2220},{"class":251,"line":252},[2221,2225,2230,2234,2238,2242,2246,2250],{"type":166,"tag":249,"props":2222,"children":2223},{"style":268},[2224],{"type":172,"value":271},{"type":166,"tag":249,"props":2226,"children":2227},{"style":443},[2228],{"type":172,"value":2229}," shivMethods",{"type":166,"tag":249,"props":2231,"children":2232},{"style":256},[2233],{"type":172,"value":265},{"type":166,"tag":249,"props":2235,"children":2236},{"style":278},[2237],{"type":172,"value":1584},{"type":166,"tag":249,"props":2239,"children":2240},{"style":256},[2241],{"type":172,"value":286},{"type":166,"tag":249,"props":2243,"children":2244},{"style":278},[2245],{"type":172,"value":1604},{"type":166,"tag":249,"props":2247,"children":2248},{"style":256},[2249],{"type":172,"value":296},{"type":166,"tag":249,"props":2251,"children":2252},{"style":256},[2253],{"type":172,"value":301},{"type":166,"tag":249,"props":2255,"children":2256},{"class":251,"line":304},[2257],{"type":166,"tag":249,"props":2258,"children":2259},{"style":308},[2260],{"type":172,"value":2261},"    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n",{"type":166,"tag":249,"props":2263,"children":2264},{"class":251,"line":314},[2265,2269,2273,2277,2281,2285,2290,2294],{"type":166,"tag":249,"props":2266,"children":2267},{"style":730},[2268],{"type":172,"value":1644},{"type":166,"tag":249,"props":2270,"children":2271},{"style":720},[2272],{"type":172,"value":485},{"type":166,"tag":249,"props":2274,"children":2275},{"style":327},[2276],{"type":172,"value":1653},{"type":166,"tag":249,"props":2278,"children":2279},{"style":262},[2280],{"type":172,"value":1658},{"type":166,"tag":249,"props":2282,"children":2283},{"style":256},[2284],{"type":172,"value":440},{"type":166,"tag":249,"props":2286,"children":2287},{"style":262},[2288],{"type":172,"value":2289},"cache",{"type":166,"tag":249,"props":2291,"children":2292},{"style":720},[2293],{"type":172,"value":1400},{"type":166,"tag":249,"props":2295,"children":2296},{"style":256},[2297],{"type":172,"value":1405},{"type":166,"tag":249,"props":2299,"children":2300},{"class":251,"line":688},[2301,2305,2309,2313,2317],{"type":166,"tag":249,"props":2302,"children":2303},{"style":262},[2304],{"type":172,"value":1674},{"type":166,"tag":249,"props":2306,"children":2307},{"style":256},[2308],{"type":172,"value":440},{"type":166,"tag":249,"props":2310,"children":2311},{"style":262},[2312],{"type":172,"value":2289},{"type":166,"tag":249,"props":2314,"children":2315},{"style":327},[2316],{"type":172,"value":704},{"type":166,"tag":249,"props":2318,"children":2319},{"style":256},[2320],{"type":172,"value":1513},{"type":166,"tag":249,"props":2322,"children":2323},{"class":251,"line":726},[2324,2328,2332,2337,2341,2346,2350],{"type":166,"tag":249,"props":2325,"children":2326},{"style":262},[2327],{"type":172,"value":1674},{"type":166,"tag":249,"props":2329,"children":2330},{"style":256},[2331],{"type":172,"value":440},{"type":166,"tag":249,"props":2333,"children":2334},{"style":262},[2335],{"type":172,"value":2336},"createElem",{"type":166,"tag":249,"props":2338,"children":2339},{"style":327},[2340],{"type":172,"value":704},{"type":166,"tag":249,"props":2342,"children":2343},{"style":262},[2344],{"type":172,"value":2345}," ownerDocument",{"type":166,"tag":249,"props":2347,"children":2348},{"style":256},[2349],{"type":172,"value":440},{"type":166,"tag":249,"props":2351,"children":2352},{"style":262},[2353],{"type":172,"value":2354},"createElement\n",{"type":166,"tag":249,"props":2356,"children":2357},{"class":251,"line":741},[2358,2362,2366,2371,2375,2379,2383],{"type":166,"tag":249,"props":2359,"children":2360},{"style":262},[2361],{"type":172,"value":1674},{"type":166,"tag":249,"props":2363,"children":2364},{"style":256},[2365],{"type":172,"value":440},{"type":166,"tag":249,"props":2367,"children":2368},{"style":262},[2369],{"type":172,"value":2370},"createFrag",{"type":166,"tag":249,"props":2372,"children":2373},{"style":327},[2374],{"type":172,"value":704},{"type":166,"tag":249,"props":2376,"children":2377},{"style":262},[2378],{"type":172,"value":2345},{"type":166,"tag":249,"props":2380,"children":2381},{"style":256},[2382],{"type":172,"value":440},{"type":166,"tag":249,"props":2384,"children":2385},{"style":262},[2386],{"type":172,"value":2387},"createDocumentFragment\n",{"type":166,"tag":249,"props":2389,"children":2390},{"class":251,"line":784},[2391,2395,2399,2404,2408,2412,2416,2420],{"type":166,"tag":249,"props":2392,"children":2393},{"style":262},[2394],{"type":172,"value":1674},{"type":166,"tag":249,"props":2396,"children":2397},{"style":256},[2398],{"type":172,"value":440},{"type":166,"tag":249,"props":2400,"children":2401},{"style":262},[2402],{"type":172,"value":2403},"frag",{"type":166,"tag":249,"props":2405,"children":2406},{"style":327},[2407],{"type":172,"value":704},{"type":166,"tag":249,"props":2409,"children":2410},{"style":262},[2411],{"type":172,"value":1604},{"type":166,"tag":249,"props":2413,"children":2414},{"style":256},[2415],{"type":172,"value":440},{"type":166,"tag":249,"props":2417,"children":2418},{"style":443},[2419],{"type":172,"value":2370},{"type":166,"tag":249,"props":2421,"children":2422},{"style":720},[2423],{"type":172,"value":723},{"type":166,"tag":249,"props":2425,"children":2426},{"class":251,"line":824},[2427],{"type":166,"tag":249,"props":2428,"children":2429},{"style":256},[2430],{"type":172,"value":1457},{"type":166,"tag":249,"props":2432,"children":2433},{"class":251,"line":860},[2434],{"type":166,"tag":249,"props":2435,"children":2436},{"emptyLinePlaceholder":159},[2437],{"type":172,"value":1067},{"type":166,"tag":249,"props":2439,"children":2440},{"class":251,"line":869},[2441,2446,2450,2454,2458,2463,2467,2472,2476],{"type":166,"tag":249,"props":2442,"children":2443},{"style":262},[2444],{"type":172,"value":2445},"    ownerDocument",{"type":166,"tag":249,"props":2447,"children":2448},{"style":256},[2449],{"type":172,"value":440},{"type":166,"tag":249,"props":2451,"children":2452},{"style":443},[2453],{"type":172,"value":446},{"type":166,"tag":249,"props":2455,"children":2456},{"style":327},[2457],{"type":172,"value":704},{"type":166,"tag":249,"props":2459,"children":2460},{"style":268},[2461],{"type":172,"value":2462}," function",{"type":166,"tag":249,"props":2464,"children":2465},{"style":256},[2466],{"type":172,"value":265},{"type":166,"tag":249,"props":2468,"children":2469},{"style":278},[2470],{"type":172,"value":2471},"nodeName",{"type":166,"tag":249,"props":2473,"children":2474},{"style":256},[2475],{"type":172,"value":296},{"type":166,"tag":249,"props":2477,"children":2478},{"style":256},[2479],{"type":172,"value":301},{"type":166,"tag":249,"props":2481,"children":2482},{"class":251,"line":1138},[2483],{"type":166,"tag":249,"props":2484,"children":2485},{"style":308},[2486],{"type":172,"value":2487},"      // shivMethods 可看作全局的 shiv 开关\n",{"type":166,"tag":249,"props":2489,"children":2490},{"class":251,"line":1147},[2491,2496,2500,2504,2508,2512,2517,2521],{"type":166,"tag":249,"props":2492,"children":2493},{"style":730},[2494],{"type":172,"value":2495},"      if",{"type":166,"tag":249,"props":2497,"children":2498},{"style":720},[2499],{"type":172,"value":485},{"type":166,"tag":249,"props":2501,"children":2502},{"style":327},[2503],{"type":172,"value":1653},{"type":166,"tag":249,"props":2505,"children":2506},{"style":262},[2507],{"type":172,"value":1891},{"type":166,"tag":249,"props":2509,"children":2510},{"style":256},[2511],{"type":172,"value":440},{"type":166,"tag":249,"props":2513,"children":2514},{"style":262},[2515],{"type":172,"value":2516},"shivMethods",{"type":166,"tag":249,"props":2518,"children":2519},{"style":720},[2520],{"type":172,"value":1400},{"type":166,"tag":249,"props":2522,"children":2523},{"style":256},[2524],{"type":172,"value":1405},{"type":166,"tag":249,"props":2526,"children":2527},{"class":251,"line":1190},[2528,2533,2537,2541,2545,2549,2553],{"type":166,"tag":249,"props":2529,"children":2530},{"style":730},[2531],{"type":172,"value":2532},"          return",{"type":166,"tag":249,"props":2534,"children":2535},{"style":262},[2536],{"type":172,"value":1604},{"type":166,"tag":249,"props":2538,"children":2539},{"style":256},[2540],{"type":172,"value":440},{"type":166,"tag":249,"props":2542,"children":2543},{"style":443},[2544],{"type":172,"value":2336},{"type":166,"tag":249,"props":2546,"children":2547},{"style":720},[2548],{"type":172,"value":265},{"type":166,"tag":249,"props":2550,"children":2551},{"style":262},[2552],{"type":172,"value":2471},{"type":166,"tag":249,"props":2554,"children":2555},{"style":720},[2556],{"type":172,"value":468},{"type":166,"tag":249,"props":2558,"children":2559},{"class":251,"line":1223},[2560],{"type":166,"tag":249,"props":2561,"children":2562},{"style":256},[2563],{"type":172,"value":2564},"      }\n",{"type":166,"tag":249,"props":2566,"children":2567},{"class":251,"line":1236},[2568,2573,2578,2582,2586,2590,2594,2598,2602],{"type":166,"tag":249,"props":2569,"children":2570},{"style":730},[2571],{"type":172,"value":2572},"      return",{"type":166,"tag":249,"props":2574,"children":2575},{"style":443},[2576],{"type":172,"value":2577}," createElement",{"type":166,"tag":249,"props":2579,"children":2580},{"style":720},[2581],{"type":172,"value":265},{"type":166,"tag":249,"props":2583,"children":2584},{"style":262},[2585],{"type":172,"value":2471},{"type":166,"tag":249,"props":2587,"children":2588},{"style":256},[2589],{"type":172,"value":286},{"type":166,"tag":249,"props":2591,"children":2592},{"style":262},[2593],{"type":172,"value":2345},{"type":166,"tag":249,"props":2595,"children":2596},{"style":256},[2597],{"type":172,"value":286},{"type":166,"tag":249,"props":2599,"children":2600},{"style":262},[2601],{"type":172,"value":1604},{"type":166,"tag":249,"props":2603,"children":2604},{"style":720},[2605],{"type":172,"value":468},{"type":166,"tag":249,"props":2607,"children":2608},{"class":251,"line":1277},[2609],{"type":166,"tag":249,"props":2610,"children":2611},{"style":256},[2612],{"type":172,"value":1457},{"type":166,"tag":249,"props":2614,"children":2615},{"class":251,"line":1317},[2616],{"type":166,"tag":249,"props":2617,"children":2618},{"emptyLinePlaceholder":159},[2619],{"type":172,"value":1067},{"type":166,"tag":249,"props":2621,"children":2622},{"class":251,"line":1353},[2623],{"type":166,"tag":249,"props":2624,"children":2625},{"style":308},[2626],{"type":172,"value":2627},"    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n",{"type":166,"tag":249,"props":2629,"children":2630},{"class":251,"line":1362},[2631],{"type":166,"tag":249,"props":2632,"children":2633},{"style":308},[2634],{"type":172,"value":2635},"    // 最终返回 data.frag 的克隆函数\n",{"type":166,"tag":249,"props":2637,"children":2638},{"class":251,"line":1375},[2639],{"type":166,"tag":249,"props":2640,"children":2641},{"style":308},[2642],{"type":172,"value":2643},"    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n",{"type":166,"tag":249,"props":2645,"children":2646},{"class":251,"line":1408},[2647],{"type":166,"tag":249,"props":2648,"children":2649},{"style":308},[2650],{"type":172,"value":2651},"    // 猜测它只能在老版本 IE 上起作用\n",{"type":166,"tag":249,"props":2653,"children":2654},{"class":251,"line":1417},[2655,2659,2663,2667,2671,2676],{"type":166,"tag":249,"props":2656,"children":2657},{"style":262},[2658],{"type":172,"value":2445},{"type":166,"tag":249,"props":2660,"children":2661},{"style":256},[2662],{"type":172,"value":440},{"type":166,"tag":249,"props":2664,"children":2665},{"style":262},[2666],{"type":172,"value":717},{"type":166,"tag":249,"props":2668,"children":2669},{"style":327},[2670],{"type":172,"value":704},{"type":166,"tag":249,"props":2672,"children":2673},{"style":443},[2674],{"type":172,"value":2675}," Function",{"type":166,"tag":249,"props":2677,"children":2678},{"style":720},[2679],{"type":172,"value":2680},"(\n",{"type":166,"tag":249,"props":2682,"children":2683},{"class":251,"line":1435},[2684,2689,2694,2698,2702],{"type":166,"tag":249,"props":2685,"children":2686},{"style":343},[2687],{"type":172,"value":2688},"      '",{"type":166,"tag":249,"props":2690,"children":2691},{"style":349},[2692],{"type":172,"value":2693},"html5,dataFrag",{"type":166,"tag":249,"props":2695,"children":2696},{"style":343},[2697],{"type":172,"value":455},{"type":166,"tag":249,"props":2699,"children":2700},{"style":256},[2701],{"type":172,"value":286},{"type":166,"tag":249,"props":2703,"children":2704},{"style":720},[2705],{"type":172,"value":2706}," \n",{"type":166,"tag":249,"props":2708,"children":2709},{"class":251,"line":1451},[2710,2714,2719,2723],{"type":166,"tag":249,"props":2711,"children":2712},{"style":343},[2713],{"type":172,"value":2688},{"type":166,"tag":249,"props":2715,"children":2716},{"style":349},[2717],{"type":172,"value":2718},"return function(){",{"type":166,"tag":249,"props":2720,"children":2721},{"style":343},[2722],{"type":172,"value":455},{"type":166,"tag":249,"props":2724,"children":2725},{"style":327},[2726],{"type":172,"value":2017},{"type":166,"tag":249,"props":2728,"children":2729},{"class":251,"line":1460},[2730,2734,2739,2743],{"type":166,"tag":249,"props":2731,"children":2732},{"style":343},[2733],{"type":172,"value":2003},{"type":166,"tag":249,"props":2735,"children":2736},{"style":349},[2737],{"type":172,"value":2738},"var clone=dataFrag.cloneNode(),create=clone.createElement",{"type":166,"tag":249,"props":2740,"children":2741},{"style":343},[2742],{"type":172,"value":455},{"type":166,"tag":249,"props":2744,"children":2745},{"style":327},[2746],{"type":172,"value":2017},{"type":166,"tag":249,"props":2748,"children":2750},{"class":251,"line":2749},26,[2751,2755,2760,2764],{"type":166,"tag":249,"props":2752,"children":2753},{"style":343},[2754],{"type":172,"value":2003},{"type":166,"tag":249,"props":2756,"children":2757},{"style":349},[2758],{"type":172,"value":2759},"html5.shivMethods&&(",{"type":166,"tag":249,"props":2761,"children":2762},{"style":343},[2763],{"type":172,"value":455},{"type":166,"tag":249,"props":2765,"children":2766},{"style":327},[2767],{"type":172,"value":2017},{"type":166,"tag":249,"props":2769,"children":2771},{"class":251,"line":2770},27,[2772],{"type":166,"tag":249,"props":2773,"children":2774},{"style":308},[2775],{"type":172,"value":2776},"            // unroll the `createElement` calls\n",{"type":166,"tag":249,"props":2778,"children":2780},{"class":251,"line":2779},28,[2781,2786,2790,2794,2799,2803,2807,2812,2816,2821,2826,2832,2837,2842,2846,2852,2856,2860,2864,2868,2872],{"type":166,"tag":249,"props":2782,"children":2783},{"style":443},[2784],{"type":172,"value":2785},"            getElements",{"type":166,"tag":249,"props":2787,"children":2788},{"style":720},[2789],{"type":172,"value":681},{"type":166,"tag":249,"props":2791,"children":2792},{"style":256},[2793],{"type":172,"value":440},{"type":166,"tag":249,"props":2795,"children":2796},{"style":443},[2797],{"type":172,"value":2798},"join",{"type":166,"tag":249,"props":2800,"children":2801},{"style":720},[2802],{"type":172,"value":681},{"type":166,"tag":249,"props":2804,"children":2805},{"style":256},[2806],{"type":172,"value":440},{"type":166,"tag":249,"props":2808,"children":2809},{"style":443},[2810],{"type":172,"value":2811},"replace",{"type":166,"tag":249,"props":2813,"children":2814},{"style":720},[2815],{"type":172,"value":265},{"type":166,"tag":249,"props":2817,"children":2818},{"style":343},[2819],{"type":172,"value":2820},"/",{"type":166,"tag":249,"props":2822,"children":2824},{"style":2823},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2825],{"type":172,"value":1618},{"type":166,"tag":249,"props":2827,"children":2829},{"style":2828},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2830],{"type":172,"value":2831},"\\w\\-:",{"type":166,"tag":249,"props":2833,"children":2834},{"style":2823},[2835],{"type":172,"value":2836},"]",{"type":166,"tag":249,"props":2838,"children":2839},{"style":327},[2840],{"type":172,"value":2841},"+",{"type":166,"tag":249,"props":2843,"children":2844},{"style":343},[2845],{"type":172,"value":2820},{"type":166,"tag":249,"props":2847,"children":2849},{"style":2848},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[2850],{"type":172,"value":2851},"g",{"type":166,"tag":249,"props":2853,"children":2854},{"style":256},[2855],{"type":172,"value":286},{"type":166,"tag":249,"props":2857,"children":2858},{"style":268},[2859],{"type":172,"value":2462},{"type":166,"tag":249,"props":2861,"children":2862},{"style":256},[2863],{"type":172,"value":265},{"type":166,"tag":249,"props":2865,"children":2866},{"style":278},[2867],{"type":172,"value":2471},{"type":166,"tag":249,"props":2869,"children":2870},{"style":256},[2871],{"type":172,"value":296},{"type":166,"tag":249,"props":2873,"children":2874},{"style":256},[2875],{"type":172,"value":301},{"type":166,"tag":249,"props":2877,"children":2879},{"class":251,"line":2878},29,[2880,2885,2889,2893,2897,2901],{"type":166,"tag":249,"props":2881,"children":2882},{"style":262},[2883],{"type":172,"value":2884},"            data",{"type":166,"tag":249,"props":2886,"children":2887},{"style":256},[2888],{"type":172,"value":440},{"type":166,"tag":249,"props":2890,"children":2891},{"style":443},[2892],{"type":172,"value":2336},{"type":166,"tag":249,"props":2894,"children":2895},{"style":720},[2896],{"type":172,"value":265},{"type":166,"tag":249,"props":2898,"children":2899},{"style":262},[2900],{"type":172,"value":2471},{"type":166,"tag":249,"props":2902,"children":2903},{"style":720},[2904],{"type":172,"value":468},{"type":166,"tag":249,"props":2906,"children":2908},{"class":251,"line":2907},30,[2909,2913,2917,2921,2925,2929,2933,2937],{"type":166,"tag":249,"props":2910,"children":2911},{"style":262},[2912],{"type":172,"value":2884},{"type":166,"tag":249,"props":2914,"children":2915},{"style":256},[2916],{"type":172,"value":440},{"type":166,"tag":249,"props":2918,"children":2919},{"style":262},[2920],{"type":172,"value":2403},{"type":166,"tag":249,"props":2922,"children":2923},{"style":256},[2924],{"type":172,"value":440},{"type":166,"tag":249,"props":2926,"children":2927},{"style":443},[2928],{"type":172,"value":446},{"type":166,"tag":249,"props":2930,"children":2931},{"style":720},[2932],{"type":172,"value":265},{"type":166,"tag":249,"props":2934,"children":2935},{"style":262},[2936],{"type":172,"value":2471},{"type":166,"tag":249,"props":2938,"children":2939},{"style":720},[2940],{"type":172,"value":468},{"type":166,"tag":249,"props":2942,"children":2944},{"class":251,"line":2943},31,[2945,2949,2953,2958,2962,2967,2972,2976,2980,2985],{"type":166,"tag":249,"props":2946,"children":2947},{"style":730},[2948],{"type":172,"value":1229},{"type":166,"tag":249,"props":2950,"children":2951},{"style":343},[2952],{"type":172,"value":606},{"type":166,"tag":249,"props":2954,"children":2955},{"style":349},[2956],{"type":172,"value":2957},"create(\"",{"type":166,"tag":249,"props":2959,"children":2960},{"style":343},[2961],{"type":172,"value":455},{"type":166,"tag":249,"props":2963,"children":2964},{"style":327},[2965],{"type":172,"value":2966}," +",{"type":166,"tag":249,"props":2968,"children":2969},{"style":262},[2970],{"type":172,"value":2971}," nodeName",{"type":166,"tag":249,"props":2973,"children":2974},{"style":327},[2975],{"type":172,"value":2966},{"type":166,"tag":249,"props":2977,"children":2978},{"style":343},[2979],{"type":172,"value":606},{"type":166,"tag":249,"props":2981,"children":2982},{"style":349},[2983],{"type":172,"value":2984},"\")",{"type":166,"tag":249,"props":2986,"children":2987},{"style":343},[2988],{"type":172,"value":616},{"type":166,"tag":249,"props":2990,"children":2992},{"class":251,"line":2991},32,[2993,2998,3002],{"type":166,"tag":249,"props":2994,"children":2995},{"style":256},[2996],{"type":172,"value":2997},"            }",{"type":166,"tag":249,"props":2999,"children":3000},{"style":720},[3001],{"type":172,"value":1400},{"type":166,"tag":249,"props":3003,"children":3004},{"style":327},[3005],{"type":172,"value":3006},"+\n",{"type":166,"tag":249,"props":3008,"children":3010},{"class":251,"line":3009},33,[3011,3015,3020,3024],{"type":166,"tag":249,"props":3012,"children":3013},{"style":343},[3014],{"type":172,"value":2003},{"type":166,"tag":249,"props":3016,"children":3017},{"style":349},[3018],{"type":172,"value":3019},")return clone",{"type":166,"tag":249,"props":3021,"children":3022},{"style":343},[3023],{"type":172,"value":455},{"type":166,"tag":249,"props":3025,"children":3026},{"style":327},[3027],{"type":172,"value":2017},{"type":166,"tag":249,"props":3029,"children":3031},{"class":251,"line":3030},34,[3032,3036,3040],{"type":166,"tag":249,"props":3033,"children":3034},{"style":343},[3035],{"type":172,"value":2688},{"type":166,"tag":249,"props":3037,"children":3038},{"style":349},[3039],{"type":172,"value":320},{"type":166,"tag":249,"props":3041,"children":3042},{"style":343},[3043],{"type":172,"value":616},{"type":166,"tag":249,"props":3045,"children":3047},{"class":251,"line":3046},35,[3048,3053,3057,3061,3065,3069,3073],{"type":166,"tag":249,"props":3049,"children":3050},{"style":720},[3051],{"type":172,"value":3052},"    )(",{"type":166,"tag":249,"props":3054,"children":3055},{"style":262},[3056],{"type":172,"value":1891},{"type":166,"tag":249,"props":3058,"children":3059},{"style":256},[3060],{"type":172,"value":286},{"type":166,"tag":249,"props":3062,"children":3063},{"style":262},[3064],{"type":172,"value":1604},{"type":166,"tag":249,"props":3066,"children":3067},{"style":256},[3068],{"type":172,"value":440},{"type":166,"tag":249,"props":3070,"children":3071},{"style":262},[3072],{"type":172,"value":2403},{"type":166,"tag":249,"props":3074,"children":3075},{"style":720},[3076],{"type":172,"value":468},{"type":166,"tag":249,"props":3078,"children":3080},{"class":251,"line":3079},36,[3081],{"type":166,"tag":249,"props":3082,"children":3083},{"style":256},[3084],{"type":172,"value":1781},{"type":166,"tag":180,"props":3086,"children":3087},{},[3088],{"type":172,"value":3089},"小插曲。我在浏览器测试时发现，若像上面这个函数一样，将 document.createDocumentFrament 先缓存，再调用，会发生报错：",{"type":166,"tag":238,"props":3091,"children":3093},{"className":240,"code":3092,"language":242,"meta":160,"style":160},"data = {}\ndata.createFrag = document.createDocumentFragment\ndata.frag = data.createFrag()\n\n// >>> Uncaught TypeError: Illegal invocation\n",[3094],{"type":166,"tag":245,"props":3095,"children":3096},{"__ignoreMap":160},[3097,3113,3145,3181,3188],{"type":166,"tag":249,"props":3098,"children":3099},{"class":251,"line":252},[3100,3105,3109],{"type":166,"tag":249,"props":3101,"children":3102},{"style":262},[3103],{"type":172,"value":3104},"data ",{"type":166,"tag":249,"props":3106,"children":3107},{"style":327},[3108],{"type":172,"value":431},{"type":166,"tag":249,"props":3110,"children":3111},{"style":256},[3112],{"type":172,"value":1513},{"type":166,"tag":249,"props":3114,"children":3115},{"class":251,"line":304},[3116,3120,3124,3129,3133,3137,3141],{"type":166,"tag":249,"props":3117,"children":3118},{"style":262},[3119],{"type":172,"value":1658},{"type":166,"tag":249,"props":3121,"children":3122},{"style":256},[3123],{"type":172,"value":440},{"type":166,"tag":249,"props":3125,"children":3126},{"style":262},[3127],{"type":172,"value":3128},"createFrag ",{"type":166,"tag":249,"props":3130,"children":3131},{"style":327},[3132],{"type":172,"value":431},{"type":166,"tag":249,"props":3134,"children":3135},{"style":262},[3136],{"type":172,"value":291},{"type":166,"tag":249,"props":3138,"children":3139},{"style":256},[3140],{"type":172,"value":440},{"type":166,"tag":249,"props":3142,"children":3143},{"style":262},[3144],{"type":172,"value":2387},{"type":166,"tag":249,"props":3146,"children":3147},{"class":251,"line":314},[3148,3152,3156,3161,3165,3169,3173,3177],{"type":166,"tag":249,"props":3149,"children":3150},{"style":262},[3151],{"type":172,"value":1658},{"type":166,"tag":249,"props":3153,"children":3154},{"style":256},[3155],{"type":172,"value":440},{"type":166,"tag":249,"props":3157,"children":3158},{"style":262},[3159],{"type":172,"value":3160},"frag ",{"type":166,"tag":249,"props":3162,"children":3163},{"style":327},[3164],{"type":172,"value":431},{"type":166,"tag":249,"props":3166,"children":3167},{"style":262},[3168],{"type":172,"value":1604},{"type":166,"tag":249,"props":3170,"children":3171},{"style":256},[3172],{"type":172,"value":440},{"type":166,"tag":249,"props":3174,"children":3175},{"style":443},[3176],{"type":172,"value":2370},{"type":166,"tag":249,"props":3178,"children":3179},{"style":262},[3180],{"type":172,"value":723},{"type":166,"tag":249,"props":3182,"children":3183},{"class":251,"line":688},[3184],{"type":166,"tag":249,"props":3185,"children":3186},{"emptyLinePlaceholder":159},[3187],{"type":172,"value":1067},{"type":166,"tag":249,"props":3189,"children":3190},{"class":251,"line":726},[3191],{"type":166,"tag":249,"props":3192,"children":3193},{"style":308},[3194],{"type":172,"value":3195},"// >>> Uncaught TypeError: Illegal invocation\n",{"type":166,"tag":180,"props":3197,"children":3198},{},[3199],{"type":172,"value":3200},"由于没有具体的报错原因，只能暂时猜测是 this 指向的锅。更改 this 指向后，再试了一次，这次没得问题。在 GitHub issues 中没有人提过这个问题，所以我只能猜测因为所有现代浏览器都支持使用原生 API 创建非标准元素，所以不会走 shivMethods 的逻辑。",{"type":166,"tag":238,"props":3202,"children":3204},{"className":240,"code":3203,"language":242,"meta":160,"style":160},"data = {}\ndata.createFrag = document.createDocumentFragment.bind(document)\ndata.frag = data.createFrag()\n\n// >>> #document-fragment\n",[3205],{"type":166,"tag":245,"props":3206,"children":3207},{"__ignoreMap":160},[3208,3223,3268,3303,3310],{"type":166,"tag":249,"props":3209,"children":3210},{"class":251,"line":252},[3211,3215,3219],{"type":166,"tag":249,"props":3212,"children":3213},{"style":262},[3214],{"type":172,"value":3104},{"type":166,"tag":249,"props":3216,"children":3217},{"style":327},[3218],{"type":172,"value":431},{"type":166,"tag":249,"props":3220,"children":3221},{"style":256},[3222],{"type":172,"value":1513},{"type":166,"tag":249,"props":3224,"children":3225},{"class":251,"line":304},[3226,3230,3234,3238,3242,3246,3250,3254,3258,3263],{"type":166,"tag":249,"props":3227,"children":3228},{"style":262},[3229],{"type":172,"value":1658},{"type":166,"tag":249,"props":3231,"children":3232},{"style":256},[3233],{"type":172,"value":440},{"type":166,"tag":249,"props":3235,"children":3236},{"style":262},[3237],{"type":172,"value":3128},{"type":166,"tag":249,"props":3239,"children":3240},{"style":327},[3241],{"type":172,"value":431},{"type":166,"tag":249,"props":3243,"children":3244},{"style":262},[3245],{"type":172,"value":291},{"type":166,"tag":249,"props":3247,"children":3248},{"style":256},[3249],{"type":172,"value":440},{"type":166,"tag":249,"props":3251,"children":3252},{"style":262},[3253],{"type":172,"value":717},{"type":166,"tag":249,"props":3255,"children":3256},{"style":256},[3257],{"type":172,"value":440},{"type":166,"tag":249,"props":3259,"children":3260},{"style":443},[3261],{"type":172,"value":3262},"bind",{"type":166,"tag":249,"props":3264,"children":3265},{"style":262},[3266],{"type":172,"value":3267},"(document)\n",{"type":166,"tag":249,"props":3269,"children":3270},{"class":251,"line":314},[3271,3275,3279,3283,3287,3291,3295,3299],{"type":166,"tag":249,"props":3272,"children":3273},{"style":262},[3274],{"type":172,"value":1658},{"type":166,"tag":249,"props":3276,"children":3277},{"style":256},[3278],{"type":172,"value":440},{"type":166,"tag":249,"props":3280,"children":3281},{"style":262},[3282],{"type":172,"value":3160},{"type":166,"tag":249,"props":3284,"children":3285},{"style":327},[3286],{"type":172,"value":431},{"type":166,"tag":249,"props":3288,"children":3289},{"style":262},[3290],{"type":172,"value":1604},{"type":166,"tag":249,"props":3292,"children":3293},{"style":256},[3294],{"type":172,"value":440},{"type":166,"tag":249,"props":3296,"children":3297},{"style":443},[3298],{"type":172,"value":2370},{"type":166,"tag":249,"props":3300,"children":3301},{"style":262},[3302],{"type":172,"value":723},{"type":166,"tag":249,"props":3304,"children":3305},{"class":251,"line":688},[3306],{"type":166,"tag":249,"props":3307,"children":3308},{"emptyLinePlaceholder":159},[3309],{"type":172,"value":1067},{"type":166,"tag":249,"props":3311,"children":3312},{"class":251,"line":726},[3313],{"type":166,"tag":249,"props":3314,"children":3315},{"style":308},[3316],{"type":172,"value":3317},"// >>> #document-fragment\n",{"type":166,"tag":180,"props":3319,"children":3320},{},[3321],{"type":172,"value":3322},"我们继续。以下代码是对 createElement 的仿制， 用于返回一个已经 shiv 过的元素。主要是用来兼容原生 document.createElement 不支持创建一个非规范的元素的情况。比方说，HTML5 标签中有 article 元素，document.createElement 不支持的话，就需要调用此仿制 API。",{"type":166,"tag":238,"props":3324,"children":3326},{"className":240,"code":3325,"language":242,"meta":160,"style":160},"function createElement(nodeName, ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName)\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument)\n    }\n    var node\n\n    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode()\n    } else \n    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n    // 则创建一个新元素并存到缓存中\n    if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode()\n    } else \n    // 如果是不能被克隆的对象，那就直接创建吧...\n    {\n        node = data.createElem(nodeName)\n    }\n\n    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n    // Avoid adding some elements to fragments in IE \u003C 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn \n        ? data.frag.appendChild(node) \n        : node\n  }\n",[3327],{"type":166,"tag":245,"props":3328,"children":3329},{"__ignoreMap":160},[3330,3370,3393,3425,3432,3459,3486,3493,3505,3512,3520,3560,3608,3624,3632,3640,3682,3762,3777,3785,3793,3828,3835,3842,3850,3858,3866,3874,3882,3890,3898,3906,3987,4029,4041],{"type":166,"tag":249,"props":3331,"children":3332},{"class":251,"line":252},[3333,3337,3341,3345,3349,3353,3357,3361,3365],{"type":166,"tag":249,"props":3334,"children":3335},{"style":268},[3336],{"type":172,"value":271},{"type":166,"tag":249,"props":3338,"children":3339},{"style":443},[3340],{"type":172,"value":2577},{"type":166,"tag":249,"props":3342,"children":3343},{"style":256},[3344],{"type":172,"value":265},{"type":166,"tag":249,"props":3346,"children":3347},{"style":278},[3348],{"type":172,"value":2471},{"type":166,"tag":249,"props":3350,"children":3351},{"style":256},[3352],{"type":172,"value":286},{"type":166,"tag":249,"props":3354,"children":3355},{"style":278},[3356],{"type":172,"value":2345},{"type":166,"tag":249,"props":3358,"children":3359},{"style":256},[3360],{"type":172,"value":286},{"type":166,"tag":249,"props":3362,"children":3363},{"style":278},[3364],{"type":172,"value":1604},{"type":166,"tag":249,"props":3366,"children":3367},{"style":256},[3368],{"type":172,"value":3369},"){\n",{"type":166,"tag":249,"props":3371,"children":3372},{"class":251,"line":304},[3373,3377,3381,3385,3389],{"type":166,"tag":249,"props":3374,"children":3375},{"style":730},[3376],{"type":172,"value":1644},{"type":166,"tag":249,"props":3378,"children":3379},{"style":720},[3380],{"type":172,"value":265},{"type":166,"tag":249,"props":3382,"children":3383},{"style":262},[3384],{"type":172,"value":2135},{"type":166,"tag":249,"props":3386,"children":3387},{"style":720},[3388],{"type":172,"value":296},{"type":166,"tag":249,"props":3390,"children":3391},{"style":256},[3392],{"type":172,"value":1405},{"type":166,"tag":249,"props":3394,"children":3395},{"class":251,"line":314},[3396,3401,3405,3409,3413,3417,3421],{"type":166,"tag":249,"props":3397,"children":3398},{"style":730},[3399],{"type":172,"value":3400},"        return",{"type":166,"tag":249,"props":3402,"children":3403},{"style":262},[3404],{"type":172,"value":2345},{"type":166,"tag":249,"props":3406,"children":3407},{"style":256},[3408],{"type":172,"value":440},{"type":166,"tag":249,"props":3410,"children":3411},{"style":443},[3412],{"type":172,"value":446},{"type":166,"tag":249,"props":3414,"children":3415},{"style":720},[3416],{"type":172,"value":265},{"type":166,"tag":249,"props":3418,"children":3419},{"style":262},[3420],{"type":172,"value":2471},{"type":166,"tag":249,"props":3422,"children":3423},{"style":720},[3424],{"type":172,"value":468},{"type":166,"tag":249,"props":3426,"children":3427},{"class":251,"line":688},[3428],{"type":166,"tag":249,"props":3429,"children":3430},{"style":256},[3431],{"type":172,"value":1457},{"type":166,"tag":249,"props":3433,"children":3434},{"class":251,"line":726},[3435,3439,3443,3447,3451,3455],{"type":166,"tag":249,"props":3436,"children":3437},{"style":730},[3438],{"type":172,"value":1644},{"type":166,"tag":249,"props":3440,"children":3441},{"style":720},[3442],{"type":172,"value":485},{"type":166,"tag":249,"props":3444,"children":3445},{"style":327},[3446],{"type":172,"value":1653},{"type":166,"tag":249,"props":3448,"children":3449},{"style":262},[3450],{"type":172,"value":1658},{"type":166,"tag":249,"props":3452,"children":3453},{"style":720},[3454],{"type":172,"value":1400},{"type":166,"tag":249,"props":3456,"children":3457},{"style":256},[3458],{"type":172,"value":1405},{"type":166,"tag":249,"props":3460,"children":3461},{"class":251,"line":741},[3462,3466,3470,3474,3478,3482],{"type":166,"tag":249,"props":3463,"children":3464},{"style":262},[3465],{"type":172,"value":1674},{"type":166,"tag":249,"props":3467,"children":3468},{"style":327},[3469],{"type":172,"value":704},{"type":166,"tag":249,"props":3471,"children":3472},{"style":443},[3473],{"type":172,"value":1575},{"type":166,"tag":249,"props":3475,"children":3476},{"style":720},[3477],{"type":172,"value":265},{"type":166,"tag":249,"props":3479,"children":3480},{"style":262},[3481],{"type":172,"value":1584},{"type":166,"tag":249,"props":3483,"children":3484},{"style":720},[3485],{"type":172,"value":468},{"type":166,"tag":249,"props":3487,"children":3488},{"class":251,"line":784},[3489],{"type":166,"tag":249,"props":3490,"children":3491},{"style":256},[3492],{"type":172,"value":1457},{"type":166,"tag":249,"props":3494,"children":3495},{"class":251,"line":824},[3496,3500],{"type":166,"tag":249,"props":3497,"children":3498},{"style":268},[3499],{"type":172,"value":694},{"type":166,"tag":249,"props":3501,"children":3502},{"style":262},[3503],{"type":172,"value":3504}," node\n",{"type":166,"tag":249,"props":3506,"children":3507},{"class":251,"line":860},[3508],{"type":166,"tag":249,"props":3509,"children":3510},{"emptyLinePlaceholder":159},[3511],{"type":172,"value":1067},{"type":166,"tag":249,"props":3513,"children":3514},{"class":251,"line":869},[3515],{"type":166,"tag":249,"props":3516,"children":3517},{"style":308},[3518],{"type":172,"value":3519},"    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n",{"type":166,"tag":249,"props":3521,"children":3522},{"class":251,"line":1138},[3523,3527,3531,3535,3539,3543,3547,3551,3556],{"type":166,"tag":249,"props":3524,"children":3525},{"style":730},[3526],{"type":172,"value":1644},{"type":166,"tag":249,"props":3528,"children":3529},{"style":720},[3530],{"type":172,"value":485},{"type":166,"tag":249,"props":3532,"children":3533},{"style":262},[3534],{"type":172,"value":1658},{"type":166,"tag":249,"props":3536,"children":3537},{"style":256},[3538],{"type":172,"value":440},{"type":166,"tag":249,"props":3540,"children":3541},{"style":262},[3542],{"type":172,"value":2289},{"type":166,"tag":249,"props":3544,"children":3545},{"style":720},[3546],{"type":172,"value":1618},{"type":166,"tag":249,"props":3548,"children":3549},{"style":262},[3550],{"type":172,"value":2471},{"type":166,"tag":249,"props":3552,"children":3553},{"style":720},[3554],{"type":172,"value":3555},"]) ",{"type":166,"tag":249,"props":3557,"children":3558},{"style":256},[3559],{"type":172,"value":1405},{"type":166,"tag":249,"props":3561,"children":3562},{"class":251,"line":1147},[3563,3568,3572,3576,3580,3584,3588,3592,3596,3600,3604],{"type":166,"tag":249,"props":3564,"children":3565},{"style":262},[3566],{"type":172,"value":3567},"        node",{"type":166,"tag":249,"props":3569,"children":3570},{"style":327},[3571],{"type":172,"value":704},{"type":166,"tag":249,"props":3573,"children":3574},{"style":262},[3575],{"type":172,"value":1604},{"type":166,"tag":249,"props":3577,"children":3578},{"style":256},[3579],{"type":172,"value":440},{"type":166,"tag":249,"props":3581,"children":3582},{"style":262},[3583],{"type":172,"value":2289},{"type":166,"tag":249,"props":3585,"children":3586},{"style":720},[3587],{"type":172,"value":1618},{"type":166,"tag":249,"props":3589,"children":3590},{"style":262},[3591],{"type":172,"value":2471},{"type":166,"tag":249,"props":3593,"children":3594},{"style":720},[3595],{"type":172,"value":2836},{"type":166,"tag":249,"props":3597,"children":3598},{"style":256},[3599],{"type":172,"value":440},{"type":166,"tag":249,"props":3601,"children":3602},{"style":443},[3603],{"type":172,"value":760},{"type":166,"tag":249,"props":3605,"children":3606},{"style":720},[3607],{"type":172,"value":723},{"type":166,"tag":249,"props":3609,"children":3610},{"class":251,"line":1190},[3611,3615,3620],{"type":166,"tag":249,"props":3612,"children":3613},{"style":256},[3614],{"type":172,"value":1381},{"type":166,"tag":249,"props":3616,"children":3617},{"style":730},[3618],{"type":172,"value":3619}," else",{"type":166,"tag":249,"props":3621,"children":3622},{"style":720},[3623],{"type":172,"value":2706},{"type":166,"tag":249,"props":3625,"children":3626},{"class":251,"line":1223},[3627],{"type":166,"tag":249,"props":3628,"children":3629},{"style":308},[3630],{"type":172,"value":3631},"    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n",{"type":166,"tag":249,"props":3633,"children":3634},{"class":251,"line":1236},[3635],{"type":166,"tag":249,"props":3636,"children":3637},{"style":308},[3638],{"type":172,"value":3639},"    // 则创建一个新元素并存到缓存中\n",{"type":166,"tag":249,"props":3641,"children":3642},{"class":251,"line":1277},[3643,3647,3651,3656,3660,3665,3669,3673,3678],{"type":166,"tag":249,"props":3644,"children":3645},{"style":730},[3646],{"type":172,"value":1644},{"type":166,"tag":249,"props":3648,"children":3649},{"style":720},[3650],{"type":172,"value":485},{"type":166,"tag":249,"props":3652,"children":3653},{"style":262},[3654],{"type":172,"value":3655},"saveClones",{"type":166,"tag":249,"props":3657,"children":3658},{"style":256},[3659],{"type":172,"value":440},{"type":166,"tag":249,"props":3661,"children":3662},{"style":443},[3663],{"type":172,"value":3664},"test",{"type":166,"tag":249,"props":3666,"children":3667},{"style":720},[3668],{"type":172,"value":265},{"type":166,"tag":249,"props":3670,"children":3671},{"style":262},[3672],{"type":172,"value":2471},{"type":166,"tag":249,"props":3674,"children":3675},{"style":720},[3676],{"type":172,"value":3677},")) ",{"type":166,"tag":249,"props":3679,"children":3680},{"style":256},[3681],{"type":172,"value":1405},{"type":166,"tag":249,"props":3683,"children":3684},{"class":251,"line":1317},[3685,3689,3693,3697,3701,3705,3709,3713,3717,3721,3725,3729,3733,3737,3741,3745,3750,3754,3758],{"type":166,"tag":249,"props":3686,"children":3687},{"style":262},[3688],{"type":172,"value":3567},{"type":166,"tag":249,"props":3690,"children":3691},{"style":327},[3692],{"type":172,"value":704},{"type":166,"tag":249,"props":3694,"children":3695},{"style":720},[3696],{"type":172,"value":485},{"type":166,"tag":249,"props":3698,"children":3699},{"style":262},[3700],{"type":172,"value":1658},{"type":166,"tag":249,"props":3702,"children":3703},{"style":256},[3704],{"type":172,"value":440},{"type":166,"tag":249,"props":3706,"children":3707},{"style":262},[3708],{"type":172,"value":2289},{"type":166,"tag":249,"props":3710,"children":3711},{"style":720},[3712],{"type":172,"value":1618},{"type":166,"tag":249,"props":3714,"children":3715},{"style":262},[3716],{"type":172,"value":2471},{"type":166,"tag":249,"props":3718,"children":3719},{"style":720},[3720],{"type":172,"value":1716},{"type":166,"tag":249,"props":3722,"children":3723},{"style":327},[3724],{"type":172,"value":431},{"type":166,"tag":249,"props":3726,"children":3727},{"style":262},[3728],{"type":172,"value":1604},{"type":166,"tag":249,"props":3730,"children":3731},{"style":256},[3732],{"type":172,"value":440},{"type":166,"tag":249,"props":3734,"children":3735},{"style":443},[3736],{"type":172,"value":2336},{"type":166,"tag":249,"props":3738,"children":3739},{"style":720},[3740],{"type":172,"value":265},{"type":166,"tag":249,"props":3742,"children":3743},{"style":262},[3744],{"type":172,"value":2471},{"type":166,"tag":249,"props":3746,"children":3747},{"style":720},[3748],{"type":172,"value":3749},"))",{"type":166,"tag":249,"props":3751,"children":3752},{"style":256},[3753],{"type":172,"value":440},{"type":166,"tag":249,"props":3755,"children":3756},{"style":443},[3757],{"type":172,"value":760},{"type":166,"tag":249,"props":3759,"children":3760},{"style":720},[3761],{"type":172,"value":723},{"type":166,"tag":249,"props":3763,"children":3764},{"class":251,"line":1353},[3765,3769,3773],{"type":166,"tag":249,"props":3766,"children":3767},{"style":256},[3768],{"type":172,"value":1381},{"type":166,"tag":249,"props":3770,"children":3771},{"style":730},[3772],{"type":172,"value":3619},{"type":166,"tag":249,"props":3774,"children":3775},{"style":720},[3776],{"type":172,"value":2706},{"type":166,"tag":249,"props":3778,"children":3779},{"class":251,"line":1362},[3780],{"type":166,"tag":249,"props":3781,"children":3782},{"style":308},[3783],{"type":172,"value":3784},"    // 如果是不能被克隆的对象，那就直接创建吧...\n",{"type":166,"tag":249,"props":3786,"children":3787},{"class":251,"line":1375},[3788],{"type":166,"tag":249,"props":3789,"children":3790},{"style":256},[3791],{"type":172,"value":3792},"    {\n",{"type":166,"tag":249,"props":3794,"children":3795},{"class":251,"line":1408},[3796,3800,3804,3808,3812,3816,3820,3824],{"type":166,"tag":249,"props":3797,"children":3798},{"style":262},[3799],{"type":172,"value":3567},{"type":166,"tag":249,"props":3801,"children":3802},{"style":327},[3803],{"type":172,"value":704},{"type":166,"tag":249,"props":3805,"children":3806},{"style":262},[3807],{"type":172,"value":1604},{"type":166,"tag":249,"props":3809,"children":3810},{"style":256},[3811],{"type":172,"value":440},{"type":166,"tag":249,"props":3813,"children":3814},{"style":443},[3815],{"type":172,"value":2336},{"type":166,"tag":249,"props":3817,"children":3818},{"style":720},[3819],{"type":172,"value":265},{"type":166,"tag":249,"props":3821,"children":3822},{"style":262},[3823],{"type":172,"value":2471},{"type":166,"tag":249,"props":3825,"children":3826},{"style":720},[3827],{"type":172,"value":468},{"type":166,"tag":249,"props":3829,"children":3830},{"class":251,"line":1417},[3831],{"type":166,"tag":249,"props":3832,"children":3833},{"style":256},[3834],{"type":172,"value":1457},{"type":166,"tag":249,"props":3836,"children":3837},{"class":251,"line":1435},[3838],{"type":166,"tag":249,"props":3839,"children":3840},{"emptyLinePlaceholder":159},[3841],{"type":172,"value":1067},{"type":166,"tag":249,"props":3843,"children":3844},{"class":251,"line":1451},[3845],{"type":166,"tag":249,"props":3846,"children":3847},{"style":308},[3848],{"type":172,"value":3849},"    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n",{"type":166,"tag":249,"props":3851,"children":3852},{"class":251,"line":1460},[3853],{"type":166,"tag":249,"props":3854,"children":3855},{"style":308},[3856],{"type":172,"value":3857},"    // Avoid adding some elements to fragments in IE \u003C 9 because\n",{"type":166,"tag":249,"props":3859,"children":3860},{"class":251,"line":2749},[3861],{"type":166,"tag":249,"props":3862,"children":3863},{"style":308},[3864],{"type":172,"value":3865},"    // * Attributes like `name` or `type` cannot be set/changed once an element\n",{"type":166,"tag":249,"props":3867,"children":3868},{"class":251,"line":2770},[3869],{"type":166,"tag":249,"props":3870,"children":3871},{"style":308},[3872],{"type":172,"value":3873},"    //   is inserted into a document/fragment\n",{"type":166,"tag":249,"props":3875,"children":3876},{"class":251,"line":2779},[3877],{"type":166,"tag":249,"props":3878,"children":3879},{"style":308},[3880],{"type":172,"value":3881},"    // * Link elements with `src` attributes that are inaccessible, as with\n",{"type":166,"tag":249,"props":3883,"children":3884},{"class":251,"line":2878},[3885],{"type":166,"tag":249,"props":3886,"children":3887},{"style":308},[3888],{"type":172,"value":3889},"    //   a 403 response, will cause the tab/window to crash\n",{"type":166,"tag":249,"props":3891,"children":3892},{"class":251,"line":2907},[3893],{"type":166,"tag":249,"props":3894,"children":3895},{"style":308},[3896],{"type":172,"value":3897},"    // * Script elements appended to fragments will execute when their `src`\n",{"type":166,"tag":249,"props":3899,"children":3900},{"class":251,"line":2943},[3901],{"type":166,"tag":249,"props":3902,"children":3903},{"style":308},[3904],{"type":172,"value":3905},"    //   or `text` property is set\n",{"type":166,"tag":249,"props":3907,"children":3908},{"class":251,"line":2991},[3909,3913,3918,3922,3927,3931,3935,3940,3944,3948,3952,3956,3960,3965,3969,3974,3978,3983],{"type":166,"tag":249,"props":3910,"children":3911},{"style":730},[3912],{"type":172,"value":733},{"type":166,"tag":249,"props":3914,"children":3915},{"style":262},[3916],{"type":172,"value":3917}," node",{"type":166,"tag":249,"props":3919,"children":3920},{"style":256},[3921],{"type":172,"value":440},{"type":166,"tag":249,"props":3923,"children":3924},{"style":262},[3925],{"type":172,"value":3926},"canHaveChildren",{"type":166,"tag":249,"props":3928,"children":3929},{"style":327},[3930],{"type":172,"value":1905},{"type":166,"tag":249,"props":3932,"children":3933},{"style":327},[3934],{"type":172,"value":1910},{"type":166,"tag":249,"props":3936,"children":3937},{"style":262},[3938],{"type":172,"value":3939},"reSkip",{"type":166,"tag":249,"props":3941,"children":3942},{"style":256},[3943],{"type":172,"value":440},{"type":166,"tag":249,"props":3945,"children":3946},{"style":443},[3947],{"type":172,"value":3664},{"type":166,"tag":249,"props":3949,"children":3950},{"style":720},[3951],{"type":172,"value":265},{"type":166,"tag":249,"props":3953,"children":3954},{"style":262},[3955],{"type":172,"value":2471},{"type":166,"tag":249,"props":3957,"children":3958},{"style":720},[3959],{"type":172,"value":1400},{"type":166,"tag":249,"props":3961,"children":3962},{"style":327},[3963],{"type":172,"value":3964},"&&",{"type":166,"tag":249,"props":3966,"children":3967},{"style":327},[3968],{"type":172,"value":1910},{"type":166,"tag":249,"props":3970,"children":3971},{"style":262},[3972],{"type":172,"value":3973},"node",{"type":166,"tag":249,"props":3975,"children":3976},{"style":256},[3977],{"type":172,"value":440},{"type":166,"tag":249,"props":3979,"children":3980},{"style":262},[3981],{"type":172,"value":3982},"tagUrn",{"type":166,"tag":249,"props":3984,"children":3985},{"style":720},[3986],{"type":172,"value":2706},{"type":166,"tag":249,"props":3988,"children":3989},{"class":251,"line":3009},[3990,3995,3999,4003,4007,4011,4016,4020,4024],{"type":166,"tag":249,"props":3991,"children":3992},{"style":327},[3993],{"type":172,"value":3994},"        ?",{"type":166,"tag":249,"props":3996,"children":3997},{"style":262},[3998],{"type":172,"value":1604},{"type":166,"tag":249,"props":4000,"children":4001},{"style":256},[4002],{"type":172,"value":440},{"type":166,"tag":249,"props":4004,"children":4005},{"style":262},[4006],{"type":172,"value":2403},{"type":166,"tag":249,"props":4008,"children":4009},{"style":256},[4010],{"type":172,"value":440},{"type":166,"tag":249,"props":4012,"children":4013},{"style":443},[4014],{"type":172,"value":4015},"appendChild",{"type":166,"tag":249,"props":4017,"children":4018},{"style":720},[4019],{"type":172,"value":265},{"type":166,"tag":249,"props":4021,"children":4022},{"style":262},[4023],{"type":172,"value":3973},{"type":166,"tag":249,"props":4025,"children":4026},{"style":720},[4027],{"type":172,"value":4028},") \n",{"type":166,"tag":249,"props":4030,"children":4031},{"class":251,"line":3030},[4032,4037],{"type":166,"tag":249,"props":4033,"children":4034},{"style":327},[4035],{"type":172,"value":4036},"        :",{"type":166,"tag":249,"props":4038,"children":4039},{"style":262},[4040],{"type":172,"value":3504},{"type":166,"tag":249,"props":4042,"children":4043},{"class":251,"line":3046},[4044],{"type":166,"tag":249,"props":4045,"children":4046},{"style":256},[4047],{"type":172,"value":1781},{"type":166,"tag":180,"props":4049,"children":4050},{},[4051],{"type":172,"value":4052},"和 createElement 类似，createDocumentFragment 也需要仿制。",{"type":166,"tag":238,"props":4054,"children":4056},{"className":240,"code":4055,"language":242,"meta":160,"style":160},"function createDocumentFragment(ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment()\n    }\n    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n    data = data || getExpandoData(ownerDocument)\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length\n    for(;i\u003Cl;i++){\n        // 返回的 documentFragment 包含了所有 shived 元素\n        clone.createElement(elems[i])\n    }\n    return clone\n  }\n",[4057],{"type":166,"tag":245,"props":4058,"children":4059},{"__ignoreMap":160},[4060,4092,4115,4138,4145,4153,4189,4233,4254,4279,4305,4357,4365,4403,4410,4422],{"type":166,"tag":249,"props":4061,"children":4062},{"class":251,"line":252},[4063,4067,4072,4076,4080,4084,4088],{"type":166,"tag":249,"props":4064,"children":4065},{"style":268},[4066],{"type":172,"value":271},{"type":166,"tag":249,"props":4068,"children":4069},{"style":443},[4070],{"type":172,"value":4071}," createDocumentFragment",{"type":166,"tag":249,"props":4073,"children":4074},{"style":256},[4075],{"type":172,"value":265},{"type":166,"tag":249,"props":4077,"children":4078},{"style":278},[4079],{"type":172,"value":1584},{"type":166,"tag":249,"props":4081,"children":4082},{"style":256},[4083],{"type":172,"value":286},{"type":166,"tag":249,"props":4085,"children":4086},{"style":278},[4087],{"type":172,"value":1604},{"type":166,"tag":249,"props":4089,"children":4090},{"style":256},[4091],{"type":172,"value":3369},{"type":166,"tag":249,"props":4093,"children":4094},{"class":251,"line":304},[4095,4099,4103,4107,4111],{"type":166,"tag":249,"props":4096,"children":4097},{"style":730},[4098],{"type":172,"value":1644},{"type":166,"tag":249,"props":4100,"children":4101},{"style":720},[4102],{"type":172,"value":265},{"type":166,"tag":249,"props":4104,"children":4105},{"style":262},[4106],{"type":172,"value":2135},{"type":166,"tag":249,"props":4108,"children":4109},{"style":720},[4110],{"type":172,"value":296},{"type":166,"tag":249,"props":4112,"children":4113},{"style":256},[4114],{"type":172,"value":1405},{"type":166,"tag":249,"props":4116,"children":4117},{"class":251,"line":314},[4118,4122,4126,4130,4134],{"type":166,"tag":249,"props":4119,"children":4120},{"style":730},[4121],{"type":172,"value":3400},{"type":166,"tag":249,"props":4123,"children":4124},{"style":262},[4125],{"type":172,"value":2345},{"type":166,"tag":249,"props":4127,"children":4128},{"style":256},[4129],{"type":172,"value":440},{"type":166,"tag":249,"props":4131,"children":4132},{"style":443},[4133],{"type":172,"value":717},{"type":166,"tag":249,"props":4135,"children":4136},{"style":720},[4137],{"type":172,"value":723},{"type":166,"tag":249,"props":4139,"children":4140},{"class":251,"line":688},[4141],{"type":166,"tag":249,"props":4142,"children":4143},{"style":256},[4144],{"type":172,"value":1457},{"type":166,"tag":249,"props":4146,"children":4147},{"class":251,"line":726},[4148],{"type":166,"tag":249,"props":4149,"children":4150},{"style":308},[4151],{"type":172,"value":4152},"    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n",{"type":166,"tag":249,"props":4154,"children":4155},{"class":251,"line":741},[4156,4161,4165,4169,4173,4177,4181,4185],{"type":166,"tag":249,"props":4157,"children":4158},{"style":262},[4159],{"type":172,"value":4160},"    data",{"type":166,"tag":249,"props":4162,"children":4163},{"style":327},[4164],{"type":172,"value":704},{"type":166,"tag":249,"props":4166,"children":4167},{"style":262},[4168],{"type":172,"value":1604},{"type":166,"tag":249,"props":4170,"children":4171},{"style":327},[4172],{"type":172,"value":668},{"type":166,"tag":249,"props":4174,"children":4175},{"style":443},[4176],{"type":172,"value":1575},{"type":166,"tag":249,"props":4178,"children":4179},{"style":720},[4180],{"type":172,"value":265},{"type":166,"tag":249,"props":4182,"children":4183},{"style":262},[4184],{"type":172,"value":1584},{"type":166,"tag":249,"props":4186,"children":4187},{"style":720},[4188],{"type":172,"value":468},{"type":166,"tag":249,"props":4190,"children":4191},{"class":251,"line":784},[4192,4196,4201,4205,4209,4213,4217,4221,4225,4229],{"type":166,"tag":249,"props":4193,"children":4194},{"style":268},[4195],{"type":172,"value":694},{"type":166,"tag":249,"props":4197,"children":4198},{"style":262},[4199],{"type":172,"value":4200}," clone",{"type":166,"tag":249,"props":4202,"children":4203},{"style":327},[4204],{"type":172,"value":704},{"type":166,"tag":249,"props":4206,"children":4207},{"style":262},[4208],{"type":172,"value":1604},{"type":166,"tag":249,"props":4210,"children":4211},{"style":256},[4212],{"type":172,"value":440},{"type":166,"tag":249,"props":4214,"children":4215},{"style":262},[4216],{"type":172,"value":2403},{"type":166,"tag":249,"props":4218,"children":4219},{"style":256},[4220],{"type":172,"value":440},{"type":166,"tag":249,"props":4222,"children":4223},{"style":443},[4224],{"type":172,"value":760},{"type":166,"tag":249,"props":4226,"children":4227},{"style":720},[4228],{"type":172,"value":681},{"type":166,"tag":249,"props":4230,"children":4231},{"style":256},[4232],{"type":172,"value":1987},{"type":166,"tag":249,"props":4234,"children":4235},{"class":251,"line":824},[4236,4241,4245,4250],{"type":166,"tag":249,"props":4237,"children":4238},{"style":262},[4239],{"type":172,"value":4240},"        i",{"type":166,"tag":249,"props":4242,"children":4243},{"style":327},[4244],{"type":172,"value":704},{"type":166,"tag":249,"props":4246,"children":4247},{"style":660},[4248],{"type":172,"value":4249}," 0",{"type":166,"tag":249,"props":4251,"children":4252},{"style":256},[4253],{"type":172,"value":1987},{"type":166,"tag":249,"props":4255,"children":4256},{"class":251,"line":860},[4257,4262,4266,4271,4275],{"type":166,"tag":249,"props":4258,"children":4259},{"style":262},[4260],{"type":172,"value":4261},"        elems",{"type":166,"tag":249,"props":4263,"children":4264},{"style":327},[4265],{"type":172,"value":704},{"type":166,"tag":249,"props":4267,"children":4268},{"style":443},[4269],{"type":172,"value":4270}," getElements",{"type":166,"tag":249,"props":4272,"children":4273},{"style":720},[4274],{"type":172,"value":681},{"type":166,"tag":249,"props":4276,"children":4277},{"style":256},[4278],{"type":172,"value":1987},{"type":166,"tag":249,"props":4280,"children":4281},{"class":251,"line":869},[4282,4287,4291,4296,4300],{"type":166,"tag":249,"props":4283,"children":4284},{"style":262},[4285],{"type":172,"value":4286},"        l",{"type":166,"tag":249,"props":4288,"children":4289},{"style":327},[4290],{"type":172,"value":704},{"type":166,"tag":249,"props":4292,"children":4293},{"style":262},[4294],{"type":172,"value":4295}," elems",{"type":166,"tag":249,"props":4297,"children":4298},{"style":256},[4299],{"type":172,"value":440},{"type":166,"tag":249,"props":4301,"children":4302},{"style":649},[4303],{"type":172,"value":4304},"length\n",{"type":166,"tag":249,"props":4306,"children":4307},{"class":251,"line":1138},[4308,4313,4317,4321,4326,4331,4336,4340,4344,4349,4353],{"type":166,"tag":249,"props":4309,"children":4310},{"style":730},[4311],{"type":172,"value":4312},"    for",{"type":166,"tag":249,"props":4314,"children":4315},{"style":720},[4316],{"type":172,"value":265},{"type":166,"tag":249,"props":4318,"children":4319},{"style":256},[4320],{"type":172,"value":259},{"type":166,"tag":249,"props":4322,"children":4323},{"style":262},[4324],{"type":172,"value":4325},"i",{"type":166,"tag":249,"props":4327,"children":4328},{"style":327},[4329],{"type":172,"value":4330},"\u003C",{"type":166,"tag":249,"props":4332,"children":4333},{"style":262},[4334],{"type":172,"value":4335},"l",{"type":166,"tag":249,"props":4337,"children":4338},{"style":256},[4339],{"type":172,"value":259},{"type":166,"tag":249,"props":4341,"children":4342},{"style":262},[4343],{"type":172,"value":4325},{"type":166,"tag":249,"props":4345,"children":4346},{"style":327},[4347],{"type":172,"value":4348},"++",{"type":166,"tag":249,"props":4350,"children":4351},{"style":720},[4352],{"type":172,"value":296},{"type":166,"tag":249,"props":4354,"children":4355},{"style":256},[4356],{"type":172,"value":1405},{"type":166,"tag":249,"props":4358,"children":4359},{"class":251,"line":1147},[4360],{"type":166,"tag":249,"props":4361,"children":4362},{"style":308},[4363],{"type":172,"value":4364},"        // 返回的 documentFragment 包含了所有 shived 元素\n",{"type":166,"tag":249,"props":4366,"children":4367},{"class":251,"line":1190},[4368,4373,4377,4381,4385,4390,4394,4398],{"type":166,"tag":249,"props":4369,"children":4370},{"style":262},[4371],{"type":172,"value":4372},"        clone",{"type":166,"tag":249,"props":4374,"children":4375},{"style":256},[4376],{"type":172,"value":440},{"type":166,"tag":249,"props":4378,"children":4379},{"style":443},[4380],{"type":172,"value":446},{"type":166,"tag":249,"props":4382,"children":4383},{"style":720},[4384],{"type":172,"value":265},{"type":166,"tag":249,"props":4386,"children":4387},{"style":262},[4388],{"type":172,"value":4389},"elems",{"type":166,"tag":249,"props":4391,"children":4392},{"style":720},[4393],{"type":172,"value":1618},{"type":166,"tag":249,"props":4395,"children":4396},{"style":262},[4397],{"type":172,"value":4325},{"type":166,"tag":249,"props":4399,"children":4400},{"style":720},[4401],{"type":172,"value":4402},"])\n",{"type":166,"tag":249,"props":4404,"children":4405},{"class":251,"line":1223},[4406],{"type":166,"tag":249,"props":4407,"children":4408},{"style":256},[4409],{"type":172,"value":1457},{"type":166,"tag":249,"props":4411,"children":4412},{"class":251,"line":1236},[4413,4417],{"type":166,"tag":249,"props":4414,"children":4415},{"style":730},[4416],{"type":172,"value":733},{"type":166,"tag":249,"props":4418,"children":4419},{"style":262},[4420],{"type":172,"value":4421}," clone\n",{"type":166,"tag":249,"props":4423,"children":4424},{"class":251,"line":1277},[4425],{"type":166,"tag":249,"props":4426,"children":4427},{"style":256},[4428],{"type":172,"value":1781},{"type":166,"tag":180,"props":4430,"children":4431},{},[4432],{"type":172,"value":4433},"可以发现，需要 shiv 的元素都存在了 getElements 这个方法中，我们来看看具体实现。",{"type":166,"tag":238,"props":4435,"children":4437},{"className":240,"code":4436,"language":242,"meta":160,"style":160},"// getElements 返回 html5.elments 的数组形式\n// 看来 getElements 也只是一个类似 getter 的存在\nfunction getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\n\n// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\nvar html5 = {\n    // options 是外部调用 html5shiv 的接口参数\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'\n}\n",[4438],{"type":166,"tag":245,"props":4439,"children":4440},{"__ignoreMap":160},[4441,4449,4457,4476,4510,4588,4596,4603,4611,4631,4639,4692],{"type":166,"tag":249,"props":4442,"children":4443},{"class":251,"line":252},[4444],{"type":166,"tag":249,"props":4445,"children":4446},{"style":308},[4447],{"type":172,"value":4448},"// getElements 返回 html5.elments 的数组形式\n",{"type":166,"tag":249,"props":4450,"children":4451},{"class":251,"line":304},[4452],{"type":166,"tag":249,"props":4453,"children":4454},{"style":308},[4455],{"type":172,"value":4456},"// 看来 getElements 也只是一个类似 getter 的存在\n",{"type":166,"tag":249,"props":4458,"children":4459},{"class":251,"line":314},[4460,4464,4468,4472],{"type":166,"tag":249,"props":4461,"children":4462},{"style":268},[4463],{"type":172,"value":271},{"type":166,"tag":249,"props":4465,"children":4466},{"style":443},[4467],{"type":172,"value":4270},{"type":166,"tag":249,"props":4469,"children":4470},{"style":256},[4471],{"type":172,"value":681},{"type":166,"tag":249,"props":4473,"children":4474},{"style":256},[4475],{"type":172,"value":301},{"type":166,"tag":249,"props":4477,"children":4478},{"class":251,"line":688},[4479,4483,4488,4492,4497,4501,4506],{"type":166,"tag":249,"props":4480,"children":4481},{"style":268},[4482],{"type":172,"value":694},{"type":166,"tag":249,"props":4484,"children":4485},{"style":262},[4486],{"type":172,"value":4487}," elements",{"type":166,"tag":249,"props":4489,"children":4490},{"style":327},[4491],{"type":172,"value":704},{"type":166,"tag":249,"props":4493,"children":4494},{"style":262},[4495],{"type":172,"value":4496}," html5",{"type":166,"tag":249,"props":4498,"children":4499},{"style":256},[4500],{"type":172,"value":440},{"type":166,"tag":249,"props":4502,"children":4503},{"style":262},[4504],{"type":172,"value":4505},"elements",{"type":166,"tag":249,"props":4507,"children":4508},{"style":256},[4509],{"type":172,"value":391},{"type":166,"tag":249,"props":4511,"children":4512},{"class":251,"line":726},[4513,4517,4522,4526,4530,4534,4539,4543,4547,4551,4555,4560,4564,4568,4572,4576,4580,4584],{"type":166,"tag":249,"props":4514,"children":4515},{"style":730},[4516],{"type":172,"value":733},{"type":166,"tag":249,"props":4518,"children":4519},{"style":327},[4520],{"type":172,"value":4521}," typeof",{"type":166,"tag":249,"props":4523,"children":4524},{"style":262},[4525],{"type":172,"value":4487},{"type":166,"tag":249,"props":4527,"children":4528},{"style":327},[4529],{"type":172,"value":657},{"type":166,"tag":249,"props":4531,"children":4532},{"style":343},[4533],{"type":172,"value":606},{"type":166,"tag":249,"props":4535,"children":4536},{"style":349},[4537],{"type":172,"value":4538},"string",{"type":166,"tag":249,"props":4540,"children":4541},{"style":343},[4542],{"type":172,"value":455},{"type":166,"tag":249,"props":4544,"children":4545},{"style":327},[4546],{"type":172,"value":362},{"type":166,"tag":249,"props":4548,"children":4549},{"style":262},[4550],{"type":172,"value":4487},{"type":166,"tag":249,"props":4552,"children":4553},{"style":256},[4554],{"type":172,"value":440},{"type":166,"tag":249,"props":4556,"children":4557},{"style":443},[4558],{"type":172,"value":4559},"split",{"type":166,"tag":249,"props":4561,"children":4562},{"style":720},[4563],{"type":172,"value":265},{"type":166,"tag":249,"props":4565,"children":4566},{"style":343},[4567],{"type":172,"value":455},{"type":166,"tag":249,"props":4569,"children":4570},{"style":343},[4571],{"type":172,"value":606},{"type":166,"tag":249,"props":4573,"children":4574},{"style":720},[4575],{"type":172,"value":1400},{"type":166,"tag":249,"props":4577,"children":4578},{"style":327},[4579],{"type":172,"value":371},{"type":166,"tag":249,"props":4581,"children":4582},{"style":262},[4583],{"type":172,"value":4487},{"type":166,"tag":249,"props":4585,"children":4586},{"style":256},[4587],{"type":172,"value":391},{"type":166,"tag":249,"props":4589,"children":4590},{"class":251,"line":741},[4591],{"type":166,"tag":249,"props":4592,"children":4593},{"style":256},[4594],{"type":172,"value":4595},"}\n",{"type":166,"tag":249,"props":4597,"children":4598},{"class":251,"line":784},[4599],{"type":166,"tag":249,"props":4600,"children":4601},{"emptyLinePlaceholder":159},[4602],{"type":172,"value":1067},{"type":166,"tag":249,"props":4604,"children":4605},{"class":251,"line":824},[4606],{"type":166,"tag":249,"props":4607,"children":4608},{"style":308},[4609],{"type":172,"value":4610},"// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\n",{"type":166,"tag":249,"props":4612,"children":4613},{"class":251,"line":860},[4614,4618,4623,4627],{"type":166,"tag":249,"props":4615,"children":4616},{"style":268},[4617],{"type":172,"value":1499},{"type":166,"tag":249,"props":4619,"children":4620},{"style":262},[4621],{"type":172,"value":4622}," html5 ",{"type":166,"tag":249,"props":4624,"children":4625},{"style":327},[4626],{"type":172,"value":431},{"type":166,"tag":249,"props":4628,"children":4629},{"style":256},[4630],{"type":172,"value":301},{"type":166,"tag":249,"props":4632,"children":4633},{"class":251,"line":869},[4634],{"type":166,"tag":249,"props":4635,"children":4636},{"style":308},[4637],{"type":172,"value":4638},"    // options 是外部调用 html5shiv 的接口参数\n",{"type":166,"tag":249,"props":4640,"children":4641},{"class":251,"line":1138},[4642,4647,4652,4656,4660,4665,4669,4674,4679,4683,4688],{"type":166,"tag":249,"props":4643,"children":4644},{"style":343},[4645],{"type":172,"value":4646},"    '",{"type":166,"tag":249,"props":4648,"children":4650},{"style":4649},"--shiki-light:#E53935;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[4651],{"type":172,"value":4505},{"type":166,"tag":249,"props":4653,"children":4654},{"style":343},[4655],{"type":172,"value":455},{"type":166,"tag":249,"props":4657,"children":4658},{"style":256},[4659],{"type":172,"value":371},{"type":166,"tag":249,"props":4661,"children":4662},{"style":262},[4663],{"type":172,"value":4664}," options",{"type":166,"tag":249,"props":4666,"children":4667},{"style":256},[4668],{"type":172,"value":440},{"type":166,"tag":249,"props":4670,"children":4671},{"style":262},[4672],{"type":172,"value":4673},"elements ",{"type":166,"tag":249,"props":4675,"children":4676},{"style":327},[4677],{"type":172,"value":4678},"||",{"type":166,"tag":249,"props":4680,"children":4681},{"style":343},[4682],{"type":172,"value":606},{"type":166,"tag":249,"props":4684,"children":4685},{"style":349},[4686],{"type":172,"value":4687},"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",{"type":166,"tag":249,"props":4689,"children":4690},{"style":343},[4691],{"type":172,"value":616},{"type":166,"tag":249,"props":4693,"children":4694},{"class":251,"line":1147},[4695],{"type":166,"tag":249,"props":4696,"children":4697},{"style":256},[4698],{"type":172,"value":4595},{"type":166,"tag":227,"props":4700,"children":4702},{"id":4701},"私有方法",[4703],{"type":172,"value":4701},{"type":166,"tag":180,"props":4705,"children":4706},{},[4707],{"type":172,"value":4708},"接下来是几个私有方法。和 shiv 原理不相关，所以不重要。",{"type":166,"tag":238,"props":4710,"children":4712},{"className":240,"code":4711,"language":242,"meta":160,"style":160},"/**\n * Creates a style sheet with the given CSS text and adds it to the document.\n * 在文档头部添加样式标签\n */\nfunction addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement\n    // ? 这个 'x' 应该是兼容性考虑\n    p.innerHTML = 'x\u003Cstyle>' + cssText + '\u003C/style>'\n    return parent.insertBefore(p.lastChild, parent.firstChild)\n}\n",[4713],{"type":166,"tag":245,"props":4714,"children":4715},{"__ignoreMap":160},[4716,4724,4732,4740,4748,4785,4837,4910,4918,4976,5035],{"type":166,"tag":249,"props":4717,"children":4718},{"class":251,"line":252},[4719],{"type":166,"tag":249,"props":4720,"children":4721},{"style":308},[4722],{"type":172,"value":4723},"/**\n",{"type":166,"tag":249,"props":4725,"children":4726},{"class":251,"line":304},[4727],{"type":166,"tag":249,"props":4728,"children":4729},{"style":308},[4730],{"type":172,"value":4731}," * Creates a style sheet with the given CSS text and adds it to the document.\n",{"type":166,"tag":249,"props":4733,"children":4734},{"class":251,"line":314},[4735],{"type":166,"tag":249,"props":4736,"children":4737},{"style":308},[4738],{"type":172,"value":4739}," * 在文档头部添加样式标签\n",{"type":166,"tag":249,"props":4741,"children":4742},{"class":251,"line":688},[4743],{"type":166,"tag":249,"props":4744,"children":4745},{"style":308},[4746],{"type":172,"value":4747}," */\n",{"type":166,"tag":249,"props":4749,"children":4750},{"class":251,"line":726},[4751,4755,4760,4764,4768,4772,4777,4781],{"type":166,"tag":249,"props":4752,"children":4753},{"style":268},[4754],{"type":172,"value":271},{"type":166,"tag":249,"props":4756,"children":4757},{"style":443},[4758],{"type":172,"value":4759}," addStyleSheet",{"type":166,"tag":249,"props":4761,"children":4762},{"style":256},[4763],{"type":172,"value":265},{"type":166,"tag":249,"props":4765,"children":4766},{"style":278},[4767],{"type":172,"value":1584},{"type":166,"tag":249,"props":4769,"children":4770},{"style":256},[4771],{"type":172,"value":286},{"type":166,"tag":249,"props":4773,"children":4774},{"style":278},[4775],{"type":172,"value":4776}," cssText",{"type":166,"tag":249,"props":4778,"children":4779},{"style":256},[4780],{"type":172,"value":296},{"type":166,"tag":249,"props":4782,"children":4783},{"style":256},[4784],{"type":172,"value":301},{"type":166,"tag":249,"props":4786,"children":4787},{"class":251,"line":741},[4788,4792,4797,4801,4805,4809,4813,4817,4821,4825,4829,4833],{"type":166,"tag":249,"props":4789,"children":4790},{"style":268},[4791],{"type":172,"value":694},{"type":166,"tag":249,"props":4793,"children":4794},{"style":262},[4795],{"type":172,"value":4796}," p",{"type":166,"tag":249,"props":4798,"children":4799},{"style":327},[4800],{"type":172,"value":704},{"type":166,"tag":249,"props":4802,"children":4803},{"style":262},[4804],{"type":172,"value":2345},{"type":166,"tag":249,"props":4806,"children":4807},{"style":256},[4808],{"type":172,"value":440},{"type":166,"tag":249,"props":4810,"children":4811},{"style":443},[4812],{"type":172,"value":446},{"type":166,"tag":249,"props":4814,"children":4815},{"style":720},[4816],{"type":172,"value":265},{"type":166,"tag":249,"props":4818,"children":4819},{"style":343},[4820],{"type":172,"value":455},{"type":166,"tag":249,"props":4822,"children":4823},{"style":349},[4824],{"type":172,"value":180},{"type":166,"tag":249,"props":4826,"children":4827},{"style":343},[4828],{"type":172,"value":455},{"type":166,"tag":249,"props":4830,"children":4831},{"style":720},[4832],{"type":172,"value":296},{"type":166,"tag":249,"props":4834,"children":4835},{"style":256},[4836],{"type":172,"value":1987},{"type":166,"tag":249,"props":4838,"children":4839},{"class":251,"line":784},[4840,4845,4849,4853,4857,4862,4866,4870,4875,4879,4884,4889,4893,4897,4901,4905],{"type":166,"tag":249,"props":4841,"children":4842},{"style":262},[4843],{"type":172,"value":4844},"        parent",{"type":166,"tag":249,"props":4846,"children":4847},{"style":327},[4848],{"type":172,"value":704},{"type":166,"tag":249,"props":4850,"children":4851},{"style":262},[4852],{"type":172,"value":2345},{"type":166,"tag":249,"props":4854,"children":4855},{"style":256},[4856],{"type":172,"value":440},{"type":166,"tag":249,"props":4858,"children":4859},{"style":443},[4860],{"type":172,"value":4861},"getElementsByTagName",{"type":166,"tag":249,"props":4863,"children":4864},{"style":720},[4865],{"type":172,"value":265},{"type":166,"tag":249,"props":4867,"children":4868},{"style":343},[4869],{"type":172,"value":455},{"type":166,"tag":249,"props":4871,"children":4872},{"style":349},[4873],{"type":172,"value":4874},"head",{"type":166,"tag":249,"props":4876,"children":4877},{"style":343},[4878],{"type":172,"value":455},{"type":166,"tag":249,"props":4880,"children":4881},{"style":720},[4882],{"type":172,"value":4883},")[",{"type":166,"tag":249,"props":4885,"children":4886},{"style":660},[4887],{"type":172,"value":4888},"0",{"type":166,"tag":249,"props":4890,"children":4891},{"style":720},[4892],{"type":172,"value":1716},{"type":166,"tag":249,"props":4894,"children":4895},{"style":327},[4896],{"type":172,"value":4678},{"type":166,"tag":249,"props":4898,"children":4899},{"style":262},[4900],{"type":172,"value":2345},{"type":166,"tag":249,"props":4902,"children":4903},{"style":256},[4904],{"type":172,"value":440},{"type":166,"tag":249,"props":4906,"children":4907},{"style":262},[4908],{"type":172,"value":4909},"documentElement\n",{"type":166,"tag":249,"props":4911,"children":4912},{"class":251,"line":824},[4913],{"type":166,"tag":249,"props":4914,"children":4915},{"style":308},[4916],{"type":172,"value":4917},"    // ? 这个 'x' 应该是兼容性考虑\n",{"type":166,"tag":249,"props":4919,"children":4920},{"class":251,"line":860},[4921,4926,4930,4934,4938,4942,4947,4951,4955,4959,4963,4967,4972],{"type":166,"tag":249,"props":4922,"children":4923},{"style":262},[4924],{"type":172,"value":4925},"    p",{"type":166,"tag":249,"props":4927,"children":4928},{"style":256},[4929],{"type":172,"value":440},{"type":166,"tag":249,"props":4931,"children":4932},{"style":262},[4933],{"type":172,"value":987},{"type":166,"tag":249,"props":4935,"children":4936},{"style":327},[4937],{"type":172,"value":704},{"type":166,"tag":249,"props":4939,"children":4940},{"style":343},[4941],{"type":172,"value":606},{"type":166,"tag":249,"props":4943,"children":4944},{"style":349},[4945],{"type":172,"value":4946},"x\u003Cstyle>",{"type":166,"tag":249,"props":4948,"children":4949},{"style":343},[4950],{"type":172,"value":455},{"type":166,"tag":249,"props":4952,"children":4953},{"style":327},[4954],{"type":172,"value":2966},{"type":166,"tag":249,"props":4956,"children":4957},{"style":262},[4958],{"type":172,"value":4776},{"type":166,"tag":249,"props":4960,"children":4961},{"style":327},[4962],{"type":172,"value":2966},{"type":166,"tag":249,"props":4964,"children":4965},{"style":343},[4966],{"type":172,"value":606},{"type":166,"tag":249,"props":4968,"children":4969},{"style":349},[4970],{"type":172,"value":4971},"\u003C/style>",{"type":166,"tag":249,"props":4973,"children":4974},{"style":343},[4975],{"type":172,"value":616},{"type":166,"tag":249,"props":4977,"children":4978},{"class":251,"line":869},[4979,4983,4988,4992,4997,5001,5005,5009,5014,5018,5022,5026,5031],{"type":166,"tag":249,"props":4980,"children":4981},{"style":730},[4982],{"type":172,"value":733},{"type":166,"tag":249,"props":4984,"children":4985},{"style":262},[4986],{"type":172,"value":4987}," parent",{"type":166,"tag":249,"props":4989,"children":4990},{"style":256},[4991],{"type":172,"value":440},{"type":166,"tag":249,"props":4993,"children":4994},{"style":443},[4995],{"type":172,"value":4996},"insertBefore",{"type":166,"tag":249,"props":4998,"children":4999},{"style":720},[5000],{"type":172,"value":265},{"type":166,"tag":249,"props":5002,"children":5003},{"style":262},[5004],{"type":172,"value":180},{"type":166,"tag":249,"props":5006,"children":5007},{"style":256},[5008],{"type":172,"value":440},{"type":166,"tag":249,"props":5010,"children":5011},{"style":262},[5012],{"type":172,"value":5013},"lastChild",{"type":166,"tag":249,"props":5015,"children":5016},{"style":256},[5017],{"type":172,"value":286},{"type":166,"tag":249,"props":5019,"children":5020},{"style":262},[5021],{"type":172,"value":4987},{"type":166,"tag":249,"props":5023,"children":5024},{"style":256},[5025],{"type":172,"value":440},{"type":166,"tag":249,"props":5027,"children":5028},{"style":262},[5029],{"type":172,"value":5030},"firstChild",{"type":166,"tag":249,"props":5032,"children":5033},{"style":720},[5034],{"type":172,"value":468},{"type":166,"tag":249,"props":5036,"children":5037},{"class":251,"line":1138},[5038],{"type":166,"tag":249,"props":5039,"children":5040},{"style":256},[5041],{"type":172,"value":4595},{"type":166,"tag":180,"props":5043,"children":5044},{},[5045],{"type":172,"value":5046},"一对用来维护 html5.elements 的方法 getElements、addElements。相当于 getter/setter。因为 html5shiv 将 html5 这个对象挂载到了 window 对象上，向外暴露。所以可以轻易调用 addElements 维护 html.elements。",{"type":166,"tag":238,"props":5048,"children":5050},{"className":240,"code":5049,"language":242,"meta":160,"style":160},"function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\nfunction addElements(newElements, ownerDocument) {\n    var elements = html5.elements\n    if(typeof elements != 'string'){\n        elements = elements.join(' ')\n    }\n    if(typeof newElements != 'string'){\n        newElements = newElements.join(' ')\n    }\n    html5.elements = elements +' '+ newElements\n\n    // 每次增加元素的最后，会进行一次 shiv\n    shivDocument(ownerDocument)\n}\n",[5051],{"type":166,"tag":245,"props":5052,"children":5053},{"__ignoreMap":160},[5054,5073,5104,5179,5186,5223,5251,5295,5335,5342,5386,5426,5433,5478,5485,5493,5513],{"type":166,"tag":249,"props":5055,"children":5056},{"class":251,"line":252},[5057,5061,5065,5069],{"type":166,"tag":249,"props":5058,"children":5059},{"style":268},[5060],{"type":172,"value":271},{"type":166,"tag":249,"props":5062,"children":5063},{"style":443},[5064],{"type":172,"value":4270},{"type":166,"tag":249,"props":5066,"children":5067},{"style":256},[5068],{"type":172,"value":681},{"type":166,"tag":249,"props":5070,"children":5071},{"style":256},[5072],{"type":172,"value":301},{"type":166,"tag":249,"props":5074,"children":5075},{"class":251,"line":304},[5076,5080,5084,5088,5092,5096,5100],{"type":166,"tag":249,"props":5077,"children":5078},{"style":268},[5079],{"type":172,"value":694},{"type":166,"tag":249,"props":5081,"children":5082},{"style":262},[5083],{"type":172,"value":4487},{"type":166,"tag":249,"props":5085,"children":5086},{"style":327},[5087],{"type":172,"value":704},{"type":166,"tag":249,"props":5089,"children":5090},{"style":262},[5091],{"type":172,"value":4496},{"type":166,"tag":249,"props":5093,"children":5094},{"style":256},[5095],{"type":172,"value":440},{"type":166,"tag":249,"props":5097,"children":5098},{"style":262},[5099],{"type":172,"value":4505},{"type":166,"tag":249,"props":5101,"children":5102},{"style":256},[5103],{"type":172,"value":391},{"type":166,"tag":249,"props":5105,"children":5106},{"class":251,"line":314},[5107,5111,5115,5119,5123,5127,5131,5135,5139,5143,5147,5151,5155,5159,5163,5167,5171,5175],{"type":166,"tag":249,"props":5108,"children":5109},{"style":730},[5110],{"type":172,"value":733},{"type":166,"tag":249,"props":5112,"children":5113},{"style":327},[5114],{"type":172,"value":4521},{"type":166,"tag":249,"props":5116,"children":5117},{"style":262},[5118],{"type":172,"value":4487},{"type":166,"tag":249,"props":5120,"children":5121},{"style":327},[5122],{"type":172,"value":657},{"type":166,"tag":249,"props":5124,"children":5125},{"style":343},[5126],{"type":172,"value":606},{"type":166,"tag":249,"props":5128,"children":5129},{"style":349},[5130],{"type":172,"value":4538},{"type":166,"tag":249,"props":5132,"children":5133},{"style":343},[5134],{"type":172,"value":455},{"type":166,"tag":249,"props":5136,"children":5137},{"style":327},[5138],{"type":172,"value":362},{"type":166,"tag":249,"props":5140,"children":5141},{"style":262},[5142],{"type":172,"value":4487},{"type":166,"tag":249,"props":5144,"children":5145},{"style":256},[5146],{"type":172,"value":440},{"type":166,"tag":249,"props":5148,"children":5149},{"style":443},[5150],{"type":172,"value":4559},{"type":166,"tag":249,"props":5152,"children":5153},{"style":720},[5154],{"type":172,"value":265},{"type":166,"tag":249,"props":5156,"children":5157},{"style":343},[5158],{"type":172,"value":455},{"type":166,"tag":249,"props":5160,"children":5161},{"style":343},[5162],{"type":172,"value":606},{"type":166,"tag":249,"props":5164,"children":5165},{"style":720},[5166],{"type":172,"value":1400},{"type":166,"tag":249,"props":5168,"children":5169},{"style":327},[5170],{"type":172,"value":371},{"type":166,"tag":249,"props":5172,"children":5173},{"style":262},[5174],{"type":172,"value":4487},{"type":166,"tag":249,"props":5176,"children":5177},{"style":256},[5178],{"type":172,"value":391},{"type":166,"tag":249,"props":5180,"children":5181},{"class":251,"line":688},[5182],{"type":166,"tag":249,"props":5183,"children":5184},{"style":256},[5185],{"type":172,"value":4595},{"type":166,"tag":249,"props":5187,"children":5188},{"class":251,"line":726},[5189,5193,5198,5202,5207,5211,5215,5219],{"type":166,"tag":249,"props":5190,"children":5191},{"style":268},[5192],{"type":172,"value":271},{"type":166,"tag":249,"props":5194,"children":5195},{"style":443},[5196],{"type":172,"value":5197}," addElements",{"type":166,"tag":249,"props":5199,"children":5200},{"style":256},[5201],{"type":172,"value":265},{"type":166,"tag":249,"props":5203,"children":5204},{"style":278},[5205],{"type":172,"value":5206},"newElements",{"type":166,"tag":249,"props":5208,"children":5209},{"style":256},[5210],{"type":172,"value":286},{"type":166,"tag":249,"props":5212,"children":5213},{"style":278},[5214],{"type":172,"value":2345},{"type":166,"tag":249,"props":5216,"children":5217},{"style":256},[5218],{"type":172,"value":296},{"type":166,"tag":249,"props":5220,"children":5221},{"style":256},[5222],{"type":172,"value":301},{"type":166,"tag":249,"props":5224,"children":5225},{"class":251,"line":741},[5226,5230,5234,5238,5242,5246],{"type":166,"tag":249,"props":5227,"children":5228},{"style":268},[5229],{"type":172,"value":694},{"type":166,"tag":249,"props":5231,"children":5232},{"style":262},[5233],{"type":172,"value":4487},{"type":166,"tag":249,"props":5235,"children":5236},{"style":327},[5237],{"type":172,"value":704},{"type":166,"tag":249,"props":5239,"children":5240},{"style":262},[5241],{"type":172,"value":4496},{"type":166,"tag":249,"props":5243,"children":5244},{"style":256},[5245],{"type":172,"value":440},{"type":166,"tag":249,"props":5247,"children":5248},{"style":262},[5249],{"type":172,"value":5250},"elements\n",{"type":166,"tag":249,"props":5252,"children":5253},{"class":251,"line":784},[5254,5258,5262,5266,5270,5275,5279,5283,5287,5291],{"type":166,"tag":249,"props":5255,"children":5256},{"style":730},[5257],{"type":172,"value":1644},{"type":166,"tag":249,"props":5259,"children":5260},{"style":720},[5261],{"type":172,"value":265},{"type":166,"tag":249,"props":5263,"children":5264},{"style":327},[5265],{"type":172,"value":330},{"type":166,"tag":249,"props":5267,"children":5268},{"style":262},[5269],{"type":172,"value":4487},{"type":166,"tag":249,"props":5271,"children":5272},{"style":327},[5273],{"type":172,"value":5274}," !=",{"type":166,"tag":249,"props":5276,"children":5277},{"style":343},[5278],{"type":172,"value":606},{"type":166,"tag":249,"props":5280,"children":5281},{"style":349},[5282],{"type":172,"value":4538},{"type":166,"tag":249,"props":5284,"children":5285},{"style":343},[5286],{"type":172,"value":455},{"type":166,"tag":249,"props":5288,"children":5289},{"style":720},[5290],{"type":172,"value":296},{"type":166,"tag":249,"props":5292,"children":5293},{"style":256},[5294],{"type":172,"value":1405},{"type":166,"tag":249,"props":5296,"children":5297},{"class":251,"line":824},[5298,5303,5307,5311,5315,5319,5323,5327,5331],{"type":166,"tag":249,"props":5299,"children":5300},{"style":262},[5301],{"type":172,"value":5302},"        elements",{"type":166,"tag":249,"props":5304,"children":5305},{"style":327},[5306],{"type":172,"value":704},{"type":166,"tag":249,"props":5308,"children":5309},{"style":262},[5310],{"type":172,"value":4487},{"type":166,"tag":249,"props":5312,"children":5313},{"style":256},[5314],{"type":172,"value":440},{"type":166,"tag":249,"props":5316,"children":5317},{"style":443},[5318],{"type":172,"value":2798},{"type":166,"tag":249,"props":5320,"children":5321},{"style":720},[5322],{"type":172,"value":265},{"type":166,"tag":249,"props":5324,"children":5325},{"style":343},[5326],{"type":172,"value":455},{"type":166,"tag":249,"props":5328,"children":5329},{"style":343},[5330],{"type":172,"value":606},{"type":166,"tag":249,"props":5332,"children":5333},{"style":720},[5334],{"type":172,"value":468},{"type":166,"tag":249,"props":5336,"children":5337},{"class":251,"line":860},[5338],{"type":166,"tag":249,"props":5339,"children":5340},{"style":256},[5341],{"type":172,"value":1457},{"type":166,"tag":249,"props":5343,"children":5344},{"class":251,"line":869},[5345,5349,5353,5357,5362,5366,5370,5374,5378,5382],{"type":166,"tag":249,"props":5346,"children":5347},{"style":730},[5348],{"type":172,"value":1644},{"type":166,"tag":249,"props":5350,"children":5351},{"style":720},[5352],{"type":172,"value":265},{"type":166,"tag":249,"props":5354,"children":5355},{"style":327},[5356],{"type":172,"value":330},{"type":166,"tag":249,"props":5358,"children":5359},{"style":262},[5360],{"type":172,"value":5361}," newElements",{"type":166,"tag":249,"props":5363,"children":5364},{"style":327},[5365],{"type":172,"value":5274},{"type":166,"tag":249,"props":5367,"children":5368},{"style":343},[5369],{"type":172,"value":606},{"type":166,"tag":249,"props":5371,"children":5372},{"style":349},[5373],{"type":172,"value":4538},{"type":166,"tag":249,"props":5375,"children":5376},{"style":343},[5377],{"type":172,"value":455},{"type":166,"tag":249,"props":5379,"children":5380},{"style":720},[5381],{"type":172,"value":296},{"type":166,"tag":249,"props":5383,"children":5384},{"style":256},[5385],{"type":172,"value":1405},{"type":166,"tag":249,"props":5387,"children":5388},{"class":251,"line":1138},[5389,5394,5398,5402,5406,5410,5414,5418,5422],{"type":166,"tag":249,"props":5390,"children":5391},{"style":262},[5392],{"type":172,"value":5393},"        newElements",{"type":166,"tag":249,"props":5395,"children":5396},{"style":327},[5397],{"type":172,"value":704},{"type":166,"tag":249,"props":5399,"children":5400},{"style":262},[5401],{"type":172,"value":5361},{"type":166,"tag":249,"props":5403,"children":5404},{"style":256},[5405],{"type":172,"value":440},{"type":166,"tag":249,"props":5407,"children":5408},{"style":443},[5409],{"type":172,"value":2798},{"type":166,"tag":249,"props":5411,"children":5412},{"style":720},[5413],{"type":172,"value":265},{"type":166,"tag":249,"props":5415,"children":5416},{"style":343},[5417],{"type":172,"value":455},{"type":166,"tag":249,"props":5419,"children":5420},{"style":343},[5421],{"type":172,"value":606},{"type":166,"tag":249,"props":5423,"children":5424},{"style":720},[5425],{"type":172,"value":468},{"type":166,"tag":249,"props":5427,"children":5428},{"class":251,"line":1147},[5429],{"type":166,"tag":249,"props":5430,"children":5431},{"style":256},[5432],{"type":172,"value":1457},{"type":166,"tag":249,"props":5434,"children":5435},{"class":251,"line":1190},[5436,5441,5445,5449,5453,5457,5461,5465,5469,5473],{"type":166,"tag":249,"props":5437,"children":5438},{"style":262},[5439],{"type":172,"value":5440},"    html5",{"type":166,"tag":249,"props":5442,"children":5443},{"style":256},[5444],{"type":172,"value":440},{"type":166,"tag":249,"props":5446,"children":5447},{"style":262},[5448],{"type":172,"value":4505},{"type":166,"tag":249,"props":5450,"children":5451},{"style":327},[5452],{"type":172,"value":704},{"type":166,"tag":249,"props":5454,"children":5455},{"style":262},[5456],{"type":172,"value":4487},{"type":166,"tag":249,"props":5458,"children":5459},{"style":327},[5460],{"type":172,"value":2966},{"type":166,"tag":249,"props":5462,"children":5463},{"style":343},[5464],{"type":172,"value":455},{"type":166,"tag":249,"props":5466,"children":5467},{"style":343},[5468],{"type":172,"value":606},{"type":166,"tag":249,"props":5470,"children":5471},{"style":327},[5472],{"type":172,"value":2841},{"type":166,"tag":249,"props":5474,"children":5475},{"style":262},[5476],{"type":172,"value":5477}," newElements\n",{"type":166,"tag":249,"props":5479,"children":5480},{"class":251,"line":1223},[5481],{"type":166,"tag":249,"props":5482,"children":5483},{"emptyLinePlaceholder":159},[5484],{"type":172,"value":1067},{"type":166,"tag":249,"props":5486,"children":5487},{"class":251,"line":1236},[5488],{"type":166,"tag":249,"props":5489,"children":5490},{"style":308},[5491],{"type":172,"value":5492},"    // 每次增加元素的最后，会进行一次 shiv\n",{"type":166,"tag":249,"props":5494,"children":5495},{"class":251,"line":1277},[5496,5501,5505,5509],{"type":166,"tag":249,"props":5497,"children":5498},{"style":443},[5499],{"type":172,"value":5500},"    shivDocument",{"type":166,"tag":249,"props":5502,"children":5503},{"style":720},[5504],{"type":172,"value":265},{"type":166,"tag":249,"props":5506,"children":5507},{"style":262},[5508],{"type":172,"value":1584},{"type":166,"tag":249,"props":5510,"children":5511},{"style":720},[5512],{"type":172,"value":468},{"type":166,"tag":249,"props":5514,"children":5515},{"class":251,"line":1317},[5516],{"type":166,"tag":249,"props":5517,"children":5518},{"style":256},[5519],{"type":172,"value":4595},{"type":166,"tag":174,"props":5521,"children":5523},{"id":5522},"阅读更多",[5524],{"type":172,"value":5522},{"type":166,"tag":180,"props":5526,"children":5527},{},[5528],{"type":172,"value":5529},"害，看 html5shiv 并不能带来什么具体的帮助。看完之后，只感觉上一代前端真是太辛苦了，为 IE 操碎了心。现代前端技术随着打包工具的发展开阔了不止一点，兼容性这个曾经的代码重心已经悄然落下帷幕。如果现在我去哪家公司面试，还会被大面积问到兼容性问题，那估计我会当场“quit”吧。",{"type":166,"tag":5531,"props":5532,"children":5535},"section",{"className":5533,"dataFootnotes":160},[5534],"footnotes",[5536,5543],{"type":166,"tag":174,"props":5537,"children":5540},{"className":5538,"id":194},[5539],"sr-only",[5541],{"type":172,"value":5542},"Footnotes",{"type":166,"tag":5544,"props":5545,"children":5546},"ol",{},[5547,5570],{"type":166,"tag":211,"props":5548,"children":5550},{"id":5549},"user-content-fn-html5shiv",[5551,5559,5561],{"type":166,"tag":190,"props":5552,"children":5556},{"href":5553,"rel":5554},"https://github.com/aFarkas/html5shiv",[5555],"nofollow",[5557],{"type":172,"value":5558},"html5shiv",{"type":172,"value":5560}," ",{"type":166,"tag":190,"props":5562,"children":5567},{"href":5563,"ariaLabel":5564,"className":5565,"dataFootnoteBackref":160},"#user-content-fnref-html5shiv","Back to reference 1",[5566],"data-footnote-backref",[5568],{"type":172,"value":5569},"↩",{"type":166,"tag":211,"props":5571,"children":5573},{"id":5572},"user-content-fn-hidden",[5574,5581,5582],{"type":166,"tag":190,"props":5575,"children":5578},{"href":5576,"rel":5577},"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/hidden",[5555],[5579],{"type":172,"value":5580},"HTMLElement.hidden@MDN",{"type":172,"value":5560},{"type":166,"tag":190,"props":5583,"children":5587},{"href":5584,"ariaLabel":5585,"className":5586,"dataFootnoteBackref":160},"#user-content-fnref-hidden","Back to reference 2",[5566],[5588],{"type":172,"value":5569},{"type":166,"tag":5590,"props":5591,"children":5592},"style",{},[5593],{"type":172,"value":5594},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":160,"searchDepth":304,"depth":304,"links":5596},[5597,5598,5604,5605],{"id":176,"depth":304,"text":176},{"id":223,"depth":304,"text":223,"children":5599},[5600,5601,5602,5603],{"id":229,"depth":314,"text":229},{"id":399,"depth":314,"text":399},{"id":1472,"depth":314,"text":1472},{"id":4701,"depth":314,"text":4701},{"id":5522,"depth":304,"text":5522},{"id":194,"depth":304,"text":5542},"markdown","content:8.source-code:_module:html5shiv.md","content","8.source-code/_module/html5shiv.md","8.source-code/_module/html5shiv","md",[5613,5616],{"_path":5614,"title":5615,"description":160},"/source-code/_module/fast-deep-equal","判断两个变量相等",{"_path":5617,"title":5618,"description":5619},"/source-code/_module/is-online","判断 NodeJS 是否在线","之前被组长问道要如何判断 NodeJS 是否在线，我不假思索回答：“Ping 百度试试。”。调用 Ping 需要 child_process，那还不如直接改用内置的 DNS 试试是否在线更简单一些。不过会不会碰到缓存等问题，没往下细想了。今天正好在别人的博客看到了 NodeJS DNS 模块，突然想起这个问题，于是就搜了一下相关库。找到了 internet-available 这个玩意儿。这里一起来看看他们的实现。",1742745259903]