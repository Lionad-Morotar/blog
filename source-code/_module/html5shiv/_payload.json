[{"data":1,"prerenderedAt":5623},["ShallowReactive",2],{"navigation":3,"/source-code/_module/html5shiv":158,"/source-code/_module/html5shiv-surround":5615},[4,35,89,95,122,128,152],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🌪️ tailwind4 如何兼容预处理器","/articles/tailwind4-with-sass",{"title":45,"_path":46},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":48,"_path":49},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":51,"_path":52},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":54,"_path":55},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":57,"_path":58},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":60,"_path":61},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":63,"_path":64},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":66,"_path":67},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":69,"_path":70},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":72,"_path":73},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":75,"_path":76},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":78,"_path":79},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":81,"_path":82},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":84,"_path":85},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":87,"_path":88},"📝 技术博客归档","/articles/archive",{"title":90,"_path":91,"children":92},"读书笔记 / Notes","/books",[93],{"title":94,"_path":91},"📕 读书笔记",{"title":96,"_path":97,"children":98},"吉他剧场 / Music","/music",[99,101,104,107,110,113,116,119],{"title":100,"_path":97},"🎸 FingerStyle！",{"title":102,"_path":103},"🌬️ 等待的风","/music/wind",{"title":105,"_path":106},"💕 约定的海洋","/music/ocean",{"title":108,"_path":109},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":111,"_path":112},"🌏 残酷天使的行动纲领","/music/eva",{"title":114,"_path":115},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":117,"_path":118},"🍷 Wu Wei","/music/wu-wei",{"title":120,"_path":121},"🌅 无题","/music/untitled",{"title":123,"_path":124,"children":125},"知识地图 / Maps","/maps",[126],{"title":127,"_path":124},"🏁 知识地图",{"title":129,"_path":130,"children":131},"造物 / Make","/tools",[132,134,137,140,143,146,149],{"title":133,"_path":130},"🧰 工具收集",{"title":135,"_path":136},"📕 博客","/tools/blog",{"title":138,"_path":139},"🥥 Coconut","/tools/coconut",{"title":141,"_path":142},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":144,"_path":145},"🌐 AnySort","/tools/anysort",{"title":147,"_path":148},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":150,"_path":151},"👓 Crapto","/tools/crypto-inline",{"title":153,"_path":154,"children":155},"我 / About","/hire",[156],{"title":157,"_path":154},"📬 技术简历",{"_path":159,"_dir":160,"_draft":161,"_partial":162,"_locale":163,"title":164,"description":163,"body":165,"_type":5609,"_id":5610,"_source":5611,"_file":5612,"_stem":5613,"_extension":5614},"/source-code/_module/html5shiv","_module",false,true,"","🛠 低版本浏览器兼容HTML5标签原理",{"type":166,"children":167,"toc":5598},"root",[168,176,182,204,209,224,229,235,240,395,400,405,410,415,512,530,535,883,888,1473,1478,1483,1488,1785,1790,2209,2214,3088,3093,3199,3204,3321,3326,4051,4056,4432,4437,4702,4707,4712,5045,5050,5523,5528,5533,5592],{"type":169,"tag":170,"props":171,"children":173},"element","h1",{"id":172},"低版本浏览器兼容html5标签原理",[174],{"type":175,"value":164},"text",{"type":169,"tag":177,"props":178,"children":180},"h2",{"id":179},"长话短说",[181],{"type":175,"value":179},{"type":169,"tag":183,"props":184,"children":185},"p",{},[186,188,202],{"type":175,"value":187},"最近在复习 HTML 相关内容呢，不知不觉想起以前在实习公司用过的 html5shiv 这个玩意儿。html5shiv 能使 IE6/7/8 等浏览器支持 HTML5 的新标签",{"type":169,"tag":189,"props":190,"children":191},"sup",{},[192],{"type":169,"tag":193,"props":194,"children":199},"a",{"href":195,"ariaDescribedBy":196,"dataFootnoteRef":163,"id":198},"#user-content-fn-html5shiv",[197],"footnote-label","user-content-fnref-html5shiv",[200],{"type":175,"value":201},"1",{"type":175,"value":203},"。这里我初略扫了一眼它的原理。",{"type":169,"tag":183,"props":205,"children":206},{},[207],{"type":175,"value":208},"它主要做了以下两件事情：",{"type":169,"tag":210,"props":211,"children":212},"ul",{},[213,219],{"type":169,"tag":214,"props":215,"children":216},"li",{},[217],{"type":175,"value":218},"用高阶函数增强浏览器原生的 createElement 等 API。需要创建新标签时，使用已缓存的元素克隆并返还一个新元素，或回退至调用原生 API 创建 H5 新元素。这个增强是基于 document.createElement 能创建非标准元素这个特性实现的。",{"type":169,"tag":214,"props":220,"children":221},{},[222],{"type":175,"value":223},"给新标签增加相应的默认样式。",{"type":169,"tag":177,"props":225,"children":227},{"id":226},"具体实现",[228],{"type":175,"value":226},{"type":169,"tag":230,"props":231,"children":233},"h3",{"id":232},"代码结构",[234],{"type":175,"value":232},{"type":169,"tag":183,"props":236,"children":237},{},[238],{"type":175,"value":239},"整个代码被包裹在 IIFE 中。像 jQuery 一样，把 window 对象传了进来。",{"type":169,"tag":241,"props":242,"children":246},"pre",{"className":243,"code":244,"language":245,"meta":163,"style":163},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",";(function(window, document) {\n    // rest of code\n}(typeof window !== \"undefined\" ? window : this, document));\n","js",[247],{"type":169,"tag":248,"props":249,"children":250},"code",{"__ignoreMap":163},[251,305,315],{"type":169,"tag":252,"props":253,"children":256},"span",{"class":254,"line":255},"line",1,[257,263,269,275,279,285,290,295,300],{"type":169,"tag":252,"props":258,"children":260},{"style":259},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[261],{"type":175,"value":262},";",{"type":169,"tag":252,"props":264,"children":266},{"style":265},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[267],{"type":175,"value":268},"(",{"type":169,"tag":252,"props":270,"children":272},{"style":271},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[273],{"type":175,"value":274},"function",{"type":169,"tag":252,"props":276,"children":277},{"style":259},[278],{"type":175,"value":268},{"type":169,"tag":252,"props":280,"children":282},{"style":281},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[283],{"type":175,"value":284},"window",{"type":169,"tag":252,"props":286,"children":287},{"style":259},[288],{"type":175,"value":289},",",{"type":169,"tag":252,"props":291,"children":292},{"style":281},[293],{"type":175,"value":294}," document",{"type":169,"tag":252,"props":296,"children":297},{"style":259},[298],{"type":175,"value":299},")",{"type":169,"tag":252,"props":301,"children":302},{"style":259},[303],{"type":175,"value":304}," {\n",{"type":169,"tag":252,"props":306,"children":308},{"class":254,"line":307},2,[309],{"type":169,"tag":252,"props":310,"children":312},{"style":311},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[313],{"type":175,"value":314},"    // rest of code\n",{"type":169,"tag":252,"props":316,"children":318},{"class":254,"line":317},3,[319,324,328,334,339,344,350,356,361,366,370,375,381,385,390],{"type":169,"tag":252,"props":320,"children":321},{"style":259},[322],{"type":175,"value":323},"}",{"type":169,"tag":252,"props":325,"children":326},{"style":265},[327],{"type":175,"value":268},{"type":169,"tag":252,"props":329,"children":331},{"style":330},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[332],{"type":175,"value":333},"typeof",{"type":169,"tag":252,"props":335,"children":336},{"style":265},[337],{"type":175,"value":338}," window ",{"type":169,"tag":252,"props":340,"children":341},{"style":330},[342],{"type":175,"value":343},"!==",{"type":169,"tag":252,"props":345,"children":347},{"style":346},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[348],{"type":175,"value":349}," \"",{"type":169,"tag":252,"props":351,"children":353},{"style":352},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[354],{"type":175,"value":355},"undefined",{"type":169,"tag":252,"props":357,"children":358},{"style":346},[359],{"type":175,"value":360},"\"",{"type":169,"tag":252,"props":362,"children":363},{"style":330},[364],{"type":175,"value":365}," ?",{"type":169,"tag":252,"props":367,"children":368},{"style":265},[369],{"type":175,"value":338},{"type":169,"tag":252,"props":371,"children":372},{"style":330},[373],{"type":175,"value":374},":",{"type":169,"tag":252,"props":376,"children":378},{"style":377},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[379],{"type":175,"value":380}," this",{"type":169,"tag":252,"props":382,"children":383},{"style":259},[384],{"type":175,"value":289},{"type":169,"tag":252,"props":386,"children":387},{"style":265},[388],{"type":175,"value":389}," document))",{"type":169,"tag":252,"props":391,"children":392},{"style":259},[393],{"type":175,"value":394},";\n",{"type":169,"tag":183,"props":396,"children":397},{},[398],{"type":175,"value":399},"一个很经典的模块模式，没什么好拓展的，我们继续...",{"type":169,"tag":230,"props":401,"children":403},{"id":402},"兼容性检测",[404],{"type":175,"value":402},{"type":169,"tag":183,"props":406,"children":407},{},[408],{"type":175,"value":409},"以下代码检测当前浏览器对 HTML5 的支持程度。",{"type":169,"tag":183,"props":411,"children":412},{},[413],{"type":175,"value":414},"通过检测元素对 hidden 属性的支持程度，检测浏览器对 HTML5 样式支持的水平。",{"type":169,"tag":241,"props":416,"children":418},{"className":243,"code":417,"language":245,"meta":163,"style":163},"a = document.createElement('a')\nsupportsHtml5Styles = ('hidden' in a)\n",[419],{"type":169,"tag":248,"props":420,"children":421},{"__ignoreMap":163},[422,472],{"type":169,"tag":252,"props":423,"children":424},{"class":254,"line":255},[425,430,435,439,444,450,454,459,463,467],{"type":169,"tag":252,"props":426,"children":427},{"style":265},[428],{"type":175,"value":429},"a ",{"type":169,"tag":252,"props":431,"children":432},{"style":330},[433],{"type":175,"value":434},"=",{"type":169,"tag":252,"props":436,"children":437},{"style":265},[438],{"type":175,"value":294},{"type":169,"tag":252,"props":440,"children":441},{"style":259},[442],{"type":175,"value":443},".",{"type":169,"tag":252,"props":445,"children":447},{"style":446},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[448],{"type":175,"value":449},"createElement",{"type":169,"tag":252,"props":451,"children":452},{"style":265},[453],{"type":175,"value":268},{"type":169,"tag":252,"props":455,"children":456},{"style":346},[457],{"type":175,"value":458},"'",{"type":169,"tag":252,"props":460,"children":461},{"style":352},[462],{"type":175,"value":193},{"type":169,"tag":252,"props":464,"children":465},{"style":346},[466],{"type":175,"value":458},{"type":169,"tag":252,"props":468,"children":469},{"style":265},[470],{"type":175,"value":471},")\n",{"type":169,"tag":252,"props":473,"children":474},{"class":254,"line":307},[475,480,484,489,493,498,502,507],{"type":169,"tag":252,"props":476,"children":477},{"style":265},[478],{"type":175,"value":479},"supportsHtml5Styles ",{"type":169,"tag":252,"props":481,"children":482},{"style":330},[483],{"type":175,"value":434},{"type":169,"tag":252,"props":485,"children":486},{"style":265},[487],{"type":175,"value":488}," (",{"type":169,"tag":252,"props":490,"children":491},{"style":346},[492],{"type":175,"value":458},{"type":169,"tag":252,"props":494,"children":495},{"style":352},[496],{"type":175,"value":497},"hidden",{"type":169,"tag":252,"props":499,"children":500},{"style":346},[501],{"type":175,"value":458},{"type":169,"tag":252,"props":503,"children":504},{"style":330},[505],{"type":175,"value":506}," in",{"type":169,"tag":252,"props":508,"children":509},{"style":265},[510],{"type":175,"value":511}," a)\n",{"type":169,"tag":183,"props":513,"children":514},{},[515,517,528],{"type":175,"value":516},"以前没听过 HTMLElement.hidden，项目里的隐藏元素都是直接上 CSS 做的。不过据 MDN 表示，除了隐藏元素之外，hidden 属性还能用于创造离屏 Canvas",{"type":169,"tag":189,"props":518,"children":519},{},[520],{"type":169,"tag":193,"props":521,"children":525},{"href":522,"ariaDescribedBy":523,"dataFootnoteRef":163,"id":524},"#user-content-fn-hidden",[197],"user-content-fnref-hidden",[526],{"type":175,"value":527},"2",{"type":175,"value":529},"。",{"type":169,"tag":183,"props":531,"children":532},{},[533],{"type":175,"value":534},"这段代码用于测试浏览器是否支持未知元素的创建。",{"type":169,"tag":241,"props":536,"children":538},{"className":243,"code":537,"language":245,"meta":163,"style":163},"a = document.createElement('a')\na.innerHTML = '\u003Cxyz>\u003C/xyz>'\nsupportsUnknownElements = a.childNodes.length == 1 || (function() {\n    var frag = document.createDocumentFragment()\n    return (\n    typeof frag.cloneNode == 'undefined' ||\n    typeof frag.createDocumentFragment == 'undefined' ||\n    typeof frag.createElement == 'undefined'\n    )\n}())\n",[539],{"type":169,"tag":248,"props":540,"children":541},{"__ignoreMap":163},[542,585,620,689,727,742,785,825,861,870],{"type":169,"tag":252,"props":543,"children":544},{"class":254,"line":255},[545,549,553,557,561,565,569,573,577,581],{"type":169,"tag":252,"props":546,"children":547},{"style":265},[548],{"type":175,"value":429},{"type":169,"tag":252,"props":550,"children":551},{"style":330},[552],{"type":175,"value":434},{"type":169,"tag":252,"props":554,"children":555},{"style":265},[556],{"type":175,"value":294},{"type":169,"tag":252,"props":558,"children":559},{"style":259},[560],{"type":175,"value":443},{"type":169,"tag":252,"props":562,"children":563},{"style":446},[564],{"type":175,"value":449},{"type":169,"tag":252,"props":566,"children":567},{"style":265},[568],{"type":175,"value":268},{"type":169,"tag":252,"props":570,"children":571},{"style":346},[572],{"type":175,"value":458},{"type":169,"tag":252,"props":574,"children":575},{"style":352},[576],{"type":175,"value":193},{"type":169,"tag":252,"props":578,"children":579},{"style":346},[580],{"type":175,"value":458},{"type":169,"tag":252,"props":582,"children":583},{"style":265},[584],{"type":175,"value":471},{"type":169,"tag":252,"props":586,"children":587},{"class":254,"line":307},[588,592,596,601,605,610,615],{"type":169,"tag":252,"props":589,"children":590},{"style":265},[591],{"type":175,"value":193},{"type":169,"tag":252,"props":593,"children":594},{"style":259},[595],{"type":175,"value":443},{"type":169,"tag":252,"props":597,"children":598},{"style":265},[599],{"type":175,"value":600},"innerHTML ",{"type":169,"tag":252,"props":602,"children":603},{"style":330},[604],{"type":175,"value":434},{"type":169,"tag":252,"props":606,"children":607},{"style":346},[608],{"type":175,"value":609}," '",{"type":169,"tag":252,"props":611,"children":612},{"style":352},[613],{"type":175,"value":614},"\u003Cxyz>\u003C/xyz>",{"type":169,"tag":252,"props":616,"children":617},{"style":346},[618],{"type":175,"value":619},"'\n",{"type":169,"tag":252,"props":621,"children":622},{"class":254,"line":317},[623,628,632,637,641,646,650,656,661,667,672,676,680,685],{"type":169,"tag":252,"props":624,"children":625},{"style":265},[626],{"type":175,"value":627},"supportsUnknownElements ",{"type":169,"tag":252,"props":629,"children":630},{"style":330},[631],{"type":175,"value":434},{"type":169,"tag":252,"props":633,"children":634},{"style":265},[635],{"type":175,"value":636}," a",{"type":169,"tag":252,"props":638,"children":639},{"style":259},[640],{"type":175,"value":443},{"type":169,"tag":252,"props":642,"children":643},{"style":265},[644],{"type":175,"value":645},"childNodes",{"type":169,"tag":252,"props":647,"children":648},{"style":259},[649],{"type":175,"value":443},{"type":169,"tag":252,"props":651,"children":653},{"style":652},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[654],{"type":175,"value":655},"length",{"type":169,"tag":252,"props":657,"children":658},{"style":330},[659],{"type":175,"value":660}," ==",{"type":169,"tag":252,"props":662,"children":664},{"style":663},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[665],{"type":175,"value":666}," 1",{"type":169,"tag":252,"props":668,"children":669},{"style":330},[670],{"type":175,"value":671}," ||",{"type":169,"tag":252,"props":673,"children":674},{"style":265},[675],{"type":175,"value":488},{"type":169,"tag":252,"props":677,"children":678},{"style":271},[679],{"type":175,"value":274},{"type":169,"tag":252,"props":681,"children":682},{"style":259},[683],{"type":175,"value":684},"()",{"type":169,"tag":252,"props":686,"children":687},{"style":259},[688],{"type":175,"value":304},{"type":169,"tag":252,"props":690,"children":692},{"class":254,"line":691},4,[693,698,703,708,712,716,721],{"type":169,"tag":252,"props":694,"children":695},{"style":271},[696],{"type":175,"value":697},"    var",{"type":169,"tag":252,"props":699,"children":700},{"style":265},[701],{"type":175,"value":702}," frag",{"type":169,"tag":252,"props":704,"children":705},{"style":330},[706],{"type":175,"value":707}," =",{"type":169,"tag":252,"props":709,"children":710},{"style":265},[711],{"type":175,"value":294},{"type":169,"tag":252,"props":713,"children":714},{"style":259},[715],{"type":175,"value":443},{"type":169,"tag":252,"props":717,"children":718},{"style":446},[719],{"type":175,"value":720},"createDocumentFragment",{"type":169,"tag":252,"props":722,"children":724},{"style":723},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[725],{"type":175,"value":726},"()\n",{"type":169,"tag":252,"props":728,"children":730},{"class":254,"line":729},5,[731,737],{"type":169,"tag":252,"props":732,"children":734},{"style":733},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[735],{"type":175,"value":736},"    return",{"type":169,"tag":252,"props":738,"children":739},{"style":723},[740],{"type":175,"value":741}," (\n",{"type":169,"tag":252,"props":743,"children":745},{"class":254,"line":744},6,[746,751,755,759,764,768,772,776,780],{"type":169,"tag":252,"props":747,"children":748},{"style":330},[749],{"type":175,"value":750},"    typeof",{"type":169,"tag":252,"props":752,"children":753},{"style":265},[754],{"type":175,"value":702},{"type":169,"tag":252,"props":756,"children":757},{"style":259},[758],{"type":175,"value":443},{"type":169,"tag":252,"props":760,"children":761},{"style":265},[762],{"type":175,"value":763},"cloneNode",{"type":169,"tag":252,"props":765,"children":766},{"style":330},[767],{"type":175,"value":660},{"type":169,"tag":252,"props":769,"children":770},{"style":346},[771],{"type":175,"value":609},{"type":169,"tag":252,"props":773,"children":774},{"style":352},[775],{"type":175,"value":355},{"type":169,"tag":252,"props":777,"children":778},{"style":346},[779],{"type":175,"value":458},{"type":169,"tag":252,"props":781,"children":782},{"style":330},[783],{"type":175,"value":784}," ||\n",{"type":169,"tag":252,"props":786,"children":788},{"class":254,"line":787},7,[789,793,797,801,805,809,813,817,821],{"type":169,"tag":252,"props":790,"children":791},{"style":330},[792],{"type":175,"value":750},{"type":169,"tag":252,"props":794,"children":795},{"style":265},[796],{"type":175,"value":702},{"type":169,"tag":252,"props":798,"children":799},{"style":259},[800],{"type":175,"value":443},{"type":169,"tag":252,"props":802,"children":803},{"style":265},[804],{"type":175,"value":720},{"type":169,"tag":252,"props":806,"children":807},{"style":330},[808],{"type":175,"value":660},{"type":169,"tag":252,"props":810,"children":811},{"style":346},[812],{"type":175,"value":609},{"type":169,"tag":252,"props":814,"children":815},{"style":352},[816],{"type":175,"value":355},{"type":169,"tag":252,"props":818,"children":819},{"style":346},[820],{"type":175,"value":458},{"type":169,"tag":252,"props":822,"children":823},{"style":330},[824],{"type":175,"value":784},{"type":169,"tag":252,"props":826,"children":828},{"class":254,"line":827},8,[829,833,837,841,845,849,853,857],{"type":169,"tag":252,"props":830,"children":831},{"style":330},[832],{"type":175,"value":750},{"type":169,"tag":252,"props":834,"children":835},{"style":265},[836],{"type":175,"value":702},{"type":169,"tag":252,"props":838,"children":839},{"style":259},[840],{"type":175,"value":443},{"type":169,"tag":252,"props":842,"children":843},{"style":265},[844],{"type":175,"value":449},{"type":169,"tag":252,"props":846,"children":847},{"style":330},[848],{"type":175,"value":660},{"type":169,"tag":252,"props":850,"children":851},{"style":346},[852],{"type":175,"value":609},{"type":169,"tag":252,"props":854,"children":855},{"style":352},[856],{"type":175,"value":355},{"type":169,"tag":252,"props":858,"children":859},{"style":346},[860],{"type":175,"value":619},{"type":169,"tag":252,"props":862,"children":864},{"class":254,"line":863},9,[865],{"type":169,"tag":252,"props":866,"children":867},{"style":723},[868],{"type":175,"value":869},"    )\n",{"type":169,"tag":252,"props":871,"children":873},{"class":254,"line":872},10,[874,878],{"type":169,"tag":252,"props":875,"children":876},{"style":259},[877],{"type":175,"value":323},{"type":169,"tag":252,"props":879,"children":880},{"style":265},[881],{"type":175,"value":882},"())\n",{"type":169,"tag":183,"props":884,"children":885},{},[886],{"type":175,"value":887},"如果连 document.createElement 都调用失败的话，那 html5shiv 代码就毫无作用了（html5shiv 的原理需要用到 document.createElement），所以用一个 try/catch 将上述两个功能包裹起来。遇到错误则假装浏览器正常支持 HTML5，相关检测变量被置为 true。",{"type":169,"tag":241,"props":889,"children":891},{"className":243,"code":890,"language":245,"meta":163,"style":163},"(function() {\n    try {\n        var a = document.createElement('a')\n        a.innerHTML = '\u003Cxyz>\u003C/xyz>'\n        //if the hidden property is implemented we can assume, \n        // that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a)\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n            // assign a false positive if unable to shiv\n            // ? 猜测特定浏览器对这种括号调用方法会报错\n            (document.createElement)('a')\n            var frag = document.createDocumentFragment()\n            return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n            )\n        }())\n    } catch(e) {\n        // assign a false positive if detection fails => unable to shiv\n        supportsHtml5Styles = true\n        supportsUnknownElements = true\n    }\n}())\n",[892],{"type":169,"tag":248,"props":893,"children":894},{"__ignoreMap":163},[895,914,926,974,1007,1015,1023,1063,1071,1131,1139,1148,1191,1224,1237,1278,1318,1354,1363,1376,1409,1418,1436,1452,1461],{"type":169,"tag":252,"props":896,"children":897},{"class":254,"line":255},[898,902,906,910],{"type":169,"tag":252,"props":899,"children":900},{"style":265},[901],{"type":175,"value":268},{"type":169,"tag":252,"props":903,"children":904},{"style":271},[905],{"type":175,"value":274},{"type":169,"tag":252,"props":907,"children":908},{"style":259},[909],{"type":175,"value":684},{"type":169,"tag":252,"props":911,"children":912},{"style":259},[913],{"type":175,"value":304},{"type":169,"tag":252,"props":915,"children":916},{"class":254,"line":307},[917,922],{"type":169,"tag":252,"props":918,"children":919},{"style":733},[920],{"type":175,"value":921},"    try",{"type":169,"tag":252,"props":923,"children":924},{"style":259},[925],{"type":175,"value":304},{"type":169,"tag":252,"props":927,"children":928},{"class":254,"line":317},[929,934,938,942,946,950,954,958,962,966,970],{"type":169,"tag":252,"props":930,"children":931},{"style":271},[932],{"type":175,"value":933},"        var",{"type":169,"tag":252,"props":935,"children":936},{"style":265},[937],{"type":175,"value":636},{"type":169,"tag":252,"props":939,"children":940},{"style":330},[941],{"type":175,"value":707},{"type":169,"tag":252,"props":943,"children":944},{"style":265},[945],{"type":175,"value":294},{"type":169,"tag":252,"props":947,"children":948},{"style":259},[949],{"type":175,"value":443},{"type":169,"tag":252,"props":951,"children":952},{"style":446},[953],{"type":175,"value":449},{"type":169,"tag":252,"props":955,"children":956},{"style":723},[957],{"type":175,"value":268},{"type":169,"tag":252,"props":959,"children":960},{"style":346},[961],{"type":175,"value":458},{"type":169,"tag":252,"props":963,"children":964},{"style":352},[965],{"type":175,"value":193},{"type":169,"tag":252,"props":967,"children":968},{"style":346},[969],{"type":175,"value":458},{"type":169,"tag":252,"props":971,"children":972},{"style":723},[973],{"type":175,"value":471},{"type":169,"tag":252,"props":975,"children":976},{"class":254,"line":691},[977,982,986,991,995,999,1003],{"type":169,"tag":252,"props":978,"children":979},{"style":265},[980],{"type":175,"value":981},"        a",{"type":169,"tag":252,"props":983,"children":984},{"style":259},[985],{"type":175,"value":443},{"type":169,"tag":252,"props":987,"children":988},{"style":265},[989],{"type":175,"value":990},"innerHTML",{"type":169,"tag":252,"props":992,"children":993},{"style":330},[994],{"type":175,"value":707},{"type":169,"tag":252,"props":996,"children":997},{"style":346},[998],{"type":175,"value":609},{"type":169,"tag":252,"props":1000,"children":1001},{"style":352},[1002],{"type":175,"value":614},{"type":169,"tag":252,"props":1004,"children":1005},{"style":346},[1006],{"type":175,"value":619},{"type":169,"tag":252,"props":1008,"children":1009},{"class":254,"line":729},[1010],{"type":169,"tag":252,"props":1011,"children":1012},{"style":311},[1013],{"type":175,"value":1014},"        //if the hidden property is implemented we can assume, \n",{"type":169,"tag":252,"props":1016,"children":1017},{"class":254,"line":744},[1018],{"type":169,"tag":252,"props":1019,"children":1020},{"style":311},[1021],{"type":175,"value":1022},"        // that the browser supports basic HTML5 Styles\n",{"type":169,"tag":252,"props":1024,"children":1025},{"class":254,"line":787},[1026,1031,1035,1039,1043,1047,1051,1055,1059],{"type":169,"tag":252,"props":1027,"children":1028},{"style":265},[1029],{"type":175,"value":1030},"        supportsHtml5Styles",{"type":169,"tag":252,"props":1032,"children":1033},{"style":330},[1034],{"type":175,"value":707},{"type":169,"tag":252,"props":1036,"children":1037},{"style":723},[1038],{"type":175,"value":488},{"type":169,"tag":252,"props":1040,"children":1041},{"style":346},[1042],{"type":175,"value":458},{"type":169,"tag":252,"props":1044,"children":1045},{"style":352},[1046],{"type":175,"value":497},{"type":169,"tag":252,"props":1048,"children":1049},{"style":346},[1050],{"type":175,"value":458},{"type":169,"tag":252,"props":1052,"children":1053},{"style":330},[1054],{"type":175,"value":506},{"type":169,"tag":252,"props":1056,"children":1057},{"style":265},[1058],{"type":175,"value":636},{"type":169,"tag":252,"props":1060,"children":1061},{"style":723},[1062],{"type":175,"value":471},{"type":169,"tag":252,"props":1064,"children":1065},{"class":254,"line":827},[1066],{"type":169,"tag":252,"props":1067,"children":1068},{"emptyLinePlaceholder":162},[1069],{"type":175,"value":1070},"\n",{"type":169,"tag":252,"props":1072,"children":1073},{"class":254,"line":863},[1074,1079,1083,1087,1091,1095,1099,1103,1107,1111,1115,1119,1123,1127],{"type":169,"tag":252,"props":1075,"children":1076},{"style":265},[1077],{"type":175,"value":1078},"        supportsUnknownElements",{"type":169,"tag":252,"props":1080,"children":1081},{"style":330},[1082],{"type":175,"value":707},{"type":169,"tag":252,"props":1084,"children":1085},{"style":265},[1086],{"type":175,"value":636},{"type":169,"tag":252,"props":1088,"children":1089},{"style":259},[1090],{"type":175,"value":443},{"type":169,"tag":252,"props":1092,"children":1093},{"style":265},[1094],{"type":175,"value":645},{"type":169,"tag":252,"props":1096,"children":1097},{"style":259},[1098],{"type":175,"value":443},{"type":169,"tag":252,"props":1100,"children":1101},{"style":652},[1102],{"type":175,"value":655},{"type":169,"tag":252,"props":1104,"children":1105},{"style":330},[1106],{"type":175,"value":660},{"type":169,"tag":252,"props":1108,"children":1109},{"style":663},[1110],{"type":175,"value":666},{"type":169,"tag":252,"props":1112,"children":1113},{"style":330},[1114],{"type":175,"value":671},{"type":169,"tag":252,"props":1116,"children":1117},{"style":723},[1118],{"type":175,"value":488},{"type":169,"tag":252,"props":1120,"children":1121},{"style":271},[1122],{"type":175,"value":274},{"type":169,"tag":252,"props":1124,"children":1125},{"style":259},[1126],{"type":175,"value":684},{"type":169,"tag":252,"props":1128,"children":1129},{"style":259},[1130],{"type":175,"value":304},{"type":169,"tag":252,"props":1132,"children":1133},{"class":254,"line":872},[1134],{"type":169,"tag":252,"props":1135,"children":1136},{"style":311},[1137],{"type":175,"value":1138},"            // assign a false positive if unable to shiv\n",{"type":169,"tag":252,"props":1140,"children":1142},{"class":254,"line":1141},11,[1143],{"type":169,"tag":252,"props":1144,"children":1145},{"style":311},[1146],{"type":175,"value":1147},"            // ? 猜测特定浏览器对这种括号调用方法会报错\n",{"type":169,"tag":252,"props":1149,"children":1151},{"class":254,"line":1150},12,[1152,1157,1162,1166,1170,1175,1179,1183,1187],{"type":169,"tag":252,"props":1153,"children":1154},{"style":723},[1155],{"type":175,"value":1156},"            (",{"type":169,"tag":252,"props":1158,"children":1159},{"style":265},[1160],{"type":175,"value":1161},"document",{"type":169,"tag":252,"props":1163,"children":1164},{"style":259},[1165],{"type":175,"value":443},{"type":169,"tag":252,"props":1167,"children":1168},{"style":265},[1169],{"type":175,"value":449},{"type":169,"tag":252,"props":1171,"children":1172},{"style":723},[1173],{"type":175,"value":1174},")(",{"type":169,"tag":252,"props":1176,"children":1177},{"style":346},[1178],{"type":175,"value":458},{"type":169,"tag":252,"props":1180,"children":1181},{"style":352},[1182],{"type":175,"value":193},{"type":169,"tag":252,"props":1184,"children":1185},{"style":346},[1186],{"type":175,"value":458},{"type":169,"tag":252,"props":1188,"children":1189},{"style":723},[1190],{"type":175,"value":471},{"type":169,"tag":252,"props":1192,"children":1194},{"class":254,"line":1193},13,[1195,1200,1204,1208,1212,1216,1220],{"type":169,"tag":252,"props":1196,"children":1197},{"style":271},[1198],{"type":175,"value":1199},"            var",{"type":169,"tag":252,"props":1201,"children":1202},{"style":265},[1203],{"type":175,"value":702},{"type":169,"tag":252,"props":1205,"children":1206},{"style":330},[1207],{"type":175,"value":707},{"type":169,"tag":252,"props":1209,"children":1210},{"style":265},[1211],{"type":175,"value":294},{"type":169,"tag":252,"props":1213,"children":1214},{"style":259},[1215],{"type":175,"value":443},{"type":169,"tag":252,"props":1217,"children":1218},{"style":446},[1219],{"type":175,"value":720},{"type":169,"tag":252,"props":1221,"children":1222},{"style":723},[1223],{"type":175,"value":726},{"type":169,"tag":252,"props":1225,"children":1227},{"class":254,"line":1226},14,[1228,1233],{"type":169,"tag":252,"props":1229,"children":1230},{"style":733},[1231],{"type":175,"value":1232},"            return",{"type":169,"tag":252,"props":1234,"children":1235},{"style":723},[1236],{"type":175,"value":741},{"type":169,"tag":252,"props":1238,"children":1240},{"class":254,"line":1239},15,[1241,1246,1250,1254,1258,1262,1266,1270,1274],{"type":169,"tag":252,"props":1242,"children":1243},{"style":330},[1244],{"type":175,"value":1245},"            typeof",{"type":169,"tag":252,"props":1247,"children":1248},{"style":265},[1249],{"type":175,"value":702},{"type":169,"tag":252,"props":1251,"children":1252},{"style":259},[1253],{"type":175,"value":443},{"type":169,"tag":252,"props":1255,"children":1256},{"style":265},[1257],{"type":175,"value":763},{"type":169,"tag":252,"props":1259,"children":1260},{"style":330},[1261],{"type":175,"value":660},{"type":169,"tag":252,"props":1263,"children":1264},{"style":346},[1265],{"type":175,"value":609},{"type":169,"tag":252,"props":1267,"children":1268},{"style":352},[1269],{"type":175,"value":355},{"type":169,"tag":252,"props":1271,"children":1272},{"style":346},[1273],{"type":175,"value":458},{"type":169,"tag":252,"props":1275,"children":1276},{"style":330},[1277],{"type":175,"value":784},{"type":169,"tag":252,"props":1279,"children":1281},{"class":254,"line":1280},16,[1282,1286,1290,1294,1298,1302,1306,1310,1314],{"type":169,"tag":252,"props":1283,"children":1284},{"style":330},[1285],{"type":175,"value":1245},{"type":169,"tag":252,"props":1287,"children":1288},{"style":265},[1289],{"type":175,"value":702},{"type":169,"tag":252,"props":1291,"children":1292},{"style":259},[1293],{"type":175,"value":443},{"type":169,"tag":252,"props":1295,"children":1296},{"style":265},[1297],{"type":175,"value":720},{"type":169,"tag":252,"props":1299,"children":1300},{"style":330},[1301],{"type":175,"value":660},{"type":169,"tag":252,"props":1303,"children":1304},{"style":346},[1305],{"type":175,"value":609},{"type":169,"tag":252,"props":1307,"children":1308},{"style":352},[1309],{"type":175,"value":355},{"type":169,"tag":252,"props":1311,"children":1312},{"style":346},[1313],{"type":175,"value":458},{"type":169,"tag":252,"props":1315,"children":1316},{"style":330},[1317],{"type":175,"value":784},{"type":169,"tag":252,"props":1319,"children":1321},{"class":254,"line":1320},17,[1322,1326,1330,1334,1338,1342,1346,1350],{"type":169,"tag":252,"props":1323,"children":1324},{"style":330},[1325],{"type":175,"value":1245},{"type":169,"tag":252,"props":1327,"children":1328},{"style":265},[1329],{"type":175,"value":702},{"type":169,"tag":252,"props":1331,"children":1332},{"style":259},[1333],{"type":175,"value":443},{"type":169,"tag":252,"props":1335,"children":1336},{"style":265},[1337],{"type":175,"value":449},{"type":169,"tag":252,"props":1339,"children":1340},{"style":330},[1341],{"type":175,"value":660},{"type":169,"tag":252,"props":1343,"children":1344},{"style":346},[1345],{"type":175,"value":609},{"type":169,"tag":252,"props":1347,"children":1348},{"style":352},[1349],{"type":175,"value":355},{"type":169,"tag":252,"props":1351,"children":1352},{"style":346},[1353],{"type":175,"value":619},{"type":169,"tag":252,"props":1355,"children":1357},{"class":254,"line":1356},18,[1358],{"type":169,"tag":252,"props":1359,"children":1360},{"style":723},[1361],{"type":175,"value":1362},"            )\n",{"type":169,"tag":252,"props":1364,"children":1366},{"class":254,"line":1365},19,[1367,1372],{"type":169,"tag":252,"props":1368,"children":1369},{"style":259},[1370],{"type":175,"value":1371},"        }",{"type":169,"tag":252,"props":1373,"children":1374},{"style":723},[1375],{"type":175,"value":882},{"type":169,"tag":252,"props":1377,"children":1379},{"class":254,"line":1378},20,[1380,1385,1390,1394,1399,1404],{"type":169,"tag":252,"props":1381,"children":1382},{"style":259},[1383],{"type":175,"value":1384},"    }",{"type":169,"tag":252,"props":1386,"children":1387},{"style":733},[1388],{"type":175,"value":1389}," catch",{"type":169,"tag":252,"props":1391,"children":1392},{"style":723},[1393],{"type":175,"value":268},{"type":169,"tag":252,"props":1395,"children":1396},{"style":265},[1397],{"type":175,"value":1398},"e",{"type":169,"tag":252,"props":1400,"children":1401},{"style":723},[1402],{"type":175,"value":1403},") ",{"type":169,"tag":252,"props":1405,"children":1406},{"style":259},[1407],{"type":175,"value":1408},"{\n",{"type":169,"tag":252,"props":1410,"children":1412},{"class":254,"line":1411},21,[1413],{"type":169,"tag":252,"props":1414,"children":1415},{"style":311},[1416],{"type":175,"value":1417},"        // assign a false positive if detection fails => unable to shiv\n",{"type":169,"tag":252,"props":1419,"children":1421},{"class":254,"line":1420},22,[1422,1426,1430],{"type":169,"tag":252,"props":1423,"children":1424},{"style":265},[1425],{"type":175,"value":1030},{"type":169,"tag":252,"props":1427,"children":1428},{"style":330},[1429],{"type":175,"value":707},{"type":169,"tag":252,"props":1431,"children":1433},{"style":1432},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1434],{"type":175,"value":1435}," true\n",{"type":169,"tag":252,"props":1437,"children":1439},{"class":254,"line":1438},23,[1440,1444,1448],{"type":169,"tag":252,"props":1441,"children":1442},{"style":265},[1443],{"type":175,"value":1078},{"type":169,"tag":252,"props":1445,"children":1446},{"style":330},[1447],{"type":175,"value":707},{"type":169,"tag":252,"props":1449,"children":1450},{"style":1432},[1451],{"type":175,"value":1435},{"type":169,"tag":252,"props":1453,"children":1455},{"class":254,"line":1454},24,[1456],{"type":169,"tag":252,"props":1457,"children":1458},{"style":259},[1459],{"type":175,"value":1460},"    }\n",{"type":169,"tag":252,"props":1462,"children":1464},{"class":254,"line":1463},25,[1465,1469],{"type":169,"tag":252,"props":1466,"children":1467},{"style":259},[1468],{"type":175,"value":323},{"type":169,"tag":252,"props":1470,"children":1471},{"style":265},[1472],{"type":175,"value":882},{"type":169,"tag":230,"props":1474,"children":1476},{"id":1475},"功能仿制",[1477],{"type":175,"value":1475},{"type":169,"tag":183,"props":1479,"children":1480},{},[1481],{"type":175,"value":1482},"每个页面可能有多个 iframe，所以可能有多个 document 对象。因为不同 document 对象可被 shiv 的元素可能不同，所以需要一个变量用作记录。",{"type":169,"tag":183,"props":1484,"children":1485},{},[1486],{"type":175,"value":1487},"getExpandoData 方法在传入的 document 对象下挂载了一个属性名为 '_html5shiv' 的空对象，用来便捷存放某些数据（比如说元素缓存），并返回对象单例。",{"type":169,"tag":241,"props":1489,"children":1491},{"className":243,"code":1490,"language":245,"meta":163,"style":163},"var expandoData = {}\nvar expanID = 0\nvar expando = '_html5shiv'\nfunction getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]]\n    if (!data) {\n        data = {}\n        expanID++\n        ownerDocument[expando] = expanID\n        expandoData[expanID] = data\n    }\n    return data\n  }\n",[1492],{"type":169,"tag":248,"props":1493,"children":1494},{"__ignoreMap":163},[1495,1517,1538,1567,1596,1640,1670,1686,1699,1729,1759,1766,1777],{"type":169,"tag":252,"props":1496,"children":1497},{"class":254,"line":255},[1498,1503,1508,1512],{"type":169,"tag":252,"props":1499,"children":1500},{"style":271},[1501],{"type":175,"value":1502},"var",{"type":169,"tag":252,"props":1504,"children":1505},{"style":265},[1506],{"type":175,"value":1507}," expandoData ",{"type":169,"tag":252,"props":1509,"children":1510},{"style":330},[1511],{"type":175,"value":434},{"type":169,"tag":252,"props":1513,"children":1514},{"style":259},[1515],{"type":175,"value":1516}," {}\n",{"type":169,"tag":252,"props":1518,"children":1519},{"class":254,"line":307},[1520,1524,1529,1533],{"type":169,"tag":252,"props":1521,"children":1522},{"style":271},[1523],{"type":175,"value":1502},{"type":169,"tag":252,"props":1525,"children":1526},{"style":265},[1527],{"type":175,"value":1528}," expanID ",{"type":169,"tag":252,"props":1530,"children":1531},{"style":330},[1532],{"type":175,"value":434},{"type":169,"tag":252,"props":1534,"children":1535},{"style":663},[1536],{"type":175,"value":1537}," 0\n",{"type":169,"tag":252,"props":1539,"children":1540},{"class":254,"line":317},[1541,1545,1550,1554,1558,1563],{"type":169,"tag":252,"props":1542,"children":1543},{"style":271},[1544],{"type":175,"value":1502},{"type":169,"tag":252,"props":1546,"children":1547},{"style":265},[1548],{"type":175,"value":1549}," expando ",{"type":169,"tag":252,"props":1551,"children":1552},{"style":330},[1553],{"type":175,"value":434},{"type":169,"tag":252,"props":1555,"children":1556},{"style":346},[1557],{"type":175,"value":609},{"type":169,"tag":252,"props":1559,"children":1560},{"style":352},[1561],{"type":175,"value":1562},"_html5shiv",{"type":169,"tag":252,"props":1564,"children":1565},{"style":346},[1566],{"type":175,"value":619},{"type":169,"tag":252,"props":1568,"children":1569},{"class":254,"line":691},[1570,1574,1579,1583,1588,1592],{"type":169,"tag":252,"props":1571,"children":1572},{"style":271},[1573],{"type":175,"value":274},{"type":169,"tag":252,"props":1575,"children":1576},{"style":446},[1577],{"type":175,"value":1578}," getExpandoData",{"type":169,"tag":252,"props":1580,"children":1581},{"style":259},[1582],{"type":175,"value":268},{"type":169,"tag":252,"props":1584,"children":1585},{"style":281},[1586],{"type":175,"value":1587},"ownerDocument",{"type":169,"tag":252,"props":1589,"children":1590},{"style":259},[1591],{"type":175,"value":299},{"type":169,"tag":252,"props":1593,"children":1594},{"style":259},[1595],{"type":175,"value":304},{"type":169,"tag":252,"props":1597,"children":1598},{"class":254,"line":729},[1599,1603,1608,1612,1617,1622,1626,1630,1635],{"type":169,"tag":252,"props":1600,"children":1601},{"style":271},[1602],{"type":175,"value":697},{"type":169,"tag":252,"props":1604,"children":1605},{"style":265},[1606],{"type":175,"value":1607}," data",{"type":169,"tag":252,"props":1609,"children":1610},{"style":330},[1611],{"type":175,"value":707},{"type":169,"tag":252,"props":1613,"children":1614},{"style":265},[1615],{"type":175,"value":1616}," expandoData",{"type":169,"tag":252,"props":1618,"children":1619},{"style":723},[1620],{"type":175,"value":1621},"[",{"type":169,"tag":252,"props":1623,"children":1624},{"style":265},[1625],{"type":175,"value":1587},{"type":169,"tag":252,"props":1627,"children":1628},{"style":723},[1629],{"type":175,"value":1621},{"type":169,"tag":252,"props":1631,"children":1632},{"style":265},[1633],{"type":175,"value":1634},"expando",{"type":169,"tag":252,"props":1636,"children":1637},{"style":723},[1638],{"type":175,"value":1639},"]]\n",{"type":169,"tag":252,"props":1641,"children":1642},{"class":254,"line":744},[1643,1648,1652,1657,1662,1666],{"type":169,"tag":252,"props":1644,"children":1645},{"style":733},[1646],{"type":175,"value":1647},"    if",{"type":169,"tag":252,"props":1649,"children":1650},{"style":723},[1651],{"type":175,"value":488},{"type":169,"tag":252,"props":1653,"children":1654},{"style":330},[1655],{"type":175,"value":1656},"!",{"type":169,"tag":252,"props":1658,"children":1659},{"style":265},[1660],{"type":175,"value":1661},"data",{"type":169,"tag":252,"props":1663,"children":1664},{"style":723},[1665],{"type":175,"value":1403},{"type":169,"tag":252,"props":1667,"children":1668},{"style":259},[1669],{"type":175,"value":1408},{"type":169,"tag":252,"props":1671,"children":1672},{"class":254,"line":787},[1673,1678,1682],{"type":169,"tag":252,"props":1674,"children":1675},{"style":265},[1676],{"type":175,"value":1677},"        data",{"type":169,"tag":252,"props":1679,"children":1680},{"style":330},[1681],{"type":175,"value":707},{"type":169,"tag":252,"props":1683,"children":1684},{"style":259},[1685],{"type":175,"value":1516},{"type":169,"tag":252,"props":1687,"children":1688},{"class":254,"line":827},[1689,1694],{"type":169,"tag":252,"props":1690,"children":1691},{"style":265},[1692],{"type":175,"value":1693},"        expanID",{"type":169,"tag":252,"props":1695,"children":1696},{"style":330},[1697],{"type":175,"value":1698},"++\n",{"type":169,"tag":252,"props":1700,"children":1701},{"class":254,"line":863},[1702,1707,1711,1715,1720,1724],{"type":169,"tag":252,"props":1703,"children":1704},{"style":265},[1705],{"type":175,"value":1706},"        ownerDocument",{"type":169,"tag":252,"props":1708,"children":1709},{"style":723},[1710],{"type":175,"value":1621},{"type":169,"tag":252,"props":1712,"children":1713},{"style":265},[1714],{"type":175,"value":1634},{"type":169,"tag":252,"props":1716,"children":1717},{"style":723},[1718],{"type":175,"value":1719},"] ",{"type":169,"tag":252,"props":1721,"children":1722},{"style":330},[1723],{"type":175,"value":434},{"type":169,"tag":252,"props":1725,"children":1726},{"style":265},[1727],{"type":175,"value":1728}," expanID\n",{"type":169,"tag":252,"props":1730,"children":1731},{"class":254,"line":872},[1732,1737,1741,1746,1750,1754],{"type":169,"tag":252,"props":1733,"children":1734},{"style":265},[1735],{"type":175,"value":1736},"        expandoData",{"type":169,"tag":252,"props":1738,"children":1739},{"style":723},[1740],{"type":175,"value":1621},{"type":169,"tag":252,"props":1742,"children":1743},{"style":265},[1744],{"type":175,"value":1745},"expanID",{"type":169,"tag":252,"props":1747,"children":1748},{"style":723},[1749],{"type":175,"value":1719},{"type":169,"tag":252,"props":1751,"children":1752},{"style":330},[1753],{"type":175,"value":434},{"type":169,"tag":252,"props":1755,"children":1756},{"style":265},[1757],{"type":175,"value":1758}," data\n",{"type":169,"tag":252,"props":1760,"children":1761},{"class":254,"line":1141},[1762],{"type":169,"tag":252,"props":1763,"children":1764},{"style":259},[1765],{"type":175,"value":1460},{"type":169,"tag":252,"props":1767,"children":1768},{"class":254,"line":1150},[1769,1773],{"type":169,"tag":252,"props":1770,"children":1771},{"style":733},[1772],{"type":175,"value":736},{"type":169,"tag":252,"props":1774,"children":1775},{"style":265},[1776],{"type":175,"value":1758},{"type":169,"tag":252,"props":1778,"children":1779},{"class":254,"line":1193},[1780],{"type":169,"tag":252,"props":1781,"children":1782},{"style":259},[1783],{"type":175,"value":1784},"  }\n",{"type":169,"tag":183,"props":1786,"children":1787},{},[1788],{"type":175,"value":1789},"如何对 document 进行 html5 的增强呢？原理体现都在 shivDocument 这个函数了，只需要增强浏览器原生的 createElement 等 API 的功能，再添加对应的元素样式就好了。",{"type":169,"tag":241,"props":1791,"children":1793},{"className":243,"code":1792,"language":245,"meta":163,"style":163},"function shivDocument(ownerDocument) {\n    // 挂载 document._html5shiv\n    var data = getExpandoData(ownerDocument)\n\n    // 增强样式\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      )\n    }\n\n    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n    // 如果当前浏览器连 document.createElement 都会报错，\n    // 那就没办法 shiv 了，只好假装一切正常...\n    if (!supportsUnknownElements) {\n      // 增强 createElement 和 createDocumentFragment\n      shivMethods(ownerDocument, data)\n    }\n    return ownerDocument\n  }\n",[1794],{"type":169,"tag":248,"props":1795,"children":1796},{"__ignoreMap":163},[1797,1825,1833,1864,1871,1879,1948,1991,1999,2021,2029,2049,2057,2073,2081,2088,2095,2103,2111,2119,2147,2155,2183,2190,2202],{"type":169,"tag":252,"props":1798,"children":1799},{"class":254,"line":255},[1800,1804,1809,1813,1817,1821],{"type":169,"tag":252,"props":1801,"children":1802},{"style":271},[1803],{"type":175,"value":274},{"type":169,"tag":252,"props":1805,"children":1806},{"style":446},[1807],{"type":175,"value":1808}," shivDocument",{"type":169,"tag":252,"props":1810,"children":1811},{"style":259},[1812],{"type":175,"value":268},{"type":169,"tag":252,"props":1814,"children":1815},{"style":281},[1816],{"type":175,"value":1587},{"type":169,"tag":252,"props":1818,"children":1819},{"style":259},[1820],{"type":175,"value":299},{"type":169,"tag":252,"props":1822,"children":1823},{"style":259},[1824],{"type":175,"value":304},{"type":169,"tag":252,"props":1826,"children":1827},{"class":254,"line":307},[1828],{"type":169,"tag":252,"props":1829,"children":1830},{"style":311},[1831],{"type":175,"value":1832},"    // 挂载 document._html5shiv\n",{"type":169,"tag":252,"props":1834,"children":1835},{"class":254,"line":317},[1836,1840,1844,1848,1852,1856,1860],{"type":169,"tag":252,"props":1837,"children":1838},{"style":271},[1839],{"type":175,"value":697},{"type":169,"tag":252,"props":1841,"children":1842},{"style":265},[1843],{"type":175,"value":1607},{"type":169,"tag":252,"props":1845,"children":1846},{"style":330},[1847],{"type":175,"value":707},{"type":169,"tag":252,"props":1849,"children":1850},{"style":446},[1851],{"type":175,"value":1578},{"type":169,"tag":252,"props":1853,"children":1854},{"style":723},[1855],{"type":175,"value":268},{"type":169,"tag":252,"props":1857,"children":1858},{"style":265},[1859],{"type":175,"value":1587},{"type":169,"tag":252,"props":1861,"children":1862},{"style":723},[1863],{"type":175,"value":471},{"type":169,"tag":252,"props":1865,"children":1866},{"class":254,"line":691},[1867],{"type":169,"tag":252,"props":1868,"children":1869},{"emptyLinePlaceholder":162},[1870],{"type":175,"value":1070},{"type":169,"tag":252,"props":1872,"children":1873},{"class":254,"line":729},[1874],{"type":169,"tag":252,"props":1875,"children":1876},{"style":311},[1877],{"type":175,"value":1878},"    // 增强样式\n",{"type":169,"tag":252,"props":1880,"children":1881},{"class":254,"line":744},[1882,1886,1890,1895,1899,1904,1909,1914,1919,1923,1927,1931,1935,1940,1944],{"type":169,"tag":252,"props":1883,"children":1884},{"style":733},[1885],{"type":175,"value":1647},{"type":169,"tag":252,"props":1887,"children":1888},{"style":723},[1889],{"type":175,"value":488},{"type":169,"tag":252,"props":1891,"children":1892},{"style":265},[1893],{"type":175,"value":1894},"html5",{"type":169,"tag":252,"props":1896,"children":1897},{"style":259},[1898],{"type":175,"value":443},{"type":169,"tag":252,"props":1900,"children":1901},{"style":265},[1902],{"type":175,"value":1903},"shivCSS",{"type":169,"tag":252,"props":1905,"children":1906},{"style":330},[1907],{"type":175,"value":1908}," &&",{"type":169,"tag":252,"props":1910,"children":1911},{"style":330},[1912],{"type":175,"value":1913}," !",{"type":169,"tag":252,"props":1915,"children":1916},{"style":265},[1917],{"type":175,"value":1918},"supportsHtml5Styles",{"type":169,"tag":252,"props":1920,"children":1921},{"style":330},[1922],{"type":175,"value":1908},{"type":169,"tag":252,"props":1924,"children":1925},{"style":330},[1926],{"type":175,"value":1913},{"type":169,"tag":252,"props":1928,"children":1929},{"style":265},[1930],{"type":175,"value":1661},{"type":169,"tag":252,"props":1932,"children":1933},{"style":259},[1934],{"type":175,"value":443},{"type":169,"tag":252,"props":1936,"children":1937},{"style":265},[1938],{"type":175,"value":1939},"hasCSS",{"type":169,"tag":252,"props":1941,"children":1942},{"style":723},[1943],{"type":175,"value":1403},{"type":169,"tag":252,"props":1945,"children":1946},{"style":259},[1947],{"type":175,"value":1408},{"type":169,"tag":252,"props":1949,"children":1950},{"class":254,"line":787},[1951,1956,1960,1964,1968,1973,1978,1982,1986],{"type":169,"tag":252,"props":1952,"children":1953},{"style":265},[1954],{"type":175,"value":1955},"      data",{"type":169,"tag":252,"props":1957,"children":1958},{"style":259},[1959],{"type":175,"value":443},{"type":169,"tag":252,"props":1961,"children":1962},{"style":265},[1963],{"type":175,"value":1939},{"type":169,"tag":252,"props":1965,"children":1966},{"style":330},[1967],{"type":175,"value":707},{"type":169,"tag":252,"props":1969,"children":1970},{"style":330},[1971],{"type":175,"value":1972}," !!",{"type":169,"tag":252,"props":1974,"children":1975},{"style":446},[1976],{"type":175,"value":1977},"addStyleSheet",{"type":169,"tag":252,"props":1979,"children":1980},{"style":723},[1981],{"type":175,"value":268},{"type":169,"tag":252,"props":1983,"children":1984},{"style":265},[1985],{"type":175,"value":1587},{"type":169,"tag":252,"props":1987,"children":1988},{"style":259},[1989],{"type":175,"value":1990},",\n",{"type":169,"tag":252,"props":1992,"children":1993},{"class":254,"line":827},[1994],{"type":169,"tag":252,"props":1995,"children":1996},{"style":311},[1997],{"type":175,"value":1998},"        // corrects block display not defined in IE6/7/8/9\n",{"type":169,"tag":252,"props":2000,"children":2001},{"class":254,"line":863},[2002,2007,2012,2016],{"type":169,"tag":252,"props":2003,"children":2004},{"style":346},[2005],{"type":175,"value":2006},"        '",{"type":169,"tag":252,"props":2008,"children":2009},{"style":352},[2010],{"type":175,"value":2011},"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}",{"type":169,"tag":252,"props":2013,"children":2014},{"style":346},[2015],{"type":175,"value":458},{"type":169,"tag":252,"props":2017,"children":2018},{"style":330},[2019],{"type":175,"value":2020}," +\n",{"type":169,"tag":252,"props":2022,"children":2023},{"class":254,"line":872},[2024],{"type":169,"tag":252,"props":2025,"children":2026},{"style":311},[2027],{"type":175,"value":2028},"        // adds styling not present in IE6/7/8/9\n",{"type":169,"tag":252,"props":2030,"children":2031},{"class":254,"line":1141},[2032,2036,2041,2045],{"type":169,"tag":252,"props":2033,"children":2034},{"style":346},[2035],{"type":175,"value":2006},{"type":169,"tag":252,"props":2037,"children":2038},{"style":352},[2039],{"type":175,"value":2040},"mark{background:#FF0;color:#000}",{"type":169,"tag":252,"props":2042,"children":2043},{"style":346},[2044],{"type":175,"value":458},{"type":169,"tag":252,"props":2046,"children":2047},{"style":330},[2048],{"type":175,"value":2020},{"type":169,"tag":252,"props":2050,"children":2051},{"class":254,"line":1150},[2052],{"type":169,"tag":252,"props":2053,"children":2054},{"style":311},[2055],{"type":175,"value":2056},"        // hides non-rendered elements\n",{"type":169,"tag":252,"props":2058,"children":2059},{"class":254,"line":1193},[2060,2064,2069],{"type":169,"tag":252,"props":2061,"children":2062},{"style":346},[2063],{"type":175,"value":2006},{"type":169,"tag":252,"props":2065,"children":2066},{"style":352},[2067],{"type":175,"value":2068},"template{display:none}",{"type":169,"tag":252,"props":2070,"children":2071},{"style":346},[2072],{"type":175,"value":619},{"type":169,"tag":252,"props":2074,"children":2075},{"class":254,"line":1226},[2076],{"type":169,"tag":252,"props":2077,"children":2078},{"style":723},[2079],{"type":175,"value":2080},"      )\n",{"type":169,"tag":252,"props":2082,"children":2083},{"class":254,"line":1239},[2084],{"type":169,"tag":252,"props":2085,"children":2086},{"style":259},[2087],{"type":175,"value":1460},{"type":169,"tag":252,"props":2089,"children":2090},{"class":254,"line":1280},[2091],{"type":169,"tag":252,"props":2092,"children":2093},{"emptyLinePlaceholder":162},[2094],{"type":175,"value":1070},{"type":169,"tag":252,"props":2096,"children":2097},{"class":254,"line":1320},[2098],{"type":169,"tag":252,"props":2099,"children":2100},{"style":311},[2101],{"type":175,"value":2102},"    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n",{"type":169,"tag":252,"props":2104,"children":2105},{"class":254,"line":1356},[2106],{"type":169,"tag":252,"props":2107,"children":2108},{"style":311},[2109],{"type":175,"value":2110},"    // 如果当前浏览器连 document.createElement 都会报错，\n",{"type":169,"tag":252,"props":2112,"children":2113},{"class":254,"line":1365},[2114],{"type":169,"tag":252,"props":2115,"children":2116},{"style":311},[2117],{"type":175,"value":2118},"    // 那就没办法 shiv 了，只好假装一切正常...\n",{"type":169,"tag":252,"props":2120,"children":2121},{"class":254,"line":1378},[2122,2126,2130,2134,2139,2143],{"type":169,"tag":252,"props":2123,"children":2124},{"style":733},[2125],{"type":175,"value":1647},{"type":169,"tag":252,"props":2127,"children":2128},{"style":723},[2129],{"type":175,"value":488},{"type":169,"tag":252,"props":2131,"children":2132},{"style":330},[2133],{"type":175,"value":1656},{"type":169,"tag":252,"props":2135,"children":2136},{"style":265},[2137],{"type":175,"value":2138},"supportsUnknownElements",{"type":169,"tag":252,"props":2140,"children":2141},{"style":723},[2142],{"type":175,"value":1403},{"type":169,"tag":252,"props":2144,"children":2145},{"style":259},[2146],{"type":175,"value":1408},{"type":169,"tag":252,"props":2148,"children":2149},{"class":254,"line":1411},[2150],{"type":169,"tag":252,"props":2151,"children":2152},{"style":311},[2153],{"type":175,"value":2154},"      // 增强 createElement 和 createDocumentFragment\n",{"type":169,"tag":252,"props":2156,"children":2157},{"class":254,"line":1420},[2158,2163,2167,2171,2175,2179],{"type":169,"tag":252,"props":2159,"children":2160},{"style":446},[2161],{"type":175,"value":2162},"      shivMethods",{"type":169,"tag":252,"props":2164,"children":2165},{"style":723},[2166],{"type":175,"value":268},{"type":169,"tag":252,"props":2168,"children":2169},{"style":265},[2170],{"type":175,"value":1587},{"type":169,"tag":252,"props":2172,"children":2173},{"style":259},[2174],{"type":175,"value":289},{"type":169,"tag":252,"props":2176,"children":2177},{"style":265},[2178],{"type":175,"value":1607},{"type":169,"tag":252,"props":2180,"children":2181},{"style":723},[2182],{"type":175,"value":471},{"type":169,"tag":252,"props":2184,"children":2185},{"class":254,"line":1438},[2186],{"type":169,"tag":252,"props":2187,"children":2188},{"style":259},[2189],{"type":175,"value":1460},{"type":169,"tag":252,"props":2191,"children":2192},{"class":254,"line":1454},[2193,2197],{"type":169,"tag":252,"props":2194,"children":2195},{"style":733},[2196],{"type":175,"value":736},{"type":169,"tag":252,"props":2198,"children":2199},{"style":265},[2200],{"type":175,"value":2201}," ownerDocument\n",{"type":169,"tag":252,"props":2203,"children":2204},{"class":254,"line":1463},[2205],{"type":169,"tag":252,"props":2206,"children":2207},{"style":259},[2208],{"type":175,"value":1784},{"type":169,"tag":183,"props":2210,"children":2211},{},[2212],{"type":175,"value":2213},"接下来，仔细康康 shivMethods 方法。shivMethods 仿制了 createElement 和 createDocumentFragment 两个 API，将其挂载到 document._html5shiv。并通过装饰器模式增强了浏览器原生的 createElement 等 API 的功能。",{"type":169,"tag":241,"props":2215,"children":2217},{"className":243,"code":2216,"language":245,"meta":163,"style":163},"function shivMethods(ownerDocument, data) {\n    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n    if (!data.cache) {\n        data.cache = {}\n        data.createElem = ownerDocument.createElement\n        data.createFrag = ownerDocument.createDocumentFragment\n        data.frag = data.createFrag()\n    }\n\n    ownerDocument.createElement = function(nodeName) {\n      // shivMethods 可看作全局的 shiv 开关\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName)\n      }\n      return createElement(nodeName, ownerDocument, data)\n    }\n\n    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n    // 最终返回 data.frag 的克隆函数\n    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n    // 猜测它只能在老版本 IE 上起作用\n    ownerDocument.createDocumentFragment = Function(\n      'html5,dataFrag', \n      'return function(){' +\n        'var clone=dataFrag.cloneNode(),create=clone.createElement' +\n        'html5.shivMethods&&(' +\n            // unroll the `createElement` calls\n            getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n            data.createElem(nodeName)\n            data.frag.createElement(nodeName)\n            return 'create(\"' + nodeName + '\")'\n            }) +\n        ')return clone' +\n      '}'\n    )(html5, data.frag)\n  }\n",[2218],{"type":169,"tag":248,"props":2219,"children":2220},{"__ignoreMap":163},[2221,2257,2265,2301,2324,2358,2391,2427,2434,2441,2483,2491,2528,2560,2568,2609,2616,2623,2631,2639,2647,2655,2684,2710,2730,2750,2771,2780,2879,2908,2944,2992,3010,3031,3047,3080],{"type":169,"tag":252,"props":2222,"children":2223},{"class":254,"line":255},[2224,2228,2233,2237,2241,2245,2249,2253],{"type":169,"tag":252,"props":2225,"children":2226},{"style":271},[2227],{"type":175,"value":274},{"type":169,"tag":252,"props":2229,"children":2230},{"style":446},[2231],{"type":175,"value":2232}," shivMethods",{"type":169,"tag":252,"props":2234,"children":2235},{"style":259},[2236],{"type":175,"value":268},{"type":169,"tag":252,"props":2238,"children":2239},{"style":281},[2240],{"type":175,"value":1587},{"type":169,"tag":252,"props":2242,"children":2243},{"style":259},[2244],{"type":175,"value":289},{"type":169,"tag":252,"props":2246,"children":2247},{"style":281},[2248],{"type":175,"value":1607},{"type":169,"tag":252,"props":2250,"children":2251},{"style":259},[2252],{"type":175,"value":299},{"type":169,"tag":252,"props":2254,"children":2255},{"style":259},[2256],{"type":175,"value":304},{"type":169,"tag":252,"props":2258,"children":2259},{"class":254,"line":307},[2260],{"type":169,"tag":252,"props":2261,"children":2262},{"style":311},[2263],{"type":175,"value":2264},"    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n",{"type":169,"tag":252,"props":2266,"children":2267},{"class":254,"line":317},[2268,2272,2276,2280,2284,2288,2293,2297],{"type":169,"tag":252,"props":2269,"children":2270},{"style":733},[2271],{"type":175,"value":1647},{"type":169,"tag":252,"props":2273,"children":2274},{"style":723},[2275],{"type":175,"value":488},{"type":169,"tag":252,"props":2277,"children":2278},{"style":330},[2279],{"type":175,"value":1656},{"type":169,"tag":252,"props":2281,"children":2282},{"style":265},[2283],{"type":175,"value":1661},{"type":169,"tag":252,"props":2285,"children":2286},{"style":259},[2287],{"type":175,"value":443},{"type":169,"tag":252,"props":2289,"children":2290},{"style":265},[2291],{"type":175,"value":2292},"cache",{"type":169,"tag":252,"props":2294,"children":2295},{"style":723},[2296],{"type":175,"value":1403},{"type":169,"tag":252,"props":2298,"children":2299},{"style":259},[2300],{"type":175,"value":1408},{"type":169,"tag":252,"props":2302,"children":2303},{"class":254,"line":691},[2304,2308,2312,2316,2320],{"type":169,"tag":252,"props":2305,"children":2306},{"style":265},[2307],{"type":175,"value":1677},{"type":169,"tag":252,"props":2309,"children":2310},{"style":259},[2311],{"type":175,"value":443},{"type":169,"tag":252,"props":2313,"children":2314},{"style":265},[2315],{"type":175,"value":2292},{"type":169,"tag":252,"props":2317,"children":2318},{"style":330},[2319],{"type":175,"value":707},{"type":169,"tag":252,"props":2321,"children":2322},{"style":259},[2323],{"type":175,"value":1516},{"type":169,"tag":252,"props":2325,"children":2326},{"class":254,"line":729},[2327,2331,2335,2340,2344,2349,2353],{"type":169,"tag":252,"props":2328,"children":2329},{"style":265},[2330],{"type":175,"value":1677},{"type":169,"tag":252,"props":2332,"children":2333},{"style":259},[2334],{"type":175,"value":443},{"type":169,"tag":252,"props":2336,"children":2337},{"style":265},[2338],{"type":175,"value":2339},"createElem",{"type":169,"tag":252,"props":2341,"children":2342},{"style":330},[2343],{"type":175,"value":707},{"type":169,"tag":252,"props":2345,"children":2346},{"style":265},[2347],{"type":175,"value":2348}," ownerDocument",{"type":169,"tag":252,"props":2350,"children":2351},{"style":259},[2352],{"type":175,"value":443},{"type":169,"tag":252,"props":2354,"children":2355},{"style":265},[2356],{"type":175,"value":2357},"createElement\n",{"type":169,"tag":252,"props":2359,"children":2360},{"class":254,"line":744},[2361,2365,2369,2374,2378,2382,2386],{"type":169,"tag":252,"props":2362,"children":2363},{"style":265},[2364],{"type":175,"value":1677},{"type":169,"tag":252,"props":2366,"children":2367},{"style":259},[2368],{"type":175,"value":443},{"type":169,"tag":252,"props":2370,"children":2371},{"style":265},[2372],{"type":175,"value":2373},"createFrag",{"type":169,"tag":252,"props":2375,"children":2376},{"style":330},[2377],{"type":175,"value":707},{"type":169,"tag":252,"props":2379,"children":2380},{"style":265},[2381],{"type":175,"value":2348},{"type":169,"tag":252,"props":2383,"children":2384},{"style":259},[2385],{"type":175,"value":443},{"type":169,"tag":252,"props":2387,"children":2388},{"style":265},[2389],{"type":175,"value":2390},"createDocumentFragment\n",{"type":169,"tag":252,"props":2392,"children":2393},{"class":254,"line":787},[2394,2398,2402,2407,2411,2415,2419,2423],{"type":169,"tag":252,"props":2395,"children":2396},{"style":265},[2397],{"type":175,"value":1677},{"type":169,"tag":252,"props":2399,"children":2400},{"style":259},[2401],{"type":175,"value":443},{"type":169,"tag":252,"props":2403,"children":2404},{"style":265},[2405],{"type":175,"value":2406},"frag",{"type":169,"tag":252,"props":2408,"children":2409},{"style":330},[2410],{"type":175,"value":707},{"type":169,"tag":252,"props":2412,"children":2413},{"style":265},[2414],{"type":175,"value":1607},{"type":169,"tag":252,"props":2416,"children":2417},{"style":259},[2418],{"type":175,"value":443},{"type":169,"tag":252,"props":2420,"children":2421},{"style":446},[2422],{"type":175,"value":2373},{"type":169,"tag":252,"props":2424,"children":2425},{"style":723},[2426],{"type":175,"value":726},{"type":169,"tag":252,"props":2428,"children":2429},{"class":254,"line":827},[2430],{"type":169,"tag":252,"props":2431,"children":2432},{"style":259},[2433],{"type":175,"value":1460},{"type":169,"tag":252,"props":2435,"children":2436},{"class":254,"line":863},[2437],{"type":169,"tag":252,"props":2438,"children":2439},{"emptyLinePlaceholder":162},[2440],{"type":175,"value":1070},{"type":169,"tag":252,"props":2442,"children":2443},{"class":254,"line":872},[2444,2449,2453,2457,2461,2466,2470,2475,2479],{"type":169,"tag":252,"props":2445,"children":2446},{"style":265},[2447],{"type":175,"value":2448},"    ownerDocument",{"type":169,"tag":252,"props":2450,"children":2451},{"style":259},[2452],{"type":175,"value":443},{"type":169,"tag":252,"props":2454,"children":2455},{"style":446},[2456],{"type":175,"value":449},{"type":169,"tag":252,"props":2458,"children":2459},{"style":330},[2460],{"type":175,"value":707},{"type":169,"tag":252,"props":2462,"children":2463},{"style":271},[2464],{"type":175,"value":2465}," function",{"type":169,"tag":252,"props":2467,"children":2468},{"style":259},[2469],{"type":175,"value":268},{"type":169,"tag":252,"props":2471,"children":2472},{"style":281},[2473],{"type":175,"value":2474},"nodeName",{"type":169,"tag":252,"props":2476,"children":2477},{"style":259},[2478],{"type":175,"value":299},{"type":169,"tag":252,"props":2480,"children":2481},{"style":259},[2482],{"type":175,"value":304},{"type":169,"tag":252,"props":2484,"children":2485},{"class":254,"line":1141},[2486],{"type":169,"tag":252,"props":2487,"children":2488},{"style":311},[2489],{"type":175,"value":2490},"      // shivMethods 可看作全局的 shiv 开关\n",{"type":169,"tag":252,"props":2492,"children":2493},{"class":254,"line":1150},[2494,2499,2503,2507,2511,2515,2520,2524],{"type":169,"tag":252,"props":2495,"children":2496},{"style":733},[2497],{"type":175,"value":2498},"      if",{"type":169,"tag":252,"props":2500,"children":2501},{"style":723},[2502],{"type":175,"value":488},{"type":169,"tag":252,"props":2504,"children":2505},{"style":330},[2506],{"type":175,"value":1656},{"type":169,"tag":252,"props":2508,"children":2509},{"style":265},[2510],{"type":175,"value":1894},{"type":169,"tag":252,"props":2512,"children":2513},{"style":259},[2514],{"type":175,"value":443},{"type":169,"tag":252,"props":2516,"children":2517},{"style":265},[2518],{"type":175,"value":2519},"shivMethods",{"type":169,"tag":252,"props":2521,"children":2522},{"style":723},[2523],{"type":175,"value":1403},{"type":169,"tag":252,"props":2525,"children":2526},{"style":259},[2527],{"type":175,"value":1408},{"type":169,"tag":252,"props":2529,"children":2530},{"class":254,"line":1193},[2531,2536,2540,2544,2548,2552,2556],{"type":169,"tag":252,"props":2532,"children":2533},{"style":733},[2534],{"type":175,"value":2535},"          return",{"type":169,"tag":252,"props":2537,"children":2538},{"style":265},[2539],{"type":175,"value":1607},{"type":169,"tag":252,"props":2541,"children":2542},{"style":259},[2543],{"type":175,"value":443},{"type":169,"tag":252,"props":2545,"children":2546},{"style":446},[2547],{"type":175,"value":2339},{"type":169,"tag":252,"props":2549,"children":2550},{"style":723},[2551],{"type":175,"value":268},{"type":169,"tag":252,"props":2553,"children":2554},{"style":265},[2555],{"type":175,"value":2474},{"type":169,"tag":252,"props":2557,"children":2558},{"style":723},[2559],{"type":175,"value":471},{"type":169,"tag":252,"props":2561,"children":2562},{"class":254,"line":1226},[2563],{"type":169,"tag":252,"props":2564,"children":2565},{"style":259},[2566],{"type":175,"value":2567},"      }\n",{"type":169,"tag":252,"props":2569,"children":2570},{"class":254,"line":1239},[2571,2576,2581,2585,2589,2593,2597,2601,2605],{"type":169,"tag":252,"props":2572,"children":2573},{"style":733},[2574],{"type":175,"value":2575},"      return",{"type":169,"tag":252,"props":2577,"children":2578},{"style":446},[2579],{"type":175,"value":2580}," createElement",{"type":169,"tag":252,"props":2582,"children":2583},{"style":723},[2584],{"type":175,"value":268},{"type":169,"tag":252,"props":2586,"children":2587},{"style":265},[2588],{"type":175,"value":2474},{"type":169,"tag":252,"props":2590,"children":2591},{"style":259},[2592],{"type":175,"value":289},{"type":169,"tag":252,"props":2594,"children":2595},{"style":265},[2596],{"type":175,"value":2348},{"type":169,"tag":252,"props":2598,"children":2599},{"style":259},[2600],{"type":175,"value":289},{"type":169,"tag":252,"props":2602,"children":2603},{"style":265},[2604],{"type":175,"value":1607},{"type":169,"tag":252,"props":2606,"children":2607},{"style":723},[2608],{"type":175,"value":471},{"type":169,"tag":252,"props":2610,"children":2611},{"class":254,"line":1280},[2612],{"type":169,"tag":252,"props":2613,"children":2614},{"style":259},[2615],{"type":175,"value":1460},{"type":169,"tag":252,"props":2617,"children":2618},{"class":254,"line":1320},[2619],{"type":169,"tag":252,"props":2620,"children":2621},{"emptyLinePlaceholder":162},[2622],{"type":175,"value":1070},{"type":169,"tag":252,"props":2624,"children":2625},{"class":254,"line":1356},[2626],{"type":169,"tag":252,"props":2627,"children":2628},{"style":311},[2629],{"type":175,"value":2630},"    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n",{"type":169,"tag":252,"props":2632,"children":2633},{"class":254,"line":1365},[2634],{"type":169,"tag":252,"props":2635,"children":2636},{"style":311},[2637],{"type":175,"value":2638},"    // 最终返回 data.frag 的克隆函数\n",{"type":169,"tag":252,"props":2640,"children":2641},{"class":254,"line":1378},[2642],{"type":169,"tag":252,"props":2643,"children":2644},{"style":311},[2645],{"type":175,"value":2646},"    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n",{"type":169,"tag":252,"props":2648,"children":2649},{"class":254,"line":1411},[2650],{"type":169,"tag":252,"props":2651,"children":2652},{"style":311},[2653],{"type":175,"value":2654},"    // 猜测它只能在老版本 IE 上起作用\n",{"type":169,"tag":252,"props":2656,"children":2657},{"class":254,"line":1420},[2658,2662,2666,2670,2674,2679],{"type":169,"tag":252,"props":2659,"children":2660},{"style":265},[2661],{"type":175,"value":2448},{"type":169,"tag":252,"props":2663,"children":2664},{"style":259},[2665],{"type":175,"value":443},{"type":169,"tag":252,"props":2667,"children":2668},{"style":265},[2669],{"type":175,"value":720},{"type":169,"tag":252,"props":2671,"children":2672},{"style":330},[2673],{"type":175,"value":707},{"type":169,"tag":252,"props":2675,"children":2676},{"style":446},[2677],{"type":175,"value":2678}," Function",{"type":169,"tag":252,"props":2680,"children":2681},{"style":723},[2682],{"type":175,"value":2683},"(\n",{"type":169,"tag":252,"props":2685,"children":2686},{"class":254,"line":1438},[2687,2692,2697,2701,2705],{"type":169,"tag":252,"props":2688,"children":2689},{"style":346},[2690],{"type":175,"value":2691},"      '",{"type":169,"tag":252,"props":2693,"children":2694},{"style":352},[2695],{"type":175,"value":2696},"html5,dataFrag",{"type":169,"tag":252,"props":2698,"children":2699},{"style":346},[2700],{"type":175,"value":458},{"type":169,"tag":252,"props":2702,"children":2703},{"style":259},[2704],{"type":175,"value":289},{"type":169,"tag":252,"props":2706,"children":2707},{"style":723},[2708],{"type":175,"value":2709}," \n",{"type":169,"tag":252,"props":2711,"children":2712},{"class":254,"line":1454},[2713,2717,2722,2726],{"type":169,"tag":252,"props":2714,"children":2715},{"style":346},[2716],{"type":175,"value":2691},{"type":169,"tag":252,"props":2718,"children":2719},{"style":352},[2720],{"type":175,"value":2721},"return function(){",{"type":169,"tag":252,"props":2723,"children":2724},{"style":346},[2725],{"type":175,"value":458},{"type":169,"tag":252,"props":2727,"children":2728},{"style":330},[2729],{"type":175,"value":2020},{"type":169,"tag":252,"props":2731,"children":2732},{"class":254,"line":1463},[2733,2737,2742,2746],{"type":169,"tag":252,"props":2734,"children":2735},{"style":346},[2736],{"type":175,"value":2006},{"type":169,"tag":252,"props":2738,"children":2739},{"style":352},[2740],{"type":175,"value":2741},"var clone=dataFrag.cloneNode(),create=clone.createElement",{"type":169,"tag":252,"props":2743,"children":2744},{"style":346},[2745],{"type":175,"value":458},{"type":169,"tag":252,"props":2747,"children":2748},{"style":330},[2749],{"type":175,"value":2020},{"type":169,"tag":252,"props":2751,"children":2753},{"class":254,"line":2752},26,[2754,2758,2763,2767],{"type":169,"tag":252,"props":2755,"children":2756},{"style":346},[2757],{"type":175,"value":2006},{"type":169,"tag":252,"props":2759,"children":2760},{"style":352},[2761],{"type":175,"value":2762},"html5.shivMethods&&(",{"type":169,"tag":252,"props":2764,"children":2765},{"style":346},[2766],{"type":175,"value":458},{"type":169,"tag":252,"props":2768,"children":2769},{"style":330},[2770],{"type":175,"value":2020},{"type":169,"tag":252,"props":2772,"children":2774},{"class":254,"line":2773},27,[2775],{"type":169,"tag":252,"props":2776,"children":2777},{"style":311},[2778],{"type":175,"value":2779},"            // unroll the `createElement` calls\n",{"type":169,"tag":252,"props":2781,"children":2783},{"class":254,"line":2782},28,[2784,2789,2793,2797,2802,2806,2810,2815,2819,2824,2829,2835,2840,2845,2849,2855,2859,2863,2867,2871,2875],{"type":169,"tag":252,"props":2785,"children":2786},{"style":446},[2787],{"type":175,"value":2788},"            getElements",{"type":169,"tag":252,"props":2790,"children":2791},{"style":723},[2792],{"type":175,"value":684},{"type":169,"tag":252,"props":2794,"children":2795},{"style":259},[2796],{"type":175,"value":443},{"type":169,"tag":252,"props":2798,"children":2799},{"style":446},[2800],{"type":175,"value":2801},"join",{"type":169,"tag":252,"props":2803,"children":2804},{"style":723},[2805],{"type":175,"value":684},{"type":169,"tag":252,"props":2807,"children":2808},{"style":259},[2809],{"type":175,"value":443},{"type":169,"tag":252,"props":2811,"children":2812},{"style":446},[2813],{"type":175,"value":2814},"replace",{"type":169,"tag":252,"props":2816,"children":2817},{"style":723},[2818],{"type":175,"value":268},{"type":169,"tag":252,"props":2820,"children":2821},{"style":346},[2822],{"type":175,"value":2823},"/",{"type":169,"tag":252,"props":2825,"children":2827},{"style":2826},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2828],{"type":175,"value":1621},{"type":169,"tag":252,"props":2830,"children":2832},{"style":2831},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2833],{"type":175,"value":2834},"\\w\\-:",{"type":169,"tag":252,"props":2836,"children":2837},{"style":2826},[2838],{"type":175,"value":2839},"]",{"type":169,"tag":252,"props":2841,"children":2842},{"style":330},[2843],{"type":175,"value":2844},"+",{"type":169,"tag":252,"props":2846,"children":2847},{"style":346},[2848],{"type":175,"value":2823},{"type":169,"tag":252,"props":2850,"children":2852},{"style":2851},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[2853],{"type":175,"value":2854},"g",{"type":169,"tag":252,"props":2856,"children":2857},{"style":259},[2858],{"type":175,"value":289},{"type":169,"tag":252,"props":2860,"children":2861},{"style":271},[2862],{"type":175,"value":2465},{"type":169,"tag":252,"props":2864,"children":2865},{"style":259},[2866],{"type":175,"value":268},{"type":169,"tag":252,"props":2868,"children":2869},{"style":281},[2870],{"type":175,"value":2474},{"type":169,"tag":252,"props":2872,"children":2873},{"style":259},[2874],{"type":175,"value":299},{"type":169,"tag":252,"props":2876,"children":2877},{"style":259},[2878],{"type":175,"value":304},{"type":169,"tag":252,"props":2880,"children":2882},{"class":254,"line":2881},29,[2883,2888,2892,2896,2900,2904],{"type":169,"tag":252,"props":2884,"children":2885},{"style":265},[2886],{"type":175,"value":2887},"            data",{"type":169,"tag":252,"props":2889,"children":2890},{"style":259},[2891],{"type":175,"value":443},{"type":169,"tag":252,"props":2893,"children":2894},{"style":446},[2895],{"type":175,"value":2339},{"type":169,"tag":252,"props":2897,"children":2898},{"style":723},[2899],{"type":175,"value":268},{"type":169,"tag":252,"props":2901,"children":2902},{"style":265},[2903],{"type":175,"value":2474},{"type":169,"tag":252,"props":2905,"children":2906},{"style":723},[2907],{"type":175,"value":471},{"type":169,"tag":252,"props":2909,"children":2911},{"class":254,"line":2910},30,[2912,2916,2920,2924,2928,2932,2936,2940],{"type":169,"tag":252,"props":2913,"children":2914},{"style":265},[2915],{"type":175,"value":2887},{"type":169,"tag":252,"props":2917,"children":2918},{"style":259},[2919],{"type":175,"value":443},{"type":169,"tag":252,"props":2921,"children":2922},{"style":265},[2923],{"type":175,"value":2406},{"type":169,"tag":252,"props":2925,"children":2926},{"style":259},[2927],{"type":175,"value":443},{"type":169,"tag":252,"props":2929,"children":2930},{"style":446},[2931],{"type":175,"value":449},{"type":169,"tag":252,"props":2933,"children":2934},{"style":723},[2935],{"type":175,"value":268},{"type":169,"tag":252,"props":2937,"children":2938},{"style":265},[2939],{"type":175,"value":2474},{"type":169,"tag":252,"props":2941,"children":2942},{"style":723},[2943],{"type":175,"value":471},{"type":169,"tag":252,"props":2945,"children":2947},{"class":254,"line":2946},31,[2948,2952,2956,2961,2965,2970,2975,2979,2983,2988],{"type":169,"tag":252,"props":2949,"children":2950},{"style":733},[2951],{"type":175,"value":1232},{"type":169,"tag":252,"props":2953,"children":2954},{"style":346},[2955],{"type":175,"value":609},{"type":169,"tag":252,"props":2957,"children":2958},{"style":352},[2959],{"type":175,"value":2960},"create(\"",{"type":169,"tag":252,"props":2962,"children":2963},{"style":346},[2964],{"type":175,"value":458},{"type":169,"tag":252,"props":2966,"children":2967},{"style":330},[2968],{"type":175,"value":2969}," +",{"type":169,"tag":252,"props":2971,"children":2972},{"style":265},[2973],{"type":175,"value":2974}," nodeName",{"type":169,"tag":252,"props":2976,"children":2977},{"style":330},[2978],{"type":175,"value":2969},{"type":169,"tag":252,"props":2980,"children":2981},{"style":346},[2982],{"type":175,"value":609},{"type":169,"tag":252,"props":2984,"children":2985},{"style":352},[2986],{"type":175,"value":2987},"\")",{"type":169,"tag":252,"props":2989,"children":2990},{"style":346},[2991],{"type":175,"value":619},{"type":169,"tag":252,"props":2993,"children":2995},{"class":254,"line":2994},32,[2996,3001,3005],{"type":169,"tag":252,"props":2997,"children":2998},{"style":259},[2999],{"type":175,"value":3000},"            }",{"type":169,"tag":252,"props":3002,"children":3003},{"style":723},[3004],{"type":175,"value":1403},{"type":169,"tag":252,"props":3006,"children":3007},{"style":330},[3008],{"type":175,"value":3009},"+\n",{"type":169,"tag":252,"props":3011,"children":3013},{"class":254,"line":3012},33,[3014,3018,3023,3027],{"type":169,"tag":252,"props":3015,"children":3016},{"style":346},[3017],{"type":175,"value":2006},{"type":169,"tag":252,"props":3019,"children":3020},{"style":352},[3021],{"type":175,"value":3022},")return clone",{"type":169,"tag":252,"props":3024,"children":3025},{"style":346},[3026],{"type":175,"value":458},{"type":169,"tag":252,"props":3028,"children":3029},{"style":330},[3030],{"type":175,"value":2020},{"type":169,"tag":252,"props":3032,"children":3034},{"class":254,"line":3033},34,[3035,3039,3043],{"type":169,"tag":252,"props":3036,"children":3037},{"style":346},[3038],{"type":175,"value":2691},{"type":169,"tag":252,"props":3040,"children":3041},{"style":352},[3042],{"type":175,"value":323},{"type":169,"tag":252,"props":3044,"children":3045},{"style":346},[3046],{"type":175,"value":619},{"type":169,"tag":252,"props":3048,"children":3050},{"class":254,"line":3049},35,[3051,3056,3060,3064,3068,3072,3076],{"type":169,"tag":252,"props":3052,"children":3053},{"style":723},[3054],{"type":175,"value":3055},"    )(",{"type":169,"tag":252,"props":3057,"children":3058},{"style":265},[3059],{"type":175,"value":1894},{"type":169,"tag":252,"props":3061,"children":3062},{"style":259},[3063],{"type":175,"value":289},{"type":169,"tag":252,"props":3065,"children":3066},{"style":265},[3067],{"type":175,"value":1607},{"type":169,"tag":252,"props":3069,"children":3070},{"style":259},[3071],{"type":175,"value":443},{"type":169,"tag":252,"props":3073,"children":3074},{"style":265},[3075],{"type":175,"value":2406},{"type":169,"tag":252,"props":3077,"children":3078},{"style":723},[3079],{"type":175,"value":471},{"type":169,"tag":252,"props":3081,"children":3083},{"class":254,"line":3082},36,[3084],{"type":169,"tag":252,"props":3085,"children":3086},{"style":259},[3087],{"type":175,"value":1784},{"type":169,"tag":183,"props":3089,"children":3090},{},[3091],{"type":175,"value":3092},"小插曲。我在浏览器测试时发现，若像上面这个函数一样，将 document.createDocumentFrament 先缓存，再调用，会发生报错：",{"type":169,"tag":241,"props":3094,"children":3096},{"className":243,"code":3095,"language":245,"meta":163,"style":163},"data = {}\ndata.createFrag = document.createDocumentFragment\ndata.frag = data.createFrag()\n\n// >>> Uncaught TypeError: Illegal invocation\n",[3097],{"type":169,"tag":248,"props":3098,"children":3099},{"__ignoreMap":163},[3100,3116,3148,3184,3191],{"type":169,"tag":252,"props":3101,"children":3102},{"class":254,"line":255},[3103,3108,3112],{"type":169,"tag":252,"props":3104,"children":3105},{"style":265},[3106],{"type":175,"value":3107},"data ",{"type":169,"tag":252,"props":3109,"children":3110},{"style":330},[3111],{"type":175,"value":434},{"type":169,"tag":252,"props":3113,"children":3114},{"style":259},[3115],{"type":175,"value":1516},{"type":169,"tag":252,"props":3117,"children":3118},{"class":254,"line":307},[3119,3123,3127,3132,3136,3140,3144],{"type":169,"tag":252,"props":3120,"children":3121},{"style":265},[3122],{"type":175,"value":1661},{"type":169,"tag":252,"props":3124,"children":3125},{"style":259},[3126],{"type":175,"value":443},{"type":169,"tag":252,"props":3128,"children":3129},{"style":265},[3130],{"type":175,"value":3131},"createFrag ",{"type":169,"tag":252,"props":3133,"children":3134},{"style":330},[3135],{"type":175,"value":434},{"type":169,"tag":252,"props":3137,"children":3138},{"style":265},[3139],{"type":175,"value":294},{"type":169,"tag":252,"props":3141,"children":3142},{"style":259},[3143],{"type":175,"value":443},{"type":169,"tag":252,"props":3145,"children":3146},{"style":265},[3147],{"type":175,"value":2390},{"type":169,"tag":252,"props":3149,"children":3150},{"class":254,"line":317},[3151,3155,3159,3164,3168,3172,3176,3180],{"type":169,"tag":252,"props":3152,"children":3153},{"style":265},[3154],{"type":175,"value":1661},{"type":169,"tag":252,"props":3156,"children":3157},{"style":259},[3158],{"type":175,"value":443},{"type":169,"tag":252,"props":3160,"children":3161},{"style":265},[3162],{"type":175,"value":3163},"frag ",{"type":169,"tag":252,"props":3165,"children":3166},{"style":330},[3167],{"type":175,"value":434},{"type":169,"tag":252,"props":3169,"children":3170},{"style":265},[3171],{"type":175,"value":1607},{"type":169,"tag":252,"props":3173,"children":3174},{"style":259},[3175],{"type":175,"value":443},{"type":169,"tag":252,"props":3177,"children":3178},{"style":446},[3179],{"type":175,"value":2373},{"type":169,"tag":252,"props":3181,"children":3182},{"style":265},[3183],{"type":175,"value":726},{"type":169,"tag":252,"props":3185,"children":3186},{"class":254,"line":691},[3187],{"type":169,"tag":252,"props":3188,"children":3189},{"emptyLinePlaceholder":162},[3190],{"type":175,"value":1070},{"type":169,"tag":252,"props":3192,"children":3193},{"class":254,"line":729},[3194],{"type":169,"tag":252,"props":3195,"children":3196},{"style":311},[3197],{"type":175,"value":3198},"// >>> Uncaught TypeError: Illegal invocation\n",{"type":169,"tag":183,"props":3200,"children":3201},{},[3202],{"type":175,"value":3203},"由于没有具体的报错原因，只能暂时猜测是 this 指向的锅。更改 this 指向后，再试了一次，这次没得问题。在 GitHub issues 中没有人提过这个问题，所以我只能猜测因为所有现代浏览器都支持使用原生 API 创建非标准元素，所以不会走 shivMethods 的逻辑。",{"type":169,"tag":241,"props":3205,"children":3207},{"className":243,"code":3206,"language":245,"meta":163,"style":163},"data = {}\ndata.createFrag = document.createDocumentFragment.bind(document)\ndata.frag = data.createFrag()\n\n// >>> #document-fragment\n",[3208],{"type":169,"tag":248,"props":3209,"children":3210},{"__ignoreMap":163},[3211,3226,3271,3306,3313],{"type":169,"tag":252,"props":3212,"children":3213},{"class":254,"line":255},[3214,3218,3222],{"type":169,"tag":252,"props":3215,"children":3216},{"style":265},[3217],{"type":175,"value":3107},{"type":169,"tag":252,"props":3219,"children":3220},{"style":330},[3221],{"type":175,"value":434},{"type":169,"tag":252,"props":3223,"children":3224},{"style":259},[3225],{"type":175,"value":1516},{"type":169,"tag":252,"props":3227,"children":3228},{"class":254,"line":307},[3229,3233,3237,3241,3245,3249,3253,3257,3261,3266],{"type":169,"tag":252,"props":3230,"children":3231},{"style":265},[3232],{"type":175,"value":1661},{"type":169,"tag":252,"props":3234,"children":3235},{"style":259},[3236],{"type":175,"value":443},{"type":169,"tag":252,"props":3238,"children":3239},{"style":265},[3240],{"type":175,"value":3131},{"type":169,"tag":252,"props":3242,"children":3243},{"style":330},[3244],{"type":175,"value":434},{"type":169,"tag":252,"props":3246,"children":3247},{"style":265},[3248],{"type":175,"value":294},{"type":169,"tag":252,"props":3250,"children":3251},{"style":259},[3252],{"type":175,"value":443},{"type":169,"tag":252,"props":3254,"children":3255},{"style":265},[3256],{"type":175,"value":720},{"type":169,"tag":252,"props":3258,"children":3259},{"style":259},[3260],{"type":175,"value":443},{"type":169,"tag":252,"props":3262,"children":3263},{"style":446},[3264],{"type":175,"value":3265},"bind",{"type":169,"tag":252,"props":3267,"children":3268},{"style":265},[3269],{"type":175,"value":3270},"(document)\n",{"type":169,"tag":252,"props":3272,"children":3273},{"class":254,"line":317},[3274,3278,3282,3286,3290,3294,3298,3302],{"type":169,"tag":252,"props":3275,"children":3276},{"style":265},[3277],{"type":175,"value":1661},{"type":169,"tag":252,"props":3279,"children":3280},{"style":259},[3281],{"type":175,"value":443},{"type":169,"tag":252,"props":3283,"children":3284},{"style":265},[3285],{"type":175,"value":3163},{"type":169,"tag":252,"props":3287,"children":3288},{"style":330},[3289],{"type":175,"value":434},{"type":169,"tag":252,"props":3291,"children":3292},{"style":265},[3293],{"type":175,"value":1607},{"type":169,"tag":252,"props":3295,"children":3296},{"style":259},[3297],{"type":175,"value":443},{"type":169,"tag":252,"props":3299,"children":3300},{"style":446},[3301],{"type":175,"value":2373},{"type":169,"tag":252,"props":3303,"children":3304},{"style":265},[3305],{"type":175,"value":726},{"type":169,"tag":252,"props":3307,"children":3308},{"class":254,"line":691},[3309],{"type":169,"tag":252,"props":3310,"children":3311},{"emptyLinePlaceholder":162},[3312],{"type":175,"value":1070},{"type":169,"tag":252,"props":3314,"children":3315},{"class":254,"line":729},[3316],{"type":169,"tag":252,"props":3317,"children":3318},{"style":311},[3319],{"type":175,"value":3320},"// >>> #document-fragment\n",{"type":169,"tag":183,"props":3322,"children":3323},{},[3324],{"type":175,"value":3325},"我们继续。以下代码是对 createElement 的仿制， 用于返回一个已经 shiv 过的元素。主要是用来兼容原生 document.createElement 不支持创建一个非规范的元素的情况。比方说，HTML5 标签中有 article 元素，document.createElement 不支持的话，就需要调用此仿制 API。",{"type":169,"tag":241,"props":3327,"children":3329},{"className":243,"code":3328,"language":245,"meta":163,"style":163},"function createElement(nodeName, ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName)\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument)\n    }\n    var node\n\n    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode()\n    } else \n    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n    // 则创建一个新元素并存到缓存中\n    if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode()\n    } else \n    // 如果是不能被克隆的对象，那就直接创建吧...\n    {\n        node = data.createElem(nodeName)\n    }\n\n    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n    // Avoid adding some elements to fragments in IE \u003C 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn \n        ? data.frag.appendChild(node) \n        : node\n  }\n",[3330],{"type":169,"tag":248,"props":3331,"children":3332},{"__ignoreMap":163},[3333,3373,3396,3428,3435,3462,3489,3496,3508,3515,3523,3563,3611,3627,3635,3643,3685,3765,3780,3788,3796,3831,3838,3845,3853,3861,3869,3877,3885,3893,3901,3909,3990,4032,4044],{"type":169,"tag":252,"props":3334,"children":3335},{"class":254,"line":255},[3336,3340,3344,3348,3352,3356,3360,3364,3368],{"type":169,"tag":252,"props":3337,"children":3338},{"style":271},[3339],{"type":175,"value":274},{"type":169,"tag":252,"props":3341,"children":3342},{"style":446},[3343],{"type":175,"value":2580},{"type":169,"tag":252,"props":3345,"children":3346},{"style":259},[3347],{"type":175,"value":268},{"type":169,"tag":252,"props":3349,"children":3350},{"style":281},[3351],{"type":175,"value":2474},{"type":169,"tag":252,"props":3353,"children":3354},{"style":259},[3355],{"type":175,"value":289},{"type":169,"tag":252,"props":3357,"children":3358},{"style":281},[3359],{"type":175,"value":2348},{"type":169,"tag":252,"props":3361,"children":3362},{"style":259},[3363],{"type":175,"value":289},{"type":169,"tag":252,"props":3365,"children":3366},{"style":281},[3367],{"type":175,"value":1607},{"type":169,"tag":252,"props":3369,"children":3370},{"style":259},[3371],{"type":175,"value":3372},"){\n",{"type":169,"tag":252,"props":3374,"children":3375},{"class":254,"line":307},[3376,3380,3384,3388,3392],{"type":169,"tag":252,"props":3377,"children":3378},{"style":733},[3379],{"type":175,"value":1647},{"type":169,"tag":252,"props":3381,"children":3382},{"style":723},[3383],{"type":175,"value":268},{"type":169,"tag":252,"props":3385,"children":3386},{"style":265},[3387],{"type":175,"value":2138},{"type":169,"tag":252,"props":3389,"children":3390},{"style":723},[3391],{"type":175,"value":299},{"type":169,"tag":252,"props":3393,"children":3394},{"style":259},[3395],{"type":175,"value":1408},{"type":169,"tag":252,"props":3397,"children":3398},{"class":254,"line":317},[3399,3404,3408,3412,3416,3420,3424],{"type":169,"tag":252,"props":3400,"children":3401},{"style":733},[3402],{"type":175,"value":3403},"        return",{"type":169,"tag":252,"props":3405,"children":3406},{"style":265},[3407],{"type":175,"value":2348},{"type":169,"tag":252,"props":3409,"children":3410},{"style":259},[3411],{"type":175,"value":443},{"type":169,"tag":252,"props":3413,"children":3414},{"style":446},[3415],{"type":175,"value":449},{"type":169,"tag":252,"props":3417,"children":3418},{"style":723},[3419],{"type":175,"value":268},{"type":169,"tag":252,"props":3421,"children":3422},{"style":265},[3423],{"type":175,"value":2474},{"type":169,"tag":252,"props":3425,"children":3426},{"style":723},[3427],{"type":175,"value":471},{"type":169,"tag":252,"props":3429,"children":3430},{"class":254,"line":691},[3431],{"type":169,"tag":252,"props":3432,"children":3433},{"style":259},[3434],{"type":175,"value":1460},{"type":169,"tag":252,"props":3436,"children":3437},{"class":254,"line":729},[3438,3442,3446,3450,3454,3458],{"type":169,"tag":252,"props":3439,"children":3440},{"style":733},[3441],{"type":175,"value":1647},{"type":169,"tag":252,"props":3443,"children":3444},{"style":723},[3445],{"type":175,"value":488},{"type":169,"tag":252,"props":3447,"children":3448},{"style":330},[3449],{"type":175,"value":1656},{"type":169,"tag":252,"props":3451,"children":3452},{"style":265},[3453],{"type":175,"value":1661},{"type":169,"tag":252,"props":3455,"children":3456},{"style":723},[3457],{"type":175,"value":1403},{"type":169,"tag":252,"props":3459,"children":3460},{"style":259},[3461],{"type":175,"value":1408},{"type":169,"tag":252,"props":3463,"children":3464},{"class":254,"line":744},[3465,3469,3473,3477,3481,3485],{"type":169,"tag":252,"props":3466,"children":3467},{"style":265},[3468],{"type":175,"value":1677},{"type":169,"tag":252,"props":3470,"children":3471},{"style":330},[3472],{"type":175,"value":707},{"type":169,"tag":252,"props":3474,"children":3475},{"style":446},[3476],{"type":175,"value":1578},{"type":169,"tag":252,"props":3478,"children":3479},{"style":723},[3480],{"type":175,"value":268},{"type":169,"tag":252,"props":3482,"children":3483},{"style":265},[3484],{"type":175,"value":1587},{"type":169,"tag":252,"props":3486,"children":3487},{"style":723},[3488],{"type":175,"value":471},{"type":169,"tag":252,"props":3490,"children":3491},{"class":254,"line":787},[3492],{"type":169,"tag":252,"props":3493,"children":3494},{"style":259},[3495],{"type":175,"value":1460},{"type":169,"tag":252,"props":3497,"children":3498},{"class":254,"line":827},[3499,3503],{"type":169,"tag":252,"props":3500,"children":3501},{"style":271},[3502],{"type":175,"value":697},{"type":169,"tag":252,"props":3504,"children":3505},{"style":265},[3506],{"type":175,"value":3507}," node\n",{"type":169,"tag":252,"props":3509,"children":3510},{"class":254,"line":863},[3511],{"type":169,"tag":252,"props":3512,"children":3513},{"emptyLinePlaceholder":162},[3514],{"type":175,"value":1070},{"type":169,"tag":252,"props":3516,"children":3517},{"class":254,"line":872},[3518],{"type":169,"tag":252,"props":3519,"children":3520},{"style":311},[3521],{"type":175,"value":3522},"    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n",{"type":169,"tag":252,"props":3524,"children":3525},{"class":254,"line":1141},[3526,3530,3534,3538,3542,3546,3550,3554,3559],{"type":169,"tag":252,"props":3527,"children":3528},{"style":733},[3529],{"type":175,"value":1647},{"type":169,"tag":252,"props":3531,"children":3532},{"style":723},[3533],{"type":175,"value":488},{"type":169,"tag":252,"props":3535,"children":3536},{"style":265},[3537],{"type":175,"value":1661},{"type":169,"tag":252,"props":3539,"children":3540},{"style":259},[3541],{"type":175,"value":443},{"type":169,"tag":252,"props":3543,"children":3544},{"style":265},[3545],{"type":175,"value":2292},{"type":169,"tag":252,"props":3547,"children":3548},{"style":723},[3549],{"type":175,"value":1621},{"type":169,"tag":252,"props":3551,"children":3552},{"style":265},[3553],{"type":175,"value":2474},{"type":169,"tag":252,"props":3555,"children":3556},{"style":723},[3557],{"type":175,"value":3558},"]) ",{"type":169,"tag":252,"props":3560,"children":3561},{"style":259},[3562],{"type":175,"value":1408},{"type":169,"tag":252,"props":3564,"children":3565},{"class":254,"line":1150},[3566,3571,3575,3579,3583,3587,3591,3595,3599,3603,3607],{"type":169,"tag":252,"props":3567,"children":3568},{"style":265},[3569],{"type":175,"value":3570},"        node",{"type":169,"tag":252,"props":3572,"children":3573},{"style":330},[3574],{"type":175,"value":707},{"type":169,"tag":252,"props":3576,"children":3577},{"style":265},[3578],{"type":175,"value":1607},{"type":169,"tag":252,"props":3580,"children":3581},{"style":259},[3582],{"type":175,"value":443},{"type":169,"tag":252,"props":3584,"children":3585},{"style":265},[3586],{"type":175,"value":2292},{"type":169,"tag":252,"props":3588,"children":3589},{"style":723},[3590],{"type":175,"value":1621},{"type":169,"tag":252,"props":3592,"children":3593},{"style":265},[3594],{"type":175,"value":2474},{"type":169,"tag":252,"props":3596,"children":3597},{"style":723},[3598],{"type":175,"value":2839},{"type":169,"tag":252,"props":3600,"children":3601},{"style":259},[3602],{"type":175,"value":443},{"type":169,"tag":252,"props":3604,"children":3605},{"style":446},[3606],{"type":175,"value":763},{"type":169,"tag":252,"props":3608,"children":3609},{"style":723},[3610],{"type":175,"value":726},{"type":169,"tag":252,"props":3612,"children":3613},{"class":254,"line":1193},[3614,3618,3623],{"type":169,"tag":252,"props":3615,"children":3616},{"style":259},[3617],{"type":175,"value":1384},{"type":169,"tag":252,"props":3619,"children":3620},{"style":733},[3621],{"type":175,"value":3622}," else",{"type":169,"tag":252,"props":3624,"children":3625},{"style":723},[3626],{"type":175,"value":2709},{"type":169,"tag":252,"props":3628,"children":3629},{"class":254,"line":1226},[3630],{"type":169,"tag":252,"props":3631,"children":3632},{"style":311},[3633],{"type":175,"value":3634},"    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n",{"type":169,"tag":252,"props":3636,"children":3637},{"class":254,"line":1239},[3638],{"type":169,"tag":252,"props":3639,"children":3640},{"style":311},[3641],{"type":175,"value":3642},"    // 则创建一个新元素并存到缓存中\n",{"type":169,"tag":252,"props":3644,"children":3645},{"class":254,"line":1280},[3646,3650,3654,3659,3663,3668,3672,3676,3681],{"type":169,"tag":252,"props":3647,"children":3648},{"style":733},[3649],{"type":175,"value":1647},{"type":169,"tag":252,"props":3651,"children":3652},{"style":723},[3653],{"type":175,"value":488},{"type":169,"tag":252,"props":3655,"children":3656},{"style":265},[3657],{"type":175,"value":3658},"saveClones",{"type":169,"tag":252,"props":3660,"children":3661},{"style":259},[3662],{"type":175,"value":443},{"type":169,"tag":252,"props":3664,"children":3665},{"style":446},[3666],{"type":175,"value":3667},"test",{"type":169,"tag":252,"props":3669,"children":3670},{"style":723},[3671],{"type":175,"value":268},{"type":169,"tag":252,"props":3673,"children":3674},{"style":265},[3675],{"type":175,"value":2474},{"type":169,"tag":252,"props":3677,"children":3678},{"style":723},[3679],{"type":175,"value":3680},")) ",{"type":169,"tag":252,"props":3682,"children":3683},{"style":259},[3684],{"type":175,"value":1408},{"type":169,"tag":252,"props":3686,"children":3687},{"class":254,"line":1320},[3688,3692,3696,3700,3704,3708,3712,3716,3720,3724,3728,3732,3736,3740,3744,3748,3753,3757,3761],{"type":169,"tag":252,"props":3689,"children":3690},{"style":265},[3691],{"type":175,"value":3570},{"type":169,"tag":252,"props":3693,"children":3694},{"style":330},[3695],{"type":175,"value":707},{"type":169,"tag":252,"props":3697,"children":3698},{"style":723},[3699],{"type":175,"value":488},{"type":169,"tag":252,"props":3701,"children":3702},{"style":265},[3703],{"type":175,"value":1661},{"type":169,"tag":252,"props":3705,"children":3706},{"style":259},[3707],{"type":175,"value":443},{"type":169,"tag":252,"props":3709,"children":3710},{"style":265},[3711],{"type":175,"value":2292},{"type":169,"tag":252,"props":3713,"children":3714},{"style":723},[3715],{"type":175,"value":1621},{"type":169,"tag":252,"props":3717,"children":3718},{"style":265},[3719],{"type":175,"value":2474},{"type":169,"tag":252,"props":3721,"children":3722},{"style":723},[3723],{"type":175,"value":1719},{"type":169,"tag":252,"props":3725,"children":3726},{"style":330},[3727],{"type":175,"value":434},{"type":169,"tag":252,"props":3729,"children":3730},{"style":265},[3731],{"type":175,"value":1607},{"type":169,"tag":252,"props":3733,"children":3734},{"style":259},[3735],{"type":175,"value":443},{"type":169,"tag":252,"props":3737,"children":3738},{"style":446},[3739],{"type":175,"value":2339},{"type":169,"tag":252,"props":3741,"children":3742},{"style":723},[3743],{"type":175,"value":268},{"type":169,"tag":252,"props":3745,"children":3746},{"style":265},[3747],{"type":175,"value":2474},{"type":169,"tag":252,"props":3749,"children":3750},{"style":723},[3751],{"type":175,"value":3752},"))",{"type":169,"tag":252,"props":3754,"children":3755},{"style":259},[3756],{"type":175,"value":443},{"type":169,"tag":252,"props":3758,"children":3759},{"style":446},[3760],{"type":175,"value":763},{"type":169,"tag":252,"props":3762,"children":3763},{"style":723},[3764],{"type":175,"value":726},{"type":169,"tag":252,"props":3766,"children":3767},{"class":254,"line":1356},[3768,3772,3776],{"type":169,"tag":252,"props":3769,"children":3770},{"style":259},[3771],{"type":175,"value":1384},{"type":169,"tag":252,"props":3773,"children":3774},{"style":733},[3775],{"type":175,"value":3622},{"type":169,"tag":252,"props":3777,"children":3778},{"style":723},[3779],{"type":175,"value":2709},{"type":169,"tag":252,"props":3781,"children":3782},{"class":254,"line":1365},[3783],{"type":169,"tag":252,"props":3784,"children":3785},{"style":311},[3786],{"type":175,"value":3787},"    // 如果是不能被克隆的对象，那就直接创建吧...\n",{"type":169,"tag":252,"props":3789,"children":3790},{"class":254,"line":1378},[3791],{"type":169,"tag":252,"props":3792,"children":3793},{"style":259},[3794],{"type":175,"value":3795},"    {\n",{"type":169,"tag":252,"props":3797,"children":3798},{"class":254,"line":1411},[3799,3803,3807,3811,3815,3819,3823,3827],{"type":169,"tag":252,"props":3800,"children":3801},{"style":265},[3802],{"type":175,"value":3570},{"type":169,"tag":252,"props":3804,"children":3805},{"style":330},[3806],{"type":175,"value":707},{"type":169,"tag":252,"props":3808,"children":3809},{"style":265},[3810],{"type":175,"value":1607},{"type":169,"tag":252,"props":3812,"children":3813},{"style":259},[3814],{"type":175,"value":443},{"type":169,"tag":252,"props":3816,"children":3817},{"style":446},[3818],{"type":175,"value":2339},{"type":169,"tag":252,"props":3820,"children":3821},{"style":723},[3822],{"type":175,"value":268},{"type":169,"tag":252,"props":3824,"children":3825},{"style":265},[3826],{"type":175,"value":2474},{"type":169,"tag":252,"props":3828,"children":3829},{"style":723},[3830],{"type":175,"value":471},{"type":169,"tag":252,"props":3832,"children":3833},{"class":254,"line":1420},[3834],{"type":169,"tag":252,"props":3835,"children":3836},{"style":259},[3837],{"type":175,"value":1460},{"type":169,"tag":252,"props":3839,"children":3840},{"class":254,"line":1438},[3841],{"type":169,"tag":252,"props":3842,"children":3843},{"emptyLinePlaceholder":162},[3844],{"type":175,"value":1070},{"type":169,"tag":252,"props":3846,"children":3847},{"class":254,"line":1454},[3848],{"type":169,"tag":252,"props":3849,"children":3850},{"style":311},[3851],{"type":175,"value":3852},"    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n",{"type":169,"tag":252,"props":3854,"children":3855},{"class":254,"line":1463},[3856],{"type":169,"tag":252,"props":3857,"children":3858},{"style":311},[3859],{"type":175,"value":3860},"    // Avoid adding some elements to fragments in IE \u003C 9 because\n",{"type":169,"tag":252,"props":3862,"children":3863},{"class":254,"line":2752},[3864],{"type":169,"tag":252,"props":3865,"children":3866},{"style":311},[3867],{"type":175,"value":3868},"    // * Attributes like `name` or `type` cannot be set/changed once an element\n",{"type":169,"tag":252,"props":3870,"children":3871},{"class":254,"line":2773},[3872],{"type":169,"tag":252,"props":3873,"children":3874},{"style":311},[3875],{"type":175,"value":3876},"    //   is inserted into a document/fragment\n",{"type":169,"tag":252,"props":3878,"children":3879},{"class":254,"line":2782},[3880],{"type":169,"tag":252,"props":3881,"children":3882},{"style":311},[3883],{"type":175,"value":3884},"    // * Link elements with `src` attributes that are inaccessible, as with\n",{"type":169,"tag":252,"props":3886,"children":3887},{"class":254,"line":2881},[3888],{"type":169,"tag":252,"props":3889,"children":3890},{"style":311},[3891],{"type":175,"value":3892},"    //   a 403 response, will cause the tab/window to crash\n",{"type":169,"tag":252,"props":3894,"children":3895},{"class":254,"line":2910},[3896],{"type":169,"tag":252,"props":3897,"children":3898},{"style":311},[3899],{"type":175,"value":3900},"    // * Script elements appended to fragments will execute when their `src`\n",{"type":169,"tag":252,"props":3902,"children":3903},{"class":254,"line":2946},[3904],{"type":169,"tag":252,"props":3905,"children":3906},{"style":311},[3907],{"type":175,"value":3908},"    //   or `text` property is set\n",{"type":169,"tag":252,"props":3910,"children":3911},{"class":254,"line":2994},[3912,3916,3921,3925,3930,3934,3938,3943,3947,3951,3955,3959,3963,3968,3972,3977,3981,3986],{"type":169,"tag":252,"props":3913,"children":3914},{"style":733},[3915],{"type":175,"value":736},{"type":169,"tag":252,"props":3917,"children":3918},{"style":265},[3919],{"type":175,"value":3920}," node",{"type":169,"tag":252,"props":3922,"children":3923},{"style":259},[3924],{"type":175,"value":443},{"type":169,"tag":252,"props":3926,"children":3927},{"style":265},[3928],{"type":175,"value":3929},"canHaveChildren",{"type":169,"tag":252,"props":3931,"children":3932},{"style":330},[3933],{"type":175,"value":1908},{"type":169,"tag":252,"props":3935,"children":3936},{"style":330},[3937],{"type":175,"value":1913},{"type":169,"tag":252,"props":3939,"children":3940},{"style":265},[3941],{"type":175,"value":3942},"reSkip",{"type":169,"tag":252,"props":3944,"children":3945},{"style":259},[3946],{"type":175,"value":443},{"type":169,"tag":252,"props":3948,"children":3949},{"style":446},[3950],{"type":175,"value":3667},{"type":169,"tag":252,"props":3952,"children":3953},{"style":723},[3954],{"type":175,"value":268},{"type":169,"tag":252,"props":3956,"children":3957},{"style":265},[3958],{"type":175,"value":2474},{"type":169,"tag":252,"props":3960,"children":3961},{"style":723},[3962],{"type":175,"value":1403},{"type":169,"tag":252,"props":3964,"children":3965},{"style":330},[3966],{"type":175,"value":3967},"&&",{"type":169,"tag":252,"props":3969,"children":3970},{"style":330},[3971],{"type":175,"value":1913},{"type":169,"tag":252,"props":3973,"children":3974},{"style":265},[3975],{"type":175,"value":3976},"node",{"type":169,"tag":252,"props":3978,"children":3979},{"style":259},[3980],{"type":175,"value":443},{"type":169,"tag":252,"props":3982,"children":3983},{"style":265},[3984],{"type":175,"value":3985},"tagUrn",{"type":169,"tag":252,"props":3987,"children":3988},{"style":723},[3989],{"type":175,"value":2709},{"type":169,"tag":252,"props":3991,"children":3992},{"class":254,"line":3012},[3993,3998,4002,4006,4010,4014,4019,4023,4027],{"type":169,"tag":252,"props":3994,"children":3995},{"style":330},[3996],{"type":175,"value":3997},"        ?",{"type":169,"tag":252,"props":3999,"children":4000},{"style":265},[4001],{"type":175,"value":1607},{"type":169,"tag":252,"props":4003,"children":4004},{"style":259},[4005],{"type":175,"value":443},{"type":169,"tag":252,"props":4007,"children":4008},{"style":265},[4009],{"type":175,"value":2406},{"type":169,"tag":252,"props":4011,"children":4012},{"style":259},[4013],{"type":175,"value":443},{"type":169,"tag":252,"props":4015,"children":4016},{"style":446},[4017],{"type":175,"value":4018},"appendChild",{"type":169,"tag":252,"props":4020,"children":4021},{"style":723},[4022],{"type":175,"value":268},{"type":169,"tag":252,"props":4024,"children":4025},{"style":265},[4026],{"type":175,"value":3976},{"type":169,"tag":252,"props":4028,"children":4029},{"style":723},[4030],{"type":175,"value":4031},") \n",{"type":169,"tag":252,"props":4033,"children":4034},{"class":254,"line":3033},[4035,4040],{"type":169,"tag":252,"props":4036,"children":4037},{"style":330},[4038],{"type":175,"value":4039},"        :",{"type":169,"tag":252,"props":4041,"children":4042},{"style":265},[4043],{"type":175,"value":3507},{"type":169,"tag":252,"props":4045,"children":4046},{"class":254,"line":3049},[4047],{"type":169,"tag":252,"props":4048,"children":4049},{"style":259},[4050],{"type":175,"value":1784},{"type":169,"tag":183,"props":4052,"children":4053},{},[4054],{"type":175,"value":4055},"和 createElement 类似，createDocumentFragment 也需要仿制。",{"type":169,"tag":241,"props":4057,"children":4059},{"className":243,"code":4058,"language":245,"meta":163,"style":163},"function createDocumentFragment(ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment()\n    }\n    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n    data = data || getExpandoData(ownerDocument)\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length\n    for(;i\u003Cl;i++){\n        // 返回的 documentFragment 包含了所有 shived 元素\n        clone.createElement(elems[i])\n    }\n    return clone\n  }\n",[4060],{"type":169,"tag":248,"props":4061,"children":4062},{"__ignoreMap":163},[4063,4095,4118,4141,4148,4156,4192,4236,4257,4282,4308,4360,4368,4406,4413,4425],{"type":169,"tag":252,"props":4064,"children":4065},{"class":254,"line":255},[4066,4070,4075,4079,4083,4087,4091],{"type":169,"tag":252,"props":4067,"children":4068},{"style":271},[4069],{"type":175,"value":274},{"type":169,"tag":252,"props":4071,"children":4072},{"style":446},[4073],{"type":175,"value":4074}," createDocumentFragment",{"type":169,"tag":252,"props":4076,"children":4077},{"style":259},[4078],{"type":175,"value":268},{"type":169,"tag":252,"props":4080,"children":4081},{"style":281},[4082],{"type":175,"value":1587},{"type":169,"tag":252,"props":4084,"children":4085},{"style":259},[4086],{"type":175,"value":289},{"type":169,"tag":252,"props":4088,"children":4089},{"style":281},[4090],{"type":175,"value":1607},{"type":169,"tag":252,"props":4092,"children":4093},{"style":259},[4094],{"type":175,"value":3372},{"type":169,"tag":252,"props":4096,"children":4097},{"class":254,"line":307},[4098,4102,4106,4110,4114],{"type":169,"tag":252,"props":4099,"children":4100},{"style":733},[4101],{"type":175,"value":1647},{"type":169,"tag":252,"props":4103,"children":4104},{"style":723},[4105],{"type":175,"value":268},{"type":169,"tag":252,"props":4107,"children":4108},{"style":265},[4109],{"type":175,"value":2138},{"type":169,"tag":252,"props":4111,"children":4112},{"style":723},[4113],{"type":175,"value":299},{"type":169,"tag":252,"props":4115,"children":4116},{"style":259},[4117],{"type":175,"value":1408},{"type":169,"tag":252,"props":4119,"children":4120},{"class":254,"line":317},[4121,4125,4129,4133,4137],{"type":169,"tag":252,"props":4122,"children":4123},{"style":733},[4124],{"type":175,"value":3403},{"type":169,"tag":252,"props":4126,"children":4127},{"style":265},[4128],{"type":175,"value":2348},{"type":169,"tag":252,"props":4130,"children":4131},{"style":259},[4132],{"type":175,"value":443},{"type":169,"tag":252,"props":4134,"children":4135},{"style":446},[4136],{"type":175,"value":720},{"type":169,"tag":252,"props":4138,"children":4139},{"style":723},[4140],{"type":175,"value":726},{"type":169,"tag":252,"props":4142,"children":4143},{"class":254,"line":691},[4144],{"type":169,"tag":252,"props":4145,"children":4146},{"style":259},[4147],{"type":175,"value":1460},{"type":169,"tag":252,"props":4149,"children":4150},{"class":254,"line":729},[4151],{"type":169,"tag":252,"props":4152,"children":4153},{"style":311},[4154],{"type":175,"value":4155},"    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n",{"type":169,"tag":252,"props":4157,"children":4158},{"class":254,"line":744},[4159,4164,4168,4172,4176,4180,4184,4188],{"type":169,"tag":252,"props":4160,"children":4161},{"style":265},[4162],{"type":175,"value":4163},"    data",{"type":169,"tag":252,"props":4165,"children":4166},{"style":330},[4167],{"type":175,"value":707},{"type":169,"tag":252,"props":4169,"children":4170},{"style":265},[4171],{"type":175,"value":1607},{"type":169,"tag":252,"props":4173,"children":4174},{"style":330},[4175],{"type":175,"value":671},{"type":169,"tag":252,"props":4177,"children":4178},{"style":446},[4179],{"type":175,"value":1578},{"type":169,"tag":252,"props":4181,"children":4182},{"style":723},[4183],{"type":175,"value":268},{"type":169,"tag":252,"props":4185,"children":4186},{"style":265},[4187],{"type":175,"value":1587},{"type":169,"tag":252,"props":4189,"children":4190},{"style":723},[4191],{"type":175,"value":471},{"type":169,"tag":252,"props":4193,"children":4194},{"class":254,"line":787},[4195,4199,4204,4208,4212,4216,4220,4224,4228,4232],{"type":169,"tag":252,"props":4196,"children":4197},{"style":271},[4198],{"type":175,"value":697},{"type":169,"tag":252,"props":4200,"children":4201},{"style":265},[4202],{"type":175,"value":4203}," clone",{"type":169,"tag":252,"props":4205,"children":4206},{"style":330},[4207],{"type":175,"value":707},{"type":169,"tag":252,"props":4209,"children":4210},{"style":265},[4211],{"type":175,"value":1607},{"type":169,"tag":252,"props":4213,"children":4214},{"style":259},[4215],{"type":175,"value":443},{"type":169,"tag":252,"props":4217,"children":4218},{"style":265},[4219],{"type":175,"value":2406},{"type":169,"tag":252,"props":4221,"children":4222},{"style":259},[4223],{"type":175,"value":443},{"type":169,"tag":252,"props":4225,"children":4226},{"style":446},[4227],{"type":175,"value":763},{"type":169,"tag":252,"props":4229,"children":4230},{"style":723},[4231],{"type":175,"value":684},{"type":169,"tag":252,"props":4233,"children":4234},{"style":259},[4235],{"type":175,"value":1990},{"type":169,"tag":252,"props":4237,"children":4238},{"class":254,"line":827},[4239,4244,4248,4253],{"type":169,"tag":252,"props":4240,"children":4241},{"style":265},[4242],{"type":175,"value":4243},"        i",{"type":169,"tag":252,"props":4245,"children":4246},{"style":330},[4247],{"type":175,"value":707},{"type":169,"tag":252,"props":4249,"children":4250},{"style":663},[4251],{"type":175,"value":4252}," 0",{"type":169,"tag":252,"props":4254,"children":4255},{"style":259},[4256],{"type":175,"value":1990},{"type":169,"tag":252,"props":4258,"children":4259},{"class":254,"line":863},[4260,4265,4269,4274,4278],{"type":169,"tag":252,"props":4261,"children":4262},{"style":265},[4263],{"type":175,"value":4264},"        elems",{"type":169,"tag":252,"props":4266,"children":4267},{"style":330},[4268],{"type":175,"value":707},{"type":169,"tag":252,"props":4270,"children":4271},{"style":446},[4272],{"type":175,"value":4273}," getElements",{"type":169,"tag":252,"props":4275,"children":4276},{"style":723},[4277],{"type":175,"value":684},{"type":169,"tag":252,"props":4279,"children":4280},{"style":259},[4281],{"type":175,"value":1990},{"type":169,"tag":252,"props":4283,"children":4284},{"class":254,"line":872},[4285,4290,4294,4299,4303],{"type":169,"tag":252,"props":4286,"children":4287},{"style":265},[4288],{"type":175,"value":4289},"        l",{"type":169,"tag":252,"props":4291,"children":4292},{"style":330},[4293],{"type":175,"value":707},{"type":169,"tag":252,"props":4295,"children":4296},{"style":265},[4297],{"type":175,"value":4298}," elems",{"type":169,"tag":252,"props":4300,"children":4301},{"style":259},[4302],{"type":175,"value":443},{"type":169,"tag":252,"props":4304,"children":4305},{"style":652},[4306],{"type":175,"value":4307},"length\n",{"type":169,"tag":252,"props":4309,"children":4310},{"class":254,"line":1141},[4311,4316,4320,4324,4329,4334,4339,4343,4347,4352,4356],{"type":169,"tag":252,"props":4312,"children":4313},{"style":733},[4314],{"type":175,"value":4315},"    for",{"type":169,"tag":252,"props":4317,"children":4318},{"style":723},[4319],{"type":175,"value":268},{"type":169,"tag":252,"props":4321,"children":4322},{"style":259},[4323],{"type":175,"value":262},{"type":169,"tag":252,"props":4325,"children":4326},{"style":265},[4327],{"type":175,"value":4328},"i",{"type":169,"tag":252,"props":4330,"children":4331},{"style":330},[4332],{"type":175,"value":4333},"\u003C",{"type":169,"tag":252,"props":4335,"children":4336},{"style":265},[4337],{"type":175,"value":4338},"l",{"type":169,"tag":252,"props":4340,"children":4341},{"style":259},[4342],{"type":175,"value":262},{"type":169,"tag":252,"props":4344,"children":4345},{"style":265},[4346],{"type":175,"value":4328},{"type":169,"tag":252,"props":4348,"children":4349},{"style":330},[4350],{"type":175,"value":4351},"++",{"type":169,"tag":252,"props":4353,"children":4354},{"style":723},[4355],{"type":175,"value":299},{"type":169,"tag":252,"props":4357,"children":4358},{"style":259},[4359],{"type":175,"value":1408},{"type":169,"tag":252,"props":4361,"children":4362},{"class":254,"line":1150},[4363],{"type":169,"tag":252,"props":4364,"children":4365},{"style":311},[4366],{"type":175,"value":4367},"        // 返回的 documentFragment 包含了所有 shived 元素\n",{"type":169,"tag":252,"props":4369,"children":4370},{"class":254,"line":1193},[4371,4376,4380,4384,4388,4393,4397,4401],{"type":169,"tag":252,"props":4372,"children":4373},{"style":265},[4374],{"type":175,"value":4375},"        clone",{"type":169,"tag":252,"props":4377,"children":4378},{"style":259},[4379],{"type":175,"value":443},{"type":169,"tag":252,"props":4381,"children":4382},{"style":446},[4383],{"type":175,"value":449},{"type":169,"tag":252,"props":4385,"children":4386},{"style":723},[4387],{"type":175,"value":268},{"type":169,"tag":252,"props":4389,"children":4390},{"style":265},[4391],{"type":175,"value":4392},"elems",{"type":169,"tag":252,"props":4394,"children":4395},{"style":723},[4396],{"type":175,"value":1621},{"type":169,"tag":252,"props":4398,"children":4399},{"style":265},[4400],{"type":175,"value":4328},{"type":169,"tag":252,"props":4402,"children":4403},{"style":723},[4404],{"type":175,"value":4405},"])\n",{"type":169,"tag":252,"props":4407,"children":4408},{"class":254,"line":1226},[4409],{"type":169,"tag":252,"props":4410,"children":4411},{"style":259},[4412],{"type":175,"value":1460},{"type":169,"tag":252,"props":4414,"children":4415},{"class":254,"line":1239},[4416,4420],{"type":169,"tag":252,"props":4417,"children":4418},{"style":733},[4419],{"type":175,"value":736},{"type":169,"tag":252,"props":4421,"children":4422},{"style":265},[4423],{"type":175,"value":4424}," clone\n",{"type":169,"tag":252,"props":4426,"children":4427},{"class":254,"line":1280},[4428],{"type":169,"tag":252,"props":4429,"children":4430},{"style":259},[4431],{"type":175,"value":1784},{"type":169,"tag":183,"props":4433,"children":4434},{},[4435],{"type":175,"value":4436},"可以发现，需要 shiv 的元素都存在了 getElements 这个方法中，我们来看看具体实现。",{"type":169,"tag":241,"props":4438,"children":4440},{"className":243,"code":4439,"language":245,"meta":163,"style":163},"// getElements 返回 html5.elments 的数组形式\n// 看来 getElements 也只是一个类似 getter 的存在\nfunction getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\n\n// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\nvar html5 = {\n    // options 是外部调用 html5shiv 的接口参数\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'\n}\n",[4441],{"type":169,"tag":248,"props":4442,"children":4443},{"__ignoreMap":163},[4444,4452,4460,4479,4513,4591,4599,4606,4614,4634,4642,4695],{"type":169,"tag":252,"props":4445,"children":4446},{"class":254,"line":255},[4447],{"type":169,"tag":252,"props":4448,"children":4449},{"style":311},[4450],{"type":175,"value":4451},"// getElements 返回 html5.elments 的数组形式\n",{"type":169,"tag":252,"props":4453,"children":4454},{"class":254,"line":307},[4455],{"type":169,"tag":252,"props":4456,"children":4457},{"style":311},[4458],{"type":175,"value":4459},"// 看来 getElements 也只是一个类似 getter 的存在\n",{"type":169,"tag":252,"props":4461,"children":4462},{"class":254,"line":317},[4463,4467,4471,4475],{"type":169,"tag":252,"props":4464,"children":4465},{"style":271},[4466],{"type":175,"value":274},{"type":169,"tag":252,"props":4468,"children":4469},{"style":446},[4470],{"type":175,"value":4273},{"type":169,"tag":252,"props":4472,"children":4473},{"style":259},[4474],{"type":175,"value":684},{"type":169,"tag":252,"props":4476,"children":4477},{"style":259},[4478],{"type":175,"value":304},{"type":169,"tag":252,"props":4480,"children":4481},{"class":254,"line":691},[4482,4486,4491,4495,4500,4504,4509],{"type":169,"tag":252,"props":4483,"children":4484},{"style":271},[4485],{"type":175,"value":697},{"type":169,"tag":252,"props":4487,"children":4488},{"style":265},[4489],{"type":175,"value":4490}," elements",{"type":169,"tag":252,"props":4492,"children":4493},{"style":330},[4494],{"type":175,"value":707},{"type":169,"tag":252,"props":4496,"children":4497},{"style":265},[4498],{"type":175,"value":4499}," html5",{"type":169,"tag":252,"props":4501,"children":4502},{"style":259},[4503],{"type":175,"value":443},{"type":169,"tag":252,"props":4505,"children":4506},{"style":265},[4507],{"type":175,"value":4508},"elements",{"type":169,"tag":252,"props":4510,"children":4511},{"style":259},[4512],{"type":175,"value":394},{"type":169,"tag":252,"props":4514,"children":4515},{"class":254,"line":729},[4516,4520,4525,4529,4533,4537,4542,4546,4550,4554,4558,4563,4567,4571,4575,4579,4583,4587],{"type":169,"tag":252,"props":4517,"children":4518},{"style":733},[4519],{"type":175,"value":736},{"type":169,"tag":252,"props":4521,"children":4522},{"style":330},[4523],{"type":175,"value":4524}," typeof",{"type":169,"tag":252,"props":4526,"children":4527},{"style":265},[4528],{"type":175,"value":4490},{"type":169,"tag":252,"props":4530,"children":4531},{"style":330},[4532],{"type":175,"value":660},{"type":169,"tag":252,"props":4534,"children":4535},{"style":346},[4536],{"type":175,"value":609},{"type":169,"tag":252,"props":4538,"children":4539},{"style":352},[4540],{"type":175,"value":4541},"string",{"type":169,"tag":252,"props":4543,"children":4544},{"style":346},[4545],{"type":175,"value":458},{"type":169,"tag":252,"props":4547,"children":4548},{"style":330},[4549],{"type":175,"value":365},{"type":169,"tag":252,"props":4551,"children":4552},{"style":265},[4553],{"type":175,"value":4490},{"type":169,"tag":252,"props":4555,"children":4556},{"style":259},[4557],{"type":175,"value":443},{"type":169,"tag":252,"props":4559,"children":4560},{"style":446},[4561],{"type":175,"value":4562},"split",{"type":169,"tag":252,"props":4564,"children":4565},{"style":723},[4566],{"type":175,"value":268},{"type":169,"tag":252,"props":4568,"children":4569},{"style":346},[4570],{"type":175,"value":458},{"type":169,"tag":252,"props":4572,"children":4573},{"style":346},[4574],{"type":175,"value":609},{"type":169,"tag":252,"props":4576,"children":4577},{"style":723},[4578],{"type":175,"value":1403},{"type":169,"tag":252,"props":4580,"children":4581},{"style":330},[4582],{"type":175,"value":374},{"type":169,"tag":252,"props":4584,"children":4585},{"style":265},[4586],{"type":175,"value":4490},{"type":169,"tag":252,"props":4588,"children":4589},{"style":259},[4590],{"type":175,"value":394},{"type":169,"tag":252,"props":4592,"children":4593},{"class":254,"line":744},[4594],{"type":169,"tag":252,"props":4595,"children":4596},{"style":259},[4597],{"type":175,"value":4598},"}\n",{"type":169,"tag":252,"props":4600,"children":4601},{"class":254,"line":787},[4602],{"type":169,"tag":252,"props":4603,"children":4604},{"emptyLinePlaceholder":162},[4605],{"type":175,"value":1070},{"type":169,"tag":252,"props":4607,"children":4608},{"class":254,"line":827},[4609],{"type":169,"tag":252,"props":4610,"children":4611},{"style":311},[4612],{"type":175,"value":4613},"// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\n",{"type":169,"tag":252,"props":4615,"children":4616},{"class":254,"line":863},[4617,4621,4626,4630],{"type":169,"tag":252,"props":4618,"children":4619},{"style":271},[4620],{"type":175,"value":1502},{"type":169,"tag":252,"props":4622,"children":4623},{"style":265},[4624],{"type":175,"value":4625}," html5 ",{"type":169,"tag":252,"props":4627,"children":4628},{"style":330},[4629],{"type":175,"value":434},{"type":169,"tag":252,"props":4631,"children":4632},{"style":259},[4633],{"type":175,"value":304},{"type":169,"tag":252,"props":4635,"children":4636},{"class":254,"line":872},[4637],{"type":169,"tag":252,"props":4638,"children":4639},{"style":311},[4640],{"type":175,"value":4641},"    // options 是外部调用 html5shiv 的接口参数\n",{"type":169,"tag":252,"props":4643,"children":4644},{"class":254,"line":1141},[4645,4650,4655,4659,4663,4668,4672,4677,4682,4686,4691],{"type":169,"tag":252,"props":4646,"children":4647},{"style":346},[4648],{"type":175,"value":4649},"    '",{"type":169,"tag":252,"props":4651,"children":4653},{"style":4652},"--shiki-light:#E53935;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[4654],{"type":175,"value":4508},{"type":169,"tag":252,"props":4656,"children":4657},{"style":346},[4658],{"type":175,"value":458},{"type":169,"tag":252,"props":4660,"children":4661},{"style":259},[4662],{"type":175,"value":374},{"type":169,"tag":252,"props":4664,"children":4665},{"style":265},[4666],{"type":175,"value":4667}," options",{"type":169,"tag":252,"props":4669,"children":4670},{"style":259},[4671],{"type":175,"value":443},{"type":169,"tag":252,"props":4673,"children":4674},{"style":265},[4675],{"type":175,"value":4676},"elements ",{"type":169,"tag":252,"props":4678,"children":4679},{"style":330},[4680],{"type":175,"value":4681},"||",{"type":169,"tag":252,"props":4683,"children":4684},{"style":346},[4685],{"type":175,"value":609},{"type":169,"tag":252,"props":4687,"children":4688},{"style":352},[4689],{"type":175,"value":4690},"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",{"type":169,"tag":252,"props":4692,"children":4693},{"style":346},[4694],{"type":175,"value":619},{"type":169,"tag":252,"props":4696,"children":4697},{"class":254,"line":1150},[4698],{"type":169,"tag":252,"props":4699,"children":4700},{"style":259},[4701],{"type":175,"value":4598},{"type":169,"tag":230,"props":4703,"children":4705},{"id":4704},"私有方法",[4706],{"type":175,"value":4704},{"type":169,"tag":183,"props":4708,"children":4709},{},[4710],{"type":175,"value":4711},"接下来是几个私有方法。和 shiv 原理不相关，所以不重要。",{"type":169,"tag":241,"props":4713,"children":4715},{"className":243,"code":4714,"language":245,"meta":163,"style":163},"/**\n * Creates a style sheet with the given CSS text and adds it to the document.\n * 在文档头部添加样式标签\n */\nfunction addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement\n    // ? 这个 'x' 应该是兼容性考虑\n    p.innerHTML = 'x\u003Cstyle>' + cssText + '\u003C/style>'\n    return parent.insertBefore(p.lastChild, parent.firstChild)\n}\n",[4716],{"type":169,"tag":248,"props":4717,"children":4718},{"__ignoreMap":163},[4719,4727,4735,4743,4751,4788,4840,4913,4921,4979,5038],{"type":169,"tag":252,"props":4720,"children":4721},{"class":254,"line":255},[4722],{"type":169,"tag":252,"props":4723,"children":4724},{"style":311},[4725],{"type":175,"value":4726},"/**\n",{"type":169,"tag":252,"props":4728,"children":4729},{"class":254,"line":307},[4730],{"type":169,"tag":252,"props":4731,"children":4732},{"style":311},[4733],{"type":175,"value":4734}," * Creates a style sheet with the given CSS text and adds it to the document.\n",{"type":169,"tag":252,"props":4736,"children":4737},{"class":254,"line":317},[4738],{"type":169,"tag":252,"props":4739,"children":4740},{"style":311},[4741],{"type":175,"value":4742}," * 在文档头部添加样式标签\n",{"type":169,"tag":252,"props":4744,"children":4745},{"class":254,"line":691},[4746],{"type":169,"tag":252,"props":4747,"children":4748},{"style":311},[4749],{"type":175,"value":4750}," */\n",{"type":169,"tag":252,"props":4752,"children":4753},{"class":254,"line":729},[4754,4758,4763,4767,4771,4775,4780,4784],{"type":169,"tag":252,"props":4755,"children":4756},{"style":271},[4757],{"type":175,"value":274},{"type":169,"tag":252,"props":4759,"children":4760},{"style":446},[4761],{"type":175,"value":4762}," addStyleSheet",{"type":169,"tag":252,"props":4764,"children":4765},{"style":259},[4766],{"type":175,"value":268},{"type":169,"tag":252,"props":4768,"children":4769},{"style":281},[4770],{"type":175,"value":1587},{"type":169,"tag":252,"props":4772,"children":4773},{"style":259},[4774],{"type":175,"value":289},{"type":169,"tag":252,"props":4776,"children":4777},{"style":281},[4778],{"type":175,"value":4779}," cssText",{"type":169,"tag":252,"props":4781,"children":4782},{"style":259},[4783],{"type":175,"value":299},{"type":169,"tag":252,"props":4785,"children":4786},{"style":259},[4787],{"type":175,"value":304},{"type":169,"tag":252,"props":4789,"children":4790},{"class":254,"line":744},[4791,4795,4800,4804,4808,4812,4816,4820,4824,4828,4832,4836],{"type":169,"tag":252,"props":4792,"children":4793},{"style":271},[4794],{"type":175,"value":697},{"type":169,"tag":252,"props":4796,"children":4797},{"style":265},[4798],{"type":175,"value":4799}," p",{"type":169,"tag":252,"props":4801,"children":4802},{"style":330},[4803],{"type":175,"value":707},{"type":169,"tag":252,"props":4805,"children":4806},{"style":265},[4807],{"type":175,"value":2348},{"type":169,"tag":252,"props":4809,"children":4810},{"style":259},[4811],{"type":175,"value":443},{"type":169,"tag":252,"props":4813,"children":4814},{"style":446},[4815],{"type":175,"value":449},{"type":169,"tag":252,"props":4817,"children":4818},{"style":723},[4819],{"type":175,"value":268},{"type":169,"tag":252,"props":4821,"children":4822},{"style":346},[4823],{"type":175,"value":458},{"type":169,"tag":252,"props":4825,"children":4826},{"style":352},[4827],{"type":175,"value":183},{"type":169,"tag":252,"props":4829,"children":4830},{"style":346},[4831],{"type":175,"value":458},{"type":169,"tag":252,"props":4833,"children":4834},{"style":723},[4835],{"type":175,"value":299},{"type":169,"tag":252,"props":4837,"children":4838},{"style":259},[4839],{"type":175,"value":1990},{"type":169,"tag":252,"props":4841,"children":4842},{"class":254,"line":787},[4843,4848,4852,4856,4860,4865,4869,4873,4878,4882,4887,4892,4896,4900,4904,4908],{"type":169,"tag":252,"props":4844,"children":4845},{"style":265},[4846],{"type":175,"value":4847},"        parent",{"type":169,"tag":252,"props":4849,"children":4850},{"style":330},[4851],{"type":175,"value":707},{"type":169,"tag":252,"props":4853,"children":4854},{"style":265},[4855],{"type":175,"value":2348},{"type":169,"tag":252,"props":4857,"children":4858},{"style":259},[4859],{"type":175,"value":443},{"type":169,"tag":252,"props":4861,"children":4862},{"style":446},[4863],{"type":175,"value":4864},"getElementsByTagName",{"type":169,"tag":252,"props":4866,"children":4867},{"style":723},[4868],{"type":175,"value":268},{"type":169,"tag":252,"props":4870,"children":4871},{"style":346},[4872],{"type":175,"value":458},{"type":169,"tag":252,"props":4874,"children":4875},{"style":352},[4876],{"type":175,"value":4877},"head",{"type":169,"tag":252,"props":4879,"children":4880},{"style":346},[4881],{"type":175,"value":458},{"type":169,"tag":252,"props":4883,"children":4884},{"style":723},[4885],{"type":175,"value":4886},")[",{"type":169,"tag":252,"props":4888,"children":4889},{"style":663},[4890],{"type":175,"value":4891},"0",{"type":169,"tag":252,"props":4893,"children":4894},{"style":723},[4895],{"type":175,"value":1719},{"type":169,"tag":252,"props":4897,"children":4898},{"style":330},[4899],{"type":175,"value":4681},{"type":169,"tag":252,"props":4901,"children":4902},{"style":265},[4903],{"type":175,"value":2348},{"type":169,"tag":252,"props":4905,"children":4906},{"style":259},[4907],{"type":175,"value":443},{"type":169,"tag":252,"props":4909,"children":4910},{"style":265},[4911],{"type":175,"value":4912},"documentElement\n",{"type":169,"tag":252,"props":4914,"children":4915},{"class":254,"line":827},[4916],{"type":169,"tag":252,"props":4917,"children":4918},{"style":311},[4919],{"type":175,"value":4920},"    // ? 这个 'x' 应该是兼容性考虑\n",{"type":169,"tag":252,"props":4922,"children":4923},{"class":254,"line":863},[4924,4929,4933,4937,4941,4945,4950,4954,4958,4962,4966,4970,4975],{"type":169,"tag":252,"props":4925,"children":4926},{"style":265},[4927],{"type":175,"value":4928},"    p",{"type":169,"tag":252,"props":4930,"children":4931},{"style":259},[4932],{"type":175,"value":443},{"type":169,"tag":252,"props":4934,"children":4935},{"style":265},[4936],{"type":175,"value":990},{"type":169,"tag":252,"props":4938,"children":4939},{"style":330},[4940],{"type":175,"value":707},{"type":169,"tag":252,"props":4942,"children":4943},{"style":346},[4944],{"type":175,"value":609},{"type":169,"tag":252,"props":4946,"children":4947},{"style":352},[4948],{"type":175,"value":4949},"x\u003Cstyle>",{"type":169,"tag":252,"props":4951,"children":4952},{"style":346},[4953],{"type":175,"value":458},{"type":169,"tag":252,"props":4955,"children":4956},{"style":330},[4957],{"type":175,"value":2969},{"type":169,"tag":252,"props":4959,"children":4960},{"style":265},[4961],{"type":175,"value":4779},{"type":169,"tag":252,"props":4963,"children":4964},{"style":330},[4965],{"type":175,"value":2969},{"type":169,"tag":252,"props":4967,"children":4968},{"style":346},[4969],{"type":175,"value":609},{"type":169,"tag":252,"props":4971,"children":4972},{"style":352},[4973],{"type":175,"value":4974},"\u003C/style>",{"type":169,"tag":252,"props":4976,"children":4977},{"style":346},[4978],{"type":175,"value":619},{"type":169,"tag":252,"props":4980,"children":4981},{"class":254,"line":872},[4982,4986,4991,4995,5000,5004,5008,5012,5017,5021,5025,5029,5034],{"type":169,"tag":252,"props":4983,"children":4984},{"style":733},[4985],{"type":175,"value":736},{"type":169,"tag":252,"props":4987,"children":4988},{"style":265},[4989],{"type":175,"value":4990}," parent",{"type":169,"tag":252,"props":4992,"children":4993},{"style":259},[4994],{"type":175,"value":443},{"type":169,"tag":252,"props":4996,"children":4997},{"style":446},[4998],{"type":175,"value":4999},"insertBefore",{"type":169,"tag":252,"props":5001,"children":5002},{"style":723},[5003],{"type":175,"value":268},{"type":169,"tag":252,"props":5005,"children":5006},{"style":265},[5007],{"type":175,"value":183},{"type":169,"tag":252,"props":5009,"children":5010},{"style":259},[5011],{"type":175,"value":443},{"type":169,"tag":252,"props":5013,"children":5014},{"style":265},[5015],{"type":175,"value":5016},"lastChild",{"type":169,"tag":252,"props":5018,"children":5019},{"style":259},[5020],{"type":175,"value":289},{"type":169,"tag":252,"props":5022,"children":5023},{"style":265},[5024],{"type":175,"value":4990},{"type":169,"tag":252,"props":5026,"children":5027},{"style":259},[5028],{"type":175,"value":443},{"type":169,"tag":252,"props":5030,"children":5031},{"style":265},[5032],{"type":175,"value":5033},"firstChild",{"type":169,"tag":252,"props":5035,"children":5036},{"style":723},[5037],{"type":175,"value":471},{"type":169,"tag":252,"props":5039,"children":5040},{"class":254,"line":1141},[5041],{"type":169,"tag":252,"props":5042,"children":5043},{"style":259},[5044],{"type":175,"value":4598},{"type":169,"tag":183,"props":5046,"children":5047},{},[5048],{"type":175,"value":5049},"一对用来维护 html5.elements 的方法 getElements、addElements。相当于 getter/setter。因为 html5shiv 将 html5 这个对象挂载到了 window 对象上，向外暴露。所以可以轻易调用 addElements 维护 html.elements。",{"type":169,"tag":241,"props":5051,"children":5053},{"className":243,"code":5052,"language":245,"meta":163,"style":163},"function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\nfunction addElements(newElements, ownerDocument) {\n    var elements = html5.elements\n    if(typeof elements != 'string'){\n        elements = elements.join(' ')\n    }\n    if(typeof newElements != 'string'){\n        newElements = newElements.join(' ')\n    }\n    html5.elements = elements +' '+ newElements\n\n    // 每次增加元素的最后，会进行一次 shiv\n    shivDocument(ownerDocument)\n}\n",[5054],{"type":169,"tag":248,"props":5055,"children":5056},{"__ignoreMap":163},[5057,5076,5107,5182,5189,5226,5254,5298,5338,5345,5389,5429,5436,5481,5488,5496,5516],{"type":169,"tag":252,"props":5058,"children":5059},{"class":254,"line":255},[5060,5064,5068,5072],{"type":169,"tag":252,"props":5061,"children":5062},{"style":271},[5063],{"type":175,"value":274},{"type":169,"tag":252,"props":5065,"children":5066},{"style":446},[5067],{"type":175,"value":4273},{"type":169,"tag":252,"props":5069,"children":5070},{"style":259},[5071],{"type":175,"value":684},{"type":169,"tag":252,"props":5073,"children":5074},{"style":259},[5075],{"type":175,"value":304},{"type":169,"tag":252,"props":5077,"children":5078},{"class":254,"line":307},[5079,5083,5087,5091,5095,5099,5103],{"type":169,"tag":252,"props":5080,"children":5081},{"style":271},[5082],{"type":175,"value":697},{"type":169,"tag":252,"props":5084,"children":5085},{"style":265},[5086],{"type":175,"value":4490},{"type":169,"tag":252,"props":5088,"children":5089},{"style":330},[5090],{"type":175,"value":707},{"type":169,"tag":252,"props":5092,"children":5093},{"style":265},[5094],{"type":175,"value":4499},{"type":169,"tag":252,"props":5096,"children":5097},{"style":259},[5098],{"type":175,"value":443},{"type":169,"tag":252,"props":5100,"children":5101},{"style":265},[5102],{"type":175,"value":4508},{"type":169,"tag":252,"props":5104,"children":5105},{"style":259},[5106],{"type":175,"value":394},{"type":169,"tag":252,"props":5108,"children":5109},{"class":254,"line":317},[5110,5114,5118,5122,5126,5130,5134,5138,5142,5146,5150,5154,5158,5162,5166,5170,5174,5178],{"type":169,"tag":252,"props":5111,"children":5112},{"style":733},[5113],{"type":175,"value":736},{"type":169,"tag":252,"props":5115,"children":5116},{"style":330},[5117],{"type":175,"value":4524},{"type":169,"tag":252,"props":5119,"children":5120},{"style":265},[5121],{"type":175,"value":4490},{"type":169,"tag":252,"props":5123,"children":5124},{"style":330},[5125],{"type":175,"value":660},{"type":169,"tag":252,"props":5127,"children":5128},{"style":346},[5129],{"type":175,"value":609},{"type":169,"tag":252,"props":5131,"children":5132},{"style":352},[5133],{"type":175,"value":4541},{"type":169,"tag":252,"props":5135,"children":5136},{"style":346},[5137],{"type":175,"value":458},{"type":169,"tag":252,"props":5139,"children":5140},{"style":330},[5141],{"type":175,"value":365},{"type":169,"tag":252,"props":5143,"children":5144},{"style":265},[5145],{"type":175,"value":4490},{"type":169,"tag":252,"props":5147,"children":5148},{"style":259},[5149],{"type":175,"value":443},{"type":169,"tag":252,"props":5151,"children":5152},{"style":446},[5153],{"type":175,"value":4562},{"type":169,"tag":252,"props":5155,"children":5156},{"style":723},[5157],{"type":175,"value":268},{"type":169,"tag":252,"props":5159,"children":5160},{"style":346},[5161],{"type":175,"value":458},{"type":169,"tag":252,"props":5163,"children":5164},{"style":346},[5165],{"type":175,"value":609},{"type":169,"tag":252,"props":5167,"children":5168},{"style":723},[5169],{"type":175,"value":1403},{"type":169,"tag":252,"props":5171,"children":5172},{"style":330},[5173],{"type":175,"value":374},{"type":169,"tag":252,"props":5175,"children":5176},{"style":265},[5177],{"type":175,"value":4490},{"type":169,"tag":252,"props":5179,"children":5180},{"style":259},[5181],{"type":175,"value":394},{"type":169,"tag":252,"props":5183,"children":5184},{"class":254,"line":691},[5185],{"type":169,"tag":252,"props":5186,"children":5187},{"style":259},[5188],{"type":175,"value":4598},{"type":169,"tag":252,"props":5190,"children":5191},{"class":254,"line":729},[5192,5196,5201,5205,5210,5214,5218,5222],{"type":169,"tag":252,"props":5193,"children":5194},{"style":271},[5195],{"type":175,"value":274},{"type":169,"tag":252,"props":5197,"children":5198},{"style":446},[5199],{"type":175,"value":5200}," addElements",{"type":169,"tag":252,"props":5202,"children":5203},{"style":259},[5204],{"type":175,"value":268},{"type":169,"tag":252,"props":5206,"children":5207},{"style":281},[5208],{"type":175,"value":5209},"newElements",{"type":169,"tag":252,"props":5211,"children":5212},{"style":259},[5213],{"type":175,"value":289},{"type":169,"tag":252,"props":5215,"children":5216},{"style":281},[5217],{"type":175,"value":2348},{"type":169,"tag":252,"props":5219,"children":5220},{"style":259},[5221],{"type":175,"value":299},{"type":169,"tag":252,"props":5223,"children":5224},{"style":259},[5225],{"type":175,"value":304},{"type":169,"tag":252,"props":5227,"children":5228},{"class":254,"line":744},[5229,5233,5237,5241,5245,5249],{"type":169,"tag":252,"props":5230,"children":5231},{"style":271},[5232],{"type":175,"value":697},{"type":169,"tag":252,"props":5234,"children":5235},{"style":265},[5236],{"type":175,"value":4490},{"type":169,"tag":252,"props":5238,"children":5239},{"style":330},[5240],{"type":175,"value":707},{"type":169,"tag":252,"props":5242,"children":5243},{"style":265},[5244],{"type":175,"value":4499},{"type":169,"tag":252,"props":5246,"children":5247},{"style":259},[5248],{"type":175,"value":443},{"type":169,"tag":252,"props":5250,"children":5251},{"style":265},[5252],{"type":175,"value":5253},"elements\n",{"type":169,"tag":252,"props":5255,"children":5256},{"class":254,"line":787},[5257,5261,5265,5269,5273,5278,5282,5286,5290,5294],{"type":169,"tag":252,"props":5258,"children":5259},{"style":733},[5260],{"type":175,"value":1647},{"type":169,"tag":252,"props":5262,"children":5263},{"style":723},[5264],{"type":175,"value":268},{"type":169,"tag":252,"props":5266,"children":5267},{"style":330},[5268],{"type":175,"value":333},{"type":169,"tag":252,"props":5270,"children":5271},{"style":265},[5272],{"type":175,"value":4490},{"type":169,"tag":252,"props":5274,"children":5275},{"style":330},[5276],{"type":175,"value":5277}," !=",{"type":169,"tag":252,"props":5279,"children":5280},{"style":346},[5281],{"type":175,"value":609},{"type":169,"tag":252,"props":5283,"children":5284},{"style":352},[5285],{"type":175,"value":4541},{"type":169,"tag":252,"props":5287,"children":5288},{"style":346},[5289],{"type":175,"value":458},{"type":169,"tag":252,"props":5291,"children":5292},{"style":723},[5293],{"type":175,"value":299},{"type":169,"tag":252,"props":5295,"children":5296},{"style":259},[5297],{"type":175,"value":1408},{"type":169,"tag":252,"props":5299,"children":5300},{"class":254,"line":827},[5301,5306,5310,5314,5318,5322,5326,5330,5334],{"type":169,"tag":252,"props":5302,"children":5303},{"style":265},[5304],{"type":175,"value":5305},"        elements",{"type":169,"tag":252,"props":5307,"children":5308},{"style":330},[5309],{"type":175,"value":707},{"type":169,"tag":252,"props":5311,"children":5312},{"style":265},[5313],{"type":175,"value":4490},{"type":169,"tag":252,"props":5315,"children":5316},{"style":259},[5317],{"type":175,"value":443},{"type":169,"tag":252,"props":5319,"children":5320},{"style":446},[5321],{"type":175,"value":2801},{"type":169,"tag":252,"props":5323,"children":5324},{"style":723},[5325],{"type":175,"value":268},{"type":169,"tag":252,"props":5327,"children":5328},{"style":346},[5329],{"type":175,"value":458},{"type":169,"tag":252,"props":5331,"children":5332},{"style":346},[5333],{"type":175,"value":609},{"type":169,"tag":252,"props":5335,"children":5336},{"style":723},[5337],{"type":175,"value":471},{"type":169,"tag":252,"props":5339,"children":5340},{"class":254,"line":863},[5341],{"type":169,"tag":252,"props":5342,"children":5343},{"style":259},[5344],{"type":175,"value":1460},{"type":169,"tag":252,"props":5346,"children":5347},{"class":254,"line":872},[5348,5352,5356,5360,5365,5369,5373,5377,5381,5385],{"type":169,"tag":252,"props":5349,"children":5350},{"style":733},[5351],{"type":175,"value":1647},{"type":169,"tag":252,"props":5353,"children":5354},{"style":723},[5355],{"type":175,"value":268},{"type":169,"tag":252,"props":5357,"children":5358},{"style":330},[5359],{"type":175,"value":333},{"type":169,"tag":252,"props":5361,"children":5362},{"style":265},[5363],{"type":175,"value":5364}," newElements",{"type":169,"tag":252,"props":5366,"children":5367},{"style":330},[5368],{"type":175,"value":5277},{"type":169,"tag":252,"props":5370,"children":5371},{"style":346},[5372],{"type":175,"value":609},{"type":169,"tag":252,"props":5374,"children":5375},{"style":352},[5376],{"type":175,"value":4541},{"type":169,"tag":252,"props":5378,"children":5379},{"style":346},[5380],{"type":175,"value":458},{"type":169,"tag":252,"props":5382,"children":5383},{"style":723},[5384],{"type":175,"value":299},{"type":169,"tag":252,"props":5386,"children":5387},{"style":259},[5388],{"type":175,"value":1408},{"type":169,"tag":252,"props":5390,"children":5391},{"class":254,"line":1141},[5392,5397,5401,5405,5409,5413,5417,5421,5425],{"type":169,"tag":252,"props":5393,"children":5394},{"style":265},[5395],{"type":175,"value":5396},"        newElements",{"type":169,"tag":252,"props":5398,"children":5399},{"style":330},[5400],{"type":175,"value":707},{"type":169,"tag":252,"props":5402,"children":5403},{"style":265},[5404],{"type":175,"value":5364},{"type":169,"tag":252,"props":5406,"children":5407},{"style":259},[5408],{"type":175,"value":443},{"type":169,"tag":252,"props":5410,"children":5411},{"style":446},[5412],{"type":175,"value":2801},{"type":169,"tag":252,"props":5414,"children":5415},{"style":723},[5416],{"type":175,"value":268},{"type":169,"tag":252,"props":5418,"children":5419},{"style":346},[5420],{"type":175,"value":458},{"type":169,"tag":252,"props":5422,"children":5423},{"style":346},[5424],{"type":175,"value":609},{"type":169,"tag":252,"props":5426,"children":5427},{"style":723},[5428],{"type":175,"value":471},{"type":169,"tag":252,"props":5430,"children":5431},{"class":254,"line":1150},[5432],{"type":169,"tag":252,"props":5433,"children":5434},{"style":259},[5435],{"type":175,"value":1460},{"type":169,"tag":252,"props":5437,"children":5438},{"class":254,"line":1193},[5439,5444,5448,5452,5456,5460,5464,5468,5472,5476],{"type":169,"tag":252,"props":5440,"children":5441},{"style":265},[5442],{"type":175,"value":5443},"    html5",{"type":169,"tag":252,"props":5445,"children":5446},{"style":259},[5447],{"type":175,"value":443},{"type":169,"tag":252,"props":5449,"children":5450},{"style":265},[5451],{"type":175,"value":4508},{"type":169,"tag":252,"props":5453,"children":5454},{"style":330},[5455],{"type":175,"value":707},{"type":169,"tag":252,"props":5457,"children":5458},{"style":265},[5459],{"type":175,"value":4490},{"type":169,"tag":252,"props":5461,"children":5462},{"style":330},[5463],{"type":175,"value":2969},{"type":169,"tag":252,"props":5465,"children":5466},{"style":346},[5467],{"type":175,"value":458},{"type":169,"tag":252,"props":5469,"children":5470},{"style":346},[5471],{"type":175,"value":609},{"type":169,"tag":252,"props":5473,"children":5474},{"style":330},[5475],{"type":175,"value":2844},{"type":169,"tag":252,"props":5477,"children":5478},{"style":265},[5479],{"type":175,"value":5480}," newElements\n",{"type":169,"tag":252,"props":5482,"children":5483},{"class":254,"line":1226},[5484],{"type":169,"tag":252,"props":5485,"children":5486},{"emptyLinePlaceholder":162},[5487],{"type":175,"value":1070},{"type":169,"tag":252,"props":5489,"children":5490},{"class":254,"line":1239},[5491],{"type":169,"tag":252,"props":5492,"children":5493},{"style":311},[5494],{"type":175,"value":5495},"    // 每次增加元素的最后，会进行一次 shiv\n",{"type":169,"tag":252,"props":5497,"children":5498},{"class":254,"line":1280},[5499,5504,5508,5512],{"type":169,"tag":252,"props":5500,"children":5501},{"style":446},[5502],{"type":175,"value":5503},"    shivDocument",{"type":169,"tag":252,"props":5505,"children":5506},{"style":723},[5507],{"type":175,"value":268},{"type":169,"tag":252,"props":5509,"children":5510},{"style":265},[5511],{"type":175,"value":1587},{"type":169,"tag":252,"props":5513,"children":5514},{"style":723},[5515],{"type":175,"value":471},{"type":169,"tag":252,"props":5517,"children":5518},{"class":254,"line":1320},[5519],{"type":169,"tag":252,"props":5520,"children":5521},{"style":259},[5522],{"type":175,"value":4598},{"type":169,"tag":177,"props":5524,"children":5526},{"id":5525},"阅读更多",[5527],{"type":175,"value":5525},{"type":169,"tag":183,"props":5529,"children":5530},{},[5531],{"type":175,"value":5532},"害，看 html5shiv 并不能带来什么具体的帮助。看完之后，只感觉上一代前端真是太辛苦了，为 IE 操碎了心。现代前端技术随着打包工具的发展开阔了不止一点，兼容性这个曾经的代码重心已经悄然落下帷幕。如果现在我去哪家公司面试，还会被大面积问到兼容性问题，那估计我会当场“quit”吧。",{"type":169,"tag":5534,"props":5535,"children":5538},"section",{"className":5536,"dataFootnotes":163},[5537],"footnotes",[5539,5546],{"type":169,"tag":177,"props":5540,"children":5543},{"className":5541,"id":197},[5542],"sr-only",[5544],{"type":175,"value":5545},"Footnotes",{"type":169,"tag":5547,"props":5548,"children":5549},"ol",{},[5550,5573],{"type":169,"tag":214,"props":5551,"children":5553},{"id":5552},"user-content-fn-html5shiv",[5554,5562,5564],{"type":169,"tag":193,"props":5555,"children":5559},{"href":5556,"rel":5557},"https://github.com/aFarkas/html5shiv",[5558],"nofollow",[5560],{"type":175,"value":5561},"html5shiv",{"type":175,"value":5563}," ",{"type":169,"tag":193,"props":5565,"children":5570},{"href":5566,"ariaLabel":5567,"className":5568,"dataFootnoteBackref":163},"#user-content-fnref-html5shiv","Back to reference 1",[5569],"data-footnote-backref",[5571],{"type":175,"value":5572},"↩",{"type":169,"tag":214,"props":5574,"children":5576},{"id":5575},"user-content-fn-hidden",[5577,5584,5585],{"type":169,"tag":193,"props":5578,"children":5581},{"href":5579,"rel":5580},"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/hidden",[5558],[5582],{"type":175,"value":5583},"HTMLElement.hidden@MDN",{"type":175,"value":5563},{"type":169,"tag":193,"props":5586,"children":5590},{"href":5587,"ariaLabel":5588,"className":5589,"dataFootnoteBackref":163},"#user-content-fnref-hidden","Back to reference 2",[5569],[5591],{"type":175,"value":5572},{"type":169,"tag":5593,"props":5594,"children":5595},"style",{},[5596],{"type":175,"value":5597},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":163,"searchDepth":307,"depth":307,"links":5599},[5600,5601,5607,5608],{"id":179,"depth":307,"text":179},{"id":226,"depth":307,"text":226,"children":5602},[5603,5604,5605,5606],{"id":232,"depth":317,"text":232},{"id":402,"depth":317,"text":402},{"id":1475,"depth":317,"text":1475},{"id":4704,"depth":317,"text":4704},{"id":5525,"depth":307,"text":5525},{"id":197,"depth":307,"text":5545},"markdown","content:8.source-code:_module:html5shiv.md","content","8.source-code/_module/html5shiv.md","8.source-code/_module/html5shiv","md",[5616,5619],{"_path":5617,"title":5618,"description":163},"/source-code/_module/fast-deep-equal","判断两个变量相等",{"_path":5620,"title":5621,"description":5622},"/source-code/_module/is-online","判断 NodeJS 是否在线","之前被组长问道要如何判断 NodeJS 是否在线，我不假思索回答：“Ping 百度试试。”。调用 Ping 需要 child_process，那还不如直接改用内置的 DNS 试试是否在线更简单一些。不过会不会碰到缓存等问题，没往下细想了。今天正好在别人的博客看到了 NodeJS DNS 模块，突然想起这个问题，于是就搜了一下相关库。找到了 internet-available 这个玩意儿。这里一起来看看他们的实现。",1742958700664]