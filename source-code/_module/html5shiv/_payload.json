[{"data":1,"prerenderedAt":5626},["ShallowReactive",2],{"navigation":3,"/source-code/_module/html5shiv":161,"/source-code/_module/html5shiv-surround":5618},[4,35,92,98,125,131,155],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86,89],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🖌️ Blockies Animation","/maps/_fe-framework/motion/blockies-animation",{"title":45,"_path":46},"🌪️ Tailwind v4 如何兼容预处理器","/articles/tailwind4-with-sass",{"title":48,"_path":49},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":51,"_path":52},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":54,"_path":55},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":57,"_path":58},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":60,"_path":61},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":63,"_path":64},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":66,"_path":67},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":69,"_path":70},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":72,"_path":73},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":75,"_path":76},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":78,"_path":79},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":81,"_path":82},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":84,"_path":85},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":87,"_path":88},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":90,"_path":91},"📝 技术博客归档","/articles/archive",{"title":93,"_path":94,"children":95},"读书笔记 / Notes","/books",[96],{"title":97,"_path":94},"📕 读书笔记",{"title":99,"_path":100,"children":101},"吉他剧场 / Music","/music",[102,104,107,110,113,116,119,122],{"title":103,"_path":100},"🎸 FingerStyle！",{"title":105,"_path":106},"🌬️ 等待的风","/music/wind",{"title":108,"_path":109},"💕 约定的海洋","/music/ocean",{"title":111,"_path":112},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":114,"_path":115},"🌏 残酷天使的行动纲领","/music/eva",{"title":117,"_path":118},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":120,"_path":121},"🍷 Wu Wei","/music/wu-wei",{"title":123,"_path":124},"🌅 无题","/music/untitled",{"title":126,"_path":127,"children":128},"知识地图 / Maps","/maps",[129],{"title":130,"_path":127},"🏁 知识地图",{"title":132,"_path":133,"children":134},"造物 / Make","/tools",[135,137,140,143,146,149,152],{"title":136,"_path":133},"🧰 工具收集",{"title":138,"_path":139},"📕 博客","/tools/blog",{"title":141,"_path":142},"🥥 Coconut","/tools/coconut",{"title":144,"_path":145},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":147,"_path":148},"🌐 AnySort","/tools/anysort",{"title":150,"_path":151},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":153,"_path":154},"👓 Crapto","/tools/crypto-inline",{"title":156,"_path":157,"children":158},"我 / About","/hire",[159],{"title":160,"_path":157},"📬 技术简历",{"_path":162,"_dir":163,"_draft":164,"_partial":165,"_locale":166,"title":167,"description":166,"body":168,"_type":5612,"_id":5613,"_source":5614,"_file":5615,"_stem":5616,"_extension":5617},"/source-code/_module/html5shiv","_module",false,true,"","🛠 低版本浏览器兼容HTML5标签原理",{"type":169,"children":170,"toc":5601},"root",[171,179,185,207,212,227,232,238,243,398,403,408,413,418,515,533,538,886,891,1476,1481,1486,1491,1788,1793,2212,2217,3091,3096,3202,3207,3324,3329,4054,4059,4435,4440,4705,4710,4715,5048,5053,5526,5531,5536,5595],{"type":172,"tag":173,"props":174,"children":176},"element","h1",{"id":175},"低版本浏览器兼容html5标签原理",[177],{"type":178,"value":167},"text",{"type":172,"tag":180,"props":181,"children":183},"h2",{"id":182},"长话短说",[184],{"type":178,"value":182},{"type":172,"tag":186,"props":187,"children":188},"p",{},[189,191,205],{"type":178,"value":190},"最近在复习 HTML 相关内容呢，不知不觉想起以前在实习公司用过的 html5shiv 这个玩意儿。html5shiv 能使 IE6/7/8 等浏览器支持 HTML5 的新标签",{"type":172,"tag":192,"props":193,"children":194},"sup",{},[195],{"type":172,"tag":196,"props":197,"children":202},"a",{"href":198,"ariaDescribedBy":199,"dataFootnoteRef":166,"id":201},"#user-content-fn-html5shiv",[200],"footnote-label","user-content-fnref-html5shiv",[203],{"type":178,"value":204},"1",{"type":178,"value":206},"。这里我初略扫了一眼它的原理。",{"type":172,"tag":186,"props":208,"children":209},{},[210],{"type":178,"value":211},"它主要做了以下两件事情：",{"type":172,"tag":213,"props":214,"children":215},"ul",{},[216,222],{"type":172,"tag":217,"props":218,"children":219},"li",{},[220],{"type":178,"value":221},"用高阶函数增强浏览器原生的 createElement 等 API。需要创建新标签时，使用已缓存的元素克隆并返还一个新元素，或回退至调用原生 API 创建 H5 新元素。这个增强是基于 document.createElement 能创建非标准元素这个特性实现的。",{"type":172,"tag":217,"props":223,"children":224},{},[225],{"type":178,"value":226},"给新标签增加相应的默认样式。",{"type":172,"tag":180,"props":228,"children":230},{"id":229},"具体实现",[231],{"type":178,"value":229},{"type":172,"tag":233,"props":234,"children":236},"h3",{"id":235},"代码结构",[237],{"type":178,"value":235},{"type":172,"tag":186,"props":239,"children":240},{},[241],{"type":178,"value":242},"整个代码被包裹在 IIFE 中。像 jQuery 一样，把 window 对象传了进来。",{"type":172,"tag":244,"props":245,"children":249},"pre",{"className":246,"code":247,"language":248,"meta":166,"style":166},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",";(function(window, document) {\n    // rest of code\n}(typeof window !== \"undefined\" ? window : this, document));\n","js",[250],{"type":172,"tag":251,"props":252,"children":253},"code",{"__ignoreMap":166},[254,308,318],{"type":172,"tag":255,"props":256,"children":259},"span",{"class":257,"line":258},"line",1,[260,266,272,278,282,288,293,298,303],{"type":172,"tag":255,"props":261,"children":263},{"style":262},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[264],{"type":178,"value":265},";",{"type":172,"tag":255,"props":267,"children":269},{"style":268},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[270],{"type":178,"value":271},"(",{"type":172,"tag":255,"props":273,"children":275},{"style":274},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[276],{"type":178,"value":277},"function",{"type":172,"tag":255,"props":279,"children":280},{"style":262},[281],{"type":178,"value":271},{"type":172,"tag":255,"props":283,"children":285},{"style":284},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[286],{"type":178,"value":287},"window",{"type":172,"tag":255,"props":289,"children":290},{"style":262},[291],{"type":178,"value":292},",",{"type":172,"tag":255,"props":294,"children":295},{"style":284},[296],{"type":178,"value":297}," document",{"type":172,"tag":255,"props":299,"children":300},{"style":262},[301],{"type":178,"value":302},")",{"type":172,"tag":255,"props":304,"children":305},{"style":262},[306],{"type":178,"value":307}," {\n",{"type":172,"tag":255,"props":309,"children":311},{"class":257,"line":310},2,[312],{"type":172,"tag":255,"props":313,"children":315},{"style":314},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[316],{"type":178,"value":317},"    // rest of code\n",{"type":172,"tag":255,"props":319,"children":321},{"class":257,"line":320},3,[322,327,331,337,342,347,353,359,364,369,373,378,384,388,393],{"type":172,"tag":255,"props":323,"children":324},{"style":262},[325],{"type":178,"value":326},"}",{"type":172,"tag":255,"props":328,"children":329},{"style":268},[330],{"type":178,"value":271},{"type":172,"tag":255,"props":332,"children":334},{"style":333},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[335],{"type":178,"value":336},"typeof",{"type":172,"tag":255,"props":338,"children":339},{"style":268},[340],{"type":178,"value":341}," window ",{"type":172,"tag":255,"props":343,"children":344},{"style":333},[345],{"type":178,"value":346},"!==",{"type":172,"tag":255,"props":348,"children":350},{"style":349},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[351],{"type":178,"value":352}," \"",{"type":172,"tag":255,"props":354,"children":356},{"style":355},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[357],{"type":178,"value":358},"undefined",{"type":172,"tag":255,"props":360,"children":361},{"style":349},[362],{"type":178,"value":363},"\"",{"type":172,"tag":255,"props":365,"children":366},{"style":333},[367],{"type":178,"value":368}," ?",{"type":172,"tag":255,"props":370,"children":371},{"style":268},[372],{"type":178,"value":341},{"type":172,"tag":255,"props":374,"children":375},{"style":333},[376],{"type":178,"value":377},":",{"type":172,"tag":255,"props":379,"children":381},{"style":380},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[382],{"type":178,"value":383}," this",{"type":172,"tag":255,"props":385,"children":386},{"style":262},[387],{"type":178,"value":292},{"type":172,"tag":255,"props":389,"children":390},{"style":268},[391],{"type":178,"value":392}," document))",{"type":172,"tag":255,"props":394,"children":395},{"style":262},[396],{"type":178,"value":397},";\n",{"type":172,"tag":186,"props":399,"children":400},{},[401],{"type":178,"value":402},"一个很经典的模块模式，没什么好拓展的，我们继续...",{"type":172,"tag":233,"props":404,"children":406},{"id":405},"兼容性检测",[407],{"type":178,"value":405},{"type":172,"tag":186,"props":409,"children":410},{},[411],{"type":178,"value":412},"以下代码检测当前浏览器对 HTML5 的支持程度。",{"type":172,"tag":186,"props":414,"children":415},{},[416],{"type":178,"value":417},"通过检测元素对 hidden 属性的支持程度，检测浏览器对 HTML5 样式支持的水平。",{"type":172,"tag":244,"props":419,"children":421},{"className":246,"code":420,"language":248,"meta":166,"style":166},"a = document.createElement('a')\nsupportsHtml5Styles = ('hidden' in a)\n",[422],{"type":172,"tag":251,"props":423,"children":424},{"__ignoreMap":166},[425,475],{"type":172,"tag":255,"props":426,"children":427},{"class":257,"line":258},[428,433,438,442,447,453,457,462,466,470],{"type":172,"tag":255,"props":429,"children":430},{"style":268},[431],{"type":178,"value":432},"a ",{"type":172,"tag":255,"props":434,"children":435},{"style":333},[436],{"type":178,"value":437},"=",{"type":172,"tag":255,"props":439,"children":440},{"style":268},[441],{"type":178,"value":297},{"type":172,"tag":255,"props":443,"children":444},{"style":262},[445],{"type":178,"value":446},".",{"type":172,"tag":255,"props":448,"children":450},{"style":449},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[451],{"type":178,"value":452},"createElement",{"type":172,"tag":255,"props":454,"children":455},{"style":268},[456],{"type":178,"value":271},{"type":172,"tag":255,"props":458,"children":459},{"style":349},[460],{"type":178,"value":461},"'",{"type":172,"tag":255,"props":463,"children":464},{"style":355},[465],{"type":178,"value":196},{"type":172,"tag":255,"props":467,"children":468},{"style":349},[469],{"type":178,"value":461},{"type":172,"tag":255,"props":471,"children":472},{"style":268},[473],{"type":178,"value":474},")\n",{"type":172,"tag":255,"props":476,"children":477},{"class":257,"line":310},[478,483,487,492,496,501,505,510],{"type":172,"tag":255,"props":479,"children":480},{"style":268},[481],{"type":178,"value":482},"supportsHtml5Styles ",{"type":172,"tag":255,"props":484,"children":485},{"style":333},[486],{"type":178,"value":437},{"type":172,"tag":255,"props":488,"children":489},{"style":268},[490],{"type":178,"value":491}," (",{"type":172,"tag":255,"props":493,"children":494},{"style":349},[495],{"type":178,"value":461},{"type":172,"tag":255,"props":497,"children":498},{"style":355},[499],{"type":178,"value":500},"hidden",{"type":172,"tag":255,"props":502,"children":503},{"style":349},[504],{"type":178,"value":461},{"type":172,"tag":255,"props":506,"children":507},{"style":333},[508],{"type":178,"value":509}," in",{"type":172,"tag":255,"props":511,"children":512},{"style":268},[513],{"type":178,"value":514}," a)\n",{"type":172,"tag":186,"props":516,"children":517},{},[518,520,531],{"type":178,"value":519},"以前没听过 HTMLElement.hidden，项目里的隐藏元素都是直接上 CSS 做的。不过据 MDN 表示，除了隐藏元素之外，hidden 属性还能用于创造离屏 Canvas",{"type":172,"tag":192,"props":521,"children":522},{},[523],{"type":172,"tag":196,"props":524,"children":528},{"href":525,"ariaDescribedBy":526,"dataFootnoteRef":166,"id":527},"#user-content-fn-hidden",[200],"user-content-fnref-hidden",[529],{"type":178,"value":530},"2",{"type":178,"value":532},"。",{"type":172,"tag":186,"props":534,"children":535},{},[536],{"type":178,"value":537},"这段代码用于测试浏览器是否支持未知元素的创建。",{"type":172,"tag":244,"props":539,"children":541},{"className":246,"code":540,"language":248,"meta":166,"style":166},"a = document.createElement('a')\na.innerHTML = '\u003Cxyz>\u003C/xyz>'\nsupportsUnknownElements = a.childNodes.length == 1 || (function() {\n    var frag = document.createDocumentFragment()\n    return (\n    typeof frag.cloneNode == 'undefined' ||\n    typeof frag.createDocumentFragment == 'undefined' ||\n    typeof frag.createElement == 'undefined'\n    )\n}())\n",[542],{"type":172,"tag":251,"props":543,"children":544},{"__ignoreMap":166},[545,588,623,692,730,745,788,828,864,873],{"type":172,"tag":255,"props":546,"children":547},{"class":257,"line":258},[548,552,556,560,564,568,572,576,580,584],{"type":172,"tag":255,"props":549,"children":550},{"style":268},[551],{"type":178,"value":432},{"type":172,"tag":255,"props":553,"children":554},{"style":333},[555],{"type":178,"value":437},{"type":172,"tag":255,"props":557,"children":558},{"style":268},[559],{"type":178,"value":297},{"type":172,"tag":255,"props":561,"children":562},{"style":262},[563],{"type":178,"value":446},{"type":172,"tag":255,"props":565,"children":566},{"style":449},[567],{"type":178,"value":452},{"type":172,"tag":255,"props":569,"children":570},{"style":268},[571],{"type":178,"value":271},{"type":172,"tag":255,"props":573,"children":574},{"style":349},[575],{"type":178,"value":461},{"type":172,"tag":255,"props":577,"children":578},{"style":355},[579],{"type":178,"value":196},{"type":172,"tag":255,"props":581,"children":582},{"style":349},[583],{"type":178,"value":461},{"type":172,"tag":255,"props":585,"children":586},{"style":268},[587],{"type":178,"value":474},{"type":172,"tag":255,"props":589,"children":590},{"class":257,"line":310},[591,595,599,604,608,613,618],{"type":172,"tag":255,"props":592,"children":593},{"style":268},[594],{"type":178,"value":196},{"type":172,"tag":255,"props":596,"children":597},{"style":262},[598],{"type":178,"value":446},{"type":172,"tag":255,"props":600,"children":601},{"style":268},[602],{"type":178,"value":603},"innerHTML ",{"type":172,"tag":255,"props":605,"children":606},{"style":333},[607],{"type":178,"value":437},{"type":172,"tag":255,"props":609,"children":610},{"style":349},[611],{"type":178,"value":612}," '",{"type":172,"tag":255,"props":614,"children":615},{"style":355},[616],{"type":178,"value":617},"\u003Cxyz>\u003C/xyz>",{"type":172,"tag":255,"props":619,"children":620},{"style":349},[621],{"type":178,"value":622},"'\n",{"type":172,"tag":255,"props":624,"children":625},{"class":257,"line":320},[626,631,635,640,644,649,653,659,664,670,675,679,683,688],{"type":172,"tag":255,"props":627,"children":628},{"style":268},[629],{"type":178,"value":630},"supportsUnknownElements ",{"type":172,"tag":255,"props":632,"children":633},{"style":333},[634],{"type":178,"value":437},{"type":172,"tag":255,"props":636,"children":637},{"style":268},[638],{"type":178,"value":639}," a",{"type":172,"tag":255,"props":641,"children":642},{"style":262},[643],{"type":178,"value":446},{"type":172,"tag":255,"props":645,"children":646},{"style":268},[647],{"type":178,"value":648},"childNodes",{"type":172,"tag":255,"props":650,"children":651},{"style":262},[652],{"type":178,"value":446},{"type":172,"tag":255,"props":654,"children":656},{"style":655},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[657],{"type":178,"value":658},"length",{"type":172,"tag":255,"props":660,"children":661},{"style":333},[662],{"type":178,"value":663}," ==",{"type":172,"tag":255,"props":665,"children":667},{"style":666},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[668],{"type":178,"value":669}," 1",{"type":172,"tag":255,"props":671,"children":672},{"style":333},[673],{"type":178,"value":674}," ||",{"type":172,"tag":255,"props":676,"children":677},{"style":268},[678],{"type":178,"value":491},{"type":172,"tag":255,"props":680,"children":681},{"style":274},[682],{"type":178,"value":277},{"type":172,"tag":255,"props":684,"children":685},{"style":262},[686],{"type":178,"value":687},"()",{"type":172,"tag":255,"props":689,"children":690},{"style":262},[691],{"type":178,"value":307},{"type":172,"tag":255,"props":693,"children":695},{"class":257,"line":694},4,[696,701,706,711,715,719,724],{"type":172,"tag":255,"props":697,"children":698},{"style":274},[699],{"type":178,"value":700},"    var",{"type":172,"tag":255,"props":702,"children":703},{"style":268},[704],{"type":178,"value":705}," frag",{"type":172,"tag":255,"props":707,"children":708},{"style":333},[709],{"type":178,"value":710}," =",{"type":172,"tag":255,"props":712,"children":713},{"style":268},[714],{"type":178,"value":297},{"type":172,"tag":255,"props":716,"children":717},{"style":262},[718],{"type":178,"value":446},{"type":172,"tag":255,"props":720,"children":721},{"style":449},[722],{"type":178,"value":723},"createDocumentFragment",{"type":172,"tag":255,"props":725,"children":727},{"style":726},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[728],{"type":178,"value":729},"()\n",{"type":172,"tag":255,"props":731,"children":733},{"class":257,"line":732},5,[734,740],{"type":172,"tag":255,"props":735,"children":737},{"style":736},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[738],{"type":178,"value":739},"    return",{"type":172,"tag":255,"props":741,"children":742},{"style":726},[743],{"type":178,"value":744}," (\n",{"type":172,"tag":255,"props":746,"children":748},{"class":257,"line":747},6,[749,754,758,762,767,771,775,779,783],{"type":172,"tag":255,"props":750,"children":751},{"style":333},[752],{"type":178,"value":753},"    typeof",{"type":172,"tag":255,"props":755,"children":756},{"style":268},[757],{"type":178,"value":705},{"type":172,"tag":255,"props":759,"children":760},{"style":262},[761],{"type":178,"value":446},{"type":172,"tag":255,"props":763,"children":764},{"style":268},[765],{"type":178,"value":766},"cloneNode",{"type":172,"tag":255,"props":768,"children":769},{"style":333},[770],{"type":178,"value":663},{"type":172,"tag":255,"props":772,"children":773},{"style":349},[774],{"type":178,"value":612},{"type":172,"tag":255,"props":776,"children":777},{"style":355},[778],{"type":178,"value":358},{"type":172,"tag":255,"props":780,"children":781},{"style":349},[782],{"type":178,"value":461},{"type":172,"tag":255,"props":784,"children":785},{"style":333},[786],{"type":178,"value":787}," ||\n",{"type":172,"tag":255,"props":789,"children":791},{"class":257,"line":790},7,[792,796,800,804,808,812,816,820,824],{"type":172,"tag":255,"props":793,"children":794},{"style":333},[795],{"type":178,"value":753},{"type":172,"tag":255,"props":797,"children":798},{"style":268},[799],{"type":178,"value":705},{"type":172,"tag":255,"props":801,"children":802},{"style":262},[803],{"type":178,"value":446},{"type":172,"tag":255,"props":805,"children":806},{"style":268},[807],{"type":178,"value":723},{"type":172,"tag":255,"props":809,"children":810},{"style":333},[811],{"type":178,"value":663},{"type":172,"tag":255,"props":813,"children":814},{"style":349},[815],{"type":178,"value":612},{"type":172,"tag":255,"props":817,"children":818},{"style":355},[819],{"type":178,"value":358},{"type":172,"tag":255,"props":821,"children":822},{"style":349},[823],{"type":178,"value":461},{"type":172,"tag":255,"props":825,"children":826},{"style":333},[827],{"type":178,"value":787},{"type":172,"tag":255,"props":829,"children":831},{"class":257,"line":830},8,[832,836,840,844,848,852,856,860],{"type":172,"tag":255,"props":833,"children":834},{"style":333},[835],{"type":178,"value":753},{"type":172,"tag":255,"props":837,"children":838},{"style":268},[839],{"type":178,"value":705},{"type":172,"tag":255,"props":841,"children":842},{"style":262},[843],{"type":178,"value":446},{"type":172,"tag":255,"props":845,"children":846},{"style":268},[847],{"type":178,"value":452},{"type":172,"tag":255,"props":849,"children":850},{"style":333},[851],{"type":178,"value":663},{"type":172,"tag":255,"props":853,"children":854},{"style":349},[855],{"type":178,"value":612},{"type":172,"tag":255,"props":857,"children":858},{"style":355},[859],{"type":178,"value":358},{"type":172,"tag":255,"props":861,"children":862},{"style":349},[863],{"type":178,"value":622},{"type":172,"tag":255,"props":865,"children":867},{"class":257,"line":866},9,[868],{"type":172,"tag":255,"props":869,"children":870},{"style":726},[871],{"type":178,"value":872},"    )\n",{"type":172,"tag":255,"props":874,"children":876},{"class":257,"line":875},10,[877,881],{"type":172,"tag":255,"props":878,"children":879},{"style":262},[880],{"type":178,"value":326},{"type":172,"tag":255,"props":882,"children":883},{"style":268},[884],{"type":178,"value":885},"())\n",{"type":172,"tag":186,"props":887,"children":888},{},[889],{"type":178,"value":890},"如果连 document.createElement 都调用失败的话，那 html5shiv 代码就毫无作用了（html5shiv 的原理需要用到 document.createElement），所以用一个 try/catch 将上述两个功能包裹起来。遇到错误则假装浏览器正常支持 HTML5，相关检测变量被置为 true。",{"type":172,"tag":244,"props":892,"children":894},{"className":246,"code":893,"language":248,"meta":166,"style":166},"(function() {\n    try {\n        var a = document.createElement('a')\n        a.innerHTML = '\u003Cxyz>\u003C/xyz>'\n        //if the hidden property is implemented we can assume, \n        // that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a)\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n            // assign a false positive if unable to shiv\n            // ? 猜测特定浏览器对这种括号调用方法会报错\n            (document.createElement)('a')\n            var frag = document.createDocumentFragment()\n            return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n            )\n        }())\n    } catch(e) {\n        // assign a false positive if detection fails => unable to shiv\n        supportsHtml5Styles = true\n        supportsUnknownElements = true\n    }\n}())\n",[895],{"type":172,"tag":251,"props":896,"children":897},{"__ignoreMap":166},[898,917,929,977,1010,1018,1026,1066,1074,1134,1142,1151,1194,1227,1240,1281,1321,1357,1366,1379,1412,1421,1439,1455,1464],{"type":172,"tag":255,"props":899,"children":900},{"class":257,"line":258},[901,905,909,913],{"type":172,"tag":255,"props":902,"children":903},{"style":268},[904],{"type":178,"value":271},{"type":172,"tag":255,"props":906,"children":907},{"style":274},[908],{"type":178,"value":277},{"type":172,"tag":255,"props":910,"children":911},{"style":262},[912],{"type":178,"value":687},{"type":172,"tag":255,"props":914,"children":915},{"style":262},[916],{"type":178,"value":307},{"type":172,"tag":255,"props":918,"children":919},{"class":257,"line":310},[920,925],{"type":172,"tag":255,"props":921,"children":922},{"style":736},[923],{"type":178,"value":924},"    try",{"type":172,"tag":255,"props":926,"children":927},{"style":262},[928],{"type":178,"value":307},{"type":172,"tag":255,"props":930,"children":931},{"class":257,"line":320},[932,937,941,945,949,953,957,961,965,969,973],{"type":172,"tag":255,"props":933,"children":934},{"style":274},[935],{"type":178,"value":936},"        var",{"type":172,"tag":255,"props":938,"children":939},{"style":268},[940],{"type":178,"value":639},{"type":172,"tag":255,"props":942,"children":943},{"style":333},[944],{"type":178,"value":710},{"type":172,"tag":255,"props":946,"children":947},{"style":268},[948],{"type":178,"value":297},{"type":172,"tag":255,"props":950,"children":951},{"style":262},[952],{"type":178,"value":446},{"type":172,"tag":255,"props":954,"children":955},{"style":449},[956],{"type":178,"value":452},{"type":172,"tag":255,"props":958,"children":959},{"style":726},[960],{"type":178,"value":271},{"type":172,"tag":255,"props":962,"children":963},{"style":349},[964],{"type":178,"value":461},{"type":172,"tag":255,"props":966,"children":967},{"style":355},[968],{"type":178,"value":196},{"type":172,"tag":255,"props":970,"children":971},{"style":349},[972],{"type":178,"value":461},{"type":172,"tag":255,"props":974,"children":975},{"style":726},[976],{"type":178,"value":474},{"type":172,"tag":255,"props":978,"children":979},{"class":257,"line":694},[980,985,989,994,998,1002,1006],{"type":172,"tag":255,"props":981,"children":982},{"style":268},[983],{"type":178,"value":984},"        a",{"type":172,"tag":255,"props":986,"children":987},{"style":262},[988],{"type":178,"value":446},{"type":172,"tag":255,"props":990,"children":991},{"style":268},[992],{"type":178,"value":993},"innerHTML",{"type":172,"tag":255,"props":995,"children":996},{"style":333},[997],{"type":178,"value":710},{"type":172,"tag":255,"props":999,"children":1000},{"style":349},[1001],{"type":178,"value":612},{"type":172,"tag":255,"props":1003,"children":1004},{"style":355},[1005],{"type":178,"value":617},{"type":172,"tag":255,"props":1007,"children":1008},{"style":349},[1009],{"type":178,"value":622},{"type":172,"tag":255,"props":1011,"children":1012},{"class":257,"line":732},[1013],{"type":172,"tag":255,"props":1014,"children":1015},{"style":314},[1016],{"type":178,"value":1017},"        //if the hidden property is implemented we can assume, \n",{"type":172,"tag":255,"props":1019,"children":1020},{"class":257,"line":747},[1021],{"type":172,"tag":255,"props":1022,"children":1023},{"style":314},[1024],{"type":178,"value":1025},"        // that the browser supports basic HTML5 Styles\n",{"type":172,"tag":255,"props":1027,"children":1028},{"class":257,"line":790},[1029,1034,1038,1042,1046,1050,1054,1058,1062],{"type":172,"tag":255,"props":1030,"children":1031},{"style":268},[1032],{"type":178,"value":1033},"        supportsHtml5Styles",{"type":172,"tag":255,"props":1035,"children":1036},{"style":333},[1037],{"type":178,"value":710},{"type":172,"tag":255,"props":1039,"children":1040},{"style":726},[1041],{"type":178,"value":491},{"type":172,"tag":255,"props":1043,"children":1044},{"style":349},[1045],{"type":178,"value":461},{"type":172,"tag":255,"props":1047,"children":1048},{"style":355},[1049],{"type":178,"value":500},{"type":172,"tag":255,"props":1051,"children":1052},{"style":349},[1053],{"type":178,"value":461},{"type":172,"tag":255,"props":1055,"children":1056},{"style":333},[1057],{"type":178,"value":509},{"type":172,"tag":255,"props":1059,"children":1060},{"style":268},[1061],{"type":178,"value":639},{"type":172,"tag":255,"props":1063,"children":1064},{"style":726},[1065],{"type":178,"value":474},{"type":172,"tag":255,"props":1067,"children":1068},{"class":257,"line":830},[1069],{"type":172,"tag":255,"props":1070,"children":1071},{"emptyLinePlaceholder":165},[1072],{"type":178,"value":1073},"\n",{"type":172,"tag":255,"props":1075,"children":1076},{"class":257,"line":866},[1077,1082,1086,1090,1094,1098,1102,1106,1110,1114,1118,1122,1126,1130],{"type":172,"tag":255,"props":1078,"children":1079},{"style":268},[1080],{"type":178,"value":1081},"        supportsUnknownElements",{"type":172,"tag":255,"props":1083,"children":1084},{"style":333},[1085],{"type":178,"value":710},{"type":172,"tag":255,"props":1087,"children":1088},{"style":268},[1089],{"type":178,"value":639},{"type":172,"tag":255,"props":1091,"children":1092},{"style":262},[1093],{"type":178,"value":446},{"type":172,"tag":255,"props":1095,"children":1096},{"style":268},[1097],{"type":178,"value":648},{"type":172,"tag":255,"props":1099,"children":1100},{"style":262},[1101],{"type":178,"value":446},{"type":172,"tag":255,"props":1103,"children":1104},{"style":655},[1105],{"type":178,"value":658},{"type":172,"tag":255,"props":1107,"children":1108},{"style":333},[1109],{"type":178,"value":663},{"type":172,"tag":255,"props":1111,"children":1112},{"style":666},[1113],{"type":178,"value":669},{"type":172,"tag":255,"props":1115,"children":1116},{"style":333},[1117],{"type":178,"value":674},{"type":172,"tag":255,"props":1119,"children":1120},{"style":726},[1121],{"type":178,"value":491},{"type":172,"tag":255,"props":1123,"children":1124},{"style":274},[1125],{"type":178,"value":277},{"type":172,"tag":255,"props":1127,"children":1128},{"style":262},[1129],{"type":178,"value":687},{"type":172,"tag":255,"props":1131,"children":1132},{"style":262},[1133],{"type":178,"value":307},{"type":172,"tag":255,"props":1135,"children":1136},{"class":257,"line":875},[1137],{"type":172,"tag":255,"props":1138,"children":1139},{"style":314},[1140],{"type":178,"value":1141},"            // assign a false positive if unable to shiv\n",{"type":172,"tag":255,"props":1143,"children":1145},{"class":257,"line":1144},11,[1146],{"type":172,"tag":255,"props":1147,"children":1148},{"style":314},[1149],{"type":178,"value":1150},"            // ? 猜测特定浏览器对这种括号调用方法会报错\n",{"type":172,"tag":255,"props":1152,"children":1154},{"class":257,"line":1153},12,[1155,1160,1165,1169,1173,1178,1182,1186,1190],{"type":172,"tag":255,"props":1156,"children":1157},{"style":726},[1158],{"type":178,"value":1159},"            (",{"type":172,"tag":255,"props":1161,"children":1162},{"style":268},[1163],{"type":178,"value":1164},"document",{"type":172,"tag":255,"props":1166,"children":1167},{"style":262},[1168],{"type":178,"value":446},{"type":172,"tag":255,"props":1170,"children":1171},{"style":268},[1172],{"type":178,"value":452},{"type":172,"tag":255,"props":1174,"children":1175},{"style":726},[1176],{"type":178,"value":1177},")(",{"type":172,"tag":255,"props":1179,"children":1180},{"style":349},[1181],{"type":178,"value":461},{"type":172,"tag":255,"props":1183,"children":1184},{"style":355},[1185],{"type":178,"value":196},{"type":172,"tag":255,"props":1187,"children":1188},{"style":349},[1189],{"type":178,"value":461},{"type":172,"tag":255,"props":1191,"children":1192},{"style":726},[1193],{"type":178,"value":474},{"type":172,"tag":255,"props":1195,"children":1197},{"class":257,"line":1196},13,[1198,1203,1207,1211,1215,1219,1223],{"type":172,"tag":255,"props":1199,"children":1200},{"style":274},[1201],{"type":178,"value":1202},"            var",{"type":172,"tag":255,"props":1204,"children":1205},{"style":268},[1206],{"type":178,"value":705},{"type":172,"tag":255,"props":1208,"children":1209},{"style":333},[1210],{"type":178,"value":710},{"type":172,"tag":255,"props":1212,"children":1213},{"style":268},[1214],{"type":178,"value":297},{"type":172,"tag":255,"props":1216,"children":1217},{"style":262},[1218],{"type":178,"value":446},{"type":172,"tag":255,"props":1220,"children":1221},{"style":449},[1222],{"type":178,"value":723},{"type":172,"tag":255,"props":1224,"children":1225},{"style":726},[1226],{"type":178,"value":729},{"type":172,"tag":255,"props":1228,"children":1230},{"class":257,"line":1229},14,[1231,1236],{"type":172,"tag":255,"props":1232,"children":1233},{"style":736},[1234],{"type":178,"value":1235},"            return",{"type":172,"tag":255,"props":1237,"children":1238},{"style":726},[1239],{"type":178,"value":744},{"type":172,"tag":255,"props":1241,"children":1243},{"class":257,"line":1242},15,[1244,1249,1253,1257,1261,1265,1269,1273,1277],{"type":172,"tag":255,"props":1245,"children":1246},{"style":333},[1247],{"type":178,"value":1248},"            typeof",{"type":172,"tag":255,"props":1250,"children":1251},{"style":268},[1252],{"type":178,"value":705},{"type":172,"tag":255,"props":1254,"children":1255},{"style":262},[1256],{"type":178,"value":446},{"type":172,"tag":255,"props":1258,"children":1259},{"style":268},[1260],{"type":178,"value":766},{"type":172,"tag":255,"props":1262,"children":1263},{"style":333},[1264],{"type":178,"value":663},{"type":172,"tag":255,"props":1266,"children":1267},{"style":349},[1268],{"type":178,"value":612},{"type":172,"tag":255,"props":1270,"children":1271},{"style":355},[1272],{"type":178,"value":358},{"type":172,"tag":255,"props":1274,"children":1275},{"style":349},[1276],{"type":178,"value":461},{"type":172,"tag":255,"props":1278,"children":1279},{"style":333},[1280],{"type":178,"value":787},{"type":172,"tag":255,"props":1282,"children":1284},{"class":257,"line":1283},16,[1285,1289,1293,1297,1301,1305,1309,1313,1317],{"type":172,"tag":255,"props":1286,"children":1287},{"style":333},[1288],{"type":178,"value":1248},{"type":172,"tag":255,"props":1290,"children":1291},{"style":268},[1292],{"type":178,"value":705},{"type":172,"tag":255,"props":1294,"children":1295},{"style":262},[1296],{"type":178,"value":446},{"type":172,"tag":255,"props":1298,"children":1299},{"style":268},[1300],{"type":178,"value":723},{"type":172,"tag":255,"props":1302,"children":1303},{"style":333},[1304],{"type":178,"value":663},{"type":172,"tag":255,"props":1306,"children":1307},{"style":349},[1308],{"type":178,"value":612},{"type":172,"tag":255,"props":1310,"children":1311},{"style":355},[1312],{"type":178,"value":358},{"type":172,"tag":255,"props":1314,"children":1315},{"style":349},[1316],{"type":178,"value":461},{"type":172,"tag":255,"props":1318,"children":1319},{"style":333},[1320],{"type":178,"value":787},{"type":172,"tag":255,"props":1322,"children":1324},{"class":257,"line":1323},17,[1325,1329,1333,1337,1341,1345,1349,1353],{"type":172,"tag":255,"props":1326,"children":1327},{"style":333},[1328],{"type":178,"value":1248},{"type":172,"tag":255,"props":1330,"children":1331},{"style":268},[1332],{"type":178,"value":705},{"type":172,"tag":255,"props":1334,"children":1335},{"style":262},[1336],{"type":178,"value":446},{"type":172,"tag":255,"props":1338,"children":1339},{"style":268},[1340],{"type":178,"value":452},{"type":172,"tag":255,"props":1342,"children":1343},{"style":333},[1344],{"type":178,"value":663},{"type":172,"tag":255,"props":1346,"children":1347},{"style":349},[1348],{"type":178,"value":612},{"type":172,"tag":255,"props":1350,"children":1351},{"style":355},[1352],{"type":178,"value":358},{"type":172,"tag":255,"props":1354,"children":1355},{"style":349},[1356],{"type":178,"value":622},{"type":172,"tag":255,"props":1358,"children":1360},{"class":257,"line":1359},18,[1361],{"type":172,"tag":255,"props":1362,"children":1363},{"style":726},[1364],{"type":178,"value":1365},"            )\n",{"type":172,"tag":255,"props":1367,"children":1369},{"class":257,"line":1368},19,[1370,1375],{"type":172,"tag":255,"props":1371,"children":1372},{"style":262},[1373],{"type":178,"value":1374},"        }",{"type":172,"tag":255,"props":1376,"children":1377},{"style":726},[1378],{"type":178,"value":885},{"type":172,"tag":255,"props":1380,"children":1382},{"class":257,"line":1381},20,[1383,1388,1393,1397,1402,1407],{"type":172,"tag":255,"props":1384,"children":1385},{"style":262},[1386],{"type":178,"value":1387},"    }",{"type":172,"tag":255,"props":1389,"children":1390},{"style":736},[1391],{"type":178,"value":1392}," catch",{"type":172,"tag":255,"props":1394,"children":1395},{"style":726},[1396],{"type":178,"value":271},{"type":172,"tag":255,"props":1398,"children":1399},{"style":268},[1400],{"type":178,"value":1401},"e",{"type":172,"tag":255,"props":1403,"children":1404},{"style":726},[1405],{"type":178,"value":1406},") ",{"type":172,"tag":255,"props":1408,"children":1409},{"style":262},[1410],{"type":178,"value":1411},"{\n",{"type":172,"tag":255,"props":1413,"children":1415},{"class":257,"line":1414},21,[1416],{"type":172,"tag":255,"props":1417,"children":1418},{"style":314},[1419],{"type":178,"value":1420},"        // assign a false positive if detection fails => unable to shiv\n",{"type":172,"tag":255,"props":1422,"children":1424},{"class":257,"line":1423},22,[1425,1429,1433],{"type":172,"tag":255,"props":1426,"children":1427},{"style":268},[1428],{"type":178,"value":1033},{"type":172,"tag":255,"props":1430,"children":1431},{"style":333},[1432],{"type":178,"value":710},{"type":172,"tag":255,"props":1434,"children":1436},{"style":1435},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1437],{"type":178,"value":1438}," true\n",{"type":172,"tag":255,"props":1440,"children":1442},{"class":257,"line":1441},23,[1443,1447,1451],{"type":172,"tag":255,"props":1444,"children":1445},{"style":268},[1446],{"type":178,"value":1081},{"type":172,"tag":255,"props":1448,"children":1449},{"style":333},[1450],{"type":178,"value":710},{"type":172,"tag":255,"props":1452,"children":1453},{"style":1435},[1454],{"type":178,"value":1438},{"type":172,"tag":255,"props":1456,"children":1458},{"class":257,"line":1457},24,[1459],{"type":172,"tag":255,"props":1460,"children":1461},{"style":262},[1462],{"type":178,"value":1463},"    }\n",{"type":172,"tag":255,"props":1465,"children":1467},{"class":257,"line":1466},25,[1468,1472],{"type":172,"tag":255,"props":1469,"children":1470},{"style":262},[1471],{"type":178,"value":326},{"type":172,"tag":255,"props":1473,"children":1474},{"style":268},[1475],{"type":178,"value":885},{"type":172,"tag":233,"props":1477,"children":1479},{"id":1478},"功能仿制",[1480],{"type":178,"value":1478},{"type":172,"tag":186,"props":1482,"children":1483},{},[1484],{"type":178,"value":1485},"每个页面可能有多个 iframe，所以可能有多个 document 对象。因为不同 document 对象可被 shiv 的元素可能不同，所以需要一个变量用作记录。",{"type":172,"tag":186,"props":1487,"children":1488},{},[1489],{"type":178,"value":1490},"getExpandoData 方法在传入的 document 对象下挂载了一个属性名为 '_html5shiv' 的空对象，用来便捷存放某些数据（比如说元素缓存），并返回对象单例。",{"type":172,"tag":244,"props":1492,"children":1494},{"className":246,"code":1493,"language":248,"meta":166,"style":166},"var expandoData = {}\nvar expanID = 0\nvar expando = '_html5shiv'\nfunction getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]]\n    if (!data) {\n        data = {}\n        expanID++\n        ownerDocument[expando] = expanID\n        expandoData[expanID] = data\n    }\n    return data\n  }\n",[1495],{"type":172,"tag":251,"props":1496,"children":1497},{"__ignoreMap":166},[1498,1520,1541,1570,1599,1643,1673,1689,1702,1732,1762,1769,1780],{"type":172,"tag":255,"props":1499,"children":1500},{"class":257,"line":258},[1501,1506,1511,1515],{"type":172,"tag":255,"props":1502,"children":1503},{"style":274},[1504],{"type":178,"value":1505},"var",{"type":172,"tag":255,"props":1507,"children":1508},{"style":268},[1509],{"type":178,"value":1510}," expandoData ",{"type":172,"tag":255,"props":1512,"children":1513},{"style":333},[1514],{"type":178,"value":437},{"type":172,"tag":255,"props":1516,"children":1517},{"style":262},[1518],{"type":178,"value":1519}," {}\n",{"type":172,"tag":255,"props":1521,"children":1522},{"class":257,"line":310},[1523,1527,1532,1536],{"type":172,"tag":255,"props":1524,"children":1525},{"style":274},[1526],{"type":178,"value":1505},{"type":172,"tag":255,"props":1528,"children":1529},{"style":268},[1530],{"type":178,"value":1531}," expanID ",{"type":172,"tag":255,"props":1533,"children":1534},{"style":333},[1535],{"type":178,"value":437},{"type":172,"tag":255,"props":1537,"children":1538},{"style":666},[1539],{"type":178,"value":1540}," 0\n",{"type":172,"tag":255,"props":1542,"children":1543},{"class":257,"line":320},[1544,1548,1553,1557,1561,1566],{"type":172,"tag":255,"props":1545,"children":1546},{"style":274},[1547],{"type":178,"value":1505},{"type":172,"tag":255,"props":1549,"children":1550},{"style":268},[1551],{"type":178,"value":1552}," expando ",{"type":172,"tag":255,"props":1554,"children":1555},{"style":333},[1556],{"type":178,"value":437},{"type":172,"tag":255,"props":1558,"children":1559},{"style":349},[1560],{"type":178,"value":612},{"type":172,"tag":255,"props":1562,"children":1563},{"style":355},[1564],{"type":178,"value":1565},"_html5shiv",{"type":172,"tag":255,"props":1567,"children":1568},{"style":349},[1569],{"type":178,"value":622},{"type":172,"tag":255,"props":1571,"children":1572},{"class":257,"line":694},[1573,1577,1582,1586,1591,1595],{"type":172,"tag":255,"props":1574,"children":1575},{"style":274},[1576],{"type":178,"value":277},{"type":172,"tag":255,"props":1578,"children":1579},{"style":449},[1580],{"type":178,"value":1581}," getExpandoData",{"type":172,"tag":255,"props":1583,"children":1584},{"style":262},[1585],{"type":178,"value":271},{"type":172,"tag":255,"props":1587,"children":1588},{"style":284},[1589],{"type":178,"value":1590},"ownerDocument",{"type":172,"tag":255,"props":1592,"children":1593},{"style":262},[1594],{"type":178,"value":302},{"type":172,"tag":255,"props":1596,"children":1597},{"style":262},[1598],{"type":178,"value":307},{"type":172,"tag":255,"props":1600,"children":1601},{"class":257,"line":732},[1602,1606,1611,1615,1620,1625,1629,1633,1638],{"type":172,"tag":255,"props":1603,"children":1604},{"style":274},[1605],{"type":178,"value":700},{"type":172,"tag":255,"props":1607,"children":1608},{"style":268},[1609],{"type":178,"value":1610}," data",{"type":172,"tag":255,"props":1612,"children":1613},{"style":333},[1614],{"type":178,"value":710},{"type":172,"tag":255,"props":1616,"children":1617},{"style":268},[1618],{"type":178,"value":1619}," expandoData",{"type":172,"tag":255,"props":1621,"children":1622},{"style":726},[1623],{"type":178,"value":1624},"[",{"type":172,"tag":255,"props":1626,"children":1627},{"style":268},[1628],{"type":178,"value":1590},{"type":172,"tag":255,"props":1630,"children":1631},{"style":726},[1632],{"type":178,"value":1624},{"type":172,"tag":255,"props":1634,"children":1635},{"style":268},[1636],{"type":178,"value":1637},"expando",{"type":172,"tag":255,"props":1639,"children":1640},{"style":726},[1641],{"type":178,"value":1642},"]]\n",{"type":172,"tag":255,"props":1644,"children":1645},{"class":257,"line":747},[1646,1651,1655,1660,1665,1669],{"type":172,"tag":255,"props":1647,"children":1648},{"style":736},[1649],{"type":178,"value":1650},"    if",{"type":172,"tag":255,"props":1652,"children":1653},{"style":726},[1654],{"type":178,"value":491},{"type":172,"tag":255,"props":1656,"children":1657},{"style":333},[1658],{"type":178,"value":1659},"!",{"type":172,"tag":255,"props":1661,"children":1662},{"style":268},[1663],{"type":178,"value":1664},"data",{"type":172,"tag":255,"props":1666,"children":1667},{"style":726},[1668],{"type":178,"value":1406},{"type":172,"tag":255,"props":1670,"children":1671},{"style":262},[1672],{"type":178,"value":1411},{"type":172,"tag":255,"props":1674,"children":1675},{"class":257,"line":790},[1676,1681,1685],{"type":172,"tag":255,"props":1677,"children":1678},{"style":268},[1679],{"type":178,"value":1680},"        data",{"type":172,"tag":255,"props":1682,"children":1683},{"style":333},[1684],{"type":178,"value":710},{"type":172,"tag":255,"props":1686,"children":1687},{"style":262},[1688],{"type":178,"value":1519},{"type":172,"tag":255,"props":1690,"children":1691},{"class":257,"line":830},[1692,1697],{"type":172,"tag":255,"props":1693,"children":1694},{"style":268},[1695],{"type":178,"value":1696},"        expanID",{"type":172,"tag":255,"props":1698,"children":1699},{"style":333},[1700],{"type":178,"value":1701},"++\n",{"type":172,"tag":255,"props":1703,"children":1704},{"class":257,"line":866},[1705,1710,1714,1718,1723,1727],{"type":172,"tag":255,"props":1706,"children":1707},{"style":268},[1708],{"type":178,"value":1709},"        ownerDocument",{"type":172,"tag":255,"props":1711,"children":1712},{"style":726},[1713],{"type":178,"value":1624},{"type":172,"tag":255,"props":1715,"children":1716},{"style":268},[1717],{"type":178,"value":1637},{"type":172,"tag":255,"props":1719,"children":1720},{"style":726},[1721],{"type":178,"value":1722},"] ",{"type":172,"tag":255,"props":1724,"children":1725},{"style":333},[1726],{"type":178,"value":437},{"type":172,"tag":255,"props":1728,"children":1729},{"style":268},[1730],{"type":178,"value":1731}," expanID\n",{"type":172,"tag":255,"props":1733,"children":1734},{"class":257,"line":875},[1735,1740,1744,1749,1753,1757],{"type":172,"tag":255,"props":1736,"children":1737},{"style":268},[1738],{"type":178,"value":1739},"        expandoData",{"type":172,"tag":255,"props":1741,"children":1742},{"style":726},[1743],{"type":178,"value":1624},{"type":172,"tag":255,"props":1745,"children":1746},{"style":268},[1747],{"type":178,"value":1748},"expanID",{"type":172,"tag":255,"props":1750,"children":1751},{"style":726},[1752],{"type":178,"value":1722},{"type":172,"tag":255,"props":1754,"children":1755},{"style":333},[1756],{"type":178,"value":437},{"type":172,"tag":255,"props":1758,"children":1759},{"style":268},[1760],{"type":178,"value":1761}," data\n",{"type":172,"tag":255,"props":1763,"children":1764},{"class":257,"line":1144},[1765],{"type":172,"tag":255,"props":1766,"children":1767},{"style":262},[1768],{"type":178,"value":1463},{"type":172,"tag":255,"props":1770,"children":1771},{"class":257,"line":1153},[1772,1776],{"type":172,"tag":255,"props":1773,"children":1774},{"style":736},[1775],{"type":178,"value":739},{"type":172,"tag":255,"props":1777,"children":1778},{"style":268},[1779],{"type":178,"value":1761},{"type":172,"tag":255,"props":1781,"children":1782},{"class":257,"line":1196},[1783],{"type":172,"tag":255,"props":1784,"children":1785},{"style":262},[1786],{"type":178,"value":1787},"  }\n",{"type":172,"tag":186,"props":1789,"children":1790},{},[1791],{"type":178,"value":1792},"如何对 document 进行 html5 的增强呢？原理体现都在 shivDocument 这个函数了，只需要增强浏览器原生的 createElement 等 API 的功能，再添加对应的元素样式就好了。",{"type":172,"tag":244,"props":1794,"children":1796},{"className":246,"code":1795,"language":248,"meta":166,"style":166},"function shivDocument(ownerDocument) {\n    // 挂载 document._html5shiv\n    var data = getExpandoData(ownerDocument)\n\n    // 增强样式\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      )\n    }\n\n    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n    // 如果当前浏览器连 document.createElement 都会报错，\n    // 那就没办法 shiv 了，只好假装一切正常...\n    if (!supportsUnknownElements) {\n      // 增强 createElement 和 createDocumentFragment\n      shivMethods(ownerDocument, data)\n    }\n    return ownerDocument\n  }\n",[1797],{"type":172,"tag":251,"props":1798,"children":1799},{"__ignoreMap":166},[1800,1828,1836,1867,1874,1882,1951,1994,2002,2024,2032,2052,2060,2076,2084,2091,2098,2106,2114,2122,2150,2158,2186,2193,2205],{"type":172,"tag":255,"props":1801,"children":1802},{"class":257,"line":258},[1803,1807,1812,1816,1820,1824],{"type":172,"tag":255,"props":1804,"children":1805},{"style":274},[1806],{"type":178,"value":277},{"type":172,"tag":255,"props":1808,"children":1809},{"style":449},[1810],{"type":178,"value":1811}," shivDocument",{"type":172,"tag":255,"props":1813,"children":1814},{"style":262},[1815],{"type":178,"value":271},{"type":172,"tag":255,"props":1817,"children":1818},{"style":284},[1819],{"type":178,"value":1590},{"type":172,"tag":255,"props":1821,"children":1822},{"style":262},[1823],{"type":178,"value":302},{"type":172,"tag":255,"props":1825,"children":1826},{"style":262},[1827],{"type":178,"value":307},{"type":172,"tag":255,"props":1829,"children":1830},{"class":257,"line":310},[1831],{"type":172,"tag":255,"props":1832,"children":1833},{"style":314},[1834],{"type":178,"value":1835},"    // 挂载 document._html5shiv\n",{"type":172,"tag":255,"props":1837,"children":1838},{"class":257,"line":320},[1839,1843,1847,1851,1855,1859,1863],{"type":172,"tag":255,"props":1840,"children":1841},{"style":274},[1842],{"type":178,"value":700},{"type":172,"tag":255,"props":1844,"children":1845},{"style":268},[1846],{"type":178,"value":1610},{"type":172,"tag":255,"props":1848,"children":1849},{"style":333},[1850],{"type":178,"value":710},{"type":172,"tag":255,"props":1852,"children":1853},{"style":449},[1854],{"type":178,"value":1581},{"type":172,"tag":255,"props":1856,"children":1857},{"style":726},[1858],{"type":178,"value":271},{"type":172,"tag":255,"props":1860,"children":1861},{"style":268},[1862],{"type":178,"value":1590},{"type":172,"tag":255,"props":1864,"children":1865},{"style":726},[1866],{"type":178,"value":474},{"type":172,"tag":255,"props":1868,"children":1869},{"class":257,"line":694},[1870],{"type":172,"tag":255,"props":1871,"children":1872},{"emptyLinePlaceholder":165},[1873],{"type":178,"value":1073},{"type":172,"tag":255,"props":1875,"children":1876},{"class":257,"line":732},[1877],{"type":172,"tag":255,"props":1878,"children":1879},{"style":314},[1880],{"type":178,"value":1881},"    // 增强样式\n",{"type":172,"tag":255,"props":1883,"children":1884},{"class":257,"line":747},[1885,1889,1893,1898,1902,1907,1912,1917,1922,1926,1930,1934,1938,1943,1947],{"type":172,"tag":255,"props":1886,"children":1887},{"style":736},[1888],{"type":178,"value":1650},{"type":172,"tag":255,"props":1890,"children":1891},{"style":726},[1892],{"type":178,"value":491},{"type":172,"tag":255,"props":1894,"children":1895},{"style":268},[1896],{"type":178,"value":1897},"html5",{"type":172,"tag":255,"props":1899,"children":1900},{"style":262},[1901],{"type":178,"value":446},{"type":172,"tag":255,"props":1903,"children":1904},{"style":268},[1905],{"type":178,"value":1906},"shivCSS",{"type":172,"tag":255,"props":1908,"children":1909},{"style":333},[1910],{"type":178,"value":1911}," &&",{"type":172,"tag":255,"props":1913,"children":1914},{"style":333},[1915],{"type":178,"value":1916}," !",{"type":172,"tag":255,"props":1918,"children":1919},{"style":268},[1920],{"type":178,"value":1921},"supportsHtml5Styles",{"type":172,"tag":255,"props":1923,"children":1924},{"style":333},[1925],{"type":178,"value":1911},{"type":172,"tag":255,"props":1927,"children":1928},{"style":333},[1929],{"type":178,"value":1916},{"type":172,"tag":255,"props":1931,"children":1932},{"style":268},[1933],{"type":178,"value":1664},{"type":172,"tag":255,"props":1935,"children":1936},{"style":262},[1937],{"type":178,"value":446},{"type":172,"tag":255,"props":1939,"children":1940},{"style":268},[1941],{"type":178,"value":1942},"hasCSS",{"type":172,"tag":255,"props":1944,"children":1945},{"style":726},[1946],{"type":178,"value":1406},{"type":172,"tag":255,"props":1948,"children":1949},{"style":262},[1950],{"type":178,"value":1411},{"type":172,"tag":255,"props":1952,"children":1953},{"class":257,"line":790},[1954,1959,1963,1967,1971,1976,1981,1985,1989],{"type":172,"tag":255,"props":1955,"children":1956},{"style":268},[1957],{"type":178,"value":1958},"      data",{"type":172,"tag":255,"props":1960,"children":1961},{"style":262},[1962],{"type":178,"value":446},{"type":172,"tag":255,"props":1964,"children":1965},{"style":268},[1966],{"type":178,"value":1942},{"type":172,"tag":255,"props":1968,"children":1969},{"style":333},[1970],{"type":178,"value":710},{"type":172,"tag":255,"props":1972,"children":1973},{"style":333},[1974],{"type":178,"value":1975}," !!",{"type":172,"tag":255,"props":1977,"children":1978},{"style":449},[1979],{"type":178,"value":1980},"addStyleSheet",{"type":172,"tag":255,"props":1982,"children":1983},{"style":726},[1984],{"type":178,"value":271},{"type":172,"tag":255,"props":1986,"children":1987},{"style":268},[1988],{"type":178,"value":1590},{"type":172,"tag":255,"props":1990,"children":1991},{"style":262},[1992],{"type":178,"value":1993},",\n",{"type":172,"tag":255,"props":1995,"children":1996},{"class":257,"line":830},[1997],{"type":172,"tag":255,"props":1998,"children":1999},{"style":314},[2000],{"type":178,"value":2001},"        // corrects block display not defined in IE6/7/8/9\n",{"type":172,"tag":255,"props":2003,"children":2004},{"class":257,"line":866},[2005,2010,2015,2019],{"type":172,"tag":255,"props":2006,"children":2007},{"style":349},[2008],{"type":178,"value":2009},"        '",{"type":172,"tag":255,"props":2011,"children":2012},{"style":355},[2013],{"type":178,"value":2014},"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}",{"type":172,"tag":255,"props":2016,"children":2017},{"style":349},[2018],{"type":178,"value":461},{"type":172,"tag":255,"props":2020,"children":2021},{"style":333},[2022],{"type":178,"value":2023}," +\n",{"type":172,"tag":255,"props":2025,"children":2026},{"class":257,"line":875},[2027],{"type":172,"tag":255,"props":2028,"children":2029},{"style":314},[2030],{"type":178,"value":2031},"        // adds styling not present in IE6/7/8/9\n",{"type":172,"tag":255,"props":2033,"children":2034},{"class":257,"line":1144},[2035,2039,2044,2048],{"type":172,"tag":255,"props":2036,"children":2037},{"style":349},[2038],{"type":178,"value":2009},{"type":172,"tag":255,"props":2040,"children":2041},{"style":355},[2042],{"type":178,"value":2043},"mark{background:#FF0;color:#000}",{"type":172,"tag":255,"props":2045,"children":2046},{"style":349},[2047],{"type":178,"value":461},{"type":172,"tag":255,"props":2049,"children":2050},{"style":333},[2051],{"type":178,"value":2023},{"type":172,"tag":255,"props":2053,"children":2054},{"class":257,"line":1153},[2055],{"type":172,"tag":255,"props":2056,"children":2057},{"style":314},[2058],{"type":178,"value":2059},"        // hides non-rendered elements\n",{"type":172,"tag":255,"props":2061,"children":2062},{"class":257,"line":1196},[2063,2067,2072],{"type":172,"tag":255,"props":2064,"children":2065},{"style":349},[2066],{"type":178,"value":2009},{"type":172,"tag":255,"props":2068,"children":2069},{"style":355},[2070],{"type":178,"value":2071},"template{display:none}",{"type":172,"tag":255,"props":2073,"children":2074},{"style":349},[2075],{"type":178,"value":622},{"type":172,"tag":255,"props":2077,"children":2078},{"class":257,"line":1229},[2079],{"type":172,"tag":255,"props":2080,"children":2081},{"style":726},[2082],{"type":178,"value":2083},"      )\n",{"type":172,"tag":255,"props":2085,"children":2086},{"class":257,"line":1242},[2087],{"type":172,"tag":255,"props":2088,"children":2089},{"style":262},[2090],{"type":178,"value":1463},{"type":172,"tag":255,"props":2092,"children":2093},{"class":257,"line":1283},[2094],{"type":172,"tag":255,"props":2095,"children":2096},{"emptyLinePlaceholder":165},[2097],{"type":178,"value":1073},{"type":172,"tag":255,"props":2099,"children":2100},{"class":257,"line":1323},[2101],{"type":172,"tag":255,"props":2102,"children":2103},{"style":314},[2104],{"type":178,"value":2105},"    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n",{"type":172,"tag":255,"props":2107,"children":2108},{"class":257,"line":1359},[2109],{"type":172,"tag":255,"props":2110,"children":2111},{"style":314},[2112],{"type":178,"value":2113},"    // 如果当前浏览器连 document.createElement 都会报错，\n",{"type":172,"tag":255,"props":2115,"children":2116},{"class":257,"line":1368},[2117],{"type":172,"tag":255,"props":2118,"children":2119},{"style":314},[2120],{"type":178,"value":2121},"    // 那就没办法 shiv 了，只好假装一切正常...\n",{"type":172,"tag":255,"props":2123,"children":2124},{"class":257,"line":1381},[2125,2129,2133,2137,2142,2146],{"type":172,"tag":255,"props":2126,"children":2127},{"style":736},[2128],{"type":178,"value":1650},{"type":172,"tag":255,"props":2130,"children":2131},{"style":726},[2132],{"type":178,"value":491},{"type":172,"tag":255,"props":2134,"children":2135},{"style":333},[2136],{"type":178,"value":1659},{"type":172,"tag":255,"props":2138,"children":2139},{"style":268},[2140],{"type":178,"value":2141},"supportsUnknownElements",{"type":172,"tag":255,"props":2143,"children":2144},{"style":726},[2145],{"type":178,"value":1406},{"type":172,"tag":255,"props":2147,"children":2148},{"style":262},[2149],{"type":178,"value":1411},{"type":172,"tag":255,"props":2151,"children":2152},{"class":257,"line":1414},[2153],{"type":172,"tag":255,"props":2154,"children":2155},{"style":314},[2156],{"type":178,"value":2157},"      // 增强 createElement 和 createDocumentFragment\n",{"type":172,"tag":255,"props":2159,"children":2160},{"class":257,"line":1423},[2161,2166,2170,2174,2178,2182],{"type":172,"tag":255,"props":2162,"children":2163},{"style":449},[2164],{"type":178,"value":2165},"      shivMethods",{"type":172,"tag":255,"props":2167,"children":2168},{"style":726},[2169],{"type":178,"value":271},{"type":172,"tag":255,"props":2171,"children":2172},{"style":268},[2173],{"type":178,"value":1590},{"type":172,"tag":255,"props":2175,"children":2176},{"style":262},[2177],{"type":178,"value":292},{"type":172,"tag":255,"props":2179,"children":2180},{"style":268},[2181],{"type":178,"value":1610},{"type":172,"tag":255,"props":2183,"children":2184},{"style":726},[2185],{"type":178,"value":474},{"type":172,"tag":255,"props":2187,"children":2188},{"class":257,"line":1441},[2189],{"type":172,"tag":255,"props":2190,"children":2191},{"style":262},[2192],{"type":178,"value":1463},{"type":172,"tag":255,"props":2194,"children":2195},{"class":257,"line":1457},[2196,2200],{"type":172,"tag":255,"props":2197,"children":2198},{"style":736},[2199],{"type":178,"value":739},{"type":172,"tag":255,"props":2201,"children":2202},{"style":268},[2203],{"type":178,"value":2204}," ownerDocument\n",{"type":172,"tag":255,"props":2206,"children":2207},{"class":257,"line":1466},[2208],{"type":172,"tag":255,"props":2209,"children":2210},{"style":262},[2211],{"type":178,"value":1787},{"type":172,"tag":186,"props":2213,"children":2214},{},[2215],{"type":178,"value":2216},"接下来，仔细康康 shivMethods 方法。shivMethods 仿制了 createElement 和 createDocumentFragment 两个 API，将其挂载到 document._html5shiv。并通过装饰器模式增强了浏览器原生的 createElement 等 API 的功能。",{"type":172,"tag":244,"props":2218,"children":2220},{"className":246,"code":2219,"language":248,"meta":166,"style":166},"function shivMethods(ownerDocument, data) {\n    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n    if (!data.cache) {\n        data.cache = {}\n        data.createElem = ownerDocument.createElement\n        data.createFrag = ownerDocument.createDocumentFragment\n        data.frag = data.createFrag()\n    }\n\n    ownerDocument.createElement = function(nodeName) {\n      // shivMethods 可看作全局的 shiv 开关\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName)\n      }\n      return createElement(nodeName, ownerDocument, data)\n    }\n\n    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n    // 最终返回 data.frag 的克隆函数\n    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n    // 猜测它只能在老版本 IE 上起作用\n    ownerDocument.createDocumentFragment = Function(\n      'html5,dataFrag', \n      'return function(){' +\n        'var clone=dataFrag.cloneNode(),create=clone.createElement' +\n        'html5.shivMethods&&(' +\n            // unroll the `createElement` calls\n            getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n            data.createElem(nodeName)\n            data.frag.createElement(nodeName)\n            return 'create(\"' + nodeName + '\")'\n            }) +\n        ')return clone' +\n      '}'\n    )(html5, data.frag)\n  }\n",[2221],{"type":172,"tag":251,"props":2222,"children":2223},{"__ignoreMap":166},[2224,2260,2268,2304,2327,2361,2394,2430,2437,2444,2486,2494,2531,2563,2571,2612,2619,2626,2634,2642,2650,2658,2687,2713,2733,2753,2774,2783,2882,2911,2947,2995,3013,3034,3050,3083],{"type":172,"tag":255,"props":2225,"children":2226},{"class":257,"line":258},[2227,2231,2236,2240,2244,2248,2252,2256],{"type":172,"tag":255,"props":2228,"children":2229},{"style":274},[2230],{"type":178,"value":277},{"type":172,"tag":255,"props":2232,"children":2233},{"style":449},[2234],{"type":178,"value":2235}," shivMethods",{"type":172,"tag":255,"props":2237,"children":2238},{"style":262},[2239],{"type":178,"value":271},{"type":172,"tag":255,"props":2241,"children":2242},{"style":284},[2243],{"type":178,"value":1590},{"type":172,"tag":255,"props":2245,"children":2246},{"style":262},[2247],{"type":178,"value":292},{"type":172,"tag":255,"props":2249,"children":2250},{"style":284},[2251],{"type":178,"value":1610},{"type":172,"tag":255,"props":2253,"children":2254},{"style":262},[2255],{"type":178,"value":302},{"type":172,"tag":255,"props":2257,"children":2258},{"style":262},[2259],{"type":178,"value":307},{"type":172,"tag":255,"props":2261,"children":2262},{"class":257,"line":310},[2263],{"type":172,"tag":255,"props":2264,"children":2265},{"style":314},[2266],{"type":178,"value":2267},"    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n",{"type":172,"tag":255,"props":2269,"children":2270},{"class":257,"line":320},[2271,2275,2279,2283,2287,2291,2296,2300],{"type":172,"tag":255,"props":2272,"children":2273},{"style":736},[2274],{"type":178,"value":1650},{"type":172,"tag":255,"props":2276,"children":2277},{"style":726},[2278],{"type":178,"value":491},{"type":172,"tag":255,"props":2280,"children":2281},{"style":333},[2282],{"type":178,"value":1659},{"type":172,"tag":255,"props":2284,"children":2285},{"style":268},[2286],{"type":178,"value":1664},{"type":172,"tag":255,"props":2288,"children":2289},{"style":262},[2290],{"type":178,"value":446},{"type":172,"tag":255,"props":2292,"children":2293},{"style":268},[2294],{"type":178,"value":2295},"cache",{"type":172,"tag":255,"props":2297,"children":2298},{"style":726},[2299],{"type":178,"value":1406},{"type":172,"tag":255,"props":2301,"children":2302},{"style":262},[2303],{"type":178,"value":1411},{"type":172,"tag":255,"props":2305,"children":2306},{"class":257,"line":694},[2307,2311,2315,2319,2323],{"type":172,"tag":255,"props":2308,"children":2309},{"style":268},[2310],{"type":178,"value":1680},{"type":172,"tag":255,"props":2312,"children":2313},{"style":262},[2314],{"type":178,"value":446},{"type":172,"tag":255,"props":2316,"children":2317},{"style":268},[2318],{"type":178,"value":2295},{"type":172,"tag":255,"props":2320,"children":2321},{"style":333},[2322],{"type":178,"value":710},{"type":172,"tag":255,"props":2324,"children":2325},{"style":262},[2326],{"type":178,"value":1519},{"type":172,"tag":255,"props":2328,"children":2329},{"class":257,"line":732},[2330,2334,2338,2343,2347,2352,2356],{"type":172,"tag":255,"props":2331,"children":2332},{"style":268},[2333],{"type":178,"value":1680},{"type":172,"tag":255,"props":2335,"children":2336},{"style":262},[2337],{"type":178,"value":446},{"type":172,"tag":255,"props":2339,"children":2340},{"style":268},[2341],{"type":178,"value":2342},"createElem",{"type":172,"tag":255,"props":2344,"children":2345},{"style":333},[2346],{"type":178,"value":710},{"type":172,"tag":255,"props":2348,"children":2349},{"style":268},[2350],{"type":178,"value":2351}," ownerDocument",{"type":172,"tag":255,"props":2353,"children":2354},{"style":262},[2355],{"type":178,"value":446},{"type":172,"tag":255,"props":2357,"children":2358},{"style":268},[2359],{"type":178,"value":2360},"createElement\n",{"type":172,"tag":255,"props":2362,"children":2363},{"class":257,"line":747},[2364,2368,2372,2377,2381,2385,2389],{"type":172,"tag":255,"props":2365,"children":2366},{"style":268},[2367],{"type":178,"value":1680},{"type":172,"tag":255,"props":2369,"children":2370},{"style":262},[2371],{"type":178,"value":446},{"type":172,"tag":255,"props":2373,"children":2374},{"style":268},[2375],{"type":178,"value":2376},"createFrag",{"type":172,"tag":255,"props":2378,"children":2379},{"style":333},[2380],{"type":178,"value":710},{"type":172,"tag":255,"props":2382,"children":2383},{"style":268},[2384],{"type":178,"value":2351},{"type":172,"tag":255,"props":2386,"children":2387},{"style":262},[2388],{"type":178,"value":446},{"type":172,"tag":255,"props":2390,"children":2391},{"style":268},[2392],{"type":178,"value":2393},"createDocumentFragment\n",{"type":172,"tag":255,"props":2395,"children":2396},{"class":257,"line":790},[2397,2401,2405,2410,2414,2418,2422,2426],{"type":172,"tag":255,"props":2398,"children":2399},{"style":268},[2400],{"type":178,"value":1680},{"type":172,"tag":255,"props":2402,"children":2403},{"style":262},[2404],{"type":178,"value":446},{"type":172,"tag":255,"props":2406,"children":2407},{"style":268},[2408],{"type":178,"value":2409},"frag",{"type":172,"tag":255,"props":2411,"children":2412},{"style":333},[2413],{"type":178,"value":710},{"type":172,"tag":255,"props":2415,"children":2416},{"style":268},[2417],{"type":178,"value":1610},{"type":172,"tag":255,"props":2419,"children":2420},{"style":262},[2421],{"type":178,"value":446},{"type":172,"tag":255,"props":2423,"children":2424},{"style":449},[2425],{"type":178,"value":2376},{"type":172,"tag":255,"props":2427,"children":2428},{"style":726},[2429],{"type":178,"value":729},{"type":172,"tag":255,"props":2431,"children":2432},{"class":257,"line":830},[2433],{"type":172,"tag":255,"props":2434,"children":2435},{"style":262},[2436],{"type":178,"value":1463},{"type":172,"tag":255,"props":2438,"children":2439},{"class":257,"line":866},[2440],{"type":172,"tag":255,"props":2441,"children":2442},{"emptyLinePlaceholder":165},[2443],{"type":178,"value":1073},{"type":172,"tag":255,"props":2445,"children":2446},{"class":257,"line":875},[2447,2452,2456,2460,2464,2469,2473,2478,2482],{"type":172,"tag":255,"props":2448,"children":2449},{"style":268},[2450],{"type":178,"value":2451},"    ownerDocument",{"type":172,"tag":255,"props":2453,"children":2454},{"style":262},[2455],{"type":178,"value":446},{"type":172,"tag":255,"props":2457,"children":2458},{"style":449},[2459],{"type":178,"value":452},{"type":172,"tag":255,"props":2461,"children":2462},{"style":333},[2463],{"type":178,"value":710},{"type":172,"tag":255,"props":2465,"children":2466},{"style":274},[2467],{"type":178,"value":2468}," function",{"type":172,"tag":255,"props":2470,"children":2471},{"style":262},[2472],{"type":178,"value":271},{"type":172,"tag":255,"props":2474,"children":2475},{"style":284},[2476],{"type":178,"value":2477},"nodeName",{"type":172,"tag":255,"props":2479,"children":2480},{"style":262},[2481],{"type":178,"value":302},{"type":172,"tag":255,"props":2483,"children":2484},{"style":262},[2485],{"type":178,"value":307},{"type":172,"tag":255,"props":2487,"children":2488},{"class":257,"line":1144},[2489],{"type":172,"tag":255,"props":2490,"children":2491},{"style":314},[2492],{"type":178,"value":2493},"      // shivMethods 可看作全局的 shiv 开关\n",{"type":172,"tag":255,"props":2495,"children":2496},{"class":257,"line":1153},[2497,2502,2506,2510,2514,2518,2523,2527],{"type":172,"tag":255,"props":2498,"children":2499},{"style":736},[2500],{"type":178,"value":2501},"      if",{"type":172,"tag":255,"props":2503,"children":2504},{"style":726},[2505],{"type":178,"value":491},{"type":172,"tag":255,"props":2507,"children":2508},{"style":333},[2509],{"type":178,"value":1659},{"type":172,"tag":255,"props":2511,"children":2512},{"style":268},[2513],{"type":178,"value":1897},{"type":172,"tag":255,"props":2515,"children":2516},{"style":262},[2517],{"type":178,"value":446},{"type":172,"tag":255,"props":2519,"children":2520},{"style":268},[2521],{"type":178,"value":2522},"shivMethods",{"type":172,"tag":255,"props":2524,"children":2525},{"style":726},[2526],{"type":178,"value":1406},{"type":172,"tag":255,"props":2528,"children":2529},{"style":262},[2530],{"type":178,"value":1411},{"type":172,"tag":255,"props":2532,"children":2533},{"class":257,"line":1196},[2534,2539,2543,2547,2551,2555,2559],{"type":172,"tag":255,"props":2535,"children":2536},{"style":736},[2537],{"type":178,"value":2538},"          return",{"type":172,"tag":255,"props":2540,"children":2541},{"style":268},[2542],{"type":178,"value":1610},{"type":172,"tag":255,"props":2544,"children":2545},{"style":262},[2546],{"type":178,"value":446},{"type":172,"tag":255,"props":2548,"children":2549},{"style":449},[2550],{"type":178,"value":2342},{"type":172,"tag":255,"props":2552,"children":2553},{"style":726},[2554],{"type":178,"value":271},{"type":172,"tag":255,"props":2556,"children":2557},{"style":268},[2558],{"type":178,"value":2477},{"type":172,"tag":255,"props":2560,"children":2561},{"style":726},[2562],{"type":178,"value":474},{"type":172,"tag":255,"props":2564,"children":2565},{"class":257,"line":1229},[2566],{"type":172,"tag":255,"props":2567,"children":2568},{"style":262},[2569],{"type":178,"value":2570},"      }\n",{"type":172,"tag":255,"props":2572,"children":2573},{"class":257,"line":1242},[2574,2579,2584,2588,2592,2596,2600,2604,2608],{"type":172,"tag":255,"props":2575,"children":2576},{"style":736},[2577],{"type":178,"value":2578},"      return",{"type":172,"tag":255,"props":2580,"children":2581},{"style":449},[2582],{"type":178,"value":2583}," createElement",{"type":172,"tag":255,"props":2585,"children":2586},{"style":726},[2587],{"type":178,"value":271},{"type":172,"tag":255,"props":2589,"children":2590},{"style":268},[2591],{"type":178,"value":2477},{"type":172,"tag":255,"props":2593,"children":2594},{"style":262},[2595],{"type":178,"value":292},{"type":172,"tag":255,"props":2597,"children":2598},{"style":268},[2599],{"type":178,"value":2351},{"type":172,"tag":255,"props":2601,"children":2602},{"style":262},[2603],{"type":178,"value":292},{"type":172,"tag":255,"props":2605,"children":2606},{"style":268},[2607],{"type":178,"value":1610},{"type":172,"tag":255,"props":2609,"children":2610},{"style":726},[2611],{"type":178,"value":474},{"type":172,"tag":255,"props":2613,"children":2614},{"class":257,"line":1283},[2615],{"type":172,"tag":255,"props":2616,"children":2617},{"style":262},[2618],{"type":178,"value":1463},{"type":172,"tag":255,"props":2620,"children":2621},{"class":257,"line":1323},[2622],{"type":172,"tag":255,"props":2623,"children":2624},{"emptyLinePlaceholder":165},[2625],{"type":178,"value":1073},{"type":172,"tag":255,"props":2627,"children":2628},{"class":257,"line":1359},[2629],{"type":172,"tag":255,"props":2630,"children":2631},{"style":314},[2632],{"type":178,"value":2633},"    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n",{"type":172,"tag":255,"props":2635,"children":2636},{"class":257,"line":1368},[2637],{"type":172,"tag":255,"props":2638,"children":2639},{"style":314},[2640],{"type":178,"value":2641},"    // 最终返回 data.frag 的克隆函数\n",{"type":172,"tag":255,"props":2643,"children":2644},{"class":257,"line":1381},[2645],{"type":172,"tag":255,"props":2646,"children":2647},{"style":314},[2648],{"type":178,"value":2649},"    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n",{"type":172,"tag":255,"props":2651,"children":2652},{"class":257,"line":1414},[2653],{"type":172,"tag":255,"props":2654,"children":2655},{"style":314},[2656],{"type":178,"value":2657},"    // 猜测它只能在老版本 IE 上起作用\n",{"type":172,"tag":255,"props":2659,"children":2660},{"class":257,"line":1423},[2661,2665,2669,2673,2677,2682],{"type":172,"tag":255,"props":2662,"children":2663},{"style":268},[2664],{"type":178,"value":2451},{"type":172,"tag":255,"props":2666,"children":2667},{"style":262},[2668],{"type":178,"value":446},{"type":172,"tag":255,"props":2670,"children":2671},{"style":268},[2672],{"type":178,"value":723},{"type":172,"tag":255,"props":2674,"children":2675},{"style":333},[2676],{"type":178,"value":710},{"type":172,"tag":255,"props":2678,"children":2679},{"style":449},[2680],{"type":178,"value":2681}," Function",{"type":172,"tag":255,"props":2683,"children":2684},{"style":726},[2685],{"type":178,"value":2686},"(\n",{"type":172,"tag":255,"props":2688,"children":2689},{"class":257,"line":1441},[2690,2695,2700,2704,2708],{"type":172,"tag":255,"props":2691,"children":2692},{"style":349},[2693],{"type":178,"value":2694},"      '",{"type":172,"tag":255,"props":2696,"children":2697},{"style":355},[2698],{"type":178,"value":2699},"html5,dataFrag",{"type":172,"tag":255,"props":2701,"children":2702},{"style":349},[2703],{"type":178,"value":461},{"type":172,"tag":255,"props":2705,"children":2706},{"style":262},[2707],{"type":178,"value":292},{"type":172,"tag":255,"props":2709,"children":2710},{"style":726},[2711],{"type":178,"value":2712}," \n",{"type":172,"tag":255,"props":2714,"children":2715},{"class":257,"line":1457},[2716,2720,2725,2729],{"type":172,"tag":255,"props":2717,"children":2718},{"style":349},[2719],{"type":178,"value":2694},{"type":172,"tag":255,"props":2721,"children":2722},{"style":355},[2723],{"type":178,"value":2724},"return function(){",{"type":172,"tag":255,"props":2726,"children":2727},{"style":349},[2728],{"type":178,"value":461},{"type":172,"tag":255,"props":2730,"children":2731},{"style":333},[2732],{"type":178,"value":2023},{"type":172,"tag":255,"props":2734,"children":2735},{"class":257,"line":1466},[2736,2740,2745,2749],{"type":172,"tag":255,"props":2737,"children":2738},{"style":349},[2739],{"type":178,"value":2009},{"type":172,"tag":255,"props":2741,"children":2742},{"style":355},[2743],{"type":178,"value":2744},"var clone=dataFrag.cloneNode(),create=clone.createElement",{"type":172,"tag":255,"props":2746,"children":2747},{"style":349},[2748],{"type":178,"value":461},{"type":172,"tag":255,"props":2750,"children":2751},{"style":333},[2752],{"type":178,"value":2023},{"type":172,"tag":255,"props":2754,"children":2756},{"class":257,"line":2755},26,[2757,2761,2766,2770],{"type":172,"tag":255,"props":2758,"children":2759},{"style":349},[2760],{"type":178,"value":2009},{"type":172,"tag":255,"props":2762,"children":2763},{"style":355},[2764],{"type":178,"value":2765},"html5.shivMethods&&(",{"type":172,"tag":255,"props":2767,"children":2768},{"style":349},[2769],{"type":178,"value":461},{"type":172,"tag":255,"props":2771,"children":2772},{"style":333},[2773],{"type":178,"value":2023},{"type":172,"tag":255,"props":2775,"children":2777},{"class":257,"line":2776},27,[2778],{"type":172,"tag":255,"props":2779,"children":2780},{"style":314},[2781],{"type":178,"value":2782},"            // unroll the `createElement` calls\n",{"type":172,"tag":255,"props":2784,"children":2786},{"class":257,"line":2785},28,[2787,2792,2796,2800,2805,2809,2813,2818,2822,2827,2832,2838,2843,2848,2852,2858,2862,2866,2870,2874,2878],{"type":172,"tag":255,"props":2788,"children":2789},{"style":449},[2790],{"type":178,"value":2791},"            getElements",{"type":172,"tag":255,"props":2793,"children":2794},{"style":726},[2795],{"type":178,"value":687},{"type":172,"tag":255,"props":2797,"children":2798},{"style":262},[2799],{"type":178,"value":446},{"type":172,"tag":255,"props":2801,"children":2802},{"style":449},[2803],{"type":178,"value":2804},"join",{"type":172,"tag":255,"props":2806,"children":2807},{"style":726},[2808],{"type":178,"value":687},{"type":172,"tag":255,"props":2810,"children":2811},{"style":262},[2812],{"type":178,"value":446},{"type":172,"tag":255,"props":2814,"children":2815},{"style":449},[2816],{"type":178,"value":2817},"replace",{"type":172,"tag":255,"props":2819,"children":2820},{"style":726},[2821],{"type":178,"value":271},{"type":172,"tag":255,"props":2823,"children":2824},{"style":349},[2825],{"type":178,"value":2826},"/",{"type":172,"tag":255,"props":2828,"children":2830},{"style":2829},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2831],{"type":178,"value":1624},{"type":172,"tag":255,"props":2833,"children":2835},{"style":2834},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2836],{"type":178,"value":2837},"\\w\\-:",{"type":172,"tag":255,"props":2839,"children":2840},{"style":2829},[2841],{"type":178,"value":2842},"]",{"type":172,"tag":255,"props":2844,"children":2845},{"style":333},[2846],{"type":178,"value":2847},"+",{"type":172,"tag":255,"props":2849,"children":2850},{"style":349},[2851],{"type":178,"value":2826},{"type":172,"tag":255,"props":2853,"children":2855},{"style":2854},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[2856],{"type":178,"value":2857},"g",{"type":172,"tag":255,"props":2859,"children":2860},{"style":262},[2861],{"type":178,"value":292},{"type":172,"tag":255,"props":2863,"children":2864},{"style":274},[2865],{"type":178,"value":2468},{"type":172,"tag":255,"props":2867,"children":2868},{"style":262},[2869],{"type":178,"value":271},{"type":172,"tag":255,"props":2871,"children":2872},{"style":284},[2873],{"type":178,"value":2477},{"type":172,"tag":255,"props":2875,"children":2876},{"style":262},[2877],{"type":178,"value":302},{"type":172,"tag":255,"props":2879,"children":2880},{"style":262},[2881],{"type":178,"value":307},{"type":172,"tag":255,"props":2883,"children":2885},{"class":257,"line":2884},29,[2886,2891,2895,2899,2903,2907],{"type":172,"tag":255,"props":2887,"children":2888},{"style":268},[2889],{"type":178,"value":2890},"            data",{"type":172,"tag":255,"props":2892,"children":2893},{"style":262},[2894],{"type":178,"value":446},{"type":172,"tag":255,"props":2896,"children":2897},{"style":449},[2898],{"type":178,"value":2342},{"type":172,"tag":255,"props":2900,"children":2901},{"style":726},[2902],{"type":178,"value":271},{"type":172,"tag":255,"props":2904,"children":2905},{"style":268},[2906],{"type":178,"value":2477},{"type":172,"tag":255,"props":2908,"children":2909},{"style":726},[2910],{"type":178,"value":474},{"type":172,"tag":255,"props":2912,"children":2914},{"class":257,"line":2913},30,[2915,2919,2923,2927,2931,2935,2939,2943],{"type":172,"tag":255,"props":2916,"children":2917},{"style":268},[2918],{"type":178,"value":2890},{"type":172,"tag":255,"props":2920,"children":2921},{"style":262},[2922],{"type":178,"value":446},{"type":172,"tag":255,"props":2924,"children":2925},{"style":268},[2926],{"type":178,"value":2409},{"type":172,"tag":255,"props":2928,"children":2929},{"style":262},[2930],{"type":178,"value":446},{"type":172,"tag":255,"props":2932,"children":2933},{"style":449},[2934],{"type":178,"value":452},{"type":172,"tag":255,"props":2936,"children":2937},{"style":726},[2938],{"type":178,"value":271},{"type":172,"tag":255,"props":2940,"children":2941},{"style":268},[2942],{"type":178,"value":2477},{"type":172,"tag":255,"props":2944,"children":2945},{"style":726},[2946],{"type":178,"value":474},{"type":172,"tag":255,"props":2948,"children":2950},{"class":257,"line":2949},31,[2951,2955,2959,2964,2968,2973,2978,2982,2986,2991],{"type":172,"tag":255,"props":2952,"children":2953},{"style":736},[2954],{"type":178,"value":1235},{"type":172,"tag":255,"props":2956,"children":2957},{"style":349},[2958],{"type":178,"value":612},{"type":172,"tag":255,"props":2960,"children":2961},{"style":355},[2962],{"type":178,"value":2963},"create(\"",{"type":172,"tag":255,"props":2965,"children":2966},{"style":349},[2967],{"type":178,"value":461},{"type":172,"tag":255,"props":2969,"children":2970},{"style":333},[2971],{"type":178,"value":2972}," +",{"type":172,"tag":255,"props":2974,"children":2975},{"style":268},[2976],{"type":178,"value":2977}," nodeName",{"type":172,"tag":255,"props":2979,"children":2980},{"style":333},[2981],{"type":178,"value":2972},{"type":172,"tag":255,"props":2983,"children":2984},{"style":349},[2985],{"type":178,"value":612},{"type":172,"tag":255,"props":2987,"children":2988},{"style":355},[2989],{"type":178,"value":2990},"\")",{"type":172,"tag":255,"props":2992,"children":2993},{"style":349},[2994],{"type":178,"value":622},{"type":172,"tag":255,"props":2996,"children":2998},{"class":257,"line":2997},32,[2999,3004,3008],{"type":172,"tag":255,"props":3000,"children":3001},{"style":262},[3002],{"type":178,"value":3003},"            }",{"type":172,"tag":255,"props":3005,"children":3006},{"style":726},[3007],{"type":178,"value":1406},{"type":172,"tag":255,"props":3009,"children":3010},{"style":333},[3011],{"type":178,"value":3012},"+\n",{"type":172,"tag":255,"props":3014,"children":3016},{"class":257,"line":3015},33,[3017,3021,3026,3030],{"type":172,"tag":255,"props":3018,"children":3019},{"style":349},[3020],{"type":178,"value":2009},{"type":172,"tag":255,"props":3022,"children":3023},{"style":355},[3024],{"type":178,"value":3025},")return clone",{"type":172,"tag":255,"props":3027,"children":3028},{"style":349},[3029],{"type":178,"value":461},{"type":172,"tag":255,"props":3031,"children":3032},{"style":333},[3033],{"type":178,"value":2023},{"type":172,"tag":255,"props":3035,"children":3037},{"class":257,"line":3036},34,[3038,3042,3046],{"type":172,"tag":255,"props":3039,"children":3040},{"style":349},[3041],{"type":178,"value":2694},{"type":172,"tag":255,"props":3043,"children":3044},{"style":355},[3045],{"type":178,"value":326},{"type":172,"tag":255,"props":3047,"children":3048},{"style":349},[3049],{"type":178,"value":622},{"type":172,"tag":255,"props":3051,"children":3053},{"class":257,"line":3052},35,[3054,3059,3063,3067,3071,3075,3079],{"type":172,"tag":255,"props":3055,"children":3056},{"style":726},[3057],{"type":178,"value":3058},"    )(",{"type":172,"tag":255,"props":3060,"children":3061},{"style":268},[3062],{"type":178,"value":1897},{"type":172,"tag":255,"props":3064,"children":3065},{"style":262},[3066],{"type":178,"value":292},{"type":172,"tag":255,"props":3068,"children":3069},{"style":268},[3070],{"type":178,"value":1610},{"type":172,"tag":255,"props":3072,"children":3073},{"style":262},[3074],{"type":178,"value":446},{"type":172,"tag":255,"props":3076,"children":3077},{"style":268},[3078],{"type":178,"value":2409},{"type":172,"tag":255,"props":3080,"children":3081},{"style":726},[3082],{"type":178,"value":474},{"type":172,"tag":255,"props":3084,"children":3086},{"class":257,"line":3085},36,[3087],{"type":172,"tag":255,"props":3088,"children":3089},{"style":262},[3090],{"type":178,"value":1787},{"type":172,"tag":186,"props":3092,"children":3093},{},[3094],{"type":178,"value":3095},"小插曲。我在浏览器测试时发现，若像上面这个函数一样，将 document.createDocumentFrament 先缓存，再调用，会发生报错：",{"type":172,"tag":244,"props":3097,"children":3099},{"className":246,"code":3098,"language":248,"meta":166,"style":166},"data = {}\ndata.createFrag = document.createDocumentFragment\ndata.frag = data.createFrag()\n\n// >>> Uncaught TypeError: Illegal invocation\n",[3100],{"type":172,"tag":251,"props":3101,"children":3102},{"__ignoreMap":166},[3103,3119,3151,3187,3194],{"type":172,"tag":255,"props":3104,"children":3105},{"class":257,"line":258},[3106,3111,3115],{"type":172,"tag":255,"props":3107,"children":3108},{"style":268},[3109],{"type":178,"value":3110},"data ",{"type":172,"tag":255,"props":3112,"children":3113},{"style":333},[3114],{"type":178,"value":437},{"type":172,"tag":255,"props":3116,"children":3117},{"style":262},[3118],{"type":178,"value":1519},{"type":172,"tag":255,"props":3120,"children":3121},{"class":257,"line":310},[3122,3126,3130,3135,3139,3143,3147],{"type":172,"tag":255,"props":3123,"children":3124},{"style":268},[3125],{"type":178,"value":1664},{"type":172,"tag":255,"props":3127,"children":3128},{"style":262},[3129],{"type":178,"value":446},{"type":172,"tag":255,"props":3131,"children":3132},{"style":268},[3133],{"type":178,"value":3134},"createFrag ",{"type":172,"tag":255,"props":3136,"children":3137},{"style":333},[3138],{"type":178,"value":437},{"type":172,"tag":255,"props":3140,"children":3141},{"style":268},[3142],{"type":178,"value":297},{"type":172,"tag":255,"props":3144,"children":3145},{"style":262},[3146],{"type":178,"value":446},{"type":172,"tag":255,"props":3148,"children":3149},{"style":268},[3150],{"type":178,"value":2393},{"type":172,"tag":255,"props":3152,"children":3153},{"class":257,"line":320},[3154,3158,3162,3167,3171,3175,3179,3183],{"type":172,"tag":255,"props":3155,"children":3156},{"style":268},[3157],{"type":178,"value":1664},{"type":172,"tag":255,"props":3159,"children":3160},{"style":262},[3161],{"type":178,"value":446},{"type":172,"tag":255,"props":3163,"children":3164},{"style":268},[3165],{"type":178,"value":3166},"frag ",{"type":172,"tag":255,"props":3168,"children":3169},{"style":333},[3170],{"type":178,"value":437},{"type":172,"tag":255,"props":3172,"children":3173},{"style":268},[3174],{"type":178,"value":1610},{"type":172,"tag":255,"props":3176,"children":3177},{"style":262},[3178],{"type":178,"value":446},{"type":172,"tag":255,"props":3180,"children":3181},{"style":449},[3182],{"type":178,"value":2376},{"type":172,"tag":255,"props":3184,"children":3185},{"style":268},[3186],{"type":178,"value":729},{"type":172,"tag":255,"props":3188,"children":3189},{"class":257,"line":694},[3190],{"type":172,"tag":255,"props":3191,"children":3192},{"emptyLinePlaceholder":165},[3193],{"type":178,"value":1073},{"type":172,"tag":255,"props":3195,"children":3196},{"class":257,"line":732},[3197],{"type":172,"tag":255,"props":3198,"children":3199},{"style":314},[3200],{"type":178,"value":3201},"// >>> Uncaught TypeError: Illegal invocation\n",{"type":172,"tag":186,"props":3203,"children":3204},{},[3205],{"type":178,"value":3206},"由于没有具体的报错原因，只能暂时猜测是 this 指向的锅。更改 this 指向后，再试了一次，这次没得问题。在 GitHub issues 中没有人提过这个问题，所以我只能猜测因为所有现代浏览器都支持使用原生 API 创建非标准元素，所以不会走 shivMethods 的逻辑。",{"type":172,"tag":244,"props":3208,"children":3210},{"className":246,"code":3209,"language":248,"meta":166,"style":166},"data = {}\ndata.createFrag = document.createDocumentFragment.bind(document)\ndata.frag = data.createFrag()\n\n// >>> #document-fragment\n",[3211],{"type":172,"tag":251,"props":3212,"children":3213},{"__ignoreMap":166},[3214,3229,3274,3309,3316],{"type":172,"tag":255,"props":3215,"children":3216},{"class":257,"line":258},[3217,3221,3225],{"type":172,"tag":255,"props":3218,"children":3219},{"style":268},[3220],{"type":178,"value":3110},{"type":172,"tag":255,"props":3222,"children":3223},{"style":333},[3224],{"type":178,"value":437},{"type":172,"tag":255,"props":3226,"children":3227},{"style":262},[3228],{"type":178,"value":1519},{"type":172,"tag":255,"props":3230,"children":3231},{"class":257,"line":310},[3232,3236,3240,3244,3248,3252,3256,3260,3264,3269],{"type":172,"tag":255,"props":3233,"children":3234},{"style":268},[3235],{"type":178,"value":1664},{"type":172,"tag":255,"props":3237,"children":3238},{"style":262},[3239],{"type":178,"value":446},{"type":172,"tag":255,"props":3241,"children":3242},{"style":268},[3243],{"type":178,"value":3134},{"type":172,"tag":255,"props":3245,"children":3246},{"style":333},[3247],{"type":178,"value":437},{"type":172,"tag":255,"props":3249,"children":3250},{"style":268},[3251],{"type":178,"value":297},{"type":172,"tag":255,"props":3253,"children":3254},{"style":262},[3255],{"type":178,"value":446},{"type":172,"tag":255,"props":3257,"children":3258},{"style":268},[3259],{"type":178,"value":723},{"type":172,"tag":255,"props":3261,"children":3262},{"style":262},[3263],{"type":178,"value":446},{"type":172,"tag":255,"props":3265,"children":3266},{"style":449},[3267],{"type":178,"value":3268},"bind",{"type":172,"tag":255,"props":3270,"children":3271},{"style":268},[3272],{"type":178,"value":3273},"(document)\n",{"type":172,"tag":255,"props":3275,"children":3276},{"class":257,"line":320},[3277,3281,3285,3289,3293,3297,3301,3305],{"type":172,"tag":255,"props":3278,"children":3279},{"style":268},[3280],{"type":178,"value":1664},{"type":172,"tag":255,"props":3282,"children":3283},{"style":262},[3284],{"type":178,"value":446},{"type":172,"tag":255,"props":3286,"children":3287},{"style":268},[3288],{"type":178,"value":3166},{"type":172,"tag":255,"props":3290,"children":3291},{"style":333},[3292],{"type":178,"value":437},{"type":172,"tag":255,"props":3294,"children":3295},{"style":268},[3296],{"type":178,"value":1610},{"type":172,"tag":255,"props":3298,"children":3299},{"style":262},[3300],{"type":178,"value":446},{"type":172,"tag":255,"props":3302,"children":3303},{"style":449},[3304],{"type":178,"value":2376},{"type":172,"tag":255,"props":3306,"children":3307},{"style":268},[3308],{"type":178,"value":729},{"type":172,"tag":255,"props":3310,"children":3311},{"class":257,"line":694},[3312],{"type":172,"tag":255,"props":3313,"children":3314},{"emptyLinePlaceholder":165},[3315],{"type":178,"value":1073},{"type":172,"tag":255,"props":3317,"children":3318},{"class":257,"line":732},[3319],{"type":172,"tag":255,"props":3320,"children":3321},{"style":314},[3322],{"type":178,"value":3323},"// >>> #document-fragment\n",{"type":172,"tag":186,"props":3325,"children":3326},{},[3327],{"type":178,"value":3328},"我们继续。以下代码是对 createElement 的仿制， 用于返回一个已经 shiv 过的元素。主要是用来兼容原生 document.createElement 不支持创建一个非规范的元素的情况。比方说，HTML5 标签中有 article 元素，document.createElement 不支持的话，就需要调用此仿制 API。",{"type":172,"tag":244,"props":3330,"children":3332},{"className":246,"code":3331,"language":248,"meta":166,"style":166},"function createElement(nodeName, ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName)\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument)\n    }\n    var node\n\n    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode()\n    } else \n    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n    // 则创建一个新元素并存到缓存中\n    if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode()\n    } else \n    // 如果是不能被克隆的对象，那就直接创建吧...\n    {\n        node = data.createElem(nodeName)\n    }\n\n    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n    // Avoid adding some elements to fragments in IE \u003C 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn \n        ? data.frag.appendChild(node) \n        : node\n  }\n",[3333],{"type":172,"tag":251,"props":3334,"children":3335},{"__ignoreMap":166},[3336,3376,3399,3431,3438,3465,3492,3499,3511,3518,3526,3566,3614,3630,3638,3646,3688,3768,3783,3791,3799,3834,3841,3848,3856,3864,3872,3880,3888,3896,3904,3912,3993,4035,4047],{"type":172,"tag":255,"props":3337,"children":3338},{"class":257,"line":258},[3339,3343,3347,3351,3355,3359,3363,3367,3371],{"type":172,"tag":255,"props":3340,"children":3341},{"style":274},[3342],{"type":178,"value":277},{"type":172,"tag":255,"props":3344,"children":3345},{"style":449},[3346],{"type":178,"value":2583},{"type":172,"tag":255,"props":3348,"children":3349},{"style":262},[3350],{"type":178,"value":271},{"type":172,"tag":255,"props":3352,"children":3353},{"style":284},[3354],{"type":178,"value":2477},{"type":172,"tag":255,"props":3356,"children":3357},{"style":262},[3358],{"type":178,"value":292},{"type":172,"tag":255,"props":3360,"children":3361},{"style":284},[3362],{"type":178,"value":2351},{"type":172,"tag":255,"props":3364,"children":3365},{"style":262},[3366],{"type":178,"value":292},{"type":172,"tag":255,"props":3368,"children":3369},{"style":284},[3370],{"type":178,"value":1610},{"type":172,"tag":255,"props":3372,"children":3373},{"style":262},[3374],{"type":178,"value":3375},"){\n",{"type":172,"tag":255,"props":3377,"children":3378},{"class":257,"line":310},[3379,3383,3387,3391,3395],{"type":172,"tag":255,"props":3380,"children":3381},{"style":736},[3382],{"type":178,"value":1650},{"type":172,"tag":255,"props":3384,"children":3385},{"style":726},[3386],{"type":178,"value":271},{"type":172,"tag":255,"props":3388,"children":3389},{"style":268},[3390],{"type":178,"value":2141},{"type":172,"tag":255,"props":3392,"children":3393},{"style":726},[3394],{"type":178,"value":302},{"type":172,"tag":255,"props":3396,"children":3397},{"style":262},[3398],{"type":178,"value":1411},{"type":172,"tag":255,"props":3400,"children":3401},{"class":257,"line":320},[3402,3407,3411,3415,3419,3423,3427],{"type":172,"tag":255,"props":3403,"children":3404},{"style":736},[3405],{"type":178,"value":3406},"        return",{"type":172,"tag":255,"props":3408,"children":3409},{"style":268},[3410],{"type":178,"value":2351},{"type":172,"tag":255,"props":3412,"children":3413},{"style":262},[3414],{"type":178,"value":446},{"type":172,"tag":255,"props":3416,"children":3417},{"style":449},[3418],{"type":178,"value":452},{"type":172,"tag":255,"props":3420,"children":3421},{"style":726},[3422],{"type":178,"value":271},{"type":172,"tag":255,"props":3424,"children":3425},{"style":268},[3426],{"type":178,"value":2477},{"type":172,"tag":255,"props":3428,"children":3429},{"style":726},[3430],{"type":178,"value":474},{"type":172,"tag":255,"props":3432,"children":3433},{"class":257,"line":694},[3434],{"type":172,"tag":255,"props":3435,"children":3436},{"style":262},[3437],{"type":178,"value":1463},{"type":172,"tag":255,"props":3439,"children":3440},{"class":257,"line":732},[3441,3445,3449,3453,3457,3461],{"type":172,"tag":255,"props":3442,"children":3443},{"style":736},[3444],{"type":178,"value":1650},{"type":172,"tag":255,"props":3446,"children":3447},{"style":726},[3448],{"type":178,"value":491},{"type":172,"tag":255,"props":3450,"children":3451},{"style":333},[3452],{"type":178,"value":1659},{"type":172,"tag":255,"props":3454,"children":3455},{"style":268},[3456],{"type":178,"value":1664},{"type":172,"tag":255,"props":3458,"children":3459},{"style":726},[3460],{"type":178,"value":1406},{"type":172,"tag":255,"props":3462,"children":3463},{"style":262},[3464],{"type":178,"value":1411},{"type":172,"tag":255,"props":3466,"children":3467},{"class":257,"line":747},[3468,3472,3476,3480,3484,3488],{"type":172,"tag":255,"props":3469,"children":3470},{"style":268},[3471],{"type":178,"value":1680},{"type":172,"tag":255,"props":3473,"children":3474},{"style":333},[3475],{"type":178,"value":710},{"type":172,"tag":255,"props":3477,"children":3478},{"style":449},[3479],{"type":178,"value":1581},{"type":172,"tag":255,"props":3481,"children":3482},{"style":726},[3483],{"type":178,"value":271},{"type":172,"tag":255,"props":3485,"children":3486},{"style":268},[3487],{"type":178,"value":1590},{"type":172,"tag":255,"props":3489,"children":3490},{"style":726},[3491],{"type":178,"value":474},{"type":172,"tag":255,"props":3493,"children":3494},{"class":257,"line":790},[3495],{"type":172,"tag":255,"props":3496,"children":3497},{"style":262},[3498],{"type":178,"value":1463},{"type":172,"tag":255,"props":3500,"children":3501},{"class":257,"line":830},[3502,3506],{"type":172,"tag":255,"props":3503,"children":3504},{"style":274},[3505],{"type":178,"value":700},{"type":172,"tag":255,"props":3507,"children":3508},{"style":268},[3509],{"type":178,"value":3510}," node\n",{"type":172,"tag":255,"props":3512,"children":3513},{"class":257,"line":866},[3514],{"type":172,"tag":255,"props":3515,"children":3516},{"emptyLinePlaceholder":165},[3517],{"type":178,"value":1073},{"type":172,"tag":255,"props":3519,"children":3520},{"class":257,"line":875},[3521],{"type":172,"tag":255,"props":3522,"children":3523},{"style":314},[3524],{"type":178,"value":3525},"    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n",{"type":172,"tag":255,"props":3527,"children":3528},{"class":257,"line":1144},[3529,3533,3537,3541,3545,3549,3553,3557,3562],{"type":172,"tag":255,"props":3530,"children":3531},{"style":736},[3532],{"type":178,"value":1650},{"type":172,"tag":255,"props":3534,"children":3535},{"style":726},[3536],{"type":178,"value":491},{"type":172,"tag":255,"props":3538,"children":3539},{"style":268},[3540],{"type":178,"value":1664},{"type":172,"tag":255,"props":3542,"children":3543},{"style":262},[3544],{"type":178,"value":446},{"type":172,"tag":255,"props":3546,"children":3547},{"style":268},[3548],{"type":178,"value":2295},{"type":172,"tag":255,"props":3550,"children":3551},{"style":726},[3552],{"type":178,"value":1624},{"type":172,"tag":255,"props":3554,"children":3555},{"style":268},[3556],{"type":178,"value":2477},{"type":172,"tag":255,"props":3558,"children":3559},{"style":726},[3560],{"type":178,"value":3561},"]) ",{"type":172,"tag":255,"props":3563,"children":3564},{"style":262},[3565],{"type":178,"value":1411},{"type":172,"tag":255,"props":3567,"children":3568},{"class":257,"line":1153},[3569,3574,3578,3582,3586,3590,3594,3598,3602,3606,3610],{"type":172,"tag":255,"props":3570,"children":3571},{"style":268},[3572],{"type":178,"value":3573},"        node",{"type":172,"tag":255,"props":3575,"children":3576},{"style":333},[3577],{"type":178,"value":710},{"type":172,"tag":255,"props":3579,"children":3580},{"style":268},[3581],{"type":178,"value":1610},{"type":172,"tag":255,"props":3583,"children":3584},{"style":262},[3585],{"type":178,"value":446},{"type":172,"tag":255,"props":3587,"children":3588},{"style":268},[3589],{"type":178,"value":2295},{"type":172,"tag":255,"props":3591,"children":3592},{"style":726},[3593],{"type":178,"value":1624},{"type":172,"tag":255,"props":3595,"children":3596},{"style":268},[3597],{"type":178,"value":2477},{"type":172,"tag":255,"props":3599,"children":3600},{"style":726},[3601],{"type":178,"value":2842},{"type":172,"tag":255,"props":3603,"children":3604},{"style":262},[3605],{"type":178,"value":446},{"type":172,"tag":255,"props":3607,"children":3608},{"style":449},[3609],{"type":178,"value":766},{"type":172,"tag":255,"props":3611,"children":3612},{"style":726},[3613],{"type":178,"value":729},{"type":172,"tag":255,"props":3615,"children":3616},{"class":257,"line":1196},[3617,3621,3626],{"type":172,"tag":255,"props":3618,"children":3619},{"style":262},[3620],{"type":178,"value":1387},{"type":172,"tag":255,"props":3622,"children":3623},{"style":736},[3624],{"type":178,"value":3625}," else",{"type":172,"tag":255,"props":3627,"children":3628},{"style":726},[3629],{"type":178,"value":2712},{"type":172,"tag":255,"props":3631,"children":3632},{"class":257,"line":1229},[3633],{"type":172,"tag":255,"props":3634,"children":3635},{"style":314},[3636],{"type":178,"value":3637},"    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n",{"type":172,"tag":255,"props":3639,"children":3640},{"class":257,"line":1242},[3641],{"type":172,"tag":255,"props":3642,"children":3643},{"style":314},[3644],{"type":178,"value":3645},"    // 则创建一个新元素并存到缓存中\n",{"type":172,"tag":255,"props":3647,"children":3648},{"class":257,"line":1283},[3649,3653,3657,3662,3666,3671,3675,3679,3684],{"type":172,"tag":255,"props":3650,"children":3651},{"style":736},[3652],{"type":178,"value":1650},{"type":172,"tag":255,"props":3654,"children":3655},{"style":726},[3656],{"type":178,"value":491},{"type":172,"tag":255,"props":3658,"children":3659},{"style":268},[3660],{"type":178,"value":3661},"saveClones",{"type":172,"tag":255,"props":3663,"children":3664},{"style":262},[3665],{"type":178,"value":446},{"type":172,"tag":255,"props":3667,"children":3668},{"style":449},[3669],{"type":178,"value":3670},"test",{"type":172,"tag":255,"props":3672,"children":3673},{"style":726},[3674],{"type":178,"value":271},{"type":172,"tag":255,"props":3676,"children":3677},{"style":268},[3678],{"type":178,"value":2477},{"type":172,"tag":255,"props":3680,"children":3681},{"style":726},[3682],{"type":178,"value":3683},")) ",{"type":172,"tag":255,"props":3685,"children":3686},{"style":262},[3687],{"type":178,"value":1411},{"type":172,"tag":255,"props":3689,"children":3690},{"class":257,"line":1323},[3691,3695,3699,3703,3707,3711,3715,3719,3723,3727,3731,3735,3739,3743,3747,3751,3756,3760,3764],{"type":172,"tag":255,"props":3692,"children":3693},{"style":268},[3694],{"type":178,"value":3573},{"type":172,"tag":255,"props":3696,"children":3697},{"style":333},[3698],{"type":178,"value":710},{"type":172,"tag":255,"props":3700,"children":3701},{"style":726},[3702],{"type":178,"value":491},{"type":172,"tag":255,"props":3704,"children":3705},{"style":268},[3706],{"type":178,"value":1664},{"type":172,"tag":255,"props":3708,"children":3709},{"style":262},[3710],{"type":178,"value":446},{"type":172,"tag":255,"props":3712,"children":3713},{"style":268},[3714],{"type":178,"value":2295},{"type":172,"tag":255,"props":3716,"children":3717},{"style":726},[3718],{"type":178,"value":1624},{"type":172,"tag":255,"props":3720,"children":3721},{"style":268},[3722],{"type":178,"value":2477},{"type":172,"tag":255,"props":3724,"children":3725},{"style":726},[3726],{"type":178,"value":1722},{"type":172,"tag":255,"props":3728,"children":3729},{"style":333},[3730],{"type":178,"value":437},{"type":172,"tag":255,"props":3732,"children":3733},{"style":268},[3734],{"type":178,"value":1610},{"type":172,"tag":255,"props":3736,"children":3737},{"style":262},[3738],{"type":178,"value":446},{"type":172,"tag":255,"props":3740,"children":3741},{"style":449},[3742],{"type":178,"value":2342},{"type":172,"tag":255,"props":3744,"children":3745},{"style":726},[3746],{"type":178,"value":271},{"type":172,"tag":255,"props":3748,"children":3749},{"style":268},[3750],{"type":178,"value":2477},{"type":172,"tag":255,"props":3752,"children":3753},{"style":726},[3754],{"type":178,"value":3755},"))",{"type":172,"tag":255,"props":3757,"children":3758},{"style":262},[3759],{"type":178,"value":446},{"type":172,"tag":255,"props":3761,"children":3762},{"style":449},[3763],{"type":178,"value":766},{"type":172,"tag":255,"props":3765,"children":3766},{"style":726},[3767],{"type":178,"value":729},{"type":172,"tag":255,"props":3769,"children":3770},{"class":257,"line":1359},[3771,3775,3779],{"type":172,"tag":255,"props":3772,"children":3773},{"style":262},[3774],{"type":178,"value":1387},{"type":172,"tag":255,"props":3776,"children":3777},{"style":736},[3778],{"type":178,"value":3625},{"type":172,"tag":255,"props":3780,"children":3781},{"style":726},[3782],{"type":178,"value":2712},{"type":172,"tag":255,"props":3784,"children":3785},{"class":257,"line":1368},[3786],{"type":172,"tag":255,"props":3787,"children":3788},{"style":314},[3789],{"type":178,"value":3790},"    // 如果是不能被克隆的对象，那就直接创建吧...\n",{"type":172,"tag":255,"props":3792,"children":3793},{"class":257,"line":1381},[3794],{"type":172,"tag":255,"props":3795,"children":3796},{"style":262},[3797],{"type":178,"value":3798},"    {\n",{"type":172,"tag":255,"props":3800,"children":3801},{"class":257,"line":1414},[3802,3806,3810,3814,3818,3822,3826,3830],{"type":172,"tag":255,"props":3803,"children":3804},{"style":268},[3805],{"type":178,"value":3573},{"type":172,"tag":255,"props":3807,"children":3808},{"style":333},[3809],{"type":178,"value":710},{"type":172,"tag":255,"props":3811,"children":3812},{"style":268},[3813],{"type":178,"value":1610},{"type":172,"tag":255,"props":3815,"children":3816},{"style":262},[3817],{"type":178,"value":446},{"type":172,"tag":255,"props":3819,"children":3820},{"style":449},[3821],{"type":178,"value":2342},{"type":172,"tag":255,"props":3823,"children":3824},{"style":726},[3825],{"type":178,"value":271},{"type":172,"tag":255,"props":3827,"children":3828},{"style":268},[3829],{"type":178,"value":2477},{"type":172,"tag":255,"props":3831,"children":3832},{"style":726},[3833],{"type":178,"value":474},{"type":172,"tag":255,"props":3835,"children":3836},{"class":257,"line":1423},[3837],{"type":172,"tag":255,"props":3838,"children":3839},{"style":262},[3840],{"type":178,"value":1463},{"type":172,"tag":255,"props":3842,"children":3843},{"class":257,"line":1441},[3844],{"type":172,"tag":255,"props":3845,"children":3846},{"emptyLinePlaceholder":165},[3847],{"type":178,"value":1073},{"type":172,"tag":255,"props":3849,"children":3850},{"class":257,"line":1457},[3851],{"type":172,"tag":255,"props":3852,"children":3853},{"style":314},[3854],{"type":178,"value":3855},"    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n",{"type":172,"tag":255,"props":3857,"children":3858},{"class":257,"line":1466},[3859],{"type":172,"tag":255,"props":3860,"children":3861},{"style":314},[3862],{"type":178,"value":3863},"    // Avoid adding some elements to fragments in IE \u003C 9 because\n",{"type":172,"tag":255,"props":3865,"children":3866},{"class":257,"line":2755},[3867],{"type":172,"tag":255,"props":3868,"children":3869},{"style":314},[3870],{"type":178,"value":3871},"    // * Attributes like `name` or `type` cannot be set/changed once an element\n",{"type":172,"tag":255,"props":3873,"children":3874},{"class":257,"line":2776},[3875],{"type":172,"tag":255,"props":3876,"children":3877},{"style":314},[3878],{"type":178,"value":3879},"    //   is inserted into a document/fragment\n",{"type":172,"tag":255,"props":3881,"children":3882},{"class":257,"line":2785},[3883],{"type":172,"tag":255,"props":3884,"children":3885},{"style":314},[3886],{"type":178,"value":3887},"    // * Link elements with `src` attributes that are inaccessible, as with\n",{"type":172,"tag":255,"props":3889,"children":3890},{"class":257,"line":2884},[3891],{"type":172,"tag":255,"props":3892,"children":3893},{"style":314},[3894],{"type":178,"value":3895},"    //   a 403 response, will cause the tab/window to crash\n",{"type":172,"tag":255,"props":3897,"children":3898},{"class":257,"line":2913},[3899],{"type":172,"tag":255,"props":3900,"children":3901},{"style":314},[3902],{"type":178,"value":3903},"    // * Script elements appended to fragments will execute when their `src`\n",{"type":172,"tag":255,"props":3905,"children":3906},{"class":257,"line":2949},[3907],{"type":172,"tag":255,"props":3908,"children":3909},{"style":314},[3910],{"type":178,"value":3911},"    //   or `text` property is set\n",{"type":172,"tag":255,"props":3913,"children":3914},{"class":257,"line":2997},[3915,3919,3924,3928,3933,3937,3941,3946,3950,3954,3958,3962,3966,3971,3975,3980,3984,3989],{"type":172,"tag":255,"props":3916,"children":3917},{"style":736},[3918],{"type":178,"value":739},{"type":172,"tag":255,"props":3920,"children":3921},{"style":268},[3922],{"type":178,"value":3923}," node",{"type":172,"tag":255,"props":3925,"children":3926},{"style":262},[3927],{"type":178,"value":446},{"type":172,"tag":255,"props":3929,"children":3930},{"style":268},[3931],{"type":178,"value":3932},"canHaveChildren",{"type":172,"tag":255,"props":3934,"children":3935},{"style":333},[3936],{"type":178,"value":1911},{"type":172,"tag":255,"props":3938,"children":3939},{"style":333},[3940],{"type":178,"value":1916},{"type":172,"tag":255,"props":3942,"children":3943},{"style":268},[3944],{"type":178,"value":3945},"reSkip",{"type":172,"tag":255,"props":3947,"children":3948},{"style":262},[3949],{"type":178,"value":446},{"type":172,"tag":255,"props":3951,"children":3952},{"style":449},[3953],{"type":178,"value":3670},{"type":172,"tag":255,"props":3955,"children":3956},{"style":726},[3957],{"type":178,"value":271},{"type":172,"tag":255,"props":3959,"children":3960},{"style":268},[3961],{"type":178,"value":2477},{"type":172,"tag":255,"props":3963,"children":3964},{"style":726},[3965],{"type":178,"value":1406},{"type":172,"tag":255,"props":3967,"children":3968},{"style":333},[3969],{"type":178,"value":3970},"&&",{"type":172,"tag":255,"props":3972,"children":3973},{"style":333},[3974],{"type":178,"value":1916},{"type":172,"tag":255,"props":3976,"children":3977},{"style":268},[3978],{"type":178,"value":3979},"node",{"type":172,"tag":255,"props":3981,"children":3982},{"style":262},[3983],{"type":178,"value":446},{"type":172,"tag":255,"props":3985,"children":3986},{"style":268},[3987],{"type":178,"value":3988},"tagUrn",{"type":172,"tag":255,"props":3990,"children":3991},{"style":726},[3992],{"type":178,"value":2712},{"type":172,"tag":255,"props":3994,"children":3995},{"class":257,"line":3015},[3996,4001,4005,4009,4013,4017,4022,4026,4030],{"type":172,"tag":255,"props":3997,"children":3998},{"style":333},[3999],{"type":178,"value":4000},"        ?",{"type":172,"tag":255,"props":4002,"children":4003},{"style":268},[4004],{"type":178,"value":1610},{"type":172,"tag":255,"props":4006,"children":4007},{"style":262},[4008],{"type":178,"value":446},{"type":172,"tag":255,"props":4010,"children":4011},{"style":268},[4012],{"type":178,"value":2409},{"type":172,"tag":255,"props":4014,"children":4015},{"style":262},[4016],{"type":178,"value":446},{"type":172,"tag":255,"props":4018,"children":4019},{"style":449},[4020],{"type":178,"value":4021},"appendChild",{"type":172,"tag":255,"props":4023,"children":4024},{"style":726},[4025],{"type":178,"value":271},{"type":172,"tag":255,"props":4027,"children":4028},{"style":268},[4029],{"type":178,"value":3979},{"type":172,"tag":255,"props":4031,"children":4032},{"style":726},[4033],{"type":178,"value":4034},") \n",{"type":172,"tag":255,"props":4036,"children":4037},{"class":257,"line":3036},[4038,4043],{"type":172,"tag":255,"props":4039,"children":4040},{"style":333},[4041],{"type":178,"value":4042},"        :",{"type":172,"tag":255,"props":4044,"children":4045},{"style":268},[4046],{"type":178,"value":3510},{"type":172,"tag":255,"props":4048,"children":4049},{"class":257,"line":3052},[4050],{"type":172,"tag":255,"props":4051,"children":4052},{"style":262},[4053],{"type":178,"value":1787},{"type":172,"tag":186,"props":4055,"children":4056},{},[4057],{"type":178,"value":4058},"和 createElement 类似，createDocumentFragment 也需要仿制。",{"type":172,"tag":244,"props":4060,"children":4062},{"className":246,"code":4061,"language":248,"meta":166,"style":166},"function createDocumentFragment(ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment()\n    }\n    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n    data = data || getExpandoData(ownerDocument)\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length\n    for(;i\u003Cl;i++){\n        // 返回的 documentFragment 包含了所有 shived 元素\n        clone.createElement(elems[i])\n    }\n    return clone\n  }\n",[4063],{"type":172,"tag":251,"props":4064,"children":4065},{"__ignoreMap":166},[4066,4098,4121,4144,4151,4159,4195,4239,4260,4285,4311,4363,4371,4409,4416,4428],{"type":172,"tag":255,"props":4067,"children":4068},{"class":257,"line":258},[4069,4073,4078,4082,4086,4090,4094],{"type":172,"tag":255,"props":4070,"children":4071},{"style":274},[4072],{"type":178,"value":277},{"type":172,"tag":255,"props":4074,"children":4075},{"style":449},[4076],{"type":178,"value":4077}," createDocumentFragment",{"type":172,"tag":255,"props":4079,"children":4080},{"style":262},[4081],{"type":178,"value":271},{"type":172,"tag":255,"props":4083,"children":4084},{"style":284},[4085],{"type":178,"value":1590},{"type":172,"tag":255,"props":4087,"children":4088},{"style":262},[4089],{"type":178,"value":292},{"type":172,"tag":255,"props":4091,"children":4092},{"style":284},[4093],{"type":178,"value":1610},{"type":172,"tag":255,"props":4095,"children":4096},{"style":262},[4097],{"type":178,"value":3375},{"type":172,"tag":255,"props":4099,"children":4100},{"class":257,"line":310},[4101,4105,4109,4113,4117],{"type":172,"tag":255,"props":4102,"children":4103},{"style":736},[4104],{"type":178,"value":1650},{"type":172,"tag":255,"props":4106,"children":4107},{"style":726},[4108],{"type":178,"value":271},{"type":172,"tag":255,"props":4110,"children":4111},{"style":268},[4112],{"type":178,"value":2141},{"type":172,"tag":255,"props":4114,"children":4115},{"style":726},[4116],{"type":178,"value":302},{"type":172,"tag":255,"props":4118,"children":4119},{"style":262},[4120],{"type":178,"value":1411},{"type":172,"tag":255,"props":4122,"children":4123},{"class":257,"line":320},[4124,4128,4132,4136,4140],{"type":172,"tag":255,"props":4125,"children":4126},{"style":736},[4127],{"type":178,"value":3406},{"type":172,"tag":255,"props":4129,"children":4130},{"style":268},[4131],{"type":178,"value":2351},{"type":172,"tag":255,"props":4133,"children":4134},{"style":262},[4135],{"type":178,"value":446},{"type":172,"tag":255,"props":4137,"children":4138},{"style":449},[4139],{"type":178,"value":723},{"type":172,"tag":255,"props":4141,"children":4142},{"style":726},[4143],{"type":178,"value":729},{"type":172,"tag":255,"props":4145,"children":4146},{"class":257,"line":694},[4147],{"type":172,"tag":255,"props":4148,"children":4149},{"style":262},[4150],{"type":178,"value":1463},{"type":172,"tag":255,"props":4152,"children":4153},{"class":257,"line":732},[4154],{"type":172,"tag":255,"props":4155,"children":4156},{"style":314},[4157],{"type":178,"value":4158},"    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n",{"type":172,"tag":255,"props":4160,"children":4161},{"class":257,"line":747},[4162,4167,4171,4175,4179,4183,4187,4191],{"type":172,"tag":255,"props":4163,"children":4164},{"style":268},[4165],{"type":178,"value":4166},"    data",{"type":172,"tag":255,"props":4168,"children":4169},{"style":333},[4170],{"type":178,"value":710},{"type":172,"tag":255,"props":4172,"children":4173},{"style":268},[4174],{"type":178,"value":1610},{"type":172,"tag":255,"props":4176,"children":4177},{"style":333},[4178],{"type":178,"value":674},{"type":172,"tag":255,"props":4180,"children":4181},{"style":449},[4182],{"type":178,"value":1581},{"type":172,"tag":255,"props":4184,"children":4185},{"style":726},[4186],{"type":178,"value":271},{"type":172,"tag":255,"props":4188,"children":4189},{"style":268},[4190],{"type":178,"value":1590},{"type":172,"tag":255,"props":4192,"children":4193},{"style":726},[4194],{"type":178,"value":474},{"type":172,"tag":255,"props":4196,"children":4197},{"class":257,"line":790},[4198,4202,4207,4211,4215,4219,4223,4227,4231,4235],{"type":172,"tag":255,"props":4199,"children":4200},{"style":274},[4201],{"type":178,"value":700},{"type":172,"tag":255,"props":4203,"children":4204},{"style":268},[4205],{"type":178,"value":4206}," clone",{"type":172,"tag":255,"props":4208,"children":4209},{"style":333},[4210],{"type":178,"value":710},{"type":172,"tag":255,"props":4212,"children":4213},{"style":268},[4214],{"type":178,"value":1610},{"type":172,"tag":255,"props":4216,"children":4217},{"style":262},[4218],{"type":178,"value":446},{"type":172,"tag":255,"props":4220,"children":4221},{"style":268},[4222],{"type":178,"value":2409},{"type":172,"tag":255,"props":4224,"children":4225},{"style":262},[4226],{"type":178,"value":446},{"type":172,"tag":255,"props":4228,"children":4229},{"style":449},[4230],{"type":178,"value":766},{"type":172,"tag":255,"props":4232,"children":4233},{"style":726},[4234],{"type":178,"value":687},{"type":172,"tag":255,"props":4236,"children":4237},{"style":262},[4238],{"type":178,"value":1993},{"type":172,"tag":255,"props":4240,"children":4241},{"class":257,"line":830},[4242,4247,4251,4256],{"type":172,"tag":255,"props":4243,"children":4244},{"style":268},[4245],{"type":178,"value":4246},"        i",{"type":172,"tag":255,"props":4248,"children":4249},{"style":333},[4250],{"type":178,"value":710},{"type":172,"tag":255,"props":4252,"children":4253},{"style":666},[4254],{"type":178,"value":4255}," 0",{"type":172,"tag":255,"props":4257,"children":4258},{"style":262},[4259],{"type":178,"value":1993},{"type":172,"tag":255,"props":4261,"children":4262},{"class":257,"line":866},[4263,4268,4272,4277,4281],{"type":172,"tag":255,"props":4264,"children":4265},{"style":268},[4266],{"type":178,"value":4267},"        elems",{"type":172,"tag":255,"props":4269,"children":4270},{"style":333},[4271],{"type":178,"value":710},{"type":172,"tag":255,"props":4273,"children":4274},{"style":449},[4275],{"type":178,"value":4276}," getElements",{"type":172,"tag":255,"props":4278,"children":4279},{"style":726},[4280],{"type":178,"value":687},{"type":172,"tag":255,"props":4282,"children":4283},{"style":262},[4284],{"type":178,"value":1993},{"type":172,"tag":255,"props":4286,"children":4287},{"class":257,"line":875},[4288,4293,4297,4302,4306],{"type":172,"tag":255,"props":4289,"children":4290},{"style":268},[4291],{"type":178,"value":4292},"        l",{"type":172,"tag":255,"props":4294,"children":4295},{"style":333},[4296],{"type":178,"value":710},{"type":172,"tag":255,"props":4298,"children":4299},{"style":268},[4300],{"type":178,"value":4301}," elems",{"type":172,"tag":255,"props":4303,"children":4304},{"style":262},[4305],{"type":178,"value":446},{"type":172,"tag":255,"props":4307,"children":4308},{"style":655},[4309],{"type":178,"value":4310},"length\n",{"type":172,"tag":255,"props":4312,"children":4313},{"class":257,"line":1144},[4314,4319,4323,4327,4332,4337,4342,4346,4350,4355,4359],{"type":172,"tag":255,"props":4315,"children":4316},{"style":736},[4317],{"type":178,"value":4318},"    for",{"type":172,"tag":255,"props":4320,"children":4321},{"style":726},[4322],{"type":178,"value":271},{"type":172,"tag":255,"props":4324,"children":4325},{"style":262},[4326],{"type":178,"value":265},{"type":172,"tag":255,"props":4328,"children":4329},{"style":268},[4330],{"type":178,"value":4331},"i",{"type":172,"tag":255,"props":4333,"children":4334},{"style":333},[4335],{"type":178,"value":4336},"\u003C",{"type":172,"tag":255,"props":4338,"children":4339},{"style":268},[4340],{"type":178,"value":4341},"l",{"type":172,"tag":255,"props":4343,"children":4344},{"style":262},[4345],{"type":178,"value":265},{"type":172,"tag":255,"props":4347,"children":4348},{"style":268},[4349],{"type":178,"value":4331},{"type":172,"tag":255,"props":4351,"children":4352},{"style":333},[4353],{"type":178,"value":4354},"++",{"type":172,"tag":255,"props":4356,"children":4357},{"style":726},[4358],{"type":178,"value":302},{"type":172,"tag":255,"props":4360,"children":4361},{"style":262},[4362],{"type":178,"value":1411},{"type":172,"tag":255,"props":4364,"children":4365},{"class":257,"line":1153},[4366],{"type":172,"tag":255,"props":4367,"children":4368},{"style":314},[4369],{"type":178,"value":4370},"        // 返回的 documentFragment 包含了所有 shived 元素\n",{"type":172,"tag":255,"props":4372,"children":4373},{"class":257,"line":1196},[4374,4379,4383,4387,4391,4396,4400,4404],{"type":172,"tag":255,"props":4375,"children":4376},{"style":268},[4377],{"type":178,"value":4378},"        clone",{"type":172,"tag":255,"props":4380,"children":4381},{"style":262},[4382],{"type":178,"value":446},{"type":172,"tag":255,"props":4384,"children":4385},{"style":449},[4386],{"type":178,"value":452},{"type":172,"tag":255,"props":4388,"children":4389},{"style":726},[4390],{"type":178,"value":271},{"type":172,"tag":255,"props":4392,"children":4393},{"style":268},[4394],{"type":178,"value":4395},"elems",{"type":172,"tag":255,"props":4397,"children":4398},{"style":726},[4399],{"type":178,"value":1624},{"type":172,"tag":255,"props":4401,"children":4402},{"style":268},[4403],{"type":178,"value":4331},{"type":172,"tag":255,"props":4405,"children":4406},{"style":726},[4407],{"type":178,"value":4408},"])\n",{"type":172,"tag":255,"props":4410,"children":4411},{"class":257,"line":1229},[4412],{"type":172,"tag":255,"props":4413,"children":4414},{"style":262},[4415],{"type":178,"value":1463},{"type":172,"tag":255,"props":4417,"children":4418},{"class":257,"line":1242},[4419,4423],{"type":172,"tag":255,"props":4420,"children":4421},{"style":736},[4422],{"type":178,"value":739},{"type":172,"tag":255,"props":4424,"children":4425},{"style":268},[4426],{"type":178,"value":4427}," clone\n",{"type":172,"tag":255,"props":4429,"children":4430},{"class":257,"line":1283},[4431],{"type":172,"tag":255,"props":4432,"children":4433},{"style":262},[4434],{"type":178,"value":1787},{"type":172,"tag":186,"props":4436,"children":4437},{},[4438],{"type":178,"value":4439},"可以发现，需要 shiv 的元素都存在了 getElements 这个方法中，我们来看看具体实现。",{"type":172,"tag":244,"props":4441,"children":4443},{"className":246,"code":4442,"language":248,"meta":166,"style":166},"// getElements 返回 html5.elments 的数组形式\n// 看来 getElements 也只是一个类似 getter 的存在\nfunction getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\n\n// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\nvar html5 = {\n    // options 是外部调用 html5shiv 的接口参数\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'\n}\n",[4444],{"type":172,"tag":251,"props":4445,"children":4446},{"__ignoreMap":166},[4447,4455,4463,4482,4516,4594,4602,4609,4617,4637,4645,4698],{"type":172,"tag":255,"props":4448,"children":4449},{"class":257,"line":258},[4450],{"type":172,"tag":255,"props":4451,"children":4452},{"style":314},[4453],{"type":178,"value":4454},"// getElements 返回 html5.elments 的数组形式\n",{"type":172,"tag":255,"props":4456,"children":4457},{"class":257,"line":310},[4458],{"type":172,"tag":255,"props":4459,"children":4460},{"style":314},[4461],{"type":178,"value":4462},"// 看来 getElements 也只是一个类似 getter 的存在\n",{"type":172,"tag":255,"props":4464,"children":4465},{"class":257,"line":320},[4466,4470,4474,4478],{"type":172,"tag":255,"props":4467,"children":4468},{"style":274},[4469],{"type":178,"value":277},{"type":172,"tag":255,"props":4471,"children":4472},{"style":449},[4473],{"type":178,"value":4276},{"type":172,"tag":255,"props":4475,"children":4476},{"style":262},[4477],{"type":178,"value":687},{"type":172,"tag":255,"props":4479,"children":4480},{"style":262},[4481],{"type":178,"value":307},{"type":172,"tag":255,"props":4483,"children":4484},{"class":257,"line":694},[4485,4489,4494,4498,4503,4507,4512],{"type":172,"tag":255,"props":4486,"children":4487},{"style":274},[4488],{"type":178,"value":700},{"type":172,"tag":255,"props":4490,"children":4491},{"style":268},[4492],{"type":178,"value":4493}," elements",{"type":172,"tag":255,"props":4495,"children":4496},{"style":333},[4497],{"type":178,"value":710},{"type":172,"tag":255,"props":4499,"children":4500},{"style":268},[4501],{"type":178,"value":4502}," html5",{"type":172,"tag":255,"props":4504,"children":4505},{"style":262},[4506],{"type":178,"value":446},{"type":172,"tag":255,"props":4508,"children":4509},{"style":268},[4510],{"type":178,"value":4511},"elements",{"type":172,"tag":255,"props":4513,"children":4514},{"style":262},[4515],{"type":178,"value":397},{"type":172,"tag":255,"props":4517,"children":4518},{"class":257,"line":732},[4519,4523,4528,4532,4536,4540,4545,4549,4553,4557,4561,4566,4570,4574,4578,4582,4586,4590],{"type":172,"tag":255,"props":4520,"children":4521},{"style":736},[4522],{"type":178,"value":739},{"type":172,"tag":255,"props":4524,"children":4525},{"style":333},[4526],{"type":178,"value":4527}," typeof",{"type":172,"tag":255,"props":4529,"children":4530},{"style":268},[4531],{"type":178,"value":4493},{"type":172,"tag":255,"props":4533,"children":4534},{"style":333},[4535],{"type":178,"value":663},{"type":172,"tag":255,"props":4537,"children":4538},{"style":349},[4539],{"type":178,"value":612},{"type":172,"tag":255,"props":4541,"children":4542},{"style":355},[4543],{"type":178,"value":4544},"string",{"type":172,"tag":255,"props":4546,"children":4547},{"style":349},[4548],{"type":178,"value":461},{"type":172,"tag":255,"props":4550,"children":4551},{"style":333},[4552],{"type":178,"value":368},{"type":172,"tag":255,"props":4554,"children":4555},{"style":268},[4556],{"type":178,"value":4493},{"type":172,"tag":255,"props":4558,"children":4559},{"style":262},[4560],{"type":178,"value":446},{"type":172,"tag":255,"props":4562,"children":4563},{"style":449},[4564],{"type":178,"value":4565},"split",{"type":172,"tag":255,"props":4567,"children":4568},{"style":726},[4569],{"type":178,"value":271},{"type":172,"tag":255,"props":4571,"children":4572},{"style":349},[4573],{"type":178,"value":461},{"type":172,"tag":255,"props":4575,"children":4576},{"style":349},[4577],{"type":178,"value":612},{"type":172,"tag":255,"props":4579,"children":4580},{"style":726},[4581],{"type":178,"value":1406},{"type":172,"tag":255,"props":4583,"children":4584},{"style":333},[4585],{"type":178,"value":377},{"type":172,"tag":255,"props":4587,"children":4588},{"style":268},[4589],{"type":178,"value":4493},{"type":172,"tag":255,"props":4591,"children":4592},{"style":262},[4593],{"type":178,"value":397},{"type":172,"tag":255,"props":4595,"children":4596},{"class":257,"line":747},[4597],{"type":172,"tag":255,"props":4598,"children":4599},{"style":262},[4600],{"type":178,"value":4601},"}\n",{"type":172,"tag":255,"props":4603,"children":4604},{"class":257,"line":790},[4605],{"type":172,"tag":255,"props":4606,"children":4607},{"emptyLinePlaceholder":165},[4608],{"type":178,"value":1073},{"type":172,"tag":255,"props":4610,"children":4611},{"class":257,"line":830},[4612],{"type":172,"tag":255,"props":4613,"children":4614},{"style":314},[4615],{"type":178,"value":4616},"// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\n",{"type":172,"tag":255,"props":4618,"children":4619},{"class":257,"line":866},[4620,4624,4629,4633],{"type":172,"tag":255,"props":4621,"children":4622},{"style":274},[4623],{"type":178,"value":1505},{"type":172,"tag":255,"props":4625,"children":4626},{"style":268},[4627],{"type":178,"value":4628}," html5 ",{"type":172,"tag":255,"props":4630,"children":4631},{"style":333},[4632],{"type":178,"value":437},{"type":172,"tag":255,"props":4634,"children":4635},{"style":262},[4636],{"type":178,"value":307},{"type":172,"tag":255,"props":4638,"children":4639},{"class":257,"line":875},[4640],{"type":172,"tag":255,"props":4641,"children":4642},{"style":314},[4643],{"type":178,"value":4644},"    // options 是外部调用 html5shiv 的接口参数\n",{"type":172,"tag":255,"props":4646,"children":4647},{"class":257,"line":1144},[4648,4653,4658,4662,4666,4671,4675,4680,4685,4689,4694],{"type":172,"tag":255,"props":4649,"children":4650},{"style":349},[4651],{"type":178,"value":4652},"    '",{"type":172,"tag":255,"props":4654,"children":4656},{"style":4655},"--shiki-light:#E53935;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[4657],{"type":178,"value":4511},{"type":172,"tag":255,"props":4659,"children":4660},{"style":349},[4661],{"type":178,"value":461},{"type":172,"tag":255,"props":4663,"children":4664},{"style":262},[4665],{"type":178,"value":377},{"type":172,"tag":255,"props":4667,"children":4668},{"style":268},[4669],{"type":178,"value":4670}," options",{"type":172,"tag":255,"props":4672,"children":4673},{"style":262},[4674],{"type":178,"value":446},{"type":172,"tag":255,"props":4676,"children":4677},{"style":268},[4678],{"type":178,"value":4679},"elements ",{"type":172,"tag":255,"props":4681,"children":4682},{"style":333},[4683],{"type":178,"value":4684},"||",{"type":172,"tag":255,"props":4686,"children":4687},{"style":349},[4688],{"type":178,"value":612},{"type":172,"tag":255,"props":4690,"children":4691},{"style":355},[4692],{"type":178,"value":4693},"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",{"type":172,"tag":255,"props":4695,"children":4696},{"style":349},[4697],{"type":178,"value":622},{"type":172,"tag":255,"props":4699,"children":4700},{"class":257,"line":1153},[4701],{"type":172,"tag":255,"props":4702,"children":4703},{"style":262},[4704],{"type":178,"value":4601},{"type":172,"tag":233,"props":4706,"children":4708},{"id":4707},"私有方法",[4709],{"type":178,"value":4707},{"type":172,"tag":186,"props":4711,"children":4712},{},[4713],{"type":178,"value":4714},"接下来是几个私有方法。和 shiv 原理不相关，所以不重要。",{"type":172,"tag":244,"props":4716,"children":4718},{"className":246,"code":4717,"language":248,"meta":166,"style":166},"/**\n * Creates a style sheet with the given CSS text and adds it to the document.\n * 在文档头部添加样式标签\n */\nfunction addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement\n    // ? 这个 'x' 应该是兼容性考虑\n    p.innerHTML = 'x\u003Cstyle>' + cssText + '\u003C/style>'\n    return parent.insertBefore(p.lastChild, parent.firstChild)\n}\n",[4719],{"type":172,"tag":251,"props":4720,"children":4721},{"__ignoreMap":166},[4722,4730,4738,4746,4754,4791,4843,4916,4924,4982,5041],{"type":172,"tag":255,"props":4723,"children":4724},{"class":257,"line":258},[4725],{"type":172,"tag":255,"props":4726,"children":4727},{"style":314},[4728],{"type":178,"value":4729},"/**\n",{"type":172,"tag":255,"props":4731,"children":4732},{"class":257,"line":310},[4733],{"type":172,"tag":255,"props":4734,"children":4735},{"style":314},[4736],{"type":178,"value":4737}," * Creates a style sheet with the given CSS text and adds it to the document.\n",{"type":172,"tag":255,"props":4739,"children":4740},{"class":257,"line":320},[4741],{"type":172,"tag":255,"props":4742,"children":4743},{"style":314},[4744],{"type":178,"value":4745}," * 在文档头部添加样式标签\n",{"type":172,"tag":255,"props":4747,"children":4748},{"class":257,"line":694},[4749],{"type":172,"tag":255,"props":4750,"children":4751},{"style":314},[4752],{"type":178,"value":4753}," */\n",{"type":172,"tag":255,"props":4755,"children":4756},{"class":257,"line":732},[4757,4761,4766,4770,4774,4778,4783,4787],{"type":172,"tag":255,"props":4758,"children":4759},{"style":274},[4760],{"type":178,"value":277},{"type":172,"tag":255,"props":4762,"children":4763},{"style":449},[4764],{"type":178,"value":4765}," addStyleSheet",{"type":172,"tag":255,"props":4767,"children":4768},{"style":262},[4769],{"type":178,"value":271},{"type":172,"tag":255,"props":4771,"children":4772},{"style":284},[4773],{"type":178,"value":1590},{"type":172,"tag":255,"props":4775,"children":4776},{"style":262},[4777],{"type":178,"value":292},{"type":172,"tag":255,"props":4779,"children":4780},{"style":284},[4781],{"type":178,"value":4782}," cssText",{"type":172,"tag":255,"props":4784,"children":4785},{"style":262},[4786],{"type":178,"value":302},{"type":172,"tag":255,"props":4788,"children":4789},{"style":262},[4790],{"type":178,"value":307},{"type":172,"tag":255,"props":4792,"children":4793},{"class":257,"line":747},[4794,4798,4803,4807,4811,4815,4819,4823,4827,4831,4835,4839],{"type":172,"tag":255,"props":4795,"children":4796},{"style":274},[4797],{"type":178,"value":700},{"type":172,"tag":255,"props":4799,"children":4800},{"style":268},[4801],{"type":178,"value":4802}," p",{"type":172,"tag":255,"props":4804,"children":4805},{"style":333},[4806],{"type":178,"value":710},{"type":172,"tag":255,"props":4808,"children":4809},{"style":268},[4810],{"type":178,"value":2351},{"type":172,"tag":255,"props":4812,"children":4813},{"style":262},[4814],{"type":178,"value":446},{"type":172,"tag":255,"props":4816,"children":4817},{"style":449},[4818],{"type":178,"value":452},{"type":172,"tag":255,"props":4820,"children":4821},{"style":726},[4822],{"type":178,"value":271},{"type":172,"tag":255,"props":4824,"children":4825},{"style":349},[4826],{"type":178,"value":461},{"type":172,"tag":255,"props":4828,"children":4829},{"style":355},[4830],{"type":178,"value":186},{"type":172,"tag":255,"props":4832,"children":4833},{"style":349},[4834],{"type":178,"value":461},{"type":172,"tag":255,"props":4836,"children":4837},{"style":726},[4838],{"type":178,"value":302},{"type":172,"tag":255,"props":4840,"children":4841},{"style":262},[4842],{"type":178,"value":1993},{"type":172,"tag":255,"props":4844,"children":4845},{"class":257,"line":790},[4846,4851,4855,4859,4863,4868,4872,4876,4881,4885,4890,4895,4899,4903,4907,4911],{"type":172,"tag":255,"props":4847,"children":4848},{"style":268},[4849],{"type":178,"value":4850},"        parent",{"type":172,"tag":255,"props":4852,"children":4853},{"style":333},[4854],{"type":178,"value":710},{"type":172,"tag":255,"props":4856,"children":4857},{"style":268},[4858],{"type":178,"value":2351},{"type":172,"tag":255,"props":4860,"children":4861},{"style":262},[4862],{"type":178,"value":446},{"type":172,"tag":255,"props":4864,"children":4865},{"style":449},[4866],{"type":178,"value":4867},"getElementsByTagName",{"type":172,"tag":255,"props":4869,"children":4870},{"style":726},[4871],{"type":178,"value":271},{"type":172,"tag":255,"props":4873,"children":4874},{"style":349},[4875],{"type":178,"value":461},{"type":172,"tag":255,"props":4877,"children":4878},{"style":355},[4879],{"type":178,"value":4880},"head",{"type":172,"tag":255,"props":4882,"children":4883},{"style":349},[4884],{"type":178,"value":461},{"type":172,"tag":255,"props":4886,"children":4887},{"style":726},[4888],{"type":178,"value":4889},")[",{"type":172,"tag":255,"props":4891,"children":4892},{"style":666},[4893],{"type":178,"value":4894},"0",{"type":172,"tag":255,"props":4896,"children":4897},{"style":726},[4898],{"type":178,"value":1722},{"type":172,"tag":255,"props":4900,"children":4901},{"style":333},[4902],{"type":178,"value":4684},{"type":172,"tag":255,"props":4904,"children":4905},{"style":268},[4906],{"type":178,"value":2351},{"type":172,"tag":255,"props":4908,"children":4909},{"style":262},[4910],{"type":178,"value":446},{"type":172,"tag":255,"props":4912,"children":4913},{"style":268},[4914],{"type":178,"value":4915},"documentElement\n",{"type":172,"tag":255,"props":4917,"children":4918},{"class":257,"line":830},[4919],{"type":172,"tag":255,"props":4920,"children":4921},{"style":314},[4922],{"type":178,"value":4923},"    // ? 这个 'x' 应该是兼容性考虑\n",{"type":172,"tag":255,"props":4925,"children":4926},{"class":257,"line":866},[4927,4932,4936,4940,4944,4948,4953,4957,4961,4965,4969,4973,4978],{"type":172,"tag":255,"props":4928,"children":4929},{"style":268},[4930],{"type":178,"value":4931},"    p",{"type":172,"tag":255,"props":4933,"children":4934},{"style":262},[4935],{"type":178,"value":446},{"type":172,"tag":255,"props":4937,"children":4938},{"style":268},[4939],{"type":178,"value":993},{"type":172,"tag":255,"props":4941,"children":4942},{"style":333},[4943],{"type":178,"value":710},{"type":172,"tag":255,"props":4945,"children":4946},{"style":349},[4947],{"type":178,"value":612},{"type":172,"tag":255,"props":4949,"children":4950},{"style":355},[4951],{"type":178,"value":4952},"x\u003Cstyle>",{"type":172,"tag":255,"props":4954,"children":4955},{"style":349},[4956],{"type":178,"value":461},{"type":172,"tag":255,"props":4958,"children":4959},{"style":333},[4960],{"type":178,"value":2972},{"type":172,"tag":255,"props":4962,"children":4963},{"style":268},[4964],{"type":178,"value":4782},{"type":172,"tag":255,"props":4966,"children":4967},{"style":333},[4968],{"type":178,"value":2972},{"type":172,"tag":255,"props":4970,"children":4971},{"style":349},[4972],{"type":178,"value":612},{"type":172,"tag":255,"props":4974,"children":4975},{"style":355},[4976],{"type":178,"value":4977},"\u003C/style>",{"type":172,"tag":255,"props":4979,"children":4980},{"style":349},[4981],{"type":178,"value":622},{"type":172,"tag":255,"props":4983,"children":4984},{"class":257,"line":875},[4985,4989,4994,4998,5003,5007,5011,5015,5020,5024,5028,5032,5037],{"type":172,"tag":255,"props":4986,"children":4987},{"style":736},[4988],{"type":178,"value":739},{"type":172,"tag":255,"props":4990,"children":4991},{"style":268},[4992],{"type":178,"value":4993}," parent",{"type":172,"tag":255,"props":4995,"children":4996},{"style":262},[4997],{"type":178,"value":446},{"type":172,"tag":255,"props":4999,"children":5000},{"style":449},[5001],{"type":178,"value":5002},"insertBefore",{"type":172,"tag":255,"props":5004,"children":5005},{"style":726},[5006],{"type":178,"value":271},{"type":172,"tag":255,"props":5008,"children":5009},{"style":268},[5010],{"type":178,"value":186},{"type":172,"tag":255,"props":5012,"children":5013},{"style":262},[5014],{"type":178,"value":446},{"type":172,"tag":255,"props":5016,"children":5017},{"style":268},[5018],{"type":178,"value":5019},"lastChild",{"type":172,"tag":255,"props":5021,"children":5022},{"style":262},[5023],{"type":178,"value":292},{"type":172,"tag":255,"props":5025,"children":5026},{"style":268},[5027],{"type":178,"value":4993},{"type":172,"tag":255,"props":5029,"children":5030},{"style":262},[5031],{"type":178,"value":446},{"type":172,"tag":255,"props":5033,"children":5034},{"style":268},[5035],{"type":178,"value":5036},"firstChild",{"type":172,"tag":255,"props":5038,"children":5039},{"style":726},[5040],{"type":178,"value":474},{"type":172,"tag":255,"props":5042,"children":5043},{"class":257,"line":1144},[5044],{"type":172,"tag":255,"props":5045,"children":5046},{"style":262},[5047],{"type":178,"value":4601},{"type":172,"tag":186,"props":5049,"children":5050},{},[5051],{"type":178,"value":5052},"一对用来维护 html5.elements 的方法 getElements、addElements。相当于 getter/setter。因为 html5shiv 将 html5 这个对象挂载到了 window 对象上，向外暴露。所以可以轻易调用 addElements 维护 html.elements。",{"type":172,"tag":244,"props":5054,"children":5056},{"className":246,"code":5055,"language":248,"meta":166,"style":166},"function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\nfunction addElements(newElements, ownerDocument) {\n    var elements = html5.elements\n    if(typeof elements != 'string'){\n        elements = elements.join(' ')\n    }\n    if(typeof newElements != 'string'){\n        newElements = newElements.join(' ')\n    }\n    html5.elements = elements +' '+ newElements\n\n    // 每次增加元素的最后，会进行一次 shiv\n    shivDocument(ownerDocument)\n}\n",[5057],{"type":172,"tag":251,"props":5058,"children":5059},{"__ignoreMap":166},[5060,5079,5110,5185,5192,5229,5257,5301,5341,5348,5392,5432,5439,5484,5491,5499,5519],{"type":172,"tag":255,"props":5061,"children":5062},{"class":257,"line":258},[5063,5067,5071,5075],{"type":172,"tag":255,"props":5064,"children":5065},{"style":274},[5066],{"type":178,"value":277},{"type":172,"tag":255,"props":5068,"children":5069},{"style":449},[5070],{"type":178,"value":4276},{"type":172,"tag":255,"props":5072,"children":5073},{"style":262},[5074],{"type":178,"value":687},{"type":172,"tag":255,"props":5076,"children":5077},{"style":262},[5078],{"type":178,"value":307},{"type":172,"tag":255,"props":5080,"children":5081},{"class":257,"line":310},[5082,5086,5090,5094,5098,5102,5106],{"type":172,"tag":255,"props":5083,"children":5084},{"style":274},[5085],{"type":178,"value":700},{"type":172,"tag":255,"props":5087,"children":5088},{"style":268},[5089],{"type":178,"value":4493},{"type":172,"tag":255,"props":5091,"children":5092},{"style":333},[5093],{"type":178,"value":710},{"type":172,"tag":255,"props":5095,"children":5096},{"style":268},[5097],{"type":178,"value":4502},{"type":172,"tag":255,"props":5099,"children":5100},{"style":262},[5101],{"type":178,"value":446},{"type":172,"tag":255,"props":5103,"children":5104},{"style":268},[5105],{"type":178,"value":4511},{"type":172,"tag":255,"props":5107,"children":5108},{"style":262},[5109],{"type":178,"value":397},{"type":172,"tag":255,"props":5111,"children":5112},{"class":257,"line":320},[5113,5117,5121,5125,5129,5133,5137,5141,5145,5149,5153,5157,5161,5165,5169,5173,5177,5181],{"type":172,"tag":255,"props":5114,"children":5115},{"style":736},[5116],{"type":178,"value":739},{"type":172,"tag":255,"props":5118,"children":5119},{"style":333},[5120],{"type":178,"value":4527},{"type":172,"tag":255,"props":5122,"children":5123},{"style":268},[5124],{"type":178,"value":4493},{"type":172,"tag":255,"props":5126,"children":5127},{"style":333},[5128],{"type":178,"value":663},{"type":172,"tag":255,"props":5130,"children":5131},{"style":349},[5132],{"type":178,"value":612},{"type":172,"tag":255,"props":5134,"children":5135},{"style":355},[5136],{"type":178,"value":4544},{"type":172,"tag":255,"props":5138,"children":5139},{"style":349},[5140],{"type":178,"value":461},{"type":172,"tag":255,"props":5142,"children":5143},{"style":333},[5144],{"type":178,"value":368},{"type":172,"tag":255,"props":5146,"children":5147},{"style":268},[5148],{"type":178,"value":4493},{"type":172,"tag":255,"props":5150,"children":5151},{"style":262},[5152],{"type":178,"value":446},{"type":172,"tag":255,"props":5154,"children":5155},{"style":449},[5156],{"type":178,"value":4565},{"type":172,"tag":255,"props":5158,"children":5159},{"style":726},[5160],{"type":178,"value":271},{"type":172,"tag":255,"props":5162,"children":5163},{"style":349},[5164],{"type":178,"value":461},{"type":172,"tag":255,"props":5166,"children":5167},{"style":349},[5168],{"type":178,"value":612},{"type":172,"tag":255,"props":5170,"children":5171},{"style":726},[5172],{"type":178,"value":1406},{"type":172,"tag":255,"props":5174,"children":5175},{"style":333},[5176],{"type":178,"value":377},{"type":172,"tag":255,"props":5178,"children":5179},{"style":268},[5180],{"type":178,"value":4493},{"type":172,"tag":255,"props":5182,"children":5183},{"style":262},[5184],{"type":178,"value":397},{"type":172,"tag":255,"props":5186,"children":5187},{"class":257,"line":694},[5188],{"type":172,"tag":255,"props":5189,"children":5190},{"style":262},[5191],{"type":178,"value":4601},{"type":172,"tag":255,"props":5193,"children":5194},{"class":257,"line":732},[5195,5199,5204,5208,5213,5217,5221,5225],{"type":172,"tag":255,"props":5196,"children":5197},{"style":274},[5198],{"type":178,"value":277},{"type":172,"tag":255,"props":5200,"children":5201},{"style":449},[5202],{"type":178,"value":5203}," addElements",{"type":172,"tag":255,"props":5205,"children":5206},{"style":262},[5207],{"type":178,"value":271},{"type":172,"tag":255,"props":5209,"children":5210},{"style":284},[5211],{"type":178,"value":5212},"newElements",{"type":172,"tag":255,"props":5214,"children":5215},{"style":262},[5216],{"type":178,"value":292},{"type":172,"tag":255,"props":5218,"children":5219},{"style":284},[5220],{"type":178,"value":2351},{"type":172,"tag":255,"props":5222,"children":5223},{"style":262},[5224],{"type":178,"value":302},{"type":172,"tag":255,"props":5226,"children":5227},{"style":262},[5228],{"type":178,"value":307},{"type":172,"tag":255,"props":5230,"children":5231},{"class":257,"line":747},[5232,5236,5240,5244,5248,5252],{"type":172,"tag":255,"props":5233,"children":5234},{"style":274},[5235],{"type":178,"value":700},{"type":172,"tag":255,"props":5237,"children":5238},{"style":268},[5239],{"type":178,"value":4493},{"type":172,"tag":255,"props":5241,"children":5242},{"style":333},[5243],{"type":178,"value":710},{"type":172,"tag":255,"props":5245,"children":5246},{"style":268},[5247],{"type":178,"value":4502},{"type":172,"tag":255,"props":5249,"children":5250},{"style":262},[5251],{"type":178,"value":446},{"type":172,"tag":255,"props":5253,"children":5254},{"style":268},[5255],{"type":178,"value":5256},"elements\n",{"type":172,"tag":255,"props":5258,"children":5259},{"class":257,"line":790},[5260,5264,5268,5272,5276,5281,5285,5289,5293,5297],{"type":172,"tag":255,"props":5261,"children":5262},{"style":736},[5263],{"type":178,"value":1650},{"type":172,"tag":255,"props":5265,"children":5266},{"style":726},[5267],{"type":178,"value":271},{"type":172,"tag":255,"props":5269,"children":5270},{"style":333},[5271],{"type":178,"value":336},{"type":172,"tag":255,"props":5273,"children":5274},{"style":268},[5275],{"type":178,"value":4493},{"type":172,"tag":255,"props":5277,"children":5278},{"style":333},[5279],{"type":178,"value":5280}," !=",{"type":172,"tag":255,"props":5282,"children":5283},{"style":349},[5284],{"type":178,"value":612},{"type":172,"tag":255,"props":5286,"children":5287},{"style":355},[5288],{"type":178,"value":4544},{"type":172,"tag":255,"props":5290,"children":5291},{"style":349},[5292],{"type":178,"value":461},{"type":172,"tag":255,"props":5294,"children":5295},{"style":726},[5296],{"type":178,"value":302},{"type":172,"tag":255,"props":5298,"children":5299},{"style":262},[5300],{"type":178,"value":1411},{"type":172,"tag":255,"props":5302,"children":5303},{"class":257,"line":830},[5304,5309,5313,5317,5321,5325,5329,5333,5337],{"type":172,"tag":255,"props":5305,"children":5306},{"style":268},[5307],{"type":178,"value":5308},"        elements",{"type":172,"tag":255,"props":5310,"children":5311},{"style":333},[5312],{"type":178,"value":710},{"type":172,"tag":255,"props":5314,"children":5315},{"style":268},[5316],{"type":178,"value":4493},{"type":172,"tag":255,"props":5318,"children":5319},{"style":262},[5320],{"type":178,"value":446},{"type":172,"tag":255,"props":5322,"children":5323},{"style":449},[5324],{"type":178,"value":2804},{"type":172,"tag":255,"props":5326,"children":5327},{"style":726},[5328],{"type":178,"value":271},{"type":172,"tag":255,"props":5330,"children":5331},{"style":349},[5332],{"type":178,"value":461},{"type":172,"tag":255,"props":5334,"children":5335},{"style":349},[5336],{"type":178,"value":612},{"type":172,"tag":255,"props":5338,"children":5339},{"style":726},[5340],{"type":178,"value":474},{"type":172,"tag":255,"props":5342,"children":5343},{"class":257,"line":866},[5344],{"type":172,"tag":255,"props":5345,"children":5346},{"style":262},[5347],{"type":178,"value":1463},{"type":172,"tag":255,"props":5349,"children":5350},{"class":257,"line":875},[5351,5355,5359,5363,5368,5372,5376,5380,5384,5388],{"type":172,"tag":255,"props":5352,"children":5353},{"style":736},[5354],{"type":178,"value":1650},{"type":172,"tag":255,"props":5356,"children":5357},{"style":726},[5358],{"type":178,"value":271},{"type":172,"tag":255,"props":5360,"children":5361},{"style":333},[5362],{"type":178,"value":336},{"type":172,"tag":255,"props":5364,"children":5365},{"style":268},[5366],{"type":178,"value":5367}," newElements",{"type":172,"tag":255,"props":5369,"children":5370},{"style":333},[5371],{"type":178,"value":5280},{"type":172,"tag":255,"props":5373,"children":5374},{"style":349},[5375],{"type":178,"value":612},{"type":172,"tag":255,"props":5377,"children":5378},{"style":355},[5379],{"type":178,"value":4544},{"type":172,"tag":255,"props":5381,"children":5382},{"style":349},[5383],{"type":178,"value":461},{"type":172,"tag":255,"props":5385,"children":5386},{"style":726},[5387],{"type":178,"value":302},{"type":172,"tag":255,"props":5389,"children":5390},{"style":262},[5391],{"type":178,"value":1411},{"type":172,"tag":255,"props":5393,"children":5394},{"class":257,"line":1144},[5395,5400,5404,5408,5412,5416,5420,5424,5428],{"type":172,"tag":255,"props":5396,"children":5397},{"style":268},[5398],{"type":178,"value":5399},"        newElements",{"type":172,"tag":255,"props":5401,"children":5402},{"style":333},[5403],{"type":178,"value":710},{"type":172,"tag":255,"props":5405,"children":5406},{"style":268},[5407],{"type":178,"value":5367},{"type":172,"tag":255,"props":5409,"children":5410},{"style":262},[5411],{"type":178,"value":446},{"type":172,"tag":255,"props":5413,"children":5414},{"style":449},[5415],{"type":178,"value":2804},{"type":172,"tag":255,"props":5417,"children":5418},{"style":726},[5419],{"type":178,"value":271},{"type":172,"tag":255,"props":5421,"children":5422},{"style":349},[5423],{"type":178,"value":461},{"type":172,"tag":255,"props":5425,"children":5426},{"style":349},[5427],{"type":178,"value":612},{"type":172,"tag":255,"props":5429,"children":5430},{"style":726},[5431],{"type":178,"value":474},{"type":172,"tag":255,"props":5433,"children":5434},{"class":257,"line":1153},[5435],{"type":172,"tag":255,"props":5436,"children":5437},{"style":262},[5438],{"type":178,"value":1463},{"type":172,"tag":255,"props":5440,"children":5441},{"class":257,"line":1196},[5442,5447,5451,5455,5459,5463,5467,5471,5475,5479],{"type":172,"tag":255,"props":5443,"children":5444},{"style":268},[5445],{"type":178,"value":5446},"    html5",{"type":172,"tag":255,"props":5448,"children":5449},{"style":262},[5450],{"type":178,"value":446},{"type":172,"tag":255,"props":5452,"children":5453},{"style":268},[5454],{"type":178,"value":4511},{"type":172,"tag":255,"props":5456,"children":5457},{"style":333},[5458],{"type":178,"value":710},{"type":172,"tag":255,"props":5460,"children":5461},{"style":268},[5462],{"type":178,"value":4493},{"type":172,"tag":255,"props":5464,"children":5465},{"style":333},[5466],{"type":178,"value":2972},{"type":172,"tag":255,"props":5468,"children":5469},{"style":349},[5470],{"type":178,"value":461},{"type":172,"tag":255,"props":5472,"children":5473},{"style":349},[5474],{"type":178,"value":612},{"type":172,"tag":255,"props":5476,"children":5477},{"style":333},[5478],{"type":178,"value":2847},{"type":172,"tag":255,"props":5480,"children":5481},{"style":268},[5482],{"type":178,"value":5483}," newElements\n",{"type":172,"tag":255,"props":5485,"children":5486},{"class":257,"line":1229},[5487],{"type":172,"tag":255,"props":5488,"children":5489},{"emptyLinePlaceholder":165},[5490],{"type":178,"value":1073},{"type":172,"tag":255,"props":5492,"children":5493},{"class":257,"line":1242},[5494],{"type":172,"tag":255,"props":5495,"children":5496},{"style":314},[5497],{"type":178,"value":5498},"    // 每次增加元素的最后，会进行一次 shiv\n",{"type":172,"tag":255,"props":5500,"children":5501},{"class":257,"line":1283},[5502,5507,5511,5515],{"type":172,"tag":255,"props":5503,"children":5504},{"style":449},[5505],{"type":178,"value":5506},"    shivDocument",{"type":172,"tag":255,"props":5508,"children":5509},{"style":726},[5510],{"type":178,"value":271},{"type":172,"tag":255,"props":5512,"children":5513},{"style":268},[5514],{"type":178,"value":1590},{"type":172,"tag":255,"props":5516,"children":5517},{"style":726},[5518],{"type":178,"value":474},{"type":172,"tag":255,"props":5520,"children":5521},{"class":257,"line":1323},[5522],{"type":172,"tag":255,"props":5523,"children":5524},{"style":262},[5525],{"type":178,"value":4601},{"type":172,"tag":180,"props":5527,"children":5529},{"id":5528},"阅读更多",[5530],{"type":178,"value":5528},{"type":172,"tag":186,"props":5532,"children":5533},{},[5534],{"type":178,"value":5535},"害，看 html5shiv 并不能带来什么具体的帮助。看完之后，只感觉上一代前端真是太辛苦了，为 IE 操碎了心。现代前端技术随着打包工具的发展开阔了不止一点，兼容性这个曾经的代码重心已经悄然落下帷幕。如果现在我去哪家公司面试，还会被大面积问到兼容性问题，那估计我会当场“quit”吧。",{"type":172,"tag":5537,"props":5538,"children":5541},"section",{"className":5539,"dataFootnotes":166},[5540],"footnotes",[5542,5549],{"type":172,"tag":180,"props":5543,"children":5546},{"className":5544,"id":200},[5545],"sr-only",[5547],{"type":178,"value":5548},"Footnotes",{"type":172,"tag":5550,"props":5551,"children":5552},"ol",{},[5553,5576],{"type":172,"tag":217,"props":5554,"children":5556},{"id":5555},"user-content-fn-html5shiv",[5557,5565,5567],{"type":172,"tag":196,"props":5558,"children":5562},{"href":5559,"rel":5560},"https://github.com/aFarkas/html5shiv",[5561],"nofollow",[5563],{"type":178,"value":5564},"html5shiv",{"type":178,"value":5566}," ",{"type":172,"tag":196,"props":5568,"children":5573},{"href":5569,"ariaLabel":5570,"className":5571,"dataFootnoteBackref":166},"#user-content-fnref-html5shiv","Back to reference 1",[5572],"data-footnote-backref",[5574],{"type":178,"value":5575},"↩",{"type":172,"tag":217,"props":5577,"children":5579},{"id":5578},"user-content-fn-hidden",[5580,5587,5588],{"type":172,"tag":196,"props":5581,"children":5584},{"href":5582,"rel":5583},"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/hidden",[5561],[5585],{"type":178,"value":5586},"HTMLElement.hidden@MDN",{"type":178,"value":5566},{"type":172,"tag":196,"props":5589,"children":5593},{"href":5590,"ariaLabel":5591,"className":5592,"dataFootnoteBackref":166},"#user-content-fnref-hidden","Back to reference 2",[5572],[5594],{"type":178,"value":5575},{"type":172,"tag":5596,"props":5597,"children":5598},"style",{},[5599],{"type":178,"value":5600},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":166,"searchDepth":310,"depth":310,"links":5602},[5603,5604,5610,5611],{"id":182,"depth":310,"text":182},{"id":229,"depth":310,"text":229,"children":5605},[5606,5607,5608,5609],{"id":235,"depth":320,"text":235},{"id":405,"depth":320,"text":405},{"id":1478,"depth":320,"text":1478},{"id":4707,"depth":320,"text":4707},{"id":5528,"depth":310,"text":5528},{"id":200,"depth":310,"text":5548},"markdown","content:8.source-code:_module:html5shiv.md","content","8.source-code/_module/html5shiv.md","8.source-code/_module/html5shiv","md",[5619,5622],{"_path":5620,"title":5621,"description":166},"/source-code/_module/fast-deep-equal","判断两个变量相等",{"_path":5623,"title":5624,"description":5625},"/source-code/_module/is-online","判断 NodeJS 是否在线","之前被组长问道要如何判断 NodeJS 是否在线，我不假思索回答：“Ping 百度试试。”。调用 Ping 需要 child_process，那还不如直接改用内置的 DNS 试试是否在线更简单一些。不过会不会碰到缓存等问题，没往下细想了。今天正好在别人的博客看到了 NodeJS DNS 模块，突然想起这个问题，于是就搜了一下相关库。找到了 internet-available 这个玩意儿。这里一起来看看他们的实现。",1749721450823]