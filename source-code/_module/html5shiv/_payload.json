[{"data":1,"prerenderedAt":5881},["ShallowReactive",2],{"navigation":3,"/source-code/_module/html5shiv":416,"/source-code/_module/html5shiv-surround":5873},[4,32,86,108,135,141,147,153,399,405,411],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":42,"_path":43},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":45,"_path":46},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":48,"_path":49},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":51,"_path":52},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":54,"_path":55},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":57,"_path":58},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":60,"_path":61},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":63,"_path":64},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":66,"_path":67},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":69,"_path":70},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":72,"_path":73},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":75,"_path":76},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":78,"_path":79},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":81,"_path":82},"🚝 四十二篇系列","/articles/fourty-two",{"title":84,"_path":85},"📝 技术博客归档","/articles/fold",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102,105],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107},"🖨️ any-to-base64","/tools/any-to-base64",{"title":109,"_path":110,"children":111},"吉他剧场 / Music","/music",[112,114,117,120,123,126,129,132],{"title":113,"_path":110},"🎸 FingerStyle！",{"title":115,"_path":116},"🌬️ 等待的风","/music/wind",{"title":118,"_path":119},"💕 约定的海洋","/music/ocean",{"title":121,"_path":122},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":124,"_path":125},"🌏 残酷天使的行动纲领","/music/eva",{"title":127,"_path":128},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":130,"_path":131},"🍷 Wu Wei","/music/wu-wei",{"title":133,"_path":134},"🌅 无题","/music/untitled",{"title":136,"_path":137,"children":138},"画点什么 / Paint","/paint",[139],{"title":140,"_path":137},"🚧 正在施工",{"title":142,"_path":143,"children":144},"读书笔记 / Notes","/books",[145],{"title":146,"_path":143},"📕 读书笔记",{"title":148,"_path":149,"children":150},"知识地图 / Maps","/maps",[151],{"title":152,"_path":149},"🏁 知识地图",{"title":154,"_path":155,"children":156},"零散的笔记 / Gists","/gists",[157,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396],{"title":158,"_path":155},"🧊 Gists",{"title":160,"_path":161},"网站的可访问性","/gists/accessibility",{"title":163,"_path":164},"Bit","/gists/bit",{"title":166,"_path":167},"图片模糊","/gists/blur",{"title":169,"_path":170},"渲染相关笔记","/gists/c4d",{"title":172,"_path":173},"CDN 问题记录","/gists/cdn",{"title":175,"_path":176},"消毒剂","/gists/cleaner",{"title":178,"_path":179},"Windows Command","/gists/cmd",{"title":181,"_path":182},"Command","/gists/command",{"title":184,"_path":185},"复杂科学","/gists/complexity-science",{"title":187,"_path":188},"GitHub Copilot","/gists/copilot",{"title":190,"_path":191},"宇宙","/gists/cosmos",{"title":193,"_path":194},"C++","/gists/cpp",{"title":196,"_path":197},"Data Structure","/gists/data-structure",{"title":199,"_path":200},"DEPRESSION","/gists/depression",{"title":202,"_path":203},"设计模式","/gists/design-patterns",{"title":205,"_path":206},"Developer Experience","/gists/developer-experience",{"title":208,"_path":209},"Device Metrics","/gists/device-metrix",{"title":211,"_path":212},"数字化转型","/gists/digital-transformation",{"title":214,"_path":215},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":217,"_path":218},"正则表达式","/gists/eegex",{"title":220,"_path":221},"Emoji","/gists/emoji",{"title":223,"_path":224},"工程","/gists/engineering",{"title":226,"_path":227},"熵","/gists/entropy",{"title":229,"_path":230},"Environment","/gists/environment",{"title":232,"_path":233},"Erlang","/gists/erlang",{"title":235,"_path":236},"逃离塔克夫","/gists/escape-from-tarkov",{"title":238,"_path":239},"ESNext (ES6-ES11)","/gists/esnext",{"title":241,"_path":242},"Eval！","/gists/eval",{"title":244,"_path":245},"Flutter","/gists/flutter",{"title":247,"_path":248},"字体","/gists/font",{"title":250,"_path":251},"JS 函数式编程","/gists/functional",{"title":253,"_path":254},"游戏化","/gists/gamification",{"title":256,"_path":257},"Google C++ Standard","/gists/google-cpp-standard",{"title":259,"_path":260},"双向链接完全体","/gists/graph",{"title":262,"_path":263},"Hardwares","/gists/hardwares",{"title":265,"_path":266},"哈希冲突","/gists/hash-collision",{"title":268,"_path":269},"信息设计","/gists/information-design",{"title":271,"_path":272},"InstantPage","/gists/instant.page",{"title":274,"_path":275},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":277,"_path":278},"KVStore","/gists/key-value-db",{"title":280,"_path":281},"Kubernetes","/gists/kubernetes",{"title":283,"_path":284},"Makefile","/gists/makefile",{"title":286,"_path":287},"Markdown Inline Style","/gists/markdown-nice",{"title":289,"_path":290},"小程序","/gists/miniapp",{"title":292,"_path":293},"减小页面快照体积","/gists/minify-html",{"title":295,"_path":296},"mklink","/gists/mklink",{"title":298,"_path":299},"Mock","/gists/mock",{"title":301,"_path":302},"多人协作系统","/gists/multiplayer",{"title":304,"_path":305},"多端应用","/gists/multy-end-app",{"title":307,"_path":308},"神经科学","/gists/neuroscience",{"title":310,"_path":311},"OO","/gists/oo",{"title":313,"_path":314},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":316,"_path":317},"PInvoke","/gists/pinvoke",{"title":319,"_path":320},"像素","/gists/pixel",{"title":322,"_path":323},"PowerShell","/gists/powershell",{"title":325,"_path":326},"量子","/gists/quantum",{"title":328,"_path":329},"保持好奇心","/gists/questions",{"title":331,"_path":332},"React Native","/gists/react-native",{"title":334,"_path":335},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":337,"_path":338},"SEO","/gists/seo",{"title":340,"_path":341},"Shader","/gists/shader",{"title":343,"_path":344},"Shape Up","/gists/shape-up",{"title":346,"_path":347},"睡觉","/gists/sleep",{"title":349,"_path":350},"记录奇怪的问题","/gists/solved",{"title":352,"_path":353},"States","/gists/states",{"title":355,"_path":356},"Storage","/gists/storage",{"title":358,"_path":359},"音视频流处理","/gists/stream-cli",{"title":361,"_path":362},"Symbol","/gists/symbol",{"title":364,"_path":365},"系统论","/gists/systems-theory",{"title":367,"_path":368},"Taro","/gists/taro",{"title":370,"_path":371},"任务切片","/gists/task-slice",{"title":373,"_path":374},"技术偏好","/gists/tech-dudge",{"title":376,"_path":377},"Untitled","/gists/untitled",{"title":379,"_path":380},"可变字体","/gists/variable-font",{"title":382,"_path":383},"视觉错觉","/gists/visual-illusion",{"title":385,"_path":386},"SS(SSR)","/gists/vpn",{"title":388,"_path":389},"VS Code 插件开发","/gists/vscode-plugin",{"title":391,"_path":392},"Web Components","/gists/web-components",{"title":394,"_path":395},"Windows","/gists/windows",{"title":397,"_path":398},"查缺补漏","/gists/wrong",{"title":400,"_path":401,"children":402},"代码笔记 / Gists","/source-code",[403],{"title":404,"_path":401},"🚄 代码笔记",{"title":406,"_path":407,"children":408},"我 / Abount","/hire",[409],{"title":410,"_path":407},"📬 技术简历",{"title":412,"_path":413,"children":414},"todo","/todo",[415],{"title":412,"_path":413},{"_path":417,"_dir":418,"_draft":419,"_partial":420,"_locale":421,"title":422,"description":421,"body":423,"_type":5867,"_id":5868,"_source":5869,"_file":5870,"_stem":5871,"_extension":5872},"/source-code/_module/html5shiv","_module",false,true,"","🛠 低版本浏览器兼容HTML5标签原理",{"type":424,"children":425,"toc":5856},"root",[426,434,440,462,467,482,487,493,498,653,658,663,668,673,770,788,793,1141,1146,1731,1736,1741,1746,2043,2048,2467,2472,3346,3351,3457,3462,3579,3584,4309,4314,4690,4695,4960,4965,4970,5303,5308,5781,5786,5791,5850],{"type":427,"tag":428,"props":429,"children":431},"element","h1",{"id":430},"低版本浏览器兼容html5标签原理",[432],{"type":433,"value":422},"text",{"type":427,"tag":435,"props":436,"children":438},"h2",{"id":437},"长话短说",[439],{"type":433,"value":437},{"type":427,"tag":441,"props":442,"children":443},"p",{},[444,446,460],{"type":433,"value":445},"最近在复习 HTML 相关内容呢，不知不觉想起以前在实习公司用过的 html5shiv 这个玩意儿。html5shiv 能使 IE6/7/8 等浏览器支持 HTML5 的新标签",{"type":427,"tag":447,"props":448,"children":449},"sup",{},[450],{"type":427,"tag":451,"props":452,"children":457},"a",{"href":453,"ariaDescribedBy":454,"dataFootnoteRef":421,"id":456},"#user-content-fn-html5shiv",[455],"footnote-label","user-content-fnref-html5shiv",[458],{"type":433,"value":459},"1",{"type":433,"value":461},"。这里我初略扫了一眼它的原理。",{"type":427,"tag":441,"props":463,"children":464},{},[465],{"type":433,"value":466},"它主要做了以下两件事情：",{"type":427,"tag":468,"props":469,"children":470},"ul",{},[471,477],{"type":427,"tag":472,"props":473,"children":474},"li",{},[475],{"type":433,"value":476},"用高阶函数增强浏览器原生的 createElement 等 API。需要创建新标签时，使用已缓存的元素克隆并返还一个新元素，或回退至调用原生 API 创建 H5 新元素。这个增强是基于 document.createElement 能创建非标准元素这个特性实现的。",{"type":427,"tag":472,"props":478,"children":479},{},[480],{"type":433,"value":481},"给新标签增加相应的默认样式。",{"type":427,"tag":435,"props":483,"children":485},{"id":484},"具体实现",[486],{"type":433,"value":484},{"type":427,"tag":488,"props":489,"children":491},"h3",{"id":490},"代码结构",[492],{"type":433,"value":490},{"type":427,"tag":441,"props":494,"children":495},{},[496],{"type":433,"value":497},"整个代码被包裹在 IIFE 中。像 jQuery 一样，把 window 对象传了进来。",{"type":427,"tag":499,"props":500,"children":504},"pre",{"className":501,"code":502,"language":503,"meta":421,"style":421},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",";(function(window, document) {\n    // rest of code\n}(typeof window !== \"undefined\" ? window : this, document));\n","js",[505],{"type":427,"tag":506,"props":507,"children":508},"code",{"__ignoreMap":421},[509,563,573],{"type":427,"tag":510,"props":511,"children":514},"span",{"class":512,"line":513},"line",1,[515,521,527,533,537,543,548,553,558],{"type":427,"tag":510,"props":516,"children":518},{"style":517},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[519],{"type":433,"value":520},";",{"type":427,"tag":510,"props":522,"children":524},{"style":523},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[525],{"type":433,"value":526},"(",{"type":427,"tag":510,"props":528,"children":530},{"style":529},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[531],{"type":433,"value":532},"function",{"type":427,"tag":510,"props":534,"children":535},{"style":517},[536],{"type":433,"value":526},{"type":427,"tag":510,"props":538,"children":540},{"style":539},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[541],{"type":433,"value":542},"window",{"type":427,"tag":510,"props":544,"children":545},{"style":517},[546],{"type":433,"value":547},",",{"type":427,"tag":510,"props":549,"children":550},{"style":539},[551],{"type":433,"value":552}," document",{"type":427,"tag":510,"props":554,"children":555},{"style":517},[556],{"type":433,"value":557},")",{"type":427,"tag":510,"props":559,"children":560},{"style":517},[561],{"type":433,"value":562}," {\n",{"type":427,"tag":510,"props":564,"children":566},{"class":512,"line":565},2,[567],{"type":427,"tag":510,"props":568,"children":570},{"style":569},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[571],{"type":433,"value":572},"    // rest of code\n",{"type":427,"tag":510,"props":574,"children":576},{"class":512,"line":575},3,[577,582,586,592,597,602,608,614,619,624,628,633,639,643,648],{"type":427,"tag":510,"props":578,"children":579},{"style":517},[580],{"type":433,"value":581},"}",{"type":427,"tag":510,"props":583,"children":584},{"style":523},[585],{"type":433,"value":526},{"type":427,"tag":510,"props":587,"children":589},{"style":588},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[590],{"type":433,"value":591},"typeof",{"type":427,"tag":510,"props":593,"children":594},{"style":523},[595],{"type":433,"value":596}," window ",{"type":427,"tag":510,"props":598,"children":599},{"style":588},[600],{"type":433,"value":601},"!==",{"type":427,"tag":510,"props":603,"children":605},{"style":604},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[606],{"type":433,"value":607}," \"",{"type":427,"tag":510,"props":609,"children":611},{"style":610},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[612],{"type":433,"value":613},"undefined",{"type":427,"tag":510,"props":615,"children":616},{"style":604},[617],{"type":433,"value":618},"\"",{"type":427,"tag":510,"props":620,"children":621},{"style":588},[622],{"type":433,"value":623}," ?",{"type":427,"tag":510,"props":625,"children":626},{"style":523},[627],{"type":433,"value":596},{"type":427,"tag":510,"props":629,"children":630},{"style":588},[631],{"type":433,"value":632},":",{"type":427,"tag":510,"props":634,"children":636},{"style":635},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[637],{"type":433,"value":638}," this",{"type":427,"tag":510,"props":640,"children":641},{"style":517},[642],{"type":433,"value":547},{"type":427,"tag":510,"props":644,"children":645},{"style":523},[646],{"type":433,"value":647}," document))",{"type":427,"tag":510,"props":649,"children":650},{"style":517},[651],{"type":433,"value":652},";\n",{"type":427,"tag":441,"props":654,"children":655},{},[656],{"type":433,"value":657},"一个很经典的模块模式，没什么好拓展的，我们继续...",{"type":427,"tag":488,"props":659,"children":661},{"id":660},"兼容性检测",[662],{"type":433,"value":660},{"type":427,"tag":441,"props":664,"children":665},{},[666],{"type":433,"value":667},"以下代码检测当前浏览器对 HTML5 的支持程度。",{"type":427,"tag":441,"props":669,"children":670},{},[671],{"type":433,"value":672},"通过检测元素对 hidden 属性的支持程度，检测浏览器对 HTML5 样式支持的水平。",{"type":427,"tag":499,"props":674,"children":676},{"className":501,"code":675,"language":503,"meta":421,"style":421},"a = document.createElement('a')\nsupportsHtml5Styles = ('hidden' in a)\n",[677],{"type":427,"tag":506,"props":678,"children":679},{"__ignoreMap":421},[680,730],{"type":427,"tag":510,"props":681,"children":682},{"class":512,"line":513},[683,688,693,697,702,708,712,717,721,725],{"type":427,"tag":510,"props":684,"children":685},{"style":523},[686],{"type":433,"value":687},"a ",{"type":427,"tag":510,"props":689,"children":690},{"style":588},[691],{"type":433,"value":692},"=",{"type":427,"tag":510,"props":694,"children":695},{"style":523},[696],{"type":433,"value":552},{"type":427,"tag":510,"props":698,"children":699},{"style":517},[700],{"type":433,"value":701},".",{"type":427,"tag":510,"props":703,"children":705},{"style":704},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[706],{"type":433,"value":707},"createElement",{"type":427,"tag":510,"props":709,"children":710},{"style":523},[711],{"type":433,"value":526},{"type":427,"tag":510,"props":713,"children":714},{"style":604},[715],{"type":433,"value":716},"'",{"type":427,"tag":510,"props":718,"children":719},{"style":610},[720],{"type":433,"value":451},{"type":427,"tag":510,"props":722,"children":723},{"style":604},[724],{"type":433,"value":716},{"type":427,"tag":510,"props":726,"children":727},{"style":523},[728],{"type":433,"value":729},")\n",{"type":427,"tag":510,"props":731,"children":732},{"class":512,"line":565},[733,738,742,747,751,756,760,765],{"type":427,"tag":510,"props":734,"children":735},{"style":523},[736],{"type":433,"value":737},"supportsHtml5Styles ",{"type":427,"tag":510,"props":739,"children":740},{"style":588},[741],{"type":433,"value":692},{"type":427,"tag":510,"props":743,"children":744},{"style":523},[745],{"type":433,"value":746}," (",{"type":427,"tag":510,"props":748,"children":749},{"style":604},[750],{"type":433,"value":716},{"type":427,"tag":510,"props":752,"children":753},{"style":610},[754],{"type":433,"value":755},"hidden",{"type":427,"tag":510,"props":757,"children":758},{"style":604},[759],{"type":433,"value":716},{"type":427,"tag":510,"props":761,"children":762},{"style":588},[763],{"type":433,"value":764}," in",{"type":427,"tag":510,"props":766,"children":767},{"style":523},[768],{"type":433,"value":769}," a)\n",{"type":427,"tag":441,"props":771,"children":772},{},[773,775,786],{"type":433,"value":774},"以前没听过 HTMLElement.hidden，项目里的隐藏元素都是直接上 CSS 做的。不过据 MDN 表示，除了隐藏元素之外，hidden 属性还能用于创造离屏 Canvas",{"type":427,"tag":447,"props":776,"children":777},{},[778],{"type":427,"tag":451,"props":779,"children":783},{"href":780,"ariaDescribedBy":781,"dataFootnoteRef":421,"id":782},"#user-content-fn-hidden",[455],"user-content-fnref-hidden",[784],{"type":433,"value":785},"2",{"type":433,"value":787},"。",{"type":427,"tag":441,"props":789,"children":790},{},[791],{"type":433,"value":792},"这段代码用于测试浏览器是否支持未知元素的创建。",{"type":427,"tag":499,"props":794,"children":796},{"className":501,"code":795,"language":503,"meta":421,"style":421},"a = document.createElement('a')\na.innerHTML = '\u003Cxyz>\u003C/xyz>'\nsupportsUnknownElements = a.childNodes.length == 1 || (function() {\n    var frag = document.createDocumentFragment()\n    return (\n    typeof frag.cloneNode == 'undefined' ||\n    typeof frag.createDocumentFragment == 'undefined' ||\n    typeof frag.createElement == 'undefined'\n    )\n}())\n",[797],{"type":427,"tag":506,"props":798,"children":799},{"__ignoreMap":421},[800,843,878,947,985,1000,1043,1083,1119,1128],{"type":427,"tag":510,"props":801,"children":802},{"class":512,"line":513},[803,807,811,815,819,823,827,831,835,839],{"type":427,"tag":510,"props":804,"children":805},{"style":523},[806],{"type":433,"value":687},{"type":427,"tag":510,"props":808,"children":809},{"style":588},[810],{"type":433,"value":692},{"type":427,"tag":510,"props":812,"children":813},{"style":523},[814],{"type":433,"value":552},{"type":427,"tag":510,"props":816,"children":817},{"style":517},[818],{"type":433,"value":701},{"type":427,"tag":510,"props":820,"children":821},{"style":704},[822],{"type":433,"value":707},{"type":427,"tag":510,"props":824,"children":825},{"style":523},[826],{"type":433,"value":526},{"type":427,"tag":510,"props":828,"children":829},{"style":604},[830],{"type":433,"value":716},{"type":427,"tag":510,"props":832,"children":833},{"style":610},[834],{"type":433,"value":451},{"type":427,"tag":510,"props":836,"children":837},{"style":604},[838],{"type":433,"value":716},{"type":427,"tag":510,"props":840,"children":841},{"style":523},[842],{"type":433,"value":729},{"type":427,"tag":510,"props":844,"children":845},{"class":512,"line":565},[846,850,854,859,863,868,873],{"type":427,"tag":510,"props":847,"children":848},{"style":523},[849],{"type":433,"value":451},{"type":427,"tag":510,"props":851,"children":852},{"style":517},[853],{"type":433,"value":701},{"type":427,"tag":510,"props":855,"children":856},{"style":523},[857],{"type":433,"value":858},"innerHTML ",{"type":427,"tag":510,"props":860,"children":861},{"style":588},[862],{"type":433,"value":692},{"type":427,"tag":510,"props":864,"children":865},{"style":604},[866],{"type":433,"value":867}," '",{"type":427,"tag":510,"props":869,"children":870},{"style":610},[871],{"type":433,"value":872},"\u003Cxyz>\u003C/xyz>",{"type":427,"tag":510,"props":874,"children":875},{"style":604},[876],{"type":433,"value":877},"'\n",{"type":427,"tag":510,"props":879,"children":880},{"class":512,"line":575},[881,886,890,895,899,904,908,914,919,925,930,934,938,943],{"type":427,"tag":510,"props":882,"children":883},{"style":523},[884],{"type":433,"value":885},"supportsUnknownElements ",{"type":427,"tag":510,"props":887,"children":888},{"style":588},[889],{"type":433,"value":692},{"type":427,"tag":510,"props":891,"children":892},{"style":523},[893],{"type":433,"value":894}," a",{"type":427,"tag":510,"props":896,"children":897},{"style":517},[898],{"type":433,"value":701},{"type":427,"tag":510,"props":900,"children":901},{"style":523},[902],{"type":433,"value":903},"childNodes",{"type":427,"tag":510,"props":905,"children":906},{"style":517},[907],{"type":433,"value":701},{"type":427,"tag":510,"props":909,"children":911},{"style":910},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[912],{"type":433,"value":913},"length",{"type":427,"tag":510,"props":915,"children":916},{"style":588},[917],{"type":433,"value":918}," ==",{"type":427,"tag":510,"props":920,"children":922},{"style":921},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[923],{"type":433,"value":924}," 1",{"type":427,"tag":510,"props":926,"children":927},{"style":588},[928],{"type":433,"value":929}," ||",{"type":427,"tag":510,"props":931,"children":932},{"style":523},[933],{"type":433,"value":746},{"type":427,"tag":510,"props":935,"children":936},{"style":529},[937],{"type":433,"value":532},{"type":427,"tag":510,"props":939,"children":940},{"style":517},[941],{"type":433,"value":942},"()",{"type":427,"tag":510,"props":944,"children":945},{"style":517},[946],{"type":433,"value":562},{"type":427,"tag":510,"props":948,"children":950},{"class":512,"line":949},4,[951,956,961,966,970,974,979],{"type":427,"tag":510,"props":952,"children":953},{"style":529},[954],{"type":433,"value":955},"    var",{"type":427,"tag":510,"props":957,"children":958},{"style":523},[959],{"type":433,"value":960}," frag",{"type":427,"tag":510,"props":962,"children":963},{"style":588},[964],{"type":433,"value":965}," =",{"type":427,"tag":510,"props":967,"children":968},{"style":523},[969],{"type":433,"value":552},{"type":427,"tag":510,"props":971,"children":972},{"style":517},[973],{"type":433,"value":701},{"type":427,"tag":510,"props":975,"children":976},{"style":704},[977],{"type":433,"value":978},"createDocumentFragment",{"type":427,"tag":510,"props":980,"children":982},{"style":981},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[983],{"type":433,"value":984},"()\n",{"type":427,"tag":510,"props":986,"children":988},{"class":512,"line":987},5,[989,995],{"type":427,"tag":510,"props":990,"children":992},{"style":991},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[993],{"type":433,"value":994},"    return",{"type":427,"tag":510,"props":996,"children":997},{"style":981},[998],{"type":433,"value":999}," (\n",{"type":427,"tag":510,"props":1001,"children":1003},{"class":512,"line":1002},6,[1004,1009,1013,1017,1022,1026,1030,1034,1038],{"type":427,"tag":510,"props":1005,"children":1006},{"style":588},[1007],{"type":433,"value":1008},"    typeof",{"type":427,"tag":510,"props":1010,"children":1011},{"style":523},[1012],{"type":433,"value":960},{"type":427,"tag":510,"props":1014,"children":1015},{"style":517},[1016],{"type":433,"value":701},{"type":427,"tag":510,"props":1018,"children":1019},{"style":523},[1020],{"type":433,"value":1021},"cloneNode",{"type":427,"tag":510,"props":1023,"children":1024},{"style":588},[1025],{"type":433,"value":918},{"type":427,"tag":510,"props":1027,"children":1028},{"style":604},[1029],{"type":433,"value":867},{"type":427,"tag":510,"props":1031,"children":1032},{"style":610},[1033],{"type":433,"value":613},{"type":427,"tag":510,"props":1035,"children":1036},{"style":604},[1037],{"type":433,"value":716},{"type":427,"tag":510,"props":1039,"children":1040},{"style":588},[1041],{"type":433,"value":1042}," ||\n",{"type":427,"tag":510,"props":1044,"children":1046},{"class":512,"line":1045},7,[1047,1051,1055,1059,1063,1067,1071,1075,1079],{"type":427,"tag":510,"props":1048,"children":1049},{"style":588},[1050],{"type":433,"value":1008},{"type":427,"tag":510,"props":1052,"children":1053},{"style":523},[1054],{"type":433,"value":960},{"type":427,"tag":510,"props":1056,"children":1057},{"style":517},[1058],{"type":433,"value":701},{"type":427,"tag":510,"props":1060,"children":1061},{"style":523},[1062],{"type":433,"value":978},{"type":427,"tag":510,"props":1064,"children":1065},{"style":588},[1066],{"type":433,"value":918},{"type":427,"tag":510,"props":1068,"children":1069},{"style":604},[1070],{"type":433,"value":867},{"type":427,"tag":510,"props":1072,"children":1073},{"style":610},[1074],{"type":433,"value":613},{"type":427,"tag":510,"props":1076,"children":1077},{"style":604},[1078],{"type":433,"value":716},{"type":427,"tag":510,"props":1080,"children":1081},{"style":588},[1082],{"type":433,"value":1042},{"type":427,"tag":510,"props":1084,"children":1086},{"class":512,"line":1085},8,[1087,1091,1095,1099,1103,1107,1111,1115],{"type":427,"tag":510,"props":1088,"children":1089},{"style":588},[1090],{"type":433,"value":1008},{"type":427,"tag":510,"props":1092,"children":1093},{"style":523},[1094],{"type":433,"value":960},{"type":427,"tag":510,"props":1096,"children":1097},{"style":517},[1098],{"type":433,"value":701},{"type":427,"tag":510,"props":1100,"children":1101},{"style":523},[1102],{"type":433,"value":707},{"type":427,"tag":510,"props":1104,"children":1105},{"style":588},[1106],{"type":433,"value":918},{"type":427,"tag":510,"props":1108,"children":1109},{"style":604},[1110],{"type":433,"value":867},{"type":427,"tag":510,"props":1112,"children":1113},{"style":610},[1114],{"type":433,"value":613},{"type":427,"tag":510,"props":1116,"children":1117},{"style":604},[1118],{"type":433,"value":877},{"type":427,"tag":510,"props":1120,"children":1122},{"class":512,"line":1121},9,[1123],{"type":427,"tag":510,"props":1124,"children":1125},{"style":981},[1126],{"type":433,"value":1127},"    )\n",{"type":427,"tag":510,"props":1129,"children":1131},{"class":512,"line":1130},10,[1132,1136],{"type":427,"tag":510,"props":1133,"children":1134},{"style":517},[1135],{"type":433,"value":581},{"type":427,"tag":510,"props":1137,"children":1138},{"style":523},[1139],{"type":433,"value":1140},"())\n",{"type":427,"tag":441,"props":1142,"children":1143},{},[1144],{"type":433,"value":1145},"如果连 document.createElement 都调用失败的话，那 html5shiv 代码就毫无作用了（html5shiv 的原理需要用到 document.createElement），所以用一个 try/catch 将上述两个功能包裹起来。遇到错误则假装浏览器正常支持 HTML5，相关检测变量被置为 true。",{"type":427,"tag":499,"props":1147,"children":1149},{"className":501,"code":1148,"language":503,"meta":421,"style":421},"(function() {\n    try {\n        var a = document.createElement('a')\n        a.innerHTML = '\u003Cxyz>\u003C/xyz>'\n        //if the hidden property is implemented we can assume, \n        // that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a)\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n            // assign a false positive if unable to shiv\n            // ? 猜测特定浏览器对这种括号调用方法会报错\n            (document.createElement)('a')\n            var frag = document.createDocumentFragment()\n            return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n            )\n        }())\n    } catch(e) {\n        // assign a false positive if detection fails => unable to shiv\n        supportsHtml5Styles = true\n        supportsUnknownElements = true\n    }\n}())\n",[1150],{"type":427,"tag":506,"props":1151,"children":1152},{"__ignoreMap":421},[1153,1172,1184,1232,1265,1273,1281,1321,1329,1389,1397,1406,1449,1482,1495,1536,1576,1612,1621,1634,1667,1676,1694,1710,1719],{"type":427,"tag":510,"props":1154,"children":1155},{"class":512,"line":513},[1156,1160,1164,1168],{"type":427,"tag":510,"props":1157,"children":1158},{"style":523},[1159],{"type":433,"value":526},{"type":427,"tag":510,"props":1161,"children":1162},{"style":529},[1163],{"type":433,"value":532},{"type":427,"tag":510,"props":1165,"children":1166},{"style":517},[1167],{"type":433,"value":942},{"type":427,"tag":510,"props":1169,"children":1170},{"style":517},[1171],{"type":433,"value":562},{"type":427,"tag":510,"props":1173,"children":1174},{"class":512,"line":565},[1175,1180],{"type":427,"tag":510,"props":1176,"children":1177},{"style":991},[1178],{"type":433,"value":1179},"    try",{"type":427,"tag":510,"props":1181,"children":1182},{"style":517},[1183],{"type":433,"value":562},{"type":427,"tag":510,"props":1185,"children":1186},{"class":512,"line":575},[1187,1192,1196,1200,1204,1208,1212,1216,1220,1224,1228],{"type":427,"tag":510,"props":1188,"children":1189},{"style":529},[1190],{"type":433,"value":1191},"        var",{"type":427,"tag":510,"props":1193,"children":1194},{"style":523},[1195],{"type":433,"value":894},{"type":427,"tag":510,"props":1197,"children":1198},{"style":588},[1199],{"type":433,"value":965},{"type":427,"tag":510,"props":1201,"children":1202},{"style":523},[1203],{"type":433,"value":552},{"type":427,"tag":510,"props":1205,"children":1206},{"style":517},[1207],{"type":433,"value":701},{"type":427,"tag":510,"props":1209,"children":1210},{"style":704},[1211],{"type":433,"value":707},{"type":427,"tag":510,"props":1213,"children":1214},{"style":981},[1215],{"type":433,"value":526},{"type":427,"tag":510,"props":1217,"children":1218},{"style":604},[1219],{"type":433,"value":716},{"type":427,"tag":510,"props":1221,"children":1222},{"style":610},[1223],{"type":433,"value":451},{"type":427,"tag":510,"props":1225,"children":1226},{"style":604},[1227],{"type":433,"value":716},{"type":427,"tag":510,"props":1229,"children":1230},{"style":981},[1231],{"type":433,"value":729},{"type":427,"tag":510,"props":1233,"children":1234},{"class":512,"line":949},[1235,1240,1244,1249,1253,1257,1261],{"type":427,"tag":510,"props":1236,"children":1237},{"style":523},[1238],{"type":433,"value":1239},"        a",{"type":427,"tag":510,"props":1241,"children":1242},{"style":517},[1243],{"type":433,"value":701},{"type":427,"tag":510,"props":1245,"children":1246},{"style":523},[1247],{"type":433,"value":1248},"innerHTML",{"type":427,"tag":510,"props":1250,"children":1251},{"style":588},[1252],{"type":433,"value":965},{"type":427,"tag":510,"props":1254,"children":1255},{"style":604},[1256],{"type":433,"value":867},{"type":427,"tag":510,"props":1258,"children":1259},{"style":610},[1260],{"type":433,"value":872},{"type":427,"tag":510,"props":1262,"children":1263},{"style":604},[1264],{"type":433,"value":877},{"type":427,"tag":510,"props":1266,"children":1267},{"class":512,"line":987},[1268],{"type":427,"tag":510,"props":1269,"children":1270},{"style":569},[1271],{"type":433,"value":1272},"        //if the hidden property is implemented we can assume, \n",{"type":427,"tag":510,"props":1274,"children":1275},{"class":512,"line":1002},[1276],{"type":427,"tag":510,"props":1277,"children":1278},{"style":569},[1279],{"type":433,"value":1280},"        // that the browser supports basic HTML5 Styles\n",{"type":427,"tag":510,"props":1282,"children":1283},{"class":512,"line":1045},[1284,1289,1293,1297,1301,1305,1309,1313,1317],{"type":427,"tag":510,"props":1285,"children":1286},{"style":523},[1287],{"type":433,"value":1288},"        supportsHtml5Styles",{"type":427,"tag":510,"props":1290,"children":1291},{"style":588},[1292],{"type":433,"value":965},{"type":427,"tag":510,"props":1294,"children":1295},{"style":981},[1296],{"type":433,"value":746},{"type":427,"tag":510,"props":1298,"children":1299},{"style":604},[1300],{"type":433,"value":716},{"type":427,"tag":510,"props":1302,"children":1303},{"style":610},[1304],{"type":433,"value":755},{"type":427,"tag":510,"props":1306,"children":1307},{"style":604},[1308],{"type":433,"value":716},{"type":427,"tag":510,"props":1310,"children":1311},{"style":588},[1312],{"type":433,"value":764},{"type":427,"tag":510,"props":1314,"children":1315},{"style":523},[1316],{"type":433,"value":894},{"type":427,"tag":510,"props":1318,"children":1319},{"style":981},[1320],{"type":433,"value":729},{"type":427,"tag":510,"props":1322,"children":1323},{"class":512,"line":1085},[1324],{"type":427,"tag":510,"props":1325,"children":1326},{"emptyLinePlaceholder":420},[1327],{"type":433,"value":1328},"\n",{"type":427,"tag":510,"props":1330,"children":1331},{"class":512,"line":1121},[1332,1337,1341,1345,1349,1353,1357,1361,1365,1369,1373,1377,1381,1385],{"type":427,"tag":510,"props":1333,"children":1334},{"style":523},[1335],{"type":433,"value":1336},"        supportsUnknownElements",{"type":427,"tag":510,"props":1338,"children":1339},{"style":588},[1340],{"type":433,"value":965},{"type":427,"tag":510,"props":1342,"children":1343},{"style":523},[1344],{"type":433,"value":894},{"type":427,"tag":510,"props":1346,"children":1347},{"style":517},[1348],{"type":433,"value":701},{"type":427,"tag":510,"props":1350,"children":1351},{"style":523},[1352],{"type":433,"value":903},{"type":427,"tag":510,"props":1354,"children":1355},{"style":517},[1356],{"type":433,"value":701},{"type":427,"tag":510,"props":1358,"children":1359},{"style":910},[1360],{"type":433,"value":913},{"type":427,"tag":510,"props":1362,"children":1363},{"style":588},[1364],{"type":433,"value":918},{"type":427,"tag":510,"props":1366,"children":1367},{"style":921},[1368],{"type":433,"value":924},{"type":427,"tag":510,"props":1370,"children":1371},{"style":588},[1372],{"type":433,"value":929},{"type":427,"tag":510,"props":1374,"children":1375},{"style":981},[1376],{"type":433,"value":746},{"type":427,"tag":510,"props":1378,"children":1379},{"style":529},[1380],{"type":433,"value":532},{"type":427,"tag":510,"props":1382,"children":1383},{"style":517},[1384],{"type":433,"value":942},{"type":427,"tag":510,"props":1386,"children":1387},{"style":517},[1388],{"type":433,"value":562},{"type":427,"tag":510,"props":1390,"children":1391},{"class":512,"line":1130},[1392],{"type":427,"tag":510,"props":1393,"children":1394},{"style":569},[1395],{"type":433,"value":1396},"            // assign a false positive if unable to shiv\n",{"type":427,"tag":510,"props":1398,"children":1400},{"class":512,"line":1399},11,[1401],{"type":427,"tag":510,"props":1402,"children":1403},{"style":569},[1404],{"type":433,"value":1405},"            // ? 猜测特定浏览器对这种括号调用方法会报错\n",{"type":427,"tag":510,"props":1407,"children":1409},{"class":512,"line":1408},12,[1410,1415,1420,1424,1428,1433,1437,1441,1445],{"type":427,"tag":510,"props":1411,"children":1412},{"style":981},[1413],{"type":433,"value":1414},"            (",{"type":427,"tag":510,"props":1416,"children":1417},{"style":523},[1418],{"type":433,"value":1419},"document",{"type":427,"tag":510,"props":1421,"children":1422},{"style":517},[1423],{"type":433,"value":701},{"type":427,"tag":510,"props":1425,"children":1426},{"style":523},[1427],{"type":433,"value":707},{"type":427,"tag":510,"props":1429,"children":1430},{"style":981},[1431],{"type":433,"value":1432},")(",{"type":427,"tag":510,"props":1434,"children":1435},{"style":604},[1436],{"type":433,"value":716},{"type":427,"tag":510,"props":1438,"children":1439},{"style":610},[1440],{"type":433,"value":451},{"type":427,"tag":510,"props":1442,"children":1443},{"style":604},[1444],{"type":433,"value":716},{"type":427,"tag":510,"props":1446,"children":1447},{"style":981},[1448],{"type":433,"value":729},{"type":427,"tag":510,"props":1450,"children":1452},{"class":512,"line":1451},13,[1453,1458,1462,1466,1470,1474,1478],{"type":427,"tag":510,"props":1454,"children":1455},{"style":529},[1456],{"type":433,"value":1457},"            var",{"type":427,"tag":510,"props":1459,"children":1460},{"style":523},[1461],{"type":433,"value":960},{"type":427,"tag":510,"props":1463,"children":1464},{"style":588},[1465],{"type":433,"value":965},{"type":427,"tag":510,"props":1467,"children":1468},{"style":523},[1469],{"type":433,"value":552},{"type":427,"tag":510,"props":1471,"children":1472},{"style":517},[1473],{"type":433,"value":701},{"type":427,"tag":510,"props":1475,"children":1476},{"style":704},[1477],{"type":433,"value":978},{"type":427,"tag":510,"props":1479,"children":1480},{"style":981},[1481],{"type":433,"value":984},{"type":427,"tag":510,"props":1483,"children":1485},{"class":512,"line":1484},14,[1486,1491],{"type":427,"tag":510,"props":1487,"children":1488},{"style":991},[1489],{"type":433,"value":1490},"            return",{"type":427,"tag":510,"props":1492,"children":1493},{"style":981},[1494],{"type":433,"value":999},{"type":427,"tag":510,"props":1496,"children":1498},{"class":512,"line":1497},15,[1499,1504,1508,1512,1516,1520,1524,1528,1532],{"type":427,"tag":510,"props":1500,"children":1501},{"style":588},[1502],{"type":433,"value":1503},"            typeof",{"type":427,"tag":510,"props":1505,"children":1506},{"style":523},[1507],{"type":433,"value":960},{"type":427,"tag":510,"props":1509,"children":1510},{"style":517},[1511],{"type":433,"value":701},{"type":427,"tag":510,"props":1513,"children":1514},{"style":523},[1515],{"type":433,"value":1021},{"type":427,"tag":510,"props":1517,"children":1518},{"style":588},[1519],{"type":433,"value":918},{"type":427,"tag":510,"props":1521,"children":1522},{"style":604},[1523],{"type":433,"value":867},{"type":427,"tag":510,"props":1525,"children":1526},{"style":610},[1527],{"type":433,"value":613},{"type":427,"tag":510,"props":1529,"children":1530},{"style":604},[1531],{"type":433,"value":716},{"type":427,"tag":510,"props":1533,"children":1534},{"style":588},[1535],{"type":433,"value":1042},{"type":427,"tag":510,"props":1537,"children":1539},{"class":512,"line":1538},16,[1540,1544,1548,1552,1556,1560,1564,1568,1572],{"type":427,"tag":510,"props":1541,"children":1542},{"style":588},[1543],{"type":433,"value":1503},{"type":427,"tag":510,"props":1545,"children":1546},{"style":523},[1547],{"type":433,"value":960},{"type":427,"tag":510,"props":1549,"children":1550},{"style":517},[1551],{"type":433,"value":701},{"type":427,"tag":510,"props":1553,"children":1554},{"style":523},[1555],{"type":433,"value":978},{"type":427,"tag":510,"props":1557,"children":1558},{"style":588},[1559],{"type":433,"value":918},{"type":427,"tag":510,"props":1561,"children":1562},{"style":604},[1563],{"type":433,"value":867},{"type":427,"tag":510,"props":1565,"children":1566},{"style":610},[1567],{"type":433,"value":613},{"type":427,"tag":510,"props":1569,"children":1570},{"style":604},[1571],{"type":433,"value":716},{"type":427,"tag":510,"props":1573,"children":1574},{"style":588},[1575],{"type":433,"value":1042},{"type":427,"tag":510,"props":1577,"children":1579},{"class":512,"line":1578},17,[1580,1584,1588,1592,1596,1600,1604,1608],{"type":427,"tag":510,"props":1581,"children":1582},{"style":588},[1583],{"type":433,"value":1503},{"type":427,"tag":510,"props":1585,"children":1586},{"style":523},[1587],{"type":433,"value":960},{"type":427,"tag":510,"props":1589,"children":1590},{"style":517},[1591],{"type":433,"value":701},{"type":427,"tag":510,"props":1593,"children":1594},{"style":523},[1595],{"type":433,"value":707},{"type":427,"tag":510,"props":1597,"children":1598},{"style":588},[1599],{"type":433,"value":918},{"type":427,"tag":510,"props":1601,"children":1602},{"style":604},[1603],{"type":433,"value":867},{"type":427,"tag":510,"props":1605,"children":1606},{"style":610},[1607],{"type":433,"value":613},{"type":427,"tag":510,"props":1609,"children":1610},{"style":604},[1611],{"type":433,"value":877},{"type":427,"tag":510,"props":1613,"children":1615},{"class":512,"line":1614},18,[1616],{"type":427,"tag":510,"props":1617,"children":1618},{"style":981},[1619],{"type":433,"value":1620},"            )\n",{"type":427,"tag":510,"props":1622,"children":1624},{"class":512,"line":1623},19,[1625,1630],{"type":427,"tag":510,"props":1626,"children":1627},{"style":517},[1628],{"type":433,"value":1629},"        }",{"type":427,"tag":510,"props":1631,"children":1632},{"style":981},[1633],{"type":433,"value":1140},{"type":427,"tag":510,"props":1635,"children":1637},{"class":512,"line":1636},20,[1638,1643,1648,1652,1657,1662],{"type":427,"tag":510,"props":1639,"children":1640},{"style":517},[1641],{"type":433,"value":1642},"    }",{"type":427,"tag":510,"props":1644,"children":1645},{"style":991},[1646],{"type":433,"value":1647}," catch",{"type":427,"tag":510,"props":1649,"children":1650},{"style":981},[1651],{"type":433,"value":526},{"type":427,"tag":510,"props":1653,"children":1654},{"style":523},[1655],{"type":433,"value":1656},"e",{"type":427,"tag":510,"props":1658,"children":1659},{"style":981},[1660],{"type":433,"value":1661},") ",{"type":427,"tag":510,"props":1663,"children":1664},{"style":517},[1665],{"type":433,"value":1666},"{\n",{"type":427,"tag":510,"props":1668,"children":1670},{"class":512,"line":1669},21,[1671],{"type":427,"tag":510,"props":1672,"children":1673},{"style":569},[1674],{"type":433,"value":1675},"        // assign a false positive if detection fails => unable to shiv\n",{"type":427,"tag":510,"props":1677,"children":1679},{"class":512,"line":1678},22,[1680,1684,1688],{"type":427,"tag":510,"props":1681,"children":1682},{"style":523},[1683],{"type":433,"value":1288},{"type":427,"tag":510,"props":1685,"children":1686},{"style":588},[1687],{"type":433,"value":965},{"type":427,"tag":510,"props":1689,"children":1691},{"style":1690},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1692],{"type":433,"value":1693}," true\n",{"type":427,"tag":510,"props":1695,"children":1697},{"class":512,"line":1696},23,[1698,1702,1706],{"type":427,"tag":510,"props":1699,"children":1700},{"style":523},[1701],{"type":433,"value":1336},{"type":427,"tag":510,"props":1703,"children":1704},{"style":588},[1705],{"type":433,"value":965},{"type":427,"tag":510,"props":1707,"children":1708},{"style":1690},[1709],{"type":433,"value":1693},{"type":427,"tag":510,"props":1711,"children":1713},{"class":512,"line":1712},24,[1714],{"type":427,"tag":510,"props":1715,"children":1716},{"style":517},[1717],{"type":433,"value":1718},"    }\n",{"type":427,"tag":510,"props":1720,"children":1722},{"class":512,"line":1721},25,[1723,1727],{"type":427,"tag":510,"props":1724,"children":1725},{"style":517},[1726],{"type":433,"value":581},{"type":427,"tag":510,"props":1728,"children":1729},{"style":523},[1730],{"type":433,"value":1140},{"type":427,"tag":488,"props":1732,"children":1734},{"id":1733},"功能仿制",[1735],{"type":433,"value":1733},{"type":427,"tag":441,"props":1737,"children":1738},{},[1739],{"type":433,"value":1740},"每个页面可能有多个 iframe，所以可能有多个 document 对象。因为不同 document 对象可被 shiv 的元素可能不同，所以需要一个变量用作记录。",{"type":427,"tag":441,"props":1742,"children":1743},{},[1744],{"type":433,"value":1745},"getExpandoData 方法在传入的 document 对象下挂载了一个属性名为 '_html5shiv' 的空对象，用来便捷存放某些数据（比如说元素缓存），并返回对象单例。",{"type":427,"tag":499,"props":1747,"children":1749},{"className":501,"code":1748,"language":503,"meta":421,"style":421},"var expandoData = {}\nvar expanID = 0\nvar expando = '_html5shiv'\nfunction getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]]\n    if (!data) {\n        data = {}\n        expanID++\n        ownerDocument[expando] = expanID\n        expandoData[expanID] = data\n    }\n    return data\n  }\n",[1750],{"type":427,"tag":506,"props":1751,"children":1752},{"__ignoreMap":421},[1753,1775,1796,1825,1854,1898,1928,1944,1957,1987,2017,2024,2035],{"type":427,"tag":510,"props":1754,"children":1755},{"class":512,"line":513},[1756,1761,1766,1770],{"type":427,"tag":510,"props":1757,"children":1758},{"style":529},[1759],{"type":433,"value":1760},"var",{"type":427,"tag":510,"props":1762,"children":1763},{"style":523},[1764],{"type":433,"value":1765}," expandoData ",{"type":427,"tag":510,"props":1767,"children":1768},{"style":588},[1769],{"type":433,"value":692},{"type":427,"tag":510,"props":1771,"children":1772},{"style":517},[1773],{"type":433,"value":1774}," {}\n",{"type":427,"tag":510,"props":1776,"children":1777},{"class":512,"line":565},[1778,1782,1787,1791],{"type":427,"tag":510,"props":1779,"children":1780},{"style":529},[1781],{"type":433,"value":1760},{"type":427,"tag":510,"props":1783,"children":1784},{"style":523},[1785],{"type":433,"value":1786}," expanID ",{"type":427,"tag":510,"props":1788,"children":1789},{"style":588},[1790],{"type":433,"value":692},{"type":427,"tag":510,"props":1792,"children":1793},{"style":921},[1794],{"type":433,"value":1795}," 0\n",{"type":427,"tag":510,"props":1797,"children":1798},{"class":512,"line":575},[1799,1803,1808,1812,1816,1821],{"type":427,"tag":510,"props":1800,"children":1801},{"style":529},[1802],{"type":433,"value":1760},{"type":427,"tag":510,"props":1804,"children":1805},{"style":523},[1806],{"type":433,"value":1807}," expando ",{"type":427,"tag":510,"props":1809,"children":1810},{"style":588},[1811],{"type":433,"value":692},{"type":427,"tag":510,"props":1813,"children":1814},{"style":604},[1815],{"type":433,"value":867},{"type":427,"tag":510,"props":1817,"children":1818},{"style":610},[1819],{"type":433,"value":1820},"_html5shiv",{"type":427,"tag":510,"props":1822,"children":1823},{"style":604},[1824],{"type":433,"value":877},{"type":427,"tag":510,"props":1826,"children":1827},{"class":512,"line":949},[1828,1832,1837,1841,1846,1850],{"type":427,"tag":510,"props":1829,"children":1830},{"style":529},[1831],{"type":433,"value":532},{"type":427,"tag":510,"props":1833,"children":1834},{"style":704},[1835],{"type":433,"value":1836}," getExpandoData",{"type":427,"tag":510,"props":1838,"children":1839},{"style":517},[1840],{"type":433,"value":526},{"type":427,"tag":510,"props":1842,"children":1843},{"style":539},[1844],{"type":433,"value":1845},"ownerDocument",{"type":427,"tag":510,"props":1847,"children":1848},{"style":517},[1849],{"type":433,"value":557},{"type":427,"tag":510,"props":1851,"children":1852},{"style":517},[1853],{"type":433,"value":562},{"type":427,"tag":510,"props":1855,"children":1856},{"class":512,"line":987},[1857,1861,1866,1870,1875,1880,1884,1888,1893],{"type":427,"tag":510,"props":1858,"children":1859},{"style":529},[1860],{"type":433,"value":955},{"type":427,"tag":510,"props":1862,"children":1863},{"style":523},[1864],{"type":433,"value":1865}," data",{"type":427,"tag":510,"props":1867,"children":1868},{"style":588},[1869],{"type":433,"value":965},{"type":427,"tag":510,"props":1871,"children":1872},{"style":523},[1873],{"type":433,"value":1874}," expandoData",{"type":427,"tag":510,"props":1876,"children":1877},{"style":981},[1878],{"type":433,"value":1879},"[",{"type":427,"tag":510,"props":1881,"children":1882},{"style":523},[1883],{"type":433,"value":1845},{"type":427,"tag":510,"props":1885,"children":1886},{"style":981},[1887],{"type":433,"value":1879},{"type":427,"tag":510,"props":1889,"children":1890},{"style":523},[1891],{"type":433,"value":1892},"expando",{"type":427,"tag":510,"props":1894,"children":1895},{"style":981},[1896],{"type":433,"value":1897},"]]\n",{"type":427,"tag":510,"props":1899,"children":1900},{"class":512,"line":1002},[1901,1906,1910,1915,1920,1924],{"type":427,"tag":510,"props":1902,"children":1903},{"style":991},[1904],{"type":433,"value":1905},"    if",{"type":427,"tag":510,"props":1907,"children":1908},{"style":981},[1909],{"type":433,"value":746},{"type":427,"tag":510,"props":1911,"children":1912},{"style":588},[1913],{"type":433,"value":1914},"!",{"type":427,"tag":510,"props":1916,"children":1917},{"style":523},[1918],{"type":433,"value":1919},"data",{"type":427,"tag":510,"props":1921,"children":1922},{"style":981},[1923],{"type":433,"value":1661},{"type":427,"tag":510,"props":1925,"children":1926},{"style":517},[1927],{"type":433,"value":1666},{"type":427,"tag":510,"props":1929,"children":1930},{"class":512,"line":1045},[1931,1936,1940],{"type":427,"tag":510,"props":1932,"children":1933},{"style":523},[1934],{"type":433,"value":1935},"        data",{"type":427,"tag":510,"props":1937,"children":1938},{"style":588},[1939],{"type":433,"value":965},{"type":427,"tag":510,"props":1941,"children":1942},{"style":517},[1943],{"type":433,"value":1774},{"type":427,"tag":510,"props":1945,"children":1946},{"class":512,"line":1085},[1947,1952],{"type":427,"tag":510,"props":1948,"children":1949},{"style":523},[1950],{"type":433,"value":1951},"        expanID",{"type":427,"tag":510,"props":1953,"children":1954},{"style":588},[1955],{"type":433,"value":1956},"++\n",{"type":427,"tag":510,"props":1958,"children":1959},{"class":512,"line":1121},[1960,1965,1969,1973,1978,1982],{"type":427,"tag":510,"props":1961,"children":1962},{"style":523},[1963],{"type":433,"value":1964},"        ownerDocument",{"type":427,"tag":510,"props":1966,"children":1967},{"style":981},[1968],{"type":433,"value":1879},{"type":427,"tag":510,"props":1970,"children":1971},{"style":523},[1972],{"type":433,"value":1892},{"type":427,"tag":510,"props":1974,"children":1975},{"style":981},[1976],{"type":433,"value":1977},"] ",{"type":427,"tag":510,"props":1979,"children":1980},{"style":588},[1981],{"type":433,"value":692},{"type":427,"tag":510,"props":1983,"children":1984},{"style":523},[1985],{"type":433,"value":1986}," expanID\n",{"type":427,"tag":510,"props":1988,"children":1989},{"class":512,"line":1130},[1990,1995,1999,2004,2008,2012],{"type":427,"tag":510,"props":1991,"children":1992},{"style":523},[1993],{"type":433,"value":1994},"        expandoData",{"type":427,"tag":510,"props":1996,"children":1997},{"style":981},[1998],{"type":433,"value":1879},{"type":427,"tag":510,"props":2000,"children":2001},{"style":523},[2002],{"type":433,"value":2003},"expanID",{"type":427,"tag":510,"props":2005,"children":2006},{"style":981},[2007],{"type":433,"value":1977},{"type":427,"tag":510,"props":2009,"children":2010},{"style":588},[2011],{"type":433,"value":692},{"type":427,"tag":510,"props":2013,"children":2014},{"style":523},[2015],{"type":433,"value":2016}," data\n",{"type":427,"tag":510,"props":2018,"children":2019},{"class":512,"line":1399},[2020],{"type":427,"tag":510,"props":2021,"children":2022},{"style":517},[2023],{"type":433,"value":1718},{"type":427,"tag":510,"props":2025,"children":2026},{"class":512,"line":1408},[2027,2031],{"type":427,"tag":510,"props":2028,"children":2029},{"style":991},[2030],{"type":433,"value":994},{"type":427,"tag":510,"props":2032,"children":2033},{"style":523},[2034],{"type":433,"value":2016},{"type":427,"tag":510,"props":2036,"children":2037},{"class":512,"line":1451},[2038],{"type":427,"tag":510,"props":2039,"children":2040},{"style":517},[2041],{"type":433,"value":2042},"  }\n",{"type":427,"tag":441,"props":2044,"children":2045},{},[2046],{"type":433,"value":2047},"如何对 document 进行 html5 的增强呢？原理体现都在 shivDocument 这个函数了，只需要增强浏览器原生的 createElement 等 API 的功能，再添加对应的元素样式就好了。",{"type":427,"tag":499,"props":2049,"children":2051},{"className":501,"code":2050,"language":503,"meta":421,"style":421},"function shivDocument(ownerDocument) {\n    // 挂载 document._html5shiv\n    var data = getExpandoData(ownerDocument)\n\n    // 增强样式\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      )\n    }\n\n    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n    // 如果当前浏览器连 document.createElement 都会报错，\n    // 那就没办法 shiv 了，只好假装一切正常...\n    if (!supportsUnknownElements) {\n      // 增强 createElement 和 createDocumentFragment\n      shivMethods(ownerDocument, data)\n    }\n    return ownerDocument\n  }\n",[2052],{"type":427,"tag":506,"props":2053,"children":2054},{"__ignoreMap":421},[2055,2083,2091,2122,2129,2137,2206,2249,2257,2279,2287,2307,2315,2331,2339,2346,2353,2361,2369,2377,2405,2413,2441,2448,2460],{"type":427,"tag":510,"props":2056,"children":2057},{"class":512,"line":513},[2058,2062,2067,2071,2075,2079],{"type":427,"tag":510,"props":2059,"children":2060},{"style":529},[2061],{"type":433,"value":532},{"type":427,"tag":510,"props":2063,"children":2064},{"style":704},[2065],{"type":433,"value":2066}," shivDocument",{"type":427,"tag":510,"props":2068,"children":2069},{"style":517},[2070],{"type":433,"value":526},{"type":427,"tag":510,"props":2072,"children":2073},{"style":539},[2074],{"type":433,"value":1845},{"type":427,"tag":510,"props":2076,"children":2077},{"style":517},[2078],{"type":433,"value":557},{"type":427,"tag":510,"props":2080,"children":2081},{"style":517},[2082],{"type":433,"value":562},{"type":427,"tag":510,"props":2084,"children":2085},{"class":512,"line":565},[2086],{"type":427,"tag":510,"props":2087,"children":2088},{"style":569},[2089],{"type":433,"value":2090},"    // 挂载 document._html5shiv\n",{"type":427,"tag":510,"props":2092,"children":2093},{"class":512,"line":575},[2094,2098,2102,2106,2110,2114,2118],{"type":427,"tag":510,"props":2095,"children":2096},{"style":529},[2097],{"type":433,"value":955},{"type":427,"tag":510,"props":2099,"children":2100},{"style":523},[2101],{"type":433,"value":1865},{"type":427,"tag":510,"props":2103,"children":2104},{"style":588},[2105],{"type":433,"value":965},{"type":427,"tag":510,"props":2107,"children":2108},{"style":704},[2109],{"type":433,"value":1836},{"type":427,"tag":510,"props":2111,"children":2112},{"style":981},[2113],{"type":433,"value":526},{"type":427,"tag":510,"props":2115,"children":2116},{"style":523},[2117],{"type":433,"value":1845},{"type":427,"tag":510,"props":2119,"children":2120},{"style":981},[2121],{"type":433,"value":729},{"type":427,"tag":510,"props":2123,"children":2124},{"class":512,"line":949},[2125],{"type":427,"tag":510,"props":2126,"children":2127},{"emptyLinePlaceholder":420},[2128],{"type":433,"value":1328},{"type":427,"tag":510,"props":2130,"children":2131},{"class":512,"line":987},[2132],{"type":427,"tag":510,"props":2133,"children":2134},{"style":569},[2135],{"type":433,"value":2136},"    // 增强样式\n",{"type":427,"tag":510,"props":2138,"children":2139},{"class":512,"line":1002},[2140,2144,2148,2153,2157,2162,2167,2172,2177,2181,2185,2189,2193,2198,2202],{"type":427,"tag":510,"props":2141,"children":2142},{"style":991},[2143],{"type":433,"value":1905},{"type":427,"tag":510,"props":2145,"children":2146},{"style":981},[2147],{"type":433,"value":746},{"type":427,"tag":510,"props":2149,"children":2150},{"style":523},[2151],{"type":433,"value":2152},"html5",{"type":427,"tag":510,"props":2154,"children":2155},{"style":517},[2156],{"type":433,"value":701},{"type":427,"tag":510,"props":2158,"children":2159},{"style":523},[2160],{"type":433,"value":2161},"shivCSS",{"type":427,"tag":510,"props":2163,"children":2164},{"style":588},[2165],{"type":433,"value":2166}," &&",{"type":427,"tag":510,"props":2168,"children":2169},{"style":588},[2170],{"type":433,"value":2171}," !",{"type":427,"tag":510,"props":2173,"children":2174},{"style":523},[2175],{"type":433,"value":2176},"supportsHtml5Styles",{"type":427,"tag":510,"props":2178,"children":2179},{"style":588},[2180],{"type":433,"value":2166},{"type":427,"tag":510,"props":2182,"children":2183},{"style":588},[2184],{"type":433,"value":2171},{"type":427,"tag":510,"props":2186,"children":2187},{"style":523},[2188],{"type":433,"value":1919},{"type":427,"tag":510,"props":2190,"children":2191},{"style":517},[2192],{"type":433,"value":701},{"type":427,"tag":510,"props":2194,"children":2195},{"style":523},[2196],{"type":433,"value":2197},"hasCSS",{"type":427,"tag":510,"props":2199,"children":2200},{"style":981},[2201],{"type":433,"value":1661},{"type":427,"tag":510,"props":2203,"children":2204},{"style":517},[2205],{"type":433,"value":1666},{"type":427,"tag":510,"props":2207,"children":2208},{"class":512,"line":1045},[2209,2214,2218,2222,2226,2231,2236,2240,2244],{"type":427,"tag":510,"props":2210,"children":2211},{"style":523},[2212],{"type":433,"value":2213},"      data",{"type":427,"tag":510,"props":2215,"children":2216},{"style":517},[2217],{"type":433,"value":701},{"type":427,"tag":510,"props":2219,"children":2220},{"style":523},[2221],{"type":433,"value":2197},{"type":427,"tag":510,"props":2223,"children":2224},{"style":588},[2225],{"type":433,"value":965},{"type":427,"tag":510,"props":2227,"children":2228},{"style":588},[2229],{"type":433,"value":2230}," !!",{"type":427,"tag":510,"props":2232,"children":2233},{"style":704},[2234],{"type":433,"value":2235},"addStyleSheet",{"type":427,"tag":510,"props":2237,"children":2238},{"style":981},[2239],{"type":433,"value":526},{"type":427,"tag":510,"props":2241,"children":2242},{"style":523},[2243],{"type":433,"value":1845},{"type":427,"tag":510,"props":2245,"children":2246},{"style":517},[2247],{"type":433,"value":2248},",\n",{"type":427,"tag":510,"props":2250,"children":2251},{"class":512,"line":1085},[2252],{"type":427,"tag":510,"props":2253,"children":2254},{"style":569},[2255],{"type":433,"value":2256},"        // corrects block display not defined in IE6/7/8/9\n",{"type":427,"tag":510,"props":2258,"children":2259},{"class":512,"line":1121},[2260,2265,2270,2274],{"type":427,"tag":510,"props":2261,"children":2262},{"style":604},[2263],{"type":433,"value":2264},"        '",{"type":427,"tag":510,"props":2266,"children":2267},{"style":610},[2268],{"type":433,"value":2269},"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}",{"type":427,"tag":510,"props":2271,"children":2272},{"style":604},[2273],{"type":433,"value":716},{"type":427,"tag":510,"props":2275,"children":2276},{"style":588},[2277],{"type":433,"value":2278}," +\n",{"type":427,"tag":510,"props":2280,"children":2281},{"class":512,"line":1130},[2282],{"type":427,"tag":510,"props":2283,"children":2284},{"style":569},[2285],{"type":433,"value":2286},"        // adds styling not present in IE6/7/8/9\n",{"type":427,"tag":510,"props":2288,"children":2289},{"class":512,"line":1399},[2290,2294,2299,2303],{"type":427,"tag":510,"props":2291,"children":2292},{"style":604},[2293],{"type":433,"value":2264},{"type":427,"tag":510,"props":2295,"children":2296},{"style":610},[2297],{"type":433,"value":2298},"mark{background:#FF0;color:#000}",{"type":427,"tag":510,"props":2300,"children":2301},{"style":604},[2302],{"type":433,"value":716},{"type":427,"tag":510,"props":2304,"children":2305},{"style":588},[2306],{"type":433,"value":2278},{"type":427,"tag":510,"props":2308,"children":2309},{"class":512,"line":1408},[2310],{"type":427,"tag":510,"props":2311,"children":2312},{"style":569},[2313],{"type":433,"value":2314},"        // hides non-rendered elements\n",{"type":427,"tag":510,"props":2316,"children":2317},{"class":512,"line":1451},[2318,2322,2327],{"type":427,"tag":510,"props":2319,"children":2320},{"style":604},[2321],{"type":433,"value":2264},{"type":427,"tag":510,"props":2323,"children":2324},{"style":610},[2325],{"type":433,"value":2326},"template{display:none}",{"type":427,"tag":510,"props":2328,"children":2329},{"style":604},[2330],{"type":433,"value":877},{"type":427,"tag":510,"props":2332,"children":2333},{"class":512,"line":1484},[2334],{"type":427,"tag":510,"props":2335,"children":2336},{"style":981},[2337],{"type":433,"value":2338},"      )\n",{"type":427,"tag":510,"props":2340,"children":2341},{"class":512,"line":1497},[2342],{"type":427,"tag":510,"props":2343,"children":2344},{"style":517},[2345],{"type":433,"value":1718},{"type":427,"tag":510,"props":2347,"children":2348},{"class":512,"line":1538},[2349],{"type":427,"tag":510,"props":2350,"children":2351},{"emptyLinePlaceholder":420},[2352],{"type":433,"value":1328},{"type":427,"tag":510,"props":2354,"children":2355},{"class":512,"line":1578},[2356],{"type":427,"tag":510,"props":2357,"children":2358},{"style":569},[2359],{"type":433,"value":2360},"    // 这个 if 印证了 ##兼容性检测 那个小节提到的：\n",{"type":427,"tag":510,"props":2362,"children":2363},{"class":512,"line":1614},[2364],{"type":427,"tag":510,"props":2365,"children":2366},{"style":569},[2367],{"type":433,"value":2368},"    // 如果当前浏览器连 document.createElement 都会报错，\n",{"type":427,"tag":510,"props":2370,"children":2371},{"class":512,"line":1623},[2372],{"type":427,"tag":510,"props":2373,"children":2374},{"style":569},[2375],{"type":433,"value":2376},"    // 那就没办法 shiv 了，只好假装一切正常...\n",{"type":427,"tag":510,"props":2378,"children":2379},{"class":512,"line":1636},[2380,2384,2388,2392,2397,2401],{"type":427,"tag":510,"props":2381,"children":2382},{"style":991},[2383],{"type":433,"value":1905},{"type":427,"tag":510,"props":2385,"children":2386},{"style":981},[2387],{"type":433,"value":746},{"type":427,"tag":510,"props":2389,"children":2390},{"style":588},[2391],{"type":433,"value":1914},{"type":427,"tag":510,"props":2393,"children":2394},{"style":523},[2395],{"type":433,"value":2396},"supportsUnknownElements",{"type":427,"tag":510,"props":2398,"children":2399},{"style":981},[2400],{"type":433,"value":1661},{"type":427,"tag":510,"props":2402,"children":2403},{"style":517},[2404],{"type":433,"value":1666},{"type":427,"tag":510,"props":2406,"children":2407},{"class":512,"line":1669},[2408],{"type":427,"tag":510,"props":2409,"children":2410},{"style":569},[2411],{"type":433,"value":2412},"      // 增强 createElement 和 createDocumentFragment\n",{"type":427,"tag":510,"props":2414,"children":2415},{"class":512,"line":1678},[2416,2421,2425,2429,2433,2437],{"type":427,"tag":510,"props":2417,"children":2418},{"style":704},[2419],{"type":433,"value":2420},"      shivMethods",{"type":427,"tag":510,"props":2422,"children":2423},{"style":981},[2424],{"type":433,"value":526},{"type":427,"tag":510,"props":2426,"children":2427},{"style":523},[2428],{"type":433,"value":1845},{"type":427,"tag":510,"props":2430,"children":2431},{"style":517},[2432],{"type":433,"value":547},{"type":427,"tag":510,"props":2434,"children":2435},{"style":523},[2436],{"type":433,"value":1865},{"type":427,"tag":510,"props":2438,"children":2439},{"style":981},[2440],{"type":433,"value":729},{"type":427,"tag":510,"props":2442,"children":2443},{"class":512,"line":1696},[2444],{"type":427,"tag":510,"props":2445,"children":2446},{"style":517},[2447],{"type":433,"value":1718},{"type":427,"tag":510,"props":2449,"children":2450},{"class":512,"line":1712},[2451,2455],{"type":427,"tag":510,"props":2452,"children":2453},{"style":991},[2454],{"type":433,"value":994},{"type":427,"tag":510,"props":2456,"children":2457},{"style":523},[2458],{"type":433,"value":2459}," ownerDocument\n",{"type":427,"tag":510,"props":2461,"children":2462},{"class":512,"line":1721},[2463],{"type":427,"tag":510,"props":2464,"children":2465},{"style":517},[2466],{"type":433,"value":2042},{"type":427,"tag":441,"props":2468,"children":2469},{},[2470],{"type":433,"value":2471},"接下来，仔细康康 shivMethods 方法。shivMethods 仿制了 createElement 和 createDocumentFragment 两个 API，将其挂载到 document._html5shiv。并通过装饰器模式增强了浏览器原生的 createElement 等 API 的功能。",{"type":427,"tag":499,"props":2473,"children":2475},{"className":501,"code":2474,"language":503,"meta":421,"style":421},"function shivMethods(ownerDocument, data) {\n    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n    if (!data.cache) {\n        data.cache = {}\n        data.createElem = ownerDocument.createElement\n        data.createFrag = ownerDocument.createDocumentFragment\n        data.frag = data.createFrag()\n    }\n\n    ownerDocument.createElement = function(nodeName) {\n      // shivMethods 可看作全局的 shiv 开关\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName)\n      }\n      return createElement(nodeName, ownerDocument, data)\n    }\n\n    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n    // 最终返回 data.frag 的克隆函数\n    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n    // 猜测它只能在老版本 IE 上起作用\n    ownerDocument.createDocumentFragment = Function(\n      'html5,dataFrag', \n      'return function(){' +\n        'var clone=dataFrag.cloneNode(),create=clone.createElement' +\n        'html5.shivMethods&&(' +\n            // unroll the `createElement` calls\n            getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n            data.createElem(nodeName)\n            data.frag.createElement(nodeName)\n            return 'create(\"' + nodeName + '\")'\n            }) +\n        ')return clone' +\n      '}'\n    )(html5, data.frag)\n  }\n",[2476],{"type":427,"tag":506,"props":2477,"children":2478},{"__ignoreMap":421},[2479,2515,2523,2559,2582,2616,2649,2685,2692,2699,2741,2749,2786,2818,2826,2867,2874,2881,2889,2897,2905,2913,2942,2968,2988,3008,3029,3038,3137,3166,3202,3250,3268,3289,3305,3338],{"type":427,"tag":510,"props":2480,"children":2481},{"class":512,"line":513},[2482,2486,2491,2495,2499,2503,2507,2511],{"type":427,"tag":510,"props":2483,"children":2484},{"style":529},[2485],{"type":433,"value":532},{"type":427,"tag":510,"props":2487,"children":2488},{"style":704},[2489],{"type":433,"value":2490}," shivMethods",{"type":427,"tag":510,"props":2492,"children":2493},{"style":517},[2494],{"type":433,"value":526},{"type":427,"tag":510,"props":2496,"children":2497},{"style":539},[2498],{"type":433,"value":1845},{"type":427,"tag":510,"props":2500,"children":2501},{"style":517},[2502],{"type":433,"value":547},{"type":427,"tag":510,"props":2504,"children":2505},{"style":539},[2506],{"type":433,"value":1865},{"type":427,"tag":510,"props":2508,"children":2509},{"style":517},[2510],{"type":433,"value":557},{"type":427,"tag":510,"props":2512,"children":2513},{"style":517},[2514],{"type":433,"value":562},{"type":427,"tag":510,"props":2516,"children":2517},{"class":512,"line":565},[2518],{"type":427,"tag":510,"props":2519,"children":2520},{"style":569},[2521],{"type":433,"value":2522},"    // 创建缓存并在 data 中挂载一些原生方法以方便操作\n",{"type":427,"tag":510,"props":2524,"children":2525},{"class":512,"line":575},[2526,2530,2534,2538,2542,2546,2551,2555],{"type":427,"tag":510,"props":2527,"children":2528},{"style":991},[2529],{"type":433,"value":1905},{"type":427,"tag":510,"props":2531,"children":2532},{"style":981},[2533],{"type":433,"value":746},{"type":427,"tag":510,"props":2535,"children":2536},{"style":588},[2537],{"type":433,"value":1914},{"type":427,"tag":510,"props":2539,"children":2540},{"style":523},[2541],{"type":433,"value":1919},{"type":427,"tag":510,"props":2543,"children":2544},{"style":517},[2545],{"type":433,"value":701},{"type":427,"tag":510,"props":2547,"children":2548},{"style":523},[2549],{"type":433,"value":2550},"cache",{"type":427,"tag":510,"props":2552,"children":2553},{"style":981},[2554],{"type":433,"value":1661},{"type":427,"tag":510,"props":2556,"children":2557},{"style":517},[2558],{"type":433,"value":1666},{"type":427,"tag":510,"props":2560,"children":2561},{"class":512,"line":949},[2562,2566,2570,2574,2578],{"type":427,"tag":510,"props":2563,"children":2564},{"style":523},[2565],{"type":433,"value":1935},{"type":427,"tag":510,"props":2567,"children":2568},{"style":517},[2569],{"type":433,"value":701},{"type":427,"tag":510,"props":2571,"children":2572},{"style":523},[2573],{"type":433,"value":2550},{"type":427,"tag":510,"props":2575,"children":2576},{"style":588},[2577],{"type":433,"value":965},{"type":427,"tag":510,"props":2579,"children":2580},{"style":517},[2581],{"type":433,"value":1774},{"type":427,"tag":510,"props":2583,"children":2584},{"class":512,"line":987},[2585,2589,2593,2598,2602,2607,2611],{"type":427,"tag":510,"props":2586,"children":2587},{"style":523},[2588],{"type":433,"value":1935},{"type":427,"tag":510,"props":2590,"children":2591},{"style":517},[2592],{"type":433,"value":701},{"type":427,"tag":510,"props":2594,"children":2595},{"style":523},[2596],{"type":433,"value":2597},"createElem",{"type":427,"tag":510,"props":2599,"children":2600},{"style":588},[2601],{"type":433,"value":965},{"type":427,"tag":510,"props":2603,"children":2604},{"style":523},[2605],{"type":433,"value":2606}," ownerDocument",{"type":427,"tag":510,"props":2608,"children":2609},{"style":517},[2610],{"type":433,"value":701},{"type":427,"tag":510,"props":2612,"children":2613},{"style":523},[2614],{"type":433,"value":2615},"createElement\n",{"type":427,"tag":510,"props":2617,"children":2618},{"class":512,"line":1002},[2619,2623,2627,2632,2636,2640,2644],{"type":427,"tag":510,"props":2620,"children":2621},{"style":523},[2622],{"type":433,"value":1935},{"type":427,"tag":510,"props":2624,"children":2625},{"style":517},[2626],{"type":433,"value":701},{"type":427,"tag":510,"props":2628,"children":2629},{"style":523},[2630],{"type":433,"value":2631},"createFrag",{"type":427,"tag":510,"props":2633,"children":2634},{"style":588},[2635],{"type":433,"value":965},{"type":427,"tag":510,"props":2637,"children":2638},{"style":523},[2639],{"type":433,"value":2606},{"type":427,"tag":510,"props":2641,"children":2642},{"style":517},[2643],{"type":433,"value":701},{"type":427,"tag":510,"props":2645,"children":2646},{"style":523},[2647],{"type":433,"value":2648},"createDocumentFragment\n",{"type":427,"tag":510,"props":2650,"children":2651},{"class":512,"line":1045},[2652,2656,2660,2665,2669,2673,2677,2681],{"type":427,"tag":510,"props":2653,"children":2654},{"style":523},[2655],{"type":433,"value":1935},{"type":427,"tag":510,"props":2657,"children":2658},{"style":517},[2659],{"type":433,"value":701},{"type":427,"tag":510,"props":2661,"children":2662},{"style":523},[2663],{"type":433,"value":2664},"frag",{"type":427,"tag":510,"props":2666,"children":2667},{"style":588},[2668],{"type":433,"value":965},{"type":427,"tag":510,"props":2670,"children":2671},{"style":523},[2672],{"type":433,"value":1865},{"type":427,"tag":510,"props":2674,"children":2675},{"style":517},[2676],{"type":433,"value":701},{"type":427,"tag":510,"props":2678,"children":2679},{"style":704},[2680],{"type":433,"value":2631},{"type":427,"tag":510,"props":2682,"children":2683},{"style":981},[2684],{"type":433,"value":984},{"type":427,"tag":510,"props":2686,"children":2687},{"class":512,"line":1085},[2688],{"type":427,"tag":510,"props":2689,"children":2690},{"style":517},[2691],{"type":433,"value":1718},{"type":427,"tag":510,"props":2693,"children":2694},{"class":512,"line":1121},[2695],{"type":427,"tag":510,"props":2696,"children":2697},{"emptyLinePlaceholder":420},[2698],{"type":433,"value":1328},{"type":427,"tag":510,"props":2700,"children":2701},{"class":512,"line":1130},[2702,2707,2711,2715,2719,2724,2728,2733,2737],{"type":427,"tag":510,"props":2703,"children":2704},{"style":523},[2705],{"type":433,"value":2706},"    ownerDocument",{"type":427,"tag":510,"props":2708,"children":2709},{"style":517},[2710],{"type":433,"value":701},{"type":427,"tag":510,"props":2712,"children":2713},{"style":704},[2714],{"type":433,"value":707},{"type":427,"tag":510,"props":2716,"children":2717},{"style":588},[2718],{"type":433,"value":965},{"type":427,"tag":510,"props":2720,"children":2721},{"style":529},[2722],{"type":433,"value":2723}," function",{"type":427,"tag":510,"props":2725,"children":2726},{"style":517},[2727],{"type":433,"value":526},{"type":427,"tag":510,"props":2729,"children":2730},{"style":539},[2731],{"type":433,"value":2732},"nodeName",{"type":427,"tag":510,"props":2734,"children":2735},{"style":517},[2736],{"type":433,"value":557},{"type":427,"tag":510,"props":2738,"children":2739},{"style":517},[2740],{"type":433,"value":562},{"type":427,"tag":510,"props":2742,"children":2743},{"class":512,"line":1399},[2744],{"type":427,"tag":510,"props":2745,"children":2746},{"style":569},[2747],{"type":433,"value":2748},"      // shivMethods 可看作全局的 shiv 开关\n",{"type":427,"tag":510,"props":2750,"children":2751},{"class":512,"line":1408},[2752,2757,2761,2765,2769,2773,2778,2782],{"type":427,"tag":510,"props":2753,"children":2754},{"style":991},[2755],{"type":433,"value":2756},"      if",{"type":427,"tag":510,"props":2758,"children":2759},{"style":981},[2760],{"type":433,"value":746},{"type":427,"tag":510,"props":2762,"children":2763},{"style":588},[2764],{"type":433,"value":1914},{"type":427,"tag":510,"props":2766,"children":2767},{"style":523},[2768],{"type":433,"value":2152},{"type":427,"tag":510,"props":2770,"children":2771},{"style":517},[2772],{"type":433,"value":701},{"type":427,"tag":510,"props":2774,"children":2775},{"style":523},[2776],{"type":433,"value":2777},"shivMethods",{"type":427,"tag":510,"props":2779,"children":2780},{"style":981},[2781],{"type":433,"value":1661},{"type":427,"tag":510,"props":2783,"children":2784},{"style":517},[2785],{"type":433,"value":1666},{"type":427,"tag":510,"props":2787,"children":2788},{"class":512,"line":1451},[2789,2794,2798,2802,2806,2810,2814],{"type":427,"tag":510,"props":2790,"children":2791},{"style":991},[2792],{"type":433,"value":2793},"          return",{"type":427,"tag":510,"props":2795,"children":2796},{"style":523},[2797],{"type":433,"value":1865},{"type":427,"tag":510,"props":2799,"children":2800},{"style":517},[2801],{"type":433,"value":701},{"type":427,"tag":510,"props":2803,"children":2804},{"style":704},[2805],{"type":433,"value":2597},{"type":427,"tag":510,"props":2807,"children":2808},{"style":981},[2809],{"type":433,"value":526},{"type":427,"tag":510,"props":2811,"children":2812},{"style":523},[2813],{"type":433,"value":2732},{"type":427,"tag":510,"props":2815,"children":2816},{"style":981},[2817],{"type":433,"value":729},{"type":427,"tag":510,"props":2819,"children":2820},{"class":512,"line":1484},[2821],{"type":427,"tag":510,"props":2822,"children":2823},{"style":517},[2824],{"type":433,"value":2825},"      }\n",{"type":427,"tag":510,"props":2827,"children":2828},{"class":512,"line":1497},[2829,2834,2839,2843,2847,2851,2855,2859,2863],{"type":427,"tag":510,"props":2830,"children":2831},{"style":991},[2832],{"type":433,"value":2833},"      return",{"type":427,"tag":510,"props":2835,"children":2836},{"style":704},[2837],{"type":433,"value":2838}," createElement",{"type":427,"tag":510,"props":2840,"children":2841},{"style":981},[2842],{"type":433,"value":526},{"type":427,"tag":510,"props":2844,"children":2845},{"style":523},[2846],{"type":433,"value":2732},{"type":427,"tag":510,"props":2848,"children":2849},{"style":517},[2850],{"type":433,"value":547},{"type":427,"tag":510,"props":2852,"children":2853},{"style":523},[2854],{"type":433,"value":2606},{"type":427,"tag":510,"props":2856,"children":2857},{"style":517},[2858],{"type":433,"value":547},{"type":427,"tag":510,"props":2860,"children":2861},{"style":523},[2862],{"type":433,"value":1865},{"type":427,"tag":510,"props":2864,"children":2865},{"style":981},[2866],{"type":433,"value":729},{"type":427,"tag":510,"props":2868,"children":2869},{"class":512,"line":1538},[2870],{"type":427,"tag":510,"props":2871,"children":2872},{"style":517},[2873],{"type":433,"value":1718},{"type":427,"tag":510,"props":2875,"children":2876},{"class":512,"line":1578},[2877],{"type":427,"tag":510,"props":2878,"children":2879},{"emptyLinePlaceholder":420},[2880],{"type":433,"value":1328},{"type":427,"tag":510,"props":2882,"children":2883},{"class":512,"line":1614},[2884],{"type":427,"tag":510,"props":2885,"children":2886},{"style":569},[2887],{"type":433,"value":2888},"    // 调用该函数时，会立马创建一堆需要 shiv 的元素的实例到 data.frag 中，\n",{"type":427,"tag":510,"props":2890,"children":2891},{"class":512,"line":1623},[2892],{"type":427,"tag":510,"props":2893,"children":2894},{"style":569},[2895],{"type":433,"value":2896},"    // 最终返回 data.frag 的克隆函数\n",{"type":427,"tag":510,"props":2898,"children":2899},{"class":512,"line":1636},[2900],{"type":427,"tag":510,"props":2901,"children":2902},{"style":569},[2903],{"type":433,"value":2904},"    // PS：在我的浏览器中 documentFragment.createElement 并不是一个可调用的方法，\n",{"type":427,"tag":510,"props":2906,"children":2907},{"class":512,"line":1669},[2908],{"type":427,"tag":510,"props":2909,"children":2910},{"style":569},[2911],{"type":433,"value":2912},"    // 猜测它只能在老版本 IE 上起作用\n",{"type":427,"tag":510,"props":2914,"children":2915},{"class":512,"line":1678},[2916,2920,2924,2928,2932,2937],{"type":427,"tag":510,"props":2917,"children":2918},{"style":523},[2919],{"type":433,"value":2706},{"type":427,"tag":510,"props":2921,"children":2922},{"style":517},[2923],{"type":433,"value":701},{"type":427,"tag":510,"props":2925,"children":2926},{"style":523},[2927],{"type":433,"value":978},{"type":427,"tag":510,"props":2929,"children":2930},{"style":588},[2931],{"type":433,"value":965},{"type":427,"tag":510,"props":2933,"children":2934},{"style":704},[2935],{"type":433,"value":2936}," Function",{"type":427,"tag":510,"props":2938,"children":2939},{"style":981},[2940],{"type":433,"value":2941},"(\n",{"type":427,"tag":510,"props":2943,"children":2944},{"class":512,"line":1696},[2945,2950,2955,2959,2963],{"type":427,"tag":510,"props":2946,"children":2947},{"style":604},[2948],{"type":433,"value":2949},"      '",{"type":427,"tag":510,"props":2951,"children":2952},{"style":610},[2953],{"type":433,"value":2954},"html5,dataFrag",{"type":427,"tag":510,"props":2956,"children":2957},{"style":604},[2958],{"type":433,"value":716},{"type":427,"tag":510,"props":2960,"children":2961},{"style":517},[2962],{"type":433,"value":547},{"type":427,"tag":510,"props":2964,"children":2965},{"style":981},[2966],{"type":433,"value":2967}," \n",{"type":427,"tag":510,"props":2969,"children":2970},{"class":512,"line":1712},[2971,2975,2980,2984],{"type":427,"tag":510,"props":2972,"children":2973},{"style":604},[2974],{"type":433,"value":2949},{"type":427,"tag":510,"props":2976,"children":2977},{"style":610},[2978],{"type":433,"value":2979},"return function(){",{"type":427,"tag":510,"props":2981,"children":2982},{"style":604},[2983],{"type":433,"value":716},{"type":427,"tag":510,"props":2985,"children":2986},{"style":588},[2987],{"type":433,"value":2278},{"type":427,"tag":510,"props":2989,"children":2990},{"class":512,"line":1721},[2991,2995,3000,3004],{"type":427,"tag":510,"props":2992,"children":2993},{"style":604},[2994],{"type":433,"value":2264},{"type":427,"tag":510,"props":2996,"children":2997},{"style":610},[2998],{"type":433,"value":2999},"var clone=dataFrag.cloneNode(),create=clone.createElement",{"type":427,"tag":510,"props":3001,"children":3002},{"style":604},[3003],{"type":433,"value":716},{"type":427,"tag":510,"props":3005,"children":3006},{"style":588},[3007],{"type":433,"value":2278},{"type":427,"tag":510,"props":3009,"children":3011},{"class":512,"line":3010},26,[3012,3016,3021,3025],{"type":427,"tag":510,"props":3013,"children":3014},{"style":604},[3015],{"type":433,"value":2264},{"type":427,"tag":510,"props":3017,"children":3018},{"style":610},[3019],{"type":433,"value":3020},"html5.shivMethods&&(",{"type":427,"tag":510,"props":3022,"children":3023},{"style":604},[3024],{"type":433,"value":716},{"type":427,"tag":510,"props":3026,"children":3027},{"style":588},[3028],{"type":433,"value":2278},{"type":427,"tag":510,"props":3030,"children":3032},{"class":512,"line":3031},27,[3033],{"type":427,"tag":510,"props":3034,"children":3035},{"style":569},[3036],{"type":433,"value":3037},"            // unroll the `createElement` calls\n",{"type":427,"tag":510,"props":3039,"children":3041},{"class":512,"line":3040},28,[3042,3047,3051,3055,3060,3064,3068,3073,3077,3082,3087,3093,3098,3103,3107,3113,3117,3121,3125,3129,3133],{"type":427,"tag":510,"props":3043,"children":3044},{"style":704},[3045],{"type":433,"value":3046},"            getElements",{"type":427,"tag":510,"props":3048,"children":3049},{"style":981},[3050],{"type":433,"value":942},{"type":427,"tag":510,"props":3052,"children":3053},{"style":517},[3054],{"type":433,"value":701},{"type":427,"tag":510,"props":3056,"children":3057},{"style":704},[3058],{"type":433,"value":3059},"join",{"type":427,"tag":510,"props":3061,"children":3062},{"style":981},[3063],{"type":433,"value":942},{"type":427,"tag":510,"props":3065,"children":3066},{"style":517},[3067],{"type":433,"value":701},{"type":427,"tag":510,"props":3069,"children":3070},{"style":704},[3071],{"type":433,"value":3072},"replace",{"type":427,"tag":510,"props":3074,"children":3075},{"style":981},[3076],{"type":433,"value":526},{"type":427,"tag":510,"props":3078,"children":3079},{"style":604},[3080],{"type":433,"value":3081},"/",{"type":427,"tag":510,"props":3083,"children":3085},{"style":3084},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3086],{"type":433,"value":1879},{"type":427,"tag":510,"props":3088,"children":3090},{"style":3089},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3091],{"type":433,"value":3092},"\\w\\-:",{"type":427,"tag":510,"props":3094,"children":3095},{"style":3084},[3096],{"type":433,"value":3097},"]",{"type":427,"tag":510,"props":3099,"children":3100},{"style":588},[3101],{"type":433,"value":3102},"+",{"type":427,"tag":510,"props":3104,"children":3105},{"style":604},[3106],{"type":433,"value":3081},{"type":427,"tag":510,"props":3108,"children":3110},{"style":3109},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[3111],{"type":433,"value":3112},"g",{"type":427,"tag":510,"props":3114,"children":3115},{"style":517},[3116],{"type":433,"value":547},{"type":427,"tag":510,"props":3118,"children":3119},{"style":529},[3120],{"type":433,"value":2723},{"type":427,"tag":510,"props":3122,"children":3123},{"style":517},[3124],{"type":433,"value":526},{"type":427,"tag":510,"props":3126,"children":3127},{"style":539},[3128],{"type":433,"value":2732},{"type":427,"tag":510,"props":3130,"children":3131},{"style":517},[3132],{"type":433,"value":557},{"type":427,"tag":510,"props":3134,"children":3135},{"style":517},[3136],{"type":433,"value":562},{"type":427,"tag":510,"props":3138,"children":3140},{"class":512,"line":3139},29,[3141,3146,3150,3154,3158,3162],{"type":427,"tag":510,"props":3142,"children":3143},{"style":523},[3144],{"type":433,"value":3145},"            data",{"type":427,"tag":510,"props":3147,"children":3148},{"style":517},[3149],{"type":433,"value":701},{"type":427,"tag":510,"props":3151,"children":3152},{"style":704},[3153],{"type":433,"value":2597},{"type":427,"tag":510,"props":3155,"children":3156},{"style":981},[3157],{"type":433,"value":526},{"type":427,"tag":510,"props":3159,"children":3160},{"style":523},[3161],{"type":433,"value":2732},{"type":427,"tag":510,"props":3163,"children":3164},{"style":981},[3165],{"type":433,"value":729},{"type":427,"tag":510,"props":3167,"children":3169},{"class":512,"line":3168},30,[3170,3174,3178,3182,3186,3190,3194,3198],{"type":427,"tag":510,"props":3171,"children":3172},{"style":523},[3173],{"type":433,"value":3145},{"type":427,"tag":510,"props":3175,"children":3176},{"style":517},[3177],{"type":433,"value":701},{"type":427,"tag":510,"props":3179,"children":3180},{"style":523},[3181],{"type":433,"value":2664},{"type":427,"tag":510,"props":3183,"children":3184},{"style":517},[3185],{"type":433,"value":701},{"type":427,"tag":510,"props":3187,"children":3188},{"style":704},[3189],{"type":433,"value":707},{"type":427,"tag":510,"props":3191,"children":3192},{"style":981},[3193],{"type":433,"value":526},{"type":427,"tag":510,"props":3195,"children":3196},{"style":523},[3197],{"type":433,"value":2732},{"type":427,"tag":510,"props":3199,"children":3200},{"style":981},[3201],{"type":433,"value":729},{"type":427,"tag":510,"props":3203,"children":3205},{"class":512,"line":3204},31,[3206,3210,3214,3219,3223,3228,3233,3237,3241,3246],{"type":427,"tag":510,"props":3207,"children":3208},{"style":991},[3209],{"type":433,"value":1490},{"type":427,"tag":510,"props":3211,"children":3212},{"style":604},[3213],{"type":433,"value":867},{"type":427,"tag":510,"props":3215,"children":3216},{"style":610},[3217],{"type":433,"value":3218},"create(\"",{"type":427,"tag":510,"props":3220,"children":3221},{"style":604},[3222],{"type":433,"value":716},{"type":427,"tag":510,"props":3224,"children":3225},{"style":588},[3226],{"type":433,"value":3227}," +",{"type":427,"tag":510,"props":3229,"children":3230},{"style":523},[3231],{"type":433,"value":3232}," nodeName",{"type":427,"tag":510,"props":3234,"children":3235},{"style":588},[3236],{"type":433,"value":3227},{"type":427,"tag":510,"props":3238,"children":3239},{"style":604},[3240],{"type":433,"value":867},{"type":427,"tag":510,"props":3242,"children":3243},{"style":610},[3244],{"type":433,"value":3245},"\")",{"type":427,"tag":510,"props":3247,"children":3248},{"style":604},[3249],{"type":433,"value":877},{"type":427,"tag":510,"props":3251,"children":3253},{"class":512,"line":3252},32,[3254,3259,3263],{"type":427,"tag":510,"props":3255,"children":3256},{"style":517},[3257],{"type":433,"value":3258},"            }",{"type":427,"tag":510,"props":3260,"children":3261},{"style":981},[3262],{"type":433,"value":1661},{"type":427,"tag":510,"props":3264,"children":3265},{"style":588},[3266],{"type":433,"value":3267},"+\n",{"type":427,"tag":510,"props":3269,"children":3271},{"class":512,"line":3270},33,[3272,3276,3281,3285],{"type":427,"tag":510,"props":3273,"children":3274},{"style":604},[3275],{"type":433,"value":2264},{"type":427,"tag":510,"props":3277,"children":3278},{"style":610},[3279],{"type":433,"value":3280},")return clone",{"type":427,"tag":510,"props":3282,"children":3283},{"style":604},[3284],{"type":433,"value":716},{"type":427,"tag":510,"props":3286,"children":3287},{"style":588},[3288],{"type":433,"value":2278},{"type":427,"tag":510,"props":3290,"children":3292},{"class":512,"line":3291},34,[3293,3297,3301],{"type":427,"tag":510,"props":3294,"children":3295},{"style":604},[3296],{"type":433,"value":2949},{"type":427,"tag":510,"props":3298,"children":3299},{"style":610},[3300],{"type":433,"value":581},{"type":427,"tag":510,"props":3302,"children":3303},{"style":604},[3304],{"type":433,"value":877},{"type":427,"tag":510,"props":3306,"children":3308},{"class":512,"line":3307},35,[3309,3314,3318,3322,3326,3330,3334],{"type":427,"tag":510,"props":3310,"children":3311},{"style":981},[3312],{"type":433,"value":3313},"    )(",{"type":427,"tag":510,"props":3315,"children":3316},{"style":523},[3317],{"type":433,"value":2152},{"type":427,"tag":510,"props":3319,"children":3320},{"style":517},[3321],{"type":433,"value":547},{"type":427,"tag":510,"props":3323,"children":3324},{"style":523},[3325],{"type":433,"value":1865},{"type":427,"tag":510,"props":3327,"children":3328},{"style":517},[3329],{"type":433,"value":701},{"type":427,"tag":510,"props":3331,"children":3332},{"style":523},[3333],{"type":433,"value":2664},{"type":427,"tag":510,"props":3335,"children":3336},{"style":981},[3337],{"type":433,"value":729},{"type":427,"tag":510,"props":3339,"children":3341},{"class":512,"line":3340},36,[3342],{"type":427,"tag":510,"props":3343,"children":3344},{"style":517},[3345],{"type":433,"value":2042},{"type":427,"tag":441,"props":3347,"children":3348},{},[3349],{"type":433,"value":3350},"小插曲。我在浏览器测试时发现，若像上面这个函数一样，将 document.createDocumentFrament 先缓存，再调用，会发生报错：",{"type":427,"tag":499,"props":3352,"children":3354},{"className":501,"code":3353,"language":503,"meta":421,"style":421},"data = {}\ndata.createFrag = document.createDocumentFragment\ndata.frag = data.createFrag()\n\n// >>> Uncaught TypeError: Illegal invocation\n",[3355],{"type":427,"tag":506,"props":3356,"children":3357},{"__ignoreMap":421},[3358,3374,3406,3442,3449],{"type":427,"tag":510,"props":3359,"children":3360},{"class":512,"line":513},[3361,3366,3370],{"type":427,"tag":510,"props":3362,"children":3363},{"style":523},[3364],{"type":433,"value":3365},"data ",{"type":427,"tag":510,"props":3367,"children":3368},{"style":588},[3369],{"type":433,"value":692},{"type":427,"tag":510,"props":3371,"children":3372},{"style":517},[3373],{"type":433,"value":1774},{"type":427,"tag":510,"props":3375,"children":3376},{"class":512,"line":565},[3377,3381,3385,3390,3394,3398,3402],{"type":427,"tag":510,"props":3378,"children":3379},{"style":523},[3380],{"type":433,"value":1919},{"type":427,"tag":510,"props":3382,"children":3383},{"style":517},[3384],{"type":433,"value":701},{"type":427,"tag":510,"props":3386,"children":3387},{"style":523},[3388],{"type":433,"value":3389},"createFrag ",{"type":427,"tag":510,"props":3391,"children":3392},{"style":588},[3393],{"type":433,"value":692},{"type":427,"tag":510,"props":3395,"children":3396},{"style":523},[3397],{"type":433,"value":552},{"type":427,"tag":510,"props":3399,"children":3400},{"style":517},[3401],{"type":433,"value":701},{"type":427,"tag":510,"props":3403,"children":3404},{"style":523},[3405],{"type":433,"value":2648},{"type":427,"tag":510,"props":3407,"children":3408},{"class":512,"line":575},[3409,3413,3417,3422,3426,3430,3434,3438],{"type":427,"tag":510,"props":3410,"children":3411},{"style":523},[3412],{"type":433,"value":1919},{"type":427,"tag":510,"props":3414,"children":3415},{"style":517},[3416],{"type":433,"value":701},{"type":427,"tag":510,"props":3418,"children":3419},{"style":523},[3420],{"type":433,"value":3421},"frag ",{"type":427,"tag":510,"props":3423,"children":3424},{"style":588},[3425],{"type":433,"value":692},{"type":427,"tag":510,"props":3427,"children":3428},{"style":523},[3429],{"type":433,"value":1865},{"type":427,"tag":510,"props":3431,"children":3432},{"style":517},[3433],{"type":433,"value":701},{"type":427,"tag":510,"props":3435,"children":3436},{"style":704},[3437],{"type":433,"value":2631},{"type":427,"tag":510,"props":3439,"children":3440},{"style":523},[3441],{"type":433,"value":984},{"type":427,"tag":510,"props":3443,"children":3444},{"class":512,"line":949},[3445],{"type":427,"tag":510,"props":3446,"children":3447},{"emptyLinePlaceholder":420},[3448],{"type":433,"value":1328},{"type":427,"tag":510,"props":3450,"children":3451},{"class":512,"line":987},[3452],{"type":427,"tag":510,"props":3453,"children":3454},{"style":569},[3455],{"type":433,"value":3456},"// >>> Uncaught TypeError: Illegal invocation\n",{"type":427,"tag":441,"props":3458,"children":3459},{},[3460],{"type":433,"value":3461},"由于没有具体的报错原因，只能暂时猜测是 this 指向的锅。更改 this 指向后，再试了一次，这次没得问题。在 GitHub issues 中没有人提过这个问题，所以我只能猜测因为所有现代浏览器都支持使用原生 API 创建非标准元素，所以不会走 shivMethods 的逻辑。",{"type":427,"tag":499,"props":3463,"children":3465},{"className":501,"code":3464,"language":503,"meta":421,"style":421},"data = {}\ndata.createFrag = document.createDocumentFragment.bind(document)\ndata.frag = data.createFrag()\n\n// >>> #document-fragment\n",[3466],{"type":427,"tag":506,"props":3467,"children":3468},{"__ignoreMap":421},[3469,3484,3529,3564,3571],{"type":427,"tag":510,"props":3470,"children":3471},{"class":512,"line":513},[3472,3476,3480],{"type":427,"tag":510,"props":3473,"children":3474},{"style":523},[3475],{"type":433,"value":3365},{"type":427,"tag":510,"props":3477,"children":3478},{"style":588},[3479],{"type":433,"value":692},{"type":427,"tag":510,"props":3481,"children":3482},{"style":517},[3483],{"type":433,"value":1774},{"type":427,"tag":510,"props":3485,"children":3486},{"class":512,"line":565},[3487,3491,3495,3499,3503,3507,3511,3515,3519,3524],{"type":427,"tag":510,"props":3488,"children":3489},{"style":523},[3490],{"type":433,"value":1919},{"type":427,"tag":510,"props":3492,"children":3493},{"style":517},[3494],{"type":433,"value":701},{"type":427,"tag":510,"props":3496,"children":3497},{"style":523},[3498],{"type":433,"value":3389},{"type":427,"tag":510,"props":3500,"children":3501},{"style":588},[3502],{"type":433,"value":692},{"type":427,"tag":510,"props":3504,"children":3505},{"style":523},[3506],{"type":433,"value":552},{"type":427,"tag":510,"props":3508,"children":3509},{"style":517},[3510],{"type":433,"value":701},{"type":427,"tag":510,"props":3512,"children":3513},{"style":523},[3514],{"type":433,"value":978},{"type":427,"tag":510,"props":3516,"children":3517},{"style":517},[3518],{"type":433,"value":701},{"type":427,"tag":510,"props":3520,"children":3521},{"style":704},[3522],{"type":433,"value":3523},"bind",{"type":427,"tag":510,"props":3525,"children":3526},{"style":523},[3527],{"type":433,"value":3528},"(document)\n",{"type":427,"tag":510,"props":3530,"children":3531},{"class":512,"line":575},[3532,3536,3540,3544,3548,3552,3556,3560],{"type":427,"tag":510,"props":3533,"children":3534},{"style":523},[3535],{"type":433,"value":1919},{"type":427,"tag":510,"props":3537,"children":3538},{"style":517},[3539],{"type":433,"value":701},{"type":427,"tag":510,"props":3541,"children":3542},{"style":523},[3543],{"type":433,"value":3421},{"type":427,"tag":510,"props":3545,"children":3546},{"style":588},[3547],{"type":433,"value":692},{"type":427,"tag":510,"props":3549,"children":3550},{"style":523},[3551],{"type":433,"value":1865},{"type":427,"tag":510,"props":3553,"children":3554},{"style":517},[3555],{"type":433,"value":701},{"type":427,"tag":510,"props":3557,"children":3558},{"style":704},[3559],{"type":433,"value":2631},{"type":427,"tag":510,"props":3561,"children":3562},{"style":523},[3563],{"type":433,"value":984},{"type":427,"tag":510,"props":3565,"children":3566},{"class":512,"line":949},[3567],{"type":427,"tag":510,"props":3568,"children":3569},{"emptyLinePlaceholder":420},[3570],{"type":433,"value":1328},{"type":427,"tag":510,"props":3572,"children":3573},{"class":512,"line":987},[3574],{"type":427,"tag":510,"props":3575,"children":3576},{"style":569},[3577],{"type":433,"value":3578},"// >>> #document-fragment\n",{"type":427,"tag":441,"props":3580,"children":3581},{},[3582],{"type":433,"value":3583},"我们继续。以下代码是对 createElement 的仿制， 用于返回一个已经 shiv 过的元素。主要是用来兼容原生 document.createElement 不支持创建一个非规范的元素的情况。比方说，HTML5 标签中有 article 元素，document.createElement 不支持的话，就需要调用此仿制 API。",{"type":427,"tag":499,"props":3585,"children":3587},{"className":501,"code":3586,"language":503,"meta":421,"style":421},"function createElement(nodeName, ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName)\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument)\n    }\n    var node\n\n    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode()\n    } else \n    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n    // 则创建一个新元素并存到缓存中\n    if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode()\n    } else \n    // 如果是不能被克隆的对象，那就直接创建吧...\n    {\n        node = data.createElem(nodeName)\n    }\n\n    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n    // Avoid adding some elements to fragments in IE \u003C 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn \n        ? data.frag.appendChild(node) \n        : node\n  }\n",[3588],{"type":427,"tag":506,"props":3589,"children":3590},{"__ignoreMap":421},[3591,3631,3654,3686,3693,3720,3747,3754,3766,3773,3781,3821,3869,3885,3893,3901,3943,4023,4038,4046,4054,4089,4096,4103,4111,4119,4127,4135,4143,4151,4159,4167,4248,4290,4302],{"type":427,"tag":510,"props":3592,"children":3593},{"class":512,"line":513},[3594,3598,3602,3606,3610,3614,3618,3622,3626],{"type":427,"tag":510,"props":3595,"children":3596},{"style":529},[3597],{"type":433,"value":532},{"type":427,"tag":510,"props":3599,"children":3600},{"style":704},[3601],{"type":433,"value":2838},{"type":427,"tag":510,"props":3603,"children":3604},{"style":517},[3605],{"type":433,"value":526},{"type":427,"tag":510,"props":3607,"children":3608},{"style":539},[3609],{"type":433,"value":2732},{"type":427,"tag":510,"props":3611,"children":3612},{"style":517},[3613],{"type":433,"value":547},{"type":427,"tag":510,"props":3615,"children":3616},{"style":539},[3617],{"type":433,"value":2606},{"type":427,"tag":510,"props":3619,"children":3620},{"style":517},[3621],{"type":433,"value":547},{"type":427,"tag":510,"props":3623,"children":3624},{"style":539},[3625],{"type":433,"value":1865},{"type":427,"tag":510,"props":3627,"children":3628},{"style":517},[3629],{"type":433,"value":3630},"){\n",{"type":427,"tag":510,"props":3632,"children":3633},{"class":512,"line":565},[3634,3638,3642,3646,3650],{"type":427,"tag":510,"props":3635,"children":3636},{"style":991},[3637],{"type":433,"value":1905},{"type":427,"tag":510,"props":3639,"children":3640},{"style":981},[3641],{"type":433,"value":526},{"type":427,"tag":510,"props":3643,"children":3644},{"style":523},[3645],{"type":433,"value":2396},{"type":427,"tag":510,"props":3647,"children":3648},{"style":981},[3649],{"type":433,"value":557},{"type":427,"tag":510,"props":3651,"children":3652},{"style":517},[3653],{"type":433,"value":1666},{"type":427,"tag":510,"props":3655,"children":3656},{"class":512,"line":575},[3657,3662,3666,3670,3674,3678,3682],{"type":427,"tag":510,"props":3658,"children":3659},{"style":991},[3660],{"type":433,"value":3661},"        return",{"type":427,"tag":510,"props":3663,"children":3664},{"style":523},[3665],{"type":433,"value":2606},{"type":427,"tag":510,"props":3667,"children":3668},{"style":517},[3669],{"type":433,"value":701},{"type":427,"tag":510,"props":3671,"children":3672},{"style":704},[3673],{"type":433,"value":707},{"type":427,"tag":510,"props":3675,"children":3676},{"style":981},[3677],{"type":433,"value":526},{"type":427,"tag":510,"props":3679,"children":3680},{"style":523},[3681],{"type":433,"value":2732},{"type":427,"tag":510,"props":3683,"children":3684},{"style":981},[3685],{"type":433,"value":729},{"type":427,"tag":510,"props":3687,"children":3688},{"class":512,"line":949},[3689],{"type":427,"tag":510,"props":3690,"children":3691},{"style":517},[3692],{"type":433,"value":1718},{"type":427,"tag":510,"props":3694,"children":3695},{"class":512,"line":987},[3696,3700,3704,3708,3712,3716],{"type":427,"tag":510,"props":3697,"children":3698},{"style":991},[3699],{"type":433,"value":1905},{"type":427,"tag":510,"props":3701,"children":3702},{"style":981},[3703],{"type":433,"value":746},{"type":427,"tag":510,"props":3705,"children":3706},{"style":588},[3707],{"type":433,"value":1914},{"type":427,"tag":510,"props":3709,"children":3710},{"style":523},[3711],{"type":433,"value":1919},{"type":427,"tag":510,"props":3713,"children":3714},{"style":981},[3715],{"type":433,"value":1661},{"type":427,"tag":510,"props":3717,"children":3718},{"style":517},[3719],{"type":433,"value":1666},{"type":427,"tag":510,"props":3721,"children":3722},{"class":512,"line":1002},[3723,3727,3731,3735,3739,3743],{"type":427,"tag":510,"props":3724,"children":3725},{"style":523},[3726],{"type":433,"value":1935},{"type":427,"tag":510,"props":3728,"children":3729},{"style":588},[3730],{"type":433,"value":965},{"type":427,"tag":510,"props":3732,"children":3733},{"style":704},[3734],{"type":433,"value":1836},{"type":427,"tag":510,"props":3736,"children":3737},{"style":981},[3738],{"type":433,"value":526},{"type":427,"tag":510,"props":3740,"children":3741},{"style":523},[3742],{"type":433,"value":1845},{"type":427,"tag":510,"props":3744,"children":3745},{"style":981},[3746],{"type":433,"value":729},{"type":427,"tag":510,"props":3748,"children":3749},{"class":512,"line":1045},[3750],{"type":427,"tag":510,"props":3751,"children":3752},{"style":517},[3753],{"type":433,"value":1718},{"type":427,"tag":510,"props":3755,"children":3756},{"class":512,"line":1085},[3757,3761],{"type":427,"tag":510,"props":3758,"children":3759},{"style":529},[3760],{"type":433,"value":955},{"type":427,"tag":510,"props":3762,"children":3763},{"style":523},[3764],{"type":433,"value":3765}," node\n",{"type":427,"tag":510,"props":3767,"children":3768},{"class":512,"line":1121},[3769],{"type":427,"tag":510,"props":3770,"children":3771},{"emptyLinePlaceholder":420},[3772],{"type":433,"value":1328},{"type":427,"tag":510,"props":3774,"children":3775},{"class":512,"line":1130},[3776],{"type":427,"tag":510,"props":3777,"children":3778},{"style":569},[3779],{"type":433,"value":3780},"    // 如果缓存中有，则从缓存中的这个元素克隆出一个新元素\n",{"type":427,"tag":510,"props":3782,"children":3783},{"class":512,"line":1399},[3784,3788,3792,3796,3800,3804,3808,3812,3817],{"type":427,"tag":510,"props":3785,"children":3786},{"style":991},[3787],{"type":433,"value":1905},{"type":427,"tag":510,"props":3789,"children":3790},{"style":981},[3791],{"type":433,"value":746},{"type":427,"tag":510,"props":3793,"children":3794},{"style":523},[3795],{"type":433,"value":1919},{"type":427,"tag":510,"props":3797,"children":3798},{"style":517},[3799],{"type":433,"value":701},{"type":427,"tag":510,"props":3801,"children":3802},{"style":523},[3803],{"type":433,"value":2550},{"type":427,"tag":510,"props":3805,"children":3806},{"style":981},[3807],{"type":433,"value":1879},{"type":427,"tag":510,"props":3809,"children":3810},{"style":523},[3811],{"type":433,"value":2732},{"type":427,"tag":510,"props":3813,"children":3814},{"style":981},[3815],{"type":433,"value":3816},"]) ",{"type":427,"tag":510,"props":3818,"children":3819},{"style":517},[3820],{"type":433,"value":1666},{"type":427,"tag":510,"props":3822,"children":3823},{"class":512,"line":1408},[3824,3829,3833,3837,3841,3845,3849,3853,3857,3861,3865],{"type":427,"tag":510,"props":3825,"children":3826},{"style":523},[3827],{"type":433,"value":3828},"        node",{"type":427,"tag":510,"props":3830,"children":3831},{"style":588},[3832],{"type":433,"value":965},{"type":427,"tag":510,"props":3834,"children":3835},{"style":523},[3836],{"type":433,"value":1865},{"type":427,"tag":510,"props":3838,"children":3839},{"style":517},[3840],{"type":433,"value":701},{"type":427,"tag":510,"props":3842,"children":3843},{"style":523},[3844],{"type":433,"value":2550},{"type":427,"tag":510,"props":3846,"children":3847},{"style":981},[3848],{"type":433,"value":1879},{"type":427,"tag":510,"props":3850,"children":3851},{"style":523},[3852],{"type":433,"value":2732},{"type":427,"tag":510,"props":3854,"children":3855},{"style":981},[3856],{"type":433,"value":3097},{"type":427,"tag":510,"props":3858,"children":3859},{"style":517},[3860],{"type":433,"value":701},{"type":427,"tag":510,"props":3862,"children":3863},{"style":704},[3864],{"type":433,"value":1021},{"type":427,"tag":510,"props":3866,"children":3867},{"style":981},[3868],{"type":433,"value":984},{"type":427,"tag":510,"props":3870,"children":3871},{"class":512,"line":1451},[3872,3876,3881],{"type":427,"tag":510,"props":3873,"children":3874},{"style":517},[3875],{"type":433,"value":1642},{"type":427,"tag":510,"props":3877,"children":3878},{"style":991},[3879],{"type":433,"value":3880}," else",{"type":427,"tag":510,"props":3882,"children":3883},{"style":981},[3884],{"type":433,"value":2967},{"type":427,"tag":510,"props":3886,"children":3887},{"class":512,"line":1484},[3888],{"type":427,"tag":510,"props":3889,"children":3890},{"style":569},[3891],{"type":433,"value":3892},"    // 如果缓存中没有，同时此元素可以被克隆（IE：不是所有元素都能被拷贝），\n",{"type":427,"tag":510,"props":3894,"children":3895},{"class":512,"line":1497},[3896],{"type":427,"tag":510,"props":3897,"children":3898},{"style":569},[3899],{"type":433,"value":3900},"    // 则创建一个新元素并存到缓存中\n",{"type":427,"tag":510,"props":3902,"children":3903},{"class":512,"line":1538},[3904,3908,3912,3917,3921,3926,3930,3934,3939],{"type":427,"tag":510,"props":3905,"children":3906},{"style":991},[3907],{"type":433,"value":1905},{"type":427,"tag":510,"props":3909,"children":3910},{"style":981},[3911],{"type":433,"value":746},{"type":427,"tag":510,"props":3913,"children":3914},{"style":523},[3915],{"type":433,"value":3916},"saveClones",{"type":427,"tag":510,"props":3918,"children":3919},{"style":517},[3920],{"type":433,"value":701},{"type":427,"tag":510,"props":3922,"children":3923},{"style":704},[3924],{"type":433,"value":3925},"test",{"type":427,"tag":510,"props":3927,"children":3928},{"style":981},[3929],{"type":433,"value":526},{"type":427,"tag":510,"props":3931,"children":3932},{"style":523},[3933],{"type":433,"value":2732},{"type":427,"tag":510,"props":3935,"children":3936},{"style":981},[3937],{"type":433,"value":3938},")) ",{"type":427,"tag":510,"props":3940,"children":3941},{"style":517},[3942],{"type":433,"value":1666},{"type":427,"tag":510,"props":3944,"children":3945},{"class":512,"line":1578},[3946,3950,3954,3958,3962,3966,3970,3974,3978,3982,3986,3990,3994,3998,4002,4006,4011,4015,4019],{"type":427,"tag":510,"props":3947,"children":3948},{"style":523},[3949],{"type":433,"value":3828},{"type":427,"tag":510,"props":3951,"children":3952},{"style":588},[3953],{"type":433,"value":965},{"type":427,"tag":510,"props":3955,"children":3956},{"style":981},[3957],{"type":433,"value":746},{"type":427,"tag":510,"props":3959,"children":3960},{"style":523},[3961],{"type":433,"value":1919},{"type":427,"tag":510,"props":3963,"children":3964},{"style":517},[3965],{"type":433,"value":701},{"type":427,"tag":510,"props":3967,"children":3968},{"style":523},[3969],{"type":433,"value":2550},{"type":427,"tag":510,"props":3971,"children":3972},{"style":981},[3973],{"type":433,"value":1879},{"type":427,"tag":510,"props":3975,"children":3976},{"style":523},[3977],{"type":433,"value":2732},{"type":427,"tag":510,"props":3979,"children":3980},{"style":981},[3981],{"type":433,"value":1977},{"type":427,"tag":510,"props":3983,"children":3984},{"style":588},[3985],{"type":433,"value":692},{"type":427,"tag":510,"props":3987,"children":3988},{"style":523},[3989],{"type":433,"value":1865},{"type":427,"tag":510,"props":3991,"children":3992},{"style":517},[3993],{"type":433,"value":701},{"type":427,"tag":510,"props":3995,"children":3996},{"style":704},[3997],{"type":433,"value":2597},{"type":427,"tag":510,"props":3999,"children":4000},{"style":981},[4001],{"type":433,"value":526},{"type":427,"tag":510,"props":4003,"children":4004},{"style":523},[4005],{"type":433,"value":2732},{"type":427,"tag":510,"props":4007,"children":4008},{"style":981},[4009],{"type":433,"value":4010},"))",{"type":427,"tag":510,"props":4012,"children":4013},{"style":517},[4014],{"type":433,"value":701},{"type":427,"tag":510,"props":4016,"children":4017},{"style":704},[4018],{"type":433,"value":1021},{"type":427,"tag":510,"props":4020,"children":4021},{"style":981},[4022],{"type":433,"value":984},{"type":427,"tag":510,"props":4024,"children":4025},{"class":512,"line":1614},[4026,4030,4034],{"type":427,"tag":510,"props":4027,"children":4028},{"style":517},[4029],{"type":433,"value":1642},{"type":427,"tag":510,"props":4031,"children":4032},{"style":991},[4033],{"type":433,"value":3880},{"type":427,"tag":510,"props":4035,"children":4036},{"style":981},[4037],{"type":433,"value":2967},{"type":427,"tag":510,"props":4039,"children":4040},{"class":512,"line":1623},[4041],{"type":427,"tag":510,"props":4042,"children":4043},{"style":569},[4044],{"type":433,"value":4045},"    // 如果是不能被克隆的对象，那就直接创建吧...\n",{"type":427,"tag":510,"props":4047,"children":4048},{"class":512,"line":1636},[4049],{"type":427,"tag":510,"props":4050,"children":4051},{"style":517},[4052],{"type":433,"value":4053},"    {\n",{"type":427,"tag":510,"props":4055,"children":4056},{"class":512,"line":1669},[4057,4061,4065,4069,4073,4077,4081,4085],{"type":427,"tag":510,"props":4058,"children":4059},{"style":523},[4060],{"type":433,"value":3828},{"type":427,"tag":510,"props":4062,"children":4063},{"style":588},[4064],{"type":433,"value":965},{"type":427,"tag":510,"props":4066,"children":4067},{"style":523},[4068],{"type":433,"value":1865},{"type":427,"tag":510,"props":4070,"children":4071},{"style":517},[4072],{"type":433,"value":701},{"type":427,"tag":510,"props":4074,"children":4075},{"style":704},[4076],{"type":433,"value":2597},{"type":427,"tag":510,"props":4078,"children":4079},{"style":981},[4080],{"type":433,"value":526},{"type":427,"tag":510,"props":4082,"children":4083},{"style":523},[4084],{"type":433,"value":2732},{"type":427,"tag":510,"props":4086,"children":4087},{"style":981},[4088],{"type":433,"value":729},{"type":427,"tag":510,"props":4090,"children":4091},{"class":512,"line":1678},[4092],{"type":427,"tag":510,"props":4093,"children":4094},{"style":517},[4095],{"type":433,"value":1718},{"type":427,"tag":510,"props":4097,"children":4098},{"class":512,"line":1696},[4099],{"type":427,"tag":510,"props":4100,"children":4101},{"emptyLinePlaceholder":420},[4102],{"type":433,"value":1328},{"type":427,"tag":510,"props":4104,"children":4105},{"class":512,"line":1712},[4106],{"type":427,"tag":510,"props":4107,"children":4108},{"style":569},[4109],{"type":433,"value":4110},"    // data.frag 对象缓存了新元素。同时这里做了一些兼容性处理。\n",{"type":427,"tag":510,"props":4112,"children":4113},{"class":512,"line":1721},[4114],{"type":427,"tag":510,"props":4115,"children":4116},{"style":569},[4117],{"type":433,"value":4118},"    // Avoid adding some elements to fragments in IE \u003C 9 because\n",{"type":427,"tag":510,"props":4120,"children":4121},{"class":512,"line":3010},[4122],{"type":427,"tag":510,"props":4123,"children":4124},{"style":569},[4125],{"type":433,"value":4126},"    // * Attributes like `name` or `type` cannot be set/changed once an element\n",{"type":427,"tag":510,"props":4128,"children":4129},{"class":512,"line":3031},[4130],{"type":427,"tag":510,"props":4131,"children":4132},{"style":569},[4133],{"type":433,"value":4134},"    //   is inserted into a document/fragment\n",{"type":427,"tag":510,"props":4136,"children":4137},{"class":512,"line":3040},[4138],{"type":427,"tag":510,"props":4139,"children":4140},{"style":569},[4141],{"type":433,"value":4142},"    // * Link elements with `src` attributes that are inaccessible, as with\n",{"type":427,"tag":510,"props":4144,"children":4145},{"class":512,"line":3139},[4146],{"type":427,"tag":510,"props":4147,"children":4148},{"style":569},[4149],{"type":433,"value":4150},"    //   a 403 response, will cause the tab/window to crash\n",{"type":427,"tag":510,"props":4152,"children":4153},{"class":512,"line":3168},[4154],{"type":427,"tag":510,"props":4155,"children":4156},{"style":569},[4157],{"type":433,"value":4158},"    // * Script elements appended to fragments will execute when their `src`\n",{"type":427,"tag":510,"props":4160,"children":4161},{"class":512,"line":3204},[4162],{"type":427,"tag":510,"props":4163,"children":4164},{"style":569},[4165],{"type":433,"value":4166},"    //   or `text` property is set\n",{"type":427,"tag":510,"props":4168,"children":4169},{"class":512,"line":3252},[4170,4174,4179,4183,4188,4192,4196,4201,4205,4209,4213,4217,4221,4226,4230,4235,4239,4244],{"type":427,"tag":510,"props":4171,"children":4172},{"style":991},[4173],{"type":433,"value":994},{"type":427,"tag":510,"props":4175,"children":4176},{"style":523},[4177],{"type":433,"value":4178}," node",{"type":427,"tag":510,"props":4180,"children":4181},{"style":517},[4182],{"type":433,"value":701},{"type":427,"tag":510,"props":4184,"children":4185},{"style":523},[4186],{"type":433,"value":4187},"canHaveChildren",{"type":427,"tag":510,"props":4189,"children":4190},{"style":588},[4191],{"type":433,"value":2166},{"type":427,"tag":510,"props":4193,"children":4194},{"style":588},[4195],{"type":433,"value":2171},{"type":427,"tag":510,"props":4197,"children":4198},{"style":523},[4199],{"type":433,"value":4200},"reSkip",{"type":427,"tag":510,"props":4202,"children":4203},{"style":517},[4204],{"type":433,"value":701},{"type":427,"tag":510,"props":4206,"children":4207},{"style":704},[4208],{"type":433,"value":3925},{"type":427,"tag":510,"props":4210,"children":4211},{"style":981},[4212],{"type":433,"value":526},{"type":427,"tag":510,"props":4214,"children":4215},{"style":523},[4216],{"type":433,"value":2732},{"type":427,"tag":510,"props":4218,"children":4219},{"style":981},[4220],{"type":433,"value":1661},{"type":427,"tag":510,"props":4222,"children":4223},{"style":588},[4224],{"type":433,"value":4225},"&&",{"type":427,"tag":510,"props":4227,"children":4228},{"style":588},[4229],{"type":433,"value":2171},{"type":427,"tag":510,"props":4231,"children":4232},{"style":523},[4233],{"type":433,"value":4234},"node",{"type":427,"tag":510,"props":4236,"children":4237},{"style":517},[4238],{"type":433,"value":701},{"type":427,"tag":510,"props":4240,"children":4241},{"style":523},[4242],{"type":433,"value":4243},"tagUrn",{"type":427,"tag":510,"props":4245,"children":4246},{"style":981},[4247],{"type":433,"value":2967},{"type":427,"tag":510,"props":4249,"children":4250},{"class":512,"line":3270},[4251,4256,4260,4264,4268,4272,4277,4281,4285],{"type":427,"tag":510,"props":4252,"children":4253},{"style":588},[4254],{"type":433,"value":4255},"        ?",{"type":427,"tag":510,"props":4257,"children":4258},{"style":523},[4259],{"type":433,"value":1865},{"type":427,"tag":510,"props":4261,"children":4262},{"style":517},[4263],{"type":433,"value":701},{"type":427,"tag":510,"props":4265,"children":4266},{"style":523},[4267],{"type":433,"value":2664},{"type":427,"tag":510,"props":4269,"children":4270},{"style":517},[4271],{"type":433,"value":701},{"type":427,"tag":510,"props":4273,"children":4274},{"style":704},[4275],{"type":433,"value":4276},"appendChild",{"type":427,"tag":510,"props":4278,"children":4279},{"style":981},[4280],{"type":433,"value":526},{"type":427,"tag":510,"props":4282,"children":4283},{"style":523},[4284],{"type":433,"value":4234},{"type":427,"tag":510,"props":4286,"children":4287},{"style":981},[4288],{"type":433,"value":4289},") \n",{"type":427,"tag":510,"props":4291,"children":4292},{"class":512,"line":3291},[4293,4298],{"type":427,"tag":510,"props":4294,"children":4295},{"style":588},[4296],{"type":433,"value":4297},"        :",{"type":427,"tag":510,"props":4299,"children":4300},{"style":523},[4301],{"type":433,"value":3765},{"type":427,"tag":510,"props":4303,"children":4304},{"class":512,"line":3307},[4305],{"type":427,"tag":510,"props":4306,"children":4307},{"style":517},[4308],{"type":433,"value":2042},{"type":427,"tag":441,"props":4310,"children":4311},{},[4312],{"type":433,"value":4313},"和 createElement 类似，createDocumentFragment 也需要仿制。",{"type":427,"tag":499,"props":4315,"children":4317},{"className":501,"code":4316,"language":503,"meta":421,"style":421},"function createDocumentFragment(ownerDocument, data){\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment()\n    }\n    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n    data = data || getExpandoData(ownerDocument)\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length\n    for(;i\u003Cl;i++){\n        // 返回的 documentFragment 包含了所有 shived 元素\n        clone.createElement(elems[i])\n    }\n    return clone\n  }\n",[4318],{"type":427,"tag":506,"props":4319,"children":4320},{"__ignoreMap":421},[4321,4353,4376,4399,4406,4414,4450,4494,4515,4540,4566,4618,4626,4664,4671,4683],{"type":427,"tag":510,"props":4322,"children":4323},{"class":512,"line":513},[4324,4328,4333,4337,4341,4345,4349],{"type":427,"tag":510,"props":4325,"children":4326},{"style":529},[4327],{"type":433,"value":532},{"type":427,"tag":510,"props":4329,"children":4330},{"style":704},[4331],{"type":433,"value":4332}," createDocumentFragment",{"type":427,"tag":510,"props":4334,"children":4335},{"style":517},[4336],{"type":433,"value":526},{"type":427,"tag":510,"props":4338,"children":4339},{"style":539},[4340],{"type":433,"value":1845},{"type":427,"tag":510,"props":4342,"children":4343},{"style":517},[4344],{"type":433,"value":547},{"type":427,"tag":510,"props":4346,"children":4347},{"style":539},[4348],{"type":433,"value":1865},{"type":427,"tag":510,"props":4350,"children":4351},{"style":517},[4352],{"type":433,"value":3630},{"type":427,"tag":510,"props":4354,"children":4355},{"class":512,"line":565},[4356,4360,4364,4368,4372],{"type":427,"tag":510,"props":4357,"children":4358},{"style":991},[4359],{"type":433,"value":1905},{"type":427,"tag":510,"props":4361,"children":4362},{"style":981},[4363],{"type":433,"value":526},{"type":427,"tag":510,"props":4365,"children":4366},{"style":523},[4367],{"type":433,"value":2396},{"type":427,"tag":510,"props":4369,"children":4370},{"style":981},[4371],{"type":433,"value":557},{"type":427,"tag":510,"props":4373,"children":4374},{"style":517},[4375],{"type":433,"value":1666},{"type":427,"tag":510,"props":4377,"children":4378},{"class":512,"line":575},[4379,4383,4387,4391,4395],{"type":427,"tag":510,"props":4380,"children":4381},{"style":991},[4382],{"type":433,"value":3661},{"type":427,"tag":510,"props":4384,"children":4385},{"style":523},[4386],{"type":433,"value":2606},{"type":427,"tag":510,"props":4388,"children":4389},{"style":517},[4390],{"type":433,"value":701},{"type":427,"tag":510,"props":4392,"children":4393},{"style":704},[4394],{"type":433,"value":978},{"type":427,"tag":510,"props":4396,"children":4397},{"style":981},[4398],{"type":433,"value":984},{"type":427,"tag":510,"props":4400,"children":4401},{"class":512,"line":949},[4402],{"type":427,"tag":510,"props":4403,"children":4404},{"style":517},[4405],{"type":433,"value":1718},{"type":427,"tag":510,"props":4407,"children":4408},{"class":512,"line":987},[4409],{"type":427,"tag":510,"props":4410,"children":4411},{"style":569},[4412],{"type":433,"value":4413},"    // 吐槽下，这个赋值语句风格和 createElement 函数里的不一致...\n",{"type":427,"tag":510,"props":4415,"children":4416},{"class":512,"line":1002},[4417,4422,4426,4430,4434,4438,4442,4446],{"type":427,"tag":510,"props":4418,"children":4419},{"style":523},[4420],{"type":433,"value":4421},"    data",{"type":427,"tag":510,"props":4423,"children":4424},{"style":588},[4425],{"type":433,"value":965},{"type":427,"tag":510,"props":4427,"children":4428},{"style":523},[4429],{"type":433,"value":1865},{"type":427,"tag":510,"props":4431,"children":4432},{"style":588},[4433],{"type":433,"value":929},{"type":427,"tag":510,"props":4435,"children":4436},{"style":704},[4437],{"type":433,"value":1836},{"type":427,"tag":510,"props":4439,"children":4440},{"style":981},[4441],{"type":433,"value":526},{"type":427,"tag":510,"props":4443,"children":4444},{"style":523},[4445],{"type":433,"value":1845},{"type":427,"tag":510,"props":4447,"children":4448},{"style":981},[4449],{"type":433,"value":729},{"type":427,"tag":510,"props":4451,"children":4452},{"class":512,"line":1045},[4453,4457,4462,4466,4470,4474,4478,4482,4486,4490],{"type":427,"tag":510,"props":4454,"children":4455},{"style":529},[4456],{"type":433,"value":955},{"type":427,"tag":510,"props":4458,"children":4459},{"style":523},[4460],{"type":433,"value":4461}," clone",{"type":427,"tag":510,"props":4463,"children":4464},{"style":588},[4465],{"type":433,"value":965},{"type":427,"tag":510,"props":4467,"children":4468},{"style":523},[4469],{"type":433,"value":1865},{"type":427,"tag":510,"props":4471,"children":4472},{"style":517},[4473],{"type":433,"value":701},{"type":427,"tag":510,"props":4475,"children":4476},{"style":523},[4477],{"type":433,"value":2664},{"type":427,"tag":510,"props":4479,"children":4480},{"style":517},[4481],{"type":433,"value":701},{"type":427,"tag":510,"props":4483,"children":4484},{"style":704},[4485],{"type":433,"value":1021},{"type":427,"tag":510,"props":4487,"children":4488},{"style":981},[4489],{"type":433,"value":942},{"type":427,"tag":510,"props":4491,"children":4492},{"style":517},[4493],{"type":433,"value":2248},{"type":427,"tag":510,"props":4495,"children":4496},{"class":512,"line":1085},[4497,4502,4506,4511],{"type":427,"tag":510,"props":4498,"children":4499},{"style":523},[4500],{"type":433,"value":4501},"        i",{"type":427,"tag":510,"props":4503,"children":4504},{"style":588},[4505],{"type":433,"value":965},{"type":427,"tag":510,"props":4507,"children":4508},{"style":921},[4509],{"type":433,"value":4510}," 0",{"type":427,"tag":510,"props":4512,"children":4513},{"style":517},[4514],{"type":433,"value":2248},{"type":427,"tag":510,"props":4516,"children":4517},{"class":512,"line":1121},[4518,4523,4527,4532,4536],{"type":427,"tag":510,"props":4519,"children":4520},{"style":523},[4521],{"type":433,"value":4522},"        elems",{"type":427,"tag":510,"props":4524,"children":4525},{"style":588},[4526],{"type":433,"value":965},{"type":427,"tag":510,"props":4528,"children":4529},{"style":704},[4530],{"type":433,"value":4531}," getElements",{"type":427,"tag":510,"props":4533,"children":4534},{"style":981},[4535],{"type":433,"value":942},{"type":427,"tag":510,"props":4537,"children":4538},{"style":517},[4539],{"type":433,"value":2248},{"type":427,"tag":510,"props":4541,"children":4542},{"class":512,"line":1130},[4543,4548,4552,4557,4561],{"type":427,"tag":510,"props":4544,"children":4545},{"style":523},[4546],{"type":433,"value":4547},"        l",{"type":427,"tag":510,"props":4549,"children":4550},{"style":588},[4551],{"type":433,"value":965},{"type":427,"tag":510,"props":4553,"children":4554},{"style":523},[4555],{"type":433,"value":4556}," elems",{"type":427,"tag":510,"props":4558,"children":4559},{"style":517},[4560],{"type":433,"value":701},{"type":427,"tag":510,"props":4562,"children":4563},{"style":910},[4564],{"type":433,"value":4565},"length\n",{"type":427,"tag":510,"props":4567,"children":4568},{"class":512,"line":1399},[4569,4574,4578,4582,4587,4592,4597,4601,4605,4610,4614],{"type":427,"tag":510,"props":4570,"children":4571},{"style":991},[4572],{"type":433,"value":4573},"    for",{"type":427,"tag":510,"props":4575,"children":4576},{"style":981},[4577],{"type":433,"value":526},{"type":427,"tag":510,"props":4579,"children":4580},{"style":517},[4581],{"type":433,"value":520},{"type":427,"tag":510,"props":4583,"children":4584},{"style":523},[4585],{"type":433,"value":4586},"i",{"type":427,"tag":510,"props":4588,"children":4589},{"style":588},[4590],{"type":433,"value":4591},"\u003C",{"type":427,"tag":510,"props":4593,"children":4594},{"style":523},[4595],{"type":433,"value":4596},"l",{"type":427,"tag":510,"props":4598,"children":4599},{"style":517},[4600],{"type":433,"value":520},{"type":427,"tag":510,"props":4602,"children":4603},{"style":523},[4604],{"type":433,"value":4586},{"type":427,"tag":510,"props":4606,"children":4607},{"style":588},[4608],{"type":433,"value":4609},"++",{"type":427,"tag":510,"props":4611,"children":4612},{"style":981},[4613],{"type":433,"value":557},{"type":427,"tag":510,"props":4615,"children":4616},{"style":517},[4617],{"type":433,"value":1666},{"type":427,"tag":510,"props":4619,"children":4620},{"class":512,"line":1408},[4621],{"type":427,"tag":510,"props":4622,"children":4623},{"style":569},[4624],{"type":433,"value":4625},"        // 返回的 documentFragment 包含了所有 shived 元素\n",{"type":427,"tag":510,"props":4627,"children":4628},{"class":512,"line":1451},[4629,4634,4638,4642,4646,4651,4655,4659],{"type":427,"tag":510,"props":4630,"children":4631},{"style":523},[4632],{"type":433,"value":4633},"        clone",{"type":427,"tag":510,"props":4635,"children":4636},{"style":517},[4637],{"type":433,"value":701},{"type":427,"tag":510,"props":4639,"children":4640},{"style":704},[4641],{"type":433,"value":707},{"type":427,"tag":510,"props":4643,"children":4644},{"style":981},[4645],{"type":433,"value":526},{"type":427,"tag":510,"props":4647,"children":4648},{"style":523},[4649],{"type":433,"value":4650},"elems",{"type":427,"tag":510,"props":4652,"children":4653},{"style":981},[4654],{"type":433,"value":1879},{"type":427,"tag":510,"props":4656,"children":4657},{"style":523},[4658],{"type":433,"value":4586},{"type":427,"tag":510,"props":4660,"children":4661},{"style":981},[4662],{"type":433,"value":4663},"])\n",{"type":427,"tag":510,"props":4665,"children":4666},{"class":512,"line":1484},[4667],{"type":427,"tag":510,"props":4668,"children":4669},{"style":517},[4670],{"type":433,"value":1718},{"type":427,"tag":510,"props":4672,"children":4673},{"class":512,"line":1497},[4674,4678],{"type":427,"tag":510,"props":4675,"children":4676},{"style":991},[4677],{"type":433,"value":994},{"type":427,"tag":510,"props":4679,"children":4680},{"style":523},[4681],{"type":433,"value":4682}," clone\n",{"type":427,"tag":510,"props":4684,"children":4685},{"class":512,"line":1538},[4686],{"type":427,"tag":510,"props":4687,"children":4688},{"style":517},[4689],{"type":433,"value":2042},{"type":427,"tag":441,"props":4691,"children":4692},{},[4693],{"type":433,"value":4694},"可以发现，需要 shiv 的元素都存在了 getElements 这个方法中，我们来看看具体实现。",{"type":427,"tag":499,"props":4696,"children":4698},{"className":501,"code":4697,"language":503,"meta":421,"style":421},"// getElements 返回 html5.elments 的数组形式\n// 看来 getElements 也只是一个类似 getter 的存在\nfunction getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\n\n// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\nvar html5 = {\n    // options 是外部调用 html5shiv 的接口参数\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video'\n}\n",[4699],{"type":427,"tag":506,"props":4700,"children":4701},{"__ignoreMap":421},[4702,4710,4718,4737,4771,4849,4857,4864,4872,4892,4900,4953],{"type":427,"tag":510,"props":4703,"children":4704},{"class":512,"line":513},[4705],{"type":427,"tag":510,"props":4706,"children":4707},{"style":569},[4708],{"type":433,"value":4709},"// getElements 返回 html5.elments 的数组形式\n",{"type":427,"tag":510,"props":4711,"children":4712},{"class":512,"line":565},[4713],{"type":427,"tag":510,"props":4714,"children":4715},{"style":569},[4716],{"type":433,"value":4717},"// 看来 getElements 也只是一个类似 getter 的存在\n",{"type":427,"tag":510,"props":4719,"children":4720},{"class":512,"line":575},[4721,4725,4729,4733],{"type":427,"tag":510,"props":4722,"children":4723},{"style":529},[4724],{"type":433,"value":532},{"type":427,"tag":510,"props":4726,"children":4727},{"style":704},[4728],{"type":433,"value":4531},{"type":427,"tag":510,"props":4730,"children":4731},{"style":517},[4732],{"type":433,"value":942},{"type":427,"tag":510,"props":4734,"children":4735},{"style":517},[4736],{"type":433,"value":562},{"type":427,"tag":510,"props":4738,"children":4739},{"class":512,"line":949},[4740,4744,4749,4753,4758,4762,4767],{"type":427,"tag":510,"props":4741,"children":4742},{"style":529},[4743],{"type":433,"value":955},{"type":427,"tag":510,"props":4745,"children":4746},{"style":523},[4747],{"type":433,"value":4748}," elements",{"type":427,"tag":510,"props":4750,"children":4751},{"style":588},[4752],{"type":433,"value":965},{"type":427,"tag":510,"props":4754,"children":4755},{"style":523},[4756],{"type":433,"value":4757}," html5",{"type":427,"tag":510,"props":4759,"children":4760},{"style":517},[4761],{"type":433,"value":701},{"type":427,"tag":510,"props":4763,"children":4764},{"style":523},[4765],{"type":433,"value":4766},"elements",{"type":427,"tag":510,"props":4768,"children":4769},{"style":517},[4770],{"type":433,"value":652},{"type":427,"tag":510,"props":4772,"children":4773},{"class":512,"line":987},[4774,4778,4783,4787,4791,4795,4800,4804,4808,4812,4816,4821,4825,4829,4833,4837,4841,4845],{"type":427,"tag":510,"props":4775,"children":4776},{"style":991},[4777],{"type":433,"value":994},{"type":427,"tag":510,"props":4779,"children":4780},{"style":588},[4781],{"type":433,"value":4782}," typeof",{"type":427,"tag":510,"props":4784,"children":4785},{"style":523},[4786],{"type":433,"value":4748},{"type":427,"tag":510,"props":4788,"children":4789},{"style":588},[4790],{"type":433,"value":918},{"type":427,"tag":510,"props":4792,"children":4793},{"style":604},[4794],{"type":433,"value":867},{"type":427,"tag":510,"props":4796,"children":4797},{"style":610},[4798],{"type":433,"value":4799},"string",{"type":427,"tag":510,"props":4801,"children":4802},{"style":604},[4803],{"type":433,"value":716},{"type":427,"tag":510,"props":4805,"children":4806},{"style":588},[4807],{"type":433,"value":623},{"type":427,"tag":510,"props":4809,"children":4810},{"style":523},[4811],{"type":433,"value":4748},{"type":427,"tag":510,"props":4813,"children":4814},{"style":517},[4815],{"type":433,"value":701},{"type":427,"tag":510,"props":4817,"children":4818},{"style":704},[4819],{"type":433,"value":4820},"split",{"type":427,"tag":510,"props":4822,"children":4823},{"style":981},[4824],{"type":433,"value":526},{"type":427,"tag":510,"props":4826,"children":4827},{"style":604},[4828],{"type":433,"value":716},{"type":427,"tag":510,"props":4830,"children":4831},{"style":604},[4832],{"type":433,"value":867},{"type":427,"tag":510,"props":4834,"children":4835},{"style":981},[4836],{"type":433,"value":1661},{"type":427,"tag":510,"props":4838,"children":4839},{"style":588},[4840],{"type":433,"value":632},{"type":427,"tag":510,"props":4842,"children":4843},{"style":523},[4844],{"type":433,"value":4748},{"type":427,"tag":510,"props":4846,"children":4847},{"style":517},[4848],{"type":433,"value":652},{"type":427,"tag":510,"props":4850,"children":4851},{"class":512,"line":1002},[4852],{"type":427,"tag":510,"props":4853,"children":4854},{"style":517},[4855],{"type":433,"value":4856},"}\n",{"type":427,"tag":510,"props":4858,"children":4859},{"class":512,"line":1045},[4860],{"type":427,"tag":510,"props":4861,"children":4862},{"emptyLinePlaceholder":420},[4863],{"type":433,"value":1328},{"type":427,"tag":510,"props":4865,"children":4866},{"class":512,"line":1085},[4867],{"type":427,"tag":510,"props":4868,"children":4869},{"style":569},[4870],{"type":433,"value":4871},"// 继续追溯可以找到挂载在全局 config html5 对象中的 elements 的值：\n",{"type":427,"tag":510,"props":4873,"children":4874},{"class":512,"line":1121},[4875,4879,4884,4888],{"type":427,"tag":510,"props":4876,"children":4877},{"style":529},[4878],{"type":433,"value":1760},{"type":427,"tag":510,"props":4880,"children":4881},{"style":523},[4882],{"type":433,"value":4883}," html5 ",{"type":427,"tag":510,"props":4885,"children":4886},{"style":588},[4887],{"type":433,"value":692},{"type":427,"tag":510,"props":4889,"children":4890},{"style":517},[4891],{"type":433,"value":562},{"type":427,"tag":510,"props":4893,"children":4894},{"class":512,"line":1130},[4895],{"type":427,"tag":510,"props":4896,"children":4897},{"style":569},[4898],{"type":433,"value":4899},"    // options 是外部调用 html5shiv 的接口参数\n",{"type":427,"tag":510,"props":4901,"children":4902},{"class":512,"line":1399},[4903,4908,4913,4917,4921,4926,4930,4935,4940,4944,4949],{"type":427,"tag":510,"props":4904,"children":4905},{"style":604},[4906],{"type":433,"value":4907},"    '",{"type":427,"tag":510,"props":4909,"children":4911},{"style":4910},"--shiki-light:#E53935;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[4912],{"type":433,"value":4766},{"type":427,"tag":510,"props":4914,"children":4915},{"style":604},[4916],{"type":433,"value":716},{"type":427,"tag":510,"props":4918,"children":4919},{"style":517},[4920],{"type":433,"value":632},{"type":427,"tag":510,"props":4922,"children":4923},{"style":523},[4924],{"type":433,"value":4925}," options",{"type":427,"tag":510,"props":4927,"children":4928},{"style":517},[4929],{"type":433,"value":701},{"type":427,"tag":510,"props":4931,"children":4932},{"style":523},[4933],{"type":433,"value":4934},"elements ",{"type":427,"tag":510,"props":4936,"children":4937},{"style":588},[4938],{"type":433,"value":4939},"||",{"type":427,"tag":510,"props":4941,"children":4942},{"style":604},[4943],{"type":433,"value":867},{"type":427,"tag":510,"props":4945,"children":4946},{"style":610},[4947],{"type":433,"value":4948},"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",{"type":427,"tag":510,"props":4950,"children":4951},{"style":604},[4952],{"type":433,"value":877},{"type":427,"tag":510,"props":4954,"children":4955},{"class":512,"line":1408},[4956],{"type":427,"tag":510,"props":4957,"children":4958},{"style":517},[4959],{"type":433,"value":4856},{"type":427,"tag":488,"props":4961,"children":4963},{"id":4962},"私有方法",[4964],{"type":433,"value":4962},{"type":427,"tag":441,"props":4966,"children":4967},{},[4968],{"type":433,"value":4969},"接下来是几个私有方法。和 shiv 原理不相关，所以不重要。",{"type":427,"tag":499,"props":4971,"children":4973},{"className":501,"code":4972,"language":503,"meta":421,"style":421},"/**\n * Creates a style sheet with the given CSS text and adds it to the document.\n * 在文档头部添加样式标签\n */\nfunction addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement\n    // ? 这个 'x' 应该是兼容性考虑\n    p.innerHTML = 'x\u003Cstyle>' + cssText + '\u003C/style>'\n    return parent.insertBefore(p.lastChild, parent.firstChild)\n}\n",[4974],{"type":427,"tag":506,"props":4975,"children":4976},{"__ignoreMap":421},[4977,4985,4993,5001,5009,5046,5098,5171,5179,5237,5296],{"type":427,"tag":510,"props":4978,"children":4979},{"class":512,"line":513},[4980],{"type":427,"tag":510,"props":4981,"children":4982},{"style":569},[4983],{"type":433,"value":4984},"/**\n",{"type":427,"tag":510,"props":4986,"children":4987},{"class":512,"line":565},[4988],{"type":427,"tag":510,"props":4989,"children":4990},{"style":569},[4991],{"type":433,"value":4992}," * Creates a style sheet with the given CSS text and adds it to the document.\n",{"type":427,"tag":510,"props":4994,"children":4995},{"class":512,"line":575},[4996],{"type":427,"tag":510,"props":4997,"children":4998},{"style":569},[4999],{"type":433,"value":5000}," * 在文档头部添加样式标签\n",{"type":427,"tag":510,"props":5002,"children":5003},{"class":512,"line":949},[5004],{"type":427,"tag":510,"props":5005,"children":5006},{"style":569},[5007],{"type":433,"value":5008}," */\n",{"type":427,"tag":510,"props":5010,"children":5011},{"class":512,"line":987},[5012,5016,5021,5025,5029,5033,5038,5042],{"type":427,"tag":510,"props":5013,"children":5014},{"style":529},[5015],{"type":433,"value":532},{"type":427,"tag":510,"props":5017,"children":5018},{"style":704},[5019],{"type":433,"value":5020}," addStyleSheet",{"type":427,"tag":510,"props":5022,"children":5023},{"style":517},[5024],{"type":433,"value":526},{"type":427,"tag":510,"props":5026,"children":5027},{"style":539},[5028],{"type":433,"value":1845},{"type":427,"tag":510,"props":5030,"children":5031},{"style":517},[5032],{"type":433,"value":547},{"type":427,"tag":510,"props":5034,"children":5035},{"style":539},[5036],{"type":433,"value":5037}," cssText",{"type":427,"tag":510,"props":5039,"children":5040},{"style":517},[5041],{"type":433,"value":557},{"type":427,"tag":510,"props":5043,"children":5044},{"style":517},[5045],{"type":433,"value":562},{"type":427,"tag":510,"props":5047,"children":5048},{"class":512,"line":1002},[5049,5053,5058,5062,5066,5070,5074,5078,5082,5086,5090,5094],{"type":427,"tag":510,"props":5050,"children":5051},{"style":529},[5052],{"type":433,"value":955},{"type":427,"tag":510,"props":5054,"children":5055},{"style":523},[5056],{"type":433,"value":5057}," p",{"type":427,"tag":510,"props":5059,"children":5060},{"style":588},[5061],{"type":433,"value":965},{"type":427,"tag":510,"props":5063,"children":5064},{"style":523},[5065],{"type":433,"value":2606},{"type":427,"tag":510,"props":5067,"children":5068},{"style":517},[5069],{"type":433,"value":701},{"type":427,"tag":510,"props":5071,"children":5072},{"style":704},[5073],{"type":433,"value":707},{"type":427,"tag":510,"props":5075,"children":5076},{"style":981},[5077],{"type":433,"value":526},{"type":427,"tag":510,"props":5079,"children":5080},{"style":604},[5081],{"type":433,"value":716},{"type":427,"tag":510,"props":5083,"children":5084},{"style":610},[5085],{"type":433,"value":441},{"type":427,"tag":510,"props":5087,"children":5088},{"style":604},[5089],{"type":433,"value":716},{"type":427,"tag":510,"props":5091,"children":5092},{"style":981},[5093],{"type":433,"value":557},{"type":427,"tag":510,"props":5095,"children":5096},{"style":517},[5097],{"type":433,"value":2248},{"type":427,"tag":510,"props":5099,"children":5100},{"class":512,"line":1045},[5101,5106,5110,5114,5118,5123,5127,5131,5136,5140,5145,5150,5154,5158,5162,5166],{"type":427,"tag":510,"props":5102,"children":5103},{"style":523},[5104],{"type":433,"value":5105},"        parent",{"type":427,"tag":510,"props":5107,"children":5108},{"style":588},[5109],{"type":433,"value":965},{"type":427,"tag":510,"props":5111,"children":5112},{"style":523},[5113],{"type":433,"value":2606},{"type":427,"tag":510,"props":5115,"children":5116},{"style":517},[5117],{"type":433,"value":701},{"type":427,"tag":510,"props":5119,"children":5120},{"style":704},[5121],{"type":433,"value":5122},"getElementsByTagName",{"type":427,"tag":510,"props":5124,"children":5125},{"style":981},[5126],{"type":433,"value":526},{"type":427,"tag":510,"props":5128,"children":5129},{"style":604},[5130],{"type":433,"value":716},{"type":427,"tag":510,"props":5132,"children":5133},{"style":610},[5134],{"type":433,"value":5135},"head",{"type":427,"tag":510,"props":5137,"children":5138},{"style":604},[5139],{"type":433,"value":716},{"type":427,"tag":510,"props":5141,"children":5142},{"style":981},[5143],{"type":433,"value":5144},")[",{"type":427,"tag":510,"props":5146,"children":5147},{"style":921},[5148],{"type":433,"value":5149},"0",{"type":427,"tag":510,"props":5151,"children":5152},{"style":981},[5153],{"type":433,"value":1977},{"type":427,"tag":510,"props":5155,"children":5156},{"style":588},[5157],{"type":433,"value":4939},{"type":427,"tag":510,"props":5159,"children":5160},{"style":523},[5161],{"type":433,"value":2606},{"type":427,"tag":510,"props":5163,"children":5164},{"style":517},[5165],{"type":433,"value":701},{"type":427,"tag":510,"props":5167,"children":5168},{"style":523},[5169],{"type":433,"value":5170},"documentElement\n",{"type":427,"tag":510,"props":5172,"children":5173},{"class":512,"line":1085},[5174],{"type":427,"tag":510,"props":5175,"children":5176},{"style":569},[5177],{"type":433,"value":5178},"    // ? 这个 'x' 应该是兼容性考虑\n",{"type":427,"tag":510,"props":5180,"children":5181},{"class":512,"line":1121},[5182,5187,5191,5195,5199,5203,5208,5212,5216,5220,5224,5228,5233],{"type":427,"tag":510,"props":5183,"children":5184},{"style":523},[5185],{"type":433,"value":5186},"    p",{"type":427,"tag":510,"props":5188,"children":5189},{"style":517},[5190],{"type":433,"value":701},{"type":427,"tag":510,"props":5192,"children":5193},{"style":523},[5194],{"type":433,"value":1248},{"type":427,"tag":510,"props":5196,"children":5197},{"style":588},[5198],{"type":433,"value":965},{"type":427,"tag":510,"props":5200,"children":5201},{"style":604},[5202],{"type":433,"value":867},{"type":427,"tag":510,"props":5204,"children":5205},{"style":610},[5206],{"type":433,"value":5207},"x\u003Cstyle>",{"type":427,"tag":510,"props":5209,"children":5210},{"style":604},[5211],{"type":433,"value":716},{"type":427,"tag":510,"props":5213,"children":5214},{"style":588},[5215],{"type":433,"value":3227},{"type":427,"tag":510,"props":5217,"children":5218},{"style":523},[5219],{"type":433,"value":5037},{"type":427,"tag":510,"props":5221,"children":5222},{"style":588},[5223],{"type":433,"value":3227},{"type":427,"tag":510,"props":5225,"children":5226},{"style":604},[5227],{"type":433,"value":867},{"type":427,"tag":510,"props":5229,"children":5230},{"style":610},[5231],{"type":433,"value":5232},"\u003C/style>",{"type":427,"tag":510,"props":5234,"children":5235},{"style":604},[5236],{"type":433,"value":877},{"type":427,"tag":510,"props":5238,"children":5239},{"class":512,"line":1130},[5240,5244,5249,5253,5258,5262,5266,5270,5275,5279,5283,5287,5292],{"type":427,"tag":510,"props":5241,"children":5242},{"style":991},[5243],{"type":433,"value":994},{"type":427,"tag":510,"props":5245,"children":5246},{"style":523},[5247],{"type":433,"value":5248}," parent",{"type":427,"tag":510,"props":5250,"children":5251},{"style":517},[5252],{"type":433,"value":701},{"type":427,"tag":510,"props":5254,"children":5255},{"style":704},[5256],{"type":433,"value":5257},"insertBefore",{"type":427,"tag":510,"props":5259,"children":5260},{"style":981},[5261],{"type":433,"value":526},{"type":427,"tag":510,"props":5263,"children":5264},{"style":523},[5265],{"type":433,"value":441},{"type":427,"tag":510,"props":5267,"children":5268},{"style":517},[5269],{"type":433,"value":701},{"type":427,"tag":510,"props":5271,"children":5272},{"style":523},[5273],{"type":433,"value":5274},"lastChild",{"type":427,"tag":510,"props":5276,"children":5277},{"style":517},[5278],{"type":433,"value":547},{"type":427,"tag":510,"props":5280,"children":5281},{"style":523},[5282],{"type":433,"value":5248},{"type":427,"tag":510,"props":5284,"children":5285},{"style":517},[5286],{"type":433,"value":701},{"type":427,"tag":510,"props":5288,"children":5289},{"style":523},[5290],{"type":433,"value":5291},"firstChild",{"type":427,"tag":510,"props":5293,"children":5294},{"style":981},[5295],{"type":433,"value":729},{"type":427,"tag":510,"props":5297,"children":5298},{"class":512,"line":1399},[5299],{"type":427,"tag":510,"props":5300,"children":5301},{"style":517},[5302],{"type":433,"value":4856},{"type":427,"tag":441,"props":5304,"children":5305},{},[5306],{"type":433,"value":5307},"一对用来维护 html5.elements 的方法 getElements、addElements。相当于 getter/setter。因为 html5shiv 将 html5 这个对象挂载到了 window 对象上，向外暴露。所以可以轻易调用 addElements 维护 html.elements。",{"type":427,"tag":499,"props":5309,"children":5311},{"className":501,"code":5310,"language":503,"meta":421,"style":421},"function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n}\nfunction addElements(newElements, ownerDocument) {\n    var elements = html5.elements\n    if(typeof elements != 'string'){\n        elements = elements.join(' ')\n    }\n    if(typeof newElements != 'string'){\n        newElements = newElements.join(' ')\n    }\n    html5.elements = elements +' '+ newElements\n\n    // 每次增加元素的最后，会进行一次 shiv\n    shivDocument(ownerDocument)\n}\n",[5312],{"type":427,"tag":506,"props":5313,"children":5314},{"__ignoreMap":421},[5315,5334,5365,5440,5447,5484,5512,5556,5596,5603,5647,5687,5694,5739,5746,5754,5774],{"type":427,"tag":510,"props":5316,"children":5317},{"class":512,"line":513},[5318,5322,5326,5330],{"type":427,"tag":510,"props":5319,"children":5320},{"style":529},[5321],{"type":433,"value":532},{"type":427,"tag":510,"props":5323,"children":5324},{"style":704},[5325],{"type":433,"value":4531},{"type":427,"tag":510,"props":5327,"children":5328},{"style":517},[5329],{"type":433,"value":942},{"type":427,"tag":510,"props":5331,"children":5332},{"style":517},[5333],{"type":433,"value":562},{"type":427,"tag":510,"props":5335,"children":5336},{"class":512,"line":565},[5337,5341,5345,5349,5353,5357,5361],{"type":427,"tag":510,"props":5338,"children":5339},{"style":529},[5340],{"type":433,"value":955},{"type":427,"tag":510,"props":5342,"children":5343},{"style":523},[5344],{"type":433,"value":4748},{"type":427,"tag":510,"props":5346,"children":5347},{"style":588},[5348],{"type":433,"value":965},{"type":427,"tag":510,"props":5350,"children":5351},{"style":523},[5352],{"type":433,"value":4757},{"type":427,"tag":510,"props":5354,"children":5355},{"style":517},[5356],{"type":433,"value":701},{"type":427,"tag":510,"props":5358,"children":5359},{"style":523},[5360],{"type":433,"value":4766},{"type":427,"tag":510,"props":5362,"children":5363},{"style":517},[5364],{"type":433,"value":652},{"type":427,"tag":510,"props":5366,"children":5367},{"class":512,"line":575},[5368,5372,5376,5380,5384,5388,5392,5396,5400,5404,5408,5412,5416,5420,5424,5428,5432,5436],{"type":427,"tag":510,"props":5369,"children":5370},{"style":991},[5371],{"type":433,"value":994},{"type":427,"tag":510,"props":5373,"children":5374},{"style":588},[5375],{"type":433,"value":4782},{"type":427,"tag":510,"props":5377,"children":5378},{"style":523},[5379],{"type":433,"value":4748},{"type":427,"tag":510,"props":5381,"children":5382},{"style":588},[5383],{"type":433,"value":918},{"type":427,"tag":510,"props":5385,"children":5386},{"style":604},[5387],{"type":433,"value":867},{"type":427,"tag":510,"props":5389,"children":5390},{"style":610},[5391],{"type":433,"value":4799},{"type":427,"tag":510,"props":5393,"children":5394},{"style":604},[5395],{"type":433,"value":716},{"type":427,"tag":510,"props":5397,"children":5398},{"style":588},[5399],{"type":433,"value":623},{"type":427,"tag":510,"props":5401,"children":5402},{"style":523},[5403],{"type":433,"value":4748},{"type":427,"tag":510,"props":5405,"children":5406},{"style":517},[5407],{"type":433,"value":701},{"type":427,"tag":510,"props":5409,"children":5410},{"style":704},[5411],{"type":433,"value":4820},{"type":427,"tag":510,"props":5413,"children":5414},{"style":981},[5415],{"type":433,"value":526},{"type":427,"tag":510,"props":5417,"children":5418},{"style":604},[5419],{"type":433,"value":716},{"type":427,"tag":510,"props":5421,"children":5422},{"style":604},[5423],{"type":433,"value":867},{"type":427,"tag":510,"props":5425,"children":5426},{"style":981},[5427],{"type":433,"value":1661},{"type":427,"tag":510,"props":5429,"children":5430},{"style":588},[5431],{"type":433,"value":632},{"type":427,"tag":510,"props":5433,"children":5434},{"style":523},[5435],{"type":433,"value":4748},{"type":427,"tag":510,"props":5437,"children":5438},{"style":517},[5439],{"type":433,"value":652},{"type":427,"tag":510,"props":5441,"children":5442},{"class":512,"line":949},[5443],{"type":427,"tag":510,"props":5444,"children":5445},{"style":517},[5446],{"type":433,"value":4856},{"type":427,"tag":510,"props":5448,"children":5449},{"class":512,"line":987},[5450,5454,5459,5463,5468,5472,5476,5480],{"type":427,"tag":510,"props":5451,"children":5452},{"style":529},[5453],{"type":433,"value":532},{"type":427,"tag":510,"props":5455,"children":5456},{"style":704},[5457],{"type":433,"value":5458}," addElements",{"type":427,"tag":510,"props":5460,"children":5461},{"style":517},[5462],{"type":433,"value":526},{"type":427,"tag":510,"props":5464,"children":5465},{"style":539},[5466],{"type":433,"value":5467},"newElements",{"type":427,"tag":510,"props":5469,"children":5470},{"style":517},[5471],{"type":433,"value":547},{"type":427,"tag":510,"props":5473,"children":5474},{"style":539},[5475],{"type":433,"value":2606},{"type":427,"tag":510,"props":5477,"children":5478},{"style":517},[5479],{"type":433,"value":557},{"type":427,"tag":510,"props":5481,"children":5482},{"style":517},[5483],{"type":433,"value":562},{"type":427,"tag":510,"props":5485,"children":5486},{"class":512,"line":1002},[5487,5491,5495,5499,5503,5507],{"type":427,"tag":510,"props":5488,"children":5489},{"style":529},[5490],{"type":433,"value":955},{"type":427,"tag":510,"props":5492,"children":5493},{"style":523},[5494],{"type":433,"value":4748},{"type":427,"tag":510,"props":5496,"children":5497},{"style":588},[5498],{"type":433,"value":965},{"type":427,"tag":510,"props":5500,"children":5501},{"style":523},[5502],{"type":433,"value":4757},{"type":427,"tag":510,"props":5504,"children":5505},{"style":517},[5506],{"type":433,"value":701},{"type":427,"tag":510,"props":5508,"children":5509},{"style":523},[5510],{"type":433,"value":5511},"elements\n",{"type":427,"tag":510,"props":5513,"children":5514},{"class":512,"line":1045},[5515,5519,5523,5527,5531,5536,5540,5544,5548,5552],{"type":427,"tag":510,"props":5516,"children":5517},{"style":991},[5518],{"type":433,"value":1905},{"type":427,"tag":510,"props":5520,"children":5521},{"style":981},[5522],{"type":433,"value":526},{"type":427,"tag":510,"props":5524,"children":5525},{"style":588},[5526],{"type":433,"value":591},{"type":427,"tag":510,"props":5528,"children":5529},{"style":523},[5530],{"type":433,"value":4748},{"type":427,"tag":510,"props":5532,"children":5533},{"style":588},[5534],{"type":433,"value":5535}," !=",{"type":427,"tag":510,"props":5537,"children":5538},{"style":604},[5539],{"type":433,"value":867},{"type":427,"tag":510,"props":5541,"children":5542},{"style":610},[5543],{"type":433,"value":4799},{"type":427,"tag":510,"props":5545,"children":5546},{"style":604},[5547],{"type":433,"value":716},{"type":427,"tag":510,"props":5549,"children":5550},{"style":981},[5551],{"type":433,"value":557},{"type":427,"tag":510,"props":5553,"children":5554},{"style":517},[5555],{"type":433,"value":1666},{"type":427,"tag":510,"props":5557,"children":5558},{"class":512,"line":1085},[5559,5564,5568,5572,5576,5580,5584,5588,5592],{"type":427,"tag":510,"props":5560,"children":5561},{"style":523},[5562],{"type":433,"value":5563},"        elements",{"type":427,"tag":510,"props":5565,"children":5566},{"style":588},[5567],{"type":433,"value":965},{"type":427,"tag":510,"props":5569,"children":5570},{"style":523},[5571],{"type":433,"value":4748},{"type":427,"tag":510,"props":5573,"children":5574},{"style":517},[5575],{"type":433,"value":701},{"type":427,"tag":510,"props":5577,"children":5578},{"style":704},[5579],{"type":433,"value":3059},{"type":427,"tag":510,"props":5581,"children":5582},{"style":981},[5583],{"type":433,"value":526},{"type":427,"tag":510,"props":5585,"children":5586},{"style":604},[5587],{"type":433,"value":716},{"type":427,"tag":510,"props":5589,"children":5590},{"style":604},[5591],{"type":433,"value":867},{"type":427,"tag":510,"props":5593,"children":5594},{"style":981},[5595],{"type":433,"value":729},{"type":427,"tag":510,"props":5597,"children":5598},{"class":512,"line":1121},[5599],{"type":427,"tag":510,"props":5600,"children":5601},{"style":517},[5602],{"type":433,"value":1718},{"type":427,"tag":510,"props":5604,"children":5605},{"class":512,"line":1130},[5606,5610,5614,5618,5623,5627,5631,5635,5639,5643],{"type":427,"tag":510,"props":5607,"children":5608},{"style":991},[5609],{"type":433,"value":1905},{"type":427,"tag":510,"props":5611,"children":5612},{"style":981},[5613],{"type":433,"value":526},{"type":427,"tag":510,"props":5615,"children":5616},{"style":588},[5617],{"type":433,"value":591},{"type":427,"tag":510,"props":5619,"children":5620},{"style":523},[5621],{"type":433,"value":5622}," newElements",{"type":427,"tag":510,"props":5624,"children":5625},{"style":588},[5626],{"type":433,"value":5535},{"type":427,"tag":510,"props":5628,"children":5629},{"style":604},[5630],{"type":433,"value":867},{"type":427,"tag":510,"props":5632,"children":5633},{"style":610},[5634],{"type":433,"value":4799},{"type":427,"tag":510,"props":5636,"children":5637},{"style":604},[5638],{"type":433,"value":716},{"type":427,"tag":510,"props":5640,"children":5641},{"style":981},[5642],{"type":433,"value":557},{"type":427,"tag":510,"props":5644,"children":5645},{"style":517},[5646],{"type":433,"value":1666},{"type":427,"tag":510,"props":5648,"children":5649},{"class":512,"line":1399},[5650,5655,5659,5663,5667,5671,5675,5679,5683],{"type":427,"tag":510,"props":5651,"children":5652},{"style":523},[5653],{"type":433,"value":5654},"        newElements",{"type":427,"tag":510,"props":5656,"children":5657},{"style":588},[5658],{"type":433,"value":965},{"type":427,"tag":510,"props":5660,"children":5661},{"style":523},[5662],{"type":433,"value":5622},{"type":427,"tag":510,"props":5664,"children":5665},{"style":517},[5666],{"type":433,"value":701},{"type":427,"tag":510,"props":5668,"children":5669},{"style":704},[5670],{"type":433,"value":3059},{"type":427,"tag":510,"props":5672,"children":5673},{"style":981},[5674],{"type":433,"value":526},{"type":427,"tag":510,"props":5676,"children":5677},{"style":604},[5678],{"type":433,"value":716},{"type":427,"tag":510,"props":5680,"children":5681},{"style":604},[5682],{"type":433,"value":867},{"type":427,"tag":510,"props":5684,"children":5685},{"style":981},[5686],{"type":433,"value":729},{"type":427,"tag":510,"props":5688,"children":5689},{"class":512,"line":1408},[5690],{"type":427,"tag":510,"props":5691,"children":5692},{"style":517},[5693],{"type":433,"value":1718},{"type":427,"tag":510,"props":5695,"children":5696},{"class":512,"line":1451},[5697,5702,5706,5710,5714,5718,5722,5726,5730,5734],{"type":427,"tag":510,"props":5698,"children":5699},{"style":523},[5700],{"type":433,"value":5701},"    html5",{"type":427,"tag":510,"props":5703,"children":5704},{"style":517},[5705],{"type":433,"value":701},{"type":427,"tag":510,"props":5707,"children":5708},{"style":523},[5709],{"type":433,"value":4766},{"type":427,"tag":510,"props":5711,"children":5712},{"style":588},[5713],{"type":433,"value":965},{"type":427,"tag":510,"props":5715,"children":5716},{"style":523},[5717],{"type":433,"value":4748},{"type":427,"tag":510,"props":5719,"children":5720},{"style":588},[5721],{"type":433,"value":3227},{"type":427,"tag":510,"props":5723,"children":5724},{"style":604},[5725],{"type":433,"value":716},{"type":427,"tag":510,"props":5727,"children":5728},{"style":604},[5729],{"type":433,"value":867},{"type":427,"tag":510,"props":5731,"children":5732},{"style":588},[5733],{"type":433,"value":3102},{"type":427,"tag":510,"props":5735,"children":5736},{"style":523},[5737],{"type":433,"value":5738}," newElements\n",{"type":427,"tag":510,"props":5740,"children":5741},{"class":512,"line":1484},[5742],{"type":427,"tag":510,"props":5743,"children":5744},{"emptyLinePlaceholder":420},[5745],{"type":433,"value":1328},{"type":427,"tag":510,"props":5747,"children":5748},{"class":512,"line":1497},[5749],{"type":427,"tag":510,"props":5750,"children":5751},{"style":569},[5752],{"type":433,"value":5753},"    // 每次增加元素的最后，会进行一次 shiv\n",{"type":427,"tag":510,"props":5755,"children":5756},{"class":512,"line":1538},[5757,5762,5766,5770],{"type":427,"tag":510,"props":5758,"children":5759},{"style":704},[5760],{"type":433,"value":5761},"    shivDocument",{"type":427,"tag":510,"props":5763,"children":5764},{"style":981},[5765],{"type":433,"value":526},{"type":427,"tag":510,"props":5767,"children":5768},{"style":523},[5769],{"type":433,"value":1845},{"type":427,"tag":510,"props":5771,"children":5772},{"style":981},[5773],{"type":433,"value":729},{"type":427,"tag":510,"props":5775,"children":5776},{"class":512,"line":1578},[5777],{"type":427,"tag":510,"props":5778,"children":5779},{"style":517},[5780],{"type":433,"value":4856},{"type":427,"tag":435,"props":5782,"children":5784},{"id":5783},"阅读更多",[5785],{"type":433,"value":5783},{"type":427,"tag":441,"props":5787,"children":5788},{},[5789],{"type":433,"value":5790},"害，看 html5shiv 并不能带来什么具体的帮助。看完之后，只感觉上一代前端真是太辛苦了，为 IE 操碎了心。现代前端技术随着打包工具的发展开阔了不止一点，兼容性这个曾经的代码重心已经悄然落下帷幕。如果现在我去哪家公司面试，还会被大面积问到兼容性问题，那估计我会当场“quit”吧。",{"type":427,"tag":5792,"props":5793,"children":5796},"section",{"className":5794,"dataFootnotes":421},[5795],"footnotes",[5797,5804],{"type":427,"tag":435,"props":5798,"children":5801},{"className":5799,"id":455},[5800],"sr-only",[5802],{"type":433,"value":5803},"Footnotes",{"type":427,"tag":5805,"props":5806,"children":5807},"ol",{},[5808,5831],{"type":427,"tag":472,"props":5809,"children":5811},{"id":5810},"user-content-fn-html5shiv",[5812,5820,5822],{"type":427,"tag":451,"props":5813,"children":5817},{"href":5814,"rel":5815},"https://github.com/aFarkas/html5shiv",[5816],"nofollow",[5818],{"type":433,"value":5819},"html5shiv",{"type":433,"value":5821}," ",{"type":427,"tag":451,"props":5823,"children":5828},{"href":5824,"ariaLabel":5825,"className":5826,"dataFootnoteBackref":421},"#user-content-fnref-html5shiv","Back to reference 1",[5827],"data-footnote-backref",[5829],{"type":433,"value":5830},"↩",{"type":427,"tag":472,"props":5832,"children":5834},{"id":5833},"user-content-fn-hidden",[5835,5842,5843],{"type":427,"tag":451,"props":5836,"children":5839},{"href":5837,"rel":5838},"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/hidden",[5816],[5840],{"type":433,"value":5841},"HTMLElement.hidden@MDN",{"type":433,"value":5821},{"type":427,"tag":451,"props":5844,"children":5848},{"href":5845,"ariaLabel":5846,"className":5847,"dataFootnoteBackref":421},"#user-content-fnref-hidden","Back to reference 2",[5827],[5849],{"type":433,"value":5830},{"type":427,"tag":5851,"props":5852,"children":5853},"style",{},[5854],{"type":433,"value":5855},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":421,"searchDepth":565,"depth":565,"links":5857},[5858,5859,5865,5866],{"id":437,"depth":565,"text":437},{"id":484,"depth":565,"text":484,"children":5860},[5861,5862,5863,5864],{"id":490,"depth":575,"text":490},{"id":660,"depth":575,"text":660},{"id":1733,"depth":575,"text":1733},{"id":4962,"depth":575,"text":4962},{"id":5783,"depth":565,"text":5783},{"id":455,"depth":565,"text":5803},"markdown","content:8.source-code:_module:html5shiv.md","content","8.source-code/_module/html5shiv.md","8.source-code/_module/html5shiv","md",[5874,5877],{"_path":5875,"title":5876,"description":421},"/source-code/_module/fast-deep-equal","判断两个变量相等",{"_path":5878,"title":5879,"description":5880},"/source-code/_module/is-online","判断 NodeJS 是否在线","之前被组长问道要如何判断 NodeJS 是否在线，我不假思索回答：“Ping 百度试试。”。调用 Ping 需要 child_process，那还不如直接改用内置的 DNS 试试是否在线更简单一些。不过会不会碰到缓存等问题，没往下细想了。今天正好在别人的博客看到了 NodeJS DNS 模块，突然想起这个问题，于是就搜了一下相关库。找到了 internet-available 这个玩意儿。这里一起来看看他们的实现。",1738321927236]