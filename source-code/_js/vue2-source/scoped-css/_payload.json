[{"data":1,"prerenderedAt":3682},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/scoped-css":158,"/source-code/_js/vue2-source/scoped-css-surround":3675},[4,35,89,95,122,128,152],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🌪️ tailwind4 如何兼容预处理器","/articles/tailwind4-with-sass",{"title":45,"_path":46},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":48,"_path":49},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":51,"_path":52},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":54,"_path":55},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":57,"_path":58},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":60,"_path":61},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":63,"_path":64},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":66,"_path":67},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":69,"_path":70},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":72,"_path":73},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":75,"_path":76},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":78,"_path":79},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":81,"_path":82},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":84,"_path":85},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":87,"_path":88},"📝 技术博客归档","/articles/archive",{"title":90,"_path":91,"children":92},"读书笔记 / Notes","/books",[93],{"title":94,"_path":91},"📕 读书笔记",{"title":96,"_path":97,"children":98},"吉他剧场 / Music","/music",[99,101,104,107,110,113,116,119],{"title":100,"_path":97},"🎸 FingerStyle！",{"title":102,"_path":103},"🌬️ 等待的风","/music/wind",{"title":105,"_path":106},"💕 约定的海洋","/music/ocean",{"title":108,"_path":109},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":111,"_path":112},"🌏 残酷天使的行动纲领","/music/eva",{"title":114,"_path":115},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":117,"_path":118},"🍷 Wu Wei","/music/wu-wei",{"title":120,"_path":121},"🌅 无题","/music/untitled",{"title":123,"_path":124,"children":125},"知识地图 / Maps","/maps",[126],{"title":127,"_path":124},"🏁 知识地图",{"title":129,"_path":130,"children":131},"造物 / Make","/tools",[132,134,137,140,143,146,149],{"title":133,"_path":130},"🧰 工具收集",{"title":135,"_path":136},"📕 博客","/tools/blog",{"title":138,"_path":139},"🥥 Coconut","/tools/coconut",{"title":141,"_path":142},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":144,"_path":145},"🌐 AnySort","/tools/anysort",{"title":147,"_path":148},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":150,"_path":151},"👓 Crapto","/tools/crypto-inline",{"title":153,"_path":154,"children":155},"我 / About","/hire",[156],{"title":157,"_path":154},"📬 技术简历",{"_path":159,"_dir":160,"_draft":161,"_partial":162,"_locale":163,"title":164,"description":165,"body":166,"_type":3670,"_id":3671,"_source":916,"_file":3672,"_stem":3673,"_extension":3674},"/source-code/_js/vue2-source/scoped-css","vue2-source",false,true,"","Vue2 Scoped CSS","deprecated warning",{"type":167,"children":168,"toc":3662},"root",[169,202,208,244,488,509,518,523,529,550,1092,1104,1158,1171,1176,1183,1204,1363,1368,1395,1587,1607,1890,1897,1925,2197,2218,2237,2242,2359,2364,2762,2775,2990,2995,3032,3237,3257,3607,3620,3652,3657],{"type":170,"tag":171,"props":172,"children":173},"element","p",{},[174,177,184,186,192,194,200],{"type":175,"value":176},"text","使用 VueJS 开发应用离不开模块拆分，即将大块界面拆解为组件的过程。我们可以很方便的在单文件中使用",{"type":170,"tag":178,"props":179,"children":181},"code",{"className":180},[],[182],{"type":175,"value":183},"\u003Ctemplate>",{"type":175,"value":185},"块维护组件的视图，使用",{"type":170,"tag":178,"props":187,"children":189},{"className":188},[],[190],{"type":175,"value":191},"\u003Cscript>",{"type":175,"value":193},"维护组件的逻辑部分，使用",{"type":170,"tag":178,"props":195,"children":197},{"className":196},[],[198],{"type":175,"value":199},"\u003Cstyle>",{"type":175,"value":201},"维护组件的样式。在我们编写 VueJS 组件样式时，不得忽略的一点就是如何防止以及反制样式污染。",{"type":170,"tag":203,"props":204,"children":206},"h2",{"id":205},"样式污染产生原因",[207],{"type":175,"value":205},{"type":170,"tag":171,"props":209,"children":210},{},[211,213,219,221,227,229,242],{"type":175,"value":212},"提及样式污染，主要要追溯到",{"type":170,"tag":178,"props":214,"children":216},{"className":215},[],[217],{"type":175,"value":218},"webpack",{"type":175,"value":220},"对",{"type":170,"tag":178,"props":222,"children":224},{"className":223},[],[225],{"type":175,"value":226},"CSS",{"type":175,"value":228},"文件的打包过程，这里我们以",{"type":170,"tag":230,"props":231,"children":235},"a",{"href":232,"rel":233},"https://github.com/PanJiaChen/vue-element-admin",[234],"nofollow",[236],{"type":170,"tag":178,"props":237,"children":239},{"className":238},[],[240],{"type":175,"value":241},"Vue-Element-Admin",{"type":175,"value":243},"中的 webpack 配置项举例：",{"type":170,"tag":245,"props":246,"children":250},"pre",{"className":247,"code":248,"language":249,"meta":163,"style":163},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const webpackConfig = merge(baseWebpackConfig, {\n    plugins: [\n        new MiniCssExtractPlugin({\n          filename: utils.assetsPath('css/[name].[contenthash:8].css'),\n          chunkFilename: utils.assetsPath('css/[name].[contenthash:8].css')\n        }),\n    ]\n})\n","js",[251],{"type":170,"tag":178,"props":252,"children":253},{"__ignoreMap":163},[254,301,321,345,403,449,466,475],{"type":170,"tag":255,"props":256,"children":259},"span",{"class":257,"line":258},"line",1,[260,266,272,278,284,290,296],{"type":170,"tag":255,"props":261,"children":263},{"style":262},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[264],{"type":175,"value":265},"const",{"type":170,"tag":255,"props":267,"children":269},{"style":268},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[270],{"type":175,"value":271}," webpackConfig",{"type":170,"tag":255,"props":273,"children":275},{"style":274},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[276],{"type":175,"value":277}," =",{"type":170,"tag":255,"props":279,"children":281},{"style":280},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[282],{"type":175,"value":283}," merge",{"type":170,"tag":255,"props":285,"children":287},{"style":286},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[288],{"type":175,"value":289},"(baseWebpackConfig",{"type":170,"tag":255,"props":291,"children":293},{"style":292},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[294],{"type":175,"value":295},",",{"type":170,"tag":255,"props":297,"children":298},{"style":292},[299],{"type":175,"value":300}," {\n",{"type":170,"tag":255,"props":302,"children":304},{"class":257,"line":303},2,[305,311,316],{"type":170,"tag":255,"props":306,"children":308},{"style":307},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[309],{"type":175,"value":310},"    plugins",{"type":170,"tag":255,"props":312,"children":313},{"style":292},[314],{"type":175,"value":315},":",{"type":170,"tag":255,"props":317,"children":318},{"style":286},[319],{"type":175,"value":320}," [\n",{"type":170,"tag":255,"props":322,"children":324},{"class":257,"line":323},3,[325,330,335,340],{"type":170,"tag":255,"props":326,"children":327},{"style":274},[328],{"type":175,"value":329},"        new",{"type":170,"tag":255,"props":331,"children":332},{"style":280},[333],{"type":175,"value":334}," MiniCssExtractPlugin",{"type":170,"tag":255,"props":336,"children":337},{"style":286},[338],{"type":175,"value":339},"(",{"type":170,"tag":255,"props":341,"children":342},{"style":292},[343],{"type":175,"value":344},"{\n",{"type":170,"tag":255,"props":346,"children":348},{"class":257,"line":347},4,[349,354,358,363,368,373,377,383,389,393,398],{"type":170,"tag":255,"props":350,"children":351},{"style":307},[352],{"type":175,"value":353},"          filename",{"type":170,"tag":255,"props":355,"children":356},{"style":292},[357],{"type":175,"value":315},{"type":170,"tag":255,"props":359,"children":360},{"style":286},[361],{"type":175,"value":362}," utils",{"type":170,"tag":255,"props":364,"children":365},{"style":292},[366],{"type":175,"value":367},".",{"type":170,"tag":255,"props":369,"children":370},{"style":280},[371],{"type":175,"value":372},"assetsPath",{"type":170,"tag":255,"props":374,"children":375},{"style":286},[376],{"type":175,"value":339},{"type":170,"tag":255,"props":378,"children":380},{"style":379},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[381],{"type":175,"value":382},"'",{"type":170,"tag":255,"props":384,"children":386},{"style":385},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[387],{"type":175,"value":388},"css/[name].[contenthash:8].css",{"type":170,"tag":255,"props":390,"children":391},{"style":379},[392],{"type":175,"value":382},{"type":170,"tag":255,"props":394,"children":395},{"style":286},[396],{"type":175,"value":397},")",{"type":170,"tag":255,"props":399,"children":400},{"style":292},[401],{"type":175,"value":402},",\n",{"type":170,"tag":255,"props":404,"children":406},{"class":257,"line":405},5,[407,412,416,420,424,428,432,436,440,444],{"type":170,"tag":255,"props":408,"children":409},{"style":307},[410],{"type":175,"value":411},"          chunkFilename",{"type":170,"tag":255,"props":413,"children":414},{"style":292},[415],{"type":175,"value":315},{"type":170,"tag":255,"props":417,"children":418},{"style":286},[419],{"type":175,"value":362},{"type":170,"tag":255,"props":421,"children":422},{"style":292},[423],{"type":175,"value":367},{"type":170,"tag":255,"props":425,"children":426},{"style":280},[427],{"type":175,"value":372},{"type":170,"tag":255,"props":429,"children":430},{"style":286},[431],{"type":175,"value":339},{"type":170,"tag":255,"props":433,"children":434},{"style":379},[435],{"type":175,"value":382},{"type":170,"tag":255,"props":437,"children":438},{"style":385},[439],{"type":175,"value":388},{"type":170,"tag":255,"props":441,"children":442},{"style":379},[443],{"type":175,"value":382},{"type":170,"tag":255,"props":445,"children":446},{"style":286},[447],{"type":175,"value":448},")\n",{"type":170,"tag":255,"props":450,"children":452},{"class":257,"line":451},6,[453,458,462],{"type":170,"tag":255,"props":454,"children":455},{"style":292},[456],{"type":175,"value":457},"        }",{"type":170,"tag":255,"props":459,"children":460},{"style":286},[461],{"type":175,"value":397},{"type":170,"tag":255,"props":463,"children":464},{"style":292},[465],{"type":175,"value":402},{"type":170,"tag":255,"props":467,"children":469},{"class":257,"line":468},7,[470],{"type":170,"tag":255,"props":471,"children":472},{"style":286},[473],{"type":175,"value":474},"    ]\n",{"type":170,"tag":255,"props":476,"children":478},{"class":257,"line":477},8,[479,484],{"type":170,"tag":255,"props":480,"children":481},{"style":292},[482],{"type":175,"value":483},"}",{"type":170,"tag":255,"props":485,"children":486},{"style":286},[487],{"type":175,"value":448},{"type":170,"tag":171,"props":489,"children":490},{},[491,493,499,501,507],{"type":175,"value":492},"webpack 使用 ",{"type":170,"tag":178,"props":494,"children":496},{"className":495},[],[497],{"type":175,"value":498},"MiniCssExtractPlugin",{"type":175,"value":500}," 插件，将文件(如 Vue 单文件组件)中的 CSS 代码，经过处理后，分离到形如",{"type":170,"tag":178,"props":502,"children":504},{"className":503},[],[505],{"type":175,"value":506},"app.hash1234.css",{"type":175,"value":508},"的单独的 CSS 文件：",{"type":170,"tag":171,"props":510,"children":511},{},[512],{"type":170,"tag":513,"props":514,"children":517},"img",{"alt":515,"src":516},"单独的CSS文件","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/scoped-css/browser_fYMdZDAMsI.png",[],{"type":170,"tag":171,"props":519,"children":520},{},[521],{"type":175,"value":522},"如果没有加入防止样式污染的措施的同时，项目中存在了大量的同名 ClassName，那么可能会产生意想不到的 CSS 选择器权重覆盖。这可能使后文件中某部分选择器权重更高的类影响整个应用，而此过程通常发生在组件的编写中，所以一般称之为组件样式污染。",{"type":170,"tag":203,"props":524,"children":526},{"id":525},"webpack-vue-sfc-object",[527],{"type":175,"value":528},"webpack & Vue SFC Object",{"type":170,"tag":171,"props":530,"children":531},{},[532,534,540,542,548],{"type":175,"value":533},"对于 Vue 项目而言，使用 webpack 将极大的优化了工作流程，因为通过",{"type":170,"tag":178,"props":535,"children":537},{"className":536},[],[538],{"type":175,"value":539},"Vue Loader",{"type":175,"value":541},"，Vue 单文件组件能很好的融合进 webpack 工作流中。我们写的单文件组件都被处理为了",{"type":170,"tag":178,"props":543,"children":545},{"className":544},[],[546],{"type":175,"value":547},"SFC对象",{"type":175,"value":549},"，即包含了单个 HTML 模块，单个脚本模块，一个或多个样式模块，一个或多个自定义模块的对象：",{"type":170,"tag":245,"props":551,"children":553},{"className":247,"code":552,"language":249,"meta":163,"style":163},"// vue-loader/index.js\nconst descriptor = parse({\n  source,\n  compiler: options.compiler || loadTemplateCompiler(),\n  filename,\n  sourceRoot,\n  needMap: sourceMap,\n});\n\n// vuejs/component-compiler-utils/index.js\nfunction parse(options) {\n  const { compiler } = options;\n  output = compiler.parseComponent(source, compilerParseOptions);\n  return output;\n}\n\n// vue.js\nfunction parseComponent(content, options) {\n  // ...\n  var sfc = {\n    template: null,\n    script: null,\n    styles: [],\n    customBlocks: [],\n  };\n  // ...\n  return sfc;\n}\n",[554],{"type":170,"tag":178,"props":555,"children":556},{"__ignoreMap":163},[557,566,595,607,652,664,676,697,713,722,731,762,798,850,869,878,886,895,933,942,964,987,1008,1030,1051,1060,1068,1084],{"type":170,"tag":255,"props":558,"children":559},{"class":257,"line":258},[560],{"type":170,"tag":255,"props":561,"children":563},{"style":562},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[564],{"type":175,"value":565},"// vue-loader/index.js\n",{"type":170,"tag":255,"props":567,"children":568},{"class":257,"line":303},[569,573,578,582,587,591],{"type":170,"tag":255,"props":570,"children":571},{"style":262},[572],{"type":175,"value":265},{"type":170,"tag":255,"props":574,"children":575},{"style":268},[576],{"type":175,"value":577}," descriptor",{"type":170,"tag":255,"props":579,"children":580},{"style":274},[581],{"type":175,"value":277},{"type":170,"tag":255,"props":583,"children":584},{"style":280},[585],{"type":175,"value":586}," parse",{"type":170,"tag":255,"props":588,"children":589},{"style":286},[590],{"type":175,"value":339},{"type":170,"tag":255,"props":592,"children":593},{"style":292},[594],{"type":175,"value":344},{"type":170,"tag":255,"props":596,"children":597},{"class":257,"line":323},[598,603],{"type":170,"tag":255,"props":599,"children":600},{"style":286},[601],{"type":175,"value":602},"  source",{"type":170,"tag":255,"props":604,"children":605},{"style":292},[606],{"type":175,"value":402},{"type":170,"tag":255,"props":608,"children":609},{"class":257,"line":347},[610,615,619,624,628,633,638,643,648],{"type":170,"tag":255,"props":611,"children":612},{"style":307},[613],{"type":175,"value":614},"  compiler",{"type":170,"tag":255,"props":616,"children":617},{"style":292},[618],{"type":175,"value":315},{"type":170,"tag":255,"props":620,"children":621},{"style":286},[622],{"type":175,"value":623}," options",{"type":170,"tag":255,"props":625,"children":626},{"style":292},[627],{"type":175,"value":367},{"type":170,"tag":255,"props":629,"children":630},{"style":286},[631],{"type":175,"value":632},"compiler ",{"type":170,"tag":255,"props":634,"children":635},{"style":274},[636],{"type":175,"value":637},"||",{"type":170,"tag":255,"props":639,"children":640},{"style":280},[641],{"type":175,"value":642}," loadTemplateCompiler",{"type":170,"tag":255,"props":644,"children":645},{"style":286},[646],{"type":175,"value":647},"()",{"type":170,"tag":255,"props":649,"children":650},{"style":292},[651],{"type":175,"value":402},{"type":170,"tag":255,"props":653,"children":654},{"class":257,"line":405},[655,660],{"type":170,"tag":255,"props":656,"children":657},{"style":286},[658],{"type":175,"value":659},"  filename",{"type":170,"tag":255,"props":661,"children":662},{"style":292},[663],{"type":175,"value":402},{"type":170,"tag":255,"props":665,"children":666},{"class":257,"line":451},[667,672],{"type":170,"tag":255,"props":668,"children":669},{"style":286},[670],{"type":175,"value":671},"  sourceRoot",{"type":170,"tag":255,"props":673,"children":674},{"style":292},[675],{"type":175,"value":402},{"type":170,"tag":255,"props":677,"children":678},{"class":257,"line":468},[679,684,688,693],{"type":170,"tag":255,"props":680,"children":681},{"style":307},[682],{"type":175,"value":683},"  needMap",{"type":170,"tag":255,"props":685,"children":686},{"style":292},[687],{"type":175,"value":315},{"type":170,"tag":255,"props":689,"children":690},{"style":286},[691],{"type":175,"value":692}," sourceMap",{"type":170,"tag":255,"props":694,"children":695},{"style":292},[696],{"type":175,"value":402},{"type":170,"tag":255,"props":698,"children":699},{"class":257,"line":477},[700,704,708],{"type":170,"tag":255,"props":701,"children":702},{"style":292},[703],{"type":175,"value":483},{"type":170,"tag":255,"props":705,"children":706},{"style":286},[707],{"type":175,"value":397},{"type":170,"tag":255,"props":709,"children":710},{"style":292},[711],{"type":175,"value":712},";\n",{"type":170,"tag":255,"props":714,"children":716},{"class":257,"line":715},9,[717],{"type":170,"tag":255,"props":718,"children":719},{"emptyLinePlaceholder":162},[720],{"type":175,"value":721},"\n",{"type":170,"tag":255,"props":723,"children":725},{"class":257,"line":724},10,[726],{"type":170,"tag":255,"props":727,"children":728},{"style":562},[729],{"type":175,"value":730},"// vuejs/component-compiler-utils/index.js\n",{"type":170,"tag":255,"props":732,"children":734},{"class":257,"line":733},11,[735,740,744,748,754,758],{"type":170,"tag":255,"props":736,"children":737},{"style":262},[738],{"type":175,"value":739},"function",{"type":170,"tag":255,"props":741,"children":742},{"style":280},[743],{"type":175,"value":586},{"type":170,"tag":255,"props":745,"children":746},{"style":292},[747],{"type":175,"value":339},{"type":170,"tag":255,"props":749,"children":751},{"style":750},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[752],{"type":175,"value":753},"options",{"type":170,"tag":255,"props":755,"children":756},{"style":292},[757],{"type":175,"value":397},{"type":170,"tag":255,"props":759,"children":760},{"style":292},[761],{"type":175,"value":300},{"type":170,"tag":255,"props":763,"children":765},{"class":257,"line":764},12,[766,771,776,781,786,790,794],{"type":170,"tag":255,"props":767,"children":768},{"style":262},[769],{"type":175,"value":770},"  const",{"type":170,"tag":255,"props":772,"children":773},{"style":292},[774],{"type":175,"value":775}," {",{"type":170,"tag":255,"props":777,"children":778},{"style":268},[779],{"type":175,"value":780}," compiler",{"type":170,"tag":255,"props":782,"children":783},{"style":292},[784],{"type":175,"value":785}," }",{"type":170,"tag":255,"props":787,"children":788},{"style":274},[789],{"type":175,"value":277},{"type":170,"tag":255,"props":791,"children":792},{"style":286},[793],{"type":175,"value":623},{"type":170,"tag":255,"props":795,"children":796},{"style":292},[797],{"type":175,"value":712},{"type":170,"tag":255,"props":799,"children":801},{"class":257,"line":800},13,[802,807,811,815,819,824,828,833,837,842,846],{"type":170,"tag":255,"props":803,"children":804},{"style":286},[805],{"type":175,"value":806},"  output",{"type":170,"tag":255,"props":808,"children":809},{"style":274},[810],{"type":175,"value":277},{"type":170,"tag":255,"props":812,"children":813},{"style":286},[814],{"type":175,"value":780},{"type":170,"tag":255,"props":816,"children":817},{"style":292},[818],{"type":175,"value":367},{"type":170,"tag":255,"props":820,"children":821},{"style":280},[822],{"type":175,"value":823},"parseComponent",{"type":170,"tag":255,"props":825,"children":826},{"style":307},[827],{"type":175,"value":339},{"type":170,"tag":255,"props":829,"children":830},{"style":286},[831],{"type":175,"value":832},"source",{"type":170,"tag":255,"props":834,"children":835},{"style":292},[836],{"type":175,"value":295},{"type":170,"tag":255,"props":838,"children":839},{"style":286},[840],{"type":175,"value":841}," compilerParseOptions",{"type":170,"tag":255,"props":843,"children":844},{"style":307},[845],{"type":175,"value":397},{"type":170,"tag":255,"props":847,"children":848},{"style":292},[849],{"type":175,"value":712},{"type":170,"tag":255,"props":851,"children":853},{"class":257,"line":852},14,[854,860,865],{"type":170,"tag":255,"props":855,"children":857},{"style":856},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[858],{"type":175,"value":859},"  return",{"type":170,"tag":255,"props":861,"children":862},{"style":286},[863],{"type":175,"value":864}," output",{"type":170,"tag":255,"props":866,"children":867},{"style":292},[868],{"type":175,"value":712},{"type":170,"tag":255,"props":870,"children":872},{"class":257,"line":871},15,[873],{"type":170,"tag":255,"props":874,"children":875},{"style":292},[876],{"type":175,"value":877},"}\n",{"type":170,"tag":255,"props":879,"children":881},{"class":257,"line":880},16,[882],{"type":170,"tag":255,"props":883,"children":884},{"emptyLinePlaceholder":162},[885],{"type":175,"value":721},{"type":170,"tag":255,"props":887,"children":889},{"class":257,"line":888},17,[890],{"type":170,"tag":255,"props":891,"children":892},{"style":562},[893],{"type":175,"value":894},"// vue.js\n",{"type":170,"tag":255,"props":896,"children":898},{"class":257,"line":897},18,[899,903,908,912,917,921,925,929],{"type":170,"tag":255,"props":900,"children":901},{"style":262},[902],{"type":175,"value":739},{"type":170,"tag":255,"props":904,"children":905},{"style":280},[906],{"type":175,"value":907}," parseComponent",{"type":170,"tag":255,"props":909,"children":910},{"style":292},[911],{"type":175,"value":339},{"type":170,"tag":255,"props":913,"children":914},{"style":750},[915],{"type":175,"value":916},"content",{"type":170,"tag":255,"props":918,"children":919},{"style":292},[920],{"type":175,"value":295},{"type":170,"tag":255,"props":922,"children":923},{"style":750},[924],{"type":175,"value":623},{"type":170,"tag":255,"props":926,"children":927},{"style":292},[928],{"type":175,"value":397},{"type":170,"tag":255,"props":930,"children":931},{"style":292},[932],{"type":175,"value":300},{"type":170,"tag":255,"props":934,"children":936},{"class":257,"line":935},19,[937],{"type":170,"tag":255,"props":938,"children":939},{"style":562},[940],{"type":175,"value":941},"  // ...\n",{"type":170,"tag":255,"props":943,"children":945},{"class":257,"line":944},20,[946,951,956,960],{"type":170,"tag":255,"props":947,"children":948},{"style":262},[949],{"type":175,"value":950},"  var",{"type":170,"tag":255,"props":952,"children":953},{"style":286},[954],{"type":175,"value":955}," sfc",{"type":170,"tag":255,"props":957,"children":958},{"style":274},[959],{"type":175,"value":277},{"type":170,"tag":255,"props":961,"children":962},{"style":292},[963],{"type":175,"value":300},{"type":170,"tag":255,"props":965,"children":967},{"class":257,"line":966},21,[968,973,977,983],{"type":170,"tag":255,"props":969,"children":970},{"style":307},[971],{"type":175,"value":972},"    template",{"type":170,"tag":255,"props":974,"children":975},{"style":292},[976],{"type":175,"value":315},{"type":170,"tag":255,"props":978,"children":980},{"style":979},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[981],{"type":175,"value":982}," null",{"type":170,"tag":255,"props":984,"children":985},{"style":292},[986],{"type":175,"value":402},{"type":170,"tag":255,"props":988,"children":990},{"class":257,"line":989},22,[991,996,1000,1004],{"type":170,"tag":255,"props":992,"children":993},{"style":307},[994],{"type":175,"value":995},"    script",{"type":170,"tag":255,"props":997,"children":998},{"style":292},[999],{"type":175,"value":315},{"type":170,"tag":255,"props":1001,"children":1002},{"style":979},[1003],{"type":175,"value":982},{"type":170,"tag":255,"props":1005,"children":1006},{"style":292},[1007],{"type":175,"value":402},{"type":170,"tag":255,"props":1009,"children":1011},{"class":257,"line":1010},23,[1012,1017,1021,1026],{"type":170,"tag":255,"props":1013,"children":1014},{"style":307},[1015],{"type":175,"value":1016},"    styles",{"type":170,"tag":255,"props":1018,"children":1019},{"style":292},[1020],{"type":175,"value":315},{"type":170,"tag":255,"props":1022,"children":1023},{"style":307},[1024],{"type":175,"value":1025}," []",{"type":170,"tag":255,"props":1027,"children":1028},{"style":292},[1029],{"type":175,"value":402},{"type":170,"tag":255,"props":1031,"children":1033},{"class":257,"line":1032},24,[1034,1039,1043,1047],{"type":170,"tag":255,"props":1035,"children":1036},{"style":307},[1037],{"type":175,"value":1038},"    customBlocks",{"type":170,"tag":255,"props":1040,"children":1041},{"style":292},[1042],{"type":175,"value":315},{"type":170,"tag":255,"props":1044,"children":1045},{"style":307},[1046],{"type":175,"value":1025},{"type":170,"tag":255,"props":1048,"children":1049},{"style":292},[1050],{"type":175,"value":402},{"type":170,"tag":255,"props":1052,"children":1054},{"class":257,"line":1053},25,[1055],{"type":170,"tag":255,"props":1056,"children":1057},{"style":292},[1058],{"type":175,"value":1059},"  };\n",{"type":170,"tag":255,"props":1061,"children":1063},{"class":257,"line":1062},26,[1064],{"type":170,"tag":255,"props":1065,"children":1066},{"style":562},[1067],{"type":175,"value":941},{"type":170,"tag":255,"props":1069,"children":1071},{"class":257,"line":1070},27,[1072,1076,1080],{"type":170,"tag":255,"props":1073,"children":1074},{"style":856},[1075],{"type":175,"value":859},{"type":170,"tag":255,"props":1077,"children":1078},{"style":286},[1079],{"type":175,"value":955},{"type":170,"tag":255,"props":1081,"children":1082},{"style":292},[1083],{"type":175,"value":712},{"type":170,"tag":255,"props":1085,"children":1087},{"class":257,"line":1086},28,[1088],{"type":170,"tag":255,"props":1089,"children":1090},{"style":292},[1091],{"type":175,"value":877},{"type":170,"tag":171,"props":1093,"children":1094},{},[1095,1097,1102],{"type":175,"value":1096},"我们可以将 SFC 结构融合到",{"type":170,"tag":178,"props":1098,"children":1100},{"className":1099},[],[1101],{"type":175,"value":218},{"type":175,"value":1103},"进行开发的过程成中，主要有这几点影响：",{"type":170,"tag":1105,"props":1106,"children":1107},"ul",{},[1108,1129,1148,1153],{"type":170,"tag":1109,"props":1110,"children":1111},"li",{},[1112,1114,1119,1121,1127],{"type":175,"value":1113},"允许为 Vue 组件的每个部分使用其它的 webpack loader，例如在",{"type":170,"tag":178,"props":1115,"children":1117},{"className":1116},[],[1118],{"type":175,"value":199},{"type":175,"value":1120},"的部分使用 Sass Loader ，在 ",{"type":170,"tag":178,"props":1122,"children":1124},{"className":1123},[],[1125],{"type":175,"value":1126},"\u003CcustomBlocks>",{"type":175,"value":1128},"的部分使用自定义 Loader",{"type":170,"tag":1109,"props":1130,"children":1131},{},[1132,1134,1139,1141,1146],{"type":175,"value":1133},"使用 webpack loader 将 ",{"type":170,"tag":178,"props":1135,"children":1137},{"className":1136},[],[1138],{"type":175,"value":199},{"type":175,"value":1140},"和 ",{"type":170,"tag":178,"props":1142,"children":1144},{"className":1143},[],[1145],{"type":175,"value":183},{"type":175,"value":1147}," 中引用的资源当作模块依赖来处理",{"type":170,"tag":1109,"props":1149,"children":1150},{},[1151],{"type":175,"value":1152},"模拟 Scoped CSS",{"type":170,"tag":1109,"props":1154,"children":1155},{},[1156],{"type":175,"value":1157},"在开发过程中使用热重载来保持状态",{"type":170,"tag":171,"props":1159,"children":1160},{},[1161,1163,1169],{"type":175,"value":1162},"以下主要介绍",{"type":170,"tag":178,"props":1164,"children":1166},{"className":1165},[],[1167],{"type":175,"value":1168},"Scoped CSS",{"type":175,"value":1170},"的原理。",{"type":170,"tag":203,"props":1172,"children":1174},{"id":1173},"scoped-css",[1175],{"type":175,"value":1168},{"type":170,"tag":1177,"props":1178,"children":1180},"h3",{"id":1179},"大白话版本之-scoped-css-原理",[1181],{"type":175,"value":1182},"大白话版本之 Scoped CSS 原理",{"type":170,"tag":171,"props":1184,"children":1185},{},[1186,1188,1194,1196,1202],{"type":175,"value":1187},"通过 webpack 调用 VueJS 中相应 Loader，给组件 HTML 模板添加自定义属性 (Attribute) ",{"type":170,"tag":178,"props":1189,"children":1191},{"className":1190},[],[1192],{"type":175,"value":1193},"data-v-x",{"type":175,"value":1195},"，以及给组件内 CSS 选择器添加对应的属性选择器 (Attribute Selector) ",{"type":170,"tag":178,"props":1197,"children":1199},{"className":1198},[],[1200],{"type":175,"value":1201},"[data-v-x]",{"type":175,"value":1203},"，达到组件内样式只能生效与组件内 HTML 的效果，代码效果如下：",{"type":170,"tag":245,"props":1205,"children":1209},{"className":1206,"code":1207,"language":1208,"meta":163,"style":163},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cdiv class='lionad' data-v-lionad>\u003C/div>\n\u003Cstyle>\n.lionad[data-v-lionad] {\n  background: @tiger-orange;\n}\n\u003C/style>\n","html",[1210],{"type":170,"tag":178,"props":1211,"children":1212},{"__ignoreMap":163},[1213,1270,1286,1318,1340,1347],{"type":170,"tag":255,"props":1214,"children":1215},{"class":257,"line":258},[1216,1221,1227,1233,1238,1242,1247,1251,1256,1261,1265],{"type":170,"tag":255,"props":1217,"children":1218},{"style":292},[1219],{"type":175,"value":1220},"\u003C",{"type":170,"tag":255,"props":1222,"children":1224},{"style":1223},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1225],{"type":175,"value":1226},"div",{"type":170,"tag":255,"props":1228,"children":1230},{"style":1229},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1231],{"type":175,"value":1232}," class",{"type":170,"tag":255,"props":1234,"children":1235},{"style":292},[1236],{"type":175,"value":1237},"=",{"type":170,"tag":255,"props":1239,"children":1240},{"style":379},[1241],{"type":175,"value":382},{"type":170,"tag":255,"props":1243,"children":1244},{"style":385},[1245],{"type":175,"value":1246},"lionad",{"type":170,"tag":255,"props":1248,"children":1249},{"style":379},[1250],{"type":175,"value":382},{"type":170,"tag":255,"props":1252,"children":1253},{"style":1229},[1254],{"type":175,"value":1255}," data-v-lionad",{"type":170,"tag":255,"props":1257,"children":1258},{"style":292},[1259],{"type":175,"value":1260},">\u003C/",{"type":170,"tag":255,"props":1262,"children":1263},{"style":1223},[1264],{"type":175,"value":1226},{"type":170,"tag":255,"props":1266,"children":1267},{"style":292},[1268],{"type":175,"value":1269},">\n",{"type":170,"tag":255,"props":1271,"children":1272},{"class":257,"line":303},[1273,1277,1282],{"type":170,"tag":255,"props":1274,"children":1275},{"style":292},[1276],{"type":175,"value":1220},{"type":170,"tag":255,"props":1278,"children":1279},{"style":1223},[1280],{"type":175,"value":1281},"style",{"type":170,"tag":255,"props":1283,"children":1284},{"style":292},[1285],{"type":175,"value":1269},{"type":170,"tag":255,"props":1287,"children":1288},{"class":257,"line":323},[1289,1294,1299,1304,1309,1314],{"type":170,"tag":255,"props":1290,"children":1292},{"style":1291},"--shiki-light:#39ADB5;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1293],{"type":175,"value":367},{"type":170,"tag":255,"props":1295,"children":1297},{"style":1296},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1298],{"type":175,"value":1246},{"type":170,"tag":255,"props":1300,"children":1301},{"style":292},[1302],{"type":175,"value":1303},"[",{"type":170,"tag":255,"props":1305,"children":1306},{"style":1229},[1307],{"type":175,"value":1308},"data-v-lionad",{"type":170,"tag":255,"props":1310,"children":1311},{"style":292},[1312],{"type":175,"value":1313},"]",{"type":170,"tag":255,"props":1315,"children":1316},{"style":292},[1317],{"type":175,"value":300},{"type":170,"tag":255,"props":1319,"children":1320},{"class":257,"line":347},[1321,1327,1331,1336],{"type":170,"tag":255,"props":1322,"children":1324},{"style":1323},"--shiki-light:#8796B0;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1325],{"type":175,"value":1326},"  background",{"type":170,"tag":255,"props":1328,"children":1329},{"style":292},[1330],{"type":175,"value":315},{"type":170,"tag":255,"props":1332,"children":1333},{"style":286},[1334],{"type":175,"value":1335}," @tiger-orange",{"type":170,"tag":255,"props":1337,"children":1338},{"style":292},[1339],{"type":175,"value":712},{"type":170,"tag":255,"props":1341,"children":1342},{"class":257,"line":405},[1343],{"type":170,"tag":255,"props":1344,"children":1345},{"style":292},[1346],{"type":175,"value":877},{"type":170,"tag":255,"props":1348,"children":1349},{"class":257,"line":451},[1350,1355,1359],{"type":170,"tag":255,"props":1351,"children":1352},{"style":292},[1353],{"type":175,"value":1354},"\u003C/",{"type":170,"tag":255,"props":1356,"children":1357},{"style":1223},[1358],{"type":175,"value":1281},{"type":170,"tag":255,"props":1360,"children":1361},{"style":292},[1362],{"type":175,"value":1269},{"type":170,"tag":1177,"props":1364,"children":1366},{"id":1365},"源码跟踪",[1367],{"type":175,"value":1365},{"type":170,"tag":171,"props":1369,"children":1370},{},[1371,1373,1378,1380,1385,1387,1393],{"type":175,"value":1372},"webpack 使用其它 CSS Loader 处理 VueJS 中对应 CSS 代码之前，",{"type":170,"tag":178,"props":1374,"children":1376},{"className":1375},[],[1377],{"type":175,"value":539},{"type":175,"value":1379}," 已经替我们做了一层简单的处理，如果组件中 ",{"type":170,"tag":178,"props":1381,"children":1383},{"className":1382},[],[1384],{"type":175,"value":1281},{"type":175,"value":1386}," 块包含了 ",{"type":170,"tag":178,"props":1388,"children":1390},{"className":1389},[],[1391],{"type":175,"value":1392},"scoped",{"type":175,"value":1394}," 属性：",{"type":170,"tag":245,"props":1396,"children":1398},{"className":1206,"code":1397,"language":1208,"meta":163,"style":163},"\u003C!-- 某个VueJS组件中 -->\n\u003Ctemplate>\n    \u003Cdiv class='lionad'>\u003C/div>\n\u003C/template>\n\u003Cstyle lang=\"scss\" scoped>\n    .lionad {\n        background: @tiger-orange;\n    }\n\u003C/style>\n",[1399],{"type":170,"tag":178,"props":1400,"children":1401},{"__ignoreMap":163},[1402,1410,1426,1470,1485,1528,1544,1564,1572],{"type":170,"tag":255,"props":1403,"children":1404},{"class":257,"line":258},[1405],{"type":170,"tag":255,"props":1406,"children":1407},{"style":562},[1408],{"type":175,"value":1409},"\u003C!-- 某个VueJS组件中 -->\n",{"type":170,"tag":255,"props":1411,"children":1412},{"class":257,"line":303},[1413,1417,1422],{"type":170,"tag":255,"props":1414,"children":1415},{"style":292},[1416],{"type":175,"value":1220},{"type":170,"tag":255,"props":1418,"children":1419},{"style":1223},[1420],{"type":175,"value":1421},"template",{"type":170,"tag":255,"props":1423,"children":1424},{"style":292},[1425],{"type":175,"value":1269},{"type":170,"tag":255,"props":1427,"children":1428},{"class":257,"line":323},[1429,1434,1438,1442,1446,1450,1454,1458,1462,1466],{"type":170,"tag":255,"props":1430,"children":1431},{"style":292},[1432],{"type":175,"value":1433},"    \u003C",{"type":170,"tag":255,"props":1435,"children":1436},{"style":1223},[1437],{"type":175,"value":1226},{"type":170,"tag":255,"props":1439,"children":1440},{"style":1229},[1441],{"type":175,"value":1232},{"type":170,"tag":255,"props":1443,"children":1444},{"style":292},[1445],{"type":175,"value":1237},{"type":170,"tag":255,"props":1447,"children":1448},{"style":379},[1449],{"type":175,"value":382},{"type":170,"tag":255,"props":1451,"children":1452},{"style":385},[1453],{"type":175,"value":1246},{"type":170,"tag":255,"props":1455,"children":1456},{"style":379},[1457],{"type":175,"value":382},{"type":170,"tag":255,"props":1459,"children":1460},{"style":292},[1461],{"type":175,"value":1260},{"type":170,"tag":255,"props":1463,"children":1464},{"style":1223},[1465],{"type":175,"value":1226},{"type":170,"tag":255,"props":1467,"children":1468},{"style":292},[1469],{"type":175,"value":1269},{"type":170,"tag":255,"props":1471,"children":1472},{"class":257,"line":347},[1473,1477,1481],{"type":170,"tag":255,"props":1474,"children":1475},{"style":292},[1476],{"type":175,"value":1354},{"type":170,"tag":255,"props":1478,"children":1479},{"style":1223},[1480],{"type":175,"value":1421},{"type":170,"tag":255,"props":1482,"children":1483},{"style":292},[1484],{"type":175,"value":1269},{"type":170,"tag":255,"props":1486,"children":1487},{"class":257,"line":405},[1488,1492,1496,1501,1505,1510,1515,1519,1524],{"type":170,"tag":255,"props":1489,"children":1490},{"style":292},[1491],{"type":175,"value":1220},{"type":170,"tag":255,"props":1493,"children":1494},{"style":1223},[1495],{"type":175,"value":1281},{"type":170,"tag":255,"props":1497,"children":1498},{"style":1229},[1499],{"type":175,"value":1500}," lang",{"type":170,"tag":255,"props":1502,"children":1503},{"style":292},[1504],{"type":175,"value":1237},{"type":170,"tag":255,"props":1506,"children":1507},{"style":379},[1508],{"type":175,"value":1509},"\"",{"type":170,"tag":255,"props":1511,"children":1512},{"style":385},[1513],{"type":175,"value":1514},"scss",{"type":170,"tag":255,"props":1516,"children":1517},{"style":379},[1518],{"type":175,"value":1509},{"type":170,"tag":255,"props":1520,"children":1521},{"style":1229},[1522],{"type":175,"value":1523}," scoped",{"type":170,"tag":255,"props":1525,"children":1526},{"style":292},[1527],{"type":175,"value":1269},{"type":170,"tag":255,"props":1529,"children":1530},{"class":257,"line":451},[1531,1536,1540],{"type":170,"tag":255,"props":1532,"children":1533},{"style":1291},[1534],{"type":175,"value":1535},"    .",{"type":170,"tag":255,"props":1537,"children":1538},{"style":1296},[1539],{"type":175,"value":1246},{"type":170,"tag":255,"props":1541,"children":1542},{"style":292},[1543],{"type":175,"value":300},{"type":170,"tag":255,"props":1545,"children":1546},{"class":257,"line":468},[1547,1552,1556,1560],{"type":170,"tag":255,"props":1548,"children":1549},{"style":1323},[1550],{"type":175,"value":1551},"        background",{"type":170,"tag":255,"props":1553,"children":1554},{"style":292},[1555],{"type":175,"value":315},{"type":170,"tag":255,"props":1557,"children":1558},{"style":286},[1559],{"type":175,"value":1335},{"type":170,"tag":255,"props":1561,"children":1562},{"style":292},[1563],{"type":175,"value":712},{"type":170,"tag":255,"props":1565,"children":1566},{"class":257,"line":477},[1567],{"type":170,"tag":255,"props":1568,"children":1569},{"style":292},[1570],{"type":175,"value":1571},"    }\n",{"type":170,"tag":255,"props":1573,"children":1574},{"class":257,"line":715},[1575,1579,1583],{"type":170,"tag":255,"props":1576,"children":1577},{"style":292},[1578],{"type":175,"value":1354},{"type":170,"tag":255,"props":1580,"children":1581},{"style":1223},[1582],{"type":175,"value":1281},{"type":170,"tag":255,"props":1584,"children":1585},{"style":292},[1586],{"type":175,"value":1269},{"type":170,"tag":171,"props":1588,"children":1589},{},[1590,1592,1598,1600,1605],{"type":175,"value":1591},"下代码即判断当前",{"type":170,"tag":178,"props":1593,"children":1595},{"className":1594},[],[1596],{"type":175,"value":1597},"SFC",{"type":175,"value":1599},"对象样式块中是否有",{"type":170,"tag":178,"props":1601,"children":1603},{"className":1602},[],[1604],{"type":175,"value":1392},{"type":175,"value":1606},"属性，并插入用于 query 中，顺带一提，每个单文件组件被解析后，都会生成对应组件 ID，ID 主要以生产/开发环境做区分，通过文件路径+源码或是文件路径的值作为哈希特征值的形式生成，如下：",{"type":170,"tag":245,"props":1608,"children":1610},{"className":247,"code":1609,"language":249,"meta":163,"style":163},"// vue-loader/index.js\nconst id = hash(isProduction  (shortFilePath + '\\n' + source) : shortFilePath)\nconst hasScoped = descriptor.styles.some(s => s.scoped)\nconst query = `? vue&type=template${idQuery}${scopedQuery}`\nconst request = templateRequest = stringifyRequest(src + query)\ntemplateImport = `import { render, staticRenderFns } from ${request}`\n",[1611],{"type":170,"tag":178,"props":1612,"children":1613},{"__ignoreMap":163},[1614,1621,1686,1752,1808,1852],{"type":170,"tag":255,"props":1615,"children":1616},{"class":257,"line":258},[1617],{"type":170,"tag":255,"props":1618,"children":1619},{"style":562},[1620],{"type":175,"value":565},{"type":170,"tag":255,"props":1622,"children":1623},{"class":257,"line":303},[1624,1628,1633,1637,1642,1646,1651,1656,1661,1666,1672,1676,1681],{"type":170,"tag":255,"props":1625,"children":1626},{"style":262},[1627],{"type":175,"value":265},{"type":170,"tag":255,"props":1629,"children":1630},{"style":268},[1631],{"type":175,"value":1632}," id",{"type":170,"tag":255,"props":1634,"children":1635},{"style":274},[1636],{"type":175,"value":277},{"type":170,"tag":255,"props":1638,"children":1639},{"style":280},[1640],{"type":175,"value":1641}," hash",{"type":170,"tag":255,"props":1643,"children":1644},{"style":286},[1645],{"type":175,"value":339},{"type":170,"tag":255,"props":1647,"children":1648},{"style":280},[1649],{"type":175,"value":1650},"isProduction",{"type":170,"tag":255,"props":1652,"children":1653},{"style":286},[1654],{"type":175,"value":1655},"  (shortFilePath ",{"type":170,"tag":255,"props":1657,"children":1658},{"style":274},[1659],{"type":175,"value":1660},"+",{"type":170,"tag":255,"props":1662,"children":1663},{"style":379},[1664],{"type":175,"value":1665}," '",{"type":170,"tag":255,"props":1667,"children":1669},{"style":1668},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1670],{"type":175,"value":1671},"\\n",{"type":170,"tag":255,"props":1673,"children":1674},{"style":379},[1675],{"type":175,"value":382},{"type":170,"tag":255,"props":1677,"children":1678},{"style":274},[1679],{"type":175,"value":1680}," +",{"type":170,"tag":255,"props":1682,"children":1683},{"style":286},[1684],{"type":175,"value":1685}," source) : shortFilePath)\n",{"type":170,"tag":255,"props":1687,"children":1688},{"class":257,"line":323},[1689,1693,1698,1702,1706,1710,1715,1719,1724,1728,1733,1738,1743,1747],{"type":170,"tag":255,"props":1690,"children":1691},{"style":262},[1692],{"type":175,"value":265},{"type":170,"tag":255,"props":1694,"children":1695},{"style":268},[1696],{"type":175,"value":1697}," hasScoped",{"type":170,"tag":255,"props":1699,"children":1700},{"style":274},[1701],{"type":175,"value":277},{"type":170,"tag":255,"props":1703,"children":1704},{"style":286},[1705],{"type":175,"value":577},{"type":170,"tag":255,"props":1707,"children":1708},{"style":292},[1709],{"type":175,"value":367},{"type":170,"tag":255,"props":1711,"children":1712},{"style":286},[1713],{"type":175,"value":1714},"styles",{"type":170,"tag":255,"props":1716,"children":1717},{"style":292},[1718],{"type":175,"value":367},{"type":170,"tag":255,"props":1720,"children":1721},{"style":280},[1722],{"type":175,"value":1723},"some",{"type":170,"tag":255,"props":1725,"children":1726},{"style":286},[1727],{"type":175,"value":339},{"type":170,"tag":255,"props":1729,"children":1730},{"style":750},[1731],{"type":175,"value":1732},"s",{"type":170,"tag":255,"props":1734,"children":1735},{"style":262},[1736],{"type":175,"value":1737}," =>",{"type":170,"tag":255,"props":1739,"children":1740},{"style":286},[1741],{"type":175,"value":1742}," s",{"type":170,"tag":255,"props":1744,"children":1745},{"style":292},[1746],{"type":175,"value":367},{"type":170,"tag":255,"props":1748,"children":1749},{"style":286},[1750],{"type":175,"value":1751},"scoped)\n",{"type":170,"tag":255,"props":1753,"children":1754},{"class":257,"line":347},[1755,1759,1764,1768,1773,1778,1784,1789,1794,1799,1803],{"type":170,"tag":255,"props":1756,"children":1757},{"style":262},[1758],{"type":175,"value":265},{"type":170,"tag":255,"props":1760,"children":1761},{"style":268},[1762],{"type":175,"value":1763}," query",{"type":170,"tag":255,"props":1765,"children":1766},{"style":274},[1767],{"type":175,"value":277},{"type":170,"tag":255,"props":1769,"children":1770},{"style":379},[1771],{"type":175,"value":1772}," `",{"type":170,"tag":255,"props":1774,"children":1775},{"style":385},[1776],{"type":175,"value":1777},"? vue&type=template",{"type":170,"tag":255,"props":1779,"children":1781},{"style":1780},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[1782],{"type":175,"value":1783},"${",{"type":170,"tag":255,"props":1785,"children":1786},{"style":286},[1787],{"type":175,"value":1788},"idQuery",{"type":170,"tag":255,"props":1790,"children":1791},{"style":1780},[1792],{"type":175,"value":1793},"}${",{"type":170,"tag":255,"props":1795,"children":1796},{"style":286},[1797],{"type":175,"value":1798},"scopedQuery",{"type":170,"tag":255,"props":1800,"children":1801},{"style":1780},[1802],{"type":175,"value":483},{"type":170,"tag":255,"props":1804,"children":1805},{"style":379},[1806],{"type":175,"value":1807},"`\n",{"type":170,"tag":255,"props":1809,"children":1810},{"class":257,"line":405},[1811,1815,1820,1824,1829,1833,1838,1843,1847],{"type":170,"tag":255,"props":1812,"children":1813},{"style":262},[1814],{"type":175,"value":265},{"type":170,"tag":255,"props":1816,"children":1817},{"style":268},[1818],{"type":175,"value":1819}," request",{"type":170,"tag":255,"props":1821,"children":1822},{"style":274},[1823],{"type":175,"value":277},{"type":170,"tag":255,"props":1825,"children":1826},{"style":286},[1827],{"type":175,"value":1828}," templateRequest ",{"type":170,"tag":255,"props":1830,"children":1831},{"style":274},[1832],{"type":175,"value":1237},{"type":170,"tag":255,"props":1834,"children":1835},{"style":280},[1836],{"type":175,"value":1837}," stringifyRequest",{"type":170,"tag":255,"props":1839,"children":1840},{"style":286},[1841],{"type":175,"value":1842},"(src ",{"type":170,"tag":255,"props":1844,"children":1845},{"style":274},[1846],{"type":175,"value":1660},{"type":170,"tag":255,"props":1848,"children":1849},{"style":286},[1850],{"type":175,"value":1851}," query)\n",{"type":170,"tag":255,"props":1853,"children":1854},{"class":257,"line":451},[1855,1860,1864,1868,1873,1877,1882,1886],{"type":170,"tag":255,"props":1856,"children":1857},{"style":286},[1858],{"type":175,"value":1859},"templateImport ",{"type":170,"tag":255,"props":1861,"children":1862},{"style":274},[1863],{"type":175,"value":1237},{"type":170,"tag":255,"props":1865,"children":1866},{"style":379},[1867],{"type":175,"value":1772},{"type":170,"tag":255,"props":1869,"children":1870},{"style":385},[1871],{"type":175,"value":1872},"import { render, staticRenderFns } from ",{"type":170,"tag":255,"props":1874,"children":1875},{"style":1780},[1876],{"type":175,"value":1783},{"type":170,"tag":255,"props":1878,"children":1879},{"style":286},[1880],{"type":175,"value":1881},"request",{"type":170,"tag":255,"props":1883,"children":1884},{"style":1780},[1885],{"type":175,"value":483},{"type":170,"tag":255,"props":1887,"children":1888},{"style":379},[1889],{"type":175,"value":1807},{"type":170,"tag":1891,"props":1892,"children":1894},"h4",{"id":1893},"html-模板处理",[1895],{"type":175,"value":1896},"HTML 模板处理",{"type":170,"tag":171,"props":1898,"children":1899},{},[1900,1902,1908,1910,1915,1917,1923],{"type":175,"value":1901},"在用于处理 SFC 结构中 HTML 模板的 ",{"type":170,"tag":178,"props":1903,"children":1905},{"className":1904},[],[1906],{"type":175,"value":1907},"templateLoader",{"type":175,"value":1909}," 中，我们可以得知，query 中所设置的参数将合并为 loader options 经由 webpack 转交 ",{"type":170,"tag":178,"props":1911,"children":1913},{"className":1912},[],[1914],{"type":175,"value":1907},{"type":175,"value":1916}," 再转交 ",{"type":170,"tag":178,"props":1918,"children":1920},{"className":1919},[],[1921],{"type":175,"value":1922},"@vue/component-compiler-utils.compileTemplate",{"type":175,"value":1924}," 处理：",{"type":170,"tag":245,"props":1926,"children":1928},{"className":247,"code":1927,"language":249,"meta":163,"style":163},"// vue-loader/templateLoader.js\nconst query = qs.parse(this.resourceQuery)\nconst { id } = query\nconst compilerOptions = Object.assign({}, options.compilerOptions, {\n    scopeId: query.scoped ? `data-v-${id}` : null\n})\nconst compiled = compileTemplate({ compilerOptions })\n",[1929],{"type":170,"tag":178,"props":1930,"children":1931},{"__ignoreMap":163},[1932,1940,1988,2016,2076,2143,2154],{"type":170,"tag":255,"props":1933,"children":1934},{"class":257,"line":258},[1935],{"type":170,"tag":255,"props":1936,"children":1937},{"style":562},[1938],{"type":175,"value":1939},"// vue-loader/templateLoader.js\n",{"type":170,"tag":255,"props":1941,"children":1942},{"class":257,"line":303},[1943,1947,1951,1955,1960,1964,1969,1973,1979,1983],{"type":170,"tag":255,"props":1944,"children":1945},{"style":262},[1946],{"type":175,"value":265},{"type":170,"tag":255,"props":1948,"children":1949},{"style":268},[1950],{"type":175,"value":1763},{"type":170,"tag":255,"props":1952,"children":1953},{"style":274},[1954],{"type":175,"value":277},{"type":170,"tag":255,"props":1956,"children":1957},{"style":286},[1958],{"type":175,"value":1959}," qs",{"type":170,"tag":255,"props":1961,"children":1962},{"style":292},[1963],{"type":175,"value":367},{"type":170,"tag":255,"props":1965,"children":1966},{"style":280},[1967],{"type":175,"value":1968},"parse",{"type":170,"tag":255,"props":1970,"children":1971},{"style":286},[1972],{"type":175,"value":339},{"type":170,"tag":255,"props":1974,"children":1976},{"style":1975},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[1977],{"type":175,"value":1978},"this",{"type":170,"tag":255,"props":1980,"children":1981},{"style":292},[1982],{"type":175,"value":367},{"type":170,"tag":255,"props":1984,"children":1985},{"style":286},[1986],{"type":175,"value":1987},"resourceQuery)\n",{"type":170,"tag":255,"props":1989,"children":1990},{"class":257,"line":323},[1991,1995,1999,2003,2007,2011],{"type":170,"tag":255,"props":1992,"children":1993},{"style":262},[1994],{"type":175,"value":265},{"type":170,"tag":255,"props":1996,"children":1997},{"style":292},[1998],{"type":175,"value":775},{"type":170,"tag":255,"props":2000,"children":2001},{"style":268},[2002],{"type":175,"value":1632},{"type":170,"tag":255,"props":2004,"children":2005},{"style":292},[2006],{"type":175,"value":785},{"type":170,"tag":255,"props":2008,"children":2009},{"style":274},[2010],{"type":175,"value":277},{"type":170,"tag":255,"props":2012,"children":2013},{"style":286},[2014],{"type":175,"value":2015}," query\n",{"type":170,"tag":255,"props":2017,"children":2018},{"class":257,"line":347},[2019,2023,2028,2032,2037,2041,2046,2050,2055,2059,2063,2068,2072],{"type":170,"tag":255,"props":2020,"children":2021},{"style":262},[2022],{"type":175,"value":265},{"type":170,"tag":255,"props":2024,"children":2025},{"style":268},[2026],{"type":175,"value":2027}," compilerOptions",{"type":170,"tag":255,"props":2029,"children":2030},{"style":274},[2031],{"type":175,"value":277},{"type":170,"tag":255,"props":2033,"children":2034},{"style":286},[2035],{"type":175,"value":2036}," Object",{"type":170,"tag":255,"props":2038,"children":2039},{"style":292},[2040],{"type":175,"value":367},{"type":170,"tag":255,"props":2042,"children":2043},{"style":280},[2044],{"type":175,"value":2045},"assign",{"type":170,"tag":255,"props":2047,"children":2048},{"style":286},[2049],{"type":175,"value":339},{"type":170,"tag":255,"props":2051,"children":2052},{"style":292},[2053],{"type":175,"value":2054},"{},",{"type":170,"tag":255,"props":2056,"children":2057},{"style":286},[2058],{"type":175,"value":623},{"type":170,"tag":255,"props":2060,"children":2061},{"style":292},[2062],{"type":175,"value":367},{"type":170,"tag":255,"props":2064,"children":2065},{"style":286},[2066],{"type":175,"value":2067},"compilerOptions",{"type":170,"tag":255,"props":2069,"children":2070},{"style":292},[2071],{"type":175,"value":295},{"type":170,"tag":255,"props":2073,"children":2074},{"style":292},[2075],{"type":175,"value":300},{"type":170,"tag":255,"props":2077,"children":2078},{"class":257,"line":405},[2079,2084,2088,2092,2096,2101,2106,2110,2115,2119,2124,2128,2133,2138],{"type":170,"tag":255,"props":2080,"children":2081},{"style":307},[2082],{"type":175,"value":2083},"    scopeId",{"type":170,"tag":255,"props":2085,"children":2086},{"style":292},[2087],{"type":175,"value":315},{"type":170,"tag":255,"props":2089,"children":2090},{"style":286},[2091],{"type":175,"value":1763},{"type":170,"tag":255,"props":2093,"children":2094},{"style":292},[2095],{"type":175,"value":367},{"type":170,"tag":255,"props":2097,"children":2098},{"style":286},[2099],{"type":175,"value":2100},"scoped ",{"type":170,"tag":255,"props":2102,"children":2103},{"style":274},[2104],{"type":175,"value":2105},"?",{"type":170,"tag":255,"props":2107,"children":2108},{"style":379},[2109],{"type":175,"value":1772},{"type":170,"tag":255,"props":2111,"children":2112},{"style":385},[2113],{"type":175,"value":2114},"data-v-",{"type":170,"tag":255,"props":2116,"children":2117},{"style":1780},[2118],{"type":175,"value":1783},{"type":170,"tag":255,"props":2120,"children":2121},{"style":286},[2122],{"type":175,"value":2123},"id",{"type":170,"tag":255,"props":2125,"children":2126},{"style":1780},[2127],{"type":175,"value":483},{"type":170,"tag":255,"props":2129,"children":2130},{"style":379},[2131],{"type":175,"value":2132},"`",{"type":170,"tag":255,"props":2134,"children":2135},{"style":274},[2136],{"type":175,"value":2137}," :",{"type":170,"tag":255,"props":2139,"children":2140},{"style":979},[2141],{"type":175,"value":2142}," null\n",{"type":170,"tag":255,"props":2144,"children":2145},{"class":257,"line":451},[2146,2150],{"type":170,"tag":255,"props":2147,"children":2148},{"style":292},[2149],{"type":175,"value":483},{"type":170,"tag":255,"props":2151,"children":2152},{"style":286},[2153],{"type":175,"value":448},{"type":170,"tag":255,"props":2155,"children":2156},{"class":257,"line":468},[2157,2161,2166,2170,2175,2179,2184,2189,2193],{"type":170,"tag":255,"props":2158,"children":2159},{"style":262},[2160],{"type":175,"value":265},{"type":170,"tag":255,"props":2162,"children":2163},{"style":268},[2164],{"type":175,"value":2165}," compiled",{"type":170,"tag":255,"props":2167,"children":2168},{"style":274},[2169],{"type":175,"value":277},{"type":170,"tag":255,"props":2171,"children":2172},{"style":280},[2173],{"type":175,"value":2174}," compileTemplate",{"type":170,"tag":255,"props":2176,"children":2177},{"style":286},[2178],{"type":175,"value":339},{"type":170,"tag":255,"props":2180,"children":2181},{"style":292},[2182],{"type":175,"value":2183},"{",{"type":170,"tag":255,"props":2185,"children":2186},{"style":286},[2187],{"type":175,"value":2188}," compilerOptions ",{"type":170,"tag":255,"props":2190,"children":2191},{"style":292},[2192],{"type":175,"value":483},{"type":170,"tag":255,"props":2194,"children":2195},{"style":286},[2196],{"type":175,"value":448},{"type":170,"tag":171,"props":2198,"children":2199},{},[2200,2202,2208,2210,2216],{"type":175,"value":2201},"实际 ",{"type":170,"tag":178,"props":2203,"children":2205},{"className":2204},[],[2206],{"type":175,"value":2207},"compileTemplate",{"type":175,"value":2209}," 函数在处理内容时，编译函数使用的是 query 中的 compiler 或 ",{"type":170,"tag":178,"props":2211,"children":2213},{"className":2212},[],[2214],{"type":175,"value":2215},"vue-template-compiler",{"type":175,"value":2217},"，后者会将模板文本转换成为 JavaScript 渲染函数，大致如下：",{"type":170,"tag":2219,"props":2220,"children":2221},"ol",{},[2222,2227,2232],{"type":170,"tag":1109,"props":2223,"children":2224},{},[2225],{"type":175,"value":2226},"从 HTML 模版转换为 AST(虚拟语法树)",{"type":170,"tag":1109,"props":2228,"children":2229},{},[2230],{"type":175,"value":2231},"AST 优化，处理静态模版与动态模板",{"type":170,"tag":1109,"props":2233,"children":2234},{},[2235],{"type":175,"value":2236},"生成 JS 函数，用于在运行时运行时生成纯 HTML",{"type":170,"tag":171,"props":2238,"children":2239},{},[2240],{"type":175,"value":2241},"代码分别对应：",{"type":170,"tag":245,"props":2243,"children":2245},{"className":247,"code":2244,"language":249,"meta":163,"style":163},"// vue-template-compiler/build.js/createCompilerCreator\nvar ast = parse(template.trim(), options)\noptimize(ast, options)\nvar code = generate(ast, options)\n",[2246],{"type":170,"tag":178,"props":2247,"children":2248},{"__ignoreMap":163},[2249,2257,2305,2326],{"type":170,"tag":255,"props":2250,"children":2251},{"class":257,"line":258},[2252],{"type":170,"tag":255,"props":2253,"children":2254},{"style":562},[2255],{"type":175,"value":2256},"// vue-template-compiler/build.js/createCompilerCreator\n",{"type":170,"tag":255,"props":2258,"children":2259},{"class":257,"line":303},[2260,2265,2270,2274,2278,2283,2287,2292,2296,2300],{"type":170,"tag":255,"props":2261,"children":2262},{"style":262},[2263],{"type":175,"value":2264},"var",{"type":170,"tag":255,"props":2266,"children":2267},{"style":286},[2268],{"type":175,"value":2269}," ast ",{"type":170,"tag":255,"props":2271,"children":2272},{"style":274},[2273],{"type":175,"value":1237},{"type":170,"tag":255,"props":2275,"children":2276},{"style":280},[2277],{"type":175,"value":586},{"type":170,"tag":255,"props":2279,"children":2280},{"style":286},[2281],{"type":175,"value":2282},"(template",{"type":170,"tag":255,"props":2284,"children":2285},{"style":292},[2286],{"type":175,"value":367},{"type":170,"tag":255,"props":2288,"children":2289},{"style":280},[2290],{"type":175,"value":2291},"trim",{"type":170,"tag":255,"props":2293,"children":2294},{"style":286},[2295],{"type":175,"value":647},{"type":170,"tag":255,"props":2297,"children":2298},{"style":292},[2299],{"type":175,"value":295},{"type":170,"tag":255,"props":2301,"children":2302},{"style":286},[2303],{"type":175,"value":2304}," options)\n",{"type":170,"tag":255,"props":2306,"children":2307},{"class":257,"line":323},[2308,2313,2318,2322],{"type":170,"tag":255,"props":2309,"children":2310},{"style":280},[2311],{"type":175,"value":2312},"optimize",{"type":170,"tag":255,"props":2314,"children":2315},{"style":286},[2316],{"type":175,"value":2317},"(ast",{"type":170,"tag":255,"props":2319,"children":2320},{"style":292},[2321],{"type":175,"value":295},{"type":170,"tag":255,"props":2323,"children":2324},{"style":286},[2325],{"type":175,"value":2304},{"type":170,"tag":255,"props":2327,"children":2328},{"class":257,"line":347},[2329,2333,2338,2342,2347,2351,2355],{"type":170,"tag":255,"props":2330,"children":2331},{"style":262},[2332],{"type":175,"value":2264},{"type":170,"tag":255,"props":2334,"children":2335},{"style":286},[2336],{"type":175,"value":2337}," code ",{"type":170,"tag":255,"props":2339,"children":2340},{"style":274},[2341],{"type":175,"value":1237},{"type":170,"tag":255,"props":2343,"children":2344},{"style":280},[2345],{"type":175,"value":2346}," generate",{"type":170,"tag":255,"props":2348,"children":2349},{"style":286},[2350],{"type":175,"value":2317},{"type":170,"tag":255,"props":2352,"children":2353},{"style":292},[2354],{"type":175,"value":295},{"type":170,"tag":255,"props":2356,"children":2357},{"style":286},[2358],{"type":175,"value":2304},{"type":170,"tag":171,"props":2360,"children":2361},{},[2362],{"type":175,"value":2363},"先前我们的组件 ID 在 parse 阶段解析开始标签时就会被推入内部储存的数据结构中：",{"type":170,"tag":245,"props":2365,"children":2367},{"className":247,"code":2366,"language":249,"meta":163,"style":163},"function elementToOpenTagSegments (el, state) {\n  var segments = [{ type: RAW, value: (\"\u003C\" + (el.tag)) }]\n  // _scopedId\n  if (state.options.scopeId) {\n    segments.push({ type: RAW, value: (\" \" + (state.options.scopeId)) })\n  }\n  segments.push({ type: RAW, value: \">\" })\n  return segments\n}\n",[2368],{"type":170,"tag":178,"props":2369,"children":2370},{"__ignoreMap":163},[2371,2410,2513,2521,2564,2666,2674,2743,2755],{"type":170,"tag":255,"props":2372,"children":2373},{"class":257,"line":258},[2374,2378,2383,2388,2393,2397,2402,2406],{"type":170,"tag":255,"props":2375,"children":2376},{"style":262},[2377],{"type":175,"value":739},{"type":170,"tag":255,"props":2379,"children":2380},{"style":280},[2381],{"type":175,"value":2382}," elementToOpenTagSegments",{"type":170,"tag":255,"props":2384,"children":2385},{"style":292},[2386],{"type":175,"value":2387}," (",{"type":170,"tag":255,"props":2389,"children":2390},{"style":750},[2391],{"type":175,"value":2392},"el",{"type":170,"tag":255,"props":2394,"children":2395},{"style":292},[2396],{"type":175,"value":295},{"type":170,"tag":255,"props":2398,"children":2399},{"style":750},[2400],{"type":175,"value":2401}," state",{"type":170,"tag":255,"props":2403,"children":2404},{"style":292},[2405],{"type":175,"value":397},{"type":170,"tag":255,"props":2407,"children":2408},{"style":292},[2409],{"type":175,"value":300},{"type":170,"tag":255,"props":2411,"children":2412},{"class":257,"line":303},[2413,2417,2422,2426,2431,2435,2440,2444,2449,2453,2458,2462,2466,2470,2474,2478,2482,2486,2490,2494,2499,2504,2508],{"type":170,"tag":255,"props":2414,"children":2415},{"style":262},[2416],{"type":175,"value":950},{"type":170,"tag":255,"props":2418,"children":2419},{"style":286},[2420],{"type":175,"value":2421}," segments",{"type":170,"tag":255,"props":2423,"children":2424},{"style":274},[2425],{"type":175,"value":277},{"type":170,"tag":255,"props":2427,"children":2428},{"style":307},[2429],{"type":175,"value":2430}," [",{"type":170,"tag":255,"props":2432,"children":2433},{"style":292},[2434],{"type":175,"value":2183},{"type":170,"tag":255,"props":2436,"children":2437},{"style":307},[2438],{"type":175,"value":2439}," type",{"type":170,"tag":255,"props":2441,"children":2442},{"style":292},[2443],{"type":175,"value":315},{"type":170,"tag":255,"props":2445,"children":2446},{"style":268},[2447],{"type":175,"value":2448}," RAW",{"type":170,"tag":255,"props":2450,"children":2451},{"style":292},[2452],{"type":175,"value":295},{"type":170,"tag":255,"props":2454,"children":2455},{"style":307},[2456],{"type":175,"value":2457}," value",{"type":170,"tag":255,"props":2459,"children":2460},{"style":292},[2461],{"type":175,"value":315},{"type":170,"tag":255,"props":2463,"children":2464},{"style":307},[2465],{"type":175,"value":2387},{"type":170,"tag":255,"props":2467,"children":2468},{"style":379},[2469],{"type":175,"value":1509},{"type":170,"tag":255,"props":2471,"children":2472},{"style":385},[2473],{"type":175,"value":1220},{"type":170,"tag":255,"props":2475,"children":2476},{"style":379},[2477],{"type":175,"value":1509},{"type":170,"tag":255,"props":2479,"children":2480},{"style":274},[2481],{"type":175,"value":1680},{"type":170,"tag":255,"props":2483,"children":2484},{"style":307},[2485],{"type":175,"value":2387},{"type":170,"tag":255,"props":2487,"children":2488},{"style":286},[2489],{"type":175,"value":2392},{"type":170,"tag":255,"props":2491,"children":2492},{"style":292},[2493],{"type":175,"value":367},{"type":170,"tag":255,"props":2495,"children":2496},{"style":286},[2497],{"type":175,"value":2498},"tag",{"type":170,"tag":255,"props":2500,"children":2501},{"style":307},[2502],{"type":175,"value":2503},")) ",{"type":170,"tag":255,"props":2505,"children":2506},{"style":292},[2507],{"type":175,"value":483},{"type":170,"tag":255,"props":2509,"children":2510},{"style":307},[2511],{"type":175,"value":2512},"]\n",{"type":170,"tag":255,"props":2514,"children":2515},{"class":257,"line":323},[2516],{"type":170,"tag":255,"props":2517,"children":2518},{"style":562},[2519],{"type":175,"value":2520},"  // _scopedId\n",{"type":170,"tag":255,"props":2522,"children":2523},{"class":257,"line":347},[2524,2529,2533,2538,2542,2546,2550,2555,2560],{"type":170,"tag":255,"props":2525,"children":2526},{"style":856},[2527],{"type":175,"value":2528},"  if",{"type":170,"tag":255,"props":2530,"children":2531},{"style":307},[2532],{"type":175,"value":2387},{"type":170,"tag":255,"props":2534,"children":2535},{"style":286},[2536],{"type":175,"value":2537},"state",{"type":170,"tag":255,"props":2539,"children":2540},{"style":292},[2541],{"type":175,"value":367},{"type":170,"tag":255,"props":2543,"children":2544},{"style":286},[2545],{"type":175,"value":753},{"type":170,"tag":255,"props":2547,"children":2548},{"style":292},[2549],{"type":175,"value":367},{"type":170,"tag":255,"props":2551,"children":2552},{"style":286},[2553],{"type":175,"value":2554},"scopeId",{"type":170,"tag":255,"props":2556,"children":2557},{"style":307},[2558],{"type":175,"value":2559},") ",{"type":170,"tag":255,"props":2561,"children":2562},{"style":292},[2563],{"type":175,"value":344},{"type":170,"tag":255,"props":2565,"children":2566},{"class":257,"line":405},[2567,2572,2576,2581,2585,2589,2593,2597,2601,2605,2609,2613,2617,2621,2626,2630,2634,2638,2642,2646,2650,2654,2658,2662],{"type":170,"tag":255,"props":2568,"children":2569},{"style":286},[2570],{"type":175,"value":2571},"    segments",{"type":170,"tag":255,"props":2573,"children":2574},{"style":292},[2575],{"type":175,"value":367},{"type":170,"tag":255,"props":2577,"children":2578},{"style":280},[2579],{"type":175,"value":2580},"push",{"type":170,"tag":255,"props":2582,"children":2583},{"style":307},[2584],{"type":175,"value":339},{"type":170,"tag":255,"props":2586,"children":2587},{"style":292},[2588],{"type":175,"value":2183},{"type":170,"tag":255,"props":2590,"children":2591},{"style":307},[2592],{"type":175,"value":2439},{"type":170,"tag":255,"props":2594,"children":2595},{"style":292},[2596],{"type":175,"value":315},{"type":170,"tag":255,"props":2598,"children":2599},{"style":268},[2600],{"type":175,"value":2448},{"type":170,"tag":255,"props":2602,"children":2603},{"style":292},[2604],{"type":175,"value":295},{"type":170,"tag":255,"props":2606,"children":2607},{"style":307},[2608],{"type":175,"value":2457},{"type":170,"tag":255,"props":2610,"children":2611},{"style":292},[2612],{"type":175,"value":315},{"type":170,"tag":255,"props":2614,"children":2615},{"style":307},[2616],{"type":175,"value":2387},{"type":170,"tag":255,"props":2618,"children":2619},{"style":379},[2620],{"type":175,"value":1509},{"type":170,"tag":255,"props":2622,"children":2623},{"style":379},[2624],{"type":175,"value":2625}," \"",{"type":170,"tag":255,"props":2627,"children":2628},{"style":274},[2629],{"type":175,"value":1680},{"type":170,"tag":255,"props":2631,"children":2632},{"style":307},[2633],{"type":175,"value":2387},{"type":170,"tag":255,"props":2635,"children":2636},{"style":286},[2637],{"type":175,"value":2537},{"type":170,"tag":255,"props":2639,"children":2640},{"style":292},[2641],{"type":175,"value":367},{"type":170,"tag":255,"props":2643,"children":2644},{"style":286},[2645],{"type":175,"value":753},{"type":170,"tag":255,"props":2647,"children":2648},{"style":292},[2649],{"type":175,"value":367},{"type":170,"tag":255,"props":2651,"children":2652},{"style":286},[2653],{"type":175,"value":2554},{"type":170,"tag":255,"props":2655,"children":2656},{"style":307},[2657],{"type":175,"value":2503},{"type":170,"tag":255,"props":2659,"children":2660},{"style":292},[2661],{"type":175,"value":483},{"type":170,"tag":255,"props":2663,"children":2664},{"style":307},[2665],{"type":175,"value":448},{"type":170,"tag":255,"props":2667,"children":2668},{"class":257,"line":451},[2669],{"type":170,"tag":255,"props":2670,"children":2671},{"style":292},[2672],{"type":175,"value":2673},"  }\n",{"type":170,"tag":255,"props":2675,"children":2676},{"class":257,"line":468},[2677,2682,2686,2690,2694,2698,2702,2706,2710,2714,2718,2722,2726,2731,2735,2739],{"type":170,"tag":255,"props":2678,"children":2679},{"style":286},[2680],{"type":175,"value":2681},"  segments",{"type":170,"tag":255,"props":2683,"children":2684},{"style":292},[2685],{"type":175,"value":367},{"type":170,"tag":255,"props":2687,"children":2688},{"style":280},[2689],{"type":175,"value":2580},{"type":170,"tag":255,"props":2691,"children":2692},{"style":307},[2693],{"type":175,"value":339},{"type":170,"tag":255,"props":2695,"children":2696},{"style":292},[2697],{"type":175,"value":2183},{"type":170,"tag":255,"props":2699,"children":2700},{"style":307},[2701],{"type":175,"value":2439},{"type":170,"tag":255,"props":2703,"children":2704},{"style":292},[2705],{"type":175,"value":315},{"type":170,"tag":255,"props":2707,"children":2708},{"style":268},[2709],{"type":175,"value":2448},{"type":170,"tag":255,"props":2711,"children":2712},{"style":292},[2713],{"type":175,"value":295},{"type":170,"tag":255,"props":2715,"children":2716},{"style":307},[2717],{"type":175,"value":2457},{"type":170,"tag":255,"props":2719,"children":2720},{"style":292},[2721],{"type":175,"value":315},{"type":170,"tag":255,"props":2723,"children":2724},{"style":379},[2725],{"type":175,"value":2625},{"type":170,"tag":255,"props":2727,"children":2728},{"style":385},[2729],{"type":175,"value":2730},">",{"type":170,"tag":255,"props":2732,"children":2733},{"style":379},[2734],{"type":175,"value":1509},{"type":170,"tag":255,"props":2736,"children":2737},{"style":292},[2738],{"type":175,"value":785},{"type":170,"tag":255,"props":2740,"children":2741},{"style":307},[2742],{"type":175,"value":448},{"type":170,"tag":255,"props":2744,"children":2745},{"class":257,"line":477},[2746,2750],{"type":170,"tag":255,"props":2747,"children":2748},{"style":856},[2749],{"type":175,"value":859},{"type":170,"tag":255,"props":2751,"children":2752},{"style":286},[2753],{"type":175,"value":2754}," segments\n",{"type":170,"tag":255,"props":2756,"children":2757},{"class":257,"line":715},[2758],{"type":170,"tag":255,"props":2759,"children":2760},{"style":292},[2761],{"type":175,"value":877},{"type":170,"tag":171,"props":2763,"children":2764},{},[2765,2767,2773],{"type":175,"value":2766},"先前我们的 HTML 模板 ",{"type":170,"tag":178,"props":2768,"children":2770},{"className":2769},[],[2771],{"type":175,"value":2772},"\u003Cdiv class='lionad'>\u003C/div>",{"type":175,"value":2774}," 中开始标签会被转换成如下数据结构：",{"type":170,"tag":245,"props":2776,"children":2778},{"className":247,"code":2777,"language":249,"meta":163,"style":163},"[\n    { type: RAW, value: '\u003Cdiv' },\n    { type: RAW, value: 'class=lionad' },\n    { type: RAW, value: 'data-v-xxxxxx' },\n    { type: RAW, value: '>' },\n]\n",[2779],{"type":170,"tag":178,"props":2780,"children":2781},{"__ignoreMap":163},[2782,2790,2840,2888,2936,2983],{"type":170,"tag":255,"props":2783,"children":2784},{"class":257,"line":258},[2785],{"type":170,"tag":255,"props":2786,"children":2787},{"style":286},[2788],{"type":175,"value":2789},"[\n",{"type":170,"tag":255,"props":2791,"children":2792},{"class":257,"line":303},[2793,2798,2802,2806,2810,2814,2818,2822,2826,2831,2835],{"type":170,"tag":255,"props":2794,"children":2795},{"style":292},[2796],{"type":175,"value":2797},"    {",{"type":170,"tag":255,"props":2799,"children":2800},{"style":307},[2801],{"type":175,"value":2439},{"type":170,"tag":255,"props":2803,"children":2804},{"style":292},[2805],{"type":175,"value":315},{"type":170,"tag":255,"props":2807,"children":2808},{"style":268},[2809],{"type":175,"value":2448},{"type":170,"tag":255,"props":2811,"children":2812},{"style":292},[2813],{"type":175,"value":295},{"type":170,"tag":255,"props":2815,"children":2816},{"style":307},[2817],{"type":175,"value":2457},{"type":170,"tag":255,"props":2819,"children":2820},{"style":292},[2821],{"type":175,"value":315},{"type":170,"tag":255,"props":2823,"children":2824},{"style":379},[2825],{"type":175,"value":1665},{"type":170,"tag":255,"props":2827,"children":2828},{"style":385},[2829],{"type":175,"value":2830},"\u003Cdiv",{"type":170,"tag":255,"props":2832,"children":2833},{"style":379},[2834],{"type":175,"value":382},{"type":170,"tag":255,"props":2836,"children":2837},{"style":292},[2838],{"type":175,"value":2839}," },\n",{"type":170,"tag":255,"props":2841,"children":2842},{"class":257,"line":323},[2843,2847,2851,2855,2859,2863,2867,2871,2875,2880,2884],{"type":170,"tag":255,"props":2844,"children":2845},{"style":292},[2846],{"type":175,"value":2797},{"type":170,"tag":255,"props":2848,"children":2849},{"style":307},[2850],{"type":175,"value":2439},{"type":170,"tag":255,"props":2852,"children":2853},{"style":292},[2854],{"type":175,"value":315},{"type":170,"tag":255,"props":2856,"children":2857},{"style":268},[2858],{"type":175,"value":2448},{"type":170,"tag":255,"props":2860,"children":2861},{"style":292},[2862],{"type":175,"value":295},{"type":170,"tag":255,"props":2864,"children":2865},{"style":307},[2866],{"type":175,"value":2457},{"type":170,"tag":255,"props":2868,"children":2869},{"style":292},[2870],{"type":175,"value":315},{"type":170,"tag":255,"props":2872,"children":2873},{"style":379},[2874],{"type":175,"value":1665},{"type":170,"tag":255,"props":2876,"children":2877},{"style":385},[2878],{"type":175,"value":2879},"class=lionad",{"type":170,"tag":255,"props":2881,"children":2882},{"style":379},[2883],{"type":175,"value":382},{"type":170,"tag":255,"props":2885,"children":2886},{"style":292},[2887],{"type":175,"value":2839},{"type":170,"tag":255,"props":2889,"children":2890},{"class":257,"line":347},[2891,2895,2899,2903,2907,2911,2915,2919,2923,2928,2932],{"type":170,"tag":255,"props":2892,"children":2893},{"style":292},[2894],{"type":175,"value":2797},{"type":170,"tag":255,"props":2896,"children":2897},{"style":307},[2898],{"type":175,"value":2439},{"type":170,"tag":255,"props":2900,"children":2901},{"style":292},[2902],{"type":175,"value":315},{"type":170,"tag":255,"props":2904,"children":2905},{"style":268},[2906],{"type":175,"value":2448},{"type":170,"tag":255,"props":2908,"children":2909},{"style":292},[2910],{"type":175,"value":295},{"type":170,"tag":255,"props":2912,"children":2913},{"style":307},[2914],{"type":175,"value":2457},{"type":170,"tag":255,"props":2916,"children":2917},{"style":292},[2918],{"type":175,"value":315},{"type":170,"tag":255,"props":2920,"children":2921},{"style":379},[2922],{"type":175,"value":1665},{"type":170,"tag":255,"props":2924,"children":2925},{"style":385},[2926],{"type":175,"value":2927},"data-v-xxxxxx",{"type":170,"tag":255,"props":2929,"children":2930},{"style":379},[2931],{"type":175,"value":382},{"type":170,"tag":255,"props":2933,"children":2934},{"style":292},[2935],{"type":175,"value":2839},{"type":170,"tag":255,"props":2937,"children":2938},{"class":257,"line":405},[2939,2943,2947,2951,2955,2959,2963,2967,2971,2975,2979],{"type":170,"tag":255,"props":2940,"children":2941},{"style":292},[2942],{"type":175,"value":2797},{"type":170,"tag":255,"props":2944,"children":2945},{"style":307},[2946],{"type":175,"value":2439},{"type":170,"tag":255,"props":2948,"children":2949},{"style":292},[2950],{"type":175,"value":315},{"type":170,"tag":255,"props":2952,"children":2953},{"style":268},[2954],{"type":175,"value":2448},{"type":170,"tag":255,"props":2956,"children":2957},{"style":292},[2958],{"type":175,"value":295},{"type":170,"tag":255,"props":2960,"children":2961},{"style":307},[2962],{"type":175,"value":2457},{"type":170,"tag":255,"props":2964,"children":2965},{"style":292},[2966],{"type":175,"value":315},{"type":170,"tag":255,"props":2968,"children":2969},{"style":379},[2970],{"type":175,"value":1665},{"type":170,"tag":255,"props":2972,"children":2973},{"style":385},[2974],{"type":175,"value":2730},{"type":170,"tag":255,"props":2976,"children":2977},{"style":379},[2978],{"type":175,"value":382},{"type":170,"tag":255,"props":2980,"children":2981},{"style":292},[2982],{"type":175,"value":2839},{"type":170,"tag":255,"props":2984,"children":2985},{"class":257,"line":451},[2986],{"type":170,"tag":255,"props":2987,"children":2988},{"style":286},[2989],{"type":175,"value":2512},{"type":170,"tag":1891,"props":2991,"children":2993},{"id":2992},"样式模板处理",[2994],{"type":175,"value":2992},{"type":170,"tag":171,"props":2996,"children":2997},{},[2998,3000,3006,3008,3014,3016,3022,3024,3030],{"type":175,"value":2999},"与 HTML Template 解析的过程类似，通过 webpack 将样式模板转交 ",{"type":170,"tag":178,"props":3001,"children":3003},{"className":3002},[],[3004],{"type":175,"value":3005},"stylePostLoader",{"type":175,"value":3007}," 进行处理，处理逻辑主要引用了 ",{"type":170,"tag":178,"props":3009,"children":3011},{"className":3010},[],[3012],{"type":175,"value":3013},"@vue/component-compiler-utils",{"type":175,"value":3015}," 中的 ",{"type":170,"tag":178,"props":3017,"children":3019},{"className":3018},[],[3020],{"type":175,"value":3021},"compileStyle",{"type":175,"value":3023}," 部分，后者对样式模板进行解析的过程中，将会对含 scoped 标记的模板引入插件 ",{"type":170,"tag":178,"props":3025,"children":3027},{"className":3026},[],[3028],{"type":175,"value":3029},"stylePlugins/scoped.js",{"type":175,"value":3031},"：",{"type":170,"tag":245,"props":3033,"children":3035},{"className":247,"code":3034,"language":249,"meta":163,"style":163},"// component-compiler-utils/compileStyle.js\nfunction doCompileStyle (options) {\n    if (scoped) {\n        plugins.push(scoped_1.default(id));\n    }\n    return { result: postcss(plugins).process(source, postCSSOptions) }\n}\n",[3036],{"type":170,"tag":178,"props":3037,"children":3038},{"__ignoreMap":163},[3039,3047,3075,3099,3150,3157,3230],{"type":170,"tag":255,"props":3040,"children":3041},{"class":257,"line":258},[3042],{"type":170,"tag":255,"props":3043,"children":3044},{"style":562},[3045],{"type":175,"value":3046},"// component-compiler-utils/compileStyle.js\n",{"type":170,"tag":255,"props":3048,"children":3049},{"class":257,"line":303},[3050,3054,3059,3063,3067,3071],{"type":170,"tag":255,"props":3051,"children":3052},{"style":262},[3053],{"type":175,"value":739},{"type":170,"tag":255,"props":3055,"children":3056},{"style":280},[3057],{"type":175,"value":3058}," doCompileStyle",{"type":170,"tag":255,"props":3060,"children":3061},{"style":292},[3062],{"type":175,"value":2387},{"type":170,"tag":255,"props":3064,"children":3065},{"style":750},[3066],{"type":175,"value":753},{"type":170,"tag":255,"props":3068,"children":3069},{"style":292},[3070],{"type":175,"value":397},{"type":170,"tag":255,"props":3072,"children":3073},{"style":292},[3074],{"type":175,"value":300},{"type":170,"tag":255,"props":3076,"children":3077},{"class":257,"line":323},[3078,3083,3087,3091,3095],{"type":170,"tag":255,"props":3079,"children":3080},{"style":856},[3081],{"type":175,"value":3082},"    if",{"type":170,"tag":255,"props":3084,"children":3085},{"style":307},[3086],{"type":175,"value":2387},{"type":170,"tag":255,"props":3088,"children":3089},{"style":286},[3090],{"type":175,"value":1392},{"type":170,"tag":255,"props":3092,"children":3093},{"style":307},[3094],{"type":175,"value":2559},{"type":170,"tag":255,"props":3096,"children":3097},{"style":292},[3098],{"type":175,"value":344},{"type":170,"tag":255,"props":3100,"children":3101},{"class":257,"line":347},[3102,3107,3111,3115,3119,3124,3128,3133,3137,3141,3146],{"type":170,"tag":255,"props":3103,"children":3104},{"style":286},[3105],{"type":175,"value":3106},"        plugins",{"type":170,"tag":255,"props":3108,"children":3109},{"style":292},[3110],{"type":175,"value":367},{"type":170,"tag":255,"props":3112,"children":3113},{"style":280},[3114],{"type":175,"value":2580},{"type":170,"tag":255,"props":3116,"children":3117},{"style":307},[3118],{"type":175,"value":339},{"type":170,"tag":255,"props":3120,"children":3121},{"style":286},[3122],{"type":175,"value":3123},"scoped_1",{"type":170,"tag":255,"props":3125,"children":3126},{"style":292},[3127],{"type":175,"value":367},{"type":170,"tag":255,"props":3129,"children":3130},{"style":280},[3131],{"type":175,"value":3132},"default",{"type":170,"tag":255,"props":3134,"children":3135},{"style":307},[3136],{"type":175,"value":339},{"type":170,"tag":255,"props":3138,"children":3139},{"style":286},[3140],{"type":175,"value":2123},{"type":170,"tag":255,"props":3142,"children":3143},{"style":307},[3144],{"type":175,"value":3145},"))",{"type":170,"tag":255,"props":3147,"children":3148},{"style":292},[3149],{"type":175,"value":712},{"type":170,"tag":255,"props":3151,"children":3152},{"class":257,"line":405},[3153],{"type":170,"tag":255,"props":3154,"children":3155},{"style":292},[3156],{"type":175,"value":1571},{"type":170,"tag":255,"props":3158,"children":3159},{"class":257,"line":451},[3160,3165,3169,3174,3178,3183,3187,3192,3196,3200,3205,3209,3213,3217,3222,3226],{"type":170,"tag":255,"props":3161,"children":3162},{"style":856},[3163],{"type":175,"value":3164},"    return",{"type":170,"tag":255,"props":3166,"children":3167},{"style":292},[3168],{"type":175,"value":775},{"type":170,"tag":255,"props":3170,"children":3171},{"style":307},[3172],{"type":175,"value":3173}," result",{"type":170,"tag":255,"props":3175,"children":3176},{"style":292},[3177],{"type":175,"value":315},{"type":170,"tag":255,"props":3179,"children":3180},{"style":280},[3181],{"type":175,"value":3182}," postcss",{"type":170,"tag":255,"props":3184,"children":3185},{"style":307},[3186],{"type":175,"value":339},{"type":170,"tag":255,"props":3188,"children":3189},{"style":286},[3190],{"type":175,"value":3191},"plugins",{"type":170,"tag":255,"props":3193,"children":3194},{"style":307},[3195],{"type":175,"value":397},{"type":170,"tag":255,"props":3197,"children":3198},{"style":292},[3199],{"type":175,"value":367},{"type":170,"tag":255,"props":3201,"children":3202},{"style":280},[3203],{"type":175,"value":3204},"process",{"type":170,"tag":255,"props":3206,"children":3207},{"style":307},[3208],{"type":175,"value":339},{"type":170,"tag":255,"props":3210,"children":3211},{"style":286},[3212],{"type":175,"value":832},{"type":170,"tag":255,"props":3214,"children":3215},{"style":292},[3216],{"type":175,"value":295},{"type":170,"tag":255,"props":3218,"children":3219},{"style":286},[3220],{"type":175,"value":3221}," postCSSOptions",{"type":170,"tag":255,"props":3223,"children":3224},{"style":307},[3225],{"type":175,"value":2559},{"type":170,"tag":255,"props":3227,"children":3228},{"style":292},[3229],{"type":175,"value":877},{"type":170,"tag":255,"props":3231,"children":3232},{"class":257,"line":468},[3233],{"type":170,"tag":255,"props":3234,"children":3235},{"style":292},[3236],{"type":175,"value":877},{"type":170,"tag":171,"props":3238,"children":3239},{},[3240,3242,3248,3250,3255],{"type":175,"value":3241},"插件 ",{"type":170,"tag":178,"props":3243,"children":3245},{"className":3244},[],[3246],{"type":175,"value":3247},"scoped.js",{"type":175,"value":3249}," 将 ",{"type":170,"tag":178,"props":3251,"children":3253},{"className":3252},[],[3254],{"type":175,"value":2927},{"type":175,"value":3256}," 添加到选择器末尾的具体逻辑如下，遍历每一个选择器组合下的选择器，选择给每个组合下最后一个选择器的末尾插入：",{"type":170,"tag":245,"props":3258,"children":3260},{"className":247,"code":3259,"language":249,"meta":163,"style":163},"// component-compiler-utils/stylePlugins/scoped.js\nselectors.each((selector) => {\n    selector.each((n) => {\n        if (n.value === '::v-deep' || n.value === '>>>' || n.value === '/deep/') {\n            return false;\n        }\n    });\n    selector.insertAfter(node, selectorParser.attribute({\n        attribute: id\n    }))\n})\n",[3261],{"type":170,"tag":178,"props":3262,"children":3263},{"__ignoreMap":163},[3264,3272,3314,3355,3474,3492,3500,3516,3567,3584,3596],{"type":170,"tag":255,"props":3265,"children":3266},{"class":257,"line":258},[3267],{"type":170,"tag":255,"props":3268,"children":3269},{"style":562},[3270],{"type":175,"value":3271},"// component-compiler-utils/stylePlugins/scoped.js\n",{"type":170,"tag":255,"props":3273,"children":3274},{"class":257,"line":303},[3275,3280,3284,3289,3293,3297,3302,3306,3310],{"type":170,"tag":255,"props":3276,"children":3277},{"style":286},[3278],{"type":175,"value":3279},"selectors",{"type":170,"tag":255,"props":3281,"children":3282},{"style":292},[3283],{"type":175,"value":367},{"type":170,"tag":255,"props":3285,"children":3286},{"style":280},[3287],{"type":175,"value":3288},"each",{"type":170,"tag":255,"props":3290,"children":3291},{"style":286},[3292],{"type":175,"value":339},{"type":170,"tag":255,"props":3294,"children":3295},{"style":292},[3296],{"type":175,"value":339},{"type":170,"tag":255,"props":3298,"children":3299},{"style":750},[3300],{"type":175,"value":3301},"selector",{"type":170,"tag":255,"props":3303,"children":3304},{"style":292},[3305],{"type":175,"value":397},{"type":170,"tag":255,"props":3307,"children":3308},{"style":262},[3309],{"type":175,"value":1737},{"type":170,"tag":255,"props":3311,"children":3312},{"style":292},[3313],{"type":175,"value":300},{"type":170,"tag":255,"props":3315,"children":3316},{"class":257,"line":323},[3317,3322,3326,3330,3334,3338,3343,3347,3351],{"type":170,"tag":255,"props":3318,"children":3319},{"style":286},[3320],{"type":175,"value":3321},"    selector",{"type":170,"tag":255,"props":3323,"children":3324},{"style":292},[3325],{"type":175,"value":367},{"type":170,"tag":255,"props":3327,"children":3328},{"style":280},[3329],{"type":175,"value":3288},{"type":170,"tag":255,"props":3331,"children":3332},{"style":307},[3333],{"type":175,"value":339},{"type":170,"tag":255,"props":3335,"children":3336},{"style":292},[3337],{"type":175,"value":339},{"type":170,"tag":255,"props":3339,"children":3340},{"style":750},[3341],{"type":175,"value":3342},"n",{"type":170,"tag":255,"props":3344,"children":3345},{"style":292},[3346],{"type":175,"value":397},{"type":170,"tag":255,"props":3348,"children":3349},{"style":262},[3350],{"type":175,"value":1737},{"type":170,"tag":255,"props":3352,"children":3353},{"style":292},[3354],{"type":175,"value":300},{"type":170,"tag":255,"props":3356,"children":3357},{"class":257,"line":347},[3358,3363,3367,3371,3375,3380,3385,3389,3394,3398,3403,3408,3412,3416,3420,3424,3429,3433,3437,3441,3445,3449,3453,3457,3462,3466,3470],{"type":170,"tag":255,"props":3359,"children":3360},{"style":856},[3361],{"type":175,"value":3362},"        if",{"type":170,"tag":255,"props":3364,"children":3365},{"style":307},[3366],{"type":175,"value":2387},{"type":170,"tag":255,"props":3368,"children":3369},{"style":286},[3370],{"type":175,"value":3342},{"type":170,"tag":255,"props":3372,"children":3373},{"style":292},[3374],{"type":175,"value":367},{"type":170,"tag":255,"props":3376,"children":3377},{"style":286},[3378],{"type":175,"value":3379},"value",{"type":170,"tag":255,"props":3381,"children":3382},{"style":274},[3383],{"type":175,"value":3384}," ===",{"type":170,"tag":255,"props":3386,"children":3387},{"style":379},[3388],{"type":175,"value":1665},{"type":170,"tag":255,"props":3390,"children":3391},{"style":385},[3392],{"type":175,"value":3393},"::v-deep",{"type":170,"tag":255,"props":3395,"children":3396},{"style":379},[3397],{"type":175,"value":382},{"type":170,"tag":255,"props":3399,"children":3400},{"style":274},[3401],{"type":175,"value":3402}," ||",{"type":170,"tag":255,"props":3404,"children":3405},{"style":286},[3406],{"type":175,"value":3407}," n",{"type":170,"tag":255,"props":3409,"children":3410},{"style":292},[3411],{"type":175,"value":367},{"type":170,"tag":255,"props":3413,"children":3414},{"style":286},[3415],{"type":175,"value":3379},{"type":170,"tag":255,"props":3417,"children":3418},{"style":274},[3419],{"type":175,"value":3384},{"type":170,"tag":255,"props":3421,"children":3422},{"style":379},[3423],{"type":175,"value":1665},{"type":170,"tag":255,"props":3425,"children":3426},{"style":385},[3427],{"type":175,"value":3428},">>>",{"type":170,"tag":255,"props":3430,"children":3431},{"style":379},[3432],{"type":175,"value":382},{"type":170,"tag":255,"props":3434,"children":3435},{"style":274},[3436],{"type":175,"value":3402},{"type":170,"tag":255,"props":3438,"children":3439},{"style":286},[3440],{"type":175,"value":3407},{"type":170,"tag":255,"props":3442,"children":3443},{"style":292},[3444],{"type":175,"value":367},{"type":170,"tag":255,"props":3446,"children":3447},{"style":286},[3448],{"type":175,"value":3379},{"type":170,"tag":255,"props":3450,"children":3451},{"style":274},[3452],{"type":175,"value":3384},{"type":170,"tag":255,"props":3454,"children":3455},{"style":379},[3456],{"type":175,"value":1665},{"type":170,"tag":255,"props":3458,"children":3459},{"style":385},[3460],{"type":175,"value":3461},"/deep/",{"type":170,"tag":255,"props":3463,"children":3464},{"style":379},[3465],{"type":175,"value":382},{"type":170,"tag":255,"props":3467,"children":3468},{"style":307},[3469],{"type":175,"value":2559},{"type":170,"tag":255,"props":3471,"children":3472},{"style":292},[3473],{"type":175,"value":344},{"type":170,"tag":255,"props":3475,"children":3476},{"class":257,"line":405},[3477,3482,3488],{"type":170,"tag":255,"props":3478,"children":3479},{"style":856},[3480],{"type":175,"value":3481},"            return",{"type":170,"tag":255,"props":3483,"children":3485},{"style":3484},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3486],{"type":175,"value":3487}," false",{"type":170,"tag":255,"props":3489,"children":3490},{"style":292},[3491],{"type":175,"value":712},{"type":170,"tag":255,"props":3493,"children":3494},{"class":257,"line":451},[3495],{"type":170,"tag":255,"props":3496,"children":3497},{"style":292},[3498],{"type":175,"value":3499},"        }\n",{"type":170,"tag":255,"props":3501,"children":3502},{"class":257,"line":468},[3503,3508,3512],{"type":170,"tag":255,"props":3504,"children":3505},{"style":292},[3506],{"type":175,"value":3507},"    }",{"type":170,"tag":255,"props":3509,"children":3510},{"style":307},[3511],{"type":175,"value":397},{"type":170,"tag":255,"props":3513,"children":3514},{"style":292},[3515],{"type":175,"value":712},{"type":170,"tag":255,"props":3517,"children":3518},{"class":257,"line":477},[3519,3523,3527,3532,3536,3541,3545,3550,3554,3559,3563],{"type":170,"tag":255,"props":3520,"children":3521},{"style":286},[3522],{"type":175,"value":3321},{"type":170,"tag":255,"props":3524,"children":3525},{"style":292},[3526],{"type":175,"value":367},{"type":170,"tag":255,"props":3528,"children":3529},{"style":280},[3530],{"type":175,"value":3531},"insertAfter",{"type":170,"tag":255,"props":3533,"children":3534},{"style":307},[3535],{"type":175,"value":339},{"type":170,"tag":255,"props":3537,"children":3538},{"style":286},[3539],{"type":175,"value":3540},"node",{"type":170,"tag":255,"props":3542,"children":3543},{"style":292},[3544],{"type":175,"value":295},{"type":170,"tag":255,"props":3546,"children":3547},{"style":286},[3548],{"type":175,"value":3549}," selectorParser",{"type":170,"tag":255,"props":3551,"children":3552},{"style":292},[3553],{"type":175,"value":367},{"type":170,"tag":255,"props":3555,"children":3556},{"style":280},[3557],{"type":175,"value":3558},"attribute",{"type":170,"tag":255,"props":3560,"children":3561},{"style":307},[3562],{"type":175,"value":339},{"type":170,"tag":255,"props":3564,"children":3565},{"style":292},[3566],{"type":175,"value":344},{"type":170,"tag":255,"props":3568,"children":3569},{"class":257,"line":715},[3570,3575,3579],{"type":170,"tag":255,"props":3571,"children":3572},{"style":307},[3573],{"type":175,"value":3574},"        attribute",{"type":170,"tag":255,"props":3576,"children":3577},{"style":292},[3578],{"type":175,"value":315},{"type":170,"tag":255,"props":3580,"children":3581},{"style":286},[3582],{"type":175,"value":3583}," id\n",{"type":170,"tag":255,"props":3585,"children":3586},{"class":257,"line":724},[3587,3591],{"type":170,"tag":255,"props":3588,"children":3589},{"style":292},[3590],{"type":175,"value":3507},{"type":170,"tag":255,"props":3592,"children":3593},{"style":307},[3594],{"type":175,"value":3595},"))\n",{"type":170,"tag":255,"props":3597,"children":3598},{"class":257,"line":733},[3599,3603],{"type":170,"tag":255,"props":3600,"children":3601},{"style":292},[3602],{"type":175,"value":483},{"type":170,"tag":255,"props":3604,"children":3605},{"style":286},[3606],{"type":175,"value":448},{"type":170,"tag":171,"props":3608,"children":3609},{},[3610,3612,3618],{"type":175,"value":3611},"题外话，通过以上代码，我们发现当循环处理到三种特定类型选择器便会终止，停止将 ",{"type":170,"tag":178,"props":3613,"children":3615},{"className":3614},[],[3616],{"type":175,"value":3617},"data-v-xxx",{"type":175,"value":3619}," 添加到选择器末尾：",{"type":170,"tag":2219,"props":3621,"children":3622},{},[3623,3633,3643],{"type":170,"tag":1109,"props":3624,"children":3625},{},[3626,3628],{"type":175,"value":3627},"伪类 ",{"type":170,"tag":178,"props":3629,"children":3631},{"className":3630},[],[3632],{"type":175,"value":3393},{"type":170,"tag":1109,"props":3634,"children":3635},{},[3636,3638],{"type":175,"value":3637},"选择器 ",{"type":170,"tag":178,"props":3639,"children":3641},{"className":3640},[],[3642],{"type":175,"value":3428},{"type":170,"tag":1109,"props":3644,"children":3645},{},[3646,3647],{"type":175,"value":3637},{"type":170,"tag":178,"props":3648,"children":3650},{"className":3649},[],[3651],{"type":175,"value":3461},{"type":170,"tag":171,"props":3653,"children":3654},{},[3655],{"type":175,"value":3656},"我们可以利用这个特征，在组件中写样式穿透，即内部组件影响外部组件样式 (ε=ε=ε=┏(゜ロ゜;)┛ 主动样式污染)，当然这在特定的情境下是有用的，比如当我们想主动覆盖第三方 UI 组件框架的样式，却不想引入新的 CSS 文件，或不想写非 Scoped CSS 模板的时候。",{"type":170,"tag":1281,"props":3658,"children":3659},{},[3660],{"type":175,"value":3661},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":163,"searchDepth":303,"depth":303,"links":3663},[3664,3665,3666],{"id":205,"depth":303,"text":205},{"id":525,"depth":303,"text":528},{"id":1173,"depth":303,"text":1168,"children":3667},[3668,3669],{"id":1179,"depth":323,"text":1182},{"id":1365,"depth":323,"text":1365},"markdown","content:8.source-code:_js:vue2-source:4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css","md",[3676,3679],{"_path":3677,"title":3678,"description":165},"/source-code/_js/vue2-source/global-api","Vue2 Global API",{"_path":3680,"title":3681,"description":165},"/source-code/_js/vue2-source/test-kit","Vue2 Test Kit",1742958699312]