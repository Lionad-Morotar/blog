[{"data":1,"prerenderedAt":3940},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/scoped-css":416,"/source-code/_js/vue2-source/scoped-css-surround":3933},[4,32,86,108,135,141,147,153,399,405,411],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":42,"_path":43},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":45,"_path":46},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":48,"_path":49},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":51,"_path":52},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":54,"_path":55},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":57,"_path":58},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":60,"_path":61},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":63,"_path":64},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":66,"_path":67},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":69,"_path":70},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":72,"_path":73},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":75,"_path":76},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":78,"_path":79},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":81,"_path":82},"🚝 四十二篇系列","/articles/fourty-two",{"title":84,"_path":85},"📝 技术博客归档","/articles/fold",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102,105],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107},"🖨️ any-to-base64","/tools/any-to-base64",{"title":109,"_path":110,"children":111},"吉他剧场 / Music","/music",[112,114,117,120,123,126,129,132],{"title":113,"_path":110},"🎸 FingerStyle！",{"title":115,"_path":116},"🌬️ 等待的风","/music/wind",{"title":118,"_path":119},"💕 约定的海洋","/music/ocean",{"title":121,"_path":122},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":124,"_path":125},"🌏 残酷天使的行动纲领","/music/eva",{"title":127,"_path":128},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":130,"_path":131},"🍷 Wu Wei","/music/wu-wei",{"title":133,"_path":134},"🌅 无题","/music/untitled",{"title":136,"_path":137,"children":138},"画点什么 / Paint","/paint",[139],{"title":140,"_path":137},"🚧 正在施工",{"title":142,"_path":143,"children":144},"读书笔记 / Notes","/books",[145],{"title":146,"_path":143},"📕 读书笔记",{"title":148,"_path":149,"children":150},"知识地图 / Maps","/maps",[151],{"title":152,"_path":149},"🏁 知识地图",{"title":154,"_path":155,"children":156},"零散的笔记 / Gists","/gists",[157,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396],{"title":158,"_path":155},"🧊 Gists",{"title":160,"_path":161},"网站的可访问性","/gists/accessibility",{"title":163,"_path":164},"Bit","/gists/bit",{"title":166,"_path":167},"图片模糊","/gists/blur",{"title":169,"_path":170},"渲染相关笔记","/gists/c4d",{"title":172,"_path":173},"CDN 问题记录","/gists/cdn",{"title":175,"_path":176},"消毒剂","/gists/cleaner",{"title":178,"_path":179},"Windows Command","/gists/cmd",{"title":181,"_path":182},"Command","/gists/command",{"title":184,"_path":185},"复杂科学","/gists/complexity-science",{"title":187,"_path":188},"GitHub Copilot","/gists/copilot",{"title":190,"_path":191},"宇宙","/gists/cosmos",{"title":193,"_path":194},"C++","/gists/cpp",{"title":196,"_path":197},"Data Structure","/gists/data-structure",{"title":199,"_path":200},"DEPRESSION","/gists/depression",{"title":202,"_path":203},"设计模式","/gists/design-patterns",{"title":205,"_path":206},"Developer Experience","/gists/developer-experience",{"title":208,"_path":209},"Device Metrics","/gists/device-metrix",{"title":211,"_path":212},"数字化转型","/gists/digital-transformation",{"title":214,"_path":215},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":217,"_path":218},"正则表达式","/gists/eegex",{"title":220,"_path":221},"Emoji","/gists/emoji",{"title":223,"_path":224},"工程","/gists/engineering",{"title":226,"_path":227},"熵","/gists/entropy",{"title":229,"_path":230},"Environment","/gists/environment",{"title":232,"_path":233},"Erlang","/gists/erlang",{"title":235,"_path":236},"逃离塔克夫","/gists/escape-from-tarkov",{"title":238,"_path":239},"ESNext (ES6-ES11)","/gists/esnext",{"title":241,"_path":242},"Eval！","/gists/eval",{"title":244,"_path":245},"Flutter","/gists/flutter",{"title":247,"_path":248},"字体","/gists/font",{"title":250,"_path":251},"JS 函数式编程","/gists/functional",{"title":253,"_path":254},"游戏化","/gists/gamification",{"title":256,"_path":257},"Google C++ Standard","/gists/google-cpp-standard",{"title":259,"_path":260},"双向链接完全体","/gists/graph",{"title":262,"_path":263},"Hardwares","/gists/hardwares",{"title":265,"_path":266},"哈希冲突","/gists/hash-collision",{"title":268,"_path":269},"信息设计","/gists/information-design",{"title":271,"_path":272},"InstantPage","/gists/instant.page",{"title":274,"_path":275},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":277,"_path":278},"KVStore","/gists/key-value-db",{"title":280,"_path":281},"Kubernetes","/gists/kubernetes",{"title":283,"_path":284},"Makefile","/gists/makefile",{"title":286,"_path":287},"Markdown Inline Style","/gists/markdown-nice",{"title":289,"_path":290},"小程序","/gists/miniapp",{"title":292,"_path":293},"减小页面快照体积","/gists/minify-html",{"title":295,"_path":296},"mklink","/gists/mklink",{"title":298,"_path":299},"Mock","/gists/mock",{"title":301,"_path":302},"多人协作系统","/gists/multiplayer",{"title":304,"_path":305},"多端应用","/gists/multy-end-app",{"title":307,"_path":308},"神经科学","/gists/neuroscience",{"title":310,"_path":311},"OO","/gists/oo",{"title":313,"_path":314},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":316,"_path":317},"PInvoke","/gists/pinvoke",{"title":319,"_path":320},"像素","/gists/pixel",{"title":322,"_path":323},"PowerShell","/gists/powershell",{"title":325,"_path":326},"量子","/gists/quantum",{"title":328,"_path":329},"保持好奇心","/gists/questions",{"title":331,"_path":332},"React Native","/gists/react-native",{"title":334,"_path":335},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":337,"_path":338},"SEO","/gists/seo",{"title":340,"_path":341},"Shader","/gists/shader",{"title":343,"_path":344},"Shape Up","/gists/shape-up",{"title":346,"_path":347},"睡觉","/gists/sleep",{"title":349,"_path":350},"记录奇怪的问题","/gists/solved",{"title":352,"_path":353},"States","/gists/states",{"title":355,"_path":356},"Storage","/gists/storage",{"title":358,"_path":359},"音视频流处理","/gists/stream-cli",{"title":361,"_path":362},"Symbol","/gists/symbol",{"title":364,"_path":365},"系统论","/gists/systems-theory",{"title":367,"_path":368},"Taro","/gists/taro",{"title":370,"_path":371},"任务切片","/gists/task-slice",{"title":373,"_path":374},"技术偏好","/gists/tech-dudge",{"title":376,"_path":377},"Untitled","/gists/untitled",{"title":379,"_path":380},"可变字体","/gists/variable-font",{"title":382,"_path":383},"视觉错觉","/gists/visual-illusion",{"title":385,"_path":386},"SS(SSR)","/gists/vpn",{"title":388,"_path":389},"VS Code 插件开发","/gists/vscode-plugin",{"title":391,"_path":392},"Web Components","/gists/web-components",{"title":394,"_path":395},"Windows","/gists/windows",{"title":397,"_path":398},"查缺补漏","/gists/wrong",{"title":400,"_path":401,"children":402},"代码笔记 / Gists","/source-code",[403],{"title":404,"_path":401},"🚄 代码笔记",{"title":406,"_path":407,"children":408},"我 / Abount","/hire",[409],{"title":410,"_path":407},"📬 技术简历",{"title":412,"_path":413,"children":414},"todo","/todo",[415],{"title":412,"_path":413},{"_path":417,"_dir":418,"_draft":419,"_partial":420,"_locale":421,"title":422,"description":423,"body":424,"_type":3928,"_id":3929,"_source":1174,"_file":3930,"_stem":3931,"_extension":3932},"/source-code/_js/vue2-source/scoped-css","vue2-source",false,true,"","Vue2 Scoped CSS","deprecated warning",{"type":425,"children":426,"toc":3920},"root",[427,460,466,502,746,767,776,781,787,808,1350,1362,1416,1429,1434,1441,1462,1621,1626,1653,1845,1865,2148,2155,2183,2455,2476,2495,2500,2617,2622,3020,3033,3248,3253,3290,3495,3515,3865,3878,3910,3915],{"type":428,"tag":429,"props":430,"children":431},"element","p",{},[432,435,442,444,450,452,458],{"type":433,"value":434},"text","使用 VueJS 开发应用离不开模块拆分，即将大块界面拆解为组件的过程。我们可以很方便的在单文件中使用",{"type":428,"tag":436,"props":437,"children":439},"code",{"className":438},[],[440],{"type":433,"value":441},"\u003Ctemplate>",{"type":433,"value":443},"块维护组件的视图，使用",{"type":428,"tag":436,"props":445,"children":447},{"className":446},[],[448],{"type":433,"value":449},"\u003Cscript>",{"type":433,"value":451},"维护组件的逻辑部分，使用",{"type":428,"tag":436,"props":453,"children":455},{"className":454},[],[456],{"type":433,"value":457},"\u003Cstyle>",{"type":433,"value":459},"维护组件的样式。在我们编写 VueJS 组件样式时，不得忽略的一点就是如何防止以及反制样式污染。",{"type":428,"tag":461,"props":462,"children":464},"h2",{"id":463},"样式污染产生原因",[465],{"type":433,"value":463},{"type":428,"tag":429,"props":467,"children":468},{},[469,471,477,479,485,487,500],{"type":433,"value":470},"提及样式污染，主要要追溯到",{"type":428,"tag":436,"props":472,"children":474},{"className":473},[],[475],{"type":433,"value":476},"webpack",{"type":433,"value":478},"对",{"type":428,"tag":436,"props":480,"children":482},{"className":481},[],[483],{"type":433,"value":484},"CSS",{"type":433,"value":486},"文件的打包过程，这里我们以",{"type":428,"tag":488,"props":489,"children":493},"a",{"href":490,"rel":491},"https://github.com/PanJiaChen/vue-element-admin",[492],"nofollow",[494],{"type":428,"tag":436,"props":495,"children":497},{"className":496},[],[498],{"type":433,"value":499},"Vue-Element-Admin",{"type":433,"value":501},"中的 webpack 配置项举例：",{"type":428,"tag":503,"props":504,"children":508},"pre",{"className":505,"code":506,"language":507,"meta":421,"style":421},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const webpackConfig = merge(baseWebpackConfig, {\n    plugins: [\n        new MiniCssExtractPlugin({\n          filename: utils.assetsPath('css/[name].[contenthash:8].css'),\n          chunkFilename: utils.assetsPath('css/[name].[contenthash:8].css')\n        }),\n    ]\n})\n","js",[509],{"type":428,"tag":436,"props":510,"children":511},{"__ignoreMap":421},[512,559,579,603,661,707,724,733],{"type":428,"tag":513,"props":514,"children":517},"span",{"class":515,"line":516},"line",1,[518,524,530,536,542,548,554],{"type":428,"tag":513,"props":519,"children":521},{"style":520},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[522],{"type":433,"value":523},"const",{"type":428,"tag":513,"props":525,"children":527},{"style":526},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[528],{"type":433,"value":529}," webpackConfig",{"type":428,"tag":513,"props":531,"children":533},{"style":532},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[534],{"type":433,"value":535}," =",{"type":428,"tag":513,"props":537,"children":539},{"style":538},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[540],{"type":433,"value":541}," merge",{"type":428,"tag":513,"props":543,"children":545},{"style":544},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[546],{"type":433,"value":547},"(baseWebpackConfig",{"type":428,"tag":513,"props":549,"children":551},{"style":550},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[552],{"type":433,"value":553},",",{"type":428,"tag":513,"props":555,"children":556},{"style":550},[557],{"type":433,"value":558}," {\n",{"type":428,"tag":513,"props":560,"children":562},{"class":515,"line":561},2,[563,569,574],{"type":428,"tag":513,"props":564,"children":566},{"style":565},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[567],{"type":433,"value":568},"    plugins",{"type":428,"tag":513,"props":570,"children":571},{"style":550},[572],{"type":433,"value":573},":",{"type":428,"tag":513,"props":575,"children":576},{"style":544},[577],{"type":433,"value":578}," [\n",{"type":428,"tag":513,"props":580,"children":582},{"class":515,"line":581},3,[583,588,593,598],{"type":428,"tag":513,"props":584,"children":585},{"style":532},[586],{"type":433,"value":587},"        new",{"type":428,"tag":513,"props":589,"children":590},{"style":538},[591],{"type":433,"value":592}," MiniCssExtractPlugin",{"type":428,"tag":513,"props":594,"children":595},{"style":544},[596],{"type":433,"value":597},"(",{"type":428,"tag":513,"props":599,"children":600},{"style":550},[601],{"type":433,"value":602},"{\n",{"type":428,"tag":513,"props":604,"children":606},{"class":515,"line":605},4,[607,612,616,621,626,631,635,641,647,651,656],{"type":428,"tag":513,"props":608,"children":609},{"style":565},[610],{"type":433,"value":611},"          filename",{"type":428,"tag":513,"props":613,"children":614},{"style":550},[615],{"type":433,"value":573},{"type":428,"tag":513,"props":617,"children":618},{"style":544},[619],{"type":433,"value":620}," utils",{"type":428,"tag":513,"props":622,"children":623},{"style":550},[624],{"type":433,"value":625},".",{"type":428,"tag":513,"props":627,"children":628},{"style":538},[629],{"type":433,"value":630},"assetsPath",{"type":428,"tag":513,"props":632,"children":633},{"style":544},[634],{"type":433,"value":597},{"type":428,"tag":513,"props":636,"children":638},{"style":637},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[639],{"type":433,"value":640},"'",{"type":428,"tag":513,"props":642,"children":644},{"style":643},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[645],{"type":433,"value":646},"css/[name].[contenthash:8].css",{"type":428,"tag":513,"props":648,"children":649},{"style":637},[650],{"type":433,"value":640},{"type":428,"tag":513,"props":652,"children":653},{"style":544},[654],{"type":433,"value":655},")",{"type":428,"tag":513,"props":657,"children":658},{"style":550},[659],{"type":433,"value":660},",\n",{"type":428,"tag":513,"props":662,"children":664},{"class":515,"line":663},5,[665,670,674,678,682,686,690,694,698,702],{"type":428,"tag":513,"props":666,"children":667},{"style":565},[668],{"type":433,"value":669},"          chunkFilename",{"type":428,"tag":513,"props":671,"children":672},{"style":550},[673],{"type":433,"value":573},{"type":428,"tag":513,"props":675,"children":676},{"style":544},[677],{"type":433,"value":620},{"type":428,"tag":513,"props":679,"children":680},{"style":550},[681],{"type":433,"value":625},{"type":428,"tag":513,"props":683,"children":684},{"style":538},[685],{"type":433,"value":630},{"type":428,"tag":513,"props":687,"children":688},{"style":544},[689],{"type":433,"value":597},{"type":428,"tag":513,"props":691,"children":692},{"style":637},[693],{"type":433,"value":640},{"type":428,"tag":513,"props":695,"children":696},{"style":643},[697],{"type":433,"value":646},{"type":428,"tag":513,"props":699,"children":700},{"style":637},[701],{"type":433,"value":640},{"type":428,"tag":513,"props":703,"children":704},{"style":544},[705],{"type":433,"value":706},")\n",{"type":428,"tag":513,"props":708,"children":710},{"class":515,"line":709},6,[711,716,720],{"type":428,"tag":513,"props":712,"children":713},{"style":550},[714],{"type":433,"value":715},"        }",{"type":428,"tag":513,"props":717,"children":718},{"style":544},[719],{"type":433,"value":655},{"type":428,"tag":513,"props":721,"children":722},{"style":550},[723],{"type":433,"value":660},{"type":428,"tag":513,"props":725,"children":727},{"class":515,"line":726},7,[728],{"type":428,"tag":513,"props":729,"children":730},{"style":544},[731],{"type":433,"value":732},"    ]\n",{"type":428,"tag":513,"props":734,"children":736},{"class":515,"line":735},8,[737,742],{"type":428,"tag":513,"props":738,"children":739},{"style":550},[740],{"type":433,"value":741},"}",{"type":428,"tag":513,"props":743,"children":744},{"style":544},[745],{"type":433,"value":706},{"type":428,"tag":429,"props":747,"children":748},{},[749,751,757,759,765],{"type":433,"value":750},"webpack 使用 ",{"type":428,"tag":436,"props":752,"children":754},{"className":753},[],[755],{"type":433,"value":756},"MiniCssExtractPlugin",{"type":433,"value":758}," 插件，将文件(如 Vue 单文件组件)中的 CSS 代码，经过处理后，分离到形如",{"type":428,"tag":436,"props":760,"children":762},{"className":761},[],[763],{"type":433,"value":764},"app.hash1234.css",{"type":433,"value":766},"的单独的 CSS 文件：",{"type":428,"tag":429,"props":768,"children":769},{},[770],{"type":428,"tag":771,"props":772,"children":775},"img",{"alt":773,"src":774},"单独的CSS文件","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/scoped-css/browser_fYMdZDAMsI.png",[],{"type":428,"tag":429,"props":777,"children":778},{},[779],{"type":433,"value":780},"如果没有加入防止样式污染的措施的同时，项目中存在了大量的同名 ClassName，那么可能会产生意想不到的 CSS 选择器权重覆盖。这可能使后文件中某部分选择器权重更高的类影响整个应用，而此过程通常发生在组件的编写中，所以一般称之为组件样式污染。",{"type":428,"tag":461,"props":782,"children":784},{"id":783},"webpack-vue-sfc-object",[785],{"type":433,"value":786},"webpack & Vue SFC Object",{"type":428,"tag":429,"props":788,"children":789},{},[790,792,798,800,806],{"type":433,"value":791},"对于 Vue 项目而言，使用 webpack 将极大的优化了工作流程，因为通过",{"type":428,"tag":436,"props":793,"children":795},{"className":794},[],[796],{"type":433,"value":797},"Vue Loader",{"type":433,"value":799},"，Vue 单文件组件能很好的融合进 webpack 工作流中。我们写的单文件组件都被处理为了",{"type":428,"tag":436,"props":801,"children":803},{"className":802},[],[804],{"type":433,"value":805},"SFC对象",{"type":433,"value":807},"，即包含了单个 HTML 模块，单个脚本模块，一个或多个样式模块，一个或多个自定义模块的对象：",{"type":428,"tag":503,"props":809,"children":811},{"className":505,"code":810,"language":507,"meta":421,"style":421},"// vue-loader/index.js\nconst descriptor = parse({\n  source,\n  compiler: options.compiler || loadTemplateCompiler(),\n  filename,\n  sourceRoot,\n  needMap: sourceMap,\n});\n\n// vuejs/component-compiler-utils/index.js\nfunction parse(options) {\n  const { compiler } = options;\n  output = compiler.parseComponent(source, compilerParseOptions);\n  return output;\n}\n\n// vue.js\nfunction parseComponent(content, options) {\n  // ...\n  var sfc = {\n    template: null,\n    script: null,\n    styles: [],\n    customBlocks: [],\n  };\n  // ...\n  return sfc;\n}\n",[812],{"type":428,"tag":436,"props":813,"children":814},{"__ignoreMap":421},[815,824,853,865,910,922,934,955,971,980,989,1020,1056,1108,1127,1136,1144,1153,1191,1200,1222,1245,1266,1288,1309,1318,1326,1342],{"type":428,"tag":513,"props":816,"children":817},{"class":515,"line":516},[818],{"type":428,"tag":513,"props":819,"children":821},{"style":820},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[822],{"type":433,"value":823},"// vue-loader/index.js\n",{"type":428,"tag":513,"props":825,"children":826},{"class":515,"line":561},[827,831,836,840,845,849],{"type":428,"tag":513,"props":828,"children":829},{"style":520},[830],{"type":433,"value":523},{"type":428,"tag":513,"props":832,"children":833},{"style":526},[834],{"type":433,"value":835}," descriptor",{"type":428,"tag":513,"props":837,"children":838},{"style":532},[839],{"type":433,"value":535},{"type":428,"tag":513,"props":841,"children":842},{"style":538},[843],{"type":433,"value":844}," parse",{"type":428,"tag":513,"props":846,"children":847},{"style":544},[848],{"type":433,"value":597},{"type":428,"tag":513,"props":850,"children":851},{"style":550},[852],{"type":433,"value":602},{"type":428,"tag":513,"props":854,"children":855},{"class":515,"line":581},[856,861],{"type":428,"tag":513,"props":857,"children":858},{"style":544},[859],{"type":433,"value":860},"  source",{"type":428,"tag":513,"props":862,"children":863},{"style":550},[864],{"type":433,"value":660},{"type":428,"tag":513,"props":866,"children":867},{"class":515,"line":605},[868,873,877,882,886,891,896,901,906],{"type":428,"tag":513,"props":869,"children":870},{"style":565},[871],{"type":433,"value":872},"  compiler",{"type":428,"tag":513,"props":874,"children":875},{"style":550},[876],{"type":433,"value":573},{"type":428,"tag":513,"props":878,"children":879},{"style":544},[880],{"type":433,"value":881}," options",{"type":428,"tag":513,"props":883,"children":884},{"style":550},[885],{"type":433,"value":625},{"type":428,"tag":513,"props":887,"children":888},{"style":544},[889],{"type":433,"value":890},"compiler ",{"type":428,"tag":513,"props":892,"children":893},{"style":532},[894],{"type":433,"value":895},"||",{"type":428,"tag":513,"props":897,"children":898},{"style":538},[899],{"type":433,"value":900}," loadTemplateCompiler",{"type":428,"tag":513,"props":902,"children":903},{"style":544},[904],{"type":433,"value":905},"()",{"type":428,"tag":513,"props":907,"children":908},{"style":550},[909],{"type":433,"value":660},{"type":428,"tag":513,"props":911,"children":912},{"class":515,"line":663},[913,918],{"type":428,"tag":513,"props":914,"children":915},{"style":544},[916],{"type":433,"value":917},"  filename",{"type":428,"tag":513,"props":919,"children":920},{"style":550},[921],{"type":433,"value":660},{"type":428,"tag":513,"props":923,"children":924},{"class":515,"line":709},[925,930],{"type":428,"tag":513,"props":926,"children":927},{"style":544},[928],{"type":433,"value":929},"  sourceRoot",{"type":428,"tag":513,"props":931,"children":932},{"style":550},[933],{"type":433,"value":660},{"type":428,"tag":513,"props":935,"children":936},{"class":515,"line":726},[937,942,946,951],{"type":428,"tag":513,"props":938,"children":939},{"style":565},[940],{"type":433,"value":941},"  needMap",{"type":428,"tag":513,"props":943,"children":944},{"style":550},[945],{"type":433,"value":573},{"type":428,"tag":513,"props":947,"children":948},{"style":544},[949],{"type":433,"value":950}," sourceMap",{"type":428,"tag":513,"props":952,"children":953},{"style":550},[954],{"type":433,"value":660},{"type":428,"tag":513,"props":956,"children":957},{"class":515,"line":735},[958,962,966],{"type":428,"tag":513,"props":959,"children":960},{"style":550},[961],{"type":433,"value":741},{"type":428,"tag":513,"props":963,"children":964},{"style":544},[965],{"type":433,"value":655},{"type":428,"tag":513,"props":967,"children":968},{"style":550},[969],{"type":433,"value":970},";\n",{"type":428,"tag":513,"props":972,"children":974},{"class":515,"line":973},9,[975],{"type":428,"tag":513,"props":976,"children":977},{"emptyLinePlaceholder":420},[978],{"type":433,"value":979},"\n",{"type":428,"tag":513,"props":981,"children":983},{"class":515,"line":982},10,[984],{"type":428,"tag":513,"props":985,"children":986},{"style":820},[987],{"type":433,"value":988},"// vuejs/component-compiler-utils/index.js\n",{"type":428,"tag":513,"props":990,"children":992},{"class":515,"line":991},11,[993,998,1002,1006,1012,1016],{"type":428,"tag":513,"props":994,"children":995},{"style":520},[996],{"type":433,"value":997},"function",{"type":428,"tag":513,"props":999,"children":1000},{"style":538},[1001],{"type":433,"value":844},{"type":428,"tag":513,"props":1003,"children":1004},{"style":550},[1005],{"type":433,"value":597},{"type":428,"tag":513,"props":1007,"children":1009},{"style":1008},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[1010],{"type":433,"value":1011},"options",{"type":428,"tag":513,"props":1013,"children":1014},{"style":550},[1015],{"type":433,"value":655},{"type":428,"tag":513,"props":1017,"children":1018},{"style":550},[1019],{"type":433,"value":558},{"type":428,"tag":513,"props":1021,"children":1023},{"class":515,"line":1022},12,[1024,1029,1034,1039,1044,1048,1052],{"type":428,"tag":513,"props":1025,"children":1026},{"style":520},[1027],{"type":433,"value":1028},"  const",{"type":428,"tag":513,"props":1030,"children":1031},{"style":550},[1032],{"type":433,"value":1033}," {",{"type":428,"tag":513,"props":1035,"children":1036},{"style":526},[1037],{"type":433,"value":1038}," compiler",{"type":428,"tag":513,"props":1040,"children":1041},{"style":550},[1042],{"type":433,"value":1043}," }",{"type":428,"tag":513,"props":1045,"children":1046},{"style":532},[1047],{"type":433,"value":535},{"type":428,"tag":513,"props":1049,"children":1050},{"style":544},[1051],{"type":433,"value":881},{"type":428,"tag":513,"props":1053,"children":1054},{"style":550},[1055],{"type":433,"value":970},{"type":428,"tag":513,"props":1057,"children":1059},{"class":515,"line":1058},13,[1060,1065,1069,1073,1077,1082,1086,1091,1095,1100,1104],{"type":428,"tag":513,"props":1061,"children":1062},{"style":544},[1063],{"type":433,"value":1064},"  output",{"type":428,"tag":513,"props":1066,"children":1067},{"style":532},[1068],{"type":433,"value":535},{"type":428,"tag":513,"props":1070,"children":1071},{"style":544},[1072],{"type":433,"value":1038},{"type":428,"tag":513,"props":1074,"children":1075},{"style":550},[1076],{"type":433,"value":625},{"type":428,"tag":513,"props":1078,"children":1079},{"style":538},[1080],{"type":433,"value":1081},"parseComponent",{"type":428,"tag":513,"props":1083,"children":1084},{"style":565},[1085],{"type":433,"value":597},{"type":428,"tag":513,"props":1087,"children":1088},{"style":544},[1089],{"type":433,"value":1090},"source",{"type":428,"tag":513,"props":1092,"children":1093},{"style":550},[1094],{"type":433,"value":553},{"type":428,"tag":513,"props":1096,"children":1097},{"style":544},[1098],{"type":433,"value":1099}," compilerParseOptions",{"type":428,"tag":513,"props":1101,"children":1102},{"style":565},[1103],{"type":433,"value":655},{"type":428,"tag":513,"props":1105,"children":1106},{"style":550},[1107],{"type":433,"value":970},{"type":428,"tag":513,"props":1109,"children":1111},{"class":515,"line":1110},14,[1112,1118,1123],{"type":428,"tag":513,"props":1113,"children":1115},{"style":1114},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1116],{"type":433,"value":1117},"  return",{"type":428,"tag":513,"props":1119,"children":1120},{"style":544},[1121],{"type":433,"value":1122}," output",{"type":428,"tag":513,"props":1124,"children":1125},{"style":550},[1126],{"type":433,"value":970},{"type":428,"tag":513,"props":1128,"children":1130},{"class":515,"line":1129},15,[1131],{"type":428,"tag":513,"props":1132,"children":1133},{"style":550},[1134],{"type":433,"value":1135},"}\n",{"type":428,"tag":513,"props":1137,"children":1139},{"class":515,"line":1138},16,[1140],{"type":428,"tag":513,"props":1141,"children":1142},{"emptyLinePlaceholder":420},[1143],{"type":433,"value":979},{"type":428,"tag":513,"props":1145,"children":1147},{"class":515,"line":1146},17,[1148],{"type":428,"tag":513,"props":1149,"children":1150},{"style":820},[1151],{"type":433,"value":1152},"// vue.js\n",{"type":428,"tag":513,"props":1154,"children":1156},{"class":515,"line":1155},18,[1157,1161,1166,1170,1175,1179,1183,1187],{"type":428,"tag":513,"props":1158,"children":1159},{"style":520},[1160],{"type":433,"value":997},{"type":428,"tag":513,"props":1162,"children":1163},{"style":538},[1164],{"type":433,"value":1165}," parseComponent",{"type":428,"tag":513,"props":1167,"children":1168},{"style":550},[1169],{"type":433,"value":597},{"type":428,"tag":513,"props":1171,"children":1172},{"style":1008},[1173],{"type":433,"value":1174},"content",{"type":428,"tag":513,"props":1176,"children":1177},{"style":550},[1178],{"type":433,"value":553},{"type":428,"tag":513,"props":1180,"children":1181},{"style":1008},[1182],{"type":433,"value":881},{"type":428,"tag":513,"props":1184,"children":1185},{"style":550},[1186],{"type":433,"value":655},{"type":428,"tag":513,"props":1188,"children":1189},{"style":550},[1190],{"type":433,"value":558},{"type":428,"tag":513,"props":1192,"children":1194},{"class":515,"line":1193},19,[1195],{"type":428,"tag":513,"props":1196,"children":1197},{"style":820},[1198],{"type":433,"value":1199},"  // ...\n",{"type":428,"tag":513,"props":1201,"children":1203},{"class":515,"line":1202},20,[1204,1209,1214,1218],{"type":428,"tag":513,"props":1205,"children":1206},{"style":520},[1207],{"type":433,"value":1208},"  var",{"type":428,"tag":513,"props":1210,"children":1211},{"style":544},[1212],{"type":433,"value":1213}," sfc",{"type":428,"tag":513,"props":1215,"children":1216},{"style":532},[1217],{"type":433,"value":535},{"type":428,"tag":513,"props":1219,"children":1220},{"style":550},[1221],{"type":433,"value":558},{"type":428,"tag":513,"props":1223,"children":1225},{"class":515,"line":1224},21,[1226,1231,1235,1241],{"type":428,"tag":513,"props":1227,"children":1228},{"style":565},[1229],{"type":433,"value":1230},"    template",{"type":428,"tag":513,"props":1232,"children":1233},{"style":550},[1234],{"type":433,"value":573},{"type":428,"tag":513,"props":1236,"children":1238},{"style":1237},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1239],{"type":433,"value":1240}," null",{"type":428,"tag":513,"props":1242,"children":1243},{"style":550},[1244],{"type":433,"value":660},{"type":428,"tag":513,"props":1246,"children":1248},{"class":515,"line":1247},22,[1249,1254,1258,1262],{"type":428,"tag":513,"props":1250,"children":1251},{"style":565},[1252],{"type":433,"value":1253},"    script",{"type":428,"tag":513,"props":1255,"children":1256},{"style":550},[1257],{"type":433,"value":573},{"type":428,"tag":513,"props":1259,"children":1260},{"style":1237},[1261],{"type":433,"value":1240},{"type":428,"tag":513,"props":1263,"children":1264},{"style":550},[1265],{"type":433,"value":660},{"type":428,"tag":513,"props":1267,"children":1269},{"class":515,"line":1268},23,[1270,1275,1279,1284],{"type":428,"tag":513,"props":1271,"children":1272},{"style":565},[1273],{"type":433,"value":1274},"    styles",{"type":428,"tag":513,"props":1276,"children":1277},{"style":550},[1278],{"type":433,"value":573},{"type":428,"tag":513,"props":1280,"children":1281},{"style":565},[1282],{"type":433,"value":1283}," []",{"type":428,"tag":513,"props":1285,"children":1286},{"style":550},[1287],{"type":433,"value":660},{"type":428,"tag":513,"props":1289,"children":1291},{"class":515,"line":1290},24,[1292,1297,1301,1305],{"type":428,"tag":513,"props":1293,"children":1294},{"style":565},[1295],{"type":433,"value":1296},"    customBlocks",{"type":428,"tag":513,"props":1298,"children":1299},{"style":550},[1300],{"type":433,"value":573},{"type":428,"tag":513,"props":1302,"children":1303},{"style":565},[1304],{"type":433,"value":1283},{"type":428,"tag":513,"props":1306,"children":1307},{"style":550},[1308],{"type":433,"value":660},{"type":428,"tag":513,"props":1310,"children":1312},{"class":515,"line":1311},25,[1313],{"type":428,"tag":513,"props":1314,"children":1315},{"style":550},[1316],{"type":433,"value":1317},"  };\n",{"type":428,"tag":513,"props":1319,"children":1321},{"class":515,"line":1320},26,[1322],{"type":428,"tag":513,"props":1323,"children":1324},{"style":820},[1325],{"type":433,"value":1199},{"type":428,"tag":513,"props":1327,"children":1329},{"class":515,"line":1328},27,[1330,1334,1338],{"type":428,"tag":513,"props":1331,"children":1332},{"style":1114},[1333],{"type":433,"value":1117},{"type":428,"tag":513,"props":1335,"children":1336},{"style":544},[1337],{"type":433,"value":1213},{"type":428,"tag":513,"props":1339,"children":1340},{"style":550},[1341],{"type":433,"value":970},{"type":428,"tag":513,"props":1343,"children":1345},{"class":515,"line":1344},28,[1346],{"type":428,"tag":513,"props":1347,"children":1348},{"style":550},[1349],{"type":433,"value":1135},{"type":428,"tag":429,"props":1351,"children":1352},{},[1353,1355,1360],{"type":433,"value":1354},"我们可以将 SFC 结构融合到",{"type":428,"tag":436,"props":1356,"children":1358},{"className":1357},[],[1359],{"type":433,"value":476},{"type":433,"value":1361},"进行开发的过程成中，主要有这几点影响：",{"type":428,"tag":1363,"props":1364,"children":1365},"ul",{},[1366,1387,1406,1411],{"type":428,"tag":1367,"props":1368,"children":1369},"li",{},[1370,1372,1377,1379,1385],{"type":433,"value":1371},"允许为 Vue 组件的每个部分使用其它的 webpack loader，例如在",{"type":428,"tag":436,"props":1373,"children":1375},{"className":1374},[],[1376],{"type":433,"value":457},{"type":433,"value":1378},"的部分使用 Sass Loader ，在 ",{"type":428,"tag":436,"props":1380,"children":1382},{"className":1381},[],[1383],{"type":433,"value":1384},"\u003CcustomBlocks>",{"type":433,"value":1386},"的部分使用自定义 Loader",{"type":428,"tag":1367,"props":1388,"children":1389},{},[1390,1392,1397,1399,1404],{"type":433,"value":1391},"使用 webpack loader 将 ",{"type":428,"tag":436,"props":1393,"children":1395},{"className":1394},[],[1396],{"type":433,"value":457},{"type":433,"value":1398},"和 ",{"type":428,"tag":436,"props":1400,"children":1402},{"className":1401},[],[1403],{"type":433,"value":441},{"type":433,"value":1405}," 中引用的资源当作模块依赖来处理",{"type":428,"tag":1367,"props":1407,"children":1408},{},[1409],{"type":433,"value":1410},"模拟 Scoped CSS",{"type":428,"tag":1367,"props":1412,"children":1413},{},[1414],{"type":433,"value":1415},"在开发过程中使用热重载来保持状态",{"type":428,"tag":429,"props":1417,"children":1418},{},[1419,1421,1427],{"type":433,"value":1420},"以下主要介绍",{"type":428,"tag":436,"props":1422,"children":1424},{"className":1423},[],[1425],{"type":433,"value":1426},"Scoped CSS",{"type":433,"value":1428},"的原理。",{"type":428,"tag":461,"props":1430,"children":1432},{"id":1431},"scoped-css",[1433],{"type":433,"value":1426},{"type":428,"tag":1435,"props":1436,"children":1438},"h3",{"id":1437},"大白话版本之-scoped-css-原理",[1439],{"type":433,"value":1440},"大白话版本之 Scoped CSS 原理",{"type":428,"tag":429,"props":1442,"children":1443},{},[1444,1446,1452,1454,1460],{"type":433,"value":1445},"通过 webpack 调用 VueJS 中相应 Loader，给组件 HTML 模板添加自定义属性 (Attribute) ",{"type":428,"tag":436,"props":1447,"children":1449},{"className":1448},[],[1450],{"type":433,"value":1451},"data-v-x",{"type":433,"value":1453},"，以及给组件内 CSS 选择器添加对应的属性选择器 (Attribute Selector) ",{"type":428,"tag":436,"props":1455,"children":1457},{"className":1456},[],[1458],{"type":433,"value":1459},"[data-v-x]",{"type":433,"value":1461},"，达到组件内样式只能生效与组件内 HTML 的效果，代码效果如下：",{"type":428,"tag":503,"props":1463,"children":1467},{"className":1464,"code":1465,"language":1466,"meta":421,"style":421},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cdiv class='lionad' data-v-lionad>\u003C/div>\n\u003Cstyle>\n.lionad[data-v-lionad] {\n  background: @tiger-orange;\n}\n\u003C/style>\n","html",[1468],{"type":428,"tag":436,"props":1469,"children":1470},{"__ignoreMap":421},[1471,1528,1544,1576,1598,1605],{"type":428,"tag":513,"props":1472,"children":1473},{"class":515,"line":516},[1474,1479,1485,1491,1496,1500,1505,1509,1514,1519,1523],{"type":428,"tag":513,"props":1475,"children":1476},{"style":550},[1477],{"type":433,"value":1478},"\u003C",{"type":428,"tag":513,"props":1480,"children":1482},{"style":1481},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1483],{"type":433,"value":1484},"div",{"type":428,"tag":513,"props":1486,"children":1488},{"style":1487},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1489],{"type":433,"value":1490}," class",{"type":428,"tag":513,"props":1492,"children":1493},{"style":550},[1494],{"type":433,"value":1495},"=",{"type":428,"tag":513,"props":1497,"children":1498},{"style":637},[1499],{"type":433,"value":640},{"type":428,"tag":513,"props":1501,"children":1502},{"style":643},[1503],{"type":433,"value":1504},"lionad",{"type":428,"tag":513,"props":1506,"children":1507},{"style":637},[1508],{"type":433,"value":640},{"type":428,"tag":513,"props":1510,"children":1511},{"style":1487},[1512],{"type":433,"value":1513}," data-v-lionad",{"type":428,"tag":513,"props":1515,"children":1516},{"style":550},[1517],{"type":433,"value":1518},">\u003C/",{"type":428,"tag":513,"props":1520,"children":1521},{"style":1481},[1522],{"type":433,"value":1484},{"type":428,"tag":513,"props":1524,"children":1525},{"style":550},[1526],{"type":433,"value":1527},">\n",{"type":428,"tag":513,"props":1529,"children":1530},{"class":515,"line":561},[1531,1535,1540],{"type":428,"tag":513,"props":1532,"children":1533},{"style":550},[1534],{"type":433,"value":1478},{"type":428,"tag":513,"props":1536,"children":1537},{"style":1481},[1538],{"type":433,"value":1539},"style",{"type":428,"tag":513,"props":1541,"children":1542},{"style":550},[1543],{"type":433,"value":1527},{"type":428,"tag":513,"props":1545,"children":1546},{"class":515,"line":581},[1547,1552,1557,1562,1567,1572],{"type":428,"tag":513,"props":1548,"children":1550},{"style":1549},"--shiki-light:#39ADB5;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1551],{"type":433,"value":625},{"type":428,"tag":513,"props":1553,"children":1555},{"style":1554},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1556],{"type":433,"value":1504},{"type":428,"tag":513,"props":1558,"children":1559},{"style":550},[1560],{"type":433,"value":1561},"[",{"type":428,"tag":513,"props":1563,"children":1564},{"style":1487},[1565],{"type":433,"value":1566},"data-v-lionad",{"type":428,"tag":513,"props":1568,"children":1569},{"style":550},[1570],{"type":433,"value":1571},"]",{"type":428,"tag":513,"props":1573,"children":1574},{"style":550},[1575],{"type":433,"value":558},{"type":428,"tag":513,"props":1577,"children":1578},{"class":515,"line":605},[1579,1585,1589,1594],{"type":428,"tag":513,"props":1580,"children":1582},{"style":1581},"--shiki-light:#8796B0;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1583],{"type":433,"value":1584},"  background",{"type":428,"tag":513,"props":1586,"children":1587},{"style":550},[1588],{"type":433,"value":573},{"type":428,"tag":513,"props":1590,"children":1591},{"style":544},[1592],{"type":433,"value":1593}," @tiger-orange",{"type":428,"tag":513,"props":1595,"children":1596},{"style":550},[1597],{"type":433,"value":970},{"type":428,"tag":513,"props":1599,"children":1600},{"class":515,"line":663},[1601],{"type":428,"tag":513,"props":1602,"children":1603},{"style":550},[1604],{"type":433,"value":1135},{"type":428,"tag":513,"props":1606,"children":1607},{"class":515,"line":709},[1608,1613,1617],{"type":428,"tag":513,"props":1609,"children":1610},{"style":550},[1611],{"type":433,"value":1612},"\u003C/",{"type":428,"tag":513,"props":1614,"children":1615},{"style":1481},[1616],{"type":433,"value":1539},{"type":428,"tag":513,"props":1618,"children":1619},{"style":550},[1620],{"type":433,"value":1527},{"type":428,"tag":1435,"props":1622,"children":1624},{"id":1623},"源码跟踪",[1625],{"type":433,"value":1623},{"type":428,"tag":429,"props":1627,"children":1628},{},[1629,1631,1636,1638,1643,1645,1651],{"type":433,"value":1630},"webpack 使用其它 CSS Loader 处理 VueJS 中对应 CSS 代码之前，",{"type":428,"tag":436,"props":1632,"children":1634},{"className":1633},[],[1635],{"type":433,"value":797},{"type":433,"value":1637}," 已经替我们做了一层简单的处理，如果组件中 ",{"type":428,"tag":436,"props":1639,"children":1641},{"className":1640},[],[1642],{"type":433,"value":1539},{"type":433,"value":1644}," 块包含了 ",{"type":428,"tag":436,"props":1646,"children":1648},{"className":1647},[],[1649],{"type":433,"value":1650},"scoped",{"type":433,"value":1652}," 属性：",{"type":428,"tag":503,"props":1654,"children":1656},{"className":1464,"code":1655,"language":1466,"meta":421,"style":421},"\u003C!-- 某个VueJS组件中 -->\n\u003Ctemplate>\n    \u003Cdiv class='lionad'>\u003C/div>\n\u003C/template>\n\u003Cstyle lang=\"scss\" scoped>\n    .lionad {\n        background: @tiger-orange;\n    }\n\u003C/style>\n",[1657],{"type":428,"tag":436,"props":1658,"children":1659},{"__ignoreMap":421},[1660,1668,1684,1728,1743,1786,1802,1822,1830],{"type":428,"tag":513,"props":1661,"children":1662},{"class":515,"line":516},[1663],{"type":428,"tag":513,"props":1664,"children":1665},{"style":820},[1666],{"type":433,"value":1667},"\u003C!-- 某个VueJS组件中 -->\n",{"type":428,"tag":513,"props":1669,"children":1670},{"class":515,"line":561},[1671,1675,1680],{"type":428,"tag":513,"props":1672,"children":1673},{"style":550},[1674],{"type":433,"value":1478},{"type":428,"tag":513,"props":1676,"children":1677},{"style":1481},[1678],{"type":433,"value":1679},"template",{"type":428,"tag":513,"props":1681,"children":1682},{"style":550},[1683],{"type":433,"value":1527},{"type":428,"tag":513,"props":1685,"children":1686},{"class":515,"line":581},[1687,1692,1696,1700,1704,1708,1712,1716,1720,1724],{"type":428,"tag":513,"props":1688,"children":1689},{"style":550},[1690],{"type":433,"value":1691},"    \u003C",{"type":428,"tag":513,"props":1693,"children":1694},{"style":1481},[1695],{"type":433,"value":1484},{"type":428,"tag":513,"props":1697,"children":1698},{"style":1487},[1699],{"type":433,"value":1490},{"type":428,"tag":513,"props":1701,"children":1702},{"style":550},[1703],{"type":433,"value":1495},{"type":428,"tag":513,"props":1705,"children":1706},{"style":637},[1707],{"type":433,"value":640},{"type":428,"tag":513,"props":1709,"children":1710},{"style":643},[1711],{"type":433,"value":1504},{"type":428,"tag":513,"props":1713,"children":1714},{"style":637},[1715],{"type":433,"value":640},{"type":428,"tag":513,"props":1717,"children":1718},{"style":550},[1719],{"type":433,"value":1518},{"type":428,"tag":513,"props":1721,"children":1722},{"style":1481},[1723],{"type":433,"value":1484},{"type":428,"tag":513,"props":1725,"children":1726},{"style":550},[1727],{"type":433,"value":1527},{"type":428,"tag":513,"props":1729,"children":1730},{"class":515,"line":605},[1731,1735,1739],{"type":428,"tag":513,"props":1732,"children":1733},{"style":550},[1734],{"type":433,"value":1612},{"type":428,"tag":513,"props":1736,"children":1737},{"style":1481},[1738],{"type":433,"value":1679},{"type":428,"tag":513,"props":1740,"children":1741},{"style":550},[1742],{"type":433,"value":1527},{"type":428,"tag":513,"props":1744,"children":1745},{"class":515,"line":663},[1746,1750,1754,1759,1763,1768,1773,1777,1782],{"type":428,"tag":513,"props":1747,"children":1748},{"style":550},[1749],{"type":433,"value":1478},{"type":428,"tag":513,"props":1751,"children":1752},{"style":1481},[1753],{"type":433,"value":1539},{"type":428,"tag":513,"props":1755,"children":1756},{"style":1487},[1757],{"type":433,"value":1758}," lang",{"type":428,"tag":513,"props":1760,"children":1761},{"style":550},[1762],{"type":433,"value":1495},{"type":428,"tag":513,"props":1764,"children":1765},{"style":637},[1766],{"type":433,"value":1767},"\"",{"type":428,"tag":513,"props":1769,"children":1770},{"style":643},[1771],{"type":433,"value":1772},"scss",{"type":428,"tag":513,"props":1774,"children":1775},{"style":637},[1776],{"type":433,"value":1767},{"type":428,"tag":513,"props":1778,"children":1779},{"style":1487},[1780],{"type":433,"value":1781}," scoped",{"type":428,"tag":513,"props":1783,"children":1784},{"style":550},[1785],{"type":433,"value":1527},{"type":428,"tag":513,"props":1787,"children":1788},{"class":515,"line":709},[1789,1794,1798],{"type":428,"tag":513,"props":1790,"children":1791},{"style":1549},[1792],{"type":433,"value":1793},"    .",{"type":428,"tag":513,"props":1795,"children":1796},{"style":1554},[1797],{"type":433,"value":1504},{"type":428,"tag":513,"props":1799,"children":1800},{"style":550},[1801],{"type":433,"value":558},{"type":428,"tag":513,"props":1803,"children":1804},{"class":515,"line":726},[1805,1810,1814,1818],{"type":428,"tag":513,"props":1806,"children":1807},{"style":1581},[1808],{"type":433,"value":1809},"        background",{"type":428,"tag":513,"props":1811,"children":1812},{"style":550},[1813],{"type":433,"value":573},{"type":428,"tag":513,"props":1815,"children":1816},{"style":544},[1817],{"type":433,"value":1593},{"type":428,"tag":513,"props":1819,"children":1820},{"style":550},[1821],{"type":433,"value":970},{"type":428,"tag":513,"props":1823,"children":1824},{"class":515,"line":735},[1825],{"type":428,"tag":513,"props":1826,"children":1827},{"style":550},[1828],{"type":433,"value":1829},"    }\n",{"type":428,"tag":513,"props":1831,"children":1832},{"class":515,"line":973},[1833,1837,1841],{"type":428,"tag":513,"props":1834,"children":1835},{"style":550},[1836],{"type":433,"value":1612},{"type":428,"tag":513,"props":1838,"children":1839},{"style":1481},[1840],{"type":433,"value":1539},{"type":428,"tag":513,"props":1842,"children":1843},{"style":550},[1844],{"type":433,"value":1527},{"type":428,"tag":429,"props":1846,"children":1847},{},[1848,1850,1856,1858,1863],{"type":433,"value":1849},"下代码即判断当前",{"type":428,"tag":436,"props":1851,"children":1853},{"className":1852},[],[1854],{"type":433,"value":1855},"SFC",{"type":433,"value":1857},"对象样式块中是否有",{"type":428,"tag":436,"props":1859,"children":1861},{"className":1860},[],[1862],{"type":433,"value":1650},{"type":433,"value":1864},"属性，并插入用于 query 中，顺带一提，每个单文件组件被解析后，都会生成对应组件 ID，ID 主要以生产/开发环境做区分，通过文件路径+源码或是文件路径的值作为哈希特征值的形式生成，如下：",{"type":428,"tag":503,"props":1866,"children":1868},{"className":505,"code":1867,"language":507,"meta":421,"style":421},"// vue-loader/index.js\nconst id = hash(isProduction  (shortFilePath + '\\n' + source) : shortFilePath)\nconst hasScoped = descriptor.styles.some(s => s.scoped)\nconst query = `? vue&type=template${idQuery}${scopedQuery}`\nconst request = templateRequest = stringifyRequest(src + query)\ntemplateImport = `import { render, staticRenderFns } from ${request}`\n",[1869],{"type":428,"tag":436,"props":1870,"children":1871},{"__ignoreMap":421},[1872,1879,1944,2010,2066,2110],{"type":428,"tag":513,"props":1873,"children":1874},{"class":515,"line":516},[1875],{"type":428,"tag":513,"props":1876,"children":1877},{"style":820},[1878],{"type":433,"value":823},{"type":428,"tag":513,"props":1880,"children":1881},{"class":515,"line":561},[1882,1886,1891,1895,1900,1904,1909,1914,1919,1924,1930,1934,1939],{"type":428,"tag":513,"props":1883,"children":1884},{"style":520},[1885],{"type":433,"value":523},{"type":428,"tag":513,"props":1887,"children":1888},{"style":526},[1889],{"type":433,"value":1890}," id",{"type":428,"tag":513,"props":1892,"children":1893},{"style":532},[1894],{"type":433,"value":535},{"type":428,"tag":513,"props":1896,"children":1897},{"style":538},[1898],{"type":433,"value":1899}," hash",{"type":428,"tag":513,"props":1901,"children":1902},{"style":544},[1903],{"type":433,"value":597},{"type":428,"tag":513,"props":1905,"children":1906},{"style":538},[1907],{"type":433,"value":1908},"isProduction",{"type":428,"tag":513,"props":1910,"children":1911},{"style":544},[1912],{"type":433,"value":1913},"  (shortFilePath ",{"type":428,"tag":513,"props":1915,"children":1916},{"style":532},[1917],{"type":433,"value":1918},"+",{"type":428,"tag":513,"props":1920,"children":1921},{"style":637},[1922],{"type":433,"value":1923}," '",{"type":428,"tag":513,"props":1925,"children":1927},{"style":1926},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1928],{"type":433,"value":1929},"\\n",{"type":428,"tag":513,"props":1931,"children":1932},{"style":637},[1933],{"type":433,"value":640},{"type":428,"tag":513,"props":1935,"children":1936},{"style":532},[1937],{"type":433,"value":1938}," +",{"type":428,"tag":513,"props":1940,"children":1941},{"style":544},[1942],{"type":433,"value":1943}," source) : shortFilePath)\n",{"type":428,"tag":513,"props":1945,"children":1946},{"class":515,"line":581},[1947,1951,1956,1960,1964,1968,1973,1977,1982,1986,1991,1996,2001,2005],{"type":428,"tag":513,"props":1948,"children":1949},{"style":520},[1950],{"type":433,"value":523},{"type":428,"tag":513,"props":1952,"children":1953},{"style":526},[1954],{"type":433,"value":1955}," hasScoped",{"type":428,"tag":513,"props":1957,"children":1958},{"style":532},[1959],{"type":433,"value":535},{"type":428,"tag":513,"props":1961,"children":1962},{"style":544},[1963],{"type":433,"value":835},{"type":428,"tag":513,"props":1965,"children":1966},{"style":550},[1967],{"type":433,"value":625},{"type":428,"tag":513,"props":1969,"children":1970},{"style":544},[1971],{"type":433,"value":1972},"styles",{"type":428,"tag":513,"props":1974,"children":1975},{"style":550},[1976],{"type":433,"value":625},{"type":428,"tag":513,"props":1978,"children":1979},{"style":538},[1980],{"type":433,"value":1981},"some",{"type":428,"tag":513,"props":1983,"children":1984},{"style":544},[1985],{"type":433,"value":597},{"type":428,"tag":513,"props":1987,"children":1988},{"style":1008},[1989],{"type":433,"value":1990},"s",{"type":428,"tag":513,"props":1992,"children":1993},{"style":520},[1994],{"type":433,"value":1995}," =>",{"type":428,"tag":513,"props":1997,"children":1998},{"style":544},[1999],{"type":433,"value":2000}," s",{"type":428,"tag":513,"props":2002,"children":2003},{"style":550},[2004],{"type":433,"value":625},{"type":428,"tag":513,"props":2006,"children":2007},{"style":544},[2008],{"type":433,"value":2009},"scoped)\n",{"type":428,"tag":513,"props":2011,"children":2012},{"class":515,"line":605},[2013,2017,2022,2026,2031,2036,2042,2047,2052,2057,2061],{"type":428,"tag":513,"props":2014,"children":2015},{"style":520},[2016],{"type":433,"value":523},{"type":428,"tag":513,"props":2018,"children":2019},{"style":526},[2020],{"type":433,"value":2021}," query",{"type":428,"tag":513,"props":2023,"children":2024},{"style":532},[2025],{"type":433,"value":535},{"type":428,"tag":513,"props":2027,"children":2028},{"style":637},[2029],{"type":433,"value":2030}," `",{"type":428,"tag":513,"props":2032,"children":2033},{"style":643},[2034],{"type":433,"value":2035},"? vue&type=template",{"type":428,"tag":513,"props":2037,"children":2039},{"style":2038},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[2040],{"type":433,"value":2041},"${",{"type":428,"tag":513,"props":2043,"children":2044},{"style":544},[2045],{"type":433,"value":2046},"idQuery",{"type":428,"tag":513,"props":2048,"children":2049},{"style":2038},[2050],{"type":433,"value":2051},"}${",{"type":428,"tag":513,"props":2053,"children":2054},{"style":544},[2055],{"type":433,"value":2056},"scopedQuery",{"type":428,"tag":513,"props":2058,"children":2059},{"style":2038},[2060],{"type":433,"value":741},{"type":428,"tag":513,"props":2062,"children":2063},{"style":637},[2064],{"type":433,"value":2065},"`\n",{"type":428,"tag":513,"props":2067,"children":2068},{"class":515,"line":663},[2069,2073,2078,2082,2087,2091,2096,2101,2105],{"type":428,"tag":513,"props":2070,"children":2071},{"style":520},[2072],{"type":433,"value":523},{"type":428,"tag":513,"props":2074,"children":2075},{"style":526},[2076],{"type":433,"value":2077}," request",{"type":428,"tag":513,"props":2079,"children":2080},{"style":532},[2081],{"type":433,"value":535},{"type":428,"tag":513,"props":2083,"children":2084},{"style":544},[2085],{"type":433,"value":2086}," templateRequest ",{"type":428,"tag":513,"props":2088,"children":2089},{"style":532},[2090],{"type":433,"value":1495},{"type":428,"tag":513,"props":2092,"children":2093},{"style":538},[2094],{"type":433,"value":2095}," stringifyRequest",{"type":428,"tag":513,"props":2097,"children":2098},{"style":544},[2099],{"type":433,"value":2100},"(src ",{"type":428,"tag":513,"props":2102,"children":2103},{"style":532},[2104],{"type":433,"value":1918},{"type":428,"tag":513,"props":2106,"children":2107},{"style":544},[2108],{"type":433,"value":2109}," query)\n",{"type":428,"tag":513,"props":2111,"children":2112},{"class":515,"line":709},[2113,2118,2122,2126,2131,2135,2140,2144],{"type":428,"tag":513,"props":2114,"children":2115},{"style":544},[2116],{"type":433,"value":2117},"templateImport ",{"type":428,"tag":513,"props":2119,"children":2120},{"style":532},[2121],{"type":433,"value":1495},{"type":428,"tag":513,"props":2123,"children":2124},{"style":637},[2125],{"type":433,"value":2030},{"type":428,"tag":513,"props":2127,"children":2128},{"style":643},[2129],{"type":433,"value":2130},"import { render, staticRenderFns } from ",{"type":428,"tag":513,"props":2132,"children":2133},{"style":2038},[2134],{"type":433,"value":2041},{"type":428,"tag":513,"props":2136,"children":2137},{"style":544},[2138],{"type":433,"value":2139},"request",{"type":428,"tag":513,"props":2141,"children":2142},{"style":2038},[2143],{"type":433,"value":741},{"type":428,"tag":513,"props":2145,"children":2146},{"style":637},[2147],{"type":433,"value":2065},{"type":428,"tag":2149,"props":2150,"children":2152},"h4",{"id":2151},"html-模板处理",[2153],{"type":433,"value":2154},"HTML 模板处理",{"type":428,"tag":429,"props":2156,"children":2157},{},[2158,2160,2166,2168,2173,2175,2181],{"type":433,"value":2159},"在用于处理 SFC 结构中 HTML 模板的 ",{"type":428,"tag":436,"props":2161,"children":2163},{"className":2162},[],[2164],{"type":433,"value":2165},"templateLoader",{"type":433,"value":2167}," 中，我们可以得知，query 中所设置的参数将合并为 loader options 经由 webpack 转交 ",{"type":428,"tag":436,"props":2169,"children":2171},{"className":2170},[],[2172],{"type":433,"value":2165},{"type":433,"value":2174}," 再转交 ",{"type":428,"tag":436,"props":2176,"children":2178},{"className":2177},[],[2179],{"type":433,"value":2180},"@vue/component-compiler-utils.compileTemplate",{"type":433,"value":2182}," 处理：",{"type":428,"tag":503,"props":2184,"children":2186},{"className":505,"code":2185,"language":507,"meta":421,"style":421},"// vue-loader/templateLoader.js\nconst query = qs.parse(this.resourceQuery)\nconst { id } = query\nconst compilerOptions = Object.assign({}, options.compilerOptions, {\n    scopeId: query.scoped ? `data-v-${id}` : null\n})\nconst compiled = compileTemplate({ compilerOptions })\n",[2187],{"type":428,"tag":436,"props":2188,"children":2189},{"__ignoreMap":421},[2190,2198,2246,2274,2334,2401,2412],{"type":428,"tag":513,"props":2191,"children":2192},{"class":515,"line":516},[2193],{"type":428,"tag":513,"props":2194,"children":2195},{"style":820},[2196],{"type":433,"value":2197},"// vue-loader/templateLoader.js\n",{"type":428,"tag":513,"props":2199,"children":2200},{"class":515,"line":561},[2201,2205,2209,2213,2218,2222,2227,2231,2237,2241],{"type":428,"tag":513,"props":2202,"children":2203},{"style":520},[2204],{"type":433,"value":523},{"type":428,"tag":513,"props":2206,"children":2207},{"style":526},[2208],{"type":433,"value":2021},{"type":428,"tag":513,"props":2210,"children":2211},{"style":532},[2212],{"type":433,"value":535},{"type":428,"tag":513,"props":2214,"children":2215},{"style":544},[2216],{"type":433,"value":2217}," qs",{"type":428,"tag":513,"props":2219,"children":2220},{"style":550},[2221],{"type":433,"value":625},{"type":428,"tag":513,"props":2223,"children":2224},{"style":538},[2225],{"type":433,"value":2226},"parse",{"type":428,"tag":513,"props":2228,"children":2229},{"style":544},[2230],{"type":433,"value":597},{"type":428,"tag":513,"props":2232,"children":2234},{"style":2233},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2235],{"type":433,"value":2236},"this",{"type":428,"tag":513,"props":2238,"children":2239},{"style":550},[2240],{"type":433,"value":625},{"type":428,"tag":513,"props":2242,"children":2243},{"style":544},[2244],{"type":433,"value":2245},"resourceQuery)\n",{"type":428,"tag":513,"props":2247,"children":2248},{"class":515,"line":581},[2249,2253,2257,2261,2265,2269],{"type":428,"tag":513,"props":2250,"children":2251},{"style":520},[2252],{"type":433,"value":523},{"type":428,"tag":513,"props":2254,"children":2255},{"style":550},[2256],{"type":433,"value":1033},{"type":428,"tag":513,"props":2258,"children":2259},{"style":526},[2260],{"type":433,"value":1890},{"type":428,"tag":513,"props":2262,"children":2263},{"style":550},[2264],{"type":433,"value":1043},{"type":428,"tag":513,"props":2266,"children":2267},{"style":532},[2268],{"type":433,"value":535},{"type":428,"tag":513,"props":2270,"children":2271},{"style":544},[2272],{"type":433,"value":2273}," query\n",{"type":428,"tag":513,"props":2275,"children":2276},{"class":515,"line":605},[2277,2281,2286,2290,2295,2299,2304,2308,2313,2317,2321,2326,2330],{"type":428,"tag":513,"props":2278,"children":2279},{"style":520},[2280],{"type":433,"value":523},{"type":428,"tag":513,"props":2282,"children":2283},{"style":526},[2284],{"type":433,"value":2285}," compilerOptions",{"type":428,"tag":513,"props":2287,"children":2288},{"style":532},[2289],{"type":433,"value":535},{"type":428,"tag":513,"props":2291,"children":2292},{"style":544},[2293],{"type":433,"value":2294}," Object",{"type":428,"tag":513,"props":2296,"children":2297},{"style":550},[2298],{"type":433,"value":625},{"type":428,"tag":513,"props":2300,"children":2301},{"style":538},[2302],{"type":433,"value":2303},"assign",{"type":428,"tag":513,"props":2305,"children":2306},{"style":544},[2307],{"type":433,"value":597},{"type":428,"tag":513,"props":2309,"children":2310},{"style":550},[2311],{"type":433,"value":2312},"{},",{"type":428,"tag":513,"props":2314,"children":2315},{"style":544},[2316],{"type":433,"value":881},{"type":428,"tag":513,"props":2318,"children":2319},{"style":550},[2320],{"type":433,"value":625},{"type":428,"tag":513,"props":2322,"children":2323},{"style":544},[2324],{"type":433,"value":2325},"compilerOptions",{"type":428,"tag":513,"props":2327,"children":2328},{"style":550},[2329],{"type":433,"value":553},{"type":428,"tag":513,"props":2331,"children":2332},{"style":550},[2333],{"type":433,"value":558},{"type":428,"tag":513,"props":2335,"children":2336},{"class":515,"line":663},[2337,2342,2346,2350,2354,2359,2364,2368,2373,2377,2382,2386,2391,2396],{"type":428,"tag":513,"props":2338,"children":2339},{"style":565},[2340],{"type":433,"value":2341},"    scopeId",{"type":428,"tag":513,"props":2343,"children":2344},{"style":550},[2345],{"type":433,"value":573},{"type":428,"tag":513,"props":2347,"children":2348},{"style":544},[2349],{"type":433,"value":2021},{"type":428,"tag":513,"props":2351,"children":2352},{"style":550},[2353],{"type":433,"value":625},{"type":428,"tag":513,"props":2355,"children":2356},{"style":544},[2357],{"type":433,"value":2358},"scoped ",{"type":428,"tag":513,"props":2360,"children":2361},{"style":532},[2362],{"type":433,"value":2363},"?",{"type":428,"tag":513,"props":2365,"children":2366},{"style":637},[2367],{"type":433,"value":2030},{"type":428,"tag":513,"props":2369,"children":2370},{"style":643},[2371],{"type":433,"value":2372},"data-v-",{"type":428,"tag":513,"props":2374,"children":2375},{"style":2038},[2376],{"type":433,"value":2041},{"type":428,"tag":513,"props":2378,"children":2379},{"style":544},[2380],{"type":433,"value":2381},"id",{"type":428,"tag":513,"props":2383,"children":2384},{"style":2038},[2385],{"type":433,"value":741},{"type":428,"tag":513,"props":2387,"children":2388},{"style":637},[2389],{"type":433,"value":2390},"`",{"type":428,"tag":513,"props":2392,"children":2393},{"style":532},[2394],{"type":433,"value":2395}," :",{"type":428,"tag":513,"props":2397,"children":2398},{"style":1237},[2399],{"type":433,"value":2400}," null\n",{"type":428,"tag":513,"props":2402,"children":2403},{"class":515,"line":709},[2404,2408],{"type":428,"tag":513,"props":2405,"children":2406},{"style":550},[2407],{"type":433,"value":741},{"type":428,"tag":513,"props":2409,"children":2410},{"style":544},[2411],{"type":433,"value":706},{"type":428,"tag":513,"props":2413,"children":2414},{"class":515,"line":726},[2415,2419,2424,2428,2433,2437,2442,2447,2451],{"type":428,"tag":513,"props":2416,"children":2417},{"style":520},[2418],{"type":433,"value":523},{"type":428,"tag":513,"props":2420,"children":2421},{"style":526},[2422],{"type":433,"value":2423}," compiled",{"type":428,"tag":513,"props":2425,"children":2426},{"style":532},[2427],{"type":433,"value":535},{"type":428,"tag":513,"props":2429,"children":2430},{"style":538},[2431],{"type":433,"value":2432}," compileTemplate",{"type":428,"tag":513,"props":2434,"children":2435},{"style":544},[2436],{"type":433,"value":597},{"type":428,"tag":513,"props":2438,"children":2439},{"style":550},[2440],{"type":433,"value":2441},"{",{"type":428,"tag":513,"props":2443,"children":2444},{"style":544},[2445],{"type":433,"value":2446}," compilerOptions ",{"type":428,"tag":513,"props":2448,"children":2449},{"style":550},[2450],{"type":433,"value":741},{"type":428,"tag":513,"props":2452,"children":2453},{"style":544},[2454],{"type":433,"value":706},{"type":428,"tag":429,"props":2456,"children":2457},{},[2458,2460,2466,2468,2474],{"type":433,"value":2459},"实际 ",{"type":428,"tag":436,"props":2461,"children":2463},{"className":2462},[],[2464],{"type":433,"value":2465},"compileTemplate",{"type":433,"value":2467}," 函数在处理内容时，编译函数使用的是 query 中的 compiler 或 ",{"type":428,"tag":436,"props":2469,"children":2471},{"className":2470},[],[2472],{"type":433,"value":2473},"vue-template-compiler",{"type":433,"value":2475},"，后者会将模板文本转换成为 JavaScript 渲染函数，大致如下：",{"type":428,"tag":2477,"props":2478,"children":2479},"ol",{},[2480,2485,2490],{"type":428,"tag":1367,"props":2481,"children":2482},{},[2483],{"type":433,"value":2484},"从 HTML 模版转换为 AST(虚拟语法树)",{"type":428,"tag":1367,"props":2486,"children":2487},{},[2488],{"type":433,"value":2489},"AST 优化，处理静态模版与动态模板",{"type":428,"tag":1367,"props":2491,"children":2492},{},[2493],{"type":433,"value":2494},"生成 JS 函数，用于在运行时运行时生成纯 HTML",{"type":428,"tag":429,"props":2496,"children":2497},{},[2498],{"type":433,"value":2499},"代码分别对应：",{"type":428,"tag":503,"props":2501,"children":2503},{"className":505,"code":2502,"language":507,"meta":421,"style":421},"// vue-template-compiler/build.js/createCompilerCreator\nvar ast = parse(template.trim(), options)\noptimize(ast, options)\nvar code = generate(ast, options)\n",[2504],{"type":428,"tag":436,"props":2505,"children":2506},{"__ignoreMap":421},[2507,2515,2563,2584],{"type":428,"tag":513,"props":2508,"children":2509},{"class":515,"line":516},[2510],{"type":428,"tag":513,"props":2511,"children":2512},{"style":820},[2513],{"type":433,"value":2514},"// vue-template-compiler/build.js/createCompilerCreator\n",{"type":428,"tag":513,"props":2516,"children":2517},{"class":515,"line":561},[2518,2523,2528,2532,2536,2541,2545,2550,2554,2558],{"type":428,"tag":513,"props":2519,"children":2520},{"style":520},[2521],{"type":433,"value":2522},"var",{"type":428,"tag":513,"props":2524,"children":2525},{"style":544},[2526],{"type":433,"value":2527}," ast ",{"type":428,"tag":513,"props":2529,"children":2530},{"style":532},[2531],{"type":433,"value":1495},{"type":428,"tag":513,"props":2533,"children":2534},{"style":538},[2535],{"type":433,"value":844},{"type":428,"tag":513,"props":2537,"children":2538},{"style":544},[2539],{"type":433,"value":2540},"(template",{"type":428,"tag":513,"props":2542,"children":2543},{"style":550},[2544],{"type":433,"value":625},{"type":428,"tag":513,"props":2546,"children":2547},{"style":538},[2548],{"type":433,"value":2549},"trim",{"type":428,"tag":513,"props":2551,"children":2552},{"style":544},[2553],{"type":433,"value":905},{"type":428,"tag":513,"props":2555,"children":2556},{"style":550},[2557],{"type":433,"value":553},{"type":428,"tag":513,"props":2559,"children":2560},{"style":544},[2561],{"type":433,"value":2562}," options)\n",{"type":428,"tag":513,"props":2564,"children":2565},{"class":515,"line":581},[2566,2571,2576,2580],{"type":428,"tag":513,"props":2567,"children":2568},{"style":538},[2569],{"type":433,"value":2570},"optimize",{"type":428,"tag":513,"props":2572,"children":2573},{"style":544},[2574],{"type":433,"value":2575},"(ast",{"type":428,"tag":513,"props":2577,"children":2578},{"style":550},[2579],{"type":433,"value":553},{"type":428,"tag":513,"props":2581,"children":2582},{"style":544},[2583],{"type":433,"value":2562},{"type":428,"tag":513,"props":2585,"children":2586},{"class":515,"line":605},[2587,2591,2596,2600,2605,2609,2613],{"type":428,"tag":513,"props":2588,"children":2589},{"style":520},[2590],{"type":433,"value":2522},{"type":428,"tag":513,"props":2592,"children":2593},{"style":544},[2594],{"type":433,"value":2595}," code ",{"type":428,"tag":513,"props":2597,"children":2598},{"style":532},[2599],{"type":433,"value":1495},{"type":428,"tag":513,"props":2601,"children":2602},{"style":538},[2603],{"type":433,"value":2604}," generate",{"type":428,"tag":513,"props":2606,"children":2607},{"style":544},[2608],{"type":433,"value":2575},{"type":428,"tag":513,"props":2610,"children":2611},{"style":550},[2612],{"type":433,"value":553},{"type":428,"tag":513,"props":2614,"children":2615},{"style":544},[2616],{"type":433,"value":2562},{"type":428,"tag":429,"props":2618,"children":2619},{},[2620],{"type":433,"value":2621},"先前我们的组件 ID 在 parse 阶段解析开始标签时就会被推入内部储存的数据结构中：",{"type":428,"tag":503,"props":2623,"children":2625},{"className":505,"code":2624,"language":507,"meta":421,"style":421},"function elementToOpenTagSegments (el, state) {\n  var segments = [{ type: RAW, value: (\"\u003C\" + (el.tag)) }]\n  // _scopedId\n  if (state.options.scopeId) {\n    segments.push({ type: RAW, value: (\" \" + (state.options.scopeId)) })\n  }\n  segments.push({ type: RAW, value: \">\" })\n  return segments\n}\n",[2626],{"type":428,"tag":436,"props":2627,"children":2628},{"__ignoreMap":421},[2629,2668,2771,2779,2822,2924,2932,3001,3013],{"type":428,"tag":513,"props":2630,"children":2631},{"class":515,"line":516},[2632,2636,2641,2646,2651,2655,2660,2664],{"type":428,"tag":513,"props":2633,"children":2634},{"style":520},[2635],{"type":433,"value":997},{"type":428,"tag":513,"props":2637,"children":2638},{"style":538},[2639],{"type":433,"value":2640}," elementToOpenTagSegments",{"type":428,"tag":513,"props":2642,"children":2643},{"style":550},[2644],{"type":433,"value":2645}," (",{"type":428,"tag":513,"props":2647,"children":2648},{"style":1008},[2649],{"type":433,"value":2650},"el",{"type":428,"tag":513,"props":2652,"children":2653},{"style":550},[2654],{"type":433,"value":553},{"type":428,"tag":513,"props":2656,"children":2657},{"style":1008},[2658],{"type":433,"value":2659}," state",{"type":428,"tag":513,"props":2661,"children":2662},{"style":550},[2663],{"type":433,"value":655},{"type":428,"tag":513,"props":2665,"children":2666},{"style":550},[2667],{"type":433,"value":558},{"type":428,"tag":513,"props":2669,"children":2670},{"class":515,"line":561},[2671,2675,2680,2684,2689,2693,2698,2702,2707,2711,2716,2720,2724,2728,2732,2736,2740,2744,2748,2752,2757,2762,2766],{"type":428,"tag":513,"props":2672,"children":2673},{"style":520},[2674],{"type":433,"value":1208},{"type":428,"tag":513,"props":2676,"children":2677},{"style":544},[2678],{"type":433,"value":2679}," segments",{"type":428,"tag":513,"props":2681,"children":2682},{"style":532},[2683],{"type":433,"value":535},{"type":428,"tag":513,"props":2685,"children":2686},{"style":565},[2687],{"type":433,"value":2688}," [",{"type":428,"tag":513,"props":2690,"children":2691},{"style":550},[2692],{"type":433,"value":2441},{"type":428,"tag":513,"props":2694,"children":2695},{"style":565},[2696],{"type":433,"value":2697}," type",{"type":428,"tag":513,"props":2699,"children":2700},{"style":550},[2701],{"type":433,"value":573},{"type":428,"tag":513,"props":2703,"children":2704},{"style":526},[2705],{"type":433,"value":2706}," RAW",{"type":428,"tag":513,"props":2708,"children":2709},{"style":550},[2710],{"type":433,"value":553},{"type":428,"tag":513,"props":2712,"children":2713},{"style":565},[2714],{"type":433,"value":2715}," value",{"type":428,"tag":513,"props":2717,"children":2718},{"style":550},[2719],{"type":433,"value":573},{"type":428,"tag":513,"props":2721,"children":2722},{"style":565},[2723],{"type":433,"value":2645},{"type":428,"tag":513,"props":2725,"children":2726},{"style":637},[2727],{"type":433,"value":1767},{"type":428,"tag":513,"props":2729,"children":2730},{"style":643},[2731],{"type":433,"value":1478},{"type":428,"tag":513,"props":2733,"children":2734},{"style":637},[2735],{"type":433,"value":1767},{"type":428,"tag":513,"props":2737,"children":2738},{"style":532},[2739],{"type":433,"value":1938},{"type":428,"tag":513,"props":2741,"children":2742},{"style":565},[2743],{"type":433,"value":2645},{"type":428,"tag":513,"props":2745,"children":2746},{"style":544},[2747],{"type":433,"value":2650},{"type":428,"tag":513,"props":2749,"children":2750},{"style":550},[2751],{"type":433,"value":625},{"type":428,"tag":513,"props":2753,"children":2754},{"style":544},[2755],{"type":433,"value":2756},"tag",{"type":428,"tag":513,"props":2758,"children":2759},{"style":565},[2760],{"type":433,"value":2761},")) ",{"type":428,"tag":513,"props":2763,"children":2764},{"style":550},[2765],{"type":433,"value":741},{"type":428,"tag":513,"props":2767,"children":2768},{"style":565},[2769],{"type":433,"value":2770},"]\n",{"type":428,"tag":513,"props":2772,"children":2773},{"class":515,"line":581},[2774],{"type":428,"tag":513,"props":2775,"children":2776},{"style":820},[2777],{"type":433,"value":2778},"  // _scopedId\n",{"type":428,"tag":513,"props":2780,"children":2781},{"class":515,"line":605},[2782,2787,2791,2796,2800,2804,2808,2813,2818],{"type":428,"tag":513,"props":2783,"children":2784},{"style":1114},[2785],{"type":433,"value":2786},"  if",{"type":428,"tag":513,"props":2788,"children":2789},{"style":565},[2790],{"type":433,"value":2645},{"type":428,"tag":513,"props":2792,"children":2793},{"style":544},[2794],{"type":433,"value":2795},"state",{"type":428,"tag":513,"props":2797,"children":2798},{"style":550},[2799],{"type":433,"value":625},{"type":428,"tag":513,"props":2801,"children":2802},{"style":544},[2803],{"type":433,"value":1011},{"type":428,"tag":513,"props":2805,"children":2806},{"style":550},[2807],{"type":433,"value":625},{"type":428,"tag":513,"props":2809,"children":2810},{"style":544},[2811],{"type":433,"value":2812},"scopeId",{"type":428,"tag":513,"props":2814,"children":2815},{"style":565},[2816],{"type":433,"value":2817},") ",{"type":428,"tag":513,"props":2819,"children":2820},{"style":550},[2821],{"type":433,"value":602},{"type":428,"tag":513,"props":2823,"children":2824},{"class":515,"line":663},[2825,2830,2834,2839,2843,2847,2851,2855,2859,2863,2867,2871,2875,2879,2884,2888,2892,2896,2900,2904,2908,2912,2916,2920],{"type":428,"tag":513,"props":2826,"children":2827},{"style":544},[2828],{"type":433,"value":2829},"    segments",{"type":428,"tag":513,"props":2831,"children":2832},{"style":550},[2833],{"type":433,"value":625},{"type":428,"tag":513,"props":2835,"children":2836},{"style":538},[2837],{"type":433,"value":2838},"push",{"type":428,"tag":513,"props":2840,"children":2841},{"style":565},[2842],{"type":433,"value":597},{"type":428,"tag":513,"props":2844,"children":2845},{"style":550},[2846],{"type":433,"value":2441},{"type":428,"tag":513,"props":2848,"children":2849},{"style":565},[2850],{"type":433,"value":2697},{"type":428,"tag":513,"props":2852,"children":2853},{"style":550},[2854],{"type":433,"value":573},{"type":428,"tag":513,"props":2856,"children":2857},{"style":526},[2858],{"type":433,"value":2706},{"type":428,"tag":513,"props":2860,"children":2861},{"style":550},[2862],{"type":433,"value":553},{"type":428,"tag":513,"props":2864,"children":2865},{"style":565},[2866],{"type":433,"value":2715},{"type":428,"tag":513,"props":2868,"children":2869},{"style":550},[2870],{"type":433,"value":573},{"type":428,"tag":513,"props":2872,"children":2873},{"style":565},[2874],{"type":433,"value":2645},{"type":428,"tag":513,"props":2876,"children":2877},{"style":637},[2878],{"type":433,"value":1767},{"type":428,"tag":513,"props":2880,"children":2881},{"style":637},[2882],{"type":433,"value":2883}," \"",{"type":428,"tag":513,"props":2885,"children":2886},{"style":532},[2887],{"type":433,"value":1938},{"type":428,"tag":513,"props":2889,"children":2890},{"style":565},[2891],{"type":433,"value":2645},{"type":428,"tag":513,"props":2893,"children":2894},{"style":544},[2895],{"type":433,"value":2795},{"type":428,"tag":513,"props":2897,"children":2898},{"style":550},[2899],{"type":433,"value":625},{"type":428,"tag":513,"props":2901,"children":2902},{"style":544},[2903],{"type":433,"value":1011},{"type":428,"tag":513,"props":2905,"children":2906},{"style":550},[2907],{"type":433,"value":625},{"type":428,"tag":513,"props":2909,"children":2910},{"style":544},[2911],{"type":433,"value":2812},{"type":428,"tag":513,"props":2913,"children":2914},{"style":565},[2915],{"type":433,"value":2761},{"type":428,"tag":513,"props":2917,"children":2918},{"style":550},[2919],{"type":433,"value":741},{"type":428,"tag":513,"props":2921,"children":2922},{"style":565},[2923],{"type":433,"value":706},{"type":428,"tag":513,"props":2925,"children":2926},{"class":515,"line":709},[2927],{"type":428,"tag":513,"props":2928,"children":2929},{"style":550},[2930],{"type":433,"value":2931},"  }\n",{"type":428,"tag":513,"props":2933,"children":2934},{"class":515,"line":726},[2935,2940,2944,2948,2952,2956,2960,2964,2968,2972,2976,2980,2984,2989,2993,2997],{"type":428,"tag":513,"props":2936,"children":2937},{"style":544},[2938],{"type":433,"value":2939},"  segments",{"type":428,"tag":513,"props":2941,"children":2942},{"style":550},[2943],{"type":433,"value":625},{"type":428,"tag":513,"props":2945,"children":2946},{"style":538},[2947],{"type":433,"value":2838},{"type":428,"tag":513,"props":2949,"children":2950},{"style":565},[2951],{"type":433,"value":597},{"type":428,"tag":513,"props":2953,"children":2954},{"style":550},[2955],{"type":433,"value":2441},{"type":428,"tag":513,"props":2957,"children":2958},{"style":565},[2959],{"type":433,"value":2697},{"type":428,"tag":513,"props":2961,"children":2962},{"style":550},[2963],{"type":433,"value":573},{"type":428,"tag":513,"props":2965,"children":2966},{"style":526},[2967],{"type":433,"value":2706},{"type":428,"tag":513,"props":2969,"children":2970},{"style":550},[2971],{"type":433,"value":553},{"type":428,"tag":513,"props":2973,"children":2974},{"style":565},[2975],{"type":433,"value":2715},{"type":428,"tag":513,"props":2977,"children":2978},{"style":550},[2979],{"type":433,"value":573},{"type":428,"tag":513,"props":2981,"children":2982},{"style":637},[2983],{"type":433,"value":2883},{"type":428,"tag":513,"props":2985,"children":2986},{"style":643},[2987],{"type":433,"value":2988},">",{"type":428,"tag":513,"props":2990,"children":2991},{"style":637},[2992],{"type":433,"value":1767},{"type":428,"tag":513,"props":2994,"children":2995},{"style":550},[2996],{"type":433,"value":1043},{"type":428,"tag":513,"props":2998,"children":2999},{"style":565},[3000],{"type":433,"value":706},{"type":428,"tag":513,"props":3002,"children":3003},{"class":515,"line":735},[3004,3008],{"type":428,"tag":513,"props":3005,"children":3006},{"style":1114},[3007],{"type":433,"value":1117},{"type":428,"tag":513,"props":3009,"children":3010},{"style":544},[3011],{"type":433,"value":3012}," segments\n",{"type":428,"tag":513,"props":3014,"children":3015},{"class":515,"line":973},[3016],{"type":428,"tag":513,"props":3017,"children":3018},{"style":550},[3019],{"type":433,"value":1135},{"type":428,"tag":429,"props":3021,"children":3022},{},[3023,3025,3031],{"type":433,"value":3024},"先前我们的 HTML 模板 ",{"type":428,"tag":436,"props":3026,"children":3028},{"className":3027},[],[3029],{"type":433,"value":3030},"\u003Cdiv class='lionad'>\u003C/div>",{"type":433,"value":3032}," 中开始标签会被转换成如下数据结构：",{"type":428,"tag":503,"props":3034,"children":3036},{"className":505,"code":3035,"language":507,"meta":421,"style":421},"[\n    { type: RAW, value: '\u003Cdiv' },\n    { type: RAW, value: 'class=lionad' },\n    { type: RAW, value: 'data-v-xxxxxx' },\n    { type: RAW, value: '>' },\n]\n",[3037],{"type":428,"tag":436,"props":3038,"children":3039},{"__ignoreMap":421},[3040,3048,3098,3146,3194,3241],{"type":428,"tag":513,"props":3041,"children":3042},{"class":515,"line":516},[3043],{"type":428,"tag":513,"props":3044,"children":3045},{"style":544},[3046],{"type":433,"value":3047},"[\n",{"type":428,"tag":513,"props":3049,"children":3050},{"class":515,"line":561},[3051,3056,3060,3064,3068,3072,3076,3080,3084,3089,3093],{"type":428,"tag":513,"props":3052,"children":3053},{"style":550},[3054],{"type":433,"value":3055},"    {",{"type":428,"tag":513,"props":3057,"children":3058},{"style":565},[3059],{"type":433,"value":2697},{"type":428,"tag":513,"props":3061,"children":3062},{"style":550},[3063],{"type":433,"value":573},{"type":428,"tag":513,"props":3065,"children":3066},{"style":526},[3067],{"type":433,"value":2706},{"type":428,"tag":513,"props":3069,"children":3070},{"style":550},[3071],{"type":433,"value":553},{"type":428,"tag":513,"props":3073,"children":3074},{"style":565},[3075],{"type":433,"value":2715},{"type":428,"tag":513,"props":3077,"children":3078},{"style":550},[3079],{"type":433,"value":573},{"type":428,"tag":513,"props":3081,"children":3082},{"style":637},[3083],{"type":433,"value":1923},{"type":428,"tag":513,"props":3085,"children":3086},{"style":643},[3087],{"type":433,"value":3088},"\u003Cdiv",{"type":428,"tag":513,"props":3090,"children":3091},{"style":637},[3092],{"type":433,"value":640},{"type":428,"tag":513,"props":3094,"children":3095},{"style":550},[3096],{"type":433,"value":3097}," },\n",{"type":428,"tag":513,"props":3099,"children":3100},{"class":515,"line":581},[3101,3105,3109,3113,3117,3121,3125,3129,3133,3138,3142],{"type":428,"tag":513,"props":3102,"children":3103},{"style":550},[3104],{"type":433,"value":3055},{"type":428,"tag":513,"props":3106,"children":3107},{"style":565},[3108],{"type":433,"value":2697},{"type":428,"tag":513,"props":3110,"children":3111},{"style":550},[3112],{"type":433,"value":573},{"type":428,"tag":513,"props":3114,"children":3115},{"style":526},[3116],{"type":433,"value":2706},{"type":428,"tag":513,"props":3118,"children":3119},{"style":550},[3120],{"type":433,"value":553},{"type":428,"tag":513,"props":3122,"children":3123},{"style":565},[3124],{"type":433,"value":2715},{"type":428,"tag":513,"props":3126,"children":3127},{"style":550},[3128],{"type":433,"value":573},{"type":428,"tag":513,"props":3130,"children":3131},{"style":637},[3132],{"type":433,"value":1923},{"type":428,"tag":513,"props":3134,"children":3135},{"style":643},[3136],{"type":433,"value":3137},"class=lionad",{"type":428,"tag":513,"props":3139,"children":3140},{"style":637},[3141],{"type":433,"value":640},{"type":428,"tag":513,"props":3143,"children":3144},{"style":550},[3145],{"type":433,"value":3097},{"type":428,"tag":513,"props":3147,"children":3148},{"class":515,"line":605},[3149,3153,3157,3161,3165,3169,3173,3177,3181,3186,3190],{"type":428,"tag":513,"props":3150,"children":3151},{"style":550},[3152],{"type":433,"value":3055},{"type":428,"tag":513,"props":3154,"children":3155},{"style":565},[3156],{"type":433,"value":2697},{"type":428,"tag":513,"props":3158,"children":3159},{"style":550},[3160],{"type":433,"value":573},{"type":428,"tag":513,"props":3162,"children":3163},{"style":526},[3164],{"type":433,"value":2706},{"type":428,"tag":513,"props":3166,"children":3167},{"style":550},[3168],{"type":433,"value":553},{"type":428,"tag":513,"props":3170,"children":3171},{"style":565},[3172],{"type":433,"value":2715},{"type":428,"tag":513,"props":3174,"children":3175},{"style":550},[3176],{"type":433,"value":573},{"type":428,"tag":513,"props":3178,"children":3179},{"style":637},[3180],{"type":433,"value":1923},{"type":428,"tag":513,"props":3182,"children":3183},{"style":643},[3184],{"type":433,"value":3185},"data-v-xxxxxx",{"type":428,"tag":513,"props":3187,"children":3188},{"style":637},[3189],{"type":433,"value":640},{"type":428,"tag":513,"props":3191,"children":3192},{"style":550},[3193],{"type":433,"value":3097},{"type":428,"tag":513,"props":3195,"children":3196},{"class":515,"line":663},[3197,3201,3205,3209,3213,3217,3221,3225,3229,3233,3237],{"type":428,"tag":513,"props":3198,"children":3199},{"style":550},[3200],{"type":433,"value":3055},{"type":428,"tag":513,"props":3202,"children":3203},{"style":565},[3204],{"type":433,"value":2697},{"type":428,"tag":513,"props":3206,"children":3207},{"style":550},[3208],{"type":433,"value":573},{"type":428,"tag":513,"props":3210,"children":3211},{"style":526},[3212],{"type":433,"value":2706},{"type":428,"tag":513,"props":3214,"children":3215},{"style":550},[3216],{"type":433,"value":553},{"type":428,"tag":513,"props":3218,"children":3219},{"style":565},[3220],{"type":433,"value":2715},{"type":428,"tag":513,"props":3222,"children":3223},{"style":550},[3224],{"type":433,"value":573},{"type":428,"tag":513,"props":3226,"children":3227},{"style":637},[3228],{"type":433,"value":1923},{"type":428,"tag":513,"props":3230,"children":3231},{"style":643},[3232],{"type":433,"value":2988},{"type":428,"tag":513,"props":3234,"children":3235},{"style":637},[3236],{"type":433,"value":640},{"type":428,"tag":513,"props":3238,"children":3239},{"style":550},[3240],{"type":433,"value":3097},{"type":428,"tag":513,"props":3242,"children":3243},{"class":515,"line":709},[3244],{"type":428,"tag":513,"props":3245,"children":3246},{"style":544},[3247],{"type":433,"value":2770},{"type":428,"tag":2149,"props":3249,"children":3251},{"id":3250},"样式模板处理",[3252],{"type":433,"value":3250},{"type":428,"tag":429,"props":3254,"children":3255},{},[3256,3258,3264,3266,3272,3274,3280,3282,3288],{"type":433,"value":3257},"与 HTML Template 解析的过程类似，通过 webpack 将样式模板转交 ",{"type":428,"tag":436,"props":3259,"children":3261},{"className":3260},[],[3262],{"type":433,"value":3263},"stylePostLoader",{"type":433,"value":3265}," 进行处理，处理逻辑主要引用了 ",{"type":428,"tag":436,"props":3267,"children":3269},{"className":3268},[],[3270],{"type":433,"value":3271},"@vue/component-compiler-utils",{"type":433,"value":3273}," 中的 ",{"type":428,"tag":436,"props":3275,"children":3277},{"className":3276},[],[3278],{"type":433,"value":3279},"compileStyle",{"type":433,"value":3281}," 部分，后者对样式模板进行解析的过程中，将会对含 scoped 标记的模板引入插件 ",{"type":428,"tag":436,"props":3283,"children":3285},{"className":3284},[],[3286],{"type":433,"value":3287},"stylePlugins/scoped.js",{"type":433,"value":3289},"：",{"type":428,"tag":503,"props":3291,"children":3293},{"className":505,"code":3292,"language":507,"meta":421,"style":421},"// component-compiler-utils/compileStyle.js\nfunction doCompileStyle (options) {\n    if (scoped) {\n        plugins.push(scoped_1.default(id));\n    }\n    return { result: postcss(plugins).process(source, postCSSOptions) }\n}\n",[3294],{"type":428,"tag":436,"props":3295,"children":3296},{"__ignoreMap":421},[3297,3305,3333,3357,3408,3415,3488],{"type":428,"tag":513,"props":3298,"children":3299},{"class":515,"line":516},[3300],{"type":428,"tag":513,"props":3301,"children":3302},{"style":820},[3303],{"type":433,"value":3304},"// component-compiler-utils/compileStyle.js\n",{"type":428,"tag":513,"props":3306,"children":3307},{"class":515,"line":561},[3308,3312,3317,3321,3325,3329],{"type":428,"tag":513,"props":3309,"children":3310},{"style":520},[3311],{"type":433,"value":997},{"type":428,"tag":513,"props":3313,"children":3314},{"style":538},[3315],{"type":433,"value":3316}," doCompileStyle",{"type":428,"tag":513,"props":3318,"children":3319},{"style":550},[3320],{"type":433,"value":2645},{"type":428,"tag":513,"props":3322,"children":3323},{"style":1008},[3324],{"type":433,"value":1011},{"type":428,"tag":513,"props":3326,"children":3327},{"style":550},[3328],{"type":433,"value":655},{"type":428,"tag":513,"props":3330,"children":3331},{"style":550},[3332],{"type":433,"value":558},{"type":428,"tag":513,"props":3334,"children":3335},{"class":515,"line":581},[3336,3341,3345,3349,3353],{"type":428,"tag":513,"props":3337,"children":3338},{"style":1114},[3339],{"type":433,"value":3340},"    if",{"type":428,"tag":513,"props":3342,"children":3343},{"style":565},[3344],{"type":433,"value":2645},{"type":428,"tag":513,"props":3346,"children":3347},{"style":544},[3348],{"type":433,"value":1650},{"type":428,"tag":513,"props":3350,"children":3351},{"style":565},[3352],{"type":433,"value":2817},{"type":428,"tag":513,"props":3354,"children":3355},{"style":550},[3356],{"type":433,"value":602},{"type":428,"tag":513,"props":3358,"children":3359},{"class":515,"line":605},[3360,3365,3369,3373,3377,3382,3386,3391,3395,3399,3404],{"type":428,"tag":513,"props":3361,"children":3362},{"style":544},[3363],{"type":433,"value":3364},"        plugins",{"type":428,"tag":513,"props":3366,"children":3367},{"style":550},[3368],{"type":433,"value":625},{"type":428,"tag":513,"props":3370,"children":3371},{"style":538},[3372],{"type":433,"value":2838},{"type":428,"tag":513,"props":3374,"children":3375},{"style":565},[3376],{"type":433,"value":597},{"type":428,"tag":513,"props":3378,"children":3379},{"style":544},[3380],{"type":433,"value":3381},"scoped_1",{"type":428,"tag":513,"props":3383,"children":3384},{"style":550},[3385],{"type":433,"value":625},{"type":428,"tag":513,"props":3387,"children":3388},{"style":538},[3389],{"type":433,"value":3390},"default",{"type":428,"tag":513,"props":3392,"children":3393},{"style":565},[3394],{"type":433,"value":597},{"type":428,"tag":513,"props":3396,"children":3397},{"style":544},[3398],{"type":433,"value":2381},{"type":428,"tag":513,"props":3400,"children":3401},{"style":565},[3402],{"type":433,"value":3403},"))",{"type":428,"tag":513,"props":3405,"children":3406},{"style":550},[3407],{"type":433,"value":970},{"type":428,"tag":513,"props":3409,"children":3410},{"class":515,"line":663},[3411],{"type":428,"tag":513,"props":3412,"children":3413},{"style":550},[3414],{"type":433,"value":1829},{"type":428,"tag":513,"props":3416,"children":3417},{"class":515,"line":709},[3418,3423,3427,3432,3436,3441,3445,3450,3454,3458,3463,3467,3471,3475,3480,3484],{"type":428,"tag":513,"props":3419,"children":3420},{"style":1114},[3421],{"type":433,"value":3422},"    return",{"type":428,"tag":513,"props":3424,"children":3425},{"style":550},[3426],{"type":433,"value":1033},{"type":428,"tag":513,"props":3428,"children":3429},{"style":565},[3430],{"type":433,"value":3431}," result",{"type":428,"tag":513,"props":3433,"children":3434},{"style":550},[3435],{"type":433,"value":573},{"type":428,"tag":513,"props":3437,"children":3438},{"style":538},[3439],{"type":433,"value":3440}," postcss",{"type":428,"tag":513,"props":3442,"children":3443},{"style":565},[3444],{"type":433,"value":597},{"type":428,"tag":513,"props":3446,"children":3447},{"style":544},[3448],{"type":433,"value":3449},"plugins",{"type":428,"tag":513,"props":3451,"children":3452},{"style":565},[3453],{"type":433,"value":655},{"type":428,"tag":513,"props":3455,"children":3456},{"style":550},[3457],{"type":433,"value":625},{"type":428,"tag":513,"props":3459,"children":3460},{"style":538},[3461],{"type":433,"value":3462},"process",{"type":428,"tag":513,"props":3464,"children":3465},{"style":565},[3466],{"type":433,"value":597},{"type":428,"tag":513,"props":3468,"children":3469},{"style":544},[3470],{"type":433,"value":1090},{"type":428,"tag":513,"props":3472,"children":3473},{"style":550},[3474],{"type":433,"value":553},{"type":428,"tag":513,"props":3476,"children":3477},{"style":544},[3478],{"type":433,"value":3479}," postCSSOptions",{"type":428,"tag":513,"props":3481,"children":3482},{"style":565},[3483],{"type":433,"value":2817},{"type":428,"tag":513,"props":3485,"children":3486},{"style":550},[3487],{"type":433,"value":1135},{"type":428,"tag":513,"props":3489,"children":3490},{"class":515,"line":726},[3491],{"type":428,"tag":513,"props":3492,"children":3493},{"style":550},[3494],{"type":433,"value":1135},{"type":428,"tag":429,"props":3496,"children":3497},{},[3498,3500,3506,3508,3513],{"type":433,"value":3499},"插件 ",{"type":428,"tag":436,"props":3501,"children":3503},{"className":3502},[],[3504],{"type":433,"value":3505},"scoped.js",{"type":433,"value":3507}," 将 ",{"type":428,"tag":436,"props":3509,"children":3511},{"className":3510},[],[3512],{"type":433,"value":3185},{"type":433,"value":3514}," 添加到选择器末尾的具体逻辑如下，遍历每一个选择器组合下的选择器，选择给每个组合下最后一个选择器的末尾插入：",{"type":428,"tag":503,"props":3516,"children":3518},{"className":505,"code":3517,"language":507,"meta":421,"style":421},"// component-compiler-utils/stylePlugins/scoped.js\nselectors.each((selector) => {\n    selector.each((n) => {\n        if (n.value === '::v-deep' || n.value === '>>>' || n.value === '/deep/') {\n            return false;\n        }\n    });\n    selector.insertAfter(node, selectorParser.attribute({\n        attribute: id\n    }))\n})\n",[3519],{"type":428,"tag":436,"props":3520,"children":3521},{"__ignoreMap":421},[3522,3530,3572,3613,3732,3750,3758,3774,3825,3842,3854],{"type":428,"tag":513,"props":3523,"children":3524},{"class":515,"line":516},[3525],{"type":428,"tag":513,"props":3526,"children":3527},{"style":820},[3528],{"type":433,"value":3529},"// component-compiler-utils/stylePlugins/scoped.js\n",{"type":428,"tag":513,"props":3531,"children":3532},{"class":515,"line":561},[3533,3538,3542,3547,3551,3555,3560,3564,3568],{"type":428,"tag":513,"props":3534,"children":3535},{"style":544},[3536],{"type":433,"value":3537},"selectors",{"type":428,"tag":513,"props":3539,"children":3540},{"style":550},[3541],{"type":433,"value":625},{"type":428,"tag":513,"props":3543,"children":3544},{"style":538},[3545],{"type":433,"value":3546},"each",{"type":428,"tag":513,"props":3548,"children":3549},{"style":544},[3550],{"type":433,"value":597},{"type":428,"tag":513,"props":3552,"children":3553},{"style":550},[3554],{"type":433,"value":597},{"type":428,"tag":513,"props":3556,"children":3557},{"style":1008},[3558],{"type":433,"value":3559},"selector",{"type":428,"tag":513,"props":3561,"children":3562},{"style":550},[3563],{"type":433,"value":655},{"type":428,"tag":513,"props":3565,"children":3566},{"style":520},[3567],{"type":433,"value":1995},{"type":428,"tag":513,"props":3569,"children":3570},{"style":550},[3571],{"type":433,"value":558},{"type":428,"tag":513,"props":3573,"children":3574},{"class":515,"line":581},[3575,3580,3584,3588,3592,3596,3601,3605,3609],{"type":428,"tag":513,"props":3576,"children":3577},{"style":544},[3578],{"type":433,"value":3579},"    selector",{"type":428,"tag":513,"props":3581,"children":3582},{"style":550},[3583],{"type":433,"value":625},{"type":428,"tag":513,"props":3585,"children":3586},{"style":538},[3587],{"type":433,"value":3546},{"type":428,"tag":513,"props":3589,"children":3590},{"style":565},[3591],{"type":433,"value":597},{"type":428,"tag":513,"props":3593,"children":3594},{"style":550},[3595],{"type":433,"value":597},{"type":428,"tag":513,"props":3597,"children":3598},{"style":1008},[3599],{"type":433,"value":3600},"n",{"type":428,"tag":513,"props":3602,"children":3603},{"style":550},[3604],{"type":433,"value":655},{"type":428,"tag":513,"props":3606,"children":3607},{"style":520},[3608],{"type":433,"value":1995},{"type":428,"tag":513,"props":3610,"children":3611},{"style":550},[3612],{"type":433,"value":558},{"type":428,"tag":513,"props":3614,"children":3615},{"class":515,"line":605},[3616,3621,3625,3629,3633,3638,3643,3647,3652,3656,3661,3666,3670,3674,3678,3682,3687,3691,3695,3699,3703,3707,3711,3715,3720,3724,3728],{"type":428,"tag":513,"props":3617,"children":3618},{"style":1114},[3619],{"type":433,"value":3620},"        if",{"type":428,"tag":513,"props":3622,"children":3623},{"style":565},[3624],{"type":433,"value":2645},{"type":428,"tag":513,"props":3626,"children":3627},{"style":544},[3628],{"type":433,"value":3600},{"type":428,"tag":513,"props":3630,"children":3631},{"style":550},[3632],{"type":433,"value":625},{"type":428,"tag":513,"props":3634,"children":3635},{"style":544},[3636],{"type":433,"value":3637},"value",{"type":428,"tag":513,"props":3639,"children":3640},{"style":532},[3641],{"type":433,"value":3642}," ===",{"type":428,"tag":513,"props":3644,"children":3645},{"style":637},[3646],{"type":433,"value":1923},{"type":428,"tag":513,"props":3648,"children":3649},{"style":643},[3650],{"type":433,"value":3651},"::v-deep",{"type":428,"tag":513,"props":3653,"children":3654},{"style":637},[3655],{"type":433,"value":640},{"type":428,"tag":513,"props":3657,"children":3658},{"style":532},[3659],{"type":433,"value":3660}," ||",{"type":428,"tag":513,"props":3662,"children":3663},{"style":544},[3664],{"type":433,"value":3665}," n",{"type":428,"tag":513,"props":3667,"children":3668},{"style":550},[3669],{"type":433,"value":625},{"type":428,"tag":513,"props":3671,"children":3672},{"style":544},[3673],{"type":433,"value":3637},{"type":428,"tag":513,"props":3675,"children":3676},{"style":532},[3677],{"type":433,"value":3642},{"type":428,"tag":513,"props":3679,"children":3680},{"style":637},[3681],{"type":433,"value":1923},{"type":428,"tag":513,"props":3683,"children":3684},{"style":643},[3685],{"type":433,"value":3686},">>>",{"type":428,"tag":513,"props":3688,"children":3689},{"style":637},[3690],{"type":433,"value":640},{"type":428,"tag":513,"props":3692,"children":3693},{"style":532},[3694],{"type":433,"value":3660},{"type":428,"tag":513,"props":3696,"children":3697},{"style":544},[3698],{"type":433,"value":3665},{"type":428,"tag":513,"props":3700,"children":3701},{"style":550},[3702],{"type":433,"value":625},{"type":428,"tag":513,"props":3704,"children":3705},{"style":544},[3706],{"type":433,"value":3637},{"type":428,"tag":513,"props":3708,"children":3709},{"style":532},[3710],{"type":433,"value":3642},{"type":428,"tag":513,"props":3712,"children":3713},{"style":637},[3714],{"type":433,"value":1923},{"type":428,"tag":513,"props":3716,"children":3717},{"style":643},[3718],{"type":433,"value":3719},"/deep/",{"type":428,"tag":513,"props":3721,"children":3722},{"style":637},[3723],{"type":433,"value":640},{"type":428,"tag":513,"props":3725,"children":3726},{"style":565},[3727],{"type":433,"value":2817},{"type":428,"tag":513,"props":3729,"children":3730},{"style":550},[3731],{"type":433,"value":602},{"type":428,"tag":513,"props":3733,"children":3734},{"class":515,"line":663},[3735,3740,3746],{"type":428,"tag":513,"props":3736,"children":3737},{"style":1114},[3738],{"type":433,"value":3739},"            return",{"type":428,"tag":513,"props":3741,"children":3743},{"style":3742},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3744],{"type":433,"value":3745}," false",{"type":428,"tag":513,"props":3747,"children":3748},{"style":550},[3749],{"type":433,"value":970},{"type":428,"tag":513,"props":3751,"children":3752},{"class":515,"line":709},[3753],{"type":428,"tag":513,"props":3754,"children":3755},{"style":550},[3756],{"type":433,"value":3757},"        }\n",{"type":428,"tag":513,"props":3759,"children":3760},{"class":515,"line":726},[3761,3766,3770],{"type":428,"tag":513,"props":3762,"children":3763},{"style":550},[3764],{"type":433,"value":3765},"    }",{"type":428,"tag":513,"props":3767,"children":3768},{"style":565},[3769],{"type":433,"value":655},{"type":428,"tag":513,"props":3771,"children":3772},{"style":550},[3773],{"type":433,"value":970},{"type":428,"tag":513,"props":3775,"children":3776},{"class":515,"line":735},[3777,3781,3785,3790,3794,3799,3803,3808,3812,3817,3821],{"type":428,"tag":513,"props":3778,"children":3779},{"style":544},[3780],{"type":433,"value":3579},{"type":428,"tag":513,"props":3782,"children":3783},{"style":550},[3784],{"type":433,"value":625},{"type":428,"tag":513,"props":3786,"children":3787},{"style":538},[3788],{"type":433,"value":3789},"insertAfter",{"type":428,"tag":513,"props":3791,"children":3792},{"style":565},[3793],{"type":433,"value":597},{"type":428,"tag":513,"props":3795,"children":3796},{"style":544},[3797],{"type":433,"value":3798},"node",{"type":428,"tag":513,"props":3800,"children":3801},{"style":550},[3802],{"type":433,"value":553},{"type":428,"tag":513,"props":3804,"children":3805},{"style":544},[3806],{"type":433,"value":3807}," selectorParser",{"type":428,"tag":513,"props":3809,"children":3810},{"style":550},[3811],{"type":433,"value":625},{"type":428,"tag":513,"props":3813,"children":3814},{"style":538},[3815],{"type":433,"value":3816},"attribute",{"type":428,"tag":513,"props":3818,"children":3819},{"style":565},[3820],{"type":433,"value":597},{"type":428,"tag":513,"props":3822,"children":3823},{"style":550},[3824],{"type":433,"value":602},{"type":428,"tag":513,"props":3826,"children":3827},{"class":515,"line":973},[3828,3833,3837],{"type":428,"tag":513,"props":3829,"children":3830},{"style":565},[3831],{"type":433,"value":3832},"        attribute",{"type":428,"tag":513,"props":3834,"children":3835},{"style":550},[3836],{"type":433,"value":573},{"type":428,"tag":513,"props":3838,"children":3839},{"style":544},[3840],{"type":433,"value":3841}," id\n",{"type":428,"tag":513,"props":3843,"children":3844},{"class":515,"line":982},[3845,3849],{"type":428,"tag":513,"props":3846,"children":3847},{"style":550},[3848],{"type":433,"value":3765},{"type":428,"tag":513,"props":3850,"children":3851},{"style":565},[3852],{"type":433,"value":3853},"))\n",{"type":428,"tag":513,"props":3855,"children":3856},{"class":515,"line":991},[3857,3861],{"type":428,"tag":513,"props":3858,"children":3859},{"style":550},[3860],{"type":433,"value":741},{"type":428,"tag":513,"props":3862,"children":3863},{"style":544},[3864],{"type":433,"value":706},{"type":428,"tag":429,"props":3866,"children":3867},{},[3868,3870,3876],{"type":433,"value":3869},"题外话，通过以上代码，我们发现当循环处理到三种特定类型选择器便会终止，停止将 ",{"type":428,"tag":436,"props":3871,"children":3873},{"className":3872},[],[3874],{"type":433,"value":3875},"data-v-xxx",{"type":433,"value":3877}," 添加到选择器末尾：",{"type":428,"tag":2477,"props":3879,"children":3880},{},[3881,3891,3901],{"type":428,"tag":1367,"props":3882,"children":3883},{},[3884,3886],{"type":433,"value":3885},"伪类 ",{"type":428,"tag":436,"props":3887,"children":3889},{"className":3888},[],[3890],{"type":433,"value":3651},{"type":428,"tag":1367,"props":3892,"children":3893},{},[3894,3896],{"type":433,"value":3895},"选择器 ",{"type":428,"tag":436,"props":3897,"children":3899},{"className":3898},[],[3900],{"type":433,"value":3686},{"type":428,"tag":1367,"props":3902,"children":3903},{},[3904,3905],{"type":433,"value":3895},{"type":428,"tag":436,"props":3906,"children":3908},{"className":3907},[],[3909],{"type":433,"value":3719},{"type":428,"tag":429,"props":3911,"children":3912},{},[3913],{"type":433,"value":3914},"我们可以利用这个特征，在组件中写样式穿透，即内部组件影响外部组件样式 (ε=ε=ε=┏(゜ロ゜;)┛ 主动样式污染)，当然这在特定的情境下是有用的，比如当我们想主动覆盖第三方 UI 组件框架的样式，却不想引入新的 CSS 文件，或不想写非 Scoped CSS 模板的时候。",{"type":428,"tag":1539,"props":3916,"children":3917},{},[3918],{"type":433,"value":3919},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":421,"searchDepth":561,"depth":561,"links":3921},[3922,3923,3924],{"id":463,"depth":561,"text":463},{"id":783,"depth":561,"text":786},{"id":1431,"depth":561,"text":1426,"children":3925},[3926,3927],{"id":1437,"depth":581,"text":1440},{"id":1623,"depth":581,"text":1623},"markdown","content:8.source-code:_js:vue2-source:4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css","md",[3934,3937],{"_path":3935,"title":3936,"description":423},"/source-code/_js/vue2-source/global-api","Vue2 Global API",{"_path":3938,"title":3939,"description":423},"/source-code/_js/vue2-source/test-kit","Vue2 Test Kit",1738603243813]