[{"data":1,"prerenderedAt":3934},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/scoped-css":410,"/source-code/_js/vue2-source/scoped-css-surround":3927},[4,32,83,102,129,135,141,147,393,399,405],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96,99],{"title":88,"_path":89},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":91,"_path":92},"🌐 AnySort","/tools/anysort",{"title":94,"_path":95},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":97,"_path":98},"👓 Crapto","/tools/crypto-inline",{"title":100,"_path":101},"🖨️ any-to-base64","/tools/any-to-base64",{"title":103,"_path":104,"children":105},"吉他剧场 / Music","/music",[106,108,111,114,117,120,123,126],{"title":107,"_path":104},"🎸 FingerStyle！",{"title":109,"_path":110},"🌬️ 等待的风","/music/wind",{"title":112,"_path":113},"💕 约定的海洋","/music/ocean",{"title":115,"_path":116},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":118,"_path":119},"🌏 残酷天使的行动纲领","/music/eva",{"title":121,"_path":122},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":124,"_path":125},"🍷 Wu Wei","/music/wu-wei",{"title":127,"_path":128},"🌅 无题","/music/untitled",{"title":130,"_path":131,"children":132},"画点什么 / Paint","/paint",[133],{"title":134,"_path":131},"🚧 正在施工",{"title":136,"_path":137,"children":138},"读书笔记 / Notes","/books",[139],{"title":140,"_path":137},"📕 读书笔记",{"title":142,"_path":143,"children":144},"知识地图 / Maps","/maps",[145],{"title":146,"_path":143},"🏁 知识地图",{"title":148,"_path":149,"children":150},"零散的笔记 / Gists","/gists",[151,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390],{"title":152,"_path":149},"🧊 Gists",{"title":154,"_path":155},"网站的可访问性","/gists/accessibility",{"title":157,"_path":158},"Bit","/gists/bit",{"title":160,"_path":161},"图片模糊","/gists/blur",{"title":163,"_path":164},"渲染相关笔记","/gists/c4d",{"title":166,"_path":167},"CDN 问题记录","/gists/cdn",{"title":169,"_path":170},"消毒剂","/gists/cleaner",{"title":172,"_path":173},"Windows Command","/gists/cmd",{"title":175,"_path":176},"Command","/gists/command",{"title":178,"_path":179},"复杂科学","/gists/complexity-science",{"title":181,"_path":182},"GitHub Copilot","/gists/copilot",{"title":184,"_path":185},"宇宙","/gists/cosmos",{"title":187,"_path":188},"C++","/gists/cpp",{"title":190,"_path":191},"Data Structure","/gists/data-structure",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"设计模式","/gists/design-patterns",{"title":199,"_path":200},"Developer Experience","/gists/developer-experience",{"title":202,"_path":203},"Device Metrics","/gists/device-metrix",{"title":205,"_path":206},"数字化转型","/gists/digital-transformation",{"title":208,"_path":209},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":211,"_path":212},"正则表达式","/gists/eegex",{"title":214,"_path":215},"Emoji","/gists/emoji",{"title":217,"_path":218},"工程","/gists/engineering",{"title":220,"_path":221},"熵","/gists/entropy",{"title":223,"_path":224},"Environment","/gists/environment",{"title":226,"_path":227},"Erlang","/gists/erlang",{"title":229,"_path":230},"逃离塔克夫","/gists/escape-from-tarkov",{"title":232,"_path":233},"ESNext (ES6-ES11)","/gists/esnext",{"title":235,"_path":236},"Eval！","/gists/eval",{"title":238,"_path":239},"Flutter","/gists/flutter",{"title":241,"_path":242},"字体","/gists/font",{"title":244,"_path":245},"JS 函数式编程","/gists/functional",{"title":247,"_path":248},"游戏化","/gists/gamification",{"title":250,"_path":251},"Google C++ Standard","/gists/google-cpp-standard",{"title":253,"_path":254},"双向链接完全体","/gists/graph",{"title":256,"_path":257},"Hardwares","/gists/hardwares",{"title":259,"_path":260},"哈希冲突","/gists/hash-collision",{"title":262,"_path":263},"信息设计","/gists/information-design",{"title":265,"_path":266},"InstantPage","/gists/instant.page",{"title":268,"_path":269},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":271,"_path":272},"KVStore","/gists/key-value-db",{"title":274,"_path":275},"Kubernetes","/gists/kubernetes",{"title":277,"_path":278},"Makefile","/gists/makefile",{"title":280,"_path":281},"Markdown Inline Style","/gists/markdown-nice",{"title":283,"_path":284},"小程序","/gists/miniapp",{"title":286,"_path":287},"减小页面快照体积","/gists/minify-html",{"title":289,"_path":290},"mklink","/gists/mklink",{"title":292,"_path":293},"Mock","/gists/mock",{"title":295,"_path":296},"多人协作系统","/gists/multiplayer",{"title":298,"_path":299},"多端应用","/gists/multy-end-app",{"title":301,"_path":302},"神经科学","/gists/neuroscience",{"title":304,"_path":305},"OO","/gists/oo",{"title":307,"_path":308},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":310,"_path":311},"PInvoke","/gists/pinvoke",{"title":313,"_path":314},"像素","/gists/pixel",{"title":316,"_path":317},"PowerShell","/gists/powershell",{"title":319,"_path":320},"量子","/gists/quantum",{"title":322,"_path":323},"保持好奇心","/gists/questions",{"title":325,"_path":326},"React Native","/gists/react-native",{"title":328,"_path":329},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":331,"_path":332},"SEO","/gists/seo",{"title":334,"_path":335},"Shader","/gists/shader",{"title":337,"_path":338},"Shape Up","/gists/shape-up",{"title":340,"_path":341},"睡觉","/gists/sleep",{"title":343,"_path":344},"记录奇怪的问题","/gists/solved",{"title":346,"_path":347},"States","/gists/states",{"title":349,"_path":350},"Storage","/gists/storage",{"title":352,"_path":353},"音视频流处理","/gists/stream-cli",{"title":355,"_path":356},"Symbol","/gists/symbol",{"title":358,"_path":359},"系统论","/gists/systems-theory",{"title":361,"_path":362},"Taro","/gists/taro",{"title":364,"_path":365},"任务切片","/gists/task-slice",{"title":367,"_path":368},"技术偏好","/gists/tech-dudge",{"title":370,"_path":371},"Untitled","/gists/untitled",{"title":373,"_path":374},"可变字体","/gists/variable-font",{"title":376,"_path":377},"视觉错觉","/gists/visual-illusion",{"title":379,"_path":380},"SS(SSR)","/gists/vpn",{"title":382,"_path":383},"VS Code 插件开发","/gists/vscode-plugin",{"title":385,"_path":386},"Web Components","/gists/web-components",{"title":388,"_path":389},"Windows","/gists/windows",{"title":391,"_path":392},"查缺补漏","/gists/wrong",{"title":394,"_path":395,"children":396},"代码笔记 / Gists","/source-code",[397],{"title":398,"_path":395},"🚄 代码笔记",{"title":400,"_path":401,"children":402},"我 / Abount","/hire",[403],{"title":404,"_path":401},"📬 技术简历",{"title":406,"_path":407,"children":408},"todo","/todo",[409],{"title":406,"_path":407},{"_path":411,"_dir":412,"_draft":413,"_partial":414,"_locale":415,"title":416,"description":417,"body":418,"_type":3922,"_id":3923,"_source":1168,"_file":3924,"_stem":3925,"_extension":3926},"/source-code/_js/vue2-source/scoped-css","vue2-source",false,true,"","Vue2 Scoped CSS","deprecated warning",{"type":419,"children":420,"toc":3914},"root",[421,454,460,496,740,761,770,775,781,802,1344,1356,1410,1423,1428,1435,1456,1615,1620,1647,1839,1859,2142,2149,2177,2449,2470,2489,2494,2611,2616,3014,3027,3242,3247,3284,3489,3509,3859,3872,3904,3909],{"type":422,"tag":423,"props":424,"children":425},"element","p",{},[426,429,436,438,444,446,452],{"type":427,"value":428},"text","使用 VueJS 开发应用离不开模块拆分，即将大块界面拆解为组件的过程。我们可以很方便的在单文件中使用",{"type":422,"tag":430,"props":431,"children":433},"code",{"className":432},[],[434],{"type":427,"value":435},"\u003Ctemplate>",{"type":427,"value":437},"块维护组件的视图，使用",{"type":422,"tag":430,"props":439,"children":441},{"className":440},[],[442],{"type":427,"value":443},"\u003Cscript>",{"type":427,"value":445},"维护组件的逻辑部分，使用",{"type":422,"tag":430,"props":447,"children":449},{"className":448},[],[450],{"type":427,"value":451},"\u003Cstyle>",{"type":427,"value":453},"维护组件的样式。在我们编写 VueJS 组件样式时，不得忽略的一点就是如何防止以及反制样式污染。",{"type":422,"tag":455,"props":456,"children":458},"h2",{"id":457},"样式污染产生原因",[459],{"type":427,"value":457},{"type":422,"tag":423,"props":461,"children":462},{},[463,465,471,473,479,481,494],{"type":427,"value":464},"提及样式污染，主要要追溯到",{"type":422,"tag":430,"props":466,"children":468},{"className":467},[],[469],{"type":427,"value":470},"webpack",{"type":427,"value":472},"对",{"type":422,"tag":430,"props":474,"children":476},{"className":475},[],[477],{"type":427,"value":478},"CSS",{"type":427,"value":480},"文件的打包过程，这里我们以",{"type":422,"tag":482,"props":483,"children":487},"a",{"href":484,"rel":485},"https://github.com/PanJiaChen/vue-element-admin",[486],"nofollow",[488],{"type":422,"tag":430,"props":489,"children":491},{"className":490},[],[492],{"type":427,"value":493},"Vue-Element-Admin",{"type":427,"value":495},"中的 webpack 配置项举例：",{"type":422,"tag":497,"props":498,"children":502},"pre",{"className":499,"code":500,"language":501,"meta":415,"style":415},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const webpackConfig = merge(baseWebpackConfig, {\n    plugins: [\n        new MiniCssExtractPlugin({\n          filename: utils.assetsPath('css/[name].[contenthash:8].css'),\n          chunkFilename: utils.assetsPath('css/[name].[contenthash:8].css')\n        }),\n    ]\n})\n","js",[503],{"type":422,"tag":430,"props":504,"children":505},{"__ignoreMap":415},[506,553,573,597,655,701,718,727],{"type":422,"tag":507,"props":508,"children":511},"span",{"class":509,"line":510},"line",1,[512,518,524,530,536,542,548],{"type":422,"tag":507,"props":513,"children":515},{"style":514},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[516],{"type":427,"value":517},"const",{"type":422,"tag":507,"props":519,"children":521},{"style":520},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[522],{"type":427,"value":523}," webpackConfig",{"type":422,"tag":507,"props":525,"children":527},{"style":526},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[528],{"type":427,"value":529}," =",{"type":422,"tag":507,"props":531,"children":533},{"style":532},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[534],{"type":427,"value":535}," merge",{"type":422,"tag":507,"props":537,"children":539},{"style":538},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[540],{"type":427,"value":541},"(baseWebpackConfig",{"type":422,"tag":507,"props":543,"children":545},{"style":544},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[546],{"type":427,"value":547},",",{"type":422,"tag":507,"props":549,"children":550},{"style":544},[551],{"type":427,"value":552}," {\n",{"type":422,"tag":507,"props":554,"children":556},{"class":509,"line":555},2,[557,563,568],{"type":422,"tag":507,"props":558,"children":560},{"style":559},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[561],{"type":427,"value":562},"    plugins",{"type":422,"tag":507,"props":564,"children":565},{"style":544},[566],{"type":427,"value":567},":",{"type":422,"tag":507,"props":569,"children":570},{"style":538},[571],{"type":427,"value":572}," [\n",{"type":422,"tag":507,"props":574,"children":576},{"class":509,"line":575},3,[577,582,587,592],{"type":422,"tag":507,"props":578,"children":579},{"style":526},[580],{"type":427,"value":581},"        new",{"type":422,"tag":507,"props":583,"children":584},{"style":532},[585],{"type":427,"value":586}," MiniCssExtractPlugin",{"type":422,"tag":507,"props":588,"children":589},{"style":538},[590],{"type":427,"value":591},"(",{"type":422,"tag":507,"props":593,"children":594},{"style":544},[595],{"type":427,"value":596},"{\n",{"type":422,"tag":507,"props":598,"children":600},{"class":509,"line":599},4,[601,606,610,615,620,625,629,635,641,645,650],{"type":422,"tag":507,"props":602,"children":603},{"style":559},[604],{"type":427,"value":605},"          filename",{"type":422,"tag":507,"props":607,"children":608},{"style":544},[609],{"type":427,"value":567},{"type":422,"tag":507,"props":611,"children":612},{"style":538},[613],{"type":427,"value":614}," utils",{"type":422,"tag":507,"props":616,"children":617},{"style":544},[618],{"type":427,"value":619},".",{"type":422,"tag":507,"props":621,"children":622},{"style":532},[623],{"type":427,"value":624},"assetsPath",{"type":422,"tag":507,"props":626,"children":627},{"style":538},[628],{"type":427,"value":591},{"type":422,"tag":507,"props":630,"children":632},{"style":631},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[633],{"type":427,"value":634},"'",{"type":422,"tag":507,"props":636,"children":638},{"style":637},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[639],{"type":427,"value":640},"css/[name].[contenthash:8].css",{"type":422,"tag":507,"props":642,"children":643},{"style":631},[644],{"type":427,"value":634},{"type":422,"tag":507,"props":646,"children":647},{"style":538},[648],{"type":427,"value":649},")",{"type":422,"tag":507,"props":651,"children":652},{"style":544},[653],{"type":427,"value":654},",\n",{"type":422,"tag":507,"props":656,"children":658},{"class":509,"line":657},5,[659,664,668,672,676,680,684,688,692,696],{"type":422,"tag":507,"props":660,"children":661},{"style":559},[662],{"type":427,"value":663},"          chunkFilename",{"type":422,"tag":507,"props":665,"children":666},{"style":544},[667],{"type":427,"value":567},{"type":422,"tag":507,"props":669,"children":670},{"style":538},[671],{"type":427,"value":614},{"type":422,"tag":507,"props":673,"children":674},{"style":544},[675],{"type":427,"value":619},{"type":422,"tag":507,"props":677,"children":678},{"style":532},[679],{"type":427,"value":624},{"type":422,"tag":507,"props":681,"children":682},{"style":538},[683],{"type":427,"value":591},{"type":422,"tag":507,"props":685,"children":686},{"style":631},[687],{"type":427,"value":634},{"type":422,"tag":507,"props":689,"children":690},{"style":637},[691],{"type":427,"value":640},{"type":422,"tag":507,"props":693,"children":694},{"style":631},[695],{"type":427,"value":634},{"type":422,"tag":507,"props":697,"children":698},{"style":538},[699],{"type":427,"value":700},")\n",{"type":422,"tag":507,"props":702,"children":704},{"class":509,"line":703},6,[705,710,714],{"type":422,"tag":507,"props":706,"children":707},{"style":544},[708],{"type":427,"value":709},"        }",{"type":422,"tag":507,"props":711,"children":712},{"style":538},[713],{"type":427,"value":649},{"type":422,"tag":507,"props":715,"children":716},{"style":544},[717],{"type":427,"value":654},{"type":422,"tag":507,"props":719,"children":721},{"class":509,"line":720},7,[722],{"type":422,"tag":507,"props":723,"children":724},{"style":538},[725],{"type":427,"value":726},"    ]\n",{"type":422,"tag":507,"props":728,"children":730},{"class":509,"line":729},8,[731,736],{"type":422,"tag":507,"props":732,"children":733},{"style":544},[734],{"type":427,"value":735},"}",{"type":422,"tag":507,"props":737,"children":738},{"style":538},[739],{"type":427,"value":700},{"type":422,"tag":423,"props":741,"children":742},{},[743,745,751,753,759],{"type":427,"value":744},"webpack 使用 ",{"type":422,"tag":430,"props":746,"children":748},{"className":747},[],[749],{"type":427,"value":750},"MiniCssExtractPlugin",{"type":427,"value":752}," 插件，将文件(如 Vue 单文件组件)中的 CSS 代码，经过处理后，分离到形如",{"type":422,"tag":430,"props":754,"children":756},{"className":755},[],[757],{"type":427,"value":758},"app.hash1234.css",{"type":427,"value":760},"的单独的 CSS 文件：",{"type":422,"tag":423,"props":762,"children":763},{},[764],{"type":422,"tag":765,"props":766,"children":769},"img",{"alt":767,"src":768},"单独的CSS文件","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/scoped-css/browser_fYMdZDAMsI.png",[],{"type":422,"tag":423,"props":771,"children":772},{},[773],{"type":427,"value":774},"如果没有加入防止样式污染的措施的同时，项目中存在了大量的同名 ClassName，那么可能会产生意想不到的 CSS 选择器权重覆盖。这可能使后文件中某部分选择器权重更高的类影响整个应用，而此过程通常发生在组件的编写中，所以一般称之为组件样式污染。",{"type":422,"tag":455,"props":776,"children":778},{"id":777},"webpack-vue-sfc-object",[779],{"type":427,"value":780},"webpack & Vue SFC Object",{"type":422,"tag":423,"props":782,"children":783},{},[784,786,792,794,800],{"type":427,"value":785},"对于 Vue 项目而言，使用 webpack 将极大的优化了工作流程，因为通过",{"type":422,"tag":430,"props":787,"children":789},{"className":788},[],[790],{"type":427,"value":791},"Vue Loader",{"type":427,"value":793},"，Vue 单文件组件能很好的融合进 webpack 工作流中。我们写的单文件组件都被处理为了",{"type":422,"tag":430,"props":795,"children":797},{"className":796},[],[798],{"type":427,"value":799},"SFC对象",{"type":427,"value":801},"，即包含了单个 HTML 模块，单个脚本模块，一个或多个样式模块，一个或多个自定义模块的对象：",{"type":422,"tag":497,"props":803,"children":805},{"className":499,"code":804,"language":501,"meta":415,"style":415},"// vue-loader/index.js\nconst descriptor = parse({\n  source,\n  compiler: options.compiler || loadTemplateCompiler(),\n  filename,\n  sourceRoot,\n  needMap: sourceMap,\n});\n\n// vuejs/component-compiler-utils/index.js\nfunction parse(options) {\n  const { compiler } = options;\n  output = compiler.parseComponent(source, compilerParseOptions);\n  return output;\n}\n\n// vue.js\nfunction parseComponent(content, options) {\n  // ...\n  var sfc = {\n    template: null,\n    script: null,\n    styles: [],\n    customBlocks: [],\n  };\n  // ...\n  return sfc;\n}\n",[806],{"type":422,"tag":430,"props":807,"children":808},{"__ignoreMap":415},[809,818,847,859,904,916,928,949,965,974,983,1014,1050,1102,1121,1130,1138,1147,1185,1194,1216,1239,1260,1282,1303,1312,1320,1336],{"type":422,"tag":507,"props":810,"children":811},{"class":509,"line":510},[812],{"type":422,"tag":507,"props":813,"children":815},{"style":814},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[816],{"type":427,"value":817},"// vue-loader/index.js\n",{"type":422,"tag":507,"props":819,"children":820},{"class":509,"line":555},[821,825,830,834,839,843],{"type":422,"tag":507,"props":822,"children":823},{"style":514},[824],{"type":427,"value":517},{"type":422,"tag":507,"props":826,"children":827},{"style":520},[828],{"type":427,"value":829}," descriptor",{"type":422,"tag":507,"props":831,"children":832},{"style":526},[833],{"type":427,"value":529},{"type":422,"tag":507,"props":835,"children":836},{"style":532},[837],{"type":427,"value":838}," parse",{"type":422,"tag":507,"props":840,"children":841},{"style":538},[842],{"type":427,"value":591},{"type":422,"tag":507,"props":844,"children":845},{"style":544},[846],{"type":427,"value":596},{"type":422,"tag":507,"props":848,"children":849},{"class":509,"line":575},[850,855],{"type":422,"tag":507,"props":851,"children":852},{"style":538},[853],{"type":427,"value":854},"  source",{"type":422,"tag":507,"props":856,"children":857},{"style":544},[858],{"type":427,"value":654},{"type":422,"tag":507,"props":860,"children":861},{"class":509,"line":599},[862,867,871,876,880,885,890,895,900],{"type":422,"tag":507,"props":863,"children":864},{"style":559},[865],{"type":427,"value":866},"  compiler",{"type":422,"tag":507,"props":868,"children":869},{"style":544},[870],{"type":427,"value":567},{"type":422,"tag":507,"props":872,"children":873},{"style":538},[874],{"type":427,"value":875}," options",{"type":422,"tag":507,"props":877,"children":878},{"style":544},[879],{"type":427,"value":619},{"type":422,"tag":507,"props":881,"children":882},{"style":538},[883],{"type":427,"value":884},"compiler ",{"type":422,"tag":507,"props":886,"children":887},{"style":526},[888],{"type":427,"value":889},"||",{"type":422,"tag":507,"props":891,"children":892},{"style":532},[893],{"type":427,"value":894}," loadTemplateCompiler",{"type":422,"tag":507,"props":896,"children":897},{"style":538},[898],{"type":427,"value":899},"()",{"type":422,"tag":507,"props":901,"children":902},{"style":544},[903],{"type":427,"value":654},{"type":422,"tag":507,"props":905,"children":906},{"class":509,"line":657},[907,912],{"type":422,"tag":507,"props":908,"children":909},{"style":538},[910],{"type":427,"value":911},"  filename",{"type":422,"tag":507,"props":913,"children":914},{"style":544},[915],{"type":427,"value":654},{"type":422,"tag":507,"props":917,"children":918},{"class":509,"line":703},[919,924],{"type":422,"tag":507,"props":920,"children":921},{"style":538},[922],{"type":427,"value":923},"  sourceRoot",{"type":422,"tag":507,"props":925,"children":926},{"style":544},[927],{"type":427,"value":654},{"type":422,"tag":507,"props":929,"children":930},{"class":509,"line":720},[931,936,940,945],{"type":422,"tag":507,"props":932,"children":933},{"style":559},[934],{"type":427,"value":935},"  needMap",{"type":422,"tag":507,"props":937,"children":938},{"style":544},[939],{"type":427,"value":567},{"type":422,"tag":507,"props":941,"children":942},{"style":538},[943],{"type":427,"value":944}," sourceMap",{"type":422,"tag":507,"props":946,"children":947},{"style":544},[948],{"type":427,"value":654},{"type":422,"tag":507,"props":950,"children":951},{"class":509,"line":729},[952,956,960],{"type":422,"tag":507,"props":953,"children":954},{"style":544},[955],{"type":427,"value":735},{"type":422,"tag":507,"props":957,"children":958},{"style":538},[959],{"type":427,"value":649},{"type":422,"tag":507,"props":961,"children":962},{"style":544},[963],{"type":427,"value":964},";\n",{"type":422,"tag":507,"props":966,"children":968},{"class":509,"line":967},9,[969],{"type":422,"tag":507,"props":970,"children":971},{"emptyLinePlaceholder":414},[972],{"type":427,"value":973},"\n",{"type":422,"tag":507,"props":975,"children":977},{"class":509,"line":976},10,[978],{"type":422,"tag":507,"props":979,"children":980},{"style":814},[981],{"type":427,"value":982},"// vuejs/component-compiler-utils/index.js\n",{"type":422,"tag":507,"props":984,"children":986},{"class":509,"line":985},11,[987,992,996,1000,1006,1010],{"type":422,"tag":507,"props":988,"children":989},{"style":514},[990],{"type":427,"value":991},"function",{"type":422,"tag":507,"props":993,"children":994},{"style":532},[995],{"type":427,"value":838},{"type":422,"tag":507,"props":997,"children":998},{"style":544},[999],{"type":427,"value":591},{"type":422,"tag":507,"props":1001,"children":1003},{"style":1002},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[1004],{"type":427,"value":1005},"options",{"type":422,"tag":507,"props":1007,"children":1008},{"style":544},[1009],{"type":427,"value":649},{"type":422,"tag":507,"props":1011,"children":1012},{"style":544},[1013],{"type":427,"value":552},{"type":422,"tag":507,"props":1015,"children":1017},{"class":509,"line":1016},12,[1018,1023,1028,1033,1038,1042,1046],{"type":422,"tag":507,"props":1019,"children":1020},{"style":514},[1021],{"type":427,"value":1022},"  const",{"type":422,"tag":507,"props":1024,"children":1025},{"style":544},[1026],{"type":427,"value":1027}," {",{"type":422,"tag":507,"props":1029,"children":1030},{"style":520},[1031],{"type":427,"value":1032}," compiler",{"type":422,"tag":507,"props":1034,"children":1035},{"style":544},[1036],{"type":427,"value":1037}," }",{"type":422,"tag":507,"props":1039,"children":1040},{"style":526},[1041],{"type":427,"value":529},{"type":422,"tag":507,"props":1043,"children":1044},{"style":538},[1045],{"type":427,"value":875},{"type":422,"tag":507,"props":1047,"children":1048},{"style":544},[1049],{"type":427,"value":964},{"type":422,"tag":507,"props":1051,"children":1053},{"class":509,"line":1052},13,[1054,1059,1063,1067,1071,1076,1080,1085,1089,1094,1098],{"type":422,"tag":507,"props":1055,"children":1056},{"style":538},[1057],{"type":427,"value":1058},"  output",{"type":422,"tag":507,"props":1060,"children":1061},{"style":526},[1062],{"type":427,"value":529},{"type":422,"tag":507,"props":1064,"children":1065},{"style":538},[1066],{"type":427,"value":1032},{"type":422,"tag":507,"props":1068,"children":1069},{"style":544},[1070],{"type":427,"value":619},{"type":422,"tag":507,"props":1072,"children":1073},{"style":532},[1074],{"type":427,"value":1075},"parseComponent",{"type":422,"tag":507,"props":1077,"children":1078},{"style":559},[1079],{"type":427,"value":591},{"type":422,"tag":507,"props":1081,"children":1082},{"style":538},[1083],{"type":427,"value":1084},"source",{"type":422,"tag":507,"props":1086,"children":1087},{"style":544},[1088],{"type":427,"value":547},{"type":422,"tag":507,"props":1090,"children":1091},{"style":538},[1092],{"type":427,"value":1093}," compilerParseOptions",{"type":422,"tag":507,"props":1095,"children":1096},{"style":559},[1097],{"type":427,"value":649},{"type":422,"tag":507,"props":1099,"children":1100},{"style":544},[1101],{"type":427,"value":964},{"type":422,"tag":507,"props":1103,"children":1105},{"class":509,"line":1104},14,[1106,1112,1117],{"type":422,"tag":507,"props":1107,"children":1109},{"style":1108},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1110],{"type":427,"value":1111},"  return",{"type":422,"tag":507,"props":1113,"children":1114},{"style":538},[1115],{"type":427,"value":1116}," output",{"type":422,"tag":507,"props":1118,"children":1119},{"style":544},[1120],{"type":427,"value":964},{"type":422,"tag":507,"props":1122,"children":1124},{"class":509,"line":1123},15,[1125],{"type":422,"tag":507,"props":1126,"children":1127},{"style":544},[1128],{"type":427,"value":1129},"}\n",{"type":422,"tag":507,"props":1131,"children":1133},{"class":509,"line":1132},16,[1134],{"type":422,"tag":507,"props":1135,"children":1136},{"emptyLinePlaceholder":414},[1137],{"type":427,"value":973},{"type":422,"tag":507,"props":1139,"children":1141},{"class":509,"line":1140},17,[1142],{"type":422,"tag":507,"props":1143,"children":1144},{"style":814},[1145],{"type":427,"value":1146},"// vue.js\n",{"type":422,"tag":507,"props":1148,"children":1150},{"class":509,"line":1149},18,[1151,1155,1160,1164,1169,1173,1177,1181],{"type":422,"tag":507,"props":1152,"children":1153},{"style":514},[1154],{"type":427,"value":991},{"type":422,"tag":507,"props":1156,"children":1157},{"style":532},[1158],{"type":427,"value":1159}," parseComponent",{"type":422,"tag":507,"props":1161,"children":1162},{"style":544},[1163],{"type":427,"value":591},{"type":422,"tag":507,"props":1165,"children":1166},{"style":1002},[1167],{"type":427,"value":1168},"content",{"type":422,"tag":507,"props":1170,"children":1171},{"style":544},[1172],{"type":427,"value":547},{"type":422,"tag":507,"props":1174,"children":1175},{"style":1002},[1176],{"type":427,"value":875},{"type":422,"tag":507,"props":1178,"children":1179},{"style":544},[1180],{"type":427,"value":649},{"type":422,"tag":507,"props":1182,"children":1183},{"style":544},[1184],{"type":427,"value":552},{"type":422,"tag":507,"props":1186,"children":1188},{"class":509,"line":1187},19,[1189],{"type":422,"tag":507,"props":1190,"children":1191},{"style":814},[1192],{"type":427,"value":1193},"  // ...\n",{"type":422,"tag":507,"props":1195,"children":1197},{"class":509,"line":1196},20,[1198,1203,1208,1212],{"type":422,"tag":507,"props":1199,"children":1200},{"style":514},[1201],{"type":427,"value":1202},"  var",{"type":422,"tag":507,"props":1204,"children":1205},{"style":538},[1206],{"type":427,"value":1207}," sfc",{"type":422,"tag":507,"props":1209,"children":1210},{"style":526},[1211],{"type":427,"value":529},{"type":422,"tag":507,"props":1213,"children":1214},{"style":544},[1215],{"type":427,"value":552},{"type":422,"tag":507,"props":1217,"children":1219},{"class":509,"line":1218},21,[1220,1225,1229,1235],{"type":422,"tag":507,"props":1221,"children":1222},{"style":559},[1223],{"type":427,"value":1224},"    template",{"type":422,"tag":507,"props":1226,"children":1227},{"style":544},[1228],{"type":427,"value":567},{"type":422,"tag":507,"props":1230,"children":1232},{"style":1231},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1233],{"type":427,"value":1234}," null",{"type":422,"tag":507,"props":1236,"children":1237},{"style":544},[1238],{"type":427,"value":654},{"type":422,"tag":507,"props":1240,"children":1242},{"class":509,"line":1241},22,[1243,1248,1252,1256],{"type":422,"tag":507,"props":1244,"children":1245},{"style":559},[1246],{"type":427,"value":1247},"    script",{"type":422,"tag":507,"props":1249,"children":1250},{"style":544},[1251],{"type":427,"value":567},{"type":422,"tag":507,"props":1253,"children":1254},{"style":1231},[1255],{"type":427,"value":1234},{"type":422,"tag":507,"props":1257,"children":1258},{"style":544},[1259],{"type":427,"value":654},{"type":422,"tag":507,"props":1261,"children":1263},{"class":509,"line":1262},23,[1264,1269,1273,1278],{"type":422,"tag":507,"props":1265,"children":1266},{"style":559},[1267],{"type":427,"value":1268},"    styles",{"type":422,"tag":507,"props":1270,"children":1271},{"style":544},[1272],{"type":427,"value":567},{"type":422,"tag":507,"props":1274,"children":1275},{"style":559},[1276],{"type":427,"value":1277}," []",{"type":422,"tag":507,"props":1279,"children":1280},{"style":544},[1281],{"type":427,"value":654},{"type":422,"tag":507,"props":1283,"children":1285},{"class":509,"line":1284},24,[1286,1291,1295,1299],{"type":422,"tag":507,"props":1287,"children":1288},{"style":559},[1289],{"type":427,"value":1290},"    customBlocks",{"type":422,"tag":507,"props":1292,"children":1293},{"style":544},[1294],{"type":427,"value":567},{"type":422,"tag":507,"props":1296,"children":1297},{"style":559},[1298],{"type":427,"value":1277},{"type":422,"tag":507,"props":1300,"children":1301},{"style":544},[1302],{"type":427,"value":654},{"type":422,"tag":507,"props":1304,"children":1306},{"class":509,"line":1305},25,[1307],{"type":422,"tag":507,"props":1308,"children":1309},{"style":544},[1310],{"type":427,"value":1311},"  };\n",{"type":422,"tag":507,"props":1313,"children":1315},{"class":509,"line":1314},26,[1316],{"type":422,"tag":507,"props":1317,"children":1318},{"style":814},[1319],{"type":427,"value":1193},{"type":422,"tag":507,"props":1321,"children":1323},{"class":509,"line":1322},27,[1324,1328,1332],{"type":422,"tag":507,"props":1325,"children":1326},{"style":1108},[1327],{"type":427,"value":1111},{"type":422,"tag":507,"props":1329,"children":1330},{"style":538},[1331],{"type":427,"value":1207},{"type":422,"tag":507,"props":1333,"children":1334},{"style":544},[1335],{"type":427,"value":964},{"type":422,"tag":507,"props":1337,"children":1339},{"class":509,"line":1338},28,[1340],{"type":422,"tag":507,"props":1341,"children":1342},{"style":544},[1343],{"type":427,"value":1129},{"type":422,"tag":423,"props":1345,"children":1346},{},[1347,1349,1354],{"type":427,"value":1348},"我们可以将 SFC 结构融合到",{"type":422,"tag":430,"props":1350,"children":1352},{"className":1351},[],[1353],{"type":427,"value":470},{"type":427,"value":1355},"进行开发的过程成中，主要有这几点影响：",{"type":422,"tag":1357,"props":1358,"children":1359},"ul",{},[1360,1381,1400,1405],{"type":422,"tag":1361,"props":1362,"children":1363},"li",{},[1364,1366,1371,1373,1379],{"type":427,"value":1365},"允许为 Vue 组件的每个部分使用其它的 webpack loader，例如在",{"type":422,"tag":430,"props":1367,"children":1369},{"className":1368},[],[1370],{"type":427,"value":451},{"type":427,"value":1372},"的部分使用 Sass Loader ，在 ",{"type":422,"tag":430,"props":1374,"children":1376},{"className":1375},[],[1377],{"type":427,"value":1378},"\u003CcustomBlocks>",{"type":427,"value":1380},"的部分使用自定义 Loader",{"type":422,"tag":1361,"props":1382,"children":1383},{},[1384,1386,1391,1393,1398],{"type":427,"value":1385},"使用 webpack loader 将 ",{"type":422,"tag":430,"props":1387,"children":1389},{"className":1388},[],[1390],{"type":427,"value":451},{"type":427,"value":1392},"和 ",{"type":422,"tag":430,"props":1394,"children":1396},{"className":1395},[],[1397],{"type":427,"value":435},{"type":427,"value":1399}," 中引用的资源当作模块依赖来处理",{"type":422,"tag":1361,"props":1401,"children":1402},{},[1403],{"type":427,"value":1404},"模拟 Scoped CSS",{"type":422,"tag":1361,"props":1406,"children":1407},{},[1408],{"type":427,"value":1409},"在开发过程中使用热重载来保持状态",{"type":422,"tag":423,"props":1411,"children":1412},{},[1413,1415,1421],{"type":427,"value":1414},"以下主要介绍",{"type":422,"tag":430,"props":1416,"children":1418},{"className":1417},[],[1419],{"type":427,"value":1420},"Scoped CSS",{"type":427,"value":1422},"的原理。",{"type":422,"tag":455,"props":1424,"children":1426},{"id":1425},"scoped-css",[1427],{"type":427,"value":1420},{"type":422,"tag":1429,"props":1430,"children":1432},"h3",{"id":1431},"大白话版本之-scoped-css-原理",[1433],{"type":427,"value":1434},"大白话版本之 Scoped CSS 原理",{"type":422,"tag":423,"props":1436,"children":1437},{},[1438,1440,1446,1448,1454],{"type":427,"value":1439},"通过 webpack 调用 VueJS 中相应 Loader，给组件 HTML 模板添加自定义属性 (Attribute) ",{"type":422,"tag":430,"props":1441,"children":1443},{"className":1442},[],[1444],{"type":427,"value":1445},"data-v-x",{"type":427,"value":1447},"，以及给组件内 CSS 选择器添加对应的属性选择器 (Attribute Selector) ",{"type":422,"tag":430,"props":1449,"children":1451},{"className":1450},[],[1452],{"type":427,"value":1453},"[data-v-x]",{"type":427,"value":1455},"，达到组件内样式只能生效与组件内 HTML 的效果，代码效果如下：",{"type":422,"tag":497,"props":1457,"children":1461},{"className":1458,"code":1459,"language":1460,"meta":415,"style":415},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cdiv class='lionad' data-v-lionad>\u003C/div>\n\u003Cstyle>\n.lionad[data-v-lionad] {\n  background: @tiger-orange;\n}\n\u003C/style>\n","html",[1462],{"type":422,"tag":430,"props":1463,"children":1464},{"__ignoreMap":415},[1465,1522,1538,1570,1592,1599],{"type":422,"tag":507,"props":1466,"children":1467},{"class":509,"line":510},[1468,1473,1479,1485,1490,1494,1499,1503,1508,1513,1517],{"type":422,"tag":507,"props":1469,"children":1470},{"style":544},[1471],{"type":427,"value":1472},"\u003C",{"type":422,"tag":507,"props":1474,"children":1476},{"style":1475},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1477],{"type":427,"value":1478},"div",{"type":422,"tag":507,"props":1480,"children":1482},{"style":1481},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1483],{"type":427,"value":1484}," class",{"type":422,"tag":507,"props":1486,"children":1487},{"style":544},[1488],{"type":427,"value":1489},"=",{"type":422,"tag":507,"props":1491,"children":1492},{"style":631},[1493],{"type":427,"value":634},{"type":422,"tag":507,"props":1495,"children":1496},{"style":637},[1497],{"type":427,"value":1498},"lionad",{"type":422,"tag":507,"props":1500,"children":1501},{"style":631},[1502],{"type":427,"value":634},{"type":422,"tag":507,"props":1504,"children":1505},{"style":1481},[1506],{"type":427,"value":1507}," data-v-lionad",{"type":422,"tag":507,"props":1509,"children":1510},{"style":544},[1511],{"type":427,"value":1512},">\u003C/",{"type":422,"tag":507,"props":1514,"children":1515},{"style":1475},[1516],{"type":427,"value":1478},{"type":422,"tag":507,"props":1518,"children":1519},{"style":544},[1520],{"type":427,"value":1521},">\n",{"type":422,"tag":507,"props":1523,"children":1524},{"class":509,"line":555},[1525,1529,1534],{"type":422,"tag":507,"props":1526,"children":1527},{"style":544},[1528],{"type":427,"value":1472},{"type":422,"tag":507,"props":1530,"children":1531},{"style":1475},[1532],{"type":427,"value":1533},"style",{"type":422,"tag":507,"props":1535,"children":1536},{"style":544},[1537],{"type":427,"value":1521},{"type":422,"tag":507,"props":1539,"children":1540},{"class":509,"line":575},[1541,1546,1551,1556,1561,1566],{"type":422,"tag":507,"props":1542,"children":1544},{"style":1543},"--shiki-light:#39ADB5;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1545],{"type":427,"value":619},{"type":422,"tag":507,"props":1547,"children":1549},{"style":1548},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1550],{"type":427,"value":1498},{"type":422,"tag":507,"props":1552,"children":1553},{"style":544},[1554],{"type":427,"value":1555},"[",{"type":422,"tag":507,"props":1557,"children":1558},{"style":1481},[1559],{"type":427,"value":1560},"data-v-lionad",{"type":422,"tag":507,"props":1562,"children":1563},{"style":544},[1564],{"type":427,"value":1565},"]",{"type":422,"tag":507,"props":1567,"children":1568},{"style":544},[1569],{"type":427,"value":552},{"type":422,"tag":507,"props":1571,"children":1572},{"class":509,"line":599},[1573,1579,1583,1588],{"type":422,"tag":507,"props":1574,"children":1576},{"style":1575},"--shiki-light:#8796B0;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1577],{"type":427,"value":1578},"  background",{"type":422,"tag":507,"props":1580,"children":1581},{"style":544},[1582],{"type":427,"value":567},{"type":422,"tag":507,"props":1584,"children":1585},{"style":538},[1586],{"type":427,"value":1587}," @tiger-orange",{"type":422,"tag":507,"props":1589,"children":1590},{"style":544},[1591],{"type":427,"value":964},{"type":422,"tag":507,"props":1593,"children":1594},{"class":509,"line":657},[1595],{"type":422,"tag":507,"props":1596,"children":1597},{"style":544},[1598],{"type":427,"value":1129},{"type":422,"tag":507,"props":1600,"children":1601},{"class":509,"line":703},[1602,1607,1611],{"type":422,"tag":507,"props":1603,"children":1604},{"style":544},[1605],{"type":427,"value":1606},"\u003C/",{"type":422,"tag":507,"props":1608,"children":1609},{"style":1475},[1610],{"type":427,"value":1533},{"type":422,"tag":507,"props":1612,"children":1613},{"style":544},[1614],{"type":427,"value":1521},{"type":422,"tag":1429,"props":1616,"children":1618},{"id":1617},"源码跟踪",[1619],{"type":427,"value":1617},{"type":422,"tag":423,"props":1621,"children":1622},{},[1623,1625,1630,1632,1637,1639,1645],{"type":427,"value":1624},"webpack 使用其它 CSS Loader 处理 VueJS 中对应 CSS 代码之前，",{"type":422,"tag":430,"props":1626,"children":1628},{"className":1627},[],[1629],{"type":427,"value":791},{"type":427,"value":1631}," 已经替我们做了一层简单的处理，如果组件中 ",{"type":422,"tag":430,"props":1633,"children":1635},{"className":1634},[],[1636],{"type":427,"value":1533},{"type":427,"value":1638}," 块包含了 ",{"type":422,"tag":430,"props":1640,"children":1642},{"className":1641},[],[1643],{"type":427,"value":1644},"scoped",{"type":427,"value":1646}," 属性：",{"type":422,"tag":497,"props":1648,"children":1650},{"className":1458,"code":1649,"language":1460,"meta":415,"style":415},"\u003C!-- 某个VueJS组件中 -->\n\u003Ctemplate>\n    \u003Cdiv class='lionad'>\u003C/div>\n\u003C/template>\n\u003Cstyle lang=\"scss\" scoped>\n    .lionad {\n        background: @tiger-orange;\n    }\n\u003C/style>\n",[1651],{"type":422,"tag":430,"props":1652,"children":1653},{"__ignoreMap":415},[1654,1662,1678,1722,1737,1780,1796,1816,1824],{"type":422,"tag":507,"props":1655,"children":1656},{"class":509,"line":510},[1657],{"type":422,"tag":507,"props":1658,"children":1659},{"style":814},[1660],{"type":427,"value":1661},"\u003C!-- 某个VueJS组件中 -->\n",{"type":422,"tag":507,"props":1663,"children":1664},{"class":509,"line":555},[1665,1669,1674],{"type":422,"tag":507,"props":1666,"children":1667},{"style":544},[1668],{"type":427,"value":1472},{"type":422,"tag":507,"props":1670,"children":1671},{"style":1475},[1672],{"type":427,"value":1673},"template",{"type":422,"tag":507,"props":1675,"children":1676},{"style":544},[1677],{"type":427,"value":1521},{"type":422,"tag":507,"props":1679,"children":1680},{"class":509,"line":575},[1681,1686,1690,1694,1698,1702,1706,1710,1714,1718],{"type":422,"tag":507,"props":1682,"children":1683},{"style":544},[1684],{"type":427,"value":1685},"    \u003C",{"type":422,"tag":507,"props":1687,"children":1688},{"style":1475},[1689],{"type":427,"value":1478},{"type":422,"tag":507,"props":1691,"children":1692},{"style":1481},[1693],{"type":427,"value":1484},{"type":422,"tag":507,"props":1695,"children":1696},{"style":544},[1697],{"type":427,"value":1489},{"type":422,"tag":507,"props":1699,"children":1700},{"style":631},[1701],{"type":427,"value":634},{"type":422,"tag":507,"props":1703,"children":1704},{"style":637},[1705],{"type":427,"value":1498},{"type":422,"tag":507,"props":1707,"children":1708},{"style":631},[1709],{"type":427,"value":634},{"type":422,"tag":507,"props":1711,"children":1712},{"style":544},[1713],{"type":427,"value":1512},{"type":422,"tag":507,"props":1715,"children":1716},{"style":1475},[1717],{"type":427,"value":1478},{"type":422,"tag":507,"props":1719,"children":1720},{"style":544},[1721],{"type":427,"value":1521},{"type":422,"tag":507,"props":1723,"children":1724},{"class":509,"line":599},[1725,1729,1733],{"type":422,"tag":507,"props":1726,"children":1727},{"style":544},[1728],{"type":427,"value":1606},{"type":422,"tag":507,"props":1730,"children":1731},{"style":1475},[1732],{"type":427,"value":1673},{"type":422,"tag":507,"props":1734,"children":1735},{"style":544},[1736],{"type":427,"value":1521},{"type":422,"tag":507,"props":1738,"children":1739},{"class":509,"line":657},[1740,1744,1748,1753,1757,1762,1767,1771,1776],{"type":422,"tag":507,"props":1741,"children":1742},{"style":544},[1743],{"type":427,"value":1472},{"type":422,"tag":507,"props":1745,"children":1746},{"style":1475},[1747],{"type":427,"value":1533},{"type":422,"tag":507,"props":1749,"children":1750},{"style":1481},[1751],{"type":427,"value":1752}," lang",{"type":422,"tag":507,"props":1754,"children":1755},{"style":544},[1756],{"type":427,"value":1489},{"type":422,"tag":507,"props":1758,"children":1759},{"style":631},[1760],{"type":427,"value":1761},"\"",{"type":422,"tag":507,"props":1763,"children":1764},{"style":637},[1765],{"type":427,"value":1766},"scss",{"type":422,"tag":507,"props":1768,"children":1769},{"style":631},[1770],{"type":427,"value":1761},{"type":422,"tag":507,"props":1772,"children":1773},{"style":1481},[1774],{"type":427,"value":1775}," scoped",{"type":422,"tag":507,"props":1777,"children":1778},{"style":544},[1779],{"type":427,"value":1521},{"type":422,"tag":507,"props":1781,"children":1782},{"class":509,"line":703},[1783,1788,1792],{"type":422,"tag":507,"props":1784,"children":1785},{"style":1543},[1786],{"type":427,"value":1787},"    .",{"type":422,"tag":507,"props":1789,"children":1790},{"style":1548},[1791],{"type":427,"value":1498},{"type":422,"tag":507,"props":1793,"children":1794},{"style":544},[1795],{"type":427,"value":552},{"type":422,"tag":507,"props":1797,"children":1798},{"class":509,"line":720},[1799,1804,1808,1812],{"type":422,"tag":507,"props":1800,"children":1801},{"style":1575},[1802],{"type":427,"value":1803},"        background",{"type":422,"tag":507,"props":1805,"children":1806},{"style":544},[1807],{"type":427,"value":567},{"type":422,"tag":507,"props":1809,"children":1810},{"style":538},[1811],{"type":427,"value":1587},{"type":422,"tag":507,"props":1813,"children":1814},{"style":544},[1815],{"type":427,"value":964},{"type":422,"tag":507,"props":1817,"children":1818},{"class":509,"line":729},[1819],{"type":422,"tag":507,"props":1820,"children":1821},{"style":544},[1822],{"type":427,"value":1823},"    }\n",{"type":422,"tag":507,"props":1825,"children":1826},{"class":509,"line":967},[1827,1831,1835],{"type":422,"tag":507,"props":1828,"children":1829},{"style":544},[1830],{"type":427,"value":1606},{"type":422,"tag":507,"props":1832,"children":1833},{"style":1475},[1834],{"type":427,"value":1533},{"type":422,"tag":507,"props":1836,"children":1837},{"style":544},[1838],{"type":427,"value":1521},{"type":422,"tag":423,"props":1840,"children":1841},{},[1842,1844,1850,1852,1857],{"type":427,"value":1843},"下代码即判断当前",{"type":422,"tag":430,"props":1845,"children":1847},{"className":1846},[],[1848],{"type":427,"value":1849},"SFC",{"type":427,"value":1851},"对象样式块中是否有",{"type":422,"tag":430,"props":1853,"children":1855},{"className":1854},[],[1856],{"type":427,"value":1644},{"type":427,"value":1858},"属性，并插入用于 query 中，顺带一提，每个单文件组件被解析后，都会生成对应组件 ID，ID 主要以生产/开发环境做区分，通过文件路径+源码或是文件路径的值作为哈希特征值的形式生成，如下：",{"type":422,"tag":497,"props":1860,"children":1862},{"className":499,"code":1861,"language":501,"meta":415,"style":415},"// vue-loader/index.js\nconst id = hash(isProduction  (shortFilePath + '\\n' + source) : shortFilePath)\nconst hasScoped = descriptor.styles.some(s => s.scoped)\nconst query = `? vue&type=template${idQuery}${scopedQuery}`\nconst request = templateRequest = stringifyRequest(src + query)\ntemplateImport = `import { render, staticRenderFns } from ${request}`\n",[1863],{"type":422,"tag":430,"props":1864,"children":1865},{"__ignoreMap":415},[1866,1873,1938,2004,2060,2104],{"type":422,"tag":507,"props":1867,"children":1868},{"class":509,"line":510},[1869],{"type":422,"tag":507,"props":1870,"children":1871},{"style":814},[1872],{"type":427,"value":817},{"type":422,"tag":507,"props":1874,"children":1875},{"class":509,"line":555},[1876,1880,1885,1889,1894,1898,1903,1908,1913,1918,1924,1928,1933],{"type":422,"tag":507,"props":1877,"children":1878},{"style":514},[1879],{"type":427,"value":517},{"type":422,"tag":507,"props":1881,"children":1882},{"style":520},[1883],{"type":427,"value":1884}," id",{"type":422,"tag":507,"props":1886,"children":1887},{"style":526},[1888],{"type":427,"value":529},{"type":422,"tag":507,"props":1890,"children":1891},{"style":532},[1892],{"type":427,"value":1893}," hash",{"type":422,"tag":507,"props":1895,"children":1896},{"style":538},[1897],{"type":427,"value":591},{"type":422,"tag":507,"props":1899,"children":1900},{"style":532},[1901],{"type":427,"value":1902},"isProduction",{"type":422,"tag":507,"props":1904,"children":1905},{"style":538},[1906],{"type":427,"value":1907},"  (shortFilePath ",{"type":422,"tag":507,"props":1909,"children":1910},{"style":526},[1911],{"type":427,"value":1912},"+",{"type":422,"tag":507,"props":1914,"children":1915},{"style":631},[1916],{"type":427,"value":1917}," '",{"type":422,"tag":507,"props":1919,"children":1921},{"style":1920},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1922],{"type":427,"value":1923},"\\n",{"type":422,"tag":507,"props":1925,"children":1926},{"style":631},[1927],{"type":427,"value":634},{"type":422,"tag":507,"props":1929,"children":1930},{"style":526},[1931],{"type":427,"value":1932}," +",{"type":422,"tag":507,"props":1934,"children":1935},{"style":538},[1936],{"type":427,"value":1937}," source) : shortFilePath)\n",{"type":422,"tag":507,"props":1939,"children":1940},{"class":509,"line":575},[1941,1945,1950,1954,1958,1962,1967,1971,1976,1980,1985,1990,1995,1999],{"type":422,"tag":507,"props":1942,"children":1943},{"style":514},[1944],{"type":427,"value":517},{"type":422,"tag":507,"props":1946,"children":1947},{"style":520},[1948],{"type":427,"value":1949}," hasScoped",{"type":422,"tag":507,"props":1951,"children":1952},{"style":526},[1953],{"type":427,"value":529},{"type":422,"tag":507,"props":1955,"children":1956},{"style":538},[1957],{"type":427,"value":829},{"type":422,"tag":507,"props":1959,"children":1960},{"style":544},[1961],{"type":427,"value":619},{"type":422,"tag":507,"props":1963,"children":1964},{"style":538},[1965],{"type":427,"value":1966},"styles",{"type":422,"tag":507,"props":1968,"children":1969},{"style":544},[1970],{"type":427,"value":619},{"type":422,"tag":507,"props":1972,"children":1973},{"style":532},[1974],{"type":427,"value":1975},"some",{"type":422,"tag":507,"props":1977,"children":1978},{"style":538},[1979],{"type":427,"value":591},{"type":422,"tag":507,"props":1981,"children":1982},{"style":1002},[1983],{"type":427,"value":1984},"s",{"type":422,"tag":507,"props":1986,"children":1987},{"style":514},[1988],{"type":427,"value":1989}," =>",{"type":422,"tag":507,"props":1991,"children":1992},{"style":538},[1993],{"type":427,"value":1994}," s",{"type":422,"tag":507,"props":1996,"children":1997},{"style":544},[1998],{"type":427,"value":619},{"type":422,"tag":507,"props":2000,"children":2001},{"style":538},[2002],{"type":427,"value":2003},"scoped)\n",{"type":422,"tag":507,"props":2005,"children":2006},{"class":509,"line":599},[2007,2011,2016,2020,2025,2030,2036,2041,2046,2051,2055],{"type":422,"tag":507,"props":2008,"children":2009},{"style":514},[2010],{"type":427,"value":517},{"type":422,"tag":507,"props":2012,"children":2013},{"style":520},[2014],{"type":427,"value":2015}," query",{"type":422,"tag":507,"props":2017,"children":2018},{"style":526},[2019],{"type":427,"value":529},{"type":422,"tag":507,"props":2021,"children":2022},{"style":631},[2023],{"type":427,"value":2024}," `",{"type":422,"tag":507,"props":2026,"children":2027},{"style":637},[2028],{"type":427,"value":2029},"? vue&type=template",{"type":422,"tag":507,"props":2031,"children":2033},{"style":2032},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[2034],{"type":427,"value":2035},"${",{"type":422,"tag":507,"props":2037,"children":2038},{"style":538},[2039],{"type":427,"value":2040},"idQuery",{"type":422,"tag":507,"props":2042,"children":2043},{"style":2032},[2044],{"type":427,"value":2045},"}${",{"type":422,"tag":507,"props":2047,"children":2048},{"style":538},[2049],{"type":427,"value":2050},"scopedQuery",{"type":422,"tag":507,"props":2052,"children":2053},{"style":2032},[2054],{"type":427,"value":735},{"type":422,"tag":507,"props":2056,"children":2057},{"style":631},[2058],{"type":427,"value":2059},"`\n",{"type":422,"tag":507,"props":2061,"children":2062},{"class":509,"line":657},[2063,2067,2072,2076,2081,2085,2090,2095,2099],{"type":422,"tag":507,"props":2064,"children":2065},{"style":514},[2066],{"type":427,"value":517},{"type":422,"tag":507,"props":2068,"children":2069},{"style":520},[2070],{"type":427,"value":2071}," request",{"type":422,"tag":507,"props":2073,"children":2074},{"style":526},[2075],{"type":427,"value":529},{"type":422,"tag":507,"props":2077,"children":2078},{"style":538},[2079],{"type":427,"value":2080}," templateRequest ",{"type":422,"tag":507,"props":2082,"children":2083},{"style":526},[2084],{"type":427,"value":1489},{"type":422,"tag":507,"props":2086,"children":2087},{"style":532},[2088],{"type":427,"value":2089}," stringifyRequest",{"type":422,"tag":507,"props":2091,"children":2092},{"style":538},[2093],{"type":427,"value":2094},"(src ",{"type":422,"tag":507,"props":2096,"children":2097},{"style":526},[2098],{"type":427,"value":1912},{"type":422,"tag":507,"props":2100,"children":2101},{"style":538},[2102],{"type":427,"value":2103}," query)\n",{"type":422,"tag":507,"props":2105,"children":2106},{"class":509,"line":703},[2107,2112,2116,2120,2125,2129,2134,2138],{"type":422,"tag":507,"props":2108,"children":2109},{"style":538},[2110],{"type":427,"value":2111},"templateImport ",{"type":422,"tag":507,"props":2113,"children":2114},{"style":526},[2115],{"type":427,"value":1489},{"type":422,"tag":507,"props":2117,"children":2118},{"style":631},[2119],{"type":427,"value":2024},{"type":422,"tag":507,"props":2121,"children":2122},{"style":637},[2123],{"type":427,"value":2124},"import { render, staticRenderFns } from ",{"type":422,"tag":507,"props":2126,"children":2127},{"style":2032},[2128],{"type":427,"value":2035},{"type":422,"tag":507,"props":2130,"children":2131},{"style":538},[2132],{"type":427,"value":2133},"request",{"type":422,"tag":507,"props":2135,"children":2136},{"style":2032},[2137],{"type":427,"value":735},{"type":422,"tag":507,"props":2139,"children":2140},{"style":631},[2141],{"type":427,"value":2059},{"type":422,"tag":2143,"props":2144,"children":2146},"h4",{"id":2145},"html-模板处理",[2147],{"type":427,"value":2148},"HTML 模板处理",{"type":422,"tag":423,"props":2150,"children":2151},{},[2152,2154,2160,2162,2167,2169,2175],{"type":427,"value":2153},"在用于处理 SFC 结构中 HTML 模板的 ",{"type":422,"tag":430,"props":2155,"children":2157},{"className":2156},[],[2158],{"type":427,"value":2159},"templateLoader",{"type":427,"value":2161}," 中，我们可以得知，query 中所设置的参数将合并为 loader options 经由 webpack 转交 ",{"type":422,"tag":430,"props":2163,"children":2165},{"className":2164},[],[2166],{"type":427,"value":2159},{"type":427,"value":2168}," 再转交 ",{"type":422,"tag":430,"props":2170,"children":2172},{"className":2171},[],[2173],{"type":427,"value":2174},"@vue/component-compiler-utils.compileTemplate",{"type":427,"value":2176}," 处理：",{"type":422,"tag":497,"props":2178,"children":2180},{"className":499,"code":2179,"language":501,"meta":415,"style":415},"// vue-loader/templateLoader.js\nconst query = qs.parse(this.resourceQuery)\nconst { id } = query\nconst compilerOptions = Object.assign({}, options.compilerOptions, {\n    scopeId: query.scoped ? `data-v-${id}` : null\n})\nconst compiled = compileTemplate({ compilerOptions })\n",[2181],{"type":422,"tag":430,"props":2182,"children":2183},{"__ignoreMap":415},[2184,2192,2240,2268,2328,2395,2406],{"type":422,"tag":507,"props":2185,"children":2186},{"class":509,"line":510},[2187],{"type":422,"tag":507,"props":2188,"children":2189},{"style":814},[2190],{"type":427,"value":2191},"// vue-loader/templateLoader.js\n",{"type":422,"tag":507,"props":2193,"children":2194},{"class":509,"line":555},[2195,2199,2203,2207,2212,2216,2221,2225,2231,2235],{"type":422,"tag":507,"props":2196,"children":2197},{"style":514},[2198],{"type":427,"value":517},{"type":422,"tag":507,"props":2200,"children":2201},{"style":520},[2202],{"type":427,"value":2015},{"type":422,"tag":507,"props":2204,"children":2205},{"style":526},[2206],{"type":427,"value":529},{"type":422,"tag":507,"props":2208,"children":2209},{"style":538},[2210],{"type":427,"value":2211}," qs",{"type":422,"tag":507,"props":2213,"children":2214},{"style":544},[2215],{"type":427,"value":619},{"type":422,"tag":507,"props":2217,"children":2218},{"style":532},[2219],{"type":427,"value":2220},"parse",{"type":422,"tag":507,"props":2222,"children":2223},{"style":538},[2224],{"type":427,"value":591},{"type":422,"tag":507,"props":2226,"children":2228},{"style":2227},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2229],{"type":427,"value":2230},"this",{"type":422,"tag":507,"props":2232,"children":2233},{"style":544},[2234],{"type":427,"value":619},{"type":422,"tag":507,"props":2236,"children":2237},{"style":538},[2238],{"type":427,"value":2239},"resourceQuery)\n",{"type":422,"tag":507,"props":2241,"children":2242},{"class":509,"line":575},[2243,2247,2251,2255,2259,2263],{"type":422,"tag":507,"props":2244,"children":2245},{"style":514},[2246],{"type":427,"value":517},{"type":422,"tag":507,"props":2248,"children":2249},{"style":544},[2250],{"type":427,"value":1027},{"type":422,"tag":507,"props":2252,"children":2253},{"style":520},[2254],{"type":427,"value":1884},{"type":422,"tag":507,"props":2256,"children":2257},{"style":544},[2258],{"type":427,"value":1037},{"type":422,"tag":507,"props":2260,"children":2261},{"style":526},[2262],{"type":427,"value":529},{"type":422,"tag":507,"props":2264,"children":2265},{"style":538},[2266],{"type":427,"value":2267}," query\n",{"type":422,"tag":507,"props":2269,"children":2270},{"class":509,"line":599},[2271,2275,2280,2284,2289,2293,2298,2302,2307,2311,2315,2320,2324],{"type":422,"tag":507,"props":2272,"children":2273},{"style":514},[2274],{"type":427,"value":517},{"type":422,"tag":507,"props":2276,"children":2277},{"style":520},[2278],{"type":427,"value":2279}," compilerOptions",{"type":422,"tag":507,"props":2281,"children":2282},{"style":526},[2283],{"type":427,"value":529},{"type":422,"tag":507,"props":2285,"children":2286},{"style":538},[2287],{"type":427,"value":2288}," Object",{"type":422,"tag":507,"props":2290,"children":2291},{"style":544},[2292],{"type":427,"value":619},{"type":422,"tag":507,"props":2294,"children":2295},{"style":532},[2296],{"type":427,"value":2297},"assign",{"type":422,"tag":507,"props":2299,"children":2300},{"style":538},[2301],{"type":427,"value":591},{"type":422,"tag":507,"props":2303,"children":2304},{"style":544},[2305],{"type":427,"value":2306},"{},",{"type":422,"tag":507,"props":2308,"children":2309},{"style":538},[2310],{"type":427,"value":875},{"type":422,"tag":507,"props":2312,"children":2313},{"style":544},[2314],{"type":427,"value":619},{"type":422,"tag":507,"props":2316,"children":2317},{"style":538},[2318],{"type":427,"value":2319},"compilerOptions",{"type":422,"tag":507,"props":2321,"children":2322},{"style":544},[2323],{"type":427,"value":547},{"type":422,"tag":507,"props":2325,"children":2326},{"style":544},[2327],{"type":427,"value":552},{"type":422,"tag":507,"props":2329,"children":2330},{"class":509,"line":657},[2331,2336,2340,2344,2348,2353,2358,2362,2367,2371,2376,2380,2385,2390],{"type":422,"tag":507,"props":2332,"children":2333},{"style":559},[2334],{"type":427,"value":2335},"    scopeId",{"type":422,"tag":507,"props":2337,"children":2338},{"style":544},[2339],{"type":427,"value":567},{"type":422,"tag":507,"props":2341,"children":2342},{"style":538},[2343],{"type":427,"value":2015},{"type":422,"tag":507,"props":2345,"children":2346},{"style":544},[2347],{"type":427,"value":619},{"type":422,"tag":507,"props":2349,"children":2350},{"style":538},[2351],{"type":427,"value":2352},"scoped ",{"type":422,"tag":507,"props":2354,"children":2355},{"style":526},[2356],{"type":427,"value":2357},"?",{"type":422,"tag":507,"props":2359,"children":2360},{"style":631},[2361],{"type":427,"value":2024},{"type":422,"tag":507,"props":2363,"children":2364},{"style":637},[2365],{"type":427,"value":2366},"data-v-",{"type":422,"tag":507,"props":2368,"children":2369},{"style":2032},[2370],{"type":427,"value":2035},{"type":422,"tag":507,"props":2372,"children":2373},{"style":538},[2374],{"type":427,"value":2375},"id",{"type":422,"tag":507,"props":2377,"children":2378},{"style":2032},[2379],{"type":427,"value":735},{"type":422,"tag":507,"props":2381,"children":2382},{"style":631},[2383],{"type":427,"value":2384},"`",{"type":422,"tag":507,"props":2386,"children":2387},{"style":526},[2388],{"type":427,"value":2389}," :",{"type":422,"tag":507,"props":2391,"children":2392},{"style":1231},[2393],{"type":427,"value":2394}," null\n",{"type":422,"tag":507,"props":2396,"children":2397},{"class":509,"line":703},[2398,2402],{"type":422,"tag":507,"props":2399,"children":2400},{"style":544},[2401],{"type":427,"value":735},{"type":422,"tag":507,"props":2403,"children":2404},{"style":538},[2405],{"type":427,"value":700},{"type":422,"tag":507,"props":2407,"children":2408},{"class":509,"line":720},[2409,2413,2418,2422,2427,2431,2436,2441,2445],{"type":422,"tag":507,"props":2410,"children":2411},{"style":514},[2412],{"type":427,"value":517},{"type":422,"tag":507,"props":2414,"children":2415},{"style":520},[2416],{"type":427,"value":2417}," compiled",{"type":422,"tag":507,"props":2419,"children":2420},{"style":526},[2421],{"type":427,"value":529},{"type":422,"tag":507,"props":2423,"children":2424},{"style":532},[2425],{"type":427,"value":2426}," compileTemplate",{"type":422,"tag":507,"props":2428,"children":2429},{"style":538},[2430],{"type":427,"value":591},{"type":422,"tag":507,"props":2432,"children":2433},{"style":544},[2434],{"type":427,"value":2435},"{",{"type":422,"tag":507,"props":2437,"children":2438},{"style":538},[2439],{"type":427,"value":2440}," compilerOptions ",{"type":422,"tag":507,"props":2442,"children":2443},{"style":544},[2444],{"type":427,"value":735},{"type":422,"tag":507,"props":2446,"children":2447},{"style":538},[2448],{"type":427,"value":700},{"type":422,"tag":423,"props":2450,"children":2451},{},[2452,2454,2460,2462,2468],{"type":427,"value":2453},"实际 ",{"type":422,"tag":430,"props":2455,"children":2457},{"className":2456},[],[2458],{"type":427,"value":2459},"compileTemplate",{"type":427,"value":2461}," 函数在处理内容时，编译函数使用的是 query 中的 compiler 或 ",{"type":422,"tag":430,"props":2463,"children":2465},{"className":2464},[],[2466],{"type":427,"value":2467},"vue-template-compiler",{"type":427,"value":2469},"，后者会将模板文本转换成为 JavaScript 渲染函数，大致如下：",{"type":422,"tag":2471,"props":2472,"children":2473},"ol",{},[2474,2479,2484],{"type":422,"tag":1361,"props":2475,"children":2476},{},[2477],{"type":427,"value":2478},"从 HTML 模版转换为 AST(虚拟语法树)",{"type":422,"tag":1361,"props":2480,"children":2481},{},[2482],{"type":427,"value":2483},"AST 优化，处理静态模版与动态模板",{"type":422,"tag":1361,"props":2485,"children":2486},{},[2487],{"type":427,"value":2488},"生成 JS 函数，用于在运行时运行时生成纯 HTML",{"type":422,"tag":423,"props":2490,"children":2491},{},[2492],{"type":427,"value":2493},"代码分别对应：",{"type":422,"tag":497,"props":2495,"children":2497},{"className":499,"code":2496,"language":501,"meta":415,"style":415},"// vue-template-compiler/build.js/createCompilerCreator\nvar ast = parse(template.trim(), options)\noptimize(ast, options)\nvar code = generate(ast, options)\n",[2498],{"type":422,"tag":430,"props":2499,"children":2500},{"__ignoreMap":415},[2501,2509,2557,2578],{"type":422,"tag":507,"props":2502,"children":2503},{"class":509,"line":510},[2504],{"type":422,"tag":507,"props":2505,"children":2506},{"style":814},[2507],{"type":427,"value":2508},"// vue-template-compiler/build.js/createCompilerCreator\n",{"type":422,"tag":507,"props":2510,"children":2511},{"class":509,"line":555},[2512,2517,2522,2526,2530,2535,2539,2544,2548,2552],{"type":422,"tag":507,"props":2513,"children":2514},{"style":514},[2515],{"type":427,"value":2516},"var",{"type":422,"tag":507,"props":2518,"children":2519},{"style":538},[2520],{"type":427,"value":2521}," ast ",{"type":422,"tag":507,"props":2523,"children":2524},{"style":526},[2525],{"type":427,"value":1489},{"type":422,"tag":507,"props":2527,"children":2528},{"style":532},[2529],{"type":427,"value":838},{"type":422,"tag":507,"props":2531,"children":2532},{"style":538},[2533],{"type":427,"value":2534},"(template",{"type":422,"tag":507,"props":2536,"children":2537},{"style":544},[2538],{"type":427,"value":619},{"type":422,"tag":507,"props":2540,"children":2541},{"style":532},[2542],{"type":427,"value":2543},"trim",{"type":422,"tag":507,"props":2545,"children":2546},{"style":538},[2547],{"type":427,"value":899},{"type":422,"tag":507,"props":2549,"children":2550},{"style":544},[2551],{"type":427,"value":547},{"type":422,"tag":507,"props":2553,"children":2554},{"style":538},[2555],{"type":427,"value":2556}," options)\n",{"type":422,"tag":507,"props":2558,"children":2559},{"class":509,"line":575},[2560,2565,2570,2574],{"type":422,"tag":507,"props":2561,"children":2562},{"style":532},[2563],{"type":427,"value":2564},"optimize",{"type":422,"tag":507,"props":2566,"children":2567},{"style":538},[2568],{"type":427,"value":2569},"(ast",{"type":422,"tag":507,"props":2571,"children":2572},{"style":544},[2573],{"type":427,"value":547},{"type":422,"tag":507,"props":2575,"children":2576},{"style":538},[2577],{"type":427,"value":2556},{"type":422,"tag":507,"props":2579,"children":2580},{"class":509,"line":599},[2581,2585,2590,2594,2599,2603,2607],{"type":422,"tag":507,"props":2582,"children":2583},{"style":514},[2584],{"type":427,"value":2516},{"type":422,"tag":507,"props":2586,"children":2587},{"style":538},[2588],{"type":427,"value":2589}," code ",{"type":422,"tag":507,"props":2591,"children":2592},{"style":526},[2593],{"type":427,"value":1489},{"type":422,"tag":507,"props":2595,"children":2596},{"style":532},[2597],{"type":427,"value":2598}," generate",{"type":422,"tag":507,"props":2600,"children":2601},{"style":538},[2602],{"type":427,"value":2569},{"type":422,"tag":507,"props":2604,"children":2605},{"style":544},[2606],{"type":427,"value":547},{"type":422,"tag":507,"props":2608,"children":2609},{"style":538},[2610],{"type":427,"value":2556},{"type":422,"tag":423,"props":2612,"children":2613},{},[2614],{"type":427,"value":2615},"先前我们的组件 ID 在 parse 阶段解析开始标签时就会被推入内部储存的数据结构中：",{"type":422,"tag":497,"props":2617,"children":2619},{"className":499,"code":2618,"language":501,"meta":415,"style":415},"function elementToOpenTagSegments (el, state) {\n  var segments = [{ type: RAW, value: (\"\u003C\" + (el.tag)) }]\n  // _scopedId\n  if (state.options.scopeId) {\n    segments.push({ type: RAW, value: (\" \" + (state.options.scopeId)) })\n  }\n  segments.push({ type: RAW, value: \">\" })\n  return segments\n}\n",[2620],{"type":422,"tag":430,"props":2621,"children":2622},{"__ignoreMap":415},[2623,2662,2765,2773,2816,2918,2926,2995,3007],{"type":422,"tag":507,"props":2624,"children":2625},{"class":509,"line":510},[2626,2630,2635,2640,2645,2649,2654,2658],{"type":422,"tag":507,"props":2627,"children":2628},{"style":514},[2629],{"type":427,"value":991},{"type":422,"tag":507,"props":2631,"children":2632},{"style":532},[2633],{"type":427,"value":2634}," elementToOpenTagSegments",{"type":422,"tag":507,"props":2636,"children":2637},{"style":544},[2638],{"type":427,"value":2639}," (",{"type":422,"tag":507,"props":2641,"children":2642},{"style":1002},[2643],{"type":427,"value":2644},"el",{"type":422,"tag":507,"props":2646,"children":2647},{"style":544},[2648],{"type":427,"value":547},{"type":422,"tag":507,"props":2650,"children":2651},{"style":1002},[2652],{"type":427,"value":2653}," state",{"type":422,"tag":507,"props":2655,"children":2656},{"style":544},[2657],{"type":427,"value":649},{"type":422,"tag":507,"props":2659,"children":2660},{"style":544},[2661],{"type":427,"value":552},{"type":422,"tag":507,"props":2663,"children":2664},{"class":509,"line":555},[2665,2669,2674,2678,2683,2687,2692,2696,2701,2705,2710,2714,2718,2722,2726,2730,2734,2738,2742,2746,2751,2756,2760],{"type":422,"tag":507,"props":2666,"children":2667},{"style":514},[2668],{"type":427,"value":1202},{"type":422,"tag":507,"props":2670,"children":2671},{"style":538},[2672],{"type":427,"value":2673}," segments",{"type":422,"tag":507,"props":2675,"children":2676},{"style":526},[2677],{"type":427,"value":529},{"type":422,"tag":507,"props":2679,"children":2680},{"style":559},[2681],{"type":427,"value":2682}," [",{"type":422,"tag":507,"props":2684,"children":2685},{"style":544},[2686],{"type":427,"value":2435},{"type":422,"tag":507,"props":2688,"children":2689},{"style":559},[2690],{"type":427,"value":2691}," type",{"type":422,"tag":507,"props":2693,"children":2694},{"style":544},[2695],{"type":427,"value":567},{"type":422,"tag":507,"props":2697,"children":2698},{"style":520},[2699],{"type":427,"value":2700}," RAW",{"type":422,"tag":507,"props":2702,"children":2703},{"style":544},[2704],{"type":427,"value":547},{"type":422,"tag":507,"props":2706,"children":2707},{"style":559},[2708],{"type":427,"value":2709}," value",{"type":422,"tag":507,"props":2711,"children":2712},{"style":544},[2713],{"type":427,"value":567},{"type":422,"tag":507,"props":2715,"children":2716},{"style":559},[2717],{"type":427,"value":2639},{"type":422,"tag":507,"props":2719,"children":2720},{"style":631},[2721],{"type":427,"value":1761},{"type":422,"tag":507,"props":2723,"children":2724},{"style":637},[2725],{"type":427,"value":1472},{"type":422,"tag":507,"props":2727,"children":2728},{"style":631},[2729],{"type":427,"value":1761},{"type":422,"tag":507,"props":2731,"children":2732},{"style":526},[2733],{"type":427,"value":1932},{"type":422,"tag":507,"props":2735,"children":2736},{"style":559},[2737],{"type":427,"value":2639},{"type":422,"tag":507,"props":2739,"children":2740},{"style":538},[2741],{"type":427,"value":2644},{"type":422,"tag":507,"props":2743,"children":2744},{"style":544},[2745],{"type":427,"value":619},{"type":422,"tag":507,"props":2747,"children":2748},{"style":538},[2749],{"type":427,"value":2750},"tag",{"type":422,"tag":507,"props":2752,"children":2753},{"style":559},[2754],{"type":427,"value":2755},")) ",{"type":422,"tag":507,"props":2757,"children":2758},{"style":544},[2759],{"type":427,"value":735},{"type":422,"tag":507,"props":2761,"children":2762},{"style":559},[2763],{"type":427,"value":2764},"]\n",{"type":422,"tag":507,"props":2766,"children":2767},{"class":509,"line":575},[2768],{"type":422,"tag":507,"props":2769,"children":2770},{"style":814},[2771],{"type":427,"value":2772},"  // _scopedId\n",{"type":422,"tag":507,"props":2774,"children":2775},{"class":509,"line":599},[2776,2781,2785,2790,2794,2798,2802,2807,2812],{"type":422,"tag":507,"props":2777,"children":2778},{"style":1108},[2779],{"type":427,"value":2780},"  if",{"type":422,"tag":507,"props":2782,"children":2783},{"style":559},[2784],{"type":427,"value":2639},{"type":422,"tag":507,"props":2786,"children":2787},{"style":538},[2788],{"type":427,"value":2789},"state",{"type":422,"tag":507,"props":2791,"children":2792},{"style":544},[2793],{"type":427,"value":619},{"type":422,"tag":507,"props":2795,"children":2796},{"style":538},[2797],{"type":427,"value":1005},{"type":422,"tag":507,"props":2799,"children":2800},{"style":544},[2801],{"type":427,"value":619},{"type":422,"tag":507,"props":2803,"children":2804},{"style":538},[2805],{"type":427,"value":2806},"scopeId",{"type":422,"tag":507,"props":2808,"children":2809},{"style":559},[2810],{"type":427,"value":2811},") ",{"type":422,"tag":507,"props":2813,"children":2814},{"style":544},[2815],{"type":427,"value":596},{"type":422,"tag":507,"props":2817,"children":2818},{"class":509,"line":657},[2819,2824,2828,2833,2837,2841,2845,2849,2853,2857,2861,2865,2869,2873,2878,2882,2886,2890,2894,2898,2902,2906,2910,2914],{"type":422,"tag":507,"props":2820,"children":2821},{"style":538},[2822],{"type":427,"value":2823},"    segments",{"type":422,"tag":507,"props":2825,"children":2826},{"style":544},[2827],{"type":427,"value":619},{"type":422,"tag":507,"props":2829,"children":2830},{"style":532},[2831],{"type":427,"value":2832},"push",{"type":422,"tag":507,"props":2834,"children":2835},{"style":559},[2836],{"type":427,"value":591},{"type":422,"tag":507,"props":2838,"children":2839},{"style":544},[2840],{"type":427,"value":2435},{"type":422,"tag":507,"props":2842,"children":2843},{"style":559},[2844],{"type":427,"value":2691},{"type":422,"tag":507,"props":2846,"children":2847},{"style":544},[2848],{"type":427,"value":567},{"type":422,"tag":507,"props":2850,"children":2851},{"style":520},[2852],{"type":427,"value":2700},{"type":422,"tag":507,"props":2854,"children":2855},{"style":544},[2856],{"type":427,"value":547},{"type":422,"tag":507,"props":2858,"children":2859},{"style":559},[2860],{"type":427,"value":2709},{"type":422,"tag":507,"props":2862,"children":2863},{"style":544},[2864],{"type":427,"value":567},{"type":422,"tag":507,"props":2866,"children":2867},{"style":559},[2868],{"type":427,"value":2639},{"type":422,"tag":507,"props":2870,"children":2871},{"style":631},[2872],{"type":427,"value":1761},{"type":422,"tag":507,"props":2874,"children":2875},{"style":631},[2876],{"type":427,"value":2877}," \"",{"type":422,"tag":507,"props":2879,"children":2880},{"style":526},[2881],{"type":427,"value":1932},{"type":422,"tag":507,"props":2883,"children":2884},{"style":559},[2885],{"type":427,"value":2639},{"type":422,"tag":507,"props":2887,"children":2888},{"style":538},[2889],{"type":427,"value":2789},{"type":422,"tag":507,"props":2891,"children":2892},{"style":544},[2893],{"type":427,"value":619},{"type":422,"tag":507,"props":2895,"children":2896},{"style":538},[2897],{"type":427,"value":1005},{"type":422,"tag":507,"props":2899,"children":2900},{"style":544},[2901],{"type":427,"value":619},{"type":422,"tag":507,"props":2903,"children":2904},{"style":538},[2905],{"type":427,"value":2806},{"type":422,"tag":507,"props":2907,"children":2908},{"style":559},[2909],{"type":427,"value":2755},{"type":422,"tag":507,"props":2911,"children":2912},{"style":544},[2913],{"type":427,"value":735},{"type":422,"tag":507,"props":2915,"children":2916},{"style":559},[2917],{"type":427,"value":700},{"type":422,"tag":507,"props":2919,"children":2920},{"class":509,"line":703},[2921],{"type":422,"tag":507,"props":2922,"children":2923},{"style":544},[2924],{"type":427,"value":2925},"  }\n",{"type":422,"tag":507,"props":2927,"children":2928},{"class":509,"line":720},[2929,2934,2938,2942,2946,2950,2954,2958,2962,2966,2970,2974,2978,2983,2987,2991],{"type":422,"tag":507,"props":2930,"children":2931},{"style":538},[2932],{"type":427,"value":2933},"  segments",{"type":422,"tag":507,"props":2935,"children":2936},{"style":544},[2937],{"type":427,"value":619},{"type":422,"tag":507,"props":2939,"children":2940},{"style":532},[2941],{"type":427,"value":2832},{"type":422,"tag":507,"props":2943,"children":2944},{"style":559},[2945],{"type":427,"value":591},{"type":422,"tag":507,"props":2947,"children":2948},{"style":544},[2949],{"type":427,"value":2435},{"type":422,"tag":507,"props":2951,"children":2952},{"style":559},[2953],{"type":427,"value":2691},{"type":422,"tag":507,"props":2955,"children":2956},{"style":544},[2957],{"type":427,"value":567},{"type":422,"tag":507,"props":2959,"children":2960},{"style":520},[2961],{"type":427,"value":2700},{"type":422,"tag":507,"props":2963,"children":2964},{"style":544},[2965],{"type":427,"value":547},{"type":422,"tag":507,"props":2967,"children":2968},{"style":559},[2969],{"type":427,"value":2709},{"type":422,"tag":507,"props":2971,"children":2972},{"style":544},[2973],{"type":427,"value":567},{"type":422,"tag":507,"props":2975,"children":2976},{"style":631},[2977],{"type":427,"value":2877},{"type":422,"tag":507,"props":2979,"children":2980},{"style":637},[2981],{"type":427,"value":2982},">",{"type":422,"tag":507,"props":2984,"children":2985},{"style":631},[2986],{"type":427,"value":1761},{"type":422,"tag":507,"props":2988,"children":2989},{"style":544},[2990],{"type":427,"value":1037},{"type":422,"tag":507,"props":2992,"children":2993},{"style":559},[2994],{"type":427,"value":700},{"type":422,"tag":507,"props":2996,"children":2997},{"class":509,"line":729},[2998,3002],{"type":422,"tag":507,"props":2999,"children":3000},{"style":1108},[3001],{"type":427,"value":1111},{"type":422,"tag":507,"props":3003,"children":3004},{"style":538},[3005],{"type":427,"value":3006}," segments\n",{"type":422,"tag":507,"props":3008,"children":3009},{"class":509,"line":967},[3010],{"type":422,"tag":507,"props":3011,"children":3012},{"style":544},[3013],{"type":427,"value":1129},{"type":422,"tag":423,"props":3015,"children":3016},{},[3017,3019,3025],{"type":427,"value":3018},"先前我们的 HTML 模板 ",{"type":422,"tag":430,"props":3020,"children":3022},{"className":3021},[],[3023],{"type":427,"value":3024},"\u003Cdiv class='lionad'>\u003C/div>",{"type":427,"value":3026}," 中开始标签会被转换成如下数据结构：",{"type":422,"tag":497,"props":3028,"children":3030},{"className":499,"code":3029,"language":501,"meta":415,"style":415},"[\n    { type: RAW, value: '\u003Cdiv' },\n    { type: RAW, value: 'class=lionad' },\n    { type: RAW, value: 'data-v-xxxxxx' },\n    { type: RAW, value: '>' },\n]\n",[3031],{"type":422,"tag":430,"props":3032,"children":3033},{"__ignoreMap":415},[3034,3042,3092,3140,3188,3235],{"type":422,"tag":507,"props":3035,"children":3036},{"class":509,"line":510},[3037],{"type":422,"tag":507,"props":3038,"children":3039},{"style":538},[3040],{"type":427,"value":3041},"[\n",{"type":422,"tag":507,"props":3043,"children":3044},{"class":509,"line":555},[3045,3050,3054,3058,3062,3066,3070,3074,3078,3083,3087],{"type":422,"tag":507,"props":3046,"children":3047},{"style":544},[3048],{"type":427,"value":3049},"    {",{"type":422,"tag":507,"props":3051,"children":3052},{"style":559},[3053],{"type":427,"value":2691},{"type":422,"tag":507,"props":3055,"children":3056},{"style":544},[3057],{"type":427,"value":567},{"type":422,"tag":507,"props":3059,"children":3060},{"style":520},[3061],{"type":427,"value":2700},{"type":422,"tag":507,"props":3063,"children":3064},{"style":544},[3065],{"type":427,"value":547},{"type":422,"tag":507,"props":3067,"children":3068},{"style":559},[3069],{"type":427,"value":2709},{"type":422,"tag":507,"props":3071,"children":3072},{"style":544},[3073],{"type":427,"value":567},{"type":422,"tag":507,"props":3075,"children":3076},{"style":631},[3077],{"type":427,"value":1917},{"type":422,"tag":507,"props":3079,"children":3080},{"style":637},[3081],{"type":427,"value":3082},"\u003Cdiv",{"type":422,"tag":507,"props":3084,"children":3085},{"style":631},[3086],{"type":427,"value":634},{"type":422,"tag":507,"props":3088,"children":3089},{"style":544},[3090],{"type":427,"value":3091}," },\n",{"type":422,"tag":507,"props":3093,"children":3094},{"class":509,"line":575},[3095,3099,3103,3107,3111,3115,3119,3123,3127,3132,3136],{"type":422,"tag":507,"props":3096,"children":3097},{"style":544},[3098],{"type":427,"value":3049},{"type":422,"tag":507,"props":3100,"children":3101},{"style":559},[3102],{"type":427,"value":2691},{"type":422,"tag":507,"props":3104,"children":3105},{"style":544},[3106],{"type":427,"value":567},{"type":422,"tag":507,"props":3108,"children":3109},{"style":520},[3110],{"type":427,"value":2700},{"type":422,"tag":507,"props":3112,"children":3113},{"style":544},[3114],{"type":427,"value":547},{"type":422,"tag":507,"props":3116,"children":3117},{"style":559},[3118],{"type":427,"value":2709},{"type":422,"tag":507,"props":3120,"children":3121},{"style":544},[3122],{"type":427,"value":567},{"type":422,"tag":507,"props":3124,"children":3125},{"style":631},[3126],{"type":427,"value":1917},{"type":422,"tag":507,"props":3128,"children":3129},{"style":637},[3130],{"type":427,"value":3131},"class=lionad",{"type":422,"tag":507,"props":3133,"children":3134},{"style":631},[3135],{"type":427,"value":634},{"type":422,"tag":507,"props":3137,"children":3138},{"style":544},[3139],{"type":427,"value":3091},{"type":422,"tag":507,"props":3141,"children":3142},{"class":509,"line":599},[3143,3147,3151,3155,3159,3163,3167,3171,3175,3180,3184],{"type":422,"tag":507,"props":3144,"children":3145},{"style":544},[3146],{"type":427,"value":3049},{"type":422,"tag":507,"props":3148,"children":3149},{"style":559},[3150],{"type":427,"value":2691},{"type":422,"tag":507,"props":3152,"children":3153},{"style":544},[3154],{"type":427,"value":567},{"type":422,"tag":507,"props":3156,"children":3157},{"style":520},[3158],{"type":427,"value":2700},{"type":422,"tag":507,"props":3160,"children":3161},{"style":544},[3162],{"type":427,"value":547},{"type":422,"tag":507,"props":3164,"children":3165},{"style":559},[3166],{"type":427,"value":2709},{"type":422,"tag":507,"props":3168,"children":3169},{"style":544},[3170],{"type":427,"value":567},{"type":422,"tag":507,"props":3172,"children":3173},{"style":631},[3174],{"type":427,"value":1917},{"type":422,"tag":507,"props":3176,"children":3177},{"style":637},[3178],{"type":427,"value":3179},"data-v-xxxxxx",{"type":422,"tag":507,"props":3181,"children":3182},{"style":631},[3183],{"type":427,"value":634},{"type":422,"tag":507,"props":3185,"children":3186},{"style":544},[3187],{"type":427,"value":3091},{"type":422,"tag":507,"props":3189,"children":3190},{"class":509,"line":657},[3191,3195,3199,3203,3207,3211,3215,3219,3223,3227,3231],{"type":422,"tag":507,"props":3192,"children":3193},{"style":544},[3194],{"type":427,"value":3049},{"type":422,"tag":507,"props":3196,"children":3197},{"style":559},[3198],{"type":427,"value":2691},{"type":422,"tag":507,"props":3200,"children":3201},{"style":544},[3202],{"type":427,"value":567},{"type":422,"tag":507,"props":3204,"children":3205},{"style":520},[3206],{"type":427,"value":2700},{"type":422,"tag":507,"props":3208,"children":3209},{"style":544},[3210],{"type":427,"value":547},{"type":422,"tag":507,"props":3212,"children":3213},{"style":559},[3214],{"type":427,"value":2709},{"type":422,"tag":507,"props":3216,"children":3217},{"style":544},[3218],{"type":427,"value":567},{"type":422,"tag":507,"props":3220,"children":3221},{"style":631},[3222],{"type":427,"value":1917},{"type":422,"tag":507,"props":3224,"children":3225},{"style":637},[3226],{"type":427,"value":2982},{"type":422,"tag":507,"props":3228,"children":3229},{"style":631},[3230],{"type":427,"value":634},{"type":422,"tag":507,"props":3232,"children":3233},{"style":544},[3234],{"type":427,"value":3091},{"type":422,"tag":507,"props":3236,"children":3237},{"class":509,"line":703},[3238],{"type":422,"tag":507,"props":3239,"children":3240},{"style":538},[3241],{"type":427,"value":2764},{"type":422,"tag":2143,"props":3243,"children":3245},{"id":3244},"样式模板处理",[3246],{"type":427,"value":3244},{"type":422,"tag":423,"props":3248,"children":3249},{},[3250,3252,3258,3260,3266,3268,3274,3276,3282],{"type":427,"value":3251},"与 HTML Template 解析的过程类似，通过 webpack 将样式模板转交 ",{"type":422,"tag":430,"props":3253,"children":3255},{"className":3254},[],[3256],{"type":427,"value":3257},"stylePostLoader",{"type":427,"value":3259}," 进行处理，处理逻辑主要引用了 ",{"type":422,"tag":430,"props":3261,"children":3263},{"className":3262},[],[3264],{"type":427,"value":3265},"@vue/component-compiler-utils",{"type":427,"value":3267}," 中的 ",{"type":422,"tag":430,"props":3269,"children":3271},{"className":3270},[],[3272],{"type":427,"value":3273},"compileStyle",{"type":427,"value":3275}," 部分，后者对样式模板进行解析的过程中，将会对含 scoped 标记的模板引入插件 ",{"type":422,"tag":430,"props":3277,"children":3279},{"className":3278},[],[3280],{"type":427,"value":3281},"stylePlugins/scoped.js",{"type":427,"value":3283},"：",{"type":422,"tag":497,"props":3285,"children":3287},{"className":499,"code":3286,"language":501,"meta":415,"style":415},"// component-compiler-utils/compileStyle.js\nfunction doCompileStyle (options) {\n    if (scoped) {\n        plugins.push(scoped_1.default(id));\n    }\n    return { result: postcss(plugins).process(source, postCSSOptions) }\n}\n",[3288],{"type":422,"tag":430,"props":3289,"children":3290},{"__ignoreMap":415},[3291,3299,3327,3351,3402,3409,3482],{"type":422,"tag":507,"props":3292,"children":3293},{"class":509,"line":510},[3294],{"type":422,"tag":507,"props":3295,"children":3296},{"style":814},[3297],{"type":427,"value":3298},"// component-compiler-utils/compileStyle.js\n",{"type":422,"tag":507,"props":3300,"children":3301},{"class":509,"line":555},[3302,3306,3311,3315,3319,3323],{"type":422,"tag":507,"props":3303,"children":3304},{"style":514},[3305],{"type":427,"value":991},{"type":422,"tag":507,"props":3307,"children":3308},{"style":532},[3309],{"type":427,"value":3310}," doCompileStyle",{"type":422,"tag":507,"props":3312,"children":3313},{"style":544},[3314],{"type":427,"value":2639},{"type":422,"tag":507,"props":3316,"children":3317},{"style":1002},[3318],{"type":427,"value":1005},{"type":422,"tag":507,"props":3320,"children":3321},{"style":544},[3322],{"type":427,"value":649},{"type":422,"tag":507,"props":3324,"children":3325},{"style":544},[3326],{"type":427,"value":552},{"type":422,"tag":507,"props":3328,"children":3329},{"class":509,"line":575},[3330,3335,3339,3343,3347],{"type":422,"tag":507,"props":3331,"children":3332},{"style":1108},[3333],{"type":427,"value":3334},"    if",{"type":422,"tag":507,"props":3336,"children":3337},{"style":559},[3338],{"type":427,"value":2639},{"type":422,"tag":507,"props":3340,"children":3341},{"style":538},[3342],{"type":427,"value":1644},{"type":422,"tag":507,"props":3344,"children":3345},{"style":559},[3346],{"type":427,"value":2811},{"type":422,"tag":507,"props":3348,"children":3349},{"style":544},[3350],{"type":427,"value":596},{"type":422,"tag":507,"props":3352,"children":3353},{"class":509,"line":599},[3354,3359,3363,3367,3371,3376,3380,3385,3389,3393,3398],{"type":422,"tag":507,"props":3355,"children":3356},{"style":538},[3357],{"type":427,"value":3358},"        plugins",{"type":422,"tag":507,"props":3360,"children":3361},{"style":544},[3362],{"type":427,"value":619},{"type":422,"tag":507,"props":3364,"children":3365},{"style":532},[3366],{"type":427,"value":2832},{"type":422,"tag":507,"props":3368,"children":3369},{"style":559},[3370],{"type":427,"value":591},{"type":422,"tag":507,"props":3372,"children":3373},{"style":538},[3374],{"type":427,"value":3375},"scoped_1",{"type":422,"tag":507,"props":3377,"children":3378},{"style":544},[3379],{"type":427,"value":619},{"type":422,"tag":507,"props":3381,"children":3382},{"style":532},[3383],{"type":427,"value":3384},"default",{"type":422,"tag":507,"props":3386,"children":3387},{"style":559},[3388],{"type":427,"value":591},{"type":422,"tag":507,"props":3390,"children":3391},{"style":538},[3392],{"type":427,"value":2375},{"type":422,"tag":507,"props":3394,"children":3395},{"style":559},[3396],{"type":427,"value":3397},"))",{"type":422,"tag":507,"props":3399,"children":3400},{"style":544},[3401],{"type":427,"value":964},{"type":422,"tag":507,"props":3403,"children":3404},{"class":509,"line":657},[3405],{"type":422,"tag":507,"props":3406,"children":3407},{"style":544},[3408],{"type":427,"value":1823},{"type":422,"tag":507,"props":3410,"children":3411},{"class":509,"line":703},[3412,3417,3421,3426,3430,3435,3439,3444,3448,3452,3457,3461,3465,3469,3474,3478],{"type":422,"tag":507,"props":3413,"children":3414},{"style":1108},[3415],{"type":427,"value":3416},"    return",{"type":422,"tag":507,"props":3418,"children":3419},{"style":544},[3420],{"type":427,"value":1027},{"type":422,"tag":507,"props":3422,"children":3423},{"style":559},[3424],{"type":427,"value":3425}," result",{"type":422,"tag":507,"props":3427,"children":3428},{"style":544},[3429],{"type":427,"value":567},{"type":422,"tag":507,"props":3431,"children":3432},{"style":532},[3433],{"type":427,"value":3434}," postcss",{"type":422,"tag":507,"props":3436,"children":3437},{"style":559},[3438],{"type":427,"value":591},{"type":422,"tag":507,"props":3440,"children":3441},{"style":538},[3442],{"type":427,"value":3443},"plugins",{"type":422,"tag":507,"props":3445,"children":3446},{"style":559},[3447],{"type":427,"value":649},{"type":422,"tag":507,"props":3449,"children":3450},{"style":544},[3451],{"type":427,"value":619},{"type":422,"tag":507,"props":3453,"children":3454},{"style":532},[3455],{"type":427,"value":3456},"process",{"type":422,"tag":507,"props":3458,"children":3459},{"style":559},[3460],{"type":427,"value":591},{"type":422,"tag":507,"props":3462,"children":3463},{"style":538},[3464],{"type":427,"value":1084},{"type":422,"tag":507,"props":3466,"children":3467},{"style":544},[3468],{"type":427,"value":547},{"type":422,"tag":507,"props":3470,"children":3471},{"style":538},[3472],{"type":427,"value":3473}," postCSSOptions",{"type":422,"tag":507,"props":3475,"children":3476},{"style":559},[3477],{"type":427,"value":2811},{"type":422,"tag":507,"props":3479,"children":3480},{"style":544},[3481],{"type":427,"value":1129},{"type":422,"tag":507,"props":3483,"children":3484},{"class":509,"line":720},[3485],{"type":422,"tag":507,"props":3486,"children":3487},{"style":544},[3488],{"type":427,"value":1129},{"type":422,"tag":423,"props":3490,"children":3491},{},[3492,3494,3500,3502,3507],{"type":427,"value":3493},"插件 ",{"type":422,"tag":430,"props":3495,"children":3497},{"className":3496},[],[3498],{"type":427,"value":3499},"scoped.js",{"type":427,"value":3501}," 将 ",{"type":422,"tag":430,"props":3503,"children":3505},{"className":3504},[],[3506],{"type":427,"value":3179},{"type":427,"value":3508}," 添加到选择器末尾的具体逻辑如下，遍历每一个选择器组合下的选择器，选择给每个组合下最后一个选择器的末尾插入：",{"type":422,"tag":497,"props":3510,"children":3512},{"className":499,"code":3511,"language":501,"meta":415,"style":415},"// component-compiler-utils/stylePlugins/scoped.js\nselectors.each((selector) => {\n    selector.each((n) => {\n        if (n.value === '::v-deep' || n.value === '>>>' || n.value === '/deep/') {\n            return false;\n        }\n    });\n    selector.insertAfter(node, selectorParser.attribute({\n        attribute: id\n    }))\n})\n",[3513],{"type":422,"tag":430,"props":3514,"children":3515},{"__ignoreMap":415},[3516,3524,3566,3607,3726,3744,3752,3768,3819,3836,3848],{"type":422,"tag":507,"props":3517,"children":3518},{"class":509,"line":510},[3519],{"type":422,"tag":507,"props":3520,"children":3521},{"style":814},[3522],{"type":427,"value":3523},"// component-compiler-utils/stylePlugins/scoped.js\n",{"type":422,"tag":507,"props":3525,"children":3526},{"class":509,"line":555},[3527,3532,3536,3541,3545,3549,3554,3558,3562],{"type":422,"tag":507,"props":3528,"children":3529},{"style":538},[3530],{"type":427,"value":3531},"selectors",{"type":422,"tag":507,"props":3533,"children":3534},{"style":544},[3535],{"type":427,"value":619},{"type":422,"tag":507,"props":3537,"children":3538},{"style":532},[3539],{"type":427,"value":3540},"each",{"type":422,"tag":507,"props":3542,"children":3543},{"style":538},[3544],{"type":427,"value":591},{"type":422,"tag":507,"props":3546,"children":3547},{"style":544},[3548],{"type":427,"value":591},{"type":422,"tag":507,"props":3550,"children":3551},{"style":1002},[3552],{"type":427,"value":3553},"selector",{"type":422,"tag":507,"props":3555,"children":3556},{"style":544},[3557],{"type":427,"value":649},{"type":422,"tag":507,"props":3559,"children":3560},{"style":514},[3561],{"type":427,"value":1989},{"type":422,"tag":507,"props":3563,"children":3564},{"style":544},[3565],{"type":427,"value":552},{"type":422,"tag":507,"props":3567,"children":3568},{"class":509,"line":575},[3569,3574,3578,3582,3586,3590,3595,3599,3603],{"type":422,"tag":507,"props":3570,"children":3571},{"style":538},[3572],{"type":427,"value":3573},"    selector",{"type":422,"tag":507,"props":3575,"children":3576},{"style":544},[3577],{"type":427,"value":619},{"type":422,"tag":507,"props":3579,"children":3580},{"style":532},[3581],{"type":427,"value":3540},{"type":422,"tag":507,"props":3583,"children":3584},{"style":559},[3585],{"type":427,"value":591},{"type":422,"tag":507,"props":3587,"children":3588},{"style":544},[3589],{"type":427,"value":591},{"type":422,"tag":507,"props":3591,"children":3592},{"style":1002},[3593],{"type":427,"value":3594},"n",{"type":422,"tag":507,"props":3596,"children":3597},{"style":544},[3598],{"type":427,"value":649},{"type":422,"tag":507,"props":3600,"children":3601},{"style":514},[3602],{"type":427,"value":1989},{"type":422,"tag":507,"props":3604,"children":3605},{"style":544},[3606],{"type":427,"value":552},{"type":422,"tag":507,"props":3608,"children":3609},{"class":509,"line":599},[3610,3615,3619,3623,3627,3632,3637,3641,3646,3650,3655,3660,3664,3668,3672,3676,3681,3685,3689,3693,3697,3701,3705,3709,3714,3718,3722],{"type":422,"tag":507,"props":3611,"children":3612},{"style":1108},[3613],{"type":427,"value":3614},"        if",{"type":422,"tag":507,"props":3616,"children":3617},{"style":559},[3618],{"type":427,"value":2639},{"type":422,"tag":507,"props":3620,"children":3621},{"style":538},[3622],{"type":427,"value":3594},{"type":422,"tag":507,"props":3624,"children":3625},{"style":544},[3626],{"type":427,"value":619},{"type":422,"tag":507,"props":3628,"children":3629},{"style":538},[3630],{"type":427,"value":3631},"value",{"type":422,"tag":507,"props":3633,"children":3634},{"style":526},[3635],{"type":427,"value":3636}," ===",{"type":422,"tag":507,"props":3638,"children":3639},{"style":631},[3640],{"type":427,"value":1917},{"type":422,"tag":507,"props":3642,"children":3643},{"style":637},[3644],{"type":427,"value":3645},"::v-deep",{"type":422,"tag":507,"props":3647,"children":3648},{"style":631},[3649],{"type":427,"value":634},{"type":422,"tag":507,"props":3651,"children":3652},{"style":526},[3653],{"type":427,"value":3654}," ||",{"type":422,"tag":507,"props":3656,"children":3657},{"style":538},[3658],{"type":427,"value":3659}," n",{"type":422,"tag":507,"props":3661,"children":3662},{"style":544},[3663],{"type":427,"value":619},{"type":422,"tag":507,"props":3665,"children":3666},{"style":538},[3667],{"type":427,"value":3631},{"type":422,"tag":507,"props":3669,"children":3670},{"style":526},[3671],{"type":427,"value":3636},{"type":422,"tag":507,"props":3673,"children":3674},{"style":631},[3675],{"type":427,"value":1917},{"type":422,"tag":507,"props":3677,"children":3678},{"style":637},[3679],{"type":427,"value":3680},">>>",{"type":422,"tag":507,"props":3682,"children":3683},{"style":631},[3684],{"type":427,"value":634},{"type":422,"tag":507,"props":3686,"children":3687},{"style":526},[3688],{"type":427,"value":3654},{"type":422,"tag":507,"props":3690,"children":3691},{"style":538},[3692],{"type":427,"value":3659},{"type":422,"tag":507,"props":3694,"children":3695},{"style":544},[3696],{"type":427,"value":619},{"type":422,"tag":507,"props":3698,"children":3699},{"style":538},[3700],{"type":427,"value":3631},{"type":422,"tag":507,"props":3702,"children":3703},{"style":526},[3704],{"type":427,"value":3636},{"type":422,"tag":507,"props":3706,"children":3707},{"style":631},[3708],{"type":427,"value":1917},{"type":422,"tag":507,"props":3710,"children":3711},{"style":637},[3712],{"type":427,"value":3713},"/deep/",{"type":422,"tag":507,"props":3715,"children":3716},{"style":631},[3717],{"type":427,"value":634},{"type":422,"tag":507,"props":3719,"children":3720},{"style":559},[3721],{"type":427,"value":2811},{"type":422,"tag":507,"props":3723,"children":3724},{"style":544},[3725],{"type":427,"value":596},{"type":422,"tag":507,"props":3727,"children":3728},{"class":509,"line":657},[3729,3734,3740],{"type":422,"tag":507,"props":3730,"children":3731},{"style":1108},[3732],{"type":427,"value":3733},"            return",{"type":422,"tag":507,"props":3735,"children":3737},{"style":3736},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3738],{"type":427,"value":3739}," false",{"type":422,"tag":507,"props":3741,"children":3742},{"style":544},[3743],{"type":427,"value":964},{"type":422,"tag":507,"props":3745,"children":3746},{"class":509,"line":703},[3747],{"type":422,"tag":507,"props":3748,"children":3749},{"style":544},[3750],{"type":427,"value":3751},"        }\n",{"type":422,"tag":507,"props":3753,"children":3754},{"class":509,"line":720},[3755,3760,3764],{"type":422,"tag":507,"props":3756,"children":3757},{"style":544},[3758],{"type":427,"value":3759},"    }",{"type":422,"tag":507,"props":3761,"children":3762},{"style":559},[3763],{"type":427,"value":649},{"type":422,"tag":507,"props":3765,"children":3766},{"style":544},[3767],{"type":427,"value":964},{"type":422,"tag":507,"props":3769,"children":3770},{"class":509,"line":729},[3771,3775,3779,3784,3788,3793,3797,3802,3806,3811,3815],{"type":422,"tag":507,"props":3772,"children":3773},{"style":538},[3774],{"type":427,"value":3573},{"type":422,"tag":507,"props":3776,"children":3777},{"style":544},[3778],{"type":427,"value":619},{"type":422,"tag":507,"props":3780,"children":3781},{"style":532},[3782],{"type":427,"value":3783},"insertAfter",{"type":422,"tag":507,"props":3785,"children":3786},{"style":559},[3787],{"type":427,"value":591},{"type":422,"tag":507,"props":3789,"children":3790},{"style":538},[3791],{"type":427,"value":3792},"node",{"type":422,"tag":507,"props":3794,"children":3795},{"style":544},[3796],{"type":427,"value":547},{"type":422,"tag":507,"props":3798,"children":3799},{"style":538},[3800],{"type":427,"value":3801}," selectorParser",{"type":422,"tag":507,"props":3803,"children":3804},{"style":544},[3805],{"type":427,"value":619},{"type":422,"tag":507,"props":3807,"children":3808},{"style":532},[3809],{"type":427,"value":3810},"attribute",{"type":422,"tag":507,"props":3812,"children":3813},{"style":559},[3814],{"type":427,"value":591},{"type":422,"tag":507,"props":3816,"children":3817},{"style":544},[3818],{"type":427,"value":596},{"type":422,"tag":507,"props":3820,"children":3821},{"class":509,"line":967},[3822,3827,3831],{"type":422,"tag":507,"props":3823,"children":3824},{"style":559},[3825],{"type":427,"value":3826},"        attribute",{"type":422,"tag":507,"props":3828,"children":3829},{"style":544},[3830],{"type":427,"value":567},{"type":422,"tag":507,"props":3832,"children":3833},{"style":538},[3834],{"type":427,"value":3835}," id\n",{"type":422,"tag":507,"props":3837,"children":3838},{"class":509,"line":976},[3839,3843],{"type":422,"tag":507,"props":3840,"children":3841},{"style":544},[3842],{"type":427,"value":3759},{"type":422,"tag":507,"props":3844,"children":3845},{"style":559},[3846],{"type":427,"value":3847},"))\n",{"type":422,"tag":507,"props":3849,"children":3850},{"class":509,"line":985},[3851,3855],{"type":422,"tag":507,"props":3852,"children":3853},{"style":544},[3854],{"type":427,"value":735},{"type":422,"tag":507,"props":3856,"children":3857},{"style":538},[3858],{"type":427,"value":700},{"type":422,"tag":423,"props":3860,"children":3861},{},[3862,3864,3870],{"type":427,"value":3863},"题外话，通过以上代码，我们发现当循环处理到三种特定类型选择器便会终止，停止将 ",{"type":422,"tag":430,"props":3865,"children":3867},{"className":3866},[],[3868],{"type":427,"value":3869},"data-v-xxx",{"type":427,"value":3871}," 添加到选择器末尾：",{"type":422,"tag":2471,"props":3873,"children":3874},{},[3875,3885,3895],{"type":422,"tag":1361,"props":3876,"children":3877},{},[3878,3880],{"type":427,"value":3879},"伪类 ",{"type":422,"tag":430,"props":3881,"children":3883},{"className":3882},[],[3884],{"type":427,"value":3645},{"type":422,"tag":1361,"props":3886,"children":3887},{},[3888,3890],{"type":427,"value":3889},"选择器 ",{"type":422,"tag":430,"props":3891,"children":3893},{"className":3892},[],[3894],{"type":427,"value":3680},{"type":422,"tag":1361,"props":3896,"children":3897},{},[3898,3899],{"type":427,"value":3889},{"type":422,"tag":430,"props":3900,"children":3902},{"className":3901},[],[3903],{"type":427,"value":3713},{"type":422,"tag":423,"props":3905,"children":3906},{},[3907],{"type":427,"value":3908},"我们可以利用这个特征，在组件中写样式穿透，即内部组件影响外部组件样式 (ε=ε=ε=┏(゜ロ゜;)┛ 主动样式污染)，当然这在特定的情境下是有用的，比如当我们想主动覆盖第三方 UI 组件框架的样式，却不想引入新的 CSS 文件，或不想写非 Scoped CSS 模板的时候。",{"type":422,"tag":1533,"props":3910,"children":3911},{},[3912],{"type":427,"value":3913},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":415,"searchDepth":555,"depth":555,"links":3915},[3916,3917,3918],{"id":457,"depth":555,"text":457},{"id":777,"depth":555,"text":780},{"id":1425,"depth":555,"text":1420,"children":3919},[3920,3921],{"id":1431,"depth":575,"text":1434},{"id":1617,"depth":575,"text":1617},"markdown","content:8.source-code:_js:vue2-source:4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css","md",[3928,3931],{"_path":3929,"title":3930,"description":417},"/source-code/_js/vue2-source/global-api","Vue2 Global API",{"_path":3932,"title":3933,"description":417},"/source-code/_js/vue2-source/test-kit","Vue2 Test Kit",1732808130143]