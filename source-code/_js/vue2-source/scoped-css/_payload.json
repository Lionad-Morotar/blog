[{"data":1,"prerenderedAt":3908},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/scoped-css":384,"/source-code/_js/vue2-source/scoped-css-surround":3901},[4,35,86,105,132,138,144,150,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":205,"_path":206},"正则表达式","/gists/eegex",{"title":208,"_path":209},"Emoji","/gists/emoji",{"title":211,"_path":212},"工程","/gists/engineering",{"title":214,"_path":215},"熵","/gists/entropy",{"title":217,"_path":218},"Environment","/gists/environment",{"title":220,"_path":221},"Erlang","/gists/erlang",{"title":223,"_path":224},"逃离塔克夫","/gists/escape-from-tarkov",{"title":226,"_path":227},"ESNext (ES6-ES11)","/gists/esnext",{"title":229,"_path":230},"Eval！","/gists/eval",{"title":232,"_path":233},"Flutter","/gists/flutter",{"title":235,"_path":236},"字体","/gists/font",{"title":238,"_path":239},"JS 函数式编程","/gists/functional",{"title":241,"_path":242},"游戏化","/gists/gamification",{"title":244,"_path":245},"Google C++ Standard","/gists/google-cpp-standard",{"title":247,"_path":248},"双向链接完全体","/gists/graph",{"title":250,"_path":251},"Hardwares","/gists/hardwares",{"title":253,"_path":254},"哈希冲突","/gists/hash-collision",{"title":256,"_path":257},"信息设计","/gists/information-design",{"title":259,"_path":260},"InstantPage","/gists/instant.page",{"title":262,"_path":263},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":265,"_path":266},"KVStore","/gists/key-value-db",{"title":268,"_path":269},"Kubernetes","/gists/kubernetes",{"title":271,"_path":272},"Makefile","/gists/makefile",{"title":274,"_path":275},"Markdown Inline Style","/gists/markdown-nice",{"title":277,"_path":278},"减小页面快照体积","/gists/minify-html",{"title":280,"_path":281},"mklink","/gists/mklink",{"title":283,"_path":284},"Mock","/gists/mock",{"title":286,"_path":287},"多人协作系统","/gists/multiplayer",{"title":289,"_path":290},"多端应用","/gists/multy-end-app",{"title":292,"_path":293},"神经科学","/gists/neuroscience",{"title":295,"_path":296},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":298,"_path":299},"PInvoke","/gists/pinvoke",{"title":301,"_path":302},"像素","/gists/pixel",{"title":304,"_path":305},"PowerShell","/gists/powershell",{"title":307,"_path":308},"量子","/gists/quantum",{"title":310,"_path":311},"保持好奇心","/gists/questions",{"title":313,"_path":314},"React Native","/gists/react-native",{"title":316,"_path":317},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":319,"_path":320},"SEO","/gists/seo",{"title":322,"_path":323},"Shader","/gists/shader",{"title":325,"_path":326},"Shape Up","/gists/shape-up",{"title":328,"_path":329},"睡觉","/gists/sleep",{"title":331,"_path":332},"记录奇怪的问题","/gists/solved",{"title":334,"_path":335},"States","/gists/states",{"title":337,"_path":338},"Storage","/gists/storage",{"title":340,"_path":341},"音视频流处理","/gists/stream-cli",{"title":343,"_path":344},"Symbol","/gists/symbol",{"title":346,"_path":347},"系统论","/gists/systems-theory",{"title":349,"_path":350},"任务切片","/gists/task-slice",{"title":352,"_path":353},"技术偏好","/gists/tech-dudge",{"title":355,"_path":356},"Untitled","/gists/untitled",{"title":358,"_path":359},"可变字体","/gists/variable-font",{"title":361,"_path":362},"视觉错觉","/gists/visual-illusion",{"title":364,"_path":365},"SS(SSR)","/gists/vpn",{"title":367,"_path":368},"VS Code 插件开发","/gists/vscode-plugin",{"title":370,"_path":371},"Web Components","/gists/web-components",{"title":373,"_path":374},"Windows","/gists/windows",{"title":376,"_path":377},"查缺补漏","/gists/wrong",{"title":379,"_path":380,"children":381},"我 / About","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"_path":385,"_dir":386,"_draft":387,"_partial":388,"_locale":389,"title":390,"description":391,"body":392,"_type":3896,"_id":3897,"_source":1142,"_file":3898,"_stem":3899,"_extension":3900},"/source-code/_js/vue2-source/scoped-css","vue2-source",false,true,"","Vue2 Scoped CSS","deprecated warning",{"type":393,"children":394,"toc":3888},"root",[395,428,434,470,714,735,744,749,755,776,1318,1330,1384,1397,1402,1409,1430,1589,1594,1621,1813,1833,2116,2123,2151,2423,2444,2463,2468,2585,2590,2988,3001,3216,3221,3258,3463,3483,3833,3846,3878,3883],{"type":396,"tag":397,"props":398,"children":399},"element","p",{},[400,403,410,412,418,420,426],{"type":401,"value":402},"text","使用 VueJS 开发应用离不开模块拆分，即将大块界面拆解为组件的过程。我们可以很方便的在单文件中使用",{"type":396,"tag":404,"props":405,"children":407},"code",{"className":406},[],[408],{"type":401,"value":409},"\u003Ctemplate>",{"type":401,"value":411},"块维护组件的视图，使用",{"type":396,"tag":404,"props":413,"children":415},{"className":414},[],[416],{"type":401,"value":417},"\u003Cscript>",{"type":401,"value":419},"维护组件的逻辑部分，使用",{"type":396,"tag":404,"props":421,"children":423},{"className":422},[],[424],{"type":401,"value":425},"\u003Cstyle>",{"type":401,"value":427},"维护组件的样式。在我们编写 VueJS 组件样式时，不得忽略的一点就是如何防止以及反制样式污染。",{"type":396,"tag":429,"props":430,"children":432},"h2",{"id":431},"样式污染产生原因",[433],{"type":401,"value":431},{"type":396,"tag":397,"props":435,"children":436},{},[437,439,445,447,453,455,468],{"type":401,"value":438},"提及样式污染，主要要追溯到",{"type":396,"tag":404,"props":440,"children":442},{"className":441},[],[443],{"type":401,"value":444},"webpack",{"type":401,"value":446},"对",{"type":396,"tag":404,"props":448,"children":450},{"className":449},[],[451],{"type":401,"value":452},"CSS",{"type":401,"value":454},"文件的打包过程，这里我们以",{"type":396,"tag":456,"props":457,"children":461},"a",{"href":458,"rel":459},"https://github.com/PanJiaChen/vue-element-admin",[460],"nofollow",[462],{"type":396,"tag":404,"props":463,"children":465},{"className":464},[],[466],{"type":401,"value":467},"Vue-Element-Admin",{"type":401,"value":469},"中的 webpack 配置项举例：",{"type":396,"tag":471,"props":472,"children":476},"pre",{"className":473,"code":474,"language":475,"meta":389,"style":389},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const webpackConfig = merge(baseWebpackConfig, {\n    plugins: [\n        new MiniCssExtractPlugin({\n          filename: utils.assetsPath('css/[name].[contenthash:8].css'),\n          chunkFilename: utils.assetsPath('css/[name].[contenthash:8].css')\n        }),\n    ]\n})\n","js",[477],{"type":396,"tag":404,"props":478,"children":479},{"__ignoreMap":389},[480,527,547,571,629,675,692,701],{"type":396,"tag":481,"props":482,"children":485},"span",{"class":483,"line":484},"line",1,[486,492,498,504,510,516,522],{"type":396,"tag":481,"props":487,"children":489},{"style":488},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[490],{"type":401,"value":491},"const",{"type":396,"tag":481,"props":493,"children":495},{"style":494},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[496],{"type":401,"value":497}," webpackConfig",{"type":396,"tag":481,"props":499,"children":501},{"style":500},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[502],{"type":401,"value":503}," =",{"type":396,"tag":481,"props":505,"children":507},{"style":506},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[508],{"type":401,"value":509}," merge",{"type":396,"tag":481,"props":511,"children":513},{"style":512},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[514],{"type":401,"value":515},"(baseWebpackConfig",{"type":396,"tag":481,"props":517,"children":519},{"style":518},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[520],{"type":401,"value":521},",",{"type":396,"tag":481,"props":523,"children":524},{"style":518},[525],{"type":401,"value":526}," {\n",{"type":396,"tag":481,"props":528,"children":530},{"class":483,"line":529},2,[531,537,542],{"type":396,"tag":481,"props":532,"children":534},{"style":533},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[535],{"type":401,"value":536},"    plugins",{"type":396,"tag":481,"props":538,"children":539},{"style":518},[540],{"type":401,"value":541},":",{"type":396,"tag":481,"props":543,"children":544},{"style":512},[545],{"type":401,"value":546}," [\n",{"type":396,"tag":481,"props":548,"children":550},{"class":483,"line":549},3,[551,556,561,566],{"type":396,"tag":481,"props":552,"children":553},{"style":500},[554],{"type":401,"value":555},"        new",{"type":396,"tag":481,"props":557,"children":558},{"style":506},[559],{"type":401,"value":560}," MiniCssExtractPlugin",{"type":396,"tag":481,"props":562,"children":563},{"style":512},[564],{"type":401,"value":565},"(",{"type":396,"tag":481,"props":567,"children":568},{"style":518},[569],{"type":401,"value":570},"{\n",{"type":396,"tag":481,"props":572,"children":574},{"class":483,"line":573},4,[575,580,584,589,594,599,603,609,615,619,624],{"type":396,"tag":481,"props":576,"children":577},{"style":533},[578],{"type":401,"value":579},"          filename",{"type":396,"tag":481,"props":581,"children":582},{"style":518},[583],{"type":401,"value":541},{"type":396,"tag":481,"props":585,"children":586},{"style":512},[587],{"type":401,"value":588}," utils",{"type":396,"tag":481,"props":590,"children":591},{"style":518},[592],{"type":401,"value":593},".",{"type":396,"tag":481,"props":595,"children":596},{"style":506},[597],{"type":401,"value":598},"assetsPath",{"type":396,"tag":481,"props":600,"children":601},{"style":512},[602],{"type":401,"value":565},{"type":396,"tag":481,"props":604,"children":606},{"style":605},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[607],{"type":401,"value":608},"'",{"type":396,"tag":481,"props":610,"children":612},{"style":611},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[613],{"type":401,"value":614},"css/[name].[contenthash:8].css",{"type":396,"tag":481,"props":616,"children":617},{"style":605},[618],{"type":401,"value":608},{"type":396,"tag":481,"props":620,"children":621},{"style":512},[622],{"type":401,"value":623},")",{"type":396,"tag":481,"props":625,"children":626},{"style":518},[627],{"type":401,"value":628},",\n",{"type":396,"tag":481,"props":630,"children":632},{"class":483,"line":631},5,[633,638,642,646,650,654,658,662,666,670],{"type":396,"tag":481,"props":634,"children":635},{"style":533},[636],{"type":401,"value":637},"          chunkFilename",{"type":396,"tag":481,"props":639,"children":640},{"style":518},[641],{"type":401,"value":541},{"type":396,"tag":481,"props":643,"children":644},{"style":512},[645],{"type":401,"value":588},{"type":396,"tag":481,"props":647,"children":648},{"style":518},[649],{"type":401,"value":593},{"type":396,"tag":481,"props":651,"children":652},{"style":506},[653],{"type":401,"value":598},{"type":396,"tag":481,"props":655,"children":656},{"style":512},[657],{"type":401,"value":565},{"type":396,"tag":481,"props":659,"children":660},{"style":605},[661],{"type":401,"value":608},{"type":396,"tag":481,"props":663,"children":664},{"style":611},[665],{"type":401,"value":614},{"type":396,"tag":481,"props":667,"children":668},{"style":605},[669],{"type":401,"value":608},{"type":396,"tag":481,"props":671,"children":672},{"style":512},[673],{"type":401,"value":674},")\n",{"type":396,"tag":481,"props":676,"children":678},{"class":483,"line":677},6,[679,684,688],{"type":396,"tag":481,"props":680,"children":681},{"style":518},[682],{"type":401,"value":683},"        }",{"type":396,"tag":481,"props":685,"children":686},{"style":512},[687],{"type":401,"value":623},{"type":396,"tag":481,"props":689,"children":690},{"style":518},[691],{"type":401,"value":628},{"type":396,"tag":481,"props":693,"children":695},{"class":483,"line":694},7,[696],{"type":396,"tag":481,"props":697,"children":698},{"style":512},[699],{"type":401,"value":700},"    ]\n",{"type":396,"tag":481,"props":702,"children":704},{"class":483,"line":703},8,[705,710],{"type":396,"tag":481,"props":706,"children":707},{"style":518},[708],{"type":401,"value":709},"}",{"type":396,"tag":481,"props":711,"children":712},{"style":512},[713],{"type":401,"value":674},{"type":396,"tag":397,"props":715,"children":716},{},[717,719,725,727,733],{"type":401,"value":718},"webpack 使用 ",{"type":396,"tag":404,"props":720,"children":722},{"className":721},[],[723],{"type":401,"value":724},"MiniCssExtractPlugin",{"type":401,"value":726}," 插件，将文件(如 Vue 单文件组件)中的 CSS 代码，经过处理后，分离到形如",{"type":396,"tag":404,"props":728,"children":730},{"className":729},[],[731],{"type":401,"value":732},"app.hash1234.css",{"type":401,"value":734},"的单独的 CSS 文件：",{"type":396,"tag":397,"props":736,"children":737},{},[738],{"type":396,"tag":739,"props":740,"children":743},"img",{"alt":741,"src":742},"单独的CSS文件","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/scoped-css/browser_fYMdZDAMsI.png",[],{"type":396,"tag":397,"props":745,"children":746},{},[747],{"type":401,"value":748},"如果没有加入防止样式污染的措施的同时，项目中存在了大量的同名 ClassName，那么可能会产生意想不到的 CSS 选择器权重覆盖。这可能使后文件中某部分选择器权重更高的类影响整个应用，而此过程通常发生在组件的编写中，所以一般称之为组件样式污染。",{"type":396,"tag":429,"props":750,"children":752},{"id":751},"webpack-vue-sfc-object",[753],{"type":401,"value":754},"webpack & Vue SFC Object",{"type":396,"tag":397,"props":756,"children":757},{},[758,760,766,768,774],{"type":401,"value":759},"对于 Vue 项目而言，使用 webpack 将极大的优化了工作流程，因为通过",{"type":396,"tag":404,"props":761,"children":763},{"className":762},[],[764],{"type":401,"value":765},"Vue Loader",{"type":401,"value":767},"，Vue 单文件组件能很好的融合进 webpack 工作流中。我们写的单文件组件都被处理为了",{"type":396,"tag":404,"props":769,"children":771},{"className":770},[],[772],{"type":401,"value":773},"SFC对象",{"type":401,"value":775},"，即包含了单个 HTML 模块，单个脚本模块，一个或多个样式模块，一个或多个自定义模块的对象：",{"type":396,"tag":471,"props":777,"children":779},{"className":473,"code":778,"language":475,"meta":389,"style":389},"// vue-loader/index.js\nconst descriptor = parse({\n  source,\n  compiler: options.compiler || loadTemplateCompiler(),\n  filename,\n  sourceRoot,\n  needMap: sourceMap,\n});\n\n// vuejs/component-compiler-utils/index.js\nfunction parse(options) {\n  const { compiler } = options;\n  output = compiler.parseComponent(source, compilerParseOptions);\n  return output;\n}\n\n// vue.js\nfunction parseComponent(content, options) {\n  // ...\n  var sfc = {\n    template: null,\n    script: null,\n    styles: [],\n    customBlocks: [],\n  };\n  // ...\n  return sfc;\n}\n",[780],{"type":396,"tag":404,"props":781,"children":782},{"__ignoreMap":389},[783,792,821,833,878,890,902,923,939,948,957,988,1024,1076,1095,1104,1112,1121,1159,1168,1190,1213,1234,1256,1277,1286,1294,1310],{"type":396,"tag":481,"props":784,"children":785},{"class":483,"line":484},[786],{"type":396,"tag":481,"props":787,"children":789},{"style":788},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[790],{"type":401,"value":791},"// vue-loader/index.js\n",{"type":396,"tag":481,"props":793,"children":794},{"class":483,"line":529},[795,799,804,808,813,817],{"type":396,"tag":481,"props":796,"children":797},{"style":488},[798],{"type":401,"value":491},{"type":396,"tag":481,"props":800,"children":801},{"style":494},[802],{"type":401,"value":803}," descriptor",{"type":396,"tag":481,"props":805,"children":806},{"style":500},[807],{"type":401,"value":503},{"type":396,"tag":481,"props":809,"children":810},{"style":506},[811],{"type":401,"value":812}," parse",{"type":396,"tag":481,"props":814,"children":815},{"style":512},[816],{"type":401,"value":565},{"type":396,"tag":481,"props":818,"children":819},{"style":518},[820],{"type":401,"value":570},{"type":396,"tag":481,"props":822,"children":823},{"class":483,"line":549},[824,829],{"type":396,"tag":481,"props":825,"children":826},{"style":512},[827],{"type":401,"value":828},"  source",{"type":396,"tag":481,"props":830,"children":831},{"style":518},[832],{"type":401,"value":628},{"type":396,"tag":481,"props":834,"children":835},{"class":483,"line":573},[836,841,845,850,854,859,864,869,874],{"type":396,"tag":481,"props":837,"children":838},{"style":533},[839],{"type":401,"value":840},"  compiler",{"type":396,"tag":481,"props":842,"children":843},{"style":518},[844],{"type":401,"value":541},{"type":396,"tag":481,"props":846,"children":847},{"style":512},[848],{"type":401,"value":849}," options",{"type":396,"tag":481,"props":851,"children":852},{"style":518},[853],{"type":401,"value":593},{"type":396,"tag":481,"props":855,"children":856},{"style":512},[857],{"type":401,"value":858},"compiler ",{"type":396,"tag":481,"props":860,"children":861},{"style":500},[862],{"type":401,"value":863},"||",{"type":396,"tag":481,"props":865,"children":866},{"style":506},[867],{"type":401,"value":868}," loadTemplateCompiler",{"type":396,"tag":481,"props":870,"children":871},{"style":512},[872],{"type":401,"value":873},"()",{"type":396,"tag":481,"props":875,"children":876},{"style":518},[877],{"type":401,"value":628},{"type":396,"tag":481,"props":879,"children":880},{"class":483,"line":631},[881,886],{"type":396,"tag":481,"props":882,"children":883},{"style":512},[884],{"type":401,"value":885},"  filename",{"type":396,"tag":481,"props":887,"children":888},{"style":518},[889],{"type":401,"value":628},{"type":396,"tag":481,"props":891,"children":892},{"class":483,"line":677},[893,898],{"type":396,"tag":481,"props":894,"children":895},{"style":512},[896],{"type":401,"value":897},"  sourceRoot",{"type":396,"tag":481,"props":899,"children":900},{"style":518},[901],{"type":401,"value":628},{"type":396,"tag":481,"props":903,"children":904},{"class":483,"line":694},[905,910,914,919],{"type":396,"tag":481,"props":906,"children":907},{"style":533},[908],{"type":401,"value":909},"  needMap",{"type":396,"tag":481,"props":911,"children":912},{"style":518},[913],{"type":401,"value":541},{"type":396,"tag":481,"props":915,"children":916},{"style":512},[917],{"type":401,"value":918}," sourceMap",{"type":396,"tag":481,"props":920,"children":921},{"style":518},[922],{"type":401,"value":628},{"type":396,"tag":481,"props":924,"children":925},{"class":483,"line":703},[926,930,934],{"type":396,"tag":481,"props":927,"children":928},{"style":518},[929],{"type":401,"value":709},{"type":396,"tag":481,"props":931,"children":932},{"style":512},[933],{"type":401,"value":623},{"type":396,"tag":481,"props":935,"children":936},{"style":518},[937],{"type":401,"value":938},";\n",{"type":396,"tag":481,"props":940,"children":942},{"class":483,"line":941},9,[943],{"type":396,"tag":481,"props":944,"children":945},{"emptyLinePlaceholder":388},[946],{"type":401,"value":947},"\n",{"type":396,"tag":481,"props":949,"children":951},{"class":483,"line":950},10,[952],{"type":396,"tag":481,"props":953,"children":954},{"style":788},[955],{"type":401,"value":956},"// vuejs/component-compiler-utils/index.js\n",{"type":396,"tag":481,"props":958,"children":960},{"class":483,"line":959},11,[961,966,970,974,980,984],{"type":396,"tag":481,"props":962,"children":963},{"style":488},[964],{"type":401,"value":965},"function",{"type":396,"tag":481,"props":967,"children":968},{"style":506},[969],{"type":401,"value":812},{"type":396,"tag":481,"props":971,"children":972},{"style":518},[973],{"type":401,"value":565},{"type":396,"tag":481,"props":975,"children":977},{"style":976},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[978],{"type":401,"value":979},"options",{"type":396,"tag":481,"props":981,"children":982},{"style":518},[983],{"type":401,"value":623},{"type":396,"tag":481,"props":985,"children":986},{"style":518},[987],{"type":401,"value":526},{"type":396,"tag":481,"props":989,"children":991},{"class":483,"line":990},12,[992,997,1002,1007,1012,1016,1020],{"type":396,"tag":481,"props":993,"children":994},{"style":488},[995],{"type":401,"value":996},"  const",{"type":396,"tag":481,"props":998,"children":999},{"style":518},[1000],{"type":401,"value":1001}," {",{"type":396,"tag":481,"props":1003,"children":1004},{"style":494},[1005],{"type":401,"value":1006}," compiler",{"type":396,"tag":481,"props":1008,"children":1009},{"style":518},[1010],{"type":401,"value":1011}," }",{"type":396,"tag":481,"props":1013,"children":1014},{"style":500},[1015],{"type":401,"value":503},{"type":396,"tag":481,"props":1017,"children":1018},{"style":512},[1019],{"type":401,"value":849},{"type":396,"tag":481,"props":1021,"children":1022},{"style":518},[1023],{"type":401,"value":938},{"type":396,"tag":481,"props":1025,"children":1027},{"class":483,"line":1026},13,[1028,1033,1037,1041,1045,1050,1054,1059,1063,1068,1072],{"type":396,"tag":481,"props":1029,"children":1030},{"style":512},[1031],{"type":401,"value":1032},"  output",{"type":396,"tag":481,"props":1034,"children":1035},{"style":500},[1036],{"type":401,"value":503},{"type":396,"tag":481,"props":1038,"children":1039},{"style":512},[1040],{"type":401,"value":1006},{"type":396,"tag":481,"props":1042,"children":1043},{"style":518},[1044],{"type":401,"value":593},{"type":396,"tag":481,"props":1046,"children":1047},{"style":506},[1048],{"type":401,"value":1049},"parseComponent",{"type":396,"tag":481,"props":1051,"children":1052},{"style":533},[1053],{"type":401,"value":565},{"type":396,"tag":481,"props":1055,"children":1056},{"style":512},[1057],{"type":401,"value":1058},"source",{"type":396,"tag":481,"props":1060,"children":1061},{"style":518},[1062],{"type":401,"value":521},{"type":396,"tag":481,"props":1064,"children":1065},{"style":512},[1066],{"type":401,"value":1067}," compilerParseOptions",{"type":396,"tag":481,"props":1069,"children":1070},{"style":533},[1071],{"type":401,"value":623},{"type":396,"tag":481,"props":1073,"children":1074},{"style":518},[1075],{"type":401,"value":938},{"type":396,"tag":481,"props":1077,"children":1079},{"class":483,"line":1078},14,[1080,1086,1091],{"type":396,"tag":481,"props":1081,"children":1083},{"style":1082},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1084],{"type":401,"value":1085},"  return",{"type":396,"tag":481,"props":1087,"children":1088},{"style":512},[1089],{"type":401,"value":1090}," output",{"type":396,"tag":481,"props":1092,"children":1093},{"style":518},[1094],{"type":401,"value":938},{"type":396,"tag":481,"props":1096,"children":1098},{"class":483,"line":1097},15,[1099],{"type":396,"tag":481,"props":1100,"children":1101},{"style":518},[1102],{"type":401,"value":1103},"}\n",{"type":396,"tag":481,"props":1105,"children":1107},{"class":483,"line":1106},16,[1108],{"type":396,"tag":481,"props":1109,"children":1110},{"emptyLinePlaceholder":388},[1111],{"type":401,"value":947},{"type":396,"tag":481,"props":1113,"children":1115},{"class":483,"line":1114},17,[1116],{"type":396,"tag":481,"props":1117,"children":1118},{"style":788},[1119],{"type":401,"value":1120},"// vue.js\n",{"type":396,"tag":481,"props":1122,"children":1124},{"class":483,"line":1123},18,[1125,1129,1134,1138,1143,1147,1151,1155],{"type":396,"tag":481,"props":1126,"children":1127},{"style":488},[1128],{"type":401,"value":965},{"type":396,"tag":481,"props":1130,"children":1131},{"style":506},[1132],{"type":401,"value":1133}," parseComponent",{"type":396,"tag":481,"props":1135,"children":1136},{"style":518},[1137],{"type":401,"value":565},{"type":396,"tag":481,"props":1139,"children":1140},{"style":976},[1141],{"type":401,"value":1142},"content",{"type":396,"tag":481,"props":1144,"children":1145},{"style":518},[1146],{"type":401,"value":521},{"type":396,"tag":481,"props":1148,"children":1149},{"style":976},[1150],{"type":401,"value":849},{"type":396,"tag":481,"props":1152,"children":1153},{"style":518},[1154],{"type":401,"value":623},{"type":396,"tag":481,"props":1156,"children":1157},{"style":518},[1158],{"type":401,"value":526},{"type":396,"tag":481,"props":1160,"children":1162},{"class":483,"line":1161},19,[1163],{"type":396,"tag":481,"props":1164,"children":1165},{"style":788},[1166],{"type":401,"value":1167},"  // ...\n",{"type":396,"tag":481,"props":1169,"children":1171},{"class":483,"line":1170},20,[1172,1177,1182,1186],{"type":396,"tag":481,"props":1173,"children":1174},{"style":488},[1175],{"type":401,"value":1176},"  var",{"type":396,"tag":481,"props":1178,"children":1179},{"style":512},[1180],{"type":401,"value":1181}," sfc",{"type":396,"tag":481,"props":1183,"children":1184},{"style":500},[1185],{"type":401,"value":503},{"type":396,"tag":481,"props":1187,"children":1188},{"style":518},[1189],{"type":401,"value":526},{"type":396,"tag":481,"props":1191,"children":1193},{"class":483,"line":1192},21,[1194,1199,1203,1209],{"type":396,"tag":481,"props":1195,"children":1196},{"style":533},[1197],{"type":401,"value":1198},"    template",{"type":396,"tag":481,"props":1200,"children":1201},{"style":518},[1202],{"type":401,"value":541},{"type":396,"tag":481,"props":1204,"children":1206},{"style":1205},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1207],{"type":401,"value":1208}," null",{"type":396,"tag":481,"props":1210,"children":1211},{"style":518},[1212],{"type":401,"value":628},{"type":396,"tag":481,"props":1214,"children":1216},{"class":483,"line":1215},22,[1217,1222,1226,1230],{"type":396,"tag":481,"props":1218,"children":1219},{"style":533},[1220],{"type":401,"value":1221},"    script",{"type":396,"tag":481,"props":1223,"children":1224},{"style":518},[1225],{"type":401,"value":541},{"type":396,"tag":481,"props":1227,"children":1228},{"style":1205},[1229],{"type":401,"value":1208},{"type":396,"tag":481,"props":1231,"children":1232},{"style":518},[1233],{"type":401,"value":628},{"type":396,"tag":481,"props":1235,"children":1237},{"class":483,"line":1236},23,[1238,1243,1247,1252],{"type":396,"tag":481,"props":1239,"children":1240},{"style":533},[1241],{"type":401,"value":1242},"    styles",{"type":396,"tag":481,"props":1244,"children":1245},{"style":518},[1246],{"type":401,"value":541},{"type":396,"tag":481,"props":1248,"children":1249},{"style":533},[1250],{"type":401,"value":1251}," []",{"type":396,"tag":481,"props":1253,"children":1254},{"style":518},[1255],{"type":401,"value":628},{"type":396,"tag":481,"props":1257,"children":1259},{"class":483,"line":1258},24,[1260,1265,1269,1273],{"type":396,"tag":481,"props":1261,"children":1262},{"style":533},[1263],{"type":401,"value":1264},"    customBlocks",{"type":396,"tag":481,"props":1266,"children":1267},{"style":518},[1268],{"type":401,"value":541},{"type":396,"tag":481,"props":1270,"children":1271},{"style":533},[1272],{"type":401,"value":1251},{"type":396,"tag":481,"props":1274,"children":1275},{"style":518},[1276],{"type":401,"value":628},{"type":396,"tag":481,"props":1278,"children":1280},{"class":483,"line":1279},25,[1281],{"type":396,"tag":481,"props":1282,"children":1283},{"style":518},[1284],{"type":401,"value":1285},"  };\n",{"type":396,"tag":481,"props":1287,"children":1289},{"class":483,"line":1288},26,[1290],{"type":396,"tag":481,"props":1291,"children":1292},{"style":788},[1293],{"type":401,"value":1167},{"type":396,"tag":481,"props":1295,"children":1297},{"class":483,"line":1296},27,[1298,1302,1306],{"type":396,"tag":481,"props":1299,"children":1300},{"style":1082},[1301],{"type":401,"value":1085},{"type":396,"tag":481,"props":1303,"children":1304},{"style":512},[1305],{"type":401,"value":1181},{"type":396,"tag":481,"props":1307,"children":1308},{"style":518},[1309],{"type":401,"value":938},{"type":396,"tag":481,"props":1311,"children":1313},{"class":483,"line":1312},28,[1314],{"type":396,"tag":481,"props":1315,"children":1316},{"style":518},[1317],{"type":401,"value":1103},{"type":396,"tag":397,"props":1319,"children":1320},{},[1321,1323,1328],{"type":401,"value":1322},"我们可以将 SFC 结构融合到",{"type":396,"tag":404,"props":1324,"children":1326},{"className":1325},[],[1327],{"type":401,"value":444},{"type":401,"value":1329},"进行开发的过程成中，主要有这几点影响：",{"type":396,"tag":1331,"props":1332,"children":1333},"ul",{},[1334,1355,1374,1379],{"type":396,"tag":1335,"props":1336,"children":1337},"li",{},[1338,1340,1345,1347,1353],{"type":401,"value":1339},"允许为 Vue 组件的每个部分使用其它的 webpack loader，例如在",{"type":396,"tag":404,"props":1341,"children":1343},{"className":1342},[],[1344],{"type":401,"value":425},{"type":401,"value":1346},"的部分使用 Sass Loader ，在 ",{"type":396,"tag":404,"props":1348,"children":1350},{"className":1349},[],[1351],{"type":401,"value":1352},"\u003CcustomBlocks>",{"type":401,"value":1354},"的部分使用自定义 Loader",{"type":396,"tag":1335,"props":1356,"children":1357},{},[1358,1360,1365,1367,1372],{"type":401,"value":1359},"使用 webpack loader 将 ",{"type":396,"tag":404,"props":1361,"children":1363},{"className":1362},[],[1364],{"type":401,"value":425},{"type":401,"value":1366},"和 ",{"type":396,"tag":404,"props":1368,"children":1370},{"className":1369},[],[1371],{"type":401,"value":409},{"type":401,"value":1373}," 中引用的资源当作模块依赖来处理",{"type":396,"tag":1335,"props":1375,"children":1376},{},[1377],{"type":401,"value":1378},"模拟 Scoped CSS",{"type":396,"tag":1335,"props":1380,"children":1381},{},[1382],{"type":401,"value":1383},"在开发过程中使用热重载来保持状态",{"type":396,"tag":397,"props":1385,"children":1386},{},[1387,1389,1395],{"type":401,"value":1388},"以下主要介绍",{"type":396,"tag":404,"props":1390,"children":1392},{"className":1391},[],[1393],{"type":401,"value":1394},"Scoped CSS",{"type":401,"value":1396},"的原理。",{"type":396,"tag":429,"props":1398,"children":1400},{"id":1399},"scoped-css",[1401],{"type":401,"value":1394},{"type":396,"tag":1403,"props":1404,"children":1406},"h3",{"id":1405},"大白话版本之-scoped-css-原理",[1407],{"type":401,"value":1408},"大白话版本之 Scoped CSS 原理",{"type":396,"tag":397,"props":1410,"children":1411},{},[1412,1414,1420,1422,1428],{"type":401,"value":1413},"通过 webpack 调用 VueJS 中相应 Loader，给组件 HTML 模板添加自定义属性 (Attribute) ",{"type":396,"tag":404,"props":1415,"children":1417},{"className":1416},[],[1418],{"type":401,"value":1419},"data-v-x",{"type":401,"value":1421},"，以及给组件内 CSS 选择器添加对应的属性选择器 (Attribute Selector) ",{"type":396,"tag":404,"props":1423,"children":1425},{"className":1424},[],[1426],{"type":401,"value":1427},"[data-v-x]",{"type":401,"value":1429},"，达到组件内样式只能生效与组件内 HTML 的效果，代码效果如下：",{"type":396,"tag":471,"props":1431,"children":1435},{"className":1432,"code":1433,"language":1434,"meta":389,"style":389},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cdiv class='lionad' data-v-lionad>\u003C/div>\n\u003Cstyle>\n.lionad[data-v-lionad] {\n  background: @tiger-orange;\n}\n\u003C/style>\n","html",[1436],{"type":396,"tag":404,"props":1437,"children":1438},{"__ignoreMap":389},[1439,1496,1512,1544,1566,1573],{"type":396,"tag":481,"props":1440,"children":1441},{"class":483,"line":484},[1442,1447,1453,1459,1464,1468,1473,1477,1482,1487,1491],{"type":396,"tag":481,"props":1443,"children":1444},{"style":518},[1445],{"type":401,"value":1446},"\u003C",{"type":396,"tag":481,"props":1448,"children":1450},{"style":1449},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1451],{"type":401,"value":1452},"div",{"type":396,"tag":481,"props":1454,"children":1456},{"style":1455},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1457],{"type":401,"value":1458}," class",{"type":396,"tag":481,"props":1460,"children":1461},{"style":518},[1462],{"type":401,"value":1463},"=",{"type":396,"tag":481,"props":1465,"children":1466},{"style":605},[1467],{"type":401,"value":608},{"type":396,"tag":481,"props":1469,"children":1470},{"style":611},[1471],{"type":401,"value":1472},"lionad",{"type":396,"tag":481,"props":1474,"children":1475},{"style":605},[1476],{"type":401,"value":608},{"type":396,"tag":481,"props":1478,"children":1479},{"style":1455},[1480],{"type":401,"value":1481}," data-v-lionad",{"type":396,"tag":481,"props":1483,"children":1484},{"style":518},[1485],{"type":401,"value":1486},">\u003C/",{"type":396,"tag":481,"props":1488,"children":1489},{"style":1449},[1490],{"type":401,"value":1452},{"type":396,"tag":481,"props":1492,"children":1493},{"style":518},[1494],{"type":401,"value":1495},">\n",{"type":396,"tag":481,"props":1497,"children":1498},{"class":483,"line":529},[1499,1503,1508],{"type":396,"tag":481,"props":1500,"children":1501},{"style":518},[1502],{"type":401,"value":1446},{"type":396,"tag":481,"props":1504,"children":1505},{"style":1449},[1506],{"type":401,"value":1507},"style",{"type":396,"tag":481,"props":1509,"children":1510},{"style":518},[1511],{"type":401,"value":1495},{"type":396,"tag":481,"props":1513,"children":1514},{"class":483,"line":549},[1515,1520,1525,1530,1535,1540],{"type":396,"tag":481,"props":1516,"children":1518},{"style":1517},"--shiki-light:#39ADB5;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1519],{"type":401,"value":593},{"type":396,"tag":481,"props":1521,"children":1523},{"style":1522},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1524],{"type":401,"value":1472},{"type":396,"tag":481,"props":1526,"children":1527},{"style":518},[1528],{"type":401,"value":1529},"[",{"type":396,"tag":481,"props":1531,"children":1532},{"style":1455},[1533],{"type":401,"value":1534},"data-v-lionad",{"type":396,"tag":481,"props":1536,"children":1537},{"style":518},[1538],{"type":401,"value":1539},"]",{"type":396,"tag":481,"props":1541,"children":1542},{"style":518},[1543],{"type":401,"value":526},{"type":396,"tag":481,"props":1545,"children":1546},{"class":483,"line":573},[1547,1553,1557,1562],{"type":396,"tag":481,"props":1548,"children":1550},{"style":1549},"--shiki-light:#8796B0;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1551],{"type":401,"value":1552},"  background",{"type":396,"tag":481,"props":1554,"children":1555},{"style":518},[1556],{"type":401,"value":541},{"type":396,"tag":481,"props":1558,"children":1559},{"style":512},[1560],{"type":401,"value":1561}," @tiger-orange",{"type":396,"tag":481,"props":1563,"children":1564},{"style":518},[1565],{"type":401,"value":938},{"type":396,"tag":481,"props":1567,"children":1568},{"class":483,"line":631},[1569],{"type":396,"tag":481,"props":1570,"children":1571},{"style":518},[1572],{"type":401,"value":1103},{"type":396,"tag":481,"props":1574,"children":1575},{"class":483,"line":677},[1576,1581,1585],{"type":396,"tag":481,"props":1577,"children":1578},{"style":518},[1579],{"type":401,"value":1580},"\u003C/",{"type":396,"tag":481,"props":1582,"children":1583},{"style":1449},[1584],{"type":401,"value":1507},{"type":396,"tag":481,"props":1586,"children":1587},{"style":518},[1588],{"type":401,"value":1495},{"type":396,"tag":1403,"props":1590,"children":1592},{"id":1591},"源码跟踪",[1593],{"type":401,"value":1591},{"type":396,"tag":397,"props":1595,"children":1596},{},[1597,1599,1604,1606,1611,1613,1619],{"type":401,"value":1598},"webpack 使用其它 CSS Loader 处理 VueJS 中对应 CSS 代码之前，",{"type":396,"tag":404,"props":1600,"children":1602},{"className":1601},[],[1603],{"type":401,"value":765},{"type":401,"value":1605}," 已经替我们做了一层简单的处理，如果组件中 ",{"type":396,"tag":404,"props":1607,"children":1609},{"className":1608},[],[1610],{"type":401,"value":1507},{"type":401,"value":1612}," 块包含了 ",{"type":396,"tag":404,"props":1614,"children":1616},{"className":1615},[],[1617],{"type":401,"value":1618},"scoped",{"type":401,"value":1620}," 属性：",{"type":396,"tag":471,"props":1622,"children":1624},{"className":1432,"code":1623,"language":1434,"meta":389,"style":389},"\u003C!-- 某个VueJS组件中 -->\n\u003Ctemplate>\n    \u003Cdiv class='lionad'>\u003C/div>\n\u003C/template>\n\u003Cstyle lang=\"scss\" scoped>\n    .lionad {\n        background: @tiger-orange;\n    }\n\u003C/style>\n",[1625],{"type":396,"tag":404,"props":1626,"children":1627},{"__ignoreMap":389},[1628,1636,1652,1696,1711,1754,1770,1790,1798],{"type":396,"tag":481,"props":1629,"children":1630},{"class":483,"line":484},[1631],{"type":396,"tag":481,"props":1632,"children":1633},{"style":788},[1634],{"type":401,"value":1635},"\u003C!-- 某个VueJS组件中 -->\n",{"type":396,"tag":481,"props":1637,"children":1638},{"class":483,"line":529},[1639,1643,1648],{"type":396,"tag":481,"props":1640,"children":1641},{"style":518},[1642],{"type":401,"value":1446},{"type":396,"tag":481,"props":1644,"children":1645},{"style":1449},[1646],{"type":401,"value":1647},"template",{"type":396,"tag":481,"props":1649,"children":1650},{"style":518},[1651],{"type":401,"value":1495},{"type":396,"tag":481,"props":1653,"children":1654},{"class":483,"line":549},[1655,1660,1664,1668,1672,1676,1680,1684,1688,1692],{"type":396,"tag":481,"props":1656,"children":1657},{"style":518},[1658],{"type":401,"value":1659},"    \u003C",{"type":396,"tag":481,"props":1661,"children":1662},{"style":1449},[1663],{"type":401,"value":1452},{"type":396,"tag":481,"props":1665,"children":1666},{"style":1455},[1667],{"type":401,"value":1458},{"type":396,"tag":481,"props":1669,"children":1670},{"style":518},[1671],{"type":401,"value":1463},{"type":396,"tag":481,"props":1673,"children":1674},{"style":605},[1675],{"type":401,"value":608},{"type":396,"tag":481,"props":1677,"children":1678},{"style":611},[1679],{"type":401,"value":1472},{"type":396,"tag":481,"props":1681,"children":1682},{"style":605},[1683],{"type":401,"value":608},{"type":396,"tag":481,"props":1685,"children":1686},{"style":518},[1687],{"type":401,"value":1486},{"type":396,"tag":481,"props":1689,"children":1690},{"style":1449},[1691],{"type":401,"value":1452},{"type":396,"tag":481,"props":1693,"children":1694},{"style":518},[1695],{"type":401,"value":1495},{"type":396,"tag":481,"props":1697,"children":1698},{"class":483,"line":573},[1699,1703,1707],{"type":396,"tag":481,"props":1700,"children":1701},{"style":518},[1702],{"type":401,"value":1580},{"type":396,"tag":481,"props":1704,"children":1705},{"style":1449},[1706],{"type":401,"value":1647},{"type":396,"tag":481,"props":1708,"children":1709},{"style":518},[1710],{"type":401,"value":1495},{"type":396,"tag":481,"props":1712,"children":1713},{"class":483,"line":631},[1714,1718,1722,1727,1731,1736,1741,1745,1750],{"type":396,"tag":481,"props":1715,"children":1716},{"style":518},[1717],{"type":401,"value":1446},{"type":396,"tag":481,"props":1719,"children":1720},{"style":1449},[1721],{"type":401,"value":1507},{"type":396,"tag":481,"props":1723,"children":1724},{"style":1455},[1725],{"type":401,"value":1726}," lang",{"type":396,"tag":481,"props":1728,"children":1729},{"style":518},[1730],{"type":401,"value":1463},{"type":396,"tag":481,"props":1732,"children":1733},{"style":605},[1734],{"type":401,"value":1735},"\"",{"type":396,"tag":481,"props":1737,"children":1738},{"style":611},[1739],{"type":401,"value":1740},"scss",{"type":396,"tag":481,"props":1742,"children":1743},{"style":605},[1744],{"type":401,"value":1735},{"type":396,"tag":481,"props":1746,"children":1747},{"style":1455},[1748],{"type":401,"value":1749}," scoped",{"type":396,"tag":481,"props":1751,"children":1752},{"style":518},[1753],{"type":401,"value":1495},{"type":396,"tag":481,"props":1755,"children":1756},{"class":483,"line":677},[1757,1762,1766],{"type":396,"tag":481,"props":1758,"children":1759},{"style":1517},[1760],{"type":401,"value":1761},"    .",{"type":396,"tag":481,"props":1763,"children":1764},{"style":1522},[1765],{"type":401,"value":1472},{"type":396,"tag":481,"props":1767,"children":1768},{"style":518},[1769],{"type":401,"value":526},{"type":396,"tag":481,"props":1771,"children":1772},{"class":483,"line":694},[1773,1778,1782,1786],{"type":396,"tag":481,"props":1774,"children":1775},{"style":1549},[1776],{"type":401,"value":1777},"        background",{"type":396,"tag":481,"props":1779,"children":1780},{"style":518},[1781],{"type":401,"value":541},{"type":396,"tag":481,"props":1783,"children":1784},{"style":512},[1785],{"type":401,"value":1561},{"type":396,"tag":481,"props":1787,"children":1788},{"style":518},[1789],{"type":401,"value":938},{"type":396,"tag":481,"props":1791,"children":1792},{"class":483,"line":703},[1793],{"type":396,"tag":481,"props":1794,"children":1795},{"style":518},[1796],{"type":401,"value":1797},"    }\n",{"type":396,"tag":481,"props":1799,"children":1800},{"class":483,"line":941},[1801,1805,1809],{"type":396,"tag":481,"props":1802,"children":1803},{"style":518},[1804],{"type":401,"value":1580},{"type":396,"tag":481,"props":1806,"children":1807},{"style":1449},[1808],{"type":401,"value":1507},{"type":396,"tag":481,"props":1810,"children":1811},{"style":518},[1812],{"type":401,"value":1495},{"type":396,"tag":397,"props":1814,"children":1815},{},[1816,1818,1824,1826,1831],{"type":401,"value":1817},"下代码即判断当前",{"type":396,"tag":404,"props":1819,"children":1821},{"className":1820},[],[1822],{"type":401,"value":1823},"SFC",{"type":401,"value":1825},"对象样式块中是否有",{"type":396,"tag":404,"props":1827,"children":1829},{"className":1828},[],[1830],{"type":401,"value":1618},{"type":401,"value":1832},"属性，并插入用于 query 中，顺带一提，每个单文件组件被解析后，都会生成对应组件 ID，ID 主要以生产/开发环境做区分，通过文件路径+源码或是文件路径的值作为哈希特征值的形式生成，如下：",{"type":396,"tag":471,"props":1834,"children":1836},{"className":473,"code":1835,"language":475,"meta":389,"style":389},"// vue-loader/index.js\nconst id = hash(isProduction  (shortFilePath + '\\n' + source) : shortFilePath)\nconst hasScoped = descriptor.styles.some(s => s.scoped)\nconst query = `? vue&type=template${idQuery}${scopedQuery}`\nconst request = templateRequest = stringifyRequest(src + query)\ntemplateImport = `import { render, staticRenderFns } from ${request}`\n",[1837],{"type":396,"tag":404,"props":1838,"children":1839},{"__ignoreMap":389},[1840,1847,1912,1978,2034,2078],{"type":396,"tag":481,"props":1841,"children":1842},{"class":483,"line":484},[1843],{"type":396,"tag":481,"props":1844,"children":1845},{"style":788},[1846],{"type":401,"value":791},{"type":396,"tag":481,"props":1848,"children":1849},{"class":483,"line":529},[1850,1854,1859,1863,1868,1872,1877,1882,1887,1892,1898,1902,1907],{"type":396,"tag":481,"props":1851,"children":1852},{"style":488},[1853],{"type":401,"value":491},{"type":396,"tag":481,"props":1855,"children":1856},{"style":494},[1857],{"type":401,"value":1858}," id",{"type":396,"tag":481,"props":1860,"children":1861},{"style":500},[1862],{"type":401,"value":503},{"type":396,"tag":481,"props":1864,"children":1865},{"style":506},[1866],{"type":401,"value":1867}," hash",{"type":396,"tag":481,"props":1869,"children":1870},{"style":512},[1871],{"type":401,"value":565},{"type":396,"tag":481,"props":1873,"children":1874},{"style":506},[1875],{"type":401,"value":1876},"isProduction",{"type":396,"tag":481,"props":1878,"children":1879},{"style":512},[1880],{"type":401,"value":1881},"  (shortFilePath ",{"type":396,"tag":481,"props":1883,"children":1884},{"style":500},[1885],{"type":401,"value":1886},"+",{"type":396,"tag":481,"props":1888,"children":1889},{"style":605},[1890],{"type":401,"value":1891}," '",{"type":396,"tag":481,"props":1893,"children":1895},{"style":1894},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1896],{"type":401,"value":1897},"\\n",{"type":396,"tag":481,"props":1899,"children":1900},{"style":605},[1901],{"type":401,"value":608},{"type":396,"tag":481,"props":1903,"children":1904},{"style":500},[1905],{"type":401,"value":1906}," +",{"type":396,"tag":481,"props":1908,"children":1909},{"style":512},[1910],{"type":401,"value":1911}," source) : shortFilePath)\n",{"type":396,"tag":481,"props":1913,"children":1914},{"class":483,"line":549},[1915,1919,1924,1928,1932,1936,1941,1945,1950,1954,1959,1964,1969,1973],{"type":396,"tag":481,"props":1916,"children":1917},{"style":488},[1918],{"type":401,"value":491},{"type":396,"tag":481,"props":1920,"children":1921},{"style":494},[1922],{"type":401,"value":1923}," hasScoped",{"type":396,"tag":481,"props":1925,"children":1926},{"style":500},[1927],{"type":401,"value":503},{"type":396,"tag":481,"props":1929,"children":1930},{"style":512},[1931],{"type":401,"value":803},{"type":396,"tag":481,"props":1933,"children":1934},{"style":518},[1935],{"type":401,"value":593},{"type":396,"tag":481,"props":1937,"children":1938},{"style":512},[1939],{"type":401,"value":1940},"styles",{"type":396,"tag":481,"props":1942,"children":1943},{"style":518},[1944],{"type":401,"value":593},{"type":396,"tag":481,"props":1946,"children":1947},{"style":506},[1948],{"type":401,"value":1949},"some",{"type":396,"tag":481,"props":1951,"children":1952},{"style":512},[1953],{"type":401,"value":565},{"type":396,"tag":481,"props":1955,"children":1956},{"style":976},[1957],{"type":401,"value":1958},"s",{"type":396,"tag":481,"props":1960,"children":1961},{"style":488},[1962],{"type":401,"value":1963}," =>",{"type":396,"tag":481,"props":1965,"children":1966},{"style":512},[1967],{"type":401,"value":1968}," s",{"type":396,"tag":481,"props":1970,"children":1971},{"style":518},[1972],{"type":401,"value":593},{"type":396,"tag":481,"props":1974,"children":1975},{"style":512},[1976],{"type":401,"value":1977},"scoped)\n",{"type":396,"tag":481,"props":1979,"children":1980},{"class":483,"line":573},[1981,1985,1990,1994,1999,2004,2010,2015,2020,2025,2029],{"type":396,"tag":481,"props":1982,"children":1983},{"style":488},[1984],{"type":401,"value":491},{"type":396,"tag":481,"props":1986,"children":1987},{"style":494},[1988],{"type":401,"value":1989}," query",{"type":396,"tag":481,"props":1991,"children":1992},{"style":500},[1993],{"type":401,"value":503},{"type":396,"tag":481,"props":1995,"children":1996},{"style":605},[1997],{"type":401,"value":1998}," `",{"type":396,"tag":481,"props":2000,"children":2001},{"style":611},[2002],{"type":401,"value":2003},"? vue&type=template",{"type":396,"tag":481,"props":2005,"children":2007},{"style":2006},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[2008],{"type":401,"value":2009},"${",{"type":396,"tag":481,"props":2011,"children":2012},{"style":512},[2013],{"type":401,"value":2014},"idQuery",{"type":396,"tag":481,"props":2016,"children":2017},{"style":2006},[2018],{"type":401,"value":2019},"}${",{"type":396,"tag":481,"props":2021,"children":2022},{"style":512},[2023],{"type":401,"value":2024},"scopedQuery",{"type":396,"tag":481,"props":2026,"children":2027},{"style":2006},[2028],{"type":401,"value":709},{"type":396,"tag":481,"props":2030,"children":2031},{"style":605},[2032],{"type":401,"value":2033},"`\n",{"type":396,"tag":481,"props":2035,"children":2036},{"class":483,"line":631},[2037,2041,2046,2050,2055,2059,2064,2069,2073],{"type":396,"tag":481,"props":2038,"children":2039},{"style":488},[2040],{"type":401,"value":491},{"type":396,"tag":481,"props":2042,"children":2043},{"style":494},[2044],{"type":401,"value":2045}," request",{"type":396,"tag":481,"props":2047,"children":2048},{"style":500},[2049],{"type":401,"value":503},{"type":396,"tag":481,"props":2051,"children":2052},{"style":512},[2053],{"type":401,"value":2054}," templateRequest ",{"type":396,"tag":481,"props":2056,"children":2057},{"style":500},[2058],{"type":401,"value":1463},{"type":396,"tag":481,"props":2060,"children":2061},{"style":506},[2062],{"type":401,"value":2063}," stringifyRequest",{"type":396,"tag":481,"props":2065,"children":2066},{"style":512},[2067],{"type":401,"value":2068},"(src ",{"type":396,"tag":481,"props":2070,"children":2071},{"style":500},[2072],{"type":401,"value":1886},{"type":396,"tag":481,"props":2074,"children":2075},{"style":512},[2076],{"type":401,"value":2077}," query)\n",{"type":396,"tag":481,"props":2079,"children":2080},{"class":483,"line":677},[2081,2086,2090,2094,2099,2103,2108,2112],{"type":396,"tag":481,"props":2082,"children":2083},{"style":512},[2084],{"type":401,"value":2085},"templateImport ",{"type":396,"tag":481,"props":2087,"children":2088},{"style":500},[2089],{"type":401,"value":1463},{"type":396,"tag":481,"props":2091,"children":2092},{"style":605},[2093],{"type":401,"value":1998},{"type":396,"tag":481,"props":2095,"children":2096},{"style":611},[2097],{"type":401,"value":2098},"import { render, staticRenderFns } from ",{"type":396,"tag":481,"props":2100,"children":2101},{"style":2006},[2102],{"type":401,"value":2009},{"type":396,"tag":481,"props":2104,"children":2105},{"style":512},[2106],{"type":401,"value":2107},"request",{"type":396,"tag":481,"props":2109,"children":2110},{"style":2006},[2111],{"type":401,"value":709},{"type":396,"tag":481,"props":2113,"children":2114},{"style":605},[2115],{"type":401,"value":2033},{"type":396,"tag":2117,"props":2118,"children":2120},"h4",{"id":2119},"html-模板处理",[2121],{"type":401,"value":2122},"HTML 模板处理",{"type":396,"tag":397,"props":2124,"children":2125},{},[2126,2128,2134,2136,2141,2143,2149],{"type":401,"value":2127},"在用于处理 SFC 结构中 HTML 模板的 ",{"type":396,"tag":404,"props":2129,"children":2131},{"className":2130},[],[2132],{"type":401,"value":2133},"templateLoader",{"type":401,"value":2135}," 中，我们可以得知，query 中所设置的参数将合并为 loader options 经由 webpack 转交 ",{"type":396,"tag":404,"props":2137,"children":2139},{"className":2138},[],[2140],{"type":401,"value":2133},{"type":401,"value":2142}," 再转交 ",{"type":396,"tag":404,"props":2144,"children":2146},{"className":2145},[],[2147],{"type":401,"value":2148},"@vue/component-compiler-utils.compileTemplate",{"type":401,"value":2150}," 处理：",{"type":396,"tag":471,"props":2152,"children":2154},{"className":473,"code":2153,"language":475,"meta":389,"style":389},"// vue-loader/templateLoader.js\nconst query = qs.parse(this.resourceQuery)\nconst { id } = query\nconst compilerOptions = Object.assign({}, options.compilerOptions, {\n    scopeId: query.scoped ? `data-v-${id}` : null\n})\nconst compiled = compileTemplate({ compilerOptions })\n",[2155],{"type":396,"tag":404,"props":2156,"children":2157},{"__ignoreMap":389},[2158,2166,2214,2242,2302,2369,2380],{"type":396,"tag":481,"props":2159,"children":2160},{"class":483,"line":484},[2161],{"type":396,"tag":481,"props":2162,"children":2163},{"style":788},[2164],{"type":401,"value":2165},"// vue-loader/templateLoader.js\n",{"type":396,"tag":481,"props":2167,"children":2168},{"class":483,"line":529},[2169,2173,2177,2181,2186,2190,2195,2199,2205,2209],{"type":396,"tag":481,"props":2170,"children":2171},{"style":488},[2172],{"type":401,"value":491},{"type":396,"tag":481,"props":2174,"children":2175},{"style":494},[2176],{"type":401,"value":1989},{"type":396,"tag":481,"props":2178,"children":2179},{"style":500},[2180],{"type":401,"value":503},{"type":396,"tag":481,"props":2182,"children":2183},{"style":512},[2184],{"type":401,"value":2185}," qs",{"type":396,"tag":481,"props":2187,"children":2188},{"style":518},[2189],{"type":401,"value":593},{"type":396,"tag":481,"props":2191,"children":2192},{"style":506},[2193],{"type":401,"value":2194},"parse",{"type":396,"tag":481,"props":2196,"children":2197},{"style":512},[2198],{"type":401,"value":565},{"type":396,"tag":481,"props":2200,"children":2202},{"style":2201},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2203],{"type":401,"value":2204},"this",{"type":396,"tag":481,"props":2206,"children":2207},{"style":518},[2208],{"type":401,"value":593},{"type":396,"tag":481,"props":2210,"children":2211},{"style":512},[2212],{"type":401,"value":2213},"resourceQuery)\n",{"type":396,"tag":481,"props":2215,"children":2216},{"class":483,"line":549},[2217,2221,2225,2229,2233,2237],{"type":396,"tag":481,"props":2218,"children":2219},{"style":488},[2220],{"type":401,"value":491},{"type":396,"tag":481,"props":2222,"children":2223},{"style":518},[2224],{"type":401,"value":1001},{"type":396,"tag":481,"props":2226,"children":2227},{"style":494},[2228],{"type":401,"value":1858},{"type":396,"tag":481,"props":2230,"children":2231},{"style":518},[2232],{"type":401,"value":1011},{"type":396,"tag":481,"props":2234,"children":2235},{"style":500},[2236],{"type":401,"value":503},{"type":396,"tag":481,"props":2238,"children":2239},{"style":512},[2240],{"type":401,"value":2241}," query\n",{"type":396,"tag":481,"props":2243,"children":2244},{"class":483,"line":573},[2245,2249,2254,2258,2263,2267,2272,2276,2281,2285,2289,2294,2298],{"type":396,"tag":481,"props":2246,"children":2247},{"style":488},[2248],{"type":401,"value":491},{"type":396,"tag":481,"props":2250,"children":2251},{"style":494},[2252],{"type":401,"value":2253}," compilerOptions",{"type":396,"tag":481,"props":2255,"children":2256},{"style":500},[2257],{"type":401,"value":503},{"type":396,"tag":481,"props":2259,"children":2260},{"style":512},[2261],{"type":401,"value":2262}," Object",{"type":396,"tag":481,"props":2264,"children":2265},{"style":518},[2266],{"type":401,"value":593},{"type":396,"tag":481,"props":2268,"children":2269},{"style":506},[2270],{"type":401,"value":2271},"assign",{"type":396,"tag":481,"props":2273,"children":2274},{"style":512},[2275],{"type":401,"value":565},{"type":396,"tag":481,"props":2277,"children":2278},{"style":518},[2279],{"type":401,"value":2280},"{},",{"type":396,"tag":481,"props":2282,"children":2283},{"style":512},[2284],{"type":401,"value":849},{"type":396,"tag":481,"props":2286,"children":2287},{"style":518},[2288],{"type":401,"value":593},{"type":396,"tag":481,"props":2290,"children":2291},{"style":512},[2292],{"type":401,"value":2293},"compilerOptions",{"type":396,"tag":481,"props":2295,"children":2296},{"style":518},[2297],{"type":401,"value":521},{"type":396,"tag":481,"props":2299,"children":2300},{"style":518},[2301],{"type":401,"value":526},{"type":396,"tag":481,"props":2303,"children":2304},{"class":483,"line":631},[2305,2310,2314,2318,2322,2327,2332,2336,2341,2345,2350,2354,2359,2364],{"type":396,"tag":481,"props":2306,"children":2307},{"style":533},[2308],{"type":401,"value":2309},"    scopeId",{"type":396,"tag":481,"props":2311,"children":2312},{"style":518},[2313],{"type":401,"value":541},{"type":396,"tag":481,"props":2315,"children":2316},{"style":512},[2317],{"type":401,"value":1989},{"type":396,"tag":481,"props":2319,"children":2320},{"style":518},[2321],{"type":401,"value":593},{"type":396,"tag":481,"props":2323,"children":2324},{"style":512},[2325],{"type":401,"value":2326},"scoped ",{"type":396,"tag":481,"props":2328,"children":2329},{"style":500},[2330],{"type":401,"value":2331},"?",{"type":396,"tag":481,"props":2333,"children":2334},{"style":605},[2335],{"type":401,"value":1998},{"type":396,"tag":481,"props":2337,"children":2338},{"style":611},[2339],{"type":401,"value":2340},"data-v-",{"type":396,"tag":481,"props":2342,"children":2343},{"style":2006},[2344],{"type":401,"value":2009},{"type":396,"tag":481,"props":2346,"children":2347},{"style":512},[2348],{"type":401,"value":2349},"id",{"type":396,"tag":481,"props":2351,"children":2352},{"style":2006},[2353],{"type":401,"value":709},{"type":396,"tag":481,"props":2355,"children":2356},{"style":605},[2357],{"type":401,"value":2358},"`",{"type":396,"tag":481,"props":2360,"children":2361},{"style":500},[2362],{"type":401,"value":2363}," :",{"type":396,"tag":481,"props":2365,"children":2366},{"style":1205},[2367],{"type":401,"value":2368}," null\n",{"type":396,"tag":481,"props":2370,"children":2371},{"class":483,"line":677},[2372,2376],{"type":396,"tag":481,"props":2373,"children":2374},{"style":518},[2375],{"type":401,"value":709},{"type":396,"tag":481,"props":2377,"children":2378},{"style":512},[2379],{"type":401,"value":674},{"type":396,"tag":481,"props":2381,"children":2382},{"class":483,"line":694},[2383,2387,2392,2396,2401,2405,2410,2415,2419],{"type":396,"tag":481,"props":2384,"children":2385},{"style":488},[2386],{"type":401,"value":491},{"type":396,"tag":481,"props":2388,"children":2389},{"style":494},[2390],{"type":401,"value":2391}," compiled",{"type":396,"tag":481,"props":2393,"children":2394},{"style":500},[2395],{"type":401,"value":503},{"type":396,"tag":481,"props":2397,"children":2398},{"style":506},[2399],{"type":401,"value":2400}," compileTemplate",{"type":396,"tag":481,"props":2402,"children":2403},{"style":512},[2404],{"type":401,"value":565},{"type":396,"tag":481,"props":2406,"children":2407},{"style":518},[2408],{"type":401,"value":2409},"{",{"type":396,"tag":481,"props":2411,"children":2412},{"style":512},[2413],{"type":401,"value":2414}," compilerOptions ",{"type":396,"tag":481,"props":2416,"children":2417},{"style":518},[2418],{"type":401,"value":709},{"type":396,"tag":481,"props":2420,"children":2421},{"style":512},[2422],{"type":401,"value":674},{"type":396,"tag":397,"props":2424,"children":2425},{},[2426,2428,2434,2436,2442],{"type":401,"value":2427},"实际 ",{"type":396,"tag":404,"props":2429,"children":2431},{"className":2430},[],[2432],{"type":401,"value":2433},"compileTemplate",{"type":401,"value":2435}," 函数在处理内容时，编译函数使用的是 query 中的 compiler 或 ",{"type":396,"tag":404,"props":2437,"children":2439},{"className":2438},[],[2440],{"type":401,"value":2441},"vue-template-compiler",{"type":401,"value":2443},"，后者会将模板文本转换成为 JavaScript 渲染函数，大致如下：",{"type":396,"tag":2445,"props":2446,"children":2447},"ol",{},[2448,2453,2458],{"type":396,"tag":1335,"props":2449,"children":2450},{},[2451],{"type":401,"value":2452},"从 HTML 模版转换为 AST(虚拟语法树)",{"type":396,"tag":1335,"props":2454,"children":2455},{},[2456],{"type":401,"value":2457},"AST 优化，处理静态模版与动态模板",{"type":396,"tag":1335,"props":2459,"children":2460},{},[2461],{"type":401,"value":2462},"生成 JS 函数，用于在运行时运行时生成纯 HTML",{"type":396,"tag":397,"props":2464,"children":2465},{},[2466],{"type":401,"value":2467},"代码分别对应：",{"type":396,"tag":471,"props":2469,"children":2471},{"className":473,"code":2470,"language":475,"meta":389,"style":389},"// vue-template-compiler/build.js/createCompilerCreator\nvar ast = parse(template.trim(), options)\noptimize(ast, options)\nvar code = generate(ast, options)\n",[2472],{"type":396,"tag":404,"props":2473,"children":2474},{"__ignoreMap":389},[2475,2483,2531,2552],{"type":396,"tag":481,"props":2476,"children":2477},{"class":483,"line":484},[2478],{"type":396,"tag":481,"props":2479,"children":2480},{"style":788},[2481],{"type":401,"value":2482},"// vue-template-compiler/build.js/createCompilerCreator\n",{"type":396,"tag":481,"props":2484,"children":2485},{"class":483,"line":529},[2486,2491,2496,2500,2504,2509,2513,2518,2522,2526],{"type":396,"tag":481,"props":2487,"children":2488},{"style":488},[2489],{"type":401,"value":2490},"var",{"type":396,"tag":481,"props":2492,"children":2493},{"style":512},[2494],{"type":401,"value":2495}," ast ",{"type":396,"tag":481,"props":2497,"children":2498},{"style":500},[2499],{"type":401,"value":1463},{"type":396,"tag":481,"props":2501,"children":2502},{"style":506},[2503],{"type":401,"value":812},{"type":396,"tag":481,"props":2505,"children":2506},{"style":512},[2507],{"type":401,"value":2508},"(template",{"type":396,"tag":481,"props":2510,"children":2511},{"style":518},[2512],{"type":401,"value":593},{"type":396,"tag":481,"props":2514,"children":2515},{"style":506},[2516],{"type":401,"value":2517},"trim",{"type":396,"tag":481,"props":2519,"children":2520},{"style":512},[2521],{"type":401,"value":873},{"type":396,"tag":481,"props":2523,"children":2524},{"style":518},[2525],{"type":401,"value":521},{"type":396,"tag":481,"props":2527,"children":2528},{"style":512},[2529],{"type":401,"value":2530}," options)\n",{"type":396,"tag":481,"props":2532,"children":2533},{"class":483,"line":549},[2534,2539,2544,2548],{"type":396,"tag":481,"props":2535,"children":2536},{"style":506},[2537],{"type":401,"value":2538},"optimize",{"type":396,"tag":481,"props":2540,"children":2541},{"style":512},[2542],{"type":401,"value":2543},"(ast",{"type":396,"tag":481,"props":2545,"children":2546},{"style":518},[2547],{"type":401,"value":521},{"type":396,"tag":481,"props":2549,"children":2550},{"style":512},[2551],{"type":401,"value":2530},{"type":396,"tag":481,"props":2553,"children":2554},{"class":483,"line":573},[2555,2559,2564,2568,2573,2577,2581],{"type":396,"tag":481,"props":2556,"children":2557},{"style":488},[2558],{"type":401,"value":2490},{"type":396,"tag":481,"props":2560,"children":2561},{"style":512},[2562],{"type":401,"value":2563}," code ",{"type":396,"tag":481,"props":2565,"children":2566},{"style":500},[2567],{"type":401,"value":1463},{"type":396,"tag":481,"props":2569,"children":2570},{"style":506},[2571],{"type":401,"value":2572}," generate",{"type":396,"tag":481,"props":2574,"children":2575},{"style":512},[2576],{"type":401,"value":2543},{"type":396,"tag":481,"props":2578,"children":2579},{"style":518},[2580],{"type":401,"value":521},{"type":396,"tag":481,"props":2582,"children":2583},{"style":512},[2584],{"type":401,"value":2530},{"type":396,"tag":397,"props":2586,"children":2587},{},[2588],{"type":401,"value":2589},"先前我们的组件 ID 在 parse 阶段解析开始标签时就会被推入内部储存的数据结构中：",{"type":396,"tag":471,"props":2591,"children":2593},{"className":473,"code":2592,"language":475,"meta":389,"style":389},"function elementToOpenTagSegments (el, state) {\n  var segments = [{ type: RAW, value: (\"\u003C\" + (el.tag)) }]\n  // _scopedId\n  if (state.options.scopeId) {\n    segments.push({ type: RAW, value: (\" \" + (state.options.scopeId)) })\n  }\n  segments.push({ type: RAW, value: \">\" })\n  return segments\n}\n",[2594],{"type":396,"tag":404,"props":2595,"children":2596},{"__ignoreMap":389},[2597,2636,2739,2747,2790,2892,2900,2969,2981],{"type":396,"tag":481,"props":2598,"children":2599},{"class":483,"line":484},[2600,2604,2609,2614,2619,2623,2628,2632],{"type":396,"tag":481,"props":2601,"children":2602},{"style":488},[2603],{"type":401,"value":965},{"type":396,"tag":481,"props":2605,"children":2606},{"style":506},[2607],{"type":401,"value":2608}," elementToOpenTagSegments",{"type":396,"tag":481,"props":2610,"children":2611},{"style":518},[2612],{"type":401,"value":2613}," (",{"type":396,"tag":481,"props":2615,"children":2616},{"style":976},[2617],{"type":401,"value":2618},"el",{"type":396,"tag":481,"props":2620,"children":2621},{"style":518},[2622],{"type":401,"value":521},{"type":396,"tag":481,"props":2624,"children":2625},{"style":976},[2626],{"type":401,"value":2627}," state",{"type":396,"tag":481,"props":2629,"children":2630},{"style":518},[2631],{"type":401,"value":623},{"type":396,"tag":481,"props":2633,"children":2634},{"style":518},[2635],{"type":401,"value":526},{"type":396,"tag":481,"props":2637,"children":2638},{"class":483,"line":529},[2639,2643,2648,2652,2657,2661,2666,2670,2675,2679,2684,2688,2692,2696,2700,2704,2708,2712,2716,2720,2725,2730,2734],{"type":396,"tag":481,"props":2640,"children":2641},{"style":488},[2642],{"type":401,"value":1176},{"type":396,"tag":481,"props":2644,"children":2645},{"style":512},[2646],{"type":401,"value":2647}," segments",{"type":396,"tag":481,"props":2649,"children":2650},{"style":500},[2651],{"type":401,"value":503},{"type":396,"tag":481,"props":2653,"children":2654},{"style":533},[2655],{"type":401,"value":2656}," [",{"type":396,"tag":481,"props":2658,"children":2659},{"style":518},[2660],{"type":401,"value":2409},{"type":396,"tag":481,"props":2662,"children":2663},{"style":533},[2664],{"type":401,"value":2665}," type",{"type":396,"tag":481,"props":2667,"children":2668},{"style":518},[2669],{"type":401,"value":541},{"type":396,"tag":481,"props":2671,"children":2672},{"style":494},[2673],{"type":401,"value":2674}," RAW",{"type":396,"tag":481,"props":2676,"children":2677},{"style":518},[2678],{"type":401,"value":521},{"type":396,"tag":481,"props":2680,"children":2681},{"style":533},[2682],{"type":401,"value":2683}," value",{"type":396,"tag":481,"props":2685,"children":2686},{"style":518},[2687],{"type":401,"value":541},{"type":396,"tag":481,"props":2689,"children":2690},{"style":533},[2691],{"type":401,"value":2613},{"type":396,"tag":481,"props":2693,"children":2694},{"style":605},[2695],{"type":401,"value":1735},{"type":396,"tag":481,"props":2697,"children":2698},{"style":611},[2699],{"type":401,"value":1446},{"type":396,"tag":481,"props":2701,"children":2702},{"style":605},[2703],{"type":401,"value":1735},{"type":396,"tag":481,"props":2705,"children":2706},{"style":500},[2707],{"type":401,"value":1906},{"type":396,"tag":481,"props":2709,"children":2710},{"style":533},[2711],{"type":401,"value":2613},{"type":396,"tag":481,"props":2713,"children":2714},{"style":512},[2715],{"type":401,"value":2618},{"type":396,"tag":481,"props":2717,"children":2718},{"style":518},[2719],{"type":401,"value":593},{"type":396,"tag":481,"props":2721,"children":2722},{"style":512},[2723],{"type":401,"value":2724},"tag",{"type":396,"tag":481,"props":2726,"children":2727},{"style":533},[2728],{"type":401,"value":2729},")) ",{"type":396,"tag":481,"props":2731,"children":2732},{"style":518},[2733],{"type":401,"value":709},{"type":396,"tag":481,"props":2735,"children":2736},{"style":533},[2737],{"type":401,"value":2738},"]\n",{"type":396,"tag":481,"props":2740,"children":2741},{"class":483,"line":549},[2742],{"type":396,"tag":481,"props":2743,"children":2744},{"style":788},[2745],{"type":401,"value":2746},"  // _scopedId\n",{"type":396,"tag":481,"props":2748,"children":2749},{"class":483,"line":573},[2750,2755,2759,2764,2768,2772,2776,2781,2786],{"type":396,"tag":481,"props":2751,"children":2752},{"style":1082},[2753],{"type":401,"value":2754},"  if",{"type":396,"tag":481,"props":2756,"children":2757},{"style":533},[2758],{"type":401,"value":2613},{"type":396,"tag":481,"props":2760,"children":2761},{"style":512},[2762],{"type":401,"value":2763},"state",{"type":396,"tag":481,"props":2765,"children":2766},{"style":518},[2767],{"type":401,"value":593},{"type":396,"tag":481,"props":2769,"children":2770},{"style":512},[2771],{"type":401,"value":979},{"type":396,"tag":481,"props":2773,"children":2774},{"style":518},[2775],{"type":401,"value":593},{"type":396,"tag":481,"props":2777,"children":2778},{"style":512},[2779],{"type":401,"value":2780},"scopeId",{"type":396,"tag":481,"props":2782,"children":2783},{"style":533},[2784],{"type":401,"value":2785},") ",{"type":396,"tag":481,"props":2787,"children":2788},{"style":518},[2789],{"type":401,"value":570},{"type":396,"tag":481,"props":2791,"children":2792},{"class":483,"line":631},[2793,2798,2802,2807,2811,2815,2819,2823,2827,2831,2835,2839,2843,2847,2852,2856,2860,2864,2868,2872,2876,2880,2884,2888],{"type":396,"tag":481,"props":2794,"children":2795},{"style":512},[2796],{"type":401,"value":2797},"    segments",{"type":396,"tag":481,"props":2799,"children":2800},{"style":518},[2801],{"type":401,"value":593},{"type":396,"tag":481,"props":2803,"children":2804},{"style":506},[2805],{"type":401,"value":2806},"push",{"type":396,"tag":481,"props":2808,"children":2809},{"style":533},[2810],{"type":401,"value":565},{"type":396,"tag":481,"props":2812,"children":2813},{"style":518},[2814],{"type":401,"value":2409},{"type":396,"tag":481,"props":2816,"children":2817},{"style":533},[2818],{"type":401,"value":2665},{"type":396,"tag":481,"props":2820,"children":2821},{"style":518},[2822],{"type":401,"value":541},{"type":396,"tag":481,"props":2824,"children":2825},{"style":494},[2826],{"type":401,"value":2674},{"type":396,"tag":481,"props":2828,"children":2829},{"style":518},[2830],{"type":401,"value":521},{"type":396,"tag":481,"props":2832,"children":2833},{"style":533},[2834],{"type":401,"value":2683},{"type":396,"tag":481,"props":2836,"children":2837},{"style":518},[2838],{"type":401,"value":541},{"type":396,"tag":481,"props":2840,"children":2841},{"style":533},[2842],{"type":401,"value":2613},{"type":396,"tag":481,"props":2844,"children":2845},{"style":605},[2846],{"type":401,"value":1735},{"type":396,"tag":481,"props":2848,"children":2849},{"style":605},[2850],{"type":401,"value":2851}," \"",{"type":396,"tag":481,"props":2853,"children":2854},{"style":500},[2855],{"type":401,"value":1906},{"type":396,"tag":481,"props":2857,"children":2858},{"style":533},[2859],{"type":401,"value":2613},{"type":396,"tag":481,"props":2861,"children":2862},{"style":512},[2863],{"type":401,"value":2763},{"type":396,"tag":481,"props":2865,"children":2866},{"style":518},[2867],{"type":401,"value":593},{"type":396,"tag":481,"props":2869,"children":2870},{"style":512},[2871],{"type":401,"value":979},{"type":396,"tag":481,"props":2873,"children":2874},{"style":518},[2875],{"type":401,"value":593},{"type":396,"tag":481,"props":2877,"children":2878},{"style":512},[2879],{"type":401,"value":2780},{"type":396,"tag":481,"props":2881,"children":2882},{"style":533},[2883],{"type":401,"value":2729},{"type":396,"tag":481,"props":2885,"children":2886},{"style":518},[2887],{"type":401,"value":709},{"type":396,"tag":481,"props":2889,"children":2890},{"style":533},[2891],{"type":401,"value":674},{"type":396,"tag":481,"props":2893,"children":2894},{"class":483,"line":677},[2895],{"type":396,"tag":481,"props":2896,"children":2897},{"style":518},[2898],{"type":401,"value":2899},"  }\n",{"type":396,"tag":481,"props":2901,"children":2902},{"class":483,"line":694},[2903,2908,2912,2916,2920,2924,2928,2932,2936,2940,2944,2948,2952,2957,2961,2965],{"type":396,"tag":481,"props":2904,"children":2905},{"style":512},[2906],{"type":401,"value":2907},"  segments",{"type":396,"tag":481,"props":2909,"children":2910},{"style":518},[2911],{"type":401,"value":593},{"type":396,"tag":481,"props":2913,"children":2914},{"style":506},[2915],{"type":401,"value":2806},{"type":396,"tag":481,"props":2917,"children":2918},{"style":533},[2919],{"type":401,"value":565},{"type":396,"tag":481,"props":2921,"children":2922},{"style":518},[2923],{"type":401,"value":2409},{"type":396,"tag":481,"props":2925,"children":2926},{"style":533},[2927],{"type":401,"value":2665},{"type":396,"tag":481,"props":2929,"children":2930},{"style":518},[2931],{"type":401,"value":541},{"type":396,"tag":481,"props":2933,"children":2934},{"style":494},[2935],{"type":401,"value":2674},{"type":396,"tag":481,"props":2937,"children":2938},{"style":518},[2939],{"type":401,"value":521},{"type":396,"tag":481,"props":2941,"children":2942},{"style":533},[2943],{"type":401,"value":2683},{"type":396,"tag":481,"props":2945,"children":2946},{"style":518},[2947],{"type":401,"value":541},{"type":396,"tag":481,"props":2949,"children":2950},{"style":605},[2951],{"type":401,"value":2851},{"type":396,"tag":481,"props":2953,"children":2954},{"style":611},[2955],{"type":401,"value":2956},">",{"type":396,"tag":481,"props":2958,"children":2959},{"style":605},[2960],{"type":401,"value":1735},{"type":396,"tag":481,"props":2962,"children":2963},{"style":518},[2964],{"type":401,"value":1011},{"type":396,"tag":481,"props":2966,"children":2967},{"style":533},[2968],{"type":401,"value":674},{"type":396,"tag":481,"props":2970,"children":2971},{"class":483,"line":703},[2972,2976],{"type":396,"tag":481,"props":2973,"children":2974},{"style":1082},[2975],{"type":401,"value":1085},{"type":396,"tag":481,"props":2977,"children":2978},{"style":512},[2979],{"type":401,"value":2980}," segments\n",{"type":396,"tag":481,"props":2982,"children":2983},{"class":483,"line":941},[2984],{"type":396,"tag":481,"props":2985,"children":2986},{"style":518},[2987],{"type":401,"value":1103},{"type":396,"tag":397,"props":2989,"children":2990},{},[2991,2993,2999],{"type":401,"value":2992},"先前我们的 HTML 模板 ",{"type":396,"tag":404,"props":2994,"children":2996},{"className":2995},[],[2997],{"type":401,"value":2998},"\u003Cdiv class='lionad'>\u003C/div>",{"type":401,"value":3000}," 中开始标签会被转换成如下数据结构：",{"type":396,"tag":471,"props":3002,"children":3004},{"className":473,"code":3003,"language":475,"meta":389,"style":389},"[\n    { type: RAW, value: '\u003Cdiv' },\n    { type: RAW, value: 'class=lionad' },\n    { type: RAW, value: 'data-v-xxxxxx' },\n    { type: RAW, value: '>' },\n]\n",[3005],{"type":396,"tag":404,"props":3006,"children":3007},{"__ignoreMap":389},[3008,3016,3066,3114,3162,3209],{"type":396,"tag":481,"props":3009,"children":3010},{"class":483,"line":484},[3011],{"type":396,"tag":481,"props":3012,"children":3013},{"style":512},[3014],{"type":401,"value":3015},"[\n",{"type":396,"tag":481,"props":3017,"children":3018},{"class":483,"line":529},[3019,3024,3028,3032,3036,3040,3044,3048,3052,3057,3061],{"type":396,"tag":481,"props":3020,"children":3021},{"style":518},[3022],{"type":401,"value":3023},"    {",{"type":396,"tag":481,"props":3025,"children":3026},{"style":533},[3027],{"type":401,"value":2665},{"type":396,"tag":481,"props":3029,"children":3030},{"style":518},[3031],{"type":401,"value":541},{"type":396,"tag":481,"props":3033,"children":3034},{"style":494},[3035],{"type":401,"value":2674},{"type":396,"tag":481,"props":3037,"children":3038},{"style":518},[3039],{"type":401,"value":521},{"type":396,"tag":481,"props":3041,"children":3042},{"style":533},[3043],{"type":401,"value":2683},{"type":396,"tag":481,"props":3045,"children":3046},{"style":518},[3047],{"type":401,"value":541},{"type":396,"tag":481,"props":3049,"children":3050},{"style":605},[3051],{"type":401,"value":1891},{"type":396,"tag":481,"props":3053,"children":3054},{"style":611},[3055],{"type":401,"value":3056},"\u003Cdiv",{"type":396,"tag":481,"props":3058,"children":3059},{"style":605},[3060],{"type":401,"value":608},{"type":396,"tag":481,"props":3062,"children":3063},{"style":518},[3064],{"type":401,"value":3065}," },\n",{"type":396,"tag":481,"props":3067,"children":3068},{"class":483,"line":549},[3069,3073,3077,3081,3085,3089,3093,3097,3101,3106,3110],{"type":396,"tag":481,"props":3070,"children":3071},{"style":518},[3072],{"type":401,"value":3023},{"type":396,"tag":481,"props":3074,"children":3075},{"style":533},[3076],{"type":401,"value":2665},{"type":396,"tag":481,"props":3078,"children":3079},{"style":518},[3080],{"type":401,"value":541},{"type":396,"tag":481,"props":3082,"children":3083},{"style":494},[3084],{"type":401,"value":2674},{"type":396,"tag":481,"props":3086,"children":3087},{"style":518},[3088],{"type":401,"value":521},{"type":396,"tag":481,"props":3090,"children":3091},{"style":533},[3092],{"type":401,"value":2683},{"type":396,"tag":481,"props":3094,"children":3095},{"style":518},[3096],{"type":401,"value":541},{"type":396,"tag":481,"props":3098,"children":3099},{"style":605},[3100],{"type":401,"value":1891},{"type":396,"tag":481,"props":3102,"children":3103},{"style":611},[3104],{"type":401,"value":3105},"class=lionad",{"type":396,"tag":481,"props":3107,"children":3108},{"style":605},[3109],{"type":401,"value":608},{"type":396,"tag":481,"props":3111,"children":3112},{"style":518},[3113],{"type":401,"value":3065},{"type":396,"tag":481,"props":3115,"children":3116},{"class":483,"line":573},[3117,3121,3125,3129,3133,3137,3141,3145,3149,3154,3158],{"type":396,"tag":481,"props":3118,"children":3119},{"style":518},[3120],{"type":401,"value":3023},{"type":396,"tag":481,"props":3122,"children":3123},{"style":533},[3124],{"type":401,"value":2665},{"type":396,"tag":481,"props":3126,"children":3127},{"style":518},[3128],{"type":401,"value":541},{"type":396,"tag":481,"props":3130,"children":3131},{"style":494},[3132],{"type":401,"value":2674},{"type":396,"tag":481,"props":3134,"children":3135},{"style":518},[3136],{"type":401,"value":521},{"type":396,"tag":481,"props":3138,"children":3139},{"style":533},[3140],{"type":401,"value":2683},{"type":396,"tag":481,"props":3142,"children":3143},{"style":518},[3144],{"type":401,"value":541},{"type":396,"tag":481,"props":3146,"children":3147},{"style":605},[3148],{"type":401,"value":1891},{"type":396,"tag":481,"props":3150,"children":3151},{"style":611},[3152],{"type":401,"value":3153},"data-v-xxxxxx",{"type":396,"tag":481,"props":3155,"children":3156},{"style":605},[3157],{"type":401,"value":608},{"type":396,"tag":481,"props":3159,"children":3160},{"style":518},[3161],{"type":401,"value":3065},{"type":396,"tag":481,"props":3163,"children":3164},{"class":483,"line":631},[3165,3169,3173,3177,3181,3185,3189,3193,3197,3201,3205],{"type":396,"tag":481,"props":3166,"children":3167},{"style":518},[3168],{"type":401,"value":3023},{"type":396,"tag":481,"props":3170,"children":3171},{"style":533},[3172],{"type":401,"value":2665},{"type":396,"tag":481,"props":3174,"children":3175},{"style":518},[3176],{"type":401,"value":541},{"type":396,"tag":481,"props":3178,"children":3179},{"style":494},[3180],{"type":401,"value":2674},{"type":396,"tag":481,"props":3182,"children":3183},{"style":518},[3184],{"type":401,"value":521},{"type":396,"tag":481,"props":3186,"children":3187},{"style":533},[3188],{"type":401,"value":2683},{"type":396,"tag":481,"props":3190,"children":3191},{"style":518},[3192],{"type":401,"value":541},{"type":396,"tag":481,"props":3194,"children":3195},{"style":605},[3196],{"type":401,"value":1891},{"type":396,"tag":481,"props":3198,"children":3199},{"style":611},[3200],{"type":401,"value":2956},{"type":396,"tag":481,"props":3202,"children":3203},{"style":605},[3204],{"type":401,"value":608},{"type":396,"tag":481,"props":3206,"children":3207},{"style":518},[3208],{"type":401,"value":3065},{"type":396,"tag":481,"props":3210,"children":3211},{"class":483,"line":677},[3212],{"type":396,"tag":481,"props":3213,"children":3214},{"style":512},[3215],{"type":401,"value":2738},{"type":396,"tag":2117,"props":3217,"children":3219},{"id":3218},"样式模板处理",[3220],{"type":401,"value":3218},{"type":396,"tag":397,"props":3222,"children":3223},{},[3224,3226,3232,3234,3240,3242,3248,3250,3256],{"type":401,"value":3225},"与 HTML Template 解析的过程类似，通过 webpack 将样式模板转交 ",{"type":396,"tag":404,"props":3227,"children":3229},{"className":3228},[],[3230],{"type":401,"value":3231},"stylePostLoader",{"type":401,"value":3233}," 进行处理，处理逻辑主要引用了 ",{"type":396,"tag":404,"props":3235,"children":3237},{"className":3236},[],[3238],{"type":401,"value":3239},"@vue/component-compiler-utils",{"type":401,"value":3241}," 中的 ",{"type":396,"tag":404,"props":3243,"children":3245},{"className":3244},[],[3246],{"type":401,"value":3247},"compileStyle",{"type":401,"value":3249}," 部分，后者对样式模板进行解析的过程中，将会对含 scoped 标记的模板引入插件 ",{"type":396,"tag":404,"props":3251,"children":3253},{"className":3252},[],[3254],{"type":401,"value":3255},"stylePlugins/scoped.js",{"type":401,"value":3257},"：",{"type":396,"tag":471,"props":3259,"children":3261},{"className":473,"code":3260,"language":475,"meta":389,"style":389},"// component-compiler-utils/compileStyle.js\nfunction doCompileStyle (options) {\n    if (scoped) {\n        plugins.push(scoped_1.default(id));\n    }\n    return { result: postcss(plugins).process(source, postCSSOptions) }\n}\n",[3262],{"type":396,"tag":404,"props":3263,"children":3264},{"__ignoreMap":389},[3265,3273,3301,3325,3376,3383,3456],{"type":396,"tag":481,"props":3266,"children":3267},{"class":483,"line":484},[3268],{"type":396,"tag":481,"props":3269,"children":3270},{"style":788},[3271],{"type":401,"value":3272},"// component-compiler-utils/compileStyle.js\n",{"type":396,"tag":481,"props":3274,"children":3275},{"class":483,"line":529},[3276,3280,3285,3289,3293,3297],{"type":396,"tag":481,"props":3277,"children":3278},{"style":488},[3279],{"type":401,"value":965},{"type":396,"tag":481,"props":3281,"children":3282},{"style":506},[3283],{"type":401,"value":3284}," doCompileStyle",{"type":396,"tag":481,"props":3286,"children":3287},{"style":518},[3288],{"type":401,"value":2613},{"type":396,"tag":481,"props":3290,"children":3291},{"style":976},[3292],{"type":401,"value":979},{"type":396,"tag":481,"props":3294,"children":3295},{"style":518},[3296],{"type":401,"value":623},{"type":396,"tag":481,"props":3298,"children":3299},{"style":518},[3300],{"type":401,"value":526},{"type":396,"tag":481,"props":3302,"children":3303},{"class":483,"line":549},[3304,3309,3313,3317,3321],{"type":396,"tag":481,"props":3305,"children":3306},{"style":1082},[3307],{"type":401,"value":3308},"    if",{"type":396,"tag":481,"props":3310,"children":3311},{"style":533},[3312],{"type":401,"value":2613},{"type":396,"tag":481,"props":3314,"children":3315},{"style":512},[3316],{"type":401,"value":1618},{"type":396,"tag":481,"props":3318,"children":3319},{"style":533},[3320],{"type":401,"value":2785},{"type":396,"tag":481,"props":3322,"children":3323},{"style":518},[3324],{"type":401,"value":570},{"type":396,"tag":481,"props":3326,"children":3327},{"class":483,"line":573},[3328,3333,3337,3341,3345,3350,3354,3359,3363,3367,3372],{"type":396,"tag":481,"props":3329,"children":3330},{"style":512},[3331],{"type":401,"value":3332},"        plugins",{"type":396,"tag":481,"props":3334,"children":3335},{"style":518},[3336],{"type":401,"value":593},{"type":396,"tag":481,"props":3338,"children":3339},{"style":506},[3340],{"type":401,"value":2806},{"type":396,"tag":481,"props":3342,"children":3343},{"style":533},[3344],{"type":401,"value":565},{"type":396,"tag":481,"props":3346,"children":3347},{"style":512},[3348],{"type":401,"value":3349},"scoped_1",{"type":396,"tag":481,"props":3351,"children":3352},{"style":518},[3353],{"type":401,"value":593},{"type":396,"tag":481,"props":3355,"children":3356},{"style":506},[3357],{"type":401,"value":3358},"default",{"type":396,"tag":481,"props":3360,"children":3361},{"style":533},[3362],{"type":401,"value":565},{"type":396,"tag":481,"props":3364,"children":3365},{"style":512},[3366],{"type":401,"value":2349},{"type":396,"tag":481,"props":3368,"children":3369},{"style":533},[3370],{"type":401,"value":3371},"))",{"type":396,"tag":481,"props":3373,"children":3374},{"style":518},[3375],{"type":401,"value":938},{"type":396,"tag":481,"props":3377,"children":3378},{"class":483,"line":631},[3379],{"type":396,"tag":481,"props":3380,"children":3381},{"style":518},[3382],{"type":401,"value":1797},{"type":396,"tag":481,"props":3384,"children":3385},{"class":483,"line":677},[3386,3391,3395,3400,3404,3409,3413,3418,3422,3426,3431,3435,3439,3443,3448,3452],{"type":396,"tag":481,"props":3387,"children":3388},{"style":1082},[3389],{"type":401,"value":3390},"    return",{"type":396,"tag":481,"props":3392,"children":3393},{"style":518},[3394],{"type":401,"value":1001},{"type":396,"tag":481,"props":3396,"children":3397},{"style":533},[3398],{"type":401,"value":3399}," result",{"type":396,"tag":481,"props":3401,"children":3402},{"style":518},[3403],{"type":401,"value":541},{"type":396,"tag":481,"props":3405,"children":3406},{"style":506},[3407],{"type":401,"value":3408}," postcss",{"type":396,"tag":481,"props":3410,"children":3411},{"style":533},[3412],{"type":401,"value":565},{"type":396,"tag":481,"props":3414,"children":3415},{"style":512},[3416],{"type":401,"value":3417},"plugins",{"type":396,"tag":481,"props":3419,"children":3420},{"style":533},[3421],{"type":401,"value":623},{"type":396,"tag":481,"props":3423,"children":3424},{"style":518},[3425],{"type":401,"value":593},{"type":396,"tag":481,"props":3427,"children":3428},{"style":506},[3429],{"type":401,"value":3430},"process",{"type":396,"tag":481,"props":3432,"children":3433},{"style":533},[3434],{"type":401,"value":565},{"type":396,"tag":481,"props":3436,"children":3437},{"style":512},[3438],{"type":401,"value":1058},{"type":396,"tag":481,"props":3440,"children":3441},{"style":518},[3442],{"type":401,"value":521},{"type":396,"tag":481,"props":3444,"children":3445},{"style":512},[3446],{"type":401,"value":3447}," postCSSOptions",{"type":396,"tag":481,"props":3449,"children":3450},{"style":533},[3451],{"type":401,"value":2785},{"type":396,"tag":481,"props":3453,"children":3454},{"style":518},[3455],{"type":401,"value":1103},{"type":396,"tag":481,"props":3457,"children":3458},{"class":483,"line":694},[3459],{"type":396,"tag":481,"props":3460,"children":3461},{"style":518},[3462],{"type":401,"value":1103},{"type":396,"tag":397,"props":3464,"children":3465},{},[3466,3468,3474,3476,3481],{"type":401,"value":3467},"插件 ",{"type":396,"tag":404,"props":3469,"children":3471},{"className":3470},[],[3472],{"type":401,"value":3473},"scoped.js",{"type":401,"value":3475}," 将 ",{"type":396,"tag":404,"props":3477,"children":3479},{"className":3478},[],[3480],{"type":401,"value":3153},{"type":401,"value":3482}," 添加到选择器末尾的具体逻辑如下，遍历每一个选择器组合下的选择器，选择给每个组合下最后一个选择器的末尾插入：",{"type":396,"tag":471,"props":3484,"children":3486},{"className":473,"code":3485,"language":475,"meta":389,"style":389},"// component-compiler-utils/stylePlugins/scoped.js\nselectors.each((selector) => {\n    selector.each((n) => {\n        if (n.value === '::v-deep' || n.value === '>>>' || n.value === '/deep/') {\n            return false;\n        }\n    });\n    selector.insertAfter(node, selectorParser.attribute({\n        attribute: id\n    }))\n})\n",[3487],{"type":396,"tag":404,"props":3488,"children":3489},{"__ignoreMap":389},[3490,3498,3540,3581,3700,3718,3726,3742,3793,3810,3822],{"type":396,"tag":481,"props":3491,"children":3492},{"class":483,"line":484},[3493],{"type":396,"tag":481,"props":3494,"children":3495},{"style":788},[3496],{"type":401,"value":3497},"// component-compiler-utils/stylePlugins/scoped.js\n",{"type":396,"tag":481,"props":3499,"children":3500},{"class":483,"line":529},[3501,3506,3510,3515,3519,3523,3528,3532,3536],{"type":396,"tag":481,"props":3502,"children":3503},{"style":512},[3504],{"type":401,"value":3505},"selectors",{"type":396,"tag":481,"props":3507,"children":3508},{"style":518},[3509],{"type":401,"value":593},{"type":396,"tag":481,"props":3511,"children":3512},{"style":506},[3513],{"type":401,"value":3514},"each",{"type":396,"tag":481,"props":3516,"children":3517},{"style":512},[3518],{"type":401,"value":565},{"type":396,"tag":481,"props":3520,"children":3521},{"style":518},[3522],{"type":401,"value":565},{"type":396,"tag":481,"props":3524,"children":3525},{"style":976},[3526],{"type":401,"value":3527},"selector",{"type":396,"tag":481,"props":3529,"children":3530},{"style":518},[3531],{"type":401,"value":623},{"type":396,"tag":481,"props":3533,"children":3534},{"style":488},[3535],{"type":401,"value":1963},{"type":396,"tag":481,"props":3537,"children":3538},{"style":518},[3539],{"type":401,"value":526},{"type":396,"tag":481,"props":3541,"children":3542},{"class":483,"line":549},[3543,3548,3552,3556,3560,3564,3569,3573,3577],{"type":396,"tag":481,"props":3544,"children":3545},{"style":512},[3546],{"type":401,"value":3547},"    selector",{"type":396,"tag":481,"props":3549,"children":3550},{"style":518},[3551],{"type":401,"value":593},{"type":396,"tag":481,"props":3553,"children":3554},{"style":506},[3555],{"type":401,"value":3514},{"type":396,"tag":481,"props":3557,"children":3558},{"style":533},[3559],{"type":401,"value":565},{"type":396,"tag":481,"props":3561,"children":3562},{"style":518},[3563],{"type":401,"value":565},{"type":396,"tag":481,"props":3565,"children":3566},{"style":976},[3567],{"type":401,"value":3568},"n",{"type":396,"tag":481,"props":3570,"children":3571},{"style":518},[3572],{"type":401,"value":623},{"type":396,"tag":481,"props":3574,"children":3575},{"style":488},[3576],{"type":401,"value":1963},{"type":396,"tag":481,"props":3578,"children":3579},{"style":518},[3580],{"type":401,"value":526},{"type":396,"tag":481,"props":3582,"children":3583},{"class":483,"line":573},[3584,3589,3593,3597,3601,3606,3611,3615,3620,3624,3629,3634,3638,3642,3646,3650,3655,3659,3663,3667,3671,3675,3679,3683,3688,3692,3696],{"type":396,"tag":481,"props":3585,"children":3586},{"style":1082},[3587],{"type":401,"value":3588},"        if",{"type":396,"tag":481,"props":3590,"children":3591},{"style":533},[3592],{"type":401,"value":2613},{"type":396,"tag":481,"props":3594,"children":3595},{"style":512},[3596],{"type":401,"value":3568},{"type":396,"tag":481,"props":3598,"children":3599},{"style":518},[3600],{"type":401,"value":593},{"type":396,"tag":481,"props":3602,"children":3603},{"style":512},[3604],{"type":401,"value":3605},"value",{"type":396,"tag":481,"props":3607,"children":3608},{"style":500},[3609],{"type":401,"value":3610}," ===",{"type":396,"tag":481,"props":3612,"children":3613},{"style":605},[3614],{"type":401,"value":1891},{"type":396,"tag":481,"props":3616,"children":3617},{"style":611},[3618],{"type":401,"value":3619},"::v-deep",{"type":396,"tag":481,"props":3621,"children":3622},{"style":605},[3623],{"type":401,"value":608},{"type":396,"tag":481,"props":3625,"children":3626},{"style":500},[3627],{"type":401,"value":3628}," ||",{"type":396,"tag":481,"props":3630,"children":3631},{"style":512},[3632],{"type":401,"value":3633}," n",{"type":396,"tag":481,"props":3635,"children":3636},{"style":518},[3637],{"type":401,"value":593},{"type":396,"tag":481,"props":3639,"children":3640},{"style":512},[3641],{"type":401,"value":3605},{"type":396,"tag":481,"props":3643,"children":3644},{"style":500},[3645],{"type":401,"value":3610},{"type":396,"tag":481,"props":3647,"children":3648},{"style":605},[3649],{"type":401,"value":1891},{"type":396,"tag":481,"props":3651,"children":3652},{"style":611},[3653],{"type":401,"value":3654},">>>",{"type":396,"tag":481,"props":3656,"children":3657},{"style":605},[3658],{"type":401,"value":608},{"type":396,"tag":481,"props":3660,"children":3661},{"style":500},[3662],{"type":401,"value":3628},{"type":396,"tag":481,"props":3664,"children":3665},{"style":512},[3666],{"type":401,"value":3633},{"type":396,"tag":481,"props":3668,"children":3669},{"style":518},[3670],{"type":401,"value":593},{"type":396,"tag":481,"props":3672,"children":3673},{"style":512},[3674],{"type":401,"value":3605},{"type":396,"tag":481,"props":3676,"children":3677},{"style":500},[3678],{"type":401,"value":3610},{"type":396,"tag":481,"props":3680,"children":3681},{"style":605},[3682],{"type":401,"value":1891},{"type":396,"tag":481,"props":3684,"children":3685},{"style":611},[3686],{"type":401,"value":3687},"/deep/",{"type":396,"tag":481,"props":3689,"children":3690},{"style":605},[3691],{"type":401,"value":608},{"type":396,"tag":481,"props":3693,"children":3694},{"style":533},[3695],{"type":401,"value":2785},{"type":396,"tag":481,"props":3697,"children":3698},{"style":518},[3699],{"type":401,"value":570},{"type":396,"tag":481,"props":3701,"children":3702},{"class":483,"line":631},[3703,3708,3714],{"type":396,"tag":481,"props":3704,"children":3705},{"style":1082},[3706],{"type":401,"value":3707},"            return",{"type":396,"tag":481,"props":3709,"children":3711},{"style":3710},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3712],{"type":401,"value":3713}," false",{"type":396,"tag":481,"props":3715,"children":3716},{"style":518},[3717],{"type":401,"value":938},{"type":396,"tag":481,"props":3719,"children":3720},{"class":483,"line":677},[3721],{"type":396,"tag":481,"props":3722,"children":3723},{"style":518},[3724],{"type":401,"value":3725},"        }\n",{"type":396,"tag":481,"props":3727,"children":3728},{"class":483,"line":694},[3729,3734,3738],{"type":396,"tag":481,"props":3730,"children":3731},{"style":518},[3732],{"type":401,"value":3733},"    }",{"type":396,"tag":481,"props":3735,"children":3736},{"style":533},[3737],{"type":401,"value":623},{"type":396,"tag":481,"props":3739,"children":3740},{"style":518},[3741],{"type":401,"value":938},{"type":396,"tag":481,"props":3743,"children":3744},{"class":483,"line":703},[3745,3749,3753,3758,3762,3767,3771,3776,3780,3785,3789],{"type":396,"tag":481,"props":3746,"children":3747},{"style":512},[3748],{"type":401,"value":3547},{"type":396,"tag":481,"props":3750,"children":3751},{"style":518},[3752],{"type":401,"value":593},{"type":396,"tag":481,"props":3754,"children":3755},{"style":506},[3756],{"type":401,"value":3757},"insertAfter",{"type":396,"tag":481,"props":3759,"children":3760},{"style":533},[3761],{"type":401,"value":565},{"type":396,"tag":481,"props":3763,"children":3764},{"style":512},[3765],{"type":401,"value":3766},"node",{"type":396,"tag":481,"props":3768,"children":3769},{"style":518},[3770],{"type":401,"value":521},{"type":396,"tag":481,"props":3772,"children":3773},{"style":512},[3774],{"type":401,"value":3775}," selectorParser",{"type":396,"tag":481,"props":3777,"children":3778},{"style":518},[3779],{"type":401,"value":593},{"type":396,"tag":481,"props":3781,"children":3782},{"style":506},[3783],{"type":401,"value":3784},"attribute",{"type":396,"tag":481,"props":3786,"children":3787},{"style":533},[3788],{"type":401,"value":565},{"type":396,"tag":481,"props":3790,"children":3791},{"style":518},[3792],{"type":401,"value":570},{"type":396,"tag":481,"props":3794,"children":3795},{"class":483,"line":941},[3796,3801,3805],{"type":396,"tag":481,"props":3797,"children":3798},{"style":533},[3799],{"type":401,"value":3800},"        attribute",{"type":396,"tag":481,"props":3802,"children":3803},{"style":518},[3804],{"type":401,"value":541},{"type":396,"tag":481,"props":3806,"children":3807},{"style":512},[3808],{"type":401,"value":3809}," id\n",{"type":396,"tag":481,"props":3811,"children":3812},{"class":483,"line":950},[3813,3817],{"type":396,"tag":481,"props":3814,"children":3815},{"style":518},[3816],{"type":401,"value":3733},{"type":396,"tag":481,"props":3818,"children":3819},{"style":533},[3820],{"type":401,"value":3821},"))\n",{"type":396,"tag":481,"props":3823,"children":3824},{"class":483,"line":959},[3825,3829],{"type":396,"tag":481,"props":3826,"children":3827},{"style":518},[3828],{"type":401,"value":709},{"type":396,"tag":481,"props":3830,"children":3831},{"style":512},[3832],{"type":401,"value":674},{"type":396,"tag":397,"props":3834,"children":3835},{},[3836,3838,3844],{"type":401,"value":3837},"题外话，通过以上代码，我们发现当循环处理到三种特定类型选择器便会终止，停止将 ",{"type":396,"tag":404,"props":3839,"children":3841},{"className":3840},[],[3842],{"type":401,"value":3843},"data-v-xxx",{"type":401,"value":3845}," 添加到选择器末尾：",{"type":396,"tag":2445,"props":3847,"children":3848},{},[3849,3859,3869],{"type":396,"tag":1335,"props":3850,"children":3851},{},[3852,3854],{"type":401,"value":3853},"伪类 ",{"type":396,"tag":404,"props":3855,"children":3857},{"className":3856},[],[3858],{"type":401,"value":3619},{"type":396,"tag":1335,"props":3860,"children":3861},{},[3862,3864],{"type":401,"value":3863},"选择器 ",{"type":396,"tag":404,"props":3865,"children":3867},{"className":3866},[],[3868],{"type":401,"value":3654},{"type":396,"tag":1335,"props":3870,"children":3871},{},[3872,3873],{"type":401,"value":3863},{"type":396,"tag":404,"props":3874,"children":3876},{"className":3875},[],[3877],{"type":401,"value":3687},{"type":396,"tag":397,"props":3879,"children":3880},{},[3881],{"type":401,"value":3882},"我们可以利用这个特征，在组件中写样式穿透，即内部组件影响外部组件样式 (ε=ε=ε=┏(゜ロ゜;)┛ 主动样式污染)，当然这在特定的情境下是有用的，比如当我们想主动覆盖第三方 UI 组件框架的样式，却不想引入新的 CSS 文件，或不想写非 Scoped CSS 模板的时候。",{"type":396,"tag":1507,"props":3884,"children":3885},{},[3886],{"type":401,"value":3887},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":389,"searchDepth":529,"depth":529,"links":3889},[3890,3891,3892],{"id":431,"depth":529,"text":431},{"id":751,"depth":529,"text":754},{"id":1399,"depth":529,"text":1394,"children":3893},[3894,3895],{"id":1405,"depth":549,"text":1408},{"id":1591,"depth":549,"text":1591},"markdown","content:8.source-code:_js:vue2-source:4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css","md",[3902,3905],{"_path":3903,"title":3904,"description":391},"/source-code/_js/vue2-source/global-api","Vue2 Global API",{"_path":3906,"title":3907,"description":391},"/source-code/_js/vue2-source/test-kit","Vue2 Test Kit",1742040638488]