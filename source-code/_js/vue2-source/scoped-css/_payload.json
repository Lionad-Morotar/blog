[{"data":1,"prerenderedAt":3917},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/scoped-css":393,"/source-code/_js/vue2-source/scoped-css-surround":3910},[4,35,86,105,132,138,144,150,387],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"数字化转型","/gists/digital-transformation",{"title":205,"_path":206},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":208,"_path":209},"正则表达式","/gists/eegex",{"title":211,"_path":212},"Emoji","/gists/emoji",{"title":214,"_path":215},"工程","/gists/engineering",{"title":217,"_path":218},"熵","/gists/entropy",{"title":220,"_path":221},"Environment","/gists/environment",{"title":223,"_path":224},"Erlang","/gists/erlang",{"title":226,"_path":227},"逃离塔克夫","/gists/escape-from-tarkov",{"title":229,"_path":230},"ESNext (ES6-ES11)","/gists/esnext",{"title":232,"_path":233},"Eval！","/gists/eval",{"title":235,"_path":236},"Flutter","/gists/flutter",{"title":238,"_path":239},"字体","/gists/font",{"title":241,"_path":242},"JS 函数式编程","/gists/functional",{"title":244,"_path":245},"游戏化","/gists/gamification",{"title":247,"_path":248},"Google C++ Standard","/gists/google-cpp-standard",{"title":250,"_path":251},"双向链接完全体","/gists/graph",{"title":253,"_path":254},"Hardwares","/gists/hardwares",{"title":256,"_path":257},"哈希冲突","/gists/hash-collision",{"title":259,"_path":260},"信息设计","/gists/information-design",{"title":262,"_path":263},"InstantPage","/gists/instant.page",{"title":265,"_path":266},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":268,"_path":269},"KVStore","/gists/key-value-db",{"title":271,"_path":272},"Kubernetes","/gists/kubernetes",{"title":274,"_path":275},"Makefile","/gists/makefile",{"title":277,"_path":278},"Markdown Inline Style","/gists/markdown-nice",{"title":280,"_path":281},"小程序","/gists/miniapp",{"title":283,"_path":284},"减小页面快照体积","/gists/minify-html",{"title":286,"_path":287},"mklink","/gists/mklink",{"title":289,"_path":290},"Mock","/gists/mock",{"title":292,"_path":293},"多人协作系统","/gists/multiplayer",{"title":295,"_path":296},"多端应用","/gists/multy-end-app",{"title":298,"_path":299},"神经科学","/gists/neuroscience",{"title":301,"_path":302},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":304,"_path":305},"PInvoke","/gists/pinvoke",{"title":307,"_path":308},"像素","/gists/pixel",{"title":310,"_path":311},"PowerShell","/gists/powershell",{"title":313,"_path":314},"量子","/gists/quantum",{"title":316,"_path":317},"保持好奇心","/gists/questions",{"title":319,"_path":320},"React Native","/gists/react-native",{"title":322,"_path":323},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":325,"_path":326},"SEO","/gists/seo",{"title":328,"_path":329},"Shader","/gists/shader",{"title":331,"_path":332},"Shape Up","/gists/shape-up",{"title":334,"_path":335},"睡觉","/gists/sleep",{"title":337,"_path":338},"记录奇怪的问题","/gists/solved",{"title":340,"_path":341},"States","/gists/states",{"title":343,"_path":344},"Storage","/gists/storage",{"title":346,"_path":347},"音视频流处理","/gists/stream-cli",{"title":349,"_path":350},"Symbol","/gists/symbol",{"title":352,"_path":353},"系统论","/gists/systems-theory",{"title":355,"_path":356},"Taro","/gists/taro",{"title":358,"_path":359},"任务切片","/gists/task-slice",{"title":361,"_path":362},"技术偏好","/gists/tech-dudge",{"title":364,"_path":365},"Untitled","/gists/untitled",{"title":367,"_path":368},"可变字体","/gists/variable-font",{"title":370,"_path":371},"视觉错觉","/gists/visual-illusion",{"title":373,"_path":374},"SS(SSR)","/gists/vpn",{"title":376,"_path":377},"VS Code 插件开发","/gists/vscode-plugin",{"title":379,"_path":380},"Web Components","/gists/web-components",{"title":382,"_path":383},"Windows","/gists/windows",{"title":385,"_path":386},"查缺补漏","/gists/wrong",{"title":388,"_path":389,"children":390},"我 / About","/hire",[391],{"title":392,"_path":389},"📬 技术简历",{"_path":394,"_dir":395,"_draft":396,"_partial":397,"_locale":398,"title":399,"description":400,"body":401,"_type":3905,"_id":3906,"_source":1151,"_file":3907,"_stem":3908,"_extension":3909},"/source-code/_js/vue2-source/scoped-css","vue2-source",false,true,"","Vue2 Scoped CSS","deprecated warning",{"type":402,"children":403,"toc":3897},"root",[404,437,443,479,723,744,753,758,764,785,1327,1339,1393,1406,1411,1418,1439,1598,1603,1630,1822,1842,2125,2132,2160,2432,2453,2472,2477,2594,2599,2997,3010,3225,3230,3267,3472,3492,3842,3855,3887,3892],{"type":405,"tag":406,"props":407,"children":408},"element","p",{},[409,412,419,421,427,429,435],{"type":410,"value":411},"text","使用 VueJS 开发应用离不开模块拆分，即将大块界面拆解为组件的过程。我们可以很方便的在单文件中使用",{"type":405,"tag":413,"props":414,"children":416},"code",{"className":415},[],[417],{"type":410,"value":418},"\u003Ctemplate>",{"type":410,"value":420},"块维护组件的视图，使用",{"type":405,"tag":413,"props":422,"children":424},{"className":423},[],[425],{"type":410,"value":426},"\u003Cscript>",{"type":410,"value":428},"维护组件的逻辑部分，使用",{"type":405,"tag":413,"props":430,"children":432},{"className":431},[],[433],{"type":410,"value":434},"\u003Cstyle>",{"type":410,"value":436},"维护组件的样式。在我们编写 VueJS 组件样式时，不得忽略的一点就是如何防止以及反制样式污染。",{"type":405,"tag":438,"props":439,"children":441},"h2",{"id":440},"样式污染产生原因",[442],{"type":410,"value":440},{"type":405,"tag":406,"props":444,"children":445},{},[446,448,454,456,462,464,477],{"type":410,"value":447},"提及样式污染，主要要追溯到",{"type":405,"tag":413,"props":449,"children":451},{"className":450},[],[452],{"type":410,"value":453},"webpack",{"type":410,"value":455},"对",{"type":405,"tag":413,"props":457,"children":459},{"className":458},[],[460],{"type":410,"value":461},"CSS",{"type":410,"value":463},"文件的打包过程，这里我们以",{"type":405,"tag":465,"props":466,"children":470},"a",{"href":467,"rel":468},"https://github.com/PanJiaChen/vue-element-admin",[469],"nofollow",[471],{"type":405,"tag":413,"props":472,"children":474},{"className":473},[],[475],{"type":410,"value":476},"Vue-Element-Admin",{"type":410,"value":478},"中的 webpack 配置项举例：",{"type":405,"tag":480,"props":481,"children":485},"pre",{"className":482,"code":483,"language":484,"meta":398,"style":398},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","const webpackConfig = merge(baseWebpackConfig, {\n    plugins: [\n        new MiniCssExtractPlugin({\n          filename: utils.assetsPath('css/[name].[contenthash:8].css'),\n          chunkFilename: utils.assetsPath('css/[name].[contenthash:8].css')\n        }),\n    ]\n})\n","js",[486],{"type":405,"tag":413,"props":487,"children":488},{"__ignoreMap":398},[489,536,556,580,638,684,701,710],{"type":405,"tag":490,"props":491,"children":494},"span",{"class":492,"line":493},"line",1,[495,501,507,513,519,525,531],{"type":405,"tag":490,"props":496,"children":498},{"style":497},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[499],{"type":410,"value":500},"const",{"type":405,"tag":490,"props":502,"children":504},{"style":503},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[505],{"type":410,"value":506}," webpackConfig",{"type":405,"tag":490,"props":508,"children":510},{"style":509},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[511],{"type":410,"value":512}," =",{"type":405,"tag":490,"props":514,"children":516},{"style":515},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[517],{"type":410,"value":518}," merge",{"type":405,"tag":490,"props":520,"children":522},{"style":521},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[523],{"type":410,"value":524},"(baseWebpackConfig",{"type":405,"tag":490,"props":526,"children":528},{"style":527},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[529],{"type":410,"value":530},",",{"type":405,"tag":490,"props":532,"children":533},{"style":527},[534],{"type":410,"value":535}," {\n",{"type":405,"tag":490,"props":537,"children":539},{"class":492,"line":538},2,[540,546,551],{"type":405,"tag":490,"props":541,"children":543},{"style":542},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[544],{"type":410,"value":545},"    plugins",{"type":405,"tag":490,"props":547,"children":548},{"style":527},[549],{"type":410,"value":550},":",{"type":405,"tag":490,"props":552,"children":553},{"style":521},[554],{"type":410,"value":555}," [\n",{"type":405,"tag":490,"props":557,"children":559},{"class":492,"line":558},3,[560,565,570,575],{"type":405,"tag":490,"props":561,"children":562},{"style":509},[563],{"type":410,"value":564},"        new",{"type":405,"tag":490,"props":566,"children":567},{"style":515},[568],{"type":410,"value":569}," MiniCssExtractPlugin",{"type":405,"tag":490,"props":571,"children":572},{"style":521},[573],{"type":410,"value":574},"(",{"type":405,"tag":490,"props":576,"children":577},{"style":527},[578],{"type":410,"value":579},"{\n",{"type":405,"tag":490,"props":581,"children":583},{"class":492,"line":582},4,[584,589,593,598,603,608,612,618,624,628,633],{"type":405,"tag":490,"props":585,"children":586},{"style":542},[587],{"type":410,"value":588},"          filename",{"type":405,"tag":490,"props":590,"children":591},{"style":527},[592],{"type":410,"value":550},{"type":405,"tag":490,"props":594,"children":595},{"style":521},[596],{"type":410,"value":597}," utils",{"type":405,"tag":490,"props":599,"children":600},{"style":527},[601],{"type":410,"value":602},".",{"type":405,"tag":490,"props":604,"children":605},{"style":515},[606],{"type":410,"value":607},"assetsPath",{"type":405,"tag":490,"props":609,"children":610},{"style":521},[611],{"type":410,"value":574},{"type":405,"tag":490,"props":613,"children":615},{"style":614},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[616],{"type":410,"value":617},"'",{"type":405,"tag":490,"props":619,"children":621},{"style":620},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[622],{"type":410,"value":623},"css/[name].[contenthash:8].css",{"type":405,"tag":490,"props":625,"children":626},{"style":614},[627],{"type":410,"value":617},{"type":405,"tag":490,"props":629,"children":630},{"style":521},[631],{"type":410,"value":632},")",{"type":405,"tag":490,"props":634,"children":635},{"style":527},[636],{"type":410,"value":637},",\n",{"type":405,"tag":490,"props":639,"children":641},{"class":492,"line":640},5,[642,647,651,655,659,663,667,671,675,679],{"type":405,"tag":490,"props":643,"children":644},{"style":542},[645],{"type":410,"value":646},"          chunkFilename",{"type":405,"tag":490,"props":648,"children":649},{"style":527},[650],{"type":410,"value":550},{"type":405,"tag":490,"props":652,"children":653},{"style":521},[654],{"type":410,"value":597},{"type":405,"tag":490,"props":656,"children":657},{"style":527},[658],{"type":410,"value":602},{"type":405,"tag":490,"props":660,"children":661},{"style":515},[662],{"type":410,"value":607},{"type":405,"tag":490,"props":664,"children":665},{"style":521},[666],{"type":410,"value":574},{"type":405,"tag":490,"props":668,"children":669},{"style":614},[670],{"type":410,"value":617},{"type":405,"tag":490,"props":672,"children":673},{"style":620},[674],{"type":410,"value":623},{"type":405,"tag":490,"props":676,"children":677},{"style":614},[678],{"type":410,"value":617},{"type":405,"tag":490,"props":680,"children":681},{"style":521},[682],{"type":410,"value":683},")\n",{"type":405,"tag":490,"props":685,"children":687},{"class":492,"line":686},6,[688,693,697],{"type":405,"tag":490,"props":689,"children":690},{"style":527},[691],{"type":410,"value":692},"        }",{"type":405,"tag":490,"props":694,"children":695},{"style":521},[696],{"type":410,"value":632},{"type":405,"tag":490,"props":698,"children":699},{"style":527},[700],{"type":410,"value":637},{"type":405,"tag":490,"props":702,"children":704},{"class":492,"line":703},7,[705],{"type":405,"tag":490,"props":706,"children":707},{"style":521},[708],{"type":410,"value":709},"    ]\n",{"type":405,"tag":490,"props":711,"children":713},{"class":492,"line":712},8,[714,719],{"type":405,"tag":490,"props":715,"children":716},{"style":527},[717],{"type":410,"value":718},"}",{"type":405,"tag":490,"props":720,"children":721},{"style":521},[722],{"type":410,"value":683},{"type":405,"tag":406,"props":724,"children":725},{},[726,728,734,736,742],{"type":410,"value":727},"webpack 使用 ",{"type":405,"tag":413,"props":729,"children":731},{"className":730},[],[732],{"type":410,"value":733},"MiniCssExtractPlugin",{"type":410,"value":735}," 插件，将文件(如 Vue 单文件组件)中的 CSS 代码，经过处理后，分离到形如",{"type":405,"tag":413,"props":737,"children":739},{"className":738},[],[740],{"type":410,"value":741},"app.hash1234.css",{"type":410,"value":743},"的单独的 CSS 文件：",{"type":405,"tag":406,"props":745,"children":746},{},[747],{"type":405,"tag":748,"props":749,"children":752},"img",{"alt":750,"src":751},"单独的CSS文件","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/scoped-css/browser_fYMdZDAMsI.png",[],{"type":405,"tag":406,"props":754,"children":755},{},[756],{"type":410,"value":757},"如果没有加入防止样式污染的措施的同时，项目中存在了大量的同名 ClassName，那么可能会产生意想不到的 CSS 选择器权重覆盖。这可能使后文件中某部分选择器权重更高的类影响整个应用，而此过程通常发生在组件的编写中，所以一般称之为组件样式污染。",{"type":405,"tag":438,"props":759,"children":761},{"id":760},"webpack-vue-sfc-object",[762],{"type":410,"value":763},"webpack & Vue SFC Object",{"type":405,"tag":406,"props":765,"children":766},{},[767,769,775,777,783],{"type":410,"value":768},"对于 Vue 项目而言，使用 webpack 将极大的优化了工作流程，因为通过",{"type":405,"tag":413,"props":770,"children":772},{"className":771},[],[773],{"type":410,"value":774},"Vue Loader",{"type":410,"value":776},"，Vue 单文件组件能很好的融合进 webpack 工作流中。我们写的单文件组件都被处理为了",{"type":405,"tag":413,"props":778,"children":780},{"className":779},[],[781],{"type":410,"value":782},"SFC对象",{"type":410,"value":784},"，即包含了单个 HTML 模块，单个脚本模块，一个或多个样式模块，一个或多个自定义模块的对象：",{"type":405,"tag":480,"props":786,"children":788},{"className":482,"code":787,"language":484,"meta":398,"style":398},"// vue-loader/index.js\nconst descriptor = parse({\n  source,\n  compiler: options.compiler || loadTemplateCompiler(),\n  filename,\n  sourceRoot,\n  needMap: sourceMap,\n});\n\n// vuejs/component-compiler-utils/index.js\nfunction parse(options) {\n  const { compiler } = options;\n  output = compiler.parseComponent(source, compilerParseOptions);\n  return output;\n}\n\n// vue.js\nfunction parseComponent(content, options) {\n  // ...\n  var sfc = {\n    template: null,\n    script: null,\n    styles: [],\n    customBlocks: [],\n  };\n  // ...\n  return sfc;\n}\n",[789],{"type":405,"tag":413,"props":790,"children":791},{"__ignoreMap":398},[792,801,830,842,887,899,911,932,948,957,966,997,1033,1085,1104,1113,1121,1130,1168,1177,1199,1222,1243,1265,1286,1295,1303,1319],{"type":405,"tag":490,"props":793,"children":794},{"class":492,"line":493},[795],{"type":405,"tag":490,"props":796,"children":798},{"style":797},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[799],{"type":410,"value":800},"// vue-loader/index.js\n",{"type":405,"tag":490,"props":802,"children":803},{"class":492,"line":538},[804,808,813,817,822,826],{"type":405,"tag":490,"props":805,"children":806},{"style":497},[807],{"type":410,"value":500},{"type":405,"tag":490,"props":809,"children":810},{"style":503},[811],{"type":410,"value":812}," descriptor",{"type":405,"tag":490,"props":814,"children":815},{"style":509},[816],{"type":410,"value":512},{"type":405,"tag":490,"props":818,"children":819},{"style":515},[820],{"type":410,"value":821}," parse",{"type":405,"tag":490,"props":823,"children":824},{"style":521},[825],{"type":410,"value":574},{"type":405,"tag":490,"props":827,"children":828},{"style":527},[829],{"type":410,"value":579},{"type":405,"tag":490,"props":831,"children":832},{"class":492,"line":558},[833,838],{"type":405,"tag":490,"props":834,"children":835},{"style":521},[836],{"type":410,"value":837},"  source",{"type":405,"tag":490,"props":839,"children":840},{"style":527},[841],{"type":410,"value":637},{"type":405,"tag":490,"props":843,"children":844},{"class":492,"line":582},[845,850,854,859,863,868,873,878,883],{"type":405,"tag":490,"props":846,"children":847},{"style":542},[848],{"type":410,"value":849},"  compiler",{"type":405,"tag":490,"props":851,"children":852},{"style":527},[853],{"type":410,"value":550},{"type":405,"tag":490,"props":855,"children":856},{"style":521},[857],{"type":410,"value":858}," options",{"type":405,"tag":490,"props":860,"children":861},{"style":527},[862],{"type":410,"value":602},{"type":405,"tag":490,"props":864,"children":865},{"style":521},[866],{"type":410,"value":867},"compiler ",{"type":405,"tag":490,"props":869,"children":870},{"style":509},[871],{"type":410,"value":872},"||",{"type":405,"tag":490,"props":874,"children":875},{"style":515},[876],{"type":410,"value":877}," loadTemplateCompiler",{"type":405,"tag":490,"props":879,"children":880},{"style":521},[881],{"type":410,"value":882},"()",{"type":405,"tag":490,"props":884,"children":885},{"style":527},[886],{"type":410,"value":637},{"type":405,"tag":490,"props":888,"children":889},{"class":492,"line":640},[890,895],{"type":405,"tag":490,"props":891,"children":892},{"style":521},[893],{"type":410,"value":894},"  filename",{"type":405,"tag":490,"props":896,"children":897},{"style":527},[898],{"type":410,"value":637},{"type":405,"tag":490,"props":900,"children":901},{"class":492,"line":686},[902,907],{"type":405,"tag":490,"props":903,"children":904},{"style":521},[905],{"type":410,"value":906},"  sourceRoot",{"type":405,"tag":490,"props":908,"children":909},{"style":527},[910],{"type":410,"value":637},{"type":405,"tag":490,"props":912,"children":913},{"class":492,"line":703},[914,919,923,928],{"type":405,"tag":490,"props":915,"children":916},{"style":542},[917],{"type":410,"value":918},"  needMap",{"type":405,"tag":490,"props":920,"children":921},{"style":527},[922],{"type":410,"value":550},{"type":405,"tag":490,"props":924,"children":925},{"style":521},[926],{"type":410,"value":927}," sourceMap",{"type":405,"tag":490,"props":929,"children":930},{"style":527},[931],{"type":410,"value":637},{"type":405,"tag":490,"props":933,"children":934},{"class":492,"line":712},[935,939,943],{"type":405,"tag":490,"props":936,"children":937},{"style":527},[938],{"type":410,"value":718},{"type":405,"tag":490,"props":940,"children":941},{"style":521},[942],{"type":410,"value":632},{"type":405,"tag":490,"props":944,"children":945},{"style":527},[946],{"type":410,"value":947},";\n",{"type":405,"tag":490,"props":949,"children":951},{"class":492,"line":950},9,[952],{"type":405,"tag":490,"props":953,"children":954},{"emptyLinePlaceholder":397},[955],{"type":410,"value":956},"\n",{"type":405,"tag":490,"props":958,"children":960},{"class":492,"line":959},10,[961],{"type":405,"tag":490,"props":962,"children":963},{"style":797},[964],{"type":410,"value":965},"// vuejs/component-compiler-utils/index.js\n",{"type":405,"tag":490,"props":967,"children":969},{"class":492,"line":968},11,[970,975,979,983,989,993],{"type":405,"tag":490,"props":971,"children":972},{"style":497},[973],{"type":410,"value":974},"function",{"type":405,"tag":490,"props":976,"children":977},{"style":515},[978],{"type":410,"value":821},{"type":405,"tag":490,"props":980,"children":981},{"style":527},[982],{"type":410,"value":574},{"type":405,"tag":490,"props":984,"children":986},{"style":985},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[987],{"type":410,"value":988},"options",{"type":405,"tag":490,"props":990,"children":991},{"style":527},[992],{"type":410,"value":632},{"type":405,"tag":490,"props":994,"children":995},{"style":527},[996],{"type":410,"value":535},{"type":405,"tag":490,"props":998,"children":1000},{"class":492,"line":999},12,[1001,1006,1011,1016,1021,1025,1029],{"type":405,"tag":490,"props":1002,"children":1003},{"style":497},[1004],{"type":410,"value":1005},"  const",{"type":405,"tag":490,"props":1007,"children":1008},{"style":527},[1009],{"type":410,"value":1010}," {",{"type":405,"tag":490,"props":1012,"children":1013},{"style":503},[1014],{"type":410,"value":1015}," compiler",{"type":405,"tag":490,"props":1017,"children":1018},{"style":527},[1019],{"type":410,"value":1020}," }",{"type":405,"tag":490,"props":1022,"children":1023},{"style":509},[1024],{"type":410,"value":512},{"type":405,"tag":490,"props":1026,"children":1027},{"style":521},[1028],{"type":410,"value":858},{"type":405,"tag":490,"props":1030,"children":1031},{"style":527},[1032],{"type":410,"value":947},{"type":405,"tag":490,"props":1034,"children":1036},{"class":492,"line":1035},13,[1037,1042,1046,1050,1054,1059,1063,1068,1072,1077,1081],{"type":405,"tag":490,"props":1038,"children":1039},{"style":521},[1040],{"type":410,"value":1041},"  output",{"type":405,"tag":490,"props":1043,"children":1044},{"style":509},[1045],{"type":410,"value":512},{"type":405,"tag":490,"props":1047,"children":1048},{"style":521},[1049],{"type":410,"value":1015},{"type":405,"tag":490,"props":1051,"children":1052},{"style":527},[1053],{"type":410,"value":602},{"type":405,"tag":490,"props":1055,"children":1056},{"style":515},[1057],{"type":410,"value":1058},"parseComponent",{"type":405,"tag":490,"props":1060,"children":1061},{"style":542},[1062],{"type":410,"value":574},{"type":405,"tag":490,"props":1064,"children":1065},{"style":521},[1066],{"type":410,"value":1067},"source",{"type":405,"tag":490,"props":1069,"children":1070},{"style":527},[1071],{"type":410,"value":530},{"type":405,"tag":490,"props":1073,"children":1074},{"style":521},[1075],{"type":410,"value":1076}," compilerParseOptions",{"type":405,"tag":490,"props":1078,"children":1079},{"style":542},[1080],{"type":410,"value":632},{"type":405,"tag":490,"props":1082,"children":1083},{"style":527},[1084],{"type":410,"value":947},{"type":405,"tag":490,"props":1086,"children":1088},{"class":492,"line":1087},14,[1089,1095,1100],{"type":405,"tag":490,"props":1090,"children":1092},{"style":1091},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1093],{"type":410,"value":1094},"  return",{"type":405,"tag":490,"props":1096,"children":1097},{"style":521},[1098],{"type":410,"value":1099}," output",{"type":405,"tag":490,"props":1101,"children":1102},{"style":527},[1103],{"type":410,"value":947},{"type":405,"tag":490,"props":1105,"children":1107},{"class":492,"line":1106},15,[1108],{"type":405,"tag":490,"props":1109,"children":1110},{"style":527},[1111],{"type":410,"value":1112},"}\n",{"type":405,"tag":490,"props":1114,"children":1116},{"class":492,"line":1115},16,[1117],{"type":405,"tag":490,"props":1118,"children":1119},{"emptyLinePlaceholder":397},[1120],{"type":410,"value":956},{"type":405,"tag":490,"props":1122,"children":1124},{"class":492,"line":1123},17,[1125],{"type":405,"tag":490,"props":1126,"children":1127},{"style":797},[1128],{"type":410,"value":1129},"// vue.js\n",{"type":405,"tag":490,"props":1131,"children":1133},{"class":492,"line":1132},18,[1134,1138,1143,1147,1152,1156,1160,1164],{"type":405,"tag":490,"props":1135,"children":1136},{"style":497},[1137],{"type":410,"value":974},{"type":405,"tag":490,"props":1139,"children":1140},{"style":515},[1141],{"type":410,"value":1142}," parseComponent",{"type":405,"tag":490,"props":1144,"children":1145},{"style":527},[1146],{"type":410,"value":574},{"type":405,"tag":490,"props":1148,"children":1149},{"style":985},[1150],{"type":410,"value":1151},"content",{"type":405,"tag":490,"props":1153,"children":1154},{"style":527},[1155],{"type":410,"value":530},{"type":405,"tag":490,"props":1157,"children":1158},{"style":985},[1159],{"type":410,"value":858},{"type":405,"tag":490,"props":1161,"children":1162},{"style":527},[1163],{"type":410,"value":632},{"type":405,"tag":490,"props":1165,"children":1166},{"style":527},[1167],{"type":410,"value":535},{"type":405,"tag":490,"props":1169,"children":1171},{"class":492,"line":1170},19,[1172],{"type":405,"tag":490,"props":1173,"children":1174},{"style":797},[1175],{"type":410,"value":1176},"  // ...\n",{"type":405,"tag":490,"props":1178,"children":1180},{"class":492,"line":1179},20,[1181,1186,1191,1195],{"type":405,"tag":490,"props":1182,"children":1183},{"style":497},[1184],{"type":410,"value":1185},"  var",{"type":405,"tag":490,"props":1187,"children":1188},{"style":521},[1189],{"type":410,"value":1190}," sfc",{"type":405,"tag":490,"props":1192,"children":1193},{"style":509},[1194],{"type":410,"value":512},{"type":405,"tag":490,"props":1196,"children":1197},{"style":527},[1198],{"type":410,"value":535},{"type":405,"tag":490,"props":1200,"children":1202},{"class":492,"line":1201},21,[1203,1208,1212,1218],{"type":405,"tag":490,"props":1204,"children":1205},{"style":542},[1206],{"type":410,"value":1207},"    template",{"type":405,"tag":490,"props":1209,"children":1210},{"style":527},[1211],{"type":410,"value":550},{"type":405,"tag":490,"props":1213,"children":1215},{"style":1214},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1216],{"type":410,"value":1217}," null",{"type":405,"tag":490,"props":1219,"children":1220},{"style":527},[1221],{"type":410,"value":637},{"type":405,"tag":490,"props":1223,"children":1225},{"class":492,"line":1224},22,[1226,1231,1235,1239],{"type":405,"tag":490,"props":1227,"children":1228},{"style":542},[1229],{"type":410,"value":1230},"    script",{"type":405,"tag":490,"props":1232,"children":1233},{"style":527},[1234],{"type":410,"value":550},{"type":405,"tag":490,"props":1236,"children":1237},{"style":1214},[1238],{"type":410,"value":1217},{"type":405,"tag":490,"props":1240,"children":1241},{"style":527},[1242],{"type":410,"value":637},{"type":405,"tag":490,"props":1244,"children":1246},{"class":492,"line":1245},23,[1247,1252,1256,1261],{"type":405,"tag":490,"props":1248,"children":1249},{"style":542},[1250],{"type":410,"value":1251},"    styles",{"type":405,"tag":490,"props":1253,"children":1254},{"style":527},[1255],{"type":410,"value":550},{"type":405,"tag":490,"props":1257,"children":1258},{"style":542},[1259],{"type":410,"value":1260}," []",{"type":405,"tag":490,"props":1262,"children":1263},{"style":527},[1264],{"type":410,"value":637},{"type":405,"tag":490,"props":1266,"children":1268},{"class":492,"line":1267},24,[1269,1274,1278,1282],{"type":405,"tag":490,"props":1270,"children":1271},{"style":542},[1272],{"type":410,"value":1273},"    customBlocks",{"type":405,"tag":490,"props":1275,"children":1276},{"style":527},[1277],{"type":410,"value":550},{"type":405,"tag":490,"props":1279,"children":1280},{"style":542},[1281],{"type":410,"value":1260},{"type":405,"tag":490,"props":1283,"children":1284},{"style":527},[1285],{"type":410,"value":637},{"type":405,"tag":490,"props":1287,"children":1289},{"class":492,"line":1288},25,[1290],{"type":405,"tag":490,"props":1291,"children":1292},{"style":527},[1293],{"type":410,"value":1294},"  };\n",{"type":405,"tag":490,"props":1296,"children":1298},{"class":492,"line":1297},26,[1299],{"type":405,"tag":490,"props":1300,"children":1301},{"style":797},[1302],{"type":410,"value":1176},{"type":405,"tag":490,"props":1304,"children":1306},{"class":492,"line":1305},27,[1307,1311,1315],{"type":405,"tag":490,"props":1308,"children":1309},{"style":1091},[1310],{"type":410,"value":1094},{"type":405,"tag":490,"props":1312,"children":1313},{"style":521},[1314],{"type":410,"value":1190},{"type":405,"tag":490,"props":1316,"children":1317},{"style":527},[1318],{"type":410,"value":947},{"type":405,"tag":490,"props":1320,"children":1322},{"class":492,"line":1321},28,[1323],{"type":405,"tag":490,"props":1324,"children":1325},{"style":527},[1326],{"type":410,"value":1112},{"type":405,"tag":406,"props":1328,"children":1329},{},[1330,1332,1337],{"type":410,"value":1331},"我们可以将 SFC 结构融合到",{"type":405,"tag":413,"props":1333,"children":1335},{"className":1334},[],[1336],{"type":410,"value":453},{"type":410,"value":1338},"进行开发的过程成中，主要有这几点影响：",{"type":405,"tag":1340,"props":1341,"children":1342},"ul",{},[1343,1364,1383,1388],{"type":405,"tag":1344,"props":1345,"children":1346},"li",{},[1347,1349,1354,1356,1362],{"type":410,"value":1348},"允许为 Vue 组件的每个部分使用其它的 webpack loader，例如在",{"type":405,"tag":413,"props":1350,"children":1352},{"className":1351},[],[1353],{"type":410,"value":434},{"type":410,"value":1355},"的部分使用 Sass Loader ，在 ",{"type":405,"tag":413,"props":1357,"children":1359},{"className":1358},[],[1360],{"type":410,"value":1361},"\u003CcustomBlocks>",{"type":410,"value":1363},"的部分使用自定义 Loader",{"type":405,"tag":1344,"props":1365,"children":1366},{},[1367,1369,1374,1376,1381],{"type":410,"value":1368},"使用 webpack loader 将 ",{"type":405,"tag":413,"props":1370,"children":1372},{"className":1371},[],[1373],{"type":410,"value":434},{"type":410,"value":1375},"和 ",{"type":405,"tag":413,"props":1377,"children":1379},{"className":1378},[],[1380],{"type":410,"value":418},{"type":410,"value":1382}," 中引用的资源当作模块依赖来处理",{"type":405,"tag":1344,"props":1384,"children":1385},{},[1386],{"type":410,"value":1387},"模拟 Scoped CSS",{"type":405,"tag":1344,"props":1389,"children":1390},{},[1391],{"type":410,"value":1392},"在开发过程中使用热重载来保持状态",{"type":405,"tag":406,"props":1394,"children":1395},{},[1396,1398,1404],{"type":410,"value":1397},"以下主要介绍",{"type":405,"tag":413,"props":1399,"children":1401},{"className":1400},[],[1402],{"type":410,"value":1403},"Scoped CSS",{"type":410,"value":1405},"的原理。",{"type":405,"tag":438,"props":1407,"children":1409},{"id":1408},"scoped-css",[1410],{"type":410,"value":1403},{"type":405,"tag":1412,"props":1413,"children":1415},"h3",{"id":1414},"大白话版本之-scoped-css-原理",[1416],{"type":410,"value":1417},"大白话版本之 Scoped CSS 原理",{"type":405,"tag":406,"props":1419,"children":1420},{},[1421,1423,1429,1431,1437],{"type":410,"value":1422},"通过 webpack 调用 VueJS 中相应 Loader，给组件 HTML 模板添加自定义属性 (Attribute) ",{"type":405,"tag":413,"props":1424,"children":1426},{"className":1425},[],[1427],{"type":410,"value":1428},"data-v-x",{"type":410,"value":1430},"，以及给组件内 CSS 选择器添加对应的属性选择器 (Attribute Selector) ",{"type":405,"tag":413,"props":1432,"children":1434},{"className":1433},[],[1435],{"type":410,"value":1436},"[data-v-x]",{"type":410,"value":1438},"，达到组件内样式只能生效与组件内 HTML 的效果，代码效果如下：",{"type":405,"tag":480,"props":1440,"children":1444},{"className":1441,"code":1442,"language":1443,"meta":398,"style":398},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cdiv class='lionad' data-v-lionad>\u003C/div>\n\u003Cstyle>\n.lionad[data-v-lionad] {\n  background: @tiger-orange;\n}\n\u003C/style>\n","html",[1445],{"type":405,"tag":413,"props":1446,"children":1447},{"__ignoreMap":398},[1448,1505,1521,1553,1575,1582],{"type":405,"tag":490,"props":1449,"children":1450},{"class":492,"line":493},[1451,1456,1462,1468,1473,1477,1482,1486,1491,1496,1500],{"type":405,"tag":490,"props":1452,"children":1453},{"style":527},[1454],{"type":410,"value":1455},"\u003C",{"type":405,"tag":490,"props":1457,"children":1459},{"style":1458},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1460],{"type":410,"value":1461},"div",{"type":405,"tag":490,"props":1463,"children":1465},{"style":1464},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1466],{"type":410,"value":1467}," class",{"type":405,"tag":490,"props":1469,"children":1470},{"style":527},[1471],{"type":410,"value":1472},"=",{"type":405,"tag":490,"props":1474,"children":1475},{"style":614},[1476],{"type":410,"value":617},{"type":405,"tag":490,"props":1478,"children":1479},{"style":620},[1480],{"type":410,"value":1481},"lionad",{"type":405,"tag":490,"props":1483,"children":1484},{"style":614},[1485],{"type":410,"value":617},{"type":405,"tag":490,"props":1487,"children":1488},{"style":1464},[1489],{"type":410,"value":1490}," data-v-lionad",{"type":405,"tag":490,"props":1492,"children":1493},{"style":527},[1494],{"type":410,"value":1495},">\u003C/",{"type":405,"tag":490,"props":1497,"children":1498},{"style":1458},[1499],{"type":410,"value":1461},{"type":405,"tag":490,"props":1501,"children":1502},{"style":527},[1503],{"type":410,"value":1504},">\n",{"type":405,"tag":490,"props":1506,"children":1507},{"class":492,"line":538},[1508,1512,1517],{"type":405,"tag":490,"props":1509,"children":1510},{"style":527},[1511],{"type":410,"value":1455},{"type":405,"tag":490,"props":1513,"children":1514},{"style":1458},[1515],{"type":410,"value":1516},"style",{"type":405,"tag":490,"props":1518,"children":1519},{"style":527},[1520],{"type":410,"value":1504},{"type":405,"tag":490,"props":1522,"children":1523},{"class":492,"line":558},[1524,1529,1534,1539,1544,1549],{"type":405,"tag":490,"props":1525,"children":1527},{"style":1526},"--shiki-light:#39ADB5;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1528],{"type":410,"value":602},{"type":405,"tag":490,"props":1530,"children":1532},{"style":1531},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1533],{"type":410,"value":1481},{"type":405,"tag":490,"props":1535,"children":1536},{"style":527},[1537],{"type":410,"value":1538},"[",{"type":405,"tag":490,"props":1540,"children":1541},{"style":1464},[1542],{"type":410,"value":1543},"data-v-lionad",{"type":405,"tag":490,"props":1545,"children":1546},{"style":527},[1547],{"type":410,"value":1548},"]",{"type":405,"tag":490,"props":1550,"children":1551},{"style":527},[1552],{"type":410,"value":535},{"type":405,"tag":490,"props":1554,"children":1555},{"class":492,"line":582},[1556,1562,1566,1571],{"type":405,"tag":490,"props":1557,"children":1559},{"style":1558},"--shiki-light:#8796B0;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1560],{"type":410,"value":1561},"  background",{"type":405,"tag":490,"props":1563,"children":1564},{"style":527},[1565],{"type":410,"value":550},{"type":405,"tag":490,"props":1567,"children":1568},{"style":521},[1569],{"type":410,"value":1570}," @tiger-orange",{"type":405,"tag":490,"props":1572,"children":1573},{"style":527},[1574],{"type":410,"value":947},{"type":405,"tag":490,"props":1576,"children":1577},{"class":492,"line":640},[1578],{"type":405,"tag":490,"props":1579,"children":1580},{"style":527},[1581],{"type":410,"value":1112},{"type":405,"tag":490,"props":1583,"children":1584},{"class":492,"line":686},[1585,1590,1594],{"type":405,"tag":490,"props":1586,"children":1587},{"style":527},[1588],{"type":410,"value":1589},"\u003C/",{"type":405,"tag":490,"props":1591,"children":1592},{"style":1458},[1593],{"type":410,"value":1516},{"type":405,"tag":490,"props":1595,"children":1596},{"style":527},[1597],{"type":410,"value":1504},{"type":405,"tag":1412,"props":1599,"children":1601},{"id":1600},"源码跟踪",[1602],{"type":410,"value":1600},{"type":405,"tag":406,"props":1604,"children":1605},{},[1606,1608,1613,1615,1620,1622,1628],{"type":410,"value":1607},"webpack 使用其它 CSS Loader 处理 VueJS 中对应 CSS 代码之前，",{"type":405,"tag":413,"props":1609,"children":1611},{"className":1610},[],[1612],{"type":410,"value":774},{"type":410,"value":1614}," 已经替我们做了一层简单的处理，如果组件中 ",{"type":405,"tag":413,"props":1616,"children":1618},{"className":1617},[],[1619],{"type":410,"value":1516},{"type":410,"value":1621}," 块包含了 ",{"type":405,"tag":413,"props":1623,"children":1625},{"className":1624},[],[1626],{"type":410,"value":1627},"scoped",{"type":410,"value":1629}," 属性：",{"type":405,"tag":480,"props":1631,"children":1633},{"className":1441,"code":1632,"language":1443,"meta":398,"style":398},"\u003C!-- 某个VueJS组件中 -->\n\u003Ctemplate>\n    \u003Cdiv class='lionad'>\u003C/div>\n\u003C/template>\n\u003Cstyle lang=\"scss\" scoped>\n    .lionad {\n        background: @tiger-orange;\n    }\n\u003C/style>\n",[1634],{"type":405,"tag":413,"props":1635,"children":1636},{"__ignoreMap":398},[1637,1645,1661,1705,1720,1763,1779,1799,1807],{"type":405,"tag":490,"props":1638,"children":1639},{"class":492,"line":493},[1640],{"type":405,"tag":490,"props":1641,"children":1642},{"style":797},[1643],{"type":410,"value":1644},"\u003C!-- 某个VueJS组件中 -->\n",{"type":405,"tag":490,"props":1646,"children":1647},{"class":492,"line":538},[1648,1652,1657],{"type":405,"tag":490,"props":1649,"children":1650},{"style":527},[1651],{"type":410,"value":1455},{"type":405,"tag":490,"props":1653,"children":1654},{"style":1458},[1655],{"type":410,"value":1656},"template",{"type":405,"tag":490,"props":1658,"children":1659},{"style":527},[1660],{"type":410,"value":1504},{"type":405,"tag":490,"props":1662,"children":1663},{"class":492,"line":558},[1664,1669,1673,1677,1681,1685,1689,1693,1697,1701],{"type":405,"tag":490,"props":1665,"children":1666},{"style":527},[1667],{"type":410,"value":1668},"    \u003C",{"type":405,"tag":490,"props":1670,"children":1671},{"style":1458},[1672],{"type":410,"value":1461},{"type":405,"tag":490,"props":1674,"children":1675},{"style":1464},[1676],{"type":410,"value":1467},{"type":405,"tag":490,"props":1678,"children":1679},{"style":527},[1680],{"type":410,"value":1472},{"type":405,"tag":490,"props":1682,"children":1683},{"style":614},[1684],{"type":410,"value":617},{"type":405,"tag":490,"props":1686,"children":1687},{"style":620},[1688],{"type":410,"value":1481},{"type":405,"tag":490,"props":1690,"children":1691},{"style":614},[1692],{"type":410,"value":617},{"type":405,"tag":490,"props":1694,"children":1695},{"style":527},[1696],{"type":410,"value":1495},{"type":405,"tag":490,"props":1698,"children":1699},{"style":1458},[1700],{"type":410,"value":1461},{"type":405,"tag":490,"props":1702,"children":1703},{"style":527},[1704],{"type":410,"value":1504},{"type":405,"tag":490,"props":1706,"children":1707},{"class":492,"line":582},[1708,1712,1716],{"type":405,"tag":490,"props":1709,"children":1710},{"style":527},[1711],{"type":410,"value":1589},{"type":405,"tag":490,"props":1713,"children":1714},{"style":1458},[1715],{"type":410,"value":1656},{"type":405,"tag":490,"props":1717,"children":1718},{"style":527},[1719],{"type":410,"value":1504},{"type":405,"tag":490,"props":1721,"children":1722},{"class":492,"line":640},[1723,1727,1731,1736,1740,1745,1750,1754,1759],{"type":405,"tag":490,"props":1724,"children":1725},{"style":527},[1726],{"type":410,"value":1455},{"type":405,"tag":490,"props":1728,"children":1729},{"style":1458},[1730],{"type":410,"value":1516},{"type":405,"tag":490,"props":1732,"children":1733},{"style":1464},[1734],{"type":410,"value":1735}," lang",{"type":405,"tag":490,"props":1737,"children":1738},{"style":527},[1739],{"type":410,"value":1472},{"type":405,"tag":490,"props":1741,"children":1742},{"style":614},[1743],{"type":410,"value":1744},"\"",{"type":405,"tag":490,"props":1746,"children":1747},{"style":620},[1748],{"type":410,"value":1749},"scss",{"type":405,"tag":490,"props":1751,"children":1752},{"style":614},[1753],{"type":410,"value":1744},{"type":405,"tag":490,"props":1755,"children":1756},{"style":1464},[1757],{"type":410,"value":1758}," scoped",{"type":405,"tag":490,"props":1760,"children":1761},{"style":527},[1762],{"type":410,"value":1504},{"type":405,"tag":490,"props":1764,"children":1765},{"class":492,"line":686},[1766,1771,1775],{"type":405,"tag":490,"props":1767,"children":1768},{"style":1526},[1769],{"type":410,"value":1770},"    .",{"type":405,"tag":490,"props":1772,"children":1773},{"style":1531},[1774],{"type":410,"value":1481},{"type":405,"tag":490,"props":1776,"children":1777},{"style":527},[1778],{"type":410,"value":535},{"type":405,"tag":490,"props":1780,"children":1781},{"class":492,"line":703},[1782,1787,1791,1795],{"type":405,"tag":490,"props":1783,"children":1784},{"style":1558},[1785],{"type":410,"value":1786},"        background",{"type":405,"tag":490,"props":1788,"children":1789},{"style":527},[1790],{"type":410,"value":550},{"type":405,"tag":490,"props":1792,"children":1793},{"style":521},[1794],{"type":410,"value":1570},{"type":405,"tag":490,"props":1796,"children":1797},{"style":527},[1798],{"type":410,"value":947},{"type":405,"tag":490,"props":1800,"children":1801},{"class":492,"line":712},[1802],{"type":405,"tag":490,"props":1803,"children":1804},{"style":527},[1805],{"type":410,"value":1806},"    }\n",{"type":405,"tag":490,"props":1808,"children":1809},{"class":492,"line":950},[1810,1814,1818],{"type":405,"tag":490,"props":1811,"children":1812},{"style":527},[1813],{"type":410,"value":1589},{"type":405,"tag":490,"props":1815,"children":1816},{"style":1458},[1817],{"type":410,"value":1516},{"type":405,"tag":490,"props":1819,"children":1820},{"style":527},[1821],{"type":410,"value":1504},{"type":405,"tag":406,"props":1823,"children":1824},{},[1825,1827,1833,1835,1840],{"type":410,"value":1826},"下代码即判断当前",{"type":405,"tag":413,"props":1828,"children":1830},{"className":1829},[],[1831],{"type":410,"value":1832},"SFC",{"type":410,"value":1834},"对象样式块中是否有",{"type":405,"tag":413,"props":1836,"children":1838},{"className":1837},[],[1839],{"type":410,"value":1627},{"type":410,"value":1841},"属性，并插入用于 query 中，顺带一提，每个单文件组件被解析后，都会生成对应组件 ID，ID 主要以生产/开发环境做区分，通过文件路径+源码或是文件路径的值作为哈希特征值的形式生成，如下：",{"type":405,"tag":480,"props":1843,"children":1845},{"className":482,"code":1844,"language":484,"meta":398,"style":398},"// vue-loader/index.js\nconst id = hash(isProduction  (shortFilePath + '\\n' + source) : shortFilePath)\nconst hasScoped = descriptor.styles.some(s => s.scoped)\nconst query = `? vue&type=template${idQuery}${scopedQuery}`\nconst request = templateRequest = stringifyRequest(src + query)\ntemplateImport = `import { render, staticRenderFns } from ${request}`\n",[1846],{"type":405,"tag":413,"props":1847,"children":1848},{"__ignoreMap":398},[1849,1856,1921,1987,2043,2087],{"type":405,"tag":490,"props":1850,"children":1851},{"class":492,"line":493},[1852],{"type":405,"tag":490,"props":1853,"children":1854},{"style":797},[1855],{"type":410,"value":800},{"type":405,"tag":490,"props":1857,"children":1858},{"class":492,"line":538},[1859,1863,1868,1872,1877,1881,1886,1891,1896,1901,1907,1911,1916],{"type":405,"tag":490,"props":1860,"children":1861},{"style":497},[1862],{"type":410,"value":500},{"type":405,"tag":490,"props":1864,"children":1865},{"style":503},[1866],{"type":410,"value":1867}," id",{"type":405,"tag":490,"props":1869,"children":1870},{"style":509},[1871],{"type":410,"value":512},{"type":405,"tag":490,"props":1873,"children":1874},{"style":515},[1875],{"type":410,"value":1876}," hash",{"type":405,"tag":490,"props":1878,"children":1879},{"style":521},[1880],{"type":410,"value":574},{"type":405,"tag":490,"props":1882,"children":1883},{"style":515},[1884],{"type":410,"value":1885},"isProduction",{"type":405,"tag":490,"props":1887,"children":1888},{"style":521},[1889],{"type":410,"value":1890},"  (shortFilePath ",{"type":405,"tag":490,"props":1892,"children":1893},{"style":509},[1894],{"type":410,"value":1895},"+",{"type":405,"tag":490,"props":1897,"children":1898},{"style":614},[1899],{"type":410,"value":1900}," '",{"type":405,"tag":490,"props":1902,"children":1904},{"style":1903},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1905],{"type":410,"value":1906},"\\n",{"type":405,"tag":490,"props":1908,"children":1909},{"style":614},[1910],{"type":410,"value":617},{"type":405,"tag":490,"props":1912,"children":1913},{"style":509},[1914],{"type":410,"value":1915}," +",{"type":405,"tag":490,"props":1917,"children":1918},{"style":521},[1919],{"type":410,"value":1920}," source) : shortFilePath)\n",{"type":405,"tag":490,"props":1922,"children":1923},{"class":492,"line":558},[1924,1928,1933,1937,1941,1945,1950,1954,1959,1963,1968,1973,1978,1982],{"type":405,"tag":490,"props":1925,"children":1926},{"style":497},[1927],{"type":410,"value":500},{"type":405,"tag":490,"props":1929,"children":1930},{"style":503},[1931],{"type":410,"value":1932}," hasScoped",{"type":405,"tag":490,"props":1934,"children":1935},{"style":509},[1936],{"type":410,"value":512},{"type":405,"tag":490,"props":1938,"children":1939},{"style":521},[1940],{"type":410,"value":812},{"type":405,"tag":490,"props":1942,"children":1943},{"style":527},[1944],{"type":410,"value":602},{"type":405,"tag":490,"props":1946,"children":1947},{"style":521},[1948],{"type":410,"value":1949},"styles",{"type":405,"tag":490,"props":1951,"children":1952},{"style":527},[1953],{"type":410,"value":602},{"type":405,"tag":490,"props":1955,"children":1956},{"style":515},[1957],{"type":410,"value":1958},"some",{"type":405,"tag":490,"props":1960,"children":1961},{"style":521},[1962],{"type":410,"value":574},{"type":405,"tag":490,"props":1964,"children":1965},{"style":985},[1966],{"type":410,"value":1967},"s",{"type":405,"tag":490,"props":1969,"children":1970},{"style":497},[1971],{"type":410,"value":1972}," =>",{"type":405,"tag":490,"props":1974,"children":1975},{"style":521},[1976],{"type":410,"value":1977}," s",{"type":405,"tag":490,"props":1979,"children":1980},{"style":527},[1981],{"type":410,"value":602},{"type":405,"tag":490,"props":1983,"children":1984},{"style":521},[1985],{"type":410,"value":1986},"scoped)\n",{"type":405,"tag":490,"props":1988,"children":1989},{"class":492,"line":582},[1990,1994,1999,2003,2008,2013,2019,2024,2029,2034,2038],{"type":405,"tag":490,"props":1991,"children":1992},{"style":497},[1993],{"type":410,"value":500},{"type":405,"tag":490,"props":1995,"children":1996},{"style":503},[1997],{"type":410,"value":1998}," query",{"type":405,"tag":490,"props":2000,"children":2001},{"style":509},[2002],{"type":410,"value":512},{"type":405,"tag":490,"props":2004,"children":2005},{"style":614},[2006],{"type":410,"value":2007}," `",{"type":405,"tag":490,"props":2009,"children":2010},{"style":620},[2011],{"type":410,"value":2012},"? vue&type=template",{"type":405,"tag":490,"props":2014,"children":2016},{"style":2015},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[2017],{"type":410,"value":2018},"${",{"type":405,"tag":490,"props":2020,"children":2021},{"style":521},[2022],{"type":410,"value":2023},"idQuery",{"type":405,"tag":490,"props":2025,"children":2026},{"style":2015},[2027],{"type":410,"value":2028},"}${",{"type":405,"tag":490,"props":2030,"children":2031},{"style":521},[2032],{"type":410,"value":2033},"scopedQuery",{"type":405,"tag":490,"props":2035,"children":2036},{"style":2015},[2037],{"type":410,"value":718},{"type":405,"tag":490,"props":2039,"children":2040},{"style":614},[2041],{"type":410,"value":2042},"`\n",{"type":405,"tag":490,"props":2044,"children":2045},{"class":492,"line":640},[2046,2050,2055,2059,2064,2068,2073,2078,2082],{"type":405,"tag":490,"props":2047,"children":2048},{"style":497},[2049],{"type":410,"value":500},{"type":405,"tag":490,"props":2051,"children":2052},{"style":503},[2053],{"type":410,"value":2054}," request",{"type":405,"tag":490,"props":2056,"children":2057},{"style":509},[2058],{"type":410,"value":512},{"type":405,"tag":490,"props":2060,"children":2061},{"style":521},[2062],{"type":410,"value":2063}," templateRequest ",{"type":405,"tag":490,"props":2065,"children":2066},{"style":509},[2067],{"type":410,"value":1472},{"type":405,"tag":490,"props":2069,"children":2070},{"style":515},[2071],{"type":410,"value":2072}," stringifyRequest",{"type":405,"tag":490,"props":2074,"children":2075},{"style":521},[2076],{"type":410,"value":2077},"(src ",{"type":405,"tag":490,"props":2079,"children":2080},{"style":509},[2081],{"type":410,"value":1895},{"type":405,"tag":490,"props":2083,"children":2084},{"style":521},[2085],{"type":410,"value":2086}," query)\n",{"type":405,"tag":490,"props":2088,"children":2089},{"class":492,"line":686},[2090,2095,2099,2103,2108,2112,2117,2121],{"type":405,"tag":490,"props":2091,"children":2092},{"style":521},[2093],{"type":410,"value":2094},"templateImport ",{"type":405,"tag":490,"props":2096,"children":2097},{"style":509},[2098],{"type":410,"value":1472},{"type":405,"tag":490,"props":2100,"children":2101},{"style":614},[2102],{"type":410,"value":2007},{"type":405,"tag":490,"props":2104,"children":2105},{"style":620},[2106],{"type":410,"value":2107},"import { render, staticRenderFns } from ",{"type":405,"tag":490,"props":2109,"children":2110},{"style":2015},[2111],{"type":410,"value":2018},{"type":405,"tag":490,"props":2113,"children":2114},{"style":521},[2115],{"type":410,"value":2116},"request",{"type":405,"tag":490,"props":2118,"children":2119},{"style":2015},[2120],{"type":410,"value":718},{"type":405,"tag":490,"props":2122,"children":2123},{"style":614},[2124],{"type":410,"value":2042},{"type":405,"tag":2126,"props":2127,"children":2129},"h4",{"id":2128},"html-模板处理",[2130],{"type":410,"value":2131},"HTML 模板处理",{"type":405,"tag":406,"props":2133,"children":2134},{},[2135,2137,2143,2145,2150,2152,2158],{"type":410,"value":2136},"在用于处理 SFC 结构中 HTML 模板的 ",{"type":405,"tag":413,"props":2138,"children":2140},{"className":2139},[],[2141],{"type":410,"value":2142},"templateLoader",{"type":410,"value":2144}," 中，我们可以得知，query 中所设置的参数将合并为 loader options 经由 webpack 转交 ",{"type":405,"tag":413,"props":2146,"children":2148},{"className":2147},[],[2149],{"type":410,"value":2142},{"type":410,"value":2151}," 再转交 ",{"type":405,"tag":413,"props":2153,"children":2155},{"className":2154},[],[2156],{"type":410,"value":2157},"@vue/component-compiler-utils.compileTemplate",{"type":410,"value":2159}," 处理：",{"type":405,"tag":480,"props":2161,"children":2163},{"className":482,"code":2162,"language":484,"meta":398,"style":398},"// vue-loader/templateLoader.js\nconst query = qs.parse(this.resourceQuery)\nconst { id } = query\nconst compilerOptions = Object.assign({}, options.compilerOptions, {\n    scopeId: query.scoped ? `data-v-${id}` : null\n})\nconst compiled = compileTemplate({ compilerOptions })\n",[2164],{"type":405,"tag":413,"props":2165,"children":2166},{"__ignoreMap":398},[2167,2175,2223,2251,2311,2378,2389],{"type":405,"tag":490,"props":2168,"children":2169},{"class":492,"line":493},[2170],{"type":405,"tag":490,"props":2171,"children":2172},{"style":797},[2173],{"type":410,"value":2174},"// vue-loader/templateLoader.js\n",{"type":405,"tag":490,"props":2176,"children":2177},{"class":492,"line":538},[2178,2182,2186,2190,2195,2199,2204,2208,2214,2218],{"type":405,"tag":490,"props":2179,"children":2180},{"style":497},[2181],{"type":410,"value":500},{"type":405,"tag":490,"props":2183,"children":2184},{"style":503},[2185],{"type":410,"value":1998},{"type":405,"tag":490,"props":2187,"children":2188},{"style":509},[2189],{"type":410,"value":512},{"type":405,"tag":490,"props":2191,"children":2192},{"style":521},[2193],{"type":410,"value":2194}," qs",{"type":405,"tag":490,"props":2196,"children":2197},{"style":527},[2198],{"type":410,"value":602},{"type":405,"tag":490,"props":2200,"children":2201},{"style":515},[2202],{"type":410,"value":2203},"parse",{"type":405,"tag":490,"props":2205,"children":2206},{"style":521},[2207],{"type":410,"value":574},{"type":405,"tag":490,"props":2209,"children":2211},{"style":2210},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2212],{"type":410,"value":2213},"this",{"type":405,"tag":490,"props":2215,"children":2216},{"style":527},[2217],{"type":410,"value":602},{"type":405,"tag":490,"props":2219,"children":2220},{"style":521},[2221],{"type":410,"value":2222},"resourceQuery)\n",{"type":405,"tag":490,"props":2224,"children":2225},{"class":492,"line":558},[2226,2230,2234,2238,2242,2246],{"type":405,"tag":490,"props":2227,"children":2228},{"style":497},[2229],{"type":410,"value":500},{"type":405,"tag":490,"props":2231,"children":2232},{"style":527},[2233],{"type":410,"value":1010},{"type":405,"tag":490,"props":2235,"children":2236},{"style":503},[2237],{"type":410,"value":1867},{"type":405,"tag":490,"props":2239,"children":2240},{"style":527},[2241],{"type":410,"value":1020},{"type":405,"tag":490,"props":2243,"children":2244},{"style":509},[2245],{"type":410,"value":512},{"type":405,"tag":490,"props":2247,"children":2248},{"style":521},[2249],{"type":410,"value":2250}," query\n",{"type":405,"tag":490,"props":2252,"children":2253},{"class":492,"line":582},[2254,2258,2263,2267,2272,2276,2281,2285,2290,2294,2298,2303,2307],{"type":405,"tag":490,"props":2255,"children":2256},{"style":497},[2257],{"type":410,"value":500},{"type":405,"tag":490,"props":2259,"children":2260},{"style":503},[2261],{"type":410,"value":2262}," compilerOptions",{"type":405,"tag":490,"props":2264,"children":2265},{"style":509},[2266],{"type":410,"value":512},{"type":405,"tag":490,"props":2268,"children":2269},{"style":521},[2270],{"type":410,"value":2271}," Object",{"type":405,"tag":490,"props":2273,"children":2274},{"style":527},[2275],{"type":410,"value":602},{"type":405,"tag":490,"props":2277,"children":2278},{"style":515},[2279],{"type":410,"value":2280},"assign",{"type":405,"tag":490,"props":2282,"children":2283},{"style":521},[2284],{"type":410,"value":574},{"type":405,"tag":490,"props":2286,"children":2287},{"style":527},[2288],{"type":410,"value":2289},"{},",{"type":405,"tag":490,"props":2291,"children":2292},{"style":521},[2293],{"type":410,"value":858},{"type":405,"tag":490,"props":2295,"children":2296},{"style":527},[2297],{"type":410,"value":602},{"type":405,"tag":490,"props":2299,"children":2300},{"style":521},[2301],{"type":410,"value":2302},"compilerOptions",{"type":405,"tag":490,"props":2304,"children":2305},{"style":527},[2306],{"type":410,"value":530},{"type":405,"tag":490,"props":2308,"children":2309},{"style":527},[2310],{"type":410,"value":535},{"type":405,"tag":490,"props":2312,"children":2313},{"class":492,"line":640},[2314,2319,2323,2327,2331,2336,2341,2345,2350,2354,2359,2363,2368,2373],{"type":405,"tag":490,"props":2315,"children":2316},{"style":542},[2317],{"type":410,"value":2318},"    scopeId",{"type":405,"tag":490,"props":2320,"children":2321},{"style":527},[2322],{"type":410,"value":550},{"type":405,"tag":490,"props":2324,"children":2325},{"style":521},[2326],{"type":410,"value":1998},{"type":405,"tag":490,"props":2328,"children":2329},{"style":527},[2330],{"type":410,"value":602},{"type":405,"tag":490,"props":2332,"children":2333},{"style":521},[2334],{"type":410,"value":2335},"scoped ",{"type":405,"tag":490,"props":2337,"children":2338},{"style":509},[2339],{"type":410,"value":2340},"?",{"type":405,"tag":490,"props":2342,"children":2343},{"style":614},[2344],{"type":410,"value":2007},{"type":405,"tag":490,"props":2346,"children":2347},{"style":620},[2348],{"type":410,"value":2349},"data-v-",{"type":405,"tag":490,"props":2351,"children":2352},{"style":2015},[2353],{"type":410,"value":2018},{"type":405,"tag":490,"props":2355,"children":2356},{"style":521},[2357],{"type":410,"value":2358},"id",{"type":405,"tag":490,"props":2360,"children":2361},{"style":2015},[2362],{"type":410,"value":718},{"type":405,"tag":490,"props":2364,"children":2365},{"style":614},[2366],{"type":410,"value":2367},"`",{"type":405,"tag":490,"props":2369,"children":2370},{"style":509},[2371],{"type":410,"value":2372}," :",{"type":405,"tag":490,"props":2374,"children":2375},{"style":1214},[2376],{"type":410,"value":2377}," null\n",{"type":405,"tag":490,"props":2379,"children":2380},{"class":492,"line":686},[2381,2385],{"type":405,"tag":490,"props":2382,"children":2383},{"style":527},[2384],{"type":410,"value":718},{"type":405,"tag":490,"props":2386,"children":2387},{"style":521},[2388],{"type":410,"value":683},{"type":405,"tag":490,"props":2390,"children":2391},{"class":492,"line":703},[2392,2396,2401,2405,2410,2414,2419,2424,2428],{"type":405,"tag":490,"props":2393,"children":2394},{"style":497},[2395],{"type":410,"value":500},{"type":405,"tag":490,"props":2397,"children":2398},{"style":503},[2399],{"type":410,"value":2400}," compiled",{"type":405,"tag":490,"props":2402,"children":2403},{"style":509},[2404],{"type":410,"value":512},{"type":405,"tag":490,"props":2406,"children":2407},{"style":515},[2408],{"type":410,"value":2409}," compileTemplate",{"type":405,"tag":490,"props":2411,"children":2412},{"style":521},[2413],{"type":410,"value":574},{"type":405,"tag":490,"props":2415,"children":2416},{"style":527},[2417],{"type":410,"value":2418},"{",{"type":405,"tag":490,"props":2420,"children":2421},{"style":521},[2422],{"type":410,"value":2423}," compilerOptions ",{"type":405,"tag":490,"props":2425,"children":2426},{"style":527},[2427],{"type":410,"value":718},{"type":405,"tag":490,"props":2429,"children":2430},{"style":521},[2431],{"type":410,"value":683},{"type":405,"tag":406,"props":2433,"children":2434},{},[2435,2437,2443,2445,2451],{"type":410,"value":2436},"实际 ",{"type":405,"tag":413,"props":2438,"children":2440},{"className":2439},[],[2441],{"type":410,"value":2442},"compileTemplate",{"type":410,"value":2444}," 函数在处理内容时，编译函数使用的是 query 中的 compiler 或 ",{"type":405,"tag":413,"props":2446,"children":2448},{"className":2447},[],[2449],{"type":410,"value":2450},"vue-template-compiler",{"type":410,"value":2452},"，后者会将模板文本转换成为 JavaScript 渲染函数，大致如下：",{"type":405,"tag":2454,"props":2455,"children":2456},"ol",{},[2457,2462,2467],{"type":405,"tag":1344,"props":2458,"children":2459},{},[2460],{"type":410,"value":2461},"从 HTML 模版转换为 AST(虚拟语法树)",{"type":405,"tag":1344,"props":2463,"children":2464},{},[2465],{"type":410,"value":2466},"AST 优化，处理静态模版与动态模板",{"type":405,"tag":1344,"props":2468,"children":2469},{},[2470],{"type":410,"value":2471},"生成 JS 函数，用于在运行时运行时生成纯 HTML",{"type":405,"tag":406,"props":2473,"children":2474},{},[2475],{"type":410,"value":2476},"代码分别对应：",{"type":405,"tag":480,"props":2478,"children":2480},{"className":482,"code":2479,"language":484,"meta":398,"style":398},"// vue-template-compiler/build.js/createCompilerCreator\nvar ast = parse(template.trim(), options)\noptimize(ast, options)\nvar code = generate(ast, options)\n",[2481],{"type":405,"tag":413,"props":2482,"children":2483},{"__ignoreMap":398},[2484,2492,2540,2561],{"type":405,"tag":490,"props":2485,"children":2486},{"class":492,"line":493},[2487],{"type":405,"tag":490,"props":2488,"children":2489},{"style":797},[2490],{"type":410,"value":2491},"// vue-template-compiler/build.js/createCompilerCreator\n",{"type":405,"tag":490,"props":2493,"children":2494},{"class":492,"line":538},[2495,2500,2505,2509,2513,2518,2522,2527,2531,2535],{"type":405,"tag":490,"props":2496,"children":2497},{"style":497},[2498],{"type":410,"value":2499},"var",{"type":405,"tag":490,"props":2501,"children":2502},{"style":521},[2503],{"type":410,"value":2504}," ast ",{"type":405,"tag":490,"props":2506,"children":2507},{"style":509},[2508],{"type":410,"value":1472},{"type":405,"tag":490,"props":2510,"children":2511},{"style":515},[2512],{"type":410,"value":821},{"type":405,"tag":490,"props":2514,"children":2515},{"style":521},[2516],{"type":410,"value":2517},"(template",{"type":405,"tag":490,"props":2519,"children":2520},{"style":527},[2521],{"type":410,"value":602},{"type":405,"tag":490,"props":2523,"children":2524},{"style":515},[2525],{"type":410,"value":2526},"trim",{"type":405,"tag":490,"props":2528,"children":2529},{"style":521},[2530],{"type":410,"value":882},{"type":405,"tag":490,"props":2532,"children":2533},{"style":527},[2534],{"type":410,"value":530},{"type":405,"tag":490,"props":2536,"children":2537},{"style":521},[2538],{"type":410,"value":2539}," options)\n",{"type":405,"tag":490,"props":2541,"children":2542},{"class":492,"line":558},[2543,2548,2553,2557],{"type":405,"tag":490,"props":2544,"children":2545},{"style":515},[2546],{"type":410,"value":2547},"optimize",{"type":405,"tag":490,"props":2549,"children":2550},{"style":521},[2551],{"type":410,"value":2552},"(ast",{"type":405,"tag":490,"props":2554,"children":2555},{"style":527},[2556],{"type":410,"value":530},{"type":405,"tag":490,"props":2558,"children":2559},{"style":521},[2560],{"type":410,"value":2539},{"type":405,"tag":490,"props":2562,"children":2563},{"class":492,"line":582},[2564,2568,2573,2577,2582,2586,2590],{"type":405,"tag":490,"props":2565,"children":2566},{"style":497},[2567],{"type":410,"value":2499},{"type":405,"tag":490,"props":2569,"children":2570},{"style":521},[2571],{"type":410,"value":2572}," code ",{"type":405,"tag":490,"props":2574,"children":2575},{"style":509},[2576],{"type":410,"value":1472},{"type":405,"tag":490,"props":2578,"children":2579},{"style":515},[2580],{"type":410,"value":2581}," generate",{"type":405,"tag":490,"props":2583,"children":2584},{"style":521},[2585],{"type":410,"value":2552},{"type":405,"tag":490,"props":2587,"children":2588},{"style":527},[2589],{"type":410,"value":530},{"type":405,"tag":490,"props":2591,"children":2592},{"style":521},[2593],{"type":410,"value":2539},{"type":405,"tag":406,"props":2595,"children":2596},{},[2597],{"type":410,"value":2598},"先前我们的组件 ID 在 parse 阶段解析开始标签时就会被推入内部储存的数据结构中：",{"type":405,"tag":480,"props":2600,"children":2602},{"className":482,"code":2601,"language":484,"meta":398,"style":398},"function elementToOpenTagSegments (el, state) {\n  var segments = [{ type: RAW, value: (\"\u003C\" + (el.tag)) }]\n  // _scopedId\n  if (state.options.scopeId) {\n    segments.push({ type: RAW, value: (\" \" + (state.options.scopeId)) })\n  }\n  segments.push({ type: RAW, value: \">\" })\n  return segments\n}\n",[2603],{"type":405,"tag":413,"props":2604,"children":2605},{"__ignoreMap":398},[2606,2645,2748,2756,2799,2901,2909,2978,2990],{"type":405,"tag":490,"props":2607,"children":2608},{"class":492,"line":493},[2609,2613,2618,2623,2628,2632,2637,2641],{"type":405,"tag":490,"props":2610,"children":2611},{"style":497},[2612],{"type":410,"value":974},{"type":405,"tag":490,"props":2614,"children":2615},{"style":515},[2616],{"type":410,"value":2617}," elementToOpenTagSegments",{"type":405,"tag":490,"props":2619,"children":2620},{"style":527},[2621],{"type":410,"value":2622}," (",{"type":405,"tag":490,"props":2624,"children":2625},{"style":985},[2626],{"type":410,"value":2627},"el",{"type":405,"tag":490,"props":2629,"children":2630},{"style":527},[2631],{"type":410,"value":530},{"type":405,"tag":490,"props":2633,"children":2634},{"style":985},[2635],{"type":410,"value":2636}," state",{"type":405,"tag":490,"props":2638,"children":2639},{"style":527},[2640],{"type":410,"value":632},{"type":405,"tag":490,"props":2642,"children":2643},{"style":527},[2644],{"type":410,"value":535},{"type":405,"tag":490,"props":2646,"children":2647},{"class":492,"line":538},[2648,2652,2657,2661,2666,2670,2675,2679,2684,2688,2693,2697,2701,2705,2709,2713,2717,2721,2725,2729,2734,2739,2743],{"type":405,"tag":490,"props":2649,"children":2650},{"style":497},[2651],{"type":410,"value":1185},{"type":405,"tag":490,"props":2653,"children":2654},{"style":521},[2655],{"type":410,"value":2656}," segments",{"type":405,"tag":490,"props":2658,"children":2659},{"style":509},[2660],{"type":410,"value":512},{"type":405,"tag":490,"props":2662,"children":2663},{"style":542},[2664],{"type":410,"value":2665}," [",{"type":405,"tag":490,"props":2667,"children":2668},{"style":527},[2669],{"type":410,"value":2418},{"type":405,"tag":490,"props":2671,"children":2672},{"style":542},[2673],{"type":410,"value":2674}," type",{"type":405,"tag":490,"props":2676,"children":2677},{"style":527},[2678],{"type":410,"value":550},{"type":405,"tag":490,"props":2680,"children":2681},{"style":503},[2682],{"type":410,"value":2683}," RAW",{"type":405,"tag":490,"props":2685,"children":2686},{"style":527},[2687],{"type":410,"value":530},{"type":405,"tag":490,"props":2689,"children":2690},{"style":542},[2691],{"type":410,"value":2692}," value",{"type":405,"tag":490,"props":2694,"children":2695},{"style":527},[2696],{"type":410,"value":550},{"type":405,"tag":490,"props":2698,"children":2699},{"style":542},[2700],{"type":410,"value":2622},{"type":405,"tag":490,"props":2702,"children":2703},{"style":614},[2704],{"type":410,"value":1744},{"type":405,"tag":490,"props":2706,"children":2707},{"style":620},[2708],{"type":410,"value":1455},{"type":405,"tag":490,"props":2710,"children":2711},{"style":614},[2712],{"type":410,"value":1744},{"type":405,"tag":490,"props":2714,"children":2715},{"style":509},[2716],{"type":410,"value":1915},{"type":405,"tag":490,"props":2718,"children":2719},{"style":542},[2720],{"type":410,"value":2622},{"type":405,"tag":490,"props":2722,"children":2723},{"style":521},[2724],{"type":410,"value":2627},{"type":405,"tag":490,"props":2726,"children":2727},{"style":527},[2728],{"type":410,"value":602},{"type":405,"tag":490,"props":2730,"children":2731},{"style":521},[2732],{"type":410,"value":2733},"tag",{"type":405,"tag":490,"props":2735,"children":2736},{"style":542},[2737],{"type":410,"value":2738},")) ",{"type":405,"tag":490,"props":2740,"children":2741},{"style":527},[2742],{"type":410,"value":718},{"type":405,"tag":490,"props":2744,"children":2745},{"style":542},[2746],{"type":410,"value":2747},"]\n",{"type":405,"tag":490,"props":2749,"children":2750},{"class":492,"line":558},[2751],{"type":405,"tag":490,"props":2752,"children":2753},{"style":797},[2754],{"type":410,"value":2755},"  // _scopedId\n",{"type":405,"tag":490,"props":2757,"children":2758},{"class":492,"line":582},[2759,2764,2768,2773,2777,2781,2785,2790,2795],{"type":405,"tag":490,"props":2760,"children":2761},{"style":1091},[2762],{"type":410,"value":2763},"  if",{"type":405,"tag":490,"props":2765,"children":2766},{"style":542},[2767],{"type":410,"value":2622},{"type":405,"tag":490,"props":2769,"children":2770},{"style":521},[2771],{"type":410,"value":2772},"state",{"type":405,"tag":490,"props":2774,"children":2775},{"style":527},[2776],{"type":410,"value":602},{"type":405,"tag":490,"props":2778,"children":2779},{"style":521},[2780],{"type":410,"value":988},{"type":405,"tag":490,"props":2782,"children":2783},{"style":527},[2784],{"type":410,"value":602},{"type":405,"tag":490,"props":2786,"children":2787},{"style":521},[2788],{"type":410,"value":2789},"scopeId",{"type":405,"tag":490,"props":2791,"children":2792},{"style":542},[2793],{"type":410,"value":2794},") ",{"type":405,"tag":490,"props":2796,"children":2797},{"style":527},[2798],{"type":410,"value":579},{"type":405,"tag":490,"props":2800,"children":2801},{"class":492,"line":640},[2802,2807,2811,2816,2820,2824,2828,2832,2836,2840,2844,2848,2852,2856,2861,2865,2869,2873,2877,2881,2885,2889,2893,2897],{"type":405,"tag":490,"props":2803,"children":2804},{"style":521},[2805],{"type":410,"value":2806},"    segments",{"type":405,"tag":490,"props":2808,"children":2809},{"style":527},[2810],{"type":410,"value":602},{"type":405,"tag":490,"props":2812,"children":2813},{"style":515},[2814],{"type":410,"value":2815},"push",{"type":405,"tag":490,"props":2817,"children":2818},{"style":542},[2819],{"type":410,"value":574},{"type":405,"tag":490,"props":2821,"children":2822},{"style":527},[2823],{"type":410,"value":2418},{"type":405,"tag":490,"props":2825,"children":2826},{"style":542},[2827],{"type":410,"value":2674},{"type":405,"tag":490,"props":2829,"children":2830},{"style":527},[2831],{"type":410,"value":550},{"type":405,"tag":490,"props":2833,"children":2834},{"style":503},[2835],{"type":410,"value":2683},{"type":405,"tag":490,"props":2837,"children":2838},{"style":527},[2839],{"type":410,"value":530},{"type":405,"tag":490,"props":2841,"children":2842},{"style":542},[2843],{"type":410,"value":2692},{"type":405,"tag":490,"props":2845,"children":2846},{"style":527},[2847],{"type":410,"value":550},{"type":405,"tag":490,"props":2849,"children":2850},{"style":542},[2851],{"type":410,"value":2622},{"type":405,"tag":490,"props":2853,"children":2854},{"style":614},[2855],{"type":410,"value":1744},{"type":405,"tag":490,"props":2857,"children":2858},{"style":614},[2859],{"type":410,"value":2860}," \"",{"type":405,"tag":490,"props":2862,"children":2863},{"style":509},[2864],{"type":410,"value":1915},{"type":405,"tag":490,"props":2866,"children":2867},{"style":542},[2868],{"type":410,"value":2622},{"type":405,"tag":490,"props":2870,"children":2871},{"style":521},[2872],{"type":410,"value":2772},{"type":405,"tag":490,"props":2874,"children":2875},{"style":527},[2876],{"type":410,"value":602},{"type":405,"tag":490,"props":2878,"children":2879},{"style":521},[2880],{"type":410,"value":988},{"type":405,"tag":490,"props":2882,"children":2883},{"style":527},[2884],{"type":410,"value":602},{"type":405,"tag":490,"props":2886,"children":2887},{"style":521},[2888],{"type":410,"value":2789},{"type":405,"tag":490,"props":2890,"children":2891},{"style":542},[2892],{"type":410,"value":2738},{"type":405,"tag":490,"props":2894,"children":2895},{"style":527},[2896],{"type":410,"value":718},{"type":405,"tag":490,"props":2898,"children":2899},{"style":542},[2900],{"type":410,"value":683},{"type":405,"tag":490,"props":2902,"children":2903},{"class":492,"line":686},[2904],{"type":405,"tag":490,"props":2905,"children":2906},{"style":527},[2907],{"type":410,"value":2908},"  }\n",{"type":405,"tag":490,"props":2910,"children":2911},{"class":492,"line":703},[2912,2917,2921,2925,2929,2933,2937,2941,2945,2949,2953,2957,2961,2966,2970,2974],{"type":405,"tag":490,"props":2913,"children":2914},{"style":521},[2915],{"type":410,"value":2916},"  segments",{"type":405,"tag":490,"props":2918,"children":2919},{"style":527},[2920],{"type":410,"value":602},{"type":405,"tag":490,"props":2922,"children":2923},{"style":515},[2924],{"type":410,"value":2815},{"type":405,"tag":490,"props":2926,"children":2927},{"style":542},[2928],{"type":410,"value":574},{"type":405,"tag":490,"props":2930,"children":2931},{"style":527},[2932],{"type":410,"value":2418},{"type":405,"tag":490,"props":2934,"children":2935},{"style":542},[2936],{"type":410,"value":2674},{"type":405,"tag":490,"props":2938,"children":2939},{"style":527},[2940],{"type":410,"value":550},{"type":405,"tag":490,"props":2942,"children":2943},{"style":503},[2944],{"type":410,"value":2683},{"type":405,"tag":490,"props":2946,"children":2947},{"style":527},[2948],{"type":410,"value":530},{"type":405,"tag":490,"props":2950,"children":2951},{"style":542},[2952],{"type":410,"value":2692},{"type":405,"tag":490,"props":2954,"children":2955},{"style":527},[2956],{"type":410,"value":550},{"type":405,"tag":490,"props":2958,"children":2959},{"style":614},[2960],{"type":410,"value":2860},{"type":405,"tag":490,"props":2962,"children":2963},{"style":620},[2964],{"type":410,"value":2965},">",{"type":405,"tag":490,"props":2967,"children":2968},{"style":614},[2969],{"type":410,"value":1744},{"type":405,"tag":490,"props":2971,"children":2972},{"style":527},[2973],{"type":410,"value":1020},{"type":405,"tag":490,"props":2975,"children":2976},{"style":542},[2977],{"type":410,"value":683},{"type":405,"tag":490,"props":2979,"children":2980},{"class":492,"line":712},[2981,2985],{"type":405,"tag":490,"props":2982,"children":2983},{"style":1091},[2984],{"type":410,"value":1094},{"type":405,"tag":490,"props":2986,"children":2987},{"style":521},[2988],{"type":410,"value":2989}," segments\n",{"type":405,"tag":490,"props":2991,"children":2992},{"class":492,"line":950},[2993],{"type":405,"tag":490,"props":2994,"children":2995},{"style":527},[2996],{"type":410,"value":1112},{"type":405,"tag":406,"props":2998,"children":2999},{},[3000,3002,3008],{"type":410,"value":3001},"先前我们的 HTML 模板 ",{"type":405,"tag":413,"props":3003,"children":3005},{"className":3004},[],[3006],{"type":410,"value":3007},"\u003Cdiv class='lionad'>\u003C/div>",{"type":410,"value":3009}," 中开始标签会被转换成如下数据结构：",{"type":405,"tag":480,"props":3011,"children":3013},{"className":482,"code":3012,"language":484,"meta":398,"style":398},"[\n    { type: RAW, value: '\u003Cdiv' },\n    { type: RAW, value: 'class=lionad' },\n    { type: RAW, value: 'data-v-xxxxxx' },\n    { type: RAW, value: '>' },\n]\n",[3014],{"type":405,"tag":413,"props":3015,"children":3016},{"__ignoreMap":398},[3017,3025,3075,3123,3171,3218],{"type":405,"tag":490,"props":3018,"children":3019},{"class":492,"line":493},[3020],{"type":405,"tag":490,"props":3021,"children":3022},{"style":521},[3023],{"type":410,"value":3024},"[\n",{"type":405,"tag":490,"props":3026,"children":3027},{"class":492,"line":538},[3028,3033,3037,3041,3045,3049,3053,3057,3061,3066,3070],{"type":405,"tag":490,"props":3029,"children":3030},{"style":527},[3031],{"type":410,"value":3032},"    {",{"type":405,"tag":490,"props":3034,"children":3035},{"style":542},[3036],{"type":410,"value":2674},{"type":405,"tag":490,"props":3038,"children":3039},{"style":527},[3040],{"type":410,"value":550},{"type":405,"tag":490,"props":3042,"children":3043},{"style":503},[3044],{"type":410,"value":2683},{"type":405,"tag":490,"props":3046,"children":3047},{"style":527},[3048],{"type":410,"value":530},{"type":405,"tag":490,"props":3050,"children":3051},{"style":542},[3052],{"type":410,"value":2692},{"type":405,"tag":490,"props":3054,"children":3055},{"style":527},[3056],{"type":410,"value":550},{"type":405,"tag":490,"props":3058,"children":3059},{"style":614},[3060],{"type":410,"value":1900},{"type":405,"tag":490,"props":3062,"children":3063},{"style":620},[3064],{"type":410,"value":3065},"\u003Cdiv",{"type":405,"tag":490,"props":3067,"children":3068},{"style":614},[3069],{"type":410,"value":617},{"type":405,"tag":490,"props":3071,"children":3072},{"style":527},[3073],{"type":410,"value":3074}," },\n",{"type":405,"tag":490,"props":3076,"children":3077},{"class":492,"line":558},[3078,3082,3086,3090,3094,3098,3102,3106,3110,3115,3119],{"type":405,"tag":490,"props":3079,"children":3080},{"style":527},[3081],{"type":410,"value":3032},{"type":405,"tag":490,"props":3083,"children":3084},{"style":542},[3085],{"type":410,"value":2674},{"type":405,"tag":490,"props":3087,"children":3088},{"style":527},[3089],{"type":410,"value":550},{"type":405,"tag":490,"props":3091,"children":3092},{"style":503},[3093],{"type":410,"value":2683},{"type":405,"tag":490,"props":3095,"children":3096},{"style":527},[3097],{"type":410,"value":530},{"type":405,"tag":490,"props":3099,"children":3100},{"style":542},[3101],{"type":410,"value":2692},{"type":405,"tag":490,"props":3103,"children":3104},{"style":527},[3105],{"type":410,"value":550},{"type":405,"tag":490,"props":3107,"children":3108},{"style":614},[3109],{"type":410,"value":1900},{"type":405,"tag":490,"props":3111,"children":3112},{"style":620},[3113],{"type":410,"value":3114},"class=lionad",{"type":405,"tag":490,"props":3116,"children":3117},{"style":614},[3118],{"type":410,"value":617},{"type":405,"tag":490,"props":3120,"children":3121},{"style":527},[3122],{"type":410,"value":3074},{"type":405,"tag":490,"props":3124,"children":3125},{"class":492,"line":582},[3126,3130,3134,3138,3142,3146,3150,3154,3158,3163,3167],{"type":405,"tag":490,"props":3127,"children":3128},{"style":527},[3129],{"type":410,"value":3032},{"type":405,"tag":490,"props":3131,"children":3132},{"style":542},[3133],{"type":410,"value":2674},{"type":405,"tag":490,"props":3135,"children":3136},{"style":527},[3137],{"type":410,"value":550},{"type":405,"tag":490,"props":3139,"children":3140},{"style":503},[3141],{"type":410,"value":2683},{"type":405,"tag":490,"props":3143,"children":3144},{"style":527},[3145],{"type":410,"value":530},{"type":405,"tag":490,"props":3147,"children":3148},{"style":542},[3149],{"type":410,"value":2692},{"type":405,"tag":490,"props":3151,"children":3152},{"style":527},[3153],{"type":410,"value":550},{"type":405,"tag":490,"props":3155,"children":3156},{"style":614},[3157],{"type":410,"value":1900},{"type":405,"tag":490,"props":3159,"children":3160},{"style":620},[3161],{"type":410,"value":3162},"data-v-xxxxxx",{"type":405,"tag":490,"props":3164,"children":3165},{"style":614},[3166],{"type":410,"value":617},{"type":405,"tag":490,"props":3168,"children":3169},{"style":527},[3170],{"type":410,"value":3074},{"type":405,"tag":490,"props":3172,"children":3173},{"class":492,"line":640},[3174,3178,3182,3186,3190,3194,3198,3202,3206,3210,3214],{"type":405,"tag":490,"props":3175,"children":3176},{"style":527},[3177],{"type":410,"value":3032},{"type":405,"tag":490,"props":3179,"children":3180},{"style":542},[3181],{"type":410,"value":2674},{"type":405,"tag":490,"props":3183,"children":3184},{"style":527},[3185],{"type":410,"value":550},{"type":405,"tag":490,"props":3187,"children":3188},{"style":503},[3189],{"type":410,"value":2683},{"type":405,"tag":490,"props":3191,"children":3192},{"style":527},[3193],{"type":410,"value":530},{"type":405,"tag":490,"props":3195,"children":3196},{"style":542},[3197],{"type":410,"value":2692},{"type":405,"tag":490,"props":3199,"children":3200},{"style":527},[3201],{"type":410,"value":550},{"type":405,"tag":490,"props":3203,"children":3204},{"style":614},[3205],{"type":410,"value":1900},{"type":405,"tag":490,"props":3207,"children":3208},{"style":620},[3209],{"type":410,"value":2965},{"type":405,"tag":490,"props":3211,"children":3212},{"style":614},[3213],{"type":410,"value":617},{"type":405,"tag":490,"props":3215,"children":3216},{"style":527},[3217],{"type":410,"value":3074},{"type":405,"tag":490,"props":3219,"children":3220},{"class":492,"line":686},[3221],{"type":405,"tag":490,"props":3222,"children":3223},{"style":521},[3224],{"type":410,"value":2747},{"type":405,"tag":2126,"props":3226,"children":3228},{"id":3227},"样式模板处理",[3229],{"type":410,"value":3227},{"type":405,"tag":406,"props":3231,"children":3232},{},[3233,3235,3241,3243,3249,3251,3257,3259,3265],{"type":410,"value":3234},"与 HTML Template 解析的过程类似，通过 webpack 将样式模板转交 ",{"type":405,"tag":413,"props":3236,"children":3238},{"className":3237},[],[3239],{"type":410,"value":3240},"stylePostLoader",{"type":410,"value":3242}," 进行处理，处理逻辑主要引用了 ",{"type":405,"tag":413,"props":3244,"children":3246},{"className":3245},[],[3247],{"type":410,"value":3248},"@vue/component-compiler-utils",{"type":410,"value":3250}," 中的 ",{"type":405,"tag":413,"props":3252,"children":3254},{"className":3253},[],[3255],{"type":410,"value":3256},"compileStyle",{"type":410,"value":3258}," 部分，后者对样式模板进行解析的过程中，将会对含 scoped 标记的模板引入插件 ",{"type":405,"tag":413,"props":3260,"children":3262},{"className":3261},[],[3263],{"type":410,"value":3264},"stylePlugins/scoped.js",{"type":410,"value":3266},"：",{"type":405,"tag":480,"props":3268,"children":3270},{"className":482,"code":3269,"language":484,"meta":398,"style":398},"// component-compiler-utils/compileStyle.js\nfunction doCompileStyle (options) {\n    if (scoped) {\n        plugins.push(scoped_1.default(id));\n    }\n    return { result: postcss(plugins).process(source, postCSSOptions) }\n}\n",[3271],{"type":405,"tag":413,"props":3272,"children":3273},{"__ignoreMap":398},[3274,3282,3310,3334,3385,3392,3465],{"type":405,"tag":490,"props":3275,"children":3276},{"class":492,"line":493},[3277],{"type":405,"tag":490,"props":3278,"children":3279},{"style":797},[3280],{"type":410,"value":3281},"// component-compiler-utils/compileStyle.js\n",{"type":405,"tag":490,"props":3283,"children":3284},{"class":492,"line":538},[3285,3289,3294,3298,3302,3306],{"type":405,"tag":490,"props":3286,"children":3287},{"style":497},[3288],{"type":410,"value":974},{"type":405,"tag":490,"props":3290,"children":3291},{"style":515},[3292],{"type":410,"value":3293}," doCompileStyle",{"type":405,"tag":490,"props":3295,"children":3296},{"style":527},[3297],{"type":410,"value":2622},{"type":405,"tag":490,"props":3299,"children":3300},{"style":985},[3301],{"type":410,"value":988},{"type":405,"tag":490,"props":3303,"children":3304},{"style":527},[3305],{"type":410,"value":632},{"type":405,"tag":490,"props":3307,"children":3308},{"style":527},[3309],{"type":410,"value":535},{"type":405,"tag":490,"props":3311,"children":3312},{"class":492,"line":558},[3313,3318,3322,3326,3330],{"type":405,"tag":490,"props":3314,"children":3315},{"style":1091},[3316],{"type":410,"value":3317},"    if",{"type":405,"tag":490,"props":3319,"children":3320},{"style":542},[3321],{"type":410,"value":2622},{"type":405,"tag":490,"props":3323,"children":3324},{"style":521},[3325],{"type":410,"value":1627},{"type":405,"tag":490,"props":3327,"children":3328},{"style":542},[3329],{"type":410,"value":2794},{"type":405,"tag":490,"props":3331,"children":3332},{"style":527},[3333],{"type":410,"value":579},{"type":405,"tag":490,"props":3335,"children":3336},{"class":492,"line":582},[3337,3342,3346,3350,3354,3359,3363,3368,3372,3376,3381],{"type":405,"tag":490,"props":3338,"children":3339},{"style":521},[3340],{"type":410,"value":3341},"        plugins",{"type":405,"tag":490,"props":3343,"children":3344},{"style":527},[3345],{"type":410,"value":602},{"type":405,"tag":490,"props":3347,"children":3348},{"style":515},[3349],{"type":410,"value":2815},{"type":405,"tag":490,"props":3351,"children":3352},{"style":542},[3353],{"type":410,"value":574},{"type":405,"tag":490,"props":3355,"children":3356},{"style":521},[3357],{"type":410,"value":3358},"scoped_1",{"type":405,"tag":490,"props":3360,"children":3361},{"style":527},[3362],{"type":410,"value":602},{"type":405,"tag":490,"props":3364,"children":3365},{"style":515},[3366],{"type":410,"value":3367},"default",{"type":405,"tag":490,"props":3369,"children":3370},{"style":542},[3371],{"type":410,"value":574},{"type":405,"tag":490,"props":3373,"children":3374},{"style":521},[3375],{"type":410,"value":2358},{"type":405,"tag":490,"props":3377,"children":3378},{"style":542},[3379],{"type":410,"value":3380},"))",{"type":405,"tag":490,"props":3382,"children":3383},{"style":527},[3384],{"type":410,"value":947},{"type":405,"tag":490,"props":3386,"children":3387},{"class":492,"line":640},[3388],{"type":405,"tag":490,"props":3389,"children":3390},{"style":527},[3391],{"type":410,"value":1806},{"type":405,"tag":490,"props":3393,"children":3394},{"class":492,"line":686},[3395,3400,3404,3409,3413,3418,3422,3427,3431,3435,3440,3444,3448,3452,3457,3461],{"type":405,"tag":490,"props":3396,"children":3397},{"style":1091},[3398],{"type":410,"value":3399},"    return",{"type":405,"tag":490,"props":3401,"children":3402},{"style":527},[3403],{"type":410,"value":1010},{"type":405,"tag":490,"props":3405,"children":3406},{"style":542},[3407],{"type":410,"value":3408}," result",{"type":405,"tag":490,"props":3410,"children":3411},{"style":527},[3412],{"type":410,"value":550},{"type":405,"tag":490,"props":3414,"children":3415},{"style":515},[3416],{"type":410,"value":3417}," postcss",{"type":405,"tag":490,"props":3419,"children":3420},{"style":542},[3421],{"type":410,"value":574},{"type":405,"tag":490,"props":3423,"children":3424},{"style":521},[3425],{"type":410,"value":3426},"plugins",{"type":405,"tag":490,"props":3428,"children":3429},{"style":542},[3430],{"type":410,"value":632},{"type":405,"tag":490,"props":3432,"children":3433},{"style":527},[3434],{"type":410,"value":602},{"type":405,"tag":490,"props":3436,"children":3437},{"style":515},[3438],{"type":410,"value":3439},"process",{"type":405,"tag":490,"props":3441,"children":3442},{"style":542},[3443],{"type":410,"value":574},{"type":405,"tag":490,"props":3445,"children":3446},{"style":521},[3447],{"type":410,"value":1067},{"type":405,"tag":490,"props":3449,"children":3450},{"style":527},[3451],{"type":410,"value":530},{"type":405,"tag":490,"props":3453,"children":3454},{"style":521},[3455],{"type":410,"value":3456}," postCSSOptions",{"type":405,"tag":490,"props":3458,"children":3459},{"style":542},[3460],{"type":410,"value":2794},{"type":405,"tag":490,"props":3462,"children":3463},{"style":527},[3464],{"type":410,"value":1112},{"type":405,"tag":490,"props":3466,"children":3467},{"class":492,"line":703},[3468],{"type":405,"tag":490,"props":3469,"children":3470},{"style":527},[3471],{"type":410,"value":1112},{"type":405,"tag":406,"props":3473,"children":3474},{},[3475,3477,3483,3485,3490],{"type":410,"value":3476},"插件 ",{"type":405,"tag":413,"props":3478,"children":3480},{"className":3479},[],[3481],{"type":410,"value":3482},"scoped.js",{"type":410,"value":3484}," 将 ",{"type":405,"tag":413,"props":3486,"children":3488},{"className":3487},[],[3489],{"type":410,"value":3162},{"type":410,"value":3491}," 添加到选择器末尾的具体逻辑如下，遍历每一个选择器组合下的选择器，选择给每个组合下最后一个选择器的末尾插入：",{"type":405,"tag":480,"props":3493,"children":3495},{"className":482,"code":3494,"language":484,"meta":398,"style":398},"// component-compiler-utils/stylePlugins/scoped.js\nselectors.each((selector) => {\n    selector.each((n) => {\n        if (n.value === '::v-deep' || n.value === '>>>' || n.value === '/deep/') {\n            return false;\n        }\n    });\n    selector.insertAfter(node, selectorParser.attribute({\n        attribute: id\n    }))\n})\n",[3496],{"type":405,"tag":413,"props":3497,"children":3498},{"__ignoreMap":398},[3499,3507,3549,3590,3709,3727,3735,3751,3802,3819,3831],{"type":405,"tag":490,"props":3500,"children":3501},{"class":492,"line":493},[3502],{"type":405,"tag":490,"props":3503,"children":3504},{"style":797},[3505],{"type":410,"value":3506},"// component-compiler-utils/stylePlugins/scoped.js\n",{"type":405,"tag":490,"props":3508,"children":3509},{"class":492,"line":538},[3510,3515,3519,3524,3528,3532,3537,3541,3545],{"type":405,"tag":490,"props":3511,"children":3512},{"style":521},[3513],{"type":410,"value":3514},"selectors",{"type":405,"tag":490,"props":3516,"children":3517},{"style":527},[3518],{"type":410,"value":602},{"type":405,"tag":490,"props":3520,"children":3521},{"style":515},[3522],{"type":410,"value":3523},"each",{"type":405,"tag":490,"props":3525,"children":3526},{"style":521},[3527],{"type":410,"value":574},{"type":405,"tag":490,"props":3529,"children":3530},{"style":527},[3531],{"type":410,"value":574},{"type":405,"tag":490,"props":3533,"children":3534},{"style":985},[3535],{"type":410,"value":3536},"selector",{"type":405,"tag":490,"props":3538,"children":3539},{"style":527},[3540],{"type":410,"value":632},{"type":405,"tag":490,"props":3542,"children":3543},{"style":497},[3544],{"type":410,"value":1972},{"type":405,"tag":490,"props":3546,"children":3547},{"style":527},[3548],{"type":410,"value":535},{"type":405,"tag":490,"props":3550,"children":3551},{"class":492,"line":558},[3552,3557,3561,3565,3569,3573,3578,3582,3586],{"type":405,"tag":490,"props":3553,"children":3554},{"style":521},[3555],{"type":410,"value":3556},"    selector",{"type":405,"tag":490,"props":3558,"children":3559},{"style":527},[3560],{"type":410,"value":602},{"type":405,"tag":490,"props":3562,"children":3563},{"style":515},[3564],{"type":410,"value":3523},{"type":405,"tag":490,"props":3566,"children":3567},{"style":542},[3568],{"type":410,"value":574},{"type":405,"tag":490,"props":3570,"children":3571},{"style":527},[3572],{"type":410,"value":574},{"type":405,"tag":490,"props":3574,"children":3575},{"style":985},[3576],{"type":410,"value":3577},"n",{"type":405,"tag":490,"props":3579,"children":3580},{"style":527},[3581],{"type":410,"value":632},{"type":405,"tag":490,"props":3583,"children":3584},{"style":497},[3585],{"type":410,"value":1972},{"type":405,"tag":490,"props":3587,"children":3588},{"style":527},[3589],{"type":410,"value":535},{"type":405,"tag":490,"props":3591,"children":3592},{"class":492,"line":582},[3593,3598,3602,3606,3610,3615,3620,3624,3629,3633,3638,3643,3647,3651,3655,3659,3664,3668,3672,3676,3680,3684,3688,3692,3697,3701,3705],{"type":405,"tag":490,"props":3594,"children":3595},{"style":1091},[3596],{"type":410,"value":3597},"        if",{"type":405,"tag":490,"props":3599,"children":3600},{"style":542},[3601],{"type":410,"value":2622},{"type":405,"tag":490,"props":3603,"children":3604},{"style":521},[3605],{"type":410,"value":3577},{"type":405,"tag":490,"props":3607,"children":3608},{"style":527},[3609],{"type":410,"value":602},{"type":405,"tag":490,"props":3611,"children":3612},{"style":521},[3613],{"type":410,"value":3614},"value",{"type":405,"tag":490,"props":3616,"children":3617},{"style":509},[3618],{"type":410,"value":3619}," ===",{"type":405,"tag":490,"props":3621,"children":3622},{"style":614},[3623],{"type":410,"value":1900},{"type":405,"tag":490,"props":3625,"children":3626},{"style":620},[3627],{"type":410,"value":3628},"::v-deep",{"type":405,"tag":490,"props":3630,"children":3631},{"style":614},[3632],{"type":410,"value":617},{"type":405,"tag":490,"props":3634,"children":3635},{"style":509},[3636],{"type":410,"value":3637}," ||",{"type":405,"tag":490,"props":3639,"children":3640},{"style":521},[3641],{"type":410,"value":3642}," n",{"type":405,"tag":490,"props":3644,"children":3645},{"style":527},[3646],{"type":410,"value":602},{"type":405,"tag":490,"props":3648,"children":3649},{"style":521},[3650],{"type":410,"value":3614},{"type":405,"tag":490,"props":3652,"children":3653},{"style":509},[3654],{"type":410,"value":3619},{"type":405,"tag":490,"props":3656,"children":3657},{"style":614},[3658],{"type":410,"value":1900},{"type":405,"tag":490,"props":3660,"children":3661},{"style":620},[3662],{"type":410,"value":3663},">>>",{"type":405,"tag":490,"props":3665,"children":3666},{"style":614},[3667],{"type":410,"value":617},{"type":405,"tag":490,"props":3669,"children":3670},{"style":509},[3671],{"type":410,"value":3637},{"type":405,"tag":490,"props":3673,"children":3674},{"style":521},[3675],{"type":410,"value":3642},{"type":405,"tag":490,"props":3677,"children":3678},{"style":527},[3679],{"type":410,"value":602},{"type":405,"tag":490,"props":3681,"children":3682},{"style":521},[3683],{"type":410,"value":3614},{"type":405,"tag":490,"props":3685,"children":3686},{"style":509},[3687],{"type":410,"value":3619},{"type":405,"tag":490,"props":3689,"children":3690},{"style":614},[3691],{"type":410,"value":1900},{"type":405,"tag":490,"props":3693,"children":3694},{"style":620},[3695],{"type":410,"value":3696},"/deep/",{"type":405,"tag":490,"props":3698,"children":3699},{"style":614},[3700],{"type":410,"value":617},{"type":405,"tag":490,"props":3702,"children":3703},{"style":542},[3704],{"type":410,"value":2794},{"type":405,"tag":490,"props":3706,"children":3707},{"style":527},[3708],{"type":410,"value":579},{"type":405,"tag":490,"props":3710,"children":3711},{"class":492,"line":640},[3712,3717,3723],{"type":405,"tag":490,"props":3713,"children":3714},{"style":1091},[3715],{"type":410,"value":3716},"            return",{"type":405,"tag":490,"props":3718,"children":3720},{"style":3719},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[3721],{"type":410,"value":3722}," false",{"type":405,"tag":490,"props":3724,"children":3725},{"style":527},[3726],{"type":410,"value":947},{"type":405,"tag":490,"props":3728,"children":3729},{"class":492,"line":686},[3730],{"type":405,"tag":490,"props":3731,"children":3732},{"style":527},[3733],{"type":410,"value":3734},"        }\n",{"type":405,"tag":490,"props":3736,"children":3737},{"class":492,"line":703},[3738,3743,3747],{"type":405,"tag":490,"props":3739,"children":3740},{"style":527},[3741],{"type":410,"value":3742},"    }",{"type":405,"tag":490,"props":3744,"children":3745},{"style":542},[3746],{"type":410,"value":632},{"type":405,"tag":490,"props":3748,"children":3749},{"style":527},[3750],{"type":410,"value":947},{"type":405,"tag":490,"props":3752,"children":3753},{"class":492,"line":712},[3754,3758,3762,3767,3771,3776,3780,3785,3789,3794,3798],{"type":405,"tag":490,"props":3755,"children":3756},{"style":521},[3757],{"type":410,"value":3556},{"type":405,"tag":490,"props":3759,"children":3760},{"style":527},[3761],{"type":410,"value":602},{"type":405,"tag":490,"props":3763,"children":3764},{"style":515},[3765],{"type":410,"value":3766},"insertAfter",{"type":405,"tag":490,"props":3768,"children":3769},{"style":542},[3770],{"type":410,"value":574},{"type":405,"tag":490,"props":3772,"children":3773},{"style":521},[3774],{"type":410,"value":3775},"node",{"type":405,"tag":490,"props":3777,"children":3778},{"style":527},[3779],{"type":410,"value":530},{"type":405,"tag":490,"props":3781,"children":3782},{"style":521},[3783],{"type":410,"value":3784}," selectorParser",{"type":405,"tag":490,"props":3786,"children":3787},{"style":527},[3788],{"type":410,"value":602},{"type":405,"tag":490,"props":3790,"children":3791},{"style":515},[3792],{"type":410,"value":3793},"attribute",{"type":405,"tag":490,"props":3795,"children":3796},{"style":542},[3797],{"type":410,"value":574},{"type":405,"tag":490,"props":3799,"children":3800},{"style":527},[3801],{"type":410,"value":579},{"type":405,"tag":490,"props":3803,"children":3804},{"class":492,"line":950},[3805,3810,3814],{"type":405,"tag":490,"props":3806,"children":3807},{"style":542},[3808],{"type":410,"value":3809},"        attribute",{"type":405,"tag":490,"props":3811,"children":3812},{"style":527},[3813],{"type":410,"value":550},{"type":405,"tag":490,"props":3815,"children":3816},{"style":521},[3817],{"type":410,"value":3818}," id\n",{"type":405,"tag":490,"props":3820,"children":3821},{"class":492,"line":959},[3822,3826],{"type":405,"tag":490,"props":3823,"children":3824},{"style":527},[3825],{"type":410,"value":3742},{"type":405,"tag":490,"props":3827,"children":3828},{"style":542},[3829],{"type":410,"value":3830},"))\n",{"type":405,"tag":490,"props":3832,"children":3833},{"class":492,"line":968},[3834,3838],{"type":405,"tag":490,"props":3835,"children":3836},{"style":527},[3837],{"type":410,"value":718},{"type":405,"tag":490,"props":3839,"children":3840},{"style":521},[3841],{"type":410,"value":683},{"type":405,"tag":406,"props":3843,"children":3844},{},[3845,3847,3853],{"type":410,"value":3846},"题外话，通过以上代码，我们发现当循环处理到三种特定类型选择器便会终止，停止将 ",{"type":405,"tag":413,"props":3848,"children":3850},{"className":3849},[],[3851],{"type":410,"value":3852},"data-v-xxx",{"type":410,"value":3854}," 添加到选择器末尾：",{"type":405,"tag":2454,"props":3856,"children":3857},{},[3858,3868,3878],{"type":405,"tag":1344,"props":3859,"children":3860},{},[3861,3863],{"type":410,"value":3862},"伪类 ",{"type":405,"tag":413,"props":3864,"children":3866},{"className":3865},[],[3867],{"type":410,"value":3628},{"type":405,"tag":1344,"props":3869,"children":3870},{},[3871,3873],{"type":410,"value":3872},"选择器 ",{"type":405,"tag":413,"props":3874,"children":3876},{"className":3875},[],[3877],{"type":410,"value":3663},{"type":405,"tag":1344,"props":3879,"children":3880},{},[3881,3882],{"type":410,"value":3872},{"type":405,"tag":413,"props":3883,"children":3885},{"className":3884},[],[3886],{"type":410,"value":3696},{"type":405,"tag":406,"props":3888,"children":3889},{},[3890],{"type":410,"value":3891},"我们可以利用这个特征，在组件中写样式穿透，即内部组件影响外部组件样式 (ε=ε=ε=┏(゜ロ゜;)┛ 主动样式污染)，当然这在特定的情境下是有用的，比如当我们想主动覆盖第三方 UI 组件框架的样式，却不想引入新的 CSS 文件，或不想写非 Scoped CSS 模板的时候。",{"type":405,"tag":1516,"props":3893,"children":3894},{},[3895],{"type":410,"value":3896},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":398,"searchDepth":538,"depth":538,"links":3898},[3899,3900,3901],{"id":440,"depth":538,"text":440},{"id":760,"depth":538,"text":763},{"id":1408,"depth":538,"text":1403,"children":3902},[3903,3904],{"id":1414,"depth":558,"text":1417},{"id":1600,"depth":558,"text":1600},"markdown","content:8.source-code:_js:vue2-source:4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css.md","8.source-code/_js/vue2-source/4.scoped-css","md",[3911,3914],{"_path":3912,"title":3913,"description":400},"/source-code/_js/vue2-source/global-api","Vue2 Global API",{"_path":3915,"title":3916,"description":400},"/source-code/_js/vue2-source/test-kit","Vue2 Test Kit",1741604970393]