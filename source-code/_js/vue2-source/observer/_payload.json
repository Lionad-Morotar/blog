[{"data":1,"prerenderedAt":6883},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/observer":384,"/source-code/_js/vue2-source/observer-surround":6876},[4,35,86,105,132,138,144,150,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":205,"_path":206},"正则表达式","/gists/eegex",{"title":208,"_path":209},"Emoji","/gists/emoji",{"title":211,"_path":212},"工程","/gists/engineering",{"title":214,"_path":215},"熵","/gists/entropy",{"title":217,"_path":218},"Environment","/gists/environment",{"title":220,"_path":221},"Erlang","/gists/erlang",{"title":223,"_path":224},"逃离塔克夫","/gists/escape-from-tarkov",{"title":226,"_path":227},"ESNext (ES6-ES11)","/gists/esnext",{"title":229,"_path":230},"Eval！","/gists/eval",{"title":232,"_path":233},"Flutter","/gists/flutter",{"title":235,"_path":236},"字体","/gists/font",{"title":238,"_path":239},"JS 函数式编程","/gists/functional",{"title":241,"_path":242},"游戏化","/gists/gamification",{"title":244,"_path":245},"Google C++ Standard","/gists/google-cpp-standard",{"title":247,"_path":248},"双向链接完全体","/gists/graph",{"title":250,"_path":251},"Hardwares","/gists/hardwares",{"title":253,"_path":254},"哈希冲突","/gists/hash-collision",{"title":256,"_path":257},"信息设计","/gists/information-design",{"title":259,"_path":260},"InstantPage","/gists/instant.page",{"title":262,"_path":263},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":265,"_path":266},"KVStore","/gists/key-value-db",{"title":268,"_path":269},"Kubernetes","/gists/kubernetes",{"title":271,"_path":272},"Makefile","/gists/makefile",{"title":274,"_path":275},"Markdown Inline Style","/gists/markdown-nice",{"title":277,"_path":278},"减小页面快照体积","/gists/minify-html",{"title":280,"_path":281},"mklink","/gists/mklink",{"title":283,"_path":284},"Mock","/gists/mock",{"title":286,"_path":287},"多人协作系统","/gists/multiplayer",{"title":289,"_path":290},"多端应用","/gists/multy-end-app",{"title":292,"_path":293},"神经科学","/gists/neuroscience",{"title":295,"_path":296},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":298,"_path":299},"PInvoke","/gists/pinvoke",{"title":301,"_path":302},"像素","/gists/pixel",{"title":304,"_path":305},"PowerShell","/gists/powershell",{"title":307,"_path":308},"量子","/gists/quantum",{"title":310,"_path":311},"保持好奇心","/gists/questions",{"title":313,"_path":314},"React Native","/gists/react-native",{"title":316,"_path":317},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":319,"_path":320},"SEO","/gists/seo",{"title":322,"_path":323},"Shader","/gists/shader",{"title":325,"_path":326},"Shape Up","/gists/shape-up",{"title":328,"_path":329},"睡觉","/gists/sleep",{"title":331,"_path":332},"记录奇怪的问题","/gists/solved",{"title":334,"_path":335},"States","/gists/states",{"title":337,"_path":338},"Storage","/gists/storage",{"title":340,"_path":341},"音视频流处理","/gists/stream-cli",{"title":343,"_path":344},"Symbol","/gists/symbol",{"title":346,"_path":347},"系统论","/gists/systems-theory",{"title":349,"_path":350},"任务切片","/gists/task-slice",{"title":352,"_path":353},"技术偏好","/gists/tech-dudge",{"title":355,"_path":356},"Untitled","/gists/untitled",{"title":358,"_path":359},"可变字体","/gists/variable-font",{"title":361,"_path":362},"视觉错觉","/gists/visual-illusion",{"title":364,"_path":365},"SS(SSR)","/gists/vpn",{"title":367,"_path":368},"VS Code 插件开发","/gists/vscode-plugin",{"title":370,"_path":371},"Web Components","/gists/web-components",{"title":373,"_path":374},"Windows","/gists/windows",{"title":376,"_path":377},"查缺补漏","/gists/wrong",{"title":379,"_path":380,"children":381},"我 / About","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"_path":385,"_dir":386,"_draft":387,"_partial":388,"_locale":389,"title":390,"description":391,"body":392,"_type":6870,"_id":6871,"_source":6872,"_file":6873,"_stem":6874,"_extension":6875},"/source-code/_js/vue2-source/observer","vue2-source",false,true,"","Vue2 Observer","deprecated warning",{"type":393,"children":394,"toc":6859},"root",[395,403,423,428,434,444,449,469,475,480,485,1544,1549,1554,2353,2358,2363,3911,3916,3921,3926,3931,4527,4532,4540,4545,4835,4840,4845,5430,5435,5629,5634,6816,6821,6825,6830,6853],{"type":396,"tag":397,"props":398,"children":400},"element","h2",{"id":399},"读源码前",[401],{"type":402,"value":399},"text",{"type":396,"tag":404,"props":405,"children":406},"ul",{},[407,413,418],{"type":396,"tag":408,"props":409,"children":410},"li",{},[411],{"type":402,"value":412},"从 GitHub 克隆一份 vue@2 在 dev 上的分支",{"type":396,"tag":408,"props":414,"children":415},{},[416],{"type":402,"value":417},"使用 flow-remove-types 将 src 目录下的 flow 文件转换为普通的 JS",{"type":396,"tag":408,"props":419,"children":420},{},[421],{"type":402,"value":422},"使用 PowerShell 的 tree 指令输出 src 目录的树形结构，以理解源码结构",{"type":396,"tag":397,"props":424,"children":426},{"id":425},"目录结构",[427],{"type":402,"value":425},{"type":396,"tag":429,"props":430,"children":431},"p",{},[432],{"type":402,"value":433},"可以大致根据目录将源码拆分为几个部分：",{"type":396,"tag":435,"props":436,"children":438},"pre",{"code":437},"├─compiler // 模板编译相关\n│  ├─codegen  // 代码生成器\n│  ├─directives // 指令解析器\n│  └─parser // 模板解析器\n├─core  // 核心代码\n│  ├─components // component 相关 API\n│  ├─global-api // 全局 API\n│  ├─instance\n│  │  └─render-helpers\n│  ├─observer // 响应式属性\n│  ├─util // 工具函数\n│  └─vdom // 虚拟节点\n│      ├─helpers\n│      └─modules\n├─platforms // 平台相关代码\n├─server  // 服务端渲染相关代码\n│  ├─bundle-renderer\n│  ├─optimizing-compiler\n│  ├─template-renderer\n│  └─webpack-plugin\n├─sfc // SFC 结构解析器\n└─shared  // 工具函数\n",[439],{"type":396,"tag":440,"props":441,"children":442},"code",{"__ignoreMap":389},[443],{"type":402,"value":437},{"type":396,"tag":397,"props":445,"children":447},{"id":446},"变化侦测",[448],{"type":402,"value":446},{"type":396,"tag":450,"props":451,"children":452},"blockquote",{},[453],{"type":396,"tag":429,"props":454,"children":455},{},[456,458,467],{"type":402,"value":457},"去年读变化侦测的时候，借着项目的机会，实现过一个轻量的状态管理：",{"type":396,"tag":459,"props":460,"children":464},"a",{"href":461,"rel":462},"https://github.com/takecloud/state-vex",[463],"nofollow",[465],{"type":402,"value":466},"state-vex",{"type":402,"value":468},"，用到了 VueJS 响应式绑定相关的一些内容。",{"type":396,"tag":470,"props":471,"children":473},"h3",{"id":472},"侦测类",[474],{"type":402,"value":472},{"type":396,"tag":429,"props":476,"children":477},{},[478],{"type":402,"value":479},"Vue 通过 Observer 把对象的所有属性转化为带有能收集依赖并触发依赖更新的 setter/getter。setter/getter 调用时，分别收集依赖、触发依赖更新。Observer 还能遍历数组元素。但是更新依赖的方法放在了数组原型方法中，比如 Array.prototype.splice，用包装器将其增强，就能在调用时同时调用更新依赖的函数。",{"type":396,"tag":429,"props":481,"children":482},{},[483],{"type":402,"value":484},"简而言之，Observer 使对象“可观测”，即“变化侦测”中的“侦测”。通过 observe 函数，我们能命令式地侦测一个对象。",{"type":396,"tag":435,"props":486,"children":490},{"code":487,"language":488,"meta":389,"className":489,"style":389},"function observe(value, asRootData) {\n  ob = new Observer(value);\n  return ob;\n}\n\nclass Observer {\n  constructor(value) {\n    this.value = value;\n    // 初始化依赖容器\n    this.dep = new Dep();\n    this.vmCount = 0;\n    // 将侦测实例实例挂载到对象上方便访问\n    def(value, \"__ob__\", this);\n    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods);\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys);\n      }\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i \u003C keys.length; i++) {\n      defineReactive(obj, keys[i]);\n    }\n  }\n\n  observeArray(items) {\n    for (let i = 0, l = items.length; i \u003C l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[491],{"type":396,"tag":440,"props":492,"children":493},{"__ignoreMap":389},[494,544,588,607,616,625,643,668,700,710,749,780,789,844,853,862,908,935,969,987,1029,1038,1072,1089,1122,1131,1140,1148,1175,1224,1303,1347,1355,1363,1371,1397,1487,1520,1528,1536],{"type":396,"tag":495,"props":496,"children":499},"span",{"class":497,"line":498},"line",1,[500,506,512,518,524,529,534,539],{"type":396,"tag":495,"props":501,"children":503},{"style":502},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[504],{"type":402,"value":505},"function",{"type":396,"tag":495,"props":507,"children":509},{"style":508},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[510],{"type":402,"value":511}," observe",{"type":396,"tag":495,"props":513,"children":515},{"style":514},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[516],{"type":402,"value":517},"(",{"type":396,"tag":495,"props":519,"children":521},{"style":520},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[522],{"type":402,"value":523},"value",{"type":396,"tag":495,"props":525,"children":526},{"style":514},[527],{"type":402,"value":528},",",{"type":396,"tag":495,"props":530,"children":531},{"style":520},[532],{"type":402,"value":533}," asRootData",{"type":396,"tag":495,"props":535,"children":536},{"style":514},[537],{"type":402,"value":538},")",{"type":396,"tag":495,"props":540,"children":541},{"style":514},[542],{"type":402,"value":543}," {\n",{"type":396,"tag":495,"props":545,"children":547},{"class":497,"line":546},2,[548,554,560,565,570,575,579,583],{"type":396,"tag":495,"props":549,"children":551},{"style":550},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[552],{"type":402,"value":553},"  ob",{"type":396,"tag":495,"props":555,"children":557},{"style":556},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[558],{"type":402,"value":559}," =",{"type":396,"tag":495,"props":561,"children":562},{"style":556},[563],{"type":402,"value":564}," new",{"type":396,"tag":495,"props":566,"children":567},{"style":508},[568],{"type":402,"value":569}," Observer",{"type":396,"tag":495,"props":571,"children":573},{"style":572},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[574],{"type":402,"value":517},{"type":396,"tag":495,"props":576,"children":577},{"style":550},[578],{"type":402,"value":523},{"type":396,"tag":495,"props":580,"children":581},{"style":572},[582],{"type":402,"value":538},{"type":396,"tag":495,"props":584,"children":585},{"style":514},[586],{"type":402,"value":587},";\n",{"type":396,"tag":495,"props":589,"children":591},{"class":497,"line":590},3,[592,598,603],{"type":396,"tag":495,"props":593,"children":595},{"style":594},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[596],{"type":402,"value":597},"  return",{"type":396,"tag":495,"props":599,"children":600},{"style":550},[601],{"type":402,"value":602}," ob",{"type":396,"tag":495,"props":604,"children":605},{"style":514},[606],{"type":402,"value":587},{"type":396,"tag":495,"props":608,"children":610},{"class":497,"line":609},4,[611],{"type":396,"tag":495,"props":612,"children":613},{"style":514},[614],{"type":402,"value":615},"}\n",{"type":396,"tag":495,"props":617,"children":619},{"class":497,"line":618},5,[620],{"type":396,"tag":495,"props":621,"children":622},{"emptyLinePlaceholder":388},[623],{"type":402,"value":624},"\n",{"type":396,"tag":495,"props":626,"children":628},{"class":497,"line":627},6,[629,634,639],{"type":396,"tag":495,"props":630,"children":631},{"style":502},[632],{"type":402,"value":633},"class",{"type":396,"tag":495,"props":635,"children":637},{"style":636},"--shiki-light:#E2931D;--shiki-light-text-decoration:inherit;--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline",[638],{"type":402,"value":569},{"type":396,"tag":495,"props":640,"children":641},{"style":514},[642],{"type":402,"value":543},{"type":396,"tag":495,"props":644,"children":646},{"class":497,"line":645},7,[647,652,656,660,664],{"type":396,"tag":495,"props":648,"children":649},{"style":502},[650],{"type":402,"value":651},"  constructor",{"type":396,"tag":495,"props":653,"children":654},{"style":514},[655],{"type":402,"value":517},{"type":396,"tag":495,"props":657,"children":658},{"style":520},[659],{"type":402,"value":523},{"type":396,"tag":495,"props":661,"children":662},{"style":514},[663],{"type":402,"value":538},{"type":396,"tag":495,"props":665,"children":666},{"style":514},[667],{"type":402,"value":543},{"type":396,"tag":495,"props":669,"children":671},{"class":497,"line":670},8,[672,678,683,687,691,696],{"type":396,"tag":495,"props":673,"children":675},{"style":674},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[676],{"type":402,"value":677},"    this",{"type":396,"tag":495,"props":679,"children":680},{"style":514},[681],{"type":402,"value":682},".",{"type":396,"tag":495,"props":684,"children":685},{"style":550},[686],{"type":402,"value":523},{"type":396,"tag":495,"props":688,"children":689},{"style":556},[690],{"type":402,"value":559},{"type":396,"tag":495,"props":692,"children":693},{"style":550},[694],{"type":402,"value":695}," value",{"type":396,"tag":495,"props":697,"children":698},{"style":514},[699],{"type":402,"value":587},{"type":396,"tag":495,"props":701,"children":703},{"class":497,"line":702},9,[704],{"type":396,"tag":495,"props":705,"children":707},{"style":706},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[708],{"type":402,"value":709},"    // 初始化依赖容器\n",{"type":396,"tag":495,"props":711,"children":713},{"class":497,"line":712},10,[714,718,722,727,731,735,740,745],{"type":396,"tag":495,"props":715,"children":716},{"style":674},[717],{"type":402,"value":677},{"type":396,"tag":495,"props":719,"children":720},{"style":514},[721],{"type":402,"value":682},{"type":396,"tag":495,"props":723,"children":724},{"style":550},[725],{"type":402,"value":726},"dep",{"type":396,"tag":495,"props":728,"children":729},{"style":556},[730],{"type":402,"value":559},{"type":396,"tag":495,"props":732,"children":733},{"style":556},[734],{"type":402,"value":564},{"type":396,"tag":495,"props":736,"children":737},{"style":508},[738],{"type":402,"value":739}," Dep",{"type":396,"tag":495,"props":741,"children":742},{"style":572},[743],{"type":402,"value":744},"()",{"type":396,"tag":495,"props":746,"children":747},{"style":514},[748],{"type":402,"value":587},{"type":396,"tag":495,"props":750,"children":752},{"class":497,"line":751},11,[753,757,761,766,770,776],{"type":396,"tag":495,"props":754,"children":755},{"style":674},[756],{"type":402,"value":677},{"type":396,"tag":495,"props":758,"children":759},{"style":514},[760],{"type":402,"value":682},{"type":396,"tag":495,"props":762,"children":763},{"style":550},[764],{"type":402,"value":765},"vmCount",{"type":396,"tag":495,"props":767,"children":768},{"style":556},[769],{"type":402,"value":559},{"type":396,"tag":495,"props":771,"children":773},{"style":772},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[774],{"type":402,"value":775}," 0",{"type":396,"tag":495,"props":777,"children":778},{"style":514},[779],{"type":402,"value":587},{"type":396,"tag":495,"props":781,"children":783},{"class":497,"line":782},12,[784],{"type":396,"tag":495,"props":785,"children":786},{"style":706},[787],{"type":402,"value":788},"    // 将侦测实例实例挂载到对象上方便访问\n",{"type":396,"tag":495,"props":790,"children":792},{"class":497,"line":791},13,[793,798,802,806,810,816,822,827,831,836,840],{"type":396,"tag":495,"props":794,"children":795},{"style":508},[796],{"type":402,"value":797},"    def",{"type":396,"tag":495,"props":799,"children":800},{"style":572},[801],{"type":402,"value":517},{"type":396,"tag":495,"props":803,"children":804},{"style":550},[805],{"type":402,"value":523},{"type":396,"tag":495,"props":807,"children":808},{"style":514},[809],{"type":402,"value":528},{"type":396,"tag":495,"props":811,"children":813},{"style":812},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[814],{"type":402,"value":815}," \"",{"type":396,"tag":495,"props":817,"children":819},{"style":818},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[820],{"type":402,"value":821},"__ob__",{"type":396,"tag":495,"props":823,"children":824},{"style":812},[825],{"type":402,"value":826},"\"",{"type":396,"tag":495,"props":828,"children":829},{"style":514},[830],{"type":402,"value":528},{"type":396,"tag":495,"props":832,"children":833},{"style":674},[834],{"type":402,"value":835}," this",{"type":396,"tag":495,"props":837,"children":838},{"style":572},[839],{"type":402,"value":538},{"type":396,"tag":495,"props":841,"children":842},{"style":514},[843],{"type":402,"value":587},{"type":396,"tag":495,"props":845,"children":847},{"class":497,"line":846},14,[848],{"type":396,"tag":495,"props":849,"children":850},{"style":706},[851],{"type":402,"value":852},"    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n",{"type":396,"tag":495,"props":854,"children":856},{"class":497,"line":855},15,[857],{"type":396,"tag":495,"props":858,"children":859},{"style":706},[860],{"type":402,"value":861},"    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n",{"type":396,"tag":495,"props":863,"children":865},{"class":497,"line":864},16,[866,871,876,881,885,890,894,898,903],{"type":396,"tag":495,"props":867,"children":868},{"style":594},[869],{"type":402,"value":870},"    if",{"type":396,"tag":495,"props":872,"children":873},{"style":572},[874],{"type":402,"value":875}," (",{"type":396,"tag":495,"props":877,"children":878},{"style":550},[879],{"type":402,"value":880},"Array",{"type":396,"tag":495,"props":882,"children":883},{"style":514},[884],{"type":402,"value":682},{"type":396,"tag":495,"props":886,"children":887},{"style":508},[888],{"type":402,"value":889},"isArray",{"type":396,"tag":495,"props":891,"children":892},{"style":572},[893],{"type":402,"value":517},{"type":396,"tag":495,"props":895,"children":896},{"style":550},[897],{"type":402,"value":523},{"type":396,"tag":495,"props":899,"children":900},{"style":572},[901],{"type":402,"value":902},")) ",{"type":396,"tag":495,"props":904,"children":905},{"style":514},[906],{"type":402,"value":907},"{\n",{"type":396,"tag":495,"props":909,"children":911},{"class":497,"line":910},17,[912,917,921,926,931],{"type":396,"tag":495,"props":913,"children":914},{"style":594},[915],{"type":402,"value":916},"      if",{"type":396,"tag":495,"props":918,"children":919},{"style":572},[920],{"type":402,"value":875},{"type":396,"tag":495,"props":922,"children":923},{"style":550},[924],{"type":402,"value":925},"hasProto",{"type":396,"tag":495,"props":927,"children":928},{"style":572},[929],{"type":402,"value":930},") ",{"type":396,"tag":495,"props":932,"children":933},{"style":514},[934],{"type":402,"value":907},{"type":396,"tag":495,"props":936,"children":938},{"class":497,"line":937},18,[939,944,948,952,956,961,965],{"type":396,"tag":495,"props":940,"children":941},{"style":508},[942],{"type":402,"value":943},"        protoAugment",{"type":396,"tag":495,"props":945,"children":946},{"style":572},[947],{"type":402,"value":517},{"type":396,"tag":495,"props":949,"children":950},{"style":550},[951],{"type":402,"value":523},{"type":396,"tag":495,"props":953,"children":954},{"style":514},[955],{"type":402,"value":528},{"type":396,"tag":495,"props":957,"children":958},{"style":550},[959],{"type":402,"value":960}," arrayMethods",{"type":396,"tag":495,"props":962,"children":963},{"style":572},[964],{"type":402,"value":538},{"type":396,"tag":495,"props":966,"children":967},{"style":514},[968],{"type":402,"value":587},{"type":396,"tag":495,"props":970,"children":972},{"class":497,"line":971},19,[973,978,983],{"type":396,"tag":495,"props":974,"children":975},{"style":514},[976],{"type":402,"value":977},"      }",{"type":396,"tag":495,"props":979,"children":980},{"style":594},[981],{"type":402,"value":982}," else",{"type":396,"tag":495,"props":984,"children":985},{"style":514},[986],{"type":402,"value":543},{"type":396,"tag":495,"props":988,"children":990},{"class":497,"line":989},20,[991,996,1000,1004,1008,1012,1016,1021,1025],{"type":396,"tag":495,"props":992,"children":993},{"style":508},[994],{"type":402,"value":995},"        copyAugment",{"type":396,"tag":495,"props":997,"children":998},{"style":572},[999],{"type":402,"value":517},{"type":396,"tag":495,"props":1001,"children":1002},{"style":550},[1003],{"type":402,"value":523},{"type":396,"tag":495,"props":1005,"children":1006},{"style":514},[1007],{"type":402,"value":528},{"type":396,"tag":495,"props":1009,"children":1010},{"style":550},[1011],{"type":402,"value":960},{"type":396,"tag":495,"props":1013,"children":1014},{"style":514},[1015],{"type":402,"value":528},{"type":396,"tag":495,"props":1017,"children":1018},{"style":550},[1019],{"type":402,"value":1020}," arrayKeys",{"type":396,"tag":495,"props":1022,"children":1023},{"style":572},[1024],{"type":402,"value":538},{"type":396,"tag":495,"props":1026,"children":1027},{"style":514},[1028],{"type":402,"value":587},{"type":396,"tag":495,"props":1030,"children":1032},{"class":497,"line":1031},21,[1033],{"type":396,"tag":495,"props":1034,"children":1035},{"style":514},[1036],{"type":402,"value":1037},"      }\n",{"type":396,"tag":495,"props":1039,"children":1041},{"class":497,"line":1040},22,[1042,1047,1051,1056,1060,1064,1068],{"type":396,"tag":495,"props":1043,"children":1044},{"style":674},[1045],{"type":402,"value":1046},"      this",{"type":396,"tag":495,"props":1048,"children":1049},{"style":514},[1050],{"type":402,"value":682},{"type":396,"tag":495,"props":1052,"children":1053},{"style":508},[1054],{"type":402,"value":1055},"observeArray",{"type":396,"tag":495,"props":1057,"children":1058},{"style":572},[1059],{"type":402,"value":517},{"type":396,"tag":495,"props":1061,"children":1062},{"style":550},[1063],{"type":402,"value":523},{"type":396,"tag":495,"props":1065,"children":1066},{"style":572},[1067],{"type":402,"value":538},{"type":396,"tag":495,"props":1069,"children":1070},{"style":514},[1071],{"type":402,"value":587},{"type":396,"tag":495,"props":1073,"children":1075},{"class":497,"line":1074},23,[1076,1081,1085],{"type":396,"tag":495,"props":1077,"children":1078},{"style":514},[1079],{"type":402,"value":1080},"    }",{"type":396,"tag":495,"props":1082,"children":1083},{"style":594},[1084],{"type":402,"value":982},{"type":396,"tag":495,"props":1086,"children":1087},{"style":514},[1088],{"type":402,"value":543},{"type":396,"tag":495,"props":1090,"children":1092},{"class":497,"line":1091},24,[1093,1097,1101,1106,1110,1114,1118],{"type":396,"tag":495,"props":1094,"children":1095},{"style":674},[1096],{"type":402,"value":1046},{"type":396,"tag":495,"props":1098,"children":1099},{"style":514},[1100],{"type":402,"value":682},{"type":396,"tag":495,"props":1102,"children":1103},{"style":508},[1104],{"type":402,"value":1105},"walk",{"type":396,"tag":495,"props":1107,"children":1108},{"style":572},[1109],{"type":402,"value":517},{"type":396,"tag":495,"props":1111,"children":1112},{"style":550},[1113],{"type":402,"value":523},{"type":396,"tag":495,"props":1115,"children":1116},{"style":572},[1117],{"type":402,"value":538},{"type":396,"tag":495,"props":1119,"children":1120},{"style":514},[1121],{"type":402,"value":587},{"type":396,"tag":495,"props":1123,"children":1125},{"class":497,"line":1124},25,[1126],{"type":396,"tag":495,"props":1127,"children":1128},{"style":514},[1129],{"type":402,"value":1130},"    }\n",{"type":396,"tag":495,"props":1132,"children":1134},{"class":497,"line":1133},26,[1135],{"type":396,"tag":495,"props":1136,"children":1137},{"style":514},[1138],{"type":402,"value":1139},"  }\n",{"type":396,"tag":495,"props":1141,"children":1143},{"class":497,"line":1142},27,[1144],{"type":396,"tag":495,"props":1145,"children":1146},{"emptyLinePlaceholder":388},[1147],{"type":402,"value":624},{"type":396,"tag":495,"props":1149,"children":1151},{"class":497,"line":1150},28,[1152,1158,1162,1167,1171],{"type":396,"tag":495,"props":1153,"children":1155},{"style":1154},"--shiki-light:#E53935;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1156],{"type":402,"value":1157},"  walk",{"type":396,"tag":495,"props":1159,"children":1160},{"style":514},[1161],{"type":402,"value":517},{"type":396,"tag":495,"props":1163,"children":1164},{"style":520},[1165],{"type":402,"value":1166},"obj",{"type":396,"tag":495,"props":1168,"children":1169},{"style":514},[1170],{"type":402,"value":538},{"type":396,"tag":495,"props":1172,"children":1173},{"style":514},[1174],{"type":402,"value":543},{"type":396,"tag":495,"props":1176,"children":1178},{"class":497,"line":1177},29,[1179,1184,1190,1194,1199,1203,1208,1212,1216,1220],{"type":396,"tag":495,"props":1180,"children":1181},{"style":502},[1182],{"type":402,"value":1183},"    const",{"type":396,"tag":495,"props":1185,"children":1187},{"style":1186},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1188],{"type":402,"value":1189}," keys",{"type":396,"tag":495,"props":1191,"children":1192},{"style":556},[1193],{"type":402,"value":559},{"type":396,"tag":495,"props":1195,"children":1196},{"style":550},[1197],{"type":402,"value":1198}," Object",{"type":396,"tag":495,"props":1200,"children":1201},{"style":514},[1202],{"type":402,"value":682},{"type":396,"tag":495,"props":1204,"children":1205},{"style":508},[1206],{"type":402,"value":1207},"keys",{"type":396,"tag":495,"props":1209,"children":1210},{"style":572},[1211],{"type":402,"value":517},{"type":396,"tag":495,"props":1213,"children":1214},{"style":550},[1215],{"type":402,"value":1166},{"type":396,"tag":495,"props":1217,"children":1218},{"style":572},[1219],{"type":402,"value":538},{"type":396,"tag":495,"props":1221,"children":1222},{"style":514},[1223],{"type":402,"value":587},{"type":396,"tag":495,"props":1225,"children":1227},{"class":497,"line":1226},30,[1228,1233,1237,1242,1247,1251,1255,1260,1264,1269,1273,1277,1282,1286,1290,1295,1299],{"type":396,"tag":495,"props":1229,"children":1230},{"style":594},[1231],{"type":402,"value":1232},"    for",{"type":396,"tag":495,"props":1234,"children":1235},{"style":572},[1236],{"type":402,"value":875},{"type":396,"tag":495,"props":1238,"children":1239},{"style":502},[1240],{"type":402,"value":1241},"let",{"type":396,"tag":495,"props":1243,"children":1244},{"style":550},[1245],{"type":402,"value":1246}," i",{"type":396,"tag":495,"props":1248,"children":1249},{"style":556},[1250],{"type":402,"value":559},{"type":396,"tag":495,"props":1252,"children":1253},{"style":772},[1254],{"type":402,"value":775},{"type":396,"tag":495,"props":1256,"children":1257},{"style":514},[1258],{"type":402,"value":1259},";",{"type":396,"tag":495,"props":1261,"children":1262},{"style":550},[1263],{"type":402,"value":1246},{"type":396,"tag":495,"props":1265,"children":1266},{"style":556},[1267],{"type":402,"value":1268}," \u003C",{"type":396,"tag":495,"props":1270,"children":1271},{"style":550},[1272],{"type":402,"value":1189},{"type":396,"tag":495,"props":1274,"children":1275},{"style":514},[1276],{"type":402,"value":682},{"type":396,"tag":495,"props":1278,"children":1279},{"style":1186},[1280],{"type":402,"value":1281},"length",{"type":396,"tag":495,"props":1283,"children":1284},{"style":514},[1285],{"type":402,"value":1259},{"type":396,"tag":495,"props":1287,"children":1288},{"style":550},[1289],{"type":402,"value":1246},{"type":396,"tag":495,"props":1291,"children":1292},{"style":556},[1293],{"type":402,"value":1294},"++",{"type":396,"tag":495,"props":1296,"children":1297},{"style":572},[1298],{"type":402,"value":930},{"type":396,"tag":495,"props":1300,"children":1301},{"style":514},[1302],{"type":402,"value":907},{"type":396,"tag":495,"props":1304,"children":1306},{"class":497,"line":1305},31,[1307,1312,1316,1320,1324,1328,1333,1338,1343],{"type":396,"tag":495,"props":1308,"children":1309},{"style":508},[1310],{"type":402,"value":1311},"      defineReactive",{"type":396,"tag":495,"props":1313,"children":1314},{"style":572},[1315],{"type":402,"value":517},{"type":396,"tag":495,"props":1317,"children":1318},{"style":550},[1319],{"type":402,"value":1166},{"type":396,"tag":495,"props":1321,"children":1322},{"style":514},[1323],{"type":402,"value":528},{"type":396,"tag":495,"props":1325,"children":1326},{"style":550},[1327],{"type":402,"value":1189},{"type":396,"tag":495,"props":1329,"children":1330},{"style":572},[1331],{"type":402,"value":1332},"[",{"type":396,"tag":495,"props":1334,"children":1335},{"style":550},[1336],{"type":402,"value":1337},"i",{"type":396,"tag":495,"props":1339,"children":1340},{"style":572},[1341],{"type":402,"value":1342},"])",{"type":396,"tag":495,"props":1344,"children":1345},{"style":514},[1346],{"type":402,"value":587},{"type":396,"tag":495,"props":1348,"children":1350},{"class":497,"line":1349},32,[1351],{"type":396,"tag":495,"props":1352,"children":1353},{"style":514},[1354],{"type":402,"value":1130},{"type":396,"tag":495,"props":1356,"children":1358},{"class":497,"line":1357},33,[1359],{"type":396,"tag":495,"props":1360,"children":1361},{"style":514},[1362],{"type":402,"value":1139},{"type":396,"tag":495,"props":1364,"children":1366},{"class":497,"line":1365},34,[1367],{"type":396,"tag":495,"props":1368,"children":1369},{"emptyLinePlaceholder":388},[1370],{"type":402,"value":624},{"type":396,"tag":495,"props":1372,"children":1374},{"class":497,"line":1373},35,[1375,1380,1384,1389,1393],{"type":396,"tag":495,"props":1376,"children":1377},{"style":1154},[1378],{"type":402,"value":1379},"  observeArray",{"type":396,"tag":495,"props":1381,"children":1382},{"style":514},[1383],{"type":402,"value":517},{"type":396,"tag":495,"props":1385,"children":1386},{"style":520},[1387],{"type":402,"value":1388},"items",{"type":396,"tag":495,"props":1390,"children":1391},{"style":514},[1392],{"type":402,"value":538},{"type":396,"tag":495,"props":1394,"children":1395},{"style":514},[1396],{"type":402,"value":543},{"type":396,"tag":495,"props":1398,"children":1400},{"class":497,"line":1399},36,[1401,1405,1409,1413,1417,1421,1425,1429,1434,1438,1443,1447,1451,1455,1459,1463,1467,1471,1475,1479,1483],{"type":396,"tag":495,"props":1402,"children":1403},{"style":594},[1404],{"type":402,"value":1232},{"type":396,"tag":495,"props":1406,"children":1407},{"style":572},[1408],{"type":402,"value":875},{"type":396,"tag":495,"props":1410,"children":1411},{"style":502},[1412],{"type":402,"value":1241},{"type":396,"tag":495,"props":1414,"children":1415},{"style":550},[1416],{"type":402,"value":1246},{"type":396,"tag":495,"props":1418,"children":1419},{"style":556},[1420],{"type":402,"value":559},{"type":396,"tag":495,"props":1422,"children":1423},{"style":772},[1424],{"type":402,"value":775},{"type":396,"tag":495,"props":1426,"children":1427},{"style":514},[1428],{"type":402,"value":528},{"type":396,"tag":495,"props":1430,"children":1431},{"style":550},[1432],{"type":402,"value":1433}," l",{"type":396,"tag":495,"props":1435,"children":1436},{"style":556},[1437],{"type":402,"value":559},{"type":396,"tag":495,"props":1439,"children":1440},{"style":550},[1441],{"type":402,"value":1442}," items",{"type":396,"tag":495,"props":1444,"children":1445},{"style":514},[1446],{"type":402,"value":682},{"type":396,"tag":495,"props":1448,"children":1449},{"style":1186},[1450],{"type":402,"value":1281},{"type":396,"tag":495,"props":1452,"children":1453},{"style":514},[1454],{"type":402,"value":1259},{"type":396,"tag":495,"props":1456,"children":1457},{"style":550},[1458],{"type":402,"value":1246},{"type":396,"tag":495,"props":1460,"children":1461},{"style":556},[1462],{"type":402,"value":1268},{"type":396,"tag":495,"props":1464,"children":1465},{"style":550},[1466],{"type":402,"value":1433},{"type":396,"tag":495,"props":1468,"children":1469},{"style":514},[1470],{"type":402,"value":1259},{"type":396,"tag":495,"props":1472,"children":1473},{"style":550},[1474],{"type":402,"value":1246},{"type":396,"tag":495,"props":1476,"children":1477},{"style":556},[1478],{"type":402,"value":1294},{"type":396,"tag":495,"props":1480,"children":1481},{"style":572},[1482],{"type":402,"value":930},{"type":396,"tag":495,"props":1484,"children":1485},{"style":514},[1486],{"type":402,"value":907},{"type":396,"tag":495,"props":1488,"children":1490},{"class":497,"line":1489},37,[1491,1496,1500,1504,1508,1512,1516],{"type":396,"tag":495,"props":1492,"children":1493},{"style":508},[1494],{"type":402,"value":1495},"      observe",{"type":396,"tag":495,"props":1497,"children":1498},{"style":572},[1499],{"type":402,"value":517},{"type":396,"tag":495,"props":1501,"children":1502},{"style":550},[1503],{"type":402,"value":1388},{"type":396,"tag":495,"props":1505,"children":1506},{"style":572},[1507],{"type":402,"value":1332},{"type":396,"tag":495,"props":1509,"children":1510},{"style":550},[1511],{"type":402,"value":1337},{"type":396,"tag":495,"props":1513,"children":1514},{"style":572},[1515],{"type":402,"value":1342},{"type":396,"tag":495,"props":1517,"children":1518},{"style":514},[1519],{"type":402,"value":587},{"type":396,"tag":495,"props":1521,"children":1523},{"class":497,"line":1522},38,[1524],{"type":396,"tag":495,"props":1525,"children":1526},{"style":514},[1527],{"type":402,"value":1130},{"type":396,"tag":495,"props":1529,"children":1531},{"class":497,"line":1530},39,[1532],{"type":396,"tag":495,"props":1533,"children":1534},{"style":514},[1535],{"type":402,"value":1139},{"type":396,"tag":495,"props":1537,"children":1539},{"class":497,"line":1538},40,[1540],{"type":396,"tag":495,"props":1541,"children":1542},{"style":514},[1543],{"type":402,"value":615},{"type":396,"tag":470,"props":1545,"children":1547},{"id":1546},"监测数组变化",[1548],{"type":402,"value":1546},{"type":396,"tag":429,"props":1550,"children":1551},{},[1552],{"type":402,"value":1553},"因为数组没有 setter/getter，所以使用数组时，没有办法做响应式更新。Vue 以猴子补丁的形式增强了数组元素的原型方法，使得这些方法被调用时，自动更新依赖。",{"type":396,"tag":435,"props":1555,"children":1557},{"code":1556,"language":488,"meta":389,"className":489,"style":389},"// 需要增强的方法\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n    const result = original.apply(this, args);\n    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n    const ob = this.__ob__;\n    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // 通知依赖更新\n    ob.dep.notify();\n    return result;\n  });\n});\n",[1558],{"type":396,"tag":440,"props":1559,"children":1560},{"__ignoreMap":389},[1561,1569,1591,1613,1633,1653,1673,1693,1713,1733,1745,1752,1794,1802,1840,1902,1910,1965,1973,2004,2012,2029,2053,2078,2101,2121,2133,2156,2197,2208,2215,2264,2272,2305,2321,2337],{"type":396,"tag":495,"props":1562,"children":1563},{"class":497,"line":498},[1564],{"type":396,"tag":495,"props":1565,"children":1566},{"style":706},[1567],{"type":402,"value":1568},"// 需要增强的方法\n",{"type":396,"tag":495,"props":1570,"children":1571},{"class":497,"line":546},[1572,1577,1582,1586],{"type":396,"tag":495,"props":1573,"children":1574},{"style":502},[1575],{"type":402,"value":1576},"const",{"type":396,"tag":495,"props":1578,"children":1579},{"style":1186},[1580],{"type":402,"value":1581}," methodsToPatch",{"type":396,"tag":495,"props":1583,"children":1584},{"style":556},[1585],{"type":402,"value":559},{"type":396,"tag":495,"props":1587,"children":1588},{"style":550},[1589],{"type":402,"value":1590}," [\n",{"type":396,"tag":495,"props":1592,"children":1593},{"class":497,"line":590},[1594,1599,1604,1608],{"type":396,"tag":495,"props":1595,"children":1596},{"style":812},[1597],{"type":402,"value":1598},"  \"",{"type":396,"tag":495,"props":1600,"children":1601},{"style":818},[1602],{"type":402,"value":1603},"push",{"type":396,"tag":495,"props":1605,"children":1606},{"style":812},[1607],{"type":402,"value":826},{"type":396,"tag":495,"props":1609,"children":1610},{"style":514},[1611],{"type":402,"value":1612},",\n",{"type":396,"tag":495,"props":1614,"children":1615},{"class":497,"line":609},[1616,1620,1625,1629],{"type":396,"tag":495,"props":1617,"children":1618},{"style":812},[1619],{"type":402,"value":1598},{"type":396,"tag":495,"props":1621,"children":1622},{"style":818},[1623],{"type":402,"value":1624},"pop",{"type":396,"tag":495,"props":1626,"children":1627},{"style":812},[1628],{"type":402,"value":826},{"type":396,"tag":495,"props":1630,"children":1631},{"style":514},[1632],{"type":402,"value":1612},{"type":396,"tag":495,"props":1634,"children":1635},{"class":497,"line":618},[1636,1640,1645,1649],{"type":396,"tag":495,"props":1637,"children":1638},{"style":812},[1639],{"type":402,"value":1598},{"type":396,"tag":495,"props":1641,"children":1642},{"style":818},[1643],{"type":402,"value":1644},"shift",{"type":396,"tag":495,"props":1646,"children":1647},{"style":812},[1648],{"type":402,"value":826},{"type":396,"tag":495,"props":1650,"children":1651},{"style":514},[1652],{"type":402,"value":1612},{"type":396,"tag":495,"props":1654,"children":1655},{"class":497,"line":627},[1656,1660,1665,1669],{"type":396,"tag":495,"props":1657,"children":1658},{"style":812},[1659],{"type":402,"value":1598},{"type":396,"tag":495,"props":1661,"children":1662},{"style":818},[1663],{"type":402,"value":1664},"unshift",{"type":396,"tag":495,"props":1666,"children":1667},{"style":812},[1668],{"type":402,"value":826},{"type":396,"tag":495,"props":1670,"children":1671},{"style":514},[1672],{"type":402,"value":1612},{"type":396,"tag":495,"props":1674,"children":1675},{"class":497,"line":645},[1676,1680,1685,1689],{"type":396,"tag":495,"props":1677,"children":1678},{"style":812},[1679],{"type":402,"value":1598},{"type":396,"tag":495,"props":1681,"children":1682},{"style":818},[1683],{"type":402,"value":1684},"splice",{"type":396,"tag":495,"props":1686,"children":1687},{"style":812},[1688],{"type":402,"value":826},{"type":396,"tag":495,"props":1690,"children":1691},{"style":514},[1692],{"type":402,"value":1612},{"type":396,"tag":495,"props":1694,"children":1695},{"class":497,"line":670},[1696,1700,1705,1709],{"type":396,"tag":495,"props":1697,"children":1698},{"style":812},[1699],{"type":402,"value":1598},{"type":396,"tag":495,"props":1701,"children":1702},{"style":818},[1703],{"type":402,"value":1704},"sort",{"type":396,"tag":495,"props":1706,"children":1707},{"style":812},[1708],{"type":402,"value":826},{"type":396,"tag":495,"props":1710,"children":1711},{"style":514},[1712],{"type":402,"value":1612},{"type":396,"tag":495,"props":1714,"children":1715},{"class":497,"line":702},[1716,1720,1725,1729],{"type":396,"tag":495,"props":1717,"children":1718},{"style":812},[1719],{"type":402,"value":1598},{"type":396,"tag":495,"props":1721,"children":1722},{"style":818},[1723],{"type":402,"value":1724},"reverse",{"type":396,"tag":495,"props":1726,"children":1727},{"style":812},[1728],{"type":402,"value":826},{"type":396,"tag":495,"props":1730,"children":1731},{"style":514},[1732],{"type":402,"value":1612},{"type":396,"tag":495,"props":1734,"children":1735},{"class":497,"line":712},[1736,1741],{"type":396,"tag":495,"props":1737,"children":1738},{"style":550},[1739],{"type":402,"value":1740},"]",{"type":396,"tag":495,"props":1742,"children":1743},{"style":514},[1744],{"type":402,"value":587},{"type":396,"tag":495,"props":1746,"children":1747},{"class":497,"line":751},[1748],{"type":396,"tag":495,"props":1749,"children":1750},{"emptyLinePlaceholder":388},[1751],{"type":402,"value":624},{"type":396,"tag":495,"props":1753,"children":1754},{"class":497,"line":782},[1755,1760,1764,1769,1773,1777,1781,1786,1790],{"type":396,"tag":495,"props":1756,"children":1757},{"style":550},[1758],{"type":402,"value":1759},"methodsToPatch",{"type":396,"tag":495,"props":1761,"children":1762},{"style":514},[1763],{"type":402,"value":682},{"type":396,"tag":495,"props":1765,"children":1766},{"style":508},[1767],{"type":402,"value":1768},"forEach",{"type":396,"tag":495,"props":1770,"children":1771},{"style":550},[1772],{"type":402,"value":517},{"type":396,"tag":495,"props":1774,"children":1775},{"style":502},[1776],{"type":402,"value":505},{"type":396,"tag":495,"props":1778,"children":1779},{"style":514},[1780],{"type":402,"value":875},{"type":396,"tag":495,"props":1782,"children":1783},{"style":520},[1784],{"type":402,"value":1785},"method",{"type":396,"tag":495,"props":1787,"children":1788},{"style":514},[1789],{"type":402,"value":538},{"type":396,"tag":495,"props":1791,"children":1792},{"style":514},[1793],{"type":402,"value":543},{"type":396,"tag":495,"props":1795,"children":1796},{"class":497,"line":791},[1797],{"type":396,"tag":495,"props":1798,"children":1799},{"style":706},[1800],{"type":402,"value":1801},"  // cache original method\n",{"type":396,"tag":495,"props":1803,"children":1804},{"class":497,"line":846},[1805,1810,1815,1819,1824,1828,1832,1836],{"type":396,"tag":495,"props":1806,"children":1807},{"style":502},[1808],{"type":402,"value":1809},"  const",{"type":396,"tag":495,"props":1811,"children":1812},{"style":1186},[1813],{"type":402,"value":1814}," original",{"type":396,"tag":495,"props":1816,"children":1817},{"style":556},[1818],{"type":402,"value":559},{"type":396,"tag":495,"props":1820,"children":1821},{"style":550},[1822],{"type":402,"value":1823}," arrayProto",{"type":396,"tag":495,"props":1825,"children":1826},{"style":572},[1827],{"type":402,"value":1332},{"type":396,"tag":495,"props":1829,"children":1830},{"style":550},[1831],{"type":402,"value":1785},{"type":396,"tag":495,"props":1833,"children":1834},{"style":572},[1835],{"type":402,"value":1740},{"type":396,"tag":495,"props":1837,"children":1838},{"style":514},[1839],{"type":402,"value":587},{"type":396,"tag":495,"props":1841,"children":1842},{"class":497,"line":855},[1843,1848,1852,1857,1861,1866,1870,1875,1880,1884,1889,1894,1898],{"type":396,"tag":495,"props":1844,"children":1845},{"style":508},[1846],{"type":402,"value":1847},"  def",{"type":396,"tag":495,"props":1849,"children":1850},{"style":572},[1851],{"type":402,"value":517},{"type":396,"tag":495,"props":1853,"children":1854},{"style":550},[1855],{"type":402,"value":1856},"arrayMethods",{"type":396,"tag":495,"props":1858,"children":1859},{"style":514},[1860],{"type":402,"value":528},{"type":396,"tag":495,"props":1862,"children":1863},{"style":550},[1864],{"type":402,"value":1865}," method",{"type":396,"tag":495,"props":1867,"children":1868},{"style":514},[1869],{"type":402,"value":528},{"type":396,"tag":495,"props":1871,"children":1872},{"style":502},[1873],{"type":402,"value":1874}," function",{"type":396,"tag":495,"props":1876,"children":1877},{"style":508},[1878],{"type":402,"value":1879}," mutator",{"type":396,"tag":495,"props":1881,"children":1882},{"style":514},[1883],{"type":402,"value":517},{"type":396,"tag":495,"props":1885,"children":1886},{"style":556},[1887],{"type":402,"value":1888},"...",{"type":396,"tag":495,"props":1890,"children":1891},{"style":520},[1892],{"type":402,"value":1893},"args",{"type":396,"tag":495,"props":1895,"children":1896},{"style":514},[1897],{"type":402,"value":538},{"type":396,"tag":495,"props":1899,"children":1900},{"style":514},[1901],{"type":402,"value":543},{"type":396,"tag":495,"props":1903,"children":1904},{"class":497,"line":864},[1905],{"type":396,"tag":495,"props":1906,"children":1907},{"style":706},[1908],{"type":402,"value":1909},"    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n",{"type":396,"tag":495,"props":1911,"children":1912},{"class":497,"line":910},[1913,1917,1922,1926,1930,1934,1939,1943,1948,1952,1957,1961],{"type":396,"tag":495,"props":1914,"children":1915},{"style":502},[1916],{"type":402,"value":1183},{"type":396,"tag":495,"props":1918,"children":1919},{"style":1186},[1920],{"type":402,"value":1921}," result",{"type":396,"tag":495,"props":1923,"children":1924},{"style":556},[1925],{"type":402,"value":559},{"type":396,"tag":495,"props":1927,"children":1928},{"style":550},[1929],{"type":402,"value":1814},{"type":396,"tag":495,"props":1931,"children":1932},{"style":514},[1933],{"type":402,"value":682},{"type":396,"tag":495,"props":1935,"children":1936},{"style":508},[1937],{"type":402,"value":1938},"apply",{"type":396,"tag":495,"props":1940,"children":1941},{"style":572},[1942],{"type":402,"value":517},{"type":396,"tag":495,"props":1944,"children":1945},{"style":674},[1946],{"type":402,"value":1947},"this",{"type":396,"tag":495,"props":1949,"children":1950},{"style":514},[1951],{"type":402,"value":528},{"type":396,"tag":495,"props":1953,"children":1954},{"style":550},[1955],{"type":402,"value":1956}," args",{"type":396,"tag":495,"props":1958,"children":1959},{"style":572},[1960],{"type":402,"value":538},{"type":396,"tag":495,"props":1962,"children":1963},{"style":514},[1964],{"type":402,"value":587},{"type":396,"tag":495,"props":1966,"children":1967},{"class":497,"line":937},[1968],{"type":396,"tag":495,"props":1969,"children":1970},{"style":706},[1971],{"type":402,"value":1972},"    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n",{"type":396,"tag":495,"props":1974,"children":1975},{"class":497,"line":971},[1976,1980,1984,1988,1992,1996,2000],{"type":396,"tag":495,"props":1977,"children":1978},{"style":502},[1979],{"type":402,"value":1183},{"type":396,"tag":495,"props":1981,"children":1982},{"style":1186},[1983],{"type":402,"value":602},{"type":396,"tag":495,"props":1985,"children":1986},{"style":556},[1987],{"type":402,"value":559},{"type":396,"tag":495,"props":1989,"children":1990},{"style":674},[1991],{"type":402,"value":835},{"type":396,"tag":495,"props":1993,"children":1994},{"style":514},[1995],{"type":402,"value":682},{"type":396,"tag":495,"props":1997,"children":1998},{"style":550},[1999],{"type":402,"value":821},{"type":396,"tag":495,"props":2001,"children":2002},{"style":514},[2003],{"type":402,"value":587},{"type":396,"tag":495,"props":2005,"children":2006},{"class":497,"line":989},[2007],{"type":396,"tag":495,"props":2008,"children":2009},{"style":706},[2010],{"type":402,"value":2011},"    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n",{"type":396,"tag":495,"props":2013,"children":2014},{"class":497,"line":1031},[2015,2020,2025],{"type":396,"tag":495,"props":2016,"children":2017},{"style":502},[2018],{"type":402,"value":2019},"    let",{"type":396,"tag":495,"props":2021,"children":2022},{"style":550},[2023],{"type":402,"value":2024}," inserted",{"type":396,"tag":495,"props":2026,"children":2027},{"style":514},[2028],{"type":402,"value":587},{"type":396,"tag":495,"props":2030,"children":2031},{"class":497,"line":1040},[2032,2037,2041,2045,2049],{"type":396,"tag":495,"props":2033,"children":2034},{"style":594},[2035],{"type":402,"value":2036},"    switch",{"type":396,"tag":495,"props":2038,"children":2039},{"style":572},[2040],{"type":402,"value":875},{"type":396,"tag":495,"props":2042,"children":2043},{"style":550},[2044],{"type":402,"value":1785},{"type":396,"tag":495,"props":2046,"children":2047},{"style":572},[2048],{"type":402,"value":930},{"type":396,"tag":495,"props":2050,"children":2051},{"style":514},[2052],{"type":402,"value":907},{"type":396,"tag":495,"props":2054,"children":2055},{"class":497,"line":1074},[2056,2061,2065,2069,2073],{"type":396,"tag":495,"props":2057,"children":2058},{"style":594},[2059],{"type":402,"value":2060},"      case",{"type":396,"tag":495,"props":2062,"children":2063},{"style":812},[2064],{"type":402,"value":815},{"type":396,"tag":495,"props":2066,"children":2067},{"style":818},[2068],{"type":402,"value":1603},{"type":396,"tag":495,"props":2070,"children":2071},{"style":812},[2072],{"type":402,"value":826},{"type":396,"tag":495,"props":2074,"children":2075},{"style":514},[2076],{"type":402,"value":2077},":\n",{"type":396,"tag":495,"props":2079,"children":2080},{"class":497,"line":1091},[2081,2085,2089,2093,2097],{"type":396,"tag":495,"props":2082,"children":2083},{"style":594},[2084],{"type":402,"value":2060},{"type":396,"tag":495,"props":2086,"children":2087},{"style":812},[2088],{"type":402,"value":815},{"type":396,"tag":495,"props":2090,"children":2091},{"style":818},[2092],{"type":402,"value":1664},{"type":396,"tag":495,"props":2094,"children":2095},{"style":812},[2096],{"type":402,"value":826},{"type":396,"tag":495,"props":2098,"children":2099},{"style":514},[2100],{"type":402,"value":2077},{"type":396,"tag":495,"props":2102,"children":2103},{"class":497,"line":1124},[2104,2109,2113,2117],{"type":396,"tag":495,"props":2105,"children":2106},{"style":550},[2107],{"type":402,"value":2108},"        inserted",{"type":396,"tag":495,"props":2110,"children":2111},{"style":556},[2112],{"type":402,"value":559},{"type":396,"tag":495,"props":2114,"children":2115},{"style":550},[2116],{"type":402,"value":1956},{"type":396,"tag":495,"props":2118,"children":2119},{"style":514},[2120],{"type":402,"value":587},{"type":396,"tag":495,"props":2122,"children":2123},{"class":497,"line":1133},[2124,2129],{"type":396,"tag":495,"props":2125,"children":2126},{"style":594},[2127],{"type":402,"value":2128},"        break",{"type":396,"tag":495,"props":2130,"children":2131},{"style":514},[2132],{"type":402,"value":587},{"type":396,"tag":495,"props":2134,"children":2135},{"class":497,"line":1142},[2136,2140,2144,2148,2152],{"type":396,"tag":495,"props":2137,"children":2138},{"style":594},[2139],{"type":402,"value":2060},{"type":396,"tag":495,"props":2141,"children":2142},{"style":812},[2143],{"type":402,"value":815},{"type":396,"tag":495,"props":2145,"children":2146},{"style":818},[2147],{"type":402,"value":1684},{"type":396,"tag":495,"props":2149,"children":2150},{"style":812},[2151],{"type":402,"value":826},{"type":396,"tag":495,"props":2153,"children":2154},{"style":514},[2155],{"type":402,"value":2077},{"type":396,"tag":495,"props":2157,"children":2158},{"class":497,"line":1150},[2159,2163,2167,2171,2175,2180,2184,2189,2193],{"type":396,"tag":495,"props":2160,"children":2161},{"style":550},[2162],{"type":402,"value":2108},{"type":396,"tag":495,"props":2164,"children":2165},{"style":556},[2166],{"type":402,"value":559},{"type":396,"tag":495,"props":2168,"children":2169},{"style":550},[2170],{"type":402,"value":1956},{"type":396,"tag":495,"props":2172,"children":2173},{"style":514},[2174],{"type":402,"value":682},{"type":396,"tag":495,"props":2176,"children":2177},{"style":508},[2178],{"type":402,"value":2179},"slice",{"type":396,"tag":495,"props":2181,"children":2182},{"style":572},[2183],{"type":402,"value":517},{"type":396,"tag":495,"props":2185,"children":2186},{"style":772},[2187],{"type":402,"value":2188},"2",{"type":396,"tag":495,"props":2190,"children":2191},{"style":572},[2192],{"type":402,"value":538},{"type":396,"tag":495,"props":2194,"children":2195},{"style":514},[2196],{"type":402,"value":587},{"type":396,"tag":495,"props":2198,"children":2199},{"class":497,"line":1177},[2200,2204],{"type":396,"tag":495,"props":2201,"children":2202},{"style":594},[2203],{"type":402,"value":2128},{"type":396,"tag":495,"props":2205,"children":2206},{"style":514},[2207],{"type":402,"value":587},{"type":396,"tag":495,"props":2209,"children":2210},{"class":497,"line":1226},[2211],{"type":396,"tag":495,"props":2212,"children":2213},{"style":514},[2214],{"type":402,"value":1130},{"type":396,"tag":495,"props":2216,"children":2217},{"class":497,"line":1305},[2218,2222,2226,2231,2235,2240,2244,2248,2252,2256,2260],{"type":396,"tag":495,"props":2219,"children":2220},{"style":594},[2221],{"type":402,"value":870},{"type":396,"tag":495,"props":2223,"children":2224},{"style":572},[2225],{"type":402,"value":875},{"type":396,"tag":495,"props":2227,"children":2228},{"style":550},[2229],{"type":402,"value":2230},"inserted",{"type":396,"tag":495,"props":2232,"children":2233},{"style":572},[2234],{"type":402,"value":930},{"type":396,"tag":495,"props":2236,"children":2237},{"style":550},[2238],{"type":402,"value":2239},"ob",{"type":396,"tag":495,"props":2241,"children":2242},{"style":514},[2243],{"type":402,"value":682},{"type":396,"tag":495,"props":2245,"children":2246},{"style":508},[2247],{"type":402,"value":1055},{"type":396,"tag":495,"props":2249,"children":2250},{"style":572},[2251],{"type":402,"value":517},{"type":396,"tag":495,"props":2253,"children":2254},{"style":550},[2255],{"type":402,"value":2230},{"type":396,"tag":495,"props":2257,"children":2258},{"style":572},[2259],{"type":402,"value":538},{"type":396,"tag":495,"props":2261,"children":2262},{"style":514},[2263],{"type":402,"value":587},{"type":396,"tag":495,"props":2265,"children":2266},{"class":497,"line":1349},[2267],{"type":396,"tag":495,"props":2268,"children":2269},{"style":706},[2270],{"type":402,"value":2271},"    // 通知依赖更新\n",{"type":396,"tag":495,"props":2273,"children":2274},{"class":497,"line":1357},[2275,2280,2284,2288,2292,2297,2301],{"type":396,"tag":495,"props":2276,"children":2277},{"style":550},[2278],{"type":402,"value":2279},"    ob",{"type":396,"tag":495,"props":2281,"children":2282},{"style":514},[2283],{"type":402,"value":682},{"type":396,"tag":495,"props":2285,"children":2286},{"style":550},[2287],{"type":402,"value":726},{"type":396,"tag":495,"props":2289,"children":2290},{"style":514},[2291],{"type":402,"value":682},{"type":396,"tag":495,"props":2293,"children":2294},{"style":508},[2295],{"type":402,"value":2296},"notify",{"type":396,"tag":495,"props":2298,"children":2299},{"style":572},[2300],{"type":402,"value":744},{"type":396,"tag":495,"props":2302,"children":2303},{"style":514},[2304],{"type":402,"value":587},{"type":396,"tag":495,"props":2306,"children":2307},{"class":497,"line":1365},[2308,2313,2317],{"type":396,"tag":495,"props":2309,"children":2310},{"style":594},[2311],{"type":402,"value":2312},"    return",{"type":396,"tag":495,"props":2314,"children":2315},{"style":550},[2316],{"type":402,"value":1921},{"type":396,"tag":495,"props":2318,"children":2319},{"style":514},[2320],{"type":402,"value":587},{"type":396,"tag":495,"props":2322,"children":2323},{"class":497,"line":1373},[2324,2329,2333],{"type":396,"tag":495,"props":2325,"children":2326},{"style":514},[2327],{"type":402,"value":2328},"  }",{"type":396,"tag":495,"props":2330,"children":2331},{"style":572},[2332],{"type":402,"value":538},{"type":396,"tag":495,"props":2334,"children":2335},{"style":514},[2336],{"type":402,"value":587},{"type":396,"tag":495,"props":2338,"children":2339},{"class":497,"line":1399},[2340,2345,2349],{"type":396,"tag":495,"props":2341,"children":2342},{"style":514},[2343],{"type":402,"value":2344},"}",{"type":396,"tag":495,"props":2346,"children":2347},{"style":550},[2348],{"type":402,"value":538},{"type":396,"tag":495,"props":2350,"children":2351},{"style":514},[2352],{"type":402,"value":587},{"type":396,"tag":470,"props":2354,"children":2356},{"id":2355},"响应式属性",[2357],{"type":402,"value":2355},{"type":396,"tag":429,"props":2359,"children":2360},{},[2361],{"type":402,"value":2362},"设置响应式属性对应源码中的 definedProperty 这个函数，同时，还提供了 set、del 方法，分别用来给一个对象新增、删除属性及响应式属性。",{"type":396,"tag":435,"props":2364,"children":2366},{"code":2365,"language":488,"meta":389,"className":489,"style":389},"function defineReactive(obj, key, val, customSetter, shallow) {\n  // 每个属性都保持了一个依赖容器，\n  // 所有依赖都会存放在这个依赖容器实例中\n  const dep = new Dep();\n\n  // 不给属性描述符不可变的对象设置 setter/getter\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  // 保存属性原有的 setter/getter，不做破坏\n  // cater for pre-defined getter/setters\n  const getter = property && property.get;\n  const setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  // 侦测值的变化\n  let childOb = !shallow && observe(val);\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      const value = getter ? getter.call(obj) : val;\n      // 收集依赖\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      const value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return;\n      }\n      // 非生产环境：自定义 setter 副作用\n      if (process.env.NODE_ENV !== \"production\" && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return;\n      // 使用原有的 setter 更新值或直接更新值\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      // 侦测子对象的变化\n      childOb = !shallow && observe(newVal);\n      // 通知依赖更新\n      dep.notify();\n    },\n  });\n}\n",[2367],{"type":396,"tag":440,"props":2368,"children":2369},{"__ignoreMap":389},[2370,2434,2442,2450,2482,2489,2497,2550,2604,2615,2622,2629,2637,2645,2686,2727,2798,2832,2839,2846,2854,2906,2913,2954,2976,2996,3025,3087,3095,3128,3153,3178,3210,3250,3274,3282,3290,3297,3313,3321,3359,3419,3428,3498,3511,3519,3528,3596,3613,3621,3630,3672,3681,3705,3746,3762,3783,3791,3800,3845,3854,3879,3887,3903],{"type":396,"tag":495,"props":2371,"children":2372},{"class":497,"line":498},[2373,2377,2382,2386,2390,2394,2399,2403,2408,2412,2417,2421,2426,2430],{"type":396,"tag":495,"props":2374,"children":2375},{"style":502},[2376],{"type":402,"value":505},{"type":396,"tag":495,"props":2378,"children":2379},{"style":508},[2380],{"type":402,"value":2381}," defineReactive",{"type":396,"tag":495,"props":2383,"children":2384},{"style":514},[2385],{"type":402,"value":517},{"type":396,"tag":495,"props":2387,"children":2388},{"style":520},[2389],{"type":402,"value":1166},{"type":396,"tag":495,"props":2391,"children":2392},{"style":514},[2393],{"type":402,"value":528},{"type":396,"tag":495,"props":2395,"children":2396},{"style":520},[2397],{"type":402,"value":2398}," key",{"type":396,"tag":495,"props":2400,"children":2401},{"style":514},[2402],{"type":402,"value":528},{"type":396,"tag":495,"props":2404,"children":2405},{"style":520},[2406],{"type":402,"value":2407}," val",{"type":396,"tag":495,"props":2409,"children":2410},{"style":514},[2411],{"type":402,"value":528},{"type":396,"tag":495,"props":2413,"children":2414},{"style":520},[2415],{"type":402,"value":2416}," customSetter",{"type":396,"tag":495,"props":2418,"children":2419},{"style":514},[2420],{"type":402,"value":528},{"type":396,"tag":495,"props":2422,"children":2423},{"style":520},[2424],{"type":402,"value":2425}," shallow",{"type":396,"tag":495,"props":2427,"children":2428},{"style":514},[2429],{"type":402,"value":538},{"type":396,"tag":495,"props":2431,"children":2432},{"style":514},[2433],{"type":402,"value":543},{"type":396,"tag":495,"props":2435,"children":2436},{"class":497,"line":546},[2437],{"type":396,"tag":495,"props":2438,"children":2439},{"style":706},[2440],{"type":402,"value":2441},"  // 每个属性都保持了一个依赖容器，\n",{"type":396,"tag":495,"props":2443,"children":2444},{"class":497,"line":590},[2445],{"type":396,"tag":495,"props":2446,"children":2447},{"style":706},[2448],{"type":402,"value":2449},"  // 所有依赖都会存放在这个依赖容器实例中\n",{"type":396,"tag":495,"props":2451,"children":2452},{"class":497,"line":609},[2453,2457,2462,2466,2470,2474,2478],{"type":396,"tag":495,"props":2454,"children":2455},{"style":502},[2456],{"type":402,"value":1809},{"type":396,"tag":495,"props":2458,"children":2459},{"style":1186},[2460],{"type":402,"value":2461}," dep",{"type":396,"tag":495,"props":2463,"children":2464},{"style":556},[2465],{"type":402,"value":559},{"type":396,"tag":495,"props":2467,"children":2468},{"style":556},[2469],{"type":402,"value":564},{"type":396,"tag":495,"props":2471,"children":2472},{"style":508},[2473],{"type":402,"value":739},{"type":396,"tag":495,"props":2475,"children":2476},{"style":572},[2477],{"type":402,"value":744},{"type":396,"tag":495,"props":2479,"children":2480},{"style":514},[2481],{"type":402,"value":587},{"type":396,"tag":495,"props":2483,"children":2484},{"class":497,"line":618},[2485],{"type":396,"tag":495,"props":2486,"children":2487},{"emptyLinePlaceholder":388},[2488],{"type":402,"value":624},{"type":396,"tag":495,"props":2490,"children":2491},{"class":497,"line":627},[2492],{"type":396,"tag":495,"props":2493,"children":2494},{"style":706},[2495],{"type":402,"value":2496},"  // 不给属性描述符不可变的对象设置 setter/getter\n",{"type":396,"tag":495,"props":2498,"children":2499},{"class":497,"line":645},[2500,2504,2509,2513,2517,2521,2526,2530,2534,2538,2542,2546],{"type":396,"tag":495,"props":2501,"children":2502},{"style":502},[2503],{"type":402,"value":1809},{"type":396,"tag":495,"props":2505,"children":2506},{"style":1186},[2507],{"type":402,"value":2508}," property",{"type":396,"tag":495,"props":2510,"children":2511},{"style":556},[2512],{"type":402,"value":559},{"type":396,"tag":495,"props":2514,"children":2515},{"style":550},[2516],{"type":402,"value":1198},{"type":396,"tag":495,"props":2518,"children":2519},{"style":514},[2520],{"type":402,"value":682},{"type":396,"tag":495,"props":2522,"children":2523},{"style":508},[2524],{"type":402,"value":2525},"getOwnPropertyDescriptor",{"type":396,"tag":495,"props":2527,"children":2528},{"style":572},[2529],{"type":402,"value":517},{"type":396,"tag":495,"props":2531,"children":2532},{"style":550},[2533],{"type":402,"value":1166},{"type":396,"tag":495,"props":2535,"children":2536},{"style":514},[2537],{"type":402,"value":528},{"type":396,"tag":495,"props":2539,"children":2540},{"style":550},[2541],{"type":402,"value":2398},{"type":396,"tag":495,"props":2543,"children":2544},{"style":572},[2545],{"type":402,"value":538},{"type":396,"tag":495,"props":2547,"children":2548},{"style":514},[2549],{"type":402,"value":587},{"type":396,"tag":495,"props":2551,"children":2552},{"class":497,"line":670},[2553,2558,2562,2567,2572,2576,2580,2585,2590,2596,2600],{"type":396,"tag":495,"props":2554,"children":2555},{"style":594},[2556],{"type":402,"value":2557},"  if",{"type":396,"tag":495,"props":2559,"children":2560},{"style":572},[2561],{"type":402,"value":875},{"type":396,"tag":495,"props":2563,"children":2564},{"style":550},[2565],{"type":402,"value":2566},"property",{"type":396,"tag":495,"props":2568,"children":2569},{"style":556},[2570],{"type":402,"value":2571}," &&",{"type":396,"tag":495,"props":2573,"children":2574},{"style":550},[2575],{"type":402,"value":2508},{"type":396,"tag":495,"props":2577,"children":2578},{"style":514},[2579],{"type":402,"value":682},{"type":396,"tag":495,"props":2581,"children":2582},{"style":550},[2583],{"type":402,"value":2584},"configurable",{"type":396,"tag":495,"props":2586,"children":2587},{"style":556},[2588],{"type":402,"value":2589}," ===",{"type":396,"tag":495,"props":2591,"children":2593},{"style":2592},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2594],{"type":402,"value":2595}," false",{"type":396,"tag":495,"props":2597,"children":2598},{"style":572},[2599],{"type":402,"value":930},{"type":396,"tag":495,"props":2601,"children":2602},{"style":514},[2603],{"type":402,"value":907},{"type":396,"tag":495,"props":2605,"children":2606},{"class":497,"line":702},[2607,2611],{"type":396,"tag":495,"props":2608,"children":2609},{"style":594},[2610],{"type":402,"value":2312},{"type":396,"tag":495,"props":2612,"children":2613},{"style":514},[2614],{"type":402,"value":587},{"type":396,"tag":495,"props":2616,"children":2617},{"class":497,"line":712},[2618],{"type":396,"tag":495,"props":2619,"children":2620},{"style":514},[2621],{"type":402,"value":1139},{"type":396,"tag":495,"props":2623,"children":2624},{"class":497,"line":751},[2625],{"type":396,"tag":495,"props":2626,"children":2627},{"emptyLinePlaceholder":388},[2628],{"type":402,"value":624},{"type":396,"tag":495,"props":2630,"children":2631},{"class":497,"line":782},[2632],{"type":396,"tag":495,"props":2633,"children":2634},{"style":706},[2635],{"type":402,"value":2636},"  // 保存属性原有的 setter/getter，不做破坏\n",{"type":396,"tag":495,"props":2638,"children":2639},{"class":497,"line":791},[2640],{"type":396,"tag":495,"props":2641,"children":2642},{"style":706},[2643],{"type":402,"value":2644},"  // cater for pre-defined getter/setters\n",{"type":396,"tag":495,"props":2646,"children":2647},{"class":497,"line":846},[2648,2652,2657,2661,2665,2669,2673,2677,2682],{"type":396,"tag":495,"props":2649,"children":2650},{"style":502},[2651],{"type":402,"value":1809},{"type":396,"tag":495,"props":2653,"children":2654},{"style":1186},[2655],{"type":402,"value":2656}," getter",{"type":396,"tag":495,"props":2658,"children":2659},{"style":556},[2660],{"type":402,"value":559},{"type":396,"tag":495,"props":2662,"children":2663},{"style":550},[2664],{"type":402,"value":2508},{"type":396,"tag":495,"props":2666,"children":2667},{"style":556},[2668],{"type":402,"value":2571},{"type":396,"tag":495,"props":2670,"children":2671},{"style":550},[2672],{"type":402,"value":2508},{"type":396,"tag":495,"props":2674,"children":2675},{"style":514},[2676],{"type":402,"value":682},{"type":396,"tag":495,"props":2678,"children":2679},{"style":550},[2680],{"type":402,"value":2681},"get",{"type":396,"tag":495,"props":2683,"children":2684},{"style":514},[2685],{"type":402,"value":587},{"type":396,"tag":495,"props":2687,"children":2688},{"class":497,"line":855},[2689,2693,2698,2702,2706,2710,2714,2718,2723],{"type":396,"tag":495,"props":2690,"children":2691},{"style":502},[2692],{"type":402,"value":1809},{"type":396,"tag":495,"props":2694,"children":2695},{"style":1186},[2696],{"type":402,"value":2697}," setter",{"type":396,"tag":495,"props":2699,"children":2700},{"style":556},[2701],{"type":402,"value":559},{"type":396,"tag":495,"props":2703,"children":2704},{"style":550},[2705],{"type":402,"value":2508},{"type":396,"tag":495,"props":2707,"children":2708},{"style":556},[2709],{"type":402,"value":2571},{"type":396,"tag":495,"props":2711,"children":2712},{"style":550},[2713],{"type":402,"value":2508},{"type":396,"tag":495,"props":2715,"children":2716},{"style":514},[2717],{"type":402,"value":682},{"type":396,"tag":495,"props":2719,"children":2720},{"style":550},[2721],{"type":402,"value":2722},"set",{"type":396,"tag":495,"props":2724,"children":2725},{"style":514},[2726],{"type":402,"value":587},{"type":396,"tag":495,"props":2728,"children":2729},{"class":497,"line":864},[2730,2734,2739,2744,2749,2754,2758,2762,2767,2773,2777,2781,2785,2790,2794],{"type":396,"tag":495,"props":2731,"children":2732},{"style":594},[2733],{"type":402,"value":2557},{"type":396,"tag":495,"props":2735,"children":2736},{"style":572},[2737],{"type":402,"value":2738}," ((",{"type":396,"tag":495,"props":2740,"children":2741},{"style":556},[2742],{"type":402,"value":2743},"!",{"type":396,"tag":495,"props":2745,"children":2746},{"style":550},[2747],{"type":402,"value":2748},"getter",{"type":396,"tag":495,"props":2750,"children":2751},{"style":556},[2752],{"type":402,"value":2753}," ||",{"type":396,"tag":495,"props":2755,"children":2756},{"style":550},[2757],{"type":402,"value":2697},{"type":396,"tag":495,"props":2759,"children":2760},{"style":572},[2761],{"type":402,"value":930},{"type":396,"tag":495,"props":2763,"children":2764},{"style":556},[2765],{"type":402,"value":2766},"&&",{"type":396,"tag":495,"props":2768,"children":2770},{"style":2769},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2771],{"type":402,"value":2772}," arguments",{"type":396,"tag":495,"props":2774,"children":2775},{"style":514},[2776],{"type":402,"value":682},{"type":396,"tag":495,"props":2778,"children":2779},{"style":1186},[2780],{"type":402,"value":1281},{"type":396,"tag":495,"props":2782,"children":2783},{"style":556},[2784],{"type":402,"value":2589},{"type":396,"tag":495,"props":2786,"children":2787},{"style":772},[2788],{"type":402,"value":2789}," 2",{"type":396,"tag":495,"props":2791,"children":2792},{"style":572},[2793],{"type":402,"value":930},{"type":396,"tag":495,"props":2795,"children":2796},{"style":514},[2797],{"type":402,"value":907},{"type":396,"tag":495,"props":2799,"children":2800},{"class":497,"line":910},[2801,2806,2810,2815,2819,2824,2828],{"type":396,"tag":495,"props":2802,"children":2803},{"style":550},[2804],{"type":402,"value":2805},"    val",{"type":396,"tag":495,"props":2807,"children":2808},{"style":556},[2809],{"type":402,"value":559},{"type":396,"tag":495,"props":2811,"children":2812},{"style":550},[2813],{"type":402,"value":2814}," obj",{"type":396,"tag":495,"props":2816,"children":2817},{"style":572},[2818],{"type":402,"value":1332},{"type":396,"tag":495,"props":2820,"children":2821},{"style":550},[2822],{"type":402,"value":2823},"key",{"type":396,"tag":495,"props":2825,"children":2826},{"style":572},[2827],{"type":402,"value":1740},{"type":396,"tag":495,"props":2829,"children":2830},{"style":514},[2831],{"type":402,"value":587},{"type":396,"tag":495,"props":2833,"children":2834},{"class":497,"line":937},[2835],{"type":396,"tag":495,"props":2836,"children":2837},{"style":514},[2838],{"type":402,"value":1139},{"type":396,"tag":495,"props":2840,"children":2841},{"class":497,"line":971},[2842],{"type":396,"tag":495,"props":2843,"children":2844},{"emptyLinePlaceholder":388},[2845],{"type":402,"value":624},{"type":396,"tag":495,"props":2847,"children":2848},{"class":497,"line":989},[2849],{"type":396,"tag":495,"props":2850,"children":2851},{"style":706},[2852],{"type":402,"value":2853},"  // 侦测值的变化\n",{"type":396,"tag":495,"props":2855,"children":2856},{"class":497,"line":1031},[2857,2862,2867,2871,2876,2881,2885,2889,2893,2898,2902],{"type":396,"tag":495,"props":2858,"children":2859},{"style":502},[2860],{"type":402,"value":2861},"  let",{"type":396,"tag":495,"props":2863,"children":2864},{"style":550},[2865],{"type":402,"value":2866}," childOb",{"type":396,"tag":495,"props":2868,"children":2869},{"style":556},[2870],{"type":402,"value":559},{"type":396,"tag":495,"props":2872,"children":2873},{"style":556},[2874],{"type":402,"value":2875}," !",{"type":396,"tag":495,"props":2877,"children":2878},{"style":550},[2879],{"type":402,"value":2880},"shallow",{"type":396,"tag":495,"props":2882,"children":2883},{"style":556},[2884],{"type":402,"value":2571},{"type":396,"tag":495,"props":2886,"children":2887},{"style":508},[2888],{"type":402,"value":511},{"type":396,"tag":495,"props":2890,"children":2891},{"style":572},[2892],{"type":402,"value":517},{"type":396,"tag":495,"props":2894,"children":2895},{"style":550},[2896],{"type":402,"value":2897},"val",{"type":396,"tag":495,"props":2899,"children":2900},{"style":572},[2901],{"type":402,"value":538},{"type":396,"tag":495,"props":2903,"children":2904},{"style":514},[2905],{"type":402,"value":587},{"type":396,"tag":495,"props":2907,"children":2908},{"class":497,"line":1040},[2909],{"type":396,"tag":495,"props":2910,"children":2911},{"emptyLinePlaceholder":388},[2912],{"type":402,"value":624},{"type":396,"tag":495,"props":2914,"children":2915},{"class":497,"line":1074},[2916,2921,2925,2930,2934,2938,2942,2946,2950],{"type":396,"tag":495,"props":2917,"children":2918},{"style":550},[2919],{"type":402,"value":2920},"  Object",{"type":396,"tag":495,"props":2922,"children":2923},{"style":514},[2924],{"type":402,"value":682},{"type":396,"tag":495,"props":2926,"children":2927},{"style":508},[2928],{"type":402,"value":2929},"defineProperty",{"type":396,"tag":495,"props":2931,"children":2932},{"style":572},[2933],{"type":402,"value":517},{"type":396,"tag":495,"props":2935,"children":2936},{"style":550},[2937],{"type":402,"value":1166},{"type":396,"tag":495,"props":2939,"children":2940},{"style":514},[2941],{"type":402,"value":528},{"type":396,"tag":495,"props":2943,"children":2944},{"style":550},[2945],{"type":402,"value":2398},{"type":396,"tag":495,"props":2947,"children":2948},{"style":514},[2949],{"type":402,"value":528},{"type":396,"tag":495,"props":2951,"children":2952},{"style":514},[2953],{"type":402,"value":543},{"type":396,"tag":495,"props":2955,"children":2956},{"class":497,"line":1091},[2957,2962,2967,2972],{"type":396,"tag":495,"props":2958,"children":2959},{"style":572},[2960],{"type":402,"value":2961},"    enumerable",{"type":396,"tag":495,"props":2963,"children":2964},{"style":514},[2965],{"type":402,"value":2966},":",{"type":396,"tag":495,"props":2968,"children":2969},{"style":2592},[2970],{"type":402,"value":2971}," true",{"type":396,"tag":495,"props":2973,"children":2974},{"style":514},[2975],{"type":402,"value":1612},{"type":396,"tag":495,"props":2977,"children":2978},{"class":497,"line":1124},[2979,2984,2988,2992],{"type":396,"tag":495,"props":2980,"children":2981},{"style":572},[2982],{"type":402,"value":2983},"    configurable",{"type":396,"tag":495,"props":2985,"children":2986},{"style":514},[2987],{"type":402,"value":2966},{"type":396,"tag":495,"props":2989,"children":2990},{"style":2592},[2991],{"type":402,"value":2971},{"type":396,"tag":495,"props":2993,"children":2994},{"style":514},[2995],{"type":402,"value":1612},{"type":396,"tag":495,"props":2997,"children":2998},{"class":497,"line":1133},[2999,3004,3008,3012,3017,3021],{"type":396,"tag":495,"props":3000,"children":3001},{"style":508},[3002],{"type":402,"value":3003},"    get",{"type":396,"tag":495,"props":3005,"children":3006},{"style":514},[3007],{"type":402,"value":2966},{"type":396,"tag":495,"props":3009,"children":3010},{"style":502},[3011],{"type":402,"value":1874},{"type":396,"tag":495,"props":3013,"children":3014},{"style":508},[3015],{"type":402,"value":3016}," reactiveGetter",{"type":396,"tag":495,"props":3018,"children":3019},{"style":514},[3020],{"type":402,"value":744},{"type":396,"tag":495,"props":3022,"children":3023},{"style":514},[3024],{"type":402,"value":543},{"type":396,"tag":495,"props":3026,"children":3027},{"class":497,"line":1142},[3028,3033,3037,3041,3045,3050,3054,3058,3063,3067,3071,3075,3079,3083],{"type":396,"tag":495,"props":3029,"children":3030},{"style":502},[3031],{"type":402,"value":3032},"      const",{"type":396,"tag":495,"props":3034,"children":3035},{"style":1186},[3036],{"type":402,"value":695},{"type":396,"tag":495,"props":3038,"children":3039},{"style":556},[3040],{"type":402,"value":559},{"type":396,"tag":495,"props":3042,"children":3043},{"style":550},[3044],{"type":402,"value":2656},{"type":396,"tag":495,"props":3046,"children":3047},{"style":556},[3048],{"type":402,"value":3049}," ?",{"type":396,"tag":495,"props":3051,"children":3052},{"style":550},[3053],{"type":402,"value":2656},{"type":396,"tag":495,"props":3055,"children":3056},{"style":514},[3057],{"type":402,"value":682},{"type":396,"tag":495,"props":3059,"children":3060},{"style":508},[3061],{"type":402,"value":3062},"call",{"type":396,"tag":495,"props":3064,"children":3065},{"style":572},[3066],{"type":402,"value":517},{"type":396,"tag":495,"props":3068,"children":3069},{"style":550},[3070],{"type":402,"value":1166},{"type":396,"tag":495,"props":3072,"children":3073},{"style":572},[3074],{"type":402,"value":930},{"type":396,"tag":495,"props":3076,"children":3077},{"style":556},[3078],{"type":402,"value":2966},{"type":396,"tag":495,"props":3080,"children":3081},{"style":550},[3082],{"type":402,"value":2407},{"type":396,"tag":495,"props":3084,"children":3085},{"style":514},[3086],{"type":402,"value":587},{"type":396,"tag":495,"props":3088,"children":3089},{"class":497,"line":1150},[3090],{"type":396,"tag":495,"props":3091,"children":3092},{"style":706},[3093],{"type":402,"value":3094},"      // 收集依赖\n",{"type":396,"tag":495,"props":3096,"children":3097},{"class":497,"line":1177},[3098,3102,3106,3111,3115,3120,3124],{"type":396,"tag":495,"props":3099,"children":3100},{"style":594},[3101],{"type":402,"value":916},{"type":396,"tag":495,"props":3103,"children":3104},{"style":572},[3105],{"type":402,"value":875},{"type":396,"tag":495,"props":3107,"children":3108},{"style":550},[3109],{"type":402,"value":3110},"Dep",{"type":396,"tag":495,"props":3112,"children":3113},{"style":514},[3114],{"type":402,"value":682},{"type":396,"tag":495,"props":3116,"children":3117},{"style":550},[3118],{"type":402,"value":3119},"target",{"type":396,"tag":495,"props":3121,"children":3122},{"style":572},[3123],{"type":402,"value":930},{"type":396,"tag":495,"props":3125,"children":3126},{"style":514},[3127],{"type":402,"value":907},{"type":396,"tag":495,"props":3129,"children":3130},{"class":497,"line":1226},[3131,3136,3140,3145,3149],{"type":396,"tag":495,"props":3132,"children":3133},{"style":550},[3134],{"type":402,"value":3135},"        dep",{"type":396,"tag":495,"props":3137,"children":3138},{"style":514},[3139],{"type":402,"value":682},{"type":396,"tag":495,"props":3141,"children":3142},{"style":508},[3143],{"type":402,"value":3144},"depend",{"type":396,"tag":495,"props":3146,"children":3147},{"style":572},[3148],{"type":402,"value":744},{"type":396,"tag":495,"props":3150,"children":3151},{"style":514},[3152],{"type":402,"value":587},{"type":396,"tag":495,"props":3154,"children":3155},{"class":497,"line":1305},[3156,3161,3165,3170,3174],{"type":396,"tag":495,"props":3157,"children":3158},{"style":594},[3159],{"type":402,"value":3160},"        if",{"type":396,"tag":495,"props":3162,"children":3163},{"style":572},[3164],{"type":402,"value":875},{"type":396,"tag":495,"props":3166,"children":3167},{"style":550},[3168],{"type":402,"value":3169},"childOb",{"type":396,"tag":495,"props":3171,"children":3172},{"style":572},[3173],{"type":402,"value":930},{"type":396,"tag":495,"props":3175,"children":3176},{"style":514},[3177],{"type":402,"value":907},{"type":396,"tag":495,"props":3179,"children":3180},{"class":497,"line":1349},[3181,3186,3190,3194,3198,3202,3206],{"type":396,"tag":495,"props":3182,"children":3183},{"style":550},[3184],{"type":402,"value":3185},"          childOb",{"type":396,"tag":495,"props":3187,"children":3188},{"style":514},[3189],{"type":402,"value":682},{"type":396,"tag":495,"props":3191,"children":3192},{"style":550},[3193],{"type":402,"value":726},{"type":396,"tag":495,"props":3195,"children":3196},{"style":514},[3197],{"type":402,"value":682},{"type":396,"tag":495,"props":3199,"children":3200},{"style":508},[3201],{"type":402,"value":3144},{"type":396,"tag":495,"props":3203,"children":3204},{"style":572},[3205],{"type":402,"value":744},{"type":396,"tag":495,"props":3207,"children":3208},{"style":514},[3209],{"type":402,"value":587},{"type":396,"tag":495,"props":3211,"children":3212},{"class":497,"line":1357},[3213,3218,3222,3226,3230,3234,3238,3242,3246],{"type":396,"tag":495,"props":3214,"children":3215},{"style":594},[3216],{"type":402,"value":3217},"          if",{"type":396,"tag":495,"props":3219,"children":3220},{"style":572},[3221],{"type":402,"value":875},{"type":396,"tag":495,"props":3223,"children":3224},{"style":550},[3225],{"type":402,"value":880},{"type":396,"tag":495,"props":3227,"children":3228},{"style":514},[3229],{"type":402,"value":682},{"type":396,"tag":495,"props":3231,"children":3232},{"style":508},[3233],{"type":402,"value":889},{"type":396,"tag":495,"props":3235,"children":3236},{"style":572},[3237],{"type":402,"value":517},{"type":396,"tag":495,"props":3239,"children":3240},{"style":550},[3241],{"type":402,"value":523},{"type":396,"tag":495,"props":3243,"children":3244},{"style":572},[3245],{"type":402,"value":902},{"type":396,"tag":495,"props":3247,"children":3248},{"style":514},[3249],{"type":402,"value":907},{"type":396,"tag":495,"props":3251,"children":3252},{"class":497,"line":1365},[3253,3258,3262,3266,3270],{"type":396,"tag":495,"props":3254,"children":3255},{"style":508},[3256],{"type":402,"value":3257},"            dependArray",{"type":396,"tag":495,"props":3259,"children":3260},{"style":572},[3261],{"type":402,"value":517},{"type":396,"tag":495,"props":3263,"children":3264},{"style":550},[3265],{"type":402,"value":523},{"type":396,"tag":495,"props":3267,"children":3268},{"style":572},[3269],{"type":402,"value":538},{"type":396,"tag":495,"props":3271,"children":3272},{"style":514},[3273],{"type":402,"value":587},{"type":396,"tag":495,"props":3275,"children":3276},{"class":497,"line":1373},[3277],{"type":396,"tag":495,"props":3278,"children":3279},{"style":514},[3280],{"type":402,"value":3281},"          }\n",{"type":396,"tag":495,"props":3283,"children":3284},{"class":497,"line":1399},[3285],{"type":396,"tag":495,"props":3286,"children":3287},{"style":514},[3288],{"type":402,"value":3289},"        }\n",{"type":396,"tag":495,"props":3291,"children":3292},{"class":497,"line":1489},[3293],{"type":396,"tag":495,"props":3294,"children":3295},{"style":514},[3296],{"type":402,"value":1037},{"type":396,"tag":495,"props":3298,"children":3299},{"class":497,"line":1522},[3300,3305,3309],{"type":396,"tag":495,"props":3301,"children":3302},{"style":594},[3303],{"type":402,"value":3304},"      return",{"type":396,"tag":495,"props":3306,"children":3307},{"style":550},[3308],{"type":402,"value":695},{"type":396,"tag":495,"props":3310,"children":3311},{"style":514},[3312],{"type":402,"value":587},{"type":396,"tag":495,"props":3314,"children":3315},{"class":497,"line":1530},[3316],{"type":396,"tag":495,"props":3317,"children":3318},{"style":514},[3319],{"type":402,"value":3320},"    },\n",{"type":396,"tag":495,"props":3322,"children":3323},{"class":497,"line":1538},[3324,3329,3333,3337,3342,3346,3351,3355],{"type":396,"tag":495,"props":3325,"children":3326},{"style":508},[3327],{"type":402,"value":3328},"    set",{"type":396,"tag":495,"props":3330,"children":3331},{"style":514},[3332],{"type":402,"value":2966},{"type":396,"tag":495,"props":3334,"children":3335},{"style":502},[3336],{"type":402,"value":1874},{"type":396,"tag":495,"props":3338,"children":3339},{"style":508},[3340],{"type":402,"value":3341}," reactiveSetter",{"type":396,"tag":495,"props":3343,"children":3344},{"style":514},[3345],{"type":402,"value":517},{"type":396,"tag":495,"props":3347,"children":3348},{"style":520},[3349],{"type":402,"value":3350},"newVal",{"type":396,"tag":495,"props":3352,"children":3353},{"style":514},[3354],{"type":402,"value":538},{"type":396,"tag":495,"props":3356,"children":3357},{"style":514},[3358],{"type":402,"value":543},{"type":396,"tag":495,"props":3360,"children":3362},{"class":497,"line":3361},41,[3363,3367,3371,3375,3379,3383,3387,3391,3395,3399,3403,3407,3411,3415],{"type":396,"tag":495,"props":3364,"children":3365},{"style":502},[3366],{"type":402,"value":3032},{"type":396,"tag":495,"props":3368,"children":3369},{"style":1186},[3370],{"type":402,"value":695},{"type":396,"tag":495,"props":3372,"children":3373},{"style":556},[3374],{"type":402,"value":559},{"type":396,"tag":495,"props":3376,"children":3377},{"style":550},[3378],{"type":402,"value":2656},{"type":396,"tag":495,"props":3380,"children":3381},{"style":556},[3382],{"type":402,"value":3049},{"type":396,"tag":495,"props":3384,"children":3385},{"style":550},[3386],{"type":402,"value":2656},{"type":396,"tag":495,"props":3388,"children":3389},{"style":514},[3390],{"type":402,"value":682},{"type":396,"tag":495,"props":3392,"children":3393},{"style":508},[3394],{"type":402,"value":3062},{"type":396,"tag":495,"props":3396,"children":3397},{"style":572},[3398],{"type":402,"value":517},{"type":396,"tag":495,"props":3400,"children":3401},{"style":550},[3402],{"type":402,"value":1166},{"type":396,"tag":495,"props":3404,"children":3405},{"style":572},[3406],{"type":402,"value":930},{"type":396,"tag":495,"props":3408,"children":3409},{"style":556},[3410],{"type":402,"value":2966},{"type":396,"tag":495,"props":3412,"children":3413},{"style":550},[3414],{"type":402,"value":2407},{"type":396,"tag":495,"props":3416,"children":3417},{"style":514},[3418],{"type":402,"value":587},{"type":396,"tag":495,"props":3420,"children":3422},{"class":497,"line":3421},42,[3423],{"type":396,"tag":495,"props":3424,"children":3425},{"style":706},[3426],{"type":402,"value":3427},"      /* eslint-disable no-self-compare */\n",{"type":396,"tag":495,"props":3429,"children":3431},{"class":497,"line":3430},43,[3432,3436,3440,3444,3448,3452,3456,3460,3464,3469,3474,3478,3482,3486,3490,3494],{"type":396,"tag":495,"props":3433,"children":3434},{"style":594},[3435],{"type":402,"value":916},{"type":396,"tag":495,"props":3437,"children":3438},{"style":572},[3439],{"type":402,"value":875},{"type":396,"tag":495,"props":3441,"children":3442},{"style":550},[3443],{"type":402,"value":3350},{"type":396,"tag":495,"props":3445,"children":3446},{"style":556},[3447],{"type":402,"value":2589},{"type":396,"tag":495,"props":3449,"children":3450},{"style":550},[3451],{"type":402,"value":695},{"type":396,"tag":495,"props":3453,"children":3454},{"style":556},[3455],{"type":402,"value":2753},{"type":396,"tag":495,"props":3457,"children":3458},{"style":572},[3459],{"type":402,"value":875},{"type":396,"tag":495,"props":3461,"children":3462},{"style":550},[3463],{"type":402,"value":3350},{"type":396,"tag":495,"props":3465,"children":3466},{"style":556},[3467],{"type":402,"value":3468}," !==",{"type":396,"tag":495,"props":3470,"children":3471},{"style":550},[3472],{"type":402,"value":3473}," newVal",{"type":396,"tag":495,"props":3475,"children":3476},{"style":556},[3477],{"type":402,"value":2571},{"type":396,"tag":495,"props":3479,"children":3480},{"style":550},[3481],{"type":402,"value":695},{"type":396,"tag":495,"props":3483,"children":3484},{"style":556},[3485],{"type":402,"value":3468},{"type":396,"tag":495,"props":3487,"children":3488},{"style":550},[3489],{"type":402,"value":695},{"type":396,"tag":495,"props":3491,"children":3492},{"style":572},[3493],{"type":402,"value":902},{"type":396,"tag":495,"props":3495,"children":3496},{"style":514},[3497],{"type":402,"value":907},{"type":396,"tag":495,"props":3499,"children":3501},{"class":497,"line":3500},44,[3502,3507],{"type":396,"tag":495,"props":3503,"children":3504},{"style":594},[3505],{"type":402,"value":3506},"        return",{"type":396,"tag":495,"props":3508,"children":3509},{"style":514},[3510],{"type":402,"value":587},{"type":396,"tag":495,"props":3512,"children":3514},{"class":497,"line":3513},45,[3515],{"type":396,"tag":495,"props":3516,"children":3517},{"style":514},[3518],{"type":402,"value":1037},{"type":396,"tag":495,"props":3520,"children":3522},{"class":497,"line":3521},46,[3523],{"type":396,"tag":495,"props":3524,"children":3525},{"style":706},[3526],{"type":402,"value":3527},"      // 非生产环境：自定义 setter 副作用\n",{"type":396,"tag":495,"props":3529,"children":3531},{"class":497,"line":3530},47,[3532,3536,3540,3545,3549,3554,3558,3563,3567,3571,3576,3580,3584,3588,3592],{"type":396,"tag":495,"props":3533,"children":3534},{"style":594},[3535],{"type":402,"value":916},{"type":396,"tag":495,"props":3537,"children":3538},{"style":572},[3539],{"type":402,"value":875},{"type":396,"tag":495,"props":3541,"children":3542},{"style":550},[3543],{"type":402,"value":3544},"process",{"type":396,"tag":495,"props":3546,"children":3547},{"style":514},[3548],{"type":402,"value":682},{"type":396,"tag":495,"props":3550,"children":3551},{"style":550},[3552],{"type":402,"value":3553},"env",{"type":396,"tag":495,"props":3555,"children":3556},{"style":514},[3557],{"type":402,"value":682},{"type":396,"tag":495,"props":3559,"children":3560},{"style":1186},[3561],{"type":402,"value":3562},"NODE_ENV",{"type":396,"tag":495,"props":3564,"children":3565},{"style":556},[3566],{"type":402,"value":3468},{"type":396,"tag":495,"props":3568,"children":3569},{"style":812},[3570],{"type":402,"value":815},{"type":396,"tag":495,"props":3572,"children":3573},{"style":818},[3574],{"type":402,"value":3575},"production",{"type":396,"tag":495,"props":3577,"children":3578},{"style":812},[3579],{"type":402,"value":826},{"type":396,"tag":495,"props":3581,"children":3582},{"style":556},[3583],{"type":402,"value":2571},{"type":396,"tag":495,"props":3585,"children":3586},{"style":550},[3587],{"type":402,"value":2416},{"type":396,"tag":495,"props":3589,"children":3590},{"style":572},[3591],{"type":402,"value":930},{"type":396,"tag":495,"props":3593,"children":3594},{"style":514},[3595],{"type":402,"value":907},{"type":396,"tag":495,"props":3597,"children":3599},{"class":497,"line":3598},48,[3600,3605,3609],{"type":396,"tag":495,"props":3601,"children":3602},{"style":508},[3603],{"type":402,"value":3604},"        customSetter",{"type":396,"tag":495,"props":3606,"children":3607},{"style":572},[3608],{"type":402,"value":744},{"type":396,"tag":495,"props":3610,"children":3611},{"style":514},[3612],{"type":402,"value":587},{"type":396,"tag":495,"props":3614,"children":3616},{"class":497,"line":3615},49,[3617],{"type":396,"tag":495,"props":3618,"children":3619},{"style":514},[3620],{"type":402,"value":1037},{"type":396,"tag":495,"props":3622,"children":3624},{"class":497,"line":3623},50,[3625],{"type":396,"tag":495,"props":3626,"children":3627},{"style":706},[3628],{"type":402,"value":3629},"      // #7981: for accessor properties without setter\n",{"type":396,"tag":495,"props":3631,"children":3633},{"class":497,"line":3632},51,[3634,3638,3642,3646,3650,3654,3659,3663,3668],{"type":396,"tag":495,"props":3635,"children":3636},{"style":594},[3637],{"type":402,"value":916},{"type":396,"tag":495,"props":3639,"children":3640},{"style":572},[3641],{"type":402,"value":875},{"type":396,"tag":495,"props":3643,"children":3644},{"style":550},[3645],{"type":402,"value":2748},{"type":396,"tag":495,"props":3647,"children":3648},{"style":556},[3649],{"type":402,"value":2571},{"type":396,"tag":495,"props":3651,"children":3652},{"style":556},[3653],{"type":402,"value":2875},{"type":396,"tag":495,"props":3655,"children":3656},{"style":550},[3657],{"type":402,"value":3658},"setter",{"type":396,"tag":495,"props":3660,"children":3661},{"style":572},[3662],{"type":402,"value":930},{"type":396,"tag":495,"props":3664,"children":3665},{"style":594},[3666],{"type":402,"value":3667},"return",{"type":396,"tag":495,"props":3669,"children":3670},{"style":514},[3671],{"type":402,"value":587},{"type":396,"tag":495,"props":3673,"children":3675},{"class":497,"line":3674},52,[3676],{"type":396,"tag":495,"props":3677,"children":3678},{"style":706},[3679],{"type":402,"value":3680},"      // 使用原有的 setter 更新值或直接更新值\n",{"type":396,"tag":495,"props":3682,"children":3684},{"class":497,"line":3683},53,[3685,3689,3693,3697,3701],{"type":396,"tag":495,"props":3686,"children":3687},{"style":594},[3688],{"type":402,"value":916},{"type":396,"tag":495,"props":3690,"children":3691},{"style":572},[3692],{"type":402,"value":875},{"type":396,"tag":495,"props":3694,"children":3695},{"style":550},[3696],{"type":402,"value":3658},{"type":396,"tag":495,"props":3698,"children":3699},{"style":572},[3700],{"type":402,"value":930},{"type":396,"tag":495,"props":3702,"children":3703},{"style":514},[3704],{"type":402,"value":907},{"type":396,"tag":495,"props":3706,"children":3708},{"class":497,"line":3707},54,[3709,3714,3718,3722,3726,3730,3734,3738,3742],{"type":396,"tag":495,"props":3710,"children":3711},{"style":550},[3712],{"type":402,"value":3713},"        setter",{"type":396,"tag":495,"props":3715,"children":3716},{"style":514},[3717],{"type":402,"value":682},{"type":396,"tag":495,"props":3719,"children":3720},{"style":508},[3721],{"type":402,"value":3062},{"type":396,"tag":495,"props":3723,"children":3724},{"style":572},[3725],{"type":402,"value":517},{"type":396,"tag":495,"props":3727,"children":3728},{"style":550},[3729],{"type":402,"value":1166},{"type":396,"tag":495,"props":3731,"children":3732},{"style":514},[3733],{"type":402,"value":528},{"type":396,"tag":495,"props":3735,"children":3736},{"style":550},[3737],{"type":402,"value":3473},{"type":396,"tag":495,"props":3739,"children":3740},{"style":572},[3741],{"type":402,"value":538},{"type":396,"tag":495,"props":3743,"children":3744},{"style":514},[3745],{"type":402,"value":587},{"type":396,"tag":495,"props":3747,"children":3749},{"class":497,"line":3748},55,[3750,3754,3758],{"type":396,"tag":495,"props":3751,"children":3752},{"style":514},[3753],{"type":402,"value":977},{"type":396,"tag":495,"props":3755,"children":3756},{"style":594},[3757],{"type":402,"value":982},{"type":396,"tag":495,"props":3759,"children":3760},{"style":514},[3761],{"type":402,"value":543},{"type":396,"tag":495,"props":3763,"children":3765},{"class":497,"line":3764},56,[3766,3771,3775,3779],{"type":396,"tag":495,"props":3767,"children":3768},{"style":550},[3769],{"type":402,"value":3770},"        val",{"type":396,"tag":495,"props":3772,"children":3773},{"style":556},[3774],{"type":402,"value":559},{"type":396,"tag":495,"props":3776,"children":3777},{"style":550},[3778],{"type":402,"value":3473},{"type":396,"tag":495,"props":3780,"children":3781},{"style":514},[3782],{"type":402,"value":587},{"type":396,"tag":495,"props":3784,"children":3786},{"class":497,"line":3785},57,[3787],{"type":396,"tag":495,"props":3788,"children":3789},{"style":514},[3790],{"type":402,"value":1037},{"type":396,"tag":495,"props":3792,"children":3794},{"class":497,"line":3793},58,[3795],{"type":396,"tag":495,"props":3796,"children":3797},{"style":706},[3798],{"type":402,"value":3799},"      // 侦测子对象的变化\n",{"type":396,"tag":495,"props":3801,"children":3803},{"class":497,"line":3802},59,[3804,3809,3813,3817,3821,3825,3829,3833,3837,3841],{"type":396,"tag":495,"props":3805,"children":3806},{"style":550},[3807],{"type":402,"value":3808},"      childOb",{"type":396,"tag":495,"props":3810,"children":3811},{"style":556},[3812],{"type":402,"value":559},{"type":396,"tag":495,"props":3814,"children":3815},{"style":556},[3816],{"type":402,"value":2875},{"type":396,"tag":495,"props":3818,"children":3819},{"style":550},[3820],{"type":402,"value":2880},{"type":396,"tag":495,"props":3822,"children":3823},{"style":556},[3824],{"type":402,"value":2571},{"type":396,"tag":495,"props":3826,"children":3827},{"style":508},[3828],{"type":402,"value":511},{"type":396,"tag":495,"props":3830,"children":3831},{"style":572},[3832],{"type":402,"value":517},{"type":396,"tag":495,"props":3834,"children":3835},{"style":550},[3836],{"type":402,"value":3350},{"type":396,"tag":495,"props":3838,"children":3839},{"style":572},[3840],{"type":402,"value":538},{"type":396,"tag":495,"props":3842,"children":3843},{"style":514},[3844],{"type":402,"value":587},{"type":396,"tag":495,"props":3846,"children":3848},{"class":497,"line":3847},60,[3849],{"type":396,"tag":495,"props":3850,"children":3851},{"style":706},[3852],{"type":402,"value":3853},"      // 通知依赖更新\n",{"type":396,"tag":495,"props":3855,"children":3857},{"class":497,"line":3856},61,[3858,3863,3867,3871,3875],{"type":396,"tag":495,"props":3859,"children":3860},{"style":550},[3861],{"type":402,"value":3862},"      dep",{"type":396,"tag":495,"props":3864,"children":3865},{"style":514},[3866],{"type":402,"value":682},{"type":396,"tag":495,"props":3868,"children":3869},{"style":508},[3870],{"type":402,"value":2296},{"type":396,"tag":495,"props":3872,"children":3873},{"style":572},[3874],{"type":402,"value":744},{"type":396,"tag":495,"props":3876,"children":3877},{"style":514},[3878],{"type":402,"value":587},{"type":396,"tag":495,"props":3880,"children":3882},{"class":497,"line":3881},62,[3883],{"type":396,"tag":495,"props":3884,"children":3885},{"style":514},[3886],{"type":402,"value":3320},{"type":396,"tag":495,"props":3888,"children":3890},{"class":497,"line":3889},63,[3891,3895,3899],{"type":396,"tag":495,"props":3892,"children":3893},{"style":514},[3894],{"type":402,"value":2328},{"type":396,"tag":495,"props":3896,"children":3897},{"style":572},[3898],{"type":402,"value":538},{"type":396,"tag":495,"props":3900,"children":3901},{"style":514},[3902],{"type":402,"value":587},{"type":396,"tag":495,"props":3904,"children":3906},{"class":497,"line":3905},64,[3907],{"type":396,"tag":495,"props":3908,"children":3909},{"style":514},[3910],{"type":402,"value":615},{"type":396,"tag":470,"props":3912,"children":3914},{"id":3913},"依赖容器及依赖",[3915],{"type":402,"value":3913},{"type":396,"tag":429,"props":3917,"children":3918},{},[3919],{"type":402,"value":3920},"接下来进入比较绕的部分。首先回答：依赖容器是什么？",{"type":396,"tag":429,"props":3922,"children":3923},{},[3924],{"type":402,"value":3925},"刚刚看到了 dep.notify 的作用是“通知依赖更新”，所以 Dep 就是依赖容器。",{"type":396,"tag":429,"props":3927,"children":3928},{},[3929],{"type":402,"value":3930},"我们上小节说到，每个属性都保持了一个依赖容器，所有依赖都会存放在这个依赖容器实例中。所以依赖容器还提供了统一更新依赖、删除依赖之类的方法。",{"type":396,"tag":435,"props":3932,"children":3934},{"code":3933,"language":488,"meta":389,"className":489,"style":389},"class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n  // 添加依赖\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n  // 删除依赖\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n  // 收集依赖\n  depend() {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  // 通知依赖更新\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice();\n    for (let i = 0, l = subs.length; i \u003C l; i++) {\n      subs[i].update();\n    }\n  }\n}\n",[3935],{"type":396,"tag":440,"props":3936,"children":3937},{"__ignoreMap":389},[3938,3953,3968,4001,4030,4037,4045,4070,4109,4116,4124,4148,4189,4196,4204,4220,4251,4292,4299,4306,4314,4330,4338,4382,4469,4506,4513,4520],{"type":396,"tag":495,"props":3939,"children":3940},{"class":497,"line":498},[3941,3945,3949],{"type":396,"tag":495,"props":3942,"children":3943},{"style":502},[3944],{"type":402,"value":633},{"type":396,"tag":495,"props":3946,"children":3947},{"style":636},[3948],{"type":402,"value":739},{"type":396,"tag":495,"props":3950,"children":3951},{"style":514},[3952],{"type":402,"value":543},{"type":396,"tag":495,"props":3954,"children":3955},{"class":497,"line":546},[3956,3960,3964],{"type":396,"tag":495,"props":3957,"children":3958},{"style":502},[3959],{"type":402,"value":651},{"type":396,"tag":495,"props":3961,"children":3962},{"style":514},[3963],{"type":402,"value":744},{"type":396,"tag":495,"props":3965,"children":3966},{"style":514},[3967],{"type":402,"value":543},{"type":396,"tag":495,"props":3969,"children":3970},{"class":497,"line":590},[3971,3975,3979,3984,3988,3993,3997],{"type":396,"tag":495,"props":3972,"children":3973},{"style":674},[3974],{"type":402,"value":677},{"type":396,"tag":495,"props":3976,"children":3977},{"style":514},[3978],{"type":402,"value":682},{"type":396,"tag":495,"props":3980,"children":3981},{"style":550},[3982],{"type":402,"value":3983},"id",{"type":396,"tag":495,"props":3985,"children":3986},{"style":556},[3987],{"type":402,"value":559},{"type":396,"tag":495,"props":3989,"children":3990},{"style":550},[3991],{"type":402,"value":3992}," uid",{"type":396,"tag":495,"props":3994,"children":3995},{"style":556},[3996],{"type":402,"value":1294},{"type":396,"tag":495,"props":3998,"children":3999},{"style":514},[4000],{"type":402,"value":587},{"type":396,"tag":495,"props":4002,"children":4003},{"class":497,"line":609},[4004,4008,4012,4017,4021,4026],{"type":396,"tag":495,"props":4005,"children":4006},{"style":674},[4007],{"type":402,"value":677},{"type":396,"tag":495,"props":4009,"children":4010},{"style":514},[4011],{"type":402,"value":682},{"type":396,"tag":495,"props":4013,"children":4014},{"style":550},[4015],{"type":402,"value":4016},"subs",{"type":396,"tag":495,"props":4018,"children":4019},{"style":556},[4020],{"type":402,"value":559},{"type":396,"tag":495,"props":4022,"children":4023},{"style":572},[4024],{"type":402,"value":4025}," []",{"type":396,"tag":495,"props":4027,"children":4028},{"style":514},[4029],{"type":402,"value":587},{"type":396,"tag":495,"props":4031,"children":4032},{"class":497,"line":618},[4033],{"type":396,"tag":495,"props":4034,"children":4035},{"style":514},[4036],{"type":402,"value":1139},{"type":396,"tag":495,"props":4038,"children":4039},{"class":497,"line":627},[4040],{"type":396,"tag":495,"props":4041,"children":4042},{"style":706},[4043],{"type":402,"value":4044},"  // 添加依赖\n",{"type":396,"tag":495,"props":4046,"children":4047},{"class":497,"line":645},[4048,4053,4057,4062,4066],{"type":396,"tag":495,"props":4049,"children":4050},{"style":1154},[4051],{"type":402,"value":4052},"  addSub",{"type":396,"tag":495,"props":4054,"children":4055},{"style":514},[4056],{"type":402,"value":517},{"type":396,"tag":495,"props":4058,"children":4059},{"style":520},[4060],{"type":402,"value":4061},"sub",{"type":396,"tag":495,"props":4063,"children":4064},{"style":514},[4065],{"type":402,"value":538},{"type":396,"tag":495,"props":4067,"children":4068},{"style":514},[4069],{"type":402,"value":543},{"type":396,"tag":495,"props":4071,"children":4072},{"class":497,"line":670},[4073,4077,4081,4085,4089,4093,4097,4101,4105],{"type":396,"tag":495,"props":4074,"children":4075},{"style":674},[4076],{"type":402,"value":677},{"type":396,"tag":495,"props":4078,"children":4079},{"style":514},[4080],{"type":402,"value":682},{"type":396,"tag":495,"props":4082,"children":4083},{"style":550},[4084],{"type":402,"value":4016},{"type":396,"tag":495,"props":4086,"children":4087},{"style":514},[4088],{"type":402,"value":682},{"type":396,"tag":495,"props":4090,"children":4091},{"style":508},[4092],{"type":402,"value":1603},{"type":396,"tag":495,"props":4094,"children":4095},{"style":572},[4096],{"type":402,"value":517},{"type":396,"tag":495,"props":4098,"children":4099},{"style":550},[4100],{"type":402,"value":4061},{"type":396,"tag":495,"props":4102,"children":4103},{"style":572},[4104],{"type":402,"value":538},{"type":396,"tag":495,"props":4106,"children":4107},{"style":514},[4108],{"type":402,"value":587},{"type":396,"tag":495,"props":4110,"children":4111},{"class":497,"line":702},[4112],{"type":396,"tag":495,"props":4113,"children":4114},{"style":514},[4115],{"type":402,"value":1139},{"type":396,"tag":495,"props":4117,"children":4118},{"class":497,"line":712},[4119],{"type":396,"tag":495,"props":4120,"children":4121},{"style":706},[4122],{"type":402,"value":4123},"  // 删除依赖\n",{"type":396,"tag":495,"props":4125,"children":4126},{"class":497,"line":751},[4127,4132,4136,4140,4144],{"type":396,"tag":495,"props":4128,"children":4129},{"style":1154},[4130],{"type":402,"value":4131},"  removeSub",{"type":396,"tag":495,"props":4133,"children":4134},{"style":514},[4135],{"type":402,"value":517},{"type":396,"tag":495,"props":4137,"children":4138},{"style":520},[4139],{"type":402,"value":4061},{"type":396,"tag":495,"props":4141,"children":4142},{"style":514},[4143],{"type":402,"value":538},{"type":396,"tag":495,"props":4145,"children":4146},{"style":514},[4147],{"type":402,"value":543},{"type":396,"tag":495,"props":4149,"children":4150},{"class":497,"line":782},[4151,4156,4160,4164,4168,4172,4176,4181,4185],{"type":396,"tag":495,"props":4152,"children":4153},{"style":508},[4154],{"type":402,"value":4155},"    remove",{"type":396,"tag":495,"props":4157,"children":4158},{"style":572},[4159],{"type":402,"value":517},{"type":396,"tag":495,"props":4161,"children":4162},{"style":674},[4163],{"type":402,"value":1947},{"type":396,"tag":495,"props":4165,"children":4166},{"style":514},[4167],{"type":402,"value":682},{"type":396,"tag":495,"props":4169,"children":4170},{"style":550},[4171],{"type":402,"value":4016},{"type":396,"tag":495,"props":4173,"children":4174},{"style":514},[4175],{"type":402,"value":528},{"type":396,"tag":495,"props":4177,"children":4178},{"style":550},[4179],{"type":402,"value":4180}," sub",{"type":396,"tag":495,"props":4182,"children":4183},{"style":572},[4184],{"type":402,"value":538},{"type":396,"tag":495,"props":4186,"children":4187},{"style":514},[4188],{"type":402,"value":587},{"type":396,"tag":495,"props":4190,"children":4191},{"class":497,"line":791},[4192],{"type":396,"tag":495,"props":4193,"children":4194},{"style":514},[4195],{"type":402,"value":1139},{"type":396,"tag":495,"props":4197,"children":4198},{"class":497,"line":846},[4199],{"type":396,"tag":495,"props":4200,"children":4201},{"style":706},[4202],{"type":402,"value":4203},"  // 收集依赖\n",{"type":396,"tag":495,"props":4205,"children":4206},{"class":497,"line":855},[4207,4212,4216],{"type":396,"tag":495,"props":4208,"children":4209},{"style":1154},[4210],{"type":402,"value":4211},"  depend",{"type":396,"tag":495,"props":4213,"children":4214},{"style":514},[4215],{"type":402,"value":744},{"type":396,"tag":495,"props":4217,"children":4218},{"style":514},[4219],{"type":402,"value":543},{"type":396,"tag":495,"props":4221,"children":4222},{"class":497,"line":864},[4223,4227,4231,4235,4239,4243,4247],{"type":396,"tag":495,"props":4224,"children":4225},{"style":594},[4226],{"type":402,"value":870},{"type":396,"tag":495,"props":4228,"children":4229},{"style":572},[4230],{"type":402,"value":875},{"type":396,"tag":495,"props":4232,"children":4233},{"style":550},[4234],{"type":402,"value":3110},{"type":396,"tag":495,"props":4236,"children":4237},{"style":514},[4238],{"type":402,"value":682},{"type":396,"tag":495,"props":4240,"children":4241},{"style":550},[4242],{"type":402,"value":3119},{"type":396,"tag":495,"props":4244,"children":4245},{"style":572},[4246],{"type":402,"value":930},{"type":396,"tag":495,"props":4248,"children":4249},{"style":514},[4250],{"type":402,"value":907},{"type":396,"tag":495,"props":4252,"children":4253},{"class":497,"line":910},[4254,4259,4263,4267,4271,4276,4280,4284,4288],{"type":396,"tag":495,"props":4255,"children":4256},{"style":550},[4257],{"type":402,"value":4258},"      Dep",{"type":396,"tag":495,"props":4260,"children":4261},{"style":514},[4262],{"type":402,"value":682},{"type":396,"tag":495,"props":4264,"children":4265},{"style":550},[4266],{"type":402,"value":3119},{"type":396,"tag":495,"props":4268,"children":4269},{"style":514},[4270],{"type":402,"value":682},{"type":396,"tag":495,"props":4272,"children":4273},{"style":508},[4274],{"type":402,"value":4275},"addDep",{"type":396,"tag":495,"props":4277,"children":4278},{"style":572},[4279],{"type":402,"value":517},{"type":396,"tag":495,"props":4281,"children":4282},{"style":674},[4283],{"type":402,"value":1947},{"type":396,"tag":495,"props":4285,"children":4286},{"style":572},[4287],{"type":402,"value":538},{"type":396,"tag":495,"props":4289,"children":4290},{"style":514},[4291],{"type":402,"value":587},{"type":396,"tag":495,"props":4293,"children":4294},{"class":497,"line":937},[4295],{"type":396,"tag":495,"props":4296,"children":4297},{"style":514},[4298],{"type":402,"value":1130},{"type":396,"tag":495,"props":4300,"children":4301},{"class":497,"line":971},[4302],{"type":396,"tag":495,"props":4303,"children":4304},{"style":514},[4305],{"type":402,"value":1139},{"type":396,"tag":495,"props":4307,"children":4308},{"class":497,"line":989},[4309],{"type":396,"tag":495,"props":4310,"children":4311},{"style":706},[4312],{"type":402,"value":4313},"  // 通知依赖更新\n",{"type":396,"tag":495,"props":4315,"children":4316},{"class":497,"line":1031},[4317,4322,4326],{"type":396,"tag":495,"props":4318,"children":4319},{"style":1154},[4320],{"type":402,"value":4321},"  notify",{"type":396,"tag":495,"props":4323,"children":4324},{"style":514},[4325],{"type":402,"value":744},{"type":396,"tag":495,"props":4327,"children":4328},{"style":514},[4329],{"type":402,"value":543},{"type":396,"tag":495,"props":4331,"children":4332},{"class":497,"line":1040},[4333],{"type":396,"tag":495,"props":4334,"children":4335},{"style":706},[4336],{"type":402,"value":4337},"    // stabilize the subscriber list first\n",{"type":396,"tag":495,"props":4339,"children":4340},{"class":497,"line":1074},[4341,4345,4350,4354,4358,4362,4366,4370,4374,4378],{"type":396,"tag":495,"props":4342,"children":4343},{"style":502},[4344],{"type":402,"value":1183},{"type":396,"tag":495,"props":4346,"children":4347},{"style":1186},[4348],{"type":402,"value":4349}," subs",{"type":396,"tag":495,"props":4351,"children":4352},{"style":556},[4353],{"type":402,"value":559},{"type":396,"tag":495,"props":4355,"children":4356},{"style":674},[4357],{"type":402,"value":835},{"type":396,"tag":495,"props":4359,"children":4360},{"style":514},[4361],{"type":402,"value":682},{"type":396,"tag":495,"props":4363,"children":4364},{"style":550},[4365],{"type":402,"value":4016},{"type":396,"tag":495,"props":4367,"children":4368},{"style":514},[4369],{"type":402,"value":682},{"type":396,"tag":495,"props":4371,"children":4372},{"style":508},[4373],{"type":402,"value":2179},{"type":396,"tag":495,"props":4375,"children":4376},{"style":572},[4377],{"type":402,"value":744},{"type":396,"tag":495,"props":4379,"children":4380},{"style":514},[4381],{"type":402,"value":587},{"type":396,"tag":495,"props":4383,"children":4384},{"class":497,"line":1091},[4385,4389,4393,4397,4401,4405,4409,4413,4417,4421,4425,4429,4433,4437,4441,4445,4449,4453,4457,4461,4465],{"type":396,"tag":495,"props":4386,"children":4387},{"style":594},[4388],{"type":402,"value":1232},{"type":396,"tag":495,"props":4390,"children":4391},{"style":572},[4392],{"type":402,"value":875},{"type":396,"tag":495,"props":4394,"children":4395},{"style":502},[4396],{"type":402,"value":1241},{"type":396,"tag":495,"props":4398,"children":4399},{"style":550},[4400],{"type":402,"value":1246},{"type":396,"tag":495,"props":4402,"children":4403},{"style":556},[4404],{"type":402,"value":559},{"type":396,"tag":495,"props":4406,"children":4407},{"style":772},[4408],{"type":402,"value":775},{"type":396,"tag":495,"props":4410,"children":4411},{"style":514},[4412],{"type":402,"value":528},{"type":396,"tag":495,"props":4414,"children":4415},{"style":550},[4416],{"type":402,"value":1433},{"type":396,"tag":495,"props":4418,"children":4419},{"style":556},[4420],{"type":402,"value":559},{"type":396,"tag":495,"props":4422,"children":4423},{"style":550},[4424],{"type":402,"value":4349},{"type":396,"tag":495,"props":4426,"children":4427},{"style":514},[4428],{"type":402,"value":682},{"type":396,"tag":495,"props":4430,"children":4431},{"style":1186},[4432],{"type":402,"value":1281},{"type":396,"tag":495,"props":4434,"children":4435},{"style":514},[4436],{"type":402,"value":1259},{"type":396,"tag":495,"props":4438,"children":4439},{"style":550},[4440],{"type":402,"value":1246},{"type":396,"tag":495,"props":4442,"children":4443},{"style":556},[4444],{"type":402,"value":1268},{"type":396,"tag":495,"props":4446,"children":4447},{"style":550},[4448],{"type":402,"value":1433},{"type":396,"tag":495,"props":4450,"children":4451},{"style":514},[4452],{"type":402,"value":1259},{"type":396,"tag":495,"props":4454,"children":4455},{"style":550},[4456],{"type":402,"value":1246},{"type":396,"tag":495,"props":4458,"children":4459},{"style":556},[4460],{"type":402,"value":1294},{"type":396,"tag":495,"props":4462,"children":4463},{"style":572},[4464],{"type":402,"value":930},{"type":396,"tag":495,"props":4466,"children":4467},{"style":514},[4468],{"type":402,"value":907},{"type":396,"tag":495,"props":4470,"children":4471},{"class":497,"line":1124},[4472,4477,4481,4485,4489,4493,4498,4502],{"type":396,"tag":495,"props":4473,"children":4474},{"style":550},[4475],{"type":402,"value":4476},"      subs",{"type":396,"tag":495,"props":4478,"children":4479},{"style":572},[4480],{"type":402,"value":1332},{"type":396,"tag":495,"props":4482,"children":4483},{"style":550},[4484],{"type":402,"value":1337},{"type":396,"tag":495,"props":4486,"children":4487},{"style":572},[4488],{"type":402,"value":1740},{"type":396,"tag":495,"props":4490,"children":4491},{"style":514},[4492],{"type":402,"value":682},{"type":396,"tag":495,"props":4494,"children":4495},{"style":508},[4496],{"type":402,"value":4497},"update",{"type":396,"tag":495,"props":4499,"children":4500},{"style":572},[4501],{"type":402,"value":744},{"type":396,"tag":495,"props":4503,"children":4504},{"style":514},[4505],{"type":402,"value":587},{"type":396,"tag":495,"props":4507,"children":4508},{"class":497,"line":1133},[4509],{"type":396,"tag":495,"props":4510,"children":4511},{"style":514},[4512],{"type":402,"value":1130},{"type":396,"tag":495,"props":4514,"children":4515},{"class":497,"line":1142},[4516],{"type":396,"tag":495,"props":4517,"children":4518},{"style":514},[4519],{"type":402,"value":1139},{"type":396,"tag":495,"props":4521,"children":4522},{"class":497,"line":1150},[4523],{"type":396,"tag":495,"props":4524,"children":4525},{"style":514},[4526],{"type":402,"value":615},{"type":396,"tag":429,"props":4528,"children":4529},{},[4530],{"type":402,"value":4531},"依赖容器和依赖之间是存在耦合的，所以我们看到收集依赖的这个地方，仅仅调用了依赖的 addDep 方法，没有调用 addSub 把添加依赖。其实，addSub 是在依赖的 addDep 方法中调用的。这个和观察者模式离不开关系，在观察者模式中，观察者直接观测目标，并相应目标做出的通知。Watcher 直接观测响应式数据，当数据发生变更时，就能收到通知。但由于数据和观察者是多对多的关系，所以需要 Dep 依赖容器这么一个东西用来保存 Watcher 与数据的关系。",{"type":396,"tag":429,"props":4533,"children":4534},{},[4535],{"type":396,"tag":4536,"props":4537,"children":4539},"img",{"alt":446,"src":4538},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20200810100326.png?w=70",[],{"type":396,"tag":429,"props":4541,"children":4542},{},[4543],{"type":402,"value":4544},"Dep.target 用来表示当前依赖，并且源码维护了一个依赖栈，通过提供的 pushTarget、popTarget 方法维护依赖栈及当前依赖（状态）。看以下代码：",{"type":396,"tag":435,"props":4546,"children":4548},{"code":4547,"language":488,"meta":389,"className":489,"style":389},"// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nconst targetStack = [];\nfunction pushTarget(target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\nfunction popTarget() {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n",[4549],{"type":396,"tag":440,"props":4550,"children":4551},{"__ignoreMap":389},[4552,4560,4568,4576,4607,4631,4659,4691,4720,4727,4747,4770,4828],{"type":396,"tag":495,"props":4553,"children":4554},{"class":497,"line":498},[4555],{"type":396,"tag":495,"props":4556,"children":4557},{"style":706},[4558],{"type":402,"value":4559},"// The current target watcher being evaluated.\n",{"type":396,"tag":495,"props":4561,"children":4562},{"class":497,"line":546},[4563],{"type":396,"tag":495,"props":4564,"children":4565},{"style":706},[4566],{"type":402,"value":4567},"// This is globally unique because only one watcher\n",{"type":396,"tag":495,"props":4569,"children":4570},{"class":497,"line":590},[4571],{"type":396,"tag":495,"props":4572,"children":4573},{"style":706},[4574],{"type":402,"value":4575},"// can be evaluated at a time.\n",{"type":396,"tag":495,"props":4577,"children":4578},{"class":497,"line":609},[4579,4583,4587,4592,4597,4603],{"type":396,"tag":495,"props":4580,"children":4581},{"style":550},[4582],{"type":402,"value":3110},{"type":396,"tag":495,"props":4584,"children":4585},{"style":514},[4586],{"type":402,"value":682},{"type":396,"tag":495,"props":4588,"children":4589},{"style":550},[4590],{"type":402,"value":4591},"target ",{"type":396,"tag":495,"props":4593,"children":4594},{"style":556},[4595],{"type":402,"value":4596},"=",{"type":396,"tag":495,"props":4598,"children":4600},{"style":4599},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[4601],{"type":402,"value":4602}," null",{"type":396,"tag":495,"props":4604,"children":4605},{"style":514},[4606],{"type":402,"value":587},{"type":396,"tag":495,"props":4608,"children":4609},{"class":497,"line":618},[4610,4614,4619,4623,4627],{"type":396,"tag":495,"props":4611,"children":4612},{"style":502},[4613],{"type":402,"value":1576},{"type":396,"tag":495,"props":4615,"children":4616},{"style":1186},[4617],{"type":402,"value":4618}," targetStack",{"type":396,"tag":495,"props":4620,"children":4621},{"style":556},[4622],{"type":402,"value":559},{"type":396,"tag":495,"props":4624,"children":4625},{"style":550},[4626],{"type":402,"value":4025},{"type":396,"tag":495,"props":4628,"children":4629},{"style":514},[4630],{"type":402,"value":587},{"type":396,"tag":495,"props":4632,"children":4633},{"class":497,"line":627},[4634,4638,4643,4647,4651,4655],{"type":396,"tag":495,"props":4635,"children":4636},{"style":502},[4637],{"type":402,"value":505},{"type":396,"tag":495,"props":4639,"children":4640},{"style":508},[4641],{"type":402,"value":4642}," pushTarget",{"type":396,"tag":495,"props":4644,"children":4645},{"style":514},[4646],{"type":402,"value":517},{"type":396,"tag":495,"props":4648,"children":4649},{"style":520},[4650],{"type":402,"value":3119},{"type":396,"tag":495,"props":4652,"children":4653},{"style":514},[4654],{"type":402,"value":538},{"type":396,"tag":495,"props":4656,"children":4657},{"style":514},[4658],{"type":402,"value":543},{"type":396,"tag":495,"props":4660,"children":4661},{"class":497,"line":645},[4662,4667,4671,4675,4679,4683,4687],{"type":396,"tag":495,"props":4663,"children":4664},{"style":550},[4665],{"type":402,"value":4666},"  targetStack",{"type":396,"tag":495,"props":4668,"children":4669},{"style":514},[4670],{"type":402,"value":682},{"type":396,"tag":495,"props":4672,"children":4673},{"style":508},[4674],{"type":402,"value":1603},{"type":396,"tag":495,"props":4676,"children":4677},{"style":572},[4678],{"type":402,"value":517},{"type":396,"tag":495,"props":4680,"children":4681},{"style":550},[4682],{"type":402,"value":3119},{"type":396,"tag":495,"props":4684,"children":4685},{"style":572},[4686],{"type":402,"value":538},{"type":396,"tag":495,"props":4688,"children":4689},{"style":514},[4690],{"type":402,"value":587},{"type":396,"tag":495,"props":4692,"children":4693},{"class":497,"line":670},[4694,4699,4703,4707,4711,4716],{"type":396,"tag":495,"props":4695,"children":4696},{"style":550},[4697],{"type":402,"value":4698},"  Dep",{"type":396,"tag":495,"props":4700,"children":4701},{"style":514},[4702],{"type":402,"value":682},{"type":396,"tag":495,"props":4704,"children":4705},{"style":550},[4706],{"type":402,"value":3119},{"type":396,"tag":495,"props":4708,"children":4709},{"style":556},[4710],{"type":402,"value":559},{"type":396,"tag":495,"props":4712,"children":4713},{"style":550},[4714],{"type":402,"value":4715}," target",{"type":396,"tag":495,"props":4717,"children":4718},{"style":514},[4719],{"type":402,"value":587},{"type":396,"tag":495,"props":4721,"children":4722},{"class":497,"line":702},[4723],{"type":396,"tag":495,"props":4724,"children":4725},{"style":514},[4726],{"type":402,"value":615},{"type":396,"tag":495,"props":4728,"children":4729},{"class":497,"line":712},[4730,4734,4739,4743],{"type":396,"tag":495,"props":4731,"children":4732},{"style":502},[4733],{"type":402,"value":505},{"type":396,"tag":495,"props":4735,"children":4736},{"style":508},[4737],{"type":402,"value":4738}," popTarget",{"type":396,"tag":495,"props":4740,"children":4741},{"style":514},[4742],{"type":402,"value":744},{"type":396,"tag":495,"props":4744,"children":4745},{"style":514},[4746],{"type":402,"value":543},{"type":396,"tag":495,"props":4748,"children":4749},{"class":497,"line":751},[4750,4754,4758,4762,4766],{"type":396,"tag":495,"props":4751,"children":4752},{"style":550},[4753],{"type":402,"value":4666},{"type":396,"tag":495,"props":4755,"children":4756},{"style":514},[4757],{"type":402,"value":682},{"type":396,"tag":495,"props":4759,"children":4760},{"style":508},[4761],{"type":402,"value":1624},{"type":396,"tag":495,"props":4763,"children":4764},{"style":572},[4765],{"type":402,"value":744},{"type":396,"tag":495,"props":4767,"children":4768},{"style":514},[4769],{"type":402,"value":587},{"type":396,"tag":495,"props":4771,"children":4772},{"class":497,"line":782},[4773,4777,4781,4785,4789,4793,4797,4802,4806,4810,4815,4820,4824],{"type":396,"tag":495,"props":4774,"children":4775},{"style":550},[4776],{"type":402,"value":4698},{"type":396,"tag":495,"props":4778,"children":4779},{"style":514},[4780],{"type":402,"value":682},{"type":396,"tag":495,"props":4782,"children":4783},{"style":550},[4784],{"type":402,"value":3119},{"type":396,"tag":495,"props":4786,"children":4787},{"style":556},[4788],{"type":402,"value":559},{"type":396,"tag":495,"props":4790,"children":4791},{"style":550},[4792],{"type":402,"value":4618},{"type":396,"tag":495,"props":4794,"children":4795},{"style":572},[4796],{"type":402,"value":1332},{"type":396,"tag":495,"props":4798,"children":4799},{"style":550},[4800],{"type":402,"value":4801},"targetStack",{"type":396,"tag":495,"props":4803,"children":4804},{"style":514},[4805],{"type":402,"value":682},{"type":396,"tag":495,"props":4807,"children":4808},{"style":1186},[4809],{"type":402,"value":1281},{"type":396,"tag":495,"props":4811,"children":4812},{"style":556},[4813],{"type":402,"value":4814}," -",{"type":396,"tag":495,"props":4816,"children":4817},{"style":772},[4818],{"type":402,"value":4819}," 1",{"type":396,"tag":495,"props":4821,"children":4822},{"style":572},[4823],{"type":402,"value":1740},{"type":396,"tag":495,"props":4825,"children":4826},{"style":514},[4827],{"type":402,"value":587},{"type":396,"tag":495,"props":4829,"children":4830},{"class":497,"line":791},[4831],{"type":396,"tag":495,"props":4832,"children":4833},{"style":514},[4834],{"type":402,"value":615},{"type":396,"tag":429,"props":4836,"children":4837},{},[4838],{"type":402,"value":4839},"既然 Dep 用来存放 Watcher，是依赖容器，那么，依赖就是 Watcher。",{"type":396,"tag":429,"props":4841,"children":4842},{},[4843],{"type":402,"value":4844},"Watcher 通过调用我们刚才提到的 pushTarget、popTarget 以维护全局的当前依赖（Dep.target）。全局的当前依赖只会有一个，因为 JS 是同步的，顺序执行的代码。我们先来看看 Watcher 怎么样维护当前依赖。",{"type":396,"tag":435,"props":4846,"children":4848},{"code":4847,"language":488,"meta":389,"className":489,"style":389},"class Watcher {\n  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n  get() {\n    pushTarget(this);\n    let value;\n    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n    const vm = this.vm;\n    // 触发 getter 更新\n    try {\n      value = this.getter.call(vm, vm);\n    } catch (e) {\n      if (this.user) {\n        handleError(e, vm, `getter for watcher \"${this.expression}\"`);\n      } else {\n        throw e;\n      }\n    } finally {\n      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n      // traverse 即递归读取对象的每一个元素\n      if (this.deep) {\n        traverse(value);\n      }\n      popTarget();\n      // 因为每次 get 之后都重收集了依赖，\n      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n      this.cleanupDeps();\n    }\n    return value;\n  }\n}\n",[4849],{"type":396,"tag":440,"props":4850,"children":4851},{"__ignoreMap":389},[4852,4868,4876,4884,4892,4908,4932,4947,4955,4988,4996,5008,5064,5093,5125,5204,5219,5236,5243,5259,5267,5275,5307,5331,5338,5354,5362,5370,5394,5401,5416,5423],{"type":396,"tag":495,"props":4853,"children":4854},{"class":497,"line":498},[4855,4859,4864],{"type":396,"tag":495,"props":4856,"children":4857},{"style":502},[4858],{"type":402,"value":633},{"type":396,"tag":495,"props":4860,"children":4861},{"style":636},[4862],{"type":402,"value":4863}," Watcher",{"type":396,"tag":495,"props":4865,"children":4866},{"style":514},[4867],{"type":402,"value":543},{"type":396,"tag":495,"props":4869,"children":4870},{"class":497,"line":546},[4871],{"type":396,"tag":495,"props":4872,"children":4873},{"style":706},[4874],{"type":402,"value":4875},"  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n",{"type":396,"tag":495,"props":4877,"children":4878},{"class":497,"line":590},[4879],{"type":396,"tag":495,"props":4880,"children":4881},{"style":706},[4882],{"type":402,"value":4883},"  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n",{"type":396,"tag":495,"props":4885,"children":4886},{"class":497,"line":609},[4887],{"type":396,"tag":495,"props":4888,"children":4889},{"style":706},[4890],{"type":402,"value":4891},"  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n",{"type":396,"tag":495,"props":4893,"children":4894},{"class":497,"line":618},[4895,4900,4904],{"type":396,"tag":495,"props":4896,"children":4897},{"style":1154},[4898],{"type":402,"value":4899},"  get",{"type":396,"tag":495,"props":4901,"children":4902},{"style":514},[4903],{"type":402,"value":744},{"type":396,"tag":495,"props":4905,"children":4906},{"style":514},[4907],{"type":402,"value":543},{"type":396,"tag":495,"props":4909,"children":4910},{"class":497,"line":627},[4911,4916,4920,4924,4928],{"type":396,"tag":495,"props":4912,"children":4913},{"style":508},[4914],{"type":402,"value":4915},"    pushTarget",{"type":396,"tag":495,"props":4917,"children":4918},{"style":572},[4919],{"type":402,"value":517},{"type":396,"tag":495,"props":4921,"children":4922},{"style":674},[4923],{"type":402,"value":1947},{"type":396,"tag":495,"props":4925,"children":4926},{"style":572},[4927],{"type":402,"value":538},{"type":396,"tag":495,"props":4929,"children":4930},{"style":514},[4931],{"type":402,"value":587},{"type":396,"tag":495,"props":4933,"children":4934},{"class":497,"line":645},[4935,4939,4943],{"type":396,"tag":495,"props":4936,"children":4937},{"style":502},[4938],{"type":402,"value":2019},{"type":396,"tag":495,"props":4940,"children":4941},{"style":550},[4942],{"type":402,"value":695},{"type":396,"tag":495,"props":4944,"children":4945},{"style":514},[4946],{"type":402,"value":587},{"type":396,"tag":495,"props":4948,"children":4949},{"class":497,"line":670},[4950],{"type":396,"tag":495,"props":4951,"children":4952},{"style":706},[4953],{"type":402,"value":4954},"    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n",{"type":396,"tag":495,"props":4956,"children":4957},{"class":497,"line":702},[4958,4962,4967,4971,4975,4979,4984],{"type":396,"tag":495,"props":4959,"children":4960},{"style":502},[4961],{"type":402,"value":1183},{"type":396,"tag":495,"props":4963,"children":4964},{"style":1186},[4965],{"type":402,"value":4966}," vm",{"type":396,"tag":495,"props":4968,"children":4969},{"style":556},[4970],{"type":402,"value":559},{"type":396,"tag":495,"props":4972,"children":4973},{"style":674},[4974],{"type":402,"value":835},{"type":396,"tag":495,"props":4976,"children":4977},{"style":514},[4978],{"type":402,"value":682},{"type":396,"tag":495,"props":4980,"children":4981},{"style":550},[4982],{"type":402,"value":4983},"vm",{"type":396,"tag":495,"props":4985,"children":4986},{"style":514},[4987],{"type":402,"value":587},{"type":396,"tag":495,"props":4989,"children":4990},{"class":497,"line":712},[4991],{"type":396,"tag":495,"props":4992,"children":4993},{"style":706},[4994],{"type":402,"value":4995},"    // 触发 getter 更新\n",{"type":396,"tag":495,"props":4997,"children":4998},{"class":497,"line":751},[4999,5004],{"type":396,"tag":495,"props":5000,"children":5001},{"style":594},[5002],{"type":402,"value":5003},"    try",{"type":396,"tag":495,"props":5005,"children":5006},{"style":514},[5007],{"type":402,"value":543},{"type":396,"tag":495,"props":5009,"children":5010},{"class":497,"line":782},[5011,5016,5020,5024,5028,5032,5036,5040,5044,5048,5052,5056,5060],{"type":396,"tag":495,"props":5012,"children":5013},{"style":550},[5014],{"type":402,"value":5015},"      value",{"type":396,"tag":495,"props":5017,"children":5018},{"style":556},[5019],{"type":402,"value":559},{"type":396,"tag":495,"props":5021,"children":5022},{"style":674},[5023],{"type":402,"value":835},{"type":396,"tag":495,"props":5025,"children":5026},{"style":514},[5027],{"type":402,"value":682},{"type":396,"tag":495,"props":5029,"children":5030},{"style":550},[5031],{"type":402,"value":2748},{"type":396,"tag":495,"props":5033,"children":5034},{"style":514},[5035],{"type":402,"value":682},{"type":396,"tag":495,"props":5037,"children":5038},{"style":508},[5039],{"type":402,"value":3062},{"type":396,"tag":495,"props":5041,"children":5042},{"style":572},[5043],{"type":402,"value":517},{"type":396,"tag":495,"props":5045,"children":5046},{"style":550},[5047],{"type":402,"value":4983},{"type":396,"tag":495,"props":5049,"children":5050},{"style":514},[5051],{"type":402,"value":528},{"type":396,"tag":495,"props":5053,"children":5054},{"style":550},[5055],{"type":402,"value":4966},{"type":396,"tag":495,"props":5057,"children":5058},{"style":572},[5059],{"type":402,"value":538},{"type":396,"tag":495,"props":5061,"children":5062},{"style":514},[5063],{"type":402,"value":587},{"type":396,"tag":495,"props":5065,"children":5066},{"class":497,"line":791},[5067,5071,5076,5080,5085,5089],{"type":396,"tag":495,"props":5068,"children":5069},{"style":514},[5070],{"type":402,"value":1080},{"type":396,"tag":495,"props":5072,"children":5073},{"style":594},[5074],{"type":402,"value":5075}," catch",{"type":396,"tag":495,"props":5077,"children":5078},{"style":572},[5079],{"type":402,"value":875},{"type":396,"tag":495,"props":5081,"children":5082},{"style":550},[5083],{"type":402,"value":5084},"e",{"type":396,"tag":495,"props":5086,"children":5087},{"style":572},[5088],{"type":402,"value":930},{"type":396,"tag":495,"props":5090,"children":5091},{"style":514},[5092],{"type":402,"value":907},{"type":396,"tag":495,"props":5094,"children":5095},{"class":497,"line":846},[5096,5100,5104,5108,5112,5117,5121],{"type":396,"tag":495,"props":5097,"children":5098},{"style":594},[5099],{"type":402,"value":916},{"type":396,"tag":495,"props":5101,"children":5102},{"style":572},[5103],{"type":402,"value":875},{"type":396,"tag":495,"props":5105,"children":5106},{"style":674},[5107],{"type":402,"value":1947},{"type":396,"tag":495,"props":5109,"children":5110},{"style":514},[5111],{"type":402,"value":682},{"type":396,"tag":495,"props":5113,"children":5114},{"style":550},[5115],{"type":402,"value":5116},"user",{"type":396,"tag":495,"props":5118,"children":5119},{"style":572},[5120],{"type":402,"value":930},{"type":396,"tag":495,"props":5122,"children":5123},{"style":514},[5124],{"type":402,"value":907},{"type":396,"tag":495,"props":5126,"children":5127},{"class":497,"line":855},[5128,5133,5137,5141,5145,5149,5153,5158,5163,5169,5173,5178,5183,5187,5191,5196,5200],{"type":396,"tag":495,"props":5129,"children":5130},{"style":508},[5131],{"type":402,"value":5132},"        handleError",{"type":396,"tag":495,"props":5134,"children":5135},{"style":572},[5136],{"type":402,"value":517},{"type":396,"tag":495,"props":5138,"children":5139},{"style":550},[5140],{"type":402,"value":5084},{"type":396,"tag":495,"props":5142,"children":5143},{"style":514},[5144],{"type":402,"value":528},{"type":396,"tag":495,"props":5146,"children":5147},{"style":550},[5148],{"type":402,"value":4966},{"type":396,"tag":495,"props":5150,"children":5151},{"style":514},[5152],{"type":402,"value":528},{"type":396,"tag":495,"props":5154,"children":5155},{"style":812},[5156],{"type":402,"value":5157}," `",{"type":396,"tag":495,"props":5159,"children":5160},{"style":818},[5161],{"type":402,"value":5162},"getter for watcher \"",{"type":396,"tag":495,"props":5164,"children":5166},{"style":5165},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[5167],{"type":402,"value":5168},"${",{"type":396,"tag":495,"props":5170,"children":5171},{"style":674},[5172],{"type":402,"value":1947},{"type":396,"tag":495,"props":5174,"children":5176},{"style":5175},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[5177],{"type":402,"value":682},{"type":396,"tag":495,"props":5179,"children":5180},{"style":550},[5181],{"type":402,"value":5182},"expression",{"type":396,"tag":495,"props":5184,"children":5185},{"style":5165},[5186],{"type":402,"value":2344},{"type":396,"tag":495,"props":5188,"children":5189},{"style":818},[5190],{"type":402,"value":826},{"type":396,"tag":495,"props":5192,"children":5193},{"style":812},[5194],{"type":402,"value":5195},"`",{"type":396,"tag":495,"props":5197,"children":5198},{"style":572},[5199],{"type":402,"value":538},{"type":396,"tag":495,"props":5201,"children":5202},{"style":514},[5203],{"type":402,"value":587},{"type":396,"tag":495,"props":5205,"children":5206},{"class":497,"line":864},[5207,5211,5215],{"type":396,"tag":495,"props":5208,"children":5209},{"style":514},[5210],{"type":402,"value":977},{"type":396,"tag":495,"props":5212,"children":5213},{"style":594},[5214],{"type":402,"value":982},{"type":396,"tag":495,"props":5216,"children":5217},{"style":514},[5218],{"type":402,"value":543},{"type":396,"tag":495,"props":5220,"children":5221},{"class":497,"line":910},[5222,5227,5232],{"type":396,"tag":495,"props":5223,"children":5224},{"style":594},[5225],{"type":402,"value":5226},"        throw",{"type":396,"tag":495,"props":5228,"children":5229},{"style":550},[5230],{"type":402,"value":5231}," e",{"type":396,"tag":495,"props":5233,"children":5234},{"style":514},[5235],{"type":402,"value":587},{"type":396,"tag":495,"props":5237,"children":5238},{"class":497,"line":937},[5239],{"type":396,"tag":495,"props":5240,"children":5241},{"style":514},[5242],{"type":402,"value":1037},{"type":396,"tag":495,"props":5244,"children":5245},{"class":497,"line":971},[5246,5250,5255],{"type":396,"tag":495,"props":5247,"children":5248},{"style":514},[5249],{"type":402,"value":1080},{"type":396,"tag":495,"props":5251,"children":5252},{"style":594},[5253],{"type":402,"value":5254}," finally",{"type":396,"tag":495,"props":5256,"children":5257},{"style":514},[5258],{"type":402,"value":543},{"type":396,"tag":495,"props":5260,"children":5261},{"class":497,"line":989},[5262],{"type":396,"tag":495,"props":5263,"children":5264},{"style":706},[5265],{"type":402,"value":5266},"      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n",{"type":396,"tag":495,"props":5268,"children":5269},{"class":497,"line":1031},[5270],{"type":396,"tag":495,"props":5271,"children":5272},{"style":706},[5273],{"type":402,"value":5274},"      // traverse 即递归读取对象的每一个元素\n",{"type":396,"tag":495,"props":5276,"children":5277},{"class":497,"line":1040},[5278,5282,5286,5290,5294,5299,5303],{"type":396,"tag":495,"props":5279,"children":5280},{"style":594},[5281],{"type":402,"value":916},{"type":396,"tag":495,"props":5283,"children":5284},{"style":572},[5285],{"type":402,"value":875},{"type":396,"tag":495,"props":5287,"children":5288},{"style":674},[5289],{"type":402,"value":1947},{"type":396,"tag":495,"props":5291,"children":5292},{"style":514},[5293],{"type":402,"value":682},{"type":396,"tag":495,"props":5295,"children":5296},{"style":550},[5297],{"type":402,"value":5298},"deep",{"type":396,"tag":495,"props":5300,"children":5301},{"style":572},[5302],{"type":402,"value":930},{"type":396,"tag":495,"props":5304,"children":5305},{"style":514},[5306],{"type":402,"value":907},{"type":396,"tag":495,"props":5308,"children":5309},{"class":497,"line":1074},[5310,5315,5319,5323,5327],{"type":396,"tag":495,"props":5311,"children":5312},{"style":508},[5313],{"type":402,"value":5314},"        traverse",{"type":396,"tag":495,"props":5316,"children":5317},{"style":572},[5318],{"type":402,"value":517},{"type":396,"tag":495,"props":5320,"children":5321},{"style":550},[5322],{"type":402,"value":523},{"type":396,"tag":495,"props":5324,"children":5325},{"style":572},[5326],{"type":402,"value":538},{"type":396,"tag":495,"props":5328,"children":5329},{"style":514},[5330],{"type":402,"value":587},{"type":396,"tag":495,"props":5332,"children":5333},{"class":497,"line":1091},[5334],{"type":396,"tag":495,"props":5335,"children":5336},{"style":514},[5337],{"type":402,"value":1037},{"type":396,"tag":495,"props":5339,"children":5340},{"class":497,"line":1124},[5341,5346,5350],{"type":396,"tag":495,"props":5342,"children":5343},{"style":508},[5344],{"type":402,"value":5345},"      popTarget",{"type":396,"tag":495,"props":5347,"children":5348},{"style":572},[5349],{"type":402,"value":744},{"type":396,"tag":495,"props":5351,"children":5352},{"style":514},[5353],{"type":402,"value":587},{"type":396,"tag":495,"props":5355,"children":5356},{"class":497,"line":1133},[5357],{"type":396,"tag":495,"props":5358,"children":5359},{"style":706},[5360],{"type":402,"value":5361},"      // 因为每次 get 之后都重收集了依赖，\n",{"type":396,"tag":495,"props":5363,"children":5364},{"class":497,"line":1142},[5365],{"type":396,"tag":495,"props":5366,"children":5367},{"style":706},[5368],{"type":402,"value":5369},"      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n",{"type":396,"tag":495,"props":5371,"children":5372},{"class":497,"line":1150},[5373,5377,5381,5386,5390],{"type":396,"tag":495,"props":5374,"children":5375},{"style":674},[5376],{"type":402,"value":1046},{"type":396,"tag":495,"props":5378,"children":5379},{"style":514},[5380],{"type":402,"value":682},{"type":396,"tag":495,"props":5382,"children":5383},{"style":508},[5384],{"type":402,"value":5385},"cleanupDeps",{"type":396,"tag":495,"props":5387,"children":5388},{"style":572},[5389],{"type":402,"value":744},{"type":396,"tag":495,"props":5391,"children":5392},{"style":514},[5393],{"type":402,"value":587},{"type":396,"tag":495,"props":5395,"children":5396},{"class":497,"line":1177},[5397],{"type":396,"tag":495,"props":5398,"children":5399},{"style":514},[5400],{"type":402,"value":1130},{"type":396,"tag":495,"props":5402,"children":5403},{"class":497,"line":1226},[5404,5408,5412],{"type":396,"tag":495,"props":5405,"children":5406},{"style":594},[5407],{"type":402,"value":2312},{"type":396,"tag":495,"props":5409,"children":5410},{"style":550},[5411],{"type":402,"value":695},{"type":396,"tag":495,"props":5413,"children":5414},{"style":514},[5415],{"type":402,"value":587},{"type":396,"tag":495,"props":5417,"children":5418},{"class":497,"line":1305},[5419],{"type":396,"tag":495,"props":5420,"children":5421},{"style":514},[5422],{"type":402,"value":1139},{"type":396,"tag":495,"props":5424,"children":5425},{"class":497,"line":1349},[5426],{"type":396,"tag":495,"props":5427,"children":5428},{"style":514},[5429],{"type":402,"value":615},{"type":396,"tag":429,"props":5431,"children":5432},{},[5433],{"type":402,"value":5434},"Vue 实例中，data 方法会返回一个新的对象，这个对象能将值的变化响应式更新到模板中。其实就是，新的对象返回来后，使用了 observe 方法观测其变化，而其每一个属性的依赖容器中，都会保存这个 Vue 实例的 watcher。这样一来，只要属性发生了变化，依赖容器就会通知 Vue 实例的 watcher 进行更新。至于要更新什么，那当然是“执行回调函数”啦。想象一下 Vue 实例中的 watch 的写法：",{"type":396,"tag":435,"props":5436,"children":5438},{"code":5437,"language":488,"meta":389,"className":489,"style":389},"new Vue({\n  data() {\n    return {\n      b: null,\n    };\n  },\n  watch: {\n    b() {\n      console.log(\"I'm callback\");\n    },\n  },\n});\n",[5439],{"type":396,"tag":440,"props":5440,"children":5441},{"__ignoreMap":389},[5442,5463,5479,5490,5510,5518,5526,5542,5558,5600,5607,5614],{"type":396,"tag":495,"props":5443,"children":5444},{"class":497,"line":498},[5445,5450,5455,5459],{"type":396,"tag":495,"props":5446,"children":5447},{"style":556},[5448],{"type":402,"value":5449},"new",{"type":396,"tag":495,"props":5451,"children":5452},{"style":508},[5453],{"type":402,"value":5454}," Vue",{"type":396,"tag":495,"props":5456,"children":5457},{"style":550},[5458],{"type":402,"value":517},{"type":396,"tag":495,"props":5460,"children":5461},{"style":514},[5462],{"type":402,"value":907},{"type":396,"tag":495,"props":5464,"children":5465},{"class":497,"line":546},[5466,5471,5475],{"type":396,"tag":495,"props":5467,"children":5468},{"style":1154},[5469],{"type":402,"value":5470},"  data",{"type":396,"tag":495,"props":5472,"children":5473},{"style":514},[5474],{"type":402,"value":744},{"type":396,"tag":495,"props":5476,"children":5477},{"style":514},[5478],{"type":402,"value":543},{"type":396,"tag":495,"props":5480,"children":5481},{"class":497,"line":590},[5482,5486],{"type":396,"tag":495,"props":5483,"children":5484},{"style":594},[5485],{"type":402,"value":2312},{"type":396,"tag":495,"props":5487,"children":5488},{"style":514},[5489],{"type":402,"value":543},{"type":396,"tag":495,"props":5491,"children":5492},{"class":497,"line":609},[5493,5498,5502,5506],{"type":396,"tag":495,"props":5494,"children":5495},{"style":572},[5496],{"type":402,"value":5497},"      b",{"type":396,"tag":495,"props":5499,"children":5500},{"style":514},[5501],{"type":402,"value":2966},{"type":396,"tag":495,"props":5503,"children":5504},{"style":4599},[5505],{"type":402,"value":4602},{"type":396,"tag":495,"props":5507,"children":5508},{"style":514},[5509],{"type":402,"value":1612},{"type":396,"tag":495,"props":5511,"children":5512},{"class":497,"line":618},[5513],{"type":396,"tag":495,"props":5514,"children":5515},{"style":514},[5516],{"type":402,"value":5517},"    };\n",{"type":396,"tag":495,"props":5519,"children":5520},{"class":497,"line":627},[5521],{"type":396,"tag":495,"props":5522,"children":5523},{"style":514},[5524],{"type":402,"value":5525},"  },\n",{"type":396,"tag":495,"props":5527,"children":5528},{"class":497,"line":645},[5529,5534,5538],{"type":396,"tag":495,"props":5530,"children":5531},{"style":572},[5532],{"type":402,"value":5533},"  watch",{"type":396,"tag":495,"props":5535,"children":5536},{"style":514},[5537],{"type":402,"value":2966},{"type":396,"tag":495,"props":5539,"children":5540},{"style":514},[5541],{"type":402,"value":543},{"type":396,"tag":495,"props":5543,"children":5544},{"class":497,"line":670},[5545,5550,5554],{"type":396,"tag":495,"props":5546,"children":5547},{"style":1154},[5548],{"type":402,"value":5549},"    b",{"type":396,"tag":495,"props":5551,"children":5552},{"style":514},[5553],{"type":402,"value":744},{"type":396,"tag":495,"props":5555,"children":5556},{"style":514},[5557],{"type":402,"value":543},{"type":396,"tag":495,"props":5559,"children":5560},{"class":497,"line":702},[5561,5566,5570,5575,5579,5583,5588,5592,5596],{"type":396,"tag":495,"props":5562,"children":5563},{"style":550},[5564],{"type":402,"value":5565},"      console",{"type":396,"tag":495,"props":5567,"children":5568},{"style":514},[5569],{"type":402,"value":682},{"type":396,"tag":495,"props":5571,"children":5572},{"style":508},[5573],{"type":402,"value":5574},"log",{"type":396,"tag":495,"props":5576,"children":5577},{"style":572},[5578],{"type":402,"value":517},{"type":396,"tag":495,"props":5580,"children":5581},{"style":812},[5582],{"type":402,"value":826},{"type":396,"tag":495,"props":5584,"children":5585},{"style":818},[5586],{"type":402,"value":5587},"I'm callback",{"type":396,"tag":495,"props":5589,"children":5590},{"style":812},[5591],{"type":402,"value":826},{"type":396,"tag":495,"props":5593,"children":5594},{"style":572},[5595],{"type":402,"value":538},{"type":396,"tag":495,"props":5597,"children":5598},{"style":514},[5599],{"type":402,"value":587},{"type":396,"tag":495,"props":5601,"children":5602},{"class":497,"line":712},[5603],{"type":396,"tag":495,"props":5604,"children":5605},{"style":514},[5606],{"type":402,"value":3320},{"type":396,"tag":495,"props":5608,"children":5609},{"class":497,"line":751},[5610],{"type":396,"tag":495,"props":5611,"children":5612},{"style":514},[5613],{"type":402,"value":5525},{"type":396,"tag":495,"props":5615,"children":5616},{"class":497,"line":782},[5617,5621,5625],{"type":396,"tag":495,"props":5618,"children":5619},{"style":514},[5620],{"type":402,"value":2344},{"type":396,"tag":495,"props":5622,"children":5623},{"style":550},[5624],{"type":402,"value":538},{"type":396,"tag":495,"props":5626,"children":5627},{"style":514},[5628],{"type":402,"value":587},{"type":396,"tag":429,"props":5630,"children":5631},{},[5632],{"type":402,"value":5633},"这个 watch 不就是（尝试）给 data.b 设置响应式属性么... 所以说依赖就是 Vue 实例与响应式属性之间的对应关系。Watcher 保存了这种关系，还保存了响应式数据、回调函数等一些额外信息。我们看 Watcher 的构造器：",{"type":396,"tag":435,"props":5635,"children":5637},{"code":5636,"language":488,"meta":389,"className":489,"style":389},"class Watcher {\n  constructor(vm, expOrFn, cb, options, isRenderWatcher) {\n    // vm 即 Vue 实例\n    this.vm = vm;\n    if (isRenderWatcher) {\n      vm._watcher = this;\n    }\n    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n    vm._watchers.push(this);\n\n    // options\n    if (options) {\n      this.deep = !!options.deep;\n      this.user = !!options.user;\n      this.lazy = !!options.lazy;\n      this.sync = !!options.sync;\n      this.before = options.before;\n    } else {\n      this.deep = this.user = this.lazy = this.sync = false;\n    }\n    this.cb = cb;\n    this.id = ++uid; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = [];\n    this.newDeps = [];\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n     */\n    this.expression =\n      process.env.NODE_ENV !== \"production\" ? expOrFn.toString() : \"\";\n    // parse expression for getter\n    if (typeof expOrFn === \"function\") {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n      this.getter = parsePath(expOrFn);\n    }\n\n    this.value = this.lazy ? undefined : this.get();\n  }\n}\n",[5638],{"type":396,"tag":440,"props":5639,"children":5640},{"__ignoreMap":389},[5641,5656,5715,5723,5750,5774,5803,5810,5818,5859,5866,5874,5898,5938,5977,6017,6057,6093,6108,6183,6190,6218,6256,6284,6325,6353,6381,6418,6454,6461,6469,6477,6485,6505,6580,6588,6632,6659,6674,6682,6723,6730,6737,6802,6809],{"type":396,"tag":495,"props":5642,"children":5643},{"class":497,"line":498},[5644,5648,5652],{"type":396,"tag":495,"props":5645,"children":5646},{"style":502},[5647],{"type":402,"value":633},{"type":396,"tag":495,"props":5649,"children":5650},{"style":636},[5651],{"type":402,"value":4863},{"type":396,"tag":495,"props":5653,"children":5654},{"style":514},[5655],{"type":402,"value":543},{"type":396,"tag":495,"props":5657,"children":5658},{"class":497,"line":546},[5659,5663,5667,5671,5675,5680,5684,5689,5693,5698,5702,5707,5711],{"type":396,"tag":495,"props":5660,"children":5661},{"style":502},[5662],{"type":402,"value":651},{"type":396,"tag":495,"props":5664,"children":5665},{"style":514},[5666],{"type":402,"value":517},{"type":396,"tag":495,"props":5668,"children":5669},{"style":520},[5670],{"type":402,"value":4983},{"type":396,"tag":495,"props":5672,"children":5673},{"style":514},[5674],{"type":402,"value":528},{"type":396,"tag":495,"props":5676,"children":5677},{"style":520},[5678],{"type":402,"value":5679}," expOrFn",{"type":396,"tag":495,"props":5681,"children":5682},{"style":514},[5683],{"type":402,"value":528},{"type":396,"tag":495,"props":5685,"children":5686},{"style":520},[5687],{"type":402,"value":5688}," cb",{"type":396,"tag":495,"props":5690,"children":5691},{"style":514},[5692],{"type":402,"value":528},{"type":396,"tag":495,"props":5694,"children":5695},{"style":520},[5696],{"type":402,"value":5697}," options",{"type":396,"tag":495,"props":5699,"children":5700},{"style":514},[5701],{"type":402,"value":528},{"type":396,"tag":495,"props":5703,"children":5704},{"style":520},[5705],{"type":402,"value":5706}," isRenderWatcher",{"type":396,"tag":495,"props":5708,"children":5709},{"style":514},[5710],{"type":402,"value":538},{"type":396,"tag":495,"props":5712,"children":5713},{"style":514},[5714],{"type":402,"value":543},{"type":396,"tag":495,"props":5716,"children":5717},{"class":497,"line":590},[5718],{"type":396,"tag":495,"props":5719,"children":5720},{"style":706},[5721],{"type":402,"value":5722},"    // vm 即 Vue 实例\n",{"type":396,"tag":495,"props":5724,"children":5725},{"class":497,"line":609},[5726,5730,5734,5738,5742,5746],{"type":396,"tag":495,"props":5727,"children":5728},{"style":674},[5729],{"type":402,"value":677},{"type":396,"tag":495,"props":5731,"children":5732},{"style":514},[5733],{"type":402,"value":682},{"type":396,"tag":495,"props":5735,"children":5736},{"style":550},[5737],{"type":402,"value":4983},{"type":396,"tag":495,"props":5739,"children":5740},{"style":556},[5741],{"type":402,"value":559},{"type":396,"tag":495,"props":5743,"children":5744},{"style":550},[5745],{"type":402,"value":4966},{"type":396,"tag":495,"props":5747,"children":5748},{"style":514},[5749],{"type":402,"value":587},{"type":396,"tag":495,"props":5751,"children":5752},{"class":497,"line":618},[5753,5757,5761,5766,5770],{"type":396,"tag":495,"props":5754,"children":5755},{"style":594},[5756],{"type":402,"value":870},{"type":396,"tag":495,"props":5758,"children":5759},{"style":572},[5760],{"type":402,"value":875},{"type":396,"tag":495,"props":5762,"children":5763},{"style":550},[5764],{"type":402,"value":5765},"isRenderWatcher",{"type":396,"tag":495,"props":5767,"children":5768},{"style":572},[5769],{"type":402,"value":930},{"type":396,"tag":495,"props":5771,"children":5772},{"style":514},[5773],{"type":402,"value":907},{"type":396,"tag":495,"props":5775,"children":5776},{"class":497,"line":627},[5777,5782,5786,5791,5795,5799],{"type":396,"tag":495,"props":5778,"children":5779},{"style":550},[5780],{"type":402,"value":5781},"      vm",{"type":396,"tag":495,"props":5783,"children":5784},{"style":514},[5785],{"type":402,"value":682},{"type":396,"tag":495,"props":5787,"children":5788},{"style":550},[5789],{"type":402,"value":5790},"_watcher",{"type":396,"tag":495,"props":5792,"children":5793},{"style":556},[5794],{"type":402,"value":559},{"type":396,"tag":495,"props":5796,"children":5797},{"style":674},[5798],{"type":402,"value":835},{"type":396,"tag":495,"props":5800,"children":5801},{"style":514},[5802],{"type":402,"value":587},{"type":396,"tag":495,"props":5804,"children":5805},{"class":497,"line":645},[5806],{"type":396,"tag":495,"props":5807,"children":5808},{"style":514},[5809],{"type":402,"value":1130},{"type":396,"tag":495,"props":5811,"children":5812},{"class":497,"line":670},[5813],{"type":396,"tag":495,"props":5814,"children":5815},{"style":706},[5816],{"type":402,"value":5817},"    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n",{"type":396,"tag":495,"props":5819,"children":5820},{"class":497,"line":702},[5821,5826,5830,5835,5839,5843,5847,5851,5855],{"type":396,"tag":495,"props":5822,"children":5823},{"style":550},[5824],{"type":402,"value":5825},"    vm",{"type":396,"tag":495,"props":5827,"children":5828},{"style":514},[5829],{"type":402,"value":682},{"type":396,"tag":495,"props":5831,"children":5832},{"style":550},[5833],{"type":402,"value":5834},"_watchers",{"type":396,"tag":495,"props":5836,"children":5837},{"style":514},[5838],{"type":402,"value":682},{"type":396,"tag":495,"props":5840,"children":5841},{"style":508},[5842],{"type":402,"value":1603},{"type":396,"tag":495,"props":5844,"children":5845},{"style":572},[5846],{"type":402,"value":517},{"type":396,"tag":495,"props":5848,"children":5849},{"style":674},[5850],{"type":402,"value":1947},{"type":396,"tag":495,"props":5852,"children":5853},{"style":572},[5854],{"type":402,"value":538},{"type":396,"tag":495,"props":5856,"children":5857},{"style":514},[5858],{"type":402,"value":587},{"type":396,"tag":495,"props":5860,"children":5861},{"class":497,"line":712},[5862],{"type":396,"tag":495,"props":5863,"children":5864},{"emptyLinePlaceholder":388},[5865],{"type":402,"value":624},{"type":396,"tag":495,"props":5867,"children":5868},{"class":497,"line":751},[5869],{"type":396,"tag":495,"props":5870,"children":5871},{"style":706},[5872],{"type":402,"value":5873},"    // options\n",{"type":396,"tag":495,"props":5875,"children":5876},{"class":497,"line":782},[5877,5881,5885,5890,5894],{"type":396,"tag":495,"props":5878,"children":5879},{"style":594},[5880],{"type":402,"value":870},{"type":396,"tag":495,"props":5882,"children":5883},{"style":572},[5884],{"type":402,"value":875},{"type":396,"tag":495,"props":5886,"children":5887},{"style":550},[5888],{"type":402,"value":5889},"options",{"type":396,"tag":495,"props":5891,"children":5892},{"style":572},[5893],{"type":402,"value":930},{"type":396,"tag":495,"props":5895,"children":5896},{"style":514},[5897],{"type":402,"value":907},{"type":396,"tag":495,"props":5899,"children":5900},{"class":497,"line":791},[5901,5905,5909,5913,5917,5922,5926,5930,5934],{"type":396,"tag":495,"props":5902,"children":5903},{"style":674},[5904],{"type":402,"value":1046},{"type":396,"tag":495,"props":5906,"children":5907},{"style":514},[5908],{"type":402,"value":682},{"type":396,"tag":495,"props":5910,"children":5911},{"style":550},[5912],{"type":402,"value":5298},{"type":396,"tag":495,"props":5914,"children":5915},{"style":556},[5916],{"type":402,"value":559},{"type":396,"tag":495,"props":5918,"children":5919},{"style":556},[5920],{"type":402,"value":5921}," !!",{"type":396,"tag":495,"props":5923,"children":5924},{"style":550},[5925],{"type":402,"value":5889},{"type":396,"tag":495,"props":5927,"children":5928},{"style":514},[5929],{"type":402,"value":682},{"type":396,"tag":495,"props":5931,"children":5932},{"style":550},[5933],{"type":402,"value":5298},{"type":396,"tag":495,"props":5935,"children":5936},{"style":514},[5937],{"type":402,"value":587},{"type":396,"tag":495,"props":5939,"children":5940},{"class":497,"line":846},[5941,5945,5949,5953,5957,5961,5965,5969,5973],{"type":396,"tag":495,"props":5942,"children":5943},{"style":674},[5944],{"type":402,"value":1046},{"type":396,"tag":495,"props":5946,"children":5947},{"style":514},[5948],{"type":402,"value":682},{"type":396,"tag":495,"props":5950,"children":5951},{"style":550},[5952],{"type":402,"value":5116},{"type":396,"tag":495,"props":5954,"children":5955},{"style":556},[5956],{"type":402,"value":559},{"type":396,"tag":495,"props":5958,"children":5959},{"style":556},[5960],{"type":402,"value":5921},{"type":396,"tag":495,"props":5962,"children":5963},{"style":550},[5964],{"type":402,"value":5889},{"type":396,"tag":495,"props":5966,"children":5967},{"style":514},[5968],{"type":402,"value":682},{"type":396,"tag":495,"props":5970,"children":5971},{"style":550},[5972],{"type":402,"value":5116},{"type":396,"tag":495,"props":5974,"children":5975},{"style":514},[5976],{"type":402,"value":587},{"type":396,"tag":495,"props":5978,"children":5979},{"class":497,"line":855},[5980,5984,5988,5993,5997,6001,6005,6009,6013],{"type":396,"tag":495,"props":5981,"children":5982},{"style":674},[5983],{"type":402,"value":1046},{"type":396,"tag":495,"props":5985,"children":5986},{"style":514},[5987],{"type":402,"value":682},{"type":396,"tag":495,"props":5989,"children":5990},{"style":550},[5991],{"type":402,"value":5992},"lazy",{"type":396,"tag":495,"props":5994,"children":5995},{"style":556},[5996],{"type":402,"value":559},{"type":396,"tag":495,"props":5998,"children":5999},{"style":556},[6000],{"type":402,"value":5921},{"type":396,"tag":495,"props":6002,"children":6003},{"style":550},[6004],{"type":402,"value":5889},{"type":396,"tag":495,"props":6006,"children":6007},{"style":514},[6008],{"type":402,"value":682},{"type":396,"tag":495,"props":6010,"children":6011},{"style":550},[6012],{"type":402,"value":5992},{"type":396,"tag":495,"props":6014,"children":6015},{"style":514},[6016],{"type":402,"value":587},{"type":396,"tag":495,"props":6018,"children":6019},{"class":497,"line":864},[6020,6024,6028,6033,6037,6041,6045,6049,6053],{"type":396,"tag":495,"props":6021,"children":6022},{"style":674},[6023],{"type":402,"value":1046},{"type":396,"tag":495,"props":6025,"children":6026},{"style":514},[6027],{"type":402,"value":682},{"type":396,"tag":495,"props":6029,"children":6030},{"style":550},[6031],{"type":402,"value":6032},"sync",{"type":396,"tag":495,"props":6034,"children":6035},{"style":556},[6036],{"type":402,"value":559},{"type":396,"tag":495,"props":6038,"children":6039},{"style":556},[6040],{"type":402,"value":5921},{"type":396,"tag":495,"props":6042,"children":6043},{"style":550},[6044],{"type":402,"value":5889},{"type":396,"tag":495,"props":6046,"children":6047},{"style":514},[6048],{"type":402,"value":682},{"type":396,"tag":495,"props":6050,"children":6051},{"style":550},[6052],{"type":402,"value":6032},{"type":396,"tag":495,"props":6054,"children":6055},{"style":514},[6056],{"type":402,"value":587},{"type":396,"tag":495,"props":6058,"children":6059},{"class":497,"line":910},[6060,6064,6068,6073,6077,6081,6085,6089],{"type":396,"tag":495,"props":6061,"children":6062},{"style":674},[6063],{"type":402,"value":1046},{"type":396,"tag":495,"props":6065,"children":6066},{"style":514},[6067],{"type":402,"value":682},{"type":396,"tag":495,"props":6069,"children":6070},{"style":550},[6071],{"type":402,"value":6072},"before",{"type":396,"tag":495,"props":6074,"children":6075},{"style":556},[6076],{"type":402,"value":559},{"type":396,"tag":495,"props":6078,"children":6079},{"style":550},[6080],{"type":402,"value":5697},{"type":396,"tag":495,"props":6082,"children":6083},{"style":514},[6084],{"type":402,"value":682},{"type":396,"tag":495,"props":6086,"children":6087},{"style":550},[6088],{"type":402,"value":6072},{"type":396,"tag":495,"props":6090,"children":6091},{"style":514},[6092],{"type":402,"value":587},{"type":396,"tag":495,"props":6094,"children":6095},{"class":497,"line":937},[6096,6100,6104],{"type":396,"tag":495,"props":6097,"children":6098},{"style":514},[6099],{"type":402,"value":1080},{"type":396,"tag":495,"props":6101,"children":6102},{"style":594},[6103],{"type":402,"value":982},{"type":396,"tag":495,"props":6105,"children":6106},{"style":514},[6107],{"type":402,"value":543},{"type":396,"tag":495,"props":6109,"children":6110},{"class":497,"line":971},[6111,6115,6119,6123,6127,6131,6135,6139,6143,6147,6151,6155,6159,6163,6167,6171,6175,6179],{"type":396,"tag":495,"props":6112,"children":6113},{"style":674},[6114],{"type":402,"value":1046},{"type":396,"tag":495,"props":6116,"children":6117},{"style":514},[6118],{"type":402,"value":682},{"type":396,"tag":495,"props":6120,"children":6121},{"style":550},[6122],{"type":402,"value":5298},{"type":396,"tag":495,"props":6124,"children":6125},{"style":556},[6126],{"type":402,"value":559},{"type":396,"tag":495,"props":6128,"children":6129},{"style":674},[6130],{"type":402,"value":835},{"type":396,"tag":495,"props":6132,"children":6133},{"style":514},[6134],{"type":402,"value":682},{"type":396,"tag":495,"props":6136,"children":6137},{"style":550},[6138],{"type":402,"value":5116},{"type":396,"tag":495,"props":6140,"children":6141},{"style":556},[6142],{"type":402,"value":559},{"type":396,"tag":495,"props":6144,"children":6145},{"style":674},[6146],{"type":402,"value":835},{"type":396,"tag":495,"props":6148,"children":6149},{"style":514},[6150],{"type":402,"value":682},{"type":396,"tag":495,"props":6152,"children":6153},{"style":550},[6154],{"type":402,"value":5992},{"type":396,"tag":495,"props":6156,"children":6157},{"style":556},[6158],{"type":402,"value":559},{"type":396,"tag":495,"props":6160,"children":6161},{"style":674},[6162],{"type":402,"value":835},{"type":396,"tag":495,"props":6164,"children":6165},{"style":514},[6166],{"type":402,"value":682},{"type":396,"tag":495,"props":6168,"children":6169},{"style":550},[6170],{"type":402,"value":6032},{"type":396,"tag":495,"props":6172,"children":6173},{"style":556},[6174],{"type":402,"value":559},{"type":396,"tag":495,"props":6176,"children":6177},{"style":2592},[6178],{"type":402,"value":2595},{"type":396,"tag":495,"props":6180,"children":6181},{"style":514},[6182],{"type":402,"value":587},{"type":396,"tag":495,"props":6184,"children":6185},{"class":497,"line":989},[6186],{"type":396,"tag":495,"props":6187,"children":6188},{"style":514},[6189],{"type":402,"value":1130},{"type":396,"tag":495,"props":6191,"children":6192},{"class":497,"line":1031},[6193,6197,6201,6206,6210,6214],{"type":396,"tag":495,"props":6194,"children":6195},{"style":674},[6196],{"type":402,"value":677},{"type":396,"tag":495,"props":6198,"children":6199},{"style":514},[6200],{"type":402,"value":682},{"type":396,"tag":495,"props":6202,"children":6203},{"style":550},[6204],{"type":402,"value":6205},"cb",{"type":396,"tag":495,"props":6207,"children":6208},{"style":556},[6209],{"type":402,"value":559},{"type":396,"tag":495,"props":6211,"children":6212},{"style":550},[6213],{"type":402,"value":5688},{"type":396,"tag":495,"props":6215,"children":6216},{"style":514},[6217],{"type":402,"value":587},{"type":396,"tag":495,"props":6219,"children":6220},{"class":497,"line":1040},[6221,6225,6229,6233,6237,6242,6247,6251],{"type":396,"tag":495,"props":6222,"children":6223},{"style":674},[6224],{"type":402,"value":677},{"type":396,"tag":495,"props":6226,"children":6227},{"style":514},[6228],{"type":402,"value":682},{"type":396,"tag":495,"props":6230,"children":6231},{"style":550},[6232],{"type":402,"value":3983},{"type":396,"tag":495,"props":6234,"children":6235},{"style":556},[6236],{"type":402,"value":559},{"type":396,"tag":495,"props":6238,"children":6239},{"style":556},[6240],{"type":402,"value":6241}," ++",{"type":396,"tag":495,"props":6243,"children":6244},{"style":550},[6245],{"type":402,"value":6246},"uid",{"type":396,"tag":495,"props":6248,"children":6249},{"style":514},[6250],{"type":402,"value":1259},{"type":396,"tag":495,"props":6252,"children":6253},{"style":706},[6254],{"type":402,"value":6255}," // uid for batching\n",{"type":396,"tag":495,"props":6257,"children":6258},{"class":497,"line":1074},[6259,6263,6267,6272,6276,6280],{"type":396,"tag":495,"props":6260,"children":6261},{"style":674},[6262],{"type":402,"value":677},{"type":396,"tag":495,"props":6264,"children":6265},{"style":514},[6266],{"type":402,"value":682},{"type":396,"tag":495,"props":6268,"children":6269},{"style":550},[6270],{"type":402,"value":6271},"active",{"type":396,"tag":495,"props":6273,"children":6274},{"style":556},[6275],{"type":402,"value":559},{"type":396,"tag":495,"props":6277,"children":6278},{"style":2592},[6279],{"type":402,"value":2971},{"type":396,"tag":495,"props":6281,"children":6282},{"style":514},[6283],{"type":402,"value":587},{"type":396,"tag":495,"props":6285,"children":6286},{"class":497,"line":1091},[6287,6291,6295,6300,6304,6308,6312,6316,6320],{"type":396,"tag":495,"props":6288,"children":6289},{"style":674},[6290],{"type":402,"value":677},{"type":396,"tag":495,"props":6292,"children":6293},{"style":514},[6294],{"type":402,"value":682},{"type":396,"tag":495,"props":6296,"children":6297},{"style":550},[6298],{"type":402,"value":6299},"dirty",{"type":396,"tag":495,"props":6301,"children":6302},{"style":556},[6303],{"type":402,"value":559},{"type":396,"tag":495,"props":6305,"children":6306},{"style":674},[6307],{"type":402,"value":835},{"type":396,"tag":495,"props":6309,"children":6310},{"style":514},[6311],{"type":402,"value":682},{"type":396,"tag":495,"props":6313,"children":6314},{"style":550},[6315],{"type":402,"value":5992},{"type":396,"tag":495,"props":6317,"children":6318},{"style":514},[6319],{"type":402,"value":1259},{"type":396,"tag":495,"props":6321,"children":6322},{"style":706},[6323],{"type":402,"value":6324}," // for lazy watchers\n",{"type":396,"tag":495,"props":6326,"children":6327},{"class":497,"line":1124},[6328,6332,6336,6341,6345,6349],{"type":396,"tag":495,"props":6329,"children":6330},{"style":674},[6331],{"type":402,"value":677},{"type":396,"tag":495,"props":6333,"children":6334},{"style":514},[6335],{"type":402,"value":682},{"type":396,"tag":495,"props":6337,"children":6338},{"style":550},[6339],{"type":402,"value":6340},"deps",{"type":396,"tag":495,"props":6342,"children":6343},{"style":556},[6344],{"type":402,"value":559},{"type":396,"tag":495,"props":6346,"children":6347},{"style":572},[6348],{"type":402,"value":4025},{"type":396,"tag":495,"props":6350,"children":6351},{"style":514},[6352],{"type":402,"value":587},{"type":396,"tag":495,"props":6354,"children":6355},{"class":497,"line":1133},[6356,6360,6364,6369,6373,6377],{"type":396,"tag":495,"props":6357,"children":6358},{"style":674},[6359],{"type":402,"value":677},{"type":396,"tag":495,"props":6361,"children":6362},{"style":514},[6363],{"type":402,"value":682},{"type":396,"tag":495,"props":6365,"children":6366},{"style":550},[6367],{"type":402,"value":6368},"newDeps",{"type":396,"tag":495,"props":6370,"children":6371},{"style":556},[6372],{"type":402,"value":559},{"type":396,"tag":495,"props":6374,"children":6375},{"style":572},[6376],{"type":402,"value":4025},{"type":396,"tag":495,"props":6378,"children":6379},{"style":514},[6380],{"type":402,"value":587},{"type":396,"tag":495,"props":6382,"children":6383},{"class":497,"line":1142},[6384,6388,6392,6397,6401,6405,6410,6414],{"type":396,"tag":495,"props":6385,"children":6386},{"style":674},[6387],{"type":402,"value":677},{"type":396,"tag":495,"props":6389,"children":6390},{"style":514},[6391],{"type":402,"value":682},{"type":396,"tag":495,"props":6393,"children":6394},{"style":550},[6395],{"type":402,"value":6396},"depIds",{"type":396,"tag":495,"props":6398,"children":6399},{"style":556},[6400],{"type":402,"value":559},{"type":396,"tag":495,"props":6402,"children":6403},{"style":556},[6404],{"type":402,"value":564},{"type":396,"tag":495,"props":6406,"children":6407},{"style":508},[6408],{"type":402,"value":6409}," Set",{"type":396,"tag":495,"props":6411,"children":6412},{"style":572},[6413],{"type":402,"value":744},{"type":396,"tag":495,"props":6415,"children":6416},{"style":514},[6417],{"type":402,"value":587},{"type":396,"tag":495,"props":6419,"children":6420},{"class":497,"line":1150},[6421,6425,6429,6434,6438,6442,6446,6450],{"type":396,"tag":495,"props":6422,"children":6423},{"style":674},[6424],{"type":402,"value":677},{"type":396,"tag":495,"props":6426,"children":6427},{"style":514},[6428],{"type":402,"value":682},{"type":396,"tag":495,"props":6430,"children":6431},{"style":550},[6432],{"type":402,"value":6433},"newDepIds",{"type":396,"tag":495,"props":6435,"children":6436},{"style":556},[6437],{"type":402,"value":559},{"type":396,"tag":495,"props":6439,"children":6440},{"style":556},[6441],{"type":402,"value":564},{"type":396,"tag":495,"props":6443,"children":6444},{"style":508},[6445],{"type":402,"value":6409},{"type":396,"tag":495,"props":6447,"children":6448},{"style":572},[6449],{"type":402,"value":744},{"type":396,"tag":495,"props":6451,"children":6452},{"style":514},[6453],{"type":402,"value":587},{"type":396,"tag":495,"props":6455,"children":6456},{"class":497,"line":1177},[6457],{"type":396,"tag":495,"props":6458,"children":6459},{"emptyLinePlaceholder":388},[6460],{"type":402,"value":624},{"type":396,"tag":495,"props":6462,"children":6463},{"class":497,"line":1226},[6464],{"type":396,"tag":495,"props":6465,"children":6466},{"style":706},[6467],{"type":402,"value":6468},"    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n",{"type":396,"tag":495,"props":6470,"children":6471},{"class":497,"line":1305},[6472],{"type":396,"tag":495,"props":6473,"children":6474},{"style":706},[6475],{"type":402,"value":6476},"     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n",{"type":396,"tag":495,"props":6478,"children":6479},{"class":497,"line":1349},[6480],{"type":396,"tag":495,"props":6481,"children":6482},{"style":706},[6483],{"type":402,"value":6484},"     */\n",{"type":396,"tag":495,"props":6486,"children":6487},{"class":497,"line":1357},[6488,6492,6496,6500],{"type":396,"tag":495,"props":6489,"children":6490},{"style":674},[6491],{"type":402,"value":677},{"type":396,"tag":495,"props":6493,"children":6494},{"style":514},[6495],{"type":402,"value":682},{"type":396,"tag":495,"props":6497,"children":6498},{"style":550},[6499],{"type":402,"value":5182},{"type":396,"tag":495,"props":6501,"children":6502},{"style":556},[6503],{"type":402,"value":6504}," =\n",{"type":396,"tag":495,"props":6506,"children":6507},{"class":497,"line":1365},[6508,6513,6517,6521,6525,6529,6533,6537,6541,6545,6549,6553,6557,6562,6567,6571,6576],{"type":396,"tag":495,"props":6509,"children":6510},{"style":550},[6511],{"type":402,"value":6512},"      process",{"type":396,"tag":495,"props":6514,"children":6515},{"style":514},[6516],{"type":402,"value":682},{"type":396,"tag":495,"props":6518,"children":6519},{"style":550},[6520],{"type":402,"value":3553},{"type":396,"tag":495,"props":6522,"children":6523},{"style":514},[6524],{"type":402,"value":682},{"type":396,"tag":495,"props":6526,"children":6527},{"style":1186},[6528],{"type":402,"value":3562},{"type":396,"tag":495,"props":6530,"children":6531},{"style":556},[6532],{"type":402,"value":3468},{"type":396,"tag":495,"props":6534,"children":6535},{"style":812},[6536],{"type":402,"value":815},{"type":396,"tag":495,"props":6538,"children":6539},{"style":818},[6540],{"type":402,"value":3575},{"type":396,"tag":495,"props":6542,"children":6543},{"style":812},[6544],{"type":402,"value":826},{"type":396,"tag":495,"props":6546,"children":6547},{"style":556},[6548],{"type":402,"value":3049},{"type":396,"tag":495,"props":6550,"children":6551},{"style":550},[6552],{"type":402,"value":5679},{"type":396,"tag":495,"props":6554,"children":6555},{"style":514},[6556],{"type":402,"value":682},{"type":396,"tag":495,"props":6558,"children":6559},{"style":508},[6560],{"type":402,"value":6561},"toString",{"type":396,"tag":495,"props":6563,"children":6564},{"style":572},[6565],{"type":402,"value":6566},"() ",{"type":396,"tag":495,"props":6568,"children":6569},{"style":556},[6570],{"type":402,"value":2966},{"type":396,"tag":495,"props":6572,"children":6573},{"style":812},[6574],{"type":402,"value":6575}," \"\"",{"type":396,"tag":495,"props":6577,"children":6578},{"style":514},[6579],{"type":402,"value":587},{"type":396,"tag":495,"props":6581,"children":6582},{"class":497,"line":1373},[6583],{"type":396,"tag":495,"props":6584,"children":6585},{"style":706},[6586],{"type":402,"value":6587},"    // parse expression for getter\n",{"type":396,"tag":495,"props":6589,"children":6590},{"class":497,"line":1399},[6591,6595,6599,6604,6608,6612,6616,6620,6624,6628],{"type":396,"tag":495,"props":6592,"children":6593},{"style":594},[6594],{"type":402,"value":870},{"type":396,"tag":495,"props":6596,"children":6597},{"style":572},[6598],{"type":402,"value":875},{"type":396,"tag":495,"props":6600,"children":6601},{"style":556},[6602],{"type":402,"value":6603},"typeof",{"type":396,"tag":495,"props":6605,"children":6606},{"style":550},[6607],{"type":402,"value":5679},{"type":396,"tag":495,"props":6609,"children":6610},{"style":556},[6611],{"type":402,"value":2589},{"type":396,"tag":495,"props":6613,"children":6614},{"style":812},[6615],{"type":402,"value":815},{"type":396,"tag":495,"props":6617,"children":6618},{"style":818},[6619],{"type":402,"value":505},{"type":396,"tag":495,"props":6621,"children":6622},{"style":812},[6623],{"type":402,"value":826},{"type":396,"tag":495,"props":6625,"children":6626},{"style":572},[6627],{"type":402,"value":930},{"type":396,"tag":495,"props":6629,"children":6630},{"style":514},[6631],{"type":402,"value":907},{"type":396,"tag":495,"props":6633,"children":6634},{"class":497,"line":1489},[6635,6639,6643,6647,6651,6655],{"type":396,"tag":495,"props":6636,"children":6637},{"style":674},[6638],{"type":402,"value":1046},{"type":396,"tag":495,"props":6640,"children":6641},{"style":514},[6642],{"type":402,"value":682},{"type":396,"tag":495,"props":6644,"children":6645},{"style":550},[6646],{"type":402,"value":2748},{"type":396,"tag":495,"props":6648,"children":6649},{"style":556},[6650],{"type":402,"value":559},{"type":396,"tag":495,"props":6652,"children":6653},{"style":550},[6654],{"type":402,"value":5679},{"type":396,"tag":495,"props":6656,"children":6657},{"style":514},[6658],{"type":402,"value":587},{"type":396,"tag":495,"props":6660,"children":6661},{"class":497,"line":1522},[6662,6666,6670],{"type":396,"tag":495,"props":6663,"children":6664},{"style":514},[6665],{"type":402,"value":1080},{"type":396,"tag":495,"props":6667,"children":6668},{"style":594},[6669],{"type":402,"value":982},{"type":396,"tag":495,"props":6671,"children":6672},{"style":514},[6673],{"type":402,"value":543},{"type":396,"tag":495,"props":6675,"children":6676},{"class":497,"line":1530},[6677],{"type":396,"tag":495,"props":6678,"children":6679},{"style":706},[6680],{"type":402,"value":6681},"      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n",{"type":396,"tag":495,"props":6683,"children":6684},{"class":497,"line":1538},[6685,6689,6693,6697,6701,6706,6710,6715,6719],{"type":396,"tag":495,"props":6686,"children":6687},{"style":674},[6688],{"type":402,"value":1046},{"type":396,"tag":495,"props":6690,"children":6691},{"style":514},[6692],{"type":402,"value":682},{"type":396,"tag":495,"props":6694,"children":6695},{"style":550},[6696],{"type":402,"value":2748},{"type":396,"tag":495,"props":6698,"children":6699},{"style":556},[6700],{"type":402,"value":559},{"type":396,"tag":495,"props":6702,"children":6703},{"style":508},[6704],{"type":402,"value":6705}," parsePath",{"type":396,"tag":495,"props":6707,"children":6708},{"style":572},[6709],{"type":402,"value":517},{"type":396,"tag":495,"props":6711,"children":6712},{"style":550},[6713],{"type":402,"value":6714},"expOrFn",{"type":396,"tag":495,"props":6716,"children":6717},{"style":572},[6718],{"type":402,"value":538},{"type":396,"tag":495,"props":6720,"children":6721},{"style":514},[6722],{"type":402,"value":587},{"type":396,"tag":495,"props":6724,"children":6725},{"class":497,"line":3361},[6726],{"type":396,"tag":495,"props":6727,"children":6728},{"style":514},[6729],{"type":402,"value":1130},{"type":396,"tag":495,"props":6731,"children":6732},{"class":497,"line":3421},[6733],{"type":396,"tag":495,"props":6734,"children":6735},{"emptyLinePlaceholder":388},[6736],{"type":402,"value":624},{"type":396,"tag":495,"props":6738,"children":6739},{"class":497,"line":3430},[6740,6744,6748,6752,6756,6760,6764,6768,6772,6777,6782,6786,6790,6794,6798],{"type":396,"tag":495,"props":6741,"children":6742},{"style":674},[6743],{"type":402,"value":677},{"type":396,"tag":495,"props":6745,"children":6746},{"style":514},[6747],{"type":402,"value":682},{"type":396,"tag":495,"props":6749,"children":6750},{"style":550},[6751],{"type":402,"value":523},{"type":396,"tag":495,"props":6753,"children":6754},{"style":556},[6755],{"type":402,"value":559},{"type":396,"tag":495,"props":6757,"children":6758},{"style":674},[6759],{"type":402,"value":835},{"type":396,"tag":495,"props":6761,"children":6762},{"style":514},[6763],{"type":402,"value":682},{"type":396,"tag":495,"props":6765,"children":6766},{"style":550},[6767],{"type":402,"value":5992},{"type":396,"tag":495,"props":6769,"children":6770},{"style":556},[6771],{"type":402,"value":3049},{"type":396,"tag":495,"props":6773,"children":6774},{"style":4599},[6775],{"type":402,"value":6776}," undefined",{"type":396,"tag":495,"props":6778,"children":6779},{"style":556},[6780],{"type":402,"value":6781}," :",{"type":396,"tag":495,"props":6783,"children":6784},{"style":674},[6785],{"type":402,"value":835},{"type":396,"tag":495,"props":6787,"children":6788},{"style":514},[6789],{"type":402,"value":682},{"type":396,"tag":495,"props":6791,"children":6792},{"style":508},[6793],{"type":402,"value":2681},{"type":396,"tag":495,"props":6795,"children":6796},{"style":572},[6797],{"type":402,"value":744},{"type":396,"tag":495,"props":6799,"children":6800},{"style":514},[6801],{"type":402,"value":587},{"type":396,"tag":495,"props":6803,"children":6804},{"class":497,"line":3500},[6805],{"type":396,"tag":495,"props":6806,"children":6807},{"style":514},[6808],{"type":402,"value":1139},{"type":396,"tag":495,"props":6810,"children":6811},{"class":497,"line":3513},[6812],{"type":396,"tag":495,"props":6813,"children":6814},{"style":514},[6815],{"type":402,"value":615},{"type":396,"tag":429,"props":6817,"children":6818},{},[6819],{"type":402,"value":6820},"Watcher 是组件级别的，如果状态发生了变化，只能通知到组件。再由组件对比内部的虚拟节点的变化。换句话说，Vue 对响应式状态变化侦测只通知到组件，这意味着只要某个属性变化了，相应的组件都会重渲染。",{"type":396,"tag":6822,"props":6823,"children":6824},"hr",{},[],{"type":396,"tag":397,"props":6826,"children":6828},{"id":6827},"阅读更多",[6829],{"type":402,"value":6827},{"type":396,"tag":404,"props":6831,"children":6832},{},[6833,6843],{"type":396,"tag":408,"props":6834,"children":6835},{},[6836],{"type":396,"tag":459,"props":6837,"children":6840},{"href":6838,"rel":6839},"https://book.douban.com/subject/32581281/",[463],[6841],{"type":402,"value":6842},"《深入浅出 VueJS》",{"type":396,"tag":408,"props":6844,"children":6845},{},[6846],{"type":396,"tag":459,"props":6847,"children":6850},{"href":6848,"rel":6849},"http://hcysun.me/vue-design/zh/",[463],[6851],{"type":402,"value":6852},"江山父老能容我 不使人间造孽钱",{"type":396,"tag":6854,"props":6855,"children":6856},"style",{},[6857],{"type":402,"value":6858},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":389,"searchDepth":546,"depth":546,"links":6860},[6861,6862,6863,6869],{"id":399,"depth":546,"text":399},{"id":425,"depth":546,"text":425},{"id":446,"depth":546,"text":446,"children":6864},[6865,6866,6867,6868],{"id":472,"depth":590,"text":472},{"id":1546,"depth":590,"text":1546},{"id":2355,"depth":590,"text":2355},{"id":3913,"depth":590,"text":3913},{"id":6827,"depth":546,"text":6827},"markdown","content:8.source-code:_js:vue2-source:1.observer.md","content","8.source-code/_js/vue2-source/1.observer.md","8.source-code/_js/vue2-source/1.observer","md",[6877,6880],{"_path":6878,"title":6879,"description":391},"/source-code/_js/vue2-source","Vue2 Source",{"_path":6881,"title":6882,"description":391},"/source-code/_js/vue2-source/parser","Vue2 Parser",1742040380924]