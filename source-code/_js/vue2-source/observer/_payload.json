[{"data":1,"prerenderedAt":6892},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/observer":393,"/source-code/_js/vue2-source/observer-surround":6885},[4,35,86,105,132,138,144,150,387],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"数字化转型","/gists/digital-transformation",{"title":205,"_path":206},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":208,"_path":209},"正则表达式","/gists/eegex",{"title":211,"_path":212},"Emoji","/gists/emoji",{"title":214,"_path":215},"工程","/gists/engineering",{"title":217,"_path":218},"熵","/gists/entropy",{"title":220,"_path":221},"Environment","/gists/environment",{"title":223,"_path":224},"Erlang","/gists/erlang",{"title":226,"_path":227},"逃离塔克夫","/gists/escape-from-tarkov",{"title":229,"_path":230},"ESNext (ES6-ES11)","/gists/esnext",{"title":232,"_path":233},"Eval！","/gists/eval",{"title":235,"_path":236},"Flutter","/gists/flutter",{"title":238,"_path":239},"字体","/gists/font",{"title":241,"_path":242},"JS 函数式编程","/gists/functional",{"title":244,"_path":245},"游戏化","/gists/gamification",{"title":247,"_path":248},"Google C++ Standard","/gists/google-cpp-standard",{"title":250,"_path":251},"双向链接完全体","/gists/graph",{"title":253,"_path":254},"Hardwares","/gists/hardwares",{"title":256,"_path":257},"哈希冲突","/gists/hash-collision",{"title":259,"_path":260},"信息设计","/gists/information-design",{"title":262,"_path":263},"InstantPage","/gists/instant.page",{"title":265,"_path":266},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":268,"_path":269},"KVStore","/gists/key-value-db",{"title":271,"_path":272},"Kubernetes","/gists/kubernetes",{"title":274,"_path":275},"Makefile","/gists/makefile",{"title":277,"_path":278},"Markdown Inline Style","/gists/markdown-nice",{"title":280,"_path":281},"小程序","/gists/miniapp",{"title":283,"_path":284},"减小页面快照体积","/gists/minify-html",{"title":286,"_path":287},"mklink","/gists/mklink",{"title":289,"_path":290},"Mock","/gists/mock",{"title":292,"_path":293},"多人协作系统","/gists/multiplayer",{"title":295,"_path":296},"多端应用","/gists/multy-end-app",{"title":298,"_path":299},"神经科学","/gists/neuroscience",{"title":301,"_path":302},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":304,"_path":305},"PInvoke","/gists/pinvoke",{"title":307,"_path":308},"像素","/gists/pixel",{"title":310,"_path":311},"PowerShell","/gists/powershell",{"title":313,"_path":314},"量子","/gists/quantum",{"title":316,"_path":317},"保持好奇心","/gists/questions",{"title":319,"_path":320},"React Native","/gists/react-native",{"title":322,"_path":323},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":325,"_path":326},"SEO","/gists/seo",{"title":328,"_path":329},"Shader","/gists/shader",{"title":331,"_path":332},"Shape Up","/gists/shape-up",{"title":334,"_path":335},"睡觉","/gists/sleep",{"title":337,"_path":338},"记录奇怪的问题","/gists/solved",{"title":340,"_path":341},"States","/gists/states",{"title":343,"_path":344},"Storage","/gists/storage",{"title":346,"_path":347},"音视频流处理","/gists/stream-cli",{"title":349,"_path":350},"Symbol","/gists/symbol",{"title":352,"_path":353},"系统论","/gists/systems-theory",{"title":355,"_path":356},"Taro","/gists/taro",{"title":358,"_path":359},"任务切片","/gists/task-slice",{"title":361,"_path":362},"技术偏好","/gists/tech-dudge",{"title":364,"_path":365},"Untitled","/gists/untitled",{"title":367,"_path":368},"可变字体","/gists/variable-font",{"title":370,"_path":371},"视觉错觉","/gists/visual-illusion",{"title":373,"_path":374},"SS(SSR)","/gists/vpn",{"title":376,"_path":377},"VS Code 插件开发","/gists/vscode-plugin",{"title":379,"_path":380},"Web Components","/gists/web-components",{"title":382,"_path":383},"Windows","/gists/windows",{"title":385,"_path":386},"查缺补漏","/gists/wrong",{"title":388,"_path":389,"children":390},"我 / About","/hire",[391],{"title":392,"_path":389},"📬 技术简历",{"_path":394,"_dir":395,"_draft":396,"_partial":397,"_locale":398,"title":399,"description":400,"body":401,"_type":6879,"_id":6880,"_source":6881,"_file":6882,"_stem":6883,"_extension":6884},"/source-code/_js/vue2-source/observer","vue2-source",false,true,"","Vue2 Observer","deprecated warning",{"type":402,"children":403,"toc":6868},"root",[404,412,432,437,443,453,458,478,484,489,494,1553,1558,1563,2362,2367,2372,3920,3925,3930,3935,3940,4536,4541,4549,4554,4844,4849,4854,5439,5444,5638,5643,6825,6830,6834,6839,6862],{"type":405,"tag":406,"props":407,"children":409},"element","h2",{"id":408},"读源码前",[410],{"type":411,"value":408},"text",{"type":405,"tag":413,"props":414,"children":415},"ul",{},[416,422,427],{"type":405,"tag":417,"props":418,"children":419},"li",{},[420],{"type":411,"value":421},"从 GitHub 克隆一份 vue@2 在 dev 上的分支",{"type":405,"tag":417,"props":423,"children":424},{},[425],{"type":411,"value":426},"使用 flow-remove-types 将 src 目录下的 flow 文件转换为普通的 JS",{"type":405,"tag":417,"props":428,"children":429},{},[430],{"type":411,"value":431},"使用 PowerShell 的 tree 指令输出 src 目录的树形结构，以理解源码结构",{"type":405,"tag":406,"props":433,"children":435},{"id":434},"目录结构",[436],{"type":411,"value":434},{"type":405,"tag":438,"props":439,"children":440},"p",{},[441],{"type":411,"value":442},"可以大致根据目录将源码拆分为几个部分：",{"type":405,"tag":444,"props":445,"children":447},"pre",{"code":446},"├─compiler // 模板编译相关\n│  ├─codegen  // 代码生成器\n│  ├─directives // 指令解析器\n│  └─parser // 模板解析器\n├─core  // 核心代码\n│  ├─components // component 相关 API\n│  ├─global-api // 全局 API\n│  ├─instance\n│  │  └─render-helpers\n│  ├─observer // 响应式属性\n│  ├─util // 工具函数\n│  └─vdom // 虚拟节点\n│      ├─helpers\n│      └─modules\n├─platforms // 平台相关代码\n├─server  // 服务端渲染相关代码\n│  ├─bundle-renderer\n│  ├─optimizing-compiler\n│  ├─template-renderer\n│  └─webpack-plugin\n├─sfc // SFC 结构解析器\n└─shared  // 工具函数\n",[448],{"type":405,"tag":449,"props":450,"children":451},"code",{"__ignoreMap":398},[452],{"type":411,"value":446},{"type":405,"tag":406,"props":454,"children":456},{"id":455},"变化侦测",[457],{"type":411,"value":455},{"type":405,"tag":459,"props":460,"children":461},"blockquote",{},[462],{"type":405,"tag":438,"props":463,"children":464},{},[465,467,476],{"type":411,"value":466},"去年读变化侦测的时候，借着项目的机会，实现过一个轻量的状态管理：",{"type":405,"tag":468,"props":469,"children":473},"a",{"href":470,"rel":471},"https://github.com/takecloud/state-vex",[472],"nofollow",[474],{"type":411,"value":475},"state-vex",{"type":411,"value":477},"，用到了 VueJS 响应式绑定相关的一些内容。",{"type":405,"tag":479,"props":480,"children":482},"h3",{"id":481},"侦测类",[483],{"type":411,"value":481},{"type":405,"tag":438,"props":485,"children":486},{},[487],{"type":411,"value":488},"Vue 通过 Observer 把对象的所有属性转化为带有能收集依赖并触发依赖更新的 setter/getter。setter/getter 调用时，分别收集依赖、触发依赖更新。Observer 还能遍历数组元素。但是更新依赖的方法放在了数组原型方法中，比如 Array.prototype.splice，用包装器将其增强，就能在调用时同时调用更新依赖的函数。",{"type":405,"tag":438,"props":490,"children":491},{},[492],{"type":411,"value":493},"简而言之，Observer 使对象“可观测”，即“变化侦测”中的“侦测”。通过 observe 函数，我们能命令式地侦测一个对象。",{"type":405,"tag":444,"props":495,"children":499},{"code":496,"language":497,"meta":398,"className":498,"style":398},"function observe(value, asRootData) {\n  ob = new Observer(value);\n  return ob;\n}\n\nclass Observer {\n  constructor(value) {\n    this.value = value;\n    // 初始化依赖容器\n    this.dep = new Dep();\n    this.vmCount = 0;\n    // 将侦测实例实例挂载到对象上方便访问\n    def(value, \"__ob__\", this);\n    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods);\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys);\n      }\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i \u003C keys.length; i++) {\n      defineReactive(obj, keys[i]);\n    }\n  }\n\n  observeArray(items) {\n    for (let i = 0, l = items.length; i \u003C l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[500],{"type":405,"tag":449,"props":501,"children":502},{"__ignoreMap":398},[503,553,597,616,625,634,652,677,709,719,758,789,798,853,862,871,917,944,978,996,1038,1047,1081,1098,1131,1140,1149,1157,1184,1233,1312,1356,1364,1372,1380,1406,1496,1529,1537,1545],{"type":405,"tag":504,"props":505,"children":508},"span",{"class":506,"line":507},"line",1,[509,515,521,527,533,538,543,548],{"type":405,"tag":504,"props":510,"children":512},{"style":511},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[513],{"type":411,"value":514},"function",{"type":405,"tag":504,"props":516,"children":518},{"style":517},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[519],{"type":411,"value":520}," observe",{"type":405,"tag":504,"props":522,"children":524},{"style":523},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[525],{"type":411,"value":526},"(",{"type":405,"tag":504,"props":528,"children":530},{"style":529},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[531],{"type":411,"value":532},"value",{"type":405,"tag":504,"props":534,"children":535},{"style":523},[536],{"type":411,"value":537},",",{"type":405,"tag":504,"props":539,"children":540},{"style":529},[541],{"type":411,"value":542}," asRootData",{"type":405,"tag":504,"props":544,"children":545},{"style":523},[546],{"type":411,"value":547},")",{"type":405,"tag":504,"props":549,"children":550},{"style":523},[551],{"type":411,"value":552}," {\n",{"type":405,"tag":504,"props":554,"children":556},{"class":506,"line":555},2,[557,563,569,574,579,584,588,592],{"type":405,"tag":504,"props":558,"children":560},{"style":559},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[561],{"type":411,"value":562},"  ob",{"type":405,"tag":504,"props":564,"children":566},{"style":565},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[567],{"type":411,"value":568}," =",{"type":405,"tag":504,"props":570,"children":571},{"style":565},[572],{"type":411,"value":573}," new",{"type":405,"tag":504,"props":575,"children":576},{"style":517},[577],{"type":411,"value":578}," Observer",{"type":405,"tag":504,"props":580,"children":582},{"style":581},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[583],{"type":411,"value":526},{"type":405,"tag":504,"props":585,"children":586},{"style":559},[587],{"type":411,"value":532},{"type":405,"tag":504,"props":589,"children":590},{"style":581},[591],{"type":411,"value":547},{"type":405,"tag":504,"props":593,"children":594},{"style":523},[595],{"type":411,"value":596},";\n",{"type":405,"tag":504,"props":598,"children":600},{"class":506,"line":599},3,[601,607,612],{"type":405,"tag":504,"props":602,"children":604},{"style":603},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[605],{"type":411,"value":606},"  return",{"type":405,"tag":504,"props":608,"children":609},{"style":559},[610],{"type":411,"value":611}," ob",{"type":405,"tag":504,"props":613,"children":614},{"style":523},[615],{"type":411,"value":596},{"type":405,"tag":504,"props":617,"children":619},{"class":506,"line":618},4,[620],{"type":405,"tag":504,"props":621,"children":622},{"style":523},[623],{"type":411,"value":624},"}\n",{"type":405,"tag":504,"props":626,"children":628},{"class":506,"line":627},5,[629],{"type":405,"tag":504,"props":630,"children":631},{"emptyLinePlaceholder":397},[632],{"type":411,"value":633},"\n",{"type":405,"tag":504,"props":635,"children":637},{"class":506,"line":636},6,[638,643,648],{"type":405,"tag":504,"props":639,"children":640},{"style":511},[641],{"type":411,"value":642},"class",{"type":405,"tag":504,"props":644,"children":646},{"style":645},"--shiki-light:#E2931D;--shiki-light-text-decoration:inherit;--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline",[647],{"type":411,"value":578},{"type":405,"tag":504,"props":649,"children":650},{"style":523},[651],{"type":411,"value":552},{"type":405,"tag":504,"props":653,"children":655},{"class":506,"line":654},7,[656,661,665,669,673],{"type":405,"tag":504,"props":657,"children":658},{"style":511},[659],{"type":411,"value":660},"  constructor",{"type":405,"tag":504,"props":662,"children":663},{"style":523},[664],{"type":411,"value":526},{"type":405,"tag":504,"props":666,"children":667},{"style":529},[668],{"type":411,"value":532},{"type":405,"tag":504,"props":670,"children":671},{"style":523},[672],{"type":411,"value":547},{"type":405,"tag":504,"props":674,"children":675},{"style":523},[676],{"type":411,"value":552},{"type":405,"tag":504,"props":678,"children":680},{"class":506,"line":679},8,[681,687,692,696,700,705],{"type":405,"tag":504,"props":682,"children":684},{"style":683},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[685],{"type":411,"value":686},"    this",{"type":405,"tag":504,"props":688,"children":689},{"style":523},[690],{"type":411,"value":691},".",{"type":405,"tag":504,"props":693,"children":694},{"style":559},[695],{"type":411,"value":532},{"type":405,"tag":504,"props":697,"children":698},{"style":565},[699],{"type":411,"value":568},{"type":405,"tag":504,"props":701,"children":702},{"style":559},[703],{"type":411,"value":704}," value",{"type":405,"tag":504,"props":706,"children":707},{"style":523},[708],{"type":411,"value":596},{"type":405,"tag":504,"props":710,"children":712},{"class":506,"line":711},9,[713],{"type":405,"tag":504,"props":714,"children":716},{"style":715},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[717],{"type":411,"value":718},"    // 初始化依赖容器\n",{"type":405,"tag":504,"props":720,"children":722},{"class":506,"line":721},10,[723,727,731,736,740,744,749,754],{"type":405,"tag":504,"props":724,"children":725},{"style":683},[726],{"type":411,"value":686},{"type":405,"tag":504,"props":728,"children":729},{"style":523},[730],{"type":411,"value":691},{"type":405,"tag":504,"props":732,"children":733},{"style":559},[734],{"type":411,"value":735},"dep",{"type":405,"tag":504,"props":737,"children":738},{"style":565},[739],{"type":411,"value":568},{"type":405,"tag":504,"props":741,"children":742},{"style":565},[743],{"type":411,"value":573},{"type":405,"tag":504,"props":745,"children":746},{"style":517},[747],{"type":411,"value":748}," Dep",{"type":405,"tag":504,"props":750,"children":751},{"style":581},[752],{"type":411,"value":753},"()",{"type":405,"tag":504,"props":755,"children":756},{"style":523},[757],{"type":411,"value":596},{"type":405,"tag":504,"props":759,"children":761},{"class":506,"line":760},11,[762,766,770,775,779,785],{"type":405,"tag":504,"props":763,"children":764},{"style":683},[765],{"type":411,"value":686},{"type":405,"tag":504,"props":767,"children":768},{"style":523},[769],{"type":411,"value":691},{"type":405,"tag":504,"props":771,"children":772},{"style":559},[773],{"type":411,"value":774},"vmCount",{"type":405,"tag":504,"props":776,"children":777},{"style":565},[778],{"type":411,"value":568},{"type":405,"tag":504,"props":780,"children":782},{"style":781},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[783],{"type":411,"value":784}," 0",{"type":405,"tag":504,"props":786,"children":787},{"style":523},[788],{"type":411,"value":596},{"type":405,"tag":504,"props":790,"children":792},{"class":506,"line":791},12,[793],{"type":405,"tag":504,"props":794,"children":795},{"style":715},[796],{"type":411,"value":797},"    // 将侦测实例实例挂载到对象上方便访问\n",{"type":405,"tag":504,"props":799,"children":801},{"class":506,"line":800},13,[802,807,811,815,819,825,831,836,840,845,849],{"type":405,"tag":504,"props":803,"children":804},{"style":517},[805],{"type":411,"value":806},"    def",{"type":405,"tag":504,"props":808,"children":809},{"style":581},[810],{"type":411,"value":526},{"type":405,"tag":504,"props":812,"children":813},{"style":559},[814],{"type":411,"value":532},{"type":405,"tag":504,"props":816,"children":817},{"style":523},[818],{"type":411,"value":537},{"type":405,"tag":504,"props":820,"children":822},{"style":821},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[823],{"type":411,"value":824}," \"",{"type":405,"tag":504,"props":826,"children":828},{"style":827},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[829],{"type":411,"value":830},"__ob__",{"type":405,"tag":504,"props":832,"children":833},{"style":821},[834],{"type":411,"value":835},"\"",{"type":405,"tag":504,"props":837,"children":838},{"style":523},[839],{"type":411,"value":537},{"type":405,"tag":504,"props":841,"children":842},{"style":683},[843],{"type":411,"value":844}," this",{"type":405,"tag":504,"props":846,"children":847},{"style":581},[848],{"type":411,"value":547},{"type":405,"tag":504,"props":850,"children":851},{"style":523},[852],{"type":411,"value":596},{"type":405,"tag":504,"props":854,"children":856},{"class":506,"line":855},14,[857],{"type":405,"tag":504,"props":858,"children":859},{"style":715},[860],{"type":411,"value":861},"    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n",{"type":405,"tag":504,"props":863,"children":865},{"class":506,"line":864},15,[866],{"type":405,"tag":504,"props":867,"children":868},{"style":715},[869],{"type":411,"value":870},"    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n",{"type":405,"tag":504,"props":872,"children":874},{"class":506,"line":873},16,[875,880,885,890,894,899,903,907,912],{"type":405,"tag":504,"props":876,"children":877},{"style":603},[878],{"type":411,"value":879},"    if",{"type":405,"tag":504,"props":881,"children":882},{"style":581},[883],{"type":411,"value":884}," (",{"type":405,"tag":504,"props":886,"children":887},{"style":559},[888],{"type":411,"value":889},"Array",{"type":405,"tag":504,"props":891,"children":892},{"style":523},[893],{"type":411,"value":691},{"type":405,"tag":504,"props":895,"children":896},{"style":517},[897],{"type":411,"value":898},"isArray",{"type":405,"tag":504,"props":900,"children":901},{"style":581},[902],{"type":411,"value":526},{"type":405,"tag":504,"props":904,"children":905},{"style":559},[906],{"type":411,"value":532},{"type":405,"tag":504,"props":908,"children":909},{"style":581},[910],{"type":411,"value":911},")) ",{"type":405,"tag":504,"props":913,"children":914},{"style":523},[915],{"type":411,"value":916},"{\n",{"type":405,"tag":504,"props":918,"children":920},{"class":506,"line":919},17,[921,926,930,935,940],{"type":405,"tag":504,"props":922,"children":923},{"style":603},[924],{"type":411,"value":925},"      if",{"type":405,"tag":504,"props":927,"children":928},{"style":581},[929],{"type":411,"value":884},{"type":405,"tag":504,"props":931,"children":932},{"style":559},[933],{"type":411,"value":934},"hasProto",{"type":405,"tag":504,"props":936,"children":937},{"style":581},[938],{"type":411,"value":939},") ",{"type":405,"tag":504,"props":941,"children":942},{"style":523},[943],{"type":411,"value":916},{"type":405,"tag":504,"props":945,"children":947},{"class":506,"line":946},18,[948,953,957,961,965,970,974],{"type":405,"tag":504,"props":949,"children":950},{"style":517},[951],{"type":411,"value":952},"        protoAugment",{"type":405,"tag":504,"props":954,"children":955},{"style":581},[956],{"type":411,"value":526},{"type":405,"tag":504,"props":958,"children":959},{"style":559},[960],{"type":411,"value":532},{"type":405,"tag":504,"props":962,"children":963},{"style":523},[964],{"type":411,"value":537},{"type":405,"tag":504,"props":966,"children":967},{"style":559},[968],{"type":411,"value":969}," arrayMethods",{"type":405,"tag":504,"props":971,"children":972},{"style":581},[973],{"type":411,"value":547},{"type":405,"tag":504,"props":975,"children":976},{"style":523},[977],{"type":411,"value":596},{"type":405,"tag":504,"props":979,"children":981},{"class":506,"line":980},19,[982,987,992],{"type":405,"tag":504,"props":983,"children":984},{"style":523},[985],{"type":411,"value":986},"      }",{"type":405,"tag":504,"props":988,"children":989},{"style":603},[990],{"type":411,"value":991}," else",{"type":405,"tag":504,"props":993,"children":994},{"style":523},[995],{"type":411,"value":552},{"type":405,"tag":504,"props":997,"children":999},{"class":506,"line":998},20,[1000,1005,1009,1013,1017,1021,1025,1030,1034],{"type":405,"tag":504,"props":1001,"children":1002},{"style":517},[1003],{"type":411,"value":1004},"        copyAugment",{"type":405,"tag":504,"props":1006,"children":1007},{"style":581},[1008],{"type":411,"value":526},{"type":405,"tag":504,"props":1010,"children":1011},{"style":559},[1012],{"type":411,"value":532},{"type":405,"tag":504,"props":1014,"children":1015},{"style":523},[1016],{"type":411,"value":537},{"type":405,"tag":504,"props":1018,"children":1019},{"style":559},[1020],{"type":411,"value":969},{"type":405,"tag":504,"props":1022,"children":1023},{"style":523},[1024],{"type":411,"value":537},{"type":405,"tag":504,"props":1026,"children":1027},{"style":559},[1028],{"type":411,"value":1029}," arrayKeys",{"type":405,"tag":504,"props":1031,"children":1032},{"style":581},[1033],{"type":411,"value":547},{"type":405,"tag":504,"props":1035,"children":1036},{"style":523},[1037],{"type":411,"value":596},{"type":405,"tag":504,"props":1039,"children":1041},{"class":506,"line":1040},21,[1042],{"type":405,"tag":504,"props":1043,"children":1044},{"style":523},[1045],{"type":411,"value":1046},"      }\n",{"type":405,"tag":504,"props":1048,"children":1050},{"class":506,"line":1049},22,[1051,1056,1060,1065,1069,1073,1077],{"type":405,"tag":504,"props":1052,"children":1053},{"style":683},[1054],{"type":411,"value":1055},"      this",{"type":405,"tag":504,"props":1057,"children":1058},{"style":523},[1059],{"type":411,"value":691},{"type":405,"tag":504,"props":1061,"children":1062},{"style":517},[1063],{"type":411,"value":1064},"observeArray",{"type":405,"tag":504,"props":1066,"children":1067},{"style":581},[1068],{"type":411,"value":526},{"type":405,"tag":504,"props":1070,"children":1071},{"style":559},[1072],{"type":411,"value":532},{"type":405,"tag":504,"props":1074,"children":1075},{"style":581},[1076],{"type":411,"value":547},{"type":405,"tag":504,"props":1078,"children":1079},{"style":523},[1080],{"type":411,"value":596},{"type":405,"tag":504,"props":1082,"children":1084},{"class":506,"line":1083},23,[1085,1090,1094],{"type":405,"tag":504,"props":1086,"children":1087},{"style":523},[1088],{"type":411,"value":1089},"    }",{"type":405,"tag":504,"props":1091,"children":1092},{"style":603},[1093],{"type":411,"value":991},{"type":405,"tag":504,"props":1095,"children":1096},{"style":523},[1097],{"type":411,"value":552},{"type":405,"tag":504,"props":1099,"children":1101},{"class":506,"line":1100},24,[1102,1106,1110,1115,1119,1123,1127],{"type":405,"tag":504,"props":1103,"children":1104},{"style":683},[1105],{"type":411,"value":1055},{"type":405,"tag":504,"props":1107,"children":1108},{"style":523},[1109],{"type":411,"value":691},{"type":405,"tag":504,"props":1111,"children":1112},{"style":517},[1113],{"type":411,"value":1114},"walk",{"type":405,"tag":504,"props":1116,"children":1117},{"style":581},[1118],{"type":411,"value":526},{"type":405,"tag":504,"props":1120,"children":1121},{"style":559},[1122],{"type":411,"value":532},{"type":405,"tag":504,"props":1124,"children":1125},{"style":581},[1126],{"type":411,"value":547},{"type":405,"tag":504,"props":1128,"children":1129},{"style":523},[1130],{"type":411,"value":596},{"type":405,"tag":504,"props":1132,"children":1134},{"class":506,"line":1133},25,[1135],{"type":405,"tag":504,"props":1136,"children":1137},{"style":523},[1138],{"type":411,"value":1139},"    }\n",{"type":405,"tag":504,"props":1141,"children":1143},{"class":506,"line":1142},26,[1144],{"type":405,"tag":504,"props":1145,"children":1146},{"style":523},[1147],{"type":411,"value":1148},"  }\n",{"type":405,"tag":504,"props":1150,"children":1152},{"class":506,"line":1151},27,[1153],{"type":405,"tag":504,"props":1154,"children":1155},{"emptyLinePlaceholder":397},[1156],{"type":411,"value":633},{"type":405,"tag":504,"props":1158,"children":1160},{"class":506,"line":1159},28,[1161,1167,1171,1176,1180],{"type":405,"tag":504,"props":1162,"children":1164},{"style":1163},"--shiki-light:#E53935;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1165],{"type":411,"value":1166},"  walk",{"type":405,"tag":504,"props":1168,"children":1169},{"style":523},[1170],{"type":411,"value":526},{"type":405,"tag":504,"props":1172,"children":1173},{"style":529},[1174],{"type":411,"value":1175},"obj",{"type":405,"tag":504,"props":1177,"children":1178},{"style":523},[1179],{"type":411,"value":547},{"type":405,"tag":504,"props":1181,"children":1182},{"style":523},[1183],{"type":411,"value":552},{"type":405,"tag":504,"props":1185,"children":1187},{"class":506,"line":1186},29,[1188,1193,1199,1203,1208,1212,1217,1221,1225,1229],{"type":405,"tag":504,"props":1189,"children":1190},{"style":511},[1191],{"type":411,"value":1192},"    const",{"type":405,"tag":504,"props":1194,"children":1196},{"style":1195},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1197],{"type":411,"value":1198}," keys",{"type":405,"tag":504,"props":1200,"children":1201},{"style":565},[1202],{"type":411,"value":568},{"type":405,"tag":504,"props":1204,"children":1205},{"style":559},[1206],{"type":411,"value":1207}," Object",{"type":405,"tag":504,"props":1209,"children":1210},{"style":523},[1211],{"type":411,"value":691},{"type":405,"tag":504,"props":1213,"children":1214},{"style":517},[1215],{"type":411,"value":1216},"keys",{"type":405,"tag":504,"props":1218,"children":1219},{"style":581},[1220],{"type":411,"value":526},{"type":405,"tag":504,"props":1222,"children":1223},{"style":559},[1224],{"type":411,"value":1175},{"type":405,"tag":504,"props":1226,"children":1227},{"style":581},[1228],{"type":411,"value":547},{"type":405,"tag":504,"props":1230,"children":1231},{"style":523},[1232],{"type":411,"value":596},{"type":405,"tag":504,"props":1234,"children":1236},{"class":506,"line":1235},30,[1237,1242,1246,1251,1256,1260,1264,1269,1273,1278,1282,1286,1291,1295,1299,1304,1308],{"type":405,"tag":504,"props":1238,"children":1239},{"style":603},[1240],{"type":411,"value":1241},"    for",{"type":405,"tag":504,"props":1243,"children":1244},{"style":581},[1245],{"type":411,"value":884},{"type":405,"tag":504,"props":1247,"children":1248},{"style":511},[1249],{"type":411,"value":1250},"let",{"type":405,"tag":504,"props":1252,"children":1253},{"style":559},[1254],{"type":411,"value":1255}," i",{"type":405,"tag":504,"props":1257,"children":1258},{"style":565},[1259],{"type":411,"value":568},{"type":405,"tag":504,"props":1261,"children":1262},{"style":781},[1263],{"type":411,"value":784},{"type":405,"tag":504,"props":1265,"children":1266},{"style":523},[1267],{"type":411,"value":1268},";",{"type":405,"tag":504,"props":1270,"children":1271},{"style":559},[1272],{"type":411,"value":1255},{"type":405,"tag":504,"props":1274,"children":1275},{"style":565},[1276],{"type":411,"value":1277}," \u003C",{"type":405,"tag":504,"props":1279,"children":1280},{"style":559},[1281],{"type":411,"value":1198},{"type":405,"tag":504,"props":1283,"children":1284},{"style":523},[1285],{"type":411,"value":691},{"type":405,"tag":504,"props":1287,"children":1288},{"style":1195},[1289],{"type":411,"value":1290},"length",{"type":405,"tag":504,"props":1292,"children":1293},{"style":523},[1294],{"type":411,"value":1268},{"type":405,"tag":504,"props":1296,"children":1297},{"style":559},[1298],{"type":411,"value":1255},{"type":405,"tag":504,"props":1300,"children":1301},{"style":565},[1302],{"type":411,"value":1303},"++",{"type":405,"tag":504,"props":1305,"children":1306},{"style":581},[1307],{"type":411,"value":939},{"type":405,"tag":504,"props":1309,"children":1310},{"style":523},[1311],{"type":411,"value":916},{"type":405,"tag":504,"props":1313,"children":1315},{"class":506,"line":1314},31,[1316,1321,1325,1329,1333,1337,1342,1347,1352],{"type":405,"tag":504,"props":1317,"children":1318},{"style":517},[1319],{"type":411,"value":1320},"      defineReactive",{"type":405,"tag":504,"props":1322,"children":1323},{"style":581},[1324],{"type":411,"value":526},{"type":405,"tag":504,"props":1326,"children":1327},{"style":559},[1328],{"type":411,"value":1175},{"type":405,"tag":504,"props":1330,"children":1331},{"style":523},[1332],{"type":411,"value":537},{"type":405,"tag":504,"props":1334,"children":1335},{"style":559},[1336],{"type":411,"value":1198},{"type":405,"tag":504,"props":1338,"children":1339},{"style":581},[1340],{"type":411,"value":1341},"[",{"type":405,"tag":504,"props":1343,"children":1344},{"style":559},[1345],{"type":411,"value":1346},"i",{"type":405,"tag":504,"props":1348,"children":1349},{"style":581},[1350],{"type":411,"value":1351},"])",{"type":405,"tag":504,"props":1353,"children":1354},{"style":523},[1355],{"type":411,"value":596},{"type":405,"tag":504,"props":1357,"children":1359},{"class":506,"line":1358},32,[1360],{"type":405,"tag":504,"props":1361,"children":1362},{"style":523},[1363],{"type":411,"value":1139},{"type":405,"tag":504,"props":1365,"children":1367},{"class":506,"line":1366},33,[1368],{"type":405,"tag":504,"props":1369,"children":1370},{"style":523},[1371],{"type":411,"value":1148},{"type":405,"tag":504,"props":1373,"children":1375},{"class":506,"line":1374},34,[1376],{"type":405,"tag":504,"props":1377,"children":1378},{"emptyLinePlaceholder":397},[1379],{"type":411,"value":633},{"type":405,"tag":504,"props":1381,"children":1383},{"class":506,"line":1382},35,[1384,1389,1393,1398,1402],{"type":405,"tag":504,"props":1385,"children":1386},{"style":1163},[1387],{"type":411,"value":1388},"  observeArray",{"type":405,"tag":504,"props":1390,"children":1391},{"style":523},[1392],{"type":411,"value":526},{"type":405,"tag":504,"props":1394,"children":1395},{"style":529},[1396],{"type":411,"value":1397},"items",{"type":405,"tag":504,"props":1399,"children":1400},{"style":523},[1401],{"type":411,"value":547},{"type":405,"tag":504,"props":1403,"children":1404},{"style":523},[1405],{"type":411,"value":552},{"type":405,"tag":504,"props":1407,"children":1409},{"class":506,"line":1408},36,[1410,1414,1418,1422,1426,1430,1434,1438,1443,1447,1452,1456,1460,1464,1468,1472,1476,1480,1484,1488,1492],{"type":405,"tag":504,"props":1411,"children":1412},{"style":603},[1413],{"type":411,"value":1241},{"type":405,"tag":504,"props":1415,"children":1416},{"style":581},[1417],{"type":411,"value":884},{"type":405,"tag":504,"props":1419,"children":1420},{"style":511},[1421],{"type":411,"value":1250},{"type":405,"tag":504,"props":1423,"children":1424},{"style":559},[1425],{"type":411,"value":1255},{"type":405,"tag":504,"props":1427,"children":1428},{"style":565},[1429],{"type":411,"value":568},{"type":405,"tag":504,"props":1431,"children":1432},{"style":781},[1433],{"type":411,"value":784},{"type":405,"tag":504,"props":1435,"children":1436},{"style":523},[1437],{"type":411,"value":537},{"type":405,"tag":504,"props":1439,"children":1440},{"style":559},[1441],{"type":411,"value":1442}," l",{"type":405,"tag":504,"props":1444,"children":1445},{"style":565},[1446],{"type":411,"value":568},{"type":405,"tag":504,"props":1448,"children":1449},{"style":559},[1450],{"type":411,"value":1451}," items",{"type":405,"tag":504,"props":1453,"children":1454},{"style":523},[1455],{"type":411,"value":691},{"type":405,"tag":504,"props":1457,"children":1458},{"style":1195},[1459],{"type":411,"value":1290},{"type":405,"tag":504,"props":1461,"children":1462},{"style":523},[1463],{"type":411,"value":1268},{"type":405,"tag":504,"props":1465,"children":1466},{"style":559},[1467],{"type":411,"value":1255},{"type":405,"tag":504,"props":1469,"children":1470},{"style":565},[1471],{"type":411,"value":1277},{"type":405,"tag":504,"props":1473,"children":1474},{"style":559},[1475],{"type":411,"value":1442},{"type":405,"tag":504,"props":1477,"children":1478},{"style":523},[1479],{"type":411,"value":1268},{"type":405,"tag":504,"props":1481,"children":1482},{"style":559},[1483],{"type":411,"value":1255},{"type":405,"tag":504,"props":1485,"children":1486},{"style":565},[1487],{"type":411,"value":1303},{"type":405,"tag":504,"props":1489,"children":1490},{"style":581},[1491],{"type":411,"value":939},{"type":405,"tag":504,"props":1493,"children":1494},{"style":523},[1495],{"type":411,"value":916},{"type":405,"tag":504,"props":1497,"children":1499},{"class":506,"line":1498},37,[1500,1505,1509,1513,1517,1521,1525],{"type":405,"tag":504,"props":1501,"children":1502},{"style":517},[1503],{"type":411,"value":1504},"      observe",{"type":405,"tag":504,"props":1506,"children":1507},{"style":581},[1508],{"type":411,"value":526},{"type":405,"tag":504,"props":1510,"children":1511},{"style":559},[1512],{"type":411,"value":1397},{"type":405,"tag":504,"props":1514,"children":1515},{"style":581},[1516],{"type":411,"value":1341},{"type":405,"tag":504,"props":1518,"children":1519},{"style":559},[1520],{"type":411,"value":1346},{"type":405,"tag":504,"props":1522,"children":1523},{"style":581},[1524],{"type":411,"value":1351},{"type":405,"tag":504,"props":1526,"children":1527},{"style":523},[1528],{"type":411,"value":596},{"type":405,"tag":504,"props":1530,"children":1532},{"class":506,"line":1531},38,[1533],{"type":405,"tag":504,"props":1534,"children":1535},{"style":523},[1536],{"type":411,"value":1139},{"type":405,"tag":504,"props":1538,"children":1540},{"class":506,"line":1539},39,[1541],{"type":405,"tag":504,"props":1542,"children":1543},{"style":523},[1544],{"type":411,"value":1148},{"type":405,"tag":504,"props":1546,"children":1548},{"class":506,"line":1547},40,[1549],{"type":405,"tag":504,"props":1550,"children":1551},{"style":523},[1552],{"type":411,"value":624},{"type":405,"tag":479,"props":1554,"children":1556},{"id":1555},"监测数组变化",[1557],{"type":411,"value":1555},{"type":405,"tag":438,"props":1559,"children":1560},{},[1561],{"type":411,"value":1562},"因为数组没有 setter/getter，所以使用数组时，没有办法做响应式更新。Vue 以猴子补丁的形式增强了数组元素的原型方法，使得这些方法被调用时，自动更新依赖。",{"type":405,"tag":444,"props":1564,"children":1566},{"code":1565,"language":497,"meta":398,"className":498,"style":398},"// 需要增强的方法\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n    const result = original.apply(this, args);\n    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n    const ob = this.__ob__;\n    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // 通知依赖更新\n    ob.dep.notify();\n    return result;\n  });\n});\n",[1567],{"type":405,"tag":449,"props":1568,"children":1569},{"__ignoreMap":398},[1570,1578,1600,1622,1642,1662,1682,1702,1722,1742,1754,1761,1803,1811,1849,1911,1919,1974,1982,2013,2021,2038,2062,2087,2110,2130,2142,2165,2206,2217,2224,2273,2281,2314,2330,2346],{"type":405,"tag":504,"props":1571,"children":1572},{"class":506,"line":507},[1573],{"type":405,"tag":504,"props":1574,"children":1575},{"style":715},[1576],{"type":411,"value":1577},"// 需要增强的方法\n",{"type":405,"tag":504,"props":1579,"children":1580},{"class":506,"line":555},[1581,1586,1591,1595],{"type":405,"tag":504,"props":1582,"children":1583},{"style":511},[1584],{"type":411,"value":1585},"const",{"type":405,"tag":504,"props":1587,"children":1588},{"style":1195},[1589],{"type":411,"value":1590}," methodsToPatch",{"type":405,"tag":504,"props":1592,"children":1593},{"style":565},[1594],{"type":411,"value":568},{"type":405,"tag":504,"props":1596,"children":1597},{"style":559},[1598],{"type":411,"value":1599}," [\n",{"type":405,"tag":504,"props":1601,"children":1602},{"class":506,"line":599},[1603,1608,1613,1617],{"type":405,"tag":504,"props":1604,"children":1605},{"style":821},[1606],{"type":411,"value":1607},"  \"",{"type":405,"tag":504,"props":1609,"children":1610},{"style":827},[1611],{"type":411,"value":1612},"push",{"type":405,"tag":504,"props":1614,"children":1615},{"style":821},[1616],{"type":411,"value":835},{"type":405,"tag":504,"props":1618,"children":1619},{"style":523},[1620],{"type":411,"value":1621},",\n",{"type":405,"tag":504,"props":1623,"children":1624},{"class":506,"line":618},[1625,1629,1634,1638],{"type":405,"tag":504,"props":1626,"children":1627},{"style":821},[1628],{"type":411,"value":1607},{"type":405,"tag":504,"props":1630,"children":1631},{"style":827},[1632],{"type":411,"value":1633},"pop",{"type":405,"tag":504,"props":1635,"children":1636},{"style":821},[1637],{"type":411,"value":835},{"type":405,"tag":504,"props":1639,"children":1640},{"style":523},[1641],{"type":411,"value":1621},{"type":405,"tag":504,"props":1643,"children":1644},{"class":506,"line":627},[1645,1649,1654,1658],{"type":405,"tag":504,"props":1646,"children":1647},{"style":821},[1648],{"type":411,"value":1607},{"type":405,"tag":504,"props":1650,"children":1651},{"style":827},[1652],{"type":411,"value":1653},"shift",{"type":405,"tag":504,"props":1655,"children":1656},{"style":821},[1657],{"type":411,"value":835},{"type":405,"tag":504,"props":1659,"children":1660},{"style":523},[1661],{"type":411,"value":1621},{"type":405,"tag":504,"props":1663,"children":1664},{"class":506,"line":636},[1665,1669,1674,1678],{"type":405,"tag":504,"props":1666,"children":1667},{"style":821},[1668],{"type":411,"value":1607},{"type":405,"tag":504,"props":1670,"children":1671},{"style":827},[1672],{"type":411,"value":1673},"unshift",{"type":405,"tag":504,"props":1675,"children":1676},{"style":821},[1677],{"type":411,"value":835},{"type":405,"tag":504,"props":1679,"children":1680},{"style":523},[1681],{"type":411,"value":1621},{"type":405,"tag":504,"props":1683,"children":1684},{"class":506,"line":654},[1685,1689,1694,1698],{"type":405,"tag":504,"props":1686,"children":1687},{"style":821},[1688],{"type":411,"value":1607},{"type":405,"tag":504,"props":1690,"children":1691},{"style":827},[1692],{"type":411,"value":1693},"splice",{"type":405,"tag":504,"props":1695,"children":1696},{"style":821},[1697],{"type":411,"value":835},{"type":405,"tag":504,"props":1699,"children":1700},{"style":523},[1701],{"type":411,"value":1621},{"type":405,"tag":504,"props":1703,"children":1704},{"class":506,"line":679},[1705,1709,1714,1718],{"type":405,"tag":504,"props":1706,"children":1707},{"style":821},[1708],{"type":411,"value":1607},{"type":405,"tag":504,"props":1710,"children":1711},{"style":827},[1712],{"type":411,"value":1713},"sort",{"type":405,"tag":504,"props":1715,"children":1716},{"style":821},[1717],{"type":411,"value":835},{"type":405,"tag":504,"props":1719,"children":1720},{"style":523},[1721],{"type":411,"value":1621},{"type":405,"tag":504,"props":1723,"children":1724},{"class":506,"line":711},[1725,1729,1734,1738],{"type":405,"tag":504,"props":1726,"children":1727},{"style":821},[1728],{"type":411,"value":1607},{"type":405,"tag":504,"props":1730,"children":1731},{"style":827},[1732],{"type":411,"value":1733},"reverse",{"type":405,"tag":504,"props":1735,"children":1736},{"style":821},[1737],{"type":411,"value":835},{"type":405,"tag":504,"props":1739,"children":1740},{"style":523},[1741],{"type":411,"value":1621},{"type":405,"tag":504,"props":1743,"children":1744},{"class":506,"line":721},[1745,1750],{"type":405,"tag":504,"props":1746,"children":1747},{"style":559},[1748],{"type":411,"value":1749},"]",{"type":405,"tag":504,"props":1751,"children":1752},{"style":523},[1753],{"type":411,"value":596},{"type":405,"tag":504,"props":1755,"children":1756},{"class":506,"line":760},[1757],{"type":405,"tag":504,"props":1758,"children":1759},{"emptyLinePlaceholder":397},[1760],{"type":411,"value":633},{"type":405,"tag":504,"props":1762,"children":1763},{"class":506,"line":791},[1764,1769,1773,1778,1782,1786,1790,1795,1799],{"type":405,"tag":504,"props":1765,"children":1766},{"style":559},[1767],{"type":411,"value":1768},"methodsToPatch",{"type":405,"tag":504,"props":1770,"children":1771},{"style":523},[1772],{"type":411,"value":691},{"type":405,"tag":504,"props":1774,"children":1775},{"style":517},[1776],{"type":411,"value":1777},"forEach",{"type":405,"tag":504,"props":1779,"children":1780},{"style":559},[1781],{"type":411,"value":526},{"type":405,"tag":504,"props":1783,"children":1784},{"style":511},[1785],{"type":411,"value":514},{"type":405,"tag":504,"props":1787,"children":1788},{"style":523},[1789],{"type":411,"value":884},{"type":405,"tag":504,"props":1791,"children":1792},{"style":529},[1793],{"type":411,"value":1794},"method",{"type":405,"tag":504,"props":1796,"children":1797},{"style":523},[1798],{"type":411,"value":547},{"type":405,"tag":504,"props":1800,"children":1801},{"style":523},[1802],{"type":411,"value":552},{"type":405,"tag":504,"props":1804,"children":1805},{"class":506,"line":800},[1806],{"type":405,"tag":504,"props":1807,"children":1808},{"style":715},[1809],{"type":411,"value":1810},"  // cache original method\n",{"type":405,"tag":504,"props":1812,"children":1813},{"class":506,"line":855},[1814,1819,1824,1828,1833,1837,1841,1845],{"type":405,"tag":504,"props":1815,"children":1816},{"style":511},[1817],{"type":411,"value":1818},"  const",{"type":405,"tag":504,"props":1820,"children":1821},{"style":1195},[1822],{"type":411,"value":1823}," original",{"type":405,"tag":504,"props":1825,"children":1826},{"style":565},[1827],{"type":411,"value":568},{"type":405,"tag":504,"props":1829,"children":1830},{"style":559},[1831],{"type":411,"value":1832}," arrayProto",{"type":405,"tag":504,"props":1834,"children":1835},{"style":581},[1836],{"type":411,"value":1341},{"type":405,"tag":504,"props":1838,"children":1839},{"style":559},[1840],{"type":411,"value":1794},{"type":405,"tag":504,"props":1842,"children":1843},{"style":581},[1844],{"type":411,"value":1749},{"type":405,"tag":504,"props":1846,"children":1847},{"style":523},[1848],{"type":411,"value":596},{"type":405,"tag":504,"props":1850,"children":1851},{"class":506,"line":864},[1852,1857,1861,1866,1870,1875,1879,1884,1889,1893,1898,1903,1907],{"type":405,"tag":504,"props":1853,"children":1854},{"style":517},[1855],{"type":411,"value":1856},"  def",{"type":405,"tag":504,"props":1858,"children":1859},{"style":581},[1860],{"type":411,"value":526},{"type":405,"tag":504,"props":1862,"children":1863},{"style":559},[1864],{"type":411,"value":1865},"arrayMethods",{"type":405,"tag":504,"props":1867,"children":1868},{"style":523},[1869],{"type":411,"value":537},{"type":405,"tag":504,"props":1871,"children":1872},{"style":559},[1873],{"type":411,"value":1874}," method",{"type":405,"tag":504,"props":1876,"children":1877},{"style":523},[1878],{"type":411,"value":537},{"type":405,"tag":504,"props":1880,"children":1881},{"style":511},[1882],{"type":411,"value":1883}," function",{"type":405,"tag":504,"props":1885,"children":1886},{"style":517},[1887],{"type":411,"value":1888}," mutator",{"type":405,"tag":504,"props":1890,"children":1891},{"style":523},[1892],{"type":411,"value":526},{"type":405,"tag":504,"props":1894,"children":1895},{"style":565},[1896],{"type":411,"value":1897},"...",{"type":405,"tag":504,"props":1899,"children":1900},{"style":529},[1901],{"type":411,"value":1902},"args",{"type":405,"tag":504,"props":1904,"children":1905},{"style":523},[1906],{"type":411,"value":547},{"type":405,"tag":504,"props":1908,"children":1909},{"style":523},[1910],{"type":411,"value":552},{"type":405,"tag":504,"props":1912,"children":1913},{"class":506,"line":873},[1914],{"type":405,"tag":504,"props":1915,"children":1916},{"style":715},[1917],{"type":411,"value":1918},"    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n",{"type":405,"tag":504,"props":1920,"children":1921},{"class":506,"line":919},[1922,1926,1931,1935,1939,1943,1948,1952,1957,1961,1966,1970],{"type":405,"tag":504,"props":1923,"children":1924},{"style":511},[1925],{"type":411,"value":1192},{"type":405,"tag":504,"props":1927,"children":1928},{"style":1195},[1929],{"type":411,"value":1930}," result",{"type":405,"tag":504,"props":1932,"children":1933},{"style":565},[1934],{"type":411,"value":568},{"type":405,"tag":504,"props":1936,"children":1937},{"style":559},[1938],{"type":411,"value":1823},{"type":405,"tag":504,"props":1940,"children":1941},{"style":523},[1942],{"type":411,"value":691},{"type":405,"tag":504,"props":1944,"children":1945},{"style":517},[1946],{"type":411,"value":1947},"apply",{"type":405,"tag":504,"props":1949,"children":1950},{"style":581},[1951],{"type":411,"value":526},{"type":405,"tag":504,"props":1953,"children":1954},{"style":683},[1955],{"type":411,"value":1956},"this",{"type":405,"tag":504,"props":1958,"children":1959},{"style":523},[1960],{"type":411,"value":537},{"type":405,"tag":504,"props":1962,"children":1963},{"style":559},[1964],{"type":411,"value":1965}," args",{"type":405,"tag":504,"props":1967,"children":1968},{"style":581},[1969],{"type":411,"value":547},{"type":405,"tag":504,"props":1971,"children":1972},{"style":523},[1973],{"type":411,"value":596},{"type":405,"tag":504,"props":1975,"children":1976},{"class":506,"line":946},[1977],{"type":405,"tag":504,"props":1978,"children":1979},{"style":715},[1980],{"type":411,"value":1981},"    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n",{"type":405,"tag":504,"props":1983,"children":1984},{"class":506,"line":980},[1985,1989,1993,1997,2001,2005,2009],{"type":405,"tag":504,"props":1986,"children":1987},{"style":511},[1988],{"type":411,"value":1192},{"type":405,"tag":504,"props":1990,"children":1991},{"style":1195},[1992],{"type":411,"value":611},{"type":405,"tag":504,"props":1994,"children":1995},{"style":565},[1996],{"type":411,"value":568},{"type":405,"tag":504,"props":1998,"children":1999},{"style":683},[2000],{"type":411,"value":844},{"type":405,"tag":504,"props":2002,"children":2003},{"style":523},[2004],{"type":411,"value":691},{"type":405,"tag":504,"props":2006,"children":2007},{"style":559},[2008],{"type":411,"value":830},{"type":405,"tag":504,"props":2010,"children":2011},{"style":523},[2012],{"type":411,"value":596},{"type":405,"tag":504,"props":2014,"children":2015},{"class":506,"line":998},[2016],{"type":405,"tag":504,"props":2017,"children":2018},{"style":715},[2019],{"type":411,"value":2020},"    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n",{"type":405,"tag":504,"props":2022,"children":2023},{"class":506,"line":1040},[2024,2029,2034],{"type":405,"tag":504,"props":2025,"children":2026},{"style":511},[2027],{"type":411,"value":2028},"    let",{"type":405,"tag":504,"props":2030,"children":2031},{"style":559},[2032],{"type":411,"value":2033}," inserted",{"type":405,"tag":504,"props":2035,"children":2036},{"style":523},[2037],{"type":411,"value":596},{"type":405,"tag":504,"props":2039,"children":2040},{"class":506,"line":1049},[2041,2046,2050,2054,2058],{"type":405,"tag":504,"props":2042,"children":2043},{"style":603},[2044],{"type":411,"value":2045},"    switch",{"type":405,"tag":504,"props":2047,"children":2048},{"style":581},[2049],{"type":411,"value":884},{"type":405,"tag":504,"props":2051,"children":2052},{"style":559},[2053],{"type":411,"value":1794},{"type":405,"tag":504,"props":2055,"children":2056},{"style":581},[2057],{"type":411,"value":939},{"type":405,"tag":504,"props":2059,"children":2060},{"style":523},[2061],{"type":411,"value":916},{"type":405,"tag":504,"props":2063,"children":2064},{"class":506,"line":1083},[2065,2070,2074,2078,2082],{"type":405,"tag":504,"props":2066,"children":2067},{"style":603},[2068],{"type":411,"value":2069},"      case",{"type":405,"tag":504,"props":2071,"children":2072},{"style":821},[2073],{"type":411,"value":824},{"type":405,"tag":504,"props":2075,"children":2076},{"style":827},[2077],{"type":411,"value":1612},{"type":405,"tag":504,"props":2079,"children":2080},{"style":821},[2081],{"type":411,"value":835},{"type":405,"tag":504,"props":2083,"children":2084},{"style":523},[2085],{"type":411,"value":2086},":\n",{"type":405,"tag":504,"props":2088,"children":2089},{"class":506,"line":1100},[2090,2094,2098,2102,2106],{"type":405,"tag":504,"props":2091,"children":2092},{"style":603},[2093],{"type":411,"value":2069},{"type":405,"tag":504,"props":2095,"children":2096},{"style":821},[2097],{"type":411,"value":824},{"type":405,"tag":504,"props":2099,"children":2100},{"style":827},[2101],{"type":411,"value":1673},{"type":405,"tag":504,"props":2103,"children":2104},{"style":821},[2105],{"type":411,"value":835},{"type":405,"tag":504,"props":2107,"children":2108},{"style":523},[2109],{"type":411,"value":2086},{"type":405,"tag":504,"props":2111,"children":2112},{"class":506,"line":1133},[2113,2118,2122,2126],{"type":405,"tag":504,"props":2114,"children":2115},{"style":559},[2116],{"type":411,"value":2117},"        inserted",{"type":405,"tag":504,"props":2119,"children":2120},{"style":565},[2121],{"type":411,"value":568},{"type":405,"tag":504,"props":2123,"children":2124},{"style":559},[2125],{"type":411,"value":1965},{"type":405,"tag":504,"props":2127,"children":2128},{"style":523},[2129],{"type":411,"value":596},{"type":405,"tag":504,"props":2131,"children":2132},{"class":506,"line":1142},[2133,2138],{"type":405,"tag":504,"props":2134,"children":2135},{"style":603},[2136],{"type":411,"value":2137},"        break",{"type":405,"tag":504,"props":2139,"children":2140},{"style":523},[2141],{"type":411,"value":596},{"type":405,"tag":504,"props":2143,"children":2144},{"class":506,"line":1151},[2145,2149,2153,2157,2161],{"type":405,"tag":504,"props":2146,"children":2147},{"style":603},[2148],{"type":411,"value":2069},{"type":405,"tag":504,"props":2150,"children":2151},{"style":821},[2152],{"type":411,"value":824},{"type":405,"tag":504,"props":2154,"children":2155},{"style":827},[2156],{"type":411,"value":1693},{"type":405,"tag":504,"props":2158,"children":2159},{"style":821},[2160],{"type":411,"value":835},{"type":405,"tag":504,"props":2162,"children":2163},{"style":523},[2164],{"type":411,"value":2086},{"type":405,"tag":504,"props":2166,"children":2167},{"class":506,"line":1159},[2168,2172,2176,2180,2184,2189,2193,2198,2202],{"type":405,"tag":504,"props":2169,"children":2170},{"style":559},[2171],{"type":411,"value":2117},{"type":405,"tag":504,"props":2173,"children":2174},{"style":565},[2175],{"type":411,"value":568},{"type":405,"tag":504,"props":2177,"children":2178},{"style":559},[2179],{"type":411,"value":1965},{"type":405,"tag":504,"props":2181,"children":2182},{"style":523},[2183],{"type":411,"value":691},{"type":405,"tag":504,"props":2185,"children":2186},{"style":517},[2187],{"type":411,"value":2188},"slice",{"type":405,"tag":504,"props":2190,"children":2191},{"style":581},[2192],{"type":411,"value":526},{"type":405,"tag":504,"props":2194,"children":2195},{"style":781},[2196],{"type":411,"value":2197},"2",{"type":405,"tag":504,"props":2199,"children":2200},{"style":581},[2201],{"type":411,"value":547},{"type":405,"tag":504,"props":2203,"children":2204},{"style":523},[2205],{"type":411,"value":596},{"type":405,"tag":504,"props":2207,"children":2208},{"class":506,"line":1186},[2209,2213],{"type":405,"tag":504,"props":2210,"children":2211},{"style":603},[2212],{"type":411,"value":2137},{"type":405,"tag":504,"props":2214,"children":2215},{"style":523},[2216],{"type":411,"value":596},{"type":405,"tag":504,"props":2218,"children":2219},{"class":506,"line":1235},[2220],{"type":405,"tag":504,"props":2221,"children":2222},{"style":523},[2223],{"type":411,"value":1139},{"type":405,"tag":504,"props":2225,"children":2226},{"class":506,"line":1314},[2227,2231,2235,2240,2244,2249,2253,2257,2261,2265,2269],{"type":405,"tag":504,"props":2228,"children":2229},{"style":603},[2230],{"type":411,"value":879},{"type":405,"tag":504,"props":2232,"children":2233},{"style":581},[2234],{"type":411,"value":884},{"type":405,"tag":504,"props":2236,"children":2237},{"style":559},[2238],{"type":411,"value":2239},"inserted",{"type":405,"tag":504,"props":2241,"children":2242},{"style":581},[2243],{"type":411,"value":939},{"type":405,"tag":504,"props":2245,"children":2246},{"style":559},[2247],{"type":411,"value":2248},"ob",{"type":405,"tag":504,"props":2250,"children":2251},{"style":523},[2252],{"type":411,"value":691},{"type":405,"tag":504,"props":2254,"children":2255},{"style":517},[2256],{"type":411,"value":1064},{"type":405,"tag":504,"props":2258,"children":2259},{"style":581},[2260],{"type":411,"value":526},{"type":405,"tag":504,"props":2262,"children":2263},{"style":559},[2264],{"type":411,"value":2239},{"type":405,"tag":504,"props":2266,"children":2267},{"style":581},[2268],{"type":411,"value":547},{"type":405,"tag":504,"props":2270,"children":2271},{"style":523},[2272],{"type":411,"value":596},{"type":405,"tag":504,"props":2274,"children":2275},{"class":506,"line":1358},[2276],{"type":405,"tag":504,"props":2277,"children":2278},{"style":715},[2279],{"type":411,"value":2280},"    // 通知依赖更新\n",{"type":405,"tag":504,"props":2282,"children":2283},{"class":506,"line":1366},[2284,2289,2293,2297,2301,2306,2310],{"type":405,"tag":504,"props":2285,"children":2286},{"style":559},[2287],{"type":411,"value":2288},"    ob",{"type":405,"tag":504,"props":2290,"children":2291},{"style":523},[2292],{"type":411,"value":691},{"type":405,"tag":504,"props":2294,"children":2295},{"style":559},[2296],{"type":411,"value":735},{"type":405,"tag":504,"props":2298,"children":2299},{"style":523},[2300],{"type":411,"value":691},{"type":405,"tag":504,"props":2302,"children":2303},{"style":517},[2304],{"type":411,"value":2305},"notify",{"type":405,"tag":504,"props":2307,"children":2308},{"style":581},[2309],{"type":411,"value":753},{"type":405,"tag":504,"props":2311,"children":2312},{"style":523},[2313],{"type":411,"value":596},{"type":405,"tag":504,"props":2315,"children":2316},{"class":506,"line":1374},[2317,2322,2326],{"type":405,"tag":504,"props":2318,"children":2319},{"style":603},[2320],{"type":411,"value":2321},"    return",{"type":405,"tag":504,"props":2323,"children":2324},{"style":559},[2325],{"type":411,"value":1930},{"type":405,"tag":504,"props":2327,"children":2328},{"style":523},[2329],{"type":411,"value":596},{"type":405,"tag":504,"props":2331,"children":2332},{"class":506,"line":1382},[2333,2338,2342],{"type":405,"tag":504,"props":2334,"children":2335},{"style":523},[2336],{"type":411,"value":2337},"  }",{"type":405,"tag":504,"props":2339,"children":2340},{"style":581},[2341],{"type":411,"value":547},{"type":405,"tag":504,"props":2343,"children":2344},{"style":523},[2345],{"type":411,"value":596},{"type":405,"tag":504,"props":2347,"children":2348},{"class":506,"line":1408},[2349,2354,2358],{"type":405,"tag":504,"props":2350,"children":2351},{"style":523},[2352],{"type":411,"value":2353},"}",{"type":405,"tag":504,"props":2355,"children":2356},{"style":559},[2357],{"type":411,"value":547},{"type":405,"tag":504,"props":2359,"children":2360},{"style":523},[2361],{"type":411,"value":596},{"type":405,"tag":479,"props":2363,"children":2365},{"id":2364},"响应式属性",[2366],{"type":411,"value":2364},{"type":405,"tag":438,"props":2368,"children":2369},{},[2370],{"type":411,"value":2371},"设置响应式属性对应源码中的 definedProperty 这个函数，同时，还提供了 set、del 方法，分别用来给一个对象新增、删除属性及响应式属性。",{"type":405,"tag":444,"props":2373,"children":2375},{"code":2374,"language":497,"meta":398,"className":498,"style":398},"function defineReactive(obj, key, val, customSetter, shallow) {\n  // 每个属性都保持了一个依赖容器，\n  // 所有依赖都会存放在这个依赖容器实例中\n  const dep = new Dep();\n\n  // 不给属性描述符不可变的对象设置 setter/getter\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  // 保存属性原有的 setter/getter，不做破坏\n  // cater for pre-defined getter/setters\n  const getter = property && property.get;\n  const setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  // 侦测值的变化\n  let childOb = !shallow && observe(val);\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      const value = getter ? getter.call(obj) : val;\n      // 收集依赖\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      const value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return;\n      }\n      // 非生产环境：自定义 setter 副作用\n      if (process.env.NODE_ENV !== \"production\" && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return;\n      // 使用原有的 setter 更新值或直接更新值\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      // 侦测子对象的变化\n      childOb = !shallow && observe(newVal);\n      // 通知依赖更新\n      dep.notify();\n    },\n  });\n}\n",[2376],{"type":405,"tag":449,"props":2377,"children":2378},{"__ignoreMap":398},[2379,2443,2451,2459,2491,2498,2506,2559,2613,2624,2631,2638,2646,2654,2695,2736,2807,2841,2848,2855,2863,2915,2922,2963,2985,3005,3034,3096,3104,3137,3162,3187,3219,3259,3283,3291,3299,3306,3322,3330,3368,3428,3437,3507,3520,3528,3537,3605,3622,3630,3639,3681,3690,3714,3755,3771,3792,3800,3809,3854,3863,3888,3896,3912],{"type":405,"tag":504,"props":2380,"children":2381},{"class":506,"line":507},[2382,2386,2391,2395,2399,2403,2408,2412,2417,2421,2426,2430,2435,2439],{"type":405,"tag":504,"props":2383,"children":2384},{"style":511},[2385],{"type":411,"value":514},{"type":405,"tag":504,"props":2387,"children":2388},{"style":517},[2389],{"type":411,"value":2390}," defineReactive",{"type":405,"tag":504,"props":2392,"children":2393},{"style":523},[2394],{"type":411,"value":526},{"type":405,"tag":504,"props":2396,"children":2397},{"style":529},[2398],{"type":411,"value":1175},{"type":405,"tag":504,"props":2400,"children":2401},{"style":523},[2402],{"type":411,"value":537},{"type":405,"tag":504,"props":2404,"children":2405},{"style":529},[2406],{"type":411,"value":2407}," key",{"type":405,"tag":504,"props":2409,"children":2410},{"style":523},[2411],{"type":411,"value":537},{"type":405,"tag":504,"props":2413,"children":2414},{"style":529},[2415],{"type":411,"value":2416}," val",{"type":405,"tag":504,"props":2418,"children":2419},{"style":523},[2420],{"type":411,"value":537},{"type":405,"tag":504,"props":2422,"children":2423},{"style":529},[2424],{"type":411,"value":2425}," customSetter",{"type":405,"tag":504,"props":2427,"children":2428},{"style":523},[2429],{"type":411,"value":537},{"type":405,"tag":504,"props":2431,"children":2432},{"style":529},[2433],{"type":411,"value":2434}," shallow",{"type":405,"tag":504,"props":2436,"children":2437},{"style":523},[2438],{"type":411,"value":547},{"type":405,"tag":504,"props":2440,"children":2441},{"style":523},[2442],{"type":411,"value":552},{"type":405,"tag":504,"props":2444,"children":2445},{"class":506,"line":555},[2446],{"type":405,"tag":504,"props":2447,"children":2448},{"style":715},[2449],{"type":411,"value":2450},"  // 每个属性都保持了一个依赖容器，\n",{"type":405,"tag":504,"props":2452,"children":2453},{"class":506,"line":599},[2454],{"type":405,"tag":504,"props":2455,"children":2456},{"style":715},[2457],{"type":411,"value":2458},"  // 所有依赖都会存放在这个依赖容器实例中\n",{"type":405,"tag":504,"props":2460,"children":2461},{"class":506,"line":618},[2462,2466,2471,2475,2479,2483,2487],{"type":405,"tag":504,"props":2463,"children":2464},{"style":511},[2465],{"type":411,"value":1818},{"type":405,"tag":504,"props":2467,"children":2468},{"style":1195},[2469],{"type":411,"value":2470}," dep",{"type":405,"tag":504,"props":2472,"children":2473},{"style":565},[2474],{"type":411,"value":568},{"type":405,"tag":504,"props":2476,"children":2477},{"style":565},[2478],{"type":411,"value":573},{"type":405,"tag":504,"props":2480,"children":2481},{"style":517},[2482],{"type":411,"value":748},{"type":405,"tag":504,"props":2484,"children":2485},{"style":581},[2486],{"type":411,"value":753},{"type":405,"tag":504,"props":2488,"children":2489},{"style":523},[2490],{"type":411,"value":596},{"type":405,"tag":504,"props":2492,"children":2493},{"class":506,"line":627},[2494],{"type":405,"tag":504,"props":2495,"children":2496},{"emptyLinePlaceholder":397},[2497],{"type":411,"value":633},{"type":405,"tag":504,"props":2499,"children":2500},{"class":506,"line":636},[2501],{"type":405,"tag":504,"props":2502,"children":2503},{"style":715},[2504],{"type":411,"value":2505},"  // 不给属性描述符不可变的对象设置 setter/getter\n",{"type":405,"tag":504,"props":2507,"children":2508},{"class":506,"line":654},[2509,2513,2518,2522,2526,2530,2535,2539,2543,2547,2551,2555],{"type":405,"tag":504,"props":2510,"children":2511},{"style":511},[2512],{"type":411,"value":1818},{"type":405,"tag":504,"props":2514,"children":2515},{"style":1195},[2516],{"type":411,"value":2517}," property",{"type":405,"tag":504,"props":2519,"children":2520},{"style":565},[2521],{"type":411,"value":568},{"type":405,"tag":504,"props":2523,"children":2524},{"style":559},[2525],{"type":411,"value":1207},{"type":405,"tag":504,"props":2527,"children":2528},{"style":523},[2529],{"type":411,"value":691},{"type":405,"tag":504,"props":2531,"children":2532},{"style":517},[2533],{"type":411,"value":2534},"getOwnPropertyDescriptor",{"type":405,"tag":504,"props":2536,"children":2537},{"style":581},[2538],{"type":411,"value":526},{"type":405,"tag":504,"props":2540,"children":2541},{"style":559},[2542],{"type":411,"value":1175},{"type":405,"tag":504,"props":2544,"children":2545},{"style":523},[2546],{"type":411,"value":537},{"type":405,"tag":504,"props":2548,"children":2549},{"style":559},[2550],{"type":411,"value":2407},{"type":405,"tag":504,"props":2552,"children":2553},{"style":581},[2554],{"type":411,"value":547},{"type":405,"tag":504,"props":2556,"children":2557},{"style":523},[2558],{"type":411,"value":596},{"type":405,"tag":504,"props":2560,"children":2561},{"class":506,"line":679},[2562,2567,2571,2576,2581,2585,2589,2594,2599,2605,2609],{"type":405,"tag":504,"props":2563,"children":2564},{"style":603},[2565],{"type":411,"value":2566},"  if",{"type":405,"tag":504,"props":2568,"children":2569},{"style":581},[2570],{"type":411,"value":884},{"type":405,"tag":504,"props":2572,"children":2573},{"style":559},[2574],{"type":411,"value":2575},"property",{"type":405,"tag":504,"props":2577,"children":2578},{"style":565},[2579],{"type":411,"value":2580}," &&",{"type":405,"tag":504,"props":2582,"children":2583},{"style":559},[2584],{"type":411,"value":2517},{"type":405,"tag":504,"props":2586,"children":2587},{"style":523},[2588],{"type":411,"value":691},{"type":405,"tag":504,"props":2590,"children":2591},{"style":559},[2592],{"type":411,"value":2593},"configurable",{"type":405,"tag":504,"props":2595,"children":2596},{"style":565},[2597],{"type":411,"value":2598}," ===",{"type":405,"tag":504,"props":2600,"children":2602},{"style":2601},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2603],{"type":411,"value":2604}," false",{"type":405,"tag":504,"props":2606,"children":2607},{"style":581},[2608],{"type":411,"value":939},{"type":405,"tag":504,"props":2610,"children":2611},{"style":523},[2612],{"type":411,"value":916},{"type":405,"tag":504,"props":2614,"children":2615},{"class":506,"line":711},[2616,2620],{"type":405,"tag":504,"props":2617,"children":2618},{"style":603},[2619],{"type":411,"value":2321},{"type":405,"tag":504,"props":2621,"children":2622},{"style":523},[2623],{"type":411,"value":596},{"type":405,"tag":504,"props":2625,"children":2626},{"class":506,"line":721},[2627],{"type":405,"tag":504,"props":2628,"children":2629},{"style":523},[2630],{"type":411,"value":1148},{"type":405,"tag":504,"props":2632,"children":2633},{"class":506,"line":760},[2634],{"type":405,"tag":504,"props":2635,"children":2636},{"emptyLinePlaceholder":397},[2637],{"type":411,"value":633},{"type":405,"tag":504,"props":2639,"children":2640},{"class":506,"line":791},[2641],{"type":405,"tag":504,"props":2642,"children":2643},{"style":715},[2644],{"type":411,"value":2645},"  // 保存属性原有的 setter/getter，不做破坏\n",{"type":405,"tag":504,"props":2647,"children":2648},{"class":506,"line":800},[2649],{"type":405,"tag":504,"props":2650,"children":2651},{"style":715},[2652],{"type":411,"value":2653},"  // cater for pre-defined getter/setters\n",{"type":405,"tag":504,"props":2655,"children":2656},{"class":506,"line":855},[2657,2661,2666,2670,2674,2678,2682,2686,2691],{"type":405,"tag":504,"props":2658,"children":2659},{"style":511},[2660],{"type":411,"value":1818},{"type":405,"tag":504,"props":2662,"children":2663},{"style":1195},[2664],{"type":411,"value":2665}," getter",{"type":405,"tag":504,"props":2667,"children":2668},{"style":565},[2669],{"type":411,"value":568},{"type":405,"tag":504,"props":2671,"children":2672},{"style":559},[2673],{"type":411,"value":2517},{"type":405,"tag":504,"props":2675,"children":2676},{"style":565},[2677],{"type":411,"value":2580},{"type":405,"tag":504,"props":2679,"children":2680},{"style":559},[2681],{"type":411,"value":2517},{"type":405,"tag":504,"props":2683,"children":2684},{"style":523},[2685],{"type":411,"value":691},{"type":405,"tag":504,"props":2687,"children":2688},{"style":559},[2689],{"type":411,"value":2690},"get",{"type":405,"tag":504,"props":2692,"children":2693},{"style":523},[2694],{"type":411,"value":596},{"type":405,"tag":504,"props":2696,"children":2697},{"class":506,"line":864},[2698,2702,2707,2711,2715,2719,2723,2727,2732],{"type":405,"tag":504,"props":2699,"children":2700},{"style":511},[2701],{"type":411,"value":1818},{"type":405,"tag":504,"props":2703,"children":2704},{"style":1195},[2705],{"type":411,"value":2706}," setter",{"type":405,"tag":504,"props":2708,"children":2709},{"style":565},[2710],{"type":411,"value":568},{"type":405,"tag":504,"props":2712,"children":2713},{"style":559},[2714],{"type":411,"value":2517},{"type":405,"tag":504,"props":2716,"children":2717},{"style":565},[2718],{"type":411,"value":2580},{"type":405,"tag":504,"props":2720,"children":2721},{"style":559},[2722],{"type":411,"value":2517},{"type":405,"tag":504,"props":2724,"children":2725},{"style":523},[2726],{"type":411,"value":691},{"type":405,"tag":504,"props":2728,"children":2729},{"style":559},[2730],{"type":411,"value":2731},"set",{"type":405,"tag":504,"props":2733,"children":2734},{"style":523},[2735],{"type":411,"value":596},{"type":405,"tag":504,"props":2737,"children":2738},{"class":506,"line":873},[2739,2743,2748,2753,2758,2763,2767,2771,2776,2782,2786,2790,2794,2799,2803],{"type":405,"tag":504,"props":2740,"children":2741},{"style":603},[2742],{"type":411,"value":2566},{"type":405,"tag":504,"props":2744,"children":2745},{"style":581},[2746],{"type":411,"value":2747}," ((",{"type":405,"tag":504,"props":2749,"children":2750},{"style":565},[2751],{"type":411,"value":2752},"!",{"type":405,"tag":504,"props":2754,"children":2755},{"style":559},[2756],{"type":411,"value":2757},"getter",{"type":405,"tag":504,"props":2759,"children":2760},{"style":565},[2761],{"type":411,"value":2762}," ||",{"type":405,"tag":504,"props":2764,"children":2765},{"style":559},[2766],{"type":411,"value":2706},{"type":405,"tag":504,"props":2768,"children":2769},{"style":581},[2770],{"type":411,"value":939},{"type":405,"tag":504,"props":2772,"children":2773},{"style":565},[2774],{"type":411,"value":2775},"&&",{"type":405,"tag":504,"props":2777,"children":2779},{"style":2778},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2780],{"type":411,"value":2781}," arguments",{"type":405,"tag":504,"props":2783,"children":2784},{"style":523},[2785],{"type":411,"value":691},{"type":405,"tag":504,"props":2787,"children":2788},{"style":1195},[2789],{"type":411,"value":1290},{"type":405,"tag":504,"props":2791,"children":2792},{"style":565},[2793],{"type":411,"value":2598},{"type":405,"tag":504,"props":2795,"children":2796},{"style":781},[2797],{"type":411,"value":2798}," 2",{"type":405,"tag":504,"props":2800,"children":2801},{"style":581},[2802],{"type":411,"value":939},{"type":405,"tag":504,"props":2804,"children":2805},{"style":523},[2806],{"type":411,"value":916},{"type":405,"tag":504,"props":2808,"children":2809},{"class":506,"line":919},[2810,2815,2819,2824,2828,2833,2837],{"type":405,"tag":504,"props":2811,"children":2812},{"style":559},[2813],{"type":411,"value":2814},"    val",{"type":405,"tag":504,"props":2816,"children":2817},{"style":565},[2818],{"type":411,"value":568},{"type":405,"tag":504,"props":2820,"children":2821},{"style":559},[2822],{"type":411,"value":2823}," obj",{"type":405,"tag":504,"props":2825,"children":2826},{"style":581},[2827],{"type":411,"value":1341},{"type":405,"tag":504,"props":2829,"children":2830},{"style":559},[2831],{"type":411,"value":2832},"key",{"type":405,"tag":504,"props":2834,"children":2835},{"style":581},[2836],{"type":411,"value":1749},{"type":405,"tag":504,"props":2838,"children":2839},{"style":523},[2840],{"type":411,"value":596},{"type":405,"tag":504,"props":2842,"children":2843},{"class":506,"line":946},[2844],{"type":405,"tag":504,"props":2845,"children":2846},{"style":523},[2847],{"type":411,"value":1148},{"type":405,"tag":504,"props":2849,"children":2850},{"class":506,"line":980},[2851],{"type":405,"tag":504,"props":2852,"children":2853},{"emptyLinePlaceholder":397},[2854],{"type":411,"value":633},{"type":405,"tag":504,"props":2856,"children":2857},{"class":506,"line":998},[2858],{"type":405,"tag":504,"props":2859,"children":2860},{"style":715},[2861],{"type":411,"value":2862},"  // 侦测值的变化\n",{"type":405,"tag":504,"props":2864,"children":2865},{"class":506,"line":1040},[2866,2871,2876,2880,2885,2890,2894,2898,2902,2907,2911],{"type":405,"tag":504,"props":2867,"children":2868},{"style":511},[2869],{"type":411,"value":2870},"  let",{"type":405,"tag":504,"props":2872,"children":2873},{"style":559},[2874],{"type":411,"value":2875}," childOb",{"type":405,"tag":504,"props":2877,"children":2878},{"style":565},[2879],{"type":411,"value":568},{"type":405,"tag":504,"props":2881,"children":2882},{"style":565},[2883],{"type":411,"value":2884}," !",{"type":405,"tag":504,"props":2886,"children":2887},{"style":559},[2888],{"type":411,"value":2889},"shallow",{"type":405,"tag":504,"props":2891,"children":2892},{"style":565},[2893],{"type":411,"value":2580},{"type":405,"tag":504,"props":2895,"children":2896},{"style":517},[2897],{"type":411,"value":520},{"type":405,"tag":504,"props":2899,"children":2900},{"style":581},[2901],{"type":411,"value":526},{"type":405,"tag":504,"props":2903,"children":2904},{"style":559},[2905],{"type":411,"value":2906},"val",{"type":405,"tag":504,"props":2908,"children":2909},{"style":581},[2910],{"type":411,"value":547},{"type":405,"tag":504,"props":2912,"children":2913},{"style":523},[2914],{"type":411,"value":596},{"type":405,"tag":504,"props":2916,"children":2917},{"class":506,"line":1049},[2918],{"type":405,"tag":504,"props":2919,"children":2920},{"emptyLinePlaceholder":397},[2921],{"type":411,"value":633},{"type":405,"tag":504,"props":2923,"children":2924},{"class":506,"line":1083},[2925,2930,2934,2939,2943,2947,2951,2955,2959],{"type":405,"tag":504,"props":2926,"children":2927},{"style":559},[2928],{"type":411,"value":2929},"  Object",{"type":405,"tag":504,"props":2931,"children":2932},{"style":523},[2933],{"type":411,"value":691},{"type":405,"tag":504,"props":2935,"children":2936},{"style":517},[2937],{"type":411,"value":2938},"defineProperty",{"type":405,"tag":504,"props":2940,"children":2941},{"style":581},[2942],{"type":411,"value":526},{"type":405,"tag":504,"props":2944,"children":2945},{"style":559},[2946],{"type":411,"value":1175},{"type":405,"tag":504,"props":2948,"children":2949},{"style":523},[2950],{"type":411,"value":537},{"type":405,"tag":504,"props":2952,"children":2953},{"style":559},[2954],{"type":411,"value":2407},{"type":405,"tag":504,"props":2956,"children":2957},{"style":523},[2958],{"type":411,"value":537},{"type":405,"tag":504,"props":2960,"children":2961},{"style":523},[2962],{"type":411,"value":552},{"type":405,"tag":504,"props":2964,"children":2965},{"class":506,"line":1100},[2966,2971,2976,2981],{"type":405,"tag":504,"props":2967,"children":2968},{"style":581},[2969],{"type":411,"value":2970},"    enumerable",{"type":405,"tag":504,"props":2972,"children":2973},{"style":523},[2974],{"type":411,"value":2975},":",{"type":405,"tag":504,"props":2977,"children":2978},{"style":2601},[2979],{"type":411,"value":2980}," true",{"type":405,"tag":504,"props":2982,"children":2983},{"style":523},[2984],{"type":411,"value":1621},{"type":405,"tag":504,"props":2986,"children":2987},{"class":506,"line":1133},[2988,2993,2997,3001],{"type":405,"tag":504,"props":2989,"children":2990},{"style":581},[2991],{"type":411,"value":2992},"    configurable",{"type":405,"tag":504,"props":2994,"children":2995},{"style":523},[2996],{"type":411,"value":2975},{"type":405,"tag":504,"props":2998,"children":2999},{"style":2601},[3000],{"type":411,"value":2980},{"type":405,"tag":504,"props":3002,"children":3003},{"style":523},[3004],{"type":411,"value":1621},{"type":405,"tag":504,"props":3006,"children":3007},{"class":506,"line":1142},[3008,3013,3017,3021,3026,3030],{"type":405,"tag":504,"props":3009,"children":3010},{"style":517},[3011],{"type":411,"value":3012},"    get",{"type":405,"tag":504,"props":3014,"children":3015},{"style":523},[3016],{"type":411,"value":2975},{"type":405,"tag":504,"props":3018,"children":3019},{"style":511},[3020],{"type":411,"value":1883},{"type":405,"tag":504,"props":3022,"children":3023},{"style":517},[3024],{"type":411,"value":3025}," reactiveGetter",{"type":405,"tag":504,"props":3027,"children":3028},{"style":523},[3029],{"type":411,"value":753},{"type":405,"tag":504,"props":3031,"children":3032},{"style":523},[3033],{"type":411,"value":552},{"type":405,"tag":504,"props":3035,"children":3036},{"class":506,"line":1151},[3037,3042,3046,3050,3054,3059,3063,3067,3072,3076,3080,3084,3088,3092],{"type":405,"tag":504,"props":3038,"children":3039},{"style":511},[3040],{"type":411,"value":3041},"      const",{"type":405,"tag":504,"props":3043,"children":3044},{"style":1195},[3045],{"type":411,"value":704},{"type":405,"tag":504,"props":3047,"children":3048},{"style":565},[3049],{"type":411,"value":568},{"type":405,"tag":504,"props":3051,"children":3052},{"style":559},[3053],{"type":411,"value":2665},{"type":405,"tag":504,"props":3055,"children":3056},{"style":565},[3057],{"type":411,"value":3058}," ?",{"type":405,"tag":504,"props":3060,"children":3061},{"style":559},[3062],{"type":411,"value":2665},{"type":405,"tag":504,"props":3064,"children":3065},{"style":523},[3066],{"type":411,"value":691},{"type":405,"tag":504,"props":3068,"children":3069},{"style":517},[3070],{"type":411,"value":3071},"call",{"type":405,"tag":504,"props":3073,"children":3074},{"style":581},[3075],{"type":411,"value":526},{"type":405,"tag":504,"props":3077,"children":3078},{"style":559},[3079],{"type":411,"value":1175},{"type":405,"tag":504,"props":3081,"children":3082},{"style":581},[3083],{"type":411,"value":939},{"type":405,"tag":504,"props":3085,"children":3086},{"style":565},[3087],{"type":411,"value":2975},{"type":405,"tag":504,"props":3089,"children":3090},{"style":559},[3091],{"type":411,"value":2416},{"type":405,"tag":504,"props":3093,"children":3094},{"style":523},[3095],{"type":411,"value":596},{"type":405,"tag":504,"props":3097,"children":3098},{"class":506,"line":1159},[3099],{"type":405,"tag":504,"props":3100,"children":3101},{"style":715},[3102],{"type":411,"value":3103},"      // 收集依赖\n",{"type":405,"tag":504,"props":3105,"children":3106},{"class":506,"line":1186},[3107,3111,3115,3120,3124,3129,3133],{"type":405,"tag":504,"props":3108,"children":3109},{"style":603},[3110],{"type":411,"value":925},{"type":405,"tag":504,"props":3112,"children":3113},{"style":581},[3114],{"type":411,"value":884},{"type":405,"tag":504,"props":3116,"children":3117},{"style":559},[3118],{"type":411,"value":3119},"Dep",{"type":405,"tag":504,"props":3121,"children":3122},{"style":523},[3123],{"type":411,"value":691},{"type":405,"tag":504,"props":3125,"children":3126},{"style":559},[3127],{"type":411,"value":3128},"target",{"type":405,"tag":504,"props":3130,"children":3131},{"style":581},[3132],{"type":411,"value":939},{"type":405,"tag":504,"props":3134,"children":3135},{"style":523},[3136],{"type":411,"value":916},{"type":405,"tag":504,"props":3138,"children":3139},{"class":506,"line":1235},[3140,3145,3149,3154,3158],{"type":405,"tag":504,"props":3141,"children":3142},{"style":559},[3143],{"type":411,"value":3144},"        dep",{"type":405,"tag":504,"props":3146,"children":3147},{"style":523},[3148],{"type":411,"value":691},{"type":405,"tag":504,"props":3150,"children":3151},{"style":517},[3152],{"type":411,"value":3153},"depend",{"type":405,"tag":504,"props":3155,"children":3156},{"style":581},[3157],{"type":411,"value":753},{"type":405,"tag":504,"props":3159,"children":3160},{"style":523},[3161],{"type":411,"value":596},{"type":405,"tag":504,"props":3163,"children":3164},{"class":506,"line":1314},[3165,3170,3174,3179,3183],{"type":405,"tag":504,"props":3166,"children":3167},{"style":603},[3168],{"type":411,"value":3169},"        if",{"type":405,"tag":504,"props":3171,"children":3172},{"style":581},[3173],{"type":411,"value":884},{"type":405,"tag":504,"props":3175,"children":3176},{"style":559},[3177],{"type":411,"value":3178},"childOb",{"type":405,"tag":504,"props":3180,"children":3181},{"style":581},[3182],{"type":411,"value":939},{"type":405,"tag":504,"props":3184,"children":3185},{"style":523},[3186],{"type":411,"value":916},{"type":405,"tag":504,"props":3188,"children":3189},{"class":506,"line":1358},[3190,3195,3199,3203,3207,3211,3215],{"type":405,"tag":504,"props":3191,"children":3192},{"style":559},[3193],{"type":411,"value":3194},"          childOb",{"type":405,"tag":504,"props":3196,"children":3197},{"style":523},[3198],{"type":411,"value":691},{"type":405,"tag":504,"props":3200,"children":3201},{"style":559},[3202],{"type":411,"value":735},{"type":405,"tag":504,"props":3204,"children":3205},{"style":523},[3206],{"type":411,"value":691},{"type":405,"tag":504,"props":3208,"children":3209},{"style":517},[3210],{"type":411,"value":3153},{"type":405,"tag":504,"props":3212,"children":3213},{"style":581},[3214],{"type":411,"value":753},{"type":405,"tag":504,"props":3216,"children":3217},{"style":523},[3218],{"type":411,"value":596},{"type":405,"tag":504,"props":3220,"children":3221},{"class":506,"line":1366},[3222,3227,3231,3235,3239,3243,3247,3251,3255],{"type":405,"tag":504,"props":3223,"children":3224},{"style":603},[3225],{"type":411,"value":3226},"          if",{"type":405,"tag":504,"props":3228,"children":3229},{"style":581},[3230],{"type":411,"value":884},{"type":405,"tag":504,"props":3232,"children":3233},{"style":559},[3234],{"type":411,"value":889},{"type":405,"tag":504,"props":3236,"children":3237},{"style":523},[3238],{"type":411,"value":691},{"type":405,"tag":504,"props":3240,"children":3241},{"style":517},[3242],{"type":411,"value":898},{"type":405,"tag":504,"props":3244,"children":3245},{"style":581},[3246],{"type":411,"value":526},{"type":405,"tag":504,"props":3248,"children":3249},{"style":559},[3250],{"type":411,"value":532},{"type":405,"tag":504,"props":3252,"children":3253},{"style":581},[3254],{"type":411,"value":911},{"type":405,"tag":504,"props":3256,"children":3257},{"style":523},[3258],{"type":411,"value":916},{"type":405,"tag":504,"props":3260,"children":3261},{"class":506,"line":1374},[3262,3267,3271,3275,3279],{"type":405,"tag":504,"props":3263,"children":3264},{"style":517},[3265],{"type":411,"value":3266},"            dependArray",{"type":405,"tag":504,"props":3268,"children":3269},{"style":581},[3270],{"type":411,"value":526},{"type":405,"tag":504,"props":3272,"children":3273},{"style":559},[3274],{"type":411,"value":532},{"type":405,"tag":504,"props":3276,"children":3277},{"style":581},[3278],{"type":411,"value":547},{"type":405,"tag":504,"props":3280,"children":3281},{"style":523},[3282],{"type":411,"value":596},{"type":405,"tag":504,"props":3284,"children":3285},{"class":506,"line":1382},[3286],{"type":405,"tag":504,"props":3287,"children":3288},{"style":523},[3289],{"type":411,"value":3290},"          }\n",{"type":405,"tag":504,"props":3292,"children":3293},{"class":506,"line":1408},[3294],{"type":405,"tag":504,"props":3295,"children":3296},{"style":523},[3297],{"type":411,"value":3298},"        }\n",{"type":405,"tag":504,"props":3300,"children":3301},{"class":506,"line":1498},[3302],{"type":405,"tag":504,"props":3303,"children":3304},{"style":523},[3305],{"type":411,"value":1046},{"type":405,"tag":504,"props":3307,"children":3308},{"class":506,"line":1531},[3309,3314,3318],{"type":405,"tag":504,"props":3310,"children":3311},{"style":603},[3312],{"type":411,"value":3313},"      return",{"type":405,"tag":504,"props":3315,"children":3316},{"style":559},[3317],{"type":411,"value":704},{"type":405,"tag":504,"props":3319,"children":3320},{"style":523},[3321],{"type":411,"value":596},{"type":405,"tag":504,"props":3323,"children":3324},{"class":506,"line":1539},[3325],{"type":405,"tag":504,"props":3326,"children":3327},{"style":523},[3328],{"type":411,"value":3329},"    },\n",{"type":405,"tag":504,"props":3331,"children":3332},{"class":506,"line":1547},[3333,3338,3342,3346,3351,3355,3360,3364],{"type":405,"tag":504,"props":3334,"children":3335},{"style":517},[3336],{"type":411,"value":3337},"    set",{"type":405,"tag":504,"props":3339,"children":3340},{"style":523},[3341],{"type":411,"value":2975},{"type":405,"tag":504,"props":3343,"children":3344},{"style":511},[3345],{"type":411,"value":1883},{"type":405,"tag":504,"props":3347,"children":3348},{"style":517},[3349],{"type":411,"value":3350}," reactiveSetter",{"type":405,"tag":504,"props":3352,"children":3353},{"style":523},[3354],{"type":411,"value":526},{"type":405,"tag":504,"props":3356,"children":3357},{"style":529},[3358],{"type":411,"value":3359},"newVal",{"type":405,"tag":504,"props":3361,"children":3362},{"style":523},[3363],{"type":411,"value":547},{"type":405,"tag":504,"props":3365,"children":3366},{"style":523},[3367],{"type":411,"value":552},{"type":405,"tag":504,"props":3369,"children":3371},{"class":506,"line":3370},41,[3372,3376,3380,3384,3388,3392,3396,3400,3404,3408,3412,3416,3420,3424],{"type":405,"tag":504,"props":3373,"children":3374},{"style":511},[3375],{"type":411,"value":3041},{"type":405,"tag":504,"props":3377,"children":3378},{"style":1195},[3379],{"type":411,"value":704},{"type":405,"tag":504,"props":3381,"children":3382},{"style":565},[3383],{"type":411,"value":568},{"type":405,"tag":504,"props":3385,"children":3386},{"style":559},[3387],{"type":411,"value":2665},{"type":405,"tag":504,"props":3389,"children":3390},{"style":565},[3391],{"type":411,"value":3058},{"type":405,"tag":504,"props":3393,"children":3394},{"style":559},[3395],{"type":411,"value":2665},{"type":405,"tag":504,"props":3397,"children":3398},{"style":523},[3399],{"type":411,"value":691},{"type":405,"tag":504,"props":3401,"children":3402},{"style":517},[3403],{"type":411,"value":3071},{"type":405,"tag":504,"props":3405,"children":3406},{"style":581},[3407],{"type":411,"value":526},{"type":405,"tag":504,"props":3409,"children":3410},{"style":559},[3411],{"type":411,"value":1175},{"type":405,"tag":504,"props":3413,"children":3414},{"style":581},[3415],{"type":411,"value":939},{"type":405,"tag":504,"props":3417,"children":3418},{"style":565},[3419],{"type":411,"value":2975},{"type":405,"tag":504,"props":3421,"children":3422},{"style":559},[3423],{"type":411,"value":2416},{"type":405,"tag":504,"props":3425,"children":3426},{"style":523},[3427],{"type":411,"value":596},{"type":405,"tag":504,"props":3429,"children":3431},{"class":506,"line":3430},42,[3432],{"type":405,"tag":504,"props":3433,"children":3434},{"style":715},[3435],{"type":411,"value":3436},"      /* eslint-disable no-self-compare */\n",{"type":405,"tag":504,"props":3438,"children":3440},{"class":506,"line":3439},43,[3441,3445,3449,3453,3457,3461,3465,3469,3473,3478,3483,3487,3491,3495,3499,3503],{"type":405,"tag":504,"props":3442,"children":3443},{"style":603},[3444],{"type":411,"value":925},{"type":405,"tag":504,"props":3446,"children":3447},{"style":581},[3448],{"type":411,"value":884},{"type":405,"tag":504,"props":3450,"children":3451},{"style":559},[3452],{"type":411,"value":3359},{"type":405,"tag":504,"props":3454,"children":3455},{"style":565},[3456],{"type":411,"value":2598},{"type":405,"tag":504,"props":3458,"children":3459},{"style":559},[3460],{"type":411,"value":704},{"type":405,"tag":504,"props":3462,"children":3463},{"style":565},[3464],{"type":411,"value":2762},{"type":405,"tag":504,"props":3466,"children":3467},{"style":581},[3468],{"type":411,"value":884},{"type":405,"tag":504,"props":3470,"children":3471},{"style":559},[3472],{"type":411,"value":3359},{"type":405,"tag":504,"props":3474,"children":3475},{"style":565},[3476],{"type":411,"value":3477}," !==",{"type":405,"tag":504,"props":3479,"children":3480},{"style":559},[3481],{"type":411,"value":3482}," newVal",{"type":405,"tag":504,"props":3484,"children":3485},{"style":565},[3486],{"type":411,"value":2580},{"type":405,"tag":504,"props":3488,"children":3489},{"style":559},[3490],{"type":411,"value":704},{"type":405,"tag":504,"props":3492,"children":3493},{"style":565},[3494],{"type":411,"value":3477},{"type":405,"tag":504,"props":3496,"children":3497},{"style":559},[3498],{"type":411,"value":704},{"type":405,"tag":504,"props":3500,"children":3501},{"style":581},[3502],{"type":411,"value":911},{"type":405,"tag":504,"props":3504,"children":3505},{"style":523},[3506],{"type":411,"value":916},{"type":405,"tag":504,"props":3508,"children":3510},{"class":506,"line":3509},44,[3511,3516],{"type":405,"tag":504,"props":3512,"children":3513},{"style":603},[3514],{"type":411,"value":3515},"        return",{"type":405,"tag":504,"props":3517,"children":3518},{"style":523},[3519],{"type":411,"value":596},{"type":405,"tag":504,"props":3521,"children":3523},{"class":506,"line":3522},45,[3524],{"type":405,"tag":504,"props":3525,"children":3526},{"style":523},[3527],{"type":411,"value":1046},{"type":405,"tag":504,"props":3529,"children":3531},{"class":506,"line":3530},46,[3532],{"type":405,"tag":504,"props":3533,"children":3534},{"style":715},[3535],{"type":411,"value":3536},"      // 非生产环境：自定义 setter 副作用\n",{"type":405,"tag":504,"props":3538,"children":3540},{"class":506,"line":3539},47,[3541,3545,3549,3554,3558,3563,3567,3572,3576,3580,3585,3589,3593,3597,3601],{"type":405,"tag":504,"props":3542,"children":3543},{"style":603},[3544],{"type":411,"value":925},{"type":405,"tag":504,"props":3546,"children":3547},{"style":581},[3548],{"type":411,"value":884},{"type":405,"tag":504,"props":3550,"children":3551},{"style":559},[3552],{"type":411,"value":3553},"process",{"type":405,"tag":504,"props":3555,"children":3556},{"style":523},[3557],{"type":411,"value":691},{"type":405,"tag":504,"props":3559,"children":3560},{"style":559},[3561],{"type":411,"value":3562},"env",{"type":405,"tag":504,"props":3564,"children":3565},{"style":523},[3566],{"type":411,"value":691},{"type":405,"tag":504,"props":3568,"children":3569},{"style":1195},[3570],{"type":411,"value":3571},"NODE_ENV",{"type":405,"tag":504,"props":3573,"children":3574},{"style":565},[3575],{"type":411,"value":3477},{"type":405,"tag":504,"props":3577,"children":3578},{"style":821},[3579],{"type":411,"value":824},{"type":405,"tag":504,"props":3581,"children":3582},{"style":827},[3583],{"type":411,"value":3584},"production",{"type":405,"tag":504,"props":3586,"children":3587},{"style":821},[3588],{"type":411,"value":835},{"type":405,"tag":504,"props":3590,"children":3591},{"style":565},[3592],{"type":411,"value":2580},{"type":405,"tag":504,"props":3594,"children":3595},{"style":559},[3596],{"type":411,"value":2425},{"type":405,"tag":504,"props":3598,"children":3599},{"style":581},[3600],{"type":411,"value":939},{"type":405,"tag":504,"props":3602,"children":3603},{"style":523},[3604],{"type":411,"value":916},{"type":405,"tag":504,"props":3606,"children":3608},{"class":506,"line":3607},48,[3609,3614,3618],{"type":405,"tag":504,"props":3610,"children":3611},{"style":517},[3612],{"type":411,"value":3613},"        customSetter",{"type":405,"tag":504,"props":3615,"children":3616},{"style":581},[3617],{"type":411,"value":753},{"type":405,"tag":504,"props":3619,"children":3620},{"style":523},[3621],{"type":411,"value":596},{"type":405,"tag":504,"props":3623,"children":3625},{"class":506,"line":3624},49,[3626],{"type":405,"tag":504,"props":3627,"children":3628},{"style":523},[3629],{"type":411,"value":1046},{"type":405,"tag":504,"props":3631,"children":3633},{"class":506,"line":3632},50,[3634],{"type":405,"tag":504,"props":3635,"children":3636},{"style":715},[3637],{"type":411,"value":3638},"      // #7981: for accessor properties without setter\n",{"type":405,"tag":504,"props":3640,"children":3642},{"class":506,"line":3641},51,[3643,3647,3651,3655,3659,3663,3668,3672,3677],{"type":405,"tag":504,"props":3644,"children":3645},{"style":603},[3646],{"type":411,"value":925},{"type":405,"tag":504,"props":3648,"children":3649},{"style":581},[3650],{"type":411,"value":884},{"type":405,"tag":504,"props":3652,"children":3653},{"style":559},[3654],{"type":411,"value":2757},{"type":405,"tag":504,"props":3656,"children":3657},{"style":565},[3658],{"type":411,"value":2580},{"type":405,"tag":504,"props":3660,"children":3661},{"style":565},[3662],{"type":411,"value":2884},{"type":405,"tag":504,"props":3664,"children":3665},{"style":559},[3666],{"type":411,"value":3667},"setter",{"type":405,"tag":504,"props":3669,"children":3670},{"style":581},[3671],{"type":411,"value":939},{"type":405,"tag":504,"props":3673,"children":3674},{"style":603},[3675],{"type":411,"value":3676},"return",{"type":405,"tag":504,"props":3678,"children":3679},{"style":523},[3680],{"type":411,"value":596},{"type":405,"tag":504,"props":3682,"children":3684},{"class":506,"line":3683},52,[3685],{"type":405,"tag":504,"props":3686,"children":3687},{"style":715},[3688],{"type":411,"value":3689},"      // 使用原有的 setter 更新值或直接更新值\n",{"type":405,"tag":504,"props":3691,"children":3693},{"class":506,"line":3692},53,[3694,3698,3702,3706,3710],{"type":405,"tag":504,"props":3695,"children":3696},{"style":603},[3697],{"type":411,"value":925},{"type":405,"tag":504,"props":3699,"children":3700},{"style":581},[3701],{"type":411,"value":884},{"type":405,"tag":504,"props":3703,"children":3704},{"style":559},[3705],{"type":411,"value":3667},{"type":405,"tag":504,"props":3707,"children":3708},{"style":581},[3709],{"type":411,"value":939},{"type":405,"tag":504,"props":3711,"children":3712},{"style":523},[3713],{"type":411,"value":916},{"type":405,"tag":504,"props":3715,"children":3717},{"class":506,"line":3716},54,[3718,3723,3727,3731,3735,3739,3743,3747,3751],{"type":405,"tag":504,"props":3719,"children":3720},{"style":559},[3721],{"type":411,"value":3722},"        setter",{"type":405,"tag":504,"props":3724,"children":3725},{"style":523},[3726],{"type":411,"value":691},{"type":405,"tag":504,"props":3728,"children":3729},{"style":517},[3730],{"type":411,"value":3071},{"type":405,"tag":504,"props":3732,"children":3733},{"style":581},[3734],{"type":411,"value":526},{"type":405,"tag":504,"props":3736,"children":3737},{"style":559},[3738],{"type":411,"value":1175},{"type":405,"tag":504,"props":3740,"children":3741},{"style":523},[3742],{"type":411,"value":537},{"type":405,"tag":504,"props":3744,"children":3745},{"style":559},[3746],{"type":411,"value":3482},{"type":405,"tag":504,"props":3748,"children":3749},{"style":581},[3750],{"type":411,"value":547},{"type":405,"tag":504,"props":3752,"children":3753},{"style":523},[3754],{"type":411,"value":596},{"type":405,"tag":504,"props":3756,"children":3758},{"class":506,"line":3757},55,[3759,3763,3767],{"type":405,"tag":504,"props":3760,"children":3761},{"style":523},[3762],{"type":411,"value":986},{"type":405,"tag":504,"props":3764,"children":3765},{"style":603},[3766],{"type":411,"value":991},{"type":405,"tag":504,"props":3768,"children":3769},{"style":523},[3770],{"type":411,"value":552},{"type":405,"tag":504,"props":3772,"children":3774},{"class":506,"line":3773},56,[3775,3780,3784,3788],{"type":405,"tag":504,"props":3776,"children":3777},{"style":559},[3778],{"type":411,"value":3779},"        val",{"type":405,"tag":504,"props":3781,"children":3782},{"style":565},[3783],{"type":411,"value":568},{"type":405,"tag":504,"props":3785,"children":3786},{"style":559},[3787],{"type":411,"value":3482},{"type":405,"tag":504,"props":3789,"children":3790},{"style":523},[3791],{"type":411,"value":596},{"type":405,"tag":504,"props":3793,"children":3795},{"class":506,"line":3794},57,[3796],{"type":405,"tag":504,"props":3797,"children":3798},{"style":523},[3799],{"type":411,"value":1046},{"type":405,"tag":504,"props":3801,"children":3803},{"class":506,"line":3802},58,[3804],{"type":405,"tag":504,"props":3805,"children":3806},{"style":715},[3807],{"type":411,"value":3808},"      // 侦测子对象的变化\n",{"type":405,"tag":504,"props":3810,"children":3812},{"class":506,"line":3811},59,[3813,3818,3822,3826,3830,3834,3838,3842,3846,3850],{"type":405,"tag":504,"props":3814,"children":3815},{"style":559},[3816],{"type":411,"value":3817},"      childOb",{"type":405,"tag":504,"props":3819,"children":3820},{"style":565},[3821],{"type":411,"value":568},{"type":405,"tag":504,"props":3823,"children":3824},{"style":565},[3825],{"type":411,"value":2884},{"type":405,"tag":504,"props":3827,"children":3828},{"style":559},[3829],{"type":411,"value":2889},{"type":405,"tag":504,"props":3831,"children":3832},{"style":565},[3833],{"type":411,"value":2580},{"type":405,"tag":504,"props":3835,"children":3836},{"style":517},[3837],{"type":411,"value":520},{"type":405,"tag":504,"props":3839,"children":3840},{"style":581},[3841],{"type":411,"value":526},{"type":405,"tag":504,"props":3843,"children":3844},{"style":559},[3845],{"type":411,"value":3359},{"type":405,"tag":504,"props":3847,"children":3848},{"style":581},[3849],{"type":411,"value":547},{"type":405,"tag":504,"props":3851,"children":3852},{"style":523},[3853],{"type":411,"value":596},{"type":405,"tag":504,"props":3855,"children":3857},{"class":506,"line":3856},60,[3858],{"type":405,"tag":504,"props":3859,"children":3860},{"style":715},[3861],{"type":411,"value":3862},"      // 通知依赖更新\n",{"type":405,"tag":504,"props":3864,"children":3866},{"class":506,"line":3865},61,[3867,3872,3876,3880,3884],{"type":405,"tag":504,"props":3868,"children":3869},{"style":559},[3870],{"type":411,"value":3871},"      dep",{"type":405,"tag":504,"props":3873,"children":3874},{"style":523},[3875],{"type":411,"value":691},{"type":405,"tag":504,"props":3877,"children":3878},{"style":517},[3879],{"type":411,"value":2305},{"type":405,"tag":504,"props":3881,"children":3882},{"style":581},[3883],{"type":411,"value":753},{"type":405,"tag":504,"props":3885,"children":3886},{"style":523},[3887],{"type":411,"value":596},{"type":405,"tag":504,"props":3889,"children":3891},{"class":506,"line":3890},62,[3892],{"type":405,"tag":504,"props":3893,"children":3894},{"style":523},[3895],{"type":411,"value":3329},{"type":405,"tag":504,"props":3897,"children":3899},{"class":506,"line":3898},63,[3900,3904,3908],{"type":405,"tag":504,"props":3901,"children":3902},{"style":523},[3903],{"type":411,"value":2337},{"type":405,"tag":504,"props":3905,"children":3906},{"style":581},[3907],{"type":411,"value":547},{"type":405,"tag":504,"props":3909,"children":3910},{"style":523},[3911],{"type":411,"value":596},{"type":405,"tag":504,"props":3913,"children":3915},{"class":506,"line":3914},64,[3916],{"type":405,"tag":504,"props":3917,"children":3918},{"style":523},[3919],{"type":411,"value":624},{"type":405,"tag":479,"props":3921,"children":3923},{"id":3922},"依赖容器及依赖",[3924],{"type":411,"value":3922},{"type":405,"tag":438,"props":3926,"children":3927},{},[3928],{"type":411,"value":3929},"接下来进入比较绕的部分。首先回答：依赖容器是什么？",{"type":405,"tag":438,"props":3931,"children":3932},{},[3933],{"type":411,"value":3934},"刚刚看到了 dep.notify 的作用是“通知依赖更新”，所以 Dep 就是依赖容器。",{"type":405,"tag":438,"props":3936,"children":3937},{},[3938],{"type":411,"value":3939},"我们上小节说到，每个属性都保持了一个依赖容器，所有依赖都会存放在这个依赖容器实例中。所以依赖容器还提供了统一更新依赖、删除依赖之类的方法。",{"type":405,"tag":444,"props":3941,"children":3943},{"code":3942,"language":497,"meta":398,"className":498,"style":398},"class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n  // 添加依赖\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n  // 删除依赖\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n  // 收集依赖\n  depend() {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  // 通知依赖更新\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice();\n    for (let i = 0, l = subs.length; i \u003C l; i++) {\n      subs[i].update();\n    }\n  }\n}\n",[3944],{"type":405,"tag":449,"props":3945,"children":3946},{"__ignoreMap":398},[3947,3962,3977,4010,4039,4046,4054,4079,4118,4125,4133,4157,4198,4205,4213,4229,4260,4301,4308,4315,4323,4339,4347,4391,4478,4515,4522,4529],{"type":405,"tag":504,"props":3948,"children":3949},{"class":506,"line":507},[3950,3954,3958],{"type":405,"tag":504,"props":3951,"children":3952},{"style":511},[3953],{"type":411,"value":642},{"type":405,"tag":504,"props":3955,"children":3956},{"style":645},[3957],{"type":411,"value":748},{"type":405,"tag":504,"props":3959,"children":3960},{"style":523},[3961],{"type":411,"value":552},{"type":405,"tag":504,"props":3963,"children":3964},{"class":506,"line":555},[3965,3969,3973],{"type":405,"tag":504,"props":3966,"children":3967},{"style":511},[3968],{"type":411,"value":660},{"type":405,"tag":504,"props":3970,"children":3971},{"style":523},[3972],{"type":411,"value":753},{"type":405,"tag":504,"props":3974,"children":3975},{"style":523},[3976],{"type":411,"value":552},{"type":405,"tag":504,"props":3978,"children":3979},{"class":506,"line":599},[3980,3984,3988,3993,3997,4002,4006],{"type":405,"tag":504,"props":3981,"children":3982},{"style":683},[3983],{"type":411,"value":686},{"type":405,"tag":504,"props":3985,"children":3986},{"style":523},[3987],{"type":411,"value":691},{"type":405,"tag":504,"props":3989,"children":3990},{"style":559},[3991],{"type":411,"value":3992},"id",{"type":405,"tag":504,"props":3994,"children":3995},{"style":565},[3996],{"type":411,"value":568},{"type":405,"tag":504,"props":3998,"children":3999},{"style":559},[4000],{"type":411,"value":4001}," uid",{"type":405,"tag":504,"props":4003,"children":4004},{"style":565},[4005],{"type":411,"value":1303},{"type":405,"tag":504,"props":4007,"children":4008},{"style":523},[4009],{"type":411,"value":596},{"type":405,"tag":504,"props":4011,"children":4012},{"class":506,"line":618},[4013,4017,4021,4026,4030,4035],{"type":405,"tag":504,"props":4014,"children":4015},{"style":683},[4016],{"type":411,"value":686},{"type":405,"tag":504,"props":4018,"children":4019},{"style":523},[4020],{"type":411,"value":691},{"type":405,"tag":504,"props":4022,"children":4023},{"style":559},[4024],{"type":411,"value":4025},"subs",{"type":405,"tag":504,"props":4027,"children":4028},{"style":565},[4029],{"type":411,"value":568},{"type":405,"tag":504,"props":4031,"children":4032},{"style":581},[4033],{"type":411,"value":4034}," []",{"type":405,"tag":504,"props":4036,"children":4037},{"style":523},[4038],{"type":411,"value":596},{"type":405,"tag":504,"props":4040,"children":4041},{"class":506,"line":627},[4042],{"type":405,"tag":504,"props":4043,"children":4044},{"style":523},[4045],{"type":411,"value":1148},{"type":405,"tag":504,"props":4047,"children":4048},{"class":506,"line":636},[4049],{"type":405,"tag":504,"props":4050,"children":4051},{"style":715},[4052],{"type":411,"value":4053},"  // 添加依赖\n",{"type":405,"tag":504,"props":4055,"children":4056},{"class":506,"line":654},[4057,4062,4066,4071,4075],{"type":405,"tag":504,"props":4058,"children":4059},{"style":1163},[4060],{"type":411,"value":4061},"  addSub",{"type":405,"tag":504,"props":4063,"children":4064},{"style":523},[4065],{"type":411,"value":526},{"type":405,"tag":504,"props":4067,"children":4068},{"style":529},[4069],{"type":411,"value":4070},"sub",{"type":405,"tag":504,"props":4072,"children":4073},{"style":523},[4074],{"type":411,"value":547},{"type":405,"tag":504,"props":4076,"children":4077},{"style":523},[4078],{"type":411,"value":552},{"type":405,"tag":504,"props":4080,"children":4081},{"class":506,"line":679},[4082,4086,4090,4094,4098,4102,4106,4110,4114],{"type":405,"tag":504,"props":4083,"children":4084},{"style":683},[4085],{"type":411,"value":686},{"type":405,"tag":504,"props":4087,"children":4088},{"style":523},[4089],{"type":411,"value":691},{"type":405,"tag":504,"props":4091,"children":4092},{"style":559},[4093],{"type":411,"value":4025},{"type":405,"tag":504,"props":4095,"children":4096},{"style":523},[4097],{"type":411,"value":691},{"type":405,"tag":504,"props":4099,"children":4100},{"style":517},[4101],{"type":411,"value":1612},{"type":405,"tag":504,"props":4103,"children":4104},{"style":581},[4105],{"type":411,"value":526},{"type":405,"tag":504,"props":4107,"children":4108},{"style":559},[4109],{"type":411,"value":4070},{"type":405,"tag":504,"props":4111,"children":4112},{"style":581},[4113],{"type":411,"value":547},{"type":405,"tag":504,"props":4115,"children":4116},{"style":523},[4117],{"type":411,"value":596},{"type":405,"tag":504,"props":4119,"children":4120},{"class":506,"line":711},[4121],{"type":405,"tag":504,"props":4122,"children":4123},{"style":523},[4124],{"type":411,"value":1148},{"type":405,"tag":504,"props":4126,"children":4127},{"class":506,"line":721},[4128],{"type":405,"tag":504,"props":4129,"children":4130},{"style":715},[4131],{"type":411,"value":4132},"  // 删除依赖\n",{"type":405,"tag":504,"props":4134,"children":4135},{"class":506,"line":760},[4136,4141,4145,4149,4153],{"type":405,"tag":504,"props":4137,"children":4138},{"style":1163},[4139],{"type":411,"value":4140},"  removeSub",{"type":405,"tag":504,"props":4142,"children":4143},{"style":523},[4144],{"type":411,"value":526},{"type":405,"tag":504,"props":4146,"children":4147},{"style":529},[4148],{"type":411,"value":4070},{"type":405,"tag":504,"props":4150,"children":4151},{"style":523},[4152],{"type":411,"value":547},{"type":405,"tag":504,"props":4154,"children":4155},{"style":523},[4156],{"type":411,"value":552},{"type":405,"tag":504,"props":4158,"children":4159},{"class":506,"line":791},[4160,4165,4169,4173,4177,4181,4185,4190,4194],{"type":405,"tag":504,"props":4161,"children":4162},{"style":517},[4163],{"type":411,"value":4164},"    remove",{"type":405,"tag":504,"props":4166,"children":4167},{"style":581},[4168],{"type":411,"value":526},{"type":405,"tag":504,"props":4170,"children":4171},{"style":683},[4172],{"type":411,"value":1956},{"type":405,"tag":504,"props":4174,"children":4175},{"style":523},[4176],{"type":411,"value":691},{"type":405,"tag":504,"props":4178,"children":4179},{"style":559},[4180],{"type":411,"value":4025},{"type":405,"tag":504,"props":4182,"children":4183},{"style":523},[4184],{"type":411,"value":537},{"type":405,"tag":504,"props":4186,"children":4187},{"style":559},[4188],{"type":411,"value":4189}," sub",{"type":405,"tag":504,"props":4191,"children":4192},{"style":581},[4193],{"type":411,"value":547},{"type":405,"tag":504,"props":4195,"children":4196},{"style":523},[4197],{"type":411,"value":596},{"type":405,"tag":504,"props":4199,"children":4200},{"class":506,"line":800},[4201],{"type":405,"tag":504,"props":4202,"children":4203},{"style":523},[4204],{"type":411,"value":1148},{"type":405,"tag":504,"props":4206,"children":4207},{"class":506,"line":855},[4208],{"type":405,"tag":504,"props":4209,"children":4210},{"style":715},[4211],{"type":411,"value":4212},"  // 收集依赖\n",{"type":405,"tag":504,"props":4214,"children":4215},{"class":506,"line":864},[4216,4221,4225],{"type":405,"tag":504,"props":4217,"children":4218},{"style":1163},[4219],{"type":411,"value":4220},"  depend",{"type":405,"tag":504,"props":4222,"children":4223},{"style":523},[4224],{"type":411,"value":753},{"type":405,"tag":504,"props":4226,"children":4227},{"style":523},[4228],{"type":411,"value":552},{"type":405,"tag":504,"props":4230,"children":4231},{"class":506,"line":873},[4232,4236,4240,4244,4248,4252,4256],{"type":405,"tag":504,"props":4233,"children":4234},{"style":603},[4235],{"type":411,"value":879},{"type":405,"tag":504,"props":4237,"children":4238},{"style":581},[4239],{"type":411,"value":884},{"type":405,"tag":504,"props":4241,"children":4242},{"style":559},[4243],{"type":411,"value":3119},{"type":405,"tag":504,"props":4245,"children":4246},{"style":523},[4247],{"type":411,"value":691},{"type":405,"tag":504,"props":4249,"children":4250},{"style":559},[4251],{"type":411,"value":3128},{"type":405,"tag":504,"props":4253,"children":4254},{"style":581},[4255],{"type":411,"value":939},{"type":405,"tag":504,"props":4257,"children":4258},{"style":523},[4259],{"type":411,"value":916},{"type":405,"tag":504,"props":4261,"children":4262},{"class":506,"line":919},[4263,4268,4272,4276,4280,4285,4289,4293,4297],{"type":405,"tag":504,"props":4264,"children":4265},{"style":559},[4266],{"type":411,"value":4267},"      Dep",{"type":405,"tag":504,"props":4269,"children":4270},{"style":523},[4271],{"type":411,"value":691},{"type":405,"tag":504,"props":4273,"children":4274},{"style":559},[4275],{"type":411,"value":3128},{"type":405,"tag":504,"props":4277,"children":4278},{"style":523},[4279],{"type":411,"value":691},{"type":405,"tag":504,"props":4281,"children":4282},{"style":517},[4283],{"type":411,"value":4284},"addDep",{"type":405,"tag":504,"props":4286,"children":4287},{"style":581},[4288],{"type":411,"value":526},{"type":405,"tag":504,"props":4290,"children":4291},{"style":683},[4292],{"type":411,"value":1956},{"type":405,"tag":504,"props":4294,"children":4295},{"style":581},[4296],{"type":411,"value":547},{"type":405,"tag":504,"props":4298,"children":4299},{"style":523},[4300],{"type":411,"value":596},{"type":405,"tag":504,"props":4302,"children":4303},{"class":506,"line":946},[4304],{"type":405,"tag":504,"props":4305,"children":4306},{"style":523},[4307],{"type":411,"value":1139},{"type":405,"tag":504,"props":4309,"children":4310},{"class":506,"line":980},[4311],{"type":405,"tag":504,"props":4312,"children":4313},{"style":523},[4314],{"type":411,"value":1148},{"type":405,"tag":504,"props":4316,"children":4317},{"class":506,"line":998},[4318],{"type":405,"tag":504,"props":4319,"children":4320},{"style":715},[4321],{"type":411,"value":4322},"  // 通知依赖更新\n",{"type":405,"tag":504,"props":4324,"children":4325},{"class":506,"line":1040},[4326,4331,4335],{"type":405,"tag":504,"props":4327,"children":4328},{"style":1163},[4329],{"type":411,"value":4330},"  notify",{"type":405,"tag":504,"props":4332,"children":4333},{"style":523},[4334],{"type":411,"value":753},{"type":405,"tag":504,"props":4336,"children":4337},{"style":523},[4338],{"type":411,"value":552},{"type":405,"tag":504,"props":4340,"children":4341},{"class":506,"line":1049},[4342],{"type":405,"tag":504,"props":4343,"children":4344},{"style":715},[4345],{"type":411,"value":4346},"    // stabilize the subscriber list first\n",{"type":405,"tag":504,"props":4348,"children":4349},{"class":506,"line":1083},[4350,4354,4359,4363,4367,4371,4375,4379,4383,4387],{"type":405,"tag":504,"props":4351,"children":4352},{"style":511},[4353],{"type":411,"value":1192},{"type":405,"tag":504,"props":4355,"children":4356},{"style":1195},[4357],{"type":411,"value":4358}," subs",{"type":405,"tag":504,"props":4360,"children":4361},{"style":565},[4362],{"type":411,"value":568},{"type":405,"tag":504,"props":4364,"children":4365},{"style":683},[4366],{"type":411,"value":844},{"type":405,"tag":504,"props":4368,"children":4369},{"style":523},[4370],{"type":411,"value":691},{"type":405,"tag":504,"props":4372,"children":4373},{"style":559},[4374],{"type":411,"value":4025},{"type":405,"tag":504,"props":4376,"children":4377},{"style":523},[4378],{"type":411,"value":691},{"type":405,"tag":504,"props":4380,"children":4381},{"style":517},[4382],{"type":411,"value":2188},{"type":405,"tag":504,"props":4384,"children":4385},{"style":581},[4386],{"type":411,"value":753},{"type":405,"tag":504,"props":4388,"children":4389},{"style":523},[4390],{"type":411,"value":596},{"type":405,"tag":504,"props":4392,"children":4393},{"class":506,"line":1100},[4394,4398,4402,4406,4410,4414,4418,4422,4426,4430,4434,4438,4442,4446,4450,4454,4458,4462,4466,4470,4474],{"type":405,"tag":504,"props":4395,"children":4396},{"style":603},[4397],{"type":411,"value":1241},{"type":405,"tag":504,"props":4399,"children":4400},{"style":581},[4401],{"type":411,"value":884},{"type":405,"tag":504,"props":4403,"children":4404},{"style":511},[4405],{"type":411,"value":1250},{"type":405,"tag":504,"props":4407,"children":4408},{"style":559},[4409],{"type":411,"value":1255},{"type":405,"tag":504,"props":4411,"children":4412},{"style":565},[4413],{"type":411,"value":568},{"type":405,"tag":504,"props":4415,"children":4416},{"style":781},[4417],{"type":411,"value":784},{"type":405,"tag":504,"props":4419,"children":4420},{"style":523},[4421],{"type":411,"value":537},{"type":405,"tag":504,"props":4423,"children":4424},{"style":559},[4425],{"type":411,"value":1442},{"type":405,"tag":504,"props":4427,"children":4428},{"style":565},[4429],{"type":411,"value":568},{"type":405,"tag":504,"props":4431,"children":4432},{"style":559},[4433],{"type":411,"value":4358},{"type":405,"tag":504,"props":4435,"children":4436},{"style":523},[4437],{"type":411,"value":691},{"type":405,"tag":504,"props":4439,"children":4440},{"style":1195},[4441],{"type":411,"value":1290},{"type":405,"tag":504,"props":4443,"children":4444},{"style":523},[4445],{"type":411,"value":1268},{"type":405,"tag":504,"props":4447,"children":4448},{"style":559},[4449],{"type":411,"value":1255},{"type":405,"tag":504,"props":4451,"children":4452},{"style":565},[4453],{"type":411,"value":1277},{"type":405,"tag":504,"props":4455,"children":4456},{"style":559},[4457],{"type":411,"value":1442},{"type":405,"tag":504,"props":4459,"children":4460},{"style":523},[4461],{"type":411,"value":1268},{"type":405,"tag":504,"props":4463,"children":4464},{"style":559},[4465],{"type":411,"value":1255},{"type":405,"tag":504,"props":4467,"children":4468},{"style":565},[4469],{"type":411,"value":1303},{"type":405,"tag":504,"props":4471,"children":4472},{"style":581},[4473],{"type":411,"value":939},{"type":405,"tag":504,"props":4475,"children":4476},{"style":523},[4477],{"type":411,"value":916},{"type":405,"tag":504,"props":4479,"children":4480},{"class":506,"line":1133},[4481,4486,4490,4494,4498,4502,4507,4511],{"type":405,"tag":504,"props":4482,"children":4483},{"style":559},[4484],{"type":411,"value":4485},"      subs",{"type":405,"tag":504,"props":4487,"children":4488},{"style":581},[4489],{"type":411,"value":1341},{"type":405,"tag":504,"props":4491,"children":4492},{"style":559},[4493],{"type":411,"value":1346},{"type":405,"tag":504,"props":4495,"children":4496},{"style":581},[4497],{"type":411,"value":1749},{"type":405,"tag":504,"props":4499,"children":4500},{"style":523},[4501],{"type":411,"value":691},{"type":405,"tag":504,"props":4503,"children":4504},{"style":517},[4505],{"type":411,"value":4506},"update",{"type":405,"tag":504,"props":4508,"children":4509},{"style":581},[4510],{"type":411,"value":753},{"type":405,"tag":504,"props":4512,"children":4513},{"style":523},[4514],{"type":411,"value":596},{"type":405,"tag":504,"props":4516,"children":4517},{"class":506,"line":1142},[4518],{"type":405,"tag":504,"props":4519,"children":4520},{"style":523},[4521],{"type":411,"value":1139},{"type":405,"tag":504,"props":4523,"children":4524},{"class":506,"line":1151},[4525],{"type":405,"tag":504,"props":4526,"children":4527},{"style":523},[4528],{"type":411,"value":1148},{"type":405,"tag":504,"props":4530,"children":4531},{"class":506,"line":1159},[4532],{"type":405,"tag":504,"props":4533,"children":4534},{"style":523},[4535],{"type":411,"value":624},{"type":405,"tag":438,"props":4537,"children":4538},{},[4539],{"type":411,"value":4540},"依赖容器和依赖之间是存在耦合的，所以我们看到收集依赖的这个地方，仅仅调用了依赖的 addDep 方法，没有调用 addSub 把添加依赖。其实，addSub 是在依赖的 addDep 方法中调用的。这个和观察者模式离不开关系，在观察者模式中，观察者直接观测目标，并相应目标做出的通知。Watcher 直接观测响应式数据，当数据发生变更时，就能收到通知。但由于数据和观察者是多对多的关系，所以需要 Dep 依赖容器这么一个东西用来保存 Watcher 与数据的关系。",{"type":405,"tag":438,"props":4542,"children":4543},{},[4544],{"type":405,"tag":4545,"props":4546,"children":4548},"img",{"alt":455,"src":4547},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20200810100326.png?w=70",[],{"type":405,"tag":438,"props":4550,"children":4551},{},[4552],{"type":411,"value":4553},"Dep.target 用来表示当前依赖，并且源码维护了一个依赖栈，通过提供的 pushTarget、popTarget 方法维护依赖栈及当前依赖（状态）。看以下代码：",{"type":405,"tag":444,"props":4555,"children":4557},{"code":4556,"language":497,"meta":398,"className":498,"style":398},"// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nconst targetStack = [];\nfunction pushTarget(target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\nfunction popTarget() {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n",[4558],{"type":405,"tag":449,"props":4559,"children":4560},{"__ignoreMap":398},[4561,4569,4577,4585,4616,4640,4668,4700,4729,4736,4756,4779,4837],{"type":405,"tag":504,"props":4562,"children":4563},{"class":506,"line":507},[4564],{"type":405,"tag":504,"props":4565,"children":4566},{"style":715},[4567],{"type":411,"value":4568},"// The current target watcher being evaluated.\n",{"type":405,"tag":504,"props":4570,"children":4571},{"class":506,"line":555},[4572],{"type":405,"tag":504,"props":4573,"children":4574},{"style":715},[4575],{"type":411,"value":4576},"// This is globally unique because only one watcher\n",{"type":405,"tag":504,"props":4578,"children":4579},{"class":506,"line":599},[4580],{"type":405,"tag":504,"props":4581,"children":4582},{"style":715},[4583],{"type":411,"value":4584},"// can be evaluated at a time.\n",{"type":405,"tag":504,"props":4586,"children":4587},{"class":506,"line":618},[4588,4592,4596,4601,4606,4612],{"type":405,"tag":504,"props":4589,"children":4590},{"style":559},[4591],{"type":411,"value":3119},{"type":405,"tag":504,"props":4593,"children":4594},{"style":523},[4595],{"type":411,"value":691},{"type":405,"tag":504,"props":4597,"children":4598},{"style":559},[4599],{"type":411,"value":4600},"target ",{"type":405,"tag":504,"props":4602,"children":4603},{"style":565},[4604],{"type":411,"value":4605},"=",{"type":405,"tag":504,"props":4607,"children":4609},{"style":4608},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[4610],{"type":411,"value":4611}," null",{"type":405,"tag":504,"props":4613,"children":4614},{"style":523},[4615],{"type":411,"value":596},{"type":405,"tag":504,"props":4617,"children":4618},{"class":506,"line":627},[4619,4623,4628,4632,4636],{"type":405,"tag":504,"props":4620,"children":4621},{"style":511},[4622],{"type":411,"value":1585},{"type":405,"tag":504,"props":4624,"children":4625},{"style":1195},[4626],{"type":411,"value":4627}," targetStack",{"type":405,"tag":504,"props":4629,"children":4630},{"style":565},[4631],{"type":411,"value":568},{"type":405,"tag":504,"props":4633,"children":4634},{"style":559},[4635],{"type":411,"value":4034},{"type":405,"tag":504,"props":4637,"children":4638},{"style":523},[4639],{"type":411,"value":596},{"type":405,"tag":504,"props":4641,"children":4642},{"class":506,"line":636},[4643,4647,4652,4656,4660,4664],{"type":405,"tag":504,"props":4644,"children":4645},{"style":511},[4646],{"type":411,"value":514},{"type":405,"tag":504,"props":4648,"children":4649},{"style":517},[4650],{"type":411,"value":4651}," pushTarget",{"type":405,"tag":504,"props":4653,"children":4654},{"style":523},[4655],{"type":411,"value":526},{"type":405,"tag":504,"props":4657,"children":4658},{"style":529},[4659],{"type":411,"value":3128},{"type":405,"tag":504,"props":4661,"children":4662},{"style":523},[4663],{"type":411,"value":547},{"type":405,"tag":504,"props":4665,"children":4666},{"style":523},[4667],{"type":411,"value":552},{"type":405,"tag":504,"props":4669,"children":4670},{"class":506,"line":654},[4671,4676,4680,4684,4688,4692,4696],{"type":405,"tag":504,"props":4672,"children":4673},{"style":559},[4674],{"type":411,"value":4675},"  targetStack",{"type":405,"tag":504,"props":4677,"children":4678},{"style":523},[4679],{"type":411,"value":691},{"type":405,"tag":504,"props":4681,"children":4682},{"style":517},[4683],{"type":411,"value":1612},{"type":405,"tag":504,"props":4685,"children":4686},{"style":581},[4687],{"type":411,"value":526},{"type":405,"tag":504,"props":4689,"children":4690},{"style":559},[4691],{"type":411,"value":3128},{"type":405,"tag":504,"props":4693,"children":4694},{"style":581},[4695],{"type":411,"value":547},{"type":405,"tag":504,"props":4697,"children":4698},{"style":523},[4699],{"type":411,"value":596},{"type":405,"tag":504,"props":4701,"children":4702},{"class":506,"line":679},[4703,4708,4712,4716,4720,4725],{"type":405,"tag":504,"props":4704,"children":4705},{"style":559},[4706],{"type":411,"value":4707},"  Dep",{"type":405,"tag":504,"props":4709,"children":4710},{"style":523},[4711],{"type":411,"value":691},{"type":405,"tag":504,"props":4713,"children":4714},{"style":559},[4715],{"type":411,"value":3128},{"type":405,"tag":504,"props":4717,"children":4718},{"style":565},[4719],{"type":411,"value":568},{"type":405,"tag":504,"props":4721,"children":4722},{"style":559},[4723],{"type":411,"value":4724}," target",{"type":405,"tag":504,"props":4726,"children":4727},{"style":523},[4728],{"type":411,"value":596},{"type":405,"tag":504,"props":4730,"children":4731},{"class":506,"line":711},[4732],{"type":405,"tag":504,"props":4733,"children":4734},{"style":523},[4735],{"type":411,"value":624},{"type":405,"tag":504,"props":4737,"children":4738},{"class":506,"line":721},[4739,4743,4748,4752],{"type":405,"tag":504,"props":4740,"children":4741},{"style":511},[4742],{"type":411,"value":514},{"type":405,"tag":504,"props":4744,"children":4745},{"style":517},[4746],{"type":411,"value":4747}," popTarget",{"type":405,"tag":504,"props":4749,"children":4750},{"style":523},[4751],{"type":411,"value":753},{"type":405,"tag":504,"props":4753,"children":4754},{"style":523},[4755],{"type":411,"value":552},{"type":405,"tag":504,"props":4757,"children":4758},{"class":506,"line":760},[4759,4763,4767,4771,4775],{"type":405,"tag":504,"props":4760,"children":4761},{"style":559},[4762],{"type":411,"value":4675},{"type":405,"tag":504,"props":4764,"children":4765},{"style":523},[4766],{"type":411,"value":691},{"type":405,"tag":504,"props":4768,"children":4769},{"style":517},[4770],{"type":411,"value":1633},{"type":405,"tag":504,"props":4772,"children":4773},{"style":581},[4774],{"type":411,"value":753},{"type":405,"tag":504,"props":4776,"children":4777},{"style":523},[4778],{"type":411,"value":596},{"type":405,"tag":504,"props":4780,"children":4781},{"class":506,"line":791},[4782,4786,4790,4794,4798,4802,4806,4811,4815,4819,4824,4829,4833],{"type":405,"tag":504,"props":4783,"children":4784},{"style":559},[4785],{"type":411,"value":4707},{"type":405,"tag":504,"props":4787,"children":4788},{"style":523},[4789],{"type":411,"value":691},{"type":405,"tag":504,"props":4791,"children":4792},{"style":559},[4793],{"type":411,"value":3128},{"type":405,"tag":504,"props":4795,"children":4796},{"style":565},[4797],{"type":411,"value":568},{"type":405,"tag":504,"props":4799,"children":4800},{"style":559},[4801],{"type":411,"value":4627},{"type":405,"tag":504,"props":4803,"children":4804},{"style":581},[4805],{"type":411,"value":1341},{"type":405,"tag":504,"props":4807,"children":4808},{"style":559},[4809],{"type":411,"value":4810},"targetStack",{"type":405,"tag":504,"props":4812,"children":4813},{"style":523},[4814],{"type":411,"value":691},{"type":405,"tag":504,"props":4816,"children":4817},{"style":1195},[4818],{"type":411,"value":1290},{"type":405,"tag":504,"props":4820,"children":4821},{"style":565},[4822],{"type":411,"value":4823}," -",{"type":405,"tag":504,"props":4825,"children":4826},{"style":781},[4827],{"type":411,"value":4828}," 1",{"type":405,"tag":504,"props":4830,"children":4831},{"style":581},[4832],{"type":411,"value":1749},{"type":405,"tag":504,"props":4834,"children":4835},{"style":523},[4836],{"type":411,"value":596},{"type":405,"tag":504,"props":4838,"children":4839},{"class":506,"line":800},[4840],{"type":405,"tag":504,"props":4841,"children":4842},{"style":523},[4843],{"type":411,"value":624},{"type":405,"tag":438,"props":4845,"children":4846},{},[4847],{"type":411,"value":4848},"既然 Dep 用来存放 Watcher，是依赖容器，那么，依赖就是 Watcher。",{"type":405,"tag":438,"props":4850,"children":4851},{},[4852],{"type":411,"value":4853},"Watcher 通过调用我们刚才提到的 pushTarget、popTarget 以维护全局的当前依赖（Dep.target）。全局的当前依赖只会有一个，因为 JS 是同步的，顺序执行的代码。我们先来看看 Watcher 怎么样维护当前依赖。",{"type":405,"tag":444,"props":4855,"children":4857},{"code":4856,"language":497,"meta":398,"className":498,"style":398},"class Watcher {\n  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n  get() {\n    pushTarget(this);\n    let value;\n    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n    const vm = this.vm;\n    // 触发 getter 更新\n    try {\n      value = this.getter.call(vm, vm);\n    } catch (e) {\n      if (this.user) {\n        handleError(e, vm, `getter for watcher \"${this.expression}\"`);\n      } else {\n        throw e;\n      }\n    } finally {\n      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n      // traverse 即递归读取对象的每一个元素\n      if (this.deep) {\n        traverse(value);\n      }\n      popTarget();\n      // 因为每次 get 之后都重收集了依赖，\n      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n      this.cleanupDeps();\n    }\n    return value;\n  }\n}\n",[4858],{"type":405,"tag":449,"props":4859,"children":4860},{"__ignoreMap":398},[4861,4877,4885,4893,4901,4917,4941,4956,4964,4997,5005,5017,5073,5102,5134,5213,5228,5245,5252,5268,5276,5284,5316,5340,5347,5363,5371,5379,5403,5410,5425,5432],{"type":405,"tag":504,"props":4862,"children":4863},{"class":506,"line":507},[4864,4868,4873],{"type":405,"tag":504,"props":4865,"children":4866},{"style":511},[4867],{"type":411,"value":642},{"type":405,"tag":504,"props":4869,"children":4870},{"style":645},[4871],{"type":411,"value":4872}," Watcher",{"type":405,"tag":504,"props":4874,"children":4875},{"style":523},[4876],{"type":411,"value":552},{"type":405,"tag":504,"props":4878,"children":4879},{"class":506,"line":555},[4880],{"type":405,"tag":504,"props":4881,"children":4882},{"style":715},[4883],{"type":411,"value":4884},"  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n",{"type":405,"tag":504,"props":4886,"children":4887},{"class":506,"line":599},[4888],{"type":405,"tag":504,"props":4889,"children":4890},{"style":715},[4891],{"type":411,"value":4892},"  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n",{"type":405,"tag":504,"props":4894,"children":4895},{"class":506,"line":618},[4896],{"type":405,"tag":504,"props":4897,"children":4898},{"style":715},[4899],{"type":411,"value":4900},"  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n",{"type":405,"tag":504,"props":4902,"children":4903},{"class":506,"line":627},[4904,4909,4913],{"type":405,"tag":504,"props":4905,"children":4906},{"style":1163},[4907],{"type":411,"value":4908},"  get",{"type":405,"tag":504,"props":4910,"children":4911},{"style":523},[4912],{"type":411,"value":753},{"type":405,"tag":504,"props":4914,"children":4915},{"style":523},[4916],{"type":411,"value":552},{"type":405,"tag":504,"props":4918,"children":4919},{"class":506,"line":636},[4920,4925,4929,4933,4937],{"type":405,"tag":504,"props":4921,"children":4922},{"style":517},[4923],{"type":411,"value":4924},"    pushTarget",{"type":405,"tag":504,"props":4926,"children":4927},{"style":581},[4928],{"type":411,"value":526},{"type":405,"tag":504,"props":4930,"children":4931},{"style":683},[4932],{"type":411,"value":1956},{"type":405,"tag":504,"props":4934,"children":4935},{"style":581},[4936],{"type":411,"value":547},{"type":405,"tag":504,"props":4938,"children":4939},{"style":523},[4940],{"type":411,"value":596},{"type":405,"tag":504,"props":4942,"children":4943},{"class":506,"line":654},[4944,4948,4952],{"type":405,"tag":504,"props":4945,"children":4946},{"style":511},[4947],{"type":411,"value":2028},{"type":405,"tag":504,"props":4949,"children":4950},{"style":559},[4951],{"type":411,"value":704},{"type":405,"tag":504,"props":4953,"children":4954},{"style":523},[4955],{"type":411,"value":596},{"type":405,"tag":504,"props":4957,"children":4958},{"class":506,"line":679},[4959],{"type":405,"tag":504,"props":4960,"children":4961},{"style":715},[4962],{"type":411,"value":4963},"    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n",{"type":405,"tag":504,"props":4965,"children":4966},{"class":506,"line":711},[4967,4971,4976,4980,4984,4988,4993],{"type":405,"tag":504,"props":4968,"children":4969},{"style":511},[4970],{"type":411,"value":1192},{"type":405,"tag":504,"props":4972,"children":4973},{"style":1195},[4974],{"type":411,"value":4975}," vm",{"type":405,"tag":504,"props":4977,"children":4978},{"style":565},[4979],{"type":411,"value":568},{"type":405,"tag":504,"props":4981,"children":4982},{"style":683},[4983],{"type":411,"value":844},{"type":405,"tag":504,"props":4985,"children":4986},{"style":523},[4987],{"type":411,"value":691},{"type":405,"tag":504,"props":4989,"children":4990},{"style":559},[4991],{"type":411,"value":4992},"vm",{"type":405,"tag":504,"props":4994,"children":4995},{"style":523},[4996],{"type":411,"value":596},{"type":405,"tag":504,"props":4998,"children":4999},{"class":506,"line":721},[5000],{"type":405,"tag":504,"props":5001,"children":5002},{"style":715},[5003],{"type":411,"value":5004},"    // 触发 getter 更新\n",{"type":405,"tag":504,"props":5006,"children":5007},{"class":506,"line":760},[5008,5013],{"type":405,"tag":504,"props":5009,"children":5010},{"style":603},[5011],{"type":411,"value":5012},"    try",{"type":405,"tag":504,"props":5014,"children":5015},{"style":523},[5016],{"type":411,"value":552},{"type":405,"tag":504,"props":5018,"children":5019},{"class":506,"line":791},[5020,5025,5029,5033,5037,5041,5045,5049,5053,5057,5061,5065,5069],{"type":405,"tag":504,"props":5021,"children":5022},{"style":559},[5023],{"type":411,"value":5024},"      value",{"type":405,"tag":504,"props":5026,"children":5027},{"style":565},[5028],{"type":411,"value":568},{"type":405,"tag":504,"props":5030,"children":5031},{"style":683},[5032],{"type":411,"value":844},{"type":405,"tag":504,"props":5034,"children":5035},{"style":523},[5036],{"type":411,"value":691},{"type":405,"tag":504,"props":5038,"children":5039},{"style":559},[5040],{"type":411,"value":2757},{"type":405,"tag":504,"props":5042,"children":5043},{"style":523},[5044],{"type":411,"value":691},{"type":405,"tag":504,"props":5046,"children":5047},{"style":517},[5048],{"type":411,"value":3071},{"type":405,"tag":504,"props":5050,"children":5051},{"style":581},[5052],{"type":411,"value":526},{"type":405,"tag":504,"props":5054,"children":5055},{"style":559},[5056],{"type":411,"value":4992},{"type":405,"tag":504,"props":5058,"children":5059},{"style":523},[5060],{"type":411,"value":537},{"type":405,"tag":504,"props":5062,"children":5063},{"style":559},[5064],{"type":411,"value":4975},{"type":405,"tag":504,"props":5066,"children":5067},{"style":581},[5068],{"type":411,"value":547},{"type":405,"tag":504,"props":5070,"children":5071},{"style":523},[5072],{"type":411,"value":596},{"type":405,"tag":504,"props":5074,"children":5075},{"class":506,"line":800},[5076,5080,5085,5089,5094,5098],{"type":405,"tag":504,"props":5077,"children":5078},{"style":523},[5079],{"type":411,"value":1089},{"type":405,"tag":504,"props":5081,"children":5082},{"style":603},[5083],{"type":411,"value":5084}," catch",{"type":405,"tag":504,"props":5086,"children":5087},{"style":581},[5088],{"type":411,"value":884},{"type":405,"tag":504,"props":5090,"children":5091},{"style":559},[5092],{"type":411,"value":5093},"e",{"type":405,"tag":504,"props":5095,"children":5096},{"style":581},[5097],{"type":411,"value":939},{"type":405,"tag":504,"props":5099,"children":5100},{"style":523},[5101],{"type":411,"value":916},{"type":405,"tag":504,"props":5103,"children":5104},{"class":506,"line":855},[5105,5109,5113,5117,5121,5126,5130],{"type":405,"tag":504,"props":5106,"children":5107},{"style":603},[5108],{"type":411,"value":925},{"type":405,"tag":504,"props":5110,"children":5111},{"style":581},[5112],{"type":411,"value":884},{"type":405,"tag":504,"props":5114,"children":5115},{"style":683},[5116],{"type":411,"value":1956},{"type":405,"tag":504,"props":5118,"children":5119},{"style":523},[5120],{"type":411,"value":691},{"type":405,"tag":504,"props":5122,"children":5123},{"style":559},[5124],{"type":411,"value":5125},"user",{"type":405,"tag":504,"props":5127,"children":5128},{"style":581},[5129],{"type":411,"value":939},{"type":405,"tag":504,"props":5131,"children":5132},{"style":523},[5133],{"type":411,"value":916},{"type":405,"tag":504,"props":5135,"children":5136},{"class":506,"line":864},[5137,5142,5146,5150,5154,5158,5162,5167,5172,5178,5182,5187,5192,5196,5200,5205,5209],{"type":405,"tag":504,"props":5138,"children":5139},{"style":517},[5140],{"type":411,"value":5141},"        handleError",{"type":405,"tag":504,"props":5143,"children":5144},{"style":581},[5145],{"type":411,"value":526},{"type":405,"tag":504,"props":5147,"children":5148},{"style":559},[5149],{"type":411,"value":5093},{"type":405,"tag":504,"props":5151,"children":5152},{"style":523},[5153],{"type":411,"value":537},{"type":405,"tag":504,"props":5155,"children":5156},{"style":559},[5157],{"type":411,"value":4975},{"type":405,"tag":504,"props":5159,"children":5160},{"style":523},[5161],{"type":411,"value":537},{"type":405,"tag":504,"props":5163,"children":5164},{"style":821},[5165],{"type":411,"value":5166}," `",{"type":405,"tag":504,"props":5168,"children":5169},{"style":827},[5170],{"type":411,"value":5171},"getter for watcher \"",{"type":405,"tag":504,"props":5173,"children":5175},{"style":5174},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[5176],{"type":411,"value":5177},"${",{"type":405,"tag":504,"props":5179,"children":5180},{"style":683},[5181],{"type":411,"value":1956},{"type":405,"tag":504,"props":5183,"children":5185},{"style":5184},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[5186],{"type":411,"value":691},{"type":405,"tag":504,"props":5188,"children":5189},{"style":559},[5190],{"type":411,"value":5191},"expression",{"type":405,"tag":504,"props":5193,"children":5194},{"style":5174},[5195],{"type":411,"value":2353},{"type":405,"tag":504,"props":5197,"children":5198},{"style":827},[5199],{"type":411,"value":835},{"type":405,"tag":504,"props":5201,"children":5202},{"style":821},[5203],{"type":411,"value":5204},"`",{"type":405,"tag":504,"props":5206,"children":5207},{"style":581},[5208],{"type":411,"value":547},{"type":405,"tag":504,"props":5210,"children":5211},{"style":523},[5212],{"type":411,"value":596},{"type":405,"tag":504,"props":5214,"children":5215},{"class":506,"line":873},[5216,5220,5224],{"type":405,"tag":504,"props":5217,"children":5218},{"style":523},[5219],{"type":411,"value":986},{"type":405,"tag":504,"props":5221,"children":5222},{"style":603},[5223],{"type":411,"value":991},{"type":405,"tag":504,"props":5225,"children":5226},{"style":523},[5227],{"type":411,"value":552},{"type":405,"tag":504,"props":5229,"children":5230},{"class":506,"line":919},[5231,5236,5241],{"type":405,"tag":504,"props":5232,"children":5233},{"style":603},[5234],{"type":411,"value":5235},"        throw",{"type":405,"tag":504,"props":5237,"children":5238},{"style":559},[5239],{"type":411,"value":5240}," e",{"type":405,"tag":504,"props":5242,"children":5243},{"style":523},[5244],{"type":411,"value":596},{"type":405,"tag":504,"props":5246,"children":5247},{"class":506,"line":946},[5248],{"type":405,"tag":504,"props":5249,"children":5250},{"style":523},[5251],{"type":411,"value":1046},{"type":405,"tag":504,"props":5253,"children":5254},{"class":506,"line":980},[5255,5259,5264],{"type":405,"tag":504,"props":5256,"children":5257},{"style":523},[5258],{"type":411,"value":1089},{"type":405,"tag":504,"props":5260,"children":5261},{"style":603},[5262],{"type":411,"value":5263}," finally",{"type":405,"tag":504,"props":5265,"children":5266},{"style":523},[5267],{"type":411,"value":552},{"type":405,"tag":504,"props":5269,"children":5270},{"class":506,"line":998},[5271],{"type":405,"tag":504,"props":5272,"children":5273},{"style":715},[5274],{"type":411,"value":5275},"      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n",{"type":405,"tag":504,"props":5277,"children":5278},{"class":506,"line":1040},[5279],{"type":405,"tag":504,"props":5280,"children":5281},{"style":715},[5282],{"type":411,"value":5283},"      // traverse 即递归读取对象的每一个元素\n",{"type":405,"tag":504,"props":5285,"children":5286},{"class":506,"line":1049},[5287,5291,5295,5299,5303,5308,5312],{"type":405,"tag":504,"props":5288,"children":5289},{"style":603},[5290],{"type":411,"value":925},{"type":405,"tag":504,"props":5292,"children":5293},{"style":581},[5294],{"type":411,"value":884},{"type":405,"tag":504,"props":5296,"children":5297},{"style":683},[5298],{"type":411,"value":1956},{"type":405,"tag":504,"props":5300,"children":5301},{"style":523},[5302],{"type":411,"value":691},{"type":405,"tag":504,"props":5304,"children":5305},{"style":559},[5306],{"type":411,"value":5307},"deep",{"type":405,"tag":504,"props":5309,"children":5310},{"style":581},[5311],{"type":411,"value":939},{"type":405,"tag":504,"props":5313,"children":5314},{"style":523},[5315],{"type":411,"value":916},{"type":405,"tag":504,"props":5317,"children":5318},{"class":506,"line":1083},[5319,5324,5328,5332,5336],{"type":405,"tag":504,"props":5320,"children":5321},{"style":517},[5322],{"type":411,"value":5323},"        traverse",{"type":405,"tag":504,"props":5325,"children":5326},{"style":581},[5327],{"type":411,"value":526},{"type":405,"tag":504,"props":5329,"children":5330},{"style":559},[5331],{"type":411,"value":532},{"type":405,"tag":504,"props":5333,"children":5334},{"style":581},[5335],{"type":411,"value":547},{"type":405,"tag":504,"props":5337,"children":5338},{"style":523},[5339],{"type":411,"value":596},{"type":405,"tag":504,"props":5341,"children":5342},{"class":506,"line":1100},[5343],{"type":405,"tag":504,"props":5344,"children":5345},{"style":523},[5346],{"type":411,"value":1046},{"type":405,"tag":504,"props":5348,"children":5349},{"class":506,"line":1133},[5350,5355,5359],{"type":405,"tag":504,"props":5351,"children":5352},{"style":517},[5353],{"type":411,"value":5354},"      popTarget",{"type":405,"tag":504,"props":5356,"children":5357},{"style":581},[5358],{"type":411,"value":753},{"type":405,"tag":504,"props":5360,"children":5361},{"style":523},[5362],{"type":411,"value":596},{"type":405,"tag":504,"props":5364,"children":5365},{"class":506,"line":1142},[5366],{"type":405,"tag":504,"props":5367,"children":5368},{"style":715},[5369],{"type":411,"value":5370},"      // 因为每次 get 之后都重收集了依赖，\n",{"type":405,"tag":504,"props":5372,"children":5373},{"class":506,"line":1151},[5374],{"type":405,"tag":504,"props":5375,"children":5376},{"style":715},[5377],{"type":411,"value":5378},"      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n",{"type":405,"tag":504,"props":5380,"children":5381},{"class":506,"line":1159},[5382,5386,5390,5395,5399],{"type":405,"tag":504,"props":5383,"children":5384},{"style":683},[5385],{"type":411,"value":1055},{"type":405,"tag":504,"props":5387,"children":5388},{"style":523},[5389],{"type":411,"value":691},{"type":405,"tag":504,"props":5391,"children":5392},{"style":517},[5393],{"type":411,"value":5394},"cleanupDeps",{"type":405,"tag":504,"props":5396,"children":5397},{"style":581},[5398],{"type":411,"value":753},{"type":405,"tag":504,"props":5400,"children":5401},{"style":523},[5402],{"type":411,"value":596},{"type":405,"tag":504,"props":5404,"children":5405},{"class":506,"line":1186},[5406],{"type":405,"tag":504,"props":5407,"children":5408},{"style":523},[5409],{"type":411,"value":1139},{"type":405,"tag":504,"props":5411,"children":5412},{"class":506,"line":1235},[5413,5417,5421],{"type":405,"tag":504,"props":5414,"children":5415},{"style":603},[5416],{"type":411,"value":2321},{"type":405,"tag":504,"props":5418,"children":5419},{"style":559},[5420],{"type":411,"value":704},{"type":405,"tag":504,"props":5422,"children":5423},{"style":523},[5424],{"type":411,"value":596},{"type":405,"tag":504,"props":5426,"children":5427},{"class":506,"line":1314},[5428],{"type":405,"tag":504,"props":5429,"children":5430},{"style":523},[5431],{"type":411,"value":1148},{"type":405,"tag":504,"props":5433,"children":5434},{"class":506,"line":1358},[5435],{"type":405,"tag":504,"props":5436,"children":5437},{"style":523},[5438],{"type":411,"value":624},{"type":405,"tag":438,"props":5440,"children":5441},{},[5442],{"type":411,"value":5443},"Vue 实例中，data 方法会返回一个新的对象，这个对象能将值的变化响应式更新到模板中。其实就是，新的对象返回来后，使用了 observe 方法观测其变化，而其每一个属性的依赖容器中，都会保存这个 Vue 实例的 watcher。这样一来，只要属性发生了变化，依赖容器就会通知 Vue 实例的 watcher 进行更新。至于要更新什么，那当然是“执行回调函数”啦。想象一下 Vue 实例中的 watch 的写法：",{"type":405,"tag":444,"props":5445,"children":5447},{"code":5446,"language":497,"meta":398,"className":498,"style":398},"new Vue({\n  data() {\n    return {\n      b: null,\n    };\n  },\n  watch: {\n    b() {\n      console.log(\"I'm callback\");\n    },\n  },\n});\n",[5448],{"type":405,"tag":449,"props":5449,"children":5450},{"__ignoreMap":398},[5451,5472,5488,5499,5519,5527,5535,5551,5567,5609,5616,5623],{"type":405,"tag":504,"props":5452,"children":5453},{"class":506,"line":507},[5454,5459,5464,5468],{"type":405,"tag":504,"props":5455,"children":5456},{"style":565},[5457],{"type":411,"value":5458},"new",{"type":405,"tag":504,"props":5460,"children":5461},{"style":517},[5462],{"type":411,"value":5463}," Vue",{"type":405,"tag":504,"props":5465,"children":5466},{"style":559},[5467],{"type":411,"value":526},{"type":405,"tag":504,"props":5469,"children":5470},{"style":523},[5471],{"type":411,"value":916},{"type":405,"tag":504,"props":5473,"children":5474},{"class":506,"line":555},[5475,5480,5484],{"type":405,"tag":504,"props":5476,"children":5477},{"style":1163},[5478],{"type":411,"value":5479},"  data",{"type":405,"tag":504,"props":5481,"children":5482},{"style":523},[5483],{"type":411,"value":753},{"type":405,"tag":504,"props":5485,"children":5486},{"style":523},[5487],{"type":411,"value":552},{"type":405,"tag":504,"props":5489,"children":5490},{"class":506,"line":599},[5491,5495],{"type":405,"tag":504,"props":5492,"children":5493},{"style":603},[5494],{"type":411,"value":2321},{"type":405,"tag":504,"props":5496,"children":5497},{"style":523},[5498],{"type":411,"value":552},{"type":405,"tag":504,"props":5500,"children":5501},{"class":506,"line":618},[5502,5507,5511,5515],{"type":405,"tag":504,"props":5503,"children":5504},{"style":581},[5505],{"type":411,"value":5506},"      b",{"type":405,"tag":504,"props":5508,"children":5509},{"style":523},[5510],{"type":411,"value":2975},{"type":405,"tag":504,"props":5512,"children":5513},{"style":4608},[5514],{"type":411,"value":4611},{"type":405,"tag":504,"props":5516,"children":5517},{"style":523},[5518],{"type":411,"value":1621},{"type":405,"tag":504,"props":5520,"children":5521},{"class":506,"line":627},[5522],{"type":405,"tag":504,"props":5523,"children":5524},{"style":523},[5525],{"type":411,"value":5526},"    };\n",{"type":405,"tag":504,"props":5528,"children":5529},{"class":506,"line":636},[5530],{"type":405,"tag":504,"props":5531,"children":5532},{"style":523},[5533],{"type":411,"value":5534},"  },\n",{"type":405,"tag":504,"props":5536,"children":5537},{"class":506,"line":654},[5538,5543,5547],{"type":405,"tag":504,"props":5539,"children":5540},{"style":581},[5541],{"type":411,"value":5542},"  watch",{"type":405,"tag":504,"props":5544,"children":5545},{"style":523},[5546],{"type":411,"value":2975},{"type":405,"tag":504,"props":5548,"children":5549},{"style":523},[5550],{"type":411,"value":552},{"type":405,"tag":504,"props":5552,"children":5553},{"class":506,"line":679},[5554,5559,5563],{"type":405,"tag":504,"props":5555,"children":5556},{"style":1163},[5557],{"type":411,"value":5558},"    b",{"type":405,"tag":504,"props":5560,"children":5561},{"style":523},[5562],{"type":411,"value":753},{"type":405,"tag":504,"props":5564,"children":5565},{"style":523},[5566],{"type":411,"value":552},{"type":405,"tag":504,"props":5568,"children":5569},{"class":506,"line":711},[5570,5575,5579,5584,5588,5592,5597,5601,5605],{"type":405,"tag":504,"props":5571,"children":5572},{"style":559},[5573],{"type":411,"value":5574},"      console",{"type":405,"tag":504,"props":5576,"children":5577},{"style":523},[5578],{"type":411,"value":691},{"type":405,"tag":504,"props":5580,"children":5581},{"style":517},[5582],{"type":411,"value":5583},"log",{"type":405,"tag":504,"props":5585,"children":5586},{"style":581},[5587],{"type":411,"value":526},{"type":405,"tag":504,"props":5589,"children":5590},{"style":821},[5591],{"type":411,"value":835},{"type":405,"tag":504,"props":5593,"children":5594},{"style":827},[5595],{"type":411,"value":5596},"I'm callback",{"type":405,"tag":504,"props":5598,"children":5599},{"style":821},[5600],{"type":411,"value":835},{"type":405,"tag":504,"props":5602,"children":5603},{"style":581},[5604],{"type":411,"value":547},{"type":405,"tag":504,"props":5606,"children":5607},{"style":523},[5608],{"type":411,"value":596},{"type":405,"tag":504,"props":5610,"children":5611},{"class":506,"line":721},[5612],{"type":405,"tag":504,"props":5613,"children":5614},{"style":523},[5615],{"type":411,"value":3329},{"type":405,"tag":504,"props":5617,"children":5618},{"class":506,"line":760},[5619],{"type":405,"tag":504,"props":5620,"children":5621},{"style":523},[5622],{"type":411,"value":5534},{"type":405,"tag":504,"props":5624,"children":5625},{"class":506,"line":791},[5626,5630,5634],{"type":405,"tag":504,"props":5627,"children":5628},{"style":523},[5629],{"type":411,"value":2353},{"type":405,"tag":504,"props":5631,"children":5632},{"style":559},[5633],{"type":411,"value":547},{"type":405,"tag":504,"props":5635,"children":5636},{"style":523},[5637],{"type":411,"value":596},{"type":405,"tag":438,"props":5639,"children":5640},{},[5641],{"type":411,"value":5642},"这个 watch 不就是（尝试）给 data.b 设置响应式属性么... 所以说依赖就是 Vue 实例与响应式属性之间的对应关系。Watcher 保存了这种关系，还保存了响应式数据、回调函数等一些额外信息。我们看 Watcher 的构造器：",{"type":405,"tag":444,"props":5644,"children":5646},{"code":5645,"language":497,"meta":398,"className":498,"style":398},"class Watcher {\n  constructor(vm, expOrFn, cb, options, isRenderWatcher) {\n    // vm 即 Vue 实例\n    this.vm = vm;\n    if (isRenderWatcher) {\n      vm._watcher = this;\n    }\n    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n    vm._watchers.push(this);\n\n    // options\n    if (options) {\n      this.deep = !!options.deep;\n      this.user = !!options.user;\n      this.lazy = !!options.lazy;\n      this.sync = !!options.sync;\n      this.before = options.before;\n    } else {\n      this.deep = this.user = this.lazy = this.sync = false;\n    }\n    this.cb = cb;\n    this.id = ++uid; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = [];\n    this.newDeps = [];\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n     */\n    this.expression =\n      process.env.NODE_ENV !== \"production\" ? expOrFn.toString() : \"\";\n    // parse expression for getter\n    if (typeof expOrFn === \"function\") {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n      this.getter = parsePath(expOrFn);\n    }\n\n    this.value = this.lazy ? undefined : this.get();\n  }\n}\n",[5647],{"type":405,"tag":449,"props":5648,"children":5649},{"__ignoreMap":398},[5650,5665,5724,5732,5759,5783,5812,5819,5827,5868,5875,5883,5907,5947,5986,6026,6066,6102,6117,6192,6199,6227,6265,6293,6334,6362,6390,6427,6463,6470,6478,6486,6494,6514,6589,6597,6641,6668,6683,6691,6732,6739,6746,6811,6818],{"type":405,"tag":504,"props":5651,"children":5652},{"class":506,"line":507},[5653,5657,5661],{"type":405,"tag":504,"props":5654,"children":5655},{"style":511},[5656],{"type":411,"value":642},{"type":405,"tag":504,"props":5658,"children":5659},{"style":645},[5660],{"type":411,"value":4872},{"type":405,"tag":504,"props":5662,"children":5663},{"style":523},[5664],{"type":411,"value":552},{"type":405,"tag":504,"props":5666,"children":5667},{"class":506,"line":555},[5668,5672,5676,5680,5684,5689,5693,5698,5702,5707,5711,5716,5720],{"type":405,"tag":504,"props":5669,"children":5670},{"style":511},[5671],{"type":411,"value":660},{"type":405,"tag":504,"props":5673,"children":5674},{"style":523},[5675],{"type":411,"value":526},{"type":405,"tag":504,"props":5677,"children":5678},{"style":529},[5679],{"type":411,"value":4992},{"type":405,"tag":504,"props":5681,"children":5682},{"style":523},[5683],{"type":411,"value":537},{"type":405,"tag":504,"props":5685,"children":5686},{"style":529},[5687],{"type":411,"value":5688}," expOrFn",{"type":405,"tag":504,"props":5690,"children":5691},{"style":523},[5692],{"type":411,"value":537},{"type":405,"tag":504,"props":5694,"children":5695},{"style":529},[5696],{"type":411,"value":5697}," cb",{"type":405,"tag":504,"props":5699,"children":5700},{"style":523},[5701],{"type":411,"value":537},{"type":405,"tag":504,"props":5703,"children":5704},{"style":529},[5705],{"type":411,"value":5706}," options",{"type":405,"tag":504,"props":5708,"children":5709},{"style":523},[5710],{"type":411,"value":537},{"type":405,"tag":504,"props":5712,"children":5713},{"style":529},[5714],{"type":411,"value":5715}," isRenderWatcher",{"type":405,"tag":504,"props":5717,"children":5718},{"style":523},[5719],{"type":411,"value":547},{"type":405,"tag":504,"props":5721,"children":5722},{"style":523},[5723],{"type":411,"value":552},{"type":405,"tag":504,"props":5725,"children":5726},{"class":506,"line":599},[5727],{"type":405,"tag":504,"props":5728,"children":5729},{"style":715},[5730],{"type":411,"value":5731},"    // vm 即 Vue 实例\n",{"type":405,"tag":504,"props":5733,"children":5734},{"class":506,"line":618},[5735,5739,5743,5747,5751,5755],{"type":405,"tag":504,"props":5736,"children":5737},{"style":683},[5738],{"type":411,"value":686},{"type":405,"tag":504,"props":5740,"children":5741},{"style":523},[5742],{"type":411,"value":691},{"type":405,"tag":504,"props":5744,"children":5745},{"style":559},[5746],{"type":411,"value":4992},{"type":405,"tag":504,"props":5748,"children":5749},{"style":565},[5750],{"type":411,"value":568},{"type":405,"tag":504,"props":5752,"children":5753},{"style":559},[5754],{"type":411,"value":4975},{"type":405,"tag":504,"props":5756,"children":5757},{"style":523},[5758],{"type":411,"value":596},{"type":405,"tag":504,"props":5760,"children":5761},{"class":506,"line":627},[5762,5766,5770,5775,5779],{"type":405,"tag":504,"props":5763,"children":5764},{"style":603},[5765],{"type":411,"value":879},{"type":405,"tag":504,"props":5767,"children":5768},{"style":581},[5769],{"type":411,"value":884},{"type":405,"tag":504,"props":5771,"children":5772},{"style":559},[5773],{"type":411,"value":5774},"isRenderWatcher",{"type":405,"tag":504,"props":5776,"children":5777},{"style":581},[5778],{"type":411,"value":939},{"type":405,"tag":504,"props":5780,"children":5781},{"style":523},[5782],{"type":411,"value":916},{"type":405,"tag":504,"props":5784,"children":5785},{"class":506,"line":636},[5786,5791,5795,5800,5804,5808],{"type":405,"tag":504,"props":5787,"children":5788},{"style":559},[5789],{"type":411,"value":5790},"      vm",{"type":405,"tag":504,"props":5792,"children":5793},{"style":523},[5794],{"type":411,"value":691},{"type":405,"tag":504,"props":5796,"children":5797},{"style":559},[5798],{"type":411,"value":5799},"_watcher",{"type":405,"tag":504,"props":5801,"children":5802},{"style":565},[5803],{"type":411,"value":568},{"type":405,"tag":504,"props":5805,"children":5806},{"style":683},[5807],{"type":411,"value":844},{"type":405,"tag":504,"props":5809,"children":5810},{"style":523},[5811],{"type":411,"value":596},{"type":405,"tag":504,"props":5813,"children":5814},{"class":506,"line":654},[5815],{"type":405,"tag":504,"props":5816,"children":5817},{"style":523},[5818],{"type":411,"value":1139},{"type":405,"tag":504,"props":5820,"children":5821},{"class":506,"line":679},[5822],{"type":405,"tag":504,"props":5823,"children":5824},{"style":715},[5825],{"type":411,"value":5826},"    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n",{"type":405,"tag":504,"props":5828,"children":5829},{"class":506,"line":711},[5830,5835,5839,5844,5848,5852,5856,5860,5864],{"type":405,"tag":504,"props":5831,"children":5832},{"style":559},[5833],{"type":411,"value":5834},"    vm",{"type":405,"tag":504,"props":5836,"children":5837},{"style":523},[5838],{"type":411,"value":691},{"type":405,"tag":504,"props":5840,"children":5841},{"style":559},[5842],{"type":411,"value":5843},"_watchers",{"type":405,"tag":504,"props":5845,"children":5846},{"style":523},[5847],{"type":411,"value":691},{"type":405,"tag":504,"props":5849,"children":5850},{"style":517},[5851],{"type":411,"value":1612},{"type":405,"tag":504,"props":5853,"children":5854},{"style":581},[5855],{"type":411,"value":526},{"type":405,"tag":504,"props":5857,"children":5858},{"style":683},[5859],{"type":411,"value":1956},{"type":405,"tag":504,"props":5861,"children":5862},{"style":581},[5863],{"type":411,"value":547},{"type":405,"tag":504,"props":5865,"children":5866},{"style":523},[5867],{"type":411,"value":596},{"type":405,"tag":504,"props":5869,"children":5870},{"class":506,"line":721},[5871],{"type":405,"tag":504,"props":5872,"children":5873},{"emptyLinePlaceholder":397},[5874],{"type":411,"value":633},{"type":405,"tag":504,"props":5876,"children":5877},{"class":506,"line":760},[5878],{"type":405,"tag":504,"props":5879,"children":5880},{"style":715},[5881],{"type":411,"value":5882},"    // options\n",{"type":405,"tag":504,"props":5884,"children":5885},{"class":506,"line":791},[5886,5890,5894,5899,5903],{"type":405,"tag":504,"props":5887,"children":5888},{"style":603},[5889],{"type":411,"value":879},{"type":405,"tag":504,"props":5891,"children":5892},{"style":581},[5893],{"type":411,"value":884},{"type":405,"tag":504,"props":5895,"children":5896},{"style":559},[5897],{"type":411,"value":5898},"options",{"type":405,"tag":504,"props":5900,"children":5901},{"style":581},[5902],{"type":411,"value":939},{"type":405,"tag":504,"props":5904,"children":5905},{"style":523},[5906],{"type":411,"value":916},{"type":405,"tag":504,"props":5908,"children":5909},{"class":506,"line":800},[5910,5914,5918,5922,5926,5931,5935,5939,5943],{"type":405,"tag":504,"props":5911,"children":5912},{"style":683},[5913],{"type":411,"value":1055},{"type":405,"tag":504,"props":5915,"children":5916},{"style":523},[5917],{"type":411,"value":691},{"type":405,"tag":504,"props":5919,"children":5920},{"style":559},[5921],{"type":411,"value":5307},{"type":405,"tag":504,"props":5923,"children":5924},{"style":565},[5925],{"type":411,"value":568},{"type":405,"tag":504,"props":5927,"children":5928},{"style":565},[5929],{"type":411,"value":5930}," !!",{"type":405,"tag":504,"props":5932,"children":5933},{"style":559},[5934],{"type":411,"value":5898},{"type":405,"tag":504,"props":5936,"children":5937},{"style":523},[5938],{"type":411,"value":691},{"type":405,"tag":504,"props":5940,"children":5941},{"style":559},[5942],{"type":411,"value":5307},{"type":405,"tag":504,"props":5944,"children":5945},{"style":523},[5946],{"type":411,"value":596},{"type":405,"tag":504,"props":5948,"children":5949},{"class":506,"line":855},[5950,5954,5958,5962,5966,5970,5974,5978,5982],{"type":405,"tag":504,"props":5951,"children":5952},{"style":683},[5953],{"type":411,"value":1055},{"type":405,"tag":504,"props":5955,"children":5956},{"style":523},[5957],{"type":411,"value":691},{"type":405,"tag":504,"props":5959,"children":5960},{"style":559},[5961],{"type":411,"value":5125},{"type":405,"tag":504,"props":5963,"children":5964},{"style":565},[5965],{"type":411,"value":568},{"type":405,"tag":504,"props":5967,"children":5968},{"style":565},[5969],{"type":411,"value":5930},{"type":405,"tag":504,"props":5971,"children":5972},{"style":559},[5973],{"type":411,"value":5898},{"type":405,"tag":504,"props":5975,"children":5976},{"style":523},[5977],{"type":411,"value":691},{"type":405,"tag":504,"props":5979,"children":5980},{"style":559},[5981],{"type":411,"value":5125},{"type":405,"tag":504,"props":5983,"children":5984},{"style":523},[5985],{"type":411,"value":596},{"type":405,"tag":504,"props":5987,"children":5988},{"class":506,"line":864},[5989,5993,5997,6002,6006,6010,6014,6018,6022],{"type":405,"tag":504,"props":5990,"children":5991},{"style":683},[5992],{"type":411,"value":1055},{"type":405,"tag":504,"props":5994,"children":5995},{"style":523},[5996],{"type":411,"value":691},{"type":405,"tag":504,"props":5998,"children":5999},{"style":559},[6000],{"type":411,"value":6001},"lazy",{"type":405,"tag":504,"props":6003,"children":6004},{"style":565},[6005],{"type":411,"value":568},{"type":405,"tag":504,"props":6007,"children":6008},{"style":565},[6009],{"type":411,"value":5930},{"type":405,"tag":504,"props":6011,"children":6012},{"style":559},[6013],{"type":411,"value":5898},{"type":405,"tag":504,"props":6015,"children":6016},{"style":523},[6017],{"type":411,"value":691},{"type":405,"tag":504,"props":6019,"children":6020},{"style":559},[6021],{"type":411,"value":6001},{"type":405,"tag":504,"props":6023,"children":6024},{"style":523},[6025],{"type":411,"value":596},{"type":405,"tag":504,"props":6027,"children":6028},{"class":506,"line":873},[6029,6033,6037,6042,6046,6050,6054,6058,6062],{"type":405,"tag":504,"props":6030,"children":6031},{"style":683},[6032],{"type":411,"value":1055},{"type":405,"tag":504,"props":6034,"children":6035},{"style":523},[6036],{"type":411,"value":691},{"type":405,"tag":504,"props":6038,"children":6039},{"style":559},[6040],{"type":411,"value":6041},"sync",{"type":405,"tag":504,"props":6043,"children":6044},{"style":565},[6045],{"type":411,"value":568},{"type":405,"tag":504,"props":6047,"children":6048},{"style":565},[6049],{"type":411,"value":5930},{"type":405,"tag":504,"props":6051,"children":6052},{"style":559},[6053],{"type":411,"value":5898},{"type":405,"tag":504,"props":6055,"children":6056},{"style":523},[6057],{"type":411,"value":691},{"type":405,"tag":504,"props":6059,"children":6060},{"style":559},[6061],{"type":411,"value":6041},{"type":405,"tag":504,"props":6063,"children":6064},{"style":523},[6065],{"type":411,"value":596},{"type":405,"tag":504,"props":6067,"children":6068},{"class":506,"line":919},[6069,6073,6077,6082,6086,6090,6094,6098],{"type":405,"tag":504,"props":6070,"children":6071},{"style":683},[6072],{"type":411,"value":1055},{"type":405,"tag":504,"props":6074,"children":6075},{"style":523},[6076],{"type":411,"value":691},{"type":405,"tag":504,"props":6078,"children":6079},{"style":559},[6080],{"type":411,"value":6081},"before",{"type":405,"tag":504,"props":6083,"children":6084},{"style":565},[6085],{"type":411,"value":568},{"type":405,"tag":504,"props":6087,"children":6088},{"style":559},[6089],{"type":411,"value":5706},{"type":405,"tag":504,"props":6091,"children":6092},{"style":523},[6093],{"type":411,"value":691},{"type":405,"tag":504,"props":6095,"children":6096},{"style":559},[6097],{"type":411,"value":6081},{"type":405,"tag":504,"props":6099,"children":6100},{"style":523},[6101],{"type":411,"value":596},{"type":405,"tag":504,"props":6103,"children":6104},{"class":506,"line":946},[6105,6109,6113],{"type":405,"tag":504,"props":6106,"children":6107},{"style":523},[6108],{"type":411,"value":1089},{"type":405,"tag":504,"props":6110,"children":6111},{"style":603},[6112],{"type":411,"value":991},{"type":405,"tag":504,"props":6114,"children":6115},{"style":523},[6116],{"type":411,"value":552},{"type":405,"tag":504,"props":6118,"children":6119},{"class":506,"line":980},[6120,6124,6128,6132,6136,6140,6144,6148,6152,6156,6160,6164,6168,6172,6176,6180,6184,6188],{"type":405,"tag":504,"props":6121,"children":6122},{"style":683},[6123],{"type":411,"value":1055},{"type":405,"tag":504,"props":6125,"children":6126},{"style":523},[6127],{"type":411,"value":691},{"type":405,"tag":504,"props":6129,"children":6130},{"style":559},[6131],{"type":411,"value":5307},{"type":405,"tag":504,"props":6133,"children":6134},{"style":565},[6135],{"type":411,"value":568},{"type":405,"tag":504,"props":6137,"children":6138},{"style":683},[6139],{"type":411,"value":844},{"type":405,"tag":504,"props":6141,"children":6142},{"style":523},[6143],{"type":411,"value":691},{"type":405,"tag":504,"props":6145,"children":6146},{"style":559},[6147],{"type":411,"value":5125},{"type":405,"tag":504,"props":6149,"children":6150},{"style":565},[6151],{"type":411,"value":568},{"type":405,"tag":504,"props":6153,"children":6154},{"style":683},[6155],{"type":411,"value":844},{"type":405,"tag":504,"props":6157,"children":6158},{"style":523},[6159],{"type":411,"value":691},{"type":405,"tag":504,"props":6161,"children":6162},{"style":559},[6163],{"type":411,"value":6001},{"type":405,"tag":504,"props":6165,"children":6166},{"style":565},[6167],{"type":411,"value":568},{"type":405,"tag":504,"props":6169,"children":6170},{"style":683},[6171],{"type":411,"value":844},{"type":405,"tag":504,"props":6173,"children":6174},{"style":523},[6175],{"type":411,"value":691},{"type":405,"tag":504,"props":6177,"children":6178},{"style":559},[6179],{"type":411,"value":6041},{"type":405,"tag":504,"props":6181,"children":6182},{"style":565},[6183],{"type":411,"value":568},{"type":405,"tag":504,"props":6185,"children":6186},{"style":2601},[6187],{"type":411,"value":2604},{"type":405,"tag":504,"props":6189,"children":6190},{"style":523},[6191],{"type":411,"value":596},{"type":405,"tag":504,"props":6193,"children":6194},{"class":506,"line":998},[6195],{"type":405,"tag":504,"props":6196,"children":6197},{"style":523},[6198],{"type":411,"value":1139},{"type":405,"tag":504,"props":6200,"children":6201},{"class":506,"line":1040},[6202,6206,6210,6215,6219,6223],{"type":405,"tag":504,"props":6203,"children":6204},{"style":683},[6205],{"type":411,"value":686},{"type":405,"tag":504,"props":6207,"children":6208},{"style":523},[6209],{"type":411,"value":691},{"type":405,"tag":504,"props":6211,"children":6212},{"style":559},[6213],{"type":411,"value":6214},"cb",{"type":405,"tag":504,"props":6216,"children":6217},{"style":565},[6218],{"type":411,"value":568},{"type":405,"tag":504,"props":6220,"children":6221},{"style":559},[6222],{"type":411,"value":5697},{"type":405,"tag":504,"props":6224,"children":6225},{"style":523},[6226],{"type":411,"value":596},{"type":405,"tag":504,"props":6228,"children":6229},{"class":506,"line":1049},[6230,6234,6238,6242,6246,6251,6256,6260],{"type":405,"tag":504,"props":6231,"children":6232},{"style":683},[6233],{"type":411,"value":686},{"type":405,"tag":504,"props":6235,"children":6236},{"style":523},[6237],{"type":411,"value":691},{"type":405,"tag":504,"props":6239,"children":6240},{"style":559},[6241],{"type":411,"value":3992},{"type":405,"tag":504,"props":6243,"children":6244},{"style":565},[6245],{"type":411,"value":568},{"type":405,"tag":504,"props":6247,"children":6248},{"style":565},[6249],{"type":411,"value":6250}," ++",{"type":405,"tag":504,"props":6252,"children":6253},{"style":559},[6254],{"type":411,"value":6255},"uid",{"type":405,"tag":504,"props":6257,"children":6258},{"style":523},[6259],{"type":411,"value":1268},{"type":405,"tag":504,"props":6261,"children":6262},{"style":715},[6263],{"type":411,"value":6264}," // uid for batching\n",{"type":405,"tag":504,"props":6266,"children":6267},{"class":506,"line":1083},[6268,6272,6276,6281,6285,6289],{"type":405,"tag":504,"props":6269,"children":6270},{"style":683},[6271],{"type":411,"value":686},{"type":405,"tag":504,"props":6273,"children":6274},{"style":523},[6275],{"type":411,"value":691},{"type":405,"tag":504,"props":6277,"children":6278},{"style":559},[6279],{"type":411,"value":6280},"active",{"type":405,"tag":504,"props":6282,"children":6283},{"style":565},[6284],{"type":411,"value":568},{"type":405,"tag":504,"props":6286,"children":6287},{"style":2601},[6288],{"type":411,"value":2980},{"type":405,"tag":504,"props":6290,"children":6291},{"style":523},[6292],{"type":411,"value":596},{"type":405,"tag":504,"props":6294,"children":6295},{"class":506,"line":1100},[6296,6300,6304,6309,6313,6317,6321,6325,6329],{"type":405,"tag":504,"props":6297,"children":6298},{"style":683},[6299],{"type":411,"value":686},{"type":405,"tag":504,"props":6301,"children":6302},{"style":523},[6303],{"type":411,"value":691},{"type":405,"tag":504,"props":6305,"children":6306},{"style":559},[6307],{"type":411,"value":6308},"dirty",{"type":405,"tag":504,"props":6310,"children":6311},{"style":565},[6312],{"type":411,"value":568},{"type":405,"tag":504,"props":6314,"children":6315},{"style":683},[6316],{"type":411,"value":844},{"type":405,"tag":504,"props":6318,"children":6319},{"style":523},[6320],{"type":411,"value":691},{"type":405,"tag":504,"props":6322,"children":6323},{"style":559},[6324],{"type":411,"value":6001},{"type":405,"tag":504,"props":6326,"children":6327},{"style":523},[6328],{"type":411,"value":1268},{"type":405,"tag":504,"props":6330,"children":6331},{"style":715},[6332],{"type":411,"value":6333}," // for lazy watchers\n",{"type":405,"tag":504,"props":6335,"children":6336},{"class":506,"line":1133},[6337,6341,6345,6350,6354,6358],{"type":405,"tag":504,"props":6338,"children":6339},{"style":683},[6340],{"type":411,"value":686},{"type":405,"tag":504,"props":6342,"children":6343},{"style":523},[6344],{"type":411,"value":691},{"type":405,"tag":504,"props":6346,"children":6347},{"style":559},[6348],{"type":411,"value":6349},"deps",{"type":405,"tag":504,"props":6351,"children":6352},{"style":565},[6353],{"type":411,"value":568},{"type":405,"tag":504,"props":6355,"children":6356},{"style":581},[6357],{"type":411,"value":4034},{"type":405,"tag":504,"props":6359,"children":6360},{"style":523},[6361],{"type":411,"value":596},{"type":405,"tag":504,"props":6363,"children":6364},{"class":506,"line":1142},[6365,6369,6373,6378,6382,6386],{"type":405,"tag":504,"props":6366,"children":6367},{"style":683},[6368],{"type":411,"value":686},{"type":405,"tag":504,"props":6370,"children":6371},{"style":523},[6372],{"type":411,"value":691},{"type":405,"tag":504,"props":6374,"children":6375},{"style":559},[6376],{"type":411,"value":6377},"newDeps",{"type":405,"tag":504,"props":6379,"children":6380},{"style":565},[6381],{"type":411,"value":568},{"type":405,"tag":504,"props":6383,"children":6384},{"style":581},[6385],{"type":411,"value":4034},{"type":405,"tag":504,"props":6387,"children":6388},{"style":523},[6389],{"type":411,"value":596},{"type":405,"tag":504,"props":6391,"children":6392},{"class":506,"line":1151},[6393,6397,6401,6406,6410,6414,6419,6423],{"type":405,"tag":504,"props":6394,"children":6395},{"style":683},[6396],{"type":411,"value":686},{"type":405,"tag":504,"props":6398,"children":6399},{"style":523},[6400],{"type":411,"value":691},{"type":405,"tag":504,"props":6402,"children":6403},{"style":559},[6404],{"type":411,"value":6405},"depIds",{"type":405,"tag":504,"props":6407,"children":6408},{"style":565},[6409],{"type":411,"value":568},{"type":405,"tag":504,"props":6411,"children":6412},{"style":565},[6413],{"type":411,"value":573},{"type":405,"tag":504,"props":6415,"children":6416},{"style":517},[6417],{"type":411,"value":6418}," Set",{"type":405,"tag":504,"props":6420,"children":6421},{"style":581},[6422],{"type":411,"value":753},{"type":405,"tag":504,"props":6424,"children":6425},{"style":523},[6426],{"type":411,"value":596},{"type":405,"tag":504,"props":6428,"children":6429},{"class":506,"line":1159},[6430,6434,6438,6443,6447,6451,6455,6459],{"type":405,"tag":504,"props":6431,"children":6432},{"style":683},[6433],{"type":411,"value":686},{"type":405,"tag":504,"props":6435,"children":6436},{"style":523},[6437],{"type":411,"value":691},{"type":405,"tag":504,"props":6439,"children":6440},{"style":559},[6441],{"type":411,"value":6442},"newDepIds",{"type":405,"tag":504,"props":6444,"children":6445},{"style":565},[6446],{"type":411,"value":568},{"type":405,"tag":504,"props":6448,"children":6449},{"style":565},[6450],{"type":411,"value":573},{"type":405,"tag":504,"props":6452,"children":6453},{"style":517},[6454],{"type":411,"value":6418},{"type":405,"tag":504,"props":6456,"children":6457},{"style":581},[6458],{"type":411,"value":753},{"type":405,"tag":504,"props":6460,"children":6461},{"style":523},[6462],{"type":411,"value":596},{"type":405,"tag":504,"props":6464,"children":6465},{"class":506,"line":1186},[6466],{"type":405,"tag":504,"props":6467,"children":6468},{"emptyLinePlaceholder":397},[6469],{"type":411,"value":633},{"type":405,"tag":504,"props":6471,"children":6472},{"class":506,"line":1235},[6473],{"type":405,"tag":504,"props":6474,"children":6475},{"style":715},[6476],{"type":411,"value":6477},"    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n",{"type":405,"tag":504,"props":6479,"children":6480},{"class":506,"line":1314},[6481],{"type":405,"tag":504,"props":6482,"children":6483},{"style":715},[6484],{"type":411,"value":6485},"     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n",{"type":405,"tag":504,"props":6487,"children":6488},{"class":506,"line":1358},[6489],{"type":405,"tag":504,"props":6490,"children":6491},{"style":715},[6492],{"type":411,"value":6493},"     */\n",{"type":405,"tag":504,"props":6495,"children":6496},{"class":506,"line":1366},[6497,6501,6505,6509],{"type":405,"tag":504,"props":6498,"children":6499},{"style":683},[6500],{"type":411,"value":686},{"type":405,"tag":504,"props":6502,"children":6503},{"style":523},[6504],{"type":411,"value":691},{"type":405,"tag":504,"props":6506,"children":6507},{"style":559},[6508],{"type":411,"value":5191},{"type":405,"tag":504,"props":6510,"children":6511},{"style":565},[6512],{"type":411,"value":6513}," =\n",{"type":405,"tag":504,"props":6515,"children":6516},{"class":506,"line":1374},[6517,6522,6526,6530,6534,6538,6542,6546,6550,6554,6558,6562,6566,6571,6576,6580,6585],{"type":405,"tag":504,"props":6518,"children":6519},{"style":559},[6520],{"type":411,"value":6521},"      process",{"type":405,"tag":504,"props":6523,"children":6524},{"style":523},[6525],{"type":411,"value":691},{"type":405,"tag":504,"props":6527,"children":6528},{"style":559},[6529],{"type":411,"value":3562},{"type":405,"tag":504,"props":6531,"children":6532},{"style":523},[6533],{"type":411,"value":691},{"type":405,"tag":504,"props":6535,"children":6536},{"style":1195},[6537],{"type":411,"value":3571},{"type":405,"tag":504,"props":6539,"children":6540},{"style":565},[6541],{"type":411,"value":3477},{"type":405,"tag":504,"props":6543,"children":6544},{"style":821},[6545],{"type":411,"value":824},{"type":405,"tag":504,"props":6547,"children":6548},{"style":827},[6549],{"type":411,"value":3584},{"type":405,"tag":504,"props":6551,"children":6552},{"style":821},[6553],{"type":411,"value":835},{"type":405,"tag":504,"props":6555,"children":6556},{"style":565},[6557],{"type":411,"value":3058},{"type":405,"tag":504,"props":6559,"children":6560},{"style":559},[6561],{"type":411,"value":5688},{"type":405,"tag":504,"props":6563,"children":6564},{"style":523},[6565],{"type":411,"value":691},{"type":405,"tag":504,"props":6567,"children":6568},{"style":517},[6569],{"type":411,"value":6570},"toString",{"type":405,"tag":504,"props":6572,"children":6573},{"style":581},[6574],{"type":411,"value":6575},"() ",{"type":405,"tag":504,"props":6577,"children":6578},{"style":565},[6579],{"type":411,"value":2975},{"type":405,"tag":504,"props":6581,"children":6582},{"style":821},[6583],{"type":411,"value":6584}," \"\"",{"type":405,"tag":504,"props":6586,"children":6587},{"style":523},[6588],{"type":411,"value":596},{"type":405,"tag":504,"props":6590,"children":6591},{"class":506,"line":1382},[6592],{"type":405,"tag":504,"props":6593,"children":6594},{"style":715},[6595],{"type":411,"value":6596},"    // parse expression for getter\n",{"type":405,"tag":504,"props":6598,"children":6599},{"class":506,"line":1408},[6600,6604,6608,6613,6617,6621,6625,6629,6633,6637],{"type":405,"tag":504,"props":6601,"children":6602},{"style":603},[6603],{"type":411,"value":879},{"type":405,"tag":504,"props":6605,"children":6606},{"style":581},[6607],{"type":411,"value":884},{"type":405,"tag":504,"props":6609,"children":6610},{"style":565},[6611],{"type":411,"value":6612},"typeof",{"type":405,"tag":504,"props":6614,"children":6615},{"style":559},[6616],{"type":411,"value":5688},{"type":405,"tag":504,"props":6618,"children":6619},{"style":565},[6620],{"type":411,"value":2598},{"type":405,"tag":504,"props":6622,"children":6623},{"style":821},[6624],{"type":411,"value":824},{"type":405,"tag":504,"props":6626,"children":6627},{"style":827},[6628],{"type":411,"value":514},{"type":405,"tag":504,"props":6630,"children":6631},{"style":821},[6632],{"type":411,"value":835},{"type":405,"tag":504,"props":6634,"children":6635},{"style":581},[6636],{"type":411,"value":939},{"type":405,"tag":504,"props":6638,"children":6639},{"style":523},[6640],{"type":411,"value":916},{"type":405,"tag":504,"props":6642,"children":6643},{"class":506,"line":1498},[6644,6648,6652,6656,6660,6664],{"type":405,"tag":504,"props":6645,"children":6646},{"style":683},[6647],{"type":411,"value":1055},{"type":405,"tag":504,"props":6649,"children":6650},{"style":523},[6651],{"type":411,"value":691},{"type":405,"tag":504,"props":6653,"children":6654},{"style":559},[6655],{"type":411,"value":2757},{"type":405,"tag":504,"props":6657,"children":6658},{"style":565},[6659],{"type":411,"value":568},{"type":405,"tag":504,"props":6661,"children":6662},{"style":559},[6663],{"type":411,"value":5688},{"type":405,"tag":504,"props":6665,"children":6666},{"style":523},[6667],{"type":411,"value":596},{"type":405,"tag":504,"props":6669,"children":6670},{"class":506,"line":1531},[6671,6675,6679],{"type":405,"tag":504,"props":6672,"children":6673},{"style":523},[6674],{"type":411,"value":1089},{"type":405,"tag":504,"props":6676,"children":6677},{"style":603},[6678],{"type":411,"value":991},{"type":405,"tag":504,"props":6680,"children":6681},{"style":523},[6682],{"type":411,"value":552},{"type":405,"tag":504,"props":6684,"children":6685},{"class":506,"line":1539},[6686],{"type":405,"tag":504,"props":6687,"children":6688},{"style":715},[6689],{"type":411,"value":6690},"      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n",{"type":405,"tag":504,"props":6692,"children":6693},{"class":506,"line":1547},[6694,6698,6702,6706,6710,6715,6719,6724,6728],{"type":405,"tag":504,"props":6695,"children":6696},{"style":683},[6697],{"type":411,"value":1055},{"type":405,"tag":504,"props":6699,"children":6700},{"style":523},[6701],{"type":411,"value":691},{"type":405,"tag":504,"props":6703,"children":6704},{"style":559},[6705],{"type":411,"value":2757},{"type":405,"tag":504,"props":6707,"children":6708},{"style":565},[6709],{"type":411,"value":568},{"type":405,"tag":504,"props":6711,"children":6712},{"style":517},[6713],{"type":411,"value":6714}," parsePath",{"type":405,"tag":504,"props":6716,"children":6717},{"style":581},[6718],{"type":411,"value":526},{"type":405,"tag":504,"props":6720,"children":6721},{"style":559},[6722],{"type":411,"value":6723},"expOrFn",{"type":405,"tag":504,"props":6725,"children":6726},{"style":581},[6727],{"type":411,"value":547},{"type":405,"tag":504,"props":6729,"children":6730},{"style":523},[6731],{"type":411,"value":596},{"type":405,"tag":504,"props":6733,"children":6734},{"class":506,"line":3370},[6735],{"type":405,"tag":504,"props":6736,"children":6737},{"style":523},[6738],{"type":411,"value":1139},{"type":405,"tag":504,"props":6740,"children":6741},{"class":506,"line":3430},[6742],{"type":405,"tag":504,"props":6743,"children":6744},{"emptyLinePlaceholder":397},[6745],{"type":411,"value":633},{"type":405,"tag":504,"props":6747,"children":6748},{"class":506,"line":3439},[6749,6753,6757,6761,6765,6769,6773,6777,6781,6786,6791,6795,6799,6803,6807],{"type":405,"tag":504,"props":6750,"children":6751},{"style":683},[6752],{"type":411,"value":686},{"type":405,"tag":504,"props":6754,"children":6755},{"style":523},[6756],{"type":411,"value":691},{"type":405,"tag":504,"props":6758,"children":6759},{"style":559},[6760],{"type":411,"value":532},{"type":405,"tag":504,"props":6762,"children":6763},{"style":565},[6764],{"type":411,"value":568},{"type":405,"tag":504,"props":6766,"children":6767},{"style":683},[6768],{"type":411,"value":844},{"type":405,"tag":504,"props":6770,"children":6771},{"style":523},[6772],{"type":411,"value":691},{"type":405,"tag":504,"props":6774,"children":6775},{"style":559},[6776],{"type":411,"value":6001},{"type":405,"tag":504,"props":6778,"children":6779},{"style":565},[6780],{"type":411,"value":3058},{"type":405,"tag":504,"props":6782,"children":6783},{"style":4608},[6784],{"type":411,"value":6785}," undefined",{"type":405,"tag":504,"props":6787,"children":6788},{"style":565},[6789],{"type":411,"value":6790}," :",{"type":405,"tag":504,"props":6792,"children":6793},{"style":683},[6794],{"type":411,"value":844},{"type":405,"tag":504,"props":6796,"children":6797},{"style":523},[6798],{"type":411,"value":691},{"type":405,"tag":504,"props":6800,"children":6801},{"style":517},[6802],{"type":411,"value":2690},{"type":405,"tag":504,"props":6804,"children":6805},{"style":581},[6806],{"type":411,"value":753},{"type":405,"tag":504,"props":6808,"children":6809},{"style":523},[6810],{"type":411,"value":596},{"type":405,"tag":504,"props":6812,"children":6813},{"class":506,"line":3509},[6814],{"type":405,"tag":504,"props":6815,"children":6816},{"style":523},[6817],{"type":411,"value":1148},{"type":405,"tag":504,"props":6819,"children":6820},{"class":506,"line":3522},[6821],{"type":405,"tag":504,"props":6822,"children":6823},{"style":523},[6824],{"type":411,"value":624},{"type":405,"tag":438,"props":6826,"children":6827},{},[6828],{"type":411,"value":6829},"Watcher 是组件级别的，如果状态发生了变化，只能通知到组件。再由组件对比内部的虚拟节点的变化。换句话说，Vue 对响应式状态变化侦测只通知到组件，这意味着只要某个属性变化了，相应的组件都会重渲染。",{"type":405,"tag":6831,"props":6832,"children":6833},"hr",{},[],{"type":405,"tag":406,"props":6835,"children":6837},{"id":6836},"阅读更多",[6838],{"type":411,"value":6836},{"type":405,"tag":413,"props":6840,"children":6841},{},[6842,6852],{"type":405,"tag":417,"props":6843,"children":6844},{},[6845],{"type":405,"tag":468,"props":6846,"children":6849},{"href":6847,"rel":6848},"https://book.douban.com/subject/32581281/",[472],[6850],{"type":411,"value":6851},"《深入浅出 VueJS》",{"type":405,"tag":417,"props":6853,"children":6854},{},[6855],{"type":405,"tag":468,"props":6856,"children":6859},{"href":6857,"rel":6858},"http://hcysun.me/vue-design/zh/",[472],[6860],{"type":411,"value":6861},"江山父老能容我 不使人间造孽钱",{"type":405,"tag":6863,"props":6864,"children":6865},"style",{},[6866],{"type":411,"value":6867},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":398,"searchDepth":555,"depth":555,"links":6869},[6870,6871,6872,6878],{"id":408,"depth":555,"text":408},{"id":434,"depth":555,"text":434},{"id":455,"depth":555,"text":455,"children":6873},[6874,6875,6876,6877],{"id":481,"depth":599,"text":481},{"id":1555,"depth":599,"text":1555},{"id":2364,"depth":599,"text":2364},{"id":3922,"depth":599,"text":3922},{"id":6836,"depth":555,"text":6836},"markdown","content:8.source-code:_js:vue2-source:1.observer.md","content","8.source-code/_js/vue2-source/1.observer.md","8.source-code/_js/vue2-source/1.observer","md",[6886,6889],{"_path":6887,"title":6888,"description":400},"/source-code/_js/vue2-source","Vue2 Source",{"_path":6890,"title":6891,"description":400},"/source-code/_js/vue2-source/parser","Vue2 Parser",1741604970362]