[{"data":1,"prerenderedAt":6909},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/observer":410,"/source-code/_js/vue2-source/observer-surround":6902},[4,32,83,102,129,135,141,147,393,399,405],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96,99],{"title":88,"_path":89},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":91,"_path":92},"🌐 AnySort","/tools/anysort",{"title":94,"_path":95},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":97,"_path":98},"👓 Crapto","/tools/crypto-inline",{"title":100,"_path":101},"🖨️ any-to-base64","/tools/any-to-base64",{"title":103,"_path":104,"children":105},"吉他剧场 / Music","/music",[106,108,111,114,117,120,123,126],{"title":107,"_path":104},"🎸 FingerStyle！",{"title":109,"_path":110},"🌬️ 等待的风","/music/wind",{"title":112,"_path":113},"💕 约定的海洋","/music/ocean",{"title":115,"_path":116},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":118,"_path":119},"🌏 残酷天使的行动纲领","/music/eva",{"title":121,"_path":122},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":124,"_path":125},"🍷 Wu Wei","/music/wu-wei",{"title":127,"_path":128},"🌅 无题","/music/untitled",{"title":130,"_path":131,"children":132},"画点什么 / Paint","/paint",[133],{"title":134,"_path":131},"🚧 正在施工",{"title":136,"_path":137,"children":138},"读书笔记 / Notes","/books",[139],{"title":140,"_path":137},"📕 读书笔记",{"title":142,"_path":143,"children":144},"知识地图 / Maps","/maps",[145],{"title":146,"_path":143},"🏁 知识地图",{"title":148,"_path":149,"children":150},"零散的笔记 / Gists","/gists",[151,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390],{"title":152,"_path":149},"🧊 Gists",{"title":154,"_path":155},"网站的可访问性","/gists/accessibility",{"title":157,"_path":158},"Bit","/gists/bit",{"title":160,"_path":161},"图片模糊","/gists/blur",{"title":163,"_path":164},"渲染相关笔记","/gists/c4d",{"title":166,"_path":167},"CDN 问题记录","/gists/cdn",{"title":169,"_path":170},"消毒剂","/gists/cleaner",{"title":172,"_path":173},"Windows Command","/gists/cmd",{"title":175,"_path":176},"Command","/gists/command",{"title":178,"_path":179},"复杂科学","/gists/complexity-science",{"title":181,"_path":182},"GitHub Copilot","/gists/copilot",{"title":184,"_path":185},"宇宙","/gists/cosmos",{"title":187,"_path":188},"C++","/gists/cpp",{"title":190,"_path":191},"Data Structure","/gists/data-structure",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"设计模式","/gists/design-patterns",{"title":199,"_path":200},"Developer Experience","/gists/developer-experience",{"title":202,"_path":203},"Device Metrics","/gists/device-metrix",{"title":205,"_path":206},"数字化转型","/gists/digital-transformation",{"title":208,"_path":209},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":211,"_path":212},"正则表达式","/gists/eegex",{"title":214,"_path":215},"Emoji","/gists/emoji",{"title":217,"_path":218},"工程","/gists/engineering",{"title":220,"_path":221},"熵","/gists/entropy",{"title":223,"_path":224},"Environment","/gists/environment",{"title":226,"_path":227},"Erlang","/gists/erlang",{"title":229,"_path":230},"逃离塔克夫","/gists/escape-from-tarkov",{"title":232,"_path":233},"ESNext (ES6-ES11)","/gists/esnext",{"title":235,"_path":236},"Eval！","/gists/eval",{"title":238,"_path":239},"Flutter","/gists/flutter",{"title":241,"_path":242},"字体","/gists/font",{"title":244,"_path":245},"JS 函数式编程","/gists/functional",{"title":247,"_path":248},"游戏化","/gists/gamification",{"title":250,"_path":251},"Google C++ Standard","/gists/google-cpp-standard",{"title":253,"_path":254},"双向链接完全体","/gists/graph",{"title":256,"_path":257},"Hardwares","/gists/hardwares",{"title":259,"_path":260},"哈希冲突","/gists/hash-collision",{"title":262,"_path":263},"信息设计","/gists/information-design",{"title":265,"_path":266},"InstantPage","/gists/instant.page",{"title":268,"_path":269},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":271,"_path":272},"KVStore","/gists/key-value-db",{"title":274,"_path":275},"Kubernetes","/gists/kubernetes",{"title":277,"_path":278},"Makefile","/gists/makefile",{"title":280,"_path":281},"Markdown Inline Style","/gists/markdown-nice",{"title":283,"_path":284},"小程序","/gists/miniapp",{"title":286,"_path":287},"减小页面快照体积","/gists/minify-html",{"title":289,"_path":290},"mklink","/gists/mklink",{"title":292,"_path":293},"Mock","/gists/mock",{"title":295,"_path":296},"多人协作系统","/gists/multiplayer",{"title":298,"_path":299},"多端应用","/gists/multy-end-app",{"title":301,"_path":302},"神经科学","/gists/neuroscience",{"title":304,"_path":305},"OO","/gists/oo",{"title":307,"_path":308},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":310,"_path":311},"PInvoke","/gists/pinvoke",{"title":313,"_path":314},"像素","/gists/pixel",{"title":316,"_path":317},"PowerShell","/gists/powershell",{"title":319,"_path":320},"量子","/gists/quantum",{"title":322,"_path":323},"保持好奇心","/gists/questions",{"title":325,"_path":326},"React Native","/gists/react-native",{"title":328,"_path":329},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":331,"_path":332},"SEO","/gists/seo",{"title":334,"_path":335},"Shader","/gists/shader",{"title":337,"_path":338},"Shape Up","/gists/shape-up",{"title":340,"_path":341},"睡觉","/gists/sleep",{"title":343,"_path":344},"记录奇怪的问题","/gists/solved",{"title":346,"_path":347},"States","/gists/states",{"title":349,"_path":350},"Storage","/gists/storage",{"title":352,"_path":353},"音视频流处理","/gists/stream-cli",{"title":355,"_path":356},"Symbol","/gists/symbol",{"title":358,"_path":359},"系统论","/gists/systems-theory",{"title":361,"_path":362},"Taro","/gists/taro",{"title":364,"_path":365},"任务切片","/gists/task-slice",{"title":367,"_path":368},"技术偏好","/gists/tech-dudge",{"title":370,"_path":371},"Untitled","/gists/untitled",{"title":373,"_path":374},"可变字体","/gists/variable-font",{"title":376,"_path":377},"视觉错觉","/gists/visual-illusion",{"title":379,"_path":380},"SS(SSR)","/gists/vpn",{"title":382,"_path":383},"VS Code 插件开发","/gists/vscode-plugin",{"title":385,"_path":386},"Web Components","/gists/web-components",{"title":388,"_path":389},"Windows","/gists/windows",{"title":391,"_path":392},"查缺补漏","/gists/wrong",{"title":394,"_path":395,"children":396},"代码笔记 / Gists","/source-code",[397],{"title":398,"_path":395},"🚄 代码笔记",{"title":400,"_path":401,"children":402},"我 / Abount","/hire",[403],{"title":404,"_path":401},"📬 技术简历",{"title":406,"_path":407,"children":408},"todo","/todo",[409],{"title":406,"_path":407},{"_path":411,"_dir":412,"_draft":413,"_partial":414,"_locale":415,"title":416,"description":417,"body":418,"_type":6896,"_id":6897,"_source":6898,"_file":6899,"_stem":6900,"_extension":6901},"/source-code/_js/vue2-source/observer","vue2-source",false,true,"","Vue2 Observer","deprecated warning",{"type":419,"children":420,"toc":6885},"root",[421,429,449,454,460,470,475,495,501,506,511,1570,1575,1580,2379,2384,2389,3937,3942,3947,3952,3957,4553,4558,4566,4571,4861,4866,4871,5456,5461,5655,5660,6842,6847,6851,6856,6879],{"type":422,"tag":423,"props":424,"children":426},"element","h2",{"id":425},"读源码前",[427],{"type":428,"value":425},"text",{"type":422,"tag":430,"props":431,"children":432},"ul",{},[433,439,444],{"type":422,"tag":434,"props":435,"children":436},"li",{},[437],{"type":428,"value":438},"从 GitHub 克隆一份 vue@2 在 dev 上的分支",{"type":422,"tag":434,"props":440,"children":441},{},[442],{"type":428,"value":443},"使用 flow-remove-types 将 src 目录下的 flow 文件转换为普通的 JS",{"type":422,"tag":434,"props":445,"children":446},{},[447],{"type":428,"value":448},"使用 PowerShell 的 tree 指令输出 src 目录的树形结构，以理解源码结构",{"type":422,"tag":423,"props":450,"children":452},{"id":451},"目录结构",[453],{"type":428,"value":451},{"type":422,"tag":455,"props":456,"children":457},"p",{},[458],{"type":428,"value":459},"可以大致根据目录将源码拆分为几个部分：",{"type":422,"tag":461,"props":462,"children":464},"pre",{"code":463},"├─compiler // 模板编译相关\n│  ├─codegen  // 代码生成器\n│  ├─directives // 指令解析器\n│  └─parser // 模板解析器\n├─core  // 核心代码\n│  ├─components // component 相关 API\n│  ├─global-api // 全局 API\n│  ├─instance\n│  │  └─render-helpers\n│  ├─observer // 响应式属性\n│  ├─util // 工具函数\n│  └─vdom // 虚拟节点\n│      ├─helpers\n│      └─modules\n├─platforms // 平台相关代码\n├─server  // 服务端渲染相关代码\n│  ├─bundle-renderer\n│  ├─optimizing-compiler\n│  ├─template-renderer\n│  └─webpack-plugin\n├─sfc // SFC 结构解析器\n└─shared  // 工具函数\n",[465],{"type":422,"tag":466,"props":467,"children":468},"code",{"__ignoreMap":415},[469],{"type":428,"value":463},{"type":422,"tag":423,"props":471,"children":473},{"id":472},"变化侦测",[474],{"type":428,"value":472},{"type":422,"tag":476,"props":477,"children":478},"blockquote",{},[479],{"type":422,"tag":455,"props":480,"children":481},{},[482,484,493],{"type":428,"value":483},"去年读变化侦测的时候，借着项目的机会，实现过一个轻量的状态管理：",{"type":422,"tag":485,"props":486,"children":490},"a",{"href":487,"rel":488},"https://github.com/takecloud/state-vex",[489],"nofollow",[491],{"type":428,"value":492},"state-vex",{"type":428,"value":494},"，用到了 VueJS 响应式绑定相关的一些内容。",{"type":422,"tag":496,"props":497,"children":499},"h3",{"id":498},"侦测类",[500],{"type":428,"value":498},{"type":422,"tag":455,"props":502,"children":503},{},[504],{"type":428,"value":505},"Vue 通过 Observer 把对象的所有属性转化为带有能收集依赖并触发依赖更新的 setter/getter。setter/getter 调用时，分别收集依赖、触发依赖更新。Observer 还能遍历数组元素。但是更新依赖的方法放在了数组原型方法中，比如 Array.prototype.splice，用包装器将其增强，就能在调用时同时调用更新依赖的函数。",{"type":422,"tag":455,"props":507,"children":508},{},[509],{"type":428,"value":510},"简而言之，Observer 使对象“可观测”，即“变化侦测”中的“侦测”。通过 observe 函数，我们能命令式地侦测一个对象。",{"type":422,"tag":461,"props":512,"children":516},{"code":513,"language":514,"meta":415,"className":515,"style":415},"function observe(value, asRootData) {\n  ob = new Observer(value);\n  return ob;\n}\n\nclass Observer {\n  constructor(value) {\n    this.value = value;\n    // 初始化依赖容器\n    this.dep = new Dep();\n    this.vmCount = 0;\n    // 将侦测实例实例挂载到对象上方便访问\n    def(value, \"__ob__\", this);\n    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods);\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys);\n      }\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i \u003C keys.length; i++) {\n      defineReactive(obj, keys[i]);\n    }\n  }\n\n  observeArray(items) {\n    for (let i = 0, l = items.length; i \u003C l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[517],{"type":422,"tag":466,"props":518,"children":519},{"__ignoreMap":415},[520,570,614,633,642,651,669,694,726,736,775,806,815,870,879,888,934,961,995,1013,1055,1064,1098,1115,1148,1157,1166,1174,1201,1250,1329,1373,1381,1389,1397,1423,1513,1546,1554,1562],{"type":422,"tag":521,"props":522,"children":525},"span",{"class":523,"line":524},"line",1,[526,532,538,544,550,555,560,565],{"type":422,"tag":521,"props":527,"children":529},{"style":528},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[530],{"type":428,"value":531},"function",{"type":422,"tag":521,"props":533,"children":535},{"style":534},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[536],{"type":428,"value":537}," observe",{"type":422,"tag":521,"props":539,"children":541},{"style":540},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[542],{"type":428,"value":543},"(",{"type":422,"tag":521,"props":545,"children":547},{"style":546},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[548],{"type":428,"value":549},"value",{"type":422,"tag":521,"props":551,"children":552},{"style":540},[553],{"type":428,"value":554},",",{"type":422,"tag":521,"props":556,"children":557},{"style":546},[558],{"type":428,"value":559}," asRootData",{"type":422,"tag":521,"props":561,"children":562},{"style":540},[563],{"type":428,"value":564},")",{"type":422,"tag":521,"props":566,"children":567},{"style":540},[568],{"type":428,"value":569}," {\n",{"type":422,"tag":521,"props":571,"children":573},{"class":523,"line":572},2,[574,580,586,591,596,601,605,609],{"type":422,"tag":521,"props":575,"children":577},{"style":576},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[578],{"type":428,"value":579},"  ob",{"type":422,"tag":521,"props":581,"children":583},{"style":582},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[584],{"type":428,"value":585}," =",{"type":422,"tag":521,"props":587,"children":588},{"style":582},[589],{"type":428,"value":590}," new",{"type":422,"tag":521,"props":592,"children":593},{"style":534},[594],{"type":428,"value":595}," Observer",{"type":422,"tag":521,"props":597,"children":599},{"style":598},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[600],{"type":428,"value":543},{"type":422,"tag":521,"props":602,"children":603},{"style":576},[604],{"type":428,"value":549},{"type":422,"tag":521,"props":606,"children":607},{"style":598},[608],{"type":428,"value":564},{"type":422,"tag":521,"props":610,"children":611},{"style":540},[612],{"type":428,"value":613},";\n",{"type":422,"tag":521,"props":615,"children":617},{"class":523,"line":616},3,[618,624,629],{"type":422,"tag":521,"props":619,"children":621},{"style":620},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[622],{"type":428,"value":623},"  return",{"type":422,"tag":521,"props":625,"children":626},{"style":576},[627],{"type":428,"value":628}," ob",{"type":422,"tag":521,"props":630,"children":631},{"style":540},[632],{"type":428,"value":613},{"type":422,"tag":521,"props":634,"children":636},{"class":523,"line":635},4,[637],{"type":422,"tag":521,"props":638,"children":639},{"style":540},[640],{"type":428,"value":641},"}\n",{"type":422,"tag":521,"props":643,"children":645},{"class":523,"line":644},5,[646],{"type":422,"tag":521,"props":647,"children":648},{"emptyLinePlaceholder":414},[649],{"type":428,"value":650},"\n",{"type":422,"tag":521,"props":652,"children":654},{"class":523,"line":653},6,[655,660,665],{"type":422,"tag":521,"props":656,"children":657},{"style":528},[658],{"type":428,"value":659},"class",{"type":422,"tag":521,"props":661,"children":663},{"style":662},"--shiki-light:#E2931D;--shiki-light-text-decoration:inherit;--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline",[664],{"type":428,"value":595},{"type":422,"tag":521,"props":666,"children":667},{"style":540},[668],{"type":428,"value":569},{"type":422,"tag":521,"props":670,"children":672},{"class":523,"line":671},7,[673,678,682,686,690],{"type":422,"tag":521,"props":674,"children":675},{"style":528},[676],{"type":428,"value":677},"  constructor",{"type":422,"tag":521,"props":679,"children":680},{"style":540},[681],{"type":428,"value":543},{"type":422,"tag":521,"props":683,"children":684},{"style":546},[685],{"type":428,"value":549},{"type":422,"tag":521,"props":687,"children":688},{"style":540},[689],{"type":428,"value":564},{"type":422,"tag":521,"props":691,"children":692},{"style":540},[693],{"type":428,"value":569},{"type":422,"tag":521,"props":695,"children":697},{"class":523,"line":696},8,[698,704,709,713,717,722],{"type":422,"tag":521,"props":699,"children":701},{"style":700},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[702],{"type":428,"value":703},"    this",{"type":422,"tag":521,"props":705,"children":706},{"style":540},[707],{"type":428,"value":708},".",{"type":422,"tag":521,"props":710,"children":711},{"style":576},[712],{"type":428,"value":549},{"type":422,"tag":521,"props":714,"children":715},{"style":582},[716],{"type":428,"value":585},{"type":422,"tag":521,"props":718,"children":719},{"style":576},[720],{"type":428,"value":721}," value",{"type":422,"tag":521,"props":723,"children":724},{"style":540},[725],{"type":428,"value":613},{"type":422,"tag":521,"props":727,"children":729},{"class":523,"line":728},9,[730],{"type":422,"tag":521,"props":731,"children":733},{"style":732},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[734],{"type":428,"value":735},"    // 初始化依赖容器\n",{"type":422,"tag":521,"props":737,"children":739},{"class":523,"line":738},10,[740,744,748,753,757,761,766,771],{"type":422,"tag":521,"props":741,"children":742},{"style":700},[743],{"type":428,"value":703},{"type":422,"tag":521,"props":745,"children":746},{"style":540},[747],{"type":428,"value":708},{"type":422,"tag":521,"props":749,"children":750},{"style":576},[751],{"type":428,"value":752},"dep",{"type":422,"tag":521,"props":754,"children":755},{"style":582},[756],{"type":428,"value":585},{"type":422,"tag":521,"props":758,"children":759},{"style":582},[760],{"type":428,"value":590},{"type":422,"tag":521,"props":762,"children":763},{"style":534},[764],{"type":428,"value":765}," Dep",{"type":422,"tag":521,"props":767,"children":768},{"style":598},[769],{"type":428,"value":770},"()",{"type":422,"tag":521,"props":772,"children":773},{"style":540},[774],{"type":428,"value":613},{"type":422,"tag":521,"props":776,"children":778},{"class":523,"line":777},11,[779,783,787,792,796,802],{"type":422,"tag":521,"props":780,"children":781},{"style":700},[782],{"type":428,"value":703},{"type":422,"tag":521,"props":784,"children":785},{"style":540},[786],{"type":428,"value":708},{"type":422,"tag":521,"props":788,"children":789},{"style":576},[790],{"type":428,"value":791},"vmCount",{"type":422,"tag":521,"props":793,"children":794},{"style":582},[795],{"type":428,"value":585},{"type":422,"tag":521,"props":797,"children":799},{"style":798},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[800],{"type":428,"value":801}," 0",{"type":422,"tag":521,"props":803,"children":804},{"style":540},[805],{"type":428,"value":613},{"type":422,"tag":521,"props":807,"children":809},{"class":523,"line":808},12,[810],{"type":422,"tag":521,"props":811,"children":812},{"style":732},[813],{"type":428,"value":814},"    // 将侦测实例实例挂载到对象上方便访问\n",{"type":422,"tag":521,"props":816,"children":818},{"class":523,"line":817},13,[819,824,828,832,836,842,848,853,857,862,866],{"type":422,"tag":521,"props":820,"children":821},{"style":534},[822],{"type":428,"value":823},"    def",{"type":422,"tag":521,"props":825,"children":826},{"style":598},[827],{"type":428,"value":543},{"type":422,"tag":521,"props":829,"children":830},{"style":576},[831],{"type":428,"value":549},{"type":422,"tag":521,"props":833,"children":834},{"style":540},[835],{"type":428,"value":554},{"type":422,"tag":521,"props":837,"children":839},{"style":838},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[840],{"type":428,"value":841}," \"",{"type":422,"tag":521,"props":843,"children":845},{"style":844},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[846],{"type":428,"value":847},"__ob__",{"type":422,"tag":521,"props":849,"children":850},{"style":838},[851],{"type":428,"value":852},"\"",{"type":422,"tag":521,"props":854,"children":855},{"style":540},[856],{"type":428,"value":554},{"type":422,"tag":521,"props":858,"children":859},{"style":700},[860],{"type":428,"value":861}," this",{"type":422,"tag":521,"props":863,"children":864},{"style":598},[865],{"type":428,"value":564},{"type":422,"tag":521,"props":867,"children":868},{"style":540},[869],{"type":428,"value":613},{"type":422,"tag":521,"props":871,"children":873},{"class":523,"line":872},14,[874],{"type":422,"tag":521,"props":875,"children":876},{"style":732},[877],{"type":428,"value":878},"    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n",{"type":422,"tag":521,"props":880,"children":882},{"class":523,"line":881},15,[883],{"type":422,"tag":521,"props":884,"children":885},{"style":732},[886],{"type":428,"value":887},"    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n",{"type":422,"tag":521,"props":889,"children":891},{"class":523,"line":890},16,[892,897,902,907,911,916,920,924,929],{"type":422,"tag":521,"props":893,"children":894},{"style":620},[895],{"type":428,"value":896},"    if",{"type":422,"tag":521,"props":898,"children":899},{"style":598},[900],{"type":428,"value":901}," (",{"type":422,"tag":521,"props":903,"children":904},{"style":576},[905],{"type":428,"value":906},"Array",{"type":422,"tag":521,"props":908,"children":909},{"style":540},[910],{"type":428,"value":708},{"type":422,"tag":521,"props":912,"children":913},{"style":534},[914],{"type":428,"value":915},"isArray",{"type":422,"tag":521,"props":917,"children":918},{"style":598},[919],{"type":428,"value":543},{"type":422,"tag":521,"props":921,"children":922},{"style":576},[923],{"type":428,"value":549},{"type":422,"tag":521,"props":925,"children":926},{"style":598},[927],{"type":428,"value":928},")) ",{"type":422,"tag":521,"props":930,"children":931},{"style":540},[932],{"type":428,"value":933},"{\n",{"type":422,"tag":521,"props":935,"children":937},{"class":523,"line":936},17,[938,943,947,952,957],{"type":422,"tag":521,"props":939,"children":940},{"style":620},[941],{"type":428,"value":942},"      if",{"type":422,"tag":521,"props":944,"children":945},{"style":598},[946],{"type":428,"value":901},{"type":422,"tag":521,"props":948,"children":949},{"style":576},[950],{"type":428,"value":951},"hasProto",{"type":422,"tag":521,"props":953,"children":954},{"style":598},[955],{"type":428,"value":956},") ",{"type":422,"tag":521,"props":958,"children":959},{"style":540},[960],{"type":428,"value":933},{"type":422,"tag":521,"props":962,"children":964},{"class":523,"line":963},18,[965,970,974,978,982,987,991],{"type":422,"tag":521,"props":966,"children":967},{"style":534},[968],{"type":428,"value":969},"        protoAugment",{"type":422,"tag":521,"props":971,"children":972},{"style":598},[973],{"type":428,"value":543},{"type":422,"tag":521,"props":975,"children":976},{"style":576},[977],{"type":428,"value":549},{"type":422,"tag":521,"props":979,"children":980},{"style":540},[981],{"type":428,"value":554},{"type":422,"tag":521,"props":983,"children":984},{"style":576},[985],{"type":428,"value":986}," arrayMethods",{"type":422,"tag":521,"props":988,"children":989},{"style":598},[990],{"type":428,"value":564},{"type":422,"tag":521,"props":992,"children":993},{"style":540},[994],{"type":428,"value":613},{"type":422,"tag":521,"props":996,"children":998},{"class":523,"line":997},19,[999,1004,1009],{"type":422,"tag":521,"props":1000,"children":1001},{"style":540},[1002],{"type":428,"value":1003},"      }",{"type":422,"tag":521,"props":1005,"children":1006},{"style":620},[1007],{"type":428,"value":1008}," else",{"type":422,"tag":521,"props":1010,"children":1011},{"style":540},[1012],{"type":428,"value":569},{"type":422,"tag":521,"props":1014,"children":1016},{"class":523,"line":1015},20,[1017,1022,1026,1030,1034,1038,1042,1047,1051],{"type":422,"tag":521,"props":1018,"children":1019},{"style":534},[1020],{"type":428,"value":1021},"        copyAugment",{"type":422,"tag":521,"props":1023,"children":1024},{"style":598},[1025],{"type":428,"value":543},{"type":422,"tag":521,"props":1027,"children":1028},{"style":576},[1029],{"type":428,"value":549},{"type":422,"tag":521,"props":1031,"children":1032},{"style":540},[1033],{"type":428,"value":554},{"type":422,"tag":521,"props":1035,"children":1036},{"style":576},[1037],{"type":428,"value":986},{"type":422,"tag":521,"props":1039,"children":1040},{"style":540},[1041],{"type":428,"value":554},{"type":422,"tag":521,"props":1043,"children":1044},{"style":576},[1045],{"type":428,"value":1046}," arrayKeys",{"type":422,"tag":521,"props":1048,"children":1049},{"style":598},[1050],{"type":428,"value":564},{"type":422,"tag":521,"props":1052,"children":1053},{"style":540},[1054],{"type":428,"value":613},{"type":422,"tag":521,"props":1056,"children":1058},{"class":523,"line":1057},21,[1059],{"type":422,"tag":521,"props":1060,"children":1061},{"style":540},[1062],{"type":428,"value":1063},"      }\n",{"type":422,"tag":521,"props":1065,"children":1067},{"class":523,"line":1066},22,[1068,1073,1077,1082,1086,1090,1094],{"type":422,"tag":521,"props":1069,"children":1070},{"style":700},[1071],{"type":428,"value":1072},"      this",{"type":422,"tag":521,"props":1074,"children":1075},{"style":540},[1076],{"type":428,"value":708},{"type":422,"tag":521,"props":1078,"children":1079},{"style":534},[1080],{"type":428,"value":1081},"observeArray",{"type":422,"tag":521,"props":1083,"children":1084},{"style":598},[1085],{"type":428,"value":543},{"type":422,"tag":521,"props":1087,"children":1088},{"style":576},[1089],{"type":428,"value":549},{"type":422,"tag":521,"props":1091,"children":1092},{"style":598},[1093],{"type":428,"value":564},{"type":422,"tag":521,"props":1095,"children":1096},{"style":540},[1097],{"type":428,"value":613},{"type":422,"tag":521,"props":1099,"children":1101},{"class":523,"line":1100},23,[1102,1107,1111],{"type":422,"tag":521,"props":1103,"children":1104},{"style":540},[1105],{"type":428,"value":1106},"    }",{"type":422,"tag":521,"props":1108,"children":1109},{"style":620},[1110],{"type":428,"value":1008},{"type":422,"tag":521,"props":1112,"children":1113},{"style":540},[1114],{"type":428,"value":569},{"type":422,"tag":521,"props":1116,"children":1118},{"class":523,"line":1117},24,[1119,1123,1127,1132,1136,1140,1144],{"type":422,"tag":521,"props":1120,"children":1121},{"style":700},[1122],{"type":428,"value":1072},{"type":422,"tag":521,"props":1124,"children":1125},{"style":540},[1126],{"type":428,"value":708},{"type":422,"tag":521,"props":1128,"children":1129},{"style":534},[1130],{"type":428,"value":1131},"walk",{"type":422,"tag":521,"props":1133,"children":1134},{"style":598},[1135],{"type":428,"value":543},{"type":422,"tag":521,"props":1137,"children":1138},{"style":576},[1139],{"type":428,"value":549},{"type":422,"tag":521,"props":1141,"children":1142},{"style":598},[1143],{"type":428,"value":564},{"type":422,"tag":521,"props":1145,"children":1146},{"style":540},[1147],{"type":428,"value":613},{"type":422,"tag":521,"props":1149,"children":1151},{"class":523,"line":1150},25,[1152],{"type":422,"tag":521,"props":1153,"children":1154},{"style":540},[1155],{"type":428,"value":1156},"    }\n",{"type":422,"tag":521,"props":1158,"children":1160},{"class":523,"line":1159},26,[1161],{"type":422,"tag":521,"props":1162,"children":1163},{"style":540},[1164],{"type":428,"value":1165},"  }\n",{"type":422,"tag":521,"props":1167,"children":1169},{"class":523,"line":1168},27,[1170],{"type":422,"tag":521,"props":1171,"children":1172},{"emptyLinePlaceholder":414},[1173],{"type":428,"value":650},{"type":422,"tag":521,"props":1175,"children":1177},{"class":523,"line":1176},28,[1178,1184,1188,1193,1197],{"type":422,"tag":521,"props":1179,"children":1181},{"style":1180},"--shiki-light:#E53935;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1182],{"type":428,"value":1183},"  walk",{"type":422,"tag":521,"props":1185,"children":1186},{"style":540},[1187],{"type":428,"value":543},{"type":422,"tag":521,"props":1189,"children":1190},{"style":546},[1191],{"type":428,"value":1192},"obj",{"type":422,"tag":521,"props":1194,"children":1195},{"style":540},[1196],{"type":428,"value":564},{"type":422,"tag":521,"props":1198,"children":1199},{"style":540},[1200],{"type":428,"value":569},{"type":422,"tag":521,"props":1202,"children":1204},{"class":523,"line":1203},29,[1205,1210,1216,1220,1225,1229,1234,1238,1242,1246],{"type":422,"tag":521,"props":1206,"children":1207},{"style":528},[1208],{"type":428,"value":1209},"    const",{"type":422,"tag":521,"props":1211,"children":1213},{"style":1212},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1214],{"type":428,"value":1215}," keys",{"type":422,"tag":521,"props":1217,"children":1218},{"style":582},[1219],{"type":428,"value":585},{"type":422,"tag":521,"props":1221,"children":1222},{"style":576},[1223],{"type":428,"value":1224}," Object",{"type":422,"tag":521,"props":1226,"children":1227},{"style":540},[1228],{"type":428,"value":708},{"type":422,"tag":521,"props":1230,"children":1231},{"style":534},[1232],{"type":428,"value":1233},"keys",{"type":422,"tag":521,"props":1235,"children":1236},{"style":598},[1237],{"type":428,"value":543},{"type":422,"tag":521,"props":1239,"children":1240},{"style":576},[1241],{"type":428,"value":1192},{"type":422,"tag":521,"props":1243,"children":1244},{"style":598},[1245],{"type":428,"value":564},{"type":422,"tag":521,"props":1247,"children":1248},{"style":540},[1249],{"type":428,"value":613},{"type":422,"tag":521,"props":1251,"children":1253},{"class":523,"line":1252},30,[1254,1259,1263,1268,1273,1277,1281,1286,1290,1295,1299,1303,1308,1312,1316,1321,1325],{"type":422,"tag":521,"props":1255,"children":1256},{"style":620},[1257],{"type":428,"value":1258},"    for",{"type":422,"tag":521,"props":1260,"children":1261},{"style":598},[1262],{"type":428,"value":901},{"type":422,"tag":521,"props":1264,"children":1265},{"style":528},[1266],{"type":428,"value":1267},"let",{"type":422,"tag":521,"props":1269,"children":1270},{"style":576},[1271],{"type":428,"value":1272}," i",{"type":422,"tag":521,"props":1274,"children":1275},{"style":582},[1276],{"type":428,"value":585},{"type":422,"tag":521,"props":1278,"children":1279},{"style":798},[1280],{"type":428,"value":801},{"type":422,"tag":521,"props":1282,"children":1283},{"style":540},[1284],{"type":428,"value":1285},";",{"type":422,"tag":521,"props":1287,"children":1288},{"style":576},[1289],{"type":428,"value":1272},{"type":422,"tag":521,"props":1291,"children":1292},{"style":582},[1293],{"type":428,"value":1294}," \u003C",{"type":422,"tag":521,"props":1296,"children":1297},{"style":576},[1298],{"type":428,"value":1215},{"type":422,"tag":521,"props":1300,"children":1301},{"style":540},[1302],{"type":428,"value":708},{"type":422,"tag":521,"props":1304,"children":1305},{"style":1212},[1306],{"type":428,"value":1307},"length",{"type":422,"tag":521,"props":1309,"children":1310},{"style":540},[1311],{"type":428,"value":1285},{"type":422,"tag":521,"props":1313,"children":1314},{"style":576},[1315],{"type":428,"value":1272},{"type":422,"tag":521,"props":1317,"children":1318},{"style":582},[1319],{"type":428,"value":1320},"++",{"type":422,"tag":521,"props":1322,"children":1323},{"style":598},[1324],{"type":428,"value":956},{"type":422,"tag":521,"props":1326,"children":1327},{"style":540},[1328],{"type":428,"value":933},{"type":422,"tag":521,"props":1330,"children":1332},{"class":523,"line":1331},31,[1333,1338,1342,1346,1350,1354,1359,1364,1369],{"type":422,"tag":521,"props":1334,"children":1335},{"style":534},[1336],{"type":428,"value":1337},"      defineReactive",{"type":422,"tag":521,"props":1339,"children":1340},{"style":598},[1341],{"type":428,"value":543},{"type":422,"tag":521,"props":1343,"children":1344},{"style":576},[1345],{"type":428,"value":1192},{"type":422,"tag":521,"props":1347,"children":1348},{"style":540},[1349],{"type":428,"value":554},{"type":422,"tag":521,"props":1351,"children":1352},{"style":576},[1353],{"type":428,"value":1215},{"type":422,"tag":521,"props":1355,"children":1356},{"style":598},[1357],{"type":428,"value":1358},"[",{"type":422,"tag":521,"props":1360,"children":1361},{"style":576},[1362],{"type":428,"value":1363},"i",{"type":422,"tag":521,"props":1365,"children":1366},{"style":598},[1367],{"type":428,"value":1368},"])",{"type":422,"tag":521,"props":1370,"children":1371},{"style":540},[1372],{"type":428,"value":613},{"type":422,"tag":521,"props":1374,"children":1376},{"class":523,"line":1375},32,[1377],{"type":422,"tag":521,"props":1378,"children":1379},{"style":540},[1380],{"type":428,"value":1156},{"type":422,"tag":521,"props":1382,"children":1384},{"class":523,"line":1383},33,[1385],{"type":422,"tag":521,"props":1386,"children":1387},{"style":540},[1388],{"type":428,"value":1165},{"type":422,"tag":521,"props":1390,"children":1392},{"class":523,"line":1391},34,[1393],{"type":422,"tag":521,"props":1394,"children":1395},{"emptyLinePlaceholder":414},[1396],{"type":428,"value":650},{"type":422,"tag":521,"props":1398,"children":1400},{"class":523,"line":1399},35,[1401,1406,1410,1415,1419],{"type":422,"tag":521,"props":1402,"children":1403},{"style":1180},[1404],{"type":428,"value":1405},"  observeArray",{"type":422,"tag":521,"props":1407,"children":1408},{"style":540},[1409],{"type":428,"value":543},{"type":422,"tag":521,"props":1411,"children":1412},{"style":546},[1413],{"type":428,"value":1414},"items",{"type":422,"tag":521,"props":1416,"children":1417},{"style":540},[1418],{"type":428,"value":564},{"type":422,"tag":521,"props":1420,"children":1421},{"style":540},[1422],{"type":428,"value":569},{"type":422,"tag":521,"props":1424,"children":1426},{"class":523,"line":1425},36,[1427,1431,1435,1439,1443,1447,1451,1455,1460,1464,1469,1473,1477,1481,1485,1489,1493,1497,1501,1505,1509],{"type":422,"tag":521,"props":1428,"children":1429},{"style":620},[1430],{"type":428,"value":1258},{"type":422,"tag":521,"props":1432,"children":1433},{"style":598},[1434],{"type":428,"value":901},{"type":422,"tag":521,"props":1436,"children":1437},{"style":528},[1438],{"type":428,"value":1267},{"type":422,"tag":521,"props":1440,"children":1441},{"style":576},[1442],{"type":428,"value":1272},{"type":422,"tag":521,"props":1444,"children":1445},{"style":582},[1446],{"type":428,"value":585},{"type":422,"tag":521,"props":1448,"children":1449},{"style":798},[1450],{"type":428,"value":801},{"type":422,"tag":521,"props":1452,"children":1453},{"style":540},[1454],{"type":428,"value":554},{"type":422,"tag":521,"props":1456,"children":1457},{"style":576},[1458],{"type":428,"value":1459}," l",{"type":422,"tag":521,"props":1461,"children":1462},{"style":582},[1463],{"type":428,"value":585},{"type":422,"tag":521,"props":1465,"children":1466},{"style":576},[1467],{"type":428,"value":1468}," items",{"type":422,"tag":521,"props":1470,"children":1471},{"style":540},[1472],{"type":428,"value":708},{"type":422,"tag":521,"props":1474,"children":1475},{"style":1212},[1476],{"type":428,"value":1307},{"type":422,"tag":521,"props":1478,"children":1479},{"style":540},[1480],{"type":428,"value":1285},{"type":422,"tag":521,"props":1482,"children":1483},{"style":576},[1484],{"type":428,"value":1272},{"type":422,"tag":521,"props":1486,"children":1487},{"style":582},[1488],{"type":428,"value":1294},{"type":422,"tag":521,"props":1490,"children":1491},{"style":576},[1492],{"type":428,"value":1459},{"type":422,"tag":521,"props":1494,"children":1495},{"style":540},[1496],{"type":428,"value":1285},{"type":422,"tag":521,"props":1498,"children":1499},{"style":576},[1500],{"type":428,"value":1272},{"type":422,"tag":521,"props":1502,"children":1503},{"style":582},[1504],{"type":428,"value":1320},{"type":422,"tag":521,"props":1506,"children":1507},{"style":598},[1508],{"type":428,"value":956},{"type":422,"tag":521,"props":1510,"children":1511},{"style":540},[1512],{"type":428,"value":933},{"type":422,"tag":521,"props":1514,"children":1516},{"class":523,"line":1515},37,[1517,1522,1526,1530,1534,1538,1542],{"type":422,"tag":521,"props":1518,"children":1519},{"style":534},[1520],{"type":428,"value":1521},"      observe",{"type":422,"tag":521,"props":1523,"children":1524},{"style":598},[1525],{"type":428,"value":543},{"type":422,"tag":521,"props":1527,"children":1528},{"style":576},[1529],{"type":428,"value":1414},{"type":422,"tag":521,"props":1531,"children":1532},{"style":598},[1533],{"type":428,"value":1358},{"type":422,"tag":521,"props":1535,"children":1536},{"style":576},[1537],{"type":428,"value":1363},{"type":422,"tag":521,"props":1539,"children":1540},{"style":598},[1541],{"type":428,"value":1368},{"type":422,"tag":521,"props":1543,"children":1544},{"style":540},[1545],{"type":428,"value":613},{"type":422,"tag":521,"props":1547,"children":1549},{"class":523,"line":1548},38,[1550],{"type":422,"tag":521,"props":1551,"children":1552},{"style":540},[1553],{"type":428,"value":1156},{"type":422,"tag":521,"props":1555,"children":1557},{"class":523,"line":1556},39,[1558],{"type":422,"tag":521,"props":1559,"children":1560},{"style":540},[1561],{"type":428,"value":1165},{"type":422,"tag":521,"props":1563,"children":1565},{"class":523,"line":1564},40,[1566],{"type":422,"tag":521,"props":1567,"children":1568},{"style":540},[1569],{"type":428,"value":641},{"type":422,"tag":496,"props":1571,"children":1573},{"id":1572},"监测数组变化",[1574],{"type":428,"value":1572},{"type":422,"tag":455,"props":1576,"children":1577},{},[1578],{"type":428,"value":1579},"因为数组没有 setter/getter，所以使用数组时，没有办法做响应式更新。Vue 以猴子补丁的形式增强了数组元素的原型方法，使得这些方法被调用时，自动更新依赖。",{"type":422,"tag":461,"props":1581,"children":1583},{"code":1582,"language":514,"meta":415,"className":515,"style":415},"// 需要增强的方法\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n    const result = original.apply(this, args);\n    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n    const ob = this.__ob__;\n    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // 通知依赖更新\n    ob.dep.notify();\n    return result;\n  });\n});\n",[1584],{"type":422,"tag":466,"props":1585,"children":1586},{"__ignoreMap":415},[1587,1595,1617,1639,1659,1679,1699,1719,1739,1759,1771,1778,1820,1828,1866,1928,1936,1991,1999,2030,2038,2055,2079,2104,2127,2147,2159,2182,2223,2234,2241,2290,2298,2331,2347,2363],{"type":422,"tag":521,"props":1588,"children":1589},{"class":523,"line":524},[1590],{"type":422,"tag":521,"props":1591,"children":1592},{"style":732},[1593],{"type":428,"value":1594},"// 需要增强的方法\n",{"type":422,"tag":521,"props":1596,"children":1597},{"class":523,"line":572},[1598,1603,1608,1612],{"type":422,"tag":521,"props":1599,"children":1600},{"style":528},[1601],{"type":428,"value":1602},"const",{"type":422,"tag":521,"props":1604,"children":1605},{"style":1212},[1606],{"type":428,"value":1607}," methodsToPatch",{"type":422,"tag":521,"props":1609,"children":1610},{"style":582},[1611],{"type":428,"value":585},{"type":422,"tag":521,"props":1613,"children":1614},{"style":576},[1615],{"type":428,"value":1616}," [\n",{"type":422,"tag":521,"props":1618,"children":1619},{"class":523,"line":616},[1620,1625,1630,1634],{"type":422,"tag":521,"props":1621,"children":1622},{"style":838},[1623],{"type":428,"value":1624},"  \"",{"type":422,"tag":521,"props":1626,"children":1627},{"style":844},[1628],{"type":428,"value":1629},"push",{"type":422,"tag":521,"props":1631,"children":1632},{"style":838},[1633],{"type":428,"value":852},{"type":422,"tag":521,"props":1635,"children":1636},{"style":540},[1637],{"type":428,"value":1638},",\n",{"type":422,"tag":521,"props":1640,"children":1641},{"class":523,"line":635},[1642,1646,1651,1655],{"type":422,"tag":521,"props":1643,"children":1644},{"style":838},[1645],{"type":428,"value":1624},{"type":422,"tag":521,"props":1647,"children":1648},{"style":844},[1649],{"type":428,"value":1650},"pop",{"type":422,"tag":521,"props":1652,"children":1653},{"style":838},[1654],{"type":428,"value":852},{"type":422,"tag":521,"props":1656,"children":1657},{"style":540},[1658],{"type":428,"value":1638},{"type":422,"tag":521,"props":1660,"children":1661},{"class":523,"line":644},[1662,1666,1671,1675],{"type":422,"tag":521,"props":1663,"children":1664},{"style":838},[1665],{"type":428,"value":1624},{"type":422,"tag":521,"props":1667,"children":1668},{"style":844},[1669],{"type":428,"value":1670},"shift",{"type":422,"tag":521,"props":1672,"children":1673},{"style":838},[1674],{"type":428,"value":852},{"type":422,"tag":521,"props":1676,"children":1677},{"style":540},[1678],{"type":428,"value":1638},{"type":422,"tag":521,"props":1680,"children":1681},{"class":523,"line":653},[1682,1686,1691,1695],{"type":422,"tag":521,"props":1683,"children":1684},{"style":838},[1685],{"type":428,"value":1624},{"type":422,"tag":521,"props":1687,"children":1688},{"style":844},[1689],{"type":428,"value":1690},"unshift",{"type":422,"tag":521,"props":1692,"children":1693},{"style":838},[1694],{"type":428,"value":852},{"type":422,"tag":521,"props":1696,"children":1697},{"style":540},[1698],{"type":428,"value":1638},{"type":422,"tag":521,"props":1700,"children":1701},{"class":523,"line":671},[1702,1706,1711,1715],{"type":422,"tag":521,"props":1703,"children":1704},{"style":838},[1705],{"type":428,"value":1624},{"type":422,"tag":521,"props":1707,"children":1708},{"style":844},[1709],{"type":428,"value":1710},"splice",{"type":422,"tag":521,"props":1712,"children":1713},{"style":838},[1714],{"type":428,"value":852},{"type":422,"tag":521,"props":1716,"children":1717},{"style":540},[1718],{"type":428,"value":1638},{"type":422,"tag":521,"props":1720,"children":1721},{"class":523,"line":696},[1722,1726,1731,1735],{"type":422,"tag":521,"props":1723,"children":1724},{"style":838},[1725],{"type":428,"value":1624},{"type":422,"tag":521,"props":1727,"children":1728},{"style":844},[1729],{"type":428,"value":1730},"sort",{"type":422,"tag":521,"props":1732,"children":1733},{"style":838},[1734],{"type":428,"value":852},{"type":422,"tag":521,"props":1736,"children":1737},{"style":540},[1738],{"type":428,"value":1638},{"type":422,"tag":521,"props":1740,"children":1741},{"class":523,"line":728},[1742,1746,1751,1755],{"type":422,"tag":521,"props":1743,"children":1744},{"style":838},[1745],{"type":428,"value":1624},{"type":422,"tag":521,"props":1747,"children":1748},{"style":844},[1749],{"type":428,"value":1750},"reverse",{"type":422,"tag":521,"props":1752,"children":1753},{"style":838},[1754],{"type":428,"value":852},{"type":422,"tag":521,"props":1756,"children":1757},{"style":540},[1758],{"type":428,"value":1638},{"type":422,"tag":521,"props":1760,"children":1761},{"class":523,"line":738},[1762,1767],{"type":422,"tag":521,"props":1763,"children":1764},{"style":576},[1765],{"type":428,"value":1766},"]",{"type":422,"tag":521,"props":1768,"children":1769},{"style":540},[1770],{"type":428,"value":613},{"type":422,"tag":521,"props":1772,"children":1773},{"class":523,"line":777},[1774],{"type":422,"tag":521,"props":1775,"children":1776},{"emptyLinePlaceholder":414},[1777],{"type":428,"value":650},{"type":422,"tag":521,"props":1779,"children":1780},{"class":523,"line":808},[1781,1786,1790,1795,1799,1803,1807,1812,1816],{"type":422,"tag":521,"props":1782,"children":1783},{"style":576},[1784],{"type":428,"value":1785},"methodsToPatch",{"type":422,"tag":521,"props":1787,"children":1788},{"style":540},[1789],{"type":428,"value":708},{"type":422,"tag":521,"props":1791,"children":1792},{"style":534},[1793],{"type":428,"value":1794},"forEach",{"type":422,"tag":521,"props":1796,"children":1797},{"style":576},[1798],{"type":428,"value":543},{"type":422,"tag":521,"props":1800,"children":1801},{"style":528},[1802],{"type":428,"value":531},{"type":422,"tag":521,"props":1804,"children":1805},{"style":540},[1806],{"type":428,"value":901},{"type":422,"tag":521,"props":1808,"children":1809},{"style":546},[1810],{"type":428,"value":1811},"method",{"type":422,"tag":521,"props":1813,"children":1814},{"style":540},[1815],{"type":428,"value":564},{"type":422,"tag":521,"props":1817,"children":1818},{"style":540},[1819],{"type":428,"value":569},{"type":422,"tag":521,"props":1821,"children":1822},{"class":523,"line":817},[1823],{"type":422,"tag":521,"props":1824,"children":1825},{"style":732},[1826],{"type":428,"value":1827},"  // cache original method\n",{"type":422,"tag":521,"props":1829,"children":1830},{"class":523,"line":872},[1831,1836,1841,1845,1850,1854,1858,1862],{"type":422,"tag":521,"props":1832,"children":1833},{"style":528},[1834],{"type":428,"value":1835},"  const",{"type":422,"tag":521,"props":1837,"children":1838},{"style":1212},[1839],{"type":428,"value":1840}," original",{"type":422,"tag":521,"props":1842,"children":1843},{"style":582},[1844],{"type":428,"value":585},{"type":422,"tag":521,"props":1846,"children":1847},{"style":576},[1848],{"type":428,"value":1849}," arrayProto",{"type":422,"tag":521,"props":1851,"children":1852},{"style":598},[1853],{"type":428,"value":1358},{"type":422,"tag":521,"props":1855,"children":1856},{"style":576},[1857],{"type":428,"value":1811},{"type":422,"tag":521,"props":1859,"children":1860},{"style":598},[1861],{"type":428,"value":1766},{"type":422,"tag":521,"props":1863,"children":1864},{"style":540},[1865],{"type":428,"value":613},{"type":422,"tag":521,"props":1867,"children":1868},{"class":523,"line":881},[1869,1874,1878,1883,1887,1892,1896,1901,1906,1910,1915,1920,1924],{"type":422,"tag":521,"props":1870,"children":1871},{"style":534},[1872],{"type":428,"value":1873},"  def",{"type":422,"tag":521,"props":1875,"children":1876},{"style":598},[1877],{"type":428,"value":543},{"type":422,"tag":521,"props":1879,"children":1880},{"style":576},[1881],{"type":428,"value":1882},"arrayMethods",{"type":422,"tag":521,"props":1884,"children":1885},{"style":540},[1886],{"type":428,"value":554},{"type":422,"tag":521,"props":1888,"children":1889},{"style":576},[1890],{"type":428,"value":1891}," method",{"type":422,"tag":521,"props":1893,"children":1894},{"style":540},[1895],{"type":428,"value":554},{"type":422,"tag":521,"props":1897,"children":1898},{"style":528},[1899],{"type":428,"value":1900}," function",{"type":422,"tag":521,"props":1902,"children":1903},{"style":534},[1904],{"type":428,"value":1905}," mutator",{"type":422,"tag":521,"props":1907,"children":1908},{"style":540},[1909],{"type":428,"value":543},{"type":422,"tag":521,"props":1911,"children":1912},{"style":582},[1913],{"type":428,"value":1914},"...",{"type":422,"tag":521,"props":1916,"children":1917},{"style":546},[1918],{"type":428,"value":1919},"args",{"type":422,"tag":521,"props":1921,"children":1922},{"style":540},[1923],{"type":428,"value":564},{"type":422,"tag":521,"props":1925,"children":1926},{"style":540},[1927],{"type":428,"value":569},{"type":422,"tag":521,"props":1929,"children":1930},{"class":523,"line":890},[1931],{"type":422,"tag":521,"props":1932,"children":1933},{"style":732},[1934],{"type":428,"value":1935},"    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n",{"type":422,"tag":521,"props":1937,"children":1938},{"class":523,"line":936},[1939,1943,1948,1952,1956,1960,1965,1969,1974,1978,1983,1987],{"type":422,"tag":521,"props":1940,"children":1941},{"style":528},[1942],{"type":428,"value":1209},{"type":422,"tag":521,"props":1944,"children":1945},{"style":1212},[1946],{"type":428,"value":1947}," result",{"type":422,"tag":521,"props":1949,"children":1950},{"style":582},[1951],{"type":428,"value":585},{"type":422,"tag":521,"props":1953,"children":1954},{"style":576},[1955],{"type":428,"value":1840},{"type":422,"tag":521,"props":1957,"children":1958},{"style":540},[1959],{"type":428,"value":708},{"type":422,"tag":521,"props":1961,"children":1962},{"style":534},[1963],{"type":428,"value":1964},"apply",{"type":422,"tag":521,"props":1966,"children":1967},{"style":598},[1968],{"type":428,"value":543},{"type":422,"tag":521,"props":1970,"children":1971},{"style":700},[1972],{"type":428,"value":1973},"this",{"type":422,"tag":521,"props":1975,"children":1976},{"style":540},[1977],{"type":428,"value":554},{"type":422,"tag":521,"props":1979,"children":1980},{"style":576},[1981],{"type":428,"value":1982}," args",{"type":422,"tag":521,"props":1984,"children":1985},{"style":598},[1986],{"type":428,"value":564},{"type":422,"tag":521,"props":1988,"children":1989},{"style":540},[1990],{"type":428,"value":613},{"type":422,"tag":521,"props":1992,"children":1993},{"class":523,"line":963},[1994],{"type":422,"tag":521,"props":1995,"children":1996},{"style":732},[1997],{"type":428,"value":1998},"    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n",{"type":422,"tag":521,"props":2000,"children":2001},{"class":523,"line":997},[2002,2006,2010,2014,2018,2022,2026],{"type":422,"tag":521,"props":2003,"children":2004},{"style":528},[2005],{"type":428,"value":1209},{"type":422,"tag":521,"props":2007,"children":2008},{"style":1212},[2009],{"type":428,"value":628},{"type":422,"tag":521,"props":2011,"children":2012},{"style":582},[2013],{"type":428,"value":585},{"type":422,"tag":521,"props":2015,"children":2016},{"style":700},[2017],{"type":428,"value":861},{"type":422,"tag":521,"props":2019,"children":2020},{"style":540},[2021],{"type":428,"value":708},{"type":422,"tag":521,"props":2023,"children":2024},{"style":576},[2025],{"type":428,"value":847},{"type":422,"tag":521,"props":2027,"children":2028},{"style":540},[2029],{"type":428,"value":613},{"type":422,"tag":521,"props":2031,"children":2032},{"class":523,"line":1015},[2033],{"type":422,"tag":521,"props":2034,"children":2035},{"style":732},[2036],{"type":428,"value":2037},"    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n",{"type":422,"tag":521,"props":2039,"children":2040},{"class":523,"line":1057},[2041,2046,2051],{"type":422,"tag":521,"props":2042,"children":2043},{"style":528},[2044],{"type":428,"value":2045},"    let",{"type":422,"tag":521,"props":2047,"children":2048},{"style":576},[2049],{"type":428,"value":2050}," inserted",{"type":422,"tag":521,"props":2052,"children":2053},{"style":540},[2054],{"type":428,"value":613},{"type":422,"tag":521,"props":2056,"children":2057},{"class":523,"line":1066},[2058,2063,2067,2071,2075],{"type":422,"tag":521,"props":2059,"children":2060},{"style":620},[2061],{"type":428,"value":2062},"    switch",{"type":422,"tag":521,"props":2064,"children":2065},{"style":598},[2066],{"type":428,"value":901},{"type":422,"tag":521,"props":2068,"children":2069},{"style":576},[2070],{"type":428,"value":1811},{"type":422,"tag":521,"props":2072,"children":2073},{"style":598},[2074],{"type":428,"value":956},{"type":422,"tag":521,"props":2076,"children":2077},{"style":540},[2078],{"type":428,"value":933},{"type":422,"tag":521,"props":2080,"children":2081},{"class":523,"line":1100},[2082,2087,2091,2095,2099],{"type":422,"tag":521,"props":2083,"children":2084},{"style":620},[2085],{"type":428,"value":2086},"      case",{"type":422,"tag":521,"props":2088,"children":2089},{"style":838},[2090],{"type":428,"value":841},{"type":422,"tag":521,"props":2092,"children":2093},{"style":844},[2094],{"type":428,"value":1629},{"type":422,"tag":521,"props":2096,"children":2097},{"style":838},[2098],{"type":428,"value":852},{"type":422,"tag":521,"props":2100,"children":2101},{"style":540},[2102],{"type":428,"value":2103},":\n",{"type":422,"tag":521,"props":2105,"children":2106},{"class":523,"line":1117},[2107,2111,2115,2119,2123],{"type":422,"tag":521,"props":2108,"children":2109},{"style":620},[2110],{"type":428,"value":2086},{"type":422,"tag":521,"props":2112,"children":2113},{"style":838},[2114],{"type":428,"value":841},{"type":422,"tag":521,"props":2116,"children":2117},{"style":844},[2118],{"type":428,"value":1690},{"type":422,"tag":521,"props":2120,"children":2121},{"style":838},[2122],{"type":428,"value":852},{"type":422,"tag":521,"props":2124,"children":2125},{"style":540},[2126],{"type":428,"value":2103},{"type":422,"tag":521,"props":2128,"children":2129},{"class":523,"line":1150},[2130,2135,2139,2143],{"type":422,"tag":521,"props":2131,"children":2132},{"style":576},[2133],{"type":428,"value":2134},"        inserted",{"type":422,"tag":521,"props":2136,"children":2137},{"style":582},[2138],{"type":428,"value":585},{"type":422,"tag":521,"props":2140,"children":2141},{"style":576},[2142],{"type":428,"value":1982},{"type":422,"tag":521,"props":2144,"children":2145},{"style":540},[2146],{"type":428,"value":613},{"type":422,"tag":521,"props":2148,"children":2149},{"class":523,"line":1159},[2150,2155],{"type":422,"tag":521,"props":2151,"children":2152},{"style":620},[2153],{"type":428,"value":2154},"        break",{"type":422,"tag":521,"props":2156,"children":2157},{"style":540},[2158],{"type":428,"value":613},{"type":422,"tag":521,"props":2160,"children":2161},{"class":523,"line":1168},[2162,2166,2170,2174,2178],{"type":422,"tag":521,"props":2163,"children":2164},{"style":620},[2165],{"type":428,"value":2086},{"type":422,"tag":521,"props":2167,"children":2168},{"style":838},[2169],{"type":428,"value":841},{"type":422,"tag":521,"props":2171,"children":2172},{"style":844},[2173],{"type":428,"value":1710},{"type":422,"tag":521,"props":2175,"children":2176},{"style":838},[2177],{"type":428,"value":852},{"type":422,"tag":521,"props":2179,"children":2180},{"style":540},[2181],{"type":428,"value":2103},{"type":422,"tag":521,"props":2183,"children":2184},{"class":523,"line":1176},[2185,2189,2193,2197,2201,2206,2210,2215,2219],{"type":422,"tag":521,"props":2186,"children":2187},{"style":576},[2188],{"type":428,"value":2134},{"type":422,"tag":521,"props":2190,"children":2191},{"style":582},[2192],{"type":428,"value":585},{"type":422,"tag":521,"props":2194,"children":2195},{"style":576},[2196],{"type":428,"value":1982},{"type":422,"tag":521,"props":2198,"children":2199},{"style":540},[2200],{"type":428,"value":708},{"type":422,"tag":521,"props":2202,"children":2203},{"style":534},[2204],{"type":428,"value":2205},"slice",{"type":422,"tag":521,"props":2207,"children":2208},{"style":598},[2209],{"type":428,"value":543},{"type":422,"tag":521,"props":2211,"children":2212},{"style":798},[2213],{"type":428,"value":2214},"2",{"type":422,"tag":521,"props":2216,"children":2217},{"style":598},[2218],{"type":428,"value":564},{"type":422,"tag":521,"props":2220,"children":2221},{"style":540},[2222],{"type":428,"value":613},{"type":422,"tag":521,"props":2224,"children":2225},{"class":523,"line":1203},[2226,2230],{"type":422,"tag":521,"props":2227,"children":2228},{"style":620},[2229],{"type":428,"value":2154},{"type":422,"tag":521,"props":2231,"children":2232},{"style":540},[2233],{"type":428,"value":613},{"type":422,"tag":521,"props":2235,"children":2236},{"class":523,"line":1252},[2237],{"type":422,"tag":521,"props":2238,"children":2239},{"style":540},[2240],{"type":428,"value":1156},{"type":422,"tag":521,"props":2242,"children":2243},{"class":523,"line":1331},[2244,2248,2252,2257,2261,2266,2270,2274,2278,2282,2286],{"type":422,"tag":521,"props":2245,"children":2246},{"style":620},[2247],{"type":428,"value":896},{"type":422,"tag":521,"props":2249,"children":2250},{"style":598},[2251],{"type":428,"value":901},{"type":422,"tag":521,"props":2253,"children":2254},{"style":576},[2255],{"type":428,"value":2256},"inserted",{"type":422,"tag":521,"props":2258,"children":2259},{"style":598},[2260],{"type":428,"value":956},{"type":422,"tag":521,"props":2262,"children":2263},{"style":576},[2264],{"type":428,"value":2265},"ob",{"type":422,"tag":521,"props":2267,"children":2268},{"style":540},[2269],{"type":428,"value":708},{"type":422,"tag":521,"props":2271,"children":2272},{"style":534},[2273],{"type":428,"value":1081},{"type":422,"tag":521,"props":2275,"children":2276},{"style":598},[2277],{"type":428,"value":543},{"type":422,"tag":521,"props":2279,"children":2280},{"style":576},[2281],{"type":428,"value":2256},{"type":422,"tag":521,"props":2283,"children":2284},{"style":598},[2285],{"type":428,"value":564},{"type":422,"tag":521,"props":2287,"children":2288},{"style":540},[2289],{"type":428,"value":613},{"type":422,"tag":521,"props":2291,"children":2292},{"class":523,"line":1375},[2293],{"type":422,"tag":521,"props":2294,"children":2295},{"style":732},[2296],{"type":428,"value":2297},"    // 通知依赖更新\n",{"type":422,"tag":521,"props":2299,"children":2300},{"class":523,"line":1383},[2301,2306,2310,2314,2318,2323,2327],{"type":422,"tag":521,"props":2302,"children":2303},{"style":576},[2304],{"type":428,"value":2305},"    ob",{"type":422,"tag":521,"props":2307,"children":2308},{"style":540},[2309],{"type":428,"value":708},{"type":422,"tag":521,"props":2311,"children":2312},{"style":576},[2313],{"type":428,"value":752},{"type":422,"tag":521,"props":2315,"children":2316},{"style":540},[2317],{"type":428,"value":708},{"type":422,"tag":521,"props":2319,"children":2320},{"style":534},[2321],{"type":428,"value":2322},"notify",{"type":422,"tag":521,"props":2324,"children":2325},{"style":598},[2326],{"type":428,"value":770},{"type":422,"tag":521,"props":2328,"children":2329},{"style":540},[2330],{"type":428,"value":613},{"type":422,"tag":521,"props":2332,"children":2333},{"class":523,"line":1391},[2334,2339,2343],{"type":422,"tag":521,"props":2335,"children":2336},{"style":620},[2337],{"type":428,"value":2338},"    return",{"type":422,"tag":521,"props":2340,"children":2341},{"style":576},[2342],{"type":428,"value":1947},{"type":422,"tag":521,"props":2344,"children":2345},{"style":540},[2346],{"type":428,"value":613},{"type":422,"tag":521,"props":2348,"children":2349},{"class":523,"line":1399},[2350,2355,2359],{"type":422,"tag":521,"props":2351,"children":2352},{"style":540},[2353],{"type":428,"value":2354},"  }",{"type":422,"tag":521,"props":2356,"children":2357},{"style":598},[2358],{"type":428,"value":564},{"type":422,"tag":521,"props":2360,"children":2361},{"style":540},[2362],{"type":428,"value":613},{"type":422,"tag":521,"props":2364,"children":2365},{"class":523,"line":1425},[2366,2371,2375],{"type":422,"tag":521,"props":2367,"children":2368},{"style":540},[2369],{"type":428,"value":2370},"}",{"type":422,"tag":521,"props":2372,"children":2373},{"style":576},[2374],{"type":428,"value":564},{"type":422,"tag":521,"props":2376,"children":2377},{"style":540},[2378],{"type":428,"value":613},{"type":422,"tag":496,"props":2380,"children":2382},{"id":2381},"响应式属性",[2383],{"type":428,"value":2381},{"type":422,"tag":455,"props":2385,"children":2386},{},[2387],{"type":428,"value":2388},"设置响应式属性对应源码中的 definedProperty 这个函数，同时，还提供了 set、del 方法，分别用来给一个对象新增、删除属性及响应式属性。",{"type":422,"tag":461,"props":2390,"children":2392},{"code":2391,"language":514,"meta":415,"className":515,"style":415},"function defineReactive(obj, key, val, customSetter, shallow) {\n  // 每个属性都保持了一个依赖容器，\n  // 所有依赖都会存放在这个依赖容器实例中\n  const dep = new Dep();\n\n  // 不给属性描述符不可变的对象设置 setter/getter\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  // 保存属性原有的 setter/getter，不做破坏\n  // cater for pre-defined getter/setters\n  const getter = property && property.get;\n  const setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  // 侦测值的变化\n  let childOb = !shallow && observe(val);\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      const value = getter ? getter.call(obj) : val;\n      // 收集依赖\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      const value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return;\n      }\n      // 非生产环境：自定义 setter 副作用\n      if (process.env.NODE_ENV !== \"production\" && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return;\n      // 使用原有的 setter 更新值或直接更新值\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      // 侦测子对象的变化\n      childOb = !shallow && observe(newVal);\n      // 通知依赖更新\n      dep.notify();\n    },\n  });\n}\n",[2393],{"type":422,"tag":466,"props":2394,"children":2395},{"__ignoreMap":415},[2396,2460,2468,2476,2508,2515,2523,2576,2630,2641,2648,2655,2663,2671,2712,2753,2824,2858,2865,2872,2880,2932,2939,2980,3002,3022,3051,3113,3121,3154,3179,3204,3236,3276,3300,3308,3316,3323,3339,3347,3385,3445,3454,3524,3537,3545,3554,3622,3639,3647,3656,3698,3707,3731,3772,3788,3809,3817,3826,3871,3880,3905,3913,3929],{"type":422,"tag":521,"props":2397,"children":2398},{"class":523,"line":524},[2399,2403,2408,2412,2416,2420,2425,2429,2434,2438,2443,2447,2452,2456],{"type":422,"tag":521,"props":2400,"children":2401},{"style":528},[2402],{"type":428,"value":531},{"type":422,"tag":521,"props":2404,"children":2405},{"style":534},[2406],{"type":428,"value":2407}," defineReactive",{"type":422,"tag":521,"props":2409,"children":2410},{"style":540},[2411],{"type":428,"value":543},{"type":422,"tag":521,"props":2413,"children":2414},{"style":546},[2415],{"type":428,"value":1192},{"type":422,"tag":521,"props":2417,"children":2418},{"style":540},[2419],{"type":428,"value":554},{"type":422,"tag":521,"props":2421,"children":2422},{"style":546},[2423],{"type":428,"value":2424}," key",{"type":422,"tag":521,"props":2426,"children":2427},{"style":540},[2428],{"type":428,"value":554},{"type":422,"tag":521,"props":2430,"children":2431},{"style":546},[2432],{"type":428,"value":2433}," val",{"type":422,"tag":521,"props":2435,"children":2436},{"style":540},[2437],{"type":428,"value":554},{"type":422,"tag":521,"props":2439,"children":2440},{"style":546},[2441],{"type":428,"value":2442}," customSetter",{"type":422,"tag":521,"props":2444,"children":2445},{"style":540},[2446],{"type":428,"value":554},{"type":422,"tag":521,"props":2448,"children":2449},{"style":546},[2450],{"type":428,"value":2451}," shallow",{"type":422,"tag":521,"props":2453,"children":2454},{"style":540},[2455],{"type":428,"value":564},{"type":422,"tag":521,"props":2457,"children":2458},{"style":540},[2459],{"type":428,"value":569},{"type":422,"tag":521,"props":2461,"children":2462},{"class":523,"line":572},[2463],{"type":422,"tag":521,"props":2464,"children":2465},{"style":732},[2466],{"type":428,"value":2467},"  // 每个属性都保持了一个依赖容器，\n",{"type":422,"tag":521,"props":2469,"children":2470},{"class":523,"line":616},[2471],{"type":422,"tag":521,"props":2472,"children":2473},{"style":732},[2474],{"type":428,"value":2475},"  // 所有依赖都会存放在这个依赖容器实例中\n",{"type":422,"tag":521,"props":2477,"children":2478},{"class":523,"line":635},[2479,2483,2488,2492,2496,2500,2504],{"type":422,"tag":521,"props":2480,"children":2481},{"style":528},[2482],{"type":428,"value":1835},{"type":422,"tag":521,"props":2484,"children":2485},{"style":1212},[2486],{"type":428,"value":2487}," dep",{"type":422,"tag":521,"props":2489,"children":2490},{"style":582},[2491],{"type":428,"value":585},{"type":422,"tag":521,"props":2493,"children":2494},{"style":582},[2495],{"type":428,"value":590},{"type":422,"tag":521,"props":2497,"children":2498},{"style":534},[2499],{"type":428,"value":765},{"type":422,"tag":521,"props":2501,"children":2502},{"style":598},[2503],{"type":428,"value":770},{"type":422,"tag":521,"props":2505,"children":2506},{"style":540},[2507],{"type":428,"value":613},{"type":422,"tag":521,"props":2509,"children":2510},{"class":523,"line":644},[2511],{"type":422,"tag":521,"props":2512,"children":2513},{"emptyLinePlaceholder":414},[2514],{"type":428,"value":650},{"type":422,"tag":521,"props":2516,"children":2517},{"class":523,"line":653},[2518],{"type":422,"tag":521,"props":2519,"children":2520},{"style":732},[2521],{"type":428,"value":2522},"  // 不给属性描述符不可变的对象设置 setter/getter\n",{"type":422,"tag":521,"props":2524,"children":2525},{"class":523,"line":671},[2526,2530,2535,2539,2543,2547,2552,2556,2560,2564,2568,2572],{"type":422,"tag":521,"props":2527,"children":2528},{"style":528},[2529],{"type":428,"value":1835},{"type":422,"tag":521,"props":2531,"children":2532},{"style":1212},[2533],{"type":428,"value":2534}," property",{"type":422,"tag":521,"props":2536,"children":2537},{"style":582},[2538],{"type":428,"value":585},{"type":422,"tag":521,"props":2540,"children":2541},{"style":576},[2542],{"type":428,"value":1224},{"type":422,"tag":521,"props":2544,"children":2545},{"style":540},[2546],{"type":428,"value":708},{"type":422,"tag":521,"props":2548,"children":2549},{"style":534},[2550],{"type":428,"value":2551},"getOwnPropertyDescriptor",{"type":422,"tag":521,"props":2553,"children":2554},{"style":598},[2555],{"type":428,"value":543},{"type":422,"tag":521,"props":2557,"children":2558},{"style":576},[2559],{"type":428,"value":1192},{"type":422,"tag":521,"props":2561,"children":2562},{"style":540},[2563],{"type":428,"value":554},{"type":422,"tag":521,"props":2565,"children":2566},{"style":576},[2567],{"type":428,"value":2424},{"type":422,"tag":521,"props":2569,"children":2570},{"style":598},[2571],{"type":428,"value":564},{"type":422,"tag":521,"props":2573,"children":2574},{"style":540},[2575],{"type":428,"value":613},{"type":422,"tag":521,"props":2577,"children":2578},{"class":523,"line":696},[2579,2584,2588,2593,2598,2602,2606,2611,2616,2622,2626],{"type":422,"tag":521,"props":2580,"children":2581},{"style":620},[2582],{"type":428,"value":2583},"  if",{"type":422,"tag":521,"props":2585,"children":2586},{"style":598},[2587],{"type":428,"value":901},{"type":422,"tag":521,"props":2589,"children":2590},{"style":576},[2591],{"type":428,"value":2592},"property",{"type":422,"tag":521,"props":2594,"children":2595},{"style":582},[2596],{"type":428,"value":2597}," &&",{"type":422,"tag":521,"props":2599,"children":2600},{"style":576},[2601],{"type":428,"value":2534},{"type":422,"tag":521,"props":2603,"children":2604},{"style":540},[2605],{"type":428,"value":708},{"type":422,"tag":521,"props":2607,"children":2608},{"style":576},[2609],{"type":428,"value":2610},"configurable",{"type":422,"tag":521,"props":2612,"children":2613},{"style":582},[2614],{"type":428,"value":2615}," ===",{"type":422,"tag":521,"props":2617,"children":2619},{"style":2618},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2620],{"type":428,"value":2621}," false",{"type":422,"tag":521,"props":2623,"children":2624},{"style":598},[2625],{"type":428,"value":956},{"type":422,"tag":521,"props":2627,"children":2628},{"style":540},[2629],{"type":428,"value":933},{"type":422,"tag":521,"props":2631,"children":2632},{"class":523,"line":728},[2633,2637],{"type":422,"tag":521,"props":2634,"children":2635},{"style":620},[2636],{"type":428,"value":2338},{"type":422,"tag":521,"props":2638,"children":2639},{"style":540},[2640],{"type":428,"value":613},{"type":422,"tag":521,"props":2642,"children":2643},{"class":523,"line":738},[2644],{"type":422,"tag":521,"props":2645,"children":2646},{"style":540},[2647],{"type":428,"value":1165},{"type":422,"tag":521,"props":2649,"children":2650},{"class":523,"line":777},[2651],{"type":422,"tag":521,"props":2652,"children":2653},{"emptyLinePlaceholder":414},[2654],{"type":428,"value":650},{"type":422,"tag":521,"props":2656,"children":2657},{"class":523,"line":808},[2658],{"type":422,"tag":521,"props":2659,"children":2660},{"style":732},[2661],{"type":428,"value":2662},"  // 保存属性原有的 setter/getter，不做破坏\n",{"type":422,"tag":521,"props":2664,"children":2665},{"class":523,"line":817},[2666],{"type":422,"tag":521,"props":2667,"children":2668},{"style":732},[2669],{"type":428,"value":2670},"  // cater for pre-defined getter/setters\n",{"type":422,"tag":521,"props":2672,"children":2673},{"class":523,"line":872},[2674,2678,2683,2687,2691,2695,2699,2703,2708],{"type":422,"tag":521,"props":2675,"children":2676},{"style":528},[2677],{"type":428,"value":1835},{"type":422,"tag":521,"props":2679,"children":2680},{"style":1212},[2681],{"type":428,"value":2682}," getter",{"type":422,"tag":521,"props":2684,"children":2685},{"style":582},[2686],{"type":428,"value":585},{"type":422,"tag":521,"props":2688,"children":2689},{"style":576},[2690],{"type":428,"value":2534},{"type":422,"tag":521,"props":2692,"children":2693},{"style":582},[2694],{"type":428,"value":2597},{"type":422,"tag":521,"props":2696,"children":2697},{"style":576},[2698],{"type":428,"value":2534},{"type":422,"tag":521,"props":2700,"children":2701},{"style":540},[2702],{"type":428,"value":708},{"type":422,"tag":521,"props":2704,"children":2705},{"style":576},[2706],{"type":428,"value":2707},"get",{"type":422,"tag":521,"props":2709,"children":2710},{"style":540},[2711],{"type":428,"value":613},{"type":422,"tag":521,"props":2713,"children":2714},{"class":523,"line":881},[2715,2719,2724,2728,2732,2736,2740,2744,2749],{"type":422,"tag":521,"props":2716,"children":2717},{"style":528},[2718],{"type":428,"value":1835},{"type":422,"tag":521,"props":2720,"children":2721},{"style":1212},[2722],{"type":428,"value":2723}," setter",{"type":422,"tag":521,"props":2725,"children":2726},{"style":582},[2727],{"type":428,"value":585},{"type":422,"tag":521,"props":2729,"children":2730},{"style":576},[2731],{"type":428,"value":2534},{"type":422,"tag":521,"props":2733,"children":2734},{"style":582},[2735],{"type":428,"value":2597},{"type":422,"tag":521,"props":2737,"children":2738},{"style":576},[2739],{"type":428,"value":2534},{"type":422,"tag":521,"props":2741,"children":2742},{"style":540},[2743],{"type":428,"value":708},{"type":422,"tag":521,"props":2745,"children":2746},{"style":576},[2747],{"type":428,"value":2748},"set",{"type":422,"tag":521,"props":2750,"children":2751},{"style":540},[2752],{"type":428,"value":613},{"type":422,"tag":521,"props":2754,"children":2755},{"class":523,"line":890},[2756,2760,2765,2770,2775,2780,2784,2788,2793,2799,2803,2807,2811,2816,2820],{"type":422,"tag":521,"props":2757,"children":2758},{"style":620},[2759],{"type":428,"value":2583},{"type":422,"tag":521,"props":2761,"children":2762},{"style":598},[2763],{"type":428,"value":2764}," ((",{"type":422,"tag":521,"props":2766,"children":2767},{"style":582},[2768],{"type":428,"value":2769},"!",{"type":422,"tag":521,"props":2771,"children":2772},{"style":576},[2773],{"type":428,"value":2774},"getter",{"type":422,"tag":521,"props":2776,"children":2777},{"style":582},[2778],{"type":428,"value":2779}," ||",{"type":422,"tag":521,"props":2781,"children":2782},{"style":576},[2783],{"type":428,"value":2723},{"type":422,"tag":521,"props":2785,"children":2786},{"style":598},[2787],{"type":428,"value":956},{"type":422,"tag":521,"props":2789,"children":2790},{"style":582},[2791],{"type":428,"value":2792},"&&",{"type":422,"tag":521,"props":2794,"children":2796},{"style":2795},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2797],{"type":428,"value":2798}," arguments",{"type":422,"tag":521,"props":2800,"children":2801},{"style":540},[2802],{"type":428,"value":708},{"type":422,"tag":521,"props":2804,"children":2805},{"style":1212},[2806],{"type":428,"value":1307},{"type":422,"tag":521,"props":2808,"children":2809},{"style":582},[2810],{"type":428,"value":2615},{"type":422,"tag":521,"props":2812,"children":2813},{"style":798},[2814],{"type":428,"value":2815}," 2",{"type":422,"tag":521,"props":2817,"children":2818},{"style":598},[2819],{"type":428,"value":956},{"type":422,"tag":521,"props":2821,"children":2822},{"style":540},[2823],{"type":428,"value":933},{"type":422,"tag":521,"props":2825,"children":2826},{"class":523,"line":936},[2827,2832,2836,2841,2845,2850,2854],{"type":422,"tag":521,"props":2828,"children":2829},{"style":576},[2830],{"type":428,"value":2831},"    val",{"type":422,"tag":521,"props":2833,"children":2834},{"style":582},[2835],{"type":428,"value":585},{"type":422,"tag":521,"props":2837,"children":2838},{"style":576},[2839],{"type":428,"value":2840}," obj",{"type":422,"tag":521,"props":2842,"children":2843},{"style":598},[2844],{"type":428,"value":1358},{"type":422,"tag":521,"props":2846,"children":2847},{"style":576},[2848],{"type":428,"value":2849},"key",{"type":422,"tag":521,"props":2851,"children":2852},{"style":598},[2853],{"type":428,"value":1766},{"type":422,"tag":521,"props":2855,"children":2856},{"style":540},[2857],{"type":428,"value":613},{"type":422,"tag":521,"props":2859,"children":2860},{"class":523,"line":963},[2861],{"type":422,"tag":521,"props":2862,"children":2863},{"style":540},[2864],{"type":428,"value":1165},{"type":422,"tag":521,"props":2866,"children":2867},{"class":523,"line":997},[2868],{"type":422,"tag":521,"props":2869,"children":2870},{"emptyLinePlaceholder":414},[2871],{"type":428,"value":650},{"type":422,"tag":521,"props":2873,"children":2874},{"class":523,"line":1015},[2875],{"type":422,"tag":521,"props":2876,"children":2877},{"style":732},[2878],{"type":428,"value":2879},"  // 侦测值的变化\n",{"type":422,"tag":521,"props":2881,"children":2882},{"class":523,"line":1057},[2883,2888,2893,2897,2902,2907,2911,2915,2919,2924,2928],{"type":422,"tag":521,"props":2884,"children":2885},{"style":528},[2886],{"type":428,"value":2887},"  let",{"type":422,"tag":521,"props":2889,"children":2890},{"style":576},[2891],{"type":428,"value":2892}," childOb",{"type":422,"tag":521,"props":2894,"children":2895},{"style":582},[2896],{"type":428,"value":585},{"type":422,"tag":521,"props":2898,"children":2899},{"style":582},[2900],{"type":428,"value":2901}," !",{"type":422,"tag":521,"props":2903,"children":2904},{"style":576},[2905],{"type":428,"value":2906},"shallow",{"type":422,"tag":521,"props":2908,"children":2909},{"style":582},[2910],{"type":428,"value":2597},{"type":422,"tag":521,"props":2912,"children":2913},{"style":534},[2914],{"type":428,"value":537},{"type":422,"tag":521,"props":2916,"children":2917},{"style":598},[2918],{"type":428,"value":543},{"type":422,"tag":521,"props":2920,"children":2921},{"style":576},[2922],{"type":428,"value":2923},"val",{"type":422,"tag":521,"props":2925,"children":2926},{"style":598},[2927],{"type":428,"value":564},{"type":422,"tag":521,"props":2929,"children":2930},{"style":540},[2931],{"type":428,"value":613},{"type":422,"tag":521,"props":2933,"children":2934},{"class":523,"line":1066},[2935],{"type":422,"tag":521,"props":2936,"children":2937},{"emptyLinePlaceholder":414},[2938],{"type":428,"value":650},{"type":422,"tag":521,"props":2940,"children":2941},{"class":523,"line":1100},[2942,2947,2951,2956,2960,2964,2968,2972,2976],{"type":422,"tag":521,"props":2943,"children":2944},{"style":576},[2945],{"type":428,"value":2946},"  Object",{"type":422,"tag":521,"props":2948,"children":2949},{"style":540},[2950],{"type":428,"value":708},{"type":422,"tag":521,"props":2952,"children":2953},{"style":534},[2954],{"type":428,"value":2955},"defineProperty",{"type":422,"tag":521,"props":2957,"children":2958},{"style":598},[2959],{"type":428,"value":543},{"type":422,"tag":521,"props":2961,"children":2962},{"style":576},[2963],{"type":428,"value":1192},{"type":422,"tag":521,"props":2965,"children":2966},{"style":540},[2967],{"type":428,"value":554},{"type":422,"tag":521,"props":2969,"children":2970},{"style":576},[2971],{"type":428,"value":2424},{"type":422,"tag":521,"props":2973,"children":2974},{"style":540},[2975],{"type":428,"value":554},{"type":422,"tag":521,"props":2977,"children":2978},{"style":540},[2979],{"type":428,"value":569},{"type":422,"tag":521,"props":2981,"children":2982},{"class":523,"line":1117},[2983,2988,2993,2998],{"type":422,"tag":521,"props":2984,"children":2985},{"style":598},[2986],{"type":428,"value":2987},"    enumerable",{"type":422,"tag":521,"props":2989,"children":2990},{"style":540},[2991],{"type":428,"value":2992},":",{"type":422,"tag":521,"props":2994,"children":2995},{"style":2618},[2996],{"type":428,"value":2997}," true",{"type":422,"tag":521,"props":2999,"children":3000},{"style":540},[3001],{"type":428,"value":1638},{"type":422,"tag":521,"props":3003,"children":3004},{"class":523,"line":1150},[3005,3010,3014,3018],{"type":422,"tag":521,"props":3006,"children":3007},{"style":598},[3008],{"type":428,"value":3009},"    configurable",{"type":422,"tag":521,"props":3011,"children":3012},{"style":540},[3013],{"type":428,"value":2992},{"type":422,"tag":521,"props":3015,"children":3016},{"style":2618},[3017],{"type":428,"value":2997},{"type":422,"tag":521,"props":3019,"children":3020},{"style":540},[3021],{"type":428,"value":1638},{"type":422,"tag":521,"props":3023,"children":3024},{"class":523,"line":1159},[3025,3030,3034,3038,3043,3047],{"type":422,"tag":521,"props":3026,"children":3027},{"style":534},[3028],{"type":428,"value":3029},"    get",{"type":422,"tag":521,"props":3031,"children":3032},{"style":540},[3033],{"type":428,"value":2992},{"type":422,"tag":521,"props":3035,"children":3036},{"style":528},[3037],{"type":428,"value":1900},{"type":422,"tag":521,"props":3039,"children":3040},{"style":534},[3041],{"type":428,"value":3042}," reactiveGetter",{"type":422,"tag":521,"props":3044,"children":3045},{"style":540},[3046],{"type":428,"value":770},{"type":422,"tag":521,"props":3048,"children":3049},{"style":540},[3050],{"type":428,"value":569},{"type":422,"tag":521,"props":3052,"children":3053},{"class":523,"line":1168},[3054,3059,3063,3067,3071,3076,3080,3084,3089,3093,3097,3101,3105,3109],{"type":422,"tag":521,"props":3055,"children":3056},{"style":528},[3057],{"type":428,"value":3058},"      const",{"type":422,"tag":521,"props":3060,"children":3061},{"style":1212},[3062],{"type":428,"value":721},{"type":422,"tag":521,"props":3064,"children":3065},{"style":582},[3066],{"type":428,"value":585},{"type":422,"tag":521,"props":3068,"children":3069},{"style":576},[3070],{"type":428,"value":2682},{"type":422,"tag":521,"props":3072,"children":3073},{"style":582},[3074],{"type":428,"value":3075}," ?",{"type":422,"tag":521,"props":3077,"children":3078},{"style":576},[3079],{"type":428,"value":2682},{"type":422,"tag":521,"props":3081,"children":3082},{"style":540},[3083],{"type":428,"value":708},{"type":422,"tag":521,"props":3085,"children":3086},{"style":534},[3087],{"type":428,"value":3088},"call",{"type":422,"tag":521,"props":3090,"children":3091},{"style":598},[3092],{"type":428,"value":543},{"type":422,"tag":521,"props":3094,"children":3095},{"style":576},[3096],{"type":428,"value":1192},{"type":422,"tag":521,"props":3098,"children":3099},{"style":598},[3100],{"type":428,"value":956},{"type":422,"tag":521,"props":3102,"children":3103},{"style":582},[3104],{"type":428,"value":2992},{"type":422,"tag":521,"props":3106,"children":3107},{"style":576},[3108],{"type":428,"value":2433},{"type":422,"tag":521,"props":3110,"children":3111},{"style":540},[3112],{"type":428,"value":613},{"type":422,"tag":521,"props":3114,"children":3115},{"class":523,"line":1176},[3116],{"type":422,"tag":521,"props":3117,"children":3118},{"style":732},[3119],{"type":428,"value":3120},"      // 收集依赖\n",{"type":422,"tag":521,"props":3122,"children":3123},{"class":523,"line":1203},[3124,3128,3132,3137,3141,3146,3150],{"type":422,"tag":521,"props":3125,"children":3126},{"style":620},[3127],{"type":428,"value":942},{"type":422,"tag":521,"props":3129,"children":3130},{"style":598},[3131],{"type":428,"value":901},{"type":422,"tag":521,"props":3133,"children":3134},{"style":576},[3135],{"type":428,"value":3136},"Dep",{"type":422,"tag":521,"props":3138,"children":3139},{"style":540},[3140],{"type":428,"value":708},{"type":422,"tag":521,"props":3142,"children":3143},{"style":576},[3144],{"type":428,"value":3145},"target",{"type":422,"tag":521,"props":3147,"children":3148},{"style":598},[3149],{"type":428,"value":956},{"type":422,"tag":521,"props":3151,"children":3152},{"style":540},[3153],{"type":428,"value":933},{"type":422,"tag":521,"props":3155,"children":3156},{"class":523,"line":1252},[3157,3162,3166,3171,3175],{"type":422,"tag":521,"props":3158,"children":3159},{"style":576},[3160],{"type":428,"value":3161},"        dep",{"type":422,"tag":521,"props":3163,"children":3164},{"style":540},[3165],{"type":428,"value":708},{"type":422,"tag":521,"props":3167,"children":3168},{"style":534},[3169],{"type":428,"value":3170},"depend",{"type":422,"tag":521,"props":3172,"children":3173},{"style":598},[3174],{"type":428,"value":770},{"type":422,"tag":521,"props":3176,"children":3177},{"style":540},[3178],{"type":428,"value":613},{"type":422,"tag":521,"props":3180,"children":3181},{"class":523,"line":1331},[3182,3187,3191,3196,3200],{"type":422,"tag":521,"props":3183,"children":3184},{"style":620},[3185],{"type":428,"value":3186},"        if",{"type":422,"tag":521,"props":3188,"children":3189},{"style":598},[3190],{"type":428,"value":901},{"type":422,"tag":521,"props":3192,"children":3193},{"style":576},[3194],{"type":428,"value":3195},"childOb",{"type":422,"tag":521,"props":3197,"children":3198},{"style":598},[3199],{"type":428,"value":956},{"type":422,"tag":521,"props":3201,"children":3202},{"style":540},[3203],{"type":428,"value":933},{"type":422,"tag":521,"props":3205,"children":3206},{"class":523,"line":1375},[3207,3212,3216,3220,3224,3228,3232],{"type":422,"tag":521,"props":3208,"children":3209},{"style":576},[3210],{"type":428,"value":3211},"          childOb",{"type":422,"tag":521,"props":3213,"children":3214},{"style":540},[3215],{"type":428,"value":708},{"type":422,"tag":521,"props":3217,"children":3218},{"style":576},[3219],{"type":428,"value":752},{"type":422,"tag":521,"props":3221,"children":3222},{"style":540},[3223],{"type":428,"value":708},{"type":422,"tag":521,"props":3225,"children":3226},{"style":534},[3227],{"type":428,"value":3170},{"type":422,"tag":521,"props":3229,"children":3230},{"style":598},[3231],{"type":428,"value":770},{"type":422,"tag":521,"props":3233,"children":3234},{"style":540},[3235],{"type":428,"value":613},{"type":422,"tag":521,"props":3237,"children":3238},{"class":523,"line":1383},[3239,3244,3248,3252,3256,3260,3264,3268,3272],{"type":422,"tag":521,"props":3240,"children":3241},{"style":620},[3242],{"type":428,"value":3243},"          if",{"type":422,"tag":521,"props":3245,"children":3246},{"style":598},[3247],{"type":428,"value":901},{"type":422,"tag":521,"props":3249,"children":3250},{"style":576},[3251],{"type":428,"value":906},{"type":422,"tag":521,"props":3253,"children":3254},{"style":540},[3255],{"type":428,"value":708},{"type":422,"tag":521,"props":3257,"children":3258},{"style":534},[3259],{"type":428,"value":915},{"type":422,"tag":521,"props":3261,"children":3262},{"style":598},[3263],{"type":428,"value":543},{"type":422,"tag":521,"props":3265,"children":3266},{"style":576},[3267],{"type":428,"value":549},{"type":422,"tag":521,"props":3269,"children":3270},{"style":598},[3271],{"type":428,"value":928},{"type":422,"tag":521,"props":3273,"children":3274},{"style":540},[3275],{"type":428,"value":933},{"type":422,"tag":521,"props":3277,"children":3278},{"class":523,"line":1391},[3279,3284,3288,3292,3296],{"type":422,"tag":521,"props":3280,"children":3281},{"style":534},[3282],{"type":428,"value":3283},"            dependArray",{"type":422,"tag":521,"props":3285,"children":3286},{"style":598},[3287],{"type":428,"value":543},{"type":422,"tag":521,"props":3289,"children":3290},{"style":576},[3291],{"type":428,"value":549},{"type":422,"tag":521,"props":3293,"children":3294},{"style":598},[3295],{"type":428,"value":564},{"type":422,"tag":521,"props":3297,"children":3298},{"style":540},[3299],{"type":428,"value":613},{"type":422,"tag":521,"props":3301,"children":3302},{"class":523,"line":1399},[3303],{"type":422,"tag":521,"props":3304,"children":3305},{"style":540},[3306],{"type":428,"value":3307},"          }\n",{"type":422,"tag":521,"props":3309,"children":3310},{"class":523,"line":1425},[3311],{"type":422,"tag":521,"props":3312,"children":3313},{"style":540},[3314],{"type":428,"value":3315},"        }\n",{"type":422,"tag":521,"props":3317,"children":3318},{"class":523,"line":1515},[3319],{"type":422,"tag":521,"props":3320,"children":3321},{"style":540},[3322],{"type":428,"value":1063},{"type":422,"tag":521,"props":3324,"children":3325},{"class":523,"line":1548},[3326,3331,3335],{"type":422,"tag":521,"props":3327,"children":3328},{"style":620},[3329],{"type":428,"value":3330},"      return",{"type":422,"tag":521,"props":3332,"children":3333},{"style":576},[3334],{"type":428,"value":721},{"type":422,"tag":521,"props":3336,"children":3337},{"style":540},[3338],{"type":428,"value":613},{"type":422,"tag":521,"props":3340,"children":3341},{"class":523,"line":1556},[3342],{"type":422,"tag":521,"props":3343,"children":3344},{"style":540},[3345],{"type":428,"value":3346},"    },\n",{"type":422,"tag":521,"props":3348,"children":3349},{"class":523,"line":1564},[3350,3355,3359,3363,3368,3372,3377,3381],{"type":422,"tag":521,"props":3351,"children":3352},{"style":534},[3353],{"type":428,"value":3354},"    set",{"type":422,"tag":521,"props":3356,"children":3357},{"style":540},[3358],{"type":428,"value":2992},{"type":422,"tag":521,"props":3360,"children":3361},{"style":528},[3362],{"type":428,"value":1900},{"type":422,"tag":521,"props":3364,"children":3365},{"style":534},[3366],{"type":428,"value":3367}," reactiveSetter",{"type":422,"tag":521,"props":3369,"children":3370},{"style":540},[3371],{"type":428,"value":543},{"type":422,"tag":521,"props":3373,"children":3374},{"style":546},[3375],{"type":428,"value":3376},"newVal",{"type":422,"tag":521,"props":3378,"children":3379},{"style":540},[3380],{"type":428,"value":564},{"type":422,"tag":521,"props":3382,"children":3383},{"style":540},[3384],{"type":428,"value":569},{"type":422,"tag":521,"props":3386,"children":3388},{"class":523,"line":3387},41,[3389,3393,3397,3401,3405,3409,3413,3417,3421,3425,3429,3433,3437,3441],{"type":422,"tag":521,"props":3390,"children":3391},{"style":528},[3392],{"type":428,"value":3058},{"type":422,"tag":521,"props":3394,"children":3395},{"style":1212},[3396],{"type":428,"value":721},{"type":422,"tag":521,"props":3398,"children":3399},{"style":582},[3400],{"type":428,"value":585},{"type":422,"tag":521,"props":3402,"children":3403},{"style":576},[3404],{"type":428,"value":2682},{"type":422,"tag":521,"props":3406,"children":3407},{"style":582},[3408],{"type":428,"value":3075},{"type":422,"tag":521,"props":3410,"children":3411},{"style":576},[3412],{"type":428,"value":2682},{"type":422,"tag":521,"props":3414,"children":3415},{"style":540},[3416],{"type":428,"value":708},{"type":422,"tag":521,"props":3418,"children":3419},{"style":534},[3420],{"type":428,"value":3088},{"type":422,"tag":521,"props":3422,"children":3423},{"style":598},[3424],{"type":428,"value":543},{"type":422,"tag":521,"props":3426,"children":3427},{"style":576},[3428],{"type":428,"value":1192},{"type":422,"tag":521,"props":3430,"children":3431},{"style":598},[3432],{"type":428,"value":956},{"type":422,"tag":521,"props":3434,"children":3435},{"style":582},[3436],{"type":428,"value":2992},{"type":422,"tag":521,"props":3438,"children":3439},{"style":576},[3440],{"type":428,"value":2433},{"type":422,"tag":521,"props":3442,"children":3443},{"style":540},[3444],{"type":428,"value":613},{"type":422,"tag":521,"props":3446,"children":3448},{"class":523,"line":3447},42,[3449],{"type":422,"tag":521,"props":3450,"children":3451},{"style":732},[3452],{"type":428,"value":3453},"      /* eslint-disable no-self-compare */\n",{"type":422,"tag":521,"props":3455,"children":3457},{"class":523,"line":3456},43,[3458,3462,3466,3470,3474,3478,3482,3486,3490,3495,3500,3504,3508,3512,3516,3520],{"type":422,"tag":521,"props":3459,"children":3460},{"style":620},[3461],{"type":428,"value":942},{"type":422,"tag":521,"props":3463,"children":3464},{"style":598},[3465],{"type":428,"value":901},{"type":422,"tag":521,"props":3467,"children":3468},{"style":576},[3469],{"type":428,"value":3376},{"type":422,"tag":521,"props":3471,"children":3472},{"style":582},[3473],{"type":428,"value":2615},{"type":422,"tag":521,"props":3475,"children":3476},{"style":576},[3477],{"type":428,"value":721},{"type":422,"tag":521,"props":3479,"children":3480},{"style":582},[3481],{"type":428,"value":2779},{"type":422,"tag":521,"props":3483,"children":3484},{"style":598},[3485],{"type":428,"value":901},{"type":422,"tag":521,"props":3487,"children":3488},{"style":576},[3489],{"type":428,"value":3376},{"type":422,"tag":521,"props":3491,"children":3492},{"style":582},[3493],{"type":428,"value":3494}," !==",{"type":422,"tag":521,"props":3496,"children":3497},{"style":576},[3498],{"type":428,"value":3499}," newVal",{"type":422,"tag":521,"props":3501,"children":3502},{"style":582},[3503],{"type":428,"value":2597},{"type":422,"tag":521,"props":3505,"children":3506},{"style":576},[3507],{"type":428,"value":721},{"type":422,"tag":521,"props":3509,"children":3510},{"style":582},[3511],{"type":428,"value":3494},{"type":422,"tag":521,"props":3513,"children":3514},{"style":576},[3515],{"type":428,"value":721},{"type":422,"tag":521,"props":3517,"children":3518},{"style":598},[3519],{"type":428,"value":928},{"type":422,"tag":521,"props":3521,"children":3522},{"style":540},[3523],{"type":428,"value":933},{"type":422,"tag":521,"props":3525,"children":3527},{"class":523,"line":3526},44,[3528,3533],{"type":422,"tag":521,"props":3529,"children":3530},{"style":620},[3531],{"type":428,"value":3532},"        return",{"type":422,"tag":521,"props":3534,"children":3535},{"style":540},[3536],{"type":428,"value":613},{"type":422,"tag":521,"props":3538,"children":3540},{"class":523,"line":3539},45,[3541],{"type":422,"tag":521,"props":3542,"children":3543},{"style":540},[3544],{"type":428,"value":1063},{"type":422,"tag":521,"props":3546,"children":3548},{"class":523,"line":3547},46,[3549],{"type":422,"tag":521,"props":3550,"children":3551},{"style":732},[3552],{"type":428,"value":3553},"      // 非生产环境：自定义 setter 副作用\n",{"type":422,"tag":521,"props":3555,"children":3557},{"class":523,"line":3556},47,[3558,3562,3566,3571,3575,3580,3584,3589,3593,3597,3602,3606,3610,3614,3618],{"type":422,"tag":521,"props":3559,"children":3560},{"style":620},[3561],{"type":428,"value":942},{"type":422,"tag":521,"props":3563,"children":3564},{"style":598},[3565],{"type":428,"value":901},{"type":422,"tag":521,"props":3567,"children":3568},{"style":576},[3569],{"type":428,"value":3570},"process",{"type":422,"tag":521,"props":3572,"children":3573},{"style":540},[3574],{"type":428,"value":708},{"type":422,"tag":521,"props":3576,"children":3577},{"style":576},[3578],{"type":428,"value":3579},"env",{"type":422,"tag":521,"props":3581,"children":3582},{"style":540},[3583],{"type":428,"value":708},{"type":422,"tag":521,"props":3585,"children":3586},{"style":1212},[3587],{"type":428,"value":3588},"NODE_ENV",{"type":422,"tag":521,"props":3590,"children":3591},{"style":582},[3592],{"type":428,"value":3494},{"type":422,"tag":521,"props":3594,"children":3595},{"style":838},[3596],{"type":428,"value":841},{"type":422,"tag":521,"props":3598,"children":3599},{"style":844},[3600],{"type":428,"value":3601},"production",{"type":422,"tag":521,"props":3603,"children":3604},{"style":838},[3605],{"type":428,"value":852},{"type":422,"tag":521,"props":3607,"children":3608},{"style":582},[3609],{"type":428,"value":2597},{"type":422,"tag":521,"props":3611,"children":3612},{"style":576},[3613],{"type":428,"value":2442},{"type":422,"tag":521,"props":3615,"children":3616},{"style":598},[3617],{"type":428,"value":956},{"type":422,"tag":521,"props":3619,"children":3620},{"style":540},[3621],{"type":428,"value":933},{"type":422,"tag":521,"props":3623,"children":3625},{"class":523,"line":3624},48,[3626,3631,3635],{"type":422,"tag":521,"props":3627,"children":3628},{"style":534},[3629],{"type":428,"value":3630},"        customSetter",{"type":422,"tag":521,"props":3632,"children":3633},{"style":598},[3634],{"type":428,"value":770},{"type":422,"tag":521,"props":3636,"children":3637},{"style":540},[3638],{"type":428,"value":613},{"type":422,"tag":521,"props":3640,"children":3642},{"class":523,"line":3641},49,[3643],{"type":422,"tag":521,"props":3644,"children":3645},{"style":540},[3646],{"type":428,"value":1063},{"type":422,"tag":521,"props":3648,"children":3650},{"class":523,"line":3649},50,[3651],{"type":422,"tag":521,"props":3652,"children":3653},{"style":732},[3654],{"type":428,"value":3655},"      // #7981: for accessor properties without setter\n",{"type":422,"tag":521,"props":3657,"children":3659},{"class":523,"line":3658},51,[3660,3664,3668,3672,3676,3680,3685,3689,3694],{"type":422,"tag":521,"props":3661,"children":3662},{"style":620},[3663],{"type":428,"value":942},{"type":422,"tag":521,"props":3665,"children":3666},{"style":598},[3667],{"type":428,"value":901},{"type":422,"tag":521,"props":3669,"children":3670},{"style":576},[3671],{"type":428,"value":2774},{"type":422,"tag":521,"props":3673,"children":3674},{"style":582},[3675],{"type":428,"value":2597},{"type":422,"tag":521,"props":3677,"children":3678},{"style":582},[3679],{"type":428,"value":2901},{"type":422,"tag":521,"props":3681,"children":3682},{"style":576},[3683],{"type":428,"value":3684},"setter",{"type":422,"tag":521,"props":3686,"children":3687},{"style":598},[3688],{"type":428,"value":956},{"type":422,"tag":521,"props":3690,"children":3691},{"style":620},[3692],{"type":428,"value":3693},"return",{"type":422,"tag":521,"props":3695,"children":3696},{"style":540},[3697],{"type":428,"value":613},{"type":422,"tag":521,"props":3699,"children":3701},{"class":523,"line":3700},52,[3702],{"type":422,"tag":521,"props":3703,"children":3704},{"style":732},[3705],{"type":428,"value":3706},"      // 使用原有的 setter 更新值或直接更新值\n",{"type":422,"tag":521,"props":3708,"children":3710},{"class":523,"line":3709},53,[3711,3715,3719,3723,3727],{"type":422,"tag":521,"props":3712,"children":3713},{"style":620},[3714],{"type":428,"value":942},{"type":422,"tag":521,"props":3716,"children":3717},{"style":598},[3718],{"type":428,"value":901},{"type":422,"tag":521,"props":3720,"children":3721},{"style":576},[3722],{"type":428,"value":3684},{"type":422,"tag":521,"props":3724,"children":3725},{"style":598},[3726],{"type":428,"value":956},{"type":422,"tag":521,"props":3728,"children":3729},{"style":540},[3730],{"type":428,"value":933},{"type":422,"tag":521,"props":3732,"children":3734},{"class":523,"line":3733},54,[3735,3740,3744,3748,3752,3756,3760,3764,3768],{"type":422,"tag":521,"props":3736,"children":3737},{"style":576},[3738],{"type":428,"value":3739},"        setter",{"type":422,"tag":521,"props":3741,"children":3742},{"style":540},[3743],{"type":428,"value":708},{"type":422,"tag":521,"props":3745,"children":3746},{"style":534},[3747],{"type":428,"value":3088},{"type":422,"tag":521,"props":3749,"children":3750},{"style":598},[3751],{"type":428,"value":543},{"type":422,"tag":521,"props":3753,"children":3754},{"style":576},[3755],{"type":428,"value":1192},{"type":422,"tag":521,"props":3757,"children":3758},{"style":540},[3759],{"type":428,"value":554},{"type":422,"tag":521,"props":3761,"children":3762},{"style":576},[3763],{"type":428,"value":3499},{"type":422,"tag":521,"props":3765,"children":3766},{"style":598},[3767],{"type":428,"value":564},{"type":422,"tag":521,"props":3769,"children":3770},{"style":540},[3771],{"type":428,"value":613},{"type":422,"tag":521,"props":3773,"children":3775},{"class":523,"line":3774},55,[3776,3780,3784],{"type":422,"tag":521,"props":3777,"children":3778},{"style":540},[3779],{"type":428,"value":1003},{"type":422,"tag":521,"props":3781,"children":3782},{"style":620},[3783],{"type":428,"value":1008},{"type":422,"tag":521,"props":3785,"children":3786},{"style":540},[3787],{"type":428,"value":569},{"type":422,"tag":521,"props":3789,"children":3791},{"class":523,"line":3790},56,[3792,3797,3801,3805],{"type":422,"tag":521,"props":3793,"children":3794},{"style":576},[3795],{"type":428,"value":3796},"        val",{"type":422,"tag":521,"props":3798,"children":3799},{"style":582},[3800],{"type":428,"value":585},{"type":422,"tag":521,"props":3802,"children":3803},{"style":576},[3804],{"type":428,"value":3499},{"type":422,"tag":521,"props":3806,"children":3807},{"style":540},[3808],{"type":428,"value":613},{"type":422,"tag":521,"props":3810,"children":3812},{"class":523,"line":3811},57,[3813],{"type":422,"tag":521,"props":3814,"children":3815},{"style":540},[3816],{"type":428,"value":1063},{"type":422,"tag":521,"props":3818,"children":3820},{"class":523,"line":3819},58,[3821],{"type":422,"tag":521,"props":3822,"children":3823},{"style":732},[3824],{"type":428,"value":3825},"      // 侦测子对象的变化\n",{"type":422,"tag":521,"props":3827,"children":3829},{"class":523,"line":3828},59,[3830,3835,3839,3843,3847,3851,3855,3859,3863,3867],{"type":422,"tag":521,"props":3831,"children":3832},{"style":576},[3833],{"type":428,"value":3834},"      childOb",{"type":422,"tag":521,"props":3836,"children":3837},{"style":582},[3838],{"type":428,"value":585},{"type":422,"tag":521,"props":3840,"children":3841},{"style":582},[3842],{"type":428,"value":2901},{"type":422,"tag":521,"props":3844,"children":3845},{"style":576},[3846],{"type":428,"value":2906},{"type":422,"tag":521,"props":3848,"children":3849},{"style":582},[3850],{"type":428,"value":2597},{"type":422,"tag":521,"props":3852,"children":3853},{"style":534},[3854],{"type":428,"value":537},{"type":422,"tag":521,"props":3856,"children":3857},{"style":598},[3858],{"type":428,"value":543},{"type":422,"tag":521,"props":3860,"children":3861},{"style":576},[3862],{"type":428,"value":3376},{"type":422,"tag":521,"props":3864,"children":3865},{"style":598},[3866],{"type":428,"value":564},{"type":422,"tag":521,"props":3868,"children":3869},{"style":540},[3870],{"type":428,"value":613},{"type":422,"tag":521,"props":3872,"children":3874},{"class":523,"line":3873},60,[3875],{"type":422,"tag":521,"props":3876,"children":3877},{"style":732},[3878],{"type":428,"value":3879},"      // 通知依赖更新\n",{"type":422,"tag":521,"props":3881,"children":3883},{"class":523,"line":3882},61,[3884,3889,3893,3897,3901],{"type":422,"tag":521,"props":3885,"children":3886},{"style":576},[3887],{"type":428,"value":3888},"      dep",{"type":422,"tag":521,"props":3890,"children":3891},{"style":540},[3892],{"type":428,"value":708},{"type":422,"tag":521,"props":3894,"children":3895},{"style":534},[3896],{"type":428,"value":2322},{"type":422,"tag":521,"props":3898,"children":3899},{"style":598},[3900],{"type":428,"value":770},{"type":422,"tag":521,"props":3902,"children":3903},{"style":540},[3904],{"type":428,"value":613},{"type":422,"tag":521,"props":3906,"children":3908},{"class":523,"line":3907},62,[3909],{"type":422,"tag":521,"props":3910,"children":3911},{"style":540},[3912],{"type":428,"value":3346},{"type":422,"tag":521,"props":3914,"children":3916},{"class":523,"line":3915},63,[3917,3921,3925],{"type":422,"tag":521,"props":3918,"children":3919},{"style":540},[3920],{"type":428,"value":2354},{"type":422,"tag":521,"props":3922,"children":3923},{"style":598},[3924],{"type":428,"value":564},{"type":422,"tag":521,"props":3926,"children":3927},{"style":540},[3928],{"type":428,"value":613},{"type":422,"tag":521,"props":3930,"children":3932},{"class":523,"line":3931},64,[3933],{"type":422,"tag":521,"props":3934,"children":3935},{"style":540},[3936],{"type":428,"value":641},{"type":422,"tag":496,"props":3938,"children":3940},{"id":3939},"依赖容器及依赖",[3941],{"type":428,"value":3939},{"type":422,"tag":455,"props":3943,"children":3944},{},[3945],{"type":428,"value":3946},"接下来进入比较绕的部分。首先回答：依赖容器是什么？",{"type":422,"tag":455,"props":3948,"children":3949},{},[3950],{"type":428,"value":3951},"刚刚看到了 dep.notify 的作用是“通知依赖更新”，所以 Dep 就是依赖容器。",{"type":422,"tag":455,"props":3953,"children":3954},{},[3955],{"type":428,"value":3956},"我们上小节说到，每个属性都保持了一个依赖容器，所有依赖都会存放在这个依赖容器实例中。所以依赖容器还提供了统一更新依赖、删除依赖之类的方法。",{"type":422,"tag":461,"props":3958,"children":3960},{"code":3959,"language":514,"meta":415,"className":515,"style":415},"class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n  // 添加依赖\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n  // 删除依赖\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n  // 收集依赖\n  depend() {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  // 通知依赖更新\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice();\n    for (let i = 0, l = subs.length; i \u003C l; i++) {\n      subs[i].update();\n    }\n  }\n}\n",[3961],{"type":422,"tag":466,"props":3962,"children":3963},{"__ignoreMap":415},[3964,3979,3994,4027,4056,4063,4071,4096,4135,4142,4150,4174,4215,4222,4230,4246,4277,4318,4325,4332,4340,4356,4364,4408,4495,4532,4539,4546],{"type":422,"tag":521,"props":3965,"children":3966},{"class":523,"line":524},[3967,3971,3975],{"type":422,"tag":521,"props":3968,"children":3969},{"style":528},[3970],{"type":428,"value":659},{"type":422,"tag":521,"props":3972,"children":3973},{"style":662},[3974],{"type":428,"value":765},{"type":422,"tag":521,"props":3976,"children":3977},{"style":540},[3978],{"type":428,"value":569},{"type":422,"tag":521,"props":3980,"children":3981},{"class":523,"line":572},[3982,3986,3990],{"type":422,"tag":521,"props":3983,"children":3984},{"style":528},[3985],{"type":428,"value":677},{"type":422,"tag":521,"props":3987,"children":3988},{"style":540},[3989],{"type":428,"value":770},{"type":422,"tag":521,"props":3991,"children":3992},{"style":540},[3993],{"type":428,"value":569},{"type":422,"tag":521,"props":3995,"children":3996},{"class":523,"line":616},[3997,4001,4005,4010,4014,4019,4023],{"type":422,"tag":521,"props":3998,"children":3999},{"style":700},[4000],{"type":428,"value":703},{"type":422,"tag":521,"props":4002,"children":4003},{"style":540},[4004],{"type":428,"value":708},{"type":422,"tag":521,"props":4006,"children":4007},{"style":576},[4008],{"type":428,"value":4009},"id",{"type":422,"tag":521,"props":4011,"children":4012},{"style":582},[4013],{"type":428,"value":585},{"type":422,"tag":521,"props":4015,"children":4016},{"style":576},[4017],{"type":428,"value":4018}," uid",{"type":422,"tag":521,"props":4020,"children":4021},{"style":582},[4022],{"type":428,"value":1320},{"type":422,"tag":521,"props":4024,"children":4025},{"style":540},[4026],{"type":428,"value":613},{"type":422,"tag":521,"props":4028,"children":4029},{"class":523,"line":635},[4030,4034,4038,4043,4047,4052],{"type":422,"tag":521,"props":4031,"children":4032},{"style":700},[4033],{"type":428,"value":703},{"type":422,"tag":521,"props":4035,"children":4036},{"style":540},[4037],{"type":428,"value":708},{"type":422,"tag":521,"props":4039,"children":4040},{"style":576},[4041],{"type":428,"value":4042},"subs",{"type":422,"tag":521,"props":4044,"children":4045},{"style":582},[4046],{"type":428,"value":585},{"type":422,"tag":521,"props":4048,"children":4049},{"style":598},[4050],{"type":428,"value":4051}," []",{"type":422,"tag":521,"props":4053,"children":4054},{"style":540},[4055],{"type":428,"value":613},{"type":422,"tag":521,"props":4057,"children":4058},{"class":523,"line":644},[4059],{"type":422,"tag":521,"props":4060,"children":4061},{"style":540},[4062],{"type":428,"value":1165},{"type":422,"tag":521,"props":4064,"children":4065},{"class":523,"line":653},[4066],{"type":422,"tag":521,"props":4067,"children":4068},{"style":732},[4069],{"type":428,"value":4070},"  // 添加依赖\n",{"type":422,"tag":521,"props":4072,"children":4073},{"class":523,"line":671},[4074,4079,4083,4088,4092],{"type":422,"tag":521,"props":4075,"children":4076},{"style":1180},[4077],{"type":428,"value":4078},"  addSub",{"type":422,"tag":521,"props":4080,"children":4081},{"style":540},[4082],{"type":428,"value":543},{"type":422,"tag":521,"props":4084,"children":4085},{"style":546},[4086],{"type":428,"value":4087},"sub",{"type":422,"tag":521,"props":4089,"children":4090},{"style":540},[4091],{"type":428,"value":564},{"type":422,"tag":521,"props":4093,"children":4094},{"style":540},[4095],{"type":428,"value":569},{"type":422,"tag":521,"props":4097,"children":4098},{"class":523,"line":696},[4099,4103,4107,4111,4115,4119,4123,4127,4131],{"type":422,"tag":521,"props":4100,"children":4101},{"style":700},[4102],{"type":428,"value":703},{"type":422,"tag":521,"props":4104,"children":4105},{"style":540},[4106],{"type":428,"value":708},{"type":422,"tag":521,"props":4108,"children":4109},{"style":576},[4110],{"type":428,"value":4042},{"type":422,"tag":521,"props":4112,"children":4113},{"style":540},[4114],{"type":428,"value":708},{"type":422,"tag":521,"props":4116,"children":4117},{"style":534},[4118],{"type":428,"value":1629},{"type":422,"tag":521,"props":4120,"children":4121},{"style":598},[4122],{"type":428,"value":543},{"type":422,"tag":521,"props":4124,"children":4125},{"style":576},[4126],{"type":428,"value":4087},{"type":422,"tag":521,"props":4128,"children":4129},{"style":598},[4130],{"type":428,"value":564},{"type":422,"tag":521,"props":4132,"children":4133},{"style":540},[4134],{"type":428,"value":613},{"type":422,"tag":521,"props":4136,"children":4137},{"class":523,"line":728},[4138],{"type":422,"tag":521,"props":4139,"children":4140},{"style":540},[4141],{"type":428,"value":1165},{"type":422,"tag":521,"props":4143,"children":4144},{"class":523,"line":738},[4145],{"type":422,"tag":521,"props":4146,"children":4147},{"style":732},[4148],{"type":428,"value":4149},"  // 删除依赖\n",{"type":422,"tag":521,"props":4151,"children":4152},{"class":523,"line":777},[4153,4158,4162,4166,4170],{"type":422,"tag":521,"props":4154,"children":4155},{"style":1180},[4156],{"type":428,"value":4157},"  removeSub",{"type":422,"tag":521,"props":4159,"children":4160},{"style":540},[4161],{"type":428,"value":543},{"type":422,"tag":521,"props":4163,"children":4164},{"style":546},[4165],{"type":428,"value":4087},{"type":422,"tag":521,"props":4167,"children":4168},{"style":540},[4169],{"type":428,"value":564},{"type":422,"tag":521,"props":4171,"children":4172},{"style":540},[4173],{"type":428,"value":569},{"type":422,"tag":521,"props":4175,"children":4176},{"class":523,"line":808},[4177,4182,4186,4190,4194,4198,4202,4207,4211],{"type":422,"tag":521,"props":4178,"children":4179},{"style":534},[4180],{"type":428,"value":4181},"    remove",{"type":422,"tag":521,"props":4183,"children":4184},{"style":598},[4185],{"type":428,"value":543},{"type":422,"tag":521,"props":4187,"children":4188},{"style":700},[4189],{"type":428,"value":1973},{"type":422,"tag":521,"props":4191,"children":4192},{"style":540},[4193],{"type":428,"value":708},{"type":422,"tag":521,"props":4195,"children":4196},{"style":576},[4197],{"type":428,"value":4042},{"type":422,"tag":521,"props":4199,"children":4200},{"style":540},[4201],{"type":428,"value":554},{"type":422,"tag":521,"props":4203,"children":4204},{"style":576},[4205],{"type":428,"value":4206}," sub",{"type":422,"tag":521,"props":4208,"children":4209},{"style":598},[4210],{"type":428,"value":564},{"type":422,"tag":521,"props":4212,"children":4213},{"style":540},[4214],{"type":428,"value":613},{"type":422,"tag":521,"props":4216,"children":4217},{"class":523,"line":817},[4218],{"type":422,"tag":521,"props":4219,"children":4220},{"style":540},[4221],{"type":428,"value":1165},{"type":422,"tag":521,"props":4223,"children":4224},{"class":523,"line":872},[4225],{"type":422,"tag":521,"props":4226,"children":4227},{"style":732},[4228],{"type":428,"value":4229},"  // 收集依赖\n",{"type":422,"tag":521,"props":4231,"children":4232},{"class":523,"line":881},[4233,4238,4242],{"type":422,"tag":521,"props":4234,"children":4235},{"style":1180},[4236],{"type":428,"value":4237},"  depend",{"type":422,"tag":521,"props":4239,"children":4240},{"style":540},[4241],{"type":428,"value":770},{"type":422,"tag":521,"props":4243,"children":4244},{"style":540},[4245],{"type":428,"value":569},{"type":422,"tag":521,"props":4247,"children":4248},{"class":523,"line":890},[4249,4253,4257,4261,4265,4269,4273],{"type":422,"tag":521,"props":4250,"children":4251},{"style":620},[4252],{"type":428,"value":896},{"type":422,"tag":521,"props":4254,"children":4255},{"style":598},[4256],{"type":428,"value":901},{"type":422,"tag":521,"props":4258,"children":4259},{"style":576},[4260],{"type":428,"value":3136},{"type":422,"tag":521,"props":4262,"children":4263},{"style":540},[4264],{"type":428,"value":708},{"type":422,"tag":521,"props":4266,"children":4267},{"style":576},[4268],{"type":428,"value":3145},{"type":422,"tag":521,"props":4270,"children":4271},{"style":598},[4272],{"type":428,"value":956},{"type":422,"tag":521,"props":4274,"children":4275},{"style":540},[4276],{"type":428,"value":933},{"type":422,"tag":521,"props":4278,"children":4279},{"class":523,"line":936},[4280,4285,4289,4293,4297,4302,4306,4310,4314],{"type":422,"tag":521,"props":4281,"children":4282},{"style":576},[4283],{"type":428,"value":4284},"      Dep",{"type":422,"tag":521,"props":4286,"children":4287},{"style":540},[4288],{"type":428,"value":708},{"type":422,"tag":521,"props":4290,"children":4291},{"style":576},[4292],{"type":428,"value":3145},{"type":422,"tag":521,"props":4294,"children":4295},{"style":540},[4296],{"type":428,"value":708},{"type":422,"tag":521,"props":4298,"children":4299},{"style":534},[4300],{"type":428,"value":4301},"addDep",{"type":422,"tag":521,"props":4303,"children":4304},{"style":598},[4305],{"type":428,"value":543},{"type":422,"tag":521,"props":4307,"children":4308},{"style":700},[4309],{"type":428,"value":1973},{"type":422,"tag":521,"props":4311,"children":4312},{"style":598},[4313],{"type":428,"value":564},{"type":422,"tag":521,"props":4315,"children":4316},{"style":540},[4317],{"type":428,"value":613},{"type":422,"tag":521,"props":4319,"children":4320},{"class":523,"line":963},[4321],{"type":422,"tag":521,"props":4322,"children":4323},{"style":540},[4324],{"type":428,"value":1156},{"type":422,"tag":521,"props":4326,"children":4327},{"class":523,"line":997},[4328],{"type":422,"tag":521,"props":4329,"children":4330},{"style":540},[4331],{"type":428,"value":1165},{"type":422,"tag":521,"props":4333,"children":4334},{"class":523,"line":1015},[4335],{"type":422,"tag":521,"props":4336,"children":4337},{"style":732},[4338],{"type":428,"value":4339},"  // 通知依赖更新\n",{"type":422,"tag":521,"props":4341,"children":4342},{"class":523,"line":1057},[4343,4348,4352],{"type":422,"tag":521,"props":4344,"children":4345},{"style":1180},[4346],{"type":428,"value":4347},"  notify",{"type":422,"tag":521,"props":4349,"children":4350},{"style":540},[4351],{"type":428,"value":770},{"type":422,"tag":521,"props":4353,"children":4354},{"style":540},[4355],{"type":428,"value":569},{"type":422,"tag":521,"props":4357,"children":4358},{"class":523,"line":1066},[4359],{"type":422,"tag":521,"props":4360,"children":4361},{"style":732},[4362],{"type":428,"value":4363},"    // stabilize the subscriber list first\n",{"type":422,"tag":521,"props":4365,"children":4366},{"class":523,"line":1100},[4367,4371,4376,4380,4384,4388,4392,4396,4400,4404],{"type":422,"tag":521,"props":4368,"children":4369},{"style":528},[4370],{"type":428,"value":1209},{"type":422,"tag":521,"props":4372,"children":4373},{"style":1212},[4374],{"type":428,"value":4375}," subs",{"type":422,"tag":521,"props":4377,"children":4378},{"style":582},[4379],{"type":428,"value":585},{"type":422,"tag":521,"props":4381,"children":4382},{"style":700},[4383],{"type":428,"value":861},{"type":422,"tag":521,"props":4385,"children":4386},{"style":540},[4387],{"type":428,"value":708},{"type":422,"tag":521,"props":4389,"children":4390},{"style":576},[4391],{"type":428,"value":4042},{"type":422,"tag":521,"props":4393,"children":4394},{"style":540},[4395],{"type":428,"value":708},{"type":422,"tag":521,"props":4397,"children":4398},{"style":534},[4399],{"type":428,"value":2205},{"type":422,"tag":521,"props":4401,"children":4402},{"style":598},[4403],{"type":428,"value":770},{"type":422,"tag":521,"props":4405,"children":4406},{"style":540},[4407],{"type":428,"value":613},{"type":422,"tag":521,"props":4409,"children":4410},{"class":523,"line":1117},[4411,4415,4419,4423,4427,4431,4435,4439,4443,4447,4451,4455,4459,4463,4467,4471,4475,4479,4483,4487,4491],{"type":422,"tag":521,"props":4412,"children":4413},{"style":620},[4414],{"type":428,"value":1258},{"type":422,"tag":521,"props":4416,"children":4417},{"style":598},[4418],{"type":428,"value":901},{"type":422,"tag":521,"props":4420,"children":4421},{"style":528},[4422],{"type":428,"value":1267},{"type":422,"tag":521,"props":4424,"children":4425},{"style":576},[4426],{"type":428,"value":1272},{"type":422,"tag":521,"props":4428,"children":4429},{"style":582},[4430],{"type":428,"value":585},{"type":422,"tag":521,"props":4432,"children":4433},{"style":798},[4434],{"type":428,"value":801},{"type":422,"tag":521,"props":4436,"children":4437},{"style":540},[4438],{"type":428,"value":554},{"type":422,"tag":521,"props":4440,"children":4441},{"style":576},[4442],{"type":428,"value":1459},{"type":422,"tag":521,"props":4444,"children":4445},{"style":582},[4446],{"type":428,"value":585},{"type":422,"tag":521,"props":4448,"children":4449},{"style":576},[4450],{"type":428,"value":4375},{"type":422,"tag":521,"props":4452,"children":4453},{"style":540},[4454],{"type":428,"value":708},{"type":422,"tag":521,"props":4456,"children":4457},{"style":1212},[4458],{"type":428,"value":1307},{"type":422,"tag":521,"props":4460,"children":4461},{"style":540},[4462],{"type":428,"value":1285},{"type":422,"tag":521,"props":4464,"children":4465},{"style":576},[4466],{"type":428,"value":1272},{"type":422,"tag":521,"props":4468,"children":4469},{"style":582},[4470],{"type":428,"value":1294},{"type":422,"tag":521,"props":4472,"children":4473},{"style":576},[4474],{"type":428,"value":1459},{"type":422,"tag":521,"props":4476,"children":4477},{"style":540},[4478],{"type":428,"value":1285},{"type":422,"tag":521,"props":4480,"children":4481},{"style":576},[4482],{"type":428,"value":1272},{"type":422,"tag":521,"props":4484,"children":4485},{"style":582},[4486],{"type":428,"value":1320},{"type":422,"tag":521,"props":4488,"children":4489},{"style":598},[4490],{"type":428,"value":956},{"type":422,"tag":521,"props":4492,"children":4493},{"style":540},[4494],{"type":428,"value":933},{"type":422,"tag":521,"props":4496,"children":4497},{"class":523,"line":1150},[4498,4503,4507,4511,4515,4519,4524,4528],{"type":422,"tag":521,"props":4499,"children":4500},{"style":576},[4501],{"type":428,"value":4502},"      subs",{"type":422,"tag":521,"props":4504,"children":4505},{"style":598},[4506],{"type":428,"value":1358},{"type":422,"tag":521,"props":4508,"children":4509},{"style":576},[4510],{"type":428,"value":1363},{"type":422,"tag":521,"props":4512,"children":4513},{"style":598},[4514],{"type":428,"value":1766},{"type":422,"tag":521,"props":4516,"children":4517},{"style":540},[4518],{"type":428,"value":708},{"type":422,"tag":521,"props":4520,"children":4521},{"style":534},[4522],{"type":428,"value":4523},"update",{"type":422,"tag":521,"props":4525,"children":4526},{"style":598},[4527],{"type":428,"value":770},{"type":422,"tag":521,"props":4529,"children":4530},{"style":540},[4531],{"type":428,"value":613},{"type":422,"tag":521,"props":4533,"children":4534},{"class":523,"line":1159},[4535],{"type":422,"tag":521,"props":4536,"children":4537},{"style":540},[4538],{"type":428,"value":1156},{"type":422,"tag":521,"props":4540,"children":4541},{"class":523,"line":1168},[4542],{"type":422,"tag":521,"props":4543,"children":4544},{"style":540},[4545],{"type":428,"value":1165},{"type":422,"tag":521,"props":4547,"children":4548},{"class":523,"line":1176},[4549],{"type":422,"tag":521,"props":4550,"children":4551},{"style":540},[4552],{"type":428,"value":641},{"type":422,"tag":455,"props":4554,"children":4555},{},[4556],{"type":428,"value":4557},"依赖容器和依赖之间是存在耦合的，所以我们看到收集依赖的这个地方，仅仅调用了依赖的 addDep 方法，没有调用 addSub 把添加依赖。其实，addSub 是在依赖的 addDep 方法中调用的。这个和观察者模式离不开关系，在观察者模式中，观察者直接观测目标，并相应目标做出的通知。Watcher 直接观测响应式数据，当数据发生变更时，就能收到通知。但由于数据和观察者是多对多的关系，所以需要 Dep 依赖容器这么一个东西用来保存 Watcher 与数据的关系。",{"type":422,"tag":455,"props":4559,"children":4560},{},[4561],{"type":422,"tag":4562,"props":4563,"children":4565},"img",{"alt":472,"src":4564},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20200810100326.png?w=70",[],{"type":422,"tag":455,"props":4567,"children":4568},{},[4569],{"type":428,"value":4570},"Dep.target 用来表示当前依赖，并且源码维护了一个依赖栈，通过提供的 pushTarget、popTarget 方法维护依赖栈及当前依赖（状态）。看以下代码：",{"type":422,"tag":461,"props":4572,"children":4574},{"code":4573,"language":514,"meta":415,"className":515,"style":415},"// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nconst targetStack = [];\nfunction pushTarget(target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\nfunction popTarget() {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n",[4575],{"type":422,"tag":466,"props":4576,"children":4577},{"__ignoreMap":415},[4578,4586,4594,4602,4633,4657,4685,4717,4746,4753,4773,4796,4854],{"type":422,"tag":521,"props":4579,"children":4580},{"class":523,"line":524},[4581],{"type":422,"tag":521,"props":4582,"children":4583},{"style":732},[4584],{"type":428,"value":4585},"// The current target watcher being evaluated.\n",{"type":422,"tag":521,"props":4587,"children":4588},{"class":523,"line":572},[4589],{"type":422,"tag":521,"props":4590,"children":4591},{"style":732},[4592],{"type":428,"value":4593},"// This is globally unique because only one watcher\n",{"type":422,"tag":521,"props":4595,"children":4596},{"class":523,"line":616},[4597],{"type":422,"tag":521,"props":4598,"children":4599},{"style":732},[4600],{"type":428,"value":4601},"// can be evaluated at a time.\n",{"type":422,"tag":521,"props":4603,"children":4604},{"class":523,"line":635},[4605,4609,4613,4618,4623,4629],{"type":422,"tag":521,"props":4606,"children":4607},{"style":576},[4608],{"type":428,"value":3136},{"type":422,"tag":521,"props":4610,"children":4611},{"style":540},[4612],{"type":428,"value":708},{"type":422,"tag":521,"props":4614,"children":4615},{"style":576},[4616],{"type":428,"value":4617},"target ",{"type":422,"tag":521,"props":4619,"children":4620},{"style":582},[4621],{"type":428,"value":4622},"=",{"type":422,"tag":521,"props":4624,"children":4626},{"style":4625},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[4627],{"type":428,"value":4628}," null",{"type":422,"tag":521,"props":4630,"children":4631},{"style":540},[4632],{"type":428,"value":613},{"type":422,"tag":521,"props":4634,"children":4635},{"class":523,"line":644},[4636,4640,4645,4649,4653],{"type":422,"tag":521,"props":4637,"children":4638},{"style":528},[4639],{"type":428,"value":1602},{"type":422,"tag":521,"props":4641,"children":4642},{"style":1212},[4643],{"type":428,"value":4644}," targetStack",{"type":422,"tag":521,"props":4646,"children":4647},{"style":582},[4648],{"type":428,"value":585},{"type":422,"tag":521,"props":4650,"children":4651},{"style":576},[4652],{"type":428,"value":4051},{"type":422,"tag":521,"props":4654,"children":4655},{"style":540},[4656],{"type":428,"value":613},{"type":422,"tag":521,"props":4658,"children":4659},{"class":523,"line":653},[4660,4664,4669,4673,4677,4681],{"type":422,"tag":521,"props":4661,"children":4662},{"style":528},[4663],{"type":428,"value":531},{"type":422,"tag":521,"props":4665,"children":4666},{"style":534},[4667],{"type":428,"value":4668}," pushTarget",{"type":422,"tag":521,"props":4670,"children":4671},{"style":540},[4672],{"type":428,"value":543},{"type":422,"tag":521,"props":4674,"children":4675},{"style":546},[4676],{"type":428,"value":3145},{"type":422,"tag":521,"props":4678,"children":4679},{"style":540},[4680],{"type":428,"value":564},{"type":422,"tag":521,"props":4682,"children":4683},{"style":540},[4684],{"type":428,"value":569},{"type":422,"tag":521,"props":4686,"children":4687},{"class":523,"line":671},[4688,4693,4697,4701,4705,4709,4713],{"type":422,"tag":521,"props":4689,"children":4690},{"style":576},[4691],{"type":428,"value":4692},"  targetStack",{"type":422,"tag":521,"props":4694,"children":4695},{"style":540},[4696],{"type":428,"value":708},{"type":422,"tag":521,"props":4698,"children":4699},{"style":534},[4700],{"type":428,"value":1629},{"type":422,"tag":521,"props":4702,"children":4703},{"style":598},[4704],{"type":428,"value":543},{"type":422,"tag":521,"props":4706,"children":4707},{"style":576},[4708],{"type":428,"value":3145},{"type":422,"tag":521,"props":4710,"children":4711},{"style":598},[4712],{"type":428,"value":564},{"type":422,"tag":521,"props":4714,"children":4715},{"style":540},[4716],{"type":428,"value":613},{"type":422,"tag":521,"props":4718,"children":4719},{"class":523,"line":696},[4720,4725,4729,4733,4737,4742],{"type":422,"tag":521,"props":4721,"children":4722},{"style":576},[4723],{"type":428,"value":4724},"  Dep",{"type":422,"tag":521,"props":4726,"children":4727},{"style":540},[4728],{"type":428,"value":708},{"type":422,"tag":521,"props":4730,"children":4731},{"style":576},[4732],{"type":428,"value":3145},{"type":422,"tag":521,"props":4734,"children":4735},{"style":582},[4736],{"type":428,"value":585},{"type":422,"tag":521,"props":4738,"children":4739},{"style":576},[4740],{"type":428,"value":4741}," target",{"type":422,"tag":521,"props":4743,"children":4744},{"style":540},[4745],{"type":428,"value":613},{"type":422,"tag":521,"props":4747,"children":4748},{"class":523,"line":728},[4749],{"type":422,"tag":521,"props":4750,"children":4751},{"style":540},[4752],{"type":428,"value":641},{"type":422,"tag":521,"props":4754,"children":4755},{"class":523,"line":738},[4756,4760,4765,4769],{"type":422,"tag":521,"props":4757,"children":4758},{"style":528},[4759],{"type":428,"value":531},{"type":422,"tag":521,"props":4761,"children":4762},{"style":534},[4763],{"type":428,"value":4764}," popTarget",{"type":422,"tag":521,"props":4766,"children":4767},{"style":540},[4768],{"type":428,"value":770},{"type":422,"tag":521,"props":4770,"children":4771},{"style":540},[4772],{"type":428,"value":569},{"type":422,"tag":521,"props":4774,"children":4775},{"class":523,"line":777},[4776,4780,4784,4788,4792],{"type":422,"tag":521,"props":4777,"children":4778},{"style":576},[4779],{"type":428,"value":4692},{"type":422,"tag":521,"props":4781,"children":4782},{"style":540},[4783],{"type":428,"value":708},{"type":422,"tag":521,"props":4785,"children":4786},{"style":534},[4787],{"type":428,"value":1650},{"type":422,"tag":521,"props":4789,"children":4790},{"style":598},[4791],{"type":428,"value":770},{"type":422,"tag":521,"props":4793,"children":4794},{"style":540},[4795],{"type":428,"value":613},{"type":422,"tag":521,"props":4797,"children":4798},{"class":523,"line":808},[4799,4803,4807,4811,4815,4819,4823,4828,4832,4836,4841,4846,4850],{"type":422,"tag":521,"props":4800,"children":4801},{"style":576},[4802],{"type":428,"value":4724},{"type":422,"tag":521,"props":4804,"children":4805},{"style":540},[4806],{"type":428,"value":708},{"type":422,"tag":521,"props":4808,"children":4809},{"style":576},[4810],{"type":428,"value":3145},{"type":422,"tag":521,"props":4812,"children":4813},{"style":582},[4814],{"type":428,"value":585},{"type":422,"tag":521,"props":4816,"children":4817},{"style":576},[4818],{"type":428,"value":4644},{"type":422,"tag":521,"props":4820,"children":4821},{"style":598},[4822],{"type":428,"value":1358},{"type":422,"tag":521,"props":4824,"children":4825},{"style":576},[4826],{"type":428,"value":4827},"targetStack",{"type":422,"tag":521,"props":4829,"children":4830},{"style":540},[4831],{"type":428,"value":708},{"type":422,"tag":521,"props":4833,"children":4834},{"style":1212},[4835],{"type":428,"value":1307},{"type":422,"tag":521,"props":4837,"children":4838},{"style":582},[4839],{"type":428,"value":4840}," -",{"type":422,"tag":521,"props":4842,"children":4843},{"style":798},[4844],{"type":428,"value":4845}," 1",{"type":422,"tag":521,"props":4847,"children":4848},{"style":598},[4849],{"type":428,"value":1766},{"type":422,"tag":521,"props":4851,"children":4852},{"style":540},[4853],{"type":428,"value":613},{"type":422,"tag":521,"props":4855,"children":4856},{"class":523,"line":817},[4857],{"type":422,"tag":521,"props":4858,"children":4859},{"style":540},[4860],{"type":428,"value":641},{"type":422,"tag":455,"props":4862,"children":4863},{},[4864],{"type":428,"value":4865},"既然 Dep 用来存放 Watcher，是依赖容器，那么，依赖就是 Watcher。",{"type":422,"tag":455,"props":4867,"children":4868},{},[4869],{"type":428,"value":4870},"Watcher 通过调用我们刚才提到的 pushTarget、popTarget 以维护全局的当前依赖（Dep.target）。全局的当前依赖只会有一个，因为 JS 是同步的，顺序执行的代码。我们先来看看 Watcher 怎么样维护当前依赖。",{"type":422,"tag":461,"props":4872,"children":4874},{"code":4873,"language":514,"meta":415,"className":515,"style":415},"class Watcher {\n  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n  get() {\n    pushTarget(this);\n    let value;\n    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n    const vm = this.vm;\n    // 触发 getter 更新\n    try {\n      value = this.getter.call(vm, vm);\n    } catch (e) {\n      if (this.user) {\n        handleError(e, vm, `getter for watcher \"${this.expression}\"`);\n      } else {\n        throw e;\n      }\n    } finally {\n      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n      // traverse 即递归读取对象的每一个元素\n      if (this.deep) {\n        traverse(value);\n      }\n      popTarget();\n      // 因为每次 get 之后都重收集了依赖，\n      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n      this.cleanupDeps();\n    }\n    return value;\n  }\n}\n",[4875],{"type":422,"tag":466,"props":4876,"children":4877},{"__ignoreMap":415},[4878,4894,4902,4910,4918,4934,4958,4973,4981,5014,5022,5034,5090,5119,5151,5230,5245,5262,5269,5285,5293,5301,5333,5357,5364,5380,5388,5396,5420,5427,5442,5449],{"type":422,"tag":521,"props":4879,"children":4880},{"class":523,"line":524},[4881,4885,4890],{"type":422,"tag":521,"props":4882,"children":4883},{"style":528},[4884],{"type":428,"value":659},{"type":422,"tag":521,"props":4886,"children":4887},{"style":662},[4888],{"type":428,"value":4889}," Watcher",{"type":422,"tag":521,"props":4891,"children":4892},{"style":540},[4893],{"type":428,"value":569},{"type":422,"tag":521,"props":4895,"children":4896},{"class":523,"line":572},[4897],{"type":422,"tag":521,"props":4898,"children":4899},{"style":732},[4900],{"type":428,"value":4901},"  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n",{"type":422,"tag":521,"props":4903,"children":4904},{"class":523,"line":616},[4905],{"type":422,"tag":521,"props":4906,"children":4907},{"style":732},[4908],{"type":428,"value":4909},"  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n",{"type":422,"tag":521,"props":4911,"children":4912},{"class":523,"line":635},[4913],{"type":422,"tag":521,"props":4914,"children":4915},{"style":732},[4916],{"type":428,"value":4917},"  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n",{"type":422,"tag":521,"props":4919,"children":4920},{"class":523,"line":644},[4921,4926,4930],{"type":422,"tag":521,"props":4922,"children":4923},{"style":1180},[4924],{"type":428,"value":4925},"  get",{"type":422,"tag":521,"props":4927,"children":4928},{"style":540},[4929],{"type":428,"value":770},{"type":422,"tag":521,"props":4931,"children":4932},{"style":540},[4933],{"type":428,"value":569},{"type":422,"tag":521,"props":4935,"children":4936},{"class":523,"line":653},[4937,4942,4946,4950,4954],{"type":422,"tag":521,"props":4938,"children":4939},{"style":534},[4940],{"type":428,"value":4941},"    pushTarget",{"type":422,"tag":521,"props":4943,"children":4944},{"style":598},[4945],{"type":428,"value":543},{"type":422,"tag":521,"props":4947,"children":4948},{"style":700},[4949],{"type":428,"value":1973},{"type":422,"tag":521,"props":4951,"children":4952},{"style":598},[4953],{"type":428,"value":564},{"type":422,"tag":521,"props":4955,"children":4956},{"style":540},[4957],{"type":428,"value":613},{"type":422,"tag":521,"props":4959,"children":4960},{"class":523,"line":671},[4961,4965,4969],{"type":422,"tag":521,"props":4962,"children":4963},{"style":528},[4964],{"type":428,"value":2045},{"type":422,"tag":521,"props":4966,"children":4967},{"style":576},[4968],{"type":428,"value":721},{"type":422,"tag":521,"props":4970,"children":4971},{"style":540},[4972],{"type":428,"value":613},{"type":422,"tag":521,"props":4974,"children":4975},{"class":523,"line":696},[4976],{"type":422,"tag":521,"props":4977,"children":4978},{"style":732},[4979],{"type":428,"value":4980},"    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n",{"type":422,"tag":521,"props":4982,"children":4983},{"class":523,"line":728},[4984,4988,4993,4997,5001,5005,5010],{"type":422,"tag":521,"props":4985,"children":4986},{"style":528},[4987],{"type":428,"value":1209},{"type":422,"tag":521,"props":4989,"children":4990},{"style":1212},[4991],{"type":428,"value":4992}," vm",{"type":422,"tag":521,"props":4994,"children":4995},{"style":582},[4996],{"type":428,"value":585},{"type":422,"tag":521,"props":4998,"children":4999},{"style":700},[5000],{"type":428,"value":861},{"type":422,"tag":521,"props":5002,"children":5003},{"style":540},[5004],{"type":428,"value":708},{"type":422,"tag":521,"props":5006,"children":5007},{"style":576},[5008],{"type":428,"value":5009},"vm",{"type":422,"tag":521,"props":5011,"children":5012},{"style":540},[5013],{"type":428,"value":613},{"type":422,"tag":521,"props":5015,"children":5016},{"class":523,"line":738},[5017],{"type":422,"tag":521,"props":5018,"children":5019},{"style":732},[5020],{"type":428,"value":5021},"    // 触发 getter 更新\n",{"type":422,"tag":521,"props":5023,"children":5024},{"class":523,"line":777},[5025,5030],{"type":422,"tag":521,"props":5026,"children":5027},{"style":620},[5028],{"type":428,"value":5029},"    try",{"type":422,"tag":521,"props":5031,"children":5032},{"style":540},[5033],{"type":428,"value":569},{"type":422,"tag":521,"props":5035,"children":5036},{"class":523,"line":808},[5037,5042,5046,5050,5054,5058,5062,5066,5070,5074,5078,5082,5086],{"type":422,"tag":521,"props":5038,"children":5039},{"style":576},[5040],{"type":428,"value":5041},"      value",{"type":422,"tag":521,"props":5043,"children":5044},{"style":582},[5045],{"type":428,"value":585},{"type":422,"tag":521,"props":5047,"children":5048},{"style":700},[5049],{"type":428,"value":861},{"type":422,"tag":521,"props":5051,"children":5052},{"style":540},[5053],{"type":428,"value":708},{"type":422,"tag":521,"props":5055,"children":5056},{"style":576},[5057],{"type":428,"value":2774},{"type":422,"tag":521,"props":5059,"children":5060},{"style":540},[5061],{"type":428,"value":708},{"type":422,"tag":521,"props":5063,"children":5064},{"style":534},[5065],{"type":428,"value":3088},{"type":422,"tag":521,"props":5067,"children":5068},{"style":598},[5069],{"type":428,"value":543},{"type":422,"tag":521,"props":5071,"children":5072},{"style":576},[5073],{"type":428,"value":5009},{"type":422,"tag":521,"props":5075,"children":5076},{"style":540},[5077],{"type":428,"value":554},{"type":422,"tag":521,"props":5079,"children":5080},{"style":576},[5081],{"type":428,"value":4992},{"type":422,"tag":521,"props":5083,"children":5084},{"style":598},[5085],{"type":428,"value":564},{"type":422,"tag":521,"props":5087,"children":5088},{"style":540},[5089],{"type":428,"value":613},{"type":422,"tag":521,"props":5091,"children":5092},{"class":523,"line":817},[5093,5097,5102,5106,5111,5115],{"type":422,"tag":521,"props":5094,"children":5095},{"style":540},[5096],{"type":428,"value":1106},{"type":422,"tag":521,"props":5098,"children":5099},{"style":620},[5100],{"type":428,"value":5101}," catch",{"type":422,"tag":521,"props":5103,"children":5104},{"style":598},[5105],{"type":428,"value":901},{"type":422,"tag":521,"props":5107,"children":5108},{"style":576},[5109],{"type":428,"value":5110},"e",{"type":422,"tag":521,"props":5112,"children":5113},{"style":598},[5114],{"type":428,"value":956},{"type":422,"tag":521,"props":5116,"children":5117},{"style":540},[5118],{"type":428,"value":933},{"type":422,"tag":521,"props":5120,"children":5121},{"class":523,"line":872},[5122,5126,5130,5134,5138,5143,5147],{"type":422,"tag":521,"props":5123,"children":5124},{"style":620},[5125],{"type":428,"value":942},{"type":422,"tag":521,"props":5127,"children":5128},{"style":598},[5129],{"type":428,"value":901},{"type":422,"tag":521,"props":5131,"children":5132},{"style":700},[5133],{"type":428,"value":1973},{"type":422,"tag":521,"props":5135,"children":5136},{"style":540},[5137],{"type":428,"value":708},{"type":422,"tag":521,"props":5139,"children":5140},{"style":576},[5141],{"type":428,"value":5142},"user",{"type":422,"tag":521,"props":5144,"children":5145},{"style":598},[5146],{"type":428,"value":956},{"type":422,"tag":521,"props":5148,"children":5149},{"style":540},[5150],{"type":428,"value":933},{"type":422,"tag":521,"props":5152,"children":5153},{"class":523,"line":881},[5154,5159,5163,5167,5171,5175,5179,5184,5189,5195,5199,5204,5209,5213,5217,5222,5226],{"type":422,"tag":521,"props":5155,"children":5156},{"style":534},[5157],{"type":428,"value":5158},"        handleError",{"type":422,"tag":521,"props":5160,"children":5161},{"style":598},[5162],{"type":428,"value":543},{"type":422,"tag":521,"props":5164,"children":5165},{"style":576},[5166],{"type":428,"value":5110},{"type":422,"tag":521,"props":5168,"children":5169},{"style":540},[5170],{"type":428,"value":554},{"type":422,"tag":521,"props":5172,"children":5173},{"style":576},[5174],{"type":428,"value":4992},{"type":422,"tag":521,"props":5176,"children":5177},{"style":540},[5178],{"type":428,"value":554},{"type":422,"tag":521,"props":5180,"children":5181},{"style":838},[5182],{"type":428,"value":5183}," `",{"type":422,"tag":521,"props":5185,"children":5186},{"style":844},[5187],{"type":428,"value":5188},"getter for watcher \"",{"type":422,"tag":521,"props":5190,"children":5192},{"style":5191},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[5193],{"type":428,"value":5194},"${",{"type":422,"tag":521,"props":5196,"children":5197},{"style":700},[5198],{"type":428,"value":1973},{"type":422,"tag":521,"props":5200,"children":5202},{"style":5201},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[5203],{"type":428,"value":708},{"type":422,"tag":521,"props":5205,"children":5206},{"style":576},[5207],{"type":428,"value":5208},"expression",{"type":422,"tag":521,"props":5210,"children":5211},{"style":5191},[5212],{"type":428,"value":2370},{"type":422,"tag":521,"props":5214,"children":5215},{"style":844},[5216],{"type":428,"value":852},{"type":422,"tag":521,"props":5218,"children":5219},{"style":838},[5220],{"type":428,"value":5221},"`",{"type":422,"tag":521,"props":5223,"children":5224},{"style":598},[5225],{"type":428,"value":564},{"type":422,"tag":521,"props":5227,"children":5228},{"style":540},[5229],{"type":428,"value":613},{"type":422,"tag":521,"props":5231,"children":5232},{"class":523,"line":890},[5233,5237,5241],{"type":422,"tag":521,"props":5234,"children":5235},{"style":540},[5236],{"type":428,"value":1003},{"type":422,"tag":521,"props":5238,"children":5239},{"style":620},[5240],{"type":428,"value":1008},{"type":422,"tag":521,"props":5242,"children":5243},{"style":540},[5244],{"type":428,"value":569},{"type":422,"tag":521,"props":5246,"children":5247},{"class":523,"line":936},[5248,5253,5258],{"type":422,"tag":521,"props":5249,"children":5250},{"style":620},[5251],{"type":428,"value":5252},"        throw",{"type":422,"tag":521,"props":5254,"children":5255},{"style":576},[5256],{"type":428,"value":5257}," e",{"type":422,"tag":521,"props":5259,"children":5260},{"style":540},[5261],{"type":428,"value":613},{"type":422,"tag":521,"props":5263,"children":5264},{"class":523,"line":963},[5265],{"type":422,"tag":521,"props":5266,"children":5267},{"style":540},[5268],{"type":428,"value":1063},{"type":422,"tag":521,"props":5270,"children":5271},{"class":523,"line":997},[5272,5276,5281],{"type":422,"tag":521,"props":5273,"children":5274},{"style":540},[5275],{"type":428,"value":1106},{"type":422,"tag":521,"props":5277,"children":5278},{"style":620},[5279],{"type":428,"value":5280}," finally",{"type":422,"tag":521,"props":5282,"children":5283},{"style":540},[5284],{"type":428,"value":569},{"type":422,"tag":521,"props":5286,"children":5287},{"class":523,"line":1015},[5288],{"type":422,"tag":521,"props":5289,"children":5290},{"style":732},[5291],{"type":428,"value":5292},"      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n",{"type":422,"tag":521,"props":5294,"children":5295},{"class":523,"line":1057},[5296],{"type":422,"tag":521,"props":5297,"children":5298},{"style":732},[5299],{"type":428,"value":5300},"      // traverse 即递归读取对象的每一个元素\n",{"type":422,"tag":521,"props":5302,"children":5303},{"class":523,"line":1066},[5304,5308,5312,5316,5320,5325,5329],{"type":422,"tag":521,"props":5305,"children":5306},{"style":620},[5307],{"type":428,"value":942},{"type":422,"tag":521,"props":5309,"children":5310},{"style":598},[5311],{"type":428,"value":901},{"type":422,"tag":521,"props":5313,"children":5314},{"style":700},[5315],{"type":428,"value":1973},{"type":422,"tag":521,"props":5317,"children":5318},{"style":540},[5319],{"type":428,"value":708},{"type":422,"tag":521,"props":5321,"children":5322},{"style":576},[5323],{"type":428,"value":5324},"deep",{"type":422,"tag":521,"props":5326,"children":5327},{"style":598},[5328],{"type":428,"value":956},{"type":422,"tag":521,"props":5330,"children":5331},{"style":540},[5332],{"type":428,"value":933},{"type":422,"tag":521,"props":5334,"children":5335},{"class":523,"line":1100},[5336,5341,5345,5349,5353],{"type":422,"tag":521,"props":5337,"children":5338},{"style":534},[5339],{"type":428,"value":5340},"        traverse",{"type":422,"tag":521,"props":5342,"children":5343},{"style":598},[5344],{"type":428,"value":543},{"type":422,"tag":521,"props":5346,"children":5347},{"style":576},[5348],{"type":428,"value":549},{"type":422,"tag":521,"props":5350,"children":5351},{"style":598},[5352],{"type":428,"value":564},{"type":422,"tag":521,"props":5354,"children":5355},{"style":540},[5356],{"type":428,"value":613},{"type":422,"tag":521,"props":5358,"children":5359},{"class":523,"line":1117},[5360],{"type":422,"tag":521,"props":5361,"children":5362},{"style":540},[5363],{"type":428,"value":1063},{"type":422,"tag":521,"props":5365,"children":5366},{"class":523,"line":1150},[5367,5372,5376],{"type":422,"tag":521,"props":5368,"children":5369},{"style":534},[5370],{"type":428,"value":5371},"      popTarget",{"type":422,"tag":521,"props":5373,"children":5374},{"style":598},[5375],{"type":428,"value":770},{"type":422,"tag":521,"props":5377,"children":5378},{"style":540},[5379],{"type":428,"value":613},{"type":422,"tag":521,"props":5381,"children":5382},{"class":523,"line":1159},[5383],{"type":422,"tag":521,"props":5384,"children":5385},{"style":732},[5386],{"type":428,"value":5387},"      // 因为每次 get 之后都重收集了依赖，\n",{"type":422,"tag":521,"props":5389,"children":5390},{"class":523,"line":1168},[5391],{"type":422,"tag":521,"props":5392,"children":5393},{"style":732},[5394],{"type":428,"value":5395},"      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n",{"type":422,"tag":521,"props":5397,"children":5398},{"class":523,"line":1176},[5399,5403,5407,5412,5416],{"type":422,"tag":521,"props":5400,"children":5401},{"style":700},[5402],{"type":428,"value":1072},{"type":422,"tag":521,"props":5404,"children":5405},{"style":540},[5406],{"type":428,"value":708},{"type":422,"tag":521,"props":5408,"children":5409},{"style":534},[5410],{"type":428,"value":5411},"cleanupDeps",{"type":422,"tag":521,"props":5413,"children":5414},{"style":598},[5415],{"type":428,"value":770},{"type":422,"tag":521,"props":5417,"children":5418},{"style":540},[5419],{"type":428,"value":613},{"type":422,"tag":521,"props":5421,"children":5422},{"class":523,"line":1203},[5423],{"type":422,"tag":521,"props":5424,"children":5425},{"style":540},[5426],{"type":428,"value":1156},{"type":422,"tag":521,"props":5428,"children":5429},{"class":523,"line":1252},[5430,5434,5438],{"type":422,"tag":521,"props":5431,"children":5432},{"style":620},[5433],{"type":428,"value":2338},{"type":422,"tag":521,"props":5435,"children":5436},{"style":576},[5437],{"type":428,"value":721},{"type":422,"tag":521,"props":5439,"children":5440},{"style":540},[5441],{"type":428,"value":613},{"type":422,"tag":521,"props":5443,"children":5444},{"class":523,"line":1331},[5445],{"type":422,"tag":521,"props":5446,"children":5447},{"style":540},[5448],{"type":428,"value":1165},{"type":422,"tag":521,"props":5450,"children":5451},{"class":523,"line":1375},[5452],{"type":422,"tag":521,"props":5453,"children":5454},{"style":540},[5455],{"type":428,"value":641},{"type":422,"tag":455,"props":5457,"children":5458},{},[5459],{"type":428,"value":5460},"Vue 实例中，data 方法会返回一个新的对象，这个对象能将值的变化响应式更新到模板中。其实就是，新的对象返回来后，使用了 observe 方法观测其变化，而其每一个属性的依赖容器中，都会保存这个 Vue 实例的 watcher。这样一来，只要属性发生了变化，依赖容器就会通知 Vue 实例的 watcher 进行更新。至于要更新什么，那当然是“执行回调函数”啦。想象一下 Vue 实例中的 watch 的写法：",{"type":422,"tag":461,"props":5462,"children":5464},{"code":5463,"language":514,"meta":415,"className":515,"style":415},"new Vue({\n  data() {\n    return {\n      b: null,\n    };\n  },\n  watch: {\n    b() {\n      console.log(\"I'm callback\");\n    },\n  },\n});\n",[5465],{"type":422,"tag":466,"props":5466,"children":5467},{"__ignoreMap":415},[5468,5489,5505,5516,5536,5544,5552,5568,5584,5626,5633,5640],{"type":422,"tag":521,"props":5469,"children":5470},{"class":523,"line":524},[5471,5476,5481,5485],{"type":422,"tag":521,"props":5472,"children":5473},{"style":582},[5474],{"type":428,"value":5475},"new",{"type":422,"tag":521,"props":5477,"children":5478},{"style":534},[5479],{"type":428,"value":5480}," Vue",{"type":422,"tag":521,"props":5482,"children":5483},{"style":576},[5484],{"type":428,"value":543},{"type":422,"tag":521,"props":5486,"children":5487},{"style":540},[5488],{"type":428,"value":933},{"type":422,"tag":521,"props":5490,"children":5491},{"class":523,"line":572},[5492,5497,5501],{"type":422,"tag":521,"props":5493,"children":5494},{"style":1180},[5495],{"type":428,"value":5496},"  data",{"type":422,"tag":521,"props":5498,"children":5499},{"style":540},[5500],{"type":428,"value":770},{"type":422,"tag":521,"props":5502,"children":5503},{"style":540},[5504],{"type":428,"value":569},{"type":422,"tag":521,"props":5506,"children":5507},{"class":523,"line":616},[5508,5512],{"type":422,"tag":521,"props":5509,"children":5510},{"style":620},[5511],{"type":428,"value":2338},{"type":422,"tag":521,"props":5513,"children":5514},{"style":540},[5515],{"type":428,"value":569},{"type":422,"tag":521,"props":5517,"children":5518},{"class":523,"line":635},[5519,5524,5528,5532],{"type":422,"tag":521,"props":5520,"children":5521},{"style":598},[5522],{"type":428,"value":5523},"      b",{"type":422,"tag":521,"props":5525,"children":5526},{"style":540},[5527],{"type":428,"value":2992},{"type":422,"tag":521,"props":5529,"children":5530},{"style":4625},[5531],{"type":428,"value":4628},{"type":422,"tag":521,"props":5533,"children":5534},{"style":540},[5535],{"type":428,"value":1638},{"type":422,"tag":521,"props":5537,"children":5538},{"class":523,"line":644},[5539],{"type":422,"tag":521,"props":5540,"children":5541},{"style":540},[5542],{"type":428,"value":5543},"    };\n",{"type":422,"tag":521,"props":5545,"children":5546},{"class":523,"line":653},[5547],{"type":422,"tag":521,"props":5548,"children":5549},{"style":540},[5550],{"type":428,"value":5551},"  },\n",{"type":422,"tag":521,"props":5553,"children":5554},{"class":523,"line":671},[5555,5560,5564],{"type":422,"tag":521,"props":5556,"children":5557},{"style":598},[5558],{"type":428,"value":5559},"  watch",{"type":422,"tag":521,"props":5561,"children":5562},{"style":540},[5563],{"type":428,"value":2992},{"type":422,"tag":521,"props":5565,"children":5566},{"style":540},[5567],{"type":428,"value":569},{"type":422,"tag":521,"props":5569,"children":5570},{"class":523,"line":696},[5571,5576,5580],{"type":422,"tag":521,"props":5572,"children":5573},{"style":1180},[5574],{"type":428,"value":5575},"    b",{"type":422,"tag":521,"props":5577,"children":5578},{"style":540},[5579],{"type":428,"value":770},{"type":422,"tag":521,"props":5581,"children":5582},{"style":540},[5583],{"type":428,"value":569},{"type":422,"tag":521,"props":5585,"children":5586},{"class":523,"line":728},[5587,5592,5596,5601,5605,5609,5614,5618,5622],{"type":422,"tag":521,"props":5588,"children":5589},{"style":576},[5590],{"type":428,"value":5591},"      console",{"type":422,"tag":521,"props":5593,"children":5594},{"style":540},[5595],{"type":428,"value":708},{"type":422,"tag":521,"props":5597,"children":5598},{"style":534},[5599],{"type":428,"value":5600},"log",{"type":422,"tag":521,"props":5602,"children":5603},{"style":598},[5604],{"type":428,"value":543},{"type":422,"tag":521,"props":5606,"children":5607},{"style":838},[5608],{"type":428,"value":852},{"type":422,"tag":521,"props":5610,"children":5611},{"style":844},[5612],{"type":428,"value":5613},"I'm callback",{"type":422,"tag":521,"props":5615,"children":5616},{"style":838},[5617],{"type":428,"value":852},{"type":422,"tag":521,"props":5619,"children":5620},{"style":598},[5621],{"type":428,"value":564},{"type":422,"tag":521,"props":5623,"children":5624},{"style":540},[5625],{"type":428,"value":613},{"type":422,"tag":521,"props":5627,"children":5628},{"class":523,"line":738},[5629],{"type":422,"tag":521,"props":5630,"children":5631},{"style":540},[5632],{"type":428,"value":3346},{"type":422,"tag":521,"props":5634,"children":5635},{"class":523,"line":777},[5636],{"type":422,"tag":521,"props":5637,"children":5638},{"style":540},[5639],{"type":428,"value":5551},{"type":422,"tag":521,"props":5641,"children":5642},{"class":523,"line":808},[5643,5647,5651],{"type":422,"tag":521,"props":5644,"children":5645},{"style":540},[5646],{"type":428,"value":2370},{"type":422,"tag":521,"props":5648,"children":5649},{"style":576},[5650],{"type":428,"value":564},{"type":422,"tag":521,"props":5652,"children":5653},{"style":540},[5654],{"type":428,"value":613},{"type":422,"tag":455,"props":5656,"children":5657},{},[5658],{"type":428,"value":5659},"这个 watch 不就是（尝试）给 data.b 设置响应式属性么... 所以说依赖就是 Vue 实例与响应式属性之间的对应关系。Watcher 保存了这种关系，还保存了响应式数据、回调函数等一些额外信息。我们看 Watcher 的构造器：",{"type":422,"tag":461,"props":5661,"children":5663},{"code":5662,"language":514,"meta":415,"className":515,"style":415},"class Watcher {\n  constructor(vm, expOrFn, cb, options, isRenderWatcher) {\n    // vm 即 Vue 实例\n    this.vm = vm;\n    if (isRenderWatcher) {\n      vm._watcher = this;\n    }\n    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n    vm._watchers.push(this);\n\n    // options\n    if (options) {\n      this.deep = !!options.deep;\n      this.user = !!options.user;\n      this.lazy = !!options.lazy;\n      this.sync = !!options.sync;\n      this.before = options.before;\n    } else {\n      this.deep = this.user = this.lazy = this.sync = false;\n    }\n    this.cb = cb;\n    this.id = ++uid; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = [];\n    this.newDeps = [];\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n     */\n    this.expression =\n      process.env.NODE_ENV !== \"production\" ? expOrFn.toString() : \"\";\n    // parse expression for getter\n    if (typeof expOrFn === \"function\") {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n      this.getter = parsePath(expOrFn);\n    }\n\n    this.value = this.lazy ? undefined : this.get();\n  }\n}\n",[5664],{"type":422,"tag":466,"props":5665,"children":5666},{"__ignoreMap":415},[5667,5682,5741,5749,5776,5800,5829,5836,5844,5885,5892,5900,5924,5964,6003,6043,6083,6119,6134,6209,6216,6244,6282,6310,6351,6379,6407,6444,6480,6487,6495,6503,6511,6531,6606,6614,6658,6685,6700,6708,6749,6756,6763,6828,6835],{"type":422,"tag":521,"props":5668,"children":5669},{"class":523,"line":524},[5670,5674,5678],{"type":422,"tag":521,"props":5671,"children":5672},{"style":528},[5673],{"type":428,"value":659},{"type":422,"tag":521,"props":5675,"children":5676},{"style":662},[5677],{"type":428,"value":4889},{"type":422,"tag":521,"props":5679,"children":5680},{"style":540},[5681],{"type":428,"value":569},{"type":422,"tag":521,"props":5683,"children":5684},{"class":523,"line":572},[5685,5689,5693,5697,5701,5706,5710,5715,5719,5724,5728,5733,5737],{"type":422,"tag":521,"props":5686,"children":5687},{"style":528},[5688],{"type":428,"value":677},{"type":422,"tag":521,"props":5690,"children":5691},{"style":540},[5692],{"type":428,"value":543},{"type":422,"tag":521,"props":5694,"children":5695},{"style":546},[5696],{"type":428,"value":5009},{"type":422,"tag":521,"props":5698,"children":5699},{"style":540},[5700],{"type":428,"value":554},{"type":422,"tag":521,"props":5702,"children":5703},{"style":546},[5704],{"type":428,"value":5705}," expOrFn",{"type":422,"tag":521,"props":5707,"children":5708},{"style":540},[5709],{"type":428,"value":554},{"type":422,"tag":521,"props":5711,"children":5712},{"style":546},[5713],{"type":428,"value":5714}," cb",{"type":422,"tag":521,"props":5716,"children":5717},{"style":540},[5718],{"type":428,"value":554},{"type":422,"tag":521,"props":5720,"children":5721},{"style":546},[5722],{"type":428,"value":5723}," options",{"type":422,"tag":521,"props":5725,"children":5726},{"style":540},[5727],{"type":428,"value":554},{"type":422,"tag":521,"props":5729,"children":5730},{"style":546},[5731],{"type":428,"value":5732}," isRenderWatcher",{"type":422,"tag":521,"props":5734,"children":5735},{"style":540},[5736],{"type":428,"value":564},{"type":422,"tag":521,"props":5738,"children":5739},{"style":540},[5740],{"type":428,"value":569},{"type":422,"tag":521,"props":5742,"children":5743},{"class":523,"line":616},[5744],{"type":422,"tag":521,"props":5745,"children":5746},{"style":732},[5747],{"type":428,"value":5748},"    // vm 即 Vue 实例\n",{"type":422,"tag":521,"props":5750,"children":5751},{"class":523,"line":635},[5752,5756,5760,5764,5768,5772],{"type":422,"tag":521,"props":5753,"children":5754},{"style":700},[5755],{"type":428,"value":703},{"type":422,"tag":521,"props":5757,"children":5758},{"style":540},[5759],{"type":428,"value":708},{"type":422,"tag":521,"props":5761,"children":5762},{"style":576},[5763],{"type":428,"value":5009},{"type":422,"tag":521,"props":5765,"children":5766},{"style":582},[5767],{"type":428,"value":585},{"type":422,"tag":521,"props":5769,"children":5770},{"style":576},[5771],{"type":428,"value":4992},{"type":422,"tag":521,"props":5773,"children":5774},{"style":540},[5775],{"type":428,"value":613},{"type":422,"tag":521,"props":5777,"children":5778},{"class":523,"line":644},[5779,5783,5787,5792,5796],{"type":422,"tag":521,"props":5780,"children":5781},{"style":620},[5782],{"type":428,"value":896},{"type":422,"tag":521,"props":5784,"children":5785},{"style":598},[5786],{"type":428,"value":901},{"type":422,"tag":521,"props":5788,"children":5789},{"style":576},[5790],{"type":428,"value":5791},"isRenderWatcher",{"type":422,"tag":521,"props":5793,"children":5794},{"style":598},[5795],{"type":428,"value":956},{"type":422,"tag":521,"props":5797,"children":5798},{"style":540},[5799],{"type":428,"value":933},{"type":422,"tag":521,"props":5801,"children":5802},{"class":523,"line":653},[5803,5808,5812,5817,5821,5825],{"type":422,"tag":521,"props":5804,"children":5805},{"style":576},[5806],{"type":428,"value":5807},"      vm",{"type":422,"tag":521,"props":5809,"children":5810},{"style":540},[5811],{"type":428,"value":708},{"type":422,"tag":521,"props":5813,"children":5814},{"style":576},[5815],{"type":428,"value":5816},"_watcher",{"type":422,"tag":521,"props":5818,"children":5819},{"style":582},[5820],{"type":428,"value":585},{"type":422,"tag":521,"props":5822,"children":5823},{"style":700},[5824],{"type":428,"value":861},{"type":422,"tag":521,"props":5826,"children":5827},{"style":540},[5828],{"type":428,"value":613},{"type":422,"tag":521,"props":5830,"children":5831},{"class":523,"line":671},[5832],{"type":422,"tag":521,"props":5833,"children":5834},{"style":540},[5835],{"type":428,"value":1156},{"type":422,"tag":521,"props":5837,"children":5838},{"class":523,"line":696},[5839],{"type":422,"tag":521,"props":5840,"children":5841},{"style":732},[5842],{"type":428,"value":5843},"    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n",{"type":422,"tag":521,"props":5845,"children":5846},{"class":523,"line":728},[5847,5852,5856,5861,5865,5869,5873,5877,5881],{"type":422,"tag":521,"props":5848,"children":5849},{"style":576},[5850],{"type":428,"value":5851},"    vm",{"type":422,"tag":521,"props":5853,"children":5854},{"style":540},[5855],{"type":428,"value":708},{"type":422,"tag":521,"props":5857,"children":5858},{"style":576},[5859],{"type":428,"value":5860},"_watchers",{"type":422,"tag":521,"props":5862,"children":5863},{"style":540},[5864],{"type":428,"value":708},{"type":422,"tag":521,"props":5866,"children":5867},{"style":534},[5868],{"type":428,"value":1629},{"type":422,"tag":521,"props":5870,"children":5871},{"style":598},[5872],{"type":428,"value":543},{"type":422,"tag":521,"props":5874,"children":5875},{"style":700},[5876],{"type":428,"value":1973},{"type":422,"tag":521,"props":5878,"children":5879},{"style":598},[5880],{"type":428,"value":564},{"type":422,"tag":521,"props":5882,"children":5883},{"style":540},[5884],{"type":428,"value":613},{"type":422,"tag":521,"props":5886,"children":5887},{"class":523,"line":738},[5888],{"type":422,"tag":521,"props":5889,"children":5890},{"emptyLinePlaceholder":414},[5891],{"type":428,"value":650},{"type":422,"tag":521,"props":5893,"children":5894},{"class":523,"line":777},[5895],{"type":422,"tag":521,"props":5896,"children":5897},{"style":732},[5898],{"type":428,"value":5899},"    // options\n",{"type":422,"tag":521,"props":5901,"children":5902},{"class":523,"line":808},[5903,5907,5911,5916,5920],{"type":422,"tag":521,"props":5904,"children":5905},{"style":620},[5906],{"type":428,"value":896},{"type":422,"tag":521,"props":5908,"children":5909},{"style":598},[5910],{"type":428,"value":901},{"type":422,"tag":521,"props":5912,"children":5913},{"style":576},[5914],{"type":428,"value":5915},"options",{"type":422,"tag":521,"props":5917,"children":5918},{"style":598},[5919],{"type":428,"value":956},{"type":422,"tag":521,"props":5921,"children":5922},{"style":540},[5923],{"type":428,"value":933},{"type":422,"tag":521,"props":5925,"children":5926},{"class":523,"line":817},[5927,5931,5935,5939,5943,5948,5952,5956,5960],{"type":422,"tag":521,"props":5928,"children":5929},{"style":700},[5930],{"type":428,"value":1072},{"type":422,"tag":521,"props":5932,"children":5933},{"style":540},[5934],{"type":428,"value":708},{"type":422,"tag":521,"props":5936,"children":5937},{"style":576},[5938],{"type":428,"value":5324},{"type":422,"tag":521,"props":5940,"children":5941},{"style":582},[5942],{"type":428,"value":585},{"type":422,"tag":521,"props":5944,"children":5945},{"style":582},[5946],{"type":428,"value":5947}," !!",{"type":422,"tag":521,"props":5949,"children":5950},{"style":576},[5951],{"type":428,"value":5915},{"type":422,"tag":521,"props":5953,"children":5954},{"style":540},[5955],{"type":428,"value":708},{"type":422,"tag":521,"props":5957,"children":5958},{"style":576},[5959],{"type":428,"value":5324},{"type":422,"tag":521,"props":5961,"children":5962},{"style":540},[5963],{"type":428,"value":613},{"type":422,"tag":521,"props":5965,"children":5966},{"class":523,"line":872},[5967,5971,5975,5979,5983,5987,5991,5995,5999],{"type":422,"tag":521,"props":5968,"children":5969},{"style":700},[5970],{"type":428,"value":1072},{"type":422,"tag":521,"props":5972,"children":5973},{"style":540},[5974],{"type":428,"value":708},{"type":422,"tag":521,"props":5976,"children":5977},{"style":576},[5978],{"type":428,"value":5142},{"type":422,"tag":521,"props":5980,"children":5981},{"style":582},[5982],{"type":428,"value":585},{"type":422,"tag":521,"props":5984,"children":5985},{"style":582},[5986],{"type":428,"value":5947},{"type":422,"tag":521,"props":5988,"children":5989},{"style":576},[5990],{"type":428,"value":5915},{"type":422,"tag":521,"props":5992,"children":5993},{"style":540},[5994],{"type":428,"value":708},{"type":422,"tag":521,"props":5996,"children":5997},{"style":576},[5998],{"type":428,"value":5142},{"type":422,"tag":521,"props":6000,"children":6001},{"style":540},[6002],{"type":428,"value":613},{"type":422,"tag":521,"props":6004,"children":6005},{"class":523,"line":881},[6006,6010,6014,6019,6023,6027,6031,6035,6039],{"type":422,"tag":521,"props":6007,"children":6008},{"style":700},[6009],{"type":428,"value":1072},{"type":422,"tag":521,"props":6011,"children":6012},{"style":540},[6013],{"type":428,"value":708},{"type":422,"tag":521,"props":6015,"children":6016},{"style":576},[6017],{"type":428,"value":6018},"lazy",{"type":422,"tag":521,"props":6020,"children":6021},{"style":582},[6022],{"type":428,"value":585},{"type":422,"tag":521,"props":6024,"children":6025},{"style":582},[6026],{"type":428,"value":5947},{"type":422,"tag":521,"props":6028,"children":6029},{"style":576},[6030],{"type":428,"value":5915},{"type":422,"tag":521,"props":6032,"children":6033},{"style":540},[6034],{"type":428,"value":708},{"type":422,"tag":521,"props":6036,"children":6037},{"style":576},[6038],{"type":428,"value":6018},{"type":422,"tag":521,"props":6040,"children":6041},{"style":540},[6042],{"type":428,"value":613},{"type":422,"tag":521,"props":6044,"children":6045},{"class":523,"line":890},[6046,6050,6054,6059,6063,6067,6071,6075,6079],{"type":422,"tag":521,"props":6047,"children":6048},{"style":700},[6049],{"type":428,"value":1072},{"type":422,"tag":521,"props":6051,"children":6052},{"style":540},[6053],{"type":428,"value":708},{"type":422,"tag":521,"props":6055,"children":6056},{"style":576},[6057],{"type":428,"value":6058},"sync",{"type":422,"tag":521,"props":6060,"children":6061},{"style":582},[6062],{"type":428,"value":585},{"type":422,"tag":521,"props":6064,"children":6065},{"style":582},[6066],{"type":428,"value":5947},{"type":422,"tag":521,"props":6068,"children":6069},{"style":576},[6070],{"type":428,"value":5915},{"type":422,"tag":521,"props":6072,"children":6073},{"style":540},[6074],{"type":428,"value":708},{"type":422,"tag":521,"props":6076,"children":6077},{"style":576},[6078],{"type":428,"value":6058},{"type":422,"tag":521,"props":6080,"children":6081},{"style":540},[6082],{"type":428,"value":613},{"type":422,"tag":521,"props":6084,"children":6085},{"class":523,"line":936},[6086,6090,6094,6099,6103,6107,6111,6115],{"type":422,"tag":521,"props":6087,"children":6088},{"style":700},[6089],{"type":428,"value":1072},{"type":422,"tag":521,"props":6091,"children":6092},{"style":540},[6093],{"type":428,"value":708},{"type":422,"tag":521,"props":6095,"children":6096},{"style":576},[6097],{"type":428,"value":6098},"before",{"type":422,"tag":521,"props":6100,"children":6101},{"style":582},[6102],{"type":428,"value":585},{"type":422,"tag":521,"props":6104,"children":6105},{"style":576},[6106],{"type":428,"value":5723},{"type":422,"tag":521,"props":6108,"children":6109},{"style":540},[6110],{"type":428,"value":708},{"type":422,"tag":521,"props":6112,"children":6113},{"style":576},[6114],{"type":428,"value":6098},{"type":422,"tag":521,"props":6116,"children":6117},{"style":540},[6118],{"type":428,"value":613},{"type":422,"tag":521,"props":6120,"children":6121},{"class":523,"line":963},[6122,6126,6130],{"type":422,"tag":521,"props":6123,"children":6124},{"style":540},[6125],{"type":428,"value":1106},{"type":422,"tag":521,"props":6127,"children":6128},{"style":620},[6129],{"type":428,"value":1008},{"type":422,"tag":521,"props":6131,"children":6132},{"style":540},[6133],{"type":428,"value":569},{"type":422,"tag":521,"props":6135,"children":6136},{"class":523,"line":997},[6137,6141,6145,6149,6153,6157,6161,6165,6169,6173,6177,6181,6185,6189,6193,6197,6201,6205],{"type":422,"tag":521,"props":6138,"children":6139},{"style":700},[6140],{"type":428,"value":1072},{"type":422,"tag":521,"props":6142,"children":6143},{"style":540},[6144],{"type":428,"value":708},{"type":422,"tag":521,"props":6146,"children":6147},{"style":576},[6148],{"type":428,"value":5324},{"type":422,"tag":521,"props":6150,"children":6151},{"style":582},[6152],{"type":428,"value":585},{"type":422,"tag":521,"props":6154,"children":6155},{"style":700},[6156],{"type":428,"value":861},{"type":422,"tag":521,"props":6158,"children":6159},{"style":540},[6160],{"type":428,"value":708},{"type":422,"tag":521,"props":6162,"children":6163},{"style":576},[6164],{"type":428,"value":5142},{"type":422,"tag":521,"props":6166,"children":6167},{"style":582},[6168],{"type":428,"value":585},{"type":422,"tag":521,"props":6170,"children":6171},{"style":700},[6172],{"type":428,"value":861},{"type":422,"tag":521,"props":6174,"children":6175},{"style":540},[6176],{"type":428,"value":708},{"type":422,"tag":521,"props":6178,"children":6179},{"style":576},[6180],{"type":428,"value":6018},{"type":422,"tag":521,"props":6182,"children":6183},{"style":582},[6184],{"type":428,"value":585},{"type":422,"tag":521,"props":6186,"children":6187},{"style":700},[6188],{"type":428,"value":861},{"type":422,"tag":521,"props":6190,"children":6191},{"style":540},[6192],{"type":428,"value":708},{"type":422,"tag":521,"props":6194,"children":6195},{"style":576},[6196],{"type":428,"value":6058},{"type":422,"tag":521,"props":6198,"children":6199},{"style":582},[6200],{"type":428,"value":585},{"type":422,"tag":521,"props":6202,"children":6203},{"style":2618},[6204],{"type":428,"value":2621},{"type":422,"tag":521,"props":6206,"children":6207},{"style":540},[6208],{"type":428,"value":613},{"type":422,"tag":521,"props":6210,"children":6211},{"class":523,"line":1015},[6212],{"type":422,"tag":521,"props":6213,"children":6214},{"style":540},[6215],{"type":428,"value":1156},{"type":422,"tag":521,"props":6217,"children":6218},{"class":523,"line":1057},[6219,6223,6227,6232,6236,6240],{"type":422,"tag":521,"props":6220,"children":6221},{"style":700},[6222],{"type":428,"value":703},{"type":422,"tag":521,"props":6224,"children":6225},{"style":540},[6226],{"type":428,"value":708},{"type":422,"tag":521,"props":6228,"children":6229},{"style":576},[6230],{"type":428,"value":6231},"cb",{"type":422,"tag":521,"props":6233,"children":6234},{"style":582},[6235],{"type":428,"value":585},{"type":422,"tag":521,"props":6237,"children":6238},{"style":576},[6239],{"type":428,"value":5714},{"type":422,"tag":521,"props":6241,"children":6242},{"style":540},[6243],{"type":428,"value":613},{"type":422,"tag":521,"props":6245,"children":6246},{"class":523,"line":1066},[6247,6251,6255,6259,6263,6268,6273,6277],{"type":422,"tag":521,"props":6248,"children":6249},{"style":700},[6250],{"type":428,"value":703},{"type":422,"tag":521,"props":6252,"children":6253},{"style":540},[6254],{"type":428,"value":708},{"type":422,"tag":521,"props":6256,"children":6257},{"style":576},[6258],{"type":428,"value":4009},{"type":422,"tag":521,"props":6260,"children":6261},{"style":582},[6262],{"type":428,"value":585},{"type":422,"tag":521,"props":6264,"children":6265},{"style":582},[6266],{"type":428,"value":6267}," ++",{"type":422,"tag":521,"props":6269,"children":6270},{"style":576},[6271],{"type":428,"value":6272},"uid",{"type":422,"tag":521,"props":6274,"children":6275},{"style":540},[6276],{"type":428,"value":1285},{"type":422,"tag":521,"props":6278,"children":6279},{"style":732},[6280],{"type":428,"value":6281}," // uid for batching\n",{"type":422,"tag":521,"props":6283,"children":6284},{"class":523,"line":1100},[6285,6289,6293,6298,6302,6306],{"type":422,"tag":521,"props":6286,"children":6287},{"style":700},[6288],{"type":428,"value":703},{"type":422,"tag":521,"props":6290,"children":6291},{"style":540},[6292],{"type":428,"value":708},{"type":422,"tag":521,"props":6294,"children":6295},{"style":576},[6296],{"type":428,"value":6297},"active",{"type":422,"tag":521,"props":6299,"children":6300},{"style":582},[6301],{"type":428,"value":585},{"type":422,"tag":521,"props":6303,"children":6304},{"style":2618},[6305],{"type":428,"value":2997},{"type":422,"tag":521,"props":6307,"children":6308},{"style":540},[6309],{"type":428,"value":613},{"type":422,"tag":521,"props":6311,"children":6312},{"class":523,"line":1117},[6313,6317,6321,6326,6330,6334,6338,6342,6346],{"type":422,"tag":521,"props":6314,"children":6315},{"style":700},[6316],{"type":428,"value":703},{"type":422,"tag":521,"props":6318,"children":6319},{"style":540},[6320],{"type":428,"value":708},{"type":422,"tag":521,"props":6322,"children":6323},{"style":576},[6324],{"type":428,"value":6325},"dirty",{"type":422,"tag":521,"props":6327,"children":6328},{"style":582},[6329],{"type":428,"value":585},{"type":422,"tag":521,"props":6331,"children":6332},{"style":700},[6333],{"type":428,"value":861},{"type":422,"tag":521,"props":6335,"children":6336},{"style":540},[6337],{"type":428,"value":708},{"type":422,"tag":521,"props":6339,"children":6340},{"style":576},[6341],{"type":428,"value":6018},{"type":422,"tag":521,"props":6343,"children":6344},{"style":540},[6345],{"type":428,"value":1285},{"type":422,"tag":521,"props":6347,"children":6348},{"style":732},[6349],{"type":428,"value":6350}," // for lazy watchers\n",{"type":422,"tag":521,"props":6352,"children":6353},{"class":523,"line":1150},[6354,6358,6362,6367,6371,6375],{"type":422,"tag":521,"props":6355,"children":6356},{"style":700},[6357],{"type":428,"value":703},{"type":422,"tag":521,"props":6359,"children":6360},{"style":540},[6361],{"type":428,"value":708},{"type":422,"tag":521,"props":6363,"children":6364},{"style":576},[6365],{"type":428,"value":6366},"deps",{"type":422,"tag":521,"props":6368,"children":6369},{"style":582},[6370],{"type":428,"value":585},{"type":422,"tag":521,"props":6372,"children":6373},{"style":598},[6374],{"type":428,"value":4051},{"type":422,"tag":521,"props":6376,"children":6377},{"style":540},[6378],{"type":428,"value":613},{"type":422,"tag":521,"props":6380,"children":6381},{"class":523,"line":1159},[6382,6386,6390,6395,6399,6403],{"type":422,"tag":521,"props":6383,"children":6384},{"style":700},[6385],{"type":428,"value":703},{"type":422,"tag":521,"props":6387,"children":6388},{"style":540},[6389],{"type":428,"value":708},{"type":422,"tag":521,"props":6391,"children":6392},{"style":576},[6393],{"type":428,"value":6394},"newDeps",{"type":422,"tag":521,"props":6396,"children":6397},{"style":582},[6398],{"type":428,"value":585},{"type":422,"tag":521,"props":6400,"children":6401},{"style":598},[6402],{"type":428,"value":4051},{"type":422,"tag":521,"props":6404,"children":6405},{"style":540},[6406],{"type":428,"value":613},{"type":422,"tag":521,"props":6408,"children":6409},{"class":523,"line":1168},[6410,6414,6418,6423,6427,6431,6436,6440],{"type":422,"tag":521,"props":6411,"children":6412},{"style":700},[6413],{"type":428,"value":703},{"type":422,"tag":521,"props":6415,"children":6416},{"style":540},[6417],{"type":428,"value":708},{"type":422,"tag":521,"props":6419,"children":6420},{"style":576},[6421],{"type":428,"value":6422},"depIds",{"type":422,"tag":521,"props":6424,"children":6425},{"style":582},[6426],{"type":428,"value":585},{"type":422,"tag":521,"props":6428,"children":6429},{"style":582},[6430],{"type":428,"value":590},{"type":422,"tag":521,"props":6432,"children":6433},{"style":534},[6434],{"type":428,"value":6435}," Set",{"type":422,"tag":521,"props":6437,"children":6438},{"style":598},[6439],{"type":428,"value":770},{"type":422,"tag":521,"props":6441,"children":6442},{"style":540},[6443],{"type":428,"value":613},{"type":422,"tag":521,"props":6445,"children":6446},{"class":523,"line":1176},[6447,6451,6455,6460,6464,6468,6472,6476],{"type":422,"tag":521,"props":6448,"children":6449},{"style":700},[6450],{"type":428,"value":703},{"type":422,"tag":521,"props":6452,"children":6453},{"style":540},[6454],{"type":428,"value":708},{"type":422,"tag":521,"props":6456,"children":6457},{"style":576},[6458],{"type":428,"value":6459},"newDepIds",{"type":422,"tag":521,"props":6461,"children":6462},{"style":582},[6463],{"type":428,"value":585},{"type":422,"tag":521,"props":6465,"children":6466},{"style":582},[6467],{"type":428,"value":590},{"type":422,"tag":521,"props":6469,"children":6470},{"style":534},[6471],{"type":428,"value":6435},{"type":422,"tag":521,"props":6473,"children":6474},{"style":598},[6475],{"type":428,"value":770},{"type":422,"tag":521,"props":6477,"children":6478},{"style":540},[6479],{"type":428,"value":613},{"type":422,"tag":521,"props":6481,"children":6482},{"class":523,"line":1203},[6483],{"type":422,"tag":521,"props":6484,"children":6485},{"emptyLinePlaceholder":414},[6486],{"type":428,"value":650},{"type":422,"tag":521,"props":6488,"children":6489},{"class":523,"line":1252},[6490],{"type":422,"tag":521,"props":6491,"children":6492},{"style":732},[6493],{"type":428,"value":6494},"    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n",{"type":422,"tag":521,"props":6496,"children":6497},{"class":523,"line":1331},[6498],{"type":422,"tag":521,"props":6499,"children":6500},{"style":732},[6501],{"type":428,"value":6502},"     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n",{"type":422,"tag":521,"props":6504,"children":6505},{"class":523,"line":1375},[6506],{"type":422,"tag":521,"props":6507,"children":6508},{"style":732},[6509],{"type":428,"value":6510},"     */\n",{"type":422,"tag":521,"props":6512,"children":6513},{"class":523,"line":1383},[6514,6518,6522,6526],{"type":422,"tag":521,"props":6515,"children":6516},{"style":700},[6517],{"type":428,"value":703},{"type":422,"tag":521,"props":6519,"children":6520},{"style":540},[6521],{"type":428,"value":708},{"type":422,"tag":521,"props":6523,"children":6524},{"style":576},[6525],{"type":428,"value":5208},{"type":422,"tag":521,"props":6527,"children":6528},{"style":582},[6529],{"type":428,"value":6530}," =\n",{"type":422,"tag":521,"props":6532,"children":6533},{"class":523,"line":1391},[6534,6539,6543,6547,6551,6555,6559,6563,6567,6571,6575,6579,6583,6588,6593,6597,6602],{"type":422,"tag":521,"props":6535,"children":6536},{"style":576},[6537],{"type":428,"value":6538},"      process",{"type":422,"tag":521,"props":6540,"children":6541},{"style":540},[6542],{"type":428,"value":708},{"type":422,"tag":521,"props":6544,"children":6545},{"style":576},[6546],{"type":428,"value":3579},{"type":422,"tag":521,"props":6548,"children":6549},{"style":540},[6550],{"type":428,"value":708},{"type":422,"tag":521,"props":6552,"children":6553},{"style":1212},[6554],{"type":428,"value":3588},{"type":422,"tag":521,"props":6556,"children":6557},{"style":582},[6558],{"type":428,"value":3494},{"type":422,"tag":521,"props":6560,"children":6561},{"style":838},[6562],{"type":428,"value":841},{"type":422,"tag":521,"props":6564,"children":6565},{"style":844},[6566],{"type":428,"value":3601},{"type":422,"tag":521,"props":6568,"children":6569},{"style":838},[6570],{"type":428,"value":852},{"type":422,"tag":521,"props":6572,"children":6573},{"style":582},[6574],{"type":428,"value":3075},{"type":422,"tag":521,"props":6576,"children":6577},{"style":576},[6578],{"type":428,"value":5705},{"type":422,"tag":521,"props":6580,"children":6581},{"style":540},[6582],{"type":428,"value":708},{"type":422,"tag":521,"props":6584,"children":6585},{"style":534},[6586],{"type":428,"value":6587},"toString",{"type":422,"tag":521,"props":6589,"children":6590},{"style":598},[6591],{"type":428,"value":6592},"() ",{"type":422,"tag":521,"props":6594,"children":6595},{"style":582},[6596],{"type":428,"value":2992},{"type":422,"tag":521,"props":6598,"children":6599},{"style":838},[6600],{"type":428,"value":6601}," \"\"",{"type":422,"tag":521,"props":6603,"children":6604},{"style":540},[6605],{"type":428,"value":613},{"type":422,"tag":521,"props":6607,"children":6608},{"class":523,"line":1399},[6609],{"type":422,"tag":521,"props":6610,"children":6611},{"style":732},[6612],{"type":428,"value":6613},"    // parse expression for getter\n",{"type":422,"tag":521,"props":6615,"children":6616},{"class":523,"line":1425},[6617,6621,6625,6630,6634,6638,6642,6646,6650,6654],{"type":422,"tag":521,"props":6618,"children":6619},{"style":620},[6620],{"type":428,"value":896},{"type":422,"tag":521,"props":6622,"children":6623},{"style":598},[6624],{"type":428,"value":901},{"type":422,"tag":521,"props":6626,"children":6627},{"style":582},[6628],{"type":428,"value":6629},"typeof",{"type":422,"tag":521,"props":6631,"children":6632},{"style":576},[6633],{"type":428,"value":5705},{"type":422,"tag":521,"props":6635,"children":6636},{"style":582},[6637],{"type":428,"value":2615},{"type":422,"tag":521,"props":6639,"children":6640},{"style":838},[6641],{"type":428,"value":841},{"type":422,"tag":521,"props":6643,"children":6644},{"style":844},[6645],{"type":428,"value":531},{"type":422,"tag":521,"props":6647,"children":6648},{"style":838},[6649],{"type":428,"value":852},{"type":422,"tag":521,"props":6651,"children":6652},{"style":598},[6653],{"type":428,"value":956},{"type":422,"tag":521,"props":6655,"children":6656},{"style":540},[6657],{"type":428,"value":933},{"type":422,"tag":521,"props":6659,"children":6660},{"class":523,"line":1515},[6661,6665,6669,6673,6677,6681],{"type":422,"tag":521,"props":6662,"children":6663},{"style":700},[6664],{"type":428,"value":1072},{"type":422,"tag":521,"props":6666,"children":6667},{"style":540},[6668],{"type":428,"value":708},{"type":422,"tag":521,"props":6670,"children":6671},{"style":576},[6672],{"type":428,"value":2774},{"type":422,"tag":521,"props":6674,"children":6675},{"style":582},[6676],{"type":428,"value":585},{"type":422,"tag":521,"props":6678,"children":6679},{"style":576},[6680],{"type":428,"value":5705},{"type":422,"tag":521,"props":6682,"children":6683},{"style":540},[6684],{"type":428,"value":613},{"type":422,"tag":521,"props":6686,"children":6687},{"class":523,"line":1548},[6688,6692,6696],{"type":422,"tag":521,"props":6689,"children":6690},{"style":540},[6691],{"type":428,"value":1106},{"type":422,"tag":521,"props":6693,"children":6694},{"style":620},[6695],{"type":428,"value":1008},{"type":422,"tag":521,"props":6697,"children":6698},{"style":540},[6699],{"type":428,"value":569},{"type":422,"tag":521,"props":6701,"children":6702},{"class":523,"line":1556},[6703],{"type":422,"tag":521,"props":6704,"children":6705},{"style":732},[6706],{"type":428,"value":6707},"      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n",{"type":422,"tag":521,"props":6709,"children":6710},{"class":523,"line":1564},[6711,6715,6719,6723,6727,6732,6736,6741,6745],{"type":422,"tag":521,"props":6712,"children":6713},{"style":700},[6714],{"type":428,"value":1072},{"type":422,"tag":521,"props":6716,"children":6717},{"style":540},[6718],{"type":428,"value":708},{"type":422,"tag":521,"props":6720,"children":6721},{"style":576},[6722],{"type":428,"value":2774},{"type":422,"tag":521,"props":6724,"children":6725},{"style":582},[6726],{"type":428,"value":585},{"type":422,"tag":521,"props":6728,"children":6729},{"style":534},[6730],{"type":428,"value":6731}," parsePath",{"type":422,"tag":521,"props":6733,"children":6734},{"style":598},[6735],{"type":428,"value":543},{"type":422,"tag":521,"props":6737,"children":6738},{"style":576},[6739],{"type":428,"value":6740},"expOrFn",{"type":422,"tag":521,"props":6742,"children":6743},{"style":598},[6744],{"type":428,"value":564},{"type":422,"tag":521,"props":6746,"children":6747},{"style":540},[6748],{"type":428,"value":613},{"type":422,"tag":521,"props":6750,"children":6751},{"class":523,"line":3387},[6752],{"type":422,"tag":521,"props":6753,"children":6754},{"style":540},[6755],{"type":428,"value":1156},{"type":422,"tag":521,"props":6757,"children":6758},{"class":523,"line":3447},[6759],{"type":422,"tag":521,"props":6760,"children":6761},{"emptyLinePlaceholder":414},[6762],{"type":428,"value":650},{"type":422,"tag":521,"props":6764,"children":6765},{"class":523,"line":3456},[6766,6770,6774,6778,6782,6786,6790,6794,6798,6803,6808,6812,6816,6820,6824],{"type":422,"tag":521,"props":6767,"children":6768},{"style":700},[6769],{"type":428,"value":703},{"type":422,"tag":521,"props":6771,"children":6772},{"style":540},[6773],{"type":428,"value":708},{"type":422,"tag":521,"props":6775,"children":6776},{"style":576},[6777],{"type":428,"value":549},{"type":422,"tag":521,"props":6779,"children":6780},{"style":582},[6781],{"type":428,"value":585},{"type":422,"tag":521,"props":6783,"children":6784},{"style":700},[6785],{"type":428,"value":861},{"type":422,"tag":521,"props":6787,"children":6788},{"style":540},[6789],{"type":428,"value":708},{"type":422,"tag":521,"props":6791,"children":6792},{"style":576},[6793],{"type":428,"value":6018},{"type":422,"tag":521,"props":6795,"children":6796},{"style":582},[6797],{"type":428,"value":3075},{"type":422,"tag":521,"props":6799,"children":6800},{"style":4625},[6801],{"type":428,"value":6802}," undefined",{"type":422,"tag":521,"props":6804,"children":6805},{"style":582},[6806],{"type":428,"value":6807}," :",{"type":422,"tag":521,"props":6809,"children":6810},{"style":700},[6811],{"type":428,"value":861},{"type":422,"tag":521,"props":6813,"children":6814},{"style":540},[6815],{"type":428,"value":708},{"type":422,"tag":521,"props":6817,"children":6818},{"style":534},[6819],{"type":428,"value":2707},{"type":422,"tag":521,"props":6821,"children":6822},{"style":598},[6823],{"type":428,"value":770},{"type":422,"tag":521,"props":6825,"children":6826},{"style":540},[6827],{"type":428,"value":613},{"type":422,"tag":521,"props":6829,"children":6830},{"class":523,"line":3526},[6831],{"type":422,"tag":521,"props":6832,"children":6833},{"style":540},[6834],{"type":428,"value":1165},{"type":422,"tag":521,"props":6836,"children":6837},{"class":523,"line":3539},[6838],{"type":422,"tag":521,"props":6839,"children":6840},{"style":540},[6841],{"type":428,"value":641},{"type":422,"tag":455,"props":6843,"children":6844},{},[6845],{"type":428,"value":6846},"Watcher 是组件级别的，如果状态发生了变化，只能通知到组件。再由组件对比内部的虚拟节点的变化。换句话说，Vue 对响应式状态变化侦测只通知到组件，这意味着只要某个属性变化了，相应的组件都会重渲染。",{"type":422,"tag":6848,"props":6849,"children":6850},"hr",{},[],{"type":422,"tag":423,"props":6852,"children":6854},{"id":6853},"阅读更多",[6855],{"type":428,"value":6853},{"type":422,"tag":430,"props":6857,"children":6858},{},[6859,6869],{"type":422,"tag":434,"props":6860,"children":6861},{},[6862],{"type":422,"tag":485,"props":6863,"children":6866},{"href":6864,"rel":6865},"https://book.douban.com/subject/32581281/",[489],[6867],{"type":428,"value":6868},"《深入浅出 VueJS》",{"type":422,"tag":434,"props":6870,"children":6871},{},[6872],{"type":422,"tag":485,"props":6873,"children":6876},{"href":6874,"rel":6875},"http://hcysun.me/vue-design/zh/",[489],[6877],{"type":428,"value":6878},"江山父老能容我 不使人间造孽钱",{"type":422,"tag":6880,"props":6881,"children":6882},"style",{},[6883],{"type":428,"value":6884},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":415,"searchDepth":572,"depth":572,"links":6886},[6887,6888,6889,6895],{"id":425,"depth":572,"text":425},{"id":451,"depth":572,"text":451},{"id":472,"depth":572,"text":472,"children":6890},[6891,6892,6893,6894],{"id":498,"depth":616,"text":498},{"id":1572,"depth":616,"text":1572},{"id":2381,"depth":616,"text":2381},{"id":3939,"depth":616,"text":3939},{"id":6853,"depth":572,"text":6853},"markdown","content:8.source-code:_js:vue2-source:1.observer.md","content","8.source-code/_js/vue2-source/1.observer.md","8.source-code/_js/vue2-source/1.observer","md",[6903,6906],{"_path":6904,"title":6905,"description":417},"/source-code/_js/vue2-source","Vue2 Source",{"_path":6907,"title":6908,"description":417},"/source-code/_js/vue2-source/parser","Vue2 Parser",1732808130085]