[{"data":1,"prerenderedAt":6915},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/observer":416,"/source-code/_js/vue2-source/observer-surround":6908},[4,32,86,108,135,141,147,153,399,405,411],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":42,"_path":43},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":45,"_path":46},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":48,"_path":49},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":51,"_path":52},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":54,"_path":55},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":57,"_path":58},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":60,"_path":61},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":63,"_path":64},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":66,"_path":67},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":69,"_path":70},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":72,"_path":73},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":75,"_path":76},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":78,"_path":79},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":81,"_path":82},"🚝 四十二篇系列","/articles/fourty-two",{"title":84,"_path":85},"📝 技术博客归档","/articles/fold",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102,105],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107},"🖨️ any-to-base64","/tools/any-to-base64",{"title":109,"_path":110,"children":111},"吉他剧场 / Music","/music",[112,114,117,120,123,126,129,132],{"title":113,"_path":110},"🎸 FingerStyle！",{"title":115,"_path":116},"🌬️ 等待的风","/music/wind",{"title":118,"_path":119},"💕 约定的海洋","/music/ocean",{"title":121,"_path":122},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":124,"_path":125},"🌏 残酷天使的行动纲领","/music/eva",{"title":127,"_path":128},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":130,"_path":131},"🍷 Wu Wei","/music/wu-wei",{"title":133,"_path":134},"🌅 无题","/music/untitled",{"title":136,"_path":137,"children":138},"画点什么 / Paint","/paint",[139],{"title":140,"_path":137},"🚧 正在施工",{"title":142,"_path":143,"children":144},"读书笔记 / Notes","/books",[145],{"title":146,"_path":143},"📕 读书笔记",{"title":148,"_path":149,"children":150},"知识地图 / Maps","/maps",[151],{"title":152,"_path":149},"🏁 知识地图",{"title":154,"_path":155,"children":156},"零散的笔记 / Gists","/gists",[157,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396],{"title":158,"_path":155},"🧊 Gists",{"title":160,"_path":161},"网站的可访问性","/gists/accessibility",{"title":163,"_path":164},"Bit","/gists/bit",{"title":166,"_path":167},"图片模糊","/gists/blur",{"title":169,"_path":170},"渲染相关笔记","/gists/c4d",{"title":172,"_path":173},"CDN 问题记录","/gists/cdn",{"title":175,"_path":176},"消毒剂","/gists/cleaner",{"title":178,"_path":179},"Windows Command","/gists/cmd",{"title":181,"_path":182},"Command","/gists/command",{"title":184,"_path":185},"复杂科学","/gists/complexity-science",{"title":187,"_path":188},"GitHub Copilot","/gists/copilot",{"title":190,"_path":191},"宇宙","/gists/cosmos",{"title":193,"_path":194},"C++","/gists/cpp",{"title":196,"_path":197},"Data Structure","/gists/data-structure",{"title":199,"_path":200},"DEPRESSION","/gists/depression",{"title":202,"_path":203},"设计模式","/gists/design-patterns",{"title":205,"_path":206},"Developer Experience","/gists/developer-experience",{"title":208,"_path":209},"Device Metrics","/gists/device-metrix",{"title":211,"_path":212},"数字化转型","/gists/digital-transformation",{"title":214,"_path":215},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":217,"_path":218},"正则表达式","/gists/eegex",{"title":220,"_path":221},"Emoji","/gists/emoji",{"title":223,"_path":224},"工程","/gists/engineering",{"title":226,"_path":227},"熵","/gists/entropy",{"title":229,"_path":230},"Environment","/gists/environment",{"title":232,"_path":233},"Erlang","/gists/erlang",{"title":235,"_path":236},"逃离塔克夫","/gists/escape-from-tarkov",{"title":238,"_path":239},"ESNext (ES6-ES11)","/gists/esnext",{"title":241,"_path":242},"Eval！","/gists/eval",{"title":244,"_path":245},"Flutter","/gists/flutter",{"title":247,"_path":248},"字体","/gists/font",{"title":250,"_path":251},"JS 函数式编程","/gists/functional",{"title":253,"_path":254},"游戏化","/gists/gamification",{"title":256,"_path":257},"Google C++ Standard","/gists/google-cpp-standard",{"title":259,"_path":260},"双向链接完全体","/gists/graph",{"title":262,"_path":263},"Hardwares","/gists/hardwares",{"title":265,"_path":266},"哈希冲突","/gists/hash-collision",{"title":268,"_path":269},"信息设计","/gists/information-design",{"title":271,"_path":272},"InstantPage","/gists/instant.page",{"title":274,"_path":275},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":277,"_path":278},"KVStore","/gists/key-value-db",{"title":280,"_path":281},"Kubernetes","/gists/kubernetes",{"title":283,"_path":284},"Makefile","/gists/makefile",{"title":286,"_path":287},"Markdown Inline Style","/gists/markdown-nice",{"title":289,"_path":290},"小程序","/gists/miniapp",{"title":292,"_path":293},"减小页面快照体积","/gists/minify-html",{"title":295,"_path":296},"mklink","/gists/mklink",{"title":298,"_path":299},"Mock","/gists/mock",{"title":301,"_path":302},"多人协作系统","/gists/multiplayer",{"title":304,"_path":305},"多端应用","/gists/multy-end-app",{"title":307,"_path":308},"神经科学","/gists/neuroscience",{"title":310,"_path":311},"OO","/gists/oo",{"title":313,"_path":314},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":316,"_path":317},"PInvoke","/gists/pinvoke",{"title":319,"_path":320},"像素","/gists/pixel",{"title":322,"_path":323},"PowerShell","/gists/powershell",{"title":325,"_path":326},"量子","/gists/quantum",{"title":328,"_path":329},"保持好奇心","/gists/questions",{"title":331,"_path":332},"React Native","/gists/react-native",{"title":334,"_path":335},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":337,"_path":338},"SEO","/gists/seo",{"title":340,"_path":341},"Shader","/gists/shader",{"title":343,"_path":344},"Shape Up","/gists/shape-up",{"title":346,"_path":347},"睡觉","/gists/sleep",{"title":349,"_path":350},"记录奇怪的问题","/gists/solved",{"title":352,"_path":353},"States","/gists/states",{"title":355,"_path":356},"Storage","/gists/storage",{"title":358,"_path":359},"音视频流处理","/gists/stream-cli",{"title":361,"_path":362},"Symbol","/gists/symbol",{"title":364,"_path":365},"系统论","/gists/systems-theory",{"title":367,"_path":368},"Taro","/gists/taro",{"title":370,"_path":371},"任务切片","/gists/task-slice",{"title":373,"_path":374},"技术偏好","/gists/tech-dudge",{"title":376,"_path":377},"Untitled","/gists/untitled",{"title":379,"_path":380},"可变字体","/gists/variable-font",{"title":382,"_path":383},"视觉错觉","/gists/visual-illusion",{"title":385,"_path":386},"SS(SSR)","/gists/vpn",{"title":388,"_path":389},"VS Code 插件开发","/gists/vscode-plugin",{"title":391,"_path":392},"Web Components","/gists/web-components",{"title":394,"_path":395},"Windows","/gists/windows",{"title":397,"_path":398},"查缺补漏","/gists/wrong",{"title":400,"_path":401,"children":402},"代码笔记 / Gists","/source-code",[403],{"title":404,"_path":401},"🚄 代码笔记",{"title":406,"_path":407,"children":408},"我 / About","/hire",[409],{"title":410,"_path":407},"📬 技术简历",{"title":412,"_path":413,"children":414},"todo","/todo",[415],{"title":412,"_path":413},{"_path":417,"_dir":418,"_draft":419,"_partial":420,"_locale":421,"title":422,"description":423,"body":424,"_type":6902,"_id":6903,"_source":6904,"_file":6905,"_stem":6906,"_extension":6907},"/source-code/_js/vue2-source/observer","vue2-source",false,true,"","Vue2 Observer","deprecated warning",{"type":425,"children":426,"toc":6891},"root",[427,435,455,460,466,476,481,501,507,512,517,1576,1581,1586,2385,2390,2395,3943,3948,3953,3958,3963,4559,4564,4572,4577,4867,4872,4877,5462,5467,5661,5666,6848,6853,6857,6862,6885],{"type":428,"tag":429,"props":430,"children":432},"element","h2",{"id":431},"读源码前",[433],{"type":434,"value":431},"text",{"type":428,"tag":436,"props":437,"children":438},"ul",{},[439,445,450],{"type":428,"tag":440,"props":441,"children":442},"li",{},[443],{"type":434,"value":444},"从 GitHub 克隆一份 vue@2 在 dev 上的分支",{"type":428,"tag":440,"props":446,"children":447},{},[448],{"type":434,"value":449},"使用 flow-remove-types 将 src 目录下的 flow 文件转换为普通的 JS",{"type":428,"tag":440,"props":451,"children":452},{},[453],{"type":434,"value":454},"使用 PowerShell 的 tree 指令输出 src 目录的树形结构，以理解源码结构",{"type":428,"tag":429,"props":456,"children":458},{"id":457},"目录结构",[459],{"type":434,"value":457},{"type":428,"tag":461,"props":462,"children":463},"p",{},[464],{"type":434,"value":465},"可以大致根据目录将源码拆分为几个部分：",{"type":428,"tag":467,"props":468,"children":470},"pre",{"code":469},"├─compiler // 模板编译相关\n│  ├─codegen  // 代码生成器\n│  ├─directives // 指令解析器\n│  └─parser // 模板解析器\n├─core  // 核心代码\n│  ├─components // component 相关 API\n│  ├─global-api // 全局 API\n│  ├─instance\n│  │  └─render-helpers\n│  ├─observer // 响应式属性\n│  ├─util // 工具函数\n│  └─vdom // 虚拟节点\n│      ├─helpers\n│      └─modules\n├─platforms // 平台相关代码\n├─server  // 服务端渲染相关代码\n│  ├─bundle-renderer\n│  ├─optimizing-compiler\n│  ├─template-renderer\n│  └─webpack-plugin\n├─sfc // SFC 结构解析器\n└─shared  // 工具函数\n",[471],{"type":428,"tag":472,"props":473,"children":474},"code",{"__ignoreMap":421},[475],{"type":434,"value":469},{"type":428,"tag":429,"props":477,"children":479},{"id":478},"变化侦测",[480],{"type":434,"value":478},{"type":428,"tag":482,"props":483,"children":484},"blockquote",{},[485],{"type":428,"tag":461,"props":486,"children":487},{},[488,490,499],{"type":434,"value":489},"去年读变化侦测的时候，借着项目的机会，实现过一个轻量的状态管理：",{"type":428,"tag":491,"props":492,"children":496},"a",{"href":493,"rel":494},"https://github.com/takecloud/state-vex",[495],"nofollow",[497],{"type":434,"value":498},"state-vex",{"type":434,"value":500},"，用到了 VueJS 响应式绑定相关的一些内容。",{"type":428,"tag":502,"props":503,"children":505},"h3",{"id":504},"侦测类",[506],{"type":434,"value":504},{"type":428,"tag":461,"props":508,"children":509},{},[510],{"type":434,"value":511},"Vue 通过 Observer 把对象的所有属性转化为带有能收集依赖并触发依赖更新的 setter/getter。setter/getter 调用时，分别收集依赖、触发依赖更新。Observer 还能遍历数组元素。但是更新依赖的方法放在了数组原型方法中，比如 Array.prototype.splice，用包装器将其增强，就能在调用时同时调用更新依赖的函数。",{"type":428,"tag":461,"props":513,"children":514},{},[515],{"type":434,"value":516},"简而言之，Observer 使对象“可观测”，即“变化侦测”中的“侦测”。通过 observe 函数，我们能命令式地侦测一个对象。",{"type":428,"tag":467,"props":518,"children":522},{"code":519,"language":520,"meta":421,"className":521,"style":421},"function observe(value, asRootData) {\n  ob = new Observer(value);\n  return ob;\n}\n\nclass Observer {\n  constructor(value) {\n    this.value = value;\n    // 初始化依赖容器\n    this.dep = new Dep();\n    this.vmCount = 0;\n    // 将侦测实例实例挂载到对象上方便访问\n    def(value, \"__ob__\", this);\n    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods);\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys);\n      }\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i \u003C keys.length; i++) {\n      defineReactive(obj, keys[i]);\n    }\n  }\n\n  observeArray(items) {\n    for (let i = 0, l = items.length; i \u003C l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[523],{"type":428,"tag":472,"props":524,"children":525},{"__ignoreMap":421},[526,576,620,639,648,657,675,700,732,742,781,812,821,876,885,894,940,967,1001,1019,1061,1070,1104,1121,1154,1163,1172,1180,1207,1256,1335,1379,1387,1395,1403,1429,1519,1552,1560,1568],{"type":428,"tag":527,"props":528,"children":531},"span",{"class":529,"line":530},"line",1,[532,538,544,550,556,561,566,571],{"type":428,"tag":527,"props":533,"children":535},{"style":534},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[536],{"type":434,"value":537},"function",{"type":428,"tag":527,"props":539,"children":541},{"style":540},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[542],{"type":434,"value":543}," observe",{"type":428,"tag":527,"props":545,"children":547},{"style":546},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[548],{"type":434,"value":549},"(",{"type":428,"tag":527,"props":551,"children":553},{"style":552},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[554],{"type":434,"value":555},"value",{"type":428,"tag":527,"props":557,"children":558},{"style":546},[559],{"type":434,"value":560},",",{"type":428,"tag":527,"props":562,"children":563},{"style":552},[564],{"type":434,"value":565}," asRootData",{"type":428,"tag":527,"props":567,"children":568},{"style":546},[569],{"type":434,"value":570},")",{"type":428,"tag":527,"props":572,"children":573},{"style":546},[574],{"type":434,"value":575}," {\n",{"type":428,"tag":527,"props":577,"children":579},{"class":529,"line":578},2,[580,586,592,597,602,607,611,615],{"type":428,"tag":527,"props":581,"children":583},{"style":582},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[584],{"type":434,"value":585},"  ob",{"type":428,"tag":527,"props":587,"children":589},{"style":588},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[590],{"type":434,"value":591}," =",{"type":428,"tag":527,"props":593,"children":594},{"style":588},[595],{"type":434,"value":596}," new",{"type":428,"tag":527,"props":598,"children":599},{"style":540},[600],{"type":434,"value":601}," Observer",{"type":428,"tag":527,"props":603,"children":605},{"style":604},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[606],{"type":434,"value":549},{"type":428,"tag":527,"props":608,"children":609},{"style":582},[610],{"type":434,"value":555},{"type":428,"tag":527,"props":612,"children":613},{"style":604},[614],{"type":434,"value":570},{"type":428,"tag":527,"props":616,"children":617},{"style":546},[618],{"type":434,"value":619},";\n",{"type":428,"tag":527,"props":621,"children":623},{"class":529,"line":622},3,[624,630,635],{"type":428,"tag":527,"props":625,"children":627},{"style":626},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[628],{"type":434,"value":629},"  return",{"type":428,"tag":527,"props":631,"children":632},{"style":582},[633],{"type":434,"value":634}," ob",{"type":428,"tag":527,"props":636,"children":637},{"style":546},[638],{"type":434,"value":619},{"type":428,"tag":527,"props":640,"children":642},{"class":529,"line":641},4,[643],{"type":428,"tag":527,"props":644,"children":645},{"style":546},[646],{"type":434,"value":647},"}\n",{"type":428,"tag":527,"props":649,"children":651},{"class":529,"line":650},5,[652],{"type":428,"tag":527,"props":653,"children":654},{"emptyLinePlaceholder":420},[655],{"type":434,"value":656},"\n",{"type":428,"tag":527,"props":658,"children":660},{"class":529,"line":659},6,[661,666,671],{"type":428,"tag":527,"props":662,"children":663},{"style":534},[664],{"type":434,"value":665},"class",{"type":428,"tag":527,"props":667,"children":669},{"style":668},"--shiki-light:#E2931D;--shiki-light-text-decoration:inherit;--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline",[670],{"type":434,"value":601},{"type":428,"tag":527,"props":672,"children":673},{"style":546},[674],{"type":434,"value":575},{"type":428,"tag":527,"props":676,"children":678},{"class":529,"line":677},7,[679,684,688,692,696],{"type":428,"tag":527,"props":680,"children":681},{"style":534},[682],{"type":434,"value":683},"  constructor",{"type":428,"tag":527,"props":685,"children":686},{"style":546},[687],{"type":434,"value":549},{"type":428,"tag":527,"props":689,"children":690},{"style":552},[691],{"type":434,"value":555},{"type":428,"tag":527,"props":693,"children":694},{"style":546},[695],{"type":434,"value":570},{"type":428,"tag":527,"props":697,"children":698},{"style":546},[699],{"type":434,"value":575},{"type":428,"tag":527,"props":701,"children":703},{"class":529,"line":702},8,[704,710,715,719,723,728],{"type":428,"tag":527,"props":705,"children":707},{"style":706},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[708],{"type":434,"value":709},"    this",{"type":428,"tag":527,"props":711,"children":712},{"style":546},[713],{"type":434,"value":714},".",{"type":428,"tag":527,"props":716,"children":717},{"style":582},[718],{"type":434,"value":555},{"type":428,"tag":527,"props":720,"children":721},{"style":588},[722],{"type":434,"value":591},{"type":428,"tag":527,"props":724,"children":725},{"style":582},[726],{"type":434,"value":727}," value",{"type":428,"tag":527,"props":729,"children":730},{"style":546},[731],{"type":434,"value":619},{"type":428,"tag":527,"props":733,"children":735},{"class":529,"line":734},9,[736],{"type":428,"tag":527,"props":737,"children":739},{"style":738},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[740],{"type":434,"value":741},"    // 初始化依赖容器\n",{"type":428,"tag":527,"props":743,"children":745},{"class":529,"line":744},10,[746,750,754,759,763,767,772,777],{"type":428,"tag":527,"props":747,"children":748},{"style":706},[749],{"type":434,"value":709},{"type":428,"tag":527,"props":751,"children":752},{"style":546},[753],{"type":434,"value":714},{"type":428,"tag":527,"props":755,"children":756},{"style":582},[757],{"type":434,"value":758},"dep",{"type":428,"tag":527,"props":760,"children":761},{"style":588},[762],{"type":434,"value":591},{"type":428,"tag":527,"props":764,"children":765},{"style":588},[766],{"type":434,"value":596},{"type":428,"tag":527,"props":768,"children":769},{"style":540},[770],{"type":434,"value":771}," Dep",{"type":428,"tag":527,"props":773,"children":774},{"style":604},[775],{"type":434,"value":776},"()",{"type":428,"tag":527,"props":778,"children":779},{"style":546},[780],{"type":434,"value":619},{"type":428,"tag":527,"props":782,"children":784},{"class":529,"line":783},11,[785,789,793,798,802,808],{"type":428,"tag":527,"props":786,"children":787},{"style":706},[788],{"type":434,"value":709},{"type":428,"tag":527,"props":790,"children":791},{"style":546},[792],{"type":434,"value":714},{"type":428,"tag":527,"props":794,"children":795},{"style":582},[796],{"type":434,"value":797},"vmCount",{"type":428,"tag":527,"props":799,"children":800},{"style":588},[801],{"type":434,"value":591},{"type":428,"tag":527,"props":803,"children":805},{"style":804},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[806],{"type":434,"value":807}," 0",{"type":428,"tag":527,"props":809,"children":810},{"style":546},[811],{"type":434,"value":619},{"type":428,"tag":527,"props":813,"children":815},{"class":529,"line":814},12,[816],{"type":428,"tag":527,"props":817,"children":818},{"style":738},[819],{"type":434,"value":820},"    // 将侦测实例实例挂载到对象上方便访问\n",{"type":428,"tag":527,"props":822,"children":824},{"class":529,"line":823},13,[825,830,834,838,842,848,854,859,863,868,872],{"type":428,"tag":527,"props":826,"children":827},{"style":540},[828],{"type":434,"value":829},"    def",{"type":428,"tag":527,"props":831,"children":832},{"style":604},[833],{"type":434,"value":549},{"type":428,"tag":527,"props":835,"children":836},{"style":582},[837],{"type":434,"value":555},{"type":428,"tag":527,"props":839,"children":840},{"style":546},[841],{"type":434,"value":560},{"type":428,"tag":527,"props":843,"children":845},{"style":844},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[846],{"type":434,"value":847}," \"",{"type":428,"tag":527,"props":849,"children":851},{"style":850},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[852],{"type":434,"value":853},"__ob__",{"type":428,"tag":527,"props":855,"children":856},{"style":844},[857],{"type":434,"value":858},"\"",{"type":428,"tag":527,"props":860,"children":861},{"style":546},[862],{"type":434,"value":560},{"type":428,"tag":527,"props":864,"children":865},{"style":706},[866],{"type":434,"value":867}," this",{"type":428,"tag":527,"props":869,"children":870},{"style":604},[871],{"type":434,"value":570},{"type":428,"tag":527,"props":873,"children":874},{"style":546},[875],{"type":434,"value":619},{"type":428,"tag":527,"props":877,"children":879},{"class":529,"line":878},14,[880],{"type":428,"tag":527,"props":881,"children":882},{"style":738},[883],{"type":434,"value":884},"    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n",{"type":428,"tag":527,"props":886,"children":888},{"class":529,"line":887},15,[889],{"type":428,"tag":527,"props":890,"children":891},{"style":738},[892],{"type":434,"value":893},"    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n",{"type":428,"tag":527,"props":895,"children":897},{"class":529,"line":896},16,[898,903,908,913,917,922,926,930,935],{"type":428,"tag":527,"props":899,"children":900},{"style":626},[901],{"type":434,"value":902},"    if",{"type":428,"tag":527,"props":904,"children":905},{"style":604},[906],{"type":434,"value":907}," (",{"type":428,"tag":527,"props":909,"children":910},{"style":582},[911],{"type":434,"value":912},"Array",{"type":428,"tag":527,"props":914,"children":915},{"style":546},[916],{"type":434,"value":714},{"type":428,"tag":527,"props":918,"children":919},{"style":540},[920],{"type":434,"value":921},"isArray",{"type":428,"tag":527,"props":923,"children":924},{"style":604},[925],{"type":434,"value":549},{"type":428,"tag":527,"props":927,"children":928},{"style":582},[929],{"type":434,"value":555},{"type":428,"tag":527,"props":931,"children":932},{"style":604},[933],{"type":434,"value":934},")) ",{"type":428,"tag":527,"props":936,"children":937},{"style":546},[938],{"type":434,"value":939},"{\n",{"type":428,"tag":527,"props":941,"children":943},{"class":529,"line":942},17,[944,949,953,958,963],{"type":428,"tag":527,"props":945,"children":946},{"style":626},[947],{"type":434,"value":948},"      if",{"type":428,"tag":527,"props":950,"children":951},{"style":604},[952],{"type":434,"value":907},{"type":428,"tag":527,"props":954,"children":955},{"style":582},[956],{"type":434,"value":957},"hasProto",{"type":428,"tag":527,"props":959,"children":960},{"style":604},[961],{"type":434,"value":962},") ",{"type":428,"tag":527,"props":964,"children":965},{"style":546},[966],{"type":434,"value":939},{"type":428,"tag":527,"props":968,"children":970},{"class":529,"line":969},18,[971,976,980,984,988,993,997],{"type":428,"tag":527,"props":972,"children":973},{"style":540},[974],{"type":434,"value":975},"        protoAugment",{"type":428,"tag":527,"props":977,"children":978},{"style":604},[979],{"type":434,"value":549},{"type":428,"tag":527,"props":981,"children":982},{"style":582},[983],{"type":434,"value":555},{"type":428,"tag":527,"props":985,"children":986},{"style":546},[987],{"type":434,"value":560},{"type":428,"tag":527,"props":989,"children":990},{"style":582},[991],{"type":434,"value":992}," arrayMethods",{"type":428,"tag":527,"props":994,"children":995},{"style":604},[996],{"type":434,"value":570},{"type":428,"tag":527,"props":998,"children":999},{"style":546},[1000],{"type":434,"value":619},{"type":428,"tag":527,"props":1002,"children":1004},{"class":529,"line":1003},19,[1005,1010,1015],{"type":428,"tag":527,"props":1006,"children":1007},{"style":546},[1008],{"type":434,"value":1009},"      }",{"type":428,"tag":527,"props":1011,"children":1012},{"style":626},[1013],{"type":434,"value":1014}," else",{"type":428,"tag":527,"props":1016,"children":1017},{"style":546},[1018],{"type":434,"value":575},{"type":428,"tag":527,"props":1020,"children":1022},{"class":529,"line":1021},20,[1023,1028,1032,1036,1040,1044,1048,1053,1057],{"type":428,"tag":527,"props":1024,"children":1025},{"style":540},[1026],{"type":434,"value":1027},"        copyAugment",{"type":428,"tag":527,"props":1029,"children":1030},{"style":604},[1031],{"type":434,"value":549},{"type":428,"tag":527,"props":1033,"children":1034},{"style":582},[1035],{"type":434,"value":555},{"type":428,"tag":527,"props":1037,"children":1038},{"style":546},[1039],{"type":434,"value":560},{"type":428,"tag":527,"props":1041,"children":1042},{"style":582},[1043],{"type":434,"value":992},{"type":428,"tag":527,"props":1045,"children":1046},{"style":546},[1047],{"type":434,"value":560},{"type":428,"tag":527,"props":1049,"children":1050},{"style":582},[1051],{"type":434,"value":1052}," arrayKeys",{"type":428,"tag":527,"props":1054,"children":1055},{"style":604},[1056],{"type":434,"value":570},{"type":428,"tag":527,"props":1058,"children":1059},{"style":546},[1060],{"type":434,"value":619},{"type":428,"tag":527,"props":1062,"children":1064},{"class":529,"line":1063},21,[1065],{"type":428,"tag":527,"props":1066,"children":1067},{"style":546},[1068],{"type":434,"value":1069},"      }\n",{"type":428,"tag":527,"props":1071,"children":1073},{"class":529,"line":1072},22,[1074,1079,1083,1088,1092,1096,1100],{"type":428,"tag":527,"props":1075,"children":1076},{"style":706},[1077],{"type":434,"value":1078},"      this",{"type":428,"tag":527,"props":1080,"children":1081},{"style":546},[1082],{"type":434,"value":714},{"type":428,"tag":527,"props":1084,"children":1085},{"style":540},[1086],{"type":434,"value":1087},"observeArray",{"type":428,"tag":527,"props":1089,"children":1090},{"style":604},[1091],{"type":434,"value":549},{"type":428,"tag":527,"props":1093,"children":1094},{"style":582},[1095],{"type":434,"value":555},{"type":428,"tag":527,"props":1097,"children":1098},{"style":604},[1099],{"type":434,"value":570},{"type":428,"tag":527,"props":1101,"children":1102},{"style":546},[1103],{"type":434,"value":619},{"type":428,"tag":527,"props":1105,"children":1107},{"class":529,"line":1106},23,[1108,1113,1117],{"type":428,"tag":527,"props":1109,"children":1110},{"style":546},[1111],{"type":434,"value":1112},"    }",{"type":428,"tag":527,"props":1114,"children":1115},{"style":626},[1116],{"type":434,"value":1014},{"type":428,"tag":527,"props":1118,"children":1119},{"style":546},[1120],{"type":434,"value":575},{"type":428,"tag":527,"props":1122,"children":1124},{"class":529,"line":1123},24,[1125,1129,1133,1138,1142,1146,1150],{"type":428,"tag":527,"props":1126,"children":1127},{"style":706},[1128],{"type":434,"value":1078},{"type":428,"tag":527,"props":1130,"children":1131},{"style":546},[1132],{"type":434,"value":714},{"type":428,"tag":527,"props":1134,"children":1135},{"style":540},[1136],{"type":434,"value":1137},"walk",{"type":428,"tag":527,"props":1139,"children":1140},{"style":604},[1141],{"type":434,"value":549},{"type":428,"tag":527,"props":1143,"children":1144},{"style":582},[1145],{"type":434,"value":555},{"type":428,"tag":527,"props":1147,"children":1148},{"style":604},[1149],{"type":434,"value":570},{"type":428,"tag":527,"props":1151,"children":1152},{"style":546},[1153],{"type":434,"value":619},{"type":428,"tag":527,"props":1155,"children":1157},{"class":529,"line":1156},25,[1158],{"type":428,"tag":527,"props":1159,"children":1160},{"style":546},[1161],{"type":434,"value":1162},"    }\n",{"type":428,"tag":527,"props":1164,"children":1166},{"class":529,"line":1165},26,[1167],{"type":428,"tag":527,"props":1168,"children":1169},{"style":546},[1170],{"type":434,"value":1171},"  }\n",{"type":428,"tag":527,"props":1173,"children":1175},{"class":529,"line":1174},27,[1176],{"type":428,"tag":527,"props":1177,"children":1178},{"emptyLinePlaceholder":420},[1179],{"type":434,"value":656},{"type":428,"tag":527,"props":1181,"children":1183},{"class":529,"line":1182},28,[1184,1190,1194,1199,1203],{"type":428,"tag":527,"props":1185,"children":1187},{"style":1186},"--shiki-light:#E53935;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1188],{"type":434,"value":1189},"  walk",{"type":428,"tag":527,"props":1191,"children":1192},{"style":546},[1193],{"type":434,"value":549},{"type":428,"tag":527,"props":1195,"children":1196},{"style":552},[1197],{"type":434,"value":1198},"obj",{"type":428,"tag":527,"props":1200,"children":1201},{"style":546},[1202],{"type":434,"value":570},{"type":428,"tag":527,"props":1204,"children":1205},{"style":546},[1206],{"type":434,"value":575},{"type":428,"tag":527,"props":1208,"children":1210},{"class":529,"line":1209},29,[1211,1216,1222,1226,1231,1235,1240,1244,1248,1252],{"type":428,"tag":527,"props":1212,"children":1213},{"style":534},[1214],{"type":434,"value":1215},"    const",{"type":428,"tag":527,"props":1217,"children":1219},{"style":1218},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1220],{"type":434,"value":1221}," keys",{"type":428,"tag":527,"props":1223,"children":1224},{"style":588},[1225],{"type":434,"value":591},{"type":428,"tag":527,"props":1227,"children":1228},{"style":582},[1229],{"type":434,"value":1230}," Object",{"type":428,"tag":527,"props":1232,"children":1233},{"style":546},[1234],{"type":434,"value":714},{"type":428,"tag":527,"props":1236,"children":1237},{"style":540},[1238],{"type":434,"value":1239},"keys",{"type":428,"tag":527,"props":1241,"children":1242},{"style":604},[1243],{"type":434,"value":549},{"type":428,"tag":527,"props":1245,"children":1246},{"style":582},[1247],{"type":434,"value":1198},{"type":428,"tag":527,"props":1249,"children":1250},{"style":604},[1251],{"type":434,"value":570},{"type":428,"tag":527,"props":1253,"children":1254},{"style":546},[1255],{"type":434,"value":619},{"type":428,"tag":527,"props":1257,"children":1259},{"class":529,"line":1258},30,[1260,1265,1269,1274,1279,1283,1287,1292,1296,1301,1305,1309,1314,1318,1322,1327,1331],{"type":428,"tag":527,"props":1261,"children":1262},{"style":626},[1263],{"type":434,"value":1264},"    for",{"type":428,"tag":527,"props":1266,"children":1267},{"style":604},[1268],{"type":434,"value":907},{"type":428,"tag":527,"props":1270,"children":1271},{"style":534},[1272],{"type":434,"value":1273},"let",{"type":428,"tag":527,"props":1275,"children":1276},{"style":582},[1277],{"type":434,"value":1278}," i",{"type":428,"tag":527,"props":1280,"children":1281},{"style":588},[1282],{"type":434,"value":591},{"type":428,"tag":527,"props":1284,"children":1285},{"style":804},[1286],{"type":434,"value":807},{"type":428,"tag":527,"props":1288,"children":1289},{"style":546},[1290],{"type":434,"value":1291},";",{"type":428,"tag":527,"props":1293,"children":1294},{"style":582},[1295],{"type":434,"value":1278},{"type":428,"tag":527,"props":1297,"children":1298},{"style":588},[1299],{"type":434,"value":1300}," \u003C",{"type":428,"tag":527,"props":1302,"children":1303},{"style":582},[1304],{"type":434,"value":1221},{"type":428,"tag":527,"props":1306,"children":1307},{"style":546},[1308],{"type":434,"value":714},{"type":428,"tag":527,"props":1310,"children":1311},{"style":1218},[1312],{"type":434,"value":1313},"length",{"type":428,"tag":527,"props":1315,"children":1316},{"style":546},[1317],{"type":434,"value":1291},{"type":428,"tag":527,"props":1319,"children":1320},{"style":582},[1321],{"type":434,"value":1278},{"type":428,"tag":527,"props":1323,"children":1324},{"style":588},[1325],{"type":434,"value":1326},"++",{"type":428,"tag":527,"props":1328,"children":1329},{"style":604},[1330],{"type":434,"value":962},{"type":428,"tag":527,"props":1332,"children":1333},{"style":546},[1334],{"type":434,"value":939},{"type":428,"tag":527,"props":1336,"children":1338},{"class":529,"line":1337},31,[1339,1344,1348,1352,1356,1360,1365,1370,1375],{"type":428,"tag":527,"props":1340,"children":1341},{"style":540},[1342],{"type":434,"value":1343},"      defineReactive",{"type":428,"tag":527,"props":1345,"children":1346},{"style":604},[1347],{"type":434,"value":549},{"type":428,"tag":527,"props":1349,"children":1350},{"style":582},[1351],{"type":434,"value":1198},{"type":428,"tag":527,"props":1353,"children":1354},{"style":546},[1355],{"type":434,"value":560},{"type":428,"tag":527,"props":1357,"children":1358},{"style":582},[1359],{"type":434,"value":1221},{"type":428,"tag":527,"props":1361,"children":1362},{"style":604},[1363],{"type":434,"value":1364},"[",{"type":428,"tag":527,"props":1366,"children":1367},{"style":582},[1368],{"type":434,"value":1369},"i",{"type":428,"tag":527,"props":1371,"children":1372},{"style":604},[1373],{"type":434,"value":1374},"])",{"type":428,"tag":527,"props":1376,"children":1377},{"style":546},[1378],{"type":434,"value":619},{"type":428,"tag":527,"props":1380,"children":1382},{"class":529,"line":1381},32,[1383],{"type":428,"tag":527,"props":1384,"children":1385},{"style":546},[1386],{"type":434,"value":1162},{"type":428,"tag":527,"props":1388,"children":1390},{"class":529,"line":1389},33,[1391],{"type":428,"tag":527,"props":1392,"children":1393},{"style":546},[1394],{"type":434,"value":1171},{"type":428,"tag":527,"props":1396,"children":1398},{"class":529,"line":1397},34,[1399],{"type":428,"tag":527,"props":1400,"children":1401},{"emptyLinePlaceholder":420},[1402],{"type":434,"value":656},{"type":428,"tag":527,"props":1404,"children":1406},{"class":529,"line":1405},35,[1407,1412,1416,1421,1425],{"type":428,"tag":527,"props":1408,"children":1409},{"style":1186},[1410],{"type":434,"value":1411},"  observeArray",{"type":428,"tag":527,"props":1413,"children":1414},{"style":546},[1415],{"type":434,"value":549},{"type":428,"tag":527,"props":1417,"children":1418},{"style":552},[1419],{"type":434,"value":1420},"items",{"type":428,"tag":527,"props":1422,"children":1423},{"style":546},[1424],{"type":434,"value":570},{"type":428,"tag":527,"props":1426,"children":1427},{"style":546},[1428],{"type":434,"value":575},{"type":428,"tag":527,"props":1430,"children":1432},{"class":529,"line":1431},36,[1433,1437,1441,1445,1449,1453,1457,1461,1466,1470,1475,1479,1483,1487,1491,1495,1499,1503,1507,1511,1515],{"type":428,"tag":527,"props":1434,"children":1435},{"style":626},[1436],{"type":434,"value":1264},{"type":428,"tag":527,"props":1438,"children":1439},{"style":604},[1440],{"type":434,"value":907},{"type":428,"tag":527,"props":1442,"children":1443},{"style":534},[1444],{"type":434,"value":1273},{"type":428,"tag":527,"props":1446,"children":1447},{"style":582},[1448],{"type":434,"value":1278},{"type":428,"tag":527,"props":1450,"children":1451},{"style":588},[1452],{"type":434,"value":591},{"type":428,"tag":527,"props":1454,"children":1455},{"style":804},[1456],{"type":434,"value":807},{"type":428,"tag":527,"props":1458,"children":1459},{"style":546},[1460],{"type":434,"value":560},{"type":428,"tag":527,"props":1462,"children":1463},{"style":582},[1464],{"type":434,"value":1465}," l",{"type":428,"tag":527,"props":1467,"children":1468},{"style":588},[1469],{"type":434,"value":591},{"type":428,"tag":527,"props":1471,"children":1472},{"style":582},[1473],{"type":434,"value":1474}," items",{"type":428,"tag":527,"props":1476,"children":1477},{"style":546},[1478],{"type":434,"value":714},{"type":428,"tag":527,"props":1480,"children":1481},{"style":1218},[1482],{"type":434,"value":1313},{"type":428,"tag":527,"props":1484,"children":1485},{"style":546},[1486],{"type":434,"value":1291},{"type":428,"tag":527,"props":1488,"children":1489},{"style":582},[1490],{"type":434,"value":1278},{"type":428,"tag":527,"props":1492,"children":1493},{"style":588},[1494],{"type":434,"value":1300},{"type":428,"tag":527,"props":1496,"children":1497},{"style":582},[1498],{"type":434,"value":1465},{"type":428,"tag":527,"props":1500,"children":1501},{"style":546},[1502],{"type":434,"value":1291},{"type":428,"tag":527,"props":1504,"children":1505},{"style":582},[1506],{"type":434,"value":1278},{"type":428,"tag":527,"props":1508,"children":1509},{"style":588},[1510],{"type":434,"value":1326},{"type":428,"tag":527,"props":1512,"children":1513},{"style":604},[1514],{"type":434,"value":962},{"type":428,"tag":527,"props":1516,"children":1517},{"style":546},[1518],{"type":434,"value":939},{"type":428,"tag":527,"props":1520,"children":1522},{"class":529,"line":1521},37,[1523,1528,1532,1536,1540,1544,1548],{"type":428,"tag":527,"props":1524,"children":1525},{"style":540},[1526],{"type":434,"value":1527},"      observe",{"type":428,"tag":527,"props":1529,"children":1530},{"style":604},[1531],{"type":434,"value":549},{"type":428,"tag":527,"props":1533,"children":1534},{"style":582},[1535],{"type":434,"value":1420},{"type":428,"tag":527,"props":1537,"children":1538},{"style":604},[1539],{"type":434,"value":1364},{"type":428,"tag":527,"props":1541,"children":1542},{"style":582},[1543],{"type":434,"value":1369},{"type":428,"tag":527,"props":1545,"children":1546},{"style":604},[1547],{"type":434,"value":1374},{"type":428,"tag":527,"props":1549,"children":1550},{"style":546},[1551],{"type":434,"value":619},{"type":428,"tag":527,"props":1553,"children":1555},{"class":529,"line":1554},38,[1556],{"type":428,"tag":527,"props":1557,"children":1558},{"style":546},[1559],{"type":434,"value":1162},{"type":428,"tag":527,"props":1561,"children":1563},{"class":529,"line":1562},39,[1564],{"type":428,"tag":527,"props":1565,"children":1566},{"style":546},[1567],{"type":434,"value":1171},{"type":428,"tag":527,"props":1569,"children":1571},{"class":529,"line":1570},40,[1572],{"type":428,"tag":527,"props":1573,"children":1574},{"style":546},[1575],{"type":434,"value":647},{"type":428,"tag":502,"props":1577,"children":1579},{"id":1578},"监测数组变化",[1580],{"type":434,"value":1578},{"type":428,"tag":461,"props":1582,"children":1583},{},[1584],{"type":434,"value":1585},"因为数组没有 setter/getter，所以使用数组时，没有办法做响应式更新。Vue 以猴子补丁的形式增强了数组元素的原型方法，使得这些方法被调用时，自动更新依赖。",{"type":428,"tag":467,"props":1587,"children":1589},{"code":1588,"language":520,"meta":421,"className":521,"style":421},"// 需要增强的方法\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n    const result = original.apply(this, args);\n    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n    const ob = this.__ob__;\n    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // 通知依赖更新\n    ob.dep.notify();\n    return result;\n  });\n});\n",[1590],{"type":428,"tag":472,"props":1591,"children":1592},{"__ignoreMap":421},[1593,1601,1623,1645,1665,1685,1705,1725,1745,1765,1777,1784,1826,1834,1872,1934,1942,1997,2005,2036,2044,2061,2085,2110,2133,2153,2165,2188,2229,2240,2247,2296,2304,2337,2353,2369],{"type":428,"tag":527,"props":1594,"children":1595},{"class":529,"line":530},[1596],{"type":428,"tag":527,"props":1597,"children":1598},{"style":738},[1599],{"type":434,"value":1600},"// 需要增强的方法\n",{"type":428,"tag":527,"props":1602,"children":1603},{"class":529,"line":578},[1604,1609,1614,1618],{"type":428,"tag":527,"props":1605,"children":1606},{"style":534},[1607],{"type":434,"value":1608},"const",{"type":428,"tag":527,"props":1610,"children":1611},{"style":1218},[1612],{"type":434,"value":1613}," methodsToPatch",{"type":428,"tag":527,"props":1615,"children":1616},{"style":588},[1617],{"type":434,"value":591},{"type":428,"tag":527,"props":1619,"children":1620},{"style":582},[1621],{"type":434,"value":1622}," [\n",{"type":428,"tag":527,"props":1624,"children":1625},{"class":529,"line":622},[1626,1631,1636,1640],{"type":428,"tag":527,"props":1627,"children":1628},{"style":844},[1629],{"type":434,"value":1630},"  \"",{"type":428,"tag":527,"props":1632,"children":1633},{"style":850},[1634],{"type":434,"value":1635},"push",{"type":428,"tag":527,"props":1637,"children":1638},{"style":844},[1639],{"type":434,"value":858},{"type":428,"tag":527,"props":1641,"children":1642},{"style":546},[1643],{"type":434,"value":1644},",\n",{"type":428,"tag":527,"props":1646,"children":1647},{"class":529,"line":641},[1648,1652,1657,1661],{"type":428,"tag":527,"props":1649,"children":1650},{"style":844},[1651],{"type":434,"value":1630},{"type":428,"tag":527,"props":1653,"children":1654},{"style":850},[1655],{"type":434,"value":1656},"pop",{"type":428,"tag":527,"props":1658,"children":1659},{"style":844},[1660],{"type":434,"value":858},{"type":428,"tag":527,"props":1662,"children":1663},{"style":546},[1664],{"type":434,"value":1644},{"type":428,"tag":527,"props":1666,"children":1667},{"class":529,"line":650},[1668,1672,1677,1681],{"type":428,"tag":527,"props":1669,"children":1670},{"style":844},[1671],{"type":434,"value":1630},{"type":428,"tag":527,"props":1673,"children":1674},{"style":850},[1675],{"type":434,"value":1676},"shift",{"type":428,"tag":527,"props":1678,"children":1679},{"style":844},[1680],{"type":434,"value":858},{"type":428,"tag":527,"props":1682,"children":1683},{"style":546},[1684],{"type":434,"value":1644},{"type":428,"tag":527,"props":1686,"children":1687},{"class":529,"line":659},[1688,1692,1697,1701],{"type":428,"tag":527,"props":1689,"children":1690},{"style":844},[1691],{"type":434,"value":1630},{"type":428,"tag":527,"props":1693,"children":1694},{"style":850},[1695],{"type":434,"value":1696},"unshift",{"type":428,"tag":527,"props":1698,"children":1699},{"style":844},[1700],{"type":434,"value":858},{"type":428,"tag":527,"props":1702,"children":1703},{"style":546},[1704],{"type":434,"value":1644},{"type":428,"tag":527,"props":1706,"children":1707},{"class":529,"line":677},[1708,1712,1717,1721],{"type":428,"tag":527,"props":1709,"children":1710},{"style":844},[1711],{"type":434,"value":1630},{"type":428,"tag":527,"props":1713,"children":1714},{"style":850},[1715],{"type":434,"value":1716},"splice",{"type":428,"tag":527,"props":1718,"children":1719},{"style":844},[1720],{"type":434,"value":858},{"type":428,"tag":527,"props":1722,"children":1723},{"style":546},[1724],{"type":434,"value":1644},{"type":428,"tag":527,"props":1726,"children":1727},{"class":529,"line":702},[1728,1732,1737,1741],{"type":428,"tag":527,"props":1729,"children":1730},{"style":844},[1731],{"type":434,"value":1630},{"type":428,"tag":527,"props":1733,"children":1734},{"style":850},[1735],{"type":434,"value":1736},"sort",{"type":428,"tag":527,"props":1738,"children":1739},{"style":844},[1740],{"type":434,"value":858},{"type":428,"tag":527,"props":1742,"children":1743},{"style":546},[1744],{"type":434,"value":1644},{"type":428,"tag":527,"props":1746,"children":1747},{"class":529,"line":734},[1748,1752,1757,1761],{"type":428,"tag":527,"props":1749,"children":1750},{"style":844},[1751],{"type":434,"value":1630},{"type":428,"tag":527,"props":1753,"children":1754},{"style":850},[1755],{"type":434,"value":1756},"reverse",{"type":428,"tag":527,"props":1758,"children":1759},{"style":844},[1760],{"type":434,"value":858},{"type":428,"tag":527,"props":1762,"children":1763},{"style":546},[1764],{"type":434,"value":1644},{"type":428,"tag":527,"props":1766,"children":1767},{"class":529,"line":744},[1768,1773],{"type":428,"tag":527,"props":1769,"children":1770},{"style":582},[1771],{"type":434,"value":1772},"]",{"type":428,"tag":527,"props":1774,"children":1775},{"style":546},[1776],{"type":434,"value":619},{"type":428,"tag":527,"props":1778,"children":1779},{"class":529,"line":783},[1780],{"type":428,"tag":527,"props":1781,"children":1782},{"emptyLinePlaceholder":420},[1783],{"type":434,"value":656},{"type":428,"tag":527,"props":1785,"children":1786},{"class":529,"line":814},[1787,1792,1796,1801,1805,1809,1813,1818,1822],{"type":428,"tag":527,"props":1788,"children":1789},{"style":582},[1790],{"type":434,"value":1791},"methodsToPatch",{"type":428,"tag":527,"props":1793,"children":1794},{"style":546},[1795],{"type":434,"value":714},{"type":428,"tag":527,"props":1797,"children":1798},{"style":540},[1799],{"type":434,"value":1800},"forEach",{"type":428,"tag":527,"props":1802,"children":1803},{"style":582},[1804],{"type":434,"value":549},{"type":428,"tag":527,"props":1806,"children":1807},{"style":534},[1808],{"type":434,"value":537},{"type":428,"tag":527,"props":1810,"children":1811},{"style":546},[1812],{"type":434,"value":907},{"type":428,"tag":527,"props":1814,"children":1815},{"style":552},[1816],{"type":434,"value":1817},"method",{"type":428,"tag":527,"props":1819,"children":1820},{"style":546},[1821],{"type":434,"value":570},{"type":428,"tag":527,"props":1823,"children":1824},{"style":546},[1825],{"type":434,"value":575},{"type":428,"tag":527,"props":1827,"children":1828},{"class":529,"line":823},[1829],{"type":428,"tag":527,"props":1830,"children":1831},{"style":738},[1832],{"type":434,"value":1833},"  // cache original method\n",{"type":428,"tag":527,"props":1835,"children":1836},{"class":529,"line":878},[1837,1842,1847,1851,1856,1860,1864,1868],{"type":428,"tag":527,"props":1838,"children":1839},{"style":534},[1840],{"type":434,"value":1841},"  const",{"type":428,"tag":527,"props":1843,"children":1844},{"style":1218},[1845],{"type":434,"value":1846}," original",{"type":428,"tag":527,"props":1848,"children":1849},{"style":588},[1850],{"type":434,"value":591},{"type":428,"tag":527,"props":1852,"children":1853},{"style":582},[1854],{"type":434,"value":1855}," arrayProto",{"type":428,"tag":527,"props":1857,"children":1858},{"style":604},[1859],{"type":434,"value":1364},{"type":428,"tag":527,"props":1861,"children":1862},{"style":582},[1863],{"type":434,"value":1817},{"type":428,"tag":527,"props":1865,"children":1866},{"style":604},[1867],{"type":434,"value":1772},{"type":428,"tag":527,"props":1869,"children":1870},{"style":546},[1871],{"type":434,"value":619},{"type":428,"tag":527,"props":1873,"children":1874},{"class":529,"line":887},[1875,1880,1884,1889,1893,1898,1902,1907,1912,1916,1921,1926,1930],{"type":428,"tag":527,"props":1876,"children":1877},{"style":540},[1878],{"type":434,"value":1879},"  def",{"type":428,"tag":527,"props":1881,"children":1882},{"style":604},[1883],{"type":434,"value":549},{"type":428,"tag":527,"props":1885,"children":1886},{"style":582},[1887],{"type":434,"value":1888},"arrayMethods",{"type":428,"tag":527,"props":1890,"children":1891},{"style":546},[1892],{"type":434,"value":560},{"type":428,"tag":527,"props":1894,"children":1895},{"style":582},[1896],{"type":434,"value":1897}," method",{"type":428,"tag":527,"props":1899,"children":1900},{"style":546},[1901],{"type":434,"value":560},{"type":428,"tag":527,"props":1903,"children":1904},{"style":534},[1905],{"type":434,"value":1906}," function",{"type":428,"tag":527,"props":1908,"children":1909},{"style":540},[1910],{"type":434,"value":1911}," mutator",{"type":428,"tag":527,"props":1913,"children":1914},{"style":546},[1915],{"type":434,"value":549},{"type":428,"tag":527,"props":1917,"children":1918},{"style":588},[1919],{"type":434,"value":1920},"...",{"type":428,"tag":527,"props":1922,"children":1923},{"style":552},[1924],{"type":434,"value":1925},"args",{"type":428,"tag":527,"props":1927,"children":1928},{"style":546},[1929],{"type":434,"value":570},{"type":428,"tag":527,"props":1931,"children":1932},{"style":546},[1933],{"type":434,"value":575},{"type":428,"tag":527,"props":1935,"children":1936},{"class":529,"line":896},[1937],{"type":428,"tag":527,"props":1938,"children":1939},{"style":738},[1940],{"type":434,"value":1941},"    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n",{"type":428,"tag":527,"props":1943,"children":1944},{"class":529,"line":942},[1945,1949,1954,1958,1962,1966,1971,1975,1980,1984,1989,1993],{"type":428,"tag":527,"props":1946,"children":1947},{"style":534},[1948],{"type":434,"value":1215},{"type":428,"tag":527,"props":1950,"children":1951},{"style":1218},[1952],{"type":434,"value":1953}," result",{"type":428,"tag":527,"props":1955,"children":1956},{"style":588},[1957],{"type":434,"value":591},{"type":428,"tag":527,"props":1959,"children":1960},{"style":582},[1961],{"type":434,"value":1846},{"type":428,"tag":527,"props":1963,"children":1964},{"style":546},[1965],{"type":434,"value":714},{"type":428,"tag":527,"props":1967,"children":1968},{"style":540},[1969],{"type":434,"value":1970},"apply",{"type":428,"tag":527,"props":1972,"children":1973},{"style":604},[1974],{"type":434,"value":549},{"type":428,"tag":527,"props":1976,"children":1977},{"style":706},[1978],{"type":434,"value":1979},"this",{"type":428,"tag":527,"props":1981,"children":1982},{"style":546},[1983],{"type":434,"value":560},{"type":428,"tag":527,"props":1985,"children":1986},{"style":582},[1987],{"type":434,"value":1988}," args",{"type":428,"tag":527,"props":1990,"children":1991},{"style":604},[1992],{"type":434,"value":570},{"type":428,"tag":527,"props":1994,"children":1995},{"style":546},[1996],{"type":434,"value":619},{"type":428,"tag":527,"props":1998,"children":1999},{"class":529,"line":969},[2000],{"type":428,"tag":527,"props":2001,"children":2002},{"style":738},[2003],{"type":434,"value":2004},"    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n",{"type":428,"tag":527,"props":2006,"children":2007},{"class":529,"line":1003},[2008,2012,2016,2020,2024,2028,2032],{"type":428,"tag":527,"props":2009,"children":2010},{"style":534},[2011],{"type":434,"value":1215},{"type":428,"tag":527,"props":2013,"children":2014},{"style":1218},[2015],{"type":434,"value":634},{"type":428,"tag":527,"props":2017,"children":2018},{"style":588},[2019],{"type":434,"value":591},{"type":428,"tag":527,"props":2021,"children":2022},{"style":706},[2023],{"type":434,"value":867},{"type":428,"tag":527,"props":2025,"children":2026},{"style":546},[2027],{"type":434,"value":714},{"type":428,"tag":527,"props":2029,"children":2030},{"style":582},[2031],{"type":434,"value":853},{"type":428,"tag":527,"props":2033,"children":2034},{"style":546},[2035],{"type":434,"value":619},{"type":428,"tag":527,"props":2037,"children":2038},{"class":529,"line":1021},[2039],{"type":428,"tag":527,"props":2040,"children":2041},{"style":738},[2042],{"type":434,"value":2043},"    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n",{"type":428,"tag":527,"props":2045,"children":2046},{"class":529,"line":1063},[2047,2052,2057],{"type":428,"tag":527,"props":2048,"children":2049},{"style":534},[2050],{"type":434,"value":2051},"    let",{"type":428,"tag":527,"props":2053,"children":2054},{"style":582},[2055],{"type":434,"value":2056}," inserted",{"type":428,"tag":527,"props":2058,"children":2059},{"style":546},[2060],{"type":434,"value":619},{"type":428,"tag":527,"props":2062,"children":2063},{"class":529,"line":1072},[2064,2069,2073,2077,2081],{"type":428,"tag":527,"props":2065,"children":2066},{"style":626},[2067],{"type":434,"value":2068},"    switch",{"type":428,"tag":527,"props":2070,"children":2071},{"style":604},[2072],{"type":434,"value":907},{"type":428,"tag":527,"props":2074,"children":2075},{"style":582},[2076],{"type":434,"value":1817},{"type":428,"tag":527,"props":2078,"children":2079},{"style":604},[2080],{"type":434,"value":962},{"type":428,"tag":527,"props":2082,"children":2083},{"style":546},[2084],{"type":434,"value":939},{"type":428,"tag":527,"props":2086,"children":2087},{"class":529,"line":1106},[2088,2093,2097,2101,2105],{"type":428,"tag":527,"props":2089,"children":2090},{"style":626},[2091],{"type":434,"value":2092},"      case",{"type":428,"tag":527,"props":2094,"children":2095},{"style":844},[2096],{"type":434,"value":847},{"type":428,"tag":527,"props":2098,"children":2099},{"style":850},[2100],{"type":434,"value":1635},{"type":428,"tag":527,"props":2102,"children":2103},{"style":844},[2104],{"type":434,"value":858},{"type":428,"tag":527,"props":2106,"children":2107},{"style":546},[2108],{"type":434,"value":2109},":\n",{"type":428,"tag":527,"props":2111,"children":2112},{"class":529,"line":1123},[2113,2117,2121,2125,2129],{"type":428,"tag":527,"props":2114,"children":2115},{"style":626},[2116],{"type":434,"value":2092},{"type":428,"tag":527,"props":2118,"children":2119},{"style":844},[2120],{"type":434,"value":847},{"type":428,"tag":527,"props":2122,"children":2123},{"style":850},[2124],{"type":434,"value":1696},{"type":428,"tag":527,"props":2126,"children":2127},{"style":844},[2128],{"type":434,"value":858},{"type":428,"tag":527,"props":2130,"children":2131},{"style":546},[2132],{"type":434,"value":2109},{"type":428,"tag":527,"props":2134,"children":2135},{"class":529,"line":1156},[2136,2141,2145,2149],{"type":428,"tag":527,"props":2137,"children":2138},{"style":582},[2139],{"type":434,"value":2140},"        inserted",{"type":428,"tag":527,"props":2142,"children":2143},{"style":588},[2144],{"type":434,"value":591},{"type":428,"tag":527,"props":2146,"children":2147},{"style":582},[2148],{"type":434,"value":1988},{"type":428,"tag":527,"props":2150,"children":2151},{"style":546},[2152],{"type":434,"value":619},{"type":428,"tag":527,"props":2154,"children":2155},{"class":529,"line":1165},[2156,2161],{"type":428,"tag":527,"props":2157,"children":2158},{"style":626},[2159],{"type":434,"value":2160},"        break",{"type":428,"tag":527,"props":2162,"children":2163},{"style":546},[2164],{"type":434,"value":619},{"type":428,"tag":527,"props":2166,"children":2167},{"class":529,"line":1174},[2168,2172,2176,2180,2184],{"type":428,"tag":527,"props":2169,"children":2170},{"style":626},[2171],{"type":434,"value":2092},{"type":428,"tag":527,"props":2173,"children":2174},{"style":844},[2175],{"type":434,"value":847},{"type":428,"tag":527,"props":2177,"children":2178},{"style":850},[2179],{"type":434,"value":1716},{"type":428,"tag":527,"props":2181,"children":2182},{"style":844},[2183],{"type":434,"value":858},{"type":428,"tag":527,"props":2185,"children":2186},{"style":546},[2187],{"type":434,"value":2109},{"type":428,"tag":527,"props":2189,"children":2190},{"class":529,"line":1182},[2191,2195,2199,2203,2207,2212,2216,2221,2225],{"type":428,"tag":527,"props":2192,"children":2193},{"style":582},[2194],{"type":434,"value":2140},{"type":428,"tag":527,"props":2196,"children":2197},{"style":588},[2198],{"type":434,"value":591},{"type":428,"tag":527,"props":2200,"children":2201},{"style":582},[2202],{"type":434,"value":1988},{"type":428,"tag":527,"props":2204,"children":2205},{"style":546},[2206],{"type":434,"value":714},{"type":428,"tag":527,"props":2208,"children":2209},{"style":540},[2210],{"type":434,"value":2211},"slice",{"type":428,"tag":527,"props":2213,"children":2214},{"style":604},[2215],{"type":434,"value":549},{"type":428,"tag":527,"props":2217,"children":2218},{"style":804},[2219],{"type":434,"value":2220},"2",{"type":428,"tag":527,"props":2222,"children":2223},{"style":604},[2224],{"type":434,"value":570},{"type":428,"tag":527,"props":2226,"children":2227},{"style":546},[2228],{"type":434,"value":619},{"type":428,"tag":527,"props":2230,"children":2231},{"class":529,"line":1209},[2232,2236],{"type":428,"tag":527,"props":2233,"children":2234},{"style":626},[2235],{"type":434,"value":2160},{"type":428,"tag":527,"props":2237,"children":2238},{"style":546},[2239],{"type":434,"value":619},{"type":428,"tag":527,"props":2241,"children":2242},{"class":529,"line":1258},[2243],{"type":428,"tag":527,"props":2244,"children":2245},{"style":546},[2246],{"type":434,"value":1162},{"type":428,"tag":527,"props":2248,"children":2249},{"class":529,"line":1337},[2250,2254,2258,2263,2267,2272,2276,2280,2284,2288,2292],{"type":428,"tag":527,"props":2251,"children":2252},{"style":626},[2253],{"type":434,"value":902},{"type":428,"tag":527,"props":2255,"children":2256},{"style":604},[2257],{"type":434,"value":907},{"type":428,"tag":527,"props":2259,"children":2260},{"style":582},[2261],{"type":434,"value":2262},"inserted",{"type":428,"tag":527,"props":2264,"children":2265},{"style":604},[2266],{"type":434,"value":962},{"type":428,"tag":527,"props":2268,"children":2269},{"style":582},[2270],{"type":434,"value":2271},"ob",{"type":428,"tag":527,"props":2273,"children":2274},{"style":546},[2275],{"type":434,"value":714},{"type":428,"tag":527,"props":2277,"children":2278},{"style":540},[2279],{"type":434,"value":1087},{"type":428,"tag":527,"props":2281,"children":2282},{"style":604},[2283],{"type":434,"value":549},{"type":428,"tag":527,"props":2285,"children":2286},{"style":582},[2287],{"type":434,"value":2262},{"type":428,"tag":527,"props":2289,"children":2290},{"style":604},[2291],{"type":434,"value":570},{"type":428,"tag":527,"props":2293,"children":2294},{"style":546},[2295],{"type":434,"value":619},{"type":428,"tag":527,"props":2297,"children":2298},{"class":529,"line":1381},[2299],{"type":428,"tag":527,"props":2300,"children":2301},{"style":738},[2302],{"type":434,"value":2303},"    // 通知依赖更新\n",{"type":428,"tag":527,"props":2305,"children":2306},{"class":529,"line":1389},[2307,2312,2316,2320,2324,2329,2333],{"type":428,"tag":527,"props":2308,"children":2309},{"style":582},[2310],{"type":434,"value":2311},"    ob",{"type":428,"tag":527,"props":2313,"children":2314},{"style":546},[2315],{"type":434,"value":714},{"type":428,"tag":527,"props":2317,"children":2318},{"style":582},[2319],{"type":434,"value":758},{"type":428,"tag":527,"props":2321,"children":2322},{"style":546},[2323],{"type":434,"value":714},{"type":428,"tag":527,"props":2325,"children":2326},{"style":540},[2327],{"type":434,"value":2328},"notify",{"type":428,"tag":527,"props":2330,"children":2331},{"style":604},[2332],{"type":434,"value":776},{"type":428,"tag":527,"props":2334,"children":2335},{"style":546},[2336],{"type":434,"value":619},{"type":428,"tag":527,"props":2338,"children":2339},{"class":529,"line":1397},[2340,2345,2349],{"type":428,"tag":527,"props":2341,"children":2342},{"style":626},[2343],{"type":434,"value":2344},"    return",{"type":428,"tag":527,"props":2346,"children":2347},{"style":582},[2348],{"type":434,"value":1953},{"type":428,"tag":527,"props":2350,"children":2351},{"style":546},[2352],{"type":434,"value":619},{"type":428,"tag":527,"props":2354,"children":2355},{"class":529,"line":1405},[2356,2361,2365],{"type":428,"tag":527,"props":2357,"children":2358},{"style":546},[2359],{"type":434,"value":2360},"  }",{"type":428,"tag":527,"props":2362,"children":2363},{"style":604},[2364],{"type":434,"value":570},{"type":428,"tag":527,"props":2366,"children":2367},{"style":546},[2368],{"type":434,"value":619},{"type":428,"tag":527,"props":2370,"children":2371},{"class":529,"line":1431},[2372,2377,2381],{"type":428,"tag":527,"props":2373,"children":2374},{"style":546},[2375],{"type":434,"value":2376},"}",{"type":428,"tag":527,"props":2378,"children":2379},{"style":582},[2380],{"type":434,"value":570},{"type":428,"tag":527,"props":2382,"children":2383},{"style":546},[2384],{"type":434,"value":619},{"type":428,"tag":502,"props":2386,"children":2388},{"id":2387},"响应式属性",[2389],{"type":434,"value":2387},{"type":428,"tag":461,"props":2391,"children":2392},{},[2393],{"type":434,"value":2394},"设置响应式属性对应源码中的 definedProperty 这个函数，同时，还提供了 set、del 方法，分别用来给一个对象新增、删除属性及响应式属性。",{"type":428,"tag":467,"props":2396,"children":2398},{"code":2397,"language":520,"meta":421,"className":521,"style":421},"function defineReactive(obj, key, val, customSetter, shallow) {\n  // 每个属性都保持了一个依赖容器，\n  // 所有依赖都会存放在这个依赖容器实例中\n  const dep = new Dep();\n\n  // 不给属性描述符不可变的对象设置 setter/getter\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  // 保存属性原有的 setter/getter，不做破坏\n  // cater for pre-defined getter/setters\n  const getter = property && property.get;\n  const setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  // 侦测值的变化\n  let childOb = !shallow && observe(val);\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      const value = getter ? getter.call(obj) : val;\n      // 收集依赖\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      const value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return;\n      }\n      // 非生产环境：自定义 setter 副作用\n      if (process.env.NODE_ENV !== \"production\" && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return;\n      // 使用原有的 setter 更新值或直接更新值\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      // 侦测子对象的变化\n      childOb = !shallow && observe(newVal);\n      // 通知依赖更新\n      dep.notify();\n    },\n  });\n}\n",[2399],{"type":428,"tag":472,"props":2400,"children":2401},{"__ignoreMap":421},[2402,2466,2474,2482,2514,2521,2529,2582,2636,2647,2654,2661,2669,2677,2718,2759,2830,2864,2871,2878,2886,2938,2945,2986,3008,3028,3057,3119,3127,3160,3185,3210,3242,3282,3306,3314,3322,3329,3345,3353,3391,3451,3460,3530,3543,3551,3560,3628,3645,3653,3662,3704,3713,3737,3778,3794,3815,3823,3832,3877,3886,3911,3919,3935],{"type":428,"tag":527,"props":2403,"children":2404},{"class":529,"line":530},[2405,2409,2414,2418,2422,2426,2431,2435,2440,2444,2449,2453,2458,2462],{"type":428,"tag":527,"props":2406,"children":2407},{"style":534},[2408],{"type":434,"value":537},{"type":428,"tag":527,"props":2410,"children":2411},{"style":540},[2412],{"type":434,"value":2413}," defineReactive",{"type":428,"tag":527,"props":2415,"children":2416},{"style":546},[2417],{"type":434,"value":549},{"type":428,"tag":527,"props":2419,"children":2420},{"style":552},[2421],{"type":434,"value":1198},{"type":428,"tag":527,"props":2423,"children":2424},{"style":546},[2425],{"type":434,"value":560},{"type":428,"tag":527,"props":2427,"children":2428},{"style":552},[2429],{"type":434,"value":2430}," key",{"type":428,"tag":527,"props":2432,"children":2433},{"style":546},[2434],{"type":434,"value":560},{"type":428,"tag":527,"props":2436,"children":2437},{"style":552},[2438],{"type":434,"value":2439}," val",{"type":428,"tag":527,"props":2441,"children":2442},{"style":546},[2443],{"type":434,"value":560},{"type":428,"tag":527,"props":2445,"children":2446},{"style":552},[2447],{"type":434,"value":2448}," customSetter",{"type":428,"tag":527,"props":2450,"children":2451},{"style":546},[2452],{"type":434,"value":560},{"type":428,"tag":527,"props":2454,"children":2455},{"style":552},[2456],{"type":434,"value":2457}," shallow",{"type":428,"tag":527,"props":2459,"children":2460},{"style":546},[2461],{"type":434,"value":570},{"type":428,"tag":527,"props":2463,"children":2464},{"style":546},[2465],{"type":434,"value":575},{"type":428,"tag":527,"props":2467,"children":2468},{"class":529,"line":578},[2469],{"type":428,"tag":527,"props":2470,"children":2471},{"style":738},[2472],{"type":434,"value":2473},"  // 每个属性都保持了一个依赖容器，\n",{"type":428,"tag":527,"props":2475,"children":2476},{"class":529,"line":622},[2477],{"type":428,"tag":527,"props":2478,"children":2479},{"style":738},[2480],{"type":434,"value":2481},"  // 所有依赖都会存放在这个依赖容器实例中\n",{"type":428,"tag":527,"props":2483,"children":2484},{"class":529,"line":641},[2485,2489,2494,2498,2502,2506,2510],{"type":428,"tag":527,"props":2486,"children":2487},{"style":534},[2488],{"type":434,"value":1841},{"type":428,"tag":527,"props":2490,"children":2491},{"style":1218},[2492],{"type":434,"value":2493}," dep",{"type":428,"tag":527,"props":2495,"children":2496},{"style":588},[2497],{"type":434,"value":591},{"type":428,"tag":527,"props":2499,"children":2500},{"style":588},[2501],{"type":434,"value":596},{"type":428,"tag":527,"props":2503,"children":2504},{"style":540},[2505],{"type":434,"value":771},{"type":428,"tag":527,"props":2507,"children":2508},{"style":604},[2509],{"type":434,"value":776},{"type":428,"tag":527,"props":2511,"children":2512},{"style":546},[2513],{"type":434,"value":619},{"type":428,"tag":527,"props":2515,"children":2516},{"class":529,"line":650},[2517],{"type":428,"tag":527,"props":2518,"children":2519},{"emptyLinePlaceholder":420},[2520],{"type":434,"value":656},{"type":428,"tag":527,"props":2522,"children":2523},{"class":529,"line":659},[2524],{"type":428,"tag":527,"props":2525,"children":2526},{"style":738},[2527],{"type":434,"value":2528},"  // 不给属性描述符不可变的对象设置 setter/getter\n",{"type":428,"tag":527,"props":2530,"children":2531},{"class":529,"line":677},[2532,2536,2541,2545,2549,2553,2558,2562,2566,2570,2574,2578],{"type":428,"tag":527,"props":2533,"children":2534},{"style":534},[2535],{"type":434,"value":1841},{"type":428,"tag":527,"props":2537,"children":2538},{"style":1218},[2539],{"type":434,"value":2540}," property",{"type":428,"tag":527,"props":2542,"children":2543},{"style":588},[2544],{"type":434,"value":591},{"type":428,"tag":527,"props":2546,"children":2547},{"style":582},[2548],{"type":434,"value":1230},{"type":428,"tag":527,"props":2550,"children":2551},{"style":546},[2552],{"type":434,"value":714},{"type":428,"tag":527,"props":2554,"children":2555},{"style":540},[2556],{"type":434,"value":2557},"getOwnPropertyDescriptor",{"type":428,"tag":527,"props":2559,"children":2560},{"style":604},[2561],{"type":434,"value":549},{"type":428,"tag":527,"props":2563,"children":2564},{"style":582},[2565],{"type":434,"value":1198},{"type":428,"tag":527,"props":2567,"children":2568},{"style":546},[2569],{"type":434,"value":560},{"type":428,"tag":527,"props":2571,"children":2572},{"style":582},[2573],{"type":434,"value":2430},{"type":428,"tag":527,"props":2575,"children":2576},{"style":604},[2577],{"type":434,"value":570},{"type":428,"tag":527,"props":2579,"children":2580},{"style":546},[2581],{"type":434,"value":619},{"type":428,"tag":527,"props":2583,"children":2584},{"class":529,"line":702},[2585,2590,2594,2599,2604,2608,2612,2617,2622,2628,2632],{"type":428,"tag":527,"props":2586,"children":2587},{"style":626},[2588],{"type":434,"value":2589},"  if",{"type":428,"tag":527,"props":2591,"children":2592},{"style":604},[2593],{"type":434,"value":907},{"type":428,"tag":527,"props":2595,"children":2596},{"style":582},[2597],{"type":434,"value":2598},"property",{"type":428,"tag":527,"props":2600,"children":2601},{"style":588},[2602],{"type":434,"value":2603}," &&",{"type":428,"tag":527,"props":2605,"children":2606},{"style":582},[2607],{"type":434,"value":2540},{"type":428,"tag":527,"props":2609,"children":2610},{"style":546},[2611],{"type":434,"value":714},{"type":428,"tag":527,"props":2613,"children":2614},{"style":582},[2615],{"type":434,"value":2616},"configurable",{"type":428,"tag":527,"props":2618,"children":2619},{"style":588},[2620],{"type":434,"value":2621}," ===",{"type":428,"tag":527,"props":2623,"children":2625},{"style":2624},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2626],{"type":434,"value":2627}," false",{"type":428,"tag":527,"props":2629,"children":2630},{"style":604},[2631],{"type":434,"value":962},{"type":428,"tag":527,"props":2633,"children":2634},{"style":546},[2635],{"type":434,"value":939},{"type":428,"tag":527,"props":2637,"children":2638},{"class":529,"line":734},[2639,2643],{"type":428,"tag":527,"props":2640,"children":2641},{"style":626},[2642],{"type":434,"value":2344},{"type":428,"tag":527,"props":2644,"children":2645},{"style":546},[2646],{"type":434,"value":619},{"type":428,"tag":527,"props":2648,"children":2649},{"class":529,"line":744},[2650],{"type":428,"tag":527,"props":2651,"children":2652},{"style":546},[2653],{"type":434,"value":1171},{"type":428,"tag":527,"props":2655,"children":2656},{"class":529,"line":783},[2657],{"type":428,"tag":527,"props":2658,"children":2659},{"emptyLinePlaceholder":420},[2660],{"type":434,"value":656},{"type":428,"tag":527,"props":2662,"children":2663},{"class":529,"line":814},[2664],{"type":428,"tag":527,"props":2665,"children":2666},{"style":738},[2667],{"type":434,"value":2668},"  // 保存属性原有的 setter/getter，不做破坏\n",{"type":428,"tag":527,"props":2670,"children":2671},{"class":529,"line":823},[2672],{"type":428,"tag":527,"props":2673,"children":2674},{"style":738},[2675],{"type":434,"value":2676},"  // cater for pre-defined getter/setters\n",{"type":428,"tag":527,"props":2678,"children":2679},{"class":529,"line":878},[2680,2684,2689,2693,2697,2701,2705,2709,2714],{"type":428,"tag":527,"props":2681,"children":2682},{"style":534},[2683],{"type":434,"value":1841},{"type":428,"tag":527,"props":2685,"children":2686},{"style":1218},[2687],{"type":434,"value":2688}," getter",{"type":428,"tag":527,"props":2690,"children":2691},{"style":588},[2692],{"type":434,"value":591},{"type":428,"tag":527,"props":2694,"children":2695},{"style":582},[2696],{"type":434,"value":2540},{"type":428,"tag":527,"props":2698,"children":2699},{"style":588},[2700],{"type":434,"value":2603},{"type":428,"tag":527,"props":2702,"children":2703},{"style":582},[2704],{"type":434,"value":2540},{"type":428,"tag":527,"props":2706,"children":2707},{"style":546},[2708],{"type":434,"value":714},{"type":428,"tag":527,"props":2710,"children":2711},{"style":582},[2712],{"type":434,"value":2713},"get",{"type":428,"tag":527,"props":2715,"children":2716},{"style":546},[2717],{"type":434,"value":619},{"type":428,"tag":527,"props":2719,"children":2720},{"class":529,"line":887},[2721,2725,2730,2734,2738,2742,2746,2750,2755],{"type":428,"tag":527,"props":2722,"children":2723},{"style":534},[2724],{"type":434,"value":1841},{"type":428,"tag":527,"props":2726,"children":2727},{"style":1218},[2728],{"type":434,"value":2729}," setter",{"type":428,"tag":527,"props":2731,"children":2732},{"style":588},[2733],{"type":434,"value":591},{"type":428,"tag":527,"props":2735,"children":2736},{"style":582},[2737],{"type":434,"value":2540},{"type":428,"tag":527,"props":2739,"children":2740},{"style":588},[2741],{"type":434,"value":2603},{"type":428,"tag":527,"props":2743,"children":2744},{"style":582},[2745],{"type":434,"value":2540},{"type":428,"tag":527,"props":2747,"children":2748},{"style":546},[2749],{"type":434,"value":714},{"type":428,"tag":527,"props":2751,"children":2752},{"style":582},[2753],{"type":434,"value":2754},"set",{"type":428,"tag":527,"props":2756,"children":2757},{"style":546},[2758],{"type":434,"value":619},{"type":428,"tag":527,"props":2760,"children":2761},{"class":529,"line":896},[2762,2766,2771,2776,2781,2786,2790,2794,2799,2805,2809,2813,2817,2822,2826],{"type":428,"tag":527,"props":2763,"children":2764},{"style":626},[2765],{"type":434,"value":2589},{"type":428,"tag":527,"props":2767,"children":2768},{"style":604},[2769],{"type":434,"value":2770}," ((",{"type":428,"tag":527,"props":2772,"children":2773},{"style":588},[2774],{"type":434,"value":2775},"!",{"type":428,"tag":527,"props":2777,"children":2778},{"style":582},[2779],{"type":434,"value":2780},"getter",{"type":428,"tag":527,"props":2782,"children":2783},{"style":588},[2784],{"type":434,"value":2785}," ||",{"type":428,"tag":527,"props":2787,"children":2788},{"style":582},[2789],{"type":434,"value":2729},{"type":428,"tag":527,"props":2791,"children":2792},{"style":604},[2793],{"type":434,"value":962},{"type":428,"tag":527,"props":2795,"children":2796},{"style":588},[2797],{"type":434,"value":2798},"&&",{"type":428,"tag":527,"props":2800,"children":2802},{"style":2801},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2803],{"type":434,"value":2804}," arguments",{"type":428,"tag":527,"props":2806,"children":2807},{"style":546},[2808],{"type":434,"value":714},{"type":428,"tag":527,"props":2810,"children":2811},{"style":1218},[2812],{"type":434,"value":1313},{"type":428,"tag":527,"props":2814,"children":2815},{"style":588},[2816],{"type":434,"value":2621},{"type":428,"tag":527,"props":2818,"children":2819},{"style":804},[2820],{"type":434,"value":2821}," 2",{"type":428,"tag":527,"props":2823,"children":2824},{"style":604},[2825],{"type":434,"value":962},{"type":428,"tag":527,"props":2827,"children":2828},{"style":546},[2829],{"type":434,"value":939},{"type":428,"tag":527,"props":2831,"children":2832},{"class":529,"line":942},[2833,2838,2842,2847,2851,2856,2860],{"type":428,"tag":527,"props":2834,"children":2835},{"style":582},[2836],{"type":434,"value":2837},"    val",{"type":428,"tag":527,"props":2839,"children":2840},{"style":588},[2841],{"type":434,"value":591},{"type":428,"tag":527,"props":2843,"children":2844},{"style":582},[2845],{"type":434,"value":2846}," obj",{"type":428,"tag":527,"props":2848,"children":2849},{"style":604},[2850],{"type":434,"value":1364},{"type":428,"tag":527,"props":2852,"children":2853},{"style":582},[2854],{"type":434,"value":2855},"key",{"type":428,"tag":527,"props":2857,"children":2858},{"style":604},[2859],{"type":434,"value":1772},{"type":428,"tag":527,"props":2861,"children":2862},{"style":546},[2863],{"type":434,"value":619},{"type":428,"tag":527,"props":2865,"children":2866},{"class":529,"line":969},[2867],{"type":428,"tag":527,"props":2868,"children":2869},{"style":546},[2870],{"type":434,"value":1171},{"type":428,"tag":527,"props":2872,"children":2873},{"class":529,"line":1003},[2874],{"type":428,"tag":527,"props":2875,"children":2876},{"emptyLinePlaceholder":420},[2877],{"type":434,"value":656},{"type":428,"tag":527,"props":2879,"children":2880},{"class":529,"line":1021},[2881],{"type":428,"tag":527,"props":2882,"children":2883},{"style":738},[2884],{"type":434,"value":2885},"  // 侦测值的变化\n",{"type":428,"tag":527,"props":2887,"children":2888},{"class":529,"line":1063},[2889,2894,2899,2903,2908,2913,2917,2921,2925,2930,2934],{"type":428,"tag":527,"props":2890,"children":2891},{"style":534},[2892],{"type":434,"value":2893},"  let",{"type":428,"tag":527,"props":2895,"children":2896},{"style":582},[2897],{"type":434,"value":2898}," childOb",{"type":428,"tag":527,"props":2900,"children":2901},{"style":588},[2902],{"type":434,"value":591},{"type":428,"tag":527,"props":2904,"children":2905},{"style":588},[2906],{"type":434,"value":2907}," !",{"type":428,"tag":527,"props":2909,"children":2910},{"style":582},[2911],{"type":434,"value":2912},"shallow",{"type":428,"tag":527,"props":2914,"children":2915},{"style":588},[2916],{"type":434,"value":2603},{"type":428,"tag":527,"props":2918,"children":2919},{"style":540},[2920],{"type":434,"value":543},{"type":428,"tag":527,"props":2922,"children":2923},{"style":604},[2924],{"type":434,"value":549},{"type":428,"tag":527,"props":2926,"children":2927},{"style":582},[2928],{"type":434,"value":2929},"val",{"type":428,"tag":527,"props":2931,"children":2932},{"style":604},[2933],{"type":434,"value":570},{"type":428,"tag":527,"props":2935,"children":2936},{"style":546},[2937],{"type":434,"value":619},{"type":428,"tag":527,"props":2939,"children":2940},{"class":529,"line":1072},[2941],{"type":428,"tag":527,"props":2942,"children":2943},{"emptyLinePlaceholder":420},[2944],{"type":434,"value":656},{"type":428,"tag":527,"props":2946,"children":2947},{"class":529,"line":1106},[2948,2953,2957,2962,2966,2970,2974,2978,2982],{"type":428,"tag":527,"props":2949,"children":2950},{"style":582},[2951],{"type":434,"value":2952},"  Object",{"type":428,"tag":527,"props":2954,"children":2955},{"style":546},[2956],{"type":434,"value":714},{"type":428,"tag":527,"props":2958,"children":2959},{"style":540},[2960],{"type":434,"value":2961},"defineProperty",{"type":428,"tag":527,"props":2963,"children":2964},{"style":604},[2965],{"type":434,"value":549},{"type":428,"tag":527,"props":2967,"children":2968},{"style":582},[2969],{"type":434,"value":1198},{"type":428,"tag":527,"props":2971,"children":2972},{"style":546},[2973],{"type":434,"value":560},{"type":428,"tag":527,"props":2975,"children":2976},{"style":582},[2977],{"type":434,"value":2430},{"type":428,"tag":527,"props":2979,"children":2980},{"style":546},[2981],{"type":434,"value":560},{"type":428,"tag":527,"props":2983,"children":2984},{"style":546},[2985],{"type":434,"value":575},{"type":428,"tag":527,"props":2987,"children":2988},{"class":529,"line":1123},[2989,2994,2999,3004],{"type":428,"tag":527,"props":2990,"children":2991},{"style":604},[2992],{"type":434,"value":2993},"    enumerable",{"type":428,"tag":527,"props":2995,"children":2996},{"style":546},[2997],{"type":434,"value":2998},":",{"type":428,"tag":527,"props":3000,"children":3001},{"style":2624},[3002],{"type":434,"value":3003}," true",{"type":428,"tag":527,"props":3005,"children":3006},{"style":546},[3007],{"type":434,"value":1644},{"type":428,"tag":527,"props":3009,"children":3010},{"class":529,"line":1156},[3011,3016,3020,3024],{"type":428,"tag":527,"props":3012,"children":3013},{"style":604},[3014],{"type":434,"value":3015},"    configurable",{"type":428,"tag":527,"props":3017,"children":3018},{"style":546},[3019],{"type":434,"value":2998},{"type":428,"tag":527,"props":3021,"children":3022},{"style":2624},[3023],{"type":434,"value":3003},{"type":428,"tag":527,"props":3025,"children":3026},{"style":546},[3027],{"type":434,"value":1644},{"type":428,"tag":527,"props":3029,"children":3030},{"class":529,"line":1165},[3031,3036,3040,3044,3049,3053],{"type":428,"tag":527,"props":3032,"children":3033},{"style":540},[3034],{"type":434,"value":3035},"    get",{"type":428,"tag":527,"props":3037,"children":3038},{"style":546},[3039],{"type":434,"value":2998},{"type":428,"tag":527,"props":3041,"children":3042},{"style":534},[3043],{"type":434,"value":1906},{"type":428,"tag":527,"props":3045,"children":3046},{"style":540},[3047],{"type":434,"value":3048}," reactiveGetter",{"type":428,"tag":527,"props":3050,"children":3051},{"style":546},[3052],{"type":434,"value":776},{"type":428,"tag":527,"props":3054,"children":3055},{"style":546},[3056],{"type":434,"value":575},{"type":428,"tag":527,"props":3058,"children":3059},{"class":529,"line":1174},[3060,3065,3069,3073,3077,3082,3086,3090,3095,3099,3103,3107,3111,3115],{"type":428,"tag":527,"props":3061,"children":3062},{"style":534},[3063],{"type":434,"value":3064},"      const",{"type":428,"tag":527,"props":3066,"children":3067},{"style":1218},[3068],{"type":434,"value":727},{"type":428,"tag":527,"props":3070,"children":3071},{"style":588},[3072],{"type":434,"value":591},{"type":428,"tag":527,"props":3074,"children":3075},{"style":582},[3076],{"type":434,"value":2688},{"type":428,"tag":527,"props":3078,"children":3079},{"style":588},[3080],{"type":434,"value":3081}," ?",{"type":428,"tag":527,"props":3083,"children":3084},{"style":582},[3085],{"type":434,"value":2688},{"type":428,"tag":527,"props":3087,"children":3088},{"style":546},[3089],{"type":434,"value":714},{"type":428,"tag":527,"props":3091,"children":3092},{"style":540},[3093],{"type":434,"value":3094},"call",{"type":428,"tag":527,"props":3096,"children":3097},{"style":604},[3098],{"type":434,"value":549},{"type":428,"tag":527,"props":3100,"children":3101},{"style":582},[3102],{"type":434,"value":1198},{"type":428,"tag":527,"props":3104,"children":3105},{"style":604},[3106],{"type":434,"value":962},{"type":428,"tag":527,"props":3108,"children":3109},{"style":588},[3110],{"type":434,"value":2998},{"type":428,"tag":527,"props":3112,"children":3113},{"style":582},[3114],{"type":434,"value":2439},{"type":428,"tag":527,"props":3116,"children":3117},{"style":546},[3118],{"type":434,"value":619},{"type":428,"tag":527,"props":3120,"children":3121},{"class":529,"line":1182},[3122],{"type":428,"tag":527,"props":3123,"children":3124},{"style":738},[3125],{"type":434,"value":3126},"      // 收集依赖\n",{"type":428,"tag":527,"props":3128,"children":3129},{"class":529,"line":1209},[3130,3134,3138,3143,3147,3152,3156],{"type":428,"tag":527,"props":3131,"children":3132},{"style":626},[3133],{"type":434,"value":948},{"type":428,"tag":527,"props":3135,"children":3136},{"style":604},[3137],{"type":434,"value":907},{"type":428,"tag":527,"props":3139,"children":3140},{"style":582},[3141],{"type":434,"value":3142},"Dep",{"type":428,"tag":527,"props":3144,"children":3145},{"style":546},[3146],{"type":434,"value":714},{"type":428,"tag":527,"props":3148,"children":3149},{"style":582},[3150],{"type":434,"value":3151},"target",{"type":428,"tag":527,"props":3153,"children":3154},{"style":604},[3155],{"type":434,"value":962},{"type":428,"tag":527,"props":3157,"children":3158},{"style":546},[3159],{"type":434,"value":939},{"type":428,"tag":527,"props":3161,"children":3162},{"class":529,"line":1258},[3163,3168,3172,3177,3181],{"type":428,"tag":527,"props":3164,"children":3165},{"style":582},[3166],{"type":434,"value":3167},"        dep",{"type":428,"tag":527,"props":3169,"children":3170},{"style":546},[3171],{"type":434,"value":714},{"type":428,"tag":527,"props":3173,"children":3174},{"style":540},[3175],{"type":434,"value":3176},"depend",{"type":428,"tag":527,"props":3178,"children":3179},{"style":604},[3180],{"type":434,"value":776},{"type":428,"tag":527,"props":3182,"children":3183},{"style":546},[3184],{"type":434,"value":619},{"type":428,"tag":527,"props":3186,"children":3187},{"class":529,"line":1337},[3188,3193,3197,3202,3206],{"type":428,"tag":527,"props":3189,"children":3190},{"style":626},[3191],{"type":434,"value":3192},"        if",{"type":428,"tag":527,"props":3194,"children":3195},{"style":604},[3196],{"type":434,"value":907},{"type":428,"tag":527,"props":3198,"children":3199},{"style":582},[3200],{"type":434,"value":3201},"childOb",{"type":428,"tag":527,"props":3203,"children":3204},{"style":604},[3205],{"type":434,"value":962},{"type":428,"tag":527,"props":3207,"children":3208},{"style":546},[3209],{"type":434,"value":939},{"type":428,"tag":527,"props":3211,"children":3212},{"class":529,"line":1381},[3213,3218,3222,3226,3230,3234,3238],{"type":428,"tag":527,"props":3214,"children":3215},{"style":582},[3216],{"type":434,"value":3217},"          childOb",{"type":428,"tag":527,"props":3219,"children":3220},{"style":546},[3221],{"type":434,"value":714},{"type":428,"tag":527,"props":3223,"children":3224},{"style":582},[3225],{"type":434,"value":758},{"type":428,"tag":527,"props":3227,"children":3228},{"style":546},[3229],{"type":434,"value":714},{"type":428,"tag":527,"props":3231,"children":3232},{"style":540},[3233],{"type":434,"value":3176},{"type":428,"tag":527,"props":3235,"children":3236},{"style":604},[3237],{"type":434,"value":776},{"type":428,"tag":527,"props":3239,"children":3240},{"style":546},[3241],{"type":434,"value":619},{"type":428,"tag":527,"props":3243,"children":3244},{"class":529,"line":1389},[3245,3250,3254,3258,3262,3266,3270,3274,3278],{"type":428,"tag":527,"props":3246,"children":3247},{"style":626},[3248],{"type":434,"value":3249},"          if",{"type":428,"tag":527,"props":3251,"children":3252},{"style":604},[3253],{"type":434,"value":907},{"type":428,"tag":527,"props":3255,"children":3256},{"style":582},[3257],{"type":434,"value":912},{"type":428,"tag":527,"props":3259,"children":3260},{"style":546},[3261],{"type":434,"value":714},{"type":428,"tag":527,"props":3263,"children":3264},{"style":540},[3265],{"type":434,"value":921},{"type":428,"tag":527,"props":3267,"children":3268},{"style":604},[3269],{"type":434,"value":549},{"type":428,"tag":527,"props":3271,"children":3272},{"style":582},[3273],{"type":434,"value":555},{"type":428,"tag":527,"props":3275,"children":3276},{"style":604},[3277],{"type":434,"value":934},{"type":428,"tag":527,"props":3279,"children":3280},{"style":546},[3281],{"type":434,"value":939},{"type":428,"tag":527,"props":3283,"children":3284},{"class":529,"line":1397},[3285,3290,3294,3298,3302],{"type":428,"tag":527,"props":3286,"children":3287},{"style":540},[3288],{"type":434,"value":3289},"            dependArray",{"type":428,"tag":527,"props":3291,"children":3292},{"style":604},[3293],{"type":434,"value":549},{"type":428,"tag":527,"props":3295,"children":3296},{"style":582},[3297],{"type":434,"value":555},{"type":428,"tag":527,"props":3299,"children":3300},{"style":604},[3301],{"type":434,"value":570},{"type":428,"tag":527,"props":3303,"children":3304},{"style":546},[3305],{"type":434,"value":619},{"type":428,"tag":527,"props":3307,"children":3308},{"class":529,"line":1405},[3309],{"type":428,"tag":527,"props":3310,"children":3311},{"style":546},[3312],{"type":434,"value":3313},"          }\n",{"type":428,"tag":527,"props":3315,"children":3316},{"class":529,"line":1431},[3317],{"type":428,"tag":527,"props":3318,"children":3319},{"style":546},[3320],{"type":434,"value":3321},"        }\n",{"type":428,"tag":527,"props":3323,"children":3324},{"class":529,"line":1521},[3325],{"type":428,"tag":527,"props":3326,"children":3327},{"style":546},[3328],{"type":434,"value":1069},{"type":428,"tag":527,"props":3330,"children":3331},{"class":529,"line":1554},[3332,3337,3341],{"type":428,"tag":527,"props":3333,"children":3334},{"style":626},[3335],{"type":434,"value":3336},"      return",{"type":428,"tag":527,"props":3338,"children":3339},{"style":582},[3340],{"type":434,"value":727},{"type":428,"tag":527,"props":3342,"children":3343},{"style":546},[3344],{"type":434,"value":619},{"type":428,"tag":527,"props":3346,"children":3347},{"class":529,"line":1562},[3348],{"type":428,"tag":527,"props":3349,"children":3350},{"style":546},[3351],{"type":434,"value":3352},"    },\n",{"type":428,"tag":527,"props":3354,"children":3355},{"class":529,"line":1570},[3356,3361,3365,3369,3374,3378,3383,3387],{"type":428,"tag":527,"props":3357,"children":3358},{"style":540},[3359],{"type":434,"value":3360},"    set",{"type":428,"tag":527,"props":3362,"children":3363},{"style":546},[3364],{"type":434,"value":2998},{"type":428,"tag":527,"props":3366,"children":3367},{"style":534},[3368],{"type":434,"value":1906},{"type":428,"tag":527,"props":3370,"children":3371},{"style":540},[3372],{"type":434,"value":3373}," reactiveSetter",{"type":428,"tag":527,"props":3375,"children":3376},{"style":546},[3377],{"type":434,"value":549},{"type":428,"tag":527,"props":3379,"children":3380},{"style":552},[3381],{"type":434,"value":3382},"newVal",{"type":428,"tag":527,"props":3384,"children":3385},{"style":546},[3386],{"type":434,"value":570},{"type":428,"tag":527,"props":3388,"children":3389},{"style":546},[3390],{"type":434,"value":575},{"type":428,"tag":527,"props":3392,"children":3394},{"class":529,"line":3393},41,[3395,3399,3403,3407,3411,3415,3419,3423,3427,3431,3435,3439,3443,3447],{"type":428,"tag":527,"props":3396,"children":3397},{"style":534},[3398],{"type":434,"value":3064},{"type":428,"tag":527,"props":3400,"children":3401},{"style":1218},[3402],{"type":434,"value":727},{"type":428,"tag":527,"props":3404,"children":3405},{"style":588},[3406],{"type":434,"value":591},{"type":428,"tag":527,"props":3408,"children":3409},{"style":582},[3410],{"type":434,"value":2688},{"type":428,"tag":527,"props":3412,"children":3413},{"style":588},[3414],{"type":434,"value":3081},{"type":428,"tag":527,"props":3416,"children":3417},{"style":582},[3418],{"type":434,"value":2688},{"type":428,"tag":527,"props":3420,"children":3421},{"style":546},[3422],{"type":434,"value":714},{"type":428,"tag":527,"props":3424,"children":3425},{"style":540},[3426],{"type":434,"value":3094},{"type":428,"tag":527,"props":3428,"children":3429},{"style":604},[3430],{"type":434,"value":549},{"type":428,"tag":527,"props":3432,"children":3433},{"style":582},[3434],{"type":434,"value":1198},{"type":428,"tag":527,"props":3436,"children":3437},{"style":604},[3438],{"type":434,"value":962},{"type":428,"tag":527,"props":3440,"children":3441},{"style":588},[3442],{"type":434,"value":2998},{"type":428,"tag":527,"props":3444,"children":3445},{"style":582},[3446],{"type":434,"value":2439},{"type":428,"tag":527,"props":3448,"children":3449},{"style":546},[3450],{"type":434,"value":619},{"type":428,"tag":527,"props":3452,"children":3454},{"class":529,"line":3453},42,[3455],{"type":428,"tag":527,"props":3456,"children":3457},{"style":738},[3458],{"type":434,"value":3459},"      /* eslint-disable no-self-compare */\n",{"type":428,"tag":527,"props":3461,"children":3463},{"class":529,"line":3462},43,[3464,3468,3472,3476,3480,3484,3488,3492,3496,3501,3506,3510,3514,3518,3522,3526],{"type":428,"tag":527,"props":3465,"children":3466},{"style":626},[3467],{"type":434,"value":948},{"type":428,"tag":527,"props":3469,"children":3470},{"style":604},[3471],{"type":434,"value":907},{"type":428,"tag":527,"props":3473,"children":3474},{"style":582},[3475],{"type":434,"value":3382},{"type":428,"tag":527,"props":3477,"children":3478},{"style":588},[3479],{"type":434,"value":2621},{"type":428,"tag":527,"props":3481,"children":3482},{"style":582},[3483],{"type":434,"value":727},{"type":428,"tag":527,"props":3485,"children":3486},{"style":588},[3487],{"type":434,"value":2785},{"type":428,"tag":527,"props":3489,"children":3490},{"style":604},[3491],{"type":434,"value":907},{"type":428,"tag":527,"props":3493,"children":3494},{"style":582},[3495],{"type":434,"value":3382},{"type":428,"tag":527,"props":3497,"children":3498},{"style":588},[3499],{"type":434,"value":3500}," !==",{"type":428,"tag":527,"props":3502,"children":3503},{"style":582},[3504],{"type":434,"value":3505}," newVal",{"type":428,"tag":527,"props":3507,"children":3508},{"style":588},[3509],{"type":434,"value":2603},{"type":428,"tag":527,"props":3511,"children":3512},{"style":582},[3513],{"type":434,"value":727},{"type":428,"tag":527,"props":3515,"children":3516},{"style":588},[3517],{"type":434,"value":3500},{"type":428,"tag":527,"props":3519,"children":3520},{"style":582},[3521],{"type":434,"value":727},{"type":428,"tag":527,"props":3523,"children":3524},{"style":604},[3525],{"type":434,"value":934},{"type":428,"tag":527,"props":3527,"children":3528},{"style":546},[3529],{"type":434,"value":939},{"type":428,"tag":527,"props":3531,"children":3533},{"class":529,"line":3532},44,[3534,3539],{"type":428,"tag":527,"props":3535,"children":3536},{"style":626},[3537],{"type":434,"value":3538},"        return",{"type":428,"tag":527,"props":3540,"children":3541},{"style":546},[3542],{"type":434,"value":619},{"type":428,"tag":527,"props":3544,"children":3546},{"class":529,"line":3545},45,[3547],{"type":428,"tag":527,"props":3548,"children":3549},{"style":546},[3550],{"type":434,"value":1069},{"type":428,"tag":527,"props":3552,"children":3554},{"class":529,"line":3553},46,[3555],{"type":428,"tag":527,"props":3556,"children":3557},{"style":738},[3558],{"type":434,"value":3559},"      // 非生产环境：自定义 setter 副作用\n",{"type":428,"tag":527,"props":3561,"children":3563},{"class":529,"line":3562},47,[3564,3568,3572,3577,3581,3586,3590,3595,3599,3603,3608,3612,3616,3620,3624],{"type":428,"tag":527,"props":3565,"children":3566},{"style":626},[3567],{"type":434,"value":948},{"type":428,"tag":527,"props":3569,"children":3570},{"style":604},[3571],{"type":434,"value":907},{"type":428,"tag":527,"props":3573,"children":3574},{"style":582},[3575],{"type":434,"value":3576},"process",{"type":428,"tag":527,"props":3578,"children":3579},{"style":546},[3580],{"type":434,"value":714},{"type":428,"tag":527,"props":3582,"children":3583},{"style":582},[3584],{"type":434,"value":3585},"env",{"type":428,"tag":527,"props":3587,"children":3588},{"style":546},[3589],{"type":434,"value":714},{"type":428,"tag":527,"props":3591,"children":3592},{"style":1218},[3593],{"type":434,"value":3594},"NODE_ENV",{"type":428,"tag":527,"props":3596,"children":3597},{"style":588},[3598],{"type":434,"value":3500},{"type":428,"tag":527,"props":3600,"children":3601},{"style":844},[3602],{"type":434,"value":847},{"type":428,"tag":527,"props":3604,"children":3605},{"style":850},[3606],{"type":434,"value":3607},"production",{"type":428,"tag":527,"props":3609,"children":3610},{"style":844},[3611],{"type":434,"value":858},{"type":428,"tag":527,"props":3613,"children":3614},{"style":588},[3615],{"type":434,"value":2603},{"type":428,"tag":527,"props":3617,"children":3618},{"style":582},[3619],{"type":434,"value":2448},{"type":428,"tag":527,"props":3621,"children":3622},{"style":604},[3623],{"type":434,"value":962},{"type":428,"tag":527,"props":3625,"children":3626},{"style":546},[3627],{"type":434,"value":939},{"type":428,"tag":527,"props":3629,"children":3631},{"class":529,"line":3630},48,[3632,3637,3641],{"type":428,"tag":527,"props":3633,"children":3634},{"style":540},[3635],{"type":434,"value":3636},"        customSetter",{"type":428,"tag":527,"props":3638,"children":3639},{"style":604},[3640],{"type":434,"value":776},{"type":428,"tag":527,"props":3642,"children":3643},{"style":546},[3644],{"type":434,"value":619},{"type":428,"tag":527,"props":3646,"children":3648},{"class":529,"line":3647},49,[3649],{"type":428,"tag":527,"props":3650,"children":3651},{"style":546},[3652],{"type":434,"value":1069},{"type":428,"tag":527,"props":3654,"children":3656},{"class":529,"line":3655},50,[3657],{"type":428,"tag":527,"props":3658,"children":3659},{"style":738},[3660],{"type":434,"value":3661},"      // #7981: for accessor properties without setter\n",{"type":428,"tag":527,"props":3663,"children":3665},{"class":529,"line":3664},51,[3666,3670,3674,3678,3682,3686,3691,3695,3700],{"type":428,"tag":527,"props":3667,"children":3668},{"style":626},[3669],{"type":434,"value":948},{"type":428,"tag":527,"props":3671,"children":3672},{"style":604},[3673],{"type":434,"value":907},{"type":428,"tag":527,"props":3675,"children":3676},{"style":582},[3677],{"type":434,"value":2780},{"type":428,"tag":527,"props":3679,"children":3680},{"style":588},[3681],{"type":434,"value":2603},{"type":428,"tag":527,"props":3683,"children":3684},{"style":588},[3685],{"type":434,"value":2907},{"type":428,"tag":527,"props":3687,"children":3688},{"style":582},[3689],{"type":434,"value":3690},"setter",{"type":428,"tag":527,"props":3692,"children":3693},{"style":604},[3694],{"type":434,"value":962},{"type":428,"tag":527,"props":3696,"children":3697},{"style":626},[3698],{"type":434,"value":3699},"return",{"type":428,"tag":527,"props":3701,"children":3702},{"style":546},[3703],{"type":434,"value":619},{"type":428,"tag":527,"props":3705,"children":3707},{"class":529,"line":3706},52,[3708],{"type":428,"tag":527,"props":3709,"children":3710},{"style":738},[3711],{"type":434,"value":3712},"      // 使用原有的 setter 更新值或直接更新值\n",{"type":428,"tag":527,"props":3714,"children":3716},{"class":529,"line":3715},53,[3717,3721,3725,3729,3733],{"type":428,"tag":527,"props":3718,"children":3719},{"style":626},[3720],{"type":434,"value":948},{"type":428,"tag":527,"props":3722,"children":3723},{"style":604},[3724],{"type":434,"value":907},{"type":428,"tag":527,"props":3726,"children":3727},{"style":582},[3728],{"type":434,"value":3690},{"type":428,"tag":527,"props":3730,"children":3731},{"style":604},[3732],{"type":434,"value":962},{"type":428,"tag":527,"props":3734,"children":3735},{"style":546},[3736],{"type":434,"value":939},{"type":428,"tag":527,"props":3738,"children":3740},{"class":529,"line":3739},54,[3741,3746,3750,3754,3758,3762,3766,3770,3774],{"type":428,"tag":527,"props":3742,"children":3743},{"style":582},[3744],{"type":434,"value":3745},"        setter",{"type":428,"tag":527,"props":3747,"children":3748},{"style":546},[3749],{"type":434,"value":714},{"type":428,"tag":527,"props":3751,"children":3752},{"style":540},[3753],{"type":434,"value":3094},{"type":428,"tag":527,"props":3755,"children":3756},{"style":604},[3757],{"type":434,"value":549},{"type":428,"tag":527,"props":3759,"children":3760},{"style":582},[3761],{"type":434,"value":1198},{"type":428,"tag":527,"props":3763,"children":3764},{"style":546},[3765],{"type":434,"value":560},{"type":428,"tag":527,"props":3767,"children":3768},{"style":582},[3769],{"type":434,"value":3505},{"type":428,"tag":527,"props":3771,"children":3772},{"style":604},[3773],{"type":434,"value":570},{"type":428,"tag":527,"props":3775,"children":3776},{"style":546},[3777],{"type":434,"value":619},{"type":428,"tag":527,"props":3779,"children":3781},{"class":529,"line":3780},55,[3782,3786,3790],{"type":428,"tag":527,"props":3783,"children":3784},{"style":546},[3785],{"type":434,"value":1009},{"type":428,"tag":527,"props":3787,"children":3788},{"style":626},[3789],{"type":434,"value":1014},{"type":428,"tag":527,"props":3791,"children":3792},{"style":546},[3793],{"type":434,"value":575},{"type":428,"tag":527,"props":3795,"children":3797},{"class":529,"line":3796},56,[3798,3803,3807,3811],{"type":428,"tag":527,"props":3799,"children":3800},{"style":582},[3801],{"type":434,"value":3802},"        val",{"type":428,"tag":527,"props":3804,"children":3805},{"style":588},[3806],{"type":434,"value":591},{"type":428,"tag":527,"props":3808,"children":3809},{"style":582},[3810],{"type":434,"value":3505},{"type":428,"tag":527,"props":3812,"children":3813},{"style":546},[3814],{"type":434,"value":619},{"type":428,"tag":527,"props":3816,"children":3818},{"class":529,"line":3817},57,[3819],{"type":428,"tag":527,"props":3820,"children":3821},{"style":546},[3822],{"type":434,"value":1069},{"type":428,"tag":527,"props":3824,"children":3826},{"class":529,"line":3825},58,[3827],{"type":428,"tag":527,"props":3828,"children":3829},{"style":738},[3830],{"type":434,"value":3831},"      // 侦测子对象的变化\n",{"type":428,"tag":527,"props":3833,"children":3835},{"class":529,"line":3834},59,[3836,3841,3845,3849,3853,3857,3861,3865,3869,3873],{"type":428,"tag":527,"props":3837,"children":3838},{"style":582},[3839],{"type":434,"value":3840},"      childOb",{"type":428,"tag":527,"props":3842,"children":3843},{"style":588},[3844],{"type":434,"value":591},{"type":428,"tag":527,"props":3846,"children":3847},{"style":588},[3848],{"type":434,"value":2907},{"type":428,"tag":527,"props":3850,"children":3851},{"style":582},[3852],{"type":434,"value":2912},{"type":428,"tag":527,"props":3854,"children":3855},{"style":588},[3856],{"type":434,"value":2603},{"type":428,"tag":527,"props":3858,"children":3859},{"style":540},[3860],{"type":434,"value":543},{"type":428,"tag":527,"props":3862,"children":3863},{"style":604},[3864],{"type":434,"value":549},{"type":428,"tag":527,"props":3866,"children":3867},{"style":582},[3868],{"type":434,"value":3382},{"type":428,"tag":527,"props":3870,"children":3871},{"style":604},[3872],{"type":434,"value":570},{"type":428,"tag":527,"props":3874,"children":3875},{"style":546},[3876],{"type":434,"value":619},{"type":428,"tag":527,"props":3878,"children":3880},{"class":529,"line":3879},60,[3881],{"type":428,"tag":527,"props":3882,"children":3883},{"style":738},[3884],{"type":434,"value":3885},"      // 通知依赖更新\n",{"type":428,"tag":527,"props":3887,"children":3889},{"class":529,"line":3888},61,[3890,3895,3899,3903,3907],{"type":428,"tag":527,"props":3891,"children":3892},{"style":582},[3893],{"type":434,"value":3894},"      dep",{"type":428,"tag":527,"props":3896,"children":3897},{"style":546},[3898],{"type":434,"value":714},{"type":428,"tag":527,"props":3900,"children":3901},{"style":540},[3902],{"type":434,"value":2328},{"type":428,"tag":527,"props":3904,"children":3905},{"style":604},[3906],{"type":434,"value":776},{"type":428,"tag":527,"props":3908,"children":3909},{"style":546},[3910],{"type":434,"value":619},{"type":428,"tag":527,"props":3912,"children":3914},{"class":529,"line":3913},62,[3915],{"type":428,"tag":527,"props":3916,"children":3917},{"style":546},[3918],{"type":434,"value":3352},{"type":428,"tag":527,"props":3920,"children":3922},{"class":529,"line":3921},63,[3923,3927,3931],{"type":428,"tag":527,"props":3924,"children":3925},{"style":546},[3926],{"type":434,"value":2360},{"type":428,"tag":527,"props":3928,"children":3929},{"style":604},[3930],{"type":434,"value":570},{"type":428,"tag":527,"props":3932,"children":3933},{"style":546},[3934],{"type":434,"value":619},{"type":428,"tag":527,"props":3936,"children":3938},{"class":529,"line":3937},64,[3939],{"type":428,"tag":527,"props":3940,"children":3941},{"style":546},[3942],{"type":434,"value":647},{"type":428,"tag":502,"props":3944,"children":3946},{"id":3945},"依赖容器及依赖",[3947],{"type":434,"value":3945},{"type":428,"tag":461,"props":3949,"children":3950},{},[3951],{"type":434,"value":3952},"接下来进入比较绕的部分。首先回答：依赖容器是什么？",{"type":428,"tag":461,"props":3954,"children":3955},{},[3956],{"type":434,"value":3957},"刚刚看到了 dep.notify 的作用是“通知依赖更新”，所以 Dep 就是依赖容器。",{"type":428,"tag":461,"props":3959,"children":3960},{},[3961],{"type":434,"value":3962},"我们上小节说到，每个属性都保持了一个依赖容器，所有依赖都会存放在这个依赖容器实例中。所以依赖容器还提供了统一更新依赖、删除依赖之类的方法。",{"type":428,"tag":467,"props":3964,"children":3966},{"code":3965,"language":520,"meta":421,"className":521,"style":421},"class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n  // 添加依赖\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n  // 删除依赖\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n  // 收集依赖\n  depend() {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  // 通知依赖更新\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice();\n    for (let i = 0, l = subs.length; i \u003C l; i++) {\n      subs[i].update();\n    }\n  }\n}\n",[3967],{"type":428,"tag":472,"props":3968,"children":3969},{"__ignoreMap":421},[3970,3985,4000,4033,4062,4069,4077,4102,4141,4148,4156,4180,4221,4228,4236,4252,4283,4324,4331,4338,4346,4362,4370,4414,4501,4538,4545,4552],{"type":428,"tag":527,"props":3971,"children":3972},{"class":529,"line":530},[3973,3977,3981],{"type":428,"tag":527,"props":3974,"children":3975},{"style":534},[3976],{"type":434,"value":665},{"type":428,"tag":527,"props":3978,"children":3979},{"style":668},[3980],{"type":434,"value":771},{"type":428,"tag":527,"props":3982,"children":3983},{"style":546},[3984],{"type":434,"value":575},{"type":428,"tag":527,"props":3986,"children":3987},{"class":529,"line":578},[3988,3992,3996],{"type":428,"tag":527,"props":3989,"children":3990},{"style":534},[3991],{"type":434,"value":683},{"type":428,"tag":527,"props":3993,"children":3994},{"style":546},[3995],{"type":434,"value":776},{"type":428,"tag":527,"props":3997,"children":3998},{"style":546},[3999],{"type":434,"value":575},{"type":428,"tag":527,"props":4001,"children":4002},{"class":529,"line":622},[4003,4007,4011,4016,4020,4025,4029],{"type":428,"tag":527,"props":4004,"children":4005},{"style":706},[4006],{"type":434,"value":709},{"type":428,"tag":527,"props":4008,"children":4009},{"style":546},[4010],{"type":434,"value":714},{"type":428,"tag":527,"props":4012,"children":4013},{"style":582},[4014],{"type":434,"value":4015},"id",{"type":428,"tag":527,"props":4017,"children":4018},{"style":588},[4019],{"type":434,"value":591},{"type":428,"tag":527,"props":4021,"children":4022},{"style":582},[4023],{"type":434,"value":4024}," uid",{"type":428,"tag":527,"props":4026,"children":4027},{"style":588},[4028],{"type":434,"value":1326},{"type":428,"tag":527,"props":4030,"children":4031},{"style":546},[4032],{"type":434,"value":619},{"type":428,"tag":527,"props":4034,"children":4035},{"class":529,"line":641},[4036,4040,4044,4049,4053,4058],{"type":428,"tag":527,"props":4037,"children":4038},{"style":706},[4039],{"type":434,"value":709},{"type":428,"tag":527,"props":4041,"children":4042},{"style":546},[4043],{"type":434,"value":714},{"type":428,"tag":527,"props":4045,"children":4046},{"style":582},[4047],{"type":434,"value":4048},"subs",{"type":428,"tag":527,"props":4050,"children":4051},{"style":588},[4052],{"type":434,"value":591},{"type":428,"tag":527,"props":4054,"children":4055},{"style":604},[4056],{"type":434,"value":4057}," []",{"type":428,"tag":527,"props":4059,"children":4060},{"style":546},[4061],{"type":434,"value":619},{"type":428,"tag":527,"props":4063,"children":4064},{"class":529,"line":650},[4065],{"type":428,"tag":527,"props":4066,"children":4067},{"style":546},[4068],{"type":434,"value":1171},{"type":428,"tag":527,"props":4070,"children":4071},{"class":529,"line":659},[4072],{"type":428,"tag":527,"props":4073,"children":4074},{"style":738},[4075],{"type":434,"value":4076},"  // 添加依赖\n",{"type":428,"tag":527,"props":4078,"children":4079},{"class":529,"line":677},[4080,4085,4089,4094,4098],{"type":428,"tag":527,"props":4081,"children":4082},{"style":1186},[4083],{"type":434,"value":4084},"  addSub",{"type":428,"tag":527,"props":4086,"children":4087},{"style":546},[4088],{"type":434,"value":549},{"type":428,"tag":527,"props":4090,"children":4091},{"style":552},[4092],{"type":434,"value":4093},"sub",{"type":428,"tag":527,"props":4095,"children":4096},{"style":546},[4097],{"type":434,"value":570},{"type":428,"tag":527,"props":4099,"children":4100},{"style":546},[4101],{"type":434,"value":575},{"type":428,"tag":527,"props":4103,"children":4104},{"class":529,"line":702},[4105,4109,4113,4117,4121,4125,4129,4133,4137],{"type":428,"tag":527,"props":4106,"children":4107},{"style":706},[4108],{"type":434,"value":709},{"type":428,"tag":527,"props":4110,"children":4111},{"style":546},[4112],{"type":434,"value":714},{"type":428,"tag":527,"props":4114,"children":4115},{"style":582},[4116],{"type":434,"value":4048},{"type":428,"tag":527,"props":4118,"children":4119},{"style":546},[4120],{"type":434,"value":714},{"type":428,"tag":527,"props":4122,"children":4123},{"style":540},[4124],{"type":434,"value":1635},{"type":428,"tag":527,"props":4126,"children":4127},{"style":604},[4128],{"type":434,"value":549},{"type":428,"tag":527,"props":4130,"children":4131},{"style":582},[4132],{"type":434,"value":4093},{"type":428,"tag":527,"props":4134,"children":4135},{"style":604},[4136],{"type":434,"value":570},{"type":428,"tag":527,"props":4138,"children":4139},{"style":546},[4140],{"type":434,"value":619},{"type":428,"tag":527,"props":4142,"children":4143},{"class":529,"line":734},[4144],{"type":428,"tag":527,"props":4145,"children":4146},{"style":546},[4147],{"type":434,"value":1171},{"type":428,"tag":527,"props":4149,"children":4150},{"class":529,"line":744},[4151],{"type":428,"tag":527,"props":4152,"children":4153},{"style":738},[4154],{"type":434,"value":4155},"  // 删除依赖\n",{"type":428,"tag":527,"props":4157,"children":4158},{"class":529,"line":783},[4159,4164,4168,4172,4176],{"type":428,"tag":527,"props":4160,"children":4161},{"style":1186},[4162],{"type":434,"value":4163},"  removeSub",{"type":428,"tag":527,"props":4165,"children":4166},{"style":546},[4167],{"type":434,"value":549},{"type":428,"tag":527,"props":4169,"children":4170},{"style":552},[4171],{"type":434,"value":4093},{"type":428,"tag":527,"props":4173,"children":4174},{"style":546},[4175],{"type":434,"value":570},{"type":428,"tag":527,"props":4177,"children":4178},{"style":546},[4179],{"type":434,"value":575},{"type":428,"tag":527,"props":4181,"children":4182},{"class":529,"line":814},[4183,4188,4192,4196,4200,4204,4208,4213,4217],{"type":428,"tag":527,"props":4184,"children":4185},{"style":540},[4186],{"type":434,"value":4187},"    remove",{"type":428,"tag":527,"props":4189,"children":4190},{"style":604},[4191],{"type":434,"value":549},{"type":428,"tag":527,"props":4193,"children":4194},{"style":706},[4195],{"type":434,"value":1979},{"type":428,"tag":527,"props":4197,"children":4198},{"style":546},[4199],{"type":434,"value":714},{"type":428,"tag":527,"props":4201,"children":4202},{"style":582},[4203],{"type":434,"value":4048},{"type":428,"tag":527,"props":4205,"children":4206},{"style":546},[4207],{"type":434,"value":560},{"type":428,"tag":527,"props":4209,"children":4210},{"style":582},[4211],{"type":434,"value":4212}," sub",{"type":428,"tag":527,"props":4214,"children":4215},{"style":604},[4216],{"type":434,"value":570},{"type":428,"tag":527,"props":4218,"children":4219},{"style":546},[4220],{"type":434,"value":619},{"type":428,"tag":527,"props":4222,"children":4223},{"class":529,"line":823},[4224],{"type":428,"tag":527,"props":4225,"children":4226},{"style":546},[4227],{"type":434,"value":1171},{"type":428,"tag":527,"props":4229,"children":4230},{"class":529,"line":878},[4231],{"type":428,"tag":527,"props":4232,"children":4233},{"style":738},[4234],{"type":434,"value":4235},"  // 收集依赖\n",{"type":428,"tag":527,"props":4237,"children":4238},{"class":529,"line":887},[4239,4244,4248],{"type":428,"tag":527,"props":4240,"children":4241},{"style":1186},[4242],{"type":434,"value":4243},"  depend",{"type":428,"tag":527,"props":4245,"children":4246},{"style":546},[4247],{"type":434,"value":776},{"type":428,"tag":527,"props":4249,"children":4250},{"style":546},[4251],{"type":434,"value":575},{"type":428,"tag":527,"props":4253,"children":4254},{"class":529,"line":896},[4255,4259,4263,4267,4271,4275,4279],{"type":428,"tag":527,"props":4256,"children":4257},{"style":626},[4258],{"type":434,"value":902},{"type":428,"tag":527,"props":4260,"children":4261},{"style":604},[4262],{"type":434,"value":907},{"type":428,"tag":527,"props":4264,"children":4265},{"style":582},[4266],{"type":434,"value":3142},{"type":428,"tag":527,"props":4268,"children":4269},{"style":546},[4270],{"type":434,"value":714},{"type":428,"tag":527,"props":4272,"children":4273},{"style":582},[4274],{"type":434,"value":3151},{"type":428,"tag":527,"props":4276,"children":4277},{"style":604},[4278],{"type":434,"value":962},{"type":428,"tag":527,"props":4280,"children":4281},{"style":546},[4282],{"type":434,"value":939},{"type":428,"tag":527,"props":4284,"children":4285},{"class":529,"line":942},[4286,4291,4295,4299,4303,4308,4312,4316,4320],{"type":428,"tag":527,"props":4287,"children":4288},{"style":582},[4289],{"type":434,"value":4290},"      Dep",{"type":428,"tag":527,"props":4292,"children":4293},{"style":546},[4294],{"type":434,"value":714},{"type":428,"tag":527,"props":4296,"children":4297},{"style":582},[4298],{"type":434,"value":3151},{"type":428,"tag":527,"props":4300,"children":4301},{"style":546},[4302],{"type":434,"value":714},{"type":428,"tag":527,"props":4304,"children":4305},{"style":540},[4306],{"type":434,"value":4307},"addDep",{"type":428,"tag":527,"props":4309,"children":4310},{"style":604},[4311],{"type":434,"value":549},{"type":428,"tag":527,"props":4313,"children":4314},{"style":706},[4315],{"type":434,"value":1979},{"type":428,"tag":527,"props":4317,"children":4318},{"style":604},[4319],{"type":434,"value":570},{"type":428,"tag":527,"props":4321,"children":4322},{"style":546},[4323],{"type":434,"value":619},{"type":428,"tag":527,"props":4325,"children":4326},{"class":529,"line":969},[4327],{"type":428,"tag":527,"props":4328,"children":4329},{"style":546},[4330],{"type":434,"value":1162},{"type":428,"tag":527,"props":4332,"children":4333},{"class":529,"line":1003},[4334],{"type":428,"tag":527,"props":4335,"children":4336},{"style":546},[4337],{"type":434,"value":1171},{"type":428,"tag":527,"props":4339,"children":4340},{"class":529,"line":1021},[4341],{"type":428,"tag":527,"props":4342,"children":4343},{"style":738},[4344],{"type":434,"value":4345},"  // 通知依赖更新\n",{"type":428,"tag":527,"props":4347,"children":4348},{"class":529,"line":1063},[4349,4354,4358],{"type":428,"tag":527,"props":4350,"children":4351},{"style":1186},[4352],{"type":434,"value":4353},"  notify",{"type":428,"tag":527,"props":4355,"children":4356},{"style":546},[4357],{"type":434,"value":776},{"type":428,"tag":527,"props":4359,"children":4360},{"style":546},[4361],{"type":434,"value":575},{"type":428,"tag":527,"props":4363,"children":4364},{"class":529,"line":1072},[4365],{"type":428,"tag":527,"props":4366,"children":4367},{"style":738},[4368],{"type":434,"value":4369},"    // stabilize the subscriber list first\n",{"type":428,"tag":527,"props":4371,"children":4372},{"class":529,"line":1106},[4373,4377,4382,4386,4390,4394,4398,4402,4406,4410],{"type":428,"tag":527,"props":4374,"children":4375},{"style":534},[4376],{"type":434,"value":1215},{"type":428,"tag":527,"props":4378,"children":4379},{"style":1218},[4380],{"type":434,"value":4381}," subs",{"type":428,"tag":527,"props":4383,"children":4384},{"style":588},[4385],{"type":434,"value":591},{"type":428,"tag":527,"props":4387,"children":4388},{"style":706},[4389],{"type":434,"value":867},{"type":428,"tag":527,"props":4391,"children":4392},{"style":546},[4393],{"type":434,"value":714},{"type":428,"tag":527,"props":4395,"children":4396},{"style":582},[4397],{"type":434,"value":4048},{"type":428,"tag":527,"props":4399,"children":4400},{"style":546},[4401],{"type":434,"value":714},{"type":428,"tag":527,"props":4403,"children":4404},{"style":540},[4405],{"type":434,"value":2211},{"type":428,"tag":527,"props":4407,"children":4408},{"style":604},[4409],{"type":434,"value":776},{"type":428,"tag":527,"props":4411,"children":4412},{"style":546},[4413],{"type":434,"value":619},{"type":428,"tag":527,"props":4415,"children":4416},{"class":529,"line":1123},[4417,4421,4425,4429,4433,4437,4441,4445,4449,4453,4457,4461,4465,4469,4473,4477,4481,4485,4489,4493,4497],{"type":428,"tag":527,"props":4418,"children":4419},{"style":626},[4420],{"type":434,"value":1264},{"type":428,"tag":527,"props":4422,"children":4423},{"style":604},[4424],{"type":434,"value":907},{"type":428,"tag":527,"props":4426,"children":4427},{"style":534},[4428],{"type":434,"value":1273},{"type":428,"tag":527,"props":4430,"children":4431},{"style":582},[4432],{"type":434,"value":1278},{"type":428,"tag":527,"props":4434,"children":4435},{"style":588},[4436],{"type":434,"value":591},{"type":428,"tag":527,"props":4438,"children":4439},{"style":804},[4440],{"type":434,"value":807},{"type":428,"tag":527,"props":4442,"children":4443},{"style":546},[4444],{"type":434,"value":560},{"type":428,"tag":527,"props":4446,"children":4447},{"style":582},[4448],{"type":434,"value":1465},{"type":428,"tag":527,"props":4450,"children":4451},{"style":588},[4452],{"type":434,"value":591},{"type":428,"tag":527,"props":4454,"children":4455},{"style":582},[4456],{"type":434,"value":4381},{"type":428,"tag":527,"props":4458,"children":4459},{"style":546},[4460],{"type":434,"value":714},{"type":428,"tag":527,"props":4462,"children":4463},{"style":1218},[4464],{"type":434,"value":1313},{"type":428,"tag":527,"props":4466,"children":4467},{"style":546},[4468],{"type":434,"value":1291},{"type":428,"tag":527,"props":4470,"children":4471},{"style":582},[4472],{"type":434,"value":1278},{"type":428,"tag":527,"props":4474,"children":4475},{"style":588},[4476],{"type":434,"value":1300},{"type":428,"tag":527,"props":4478,"children":4479},{"style":582},[4480],{"type":434,"value":1465},{"type":428,"tag":527,"props":4482,"children":4483},{"style":546},[4484],{"type":434,"value":1291},{"type":428,"tag":527,"props":4486,"children":4487},{"style":582},[4488],{"type":434,"value":1278},{"type":428,"tag":527,"props":4490,"children":4491},{"style":588},[4492],{"type":434,"value":1326},{"type":428,"tag":527,"props":4494,"children":4495},{"style":604},[4496],{"type":434,"value":962},{"type":428,"tag":527,"props":4498,"children":4499},{"style":546},[4500],{"type":434,"value":939},{"type":428,"tag":527,"props":4502,"children":4503},{"class":529,"line":1156},[4504,4509,4513,4517,4521,4525,4530,4534],{"type":428,"tag":527,"props":4505,"children":4506},{"style":582},[4507],{"type":434,"value":4508},"      subs",{"type":428,"tag":527,"props":4510,"children":4511},{"style":604},[4512],{"type":434,"value":1364},{"type":428,"tag":527,"props":4514,"children":4515},{"style":582},[4516],{"type":434,"value":1369},{"type":428,"tag":527,"props":4518,"children":4519},{"style":604},[4520],{"type":434,"value":1772},{"type":428,"tag":527,"props":4522,"children":4523},{"style":546},[4524],{"type":434,"value":714},{"type":428,"tag":527,"props":4526,"children":4527},{"style":540},[4528],{"type":434,"value":4529},"update",{"type":428,"tag":527,"props":4531,"children":4532},{"style":604},[4533],{"type":434,"value":776},{"type":428,"tag":527,"props":4535,"children":4536},{"style":546},[4537],{"type":434,"value":619},{"type":428,"tag":527,"props":4539,"children":4540},{"class":529,"line":1165},[4541],{"type":428,"tag":527,"props":4542,"children":4543},{"style":546},[4544],{"type":434,"value":1162},{"type":428,"tag":527,"props":4546,"children":4547},{"class":529,"line":1174},[4548],{"type":428,"tag":527,"props":4549,"children":4550},{"style":546},[4551],{"type":434,"value":1171},{"type":428,"tag":527,"props":4553,"children":4554},{"class":529,"line":1182},[4555],{"type":428,"tag":527,"props":4556,"children":4557},{"style":546},[4558],{"type":434,"value":647},{"type":428,"tag":461,"props":4560,"children":4561},{},[4562],{"type":434,"value":4563},"依赖容器和依赖之间是存在耦合的，所以我们看到收集依赖的这个地方，仅仅调用了依赖的 addDep 方法，没有调用 addSub 把添加依赖。其实，addSub 是在依赖的 addDep 方法中调用的。这个和观察者模式离不开关系，在观察者模式中，观察者直接观测目标，并相应目标做出的通知。Watcher 直接观测响应式数据，当数据发生变更时，就能收到通知。但由于数据和观察者是多对多的关系，所以需要 Dep 依赖容器这么一个东西用来保存 Watcher 与数据的关系。",{"type":428,"tag":461,"props":4565,"children":4566},{},[4567],{"type":428,"tag":4568,"props":4569,"children":4571},"img",{"alt":478,"src":4570},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20200810100326.png?w=70",[],{"type":428,"tag":461,"props":4573,"children":4574},{},[4575],{"type":434,"value":4576},"Dep.target 用来表示当前依赖，并且源码维护了一个依赖栈，通过提供的 pushTarget、popTarget 方法维护依赖栈及当前依赖（状态）。看以下代码：",{"type":428,"tag":467,"props":4578,"children":4580},{"code":4579,"language":520,"meta":421,"className":521,"style":421},"// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nconst targetStack = [];\nfunction pushTarget(target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\nfunction popTarget() {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n",[4581],{"type":428,"tag":472,"props":4582,"children":4583},{"__ignoreMap":421},[4584,4592,4600,4608,4639,4663,4691,4723,4752,4759,4779,4802,4860],{"type":428,"tag":527,"props":4585,"children":4586},{"class":529,"line":530},[4587],{"type":428,"tag":527,"props":4588,"children":4589},{"style":738},[4590],{"type":434,"value":4591},"// The current target watcher being evaluated.\n",{"type":428,"tag":527,"props":4593,"children":4594},{"class":529,"line":578},[4595],{"type":428,"tag":527,"props":4596,"children":4597},{"style":738},[4598],{"type":434,"value":4599},"// This is globally unique because only one watcher\n",{"type":428,"tag":527,"props":4601,"children":4602},{"class":529,"line":622},[4603],{"type":428,"tag":527,"props":4604,"children":4605},{"style":738},[4606],{"type":434,"value":4607},"// can be evaluated at a time.\n",{"type":428,"tag":527,"props":4609,"children":4610},{"class":529,"line":641},[4611,4615,4619,4624,4629,4635],{"type":428,"tag":527,"props":4612,"children":4613},{"style":582},[4614],{"type":434,"value":3142},{"type":428,"tag":527,"props":4616,"children":4617},{"style":546},[4618],{"type":434,"value":714},{"type":428,"tag":527,"props":4620,"children":4621},{"style":582},[4622],{"type":434,"value":4623},"target ",{"type":428,"tag":527,"props":4625,"children":4626},{"style":588},[4627],{"type":434,"value":4628},"=",{"type":428,"tag":527,"props":4630,"children":4632},{"style":4631},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[4633],{"type":434,"value":4634}," null",{"type":428,"tag":527,"props":4636,"children":4637},{"style":546},[4638],{"type":434,"value":619},{"type":428,"tag":527,"props":4640,"children":4641},{"class":529,"line":650},[4642,4646,4651,4655,4659],{"type":428,"tag":527,"props":4643,"children":4644},{"style":534},[4645],{"type":434,"value":1608},{"type":428,"tag":527,"props":4647,"children":4648},{"style":1218},[4649],{"type":434,"value":4650}," targetStack",{"type":428,"tag":527,"props":4652,"children":4653},{"style":588},[4654],{"type":434,"value":591},{"type":428,"tag":527,"props":4656,"children":4657},{"style":582},[4658],{"type":434,"value":4057},{"type":428,"tag":527,"props":4660,"children":4661},{"style":546},[4662],{"type":434,"value":619},{"type":428,"tag":527,"props":4664,"children":4665},{"class":529,"line":659},[4666,4670,4675,4679,4683,4687],{"type":428,"tag":527,"props":4667,"children":4668},{"style":534},[4669],{"type":434,"value":537},{"type":428,"tag":527,"props":4671,"children":4672},{"style":540},[4673],{"type":434,"value":4674}," pushTarget",{"type":428,"tag":527,"props":4676,"children":4677},{"style":546},[4678],{"type":434,"value":549},{"type":428,"tag":527,"props":4680,"children":4681},{"style":552},[4682],{"type":434,"value":3151},{"type":428,"tag":527,"props":4684,"children":4685},{"style":546},[4686],{"type":434,"value":570},{"type":428,"tag":527,"props":4688,"children":4689},{"style":546},[4690],{"type":434,"value":575},{"type":428,"tag":527,"props":4692,"children":4693},{"class":529,"line":677},[4694,4699,4703,4707,4711,4715,4719],{"type":428,"tag":527,"props":4695,"children":4696},{"style":582},[4697],{"type":434,"value":4698},"  targetStack",{"type":428,"tag":527,"props":4700,"children":4701},{"style":546},[4702],{"type":434,"value":714},{"type":428,"tag":527,"props":4704,"children":4705},{"style":540},[4706],{"type":434,"value":1635},{"type":428,"tag":527,"props":4708,"children":4709},{"style":604},[4710],{"type":434,"value":549},{"type":428,"tag":527,"props":4712,"children":4713},{"style":582},[4714],{"type":434,"value":3151},{"type":428,"tag":527,"props":4716,"children":4717},{"style":604},[4718],{"type":434,"value":570},{"type":428,"tag":527,"props":4720,"children":4721},{"style":546},[4722],{"type":434,"value":619},{"type":428,"tag":527,"props":4724,"children":4725},{"class":529,"line":702},[4726,4731,4735,4739,4743,4748],{"type":428,"tag":527,"props":4727,"children":4728},{"style":582},[4729],{"type":434,"value":4730},"  Dep",{"type":428,"tag":527,"props":4732,"children":4733},{"style":546},[4734],{"type":434,"value":714},{"type":428,"tag":527,"props":4736,"children":4737},{"style":582},[4738],{"type":434,"value":3151},{"type":428,"tag":527,"props":4740,"children":4741},{"style":588},[4742],{"type":434,"value":591},{"type":428,"tag":527,"props":4744,"children":4745},{"style":582},[4746],{"type":434,"value":4747}," target",{"type":428,"tag":527,"props":4749,"children":4750},{"style":546},[4751],{"type":434,"value":619},{"type":428,"tag":527,"props":4753,"children":4754},{"class":529,"line":734},[4755],{"type":428,"tag":527,"props":4756,"children":4757},{"style":546},[4758],{"type":434,"value":647},{"type":428,"tag":527,"props":4760,"children":4761},{"class":529,"line":744},[4762,4766,4771,4775],{"type":428,"tag":527,"props":4763,"children":4764},{"style":534},[4765],{"type":434,"value":537},{"type":428,"tag":527,"props":4767,"children":4768},{"style":540},[4769],{"type":434,"value":4770}," popTarget",{"type":428,"tag":527,"props":4772,"children":4773},{"style":546},[4774],{"type":434,"value":776},{"type":428,"tag":527,"props":4776,"children":4777},{"style":546},[4778],{"type":434,"value":575},{"type":428,"tag":527,"props":4780,"children":4781},{"class":529,"line":783},[4782,4786,4790,4794,4798],{"type":428,"tag":527,"props":4783,"children":4784},{"style":582},[4785],{"type":434,"value":4698},{"type":428,"tag":527,"props":4787,"children":4788},{"style":546},[4789],{"type":434,"value":714},{"type":428,"tag":527,"props":4791,"children":4792},{"style":540},[4793],{"type":434,"value":1656},{"type":428,"tag":527,"props":4795,"children":4796},{"style":604},[4797],{"type":434,"value":776},{"type":428,"tag":527,"props":4799,"children":4800},{"style":546},[4801],{"type":434,"value":619},{"type":428,"tag":527,"props":4803,"children":4804},{"class":529,"line":814},[4805,4809,4813,4817,4821,4825,4829,4834,4838,4842,4847,4852,4856],{"type":428,"tag":527,"props":4806,"children":4807},{"style":582},[4808],{"type":434,"value":4730},{"type":428,"tag":527,"props":4810,"children":4811},{"style":546},[4812],{"type":434,"value":714},{"type":428,"tag":527,"props":4814,"children":4815},{"style":582},[4816],{"type":434,"value":3151},{"type":428,"tag":527,"props":4818,"children":4819},{"style":588},[4820],{"type":434,"value":591},{"type":428,"tag":527,"props":4822,"children":4823},{"style":582},[4824],{"type":434,"value":4650},{"type":428,"tag":527,"props":4826,"children":4827},{"style":604},[4828],{"type":434,"value":1364},{"type":428,"tag":527,"props":4830,"children":4831},{"style":582},[4832],{"type":434,"value":4833},"targetStack",{"type":428,"tag":527,"props":4835,"children":4836},{"style":546},[4837],{"type":434,"value":714},{"type":428,"tag":527,"props":4839,"children":4840},{"style":1218},[4841],{"type":434,"value":1313},{"type":428,"tag":527,"props":4843,"children":4844},{"style":588},[4845],{"type":434,"value":4846}," -",{"type":428,"tag":527,"props":4848,"children":4849},{"style":804},[4850],{"type":434,"value":4851}," 1",{"type":428,"tag":527,"props":4853,"children":4854},{"style":604},[4855],{"type":434,"value":1772},{"type":428,"tag":527,"props":4857,"children":4858},{"style":546},[4859],{"type":434,"value":619},{"type":428,"tag":527,"props":4861,"children":4862},{"class":529,"line":823},[4863],{"type":428,"tag":527,"props":4864,"children":4865},{"style":546},[4866],{"type":434,"value":647},{"type":428,"tag":461,"props":4868,"children":4869},{},[4870],{"type":434,"value":4871},"既然 Dep 用来存放 Watcher，是依赖容器，那么，依赖就是 Watcher。",{"type":428,"tag":461,"props":4873,"children":4874},{},[4875],{"type":434,"value":4876},"Watcher 通过调用我们刚才提到的 pushTarget、popTarget 以维护全局的当前依赖（Dep.target）。全局的当前依赖只会有一个，因为 JS 是同步的，顺序执行的代码。我们先来看看 Watcher 怎么样维护当前依赖。",{"type":428,"tag":467,"props":4878,"children":4880},{"code":4879,"language":520,"meta":421,"className":521,"style":421},"class Watcher {\n  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n  get() {\n    pushTarget(this);\n    let value;\n    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n    const vm = this.vm;\n    // 触发 getter 更新\n    try {\n      value = this.getter.call(vm, vm);\n    } catch (e) {\n      if (this.user) {\n        handleError(e, vm, `getter for watcher \"${this.expression}\"`);\n      } else {\n        throw e;\n      }\n    } finally {\n      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n      // traverse 即递归读取对象的每一个元素\n      if (this.deep) {\n        traverse(value);\n      }\n      popTarget();\n      // 因为每次 get 之后都重收集了依赖，\n      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n      this.cleanupDeps();\n    }\n    return value;\n  }\n}\n",[4881],{"type":428,"tag":472,"props":4882,"children":4883},{"__ignoreMap":421},[4884,4900,4908,4916,4924,4940,4964,4979,4987,5020,5028,5040,5096,5125,5157,5236,5251,5268,5275,5291,5299,5307,5339,5363,5370,5386,5394,5402,5426,5433,5448,5455],{"type":428,"tag":527,"props":4885,"children":4886},{"class":529,"line":530},[4887,4891,4896],{"type":428,"tag":527,"props":4888,"children":4889},{"style":534},[4890],{"type":434,"value":665},{"type":428,"tag":527,"props":4892,"children":4893},{"style":668},[4894],{"type":434,"value":4895}," Watcher",{"type":428,"tag":527,"props":4897,"children":4898},{"style":546},[4899],{"type":434,"value":575},{"type":428,"tag":527,"props":4901,"children":4902},{"class":529,"line":578},[4903],{"type":428,"tag":527,"props":4904,"children":4905},{"style":738},[4906],{"type":434,"value":4907},"  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n",{"type":428,"tag":527,"props":4909,"children":4910},{"class":529,"line":622},[4911],{"type":428,"tag":527,"props":4912,"children":4913},{"style":738},[4914],{"type":434,"value":4915},"  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n",{"type":428,"tag":527,"props":4917,"children":4918},{"class":529,"line":641},[4919],{"type":428,"tag":527,"props":4920,"children":4921},{"style":738},[4922],{"type":434,"value":4923},"  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n",{"type":428,"tag":527,"props":4925,"children":4926},{"class":529,"line":650},[4927,4932,4936],{"type":428,"tag":527,"props":4928,"children":4929},{"style":1186},[4930],{"type":434,"value":4931},"  get",{"type":428,"tag":527,"props":4933,"children":4934},{"style":546},[4935],{"type":434,"value":776},{"type":428,"tag":527,"props":4937,"children":4938},{"style":546},[4939],{"type":434,"value":575},{"type":428,"tag":527,"props":4941,"children":4942},{"class":529,"line":659},[4943,4948,4952,4956,4960],{"type":428,"tag":527,"props":4944,"children":4945},{"style":540},[4946],{"type":434,"value":4947},"    pushTarget",{"type":428,"tag":527,"props":4949,"children":4950},{"style":604},[4951],{"type":434,"value":549},{"type":428,"tag":527,"props":4953,"children":4954},{"style":706},[4955],{"type":434,"value":1979},{"type":428,"tag":527,"props":4957,"children":4958},{"style":604},[4959],{"type":434,"value":570},{"type":428,"tag":527,"props":4961,"children":4962},{"style":546},[4963],{"type":434,"value":619},{"type":428,"tag":527,"props":4965,"children":4966},{"class":529,"line":677},[4967,4971,4975],{"type":428,"tag":527,"props":4968,"children":4969},{"style":534},[4970],{"type":434,"value":2051},{"type":428,"tag":527,"props":4972,"children":4973},{"style":582},[4974],{"type":434,"value":727},{"type":428,"tag":527,"props":4976,"children":4977},{"style":546},[4978],{"type":434,"value":619},{"type":428,"tag":527,"props":4980,"children":4981},{"class":529,"line":702},[4982],{"type":428,"tag":527,"props":4983,"children":4984},{"style":738},[4985],{"type":434,"value":4986},"    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n",{"type":428,"tag":527,"props":4988,"children":4989},{"class":529,"line":734},[4990,4994,4999,5003,5007,5011,5016],{"type":428,"tag":527,"props":4991,"children":4992},{"style":534},[4993],{"type":434,"value":1215},{"type":428,"tag":527,"props":4995,"children":4996},{"style":1218},[4997],{"type":434,"value":4998}," vm",{"type":428,"tag":527,"props":5000,"children":5001},{"style":588},[5002],{"type":434,"value":591},{"type":428,"tag":527,"props":5004,"children":5005},{"style":706},[5006],{"type":434,"value":867},{"type":428,"tag":527,"props":5008,"children":5009},{"style":546},[5010],{"type":434,"value":714},{"type":428,"tag":527,"props":5012,"children":5013},{"style":582},[5014],{"type":434,"value":5015},"vm",{"type":428,"tag":527,"props":5017,"children":5018},{"style":546},[5019],{"type":434,"value":619},{"type":428,"tag":527,"props":5021,"children":5022},{"class":529,"line":744},[5023],{"type":428,"tag":527,"props":5024,"children":5025},{"style":738},[5026],{"type":434,"value":5027},"    // 触发 getter 更新\n",{"type":428,"tag":527,"props":5029,"children":5030},{"class":529,"line":783},[5031,5036],{"type":428,"tag":527,"props":5032,"children":5033},{"style":626},[5034],{"type":434,"value":5035},"    try",{"type":428,"tag":527,"props":5037,"children":5038},{"style":546},[5039],{"type":434,"value":575},{"type":428,"tag":527,"props":5041,"children":5042},{"class":529,"line":814},[5043,5048,5052,5056,5060,5064,5068,5072,5076,5080,5084,5088,5092],{"type":428,"tag":527,"props":5044,"children":5045},{"style":582},[5046],{"type":434,"value":5047},"      value",{"type":428,"tag":527,"props":5049,"children":5050},{"style":588},[5051],{"type":434,"value":591},{"type":428,"tag":527,"props":5053,"children":5054},{"style":706},[5055],{"type":434,"value":867},{"type":428,"tag":527,"props":5057,"children":5058},{"style":546},[5059],{"type":434,"value":714},{"type":428,"tag":527,"props":5061,"children":5062},{"style":582},[5063],{"type":434,"value":2780},{"type":428,"tag":527,"props":5065,"children":5066},{"style":546},[5067],{"type":434,"value":714},{"type":428,"tag":527,"props":5069,"children":5070},{"style":540},[5071],{"type":434,"value":3094},{"type":428,"tag":527,"props":5073,"children":5074},{"style":604},[5075],{"type":434,"value":549},{"type":428,"tag":527,"props":5077,"children":5078},{"style":582},[5079],{"type":434,"value":5015},{"type":428,"tag":527,"props":5081,"children":5082},{"style":546},[5083],{"type":434,"value":560},{"type":428,"tag":527,"props":5085,"children":5086},{"style":582},[5087],{"type":434,"value":4998},{"type":428,"tag":527,"props":5089,"children":5090},{"style":604},[5091],{"type":434,"value":570},{"type":428,"tag":527,"props":5093,"children":5094},{"style":546},[5095],{"type":434,"value":619},{"type":428,"tag":527,"props":5097,"children":5098},{"class":529,"line":823},[5099,5103,5108,5112,5117,5121],{"type":428,"tag":527,"props":5100,"children":5101},{"style":546},[5102],{"type":434,"value":1112},{"type":428,"tag":527,"props":5104,"children":5105},{"style":626},[5106],{"type":434,"value":5107}," catch",{"type":428,"tag":527,"props":5109,"children":5110},{"style":604},[5111],{"type":434,"value":907},{"type":428,"tag":527,"props":5113,"children":5114},{"style":582},[5115],{"type":434,"value":5116},"e",{"type":428,"tag":527,"props":5118,"children":5119},{"style":604},[5120],{"type":434,"value":962},{"type":428,"tag":527,"props":5122,"children":5123},{"style":546},[5124],{"type":434,"value":939},{"type":428,"tag":527,"props":5126,"children":5127},{"class":529,"line":878},[5128,5132,5136,5140,5144,5149,5153],{"type":428,"tag":527,"props":5129,"children":5130},{"style":626},[5131],{"type":434,"value":948},{"type":428,"tag":527,"props":5133,"children":5134},{"style":604},[5135],{"type":434,"value":907},{"type":428,"tag":527,"props":5137,"children":5138},{"style":706},[5139],{"type":434,"value":1979},{"type":428,"tag":527,"props":5141,"children":5142},{"style":546},[5143],{"type":434,"value":714},{"type":428,"tag":527,"props":5145,"children":5146},{"style":582},[5147],{"type":434,"value":5148},"user",{"type":428,"tag":527,"props":5150,"children":5151},{"style":604},[5152],{"type":434,"value":962},{"type":428,"tag":527,"props":5154,"children":5155},{"style":546},[5156],{"type":434,"value":939},{"type":428,"tag":527,"props":5158,"children":5159},{"class":529,"line":887},[5160,5165,5169,5173,5177,5181,5185,5190,5195,5201,5205,5210,5215,5219,5223,5228,5232],{"type":428,"tag":527,"props":5161,"children":5162},{"style":540},[5163],{"type":434,"value":5164},"        handleError",{"type":428,"tag":527,"props":5166,"children":5167},{"style":604},[5168],{"type":434,"value":549},{"type":428,"tag":527,"props":5170,"children":5171},{"style":582},[5172],{"type":434,"value":5116},{"type":428,"tag":527,"props":5174,"children":5175},{"style":546},[5176],{"type":434,"value":560},{"type":428,"tag":527,"props":5178,"children":5179},{"style":582},[5180],{"type":434,"value":4998},{"type":428,"tag":527,"props":5182,"children":5183},{"style":546},[5184],{"type":434,"value":560},{"type":428,"tag":527,"props":5186,"children":5187},{"style":844},[5188],{"type":434,"value":5189}," `",{"type":428,"tag":527,"props":5191,"children":5192},{"style":850},[5193],{"type":434,"value":5194},"getter for watcher \"",{"type":428,"tag":527,"props":5196,"children":5198},{"style":5197},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[5199],{"type":434,"value":5200},"${",{"type":428,"tag":527,"props":5202,"children":5203},{"style":706},[5204],{"type":434,"value":1979},{"type":428,"tag":527,"props":5206,"children":5208},{"style":5207},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[5209],{"type":434,"value":714},{"type":428,"tag":527,"props":5211,"children":5212},{"style":582},[5213],{"type":434,"value":5214},"expression",{"type":428,"tag":527,"props":5216,"children":5217},{"style":5197},[5218],{"type":434,"value":2376},{"type":428,"tag":527,"props":5220,"children":5221},{"style":850},[5222],{"type":434,"value":858},{"type":428,"tag":527,"props":5224,"children":5225},{"style":844},[5226],{"type":434,"value":5227},"`",{"type":428,"tag":527,"props":5229,"children":5230},{"style":604},[5231],{"type":434,"value":570},{"type":428,"tag":527,"props":5233,"children":5234},{"style":546},[5235],{"type":434,"value":619},{"type":428,"tag":527,"props":5237,"children":5238},{"class":529,"line":896},[5239,5243,5247],{"type":428,"tag":527,"props":5240,"children":5241},{"style":546},[5242],{"type":434,"value":1009},{"type":428,"tag":527,"props":5244,"children":5245},{"style":626},[5246],{"type":434,"value":1014},{"type":428,"tag":527,"props":5248,"children":5249},{"style":546},[5250],{"type":434,"value":575},{"type":428,"tag":527,"props":5252,"children":5253},{"class":529,"line":942},[5254,5259,5264],{"type":428,"tag":527,"props":5255,"children":5256},{"style":626},[5257],{"type":434,"value":5258},"        throw",{"type":428,"tag":527,"props":5260,"children":5261},{"style":582},[5262],{"type":434,"value":5263}," e",{"type":428,"tag":527,"props":5265,"children":5266},{"style":546},[5267],{"type":434,"value":619},{"type":428,"tag":527,"props":5269,"children":5270},{"class":529,"line":969},[5271],{"type":428,"tag":527,"props":5272,"children":5273},{"style":546},[5274],{"type":434,"value":1069},{"type":428,"tag":527,"props":5276,"children":5277},{"class":529,"line":1003},[5278,5282,5287],{"type":428,"tag":527,"props":5279,"children":5280},{"style":546},[5281],{"type":434,"value":1112},{"type":428,"tag":527,"props":5283,"children":5284},{"style":626},[5285],{"type":434,"value":5286}," finally",{"type":428,"tag":527,"props":5288,"children":5289},{"style":546},[5290],{"type":434,"value":575},{"type":428,"tag":527,"props":5292,"children":5293},{"class":529,"line":1021},[5294],{"type":428,"tag":527,"props":5295,"children":5296},{"style":738},[5297],{"type":434,"value":5298},"      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n",{"type":428,"tag":527,"props":5300,"children":5301},{"class":529,"line":1063},[5302],{"type":428,"tag":527,"props":5303,"children":5304},{"style":738},[5305],{"type":434,"value":5306},"      // traverse 即递归读取对象的每一个元素\n",{"type":428,"tag":527,"props":5308,"children":5309},{"class":529,"line":1072},[5310,5314,5318,5322,5326,5331,5335],{"type":428,"tag":527,"props":5311,"children":5312},{"style":626},[5313],{"type":434,"value":948},{"type":428,"tag":527,"props":5315,"children":5316},{"style":604},[5317],{"type":434,"value":907},{"type":428,"tag":527,"props":5319,"children":5320},{"style":706},[5321],{"type":434,"value":1979},{"type":428,"tag":527,"props":5323,"children":5324},{"style":546},[5325],{"type":434,"value":714},{"type":428,"tag":527,"props":5327,"children":5328},{"style":582},[5329],{"type":434,"value":5330},"deep",{"type":428,"tag":527,"props":5332,"children":5333},{"style":604},[5334],{"type":434,"value":962},{"type":428,"tag":527,"props":5336,"children":5337},{"style":546},[5338],{"type":434,"value":939},{"type":428,"tag":527,"props":5340,"children":5341},{"class":529,"line":1106},[5342,5347,5351,5355,5359],{"type":428,"tag":527,"props":5343,"children":5344},{"style":540},[5345],{"type":434,"value":5346},"        traverse",{"type":428,"tag":527,"props":5348,"children":5349},{"style":604},[5350],{"type":434,"value":549},{"type":428,"tag":527,"props":5352,"children":5353},{"style":582},[5354],{"type":434,"value":555},{"type":428,"tag":527,"props":5356,"children":5357},{"style":604},[5358],{"type":434,"value":570},{"type":428,"tag":527,"props":5360,"children":5361},{"style":546},[5362],{"type":434,"value":619},{"type":428,"tag":527,"props":5364,"children":5365},{"class":529,"line":1123},[5366],{"type":428,"tag":527,"props":5367,"children":5368},{"style":546},[5369],{"type":434,"value":1069},{"type":428,"tag":527,"props":5371,"children":5372},{"class":529,"line":1156},[5373,5378,5382],{"type":428,"tag":527,"props":5374,"children":5375},{"style":540},[5376],{"type":434,"value":5377},"      popTarget",{"type":428,"tag":527,"props":5379,"children":5380},{"style":604},[5381],{"type":434,"value":776},{"type":428,"tag":527,"props":5383,"children":5384},{"style":546},[5385],{"type":434,"value":619},{"type":428,"tag":527,"props":5387,"children":5388},{"class":529,"line":1165},[5389],{"type":428,"tag":527,"props":5390,"children":5391},{"style":738},[5392],{"type":434,"value":5393},"      // 因为每次 get 之后都重收集了依赖，\n",{"type":428,"tag":527,"props":5395,"children":5396},{"class":529,"line":1174},[5397],{"type":428,"tag":527,"props":5398,"children":5399},{"style":738},[5400],{"type":434,"value":5401},"      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n",{"type":428,"tag":527,"props":5403,"children":5404},{"class":529,"line":1182},[5405,5409,5413,5418,5422],{"type":428,"tag":527,"props":5406,"children":5407},{"style":706},[5408],{"type":434,"value":1078},{"type":428,"tag":527,"props":5410,"children":5411},{"style":546},[5412],{"type":434,"value":714},{"type":428,"tag":527,"props":5414,"children":5415},{"style":540},[5416],{"type":434,"value":5417},"cleanupDeps",{"type":428,"tag":527,"props":5419,"children":5420},{"style":604},[5421],{"type":434,"value":776},{"type":428,"tag":527,"props":5423,"children":5424},{"style":546},[5425],{"type":434,"value":619},{"type":428,"tag":527,"props":5427,"children":5428},{"class":529,"line":1209},[5429],{"type":428,"tag":527,"props":5430,"children":5431},{"style":546},[5432],{"type":434,"value":1162},{"type":428,"tag":527,"props":5434,"children":5435},{"class":529,"line":1258},[5436,5440,5444],{"type":428,"tag":527,"props":5437,"children":5438},{"style":626},[5439],{"type":434,"value":2344},{"type":428,"tag":527,"props":5441,"children":5442},{"style":582},[5443],{"type":434,"value":727},{"type":428,"tag":527,"props":5445,"children":5446},{"style":546},[5447],{"type":434,"value":619},{"type":428,"tag":527,"props":5449,"children":5450},{"class":529,"line":1337},[5451],{"type":428,"tag":527,"props":5452,"children":5453},{"style":546},[5454],{"type":434,"value":1171},{"type":428,"tag":527,"props":5456,"children":5457},{"class":529,"line":1381},[5458],{"type":428,"tag":527,"props":5459,"children":5460},{"style":546},[5461],{"type":434,"value":647},{"type":428,"tag":461,"props":5463,"children":5464},{},[5465],{"type":434,"value":5466},"Vue 实例中，data 方法会返回一个新的对象，这个对象能将值的变化响应式更新到模板中。其实就是，新的对象返回来后，使用了 observe 方法观测其变化，而其每一个属性的依赖容器中，都会保存这个 Vue 实例的 watcher。这样一来，只要属性发生了变化，依赖容器就会通知 Vue 实例的 watcher 进行更新。至于要更新什么，那当然是“执行回调函数”啦。想象一下 Vue 实例中的 watch 的写法：",{"type":428,"tag":467,"props":5468,"children":5470},{"code":5469,"language":520,"meta":421,"className":521,"style":421},"new Vue({\n  data() {\n    return {\n      b: null,\n    };\n  },\n  watch: {\n    b() {\n      console.log(\"I'm callback\");\n    },\n  },\n});\n",[5471],{"type":428,"tag":472,"props":5472,"children":5473},{"__ignoreMap":421},[5474,5495,5511,5522,5542,5550,5558,5574,5590,5632,5639,5646],{"type":428,"tag":527,"props":5475,"children":5476},{"class":529,"line":530},[5477,5482,5487,5491],{"type":428,"tag":527,"props":5478,"children":5479},{"style":588},[5480],{"type":434,"value":5481},"new",{"type":428,"tag":527,"props":5483,"children":5484},{"style":540},[5485],{"type":434,"value":5486}," Vue",{"type":428,"tag":527,"props":5488,"children":5489},{"style":582},[5490],{"type":434,"value":549},{"type":428,"tag":527,"props":5492,"children":5493},{"style":546},[5494],{"type":434,"value":939},{"type":428,"tag":527,"props":5496,"children":5497},{"class":529,"line":578},[5498,5503,5507],{"type":428,"tag":527,"props":5499,"children":5500},{"style":1186},[5501],{"type":434,"value":5502},"  data",{"type":428,"tag":527,"props":5504,"children":5505},{"style":546},[5506],{"type":434,"value":776},{"type":428,"tag":527,"props":5508,"children":5509},{"style":546},[5510],{"type":434,"value":575},{"type":428,"tag":527,"props":5512,"children":5513},{"class":529,"line":622},[5514,5518],{"type":428,"tag":527,"props":5515,"children":5516},{"style":626},[5517],{"type":434,"value":2344},{"type":428,"tag":527,"props":5519,"children":5520},{"style":546},[5521],{"type":434,"value":575},{"type":428,"tag":527,"props":5523,"children":5524},{"class":529,"line":641},[5525,5530,5534,5538],{"type":428,"tag":527,"props":5526,"children":5527},{"style":604},[5528],{"type":434,"value":5529},"      b",{"type":428,"tag":527,"props":5531,"children":5532},{"style":546},[5533],{"type":434,"value":2998},{"type":428,"tag":527,"props":5535,"children":5536},{"style":4631},[5537],{"type":434,"value":4634},{"type":428,"tag":527,"props":5539,"children":5540},{"style":546},[5541],{"type":434,"value":1644},{"type":428,"tag":527,"props":5543,"children":5544},{"class":529,"line":650},[5545],{"type":428,"tag":527,"props":5546,"children":5547},{"style":546},[5548],{"type":434,"value":5549},"    };\n",{"type":428,"tag":527,"props":5551,"children":5552},{"class":529,"line":659},[5553],{"type":428,"tag":527,"props":5554,"children":5555},{"style":546},[5556],{"type":434,"value":5557},"  },\n",{"type":428,"tag":527,"props":5559,"children":5560},{"class":529,"line":677},[5561,5566,5570],{"type":428,"tag":527,"props":5562,"children":5563},{"style":604},[5564],{"type":434,"value":5565},"  watch",{"type":428,"tag":527,"props":5567,"children":5568},{"style":546},[5569],{"type":434,"value":2998},{"type":428,"tag":527,"props":5571,"children":5572},{"style":546},[5573],{"type":434,"value":575},{"type":428,"tag":527,"props":5575,"children":5576},{"class":529,"line":702},[5577,5582,5586],{"type":428,"tag":527,"props":5578,"children":5579},{"style":1186},[5580],{"type":434,"value":5581},"    b",{"type":428,"tag":527,"props":5583,"children":5584},{"style":546},[5585],{"type":434,"value":776},{"type":428,"tag":527,"props":5587,"children":5588},{"style":546},[5589],{"type":434,"value":575},{"type":428,"tag":527,"props":5591,"children":5592},{"class":529,"line":734},[5593,5598,5602,5607,5611,5615,5620,5624,5628],{"type":428,"tag":527,"props":5594,"children":5595},{"style":582},[5596],{"type":434,"value":5597},"      console",{"type":428,"tag":527,"props":5599,"children":5600},{"style":546},[5601],{"type":434,"value":714},{"type":428,"tag":527,"props":5603,"children":5604},{"style":540},[5605],{"type":434,"value":5606},"log",{"type":428,"tag":527,"props":5608,"children":5609},{"style":604},[5610],{"type":434,"value":549},{"type":428,"tag":527,"props":5612,"children":5613},{"style":844},[5614],{"type":434,"value":858},{"type":428,"tag":527,"props":5616,"children":5617},{"style":850},[5618],{"type":434,"value":5619},"I'm callback",{"type":428,"tag":527,"props":5621,"children":5622},{"style":844},[5623],{"type":434,"value":858},{"type":428,"tag":527,"props":5625,"children":5626},{"style":604},[5627],{"type":434,"value":570},{"type":428,"tag":527,"props":5629,"children":5630},{"style":546},[5631],{"type":434,"value":619},{"type":428,"tag":527,"props":5633,"children":5634},{"class":529,"line":744},[5635],{"type":428,"tag":527,"props":5636,"children":5637},{"style":546},[5638],{"type":434,"value":3352},{"type":428,"tag":527,"props":5640,"children":5641},{"class":529,"line":783},[5642],{"type":428,"tag":527,"props":5643,"children":5644},{"style":546},[5645],{"type":434,"value":5557},{"type":428,"tag":527,"props":5647,"children":5648},{"class":529,"line":814},[5649,5653,5657],{"type":428,"tag":527,"props":5650,"children":5651},{"style":546},[5652],{"type":434,"value":2376},{"type":428,"tag":527,"props":5654,"children":5655},{"style":582},[5656],{"type":434,"value":570},{"type":428,"tag":527,"props":5658,"children":5659},{"style":546},[5660],{"type":434,"value":619},{"type":428,"tag":461,"props":5662,"children":5663},{},[5664],{"type":434,"value":5665},"这个 watch 不就是（尝试）给 data.b 设置响应式属性么... 所以说依赖就是 Vue 实例与响应式属性之间的对应关系。Watcher 保存了这种关系，还保存了响应式数据、回调函数等一些额外信息。我们看 Watcher 的构造器：",{"type":428,"tag":467,"props":5667,"children":5669},{"code":5668,"language":520,"meta":421,"className":521,"style":421},"class Watcher {\n  constructor(vm, expOrFn, cb, options, isRenderWatcher) {\n    // vm 即 Vue 实例\n    this.vm = vm;\n    if (isRenderWatcher) {\n      vm._watcher = this;\n    }\n    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n    vm._watchers.push(this);\n\n    // options\n    if (options) {\n      this.deep = !!options.deep;\n      this.user = !!options.user;\n      this.lazy = !!options.lazy;\n      this.sync = !!options.sync;\n      this.before = options.before;\n    } else {\n      this.deep = this.user = this.lazy = this.sync = false;\n    }\n    this.cb = cb;\n    this.id = ++uid; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = [];\n    this.newDeps = [];\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n     */\n    this.expression =\n      process.env.NODE_ENV !== \"production\" ? expOrFn.toString() : \"\";\n    // parse expression for getter\n    if (typeof expOrFn === \"function\") {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n      this.getter = parsePath(expOrFn);\n    }\n\n    this.value = this.lazy ? undefined : this.get();\n  }\n}\n",[5670],{"type":428,"tag":472,"props":5671,"children":5672},{"__ignoreMap":421},[5673,5688,5747,5755,5782,5806,5835,5842,5850,5891,5898,5906,5930,5970,6009,6049,6089,6125,6140,6215,6222,6250,6288,6316,6357,6385,6413,6450,6486,6493,6501,6509,6517,6537,6612,6620,6664,6691,6706,6714,6755,6762,6769,6834,6841],{"type":428,"tag":527,"props":5674,"children":5675},{"class":529,"line":530},[5676,5680,5684],{"type":428,"tag":527,"props":5677,"children":5678},{"style":534},[5679],{"type":434,"value":665},{"type":428,"tag":527,"props":5681,"children":5682},{"style":668},[5683],{"type":434,"value":4895},{"type":428,"tag":527,"props":5685,"children":5686},{"style":546},[5687],{"type":434,"value":575},{"type":428,"tag":527,"props":5689,"children":5690},{"class":529,"line":578},[5691,5695,5699,5703,5707,5712,5716,5721,5725,5730,5734,5739,5743],{"type":428,"tag":527,"props":5692,"children":5693},{"style":534},[5694],{"type":434,"value":683},{"type":428,"tag":527,"props":5696,"children":5697},{"style":546},[5698],{"type":434,"value":549},{"type":428,"tag":527,"props":5700,"children":5701},{"style":552},[5702],{"type":434,"value":5015},{"type":428,"tag":527,"props":5704,"children":5705},{"style":546},[5706],{"type":434,"value":560},{"type":428,"tag":527,"props":5708,"children":5709},{"style":552},[5710],{"type":434,"value":5711}," expOrFn",{"type":428,"tag":527,"props":5713,"children":5714},{"style":546},[5715],{"type":434,"value":560},{"type":428,"tag":527,"props":5717,"children":5718},{"style":552},[5719],{"type":434,"value":5720}," cb",{"type":428,"tag":527,"props":5722,"children":5723},{"style":546},[5724],{"type":434,"value":560},{"type":428,"tag":527,"props":5726,"children":5727},{"style":552},[5728],{"type":434,"value":5729}," options",{"type":428,"tag":527,"props":5731,"children":5732},{"style":546},[5733],{"type":434,"value":560},{"type":428,"tag":527,"props":5735,"children":5736},{"style":552},[5737],{"type":434,"value":5738}," isRenderWatcher",{"type":428,"tag":527,"props":5740,"children":5741},{"style":546},[5742],{"type":434,"value":570},{"type":428,"tag":527,"props":5744,"children":5745},{"style":546},[5746],{"type":434,"value":575},{"type":428,"tag":527,"props":5748,"children":5749},{"class":529,"line":622},[5750],{"type":428,"tag":527,"props":5751,"children":5752},{"style":738},[5753],{"type":434,"value":5754},"    // vm 即 Vue 实例\n",{"type":428,"tag":527,"props":5756,"children":5757},{"class":529,"line":641},[5758,5762,5766,5770,5774,5778],{"type":428,"tag":527,"props":5759,"children":5760},{"style":706},[5761],{"type":434,"value":709},{"type":428,"tag":527,"props":5763,"children":5764},{"style":546},[5765],{"type":434,"value":714},{"type":428,"tag":527,"props":5767,"children":5768},{"style":582},[5769],{"type":434,"value":5015},{"type":428,"tag":527,"props":5771,"children":5772},{"style":588},[5773],{"type":434,"value":591},{"type":428,"tag":527,"props":5775,"children":5776},{"style":582},[5777],{"type":434,"value":4998},{"type":428,"tag":527,"props":5779,"children":5780},{"style":546},[5781],{"type":434,"value":619},{"type":428,"tag":527,"props":5783,"children":5784},{"class":529,"line":650},[5785,5789,5793,5798,5802],{"type":428,"tag":527,"props":5786,"children":5787},{"style":626},[5788],{"type":434,"value":902},{"type":428,"tag":527,"props":5790,"children":5791},{"style":604},[5792],{"type":434,"value":907},{"type":428,"tag":527,"props":5794,"children":5795},{"style":582},[5796],{"type":434,"value":5797},"isRenderWatcher",{"type":428,"tag":527,"props":5799,"children":5800},{"style":604},[5801],{"type":434,"value":962},{"type":428,"tag":527,"props":5803,"children":5804},{"style":546},[5805],{"type":434,"value":939},{"type":428,"tag":527,"props":5807,"children":5808},{"class":529,"line":659},[5809,5814,5818,5823,5827,5831],{"type":428,"tag":527,"props":5810,"children":5811},{"style":582},[5812],{"type":434,"value":5813},"      vm",{"type":428,"tag":527,"props":5815,"children":5816},{"style":546},[5817],{"type":434,"value":714},{"type":428,"tag":527,"props":5819,"children":5820},{"style":582},[5821],{"type":434,"value":5822},"_watcher",{"type":428,"tag":527,"props":5824,"children":5825},{"style":588},[5826],{"type":434,"value":591},{"type":428,"tag":527,"props":5828,"children":5829},{"style":706},[5830],{"type":434,"value":867},{"type":428,"tag":527,"props":5832,"children":5833},{"style":546},[5834],{"type":434,"value":619},{"type":428,"tag":527,"props":5836,"children":5837},{"class":529,"line":677},[5838],{"type":428,"tag":527,"props":5839,"children":5840},{"style":546},[5841],{"type":434,"value":1162},{"type":428,"tag":527,"props":5843,"children":5844},{"class":529,"line":702},[5845],{"type":428,"tag":527,"props":5846,"children":5847},{"style":738},[5848],{"type":434,"value":5849},"    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n",{"type":428,"tag":527,"props":5851,"children":5852},{"class":529,"line":734},[5853,5858,5862,5867,5871,5875,5879,5883,5887],{"type":428,"tag":527,"props":5854,"children":5855},{"style":582},[5856],{"type":434,"value":5857},"    vm",{"type":428,"tag":527,"props":5859,"children":5860},{"style":546},[5861],{"type":434,"value":714},{"type":428,"tag":527,"props":5863,"children":5864},{"style":582},[5865],{"type":434,"value":5866},"_watchers",{"type":428,"tag":527,"props":5868,"children":5869},{"style":546},[5870],{"type":434,"value":714},{"type":428,"tag":527,"props":5872,"children":5873},{"style":540},[5874],{"type":434,"value":1635},{"type":428,"tag":527,"props":5876,"children":5877},{"style":604},[5878],{"type":434,"value":549},{"type":428,"tag":527,"props":5880,"children":5881},{"style":706},[5882],{"type":434,"value":1979},{"type":428,"tag":527,"props":5884,"children":5885},{"style":604},[5886],{"type":434,"value":570},{"type":428,"tag":527,"props":5888,"children":5889},{"style":546},[5890],{"type":434,"value":619},{"type":428,"tag":527,"props":5892,"children":5893},{"class":529,"line":744},[5894],{"type":428,"tag":527,"props":5895,"children":5896},{"emptyLinePlaceholder":420},[5897],{"type":434,"value":656},{"type":428,"tag":527,"props":5899,"children":5900},{"class":529,"line":783},[5901],{"type":428,"tag":527,"props":5902,"children":5903},{"style":738},[5904],{"type":434,"value":5905},"    // options\n",{"type":428,"tag":527,"props":5907,"children":5908},{"class":529,"line":814},[5909,5913,5917,5922,5926],{"type":428,"tag":527,"props":5910,"children":5911},{"style":626},[5912],{"type":434,"value":902},{"type":428,"tag":527,"props":5914,"children":5915},{"style":604},[5916],{"type":434,"value":907},{"type":428,"tag":527,"props":5918,"children":5919},{"style":582},[5920],{"type":434,"value":5921},"options",{"type":428,"tag":527,"props":5923,"children":5924},{"style":604},[5925],{"type":434,"value":962},{"type":428,"tag":527,"props":5927,"children":5928},{"style":546},[5929],{"type":434,"value":939},{"type":428,"tag":527,"props":5931,"children":5932},{"class":529,"line":823},[5933,5937,5941,5945,5949,5954,5958,5962,5966],{"type":428,"tag":527,"props":5934,"children":5935},{"style":706},[5936],{"type":434,"value":1078},{"type":428,"tag":527,"props":5938,"children":5939},{"style":546},[5940],{"type":434,"value":714},{"type":428,"tag":527,"props":5942,"children":5943},{"style":582},[5944],{"type":434,"value":5330},{"type":428,"tag":527,"props":5946,"children":5947},{"style":588},[5948],{"type":434,"value":591},{"type":428,"tag":527,"props":5950,"children":5951},{"style":588},[5952],{"type":434,"value":5953}," !!",{"type":428,"tag":527,"props":5955,"children":5956},{"style":582},[5957],{"type":434,"value":5921},{"type":428,"tag":527,"props":5959,"children":5960},{"style":546},[5961],{"type":434,"value":714},{"type":428,"tag":527,"props":5963,"children":5964},{"style":582},[5965],{"type":434,"value":5330},{"type":428,"tag":527,"props":5967,"children":5968},{"style":546},[5969],{"type":434,"value":619},{"type":428,"tag":527,"props":5971,"children":5972},{"class":529,"line":878},[5973,5977,5981,5985,5989,5993,5997,6001,6005],{"type":428,"tag":527,"props":5974,"children":5975},{"style":706},[5976],{"type":434,"value":1078},{"type":428,"tag":527,"props":5978,"children":5979},{"style":546},[5980],{"type":434,"value":714},{"type":428,"tag":527,"props":5982,"children":5983},{"style":582},[5984],{"type":434,"value":5148},{"type":428,"tag":527,"props":5986,"children":5987},{"style":588},[5988],{"type":434,"value":591},{"type":428,"tag":527,"props":5990,"children":5991},{"style":588},[5992],{"type":434,"value":5953},{"type":428,"tag":527,"props":5994,"children":5995},{"style":582},[5996],{"type":434,"value":5921},{"type":428,"tag":527,"props":5998,"children":5999},{"style":546},[6000],{"type":434,"value":714},{"type":428,"tag":527,"props":6002,"children":6003},{"style":582},[6004],{"type":434,"value":5148},{"type":428,"tag":527,"props":6006,"children":6007},{"style":546},[6008],{"type":434,"value":619},{"type":428,"tag":527,"props":6010,"children":6011},{"class":529,"line":887},[6012,6016,6020,6025,6029,6033,6037,6041,6045],{"type":428,"tag":527,"props":6013,"children":6014},{"style":706},[6015],{"type":434,"value":1078},{"type":428,"tag":527,"props":6017,"children":6018},{"style":546},[6019],{"type":434,"value":714},{"type":428,"tag":527,"props":6021,"children":6022},{"style":582},[6023],{"type":434,"value":6024},"lazy",{"type":428,"tag":527,"props":6026,"children":6027},{"style":588},[6028],{"type":434,"value":591},{"type":428,"tag":527,"props":6030,"children":6031},{"style":588},[6032],{"type":434,"value":5953},{"type":428,"tag":527,"props":6034,"children":6035},{"style":582},[6036],{"type":434,"value":5921},{"type":428,"tag":527,"props":6038,"children":6039},{"style":546},[6040],{"type":434,"value":714},{"type":428,"tag":527,"props":6042,"children":6043},{"style":582},[6044],{"type":434,"value":6024},{"type":428,"tag":527,"props":6046,"children":6047},{"style":546},[6048],{"type":434,"value":619},{"type":428,"tag":527,"props":6050,"children":6051},{"class":529,"line":896},[6052,6056,6060,6065,6069,6073,6077,6081,6085],{"type":428,"tag":527,"props":6053,"children":6054},{"style":706},[6055],{"type":434,"value":1078},{"type":428,"tag":527,"props":6057,"children":6058},{"style":546},[6059],{"type":434,"value":714},{"type":428,"tag":527,"props":6061,"children":6062},{"style":582},[6063],{"type":434,"value":6064},"sync",{"type":428,"tag":527,"props":6066,"children":6067},{"style":588},[6068],{"type":434,"value":591},{"type":428,"tag":527,"props":6070,"children":6071},{"style":588},[6072],{"type":434,"value":5953},{"type":428,"tag":527,"props":6074,"children":6075},{"style":582},[6076],{"type":434,"value":5921},{"type":428,"tag":527,"props":6078,"children":6079},{"style":546},[6080],{"type":434,"value":714},{"type":428,"tag":527,"props":6082,"children":6083},{"style":582},[6084],{"type":434,"value":6064},{"type":428,"tag":527,"props":6086,"children":6087},{"style":546},[6088],{"type":434,"value":619},{"type":428,"tag":527,"props":6090,"children":6091},{"class":529,"line":942},[6092,6096,6100,6105,6109,6113,6117,6121],{"type":428,"tag":527,"props":6093,"children":6094},{"style":706},[6095],{"type":434,"value":1078},{"type":428,"tag":527,"props":6097,"children":6098},{"style":546},[6099],{"type":434,"value":714},{"type":428,"tag":527,"props":6101,"children":6102},{"style":582},[6103],{"type":434,"value":6104},"before",{"type":428,"tag":527,"props":6106,"children":6107},{"style":588},[6108],{"type":434,"value":591},{"type":428,"tag":527,"props":6110,"children":6111},{"style":582},[6112],{"type":434,"value":5729},{"type":428,"tag":527,"props":6114,"children":6115},{"style":546},[6116],{"type":434,"value":714},{"type":428,"tag":527,"props":6118,"children":6119},{"style":582},[6120],{"type":434,"value":6104},{"type":428,"tag":527,"props":6122,"children":6123},{"style":546},[6124],{"type":434,"value":619},{"type":428,"tag":527,"props":6126,"children":6127},{"class":529,"line":969},[6128,6132,6136],{"type":428,"tag":527,"props":6129,"children":6130},{"style":546},[6131],{"type":434,"value":1112},{"type":428,"tag":527,"props":6133,"children":6134},{"style":626},[6135],{"type":434,"value":1014},{"type":428,"tag":527,"props":6137,"children":6138},{"style":546},[6139],{"type":434,"value":575},{"type":428,"tag":527,"props":6141,"children":6142},{"class":529,"line":1003},[6143,6147,6151,6155,6159,6163,6167,6171,6175,6179,6183,6187,6191,6195,6199,6203,6207,6211],{"type":428,"tag":527,"props":6144,"children":6145},{"style":706},[6146],{"type":434,"value":1078},{"type":428,"tag":527,"props":6148,"children":6149},{"style":546},[6150],{"type":434,"value":714},{"type":428,"tag":527,"props":6152,"children":6153},{"style":582},[6154],{"type":434,"value":5330},{"type":428,"tag":527,"props":6156,"children":6157},{"style":588},[6158],{"type":434,"value":591},{"type":428,"tag":527,"props":6160,"children":6161},{"style":706},[6162],{"type":434,"value":867},{"type":428,"tag":527,"props":6164,"children":6165},{"style":546},[6166],{"type":434,"value":714},{"type":428,"tag":527,"props":6168,"children":6169},{"style":582},[6170],{"type":434,"value":5148},{"type":428,"tag":527,"props":6172,"children":6173},{"style":588},[6174],{"type":434,"value":591},{"type":428,"tag":527,"props":6176,"children":6177},{"style":706},[6178],{"type":434,"value":867},{"type":428,"tag":527,"props":6180,"children":6181},{"style":546},[6182],{"type":434,"value":714},{"type":428,"tag":527,"props":6184,"children":6185},{"style":582},[6186],{"type":434,"value":6024},{"type":428,"tag":527,"props":6188,"children":6189},{"style":588},[6190],{"type":434,"value":591},{"type":428,"tag":527,"props":6192,"children":6193},{"style":706},[6194],{"type":434,"value":867},{"type":428,"tag":527,"props":6196,"children":6197},{"style":546},[6198],{"type":434,"value":714},{"type":428,"tag":527,"props":6200,"children":6201},{"style":582},[6202],{"type":434,"value":6064},{"type":428,"tag":527,"props":6204,"children":6205},{"style":588},[6206],{"type":434,"value":591},{"type":428,"tag":527,"props":6208,"children":6209},{"style":2624},[6210],{"type":434,"value":2627},{"type":428,"tag":527,"props":6212,"children":6213},{"style":546},[6214],{"type":434,"value":619},{"type":428,"tag":527,"props":6216,"children":6217},{"class":529,"line":1021},[6218],{"type":428,"tag":527,"props":6219,"children":6220},{"style":546},[6221],{"type":434,"value":1162},{"type":428,"tag":527,"props":6223,"children":6224},{"class":529,"line":1063},[6225,6229,6233,6238,6242,6246],{"type":428,"tag":527,"props":6226,"children":6227},{"style":706},[6228],{"type":434,"value":709},{"type":428,"tag":527,"props":6230,"children":6231},{"style":546},[6232],{"type":434,"value":714},{"type":428,"tag":527,"props":6234,"children":6235},{"style":582},[6236],{"type":434,"value":6237},"cb",{"type":428,"tag":527,"props":6239,"children":6240},{"style":588},[6241],{"type":434,"value":591},{"type":428,"tag":527,"props":6243,"children":6244},{"style":582},[6245],{"type":434,"value":5720},{"type":428,"tag":527,"props":6247,"children":6248},{"style":546},[6249],{"type":434,"value":619},{"type":428,"tag":527,"props":6251,"children":6252},{"class":529,"line":1072},[6253,6257,6261,6265,6269,6274,6279,6283],{"type":428,"tag":527,"props":6254,"children":6255},{"style":706},[6256],{"type":434,"value":709},{"type":428,"tag":527,"props":6258,"children":6259},{"style":546},[6260],{"type":434,"value":714},{"type":428,"tag":527,"props":6262,"children":6263},{"style":582},[6264],{"type":434,"value":4015},{"type":428,"tag":527,"props":6266,"children":6267},{"style":588},[6268],{"type":434,"value":591},{"type":428,"tag":527,"props":6270,"children":6271},{"style":588},[6272],{"type":434,"value":6273}," ++",{"type":428,"tag":527,"props":6275,"children":6276},{"style":582},[6277],{"type":434,"value":6278},"uid",{"type":428,"tag":527,"props":6280,"children":6281},{"style":546},[6282],{"type":434,"value":1291},{"type":428,"tag":527,"props":6284,"children":6285},{"style":738},[6286],{"type":434,"value":6287}," // uid for batching\n",{"type":428,"tag":527,"props":6289,"children":6290},{"class":529,"line":1106},[6291,6295,6299,6304,6308,6312],{"type":428,"tag":527,"props":6292,"children":6293},{"style":706},[6294],{"type":434,"value":709},{"type":428,"tag":527,"props":6296,"children":6297},{"style":546},[6298],{"type":434,"value":714},{"type":428,"tag":527,"props":6300,"children":6301},{"style":582},[6302],{"type":434,"value":6303},"active",{"type":428,"tag":527,"props":6305,"children":6306},{"style":588},[6307],{"type":434,"value":591},{"type":428,"tag":527,"props":6309,"children":6310},{"style":2624},[6311],{"type":434,"value":3003},{"type":428,"tag":527,"props":6313,"children":6314},{"style":546},[6315],{"type":434,"value":619},{"type":428,"tag":527,"props":6317,"children":6318},{"class":529,"line":1123},[6319,6323,6327,6332,6336,6340,6344,6348,6352],{"type":428,"tag":527,"props":6320,"children":6321},{"style":706},[6322],{"type":434,"value":709},{"type":428,"tag":527,"props":6324,"children":6325},{"style":546},[6326],{"type":434,"value":714},{"type":428,"tag":527,"props":6328,"children":6329},{"style":582},[6330],{"type":434,"value":6331},"dirty",{"type":428,"tag":527,"props":6333,"children":6334},{"style":588},[6335],{"type":434,"value":591},{"type":428,"tag":527,"props":6337,"children":6338},{"style":706},[6339],{"type":434,"value":867},{"type":428,"tag":527,"props":6341,"children":6342},{"style":546},[6343],{"type":434,"value":714},{"type":428,"tag":527,"props":6345,"children":6346},{"style":582},[6347],{"type":434,"value":6024},{"type":428,"tag":527,"props":6349,"children":6350},{"style":546},[6351],{"type":434,"value":1291},{"type":428,"tag":527,"props":6353,"children":6354},{"style":738},[6355],{"type":434,"value":6356}," // for lazy watchers\n",{"type":428,"tag":527,"props":6358,"children":6359},{"class":529,"line":1156},[6360,6364,6368,6373,6377,6381],{"type":428,"tag":527,"props":6361,"children":6362},{"style":706},[6363],{"type":434,"value":709},{"type":428,"tag":527,"props":6365,"children":6366},{"style":546},[6367],{"type":434,"value":714},{"type":428,"tag":527,"props":6369,"children":6370},{"style":582},[6371],{"type":434,"value":6372},"deps",{"type":428,"tag":527,"props":6374,"children":6375},{"style":588},[6376],{"type":434,"value":591},{"type":428,"tag":527,"props":6378,"children":6379},{"style":604},[6380],{"type":434,"value":4057},{"type":428,"tag":527,"props":6382,"children":6383},{"style":546},[6384],{"type":434,"value":619},{"type":428,"tag":527,"props":6386,"children":6387},{"class":529,"line":1165},[6388,6392,6396,6401,6405,6409],{"type":428,"tag":527,"props":6389,"children":6390},{"style":706},[6391],{"type":434,"value":709},{"type":428,"tag":527,"props":6393,"children":6394},{"style":546},[6395],{"type":434,"value":714},{"type":428,"tag":527,"props":6397,"children":6398},{"style":582},[6399],{"type":434,"value":6400},"newDeps",{"type":428,"tag":527,"props":6402,"children":6403},{"style":588},[6404],{"type":434,"value":591},{"type":428,"tag":527,"props":6406,"children":6407},{"style":604},[6408],{"type":434,"value":4057},{"type":428,"tag":527,"props":6410,"children":6411},{"style":546},[6412],{"type":434,"value":619},{"type":428,"tag":527,"props":6414,"children":6415},{"class":529,"line":1174},[6416,6420,6424,6429,6433,6437,6442,6446],{"type":428,"tag":527,"props":6417,"children":6418},{"style":706},[6419],{"type":434,"value":709},{"type":428,"tag":527,"props":6421,"children":6422},{"style":546},[6423],{"type":434,"value":714},{"type":428,"tag":527,"props":6425,"children":6426},{"style":582},[6427],{"type":434,"value":6428},"depIds",{"type":428,"tag":527,"props":6430,"children":6431},{"style":588},[6432],{"type":434,"value":591},{"type":428,"tag":527,"props":6434,"children":6435},{"style":588},[6436],{"type":434,"value":596},{"type":428,"tag":527,"props":6438,"children":6439},{"style":540},[6440],{"type":434,"value":6441}," Set",{"type":428,"tag":527,"props":6443,"children":6444},{"style":604},[6445],{"type":434,"value":776},{"type":428,"tag":527,"props":6447,"children":6448},{"style":546},[6449],{"type":434,"value":619},{"type":428,"tag":527,"props":6451,"children":6452},{"class":529,"line":1182},[6453,6457,6461,6466,6470,6474,6478,6482],{"type":428,"tag":527,"props":6454,"children":6455},{"style":706},[6456],{"type":434,"value":709},{"type":428,"tag":527,"props":6458,"children":6459},{"style":546},[6460],{"type":434,"value":714},{"type":428,"tag":527,"props":6462,"children":6463},{"style":582},[6464],{"type":434,"value":6465},"newDepIds",{"type":428,"tag":527,"props":6467,"children":6468},{"style":588},[6469],{"type":434,"value":591},{"type":428,"tag":527,"props":6471,"children":6472},{"style":588},[6473],{"type":434,"value":596},{"type":428,"tag":527,"props":6475,"children":6476},{"style":540},[6477],{"type":434,"value":6441},{"type":428,"tag":527,"props":6479,"children":6480},{"style":604},[6481],{"type":434,"value":776},{"type":428,"tag":527,"props":6483,"children":6484},{"style":546},[6485],{"type":434,"value":619},{"type":428,"tag":527,"props":6487,"children":6488},{"class":529,"line":1209},[6489],{"type":428,"tag":527,"props":6490,"children":6491},{"emptyLinePlaceholder":420},[6492],{"type":434,"value":656},{"type":428,"tag":527,"props":6494,"children":6495},{"class":529,"line":1258},[6496],{"type":428,"tag":527,"props":6497,"children":6498},{"style":738},[6499],{"type":434,"value":6500},"    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n",{"type":428,"tag":527,"props":6502,"children":6503},{"class":529,"line":1337},[6504],{"type":428,"tag":527,"props":6505,"children":6506},{"style":738},[6507],{"type":434,"value":6508},"     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n",{"type":428,"tag":527,"props":6510,"children":6511},{"class":529,"line":1381},[6512],{"type":428,"tag":527,"props":6513,"children":6514},{"style":738},[6515],{"type":434,"value":6516},"     */\n",{"type":428,"tag":527,"props":6518,"children":6519},{"class":529,"line":1389},[6520,6524,6528,6532],{"type":428,"tag":527,"props":6521,"children":6522},{"style":706},[6523],{"type":434,"value":709},{"type":428,"tag":527,"props":6525,"children":6526},{"style":546},[6527],{"type":434,"value":714},{"type":428,"tag":527,"props":6529,"children":6530},{"style":582},[6531],{"type":434,"value":5214},{"type":428,"tag":527,"props":6533,"children":6534},{"style":588},[6535],{"type":434,"value":6536}," =\n",{"type":428,"tag":527,"props":6538,"children":6539},{"class":529,"line":1397},[6540,6545,6549,6553,6557,6561,6565,6569,6573,6577,6581,6585,6589,6594,6599,6603,6608],{"type":428,"tag":527,"props":6541,"children":6542},{"style":582},[6543],{"type":434,"value":6544},"      process",{"type":428,"tag":527,"props":6546,"children":6547},{"style":546},[6548],{"type":434,"value":714},{"type":428,"tag":527,"props":6550,"children":6551},{"style":582},[6552],{"type":434,"value":3585},{"type":428,"tag":527,"props":6554,"children":6555},{"style":546},[6556],{"type":434,"value":714},{"type":428,"tag":527,"props":6558,"children":6559},{"style":1218},[6560],{"type":434,"value":3594},{"type":428,"tag":527,"props":6562,"children":6563},{"style":588},[6564],{"type":434,"value":3500},{"type":428,"tag":527,"props":6566,"children":6567},{"style":844},[6568],{"type":434,"value":847},{"type":428,"tag":527,"props":6570,"children":6571},{"style":850},[6572],{"type":434,"value":3607},{"type":428,"tag":527,"props":6574,"children":6575},{"style":844},[6576],{"type":434,"value":858},{"type":428,"tag":527,"props":6578,"children":6579},{"style":588},[6580],{"type":434,"value":3081},{"type":428,"tag":527,"props":6582,"children":6583},{"style":582},[6584],{"type":434,"value":5711},{"type":428,"tag":527,"props":6586,"children":6587},{"style":546},[6588],{"type":434,"value":714},{"type":428,"tag":527,"props":6590,"children":6591},{"style":540},[6592],{"type":434,"value":6593},"toString",{"type":428,"tag":527,"props":6595,"children":6596},{"style":604},[6597],{"type":434,"value":6598},"() ",{"type":428,"tag":527,"props":6600,"children":6601},{"style":588},[6602],{"type":434,"value":2998},{"type":428,"tag":527,"props":6604,"children":6605},{"style":844},[6606],{"type":434,"value":6607}," \"\"",{"type":428,"tag":527,"props":6609,"children":6610},{"style":546},[6611],{"type":434,"value":619},{"type":428,"tag":527,"props":6613,"children":6614},{"class":529,"line":1405},[6615],{"type":428,"tag":527,"props":6616,"children":6617},{"style":738},[6618],{"type":434,"value":6619},"    // parse expression for getter\n",{"type":428,"tag":527,"props":6621,"children":6622},{"class":529,"line":1431},[6623,6627,6631,6636,6640,6644,6648,6652,6656,6660],{"type":428,"tag":527,"props":6624,"children":6625},{"style":626},[6626],{"type":434,"value":902},{"type":428,"tag":527,"props":6628,"children":6629},{"style":604},[6630],{"type":434,"value":907},{"type":428,"tag":527,"props":6632,"children":6633},{"style":588},[6634],{"type":434,"value":6635},"typeof",{"type":428,"tag":527,"props":6637,"children":6638},{"style":582},[6639],{"type":434,"value":5711},{"type":428,"tag":527,"props":6641,"children":6642},{"style":588},[6643],{"type":434,"value":2621},{"type":428,"tag":527,"props":6645,"children":6646},{"style":844},[6647],{"type":434,"value":847},{"type":428,"tag":527,"props":6649,"children":6650},{"style":850},[6651],{"type":434,"value":537},{"type":428,"tag":527,"props":6653,"children":6654},{"style":844},[6655],{"type":434,"value":858},{"type":428,"tag":527,"props":6657,"children":6658},{"style":604},[6659],{"type":434,"value":962},{"type":428,"tag":527,"props":6661,"children":6662},{"style":546},[6663],{"type":434,"value":939},{"type":428,"tag":527,"props":6665,"children":6666},{"class":529,"line":1521},[6667,6671,6675,6679,6683,6687],{"type":428,"tag":527,"props":6668,"children":6669},{"style":706},[6670],{"type":434,"value":1078},{"type":428,"tag":527,"props":6672,"children":6673},{"style":546},[6674],{"type":434,"value":714},{"type":428,"tag":527,"props":6676,"children":6677},{"style":582},[6678],{"type":434,"value":2780},{"type":428,"tag":527,"props":6680,"children":6681},{"style":588},[6682],{"type":434,"value":591},{"type":428,"tag":527,"props":6684,"children":6685},{"style":582},[6686],{"type":434,"value":5711},{"type":428,"tag":527,"props":6688,"children":6689},{"style":546},[6690],{"type":434,"value":619},{"type":428,"tag":527,"props":6692,"children":6693},{"class":529,"line":1554},[6694,6698,6702],{"type":428,"tag":527,"props":6695,"children":6696},{"style":546},[6697],{"type":434,"value":1112},{"type":428,"tag":527,"props":6699,"children":6700},{"style":626},[6701],{"type":434,"value":1014},{"type":428,"tag":527,"props":6703,"children":6704},{"style":546},[6705],{"type":434,"value":575},{"type":428,"tag":527,"props":6707,"children":6708},{"class":529,"line":1562},[6709],{"type":428,"tag":527,"props":6710,"children":6711},{"style":738},[6712],{"type":434,"value":6713},"      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n",{"type":428,"tag":527,"props":6715,"children":6716},{"class":529,"line":1570},[6717,6721,6725,6729,6733,6738,6742,6747,6751],{"type":428,"tag":527,"props":6718,"children":6719},{"style":706},[6720],{"type":434,"value":1078},{"type":428,"tag":527,"props":6722,"children":6723},{"style":546},[6724],{"type":434,"value":714},{"type":428,"tag":527,"props":6726,"children":6727},{"style":582},[6728],{"type":434,"value":2780},{"type":428,"tag":527,"props":6730,"children":6731},{"style":588},[6732],{"type":434,"value":591},{"type":428,"tag":527,"props":6734,"children":6735},{"style":540},[6736],{"type":434,"value":6737}," parsePath",{"type":428,"tag":527,"props":6739,"children":6740},{"style":604},[6741],{"type":434,"value":549},{"type":428,"tag":527,"props":6743,"children":6744},{"style":582},[6745],{"type":434,"value":6746},"expOrFn",{"type":428,"tag":527,"props":6748,"children":6749},{"style":604},[6750],{"type":434,"value":570},{"type":428,"tag":527,"props":6752,"children":6753},{"style":546},[6754],{"type":434,"value":619},{"type":428,"tag":527,"props":6756,"children":6757},{"class":529,"line":3393},[6758],{"type":428,"tag":527,"props":6759,"children":6760},{"style":546},[6761],{"type":434,"value":1162},{"type":428,"tag":527,"props":6763,"children":6764},{"class":529,"line":3453},[6765],{"type":428,"tag":527,"props":6766,"children":6767},{"emptyLinePlaceholder":420},[6768],{"type":434,"value":656},{"type":428,"tag":527,"props":6770,"children":6771},{"class":529,"line":3462},[6772,6776,6780,6784,6788,6792,6796,6800,6804,6809,6814,6818,6822,6826,6830],{"type":428,"tag":527,"props":6773,"children":6774},{"style":706},[6775],{"type":434,"value":709},{"type":428,"tag":527,"props":6777,"children":6778},{"style":546},[6779],{"type":434,"value":714},{"type":428,"tag":527,"props":6781,"children":6782},{"style":582},[6783],{"type":434,"value":555},{"type":428,"tag":527,"props":6785,"children":6786},{"style":588},[6787],{"type":434,"value":591},{"type":428,"tag":527,"props":6789,"children":6790},{"style":706},[6791],{"type":434,"value":867},{"type":428,"tag":527,"props":6793,"children":6794},{"style":546},[6795],{"type":434,"value":714},{"type":428,"tag":527,"props":6797,"children":6798},{"style":582},[6799],{"type":434,"value":6024},{"type":428,"tag":527,"props":6801,"children":6802},{"style":588},[6803],{"type":434,"value":3081},{"type":428,"tag":527,"props":6805,"children":6806},{"style":4631},[6807],{"type":434,"value":6808}," undefined",{"type":428,"tag":527,"props":6810,"children":6811},{"style":588},[6812],{"type":434,"value":6813}," :",{"type":428,"tag":527,"props":6815,"children":6816},{"style":706},[6817],{"type":434,"value":867},{"type":428,"tag":527,"props":6819,"children":6820},{"style":546},[6821],{"type":434,"value":714},{"type":428,"tag":527,"props":6823,"children":6824},{"style":540},[6825],{"type":434,"value":2713},{"type":428,"tag":527,"props":6827,"children":6828},{"style":604},[6829],{"type":434,"value":776},{"type":428,"tag":527,"props":6831,"children":6832},{"style":546},[6833],{"type":434,"value":619},{"type":428,"tag":527,"props":6835,"children":6836},{"class":529,"line":3532},[6837],{"type":428,"tag":527,"props":6838,"children":6839},{"style":546},[6840],{"type":434,"value":1171},{"type":428,"tag":527,"props":6842,"children":6843},{"class":529,"line":3545},[6844],{"type":428,"tag":527,"props":6845,"children":6846},{"style":546},[6847],{"type":434,"value":647},{"type":428,"tag":461,"props":6849,"children":6850},{},[6851],{"type":434,"value":6852},"Watcher 是组件级别的，如果状态发生了变化，只能通知到组件。再由组件对比内部的虚拟节点的变化。换句话说，Vue 对响应式状态变化侦测只通知到组件，这意味着只要某个属性变化了，相应的组件都会重渲染。",{"type":428,"tag":6854,"props":6855,"children":6856},"hr",{},[],{"type":428,"tag":429,"props":6858,"children":6860},{"id":6859},"阅读更多",[6861],{"type":434,"value":6859},{"type":428,"tag":436,"props":6863,"children":6864},{},[6865,6875],{"type":428,"tag":440,"props":6866,"children":6867},{},[6868],{"type":428,"tag":491,"props":6869,"children":6872},{"href":6870,"rel":6871},"https://book.douban.com/subject/32581281/",[495],[6873],{"type":434,"value":6874},"《深入浅出 VueJS》",{"type":428,"tag":440,"props":6876,"children":6877},{},[6878],{"type":428,"tag":491,"props":6879,"children":6882},{"href":6880,"rel":6881},"http://hcysun.me/vue-design/zh/",[495],[6883],{"type":434,"value":6884},"江山父老能容我 不使人间造孽钱",{"type":428,"tag":6886,"props":6887,"children":6888},"style",{},[6889],{"type":434,"value":6890},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":421,"searchDepth":578,"depth":578,"links":6892},[6893,6894,6895,6901],{"id":431,"depth":578,"text":431},{"id":457,"depth":578,"text":457},{"id":478,"depth":578,"text":478,"children":6896},[6897,6898,6899,6900],{"id":504,"depth":622,"text":504},{"id":1578,"depth":622,"text":1578},{"id":2387,"depth":622,"text":2387},{"id":3945,"depth":622,"text":3945},{"id":6859,"depth":578,"text":6859},"markdown","content:8.source-code:_js:vue2-source:1.observer.md","content","8.source-code/_js/vue2-source/1.observer.md","8.source-code/_js/vue2-source/1.observer","md",[6909,6912],{"_path":6910,"title":6911,"description":423},"/source-code/_js/vue2-source","Vue2 Source",{"_path":6913,"title":6914,"description":423},"/source-code/_js/vue2-source/parser","Vue2 Parser",1739580359760]