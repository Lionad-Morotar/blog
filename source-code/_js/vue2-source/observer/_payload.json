[{"data":1,"prerenderedAt":6887},["Reactive",2],{"navigation":3,"/source-code/_js/vue2-source/observer":389,"/source-code/_js/vue2-source/observer-surround":6880},[4,32,83,99,126,132,138,372,378,384],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96],{"title":88,"_path":89},"🌐 AnySort","/tools/anysort",{"title":91,"_path":92},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":94,"_path":95},"👓 Crapto","/tools/crypto-inline",{"title":97,"_path":98},"🖨️ any-to-base64","/tools/any-to-base64",{"title":100,"_path":101,"children":102},"吉他剧场 / Music","/music",[103,105,108,111,114,117,120,123],{"title":104,"_path":101},"🎸 FingerStyle！",{"title":106,"_path":107},"🌬️ 等待的风","/music/wind",{"title":109,"_path":110},"💕 约定的海洋","/music/ocean",{"title":112,"_path":113},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":115,"_path":116},"🌏 残酷天使的行动纲领","/music/eva",{"title":118,"_path":119},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":121,"_path":122},"🍷 Wu Wei","/music/wu-wei",{"title":124,"_path":125},"🌅 无题","/music/untitled",{"title":127,"_path":128,"children":129},"画点什么 / Paint","/paint",[130],{"title":131,"_path":128},"🚧 正在施工",{"title":133,"_path":134,"children":135},"知识地图 / Maps","/maps",[136],{"title":137,"_path":134},"🏁 知识地图",{"title":139,"_path":140,"children":141},"零散的笔记 / Gists","/gists",[142,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369],{"title":143,"_path":140},"🧊 Gists",{"title":145,"_path":146},"网站的可访问性","/gists/accessibility",{"title":148,"_path":149},"Bit","/gists/bit",{"title":151,"_path":152},"图片模糊","/gists/blur",{"title":154,"_path":155},"渲染相关笔记","/gists/c4d",{"title":157,"_path":158},"CDN 问题记录","/gists/cdn",{"title":160,"_path":161},"消毒剂","/gists/cleaner",{"title":163,"_path":164},"Windows Command","/gists/cmd",{"title":166,"_path":167},"Command","/gists/command",{"title":169,"_path":170},"复杂科学","/gists/complexity-science",{"title":172,"_path":173},"宇宙","/gists/cosmos",{"title":175,"_path":176},"C++","/gists/cpp",{"title":178,"_path":179},"Data Structure","/gists/data-structure",{"title":181,"_path":182},"DEPRESSION","/gists/depression",{"title":184,"_path":185},"设计模式","/gists/design-patterns",{"title":187,"_path":188},"Developer Experience","/gists/developer-experience",{"title":190,"_path":191},"Device Metrics","/gists/device-metrix",{"title":193,"_path":194},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":196,"_path":197},"正则表达式","/gists/eegex",{"title":199,"_path":200},"Emoji","/gists/emoji",{"title":202,"_path":203},"工程","/gists/engineering",{"title":205,"_path":206},"熵","/gists/entropy",{"title":208,"_path":209},"Environment","/gists/environment",{"title":211,"_path":212},"Erlang","/gists/erlang",{"title":214,"_path":215},"逃离塔克夫","/gists/escape-from-tarkov",{"title":217,"_path":218},"ESNext (ES6-ES11)","/gists/esnext",{"title":220,"_path":221},"Eval！","/gists/eval",{"title":223,"_path":224},"Flutter","/gists/flutter",{"title":226,"_path":227},"字体","/gists/font",{"title":229,"_path":230},"JS 函数式编程","/gists/functional",{"title":232,"_path":233},"Google C++ Standard","/gists/google-cpp-standard",{"title":235,"_path":236},"双向链接完全体","/gists/graph",{"title":238,"_path":239},"Hardwares","/gists/hardwares",{"title":241,"_path":242},"哈希冲突","/gists/hash-collision",{"title":244,"_path":245},"信息设计","/gists/information-design",{"title":247,"_path":248},"InstantPage","/gists/instant.page",{"title":250,"_path":251},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":253,"_path":254},"KVStore","/gists/key-value-db",{"title":256,"_path":257},"Kubernetes","/gists/kubernetes",{"title":259,"_path":260},"Makefile","/gists/makefile",{"title":262,"_path":263},"Markdown Inline Style","/gists/markdown-nice",{"title":265,"_path":266},"小程序","/gists/miniapp",{"title":268,"_path":269},"减小页面快照体积","/gists/minify-html",{"title":271,"_path":272},"mklink","/gists/mklink",{"title":274,"_path":275},"Mock","/gists/mock",{"title":277,"_path":278},"多端应用","/gists/multy-end-app",{"title":280,"_path":281},"神经科学","/gists/neuroscience",{"title":283,"_path":284},"OO","/gists/oo",{"title":286,"_path":287},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":289,"_path":290},"人物","/gists/person",{"title":292,"_path":293},"PInvoke","/gists/pinvoke",{"title":295,"_path":296},"像素","/gists/pixel",{"title":298,"_path":299},"PowerShell","/gists/powershell",{"title":301,"_path":302},"量子","/gists/quantum",{"title":304,"_path":305},"保持好奇心","/gists/questions",{"title":307,"_path":308},"React Native","/gists/react-native",{"title":310,"_path":311},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":313,"_path":314},"SEO","/gists/seo",{"title":316,"_path":317},"Shader","/gists/shader",{"title":319,"_path":320},"Shape Up","/gists/shape-up",{"title":322,"_path":323},"睡觉","/gists/sleep",{"title":325,"_path":326},"States","/gists/states",{"title":328,"_path":329},"Storage","/gists/storage",{"title":331,"_path":332},"音视频流处理","/gists/stream-cli",{"title":334,"_path":335},"Symbol","/gists/symbol",{"title":337,"_path":338},"系统论","/gists/systems-theory",{"title":340,"_path":341},"Taro","/gists/taro",{"title":343,"_path":344},"任务切片","/gists/task-slice",{"title":346,"_path":347},"技术偏好","/gists/tech-dudge",{"title":349,"_path":350},"Untitled","/gists/untitled",{"title":352,"_path":353},"可变字体","/gists/variable-font",{"title":355,"_path":356},"视觉错觉","/gists/visual-illusion",{"title":358,"_path":359},"SS(SSR)","/gists/vpn",{"title":361,"_path":362},"VS Code 插件开发","/gists/vscode-plugin",{"title":364,"_path":365},"Web Components","/gists/web-components",{"title":367,"_path":368},"Windows","/gists/windows",{"title":370,"_path":371},"查缺补漏","/gists/wrong",{"title":373,"_path":374,"children":375},"代码笔记 / Gists","/source-code",[376],{"title":377,"_path":374},"🚄 代码笔记",{"title":379,"_path":380,"children":381},"我 / Abount","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"title":385,"_path":386,"children":387},"todo","/todo",[388],{"title":385,"_path":386},{"_path":390,"_dir":391,"_draft":392,"_partial":393,"_locale":394,"title":395,"description":396,"body":397,"_type":6875,"_id":6876,"_source":6877,"_file":6878,"_extension":6879},"/source-code/_js/vue2-source/observer","vue2-source",false,true,"","Vue2 Observer","deprecated warning",{"type":398,"children":399,"toc":6864},"root",[400,408,428,433,439,449,454,474,480,485,490,1549,1554,1559,2358,2363,2368,3916,3921,3926,3931,3936,4532,4537,4545,4550,4840,4845,4850,5435,5440,5634,5639,6821,6826,6830,6835,6858],{"type":401,"tag":402,"props":403,"children":405},"element","h2",{"id":404},"读源码前",[406],{"type":407,"value":404},"text",{"type":401,"tag":409,"props":410,"children":411},"ul",{},[412,418,423],{"type":401,"tag":413,"props":414,"children":415},"li",{},[416],{"type":407,"value":417},"从 GitHub 克隆一份 vue@2 在 dev 上的分支",{"type":401,"tag":413,"props":419,"children":420},{},[421],{"type":407,"value":422},"使用 flow-remove-types 将 src 目录下的 flow 文件转换为普通的 JS",{"type":401,"tag":413,"props":424,"children":425},{},[426],{"type":407,"value":427},"使用 PowerShell 的 tree 指令输出 src 目录的树形结构，以理解源码结构",{"type":401,"tag":402,"props":429,"children":431},{"id":430},"目录结构",[432],{"type":407,"value":430},{"type":401,"tag":434,"props":435,"children":436},"p",{},[437],{"type":407,"value":438},"可以大致根据目录将源码拆分为几个部分：",{"type":401,"tag":440,"props":441,"children":443},"pre",{"code":442},"├─compiler // 模板编译相关\n│  ├─codegen  // 代码生成器\n│  ├─directives // 指令解析器\n│  └─parser // 模板解析器\n├─core  // 核心代码\n│  ├─components // component 相关 API\n│  ├─global-api // 全局 API\n│  ├─instance\n│  │  └─render-helpers\n│  ├─observer // 响应式属性\n│  ├─util // 工具函数\n│  └─vdom // 虚拟节点\n│      ├─helpers\n│      └─modules\n├─platforms // 平台相关代码\n├─server  // 服务端渲染相关代码\n│  ├─bundle-renderer\n│  ├─optimizing-compiler\n│  ├─template-renderer\n│  └─webpack-plugin\n├─sfc // SFC 结构解析器\n└─shared  // 工具函数\n",[444],{"type":401,"tag":445,"props":446,"children":447},"code",{"__ignoreMap":394},[448],{"type":407,"value":442},{"type":401,"tag":402,"props":450,"children":452},{"id":451},"变化侦测",[453],{"type":407,"value":451},{"type":401,"tag":455,"props":456,"children":457},"blockquote",{},[458],{"type":401,"tag":434,"props":459,"children":460},{},[461,463,472],{"type":407,"value":462},"去年读变化侦测的时候，借着项目的机会，实现过一个轻量的状态管理：",{"type":401,"tag":464,"props":465,"children":469},"a",{"href":466,"rel":467},"https://github.com/takecloud/state-vex",[468],"nofollow",[470],{"type":407,"value":471},"state-vex",{"type":407,"value":473},"，用到了 VueJS 响应式绑定相关的一些内容。",{"type":401,"tag":475,"props":476,"children":478},"h3",{"id":477},"侦测类",[479],{"type":407,"value":477},{"type":401,"tag":434,"props":481,"children":482},{},[483],{"type":407,"value":484},"Vue 通过 Observer 把对象的所有属性转化为带有能收集依赖并触发依赖更新的 setter/getter。setter/getter 调用时，分别收集依赖、触发依赖更新。Observer 还能遍历数组元素。但是更新依赖的方法放在了数组原型方法中，比如 Array.prototype.splice，用包装器将其增强，就能在调用时同时调用更新依赖的函数。",{"type":401,"tag":434,"props":486,"children":487},{},[488],{"type":407,"value":489},"简而言之，Observer 使对象“可观测”，即“变化侦测”中的“侦测”。通过 observe 函数，我们能命令式地侦测一个对象。",{"type":401,"tag":440,"props":491,"children":495},{"code":492,"language":493,"meta":394,"className":494,"style":394},"function observe(value, asRootData) {\n  ob = new Observer(value);\n  return ob;\n}\n\nclass Observer {\n  constructor(value) {\n    this.value = value;\n    // 初始化依赖容器\n    this.dep = new Dep();\n    this.vmCount = 0;\n    // 将侦测实例实例挂载到对象上方便访问\n    def(value, \"__ob__\", this);\n    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods);\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys);\n      }\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i \u003C keys.length; i++) {\n      defineReactive(obj, keys[i]);\n    }\n  }\n\n  observeArray(items) {\n    for (let i = 0, l = items.length; i \u003C l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[496],{"type":401,"tag":445,"props":497,"children":498},{"__ignoreMap":394},[499,549,593,612,621,630,648,673,705,715,754,785,794,849,858,867,913,940,974,992,1034,1043,1077,1094,1127,1136,1145,1153,1180,1229,1308,1352,1360,1368,1376,1402,1492,1525,1533,1541],{"type":401,"tag":500,"props":501,"children":504},"span",{"class":502,"line":503},"line",1,[505,511,517,523,529,534,539,544],{"type":401,"tag":500,"props":506,"children":508},{"style":507},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[509],{"type":407,"value":510},"function",{"type":401,"tag":500,"props":512,"children":514},{"style":513},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[515],{"type":407,"value":516}," observe",{"type":401,"tag":500,"props":518,"children":520},{"style":519},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[521],{"type":407,"value":522},"(",{"type":401,"tag":500,"props":524,"children":526},{"style":525},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[527],{"type":407,"value":528},"value",{"type":401,"tag":500,"props":530,"children":531},{"style":519},[532],{"type":407,"value":533},",",{"type":401,"tag":500,"props":535,"children":536},{"style":525},[537],{"type":407,"value":538}," asRootData",{"type":401,"tag":500,"props":540,"children":541},{"style":519},[542],{"type":407,"value":543},")",{"type":401,"tag":500,"props":545,"children":546},{"style":519},[547],{"type":407,"value":548}," {\n",{"type":401,"tag":500,"props":550,"children":552},{"class":502,"line":551},2,[553,559,565,570,575,580,584,588],{"type":401,"tag":500,"props":554,"children":556},{"style":555},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[557],{"type":407,"value":558},"  ob",{"type":401,"tag":500,"props":560,"children":562},{"style":561},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[563],{"type":407,"value":564}," =",{"type":401,"tag":500,"props":566,"children":567},{"style":561},[568],{"type":407,"value":569}," new",{"type":401,"tag":500,"props":571,"children":572},{"style":513},[573],{"type":407,"value":574}," Observer",{"type":401,"tag":500,"props":576,"children":578},{"style":577},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[579],{"type":407,"value":522},{"type":401,"tag":500,"props":581,"children":582},{"style":555},[583],{"type":407,"value":528},{"type":401,"tag":500,"props":585,"children":586},{"style":577},[587],{"type":407,"value":543},{"type":401,"tag":500,"props":589,"children":590},{"style":519},[591],{"type":407,"value":592},";\n",{"type":401,"tag":500,"props":594,"children":596},{"class":502,"line":595},3,[597,603,608],{"type":401,"tag":500,"props":598,"children":600},{"style":599},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[601],{"type":407,"value":602},"  return",{"type":401,"tag":500,"props":604,"children":605},{"style":555},[606],{"type":407,"value":607}," ob",{"type":401,"tag":500,"props":609,"children":610},{"style":519},[611],{"type":407,"value":592},{"type":401,"tag":500,"props":613,"children":615},{"class":502,"line":614},4,[616],{"type":401,"tag":500,"props":617,"children":618},{"style":519},[619],{"type":407,"value":620},"}\n",{"type":401,"tag":500,"props":622,"children":624},{"class":502,"line":623},5,[625],{"type":401,"tag":500,"props":626,"children":627},{"emptyLinePlaceholder":393},[628],{"type":407,"value":629},"\n",{"type":401,"tag":500,"props":631,"children":633},{"class":502,"line":632},6,[634,639,644],{"type":401,"tag":500,"props":635,"children":636},{"style":507},[637],{"type":407,"value":638},"class",{"type":401,"tag":500,"props":640,"children":642},{"style":641},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E;--shiki-light-text-decoration:inherit;--shiki-default-text-decoration:inherit;--shiki-dark-text-decoration:inherit;--shiki-sepia-text-decoration:underline",[643],{"type":407,"value":574},{"type":401,"tag":500,"props":645,"children":646},{"style":519},[647],{"type":407,"value":548},{"type":401,"tag":500,"props":649,"children":651},{"class":502,"line":650},7,[652,657,661,665,669],{"type":401,"tag":500,"props":653,"children":654},{"style":507},[655],{"type":407,"value":656},"  constructor",{"type":401,"tag":500,"props":658,"children":659},{"style":519},[660],{"type":407,"value":522},{"type":401,"tag":500,"props":662,"children":663},{"style":525},[664],{"type":407,"value":528},{"type":401,"tag":500,"props":666,"children":667},{"style":519},[668],{"type":407,"value":543},{"type":401,"tag":500,"props":670,"children":671},{"style":519},[672],{"type":407,"value":548},{"type":401,"tag":500,"props":674,"children":676},{"class":502,"line":675},8,[677,683,688,692,696,701],{"type":401,"tag":500,"props":678,"children":680},{"style":679},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[681],{"type":407,"value":682},"    this",{"type":401,"tag":500,"props":684,"children":685},{"style":519},[686],{"type":407,"value":687},".",{"type":401,"tag":500,"props":689,"children":690},{"style":555},[691],{"type":407,"value":528},{"type":401,"tag":500,"props":693,"children":694},{"style":561},[695],{"type":407,"value":564},{"type":401,"tag":500,"props":697,"children":698},{"style":555},[699],{"type":407,"value":700}," value",{"type":401,"tag":500,"props":702,"children":703},{"style":519},[704],{"type":407,"value":592},{"type":401,"tag":500,"props":706,"children":708},{"class":502,"line":707},9,[709],{"type":401,"tag":500,"props":710,"children":712},{"style":711},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[713],{"type":407,"value":714},"    // 初始化依赖容器\n",{"type":401,"tag":500,"props":716,"children":718},{"class":502,"line":717},10,[719,723,727,732,736,740,745,750],{"type":401,"tag":500,"props":720,"children":721},{"style":679},[722],{"type":407,"value":682},{"type":401,"tag":500,"props":724,"children":725},{"style":519},[726],{"type":407,"value":687},{"type":401,"tag":500,"props":728,"children":729},{"style":555},[730],{"type":407,"value":731},"dep",{"type":401,"tag":500,"props":733,"children":734},{"style":561},[735],{"type":407,"value":564},{"type":401,"tag":500,"props":737,"children":738},{"style":561},[739],{"type":407,"value":569},{"type":401,"tag":500,"props":741,"children":742},{"style":513},[743],{"type":407,"value":744}," Dep",{"type":401,"tag":500,"props":746,"children":747},{"style":577},[748],{"type":407,"value":749},"()",{"type":401,"tag":500,"props":751,"children":752},{"style":519},[753],{"type":407,"value":592},{"type":401,"tag":500,"props":755,"children":757},{"class":502,"line":756},11,[758,762,766,771,775,781],{"type":401,"tag":500,"props":759,"children":760},{"style":679},[761],{"type":407,"value":682},{"type":401,"tag":500,"props":763,"children":764},{"style":519},[765],{"type":407,"value":687},{"type":401,"tag":500,"props":767,"children":768},{"style":555},[769],{"type":407,"value":770},"vmCount",{"type":401,"tag":500,"props":772,"children":773},{"style":561},[774],{"type":407,"value":564},{"type":401,"tag":500,"props":776,"children":778},{"style":777},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[779],{"type":407,"value":780}," 0",{"type":401,"tag":500,"props":782,"children":783},{"style":519},[784],{"type":407,"value":592},{"type":401,"tag":500,"props":786,"children":788},{"class":502,"line":787},12,[789],{"type":401,"tag":500,"props":790,"children":791},{"style":711},[792],{"type":407,"value":793},"    // 将侦测实例实例挂载到对象上方便访问\n",{"type":401,"tag":500,"props":795,"children":797},{"class":502,"line":796},13,[798,803,807,811,815,821,827,832,836,841,845],{"type":401,"tag":500,"props":799,"children":800},{"style":513},[801],{"type":407,"value":802},"    def",{"type":401,"tag":500,"props":804,"children":805},{"style":577},[806],{"type":407,"value":522},{"type":401,"tag":500,"props":808,"children":809},{"style":555},[810],{"type":407,"value":528},{"type":401,"tag":500,"props":812,"children":813},{"style":519},[814],{"type":407,"value":533},{"type":401,"tag":500,"props":816,"children":818},{"style":817},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[819],{"type":407,"value":820}," \"",{"type":401,"tag":500,"props":822,"children":824},{"style":823},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[825],{"type":407,"value":826},"__ob__",{"type":401,"tag":500,"props":828,"children":829},{"style":817},[830],{"type":407,"value":831},"\"",{"type":401,"tag":500,"props":833,"children":834},{"style":519},[835],{"type":407,"value":533},{"type":401,"tag":500,"props":837,"children":838},{"style":679},[839],{"type":407,"value":840}," this",{"type":401,"tag":500,"props":842,"children":843},{"style":577},[844],{"type":407,"value":543},{"type":401,"tag":500,"props":846,"children":847},{"style":519},[848],{"type":407,"value":592},{"type":401,"tag":500,"props":850,"children":852},{"class":502,"line":851},14,[853],{"type":401,"tag":500,"props":854,"children":855},{"style":711},[856],{"type":407,"value":857},"    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n",{"type":401,"tag":500,"props":859,"children":861},{"class":502,"line":860},15,[862],{"type":401,"tag":500,"props":863,"children":864},{"style":711},[865],{"type":407,"value":866},"    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n",{"type":401,"tag":500,"props":868,"children":870},{"class":502,"line":869},16,[871,876,881,886,890,895,899,903,908],{"type":401,"tag":500,"props":872,"children":873},{"style":599},[874],{"type":407,"value":875},"    if",{"type":401,"tag":500,"props":877,"children":878},{"style":577},[879],{"type":407,"value":880}," (",{"type":401,"tag":500,"props":882,"children":883},{"style":555},[884],{"type":407,"value":885},"Array",{"type":401,"tag":500,"props":887,"children":888},{"style":519},[889],{"type":407,"value":687},{"type":401,"tag":500,"props":891,"children":892},{"style":513},[893],{"type":407,"value":894},"isArray",{"type":401,"tag":500,"props":896,"children":897},{"style":577},[898],{"type":407,"value":522},{"type":401,"tag":500,"props":900,"children":901},{"style":555},[902],{"type":407,"value":528},{"type":401,"tag":500,"props":904,"children":905},{"style":577},[906],{"type":407,"value":907},")) ",{"type":401,"tag":500,"props":909,"children":910},{"style":519},[911],{"type":407,"value":912},"{\n",{"type":401,"tag":500,"props":914,"children":916},{"class":502,"line":915},17,[917,922,926,931,936],{"type":401,"tag":500,"props":918,"children":919},{"style":599},[920],{"type":407,"value":921},"      if",{"type":401,"tag":500,"props":923,"children":924},{"style":577},[925],{"type":407,"value":880},{"type":401,"tag":500,"props":927,"children":928},{"style":555},[929],{"type":407,"value":930},"hasProto",{"type":401,"tag":500,"props":932,"children":933},{"style":577},[934],{"type":407,"value":935},") ",{"type":401,"tag":500,"props":937,"children":938},{"style":519},[939],{"type":407,"value":912},{"type":401,"tag":500,"props":941,"children":943},{"class":502,"line":942},18,[944,949,953,957,961,966,970],{"type":401,"tag":500,"props":945,"children":946},{"style":513},[947],{"type":407,"value":948},"        protoAugment",{"type":401,"tag":500,"props":950,"children":951},{"style":577},[952],{"type":407,"value":522},{"type":401,"tag":500,"props":954,"children":955},{"style":555},[956],{"type":407,"value":528},{"type":401,"tag":500,"props":958,"children":959},{"style":519},[960],{"type":407,"value":533},{"type":401,"tag":500,"props":962,"children":963},{"style":555},[964],{"type":407,"value":965}," arrayMethods",{"type":401,"tag":500,"props":967,"children":968},{"style":577},[969],{"type":407,"value":543},{"type":401,"tag":500,"props":971,"children":972},{"style":519},[973],{"type":407,"value":592},{"type":401,"tag":500,"props":975,"children":977},{"class":502,"line":976},19,[978,983,988],{"type":401,"tag":500,"props":979,"children":980},{"style":519},[981],{"type":407,"value":982},"      }",{"type":401,"tag":500,"props":984,"children":985},{"style":599},[986],{"type":407,"value":987}," else",{"type":401,"tag":500,"props":989,"children":990},{"style":519},[991],{"type":407,"value":548},{"type":401,"tag":500,"props":993,"children":995},{"class":502,"line":994},20,[996,1001,1005,1009,1013,1017,1021,1026,1030],{"type":401,"tag":500,"props":997,"children":998},{"style":513},[999],{"type":407,"value":1000},"        copyAugment",{"type":401,"tag":500,"props":1002,"children":1003},{"style":577},[1004],{"type":407,"value":522},{"type":401,"tag":500,"props":1006,"children":1007},{"style":555},[1008],{"type":407,"value":528},{"type":401,"tag":500,"props":1010,"children":1011},{"style":519},[1012],{"type":407,"value":533},{"type":401,"tag":500,"props":1014,"children":1015},{"style":555},[1016],{"type":407,"value":965},{"type":401,"tag":500,"props":1018,"children":1019},{"style":519},[1020],{"type":407,"value":533},{"type":401,"tag":500,"props":1022,"children":1023},{"style":555},[1024],{"type":407,"value":1025}," arrayKeys",{"type":401,"tag":500,"props":1027,"children":1028},{"style":577},[1029],{"type":407,"value":543},{"type":401,"tag":500,"props":1031,"children":1032},{"style":519},[1033],{"type":407,"value":592},{"type":401,"tag":500,"props":1035,"children":1037},{"class":502,"line":1036},21,[1038],{"type":401,"tag":500,"props":1039,"children":1040},{"style":519},[1041],{"type":407,"value":1042},"      }\n",{"type":401,"tag":500,"props":1044,"children":1046},{"class":502,"line":1045},22,[1047,1052,1056,1061,1065,1069,1073],{"type":401,"tag":500,"props":1048,"children":1049},{"style":679},[1050],{"type":407,"value":1051},"      this",{"type":401,"tag":500,"props":1053,"children":1054},{"style":519},[1055],{"type":407,"value":687},{"type":401,"tag":500,"props":1057,"children":1058},{"style":513},[1059],{"type":407,"value":1060},"observeArray",{"type":401,"tag":500,"props":1062,"children":1063},{"style":577},[1064],{"type":407,"value":522},{"type":401,"tag":500,"props":1066,"children":1067},{"style":555},[1068],{"type":407,"value":528},{"type":401,"tag":500,"props":1070,"children":1071},{"style":577},[1072],{"type":407,"value":543},{"type":401,"tag":500,"props":1074,"children":1075},{"style":519},[1076],{"type":407,"value":592},{"type":401,"tag":500,"props":1078,"children":1080},{"class":502,"line":1079},23,[1081,1086,1090],{"type":401,"tag":500,"props":1082,"children":1083},{"style":519},[1084],{"type":407,"value":1085},"    }",{"type":401,"tag":500,"props":1087,"children":1088},{"style":599},[1089],{"type":407,"value":987},{"type":401,"tag":500,"props":1091,"children":1092},{"style":519},[1093],{"type":407,"value":548},{"type":401,"tag":500,"props":1095,"children":1097},{"class":502,"line":1096},24,[1098,1102,1106,1111,1115,1119,1123],{"type":401,"tag":500,"props":1099,"children":1100},{"style":679},[1101],{"type":407,"value":1051},{"type":401,"tag":500,"props":1103,"children":1104},{"style":519},[1105],{"type":407,"value":687},{"type":401,"tag":500,"props":1107,"children":1108},{"style":513},[1109],{"type":407,"value":1110},"walk",{"type":401,"tag":500,"props":1112,"children":1113},{"style":577},[1114],{"type":407,"value":522},{"type":401,"tag":500,"props":1116,"children":1117},{"style":555},[1118],{"type":407,"value":528},{"type":401,"tag":500,"props":1120,"children":1121},{"style":577},[1122],{"type":407,"value":543},{"type":401,"tag":500,"props":1124,"children":1125},{"style":519},[1126],{"type":407,"value":592},{"type":401,"tag":500,"props":1128,"children":1130},{"class":502,"line":1129},25,[1131],{"type":401,"tag":500,"props":1132,"children":1133},{"style":519},[1134],{"type":407,"value":1135},"    }\n",{"type":401,"tag":500,"props":1137,"children":1139},{"class":502,"line":1138},26,[1140],{"type":401,"tag":500,"props":1141,"children":1142},{"style":519},[1143],{"type":407,"value":1144},"  }\n",{"type":401,"tag":500,"props":1146,"children":1148},{"class":502,"line":1147},27,[1149],{"type":401,"tag":500,"props":1150,"children":1151},{"emptyLinePlaceholder":393},[1152],{"type":407,"value":629},{"type":401,"tag":500,"props":1154,"children":1156},{"class":502,"line":1155},28,[1157,1163,1167,1172,1176],{"type":401,"tag":500,"props":1158,"children":1160},{"style":1159},"--shiki-light:#E53935;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1161],{"type":407,"value":1162},"  walk",{"type":401,"tag":500,"props":1164,"children":1165},{"style":519},[1166],{"type":407,"value":522},{"type":401,"tag":500,"props":1168,"children":1169},{"style":525},[1170],{"type":407,"value":1171},"obj",{"type":401,"tag":500,"props":1173,"children":1174},{"style":519},[1175],{"type":407,"value":543},{"type":401,"tag":500,"props":1177,"children":1178},{"style":519},[1179],{"type":407,"value":548},{"type":401,"tag":500,"props":1181,"children":1183},{"class":502,"line":1182},29,[1184,1189,1195,1199,1204,1208,1213,1217,1221,1225],{"type":401,"tag":500,"props":1185,"children":1186},{"style":507},[1187],{"type":407,"value":1188},"    const",{"type":401,"tag":500,"props":1190,"children":1192},{"style":1191},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1193],{"type":407,"value":1194}," keys",{"type":401,"tag":500,"props":1196,"children":1197},{"style":561},[1198],{"type":407,"value":564},{"type":401,"tag":500,"props":1200,"children":1201},{"style":555},[1202],{"type":407,"value":1203}," Object",{"type":401,"tag":500,"props":1205,"children":1206},{"style":519},[1207],{"type":407,"value":687},{"type":401,"tag":500,"props":1209,"children":1210},{"style":513},[1211],{"type":407,"value":1212},"keys",{"type":401,"tag":500,"props":1214,"children":1215},{"style":577},[1216],{"type":407,"value":522},{"type":401,"tag":500,"props":1218,"children":1219},{"style":555},[1220],{"type":407,"value":1171},{"type":401,"tag":500,"props":1222,"children":1223},{"style":577},[1224],{"type":407,"value":543},{"type":401,"tag":500,"props":1226,"children":1227},{"style":519},[1228],{"type":407,"value":592},{"type":401,"tag":500,"props":1230,"children":1232},{"class":502,"line":1231},30,[1233,1238,1242,1247,1252,1256,1260,1265,1269,1274,1278,1282,1287,1291,1295,1300,1304],{"type":401,"tag":500,"props":1234,"children":1235},{"style":599},[1236],{"type":407,"value":1237},"    for",{"type":401,"tag":500,"props":1239,"children":1240},{"style":577},[1241],{"type":407,"value":880},{"type":401,"tag":500,"props":1243,"children":1244},{"style":507},[1245],{"type":407,"value":1246},"let",{"type":401,"tag":500,"props":1248,"children":1249},{"style":555},[1250],{"type":407,"value":1251}," i",{"type":401,"tag":500,"props":1253,"children":1254},{"style":561},[1255],{"type":407,"value":564},{"type":401,"tag":500,"props":1257,"children":1258},{"style":777},[1259],{"type":407,"value":780},{"type":401,"tag":500,"props":1261,"children":1262},{"style":519},[1263],{"type":407,"value":1264},";",{"type":401,"tag":500,"props":1266,"children":1267},{"style":555},[1268],{"type":407,"value":1251},{"type":401,"tag":500,"props":1270,"children":1271},{"style":561},[1272],{"type":407,"value":1273}," \u003C",{"type":401,"tag":500,"props":1275,"children":1276},{"style":555},[1277],{"type":407,"value":1194},{"type":401,"tag":500,"props":1279,"children":1280},{"style":519},[1281],{"type":407,"value":687},{"type":401,"tag":500,"props":1283,"children":1284},{"style":1191},[1285],{"type":407,"value":1286},"length",{"type":401,"tag":500,"props":1288,"children":1289},{"style":519},[1290],{"type":407,"value":1264},{"type":401,"tag":500,"props":1292,"children":1293},{"style":555},[1294],{"type":407,"value":1251},{"type":401,"tag":500,"props":1296,"children":1297},{"style":561},[1298],{"type":407,"value":1299},"++",{"type":401,"tag":500,"props":1301,"children":1302},{"style":577},[1303],{"type":407,"value":935},{"type":401,"tag":500,"props":1305,"children":1306},{"style":519},[1307],{"type":407,"value":912},{"type":401,"tag":500,"props":1309,"children":1311},{"class":502,"line":1310},31,[1312,1317,1321,1325,1329,1333,1338,1343,1348],{"type":401,"tag":500,"props":1313,"children":1314},{"style":513},[1315],{"type":407,"value":1316},"      defineReactive",{"type":401,"tag":500,"props":1318,"children":1319},{"style":577},[1320],{"type":407,"value":522},{"type":401,"tag":500,"props":1322,"children":1323},{"style":555},[1324],{"type":407,"value":1171},{"type":401,"tag":500,"props":1326,"children":1327},{"style":519},[1328],{"type":407,"value":533},{"type":401,"tag":500,"props":1330,"children":1331},{"style":555},[1332],{"type":407,"value":1194},{"type":401,"tag":500,"props":1334,"children":1335},{"style":577},[1336],{"type":407,"value":1337},"[",{"type":401,"tag":500,"props":1339,"children":1340},{"style":555},[1341],{"type":407,"value":1342},"i",{"type":401,"tag":500,"props":1344,"children":1345},{"style":577},[1346],{"type":407,"value":1347},"])",{"type":401,"tag":500,"props":1349,"children":1350},{"style":519},[1351],{"type":407,"value":592},{"type":401,"tag":500,"props":1353,"children":1355},{"class":502,"line":1354},32,[1356],{"type":401,"tag":500,"props":1357,"children":1358},{"style":519},[1359],{"type":407,"value":1135},{"type":401,"tag":500,"props":1361,"children":1363},{"class":502,"line":1362},33,[1364],{"type":401,"tag":500,"props":1365,"children":1366},{"style":519},[1367],{"type":407,"value":1144},{"type":401,"tag":500,"props":1369,"children":1371},{"class":502,"line":1370},34,[1372],{"type":401,"tag":500,"props":1373,"children":1374},{"emptyLinePlaceholder":393},[1375],{"type":407,"value":629},{"type":401,"tag":500,"props":1377,"children":1379},{"class":502,"line":1378},35,[1380,1385,1389,1394,1398],{"type":401,"tag":500,"props":1381,"children":1382},{"style":1159},[1383],{"type":407,"value":1384},"  observeArray",{"type":401,"tag":500,"props":1386,"children":1387},{"style":519},[1388],{"type":407,"value":522},{"type":401,"tag":500,"props":1390,"children":1391},{"style":525},[1392],{"type":407,"value":1393},"items",{"type":401,"tag":500,"props":1395,"children":1396},{"style":519},[1397],{"type":407,"value":543},{"type":401,"tag":500,"props":1399,"children":1400},{"style":519},[1401],{"type":407,"value":548},{"type":401,"tag":500,"props":1403,"children":1405},{"class":502,"line":1404},36,[1406,1410,1414,1418,1422,1426,1430,1434,1439,1443,1448,1452,1456,1460,1464,1468,1472,1476,1480,1484,1488],{"type":401,"tag":500,"props":1407,"children":1408},{"style":599},[1409],{"type":407,"value":1237},{"type":401,"tag":500,"props":1411,"children":1412},{"style":577},[1413],{"type":407,"value":880},{"type":401,"tag":500,"props":1415,"children":1416},{"style":507},[1417],{"type":407,"value":1246},{"type":401,"tag":500,"props":1419,"children":1420},{"style":555},[1421],{"type":407,"value":1251},{"type":401,"tag":500,"props":1423,"children":1424},{"style":561},[1425],{"type":407,"value":564},{"type":401,"tag":500,"props":1427,"children":1428},{"style":777},[1429],{"type":407,"value":780},{"type":401,"tag":500,"props":1431,"children":1432},{"style":519},[1433],{"type":407,"value":533},{"type":401,"tag":500,"props":1435,"children":1436},{"style":555},[1437],{"type":407,"value":1438}," l",{"type":401,"tag":500,"props":1440,"children":1441},{"style":561},[1442],{"type":407,"value":564},{"type":401,"tag":500,"props":1444,"children":1445},{"style":555},[1446],{"type":407,"value":1447}," items",{"type":401,"tag":500,"props":1449,"children":1450},{"style":519},[1451],{"type":407,"value":687},{"type":401,"tag":500,"props":1453,"children":1454},{"style":1191},[1455],{"type":407,"value":1286},{"type":401,"tag":500,"props":1457,"children":1458},{"style":519},[1459],{"type":407,"value":1264},{"type":401,"tag":500,"props":1461,"children":1462},{"style":555},[1463],{"type":407,"value":1251},{"type":401,"tag":500,"props":1465,"children":1466},{"style":561},[1467],{"type":407,"value":1273},{"type":401,"tag":500,"props":1469,"children":1470},{"style":555},[1471],{"type":407,"value":1438},{"type":401,"tag":500,"props":1473,"children":1474},{"style":519},[1475],{"type":407,"value":1264},{"type":401,"tag":500,"props":1477,"children":1478},{"style":555},[1479],{"type":407,"value":1251},{"type":401,"tag":500,"props":1481,"children":1482},{"style":561},[1483],{"type":407,"value":1299},{"type":401,"tag":500,"props":1485,"children":1486},{"style":577},[1487],{"type":407,"value":935},{"type":401,"tag":500,"props":1489,"children":1490},{"style":519},[1491],{"type":407,"value":912},{"type":401,"tag":500,"props":1493,"children":1495},{"class":502,"line":1494},37,[1496,1501,1505,1509,1513,1517,1521],{"type":401,"tag":500,"props":1497,"children":1498},{"style":513},[1499],{"type":407,"value":1500},"      observe",{"type":401,"tag":500,"props":1502,"children":1503},{"style":577},[1504],{"type":407,"value":522},{"type":401,"tag":500,"props":1506,"children":1507},{"style":555},[1508],{"type":407,"value":1393},{"type":401,"tag":500,"props":1510,"children":1511},{"style":577},[1512],{"type":407,"value":1337},{"type":401,"tag":500,"props":1514,"children":1515},{"style":555},[1516],{"type":407,"value":1342},{"type":401,"tag":500,"props":1518,"children":1519},{"style":577},[1520],{"type":407,"value":1347},{"type":401,"tag":500,"props":1522,"children":1523},{"style":519},[1524],{"type":407,"value":592},{"type":401,"tag":500,"props":1526,"children":1528},{"class":502,"line":1527},38,[1529],{"type":401,"tag":500,"props":1530,"children":1531},{"style":519},[1532],{"type":407,"value":1135},{"type":401,"tag":500,"props":1534,"children":1536},{"class":502,"line":1535},39,[1537],{"type":401,"tag":500,"props":1538,"children":1539},{"style":519},[1540],{"type":407,"value":1144},{"type":401,"tag":500,"props":1542,"children":1544},{"class":502,"line":1543},40,[1545],{"type":401,"tag":500,"props":1546,"children":1547},{"style":519},[1548],{"type":407,"value":620},{"type":401,"tag":475,"props":1550,"children":1552},{"id":1551},"监测数组变化",[1553],{"type":407,"value":1551},{"type":401,"tag":434,"props":1555,"children":1556},{},[1557],{"type":407,"value":1558},"因为数组没有 setter/getter，所以使用数组时，没有办法做响应式更新。Vue 以猴子补丁的形式增强了数组元素的原型方法，使得这些方法被调用时，自动更新依赖。",{"type":401,"tag":440,"props":1560,"children":1562},{"code":1561,"language":493,"meta":394,"className":494,"style":394},"// 需要增强的方法\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n    const result = original.apply(this, args);\n    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n    const ob = this.__ob__;\n    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // 通知依赖更新\n    ob.dep.notify();\n    return result;\n  });\n});\n",[1563],{"type":401,"tag":445,"props":1564,"children":1565},{"__ignoreMap":394},[1566,1574,1596,1618,1638,1658,1678,1698,1718,1738,1750,1757,1799,1807,1845,1907,1915,1970,1978,2009,2017,2034,2058,2083,2106,2126,2138,2161,2202,2213,2220,2269,2277,2310,2326,2342],{"type":401,"tag":500,"props":1567,"children":1568},{"class":502,"line":503},[1569],{"type":401,"tag":500,"props":1570,"children":1571},{"style":711},[1572],{"type":407,"value":1573},"// 需要增强的方法\n",{"type":401,"tag":500,"props":1575,"children":1576},{"class":502,"line":551},[1577,1582,1587,1591],{"type":401,"tag":500,"props":1578,"children":1579},{"style":507},[1580],{"type":407,"value":1581},"const",{"type":401,"tag":500,"props":1583,"children":1584},{"style":1191},[1585],{"type":407,"value":1586}," methodsToPatch",{"type":401,"tag":500,"props":1588,"children":1589},{"style":561},[1590],{"type":407,"value":564},{"type":401,"tag":500,"props":1592,"children":1593},{"style":555},[1594],{"type":407,"value":1595}," [\n",{"type":401,"tag":500,"props":1597,"children":1598},{"class":502,"line":595},[1599,1604,1609,1613],{"type":401,"tag":500,"props":1600,"children":1601},{"style":817},[1602],{"type":407,"value":1603},"  \"",{"type":401,"tag":500,"props":1605,"children":1606},{"style":823},[1607],{"type":407,"value":1608},"push",{"type":401,"tag":500,"props":1610,"children":1611},{"style":817},[1612],{"type":407,"value":831},{"type":401,"tag":500,"props":1614,"children":1615},{"style":519},[1616],{"type":407,"value":1617},",\n",{"type":401,"tag":500,"props":1619,"children":1620},{"class":502,"line":614},[1621,1625,1630,1634],{"type":401,"tag":500,"props":1622,"children":1623},{"style":817},[1624],{"type":407,"value":1603},{"type":401,"tag":500,"props":1626,"children":1627},{"style":823},[1628],{"type":407,"value":1629},"pop",{"type":401,"tag":500,"props":1631,"children":1632},{"style":817},[1633],{"type":407,"value":831},{"type":401,"tag":500,"props":1635,"children":1636},{"style":519},[1637],{"type":407,"value":1617},{"type":401,"tag":500,"props":1639,"children":1640},{"class":502,"line":623},[1641,1645,1650,1654],{"type":401,"tag":500,"props":1642,"children":1643},{"style":817},[1644],{"type":407,"value":1603},{"type":401,"tag":500,"props":1646,"children":1647},{"style":823},[1648],{"type":407,"value":1649},"shift",{"type":401,"tag":500,"props":1651,"children":1652},{"style":817},[1653],{"type":407,"value":831},{"type":401,"tag":500,"props":1655,"children":1656},{"style":519},[1657],{"type":407,"value":1617},{"type":401,"tag":500,"props":1659,"children":1660},{"class":502,"line":632},[1661,1665,1670,1674],{"type":401,"tag":500,"props":1662,"children":1663},{"style":817},[1664],{"type":407,"value":1603},{"type":401,"tag":500,"props":1666,"children":1667},{"style":823},[1668],{"type":407,"value":1669},"unshift",{"type":401,"tag":500,"props":1671,"children":1672},{"style":817},[1673],{"type":407,"value":831},{"type":401,"tag":500,"props":1675,"children":1676},{"style":519},[1677],{"type":407,"value":1617},{"type":401,"tag":500,"props":1679,"children":1680},{"class":502,"line":650},[1681,1685,1690,1694],{"type":401,"tag":500,"props":1682,"children":1683},{"style":817},[1684],{"type":407,"value":1603},{"type":401,"tag":500,"props":1686,"children":1687},{"style":823},[1688],{"type":407,"value":1689},"splice",{"type":401,"tag":500,"props":1691,"children":1692},{"style":817},[1693],{"type":407,"value":831},{"type":401,"tag":500,"props":1695,"children":1696},{"style":519},[1697],{"type":407,"value":1617},{"type":401,"tag":500,"props":1699,"children":1700},{"class":502,"line":675},[1701,1705,1710,1714],{"type":401,"tag":500,"props":1702,"children":1703},{"style":817},[1704],{"type":407,"value":1603},{"type":401,"tag":500,"props":1706,"children":1707},{"style":823},[1708],{"type":407,"value":1709},"sort",{"type":401,"tag":500,"props":1711,"children":1712},{"style":817},[1713],{"type":407,"value":831},{"type":401,"tag":500,"props":1715,"children":1716},{"style":519},[1717],{"type":407,"value":1617},{"type":401,"tag":500,"props":1719,"children":1720},{"class":502,"line":707},[1721,1725,1730,1734],{"type":401,"tag":500,"props":1722,"children":1723},{"style":817},[1724],{"type":407,"value":1603},{"type":401,"tag":500,"props":1726,"children":1727},{"style":823},[1728],{"type":407,"value":1729},"reverse",{"type":401,"tag":500,"props":1731,"children":1732},{"style":817},[1733],{"type":407,"value":831},{"type":401,"tag":500,"props":1735,"children":1736},{"style":519},[1737],{"type":407,"value":1617},{"type":401,"tag":500,"props":1739,"children":1740},{"class":502,"line":717},[1741,1746],{"type":401,"tag":500,"props":1742,"children":1743},{"style":555},[1744],{"type":407,"value":1745},"]",{"type":401,"tag":500,"props":1747,"children":1748},{"style":519},[1749],{"type":407,"value":592},{"type":401,"tag":500,"props":1751,"children":1752},{"class":502,"line":756},[1753],{"type":401,"tag":500,"props":1754,"children":1755},{"emptyLinePlaceholder":393},[1756],{"type":407,"value":629},{"type":401,"tag":500,"props":1758,"children":1759},{"class":502,"line":787},[1760,1765,1769,1774,1778,1782,1786,1791,1795],{"type":401,"tag":500,"props":1761,"children":1762},{"style":555},[1763],{"type":407,"value":1764},"methodsToPatch",{"type":401,"tag":500,"props":1766,"children":1767},{"style":519},[1768],{"type":407,"value":687},{"type":401,"tag":500,"props":1770,"children":1771},{"style":513},[1772],{"type":407,"value":1773},"forEach",{"type":401,"tag":500,"props":1775,"children":1776},{"style":555},[1777],{"type":407,"value":522},{"type":401,"tag":500,"props":1779,"children":1780},{"style":507},[1781],{"type":407,"value":510},{"type":401,"tag":500,"props":1783,"children":1784},{"style":519},[1785],{"type":407,"value":880},{"type":401,"tag":500,"props":1787,"children":1788},{"style":525},[1789],{"type":407,"value":1790},"method",{"type":401,"tag":500,"props":1792,"children":1793},{"style":519},[1794],{"type":407,"value":543},{"type":401,"tag":500,"props":1796,"children":1797},{"style":519},[1798],{"type":407,"value":548},{"type":401,"tag":500,"props":1800,"children":1801},{"class":502,"line":796},[1802],{"type":401,"tag":500,"props":1803,"children":1804},{"style":711},[1805],{"type":407,"value":1806},"  // cache original method\n",{"type":401,"tag":500,"props":1808,"children":1809},{"class":502,"line":851},[1810,1815,1820,1824,1829,1833,1837,1841],{"type":401,"tag":500,"props":1811,"children":1812},{"style":507},[1813],{"type":407,"value":1814},"  const",{"type":401,"tag":500,"props":1816,"children":1817},{"style":1191},[1818],{"type":407,"value":1819}," original",{"type":401,"tag":500,"props":1821,"children":1822},{"style":561},[1823],{"type":407,"value":564},{"type":401,"tag":500,"props":1825,"children":1826},{"style":555},[1827],{"type":407,"value":1828}," arrayProto",{"type":401,"tag":500,"props":1830,"children":1831},{"style":577},[1832],{"type":407,"value":1337},{"type":401,"tag":500,"props":1834,"children":1835},{"style":555},[1836],{"type":407,"value":1790},{"type":401,"tag":500,"props":1838,"children":1839},{"style":577},[1840],{"type":407,"value":1745},{"type":401,"tag":500,"props":1842,"children":1843},{"style":519},[1844],{"type":407,"value":592},{"type":401,"tag":500,"props":1846,"children":1847},{"class":502,"line":860},[1848,1853,1857,1862,1866,1871,1875,1880,1885,1889,1894,1899,1903],{"type":401,"tag":500,"props":1849,"children":1850},{"style":513},[1851],{"type":407,"value":1852},"  def",{"type":401,"tag":500,"props":1854,"children":1855},{"style":577},[1856],{"type":407,"value":522},{"type":401,"tag":500,"props":1858,"children":1859},{"style":555},[1860],{"type":407,"value":1861},"arrayMethods",{"type":401,"tag":500,"props":1863,"children":1864},{"style":519},[1865],{"type":407,"value":533},{"type":401,"tag":500,"props":1867,"children":1868},{"style":555},[1869],{"type":407,"value":1870}," method",{"type":401,"tag":500,"props":1872,"children":1873},{"style":519},[1874],{"type":407,"value":533},{"type":401,"tag":500,"props":1876,"children":1877},{"style":507},[1878],{"type":407,"value":1879}," function",{"type":401,"tag":500,"props":1881,"children":1882},{"style":513},[1883],{"type":407,"value":1884}," mutator",{"type":401,"tag":500,"props":1886,"children":1887},{"style":519},[1888],{"type":407,"value":522},{"type":401,"tag":500,"props":1890,"children":1891},{"style":561},[1892],{"type":407,"value":1893},"...",{"type":401,"tag":500,"props":1895,"children":1896},{"style":525},[1897],{"type":407,"value":1898},"args",{"type":401,"tag":500,"props":1900,"children":1901},{"style":519},[1902],{"type":407,"value":543},{"type":401,"tag":500,"props":1904,"children":1905},{"style":519},[1906],{"type":407,"value":548},{"type":401,"tag":500,"props":1908,"children":1909},{"class":502,"line":869},[1910],{"type":401,"tag":500,"props":1911,"children":1912},{"style":711},[1913],{"type":407,"value":1914},"    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n",{"type":401,"tag":500,"props":1916,"children":1917},{"class":502,"line":915},[1918,1922,1927,1931,1935,1939,1944,1948,1953,1957,1962,1966],{"type":401,"tag":500,"props":1919,"children":1920},{"style":507},[1921],{"type":407,"value":1188},{"type":401,"tag":500,"props":1923,"children":1924},{"style":1191},[1925],{"type":407,"value":1926}," result",{"type":401,"tag":500,"props":1928,"children":1929},{"style":561},[1930],{"type":407,"value":564},{"type":401,"tag":500,"props":1932,"children":1933},{"style":555},[1934],{"type":407,"value":1819},{"type":401,"tag":500,"props":1936,"children":1937},{"style":519},[1938],{"type":407,"value":687},{"type":401,"tag":500,"props":1940,"children":1941},{"style":513},[1942],{"type":407,"value":1943},"apply",{"type":401,"tag":500,"props":1945,"children":1946},{"style":577},[1947],{"type":407,"value":522},{"type":401,"tag":500,"props":1949,"children":1950},{"style":679},[1951],{"type":407,"value":1952},"this",{"type":401,"tag":500,"props":1954,"children":1955},{"style":519},[1956],{"type":407,"value":533},{"type":401,"tag":500,"props":1958,"children":1959},{"style":555},[1960],{"type":407,"value":1961}," args",{"type":401,"tag":500,"props":1963,"children":1964},{"style":577},[1965],{"type":407,"value":543},{"type":401,"tag":500,"props":1967,"children":1968},{"style":519},[1969],{"type":407,"value":592},{"type":401,"tag":500,"props":1971,"children":1972},{"class":502,"line":942},[1973],{"type":401,"tag":500,"props":1974,"children":1975},{"style":711},[1976],{"type":407,"value":1977},"    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n",{"type":401,"tag":500,"props":1979,"children":1980},{"class":502,"line":976},[1981,1985,1989,1993,1997,2001,2005],{"type":401,"tag":500,"props":1982,"children":1983},{"style":507},[1984],{"type":407,"value":1188},{"type":401,"tag":500,"props":1986,"children":1987},{"style":1191},[1988],{"type":407,"value":607},{"type":401,"tag":500,"props":1990,"children":1991},{"style":561},[1992],{"type":407,"value":564},{"type":401,"tag":500,"props":1994,"children":1995},{"style":679},[1996],{"type":407,"value":840},{"type":401,"tag":500,"props":1998,"children":1999},{"style":519},[2000],{"type":407,"value":687},{"type":401,"tag":500,"props":2002,"children":2003},{"style":555},[2004],{"type":407,"value":826},{"type":401,"tag":500,"props":2006,"children":2007},{"style":519},[2008],{"type":407,"value":592},{"type":401,"tag":500,"props":2010,"children":2011},{"class":502,"line":994},[2012],{"type":401,"tag":500,"props":2013,"children":2014},{"style":711},[2015],{"type":407,"value":2016},"    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n",{"type":401,"tag":500,"props":2018,"children":2019},{"class":502,"line":1036},[2020,2025,2030],{"type":401,"tag":500,"props":2021,"children":2022},{"style":507},[2023],{"type":407,"value":2024},"    let",{"type":401,"tag":500,"props":2026,"children":2027},{"style":555},[2028],{"type":407,"value":2029}," inserted",{"type":401,"tag":500,"props":2031,"children":2032},{"style":519},[2033],{"type":407,"value":592},{"type":401,"tag":500,"props":2035,"children":2036},{"class":502,"line":1045},[2037,2042,2046,2050,2054],{"type":401,"tag":500,"props":2038,"children":2039},{"style":599},[2040],{"type":407,"value":2041},"    switch",{"type":401,"tag":500,"props":2043,"children":2044},{"style":577},[2045],{"type":407,"value":880},{"type":401,"tag":500,"props":2047,"children":2048},{"style":555},[2049],{"type":407,"value":1790},{"type":401,"tag":500,"props":2051,"children":2052},{"style":577},[2053],{"type":407,"value":935},{"type":401,"tag":500,"props":2055,"children":2056},{"style":519},[2057],{"type":407,"value":912},{"type":401,"tag":500,"props":2059,"children":2060},{"class":502,"line":1079},[2061,2066,2070,2074,2078],{"type":401,"tag":500,"props":2062,"children":2063},{"style":599},[2064],{"type":407,"value":2065},"      case",{"type":401,"tag":500,"props":2067,"children":2068},{"style":817},[2069],{"type":407,"value":820},{"type":401,"tag":500,"props":2071,"children":2072},{"style":823},[2073],{"type":407,"value":1608},{"type":401,"tag":500,"props":2075,"children":2076},{"style":817},[2077],{"type":407,"value":831},{"type":401,"tag":500,"props":2079,"children":2080},{"style":519},[2081],{"type":407,"value":2082},":\n",{"type":401,"tag":500,"props":2084,"children":2085},{"class":502,"line":1096},[2086,2090,2094,2098,2102],{"type":401,"tag":500,"props":2087,"children":2088},{"style":599},[2089],{"type":407,"value":2065},{"type":401,"tag":500,"props":2091,"children":2092},{"style":817},[2093],{"type":407,"value":820},{"type":401,"tag":500,"props":2095,"children":2096},{"style":823},[2097],{"type":407,"value":1669},{"type":401,"tag":500,"props":2099,"children":2100},{"style":817},[2101],{"type":407,"value":831},{"type":401,"tag":500,"props":2103,"children":2104},{"style":519},[2105],{"type":407,"value":2082},{"type":401,"tag":500,"props":2107,"children":2108},{"class":502,"line":1129},[2109,2114,2118,2122],{"type":401,"tag":500,"props":2110,"children":2111},{"style":555},[2112],{"type":407,"value":2113},"        inserted",{"type":401,"tag":500,"props":2115,"children":2116},{"style":561},[2117],{"type":407,"value":564},{"type":401,"tag":500,"props":2119,"children":2120},{"style":555},[2121],{"type":407,"value":1961},{"type":401,"tag":500,"props":2123,"children":2124},{"style":519},[2125],{"type":407,"value":592},{"type":401,"tag":500,"props":2127,"children":2128},{"class":502,"line":1138},[2129,2134],{"type":401,"tag":500,"props":2130,"children":2131},{"style":599},[2132],{"type":407,"value":2133},"        break",{"type":401,"tag":500,"props":2135,"children":2136},{"style":519},[2137],{"type":407,"value":592},{"type":401,"tag":500,"props":2139,"children":2140},{"class":502,"line":1147},[2141,2145,2149,2153,2157],{"type":401,"tag":500,"props":2142,"children":2143},{"style":599},[2144],{"type":407,"value":2065},{"type":401,"tag":500,"props":2146,"children":2147},{"style":817},[2148],{"type":407,"value":820},{"type":401,"tag":500,"props":2150,"children":2151},{"style":823},[2152],{"type":407,"value":1689},{"type":401,"tag":500,"props":2154,"children":2155},{"style":817},[2156],{"type":407,"value":831},{"type":401,"tag":500,"props":2158,"children":2159},{"style":519},[2160],{"type":407,"value":2082},{"type":401,"tag":500,"props":2162,"children":2163},{"class":502,"line":1155},[2164,2168,2172,2176,2180,2185,2189,2194,2198],{"type":401,"tag":500,"props":2165,"children":2166},{"style":555},[2167],{"type":407,"value":2113},{"type":401,"tag":500,"props":2169,"children":2170},{"style":561},[2171],{"type":407,"value":564},{"type":401,"tag":500,"props":2173,"children":2174},{"style":555},[2175],{"type":407,"value":1961},{"type":401,"tag":500,"props":2177,"children":2178},{"style":519},[2179],{"type":407,"value":687},{"type":401,"tag":500,"props":2181,"children":2182},{"style":513},[2183],{"type":407,"value":2184},"slice",{"type":401,"tag":500,"props":2186,"children":2187},{"style":577},[2188],{"type":407,"value":522},{"type":401,"tag":500,"props":2190,"children":2191},{"style":777},[2192],{"type":407,"value":2193},"2",{"type":401,"tag":500,"props":2195,"children":2196},{"style":577},[2197],{"type":407,"value":543},{"type":401,"tag":500,"props":2199,"children":2200},{"style":519},[2201],{"type":407,"value":592},{"type":401,"tag":500,"props":2203,"children":2204},{"class":502,"line":1182},[2205,2209],{"type":401,"tag":500,"props":2206,"children":2207},{"style":599},[2208],{"type":407,"value":2133},{"type":401,"tag":500,"props":2210,"children":2211},{"style":519},[2212],{"type":407,"value":592},{"type":401,"tag":500,"props":2214,"children":2215},{"class":502,"line":1231},[2216],{"type":401,"tag":500,"props":2217,"children":2218},{"style":519},[2219],{"type":407,"value":1135},{"type":401,"tag":500,"props":2221,"children":2222},{"class":502,"line":1310},[2223,2227,2231,2236,2240,2245,2249,2253,2257,2261,2265],{"type":401,"tag":500,"props":2224,"children":2225},{"style":599},[2226],{"type":407,"value":875},{"type":401,"tag":500,"props":2228,"children":2229},{"style":577},[2230],{"type":407,"value":880},{"type":401,"tag":500,"props":2232,"children":2233},{"style":555},[2234],{"type":407,"value":2235},"inserted",{"type":401,"tag":500,"props":2237,"children":2238},{"style":577},[2239],{"type":407,"value":935},{"type":401,"tag":500,"props":2241,"children":2242},{"style":555},[2243],{"type":407,"value":2244},"ob",{"type":401,"tag":500,"props":2246,"children":2247},{"style":519},[2248],{"type":407,"value":687},{"type":401,"tag":500,"props":2250,"children":2251},{"style":513},[2252],{"type":407,"value":1060},{"type":401,"tag":500,"props":2254,"children":2255},{"style":577},[2256],{"type":407,"value":522},{"type":401,"tag":500,"props":2258,"children":2259},{"style":555},[2260],{"type":407,"value":2235},{"type":401,"tag":500,"props":2262,"children":2263},{"style":577},[2264],{"type":407,"value":543},{"type":401,"tag":500,"props":2266,"children":2267},{"style":519},[2268],{"type":407,"value":592},{"type":401,"tag":500,"props":2270,"children":2271},{"class":502,"line":1354},[2272],{"type":401,"tag":500,"props":2273,"children":2274},{"style":711},[2275],{"type":407,"value":2276},"    // 通知依赖更新\n",{"type":401,"tag":500,"props":2278,"children":2279},{"class":502,"line":1362},[2280,2285,2289,2293,2297,2302,2306],{"type":401,"tag":500,"props":2281,"children":2282},{"style":555},[2283],{"type":407,"value":2284},"    ob",{"type":401,"tag":500,"props":2286,"children":2287},{"style":519},[2288],{"type":407,"value":687},{"type":401,"tag":500,"props":2290,"children":2291},{"style":555},[2292],{"type":407,"value":731},{"type":401,"tag":500,"props":2294,"children":2295},{"style":519},[2296],{"type":407,"value":687},{"type":401,"tag":500,"props":2298,"children":2299},{"style":513},[2300],{"type":407,"value":2301},"notify",{"type":401,"tag":500,"props":2303,"children":2304},{"style":577},[2305],{"type":407,"value":749},{"type":401,"tag":500,"props":2307,"children":2308},{"style":519},[2309],{"type":407,"value":592},{"type":401,"tag":500,"props":2311,"children":2312},{"class":502,"line":1370},[2313,2318,2322],{"type":401,"tag":500,"props":2314,"children":2315},{"style":599},[2316],{"type":407,"value":2317},"    return",{"type":401,"tag":500,"props":2319,"children":2320},{"style":555},[2321],{"type":407,"value":1926},{"type":401,"tag":500,"props":2323,"children":2324},{"style":519},[2325],{"type":407,"value":592},{"type":401,"tag":500,"props":2327,"children":2328},{"class":502,"line":1378},[2329,2334,2338],{"type":401,"tag":500,"props":2330,"children":2331},{"style":519},[2332],{"type":407,"value":2333},"  }",{"type":401,"tag":500,"props":2335,"children":2336},{"style":577},[2337],{"type":407,"value":543},{"type":401,"tag":500,"props":2339,"children":2340},{"style":519},[2341],{"type":407,"value":592},{"type":401,"tag":500,"props":2343,"children":2344},{"class":502,"line":1404},[2345,2350,2354],{"type":401,"tag":500,"props":2346,"children":2347},{"style":519},[2348],{"type":407,"value":2349},"}",{"type":401,"tag":500,"props":2351,"children":2352},{"style":555},[2353],{"type":407,"value":543},{"type":401,"tag":500,"props":2355,"children":2356},{"style":519},[2357],{"type":407,"value":592},{"type":401,"tag":475,"props":2359,"children":2361},{"id":2360},"响应式属性",[2362],{"type":407,"value":2360},{"type":401,"tag":434,"props":2364,"children":2365},{},[2366],{"type":407,"value":2367},"设置响应式属性对应源码中的 definedProperty 这个函数，同时，还提供了 set、del 方法，分别用来给一个对象新增、删除属性及响应式属性。",{"type":401,"tag":440,"props":2369,"children":2371},{"code":2370,"language":493,"meta":394,"className":494,"style":394},"function defineReactive(obj, key, val, customSetter, shallow) {\n  // 每个属性都保持了一个依赖容器，\n  // 所有依赖都会存放在这个依赖容器实例中\n  const dep = new Dep();\n\n  // 不给属性描述符不可变的对象设置 setter/getter\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  // 保存属性原有的 setter/getter，不做破坏\n  // cater for pre-defined getter/setters\n  const getter = property && property.get;\n  const setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  // 侦测值的变化\n  let childOb = !shallow && observe(val);\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      const value = getter ? getter.call(obj) : val;\n      // 收集依赖\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      const value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return;\n      }\n      // 非生产环境：自定义 setter 副作用\n      if (process.env.NODE_ENV !== \"production\" && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return;\n      // 使用原有的 setter 更新值或直接更新值\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      // 侦测子对象的变化\n      childOb = !shallow && observe(newVal);\n      // 通知依赖更新\n      dep.notify();\n    },\n  });\n}\n",[2372],{"type":401,"tag":445,"props":2373,"children":2374},{"__ignoreMap":394},[2375,2439,2447,2455,2487,2494,2502,2555,2609,2620,2627,2634,2642,2650,2691,2732,2803,2837,2844,2851,2859,2911,2918,2959,2981,3001,3030,3092,3100,3133,3158,3183,3215,3255,3279,3287,3295,3302,3318,3326,3364,3424,3433,3503,3516,3524,3533,3601,3618,3626,3635,3677,3686,3710,3751,3767,3788,3796,3805,3850,3859,3884,3892,3908],{"type":401,"tag":500,"props":2376,"children":2377},{"class":502,"line":503},[2378,2382,2387,2391,2395,2399,2404,2408,2413,2417,2422,2426,2431,2435],{"type":401,"tag":500,"props":2379,"children":2380},{"style":507},[2381],{"type":407,"value":510},{"type":401,"tag":500,"props":2383,"children":2384},{"style":513},[2385],{"type":407,"value":2386}," defineReactive",{"type":401,"tag":500,"props":2388,"children":2389},{"style":519},[2390],{"type":407,"value":522},{"type":401,"tag":500,"props":2392,"children":2393},{"style":525},[2394],{"type":407,"value":1171},{"type":401,"tag":500,"props":2396,"children":2397},{"style":519},[2398],{"type":407,"value":533},{"type":401,"tag":500,"props":2400,"children":2401},{"style":525},[2402],{"type":407,"value":2403}," key",{"type":401,"tag":500,"props":2405,"children":2406},{"style":519},[2407],{"type":407,"value":533},{"type":401,"tag":500,"props":2409,"children":2410},{"style":525},[2411],{"type":407,"value":2412}," val",{"type":401,"tag":500,"props":2414,"children":2415},{"style":519},[2416],{"type":407,"value":533},{"type":401,"tag":500,"props":2418,"children":2419},{"style":525},[2420],{"type":407,"value":2421}," customSetter",{"type":401,"tag":500,"props":2423,"children":2424},{"style":519},[2425],{"type":407,"value":533},{"type":401,"tag":500,"props":2427,"children":2428},{"style":525},[2429],{"type":407,"value":2430}," shallow",{"type":401,"tag":500,"props":2432,"children":2433},{"style":519},[2434],{"type":407,"value":543},{"type":401,"tag":500,"props":2436,"children":2437},{"style":519},[2438],{"type":407,"value":548},{"type":401,"tag":500,"props":2440,"children":2441},{"class":502,"line":551},[2442],{"type":401,"tag":500,"props":2443,"children":2444},{"style":711},[2445],{"type":407,"value":2446},"  // 每个属性都保持了一个依赖容器，\n",{"type":401,"tag":500,"props":2448,"children":2449},{"class":502,"line":595},[2450],{"type":401,"tag":500,"props":2451,"children":2452},{"style":711},[2453],{"type":407,"value":2454},"  // 所有依赖都会存放在这个依赖容器实例中\n",{"type":401,"tag":500,"props":2456,"children":2457},{"class":502,"line":614},[2458,2462,2467,2471,2475,2479,2483],{"type":401,"tag":500,"props":2459,"children":2460},{"style":507},[2461],{"type":407,"value":1814},{"type":401,"tag":500,"props":2463,"children":2464},{"style":1191},[2465],{"type":407,"value":2466}," dep",{"type":401,"tag":500,"props":2468,"children":2469},{"style":561},[2470],{"type":407,"value":564},{"type":401,"tag":500,"props":2472,"children":2473},{"style":561},[2474],{"type":407,"value":569},{"type":401,"tag":500,"props":2476,"children":2477},{"style":513},[2478],{"type":407,"value":744},{"type":401,"tag":500,"props":2480,"children":2481},{"style":577},[2482],{"type":407,"value":749},{"type":401,"tag":500,"props":2484,"children":2485},{"style":519},[2486],{"type":407,"value":592},{"type":401,"tag":500,"props":2488,"children":2489},{"class":502,"line":623},[2490],{"type":401,"tag":500,"props":2491,"children":2492},{"emptyLinePlaceholder":393},[2493],{"type":407,"value":629},{"type":401,"tag":500,"props":2495,"children":2496},{"class":502,"line":632},[2497],{"type":401,"tag":500,"props":2498,"children":2499},{"style":711},[2500],{"type":407,"value":2501},"  // 不给属性描述符不可变的对象设置 setter/getter\n",{"type":401,"tag":500,"props":2503,"children":2504},{"class":502,"line":650},[2505,2509,2514,2518,2522,2526,2531,2535,2539,2543,2547,2551],{"type":401,"tag":500,"props":2506,"children":2507},{"style":507},[2508],{"type":407,"value":1814},{"type":401,"tag":500,"props":2510,"children":2511},{"style":1191},[2512],{"type":407,"value":2513}," property",{"type":401,"tag":500,"props":2515,"children":2516},{"style":561},[2517],{"type":407,"value":564},{"type":401,"tag":500,"props":2519,"children":2520},{"style":555},[2521],{"type":407,"value":1203},{"type":401,"tag":500,"props":2523,"children":2524},{"style":519},[2525],{"type":407,"value":687},{"type":401,"tag":500,"props":2527,"children":2528},{"style":513},[2529],{"type":407,"value":2530},"getOwnPropertyDescriptor",{"type":401,"tag":500,"props":2532,"children":2533},{"style":577},[2534],{"type":407,"value":522},{"type":401,"tag":500,"props":2536,"children":2537},{"style":555},[2538],{"type":407,"value":1171},{"type":401,"tag":500,"props":2540,"children":2541},{"style":519},[2542],{"type":407,"value":533},{"type":401,"tag":500,"props":2544,"children":2545},{"style":555},[2546],{"type":407,"value":2403},{"type":401,"tag":500,"props":2548,"children":2549},{"style":577},[2550],{"type":407,"value":543},{"type":401,"tag":500,"props":2552,"children":2553},{"style":519},[2554],{"type":407,"value":592},{"type":401,"tag":500,"props":2556,"children":2557},{"class":502,"line":675},[2558,2563,2567,2572,2577,2581,2585,2590,2595,2601,2605],{"type":401,"tag":500,"props":2559,"children":2560},{"style":599},[2561],{"type":407,"value":2562},"  if",{"type":401,"tag":500,"props":2564,"children":2565},{"style":577},[2566],{"type":407,"value":880},{"type":401,"tag":500,"props":2568,"children":2569},{"style":555},[2570],{"type":407,"value":2571},"property",{"type":401,"tag":500,"props":2573,"children":2574},{"style":561},[2575],{"type":407,"value":2576}," &&",{"type":401,"tag":500,"props":2578,"children":2579},{"style":555},[2580],{"type":407,"value":2513},{"type":401,"tag":500,"props":2582,"children":2583},{"style":519},[2584],{"type":407,"value":687},{"type":401,"tag":500,"props":2586,"children":2587},{"style":555},[2588],{"type":407,"value":2589},"configurable",{"type":401,"tag":500,"props":2591,"children":2592},{"style":561},[2593],{"type":407,"value":2594}," ===",{"type":401,"tag":500,"props":2596,"children":2598},{"style":2597},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2599],{"type":407,"value":2600}," false",{"type":401,"tag":500,"props":2602,"children":2603},{"style":577},[2604],{"type":407,"value":935},{"type":401,"tag":500,"props":2606,"children":2607},{"style":519},[2608],{"type":407,"value":912},{"type":401,"tag":500,"props":2610,"children":2611},{"class":502,"line":707},[2612,2616],{"type":401,"tag":500,"props":2613,"children":2614},{"style":599},[2615],{"type":407,"value":2317},{"type":401,"tag":500,"props":2617,"children":2618},{"style":519},[2619],{"type":407,"value":592},{"type":401,"tag":500,"props":2621,"children":2622},{"class":502,"line":717},[2623],{"type":401,"tag":500,"props":2624,"children":2625},{"style":519},[2626],{"type":407,"value":1144},{"type":401,"tag":500,"props":2628,"children":2629},{"class":502,"line":756},[2630],{"type":401,"tag":500,"props":2631,"children":2632},{"emptyLinePlaceholder":393},[2633],{"type":407,"value":629},{"type":401,"tag":500,"props":2635,"children":2636},{"class":502,"line":787},[2637],{"type":401,"tag":500,"props":2638,"children":2639},{"style":711},[2640],{"type":407,"value":2641},"  // 保存属性原有的 setter/getter，不做破坏\n",{"type":401,"tag":500,"props":2643,"children":2644},{"class":502,"line":796},[2645],{"type":401,"tag":500,"props":2646,"children":2647},{"style":711},[2648],{"type":407,"value":2649},"  // cater for pre-defined getter/setters\n",{"type":401,"tag":500,"props":2651,"children":2652},{"class":502,"line":851},[2653,2657,2662,2666,2670,2674,2678,2682,2687],{"type":401,"tag":500,"props":2654,"children":2655},{"style":507},[2656],{"type":407,"value":1814},{"type":401,"tag":500,"props":2658,"children":2659},{"style":1191},[2660],{"type":407,"value":2661}," getter",{"type":401,"tag":500,"props":2663,"children":2664},{"style":561},[2665],{"type":407,"value":564},{"type":401,"tag":500,"props":2667,"children":2668},{"style":555},[2669],{"type":407,"value":2513},{"type":401,"tag":500,"props":2671,"children":2672},{"style":561},[2673],{"type":407,"value":2576},{"type":401,"tag":500,"props":2675,"children":2676},{"style":555},[2677],{"type":407,"value":2513},{"type":401,"tag":500,"props":2679,"children":2680},{"style":519},[2681],{"type":407,"value":687},{"type":401,"tag":500,"props":2683,"children":2684},{"style":555},[2685],{"type":407,"value":2686},"get",{"type":401,"tag":500,"props":2688,"children":2689},{"style":519},[2690],{"type":407,"value":592},{"type":401,"tag":500,"props":2692,"children":2693},{"class":502,"line":860},[2694,2698,2703,2707,2711,2715,2719,2723,2728],{"type":401,"tag":500,"props":2695,"children":2696},{"style":507},[2697],{"type":407,"value":1814},{"type":401,"tag":500,"props":2699,"children":2700},{"style":1191},[2701],{"type":407,"value":2702}," setter",{"type":401,"tag":500,"props":2704,"children":2705},{"style":561},[2706],{"type":407,"value":564},{"type":401,"tag":500,"props":2708,"children":2709},{"style":555},[2710],{"type":407,"value":2513},{"type":401,"tag":500,"props":2712,"children":2713},{"style":561},[2714],{"type":407,"value":2576},{"type":401,"tag":500,"props":2716,"children":2717},{"style":555},[2718],{"type":407,"value":2513},{"type":401,"tag":500,"props":2720,"children":2721},{"style":519},[2722],{"type":407,"value":687},{"type":401,"tag":500,"props":2724,"children":2725},{"style":555},[2726],{"type":407,"value":2727},"set",{"type":401,"tag":500,"props":2729,"children":2730},{"style":519},[2731],{"type":407,"value":592},{"type":401,"tag":500,"props":2733,"children":2734},{"class":502,"line":869},[2735,2739,2744,2749,2754,2759,2763,2767,2772,2778,2782,2786,2790,2795,2799],{"type":401,"tag":500,"props":2736,"children":2737},{"style":599},[2738],{"type":407,"value":2562},{"type":401,"tag":500,"props":2740,"children":2741},{"style":577},[2742],{"type":407,"value":2743}," ((",{"type":401,"tag":500,"props":2745,"children":2746},{"style":561},[2747],{"type":407,"value":2748},"!",{"type":401,"tag":500,"props":2750,"children":2751},{"style":555},[2752],{"type":407,"value":2753},"getter",{"type":401,"tag":500,"props":2755,"children":2756},{"style":561},[2757],{"type":407,"value":2758}," ||",{"type":401,"tag":500,"props":2760,"children":2761},{"style":555},[2762],{"type":407,"value":2702},{"type":401,"tag":500,"props":2764,"children":2765},{"style":577},[2766],{"type":407,"value":935},{"type":401,"tag":500,"props":2768,"children":2769},{"style":561},[2770],{"type":407,"value":2771},"&&",{"type":401,"tag":500,"props":2773,"children":2775},{"style":2774},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2776],{"type":407,"value":2777}," arguments",{"type":401,"tag":500,"props":2779,"children":2780},{"style":519},[2781],{"type":407,"value":687},{"type":401,"tag":500,"props":2783,"children":2784},{"style":1191},[2785],{"type":407,"value":1286},{"type":401,"tag":500,"props":2787,"children":2788},{"style":561},[2789],{"type":407,"value":2594},{"type":401,"tag":500,"props":2791,"children":2792},{"style":777},[2793],{"type":407,"value":2794}," 2",{"type":401,"tag":500,"props":2796,"children":2797},{"style":577},[2798],{"type":407,"value":935},{"type":401,"tag":500,"props":2800,"children":2801},{"style":519},[2802],{"type":407,"value":912},{"type":401,"tag":500,"props":2804,"children":2805},{"class":502,"line":915},[2806,2811,2815,2820,2824,2829,2833],{"type":401,"tag":500,"props":2807,"children":2808},{"style":555},[2809],{"type":407,"value":2810},"    val",{"type":401,"tag":500,"props":2812,"children":2813},{"style":561},[2814],{"type":407,"value":564},{"type":401,"tag":500,"props":2816,"children":2817},{"style":555},[2818],{"type":407,"value":2819}," obj",{"type":401,"tag":500,"props":2821,"children":2822},{"style":577},[2823],{"type":407,"value":1337},{"type":401,"tag":500,"props":2825,"children":2826},{"style":555},[2827],{"type":407,"value":2828},"key",{"type":401,"tag":500,"props":2830,"children":2831},{"style":577},[2832],{"type":407,"value":1745},{"type":401,"tag":500,"props":2834,"children":2835},{"style":519},[2836],{"type":407,"value":592},{"type":401,"tag":500,"props":2838,"children":2839},{"class":502,"line":942},[2840],{"type":401,"tag":500,"props":2841,"children":2842},{"style":519},[2843],{"type":407,"value":1144},{"type":401,"tag":500,"props":2845,"children":2846},{"class":502,"line":976},[2847],{"type":401,"tag":500,"props":2848,"children":2849},{"emptyLinePlaceholder":393},[2850],{"type":407,"value":629},{"type":401,"tag":500,"props":2852,"children":2853},{"class":502,"line":994},[2854],{"type":401,"tag":500,"props":2855,"children":2856},{"style":711},[2857],{"type":407,"value":2858},"  // 侦测值的变化\n",{"type":401,"tag":500,"props":2860,"children":2861},{"class":502,"line":1036},[2862,2867,2872,2876,2881,2886,2890,2894,2898,2903,2907],{"type":401,"tag":500,"props":2863,"children":2864},{"style":507},[2865],{"type":407,"value":2866},"  let",{"type":401,"tag":500,"props":2868,"children":2869},{"style":555},[2870],{"type":407,"value":2871}," childOb",{"type":401,"tag":500,"props":2873,"children":2874},{"style":561},[2875],{"type":407,"value":564},{"type":401,"tag":500,"props":2877,"children":2878},{"style":561},[2879],{"type":407,"value":2880}," !",{"type":401,"tag":500,"props":2882,"children":2883},{"style":555},[2884],{"type":407,"value":2885},"shallow",{"type":401,"tag":500,"props":2887,"children":2888},{"style":561},[2889],{"type":407,"value":2576},{"type":401,"tag":500,"props":2891,"children":2892},{"style":513},[2893],{"type":407,"value":516},{"type":401,"tag":500,"props":2895,"children":2896},{"style":577},[2897],{"type":407,"value":522},{"type":401,"tag":500,"props":2899,"children":2900},{"style":555},[2901],{"type":407,"value":2902},"val",{"type":401,"tag":500,"props":2904,"children":2905},{"style":577},[2906],{"type":407,"value":543},{"type":401,"tag":500,"props":2908,"children":2909},{"style":519},[2910],{"type":407,"value":592},{"type":401,"tag":500,"props":2912,"children":2913},{"class":502,"line":1045},[2914],{"type":401,"tag":500,"props":2915,"children":2916},{"emptyLinePlaceholder":393},[2917],{"type":407,"value":629},{"type":401,"tag":500,"props":2919,"children":2920},{"class":502,"line":1079},[2921,2926,2930,2935,2939,2943,2947,2951,2955],{"type":401,"tag":500,"props":2922,"children":2923},{"style":555},[2924],{"type":407,"value":2925},"  Object",{"type":401,"tag":500,"props":2927,"children":2928},{"style":519},[2929],{"type":407,"value":687},{"type":401,"tag":500,"props":2931,"children":2932},{"style":513},[2933],{"type":407,"value":2934},"defineProperty",{"type":401,"tag":500,"props":2936,"children":2937},{"style":577},[2938],{"type":407,"value":522},{"type":401,"tag":500,"props":2940,"children":2941},{"style":555},[2942],{"type":407,"value":1171},{"type":401,"tag":500,"props":2944,"children":2945},{"style":519},[2946],{"type":407,"value":533},{"type":401,"tag":500,"props":2948,"children":2949},{"style":555},[2950],{"type":407,"value":2403},{"type":401,"tag":500,"props":2952,"children":2953},{"style":519},[2954],{"type":407,"value":533},{"type":401,"tag":500,"props":2956,"children":2957},{"style":519},[2958],{"type":407,"value":548},{"type":401,"tag":500,"props":2960,"children":2961},{"class":502,"line":1096},[2962,2967,2972,2977],{"type":401,"tag":500,"props":2963,"children":2964},{"style":577},[2965],{"type":407,"value":2966},"    enumerable",{"type":401,"tag":500,"props":2968,"children":2969},{"style":519},[2970],{"type":407,"value":2971},":",{"type":401,"tag":500,"props":2973,"children":2974},{"style":2597},[2975],{"type":407,"value":2976}," true",{"type":401,"tag":500,"props":2978,"children":2979},{"style":519},[2980],{"type":407,"value":1617},{"type":401,"tag":500,"props":2982,"children":2983},{"class":502,"line":1129},[2984,2989,2993,2997],{"type":401,"tag":500,"props":2985,"children":2986},{"style":577},[2987],{"type":407,"value":2988},"    configurable",{"type":401,"tag":500,"props":2990,"children":2991},{"style":519},[2992],{"type":407,"value":2971},{"type":401,"tag":500,"props":2994,"children":2995},{"style":2597},[2996],{"type":407,"value":2976},{"type":401,"tag":500,"props":2998,"children":2999},{"style":519},[3000],{"type":407,"value":1617},{"type":401,"tag":500,"props":3002,"children":3003},{"class":502,"line":1138},[3004,3009,3013,3017,3022,3026],{"type":401,"tag":500,"props":3005,"children":3006},{"style":513},[3007],{"type":407,"value":3008},"    get",{"type":401,"tag":500,"props":3010,"children":3011},{"style":519},[3012],{"type":407,"value":2971},{"type":401,"tag":500,"props":3014,"children":3015},{"style":507},[3016],{"type":407,"value":1879},{"type":401,"tag":500,"props":3018,"children":3019},{"style":513},[3020],{"type":407,"value":3021}," reactiveGetter",{"type":401,"tag":500,"props":3023,"children":3024},{"style":519},[3025],{"type":407,"value":749},{"type":401,"tag":500,"props":3027,"children":3028},{"style":519},[3029],{"type":407,"value":548},{"type":401,"tag":500,"props":3031,"children":3032},{"class":502,"line":1147},[3033,3038,3042,3046,3050,3055,3059,3063,3068,3072,3076,3080,3084,3088],{"type":401,"tag":500,"props":3034,"children":3035},{"style":507},[3036],{"type":407,"value":3037},"      const",{"type":401,"tag":500,"props":3039,"children":3040},{"style":1191},[3041],{"type":407,"value":700},{"type":401,"tag":500,"props":3043,"children":3044},{"style":561},[3045],{"type":407,"value":564},{"type":401,"tag":500,"props":3047,"children":3048},{"style":555},[3049],{"type":407,"value":2661},{"type":401,"tag":500,"props":3051,"children":3052},{"style":561},[3053],{"type":407,"value":3054}," ?",{"type":401,"tag":500,"props":3056,"children":3057},{"style":555},[3058],{"type":407,"value":2661},{"type":401,"tag":500,"props":3060,"children":3061},{"style":519},[3062],{"type":407,"value":687},{"type":401,"tag":500,"props":3064,"children":3065},{"style":513},[3066],{"type":407,"value":3067},"call",{"type":401,"tag":500,"props":3069,"children":3070},{"style":577},[3071],{"type":407,"value":522},{"type":401,"tag":500,"props":3073,"children":3074},{"style":555},[3075],{"type":407,"value":1171},{"type":401,"tag":500,"props":3077,"children":3078},{"style":577},[3079],{"type":407,"value":935},{"type":401,"tag":500,"props":3081,"children":3082},{"style":561},[3083],{"type":407,"value":2971},{"type":401,"tag":500,"props":3085,"children":3086},{"style":555},[3087],{"type":407,"value":2412},{"type":401,"tag":500,"props":3089,"children":3090},{"style":519},[3091],{"type":407,"value":592},{"type":401,"tag":500,"props":3093,"children":3094},{"class":502,"line":1155},[3095],{"type":401,"tag":500,"props":3096,"children":3097},{"style":711},[3098],{"type":407,"value":3099},"      // 收集依赖\n",{"type":401,"tag":500,"props":3101,"children":3102},{"class":502,"line":1182},[3103,3107,3111,3116,3120,3125,3129],{"type":401,"tag":500,"props":3104,"children":3105},{"style":599},[3106],{"type":407,"value":921},{"type":401,"tag":500,"props":3108,"children":3109},{"style":577},[3110],{"type":407,"value":880},{"type":401,"tag":500,"props":3112,"children":3113},{"style":555},[3114],{"type":407,"value":3115},"Dep",{"type":401,"tag":500,"props":3117,"children":3118},{"style":519},[3119],{"type":407,"value":687},{"type":401,"tag":500,"props":3121,"children":3122},{"style":555},[3123],{"type":407,"value":3124},"target",{"type":401,"tag":500,"props":3126,"children":3127},{"style":577},[3128],{"type":407,"value":935},{"type":401,"tag":500,"props":3130,"children":3131},{"style":519},[3132],{"type":407,"value":912},{"type":401,"tag":500,"props":3134,"children":3135},{"class":502,"line":1231},[3136,3141,3145,3150,3154],{"type":401,"tag":500,"props":3137,"children":3138},{"style":555},[3139],{"type":407,"value":3140},"        dep",{"type":401,"tag":500,"props":3142,"children":3143},{"style":519},[3144],{"type":407,"value":687},{"type":401,"tag":500,"props":3146,"children":3147},{"style":513},[3148],{"type":407,"value":3149},"depend",{"type":401,"tag":500,"props":3151,"children":3152},{"style":577},[3153],{"type":407,"value":749},{"type":401,"tag":500,"props":3155,"children":3156},{"style":519},[3157],{"type":407,"value":592},{"type":401,"tag":500,"props":3159,"children":3160},{"class":502,"line":1310},[3161,3166,3170,3175,3179],{"type":401,"tag":500,"props":3162,"children":3163},{"style":599},[3164],{"type":407,"value":3165},"        if",{"type":401,"tag":500,"props":3167,"children":3168},{"style":577},[3169],{"type":407,"value":880},{"type":401,"tag":500,"props":3171,"children":3172},{"style":555},[3173],{"type":407,"value":3174},"childOb",{"type":401,"tag":500,"props":3176,"children":3177},{"style":577},[3178],{"type":407,"value":935},{"type":401,"tag":500,"props":3180,"children":3181},{"style":519},[3182],{"type":407,"value":912},{"type":401,"tag":500,"props":3184,"children":3185},{"class":502,"line":1354},[3186,3191,3195,3199,3203,3207,3211],{"type":401,"tag":500,"props":3187,"children":3188},{"style":555},[3189],{"type":407,"value":3190},"          childOb",{"type":401,"tag":500,"props":3192,"children":3193},{"style":519},[3194],{"type":407,"value":687},{"type":401,"tag":500,"props":3196,"children":3197},{"style":555},[3198],{"type":407,"value":731},{"type":401,"tag":500,"props":3200,"children":3201},{"style":519},[3202],{"type":407,"value":687},{"type":401,"tag":500,"props":3204,"children":3205},{"style":513},[3206],{"type":407,"value":3149},{"type":401,"tag":500,"props":3208,"children":3209},{"style":577},[3210],{"type":407,"value":749},{"type":401,"tag":500,"props":3212,"children":3213},{"style":519},[3214],{"type":407,"value":592},{"type":401,"tag":500,"props":3216,"children":3217},{"class":502,"line":1362},[3218,3223,3227,3231,3235,3239,3243,3247,3251],{"type":401,"tag":500,"props":3219,"children":3220},{"style":599},[3221],{"type":407,"value":3222},"          if",{"type":401,"tag":500,"props":3224,"children":3225},{"style":577},[3226],{"type":407,"value":880},{"type":401,"tag":500,"props":3228,"children":3229},{"style":555},[3230],{"type":407,"value":885},{"type":401,"tag":500,"props":3232,"children":3233},{"style":519},[3234],{"type":407,"value":687},{"type":401,"tag":500,"props":3236,"children":3237},{"style":513},[3238],{"type":407,"value":894},{"type":401,"tag":500,"props":3240,"children":3241},{"style":577},[3242],{"type":407,"value":522},{"type":401,"tag":500,"props":3244,"children":3245},{"style":555},[3246],{"type":407,"value":528},{"type":401,"tag":500,"props":3248,"children":3249},{"style":577},[3250],{"type":407,"value":907},{"type":401,"tag":500,"props":3252,"children":3253},{"style":519},[3254],{"type":407,"value":912},{"type":401,"tag":500,"props":3256,"children":3257},{"class":502,"line":1370},[3258,3263,3267,3271,3275],{"type":401,"tag":500,"props":3259,"children":3260},{"style":513},[3261],{"type":407,"value":3262},"            dependArray",{"type":401,"tag":500,"props":3264,"children":3265},{"style":577},[3266],{"type":407,"value":522},{"type":401,"tag":500,"props":3268,"children":3269},{"style":555},[3270],{"type":407,"value":528},{"type":401,"tag":500,"props":3272,"children":3273},{"style":577},[3274],{"type":407,"value":543},{"type":401,"tag":500,"props":3276,"children":3277},{"style":519},[3278],{"type":407,"value":592},{"type":401,"tag":500,"props":3280,"children":3281},{"class":502,"line":1378},[3282],{"type":401,"tag":500,"props":3283,"children":3284},{"style":519},[3285],{"type":407,"value":3286},"          }\n",{"type":401,"tag":500,"props":3288,"children":3289},{"class":502,"line":1404},[3290],{"type":401,"tag":500,"props":3291,"children":3292},{"style":519},[3293],{"type":407,"value":3294},"        }\n",{"type":401,"tag":500,"props":3296,"children":3297},{"class":502,"line":1494},[3298],{"type":401,"tag":500,"props":3299,"children":3300},{"style":519},[3301],{"type":407,"value":1042},{"type":401,"tag":500,"props":3303,"children":3304},{"class":502,"line":1527},[3305,3310,3314],{"type":401,"tag":500,"props":3306,"children":3307},{"style":599},[3308],{"type":407,"value":3309},"      return",{"type":401,"tag":500,"props":3311,"children":3312},{"style":555},[3313],{"type":407,"value":700},{"type":401,"tag":500,"props":3315,"children":3316},{"style":519},[3317],{"type":407,"value":592},{"type":401,"tag":500,"props":3319,"children":3320},{"class":502,"line":1535},[3321],{"type":401,"tag":500,"props":3322,"children":3323},{"style":519},[3324],{"type":407,"value":3325},"    },\n",{"type":401,"tag":500,"props":3327,"children":3328},{"class":502,"line":1543},[3329,3334,3338,3342,3347,3351,3356,3360],{"type":401,"tag":500,"props":3330,"children":3331},{"style":513},[3332],{"type":407,"value":3333},"    set",{"type":401,"tag":500,"props":3335,"children":3336},{"style":519},[3337],{"type":407,"value":2971},{"type":401,"tag":500,"props":3339,"children":3340},{"style":507},[3341],{"type":407,"value":1879},{"type":401,"tag":500,"props":3343,"children":3344},{"style":513},[3345],{"type":407,"value":3346}," reactiveSetter",{"type":401,"tag":500,"props":3348,"children":3349},{"style":519},[3350],{"type":407,"value":522},{"type":401,"tag":500,"props":3352,"children":3353},{"style":525},[3354],{"type":407,"value":3355},"newVal",{"type":401,"tag":500,"props":3357,"children":3358},{"style":519},[3359],{"type":407,"value":543},{"type":401,"tag":500,"props":3361,"children":3362},{"style":519},[3363],{"type":407,"value":548},{"type":401,"tag":500,"props":3365,"children":3367},{"class":502,"line":3366},41,[3368,3372,3376,3380,3384,3388,3392,3396,3400,3404,3408,3412,3416,3420],{"type":401,"tag":500,"props":3369,"children":3370},{"style":507},[3371],{"type":407,"value":3037},{"type":401,"tag":500,"props":3373,"children":3374},{"style":1191},[3375],{"type":407,"value":700},{"type":401,"tag":500,"props":3377,"children":3378},{"style":561},[3379],{"type":407,"value":564},{"type":401,"tag":500,"props":3381,"children":3382},{"style":555},[3383],{"type":407,"value":2661},{"type":401,"tag":500,"props":3385,"children":3386},{"style":561},[3387],{"type":407,"value":3054},{"type":401,"tag":500,"props":3389,"children":3390},{"style":555},[3391],{"type":407,"value":2661},{"type":401,"tag":500,"props":3393,"children":3394},{"style":519},[3395],{"type":407,"value":687},{"type":401,"tag":500,"props":3397,"children":3398},{"style":513},[3399],{"type":407,"value":3067},{"type":401,"tag":500,"props":3401,"children":3402},{"style":577},[3403],{"type":407,"value":522},{"type":401,"tag":500,"props":3405,"children":3406},{"style":555},[3407],{"type":407,"value":1171},{"type":401,"tag":500,"props":3409,"children":3410},{"style":577},[3411],{"type":407,"value":935},{"type":401,"tag":500,"props":3413,"children":3414},{"style":561},[3415],{"type":407,"value":2971},{"type":401,"tag":500,"props":3417,"children":3418},{"style":555},[3419],{"type":407,"value":2412},{"type":401,"tag":500,"props":3421,"children":3422},{"style":519},[3423],{"type":407,"value":592},{"type":401,"tag":500,"props":3425,"children":3427},{"class":502,"line":3426},42,[3428],{"type":401,"tag":500,"props":3429,"children":3430},{"style":711},[3431],{"type":407,"value":3432},"      /* eslint-disable no-self-compare */\n",{"type":401,"tag":500,"props":3434,"children":3436},{"class":502,"line":3435},43,[3437,3441,3445,3449,3453,3457,3461,3465,3469,3474,3479,3483,3487,3491,3495,3499],{"type":401,"tag":500,"props":3438,"children":3439},{"style":599},[3440],{"type":407,"value":921},{"type":401,"tag":500,"props":3442,"children":3443},{"style":577},[3444],{"type":407,"value":880},{"type":401,"tag":500,"props":3446,"children":3447},{"style":555},[3448],{"type":407,"value":3355},{"type":401,"tag":500,"props":3450,"children":3451},{"style":561},[3452],{"type":407,"value":2594},{"type":401,"tag":500,"props":3454,"children":3455},{"style":555},[3456],{"type":407,"value":700},{"type":401,"tag":500,"props":3458,"children":3459},{"style":561},[3460],{"type":407,"value":2758},{"type":401,"tag":500,"props":3462,"children":3463},{"style":577},[3464],{"type":407,"value":880},{"type":401,"tag":500,"props":3466,"children":3467},{"style":555},[3468],{"type":407,"value":3355},{"type":401,"tag":500,"props":3470,"children":3471},{"style":561},[3472],{"type":407,"value":3473}," !==",{"type":401,"tag":500,"props":3475,"children":3476},{"style":555},[3477],{"type":407,"value":3478}," newVal",{"type":401,"tag":500,"props":3480,"children":3481},{"style":561},[3482],{"type":407,"value":2576},{"type":401,"tag":500,"props":3484,"children":3485},{"style":555},[3486],{"type":407,"value":700},{"type":401,"tag":500,"props":3488,"children":3489},{"style":561},[3490],{"type":407,"value":3473},{"type":401,"tag":500,"props":3492,"children":3493},{"style":555},[3494],{"type":407,"value":700},{"type":401,"tag":500,"props":3496,"children":3497},{"style":577},[3498],{"type":407,"value":907},{"type":401,"tag":500,"props":3500,"children":3501},{"style":519},[3502],{"type":407,"value":912},{"type":401,"tag":500,"props":3504,"children":3506},{"class":502,"line":3505},44,[3507,3512],{"type":401,"tag":500,"props":3508,"children":3509},{"style":599},[3510],{"type":407,"value":3511},"        return",{"type":401,"tag":500,"props":3513,"children":3514},{"style":519},[3515],{"type":407,"value":592},{"type":401,"tag":500,"props":3517,"children":3519},{"class":502,"line":3518},45,[3520],{"type":401,"tag":500,"props":3521,"children":3522},{"style":519},[3523],{"type":407,"value":1042},{"type":401,"tag":500,"props":3525,"children":3527},{"class":502,"line":3526},46,[3528],{"type":401,"tag":500,"props":3529,"children":3530},{"style":711},[3531],{"type":407,"value":3532},"      // 非生产环境：自定义 setter 副作用\n",{"type":401,"tag":500,"props":3534,"children":3536},{"class":502,"line":3535},47,[3537,3541,3545,3550,3554,3559,3563,3568,3572,3576,3581,3585,3589,3593,3597],{"type":401,"tag":500,"props":3538,"children":3539},{"style":599},[3540],{"type":407,"value":921},{"type":401,"tag":500,"props":3542,"children":3543},{"style":577},[3544],{"type":407,"value":880},{"type":401,"tag":500,"props":3546,"children":3547},{"style":555},[3548],{"type":407,"value":3549},"process",{"type":401,"tag":500,"props":3551,"children":3552},{"style":519},[3553],{"type":407,"value":687},{"type":401,"tag":500,"props":3555,"children":3556},{"style":555},[3557],{"type":407,"value":3558},"env",{"type":401,"tag":500,"props":3560,"children":3561},{"style":519},[3562],{"type":407,"value":687},{"type":401,"tag":500,"props":3564,"children":3565},{"style":1191},[3566],{"type":407,"value":3567},"NODE_ENV",{"type":401,"tag":500,"props":3569,"children":3570},{"style":561},[3571],{"type":407,"value":3473},{"type":401,"tag":500,"props":3573,"children":3574},{"style":817},[3575],{"type":407,"value":820},{"type":401,"tag":500,"props":3577,"children":3578},{"style":823},[3579],{"type":407,"value":3580},"production",{"type":401,"tag":500,"props":3582,"children":3583},{"style":817},[3584],{"type":407,"value":831},{"type":401,"tag":500,"props":3586,"children":3587},{"style":561},[3588],{"type":407,"value":2576},{"type":401,"tag":500,"props":3590,"children":3591},{"style":555},[3592],{"type":407,"value":2421},{"type":401,"tag":500,"props":3594,"children":3595},{"style":577},[3596],{"type":407,"value":935},{"type":401,"tag":500,"props":3598,"children":3599},{"style":519},[3600],{"type":407,"value":912},{"type":401,"tag":500,"props":3602,"children":3604},{"class":502,"line":3603},48,[3605,3610,3614],{"type":401,"tag":500,"props":3606,"children":3607},{"style":513},[3608],{"type":407,"value":3609},"        customSetter",{"type":401,"tag":500,"props":3611,"children":3612},{"style":577},[3613],{"type":407,"value":749},{"type":401,"tag":500,"props":3615,"children":3616},{"style":519},[3617],{"type":407,"value":592},{"type":401,"tag":500,"props":3619,"children":3621},{"class":502,"line":3620},49,[3622],{"type":401,"tag":500,"props":3623,"children":3624},{"style":519},[3625],{"type":407,"value":1042},{"type":401,"tag":500,"props":3627,"children":3629},{"class":502,"line":3628},50,[3630],{"type":401,"tag":500,"props":3631,"children":3632},{"style":711},[3633],{"type":407,"value":3634},"      // #7981: for accessor properties without setter\n",{"type":401,"tag":500,"props":3636,"children":3638},{"class":502,"line":3637},51,[3639,3643,3647,3651,3655,3659,3664,3668,3673],{"type":401,"tag":500,"props":3640,"children":3641},{"style":599},[3642],{"type":407,"value":921},{"type":401,"tag":500,"props":3644,"children":3645},{"style":577},[3646],{"type":407,"value":880},{"type":401,"tag":500,"props":3648,"children":3649},{"style":555},[3650],{"type":407,"value":2753},{"type":401,"tag":500,"props":3652,"children":3653},{"style":561},[3654],{"type":407,"value":2576},{"type":401,"tag":500,"props":3656,"children":3657},{"style":561},[3658],{"type":407,"value":2880},{"type":401,"tag":500,"props":3660,"children":3661},{"style":555},[3662],{"type":407,"value":3663},"setter",{"type":401,"tag":500,"props":3665,"children":3666},{"style":577},[3667],{"type":407,"value":935},{"type":401,"tag":500,"props":3669,"children":3670},{"style":599},[3671],{"type":407,"value":3672},"return",{"type":401,"tag":500,"props":3674,"children":3675},{"style":519},[3676],{"type":407,"value":592},{"type":401,"tag":500,"props":3678,"children":3680},{"class":502,"line":3679},52,[3681],{"type":401,"tag":500,"props":3682,"children":3683},{"style":711},[3684],{"type":407,"value":3685},"      // 使用原有的 setter 更新值或直接更新值\n",{"type":401,"tag":500,"props":3687,"children":3689},{"class":502,"line":3688},53,[3690,3694,3698,3702,3706],{"type":401,"tag":500,"props":3691,"children":3692},{"style":599},[3693],{"type":407,"value":921},{"type":401,"tag":500,"props":3695,"children":3696},{"style":577},[3697],{"type":407,"value":880},{"type":401,"tag":500,"props":3699,"children":3700},{"style":555},[3701],{"type":407,"value":3663},{"type":401,"tag":500,"props":3703,"children":3704},{"style":577},[3705],{"type":407,"value":935},{"type":401,"tag":500,"props":3707,"children":3708},{"style":519},[3709],{"type":407,"value":912},{"type":401,"tag":500,"props":3711,"children":3713},{"class":502,"line":3712},54,[3714,3719,3723,3727,3731,3735,3739,3743,3747],{"type":401,"tag":500,"props":3715,"children":3716},{"style":555},[3717],{"type":407,"value":3718},"        setter",{"type":401,"tag":500,"props":3720,"children":3721},{"style":519},[3722],{"type":407,"value":687},{"type":401,"tag":500,"props":3724,"children":3725},{"style":513},[3726],{"type":407,"value":3067},{"type":401,"tag":500,"props":3728,"children":3729},{"style":577},[3730],{"type":407,"value":522},{"type":401,"tag":500,"props":3732,"children":3733},{"style":555},[3734],{"type":407,"value":1171},{"type":401,"tag":500,"props":3736,"children":3737},{"style":519},[3738],{"type":407,"value":533},{"type":401,"tag":500,"props":3740,"children":3741},{"style":555},[3742],{"type":407,"value":3478},{"type":401,"tag":500,"props":3744,"children":3745},{"style":577},[3746],{"type":407,"value":543},{"type":401,"tag":500,"props":3748,"children":3749},{"style":519},[3750],{"type":407,"value":592},{"type":401,"tag":500,"props":3752,"children":3754},{"class":502,"line":3753},55,[3755,3759,3763],{"type":401,"tag":500,"props":3756,"children":3757},{"style":519},[3758],{"type":407,"value":982},{"type":401,"tag":500,"props":3760,"children":3761},{"style":599},[3762],{"type":407,"value":987},{"type":401,"tag":500,"props":3764,"children":3765},{"style":519},[3766],{"type":407,"value":548},{"type":401,"tag":500,"props":3768,"children":3770},{"class":502,"line":3769},56,[3771,3776,3780,3784],{"type":401,"tag":500,"props":3772,"children":3773},{"style":555},[3774],{"type":407,"value":3775},"        val",{"type":401,"tag":500,"props":3777,"children":3778},{"style":561},[3779],{"type":407,"value":564},{"type":401,"tag":500,"props":3781,"children":3782},{"style":555},[3783],{"type":407,"value":3478},{"type":401,"tag":500,"props":3785,"children":3786},{"style":519},[3787],{"type":407,"value":592},{"type":401,"tag":500,"props":3789,"children":3791},{"class":502,"line":3790},57,[3792],{"type":401,"tag":500,"props":3793,"children":3794},{"style":519},[3795],{"type":407,"value":1042},{"type":401,"tag":500,"props":3797,"children":3799},{"class":502,"line":3798},58,[3800],{"type":401,"tag":500,"props":3801,"children":3802},{"style":711},[3803],{"type":407,"value":3804},"      // 侦测子对象的变化\n",{"type":401,"tag":500,"props":3806,"children":3808},{"class":502,"line":3807},59,[3809,3814,3818,3822,3826,3830,3834,3838,3842,3846],{"type":401,"tag":500,"props":3810,"children":3811},{"style":555},[3812],{"type":407,"value":3813},"      childOb",{"type":401,"tag":500,"props":3815,"children":3816},{"style":561},[3817],{"type":407,"value":564},{"type":401,"tag":500,"props":3819,"children":3820},{"style":561},[3821],{"type":407,"value":2880},{"type":401,"tag":500,"props":3823,"children":3824},{"style":555},[3825],{"type":407,"value":2885},{"type":401,"tag":500,"props":3827,"children":3828},{"style":561},[3829],{"type":407,"value":2576},{"type":401,"tag":500,"props":3831,"children":3832},{"style":513},[3833],{"type":407,"value":516},{"type":401,"tag":500,"props":3835,"children":3836},{"style":577},[3837],{"type":407,"value":522},{"type":401,"tag":500,"props":3839,"children":3840},{"style":555},[3841],{"type":407,"value":3355},{"type":401,"tag":500,"props":3843,"children":3844},{"style":577},[3845],{"type":407,"value":543},{"type":401,"tag":500,"props":3847,"children":3848},{"style":519},[3849],{"type":407,"value":592},{"type":401,"tag":500,"props":3851,"children":3853},{"class":502,"line":3852},60,[3854],{"type":401,"tag":500,"props":3855,"children":3856},{"style":711},[3857],{"type":407,"value":3858},"      // 通知依赖更新\n",{"type":401,"tag":500,"props":3860,"children":3862},{"class":502,"line":3861},61,[3863,3868,3872,3876,3880],{"type":401,"tag":500,"props":3864,"children":3865},{"style":555},[3866],{"type":407,"value":3867},"      dep",{"type":401,"tag":500,"props":3869,"children":3870},{"style":519},[3871],{"type":407,"value":687},{"type":401,"tag":500,"props":3873,"children":3874},{"style":513},[3875],{"type":407,"value":2301},{"type":401,"tag":500,"props":3877,"children":3878},{"style":577},[3879],{"type":407,"value":749},{"type":401,"tag":500,"props":3881,"children":3882},{"style":519},[3883],{"type":407,"value":592},{"type":401,"tag":500,"props":3885,"children":3887},{"class":502,"line":3886},62,[3888],{"type":401,"tag":500,"props":3889,"children":3890},{"style":519},[3891],{"type":407,"value":3325},{"type":401,"tag":500,"props":3893,"children":3895},{"class":502,"line":3894},63,[3896,3900,3904],{"type":401,"tag":500,"props":3897,"children":3898},{"style":519},[3899],{"type":407,"value":2333},{"type":401,"tag":500,"props":3901,"children":3902},{"style":577},[3903],{"type":407,"value":543},{"type":401,"tag":500,"props":3905,"children":3906},{"style":519},[3907],{"type":407,"value":592},{"type":401,"tag":500,"props":3909,"children":3911},{"class":502,"line":3910},64,[3912],{"type":401,"tag":500,"props":3913,"children":3914},{"style":519},[3915],{"type":407,"value":620},{"type":401,"tag":475,"props":3917,"children":3919},{"id":3918},"依赖容器及依赖",[3920],{"type":407,"value":3918},{"type":401,"tag":434,"props":3922,"children":3923},{},[3924],{"type":407,"value":3925},"接下来进入比较绕的部分。首先回答：依赖容器是什么？",{"type":401,"tag":434,"props":3927,"children":3928},{},[3929],{"type":407,"value":3930},"刚刚看到了 dep.notify 的作用是“通知依赖更新”，所以 Dep 就是依赖容器。",{"type":401,"tag":434,"props":3932,"children":3933},{},[3934],{"type":407,"value":3935},"我们上小节说到，每个属性都保持了一个依赖容器，所有依赖都会存放在这个依赖容器实例中。所以依赖容器还提供了统一更新依赖、删除依赖之类的方法。",{"type":401,"tag":440,"props":3937,"children":3939},{"code":3938,"language":493,"meta":394,"className":494,"style":394},"class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n  // 添加依赖\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n  // 删除依赖\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n  // 收集依赖\n  depend() {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  // 通知依赖更新\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice();\n    for (let i = 0, l = subs.length; i \u003C l; i++) {\n      subs[i].update();\n    }\n  }\n}\n",[3940],{"type":401,"tag":445,"props":3941,"children":3942},{"__ignoreMap":394},[3943,3958,3973,4006,4035,4042,4050,4075,4114,4121,4129,4153,4194,4201,4209,4225,4256,4297,4304,4311,4319,4335,4343,4387,4474,4511,4518,4525],{"type":401,"tag":500,"props":3944,"children":3945},{"class":502,"line":503},[3946,3950,3954],{"type":401,"tag":500,"props":3947,"children":3948},{"style":507},[3949],{"type":407,"value":638},{"type":401,"tag":500,"props":3951,"children":3952},{"style":641},[3953],{"type":407,"value":744},{"type":401,"tag":500,"props":3955,"children":3956},{"style":519},[3957],{"type":407,"value":548},{"type":401,"tag":500,"props":3959,"children":3960},{"class":502,"line":551},[3961,3965,3969],{"type":401,"tag":500,"props":3962,"children":3963},{"style":507},[3964],{"type":407,"value":656},{"type":401,"tag":500,"props":3966,"children":3967},{"style":519},[3968],{"type":407,"value":749},{"type":401,"tag":500,"props":3970,"children":3971},{"style":519},[3972],{"type":407,"value":548},{"type":401,"tag":500,"props":3974,"children":3975},{"class":502,"line":595},[3976,3980,3984,3989,3993,3998,4002],{"type":401,"tag":500,"props":3977,"children":3978},{"style":679},[3979],{"type":407,"value":682},{"type":401,"tag":500,"props":3981,"children":3982},{"style":519},[3983],{"type":407,"value":687},{"type":401,"tag":500,"props":3985,"children":3986},{"style":555},[3987],{"type":407,"value":3988},"id",{"type":401,"tag":500,"props":3990,"children":3991},{"style":561},[3992],{"type":407,"value":564},{"type":401,"tag":500,"props":3994,"children":3995},{"style":555},[3996],{"type":407,"value":3997}," uid",{"type":401,"tag":500,"props":3999,"children":4000},{"style":561},[4001],{"type":407,"value":1299},{"type":401,"tag":500,"props":4003,"children":4004},{"style":519},[4005],{"type":407,"value":592},{"type":401,"tag":500,"props":4007,"children":4008},{"class":502,"line":614},[4009,4013,4017,4022,4026,4031],{"type":401,"tag":500,"props":4010,"children":4011},{"style":679},[4012],{"type":407,"value":682},{"type":401,"tag":500,"props":4014,"children":4015},{"style":519},[4016],{"type":407,"value":687},{"type":401,"tag":500,"props":4018,"children":4019},{"style":555},[4020],{"type":407,"value":4021},"subs",{"type":401,"tag":500,"props":4023,"children":4024},{"style":561},[4025],{"type":407,"value":564},{"type":401,"tag":500,"props":4027,"children":4028},{"style":577},[4029],{"type":407,"value":4030}," []",{"type":401,"tag":500,"props":4032,"children":4033},{"style":519},[4034],{"type":407,"value":592},{"type":401,"tag":500,"props":4036,"children":4037},{"class":502,"line":623},[4038],{"type":401,"tag":500,"props":4039,"children":4040},{"style":519},[4041],{"type":407,"value":1144},{"type":401,"tag":500,"props":4043,"children":4044},{"class":502,"line":632},[4045],{"type":401,"tag":500,"props":4046,"children":4047},{"style":711},[4048],{"type":407,"value":4049},"  // 添加依赖\n",{"type":401,"tag":500,"props":4051,"children":4052},{"class":502,"line":650},[4053,4058,4062,4067,4071],{"type":401,"tag":500,"props":4054,"children":4055},{"style":1159},[4056],{"type":407,"value":4057},"  addSub",{"type":401,"tag":500,"props":4059,"children":4060},{"style":519},[4061],{"type":407,"value":522},{"type":401,"tag":500,"props":4063,"children":4064},{"style":525},[4065],{"type":407,"value":4066},"sub",{"type":401,"tag":500,"props":4068,"children":4069},{"style":519},[4070],{"type":407,"value":543},{"type":401,"tag":500,"props":4072,"children":4073},{"style":519},[4074],{"type":407,"value":548},{"type":401,"tag":500,"props":4076,"children":4077},{"class":502,"line":675},[4078,4082,4086,4090,4094,4098,4102,4106,4110],{"type":401,"tag":500,"props":4079,"children":4080},{"style":679},[4081],{"type":407,"value":682},{"type":401,"tag":500,"props":4083,"children":4084},{"style":519},[4085],{"type":407,"value":687},{"type":401,"tag":500,"props":4087,"children":4088},{"style":555},[4089],{"type":407,"value":4021},{"type":401,"tag":500,"props":4091,"children":4092},{"style":519},[4093],{"type":407,"value":687},{"type":401,"tag":500,"props":4095,"children":4096},{"style":513},[4097],{"type":407,"value":1608},{"type":401,"tag":500,"props":4099,"children":4100},{"style":577},[4101],{"type":407,"value":522},{"type":401,"tag":500,"props":4103,"children":4104},{"style":555},[4105],{"type":407,"value":4066},{"type":401,"tag":500,"props":4107,"children":4108},{"style":577},[4109],{"type":407,"value":543},{"type":401,"tag":500,"props":4111,"children":4112},{"style":519},[4113],{"type":407,"value":592},{"type":401,"tag":500,"props":4115,"children":4116},{"class":502,"line":707},[4117],{"type":401,"tag":500,"props":4118,"children":4119},{"style":519},[4120],{"type":407,"value":1144},{"type":401,"tag":500,"props":4122,"children":4123},{"class":502,"line":717},[4124],{"type":401,"tag":500,"props":4125,"children":4126},{"style":711},[4127],{"type":407,"value":4128},"  // 删除依赖\n",{"type":401,"tag":500,"props":4130,"children":4131},{"class":502,"line":756},[4132,4137,4141,4145,4149],{"type":401,"tag":500,"props":4133,"children":4134},{"style":1159},[4135],{"type":407,"value":4136},"  removeSub",{"type":401,"tag":500,"props":4138,"children":4139},{"style":519},[4140],{"type":407,"value":522},{"type":401,"tag":500,"props":4142,"children":4143},{"style":525},[4144],{"type":407,"value":4066},{"type":401,"tag":500,"props":4146,"children":4147},{"style":519},[4148],{"type":407,"value":543},{"type":401,"tag":500,"props":4150,"children":4151},{"style":519},[4152],{"type":407,"value":548},{"type":401,"tag":500,"props":4154,"children":4155},{"class":502,"line":787},[4156,4161,4165,4169,4173,4177,4181,4186,4190],{"type":401,"tag":500,"props":4157,"children":4158},{"style":513},[4159],{"type":407,"value":4160},"    remove",{"type":401,"tag":500,"props":4162,"children":4163},{"style":577},[4164],{"type":407,"value":522},{"type":401,"tag":500,"props":4166,"children":4167},{"style":679},[4168],{"type":407,"value":1952},{"type":401,"tag":500,"props":4170,"children":4171},{"style":519},[4172],{"type":407,"value":687},{"type":401,"tag":500,"props":4174,"children":4175},{"style":555},[4176],{"type":407,"value":4021},{"type":401,"tag":500,"props":4178,"children":4179},{"style":519},[4180],{"type":407,"value":533},{"type":401,"tag":500,"props":4182,"children":4183},{"style":555},[4184],{"type":407,"value":4185}," sub",{"type":401,"tag":500,"props":4187,"children":4188},{"style":577},[4189],{"type":407,"value":543},{"type":401,"tag":500,"props":4191,"children":4192},{"style":519},[4193],{"type":407,"value":592},{"type":401,"tag":500,"props":4195,"children":4196},{"class":502,"line":796},[4197],{"type":401,"tag":500,"props":4198,"children":4199},{"style":519},[4200],{"type":407,"value":1144},{"type":401,"tag":500,"props":4202,"children":4203},{"class":502,"line":851},[4204],{"type":401,"tag":500,"props":4205,"children":4206},{"style":711},[4207],{"type":407,"value":4208},"  // 收集依赖\n",{"type":401,"tag":500,"props":4210,"children":4211},{"class":502,"line":860},[4212,4217,4221],{"type":401,"tag":500,"props":4213,"children":4214},{"style":1159},[4215],{"type":407,"value":4216},"  depend",{"type":401,"tag":500,"props":4218,"children":4219},{"style":519},[4220],{"type":407,"value":749},{"type":401,"tag":500,"props":4222,"children":4223},{"style":519},[4224],{"type":407,"value":548},{"type":401,"tag":500,"props":4226,"children":4227},{"class":502,"line":869},[4228,4232,4236,4240,4244,4248,4252],{"type":401,"tag":500,"props":4229,"children":4230},{"style":599},[4231],{"type":407,"value":875},{"type":401,"tag":500,"props":4233,"children":4234},{"style":577},[4235],{"type":407,"value":880},{"type":401,"tag":500,"props":4237,"children":4238},{"style":555},[4239],{"type":407,"value":3115},{"type":401,"tag":500,"props":4241,"children":4242},{"style":519},[4243],{"type":407,"value":687},{"type":401,"tag":500,"props":4245,"children":4246},{"style":555},[4247],{"type":407,"value":3124},{"type":401,"tag":500,"props":4249,"children":4250},{"style":577},[4251],{"type":407,"value":935},{"type":401,"tag":500,"props":4253,"children":4254},{"style":519},[4255],{"type":407,"value":912},{"type":401,"tag":500,"props":4257,"children":4258},{"class":502,"line":915},[4259,4264,4268,4272,4276,4281,4285,4289,4293],{"type":401,"tag":500,"props":4260,"children":4261},{"style":555},[4262],{"type":407,"value":4263},"      Dep",{"type":401,"tag":500,"props":4265,"children":4266},{"style":519},[4267],{"type":407,"value":687},{"type":401,"tag":500,"props":4269,"children":4270},{"style":555},[4271],{"type":407,"value":3124},{"type":401,"tag":500,"props":4273,"children":4274},{"style":519},[4275],{"type":407,"value":687},{"type":401,"tag":500,"props":4277,"children":4278},{"style":513},[4279],{"type":407,"value":4280},"addDep",{"type":401,"tag":500,"props":4282,"children":4283},{"style":577},[4284],{"type":407,"value":522},{"type":401,"tag":500,"props":4286,"children":4287},{"style":679},[4288],{"type":407,"value":1952},{"type":401,"tag":500,"props":4290,"children":4291},{"style":577},[4292],{"type":407,"value":543},{"type":401,"tag":500,"props":4294,"children":4295},{"style":519},[4296],{"type":407,"value":592},{"type":401,"tag":500,"props":4298,"children":4299},{"class":502,"line":942},[4300],{"type":401,"tag":500,"props":4301,"children":4302},{"style":519},[4303],{"type":407,"value":1135},{"type":401,"tag":500,"props":4305,"children":4306},{"class":502,"line":976},[4307],{"type":401,"tag":500,"props":4308,"children":4309},{"style":519},[4310],{"type":407,"value":1144},{"type":401,"tag":500,"props":4312,"children":4313},{"class":502,"line":994},[4314],{"type":401,"tag":500,"props":4315,"children":4316},{"style":711},[4317],{"type":407,"value":4318},"  // 通知依赖更新\n",{"type":401,"tag":500,"props":4320,"children":4321},{"class":502,"line":1036},[4322,4327,4331],{"type":401,"tag":500,"props":4323,"children":4324},{"style":1159},[4325],{"type":407,"value":4326},"  notify",{"type":401,"tag":500,"props":4328,"children":4329},{"style":519},[4330],{"type":407,"value":749},{"type":401,"tag":500,"props":4332,"children":4333},{"style":519},[4334],{"type":407,"value":548},{"type":401,"tag":500,"props":4336,"children":4337},{"class":502,"line":1045},[4338],{"type":401,"tag":500,"props":4339,"children":4340},{"style":711},[4341],{"type":407,"value":4342},"    // stabilize the subscriber list first\n",{"type":401,"tag":500,"props":4344,"children":4345},{"class":502,"line":1079},[4346,4350,4355,4359,4363,4367,4371,4375,4379,4383],{"type":401,"tag":500,"props":4347,"children":4348},{"style":507},[4349],{"type":407,"value":1188},{"type":401,"tag":500,"props":4351,"children":4352},{"style":1191},[4353],{"type":407,"value":4354}," subs",{"type":401,"tag":500,"props":4356,"children":4357},{"style":561},[4358],{"type":407,"value":564},{"type":401,"tag":500,"props":4360,"children":4361},{"style":679},[4362],{"type":407,"value":840},{"type":401,"tag":500,"props":4364,"children":4365},{"style":519},[4366],{"type":407,"value":687},{"type":401,"tag":500,"props":4368,"children":4369},{"style":555},[4370],{"type":407,"value":4021},{"type":401,"tag":500,"props":4372,"children":4373},{"style":519},[4374],{"type":407,"value":687},{"type":401,"tag":500,"props":4376,"children":4377},{"style":513},[4378],{"type":407,"value":2184},{"type":401,"tag":500,"props":4380,"children":4381},{"style":577},[4382],{"type":407,"value":749},{"type":401,"tag":500,"props":4384,"children":4385},{"style":519},[4386],{"type":407,"value":592},{"type":401,"tag":500,"props":4388,"children":4389},{"class":502,"line":1096},[4390,4394,4398,4402,4406,4410,4414,4418,4422,4426,4430,4434,4438,4442,4446,4450,4454,4458,4462,4466,4470],{"type":401,"tag":500,"props":4391,"children":4392},{"style":599},[4393],{"type":407,"value":1237},{"type":401,"tag":500,"props":4395,"children":4396},{"style":577},[4397],{"type":407,"value":880},{"type":401,"tag":500,"props":4399,"children":4400},{"style":507},[4401],{"type":407,"value":1246},{"type":401,"tag":500,"props":4403,"children":4404},{"style":555},[4405],{"type":407,"value":1251},{"type":401,"tag":500,"props":4407,"children":4408},{"style":561},[4409],{"type":407,"value":564},{"type":401,"tag":500,"props":4411,"children":4412},{"style":777},[4413],{"type":407,"value":780},{"type":401,"tag":500,"props":4415,"children":4416},{"style":519},[4417],{"type":407,"value":533},{"type":401,"tag":500,"props":4419,"children":4420},{"style":555},[4421],{"type":407,"value":1438},{"type":401,"tag":500,"props":4423,"children":4424},{"style":561},[4425],{"type":407,"value":564},{"type":401,"tag":500,"props":4427,"children":4428},{"style":555},[4429],{"type":407,"value":4354},{"type":401,"tag":500,"props":4431,"children":4432},{"style":519},[4433],{"type":407,"value":687},{"type":401,"tag":500,"props":4435,"children":4436},{"style":1191},[4437],{"type":407,"value":1286},{"type":401,"tag":500,"props":4439,"children":4440},{"style":519},[4441],{"type":407,"value":1264},{"type":401,"tag":500,"props":4443,"children":4444},{"style":555},[4445],{"type":407,"value":1251},{"type":401,"tag":500,"props":4447,"children":4448},{"style":561},[4449],{"type":407,"value":1273},{"type":401,"tag":500,"props":4451,"children":4452},{"style":555},[4453],{"type":407,"value":1438},{"type":401,"tag":500,"props":4455,"children":4456},{"style":519},[4457],{"type":407,"value":1264},{"type":401,"tag":500,"props":4459,"children":4460},{"style":555},[4461],{"type":407,"value":1251},{"type":401,"tag":500,"props":4463,"children":4464},{"style":561},[4465],{"type":407,"value":1299},{"type":401,"tag":500,"props":4467,"children":4468},{"style":577},[4469],{"type":407,"value":935},{"type":401,"tag":500,"props":4471,"children":4472},{"style":519},[4473],{"type":407,"value":912},{"type":401,"tag":500,"props":4475,"children":4476},{"class":502,"line":1129},[4477,4482,4486,4490,4494,4498,4503,4507],{"type":401,"tag":500,"props":4478,"children":4479},{"style":555},[4480],{"type":407,"value":4481},"      subs",{"type":401,"tag":500,"props":4483,"children":4484},{"style":577},[4485],{"type":407,"value":1337},{"type":401,"tag":500,"props":4487,"children":4488},{"style":555},[4489],{"type":407,"value":1342},{"type":401,"tag":500,"props":4491,"children":4492},{"style":577},[4493],{"type":407,"value":1745},{"type":401,"tag":500,"props":4495,"children":4496},{"style":519},[4497],{"type":407,"value":687},{"type":401,"tag":500,"props":4499,"children":4500},{"style":513},[4501],{"type":407,"value":4502},"update",{"type":401,"tag":500,"props":4504,"children":4505},{"style":577},[4506],{"type":407,"value":749},{"type":401,"tag":500,"props":4508,"children":4509},{"style":519},[4510],{"type":407,"value":592},{"type":401,"tag":500,"props":4512,"children":4513},{"class":502,"line":1138},[4514],{"type":401,"tag":500,"props":4515,"children":4516},{"style":519},[4517],{"type":407,"value":1135},{"type":401,"tag":500,"props":4519,"children":4520},{"class":502,"line":1147},[4521],{"type":401,"tag":500,"props":4522,"children":4523},{"style":519},[4524],{"type":407,"value":1144},{"type":401,"tag":500,"props":4526,"children":4527},{"class":502,"line":1155},[4528],{"type":401,"tag":500,"props":4529,"children":4530},{"style":519},[4531],{"type":407,"value":620},{"type":401,"tag":434,"props":4533,"children":4534},{},[4535],{"type":407,"value":4536},"依赖容器和依赖之间是存在耦合的，所以我们看到收集依赖的这个地方，仅仅调用了依赖的 addDep 方法，没有调用 addSub 把添加依赖。其实，addSub 是在依赖的 addDep 方法中调用的。这个和观察者模式离不开关系，在观察者模式中，观察者直接观测目标，并相应目标做出的通知。Watcher 直接观测响应式数据，当数据发生变更时，就能收到通知。但由于数据和观察者是多对多的关系，所以需要 Dep 依赖容器这么一个东西用来保存 Watcher 与数据的关系。",{"type":401,"tag":434,"props":4538,"children":4539},{},[4540],{"type":401,"tag":4541,"props":4542,"children":4544},"img",{"alt":451,"src":4543},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20200810100326.png?w=70",[],{"type":401,"tag":434,"props":4546,"children":4547},{},[4548],{"type":407,"value":4549},"Dep.target 用来表示当前依赖，并且源码维护了一个依赖栈，通过提供的 pushTarget、popTarget 方法维护依赖栈及当前依赖（状态）。看以下代码：",{"type":401,"tag":440,"props":4551,"children":4553},{"code":4552,"language":493,"meta":394,"className":494,"style":394},"// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nconst targetStack = [];\nfunction pushTarget(target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\nfunction popTarget() {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n",[4554],{"type":401,"tag":445,"props":4555,"children":4556},{"__ignoreMap":394},[4557,4565,4573,4581,4612,4636,4664,4696,4725,4732,4752,4775,4833],{"type":401,"tag":500,"props":4558,"children":4559},{"class":502,"line":503},[4560],{"type":401,"tag":500,"props":4561,"children":4562},{"style":711},[4563],{"type":407,"value":4564},"// The current target watcher being evaluated.\n",{"type":401,"tag":500,"props":4566,"children":4567},{"class":502,"line":551},[4568],{"type":401,"tag":500,"props":4569,"children":4570},{"style":711},[4571],{"type":407,"value":4572},"// This is globally unique because only one watcher\n",{"type":401,"tag":500,"props":4574,"children":4575},{"class":502,"line":595},[4576],{"type":401,"tag":500,"props":4577,"children":4578},{"style":711},[4579],{"type":407,"value":4580},"// can be evaluated at a time.\n",{"type":401,"tag":500,"props":4582,"children":4583},{"class":502,"line":614},[4584,4588,4592,4597,4602,4608],{"type":401,"tag":500,"props":4585,"children":4586},{"style":555},[4587],{"type":407,"value":3115},{"type":401,"tag":500,"props":4589,"children":4590},{"style":519},[4591],{"type":407,"value":687},{"type":401,"tag":500,"props":4593,"children":4594},{"style":555},[4595],{"type":407,"value":4596},"target ",{"type":401,"tag":500,"props":4598,"children":4599},{"style":561},[4600],{"type":407,"value":4601},"=",{"type":401,"tag":500,"props":4603,"children":4605},{"style":4604},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[4606],{"type":407,"value":4607}," null",{"type":401,"tag":500,"props":4609,"children":4610},{"style":519},[4611],{"type":407,"value":592},{"type":401,"tag":500,"props":4613,"children":4614},{"class":502,"line":623},[4615,4619,4624,4628,4632],{"type":401,"tag":500,"props":4616,"children":4617},{"style":507},[4618],{"type":407,"value":1581},{"type":401,"tag":500,"props":4620,"children":4621},{"style":1191},[4622],{"type":407,"value":4623}," targetStack",{"type":401,"tag":500,"props":4625,"children":4626},{"style":561},[4627],{"type":407,"value":564},{"type":401,"tag":500,"props":4629,"children":4630},{"style":555},[4631],{"type":407,"value":4030},{"type":401,"tag":500,"props":4633,"children":4634},{"style":519},[4635],{"type":407,"value":592},{"type":401,"tag":500,"props":4637,"children":4638},{"class":502,"line":632},[4639,4643,4648,4652,4656,4660],{"type":401,"tag":500,"props":4640,"children":4641},{"style":507},[4642],{"type":407,"value":510},{"type":401,"tag":500,"props":4644,"children":4645},{"style":513},[4646],{"type":407,"value":4647}," pushTarget",{"type":401,"tag":500,"props":4649,"children":4650},{"style":519},[4651],{"type":407,"value":522},{"type":401,"tag":500,"props":4653,"children":4654},{"style":525},[4655],{"type":407,"value":3124},{"type":401,"tag":500,"props":4657,"children":4658},{"style":519},[4659],{"type":407,"value":543},{"type":401,"tag":500,"props":4661,"children":4662},{"style":519},[4663],{"type":407,"value":548},{"type":401,"tag":500,"props":4665,"children":4666},{"class":502,"line":650},[4667,4672,4676,4680,4684,4688,4692],{"type":401,"tag":500,"props":4668,"children":4669},{"style":555},[4670],{"type":407,"value":4671},"  targetStack",{"type":401,"tag":500,"props":4673,"children":4674},{"style":519},[4675],{"type":407,"value":687},{"type":401,"tag":500,"props":4677,"children":4678},{"style":513},[4679],{"type":407,"value":1608},{"type":401,"tag":500,"props":4681,"children":4682},{"style":577},[4683],{"type":407,"value":522},{"type":401,"tag":500,"props":4685,"children":4686},{"style":555},[4687],{"type":407,"value":3124},{"type":401,"tag":500,"props":4689,"children":4690},{"style":577},[4691],{"type":407,"value":543},{"type":401,"tag":500,"props":4693,"children":4694},{"style":519},[4695],{"type":407,"value":592},{"type":401,"tag":500,"props":4697,"children":4698},{"class":502,"line":675},[4699,4704,4708,4712,4716,4721],{"type":401,"tag":500,"props":4700,"children":4701},{"style":555},[4702],{"type":407,"value":4703},"  Dep",{"type":401,"tag":500,"props":4705,"children":4706},{"style":519},[4707],{"type":407,"value":687},{"type":401,"tag":500,"props":4709,"children":4710},{"style":555},[4711],{"type":407,"value":3124},{"type":401,"tag":500,"props":4713,"children":4714},{"style":561},[4715],{"type":407,"value":564},{"type":401,"tag":500,"props":4717,"children":4718},{"style":555},[4719],{"type":407,"value":4720}," target",{"type":401,"tag":500,"props":4722,"children":4723},{"style":519},[4724],{"type":407,"value":592},{"type":401,"tag":500,"props":4726,"children":4727},{"class":502,"line":707},[4728],{"type":401,"tag":500,"props":4729,"children":4730},{"style":519},[4731],{"type":407,"value":620},{"type":401,"tag":500,"props":4733,"children":4734},{"class":502,"line":717},[4735,4739,4744,4748],{"type":401,"tag":500,"props":4736,"children":4737},{"style":507},[4738],{"type":407,"value":510},{"type":401,"tag":500,"props":4740,"children":4741},{"style":513},[4742],{"type":407,"value":4743}," popTarget",{"type":401,"tag":500,"props":4745,"children":4746},{"style":519},[4747],{"type":407,"value":749},{"type":401,"tag":500,"props":4749,"children":4750},{"style":519},[4751],{"type":407,"value":548},{"type":401,"tag":500,"props":4753,"children":4754},{"class":502,"line":756},[4755,4759,4763,4767,4771],{"type":401,"tag":500,"props":4756,"children":4757},{"style":555},[4758],{"type":407,"value":4671},{"type":401,"tag":500,"props":4760,"children":4761},{"style":519},[4762],{"type":407,"value":687},{"type":401,"tag":500,"props":4764,"children":4765},{"style":513},[4766],{"type":407,"value":1629},{"type":401,"tag":500,"props":4768,"children":4769},{"style":577},[4770],{"type":407,"value":749},{"type":401,"tag":500,"props":4772,"children":4773},{"style":519},[4774],{"type":407,"value":592},{"type":401,"tag":500,"props":4776,"children":4777},{"class":502,"line":787},[4778,4782,4786,4790,4794,4798,4802,4807,4811,4815,4820,4825,4829],{"type":401,"tag":500,"props":4779,"children":4780},{"style":555},[4781],{"type":407,"value":4703},{"type":401,"tag":500,"props":4783,"children":4784},{"style":519},[4785],{"type":407,"value":687},{"type":401,"tag":500,"props":4787,"children":4788},{"style":555},[4789],{"type":407,"value":3124},{"type":401,"tag":500,"props":4791,"children":4792},{"style":561},[4793],{"type":407,"value":564},{"type":401,"tag":500,"props":4795,"children":4796},{"style":555},[4797],{"type":407,"value":4623},{"type":401,"tag":500,"props":4799,"children":4800},{"style":577},[4801],{"type":407,"value":1337},{"type":401,"tag":500,"props":4803,"children":4804},{"style":555},[4805],{"type":407,"value":4806},"targetStack",{"type":401,"tag":500,"props":4808,"children":4809},{"style":519},[4810],{"type":407,"value":687},{"type":401,"tag":500,"props":4812,"children":4813},{"style":1191},[4814],{"type":407,"value":1286},{"type":401,"tag":500,"props":4816,"children":4817},{"style":561},[4818],{"type":407,"value":4819}," -",{"type":401,"tag":500,"props":4821,"children":4822},{"style":777},[4823],{"type":407,"value":4824}," 1",{"type":401,"tag":500,"props":4826,"children":4827},{"style":577},[4828],{"type":407,"value":1745},{"type":401,"tag":500,"props":4830,"children":4831},{"style":519},[4832],{"type":407,"value":592},{"type":401,"tag":500,"props":4834,"children":4835},{"class":502,"line":796},[4836],{"type":401,"tag":500,"props":4837,"children":4838},{"style":519},[4839],{"type":407,"value":620},{"type":401,"tag":434,"props":4841,"children":4842},{},[4843],{"type":407,"value":4844},"既然 Dep 用来存放 Watcher，是依赖容器，那么，依赖就是 Watcher。",{"type":401,"tag":434,"props":4846,"children":4847},{},[4848],{"type":407,"value":4849},"Watcher 通过调用我们刚才提到的 pushTarget、popTarget 以维护全局的当前依赖（Dep.target）。全局的当前依赖只会有一个，因为 JS 是同步的，顺序执行的代码。我们先来看看 Watcher 怎么样维护当前依赖。",{"type":401,"tag":440,"props":4851,"children":4853},{"code":4852,"language":493,"meta":394,"className":494,"style":394},"class Watcher {\n  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n  get() {\n    pushTarget(this);\n    let value;\n    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n    const vm = this.vm;\n    // 触发 getter 更新\n    try {\n      value = this.getter.call(vm, vm);\n    } catch (e) {\n      if (this.user) {\n        handleError(e, vm, `getter for watcher \"${this.expression}\"`);\n      } else {\n        throw e;\n      }\n    } finally {\n      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n      // traverse 即递归读取对象的每一个元素\n      if (this.deep) {\n        traverse(value);\n      }\n      popTarget();\n      // 因为每次 get 之后都重收集了依赖，\n      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n      this.cleanupDeps();\n    }\n    return value;\n  }\n}\n",[4854],{"type":401,"tag":445,"props":4855,"children":4856},{"__ignoreMap":394},[4857,4873,4881,4889,4897,4913,4937,4952,4960,4993,5001,5013,5069,5098,5130,5209,5224,5241,5248,5264,5272,5280,5312,5336,5343,5359,5367,5375,5399,5406,5421,5428],{"type":401,"tag":500,"props":4858,"children":4859},{"class":502,"line":503},[4860,4864,4869],{"type":401,"tag":500,"props":4861,"children":4862},{"style":507},[4863],{"type":407,"value":638},{"type":401,"tag":500,"props":4865,"children":4866},{"style":641},[4867],{"type":407,"value":4868}," Watcher",{"type":401,"tag":500,"props":4870,"children":4871},{"style":519},[4872],{"type":407,"value":548},{"type":401,"tag":500,"props":4874,"children":4875},{"class":502,"line":551},[4876],{"type":401,"tag":500,"props":4877,"children":4878},{"style":711},[4879],{"type":407,"value":4880},"  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n",{"type":401,"tag":500,"props":4882,"children":4883},{"class":502,"line":595},[4884],{"type":401,"tag":500,"props":4885,"children":4886},{"style":711},[4887],{"type":407,"value":4888},"  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n",{"type":401,"tag":500,"props":4890,"children":4891},{"class":502,"line":614},[4892],{"type":401,"tag":500,"props":4893,"children":4894},{"style":711},[4895],{"type":407,"value":4896},"  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n",{"type":401,"tag":500,"props":4898,"children":4899},{"class":502,"line":623},[4900,4905,4909],{"type":401,"tag":500,"props":4901,"children":4902},{"style":1159},[4903],{"type":407,"value":4904},"  get",{"type":401,"tag":500,"props":4906,"children":4907},{"style":519},[4908],{"type":407,"value":749},{"type":401,"tag":500,"props":4910,"children":4911},{"style":519},[4912],{"type":407,"value":548},{"type":401,"tag":500,"props":4914,"children":4915},{"class":502,"line":632},[4916,4921,4925,4929,4933],{"type":401,"tag":500,"props":4917,"children":4918},{"style":513},[4919],{"type":407,"value":4920},"    pushTarget",{"type":401,"tag":500,"props":4922,"children":4923},{"style":577},[4924],{"type":407,"value":522},{"type":401,"tag":500,"props":4926,"children":4927},{"style":679},[4928],{"type":407,"value":1952},{"type":401,"tag":500,"props":4930,"children":4931},{"style":577},[4932],{"type":407,"value":543},{"type":401,"tag":500,"props":4934,"children":4935},{"style":519},[4936],{"type":407,"value":592},{"type":401,"tag":500,"props":4938,"children":4939},{"class":502,"line":650},[4940,4944,4948],{"type":401,"tag":500,"props":4941,"children":4942},{"style":507},[4943],{"type":407,"value":2024},{"type":401,"tag":500,"props":4945,"children":4946},{"style":555},[4947],{"type":407,"value":700},{"type":401,"tag":500,"props":4949,"children":4950},{"style":519},[4951],{"type":407,"value":592},{"type":401,"tag":500,"props":4953,"children":4954},{"class":502,"line":675},[4955],{"type":401,"tag":500,"props":4956,"children":4957},{"style":711},[4958],{"type":407,"value":4959},"    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n",{"type":401,"tag":500,"props":4961,"children":4962},{"class":502,"line":707},[4963,4967,4972,4976,4980,4984,4989],{"type":401,"tag":500,"props":4964,"children":4965},{"style":507},[4966],{"type":407,"value":1188},{"type":401,"tag":500,"props":4968,"children":4969},{"style":1191},[4970],{"type":407,"value":4971}," vm",{"type":401,"tag":500,"props":4973,"children":4974},{"style":561},[4975],{"type":407,"value":564},{"type":401,"tag":500,"props":4977,"children":4978},{"style":679},[4979],{"type":407,"value":840},{"type":401,"tag":500,"props":4981,"children":4982},{"style":519},[4983],{"type":407,"value":687},{"type":401,"tag":500,"props":4985,"children":4986},{"style":555},[4987],{"type":407,"value":4988},"vm",{"type":401,"tag":500,"props":4990,"children":4991},{"style":519},[4992],{"type":407,"value":592},{"type":401,"tag":500,"props":4994,"children":4995},{"class":502,"line":717},[4996],{"type":401,"tag":500,"props":4997,"children":4998},{"style":711},[4999],{"type":407,"value":5000},"    // 触发 getter 更新\n",{"type":401,"tag":500,"props":5002,"children":5003},{"class":502,"line":756},[5004,5009],{"type":401,"tag":500,"props":5005,"children":5006},{"style":599},[5007],{"type":407,"value":5008},"    try",{"type":401,"tag":500,"props":5010,"children":5011},{"style":519},[5012],{"type":407,"value":548},{"type":401,"tag":500,"props":5014,"children":5015},{"class":502,"line":787},[5016,5021,5025,5029,5033,5037,5041,5045,5049,5053,5057,5061,5065],{"type":401,"tag":500,"props":5017,"children":5018},{"style":555},[5019],{"type":407,"value":5020},"      value",{"type":401,"tag":500,"props":5022,"children":5023},{"style":561},[5024],{"type":407,"value":564},{"type":401,"tag":500,"props":5026,"children":5027},{"style":679},[5028],{"type":407,"value":840},{"type":401,"tag":500,"props":5030,"children":5031},{"style":519},[5032],{"type":407,"value":687},{"type":401,"tag":500,"props":5034,"children":5035},{"style":555},[5036],{"type":407,"value":2753},{"type":401,"tag":500,"props":5038,"children":5039},{"style":519},[5040],{"type":407,"value":687},{"type":401,"tag":500,"props":5042,"children":5043},{"style":513},[5044],{"type":407,"value":3067},{"type":401,"tag":500,"props":5046,"children":5047},{"style":577},[5048],{"type":407,"value":522},{"type":401,"tag":500,"props":5050,"children":5051},{"style":555},[5052],{"type":407,"value":4988},{"type":401,"tag":500,"props":5054,"children":5055},{"style":519},[5056],{"type":407,"value":533},{"type":401,"tag":500,"props":5058,"children":5059},{"style":555},[5060],{"type":407,"value":4971},{"type":401,"tag":500,"props":5062,"children":5063},{"style":577},[5064],{"type":407,"value":543},{"type":401,"tag":500,"props":5066,"children":5067},{"style":519},[5068],{"type":407,"value":592},{"type":401,"tag":500,"props":5070,"children":5071},{"class":502,"line":796},[5072,5076,5081,5085,5090,5094],{"type":401,"tag":500,"props":5073,"children":5074},{"style":519},[5075],{"type":407,"value":1085},{"type":401,"tag":500,"props":5077,"children":5078},{"style":599},[5079],{"type":407,"value":5080}," catch",{"type":401,"tag":500,"props":5082,"children":5083},{"style":577},[5084],{"type":407,"value":880},{"type":401,"tag":500,"props":5086,"children":5087},{"style":555},[5088],{"type":407,"value":5089},"e",{"type":401,"tag":500,"props":5091,"children":5092},{"style":577},[5093],{"type":407,"value":935},{"type":401,"tag":500,"props":5095,"children":5096},{"style":519},[5097],{"type":407,"value":912},{"type":401,"tag":500,"props":5099,"children":5100},{"class":502,"line":851},[5101,5105,5109,5113,5117,5122,5126],{"type":401,"tag":500,"props":5102,"children":5103},{"style":599},[5104],{"type":407,"value":921},{"type":401,"tag":500,"props":5106,"children":5107},{"style":577},[5108],{"type":407,"value":880},{"type":401,"tag":500,"props":5110,"children":5111},{"style":679},[5112],{"type":407,"value":1952},{"type":401,"tag":500,"props":5114,"children":5115},{"style":519},[5116],{"type":407,"value":687},{"type":401,"tag":500,"props":5118,"children":5119},{"style":555},[5120],{"type":407,"value":5121},"user",{"type":401,"tag":500,"props":5123,"children":5124},{"style":577},[5125],{"type":407,"value":935},{"type":401,"tag":500,"props":5127,"children":5128},{"style":519},[5129],{"type":407,"value":912},{"type":401,"tag":500,"props":5131,"children":5132},{"class":502,"line":860},[5133,5138,5142,5146,5150,5154,5158,5163,5168,5174,5178,5183,5188,5192,5196,5201,5205],{"type":401,"tag":500,"props":5134,"children":5135},{"style":513},[5136],{"type":407,"value":5137},"        handleError",{"type":401,"tag":500,"props":5139,"children":5140},{"style":577},[5141],{"type":407,"value":522},{"type":401,"tag":500,"props":5143,"children":5144},{"style":555},[5145],{"type":407,"value":5089},{"type":401,"tag":500,"props":5147,"children":5148},{"style":519},[5149],{"type":407,"value":533},{"type":401,"tag":500,"props":5151,"children":5152},{"style":555},[5153],{"type":407,"value":4971},{"type":401,"tag":500,"props":5155,"children":5156},{"style":519},[5157],{"type":407,"value":533},{"type":401,"tag":500,"props":5159,"children":5160},{"style":817},[5161],{"type":407,"value":5162}," `",{"type":401,"tag":500,"props":5164,"children":5165},{"style":823},[5166],{"type":407,"value":5167},"getter for watcher \"",{"type":401,"tag":500,"props":5169,"children":5171},{"style":5170},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[5172],{"type":407,"value":5173},"${",{"type":401,"tag":500,"props":5175,"children":5176},{"style":679},[5177],{"type":407,"value":1952},{"type":401,"tag":500,"props":5179,"children":5181},{"style":5180},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[5182],{"type":407,"value":687},{"type":401,"tag":500,"props":5184,"children":5185},{"style":555},[5186],{"type":407,"value":5187},"expression",{"type":401,"tag":500,"props":5189,"children":5190},{"style":5170},[5191],{"type":407,"value":2349},{"type":401,"tag":500,"props":5193,"children":5194},{"style":823},[5195],{"type":407,"value":831},{"type":401,"tag":500,"props":5197,"children":5198},{"style":817},[5199],{"type":407,"value":5200},"`",{"type":401,"tag":500,"props":5202,"children":5203},{"style":577},[5204],{"type":407,"value":543},{"type":401,"tag":500,"props":5206,"children":5207},{"style":519},[5208],{"type":407,"value":592},{"type":401,"tag":500,"props":5210,"children":5211},{"class":502,"line":869},[5212,5216,5220],{"type":401,"tag":500,"props":5213,"children":5214},{"style":519},[5215],{"type":407,"value":982},{"type":401,"tag":500,"props":5217,"children":5218},{"style":599},[5219],{"type":407,"value":987},{"type":401,"tag":500,"props":5221,"children":5222},{"style":519},[5223],{"type":407,"value":548},{"type":401,"tag":500,"props":5225,"children":5226},{"class":502,"line":915},[5227,5232,5237],{"type":401,"tag":500,"props":5228,"children":5229},{"style":599},[5230],{"type":407,"value":5231},"        throw",{"type":401,"tag":500,"props":5233,"children":5234},{"style":555},[5235],{"type":407,"value":5236}," e",{"type":401,"tag":500,"props":5238,"children":5239},{"style":519},[5240],{"type":407,"value":592},{"type":401,"tag":500,"props":5242,"children":5243},{"class":502,"line":942},[5244],{"type":401,"tag":500,"props":5245,"children":5246},{"style":519},[5247],{"type":407,"value":1042},{"type":401,"tag":500,"props":5249,"children":5250},{"class":502,"line":976},[5251,5255,5260],{"type":401,"tag":500,"props":5252,"children":5253},{"style":519},[5254],{"type":407,"value":1085},{"type":401,"tag":500,"props":5256,"children":5257},{"style":599},[5258],{"type":407,"value":5259}," finally",{"type":401,"tag":500,"props":5261,"children":5262},{"style":519},[5263],{"type":407,"value":548},{"type":401,"tag":500,"props":5265,"children":5266},{"class":502,"line":994},[5267],{"type":401,"tag":500,"props":5268,"children":5269},{"style":711},[5270],{"type":407,"value":5271},"      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n",{"type":401,"tag":500,"props":5273,"children":5274},{"class":502,"line":1036},[5275],{"type":401,"tag":500,"props":5276,"children":5277},{"style":711},[5278],{"type":407,"value":5279},"      // traverse 即递归读取对象的每一个元素\n",{"type":401,"tag":500,"props":5281,"children":5282},{"class":502,"line":1045},[5283,5287,5291,5295,5299,5304,5308],{"type":401,"tag":500,"props":5284,"children":5285},{"style":599},[5286],{"type":407,"value":921},{"type":401,"tag":500,"props":5288,"children":5289},{"style":577},[5290],{"type":407,"value":880},{"type":401,"tag":500,"props":5292,"children":5293},{"style":679},[5294],{"type":407,"value":1952},{"type":401,"tag":500,"props":5296,"children":5297},{"style":519},[5298],{"type":407,"value":687},{"type":401,"tag":500,"props":5300,"children":5301},{"style":555},[5302],{"type":407,"value":5303},"deep",{"type":401,"tag":500,"props":5305,"children":5306},{"style":577},[5307],{"type":407,"value":935},{"type":401,"tag":500,"props":5309,"children":5310},{"style":519},[5311],{"type":407,"value":912},{"type":401,"tag":500,"props":5313,"children":5314},{"class":502,"line":1079},[5315,5320,5324,5328,5332],{"type":401,"tag":500,"props":5316,"children":5317},{"style":513},[5318],{"type":407,"value":5319},"        traverse",{"type":401,"tag":500,"props":5321,"children":5322},{"style":577},[5323],{"type":407,"value":522},{"type":401,"tag":500,"props":5325,"children":5326},{"style":555},[5327],{"type":407,"value":528},{"type":401,"tag":500,"props":5329,"children":5330},{"style":577},[5331],{"type":407,"value":543},{"type":401,"tag":500,"props":5333,"children":5334},{"style":519},[5335],{"type":407,"value":592},{"type":401,"tag":500,"props":5337,"children":5338},{"class":502,"line":1096},[5339],{"type":401,"tag":500,"props":5340,"children":5341},{"style":519},[5342],{"type":407,"value":1042},{"type":401,"tag":500,"props":5344,"children":5345},{"class":502,"line":1129},[5346,5351,5355],{"type":401,"tag":500,"props":5347,"children":5348},{"style":513},[5349],{"type":407,"value":5350},"      popTarget",{"type":401,"tag":500,"props":5352,"children":5353},{"style":577},[5354],{"type":407,"value":749},{"type":401,"tag":500,"props":5356,"children":5357},{"style":519},[5358],{"type":407,"value":592},{"type":401,"tag":500,"props":5360,"children":5361},{"class":502,"line":1138},[5362],{"type":401,"tag":500,"props":5363,"children":5364},{"style":711},[5365],{"type":407,"value":5366},"      // 因为每次 get 之后都重收集了依赖，\n",{"type":401,"tag":500,"props":5368,"children":5369},{"class":502,"line":1147},[5370],{"type":401,"tag":500,"props":5371,"children":5372},{"style":711},[5373],{"type":407,"value":5374},"      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n",{"type":401,"tag":500,"props":5376,"children":5377},{"class":502,"line":1155},[5378,5382,5386,5391,5395],{"type":401,"tag":500,"props":5379,"children":5380},{"style":679},[5381],{"type":407,"value":1051},{"type":401,"tag":500,"props":5383,"children":5384},{"style":519},[5385],{"type":407,"value":687},{"type":401,"tag":500,"props":5387,"children":5388},{"style":513},[5389],{"type":407,"value":5390},"cleanupDeps",{"type":401,"tag":500,"props":5392,"children":5393},{"style":577},[5394],{"type":407,"value":749},{"type":401,"tag":500,"props":5396,"children":5397},{"style":519},[5398],{"type":407,"value":592},{"type":401,"tag":500,"props":5400,"children":5401},{"class":502,"line":1182},[5402],{"type":401,"tag":500,"props":5403,"children":5404},{"style":519},[5405],{"type":407,"value":1135},{"type":401,"tag":500,"props":5407,"children":5408},{"class":502,"line":1231},[5409,5413,5417],{"type":401,"tag":500,"props":5410,"children":5411},{"style":599},[5412],{"type":407,"value":2317},{"type":401,"tag":500,"props":5414,"children":5415},{"style":555},[5416],{"type":407,"value":700},{"type":401,"tag":500,"props":5418,"children":5419},{"style":519},[5420],{"type":407,"value":592},{"type":401,"tag":500,"props":5422,"children":5423},{"class":502,"line":1310},[5424],{"type":401,"tag":500,"props":5425,"children":5426},{"style":519},[5427],{"type":407,"value":1144},{"type":401,"tag":500,"props":5429,"children":5430},{"class":502,"line":1354},[5431],{"type":401,"tag":500,"props":5432,"children":5433},{"style":519},[5434],{"type":407,"value":620},{"type":401,"tag":434,"props":5436,"children":5437},{},[5438],{"type":407,"value":5439},"Vue 实例中，data 方法会返回一个新的对象，这个对象能将值的变化响应式更新到模板中。其实就是，新的对象返回来后，使用了 observe 方法观测其变化，而其每一个属性的依赖容器中，都会保存这个 Vue 实例的 watcher。这样一来，只要属性发生了变化，依赖容器就会通知 Vue 实例的 watcher 进行更新。至于要更新什么，那当然是“执行回调函数”啦。想象一下 Vue 实例中的 watch 的写法：",{"type":401,"tag":440,"props":5441,"children":5443},{"code":5442,"language":493,"meta":394,"className":494,"style":394},"new Vue({\n  data() {\n    return {\n      b: null,\n    };\n  },\n  watch: {\n    b() {\n      console.log(\"I'm callback\");\n    },\n  },\n});\n",[5444],{"type":401,"tag":445,"props":5445,"children":5446},{"__ignoreMap":394},[5447,5468,5484,5495,5515,5523,5531,5547,5563,5605,5612,5619],{"type":401,"tag":500,"props":5448,"children":5449},{"class":502,"line":503},[5450,5455,5460,5464],{"type":401,"tag":500,"props":5451,"children":5452},{"style":561},[5453],{"type":407,"value":5454},"new",{"type":401,"tag":500,"props":5456,"children":5457},{"style":513},[5458],{"type":407,"value":5459}," Vue",{"type":401,"tag":500,"props":5461,"children":5462},{"style":555},[5463],{"type":407,"value":522},{"type":401,"tag":500,"props":5465,"children":5466},{"style":519},[5467],{"type":407,"value":912},{"type":401,"tag":500,"props":5469,"children":5470},{"class":502,"line":551},[5471,5476,5480],{"type":401,"tag":500,"props":5472,"children":5473},{"style":1159},[5474],{"type":407,"value":5475},"  data",{"type":401,"tag":500,"props":5477,"children":5478},{"style":519},[5479],{"type":407,"value":749},{"type":401,"tag":500,"props":5481,"children":5482},{"style":519},[5483],{"type":407,"value":548},{"type":401,"tag":500,"props":5485,"children":5486},{"class":502,"line":595},[5487,5491],{"type":401,"tag":500,"props":5488,"children":5489},{"style":599},[5490],{"type":407,"value":2317},{"type":401,"tag":500,"props":5492,"children":5493},{"style":519},[5494],{"type":407,"value":548},{"type":401,"tag":500,"props":5496,"children":5497},{"class":502,"line":614},[5498,5503,5507,5511],{"type":401,"tag":500,"props":5499,"children":5500},{"style":577},[5501],{"type":407,"value":5502},"      b",{"type":401,"tag":500,"props":5504,"children":5505},{"style":519},[5506],{"type":407,"value":2971},{"type":401,"tag":500,"props":5508,"children":5509},{"style":4604},[5510],{"type":407,"value":4607},{"type":401,"tag":500,"props":5512,"children":5513},{"style":519},[5514],{"type":407,"value":1617},{"type":401,"tag":500,"props":5516,"children":5517},{"class":502,"line":623},[5518],{"type":401,"tag":500,"props":5519,"children":5520},{"style":519},[5521],{"type":407,"value":5522},"    };\n",{"type":401,"tag":500,"props":5524,"children":5525},{"class":502,"line":632},[5526],{"type":401,"tag":500,"props":5527,"children":5528},{"style":519},[5529],{"type":407,"value":5530},"  },\n",{"type":401,"tag":500,"props":5532,"children":5533},{"class":502,"line":650},[5534,5539,5543],{"type":401,"tag":500,"props":5535,"children":5536},{"style":577},[5537],{"type":407,"value":5538},"  watch",{"type":401,"tag":500,"props":5540,"children":5541},{"style":519},[5542],{"type":407,"value":2971},{"type":401,"tag":500,"props":5544,"children":5545},{"style":519},[5546],{"type":407,"value":548},{"type":401,"tag":500,"props":5548,"children":5549},{"class":502,"line":675},[5550,5555,5559],{"type":401,"tag":500,"props":5551,"children":5552},{"style":1159},[5553],{"type":407,"value":5554},"    b",{"type":401,"tag":500,"props":5556,"children":5557},{"style":519},[5558],{"type":407,"value":749},{"type":401,"tag":500,"props":5560,"children":5561},{"style":519},[5562],{"type":407,"value":548},{"type":401,"tag":500,"props":5564,"children":5565},{"class":502,"line":707},[5566,5571,5575,5580,5584,5588,5593,5597,5601],{"type":401,"tag":500,"props":5567,"children":5568},{"style":555},[5569],{"type":407,"value":5570},"      console",{"type":401,"tag":500,"props":5572,"children":5573},{"style":519},[5574],{"type":407,"value":687},{"type":401,"tag":500,"props":5576,"children":5577},{"style":513},[5578],{"type":407,"value":5579},"log",{"type":401,"tag":500,"props":5581,"children":5582},{"style":577},[5583],{"type":407,"value":522},{"type":401,"tag":500,"props":5585,"children":5586},{"style":817},[5587],{"type":407,"value":831},{"type":401,"tag":500,"props":5589,"children":5590},{"style":823},[5591],{"type":407,"value":5592},"I'm callback",{"type":401,"tag":500,"props":5594,"children":5595},{"style":817},[5596],{"type":407,"value":831},{"type":401,"tag":500,"props":5598,"children":5599},{"style":577},[5600],{"type":407,"value":543},{"type":401,"tag":500,"props":5602,"children":5603},{"style":519},[5604],{"type":407,"value":592},{"type":401,"tag":500,"props":5606,"children":5607},{"class":502,"line":717},[5608],{"type":401,"tag":500,"props":5609,"children":5610},{"style":519},[5611],{"type":407,"value":3325},{"type":401,"tag":500,"props":5613,"children":5614},{"class":502,"line":756},[5615],{"type":401,"tag":500,"props":5616,"children":5617},{"style":519},[5618],{"type":407,"value":5530},{"type":401,"tag":500,"props":5620,"children":5621},{"class":502,"line":787},[5622,5626,5630],{"type":401,"tag":500,"props":5623,"children":5624},{"style":519},[5625],{"type":407,"value":2349},{"type":401,"tag":500,"props":5627,"children":5628},{"style":555},[5629],{"type":407,"value":543},{"type":401,"tag":500,"props":5631,"children":5632},{"style":519},[5633],{"type":407,"value":592},{"type":401,"tag":434,"props":5635,"children":5636},{},[5637],{"type":407,"value":5638},"这个 watch 不就是（尝试）给 data.b 设置响应式属性么... 所以说依赖就是 Vue 实例与响应式属性之间的对应关系。Watcher 保存了这种关系，还保存了响应式数据、回调函数等一些额外信息。我们看 Watcher 的构造器：",{"type":401,"tag":440,"props":5640,"children":5642},{"code":5641,"language":493,"meta":394,"className":494,"style":394},"class Watcher {\n  constructor(vm, expOrFn, cb, options, isRenderWatcher) {\n    // vm 即 Vue 实例\n    this.vm = vm;\n    if (isRenderWatcher) {\n      vm._watcher = this;\n    }\n    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n    vm._watchers.push(this);\n\n    // options\n    if (options) {\n      this.deep = !!options.deep;\n      this.user = !!options.user;\n      this.lazy = !!options.lazy;\n      this.sync = !!options.sync;\n      this.before = options.before;\n    } else {\n      this.deep = this.user = this.lazy = this.sync = false;\n    }\n    this.cb = cb;\n    this.id = ++uid; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = [];\n    this.newDeps = [];\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n     */\n    this.expression =\n      process.env.NODE_ENV !== \"production\" ? expOrFn.toString() : \"\";\n    // parse expression for getter\n    if (typeof expOrFn === \"function\") {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n      this.getter = parsePath(expOrFn);\n    }\n\n    this.value = this.lazy ? undefined : this.get();\n  }\n}\n",[5643],{"type":401,"tag":445,"props":5644,"children":5645},{"__ignoreMap":394},[5646,5661,5720,5728,5755,5779,5808,5815,5823,5864,5871,5879,5903,5943,5982,6022,6062,6098,6113,6188,6195,6223,6261,6289,6330,6358,6386,6423,6459,6466,6474,6482,6490,6510,6585,6593,6637,6664,6679,6687,6728,6735,6742,6807,6814],{"type":401,"tag":500,"props":5647,"children":5648},{"class":502,"line":503},[5649,5653,5657],{"type":401,"tag":500,"props":5650,"children":5651},{"style":507},[5652],{"type":407,"value":638},{"type":401,"tag":500,"props":5654,"children":5655},{"style":641},[5656],{"type":407,"value":4868},{"type":401,"tag":500,"props":5658,"children":5659},{"style":519},[5660],{"type":407,"value":548},{"type":401,"tag":500,"props":5662,"children":5663},{"class":502,"line":551},[5664,5668,5672,5676,5680,5685,5689,5694,5698,5703,5707,5712,5716],{"type":401,"tag":500,"props":5665,"children":5666},{"style":507},[5667],{"type":407,"value":656},{"type":401,"tag":500,"props":5669,"children":5670},{"style":519},[5671],{"type":407,"value":522},{"type":401,"tag":500,"props":5673,"children":5674},{"style":525},[5675],{"type":407,"value":4988},{"type":401,"tag":500,"props":5677,"children":5678},{"style":519},[5679],{"type":407,"value":533},{"type":401,"tag":500,"props":5681,"children":5682},{"style":525},[5683],{"type":407,"value":5684}," expOrFn",{"type":401,"tag":500,"props":5686,"children":5687},{"style":519},[5688],{"type":407,"value":533},{"type":401,"tag":500,"props":5690,"children":5691},{"style":525},[5692],{"type":407,"value":5693}," cb",{"type":401,"tag":500,"props":5695,"children":5696},{"style":519},[5697],{"type":407,"value":533},{"type":401,"tag":500,"props":5699,"children":5700},{"style":525},[5701],{"type":407,"value":5702}," options",{"type":401,"tag":500,"props":5704,"children":5705},{"style":519},[5706],{"type":407,"value":533},{"type":401,"tag":500,"props":5708,"children":5709},{"style":525},[5710],{"type":407,"value":5711}," isRenderWatcher",{"type":401,"tag":500,"props":5713,"children":5714},{"style":519},[5715],{"type":407,"value":543},{"type":401,"tag":500,"props":5717,"children":5718},{"style":519},[5719],{"type":407,"value":548},{"type":401,"tag":500,"props":5721,"children":5722},{"class":502,"line":595},[5723],{"type":401,"tag":500,"props":5724,"children":5725},{"style":711},[5726],{"type":407,"value":5727},"    // vm 即 Vue 实例\n",{"type":401,"tag":500,"props":5729,"children":5730},{"class":502,"line":614},[5731,5735,5739,5743,5747,5751],{"type":401,"tag":500,"props":5732,"children":5733},{"style":679},[5734],{"type":407,"value":682},{"type":401,"tag":500,"props":5736,"children":5737},{"style":519},[5738],{"type":407,"value":687},{"type":401,"tag":500,"props":5740,"children":5741},{"style":555},[5742],{"type":407,"value":4988},{"type":401,"tag":500,"props":5744,"children":5745},{"style":561},[5746],{"type":407,"value":564},{"type":401,"tag":500,"props":5748,"children":5749},{"style":555},[5750],{"type":407,"value":4971},{"type":401,"tag":500,"props":5752,"children":5753},{"style":519},[5754],{"type":407,"value":592},{"type":401,"tag":500,"props":5756,"children":5757},{"class":502,"line":623},[5758,5762,5766,5771,5775],{"type":401,"tag":500,"props":5759,"children":5760},{"style":599},[5761],{"type":407,"value":875},{"type":401,"tag":500,"props":5763,"children":5764},{"style":577},[5765],{"type":407,"value":880},{"type":401,"tag":500,"props":5767,"children":5768},{"style":555},[5769],{"type":407,"value":5770},"isRenderWatcher",{"type":401,"tag":500,"props":5772,"children":5773},{"style":577},[5774],{"type":407,"value":935},{"type":401,"tag":500,"props":5776,"children":5777},{"style":519},[5778],{"type":407,"value":912},{"type":401,"tag":500,"props":5780,"children":5781},{"class":502,"line":632},[5782,5787,5791,5796,5800,5804],{"type":401,"tag":500,"props":5783,"children":5784},{"style":555},[5785],{"type":407,"value":5786},"      vm",{"type":401,"tag":500,"props":5788,"children":5789},{"style":519},[5790],{"type":407,"value":687},{"type":401,"tag":500,"props":5792,"children":5793},{"style":555},[5794],{"type":407,"value":5795},"_watcher",{"type":401,"tag":500,"props":5797,"children":5798},{"style":561},[5799],{"type":407,"value":564},{"type":401,"tag":500,"props":5801,"children":5802},{"style":679},[5803],{"type":407,"value":840},{"type":401,"tag":500,"props":5805,"children":5806},{"style":519},[5807],{"type":407,"value":592},{"type":401,"tag":500,"props":5809,"children":5810},{"class":502,"line":650},[5811],{"type":401,"tag":500,"props":5812,"children":5813},{"style":519},[5814],{"type":407,"value":1135},{"type":401,"tag":500,"props":5816,"children":5817},{"class":502,"line":675},[5818],{"type":401,"tag":500,"props":5819,"children":5820},{"style":711},[5821],{"type":407,"value":5822},"    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n",{"type":401,"tag":500,"props":5824,"children":5825},{"class":502,"line":707},[5826,5831,5835,5840,5844,5848,5852,5856,5860],{"type":401,"tag":500,"props":5827,"children":5828},{"style":555},[5829],{"type":407,"value":5830},"    vm",{"type":401,"tag":500,"props":5832,"children":5833},{"style":519},[5834],{"type":407,"value":687},{"type":401,"tag":500,"props":5836,"children":5837},{"style":555},[5838],{"type":407,"value":5839},"_watchers",{"type":401,"tag":500,"props":5841,"children":5842},{"style":519},[5843],{"type":407,"value":687},{"type":401,"tag":500,"props":5845,"children":5846},{"style":513},[5847],{"type":407,"value":1608},{"type":401,"tag":500,"props":5849,"children":5850},{"style":577},[5851],{"type":407,"value":522},{"type":401,"tag":500,"props":5853,"children":5854},{"style":679},[5855],{"type":407,"value":1952},{"type":401,"tag":500,"props":5857,"children":5858},{"style":577},[5859],{"type":407,"value":543},{"type":401,"tag":500,"props":5861,"children":5862},{"style":519},[5863],{"type":407,"value":592},{"type":401,"tag":500,"props":5865,"children":5866},{"class":502,"line":717},[5867],{"type":401,"tag":500,"props":5868,"children":5869},{"emptyLinePlaceholder":393},[5870],{"type":407,"value":629},{"type":401,"tag":500,"props":5872,"children":5873},{"class":502,"line":756},[5874],{"type":401,"tag":500,"props":5875,"children":5876},{"style":711},[5877],{"type":407,"value":5878},"    // options\n",{"type":401,"tag":500,"props":5880,"children":5881},{"class":502,"line":787},[5882,5886,5890,5895,5899],{"type":401,"tag":500,"props":5883,"children":5884},{"style":599},[5885],{"type":407,"value":875},{"type":401,"tag":500,"props":5887,"children":5888},{"style":577},[5889],{"type":407,"value":880},{"type":401,"tag":500,"props":5891,"children":5892},{"style":555},[5893],{"type":407,"value":5894},"options",{"type":401,"tag":500,"props":5896,"children":5897},{"style":577},[5898],{"type":407,"value":935},{"type":401,"tag":500,"props":5900,"children":5901},{"style":519},[5902],{"type":407,"value":912},{"type":401,"tag":500,"props":5904,"children":5905},{"class":502,"line":796},[5906,5910,5914,5918,5922,5927,5931,5935,5939],{"type":401,"tag":500,"props":5907,"children":5908},{"style":679},[5909],{"type":407,"value":1051},{"type":401,"tag":500,"props":5911,"children":5912},{"style":519},[5913],{"type":407,"value":687},{"type":401,"tag":500,"props":5915,"children":5916},{"style":555},[5917],{"type":407,"value":5303},{"type":401,"tag":500,"props":5919,"children":5920},{"style":561},[5921],{"type":407,"value":564},{"type":401,"tag":500,"props":5923,"children":5924},{"style":561},[5925],{"type":407,"value":5926}," !!",{"type":401,"tag":500,"props":5928,"children":5929},{"style":555},[5930],{"type":407,"value":5894},{"type":401,"tag":500,"props":5932,"children":5933},{"style":519},[5934],{"type":407,"value":687},{"type":401,"tag":500,"props":5936,"children":5937},{"style":555},[5938],{"type":407,"value":5303},{"type":401,"tag":500,"props":5940,"children":5941},{"style":519},[5942],{"type":407,"value":592},{"type":401,"tag":500,"props":5944,"children":5945},{"class":502,"line":851},[5946,5950,5954,5958,5962,5966,5970,5974,5978],{"type":401,"tag":500,"props":5947,"children":5948},{"style":679},[5949],{"type":407,"value":1051},{"type":401,"tag":500,"props":5951,"children":5952},{"style":519},[5953],{"type":407,"value":687},{"type":401,"tag":500,"props":5955,"children":5956},{"style":555},[5957],{"type":407,"value":5121},{"type":401,"tag":500,"props":5959,"children":5960},{"style":561},[5961],{"type":407,"value":564},{"type":401,"tag":500,"props":5963,"children":5964},{"style":561},[5965],{"type":407,"value":5926},{"type":401,"tag":500,"props":5967,"children":5968},{"style":555},[5969],{"type":407,"value":5894},{"type":401,"tag":500,"props":5971,"children":5972},{"style":519},[5973],{"type":407,"value":687},{"type":401,"tag":500,"props":5975,"children":5976},{"style":555},[5977],{"type":407,"value":5121},{"type":401,"tag":500,"props":5979,"children":5980},{"style":519},[5981],{"type":407,"value":592},{"type":401,"tag":500,"props":5983,"children":5984},{"class":502,"line":860},[5985,5989,5993,5998,6002,6006,6010,6014,6018],{"type":401,"tag":500,"props":5986,"children":5987},{"style":679},[5988],{"type":407,"value":1051},{"type":401,"tag":500,"props":5990,"children":5991},{"style":519},[5992],{"type":407,"value":687},{"type":401,"tag":500,"props":5994,"children":5995},{"style":555},[5996],{"type":407,"value":5997},"lazy",{"type":401,"tag":500,"props":5999,"children":6000},{"style":561},[6001],{"type":407,"value":564},{"type":401,"tag":500,"props":6003,"children":6004},{"style":561},[6005],{"type":407,"value":5926},{"type":401,"tag":500,"props":6007,"children":6008},{"style":555},[6009],{"type":407,"value":5894},{"type":401,"tag":500,"props":6011,"children":6012},{"style":519},[6013],{"type":407,"value":687},{"type":401,"tag":500,"props":6015,"children":6016},{"style":555},[6017],{"type":407,"value":5997},{"type":401,"tag":500,"props":6019,"children":6020},{"style":519},[6021],{"type":407,"value":592},{"type":401,"tag":500,"props":6023,"children":6024},{"class":502,"line":869},[6025,6029,6033,6038,6042,6046,6050,6054,6058],{"type":401,"tag":500,"props":6026,"children":6027},{"style":679},[6028],{"type":407,"value":1051},{"type":401,"tag":500,"props":6030,"children":6031},{"style":519},[6032],{"type":407,"value":687},{"type":401,"tag":500,"props":6034,"children":6035},{"style":555},[6036],{"type":407,"value":6037},"sync",{"type":401,"tag":500,"props":6039,"children":6040},{"style":561},[6041],{"type":407,"value":564},{"type":401,"tag":500,"props":6043,"children":6044},{"style":561},[6045],{"type":407,"value":5926},{"type":401,"tag":500,"props":6047,"children":6048},{"style":555},[6049],{"type":407,"value":5894},{"type":401,"tag":500,"props":6051,"children":6052},{"style":519},[6053],{"type":407,"value":687},{"type":401,"tag":500,"props":6055,"children":6056},{"style":555},[6057],{"type":407,"value":6037},{"type":401,"tag":500,"props":6059,"children":6060},{"style":519},[6061],{"type":407,"value":592},{"type":401,"tag":500,"props":6063,"children":6064},{"class":502,"line":915},[6065,6069,6073,6078,6082,6086,6090,6094],{"type":401,"tag":500,"props":6066,"children":6067},{"style":679},[6068],{"type":407,"value":1051},{"type":401,"tag":500,"props":6070,"children":6071},{"style":519},[6072],{"type":407,"value":687},{"type":401,"tag":500,"props":6074,"children":6075},{"style":555},[6076],{"type":407,"value":6077},"before",{"type":401,"tag":500,"props":6079,"children":6080},{"style":561},[6081],{"type":407,"value":564},{"type":401,"tag":500,"props":6083,"children":6084},{"style":555},[6085],{"type":407,"value":5702},{"type":401,"tag":500,"props":6087,"children":6088},{"style":519},[6089],{"type":407,"value":687},{"type":401,"tag":500,"props":6091,"children":6092},{"style":555},[6093],{"type":407,"value":6077},{"type":401,"tag":500,"props":6095,"children":6096},{"style":519},[6097],{"type":407,"value":592},{"type":401,"tag":500,"props":6099,"children":6100},{"class":502,"line":942},[6101,6105,6109],{"type":401,"tag":500,"props":6102,"children":6103},{"style":519},[6104],{"type":407,"value":1085},{"type":401,"tag":500,"props":6106,"children":6107},{"style":599},[6108],{"type":407,"value":987},{"type":401,"tag":500,"props":6110,"children":6111},{"style":519},[6112],{"type":407,"value":548},{"type":401,"tag":500,"props":6114,"children":6115},{"class":502,"line":976},[6116,6120,6124,6128,6132,6136,6140,6144,6148,6152,6156,6160,6164,6168,6172,6176,6180,6184],{"type":401,"tag":500,"props":6117,"children":6118},{"style":679},[6119],{"type":407,"value":1051},{"type":401,"tag":500,"props":6121,"children":6122},{"style":519},[6123],{"type":407,"value":687},{"type":401,"tag":500,"props":6125,"children":6126},{"style":555},[6127],{"type":407,"value":5303},{"type":401,"tag":500,"props":6129,"children":6130},{"style":561},[6131],{"type":407,"value":564},{"type":401,"tag":500,"props":6133,"children":6134},{"style":679},[6135],{"type":407,"value":840},{"type":401,"tag":500,"props":6137,"children":6138},{"style":519},[6139],{"type":407,"value":687},{"type":401,"tag":500,"props":6141,"children":6142},{"style":555},[6143],{"type":407,"value":5121},{"type":401,"tag":500,"props":6145,"children":6146},{"style":561},[6147],{"type":407,"value":564},{"type":401,"tag":500,"props":6149,"children":6150},{"style":679},[6151],{"type":407,"value":840},{"type":401,"tag":500,"props":6153,"children":6154},{"style":519},[6155],{"type":407,"value":687},{"type":401,"tag":500,"props":6157,"children":6158},{"style":555},[6159],{"type":407,"value":5997},{"type":401,"tag":500,"props":6161,"children":6162},{"style":561},[6163],{"type":407,"value":564},{"type":401,"tag":500,"props":6165,"children":6166},{"style":679},[6167],{"type":407,"value":840},{"type":401,"tag":500,"props":6169,"children":6170},{"style":519},[6171],{"type":407,"value":687},{"type":401,"tag":500,"props":6173,"children":6174},{"style":555},[6175],{"type":407,"value":6037},{"type":401,"tag":500,"props":6177,"children":6178},{"style":561},[6179],{"type":407,"value":564},{"type":401,"tag":500,"props":6181,"children":6182},{"style":2597},[6183],{"type":407,"value":2600},{"type":401,"tag":500,"props":6185,"children":6186},{"style":519},[6187],{"type":407,"value":592},{"type":401,"tag":500,"props":6189,"children":6190},{"class":502,"line":994},[6191],{"type":401,"tag":500,"props":6192,"children":6193},{"style":519},[6194],{"type":407,"value":1135},{"type":401,"tag":500,"props":6196,"children":6197},{"class":502,"line":1036},[6198,6202,6206,6211,6215,6219],{"type":401,"tag":500,"props":6199,"children":6200},{"style":679},[6201],{"type":407,"value":682},{"type":401,"tag":500,"props":6203,"children":6204},{"style":519},[6205],{"type":407,"value":687},{"type":401,"tag":500,"props":6207,"children":6208},{"style":555},[6209],{"type":407,"value":6210},"cb",{"type":401,"tag":500,"props":6212,"children":6213},{"style":561},[6214],{"type":407,"value":564},{"type":401,"tag":500,"props":6216,"children":6217},{"style":555},[6218],{"type":407,"value":5693},{"type":401,"tag":500,"props":6220,"children":6221},{"style":519},[6222],{"type":407,"value":592},{"type":401,"tag":500,"props":6224,"children":6225},{"class":502,"line":1045},[6226,6230,6234,6238,6242,6247,6252,6256],{"type":401,"tag":500,"props":6227,"children":6228},{"style":679},[6229],{"type":407,"value":682},{"type":401,"tag":500,"props":6231,"children":6232},{"style":519},[6233],{"type":407,"value":687},{"type":401,"tag":500,"props":6235,"children":6236},{"style":555},[6237],{"type":407,"value":3988},{"type":401,"tag":500,"props":6239,"children":6240},{"style":561},[6241],{"type":407,"value":564},{"type":401,"tag":500,"props":6243,"children":6244},{"style":561},[6245],{"type":407,"value":6246}," ++",{"type":401,"tag":500,"props":6248,"children":6249},{"style":555},[6250],{"type":407,"value":6251},"uid",{"type":401,"tag":500,"props":6253,"children":6254},{"style":519},[6255],{"type":407,"value":1264},{"type":401,"tag":500,"props":6257,"children":6258},{"style":711},[6259],{"type":407,"value":6260}," // uid for batching\n",{"type":401,"tag":500,"props":6262,"children":6263},{"class":502,"line":1079},[6264,6268,6272,6277,6281,6285],{"type":401,"tag":500,"props":6265,"children":6266},{"style":679},[6267],{"type":407,"value":682},{"type":401,"tag":500,"props":6269,"children":6270},{"style":519},[6271],{"type":407,"value":687},{"type":401,"tag":500,"props":6273,"children":6274},{"style":555},[6275],{"type":407,"value":6276},"active",{"type":401,"tag":500,"props":6278,"children":6279},{"style":561},[6280],{"type":407,"value":564},{"type":401,"tag":500,"props":6282,"children":6283},{"style":2597},[6284],{"type":407,"value":2976},{"type":401,"tag":500,"props":6286,"children":6287},{"style":519},[6288],{"type":407,"value":592},{"type":401,"tag":500,"props":6290,"children":6291},{"class":502,"line":1096},[6292,6296,6300,6305,6309,6313,6317,6321,6325],{"type":401,"tag":500,"props":6293,"children":6294},{"style":679},[6295],{"type":407,"value":682},{"type":401,"tag":500,"props":6297,"children":6298},{"style":519},[6299],{"type":407,"value":687},{"type":401,"tag":500,"props":6301,"children":6302},{"style":555},[6303],{"type":407,"value":6304},"dirty",{"type":401,"tag":500,"props":6306,"children":6307},{"style":561},[6308],{"type":407,"value":564},{"type":401,"tag":500,"props":6310,"children":6311},{"style":679},[6312],{"type":407,"value":840},{"type":401,"tag":500,"props":6314,"children":6315},{"style":519},[6316],{"type":407,"value":687},{"type":401,"tag":500,"props":6318,"children":6319},{"style":555},[6320],{"type":407,"value":5997},{"type":401,"tag":500,"props":6322,"children":6323},{"style":519},[6324],{"type":407,"value":1264},{"type":401,"tag":500,"props":6326,"children":6327},{"style":711},[6328],{"type":407,"value":6329}," // for lazy watchers\n",{"type":401,"tag":500,"props":6331,"children":6332},{"class":502,"line":1129},[6333,6337,6341,6346,6350,6354],{"type":401,"tag":500,"props":6334,"children":6335},{"style":679},[6336],{"type":407,"value":682},{"type":401,"tag":500,"props":6338,"children":6339},{"style":519},[6340],{"type":407,"value":687},{"type":401,"tag":500,"props":6342,"children":6343},{"style":555},[6344],{"type":407,"value":6345},"deps",{"type":401,"tag":500,"props":6347,"children":6348},{"style":561},[6349],{"type":407,"value":564},{"type":401,"tag":500,"props":6351,"children":6352},{"style":577},[6353],{"type":407,"value":4030},{"type":401,"tag":500,"props":6355,"children":6356},{"style":519},[6357],{"type":407,"value":592},{"type":401,"tag":500,"props":6359,"children":6360},{"class":502,"line":1138},[6361,6365,6369,6374,6378,6382],{"type":401,"tag":500,"props":6362,"children":6363},{"style":679},[6364],{"type":407,"value":682},{"type":401,"tag":500,"props":6366,"children":6367},{"style":519},[6368],{"type":407,"value":687},{"type":401,"tag":500,"props":6370,"children":6371},{"style":555},[6372],{"type":407,"value":6373},"newDeps",{"type":401,"tag":500,"props":6375,"children":6376},{"style":561},[6377],{"type":407,"value":564},{"type":401,"tag":500,"props":6379,"children":6380},{"style":577},[6381],{"type":407,"value":4030},{"type":401,"tag":500,"props":6383,"children":6384},{"style":519},[6385],{"type":407,"value":592},{"type":401,"tag":500,"props":6387,"children":6388},{"class":502,"line":1147},[6389,6393,6397,6402,6406,6410,6415,6419],{"type":401,"tag":500,"props":6390,"children":6391},{"style":679},[6392],{"type":407,"value":682},{"type":401,"tag":500,"props":6394,"children":6395},{"style":519},[6396],{"type":407,"value":687},{"type":401,"tag":500,"props":6398,"children":6399},{"style":555},[6400],{"type":407,"value":6401},"depIds",{"type":401,"tag":500,"props":6403,"children":6404},{"style":561},[6405],{"type":407,"value":564},{"type":401,"tag":500,"props":6407,"children":6408},{"style":561},[6409],{"type":407,"value":569},{"type":401,"tag":500,"props":6411,"children":6412},{"style":513},[6413],{"type":407,"value":6414}," Set",{"type":401,"tag":500,"props":6416,"children":6417},{"style":577},[6418],{"type":407,"value":749},{"type":401,"tag":500,"props":6420,"children":6421},{"style":519},[6422],{"type":407,"value":592},{"type":401,"tag":500,"props":6424,"children":6425},{"class":502,"line":1155},[6426,6430,6434,6439,6443,6447,6451,6455],{"type":401,"tag":500,"props":6427,"children":6428},{"style":679},[6429],{"type":407,"value":682},{"type":401,"tag":500,"props":6431,"children":6432},{"style":519},[6433],{"type":407,"value":687},{"type":401,"tag":500,"props":6435,"children":6436},{"style":555},[6437],{"type":407,"value":6438},"newDepIds",{"type":401,"tag":500,"props":6440,"children":6441},{"style":561},[6442],{"type":407,"value":564},{"type":401,"tag":500,"props":6444,"children":6445},{"style":561},[6446],{"type":407,"value":569},{"type":401,"tag":500,"props":6448,"children":6449},{"style":513},[6450],{"type":407,"value":6414},{"type":401,"tag":500,"props":6452,"children":6453},{"style":577},[6454],{"type":407,"value":749},{"type":401,"tag":500,"props":6456,"children":6457},{"style":519},[6458],{"type":407,"value":592},{"type":401,"tag":500,"props":6460,"children":6461},{"class":502,"line":1182},[6462],{"type":401,"tag":500,"props":6463,"children":6464},{"emptyLinePlaceholder":393},[6465],{"type":407,"value":629},{"type":401,"tag":500,"props":6467,"children":6468},{"class":502,"line":1231},[6469],{"type":401,"tag":500,"props":6470,"children":6471},{"style":711},[6472],{"type":407,"value":6473},"    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n",{"type":401,"tag":500,"props":6475,"children":6476},{"class":502,"line":1310},[6477],{"type":401,"tag":500,"props":6478,"children":6479},{"style":711},[6480],{"type":407,"value":6481},"     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n",{"type":401,"tag":500,"props":6483,"children":6484},{"class":502,"line":1354},[6485],{"type":401,"tag":500,"props":6486,"children":6487},{"style":711},[6488],{"type":407,"value":6489},"     */\n",{"type":401,"tag":500,"props":6491,"children":6492},{"class":502,"line":1362},[6493,6497,6501,6505],{"type":401,"tag":500,"props":6494,"children":6495},{"style":679},[6496],{"type":407,"value":682},{"type":401,"tag":500,"props":6498,"children":6499},{"style":519},[6500],{"type":407,"value":687},{"type":401,"tag":500,"props":6502,"children":6503},{"style":555},[6504],{"type":407,"value":5187},{"type":401,"tag":500,"props":6506,"children":6507},{"style":561},[6508],{"type":407,"value":6509}," =\n",{"type":401,"tag":500,"props":6511,"children":6512},{"class":502,"line":1370},[6513,6518,6522,6526,6530,6534,6538,6542,6546,6550,6554,6558,6562,6567,6572,6576,6581],{"type":401,"tag":500,"props":6514,"children":6515},{"style":555},[6516],{"type":407,"value":6517},"      process",{"type":401,"tag":500,"props":6519,"children":6520},{"style":519},[6521],{"type":407,"value":687},{"type":401,"tag":500,"props":6523,"children":6524},{"style":555},[6525],{"type":407,"value":3558},{"type":401,"tag":500,"props":6527,"children":6528},{"style":519},[6529],{"type":407,"value":687},{"type":401,"tag":500,"props":6531,"children":6532},{"style":1191},[6533],{"type":407,"value":3567},{"type":401,"tag":500,"props":6535,"children":6536},{"style":561},[6537],{"type":407,"value":3473},{"type":401,"tag":500,"props":6539,"children":6540},{"style":817},[6541],{"type":407,"value":820},{"type":401,"tag":500,"props":6543,"children":6544},{"style":823},[6545],{"type":407,"value":3580},{"type":401,"tag":500,"props":6547,"children":6548},{"style":817},[6549],{"type":407,"value":831},{"type":401,"tag":500,"props":6551,"children":6552},{"style":561},[6553],{"type":407,"value":3054},{"type":401,"tag":500,"props":6555,"children":6556},{"style":555},[6557],{"type":407,"value":5684},{"type":401,"tag":500,"props":6559,"children":6560},{"style":519},[6561],{"type":407,"value":687},{"type":401,"tag":500,"props":6563,"children":6564},{"style":513},[6565],{"type":407,"value":6566},"toString",{"type":401,"tag":500,"props":6568,"children":6569},{"style":577},[6570],{"type":407,"value":6571},"() ",{"type":401,"tag":500,"props":6573,"children":6574},{"style":561},[6575],{"type":407,"value":2971},{"type":401,"tag":500,"props":6577,"children":6578},{"style":817},[6579],{"type":407,"value":6580}," \"\"",{"type":401,"tag":500,"props":6582,"children":6583},{"style":519},[6584],{"type":407,"value":592},{"type":401,"tag":500,"props":6586,"children":6587},{"class":502,"line":1378},[6588],{"type":401,"tag":500,"props":6589,"children":6590},{"style":711},[6591],{"type":407,"value":6592},"    // parse expression for getter\n",{"type":401,"tag":500,"props":6594,"children":6595},{"class":502,"line":1404},[6596,6600,6604,6609,6613,6617,6621,6625,6629,6633],{"type":401,"tag":500,"props":6597,"children":6598},{"style":599},[6599],{"type":407,"value":875},{"type":401,"tag":500,"props":6601,"children":6602},{"style":577},[6603],{"type":407,"value":880},{"type":401,"tag":500,"props":6605,"children":6606},{"style":561},[6607],{"type":407,"value":6608},"typeof",{"type":401,"tag":500,"props":6610,"children":6611},{"style":555},[6612],{"type":407,"value":5684},{"type":401,"tag":500,"props":6614,"children":6615},{"style":561},[6616],{"type":407,"value":2594},{"type":401,"tag":500,"props":6618,"children":6619},{"style":817},[6620],{"type":407,"value":820},{"type":401,"tag":500,"props":6622,"children":6623},{"style":823},[6624],{"type":407,"value":510},{"type":401,"tag":500,"props":6626,"children":6627},{"style":817},[6628],{"type":407,"value":831},{"type":401,"tag":500,"props":6630,"children":6631},{"style":577},[6632],{"type":407,"value":935},{"type":401,"tag":500,"props":6634,"children":6635},{"style":519},[6636],{"type":407,"value":912},{"type":401,"tag":500,"props":6638,"children":6639},{"class":502,"line":1494},[6640,6644,6648,6652,6656,6660],{"type":401,"tag":500,"props":6641,"children":6642},{"style":679},[6643],{"type":407,"value":1051},{"type":401,"tag":500,"props":6645,"children":6646},{"style":519},[6647],{"type":407,"value":687},{"type":401,"tag":500,"props":6649,"children":6650},{"style":555},[6651],{"type":407,"value":2753},{"type":401,"tag":500,"props":6653,"children":6654},{"style":561},[6655],{"type":407,"value":564},{"type":401,"tag":500,"props":6657,"children":6658},{"style":555},[6659],{"type":407,"value":5684},{"type":401,"tag":500,"props":6661,"children":6662},{"style":519},[6663],{"type":407,"value":592},{"type":401,"tag":500,"props":6665,"children":6666},{"class":502,"line":1527},[6667,6671,6675],{"type":401,"tag":500,"props":6668,"children":6669},{"style":519},[6670],{"type":407,"value":1085},{"type":401,"tag":500,"props":6672,"children":6673},{"style":599},[6674],{"type":407,"value":987},{"type":401,"tag":500,"props":6676,"children":6677},{"style":519},[6678],{"type":407,"value":548},{"type":401,"tag":500,"props":6680,"children":6681},{"class":502,"line":1535},[6682],{"type":401,"tag":500,"props":6683,"children":6684},{"style":711},[6685],{"type":407,"value":6686},"      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n",{"type":401,"tag":500,"props":6688,"children":6689},{"class":502,"line":1543},[6690,6694,6698,6702,6706,6711,6715,6720,6724],{"type":401,"tag":500,"props":6691,"children":6692},{"style":679},[6693],{"type":407,"value":1051},{"type":401,"tag":500,"props":6695,"children":6696},{"style":519},[6697],{"type":407,"value":687},{"type":401,"tag":500,"props":6699,"children":6700},{"style":555},[6701],{"type":407,"value":2753},{"type":401,"tag":500,"props":6703,"children":6704},{"style":561},[6705],{"type":407,"value":564},{"type":401,"tag":500,"props":6707,"children":6708},{"style":513},[6709],{"type":407,"value":6710}," parsePath",{"type":401,"tag":500,"props":6712,"children":6713},{"style":577},[6714],{"type":407,"value":522},{"type":401,"tag":500,"props":6716,"children":6717},{"style":555},[6718],{"type":407,"value":6719},"expOrFn",{"type":401,"tag":500,"props":6721,"children":6722},{"style":577},[6723],{"type":407,"value":543},{"type":401,"tag":500,"props":6725,"children":6726},{"style":519},[6727],{"type":407,"value":592},{"type":401,"tag":500,"props":6729,"children":6730},{"class":502,"line":3366},[6731],{"type":401,"tag":500,"props":6732,"children":6733},{"style":519},[6734],{"type":407,"value":1135},{"type":401,"tag":500,"props":6736,"children":6737},{"class":502,"line":3426},[6738],{"type":401,"tag":500,"props":6739,"children":6740},{"emptyLinePlaceholder":393},[6741],{"type":407,"value":629},{"type":401,"tag":500,"props":6743,"children":6744},{"class":502,"line":3435},[6745,6749,6753,6757,6761,6765,6769,6773,6777,6782,6787,6791,6795,6799,6803],{"type":401,"tag":500,"props":6746,"children":6747},{"style":679},[6748],{"type":407,"value":682},{"type":401,"tag":500,"props":6750,"children":6751},{"style":519},[6752],{"type":407,"value":687},{"type":401,"tag":500,"props":6754,"children":6755},{"style":555},[6756],{"type":407,"value":528},{"type":401,"tag":500,"props":6758,"children":6759},{"style":561},[6760],{"type":407,"value":564},{"type":401,"tag":500,"props":6762,"children":6763},{"style":679},[6764],{"type":407,"value":840},{"type":401,"tag":500,"props":6766,"children":6767},{"style":519},[6768],{"type":407,"value":687},{"type":401,"tag":500,"props":6770,"children":6771},{"style":555},[6772],{"type":407,"value":5997},{"type":401,"tag":500,"props":6774,"children":6775},{"style":561},[6776],{"type":407,"value":3054},{"type":401,"tag":500,"props":6778,"children":6779},{"style":4604},[6780],{"type":407,"value":6781}," undefined",{"type":401,"tag":500,"props":6783,"children":6784},{"style":561},[6785],{"type":407,"value":6786}," :",{"type":401,"tag":500,"props":6788,"children":6789},{"style":679},[6790],{"type":407,"value":840},{"type":401,"tag":500,"props":6792,"children":6793},{"style":519},[6794],{"type":407,"value":687},{"type":401,"tag":500,"props":6796,"children":6797},{"style":513},[6798],{"type":407,"value":2686},{"type":401,"tag":500,"props":6800,"children":6801},{"style":577},[6802],{"type":407,"value":749},{"type":401,"tag":500,"props":6804,"children":6805},{"style":519},[6806],{"type":407,"value":592},{"type":401,"tag":500,"props":6808,"children":6809},{"class":502,"line":3505},[6810],{"type":401,"tag":500,"props":6811,"children":6812},{"style":519},[6813],{"type":407,"value":1144},{"type":401,"tag":500,"props":6815,"children":6816},{"class":502,"line":3518},[6817],{"type":401,"tag":500,"props":6818,"children":6819},{"style":519},[6820],{"type":407,"value":620},{"type":401,"tag":434,"props":6822,"children":6823},{},[6824],{"type":407,"value":6825},"Watcher 是组件级别的，如果状态发生了变化，只能通知到组件。再由组件对比内部的虚拟节点的变化。换句话说，Vue 对响应式状态变化侦测只通知到组件，这意味着只要某个属性变化了，相应的组件都会重渲染。",{"type":401,"tag":6827,"props":6828,"children":6829},"hr",{},[],{"type":401,"tag":402,"props":6831,"children":6833},{"id":6832},"阅读更多",[6834],{"type":407,"value":6832},{"type":401,"tag":409,"props":6836,"children":6837},{},[6838,6848],{"type":401,"tag":413,"props":6839,"children":6840},{},[6841],{"type":401,"tag":464,"props":6842,"children":6845},{"href":6843,"rel":6844},"https://book.douban.com/subject/32581281/",[468],[6846],{"type":407,"value":6847},"《深入浅出 VueJS》",{"type":401,"tag":413,"props":6849,"children":6850},{},[6851],{"type":401,"tag":464,"props":6852,"children":6855},{"href":6853,"rel":6854},"http://hcysun.me/vue-design/zh/",[468],[6856],{"type":407,"value":6857},"江山父老能容我 不使人间造孽钱",{"type":401,"tag":6859,"props":6860,"children":6861},"style",{},[6862],{"type":407,"value":6863},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":394,"searchDepth":551,"depth":551,"links":6865},[6866,6867,6868,6874],{"id":404,"depth":551,"text":404},{"id":430,"depth":551,"text":430},{"id":451,"depth":551,"text":451,"children":6869},[6870,6871,6872,6873],{"id":477,"depth":595,"text":477},{"id":1551,"depth":595,"text":1551},{"id":2360,"depth":595,"text":2360},{"id":3918,"depth":595,"text":3918},{"id":6832,"depth":551,"text":6832},"markdown","content:8.source-code:_js:vue2-source:1.observer.md","content","8.source-code/_js/vue2-source/1.observer.md","md",[6881,6884],{"_path":6882,"title":6883,"description":396},"/source-code/_js/vue2-source","Vue2 Source",{"_path":6885,"title":6886,"description":396},"/source-code/_js/vue2-source/parser","Vue2 Parser",1718146400048]