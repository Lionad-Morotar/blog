[{"data":1,"prerenderedAt":6881},["Reactive",2],{"navigation":3,"/source-code/_js/vue2-source/observer":383,"/source-code/_js/vue2-source/observer-surround":6874},[4,32,80,96,123,129,135,366,372,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":42,"_path":43},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":45,"_path":46},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":48,"_path":49},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":51,"_path":52},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":54,"_path":55},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":57,"_path":58},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":60,"_path":61},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":63,"_path":64},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":66,"_path":67},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":69,"_path":70},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":72,"_path":73},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":75,"_path":76},"🚝 四十二篇系列","/articles/fourty-two",{"title":78,"_path":79},"📝 技术博客归档","/articles/fold",{"title":81,"_path":82,"children":83},"造物 / Make","/tools",[84,87,90,93],{"title":85,"_path":86},"🌐 AnySort","/tools/anysort",{"title":88,"_path":89},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":91,"_path":92},"👓 Crapto","/tools/crypto-inline",{"title":94,"_path":95},"🖨️ any-to-base64","/tools/any-to-base64",{"title":97,"_path":98,"children":99},"吉他剧场 / Music","/music",[100,102,105,108,111,114,117,120],{"title":101,"_path":98},"🎸 FingerStyle！",{"title":103,"_path":104},"🌬️ 等待的风","/music/wind",{"title":106,"_path":107},"💕 约定的海洋","/music/ocean",{"title":109,"_path":110},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":112,"_path":113},"🌏 残酷天使的行动纲领","/music/eva",{"title":115,"_path":116},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":118,"_path":119},"🍷 Wu Wei","/music/wu-wei",{"title":121,"_path":122},"🌅 无题","/music/untitled",{"title":124,"_path":125,"children":126},"画点什么 / Paint","/paint",[127],{"title":128,"_path":125},"🚧 正在施工",{"title":130,"_path":131,"children":132},"知识地图 / Maps","/maps",[133],{"title":134,"_path":131},"🏁 知识地图",{"title":136,"_path":137,"children":138},"零散的笔记 / Gists","/gists",[139,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363],{"title":140,"_path":137},"🧊 Gists",{"title":142,"_path":143},"网站的可访问性","/gists/accessibility",{"title":145,"_path":146},"图片模糊","/gists/blur",{"title":148,"_path":149},"渲染相关笔记","/gists/c4d",{"title":151,"_path":152},"CDN 问题记录","/gists/cdn",{"title":154,"_path":155},"消毒剂","/gists/cleaner",{"title":157,"_path":158},"Windows Command","/gists/cmd",{"title":160,"_path":161},"Command","/gists/command",{"title":163,"_path":164},"复杂科学","/gists/complexity-science",{"title":166,"_path":167},"宇宙","/gists/cosmos",{"title":169,"_path":170},"C++","/gists/cpp",{"title":172,"_path":173},"Data Structure","/gists/data-structure",{"title":175,"_path":176},"DEPRESSION","/gists/depression",{"title":178,"_path":179},"设计模式","/gists/design-patterns",{"title":181,"_path":182},"Developer Experience","/gists/developer-experience",{"title":184,"_path":185},"Device Metrics","/gists/device-metrix",{"title":187,"_path":188},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":190,"_path":191},"正则表达式","/gists/eegex",{"title":193,"_path":194},"Emoji","/gists/emoji",{"title":196,"_path":197},"工程","/gists/engineering",{"title":199,"_path":200},"熵","/gists/entropy",{"title":202,"_path":203},"Environment","/gists/environment",{"title":205,"_path":206},"Erlang","/gists/erlang",{"title":208,"_path":209},"逃离塔克夫","/gists/escape-from-tarkov",{"title":211,"_path":212},"ESNext (ES6-ES11)","/gists/esnext",{"title":214,"_path":215},"Eval！","/gists/eval",{"title":217,"_path":218},"Flutter","/gists/flutter",{"title":220,"_path":221},"字体","/gists/font",{"title":223,"_path":224},"JS 函数式编程","/gists/functional",{"title":226,"_path":227},"Google C++ Standard","/gists/google-cpp-standard",{"title":229,"_path":230},"双向链接完全体","/gists/graph",{"title":232,"_path":233},"Hardwares","/gists/hardwares",{"title":235,"_path":236},"哈希冲突","/gists/hash-collision",{"title":238,"_path":239},"信息设计","/gists/information-design",{"title":241,"_path":242},"InstantPage","/gists/instant.page",{"title":244,"_path":245},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":247,"_path":248},"KVStore","/gists/key-value-db",{"title":250,"_path":251},"Kubernetes","/gists/kubernetes",{"title":253,"_path":254},"Makefile","/gists/makefile",{"title":256,"_path":257},"Markdown Inline Style","/gists/markdown-nice",{"title":259,"_path":260},"小程序","/gists/miniapp",{"title":262,"_path":263},"减小页面快照体积","/gists/minify-html",{"title":265,"_path":266},"mklink","/gists/mklink",{"title":268,"_path":269},"Mock","/gists/mock",{"title":271,"_path":272},"多端应用","/gists/multy-end-app",{"title":274,"_path":275},"神经科学","/gists/neuroscience",{"title":277,"_path":278},"OO","/gists/oo",{"title":280,"_path":281},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":283,"_path":284},"人物","/gists/person",{"title":286,"_path":287},"PInvoke","/gists/pinvoke",{"title":289,"_path":290},"像素","/gists/pixel",{"title":292,"_path":293},"PowerShell","/gists/powershell",{"title":295,"_path":296},"量子","/gists/quantum",{"title":298,"_path":299},"保持好奇心","/gists/questions",{"title":301,"_path":302},"React Native","/gists/react-native",{"title":304,"_path":305},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":307,"_path":308},"SEO","/gists/seo",{"title":310,"_path":311},"Shader","/gists/shader",{"title":313,"_path":314},"Shape Up","/gists/shape-up",{"title":316,"_path":317},"睡觉","/gists/sleep",{"title":319,"_path":320},"States","/gists/states",{"title":322,"_path":323},"Storage","/gists/storage",{"title":325,"_path":326},"音视频流处理","/gists/stream-cli",{"title":328,"_path":329},"Symbol","/gists/symbol",{"title":331,"_path":332},"系统论","/gists/systems-theory",{"title":334,"_path":335},"Taro","/gists/taro",{"title":337,"_path":338},"任务切片","/gists/task-slice",{"title":340,"_path":341},"技术偏好","/gists/tech-dudge",{"title":343,"_path":344},"Untitled","/gists/untitled",{"title":346,"_path":347},"可变字体","/gists/variable-font",{"title":349,"_path":350},"视觉错觉","/gists/visual-illusion",{"title":352,"_path":353},"SS(SSR)","/gists/vpn",{"title":355,"_path":356},"VS Code 插件开发","/gists/vscode-plugin",{"title":358,"_path":359},"Web Components","/gists/web-components",{"title":361,"_path":362},"Windows","/gists/windows",{"title":364,"_path":365},"查缺补漏","/gists/wrong",{"title":367,"_path":368,"children":369},"代码笔记 / Gists","/source-code",[370],{"title":371,"_path":368},"🚄 代码笔记",{"title":373,"_path":374,"children":375},"我 / Abount","/hire",[376],{"title":377,"_path":374},"📬 技术简历",{"title":379,"_path":380,"children":381},"todo","/todo",[382],{"title":379,"_path":380},{"_path":384,"_dir":385,"_draft":386,"_partial":387,"_locale":388,"title":389,"description":390,"body":391,"_type":6869,"_id":6870,"_source":6871,"_file":6872,"_extension":6873},"/source-code/_js/vue2-source/observer","vue2-source",false,true,"","Vue2 Observer","deprecated warning",{"type":392,"children":393,"toc":6858},"root",[394,402,422,427,433,443,448,468,474,479,484,1543,1548,1553,2352,2357,2362,3910,3915,3920,3925,3930,4526,4531,4539,4544,4834,4839,4844,5429,5434,5628,5633,6815,6820,6824,6829,6852],{"type":395,"tag":396,"props":397,"children":399},"element","h2",{"id":398},"读源码前",[400],{"type":401,"value":398},"text",{"type":395,"tag":403,"props":404,"children":405},"ul",{},[406,412,417],{"type":395,"tag":407,"props":408,"children":409},"li",{},[410],{"type":401,"value":411},"从 GitHub 克隆一份 vue@2 在 dev 上的分支",{"type":395,"tag":407,"props":413,"children":414},{},[415],{"type":401,"value":416},"使用 flow-remove-types 将 src 目录下的 flow 文件转换为普通的 JS",{"type":395,"tag":407,"props":418,"children":419},{},[420],{"type":401,"value":421},"使用 PowerShell 的 tree 指令输出 src 目录的树形结构，以理解源码结构",{"type":395,"tag":396,"props":423,"children":425},{"id":424},"目录结构",[426],{"type":401,"value":424},{"type":395,"tag":428,"props":429,"children":430},"p",{},[431],{"type":401,"value":432},"可以大致根据目录将源码拆分为几个部分：",{"type":395,"tag":434,"props":435,"children":437},"pre",{"code":436},"├─compiler // 模板编译相关\n│  ├─codegen  // 代码生成器\n│  ├─directives // 指令解析器\n│  └─parser // 模板解析器\n├─core  // 核心代码\n│  ├─components // component 相关 API\n│  ├─global-api // 全局 API\n│  ├─instance\n│  │  └─render-helpers\n│  ├─observer // 响应式属性\n│  ├─util // 工具函数\n│  └─vdom // 虚拟节点\n│      ├─helpers\n│      └─modules\n├─platforms // 平台相关代码\n├─server  // 服务端渲染相关代码\n│  ├─bundle-renderer\n│  ├─optimizing-compiler\n│  ├─template-renderer\n│  └─webpack-plugin\n├─sfc // SFC 结构解析器\n└─shared  // 工具函数\n",[438],{"type":395,"tag":439,"props":440,"children":441},"code",{"__ignoreMap":388},[442],{"type":401,"value":436},{"type":395,"tag":396,"props":444,"children":446},{"id":445},"变化侦测",[447],{"type":401,"value":445},{"type":395,"tag":449,"props":450,"children":451},"blockquote",{},[452],{"type":395,"tag":428,"props":453,"children":454},{},[455,457,466],{"type":401,"value":456},"去年读变化侦测的时候，借着项目的机会，实现过一个轻量的状态管理：",{"type":395,"tag":458,"props":459,"children":463},"a",{"href":460,"rel":461},"https://github.com/takecloud/state-vex",[462],"nofollow",[464],{"type":401,"value":465},"state-vex",{"type":401,"value":467},"，用到了 VueJS 响应式绑定相关的一些内容。",{"type":395,"tag":469,"props":470,"children":472},"h3",{"id":471},"侦测类",[473],{"type":401,"value":471},{"type":395,"tag":428,"props":475,"children":476},{},[477],{"type":401,"value":478},"Vue 通过 Observer 把对象的所有属性转化为带有能收集依赖并触发依赖更新的 setter/getter。setter/getter 调用时，分别收集依赖、触发依赖更新。Observer 还能遍历数组元素。但是更新依赖的方法放在了数组原型方法中，比如 Array.prototype.splice，用包装器将其增强，就能在调用时同时调用更新依赖的函数。",{"type":395,"tag":428,"props":480,"children":481},{},[482],{"type":401,"value":483},"简而言之，Observer 使对象“可观测”，即“变化侦测”中的“侦测”。通过 observe 函数，我们能命令式地侦测一个对象。",{"type":395,"tag":434,"props":485,"children":489},{"code":486,"language":487,"meta":388,"className":488,"style":388},"function observe(value, asRootData) {\n  ob = new Observer(value);\n  return ob;\n}\n\nclass Observer {\n  constructor(value) {\n    this.value = value;\n    // 初始化依赖容器\n    this.dep = new Dep();\n    this.vmCount = 0;\n    // 将侦测实例实例挂载到对象上方便访问\n    def(value, \"__ob__\", this);\n    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods);\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys);\n      }\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i \u003C keys.length; i++) {\n      defineReactive(obj, keys[i]);\n    }\n  }\n\n  observeArray(items) {\n    for (let i = 0, l = items.length; i \u003C l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[490],{"type":395,"tag":439,"props":491,"children":492},{"__ignoreMap":388},[493,543,587,606,615,624,642,667,699,709,748,779,788,843,852,861,907,934,968,986,1028,1037,1071,1088,1121,1130,1139,1147,1174,1223,1302,1346,1354,1362,1370,1396,1486,1519,1527,1535],{"type":395,"tag":494,"props":495,"children":498},"span",{"class":496,"line":497},"line",1,[499,505,511,517,523,528,533,538],{"type":395,"tag":494,"props":500,"children":502},{"style":501},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[503],{"type":401,"value":504},"function",{"type":395,"tag":494,"props":506,"children":508},{"style":507},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[509],{"type":401,"value":510}," observe",{"type":395,"tag":494,"props":512,"children":514},{"style":513},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[515],{"type":401,"value":516},"(",{"type":395,"tag":494,"props":518,"children":520},{"style":519},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[521],{"type":401,"value":522},"value",{"type":395,"tag":494,"props":524,"children":525},{"style":513},[526],{"type":401,"value":527},",",{"type":395,"tag":494,"props":529,"children":530},{"style":519},[531],{"type":401,"value":532}," asRootData",{"type":395,"tag":494,"props":534,"children":535},{"style":513},[536],{"type":401,"value":537},")",{"type":395,"tag":494,"props":539,"children":540},{"style":513},[541],{"type":401,"value":542}," {\n",{"type":395,"tag":494,"props":544,"children":546},{"class":496,"line":545},2,[547,553,559,564,569,574,578,582],{"type":395,"tag":494,"props":548,"children":550},{"style":549},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[551],{"type":401,"value":552},"  ob",{"type":395,"tag":494,"props":554,"children":556},{"style":555},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[557],{"type":401,"value":558}," =",{"type":395,"tag":494,"props":560,"children":561},{"style":555},[562],{"type":401,"value":563}," new",{"type":395,"tag":494,"props":565,"children":566},{"style":507},[567],{"type":401,"value":568}," Observer",{"type":395,"tag":494,"props":570,"children":572},{"style":571},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[573],{"type":401,"value":516},{"type":395,"tag":494,"props":575,"children":576},{"style":549},[577],{"type":401,"value":522},{"type":395,"tag":494,"props":579,"children":580},{"style":571},[581],{"type":401,"value":537},{"type":395,"tag":494,"props":583,"children":584},{"style":513},[585],{"type":401,"value":586},";\n",{"type":395,"tag":494,"props":588,"children":590},{"class":496,"line":589},3,[591,597,602],{"type":395,"tag":494,"props":592,"children":594},{"style":593},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[595],{"type":401,"value":596},"  return",{"type":395,"tag":494,"props":598,"children":599},{"style":549},[600],{"type":401,"value":601}," ob",{"type":395,"tag":494,"props":603,"children":604},{"style":513},[605],{"type":401,"value":586},{"type":395,"tag":494,"props":607,"children":609},{"class":496,"line":608},4,[610],{"type":395,"tag":494,"props":611,"children":612},{"style":513},[613],{"type":401,"value":614},"}\n",{"type":395,"tag":494,"props":616,"children":618},{"class":496,"line":617},5,[619],{"type":395,"tag":494,"props":620,"children":621},{"emptyLinePlaceholder":387},[622],{"type":401,"value":623},"\n",{"type":395,"tag":494,"props":625,"children":627},{"class":496,"line":626},6,[628,633,638],{"type":395,"tag":494,"props":629,"children":630},{"style":501},[631],{"type":401,"value":632},"class",{"type":395,"tag":494,"props":634,"children":636},{"style":635},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E;--shiki-light-text-decoration:inherit;--shiki-default-text-decoration:inherit;--shiki-dark-text-decoration:inherit;--shiki-sepia-text-decoration:underline",[637],{"type":401,"value":568},{"type":395,"tag":494,"props":639,"children":640},{"style":513},[641],{"type":401,"value":542},{"type":395,"tag":494,"props":643,"children":645},{"class":496,"line":644},7,[646,651,655,659,663],{"type":395,"tag":494,"props":647,"children":648},{"style":501},[649],{"type":401,"value":650},"  constructor",{"type":395,"tag":494,"props":652,"children":653},{"style":513},[654],{"type":401,"value":516},{"type":395,"tag":494,"props":656,"children":657},{"style":519},[658],{"type":401,"value":522},{"type":395,"tag":494,"props":660,"children":661},{"style":513},[662],{"type":401,"value":537},{"type":395,"tag":494,"props":664,"children":665},{"style":513},[666],{"type":401,"value":542},{"type":395,"tag":494,"props":668,"children":670},{"class":496,"line":669},8,[671,677,682,686,690,695],{"type":395,"tag":494,"props":672,"children":674},{"style":673},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[675],{"type":401,"value":676},"    this",{"type":395,"tag":494,"props":678,"children":679},{"style":513},[680],{"type":401,"value":681},".",{"type":395,"tag":494,"props":683,"children":684},{"style":549},[685],{"type":401,"value":522},{"type":395,"tag":494,"props":687,"children":688},{"style":555},[689],{"type":401,"value":558},{"type":395,"tag":494,"props":691,"children":692},{"style":549},[693],{"type":401,"value":694}," value",{"type":395,"tag":494,"props":696,"children":697},{"style":513},[698],{"type":401,"value":586},{"type":395,"tag":494,"props":700,"children":702},{"class":496,"line":701},9,[703],{"type":395,"tag":494,"props":704,"children":706},{"style":705},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[707],{"type":401,"value":708},"    // 初始化依赖容器\n",{"type":395,"tag":494,"props":710,"children":712},{"class":496,"line":711},10,[713,717,721,726,730,734,739,744],{"type":395,"tag":494,"props":714,"children":715},{"style":673},[716],{"type":401,"value":676},{"type":395,"tag":494,"props":718,"children":719},{"style":513},[720],{"type":401,"value":681},{"type":395,"tag":494,"props":722,"children":723},{"style":549},[724],{"type":401,"value":725},"dep",{"type":395,"tag":494,"props":727,"children":728},{"style":555},[729],{"type":401,"value":558},{"type":395,"tag":494,"props":731,"children":732},{"style":555},[733],{"type":401,"value":563},{"type":395,"tag":494,"props":735,"children":736},{"style":507},[737],{"type":401,"value":738}," Dep",{"type":395,"tag":494,"props":740,"children":741},{"style":571},[742],{"type":401,"value":743},"()",{"type":395,"tag":494,"props":745,"children":746},{"style":513},[747],{"type":401,"value":586},{"type":395,"tag":494,"props":749,"children":751},{"class":496,"line":750},11,[752,756,760,765,769,775],{"type":395,"tag":494,"props":753,"children":754},{"style":673},[755],{"type":401,"value":676},{"type":395,"tag":494,"props":757,"children":758},{"style":513},[759],{"type":401,"value":681},{"type":395,"tag":494,"props":761,"children":762},{"style":549},[763],{"type":401,"value":764},"vmCount",{"type":395,"tag":494,"props":766,"children":767},{"style":555},[768],{"type":401,"value":558},{"type":395,"tag":494,"props":770,"children":772},{"style":771},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[773],{"type":401,"value":774}," 0",{"type":395,"tag":494,"props":776,"children":777},{"style":513},[778],{"type":401,"value":586},{"type":395,"tag":494,"props":780,"children":782},{"class":496,"line":781},12,[783],{"type":395,"tag":494,"props":784,"children":785},{"style":705},[786],{"type":401,"value":787},"    // 将侦测实例实例挂载到对象上方便访问\n",{"type":395,"tag":494,"props":789,"children":791},{"class":496,"line":790},13,[792,797,801,805,809,815,821,826,830,835,839],{"type":395,"tag":494,"props":793,"children":794},{"style":507},[795],{"type":401,"value":796},"    def",{"type":395,"tag":494,"props":798,"children":799},{"style":571},[800],{"type":401,"value":516},{"type":395,"tag":494,"props":802,"children":803},{"style":549},[804],{"type":401,"value":522},{"type":395,"tag":494,"props":806,"children":807},{"style":513},[808],{"type":401,"value":527},{"type":395,"tag":494,"props":810,"children":812},{"style":811},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[813],{"type":401,"value":814}," \"",{"type":395,"tag":494,"props":816,"children":818},{"style":817},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[819],{"type":401,"value":820},"__ob__",{"type":395,"tag":494,"props":822,"children":823},{"style":811},[824],{"type":401,"value":825},"\"",{"type":395,"tag":494,"props":827,"children":828},{"style":513},[829],{"type":401,"value":527},{"type":395,"tag":494,"props":831,"children":832},{"style":673},[833],{"type":401,"value":834}," this",{"type":395,"tag":494,"props":836,"children":837},{"style":571},[838],{"type":401,"value":537},{"type":395,"tag":494,"props":840,"children":841},{"style":513},[842],{"type":401,"value":586},{"type":395,"tag":494,"props":844,"children":846},{"class":496,"line":845},14,[847],{"type":395,"tag":494,"props":848,"children":849},{"style":705},[850],{"type":401,"value":851},"    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n",{"type":395,"tag":494,"props":853,"children":855},{"class":496,"line":854},15,[856],{"type":395,"tag":494,"props":857,"children":858},{"style":705},[859],{"type":401,"value":860},"    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n",{"type":395,"tag":494,"props":862,"children":864},{"class":496,"line":863},16,[865,870,875,880,884,889,893,897,902],{"type":395,"tag":494,"props":866,"children":867},{"style":593},[868],{"type":401,"value":869},"    if",{"type":395,"tag":494,"props":871,"children":872},{"style":571},[873],{"type":401,"value":874}," (",{"type":395,"tag":494,"props":876,"children":877},{"style":549},[878],{"type":401,"value":879},"Array",{"type":395,"tag":494,"props":881,"children":882},{"style":513},[883],{"type":401,"value":681},{"type":395,"tag":494,"props":885,"children":886},{"style":507},[887],{"type":401,"value":888},"isArray",{"type":395,"tag":494,"props":890,"children":891},{"style":571},[892],{"type":401,"value":516},{"type":395,"tag":494,"props":894,"children":895},{"style":549},[896],{"type":401,"value":522},{"type":395,"tag":494,"props":898,"children":899},{"style":571},[900],{"type":401,"value":901},")) ",{"type":395,"tag":494,"props":903,"children":904},{"style":513},[905],{"type":401,"value":906},"{\n",{"type":395,"tag":494,"props":908,"children":910},{"class":496,"line":909},17,[911,916,920,925,930],{"type":395,"tag":494,"props":912,"children":913},{"style":593},[914],{"type":401,"value":915},"      if",{"type":395,"tag":494,"props":917,"children":918},{"style":571},[919],{"type":401,"value":874},{"type":395,"tag":494,"props":921,"children":922},{"style":549},[923],{"type":401,"value":924},"hasProto",{"type":395,"tag":494,"props":926,"children":927},{"style":571},[928],{"type":401,"value":929},") ",{"type":395,"tag":494,"props":931,"children":932},{"style":513},[933],{"type":401,"value":906},{"type":395,"tag":494,"props":935,"children":937},{"class":496,"line":936},18,[938,943,947,951,955,960,964],{"type":395,"tag":494,"props":939,"children":940},{"style":507},[941],{"type":401,"value":942},"        protoAugment",{"type":395,"tag":494,"props":944,"children":945},{"style":571},[946],{"type":401,"value":516},{"type":395,"tag":494,"props":948,"children":949},{"style":549},[950],{"type":401,"value":522},{"type":395,"tag":494,"props":952,"children":953},{"style":513},[954],{"type":401,"value":527},{"type":395,"tag":494,"props":956,"children":957},{"style":549},[958],{"type":401,"value":959}," arrayMethods",{"type":395,"tag":494,"props":961,"children":962},{"style":571},[963],{"type":401,"value":537},{"type":395,"tag":494,"props":965,"children":966},{"style":513},[967],{"type":401,"value":586},{"type":395,"tag":494,"props":969,"children":971},{"class":496,"line":970},19,[972,977,982],{"type":395,"tag":494,"props":973,"children":974},{"style":513},[975],{"type":401,"value":976},"      }",{"type":395,"tag":494,"props":978,"children":979},{"style":593},[980],{"type":401,"value":981}," else",{"type":395,"tag":494,"props":983,"children":984},{"style":513},[985],{"type":401,"value":542},{"type":395,"tag":494,"props":987,"children":989},{"class":496,"line":988},20,[990,995,999,1003,1007,1011,1015,1020,1024],{"type":395,"tag":494,"props":991,"children":992},{"style":507},[993],{"type":401,"value":994},"        copyAugment",{"type":395,"tag":494,"props":996,"children":997},{"style":571},[998],{"type":401,"value":516},{"type":395,"tag":494,"props":1000,"children":1001},{"style":549},[1002],{"type":401,"value":522},{"type":395,"tag":494,"props":1004,"children":1005},{"style":513},[1006],{"type":401,"value":527},{"type":395,"tag":494,"props":1008,"children":1009},{"style":549},[1010],{"type":401,"value":959},{"type":395,"tag":494,"props":1012,"children":1013},{"style":513},[1014],{"type":401,"value":527},{"type":395,"tag":494,"props":1016,"children":1017},{"style":549},[1018],{"type":401,"value":1019}," arrayKeys",{"type":395,"tag":494,"props":1021,"children":1022},{"style":571},[1023],{"type":401,"value":537},{"type":395,"tag":494,"props":1025,"children":1026},{"style":513},[1027],{"type":401,"value":586},{"type":395,"tag":494,"props":1029,"children":1031},{"class":496,"line":1030},21,[1032],{"type":395,"tag":494,"props":1033,"children":1034},{"style":513},[1035],{"type":401,"value":1036},"      }\n",{"type":395,"tag":494,"props":1038,"children":1040},{"class":496,"line":1039},22,[1041,1046,1050,1055,1059,1063,1067],{"type":395,"tag":494,"props":1042,"children":1043},{"style":673},[1044],{"type":401,"value":1045},"      this",{"type":395,"tag":494,"props":1047,"children":1048},{"style":513},[1049],{"type":401,"value":681},{"type":395,"tag":494,"props":1051,"children":1052},{"style":507},[1053],{"type":401,"value":1054},"observeArray",{"type":395,"tag":494,"props":1056,"children":1057},{"style":571},[1058],{"type":401,"value":516},{"type":395,"tag":494,"props":1060,"children":1061},{"style":549},[1062],{"type":401,"value":522},{"type":395,"tag":494,"props":1064,"children":1065},{"style":571},[1066],{"type":401,"value":537},{"type":395,"tag":494,"props":1068,"children":1069},{"style":513},[1070],{"type":401,"value":586},{"type":395,"tag":494,"props":1072,"children":1074},{"class":496,"line":1073},23,[1075,1080,1084],{"type":395,"tag":494,"props":1076,"children":1077},{"style":513},[1078],{"type":401,"value":1079},"    }",{"type":395,"tag":494,"props":1081,"children":1082},{"style":593},[1083],{"type":401,"value":981},{"type":395,"tag":494,"props":1085,"children":1086},{"style":513},[1087],{"type":401,"value":542},{"type":395,"tag":494,"props":1089,"children":1091},{"class":496,"line":1090},24,[1092,1096,1100,1105,1109,1113,1117],{"type":395,"tag":494,"props":1093,"children":1094},{"style":673},[1095],{"type":401,"value":1045},{"type":395,"tag":494,"props":1097,"children":1098},{"style":513},[1099],{"type":401,"value":681},{"type":395,"tag":494,"props":1101,"children":1102},{"style":507},[1103],{"type":401,"value":1104},"walk",{"type":395,"tag":494,"props":1106,"children":1107},{"style":571},[1108],{"type":401,"value":516},{"type":395,"tag":494,"props":1110,"children":1111},{"style":549},[1112],{"type":401,"value":522},{"type":395,"tag":494,"props":1114,"children":1115},{"style":571},[1116],{"type":401,"value":537},{"type":395,"tag":494,"props":1118,"children":1119},{"style":513},[1120],{"type":401,"value":586},{"type":395,"tag":494,"props":1122,"children":1124},{"class":496,"line":1123},25,[1125],{"type":395,"tag":494,"props":1126,"children":1127},{"style":513},[1128],{"type":401,"value":1129},"    }\n",{"type":395,"tag":494,"props":1131,"children":1133},{"class":496,"line":1132},26,[1134],{"type":395,"tag":494,"props":1135,"children":1136},{"style":513},[1137],{"type":401,"value":1138},"  }\n",{"type":395,"tag":494,"props":1140,"children":1142},{"class":496,"line":1141},27,[1143],{"type":395,"tag":494,"props":1144,"children":1145},{"emptyLinePlaceholder":387},[1146],{"type":401,"value":623},{"type":395,"tag":494,"props":1148,"children":1150},{"class":496,"line":1149},28,[1151,1157,1161,1166,1170],{"type":395,"tag":494,"props":1152,"children":1154},{"style":1153},"--shiki-light:#E53935;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1155],{"type":401,"value":1156},"  walk",{"type":395,"tag":494,"props":1158,"children":1159},{"style":513},[1160],{"type":401,"value":516},{"type":395,"tag":494,"props":1162,"children":1163},{"style":519},[1164],{"type":401,"value":1165},"obj",{"type":395,"tag":494,"props":1167,"children":1168},{"style":513},[1169],{"type":401,"value":537},{"type":395,"tag":494,"props":1171,"children":1172},{"style":513},[1173],{"type":401,"value":542},{"type":395,"tag":494,"props":1175,"children":1177},{"class":496,"line":1176},29,[1178,1183,1189,1193,1198,1202,1207,1211,1215,1219],{"type":395,"tag":494,"props":1179,"children":1180},{"style":501},[1181],{"type":401,"value":1182},"    const",{"type":395,"tag":494,"props":1184,"children":1186},{"style":1185},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1187],{"type":401,"value":1188}," keys",{"type":395,"tag":494,"props":1190,"children":1191},{"style":555},[1192],{"type":401,"value":558},{"type":395,"tag":494,"props":1194,"children":1195},{"style":549},[1196],{"type":401,"value":1197}," Object",{"type":395,"tag":494,"props":1199,"children":1200},{"style":513},[1201],{"type":401,"value":681},{"type":395,"tag":494,"props":1203,"children":1204},{"style":507},[1205],{"type":401,"value":1206},"keys",{"type":395,"tag":494,"props":1208,"children":1209},{"style":571},[1210],{"type":401,"value":516},{"type":395,"tag":494,"props":1212,"children":1213},{"style":549},[1214],{"type":401,"value":1165},{"type":395,"tag":494,"props":1216,"children":1217},{"style":571},[1218],{"type":401,"value":537},{"type":395,"tag":494,"props":1220,"children":1221},{"style":513},[1222],{"type":401,"value":586},{"type":395,"tag":494,"props":1224,"children":1226},{"class":496,"line":1225},30,[1227,1232,1236,1241,1246,1250,1254,1259,1263,1268,1272,1276,1281,1285,1289,1294,1298],{"type":395,"tag":494,"props":1228,"children":1229},{"style":593},[1230],{"type":401,"value":1231},"    for",{"type":395,"tag":494,"props":1233,"children":1234},{"style":571},[1235],{"type":401,"value":874},{"type":395,"tag":494,"props":1237,"children":1238},{"style":501},[1239],{"type":401,"value":1240},"let",{"type":395,"tag":494,"props":1242,"children":1243},{"style":549},[1244],{"type":401,"value":1245}," i",{"type":395,"tag":494,"props":1247,"children":1248},{"style":555},[1249],{"type":401,"value":558},{"type":395,"tag":494,"props":1251,"children":1252},{"style":771},[1253],{"type":401,"value":774},{"type":395,"tag":494,"props":1255,"children":1256},{"style":513},[1257],{"type":401,"value":1258},";",{"type":395,"tag":494,"props":1260,"children":1261},{"style":549},[1262],{"type":401,"value":1245},{"type":395,"tag":494,"props":1264,"children":1265},{"style":555},[1266],{"type":401,"value":1267}," \u003C",{"type":395,"tag":494,"props":1269,"children":1270},{"style":549},[1271],{"type":401,"value":1188},{"type":395,"tag":494,"props":1273,"children":1274},{"style":513},[1275],{"type":401,"value":681},{"type":395,"tag":494,"props":1277,"children":1278},{"style":1185},[1279],{"type":401,"value":1280},"length",{"type":395,"tag":494,"props":1282,"children":1283},{"style":513},[1284],{"type":401,"value":1258},{"type":395,"tag":494,"props":1286,"children":1287},{"style":549},[1288],{"type":401,"value":1245},{"type":395,"tag":494,"props":1290,"children":1291},{"style":555},[1292],{"type":401,"value":1293},"++",{"type":395,"tag":494,"props":1295,"children":1296},{"style":571},[1297],{"type":401,"value":929},{"type":395,"tag":494,"props":1299,"children":1300},{"style":513},[1301],{"type":401,"value":906},{"type":395,"tag":494,"props":1303,"children":1305},{"class":496,"line":1304},31,[1306,1311,1315,1319,1323,1327,1332,1337,1342],{"type":395,"tag":494,"props":1307,"children":1308},{"style":507},[1309],{"type":401,"value":1310},"      defineReactive",{"type":395,"tag":494,"props":1312,"children":1313},{"style":571},[1314],{"type":401,"value":516},{"type":395,"tag":494,"props":1316,"children":1317},{"style":549},[1318],{"type":401,"value":1165},{"type":395,"tag":494,"props":1320,"children":1321},{"style":513},[1322],{"type":401,"value":527},{"type":395,"tag":494,"props":1324,"children":1325},{"style":549},[1326],{"type":401,"value":1188},{"type":395,"tag":494,"props":1328,"children":1329},{"style":571},[1330],{"type":401,"value":1331},"[",{"type":395,"tag":494,"props":1333,"children":1334},{"style":549},[1335],{"type":401,"value":1336},"i",{"type":395,"tag":494,"props":1338,"children":1339},{"style":571},[1340],{"type":401,"value":1341},"])",{"type":395,"tag":494,"props":1343,"children":1344},{"style":513},[1345],{"type":401,"value":586},{"type":395,"tag":494,"props":1347,"children":1349},{"class":496,"line":1348},32,[1350],{"type":395,"tag":494,"props":1351,"children":1352},{"style":513},[1353],{"type":401,"value":1129},{"type":395,"tag":494,"props":1355,"children":1357},{"class":496,"line":1356},33,[1358],{"type":395,"tag":494,"props":1359,"children":1360},{"style":513},[1361],{"type":401,"value":1138},{"type":395,"tag":494,"props":1363,"children":1365},{"class":496,"line":1364},34,[1366],{"type":395,"tag":494,"props":1367,"children":1368},{"emptyLinePlaceholder":387},[1369],{"type":401,"value":623},{"type":395,"tag":494,"props":1371,"children":1373},{"class":496,"line":1372},35,[1374,1379,1383,1388,1392],{"type":395,"tag":494,"props":1375,"children":1376},{"style":1153},[1377],{"type":401,"value":1378},"  observeArray",{"type":395,"tag":494,"props":1380,"children":1381},{"style":513},[1382],{"type":401,"value":516},{"type":395,"tag":494,"props":1384,"children":1385},{"style":519},[1386],{"type":401,"value":1387},"items",{"type":395,"tag":494,"props":1389,"children":1390},{"style":513},[1391],{"type":401,"value":537},{"type":395,"tag":494,"props":1393,"children":1394},{"style":513},[1395],{"type":401,"value":542},{"type":395,"tag":494,"props":1397,"children":1399},{"class":496,"line":1398},36,[1400,1404,1408,1412,1416,1420,1424,1428,1433,1437,1442,1446,1450,1454,1458,1462,1466,1470,1474,1478,1482],{"type":395,"tag":494,"props":1401,"children":1402},{"style":593},[1403],{"type":401,"value":1231},{"type":395,"tag":494,"props":1405,"children":1406},{"style":571},[1407],{"type":401,"value":874},{"type":395,"tag":494,"props":1409,"children":1410},{"style":501},[1411],{"type":401,"value":1240},{"type":395,"tag":494,"props":1413,"children":1414},{"style":549},[1415],{"type":401,"value":1245},{"type":395,"tag":494,"props":1417,"children":1418},{"style":555},[1419],{"type":401,"value":558},{"type":395,"tag":494,"props":1421,"children":1422},{"style":771},[1423],{"type":401,"value":774},{"type":395,"tag":494,"props":1425,"children":1426},{"style":513},[1427],{"type":401,"value":527},{"type":395,"tag":494,"props":1429,"children":1430},{"style":549},[1431],{"type":401,"value":1432}," l",{"type":395,"tag":494,"props":1434,"children":1435},{"style":555},[1436],{"type":401,"value":558},{"type":395,"tag":494,"props":1438,"children":1439},{"style":549},[1440],{"type":401,"value":1441}," items",{"type":395,"tag":494,"props":1443,"children":1444},{"style":513},[1445],{"type":401,"value":681},{"type":395,"tag":494,"props":1447,"children":1448},{"style":1185},[1449],{"type":401,"value":1280},{"type":395,"tag":494,"props":1451,"children":1452},{"style":513},[1453],{"type":401,"value":1258},{"type":395,"tag":494,"props":1455,"children":1456},{"style":549},[1457],{"type":401,"value":1245},{"type":395,"tag":494,"props":1459,"children":1460},{"style":555},[1461],{"type":401,"value":1267},{"type":395,"tag":494,"props":1463,"children":1464},{"style":549},[1465],{"type":401,"value":1432},{"type":395,"tag":494,"props":1467,"children":1468},{"style":513},[1469],{"type":401,"value":1258},{"type":395,"tag":494,"props":1471,"children":1472},{"style":549},[1473],{"type":401,"value":1245},{"type":395,"tag":494,"props":1475,"children":1476},{"style":555},[1477],{"type":401,"value":1293},{"type":395,"tag":494,"props":1479,"children":1480},{"style":571},[1481],{"type":401,"value":929},{"type":395,"tag":494,"props":1483,"children":1484},{"style":513},[1485],{"type":401,"value":906},{"type":395,"tag":494,"props":1487,"children":1489},{"class":496,"line":1488},37,[1490,1495,1499,1503,1507,1511,1515],{"type":395,"tag":494,"props":1491,"children":1492},{"style":507},[1493],{"type":401,"value":1494},"      observe",{"type":395,"tag":494,"props":1496,"children":1497},{"style":571},[1498],{"type":401,"value":516},{"type":395,"tag":494,"props":1500,"children":1501},{"style":549},[1502],{"type":401,"value":1387},{"type":395,"tag":494,"props":1504,"children":1505},{"style":571},[1506],{"type":401,"value":1331},{"type":395,"tag":494,"props":1508,"children":1509},{"style":549},[1510],{"type":401,"value":1336},{"type":395,"tag":494,"props":1512,"children":1513},{"style":571},[1514],{"type":401,"value":1341},{"type":395,"tag":494,"props":1516,"children":1517},{"style":513},[1518],{"type":401,"value":586},{"type":395,"tag":494,"props":1520,"children":1522},{"class":496,"line":1521},38,[1523],{"type":395,"tag":494,"props":1524,"children":1525},{"style":513},[1526],{"type":401,"value":1129},{"type":395,"tag":494,"props":1528,"children":1530},{"class":496,"line":1529},39,[1531],{"type":395,"tag":494,"props":1532,"children":1533},{"style":513},[1534],{"type":401,"value":1138},{"type":395,"tag":494,"props":1536,"children":1538},{"class":496,"line":1537},40,[1539],{"type":395,"tag":494,"props":1540,"children":1541},{"style":513},[1542],{"type":401,"value":614},{"type":395,"tag":469,"props":1544,"children":1546},{"id":1545},"监测数组变化",[1547],{"type":401,"value":1545},{"type":395,"tag":428,"props":1549,"children":1550},{},[1551],{"type":401,"value":1552},"因为数组没有 setter/getter，所以使用数组时，没有办法做响应式更新。Vue 以猴子补丁的形式增强了数组元素的原型方法，使得这些方法被调用时，自动更新依赖。",{"type":395,"tag":434,"props":1554,"children":1556},{"code":1555,"language":487,"meta":388,"className":488,"style":388},"// 需要增强的方法\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n    const result = original.apply(this, args);\n    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n    const ob = this.__ob__;\n    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // 通知依赖更新\n    ob.dep.notify();\n    return result;\n  });\n});\n",[1557],{"type":395,"tag":439,"props":1558,"children":1559},{"__ignoreMap":388},[1560,1568,1590,1612,1632,1652,1672,1692,1712,1732,1744,1751,1793,1801,1839,1901,1909,1964,1972,2003,2011,2028,2052,2077,2100,2120,2132,2155,2196,2207,2214,2263,2271,2304,2320,2336],{"type":395,"tag":494,"props":1561,"children":1562},{"class":496,"line":497},[1563],{"type":395,"tag":494,"props":1564,"children":1565},{"style":705},[1566],{"type":401,"value":1567},"// 需要增强的方法\n",{"type":395,"tag":494,"props":1569,"children":1570},{"class":496,"line":545},[1571,1576,1581,1585],{"type":395,"tag":494,"props":1572,"children":1573},{"style":501},[1574],{"type":401,"value":1575},"const",{"type":395,"tag":494,"props":1577,"children":1578},{"style":1185},[1579],{"type":401,"value":1580}," methodsToPatch",{"type":395,"tag":494,"props":1582,"children":1583},{"style":555},[1584],{"type":401,"value":558},{"type":395,"tag":494,"props":1586,"children":1587},{"style":549},[1588],{"type":401,"value":1589}," [\n",{"type":395,"tag":494,"props":1591,"children":1592},{"class":496,"line":589},[1593,1598,1603,1607],{"type":395,"tag":494,"props":1594,"children":1595},{"style":811},[1596],{"type":401,"value":1597},"  \"",{"type":395,"tag":494,"props":1599,"children":1600},{"style":817},[1601],{"type":401,"value":1602},"push",{"type":395,"tag":494,"props":1604,"children":1605},{"style":811},[1606],{"type":401,"value":825},{"type":395,"tag":494,"props":1608,"children":1609},{"style":513},[1610],{"type":401,"value":1611},",\n",{"type":395,"tag":494,"props":1613,"children":1614},{"class":496,"line":608},[1615,1619,1624,1628],{"type":395,"tag":494,"props":1616,"children":1617},{"style":811},[1618],{"type":401,"value":1597},{"type":395,"tag":494,"props":1620,"children":1621},{"style":817},[1622],{"type":401,"value":1623},"pop",{"type":395,"tag":494,"props":1625,"children":1626},{"style":811},[1627],{"type":401,"value":825},{"type":395,"tag":494,"props":1629,"children":1630},{"style":513},[1631],{"type":401,"value":1611},{"type":395,"tag":494,"props":1633,"children":1634},{"class":496,"line":617},[1635,1639,1644,1648],{"type":395,"tag":494,"props":1636,"children":1637},{"style":811},[1638],{"type":401,"value":1597},{"type":395,"tag":494,"props":1640,"children":1641},{"style":817},[1642],{"type":401,"value":1643},"shift",{"type":395,"tag":494,"props":1645,"children":1646},{"style":811},[1647],{"type":401,"value":825},{"type":395,"tag":494,"props":1649,"children":1650},{"style":513},[1651],{"type":401,"value":1611},{"type":395,"tag":494,"props":1653,"children":1654},{"class":496,"line":626},[1655,1659,1664,1668],{"type":395,"tag":494,"props":1656,"children":1657},{"style":811},[1658],{"type":401,"value":1597},{"type":395,"tag":494,"props":1660,"children":1661},{"style":817},[1662],{"type":401,"value":1663},"unshift",{"type":395,"tag":494,"props":1665,"children":1666},{"style":811},[1667],{"type":401,"value":825},{"type":395,"tag":494,"props":1669,"children":1670},{"style":513},[1671],{"type":401,"value":1611},{"type":395,"tag":494,"props":1673,"children":1674},{"class":496,"line":644},[1675,1679,1684,1688],{"type":395,"tag":494,"props":1676,"children":1677},{"style":811},[1678],{"type":401,"value":1597},{"type":395,"tag":494,"props":1680,"children":1681},{"style":817},[1682],{"type":401,"value":1683},"splice",{"type":395,"tag":494,"props":1685,"children":1686},{"style":811},[1687],{"type":401,"value":825},{"type":395,"tag":494,"props":1689,"children":1690},{"style":513},[1691],{"type":401,"value":1611},{"type":395,"tag":494,"props":1693,"children":1694},{"class":496,"line":669},[1695,1699,1704,1708],{"type":395,"tag":494,"props":1696,"children":1697},{"style":811},[1698],{"type":401,"value":1597},{"type":395,"tag":494,"props":1700,"children":1701},{"style":817},[1702],{"type":401,"value":1703},"sort",{"type":395,"tag":494,"props":1705,"children":1706},{"style":811},[1707],{"type":401,"value":825},{"type":395,"tag":494,"props":1709,"children":1710},{"style":513},[1711],{"type":401,"value":1611},{"type":395,"tag":494,"props":1713,"children":1714},{"class":496,"line":701},[1715,1719,1724,1728],{"type":395,"tag":494,"props":1716,"children":1717},{"style":811},[1718],{"type":401,"value":1597},{"type":395,"tag":494,"props":1720,"children":1721},{"style":817},[1722],{"type":401,"value":1723},"reverse",{"type":395,"tag":494,"props":1725,"children":1726},{"style":811},[1727],{"type":401,"value":825},{"type":395,"tag":494,"props":1729,"children":1730},{"style":513},[1731],{"type":401,"value":1611},{"type":395,"tag":494,"props":1733,"children":1734},{"class":496,"line":711},[1735,1740],{"type":395,"tag":494,"props":1736,"children":1737},{"style":549},[1738],{"type":401,"value":1739},"]",{"type":395,"tag":494,"props":1741,"children":1742},{"style":513},[1743],{"type":401,"value":586},{"type":395,"tag":494,"props":1745,"children":1746},{"class":496,"line":750},[1747],{"type":395,"tag":494,"props":1748,"children":1749},{"emptyLinePlaceholder":387},[1750],{"type":401,"value":623},{"type":395,"tag":494,"props":1752,"children":1753},{"class":496,"line":781},[1754,1759,1763,1768,1772,1776,1780,1785,1789],{"type":395,"tag":494,"props":1755,"children":1756},{"style":549},[1757],{"type":401,"value":1758},"methodsToPatch",{"type":395,"tag":494,"props":1760,"children":1761},{"style":513},[1762],{"type":401,"value":681},{"type":395,"tag":494,"props":1764,"children":1765},{"style":507},[1766],{"type":401,"value":1767},"forEach",{"type":395,"tag":494,"props":1769,"children":1770},{"style":549},[1771],{"type":401,"value":516},{"type":395,"tag":494,"props":1773,"children":1774},{"style":501},[1775],{"type":401,"value":504},{"type":395,"tag":494,"props":1777,"children":1778},{"style":513},[1779],{"type":401,"value":874},{"type":395,"tag":494,"props":1781,"children":1782},{"style":519},[1783],{"type":401,"value":1784},"method",{"type":395,"tag":494,"props":1786,"children":1787},{"style":513},[1788],{"type":401,"value":537},{"type":395,"tag":494,"props":1790,"children":1791},{"style":513},[1792],{"type":401,"value":542},{"type":395,"tag":494,"props":1794,"children":1795},{"class":496,"line":790},[1796],{"type":395,"tag":494,"props":1797,"children":1798},{"style":705},[1799],{"type":401,"value":1800},"  // cache original method\n",{"type":395,"tag":494,"props":1802,"children":1803},{"class":496,"line":845},[1804,1809,1814,1818,1823,1827,1831,1835],{"type":395,"tag":494,"props":1805,"children":1806},{"style":501},[1807],{"type":401,"value":1808},"  const",{"type":395,"tag":494,"props":1810,"children":1811},{"style":1185},[1812],{"type":401,"value":1813}," original",{"type":395,"tag":494,"props":1815,"children":1816},{"style":555},[1817],{"type":401,"value":558},{"type":395,"tag":494,"props":1819,"children":1820},{"style":549},[1821],{"type":401,"value":1822}," arrayProto",{"type":395,"tag":494,"props":1824,"children":1825},{"style":571},[1826],{"type":401,"value":1331},{"type":395,"tag":494,"props":1828,"children":1829},{"style":549},[1830],{"type":401,"value":1784},{"type":395,"tag":494,"props":1832,"children":1833},{"style":571},[1834],{"type":401,"value":1739},{"type":395,"tag":494,"props":1836,"children":1837},{"style":513},[1838],{"type":401,"value":586},{"type":395,"tag":494,"props":1840,"children":1841},{"class":496,"line":854},[1842,1847,1851,1856,1860,1865,1869,1874,1879,1883,1888,1893,1897],{"type":395,"tag":494,"props":1843,"children":1844},{"style":507},[1845],{"type":401,"value":1846},"  def",{"type":395,"tag":494,"props":1848,"children":1849},{"style":571},[1850],{"type":401,"value":516},{"type":395,"tag":494,"props":1852,"children":1853},{"style":549},[1854],{"type":401,"value":1855},"arrayMethods",{"type":395,"tag":494,"props":1857,"children":1858},{"style":513},[1859],{"type":401,"value":527},{"type":395,"tag":494,"props":1861,"children":1862},{"style":549},[1863],{"type":401,"value":1864}," method",{"type":395,"tag":494,"props":1866,"children":1867},{"style":513},[1868],{"type":401,"value":527},{"type":395,"tag":494,"props":1870,"children":1871},{"style":501},[1872],{"type":401,"value":1873}," function",{"type":395,"tag":494,"props":1875,"children":1876},{"style":507},[1877],{"type":401,"value":1878}," mutator",{"type":395,"tag":494,"props":1880,"children":1881},{"style":513},[1882],{"type":401,"value":516},{"type":395,"tag":494,"props":1884,"children":1885},{"style":555},[1886],{"type":401,"value":1887},"...",{"type":395,"tag":494,"props":1889,"children":1890},{"style":519},[1891],{"type":401,"value":1892},"args",{"type":395,"tag":494,"props":1894,"children":1895},{"style":513},[1896],{"type":401,"value":537},{"type":395,"tag":494,"props":1898,"children":1899},{"style":513},[1900],{"type":401,"value":542},{"type":395,"tag":494,"props":1902,"children":1903},{"class":496,"line":863},[1904],{"type":395,"tag":494,"props":1905,"children":1906},{"style":705},[1907],{"type":401,"value":1908},"    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n",{"type":395,"tag":494,"props":1910,"children":1911},{"class":496,"line":909},[1912,1916,1921,1925,1929,1933,1938,1942,1947,1951,1956,1960],{"type":395,"tag":494,"props":1913,"children":1914},{"style":501},[1915],{"type":401,"value":1182},{"type":395,"tag":494,"props":1917,"children":1918},{"style":1185},[1919],{"type":401,"value":1920}," result",{"type":395,"tag":494,"props":1922,"children":1923},{"style":555},[1924],{"type":401,"value":558},{"type":395,"tag":494,"props":1926,"children":1927},{"style":549},[1928],{"type":401,"value":1813},{"type":395,"tag":494,"props":1930,"children":1931},{"style":513},[1932],{"type":401,"value":681},{"type":395,"tag":494,"props":1934,"children":1935},{"style":507},[1936],{"type":401,"value":1937},"apply",{"type":395,"tag":494,"props":1939,"children":1940},{"style":571},[1941],{"type":401,"value":516},{"type":395,"tag":494,"props":1943,"children":1944},{"style":673},[1945],{"type":401,"value":1946},"this",{"type":395,"tag":494,"props":1948,"children":1949},{"style":513},[1950],{"type":401,"value":527},{"type":395,"tag":494,"props":1952,"children":1953},{"style":549},[1954],{"type":401,"value":1955}," args",{"type":395,"tag":494,"props":1957,"children":1958},{"style":571},[1959],{"type":401,"value":537},{"type":395,"tag":494,"props":1961,"children":1962},{"style":513},[1963],{"type":401,"value":586},{"type":395,"tag":494,"props":1965,"children":1966},{"class":496,"line":936},[1967],{"type":395,"tag":494,"props":1968,"children":1969},{"style":705},[1970],{"type":401,"value":1971},"    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n",{"type":395,"tag":494,"props":1973,"children":1974},{"class":496,"line":970},[1975,1979,1983,1987,1991,1995,1999],{"type":395,"tag":494,"props":1976,"children":1977},{"style":501},[1978],{"type":401,"value":1182},{"type":395,"tag":494,"props":1980,"children":1981},{"style":1185},[1982],{"type":401,"value":601},{"type":395,"tag":494,"props":1984,"children":1985},{"style":555},[1986],{"type":401,"value":558},{"type":395,"tag":494,"props":1988,"children":1989},{"style":673},[1990],{"type":401,"value":834},{"type":395,"tag":494,"props":1992,"children":1993},{"style":513},[1994],{"type":401,"value":681},{"type":395,"tag":494,"props":1996,"children":1997},{"style":549},[1998],{"type":401,"value":820},{"type":395,"tag":494,"props":2000,"children":2001},{"style":513},[2002],{"type":401,"value":586},{"type":395,"tag":494,"props":2004,"children":2005},{"class":496,"line":988},[2006],{"type":395,"tag":494,"props":2007,"children":2008},{"style":705},[2009],{"type":401,"value":2010},"    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n",{"type":395,"tag":494,"props":2012,"children":2013},{"class":496,"line":1030},[2014,2019,2024],{"type":395,"tag":494,"props":2015,"children":2016},{"style":501},[2017],{"type":401,"value":2018},"    let",{"type":395,"tag":494,"props":2020,"children":2021},{"style":549},[2022],{"type":401,"value":2023}," inserted",{"type":395,"tag":494,"props":2025,"children":2026},{"style":513},[2027],{"type":401,"value":586},{"type":395,"tag":494,"props":2029,"children":2030},{"class":496,"line":1039},[2031,2036,2040,2044,2048],{"type":395,"tag":494,"props":2032,"children":2033},{"style":593},[2034],{"type":401,"value":2035},"    switch",{"type":395,"tag":494,"props":2037,"children":2038},{"style":571},[2039],{"type":401,"value":874},{"type":395,"tag":494,"props":2041,"children":2042},{"style":549},[2043],{"type":401,"value":1784},{"type":395,"tag":494,"props":2045,"children":2046},{"style":571},[2047],{"type":401,"value":929},{"type":395,"tag":494,"props":2049,"children":2050},{"style":513},[2051],{"type":401,"value":906},{"type":395,"tag":494,"props":2053,"children":2054},{"class":496,"line":1073},[2055,2060,2064,2068,2072],{"type":395,"tag":494,"props":2056,"children":2057},{"style":593},[2058],{"type":401,"value":2059},"      case",{"type":395,"tag":494,"props":2061,"children":2062},{"style":811},[2063],{"type":401,"value":814},{"type":395,"tag":494,"props":2065,"children":2066},{"style":817},[2067],{"type":401,"value":1602},{"type":395,"tag":494,"props":2069,"children":2070},{"style":811},[2071],{"type":401,"value":825},{"type":395,"tag":494,"props":2073,"children":2074},{"style":513},[2075],{"type":401,"value":2076},":\n",{"type":395,"tag":494,"props":2078,"children":2079},{"class":496,"line":1090},[2080,2084,2088,2092,2096],{"type":395,"tag":494,"props":2081,"children":2082},{"style":593},[2083],{"type":401,"value":2059},{"type":395,"tag":494,"props":2085,"children":2086},{"style":811},[2087],{"type":401,"value":814},{"type":395,"tag":494,"props":2089,"children":2090},{"style":817},[2091],{"type":401,"value":1663},{"type":395,"tag":494,"props":2093,"children":2094},{"style":811},[2095],{"type":401,"value":825},{"type":395,"tag":494,"props":2097,"children":2098},{"style":513},[2099],{"type":401,"value":2076},{"type":395,"tag":494,"props":2101,"children":2102},{"class":496,"line":1123},[2103,2108,2112,2116],{"type":395,"tag":494,"props":2104,"children":2105},{"style":549},[2106],{"type":401,"value":2107},"        inserted",{"type":395,"tag":494,"props":2109,"children":2110},{"style":555},[2111],{"type":401,"value":558},{"type":395,"tag":494,"props":2113,"children":2114},{"style":549},[2115],{"type":401,"value":1955},{"type":395,"tag":494,"props":2117,"children":2118},{"style":513},[2119],{"type":401,"value":586},{"type":395,"tag":494,"props":2121,"children":2122},{"class":496,"line":1132},[2123,2128],{"type":395,"tag":494,"props":2124,"children":2125},{"style":593},[2126],{"type":401,"value":2127},"        break",{"type":395,"tag":494,"props":2129,"children":2130},{"style":513},[2131],{"type":401,"value":586},{"type":395,"tag":494,"props":2133,"children":2134},{"class":496,"line":1141},[2135,2139,2143,2147,2151],{"type":395,"tag":494,"props":2136,"children":2137},{"style":593},[2138],{"type":401,"value":2059},{"type":395,"tag":494,"props":2140,"children":2141},{"style":811},[2142],{"type":401,"value":814},{"type":395,"tag":494,"props":2144,"children":2145},{"style":817},[2146],{"type":401,"value":1683},{"type":395,"tag":494,"props":2148,"children":2149},{"style":811},[2150],{"type":401,"value":825},{"type":395,"tag":494,"props":2152,"children":2153},{"style":513},[2154],{"type":401,"value":2076},{"type":395,"tag":494,"props":2156,"children":2157},{"class":496,"line":1149},[2158,2162,2166,2170,2174,2179,2183,2188,2192],{"type":395,"tag":494,"props":2159,"children":2160},{"style":549},[2161],{"type":401,"value":2107},{"type":395,"tag":494,"props":2163,"children":2164},{"style":555},[2165],{"type":401,"value":558},{"type":395,"tag":494,"props":2167,"children":2168},{"style":549},[2169],{"type":401,"value":1955},{"type":395,"tag":494,"props":2171,"children":2172},{"style":513},[2173],{"type":401,"value":681},{"type":395,"tag":494,"props":2175,"children":2176},{"style":507},[2177],{"type":401,"value":2178},"slice",{"type":395,"tag":494,"props":2180,"children":2181},{"style":571},[2182],{"type":401,"value":516},{"type":395,"tag":494,"props":2184,"children":2185},{"style":771},[2186],{"type":401,"value":2187},"2",{"type":395,"tag":494,"props":2189,"children":2190},{"style":571},[2191],{"type":401,"value":537},{"type":395,"tag":494,"props":2193,"children":2194},{"style":513},[2195],{"type":401,"value":586},{"type":395,"tag":494,"props":2197,"children":2198},{"class":496,"line":1176},[2199,2203],{"type":395,"tag":494,"props":2200,"children":2201},{"style":593},[2202],{"type":401,"value":2127},{"type":395,"tag":494,"props":2204,"children":2205},{"style":513},[2206],{"type":401,"value":586},{"type":395,"tag":494,"props":2208,"children":2209},{"class":496,"line":1225},[2210],{"type":395,"tag":494,"props":2211,"children":2212},{"style":513},[2213],{"type":401,"value":1129},{"type":395,"tag":494,"props":2215,"children":2216},{"class":496,"line":1304},[2217,2221,2225,2230,2234,2239,2243,2247,2251,2255,2259],{"type":395,"tag":494,"props":2218,"children":2219},{"style":593},[2220],{"type":401,"value":869},{"type":395,"tag":494,"props":2222,"children":2223},{"style":571},[2224],{"type":401,"value":874},{"type":395,"tag":494,"props":2226,"children":2227},{"style":549},[2228],{"type":401,"value":2229},"inserted",{"type":395,"tag":494,"props":2231,"children":2232},{"style":571},[2233],{"type":401,"value":929},{"type":395,"tag":494,"props":2235,"children":2236},{"style":549},[2237],{"type":401,"value":2238},"ob",{"type":395,"tag":494,"props":2240,"children":2241},{"style":513},[2242],{"type":401,"value":681},{"type":395,"tag":494,"props":2244,"children":2245},{"style":507},[2246],{"type":401,"value":1054},{"type":395,"tag":494,"props":2248,"children":2249},{"style":571},[2250],{"type":401,"value":516},{"type":395,"tag":494,"props":2252,"children":2253},{"style":549},[2254],{"type":401,"value":2229},{"type":395,"tag":494,"props":2256,"children":2257},{"style":571},[2258],{"type":401,"value":537},{"type":395,"tag":494,"props":2260,"children":2261},{"style":513},[2262],{"type":401,"value":586},{"type":395,"tag":494,"props":2264,"children":2265},{"class":496,"line":1348},[2266],{"type":395,"tag":494,"props":2267,"children":2268},{"style":705},[2269],{"type":401,"value":2270},"    // 通知依赖更新\n",{"type":395,"tag":494,"props":2272,"children":2273},{"class":496,"line":1356},[2274,2279,2283,2287,2291,2296,2300],{"type":395,"tag":494,"props":2275,"children":2276},{"style":549},[2277],{"type":401,"value":2278},"    ob",{"type":395,"tag":494,"props":2280,"children":2281},{"style":513},[2282],{"type":401,"value":681},{"type":395,"tag":494,"props":2284,"children":2285},{"style":549},[2286],{"type":401,"value":725},{"type":395,"tag":494,"props":2288,"children":2289},{"style":513},[2290],{"type":401,"value":681},{"type":395,"tag":494,"props":2292,"children":2293},{"style":507},[2294],{"type":401,"value":2295},"notify",{"type":395,"tag":494,"props":2297,"children":2298},{"style":571},[2299],{"type":401,"value":743},{"type":395,"tag":494,"props":2301,"children":2302},{"style":513},[2303],{"type":401,"value":586},{"type":395,"tag":494,"props":2305,"children":2306},{"class":496,"line":1364},[2307,2312,2316],{"type":395,"tag":494,"props":2308,"children":2309},{"style":593},[2310],{"type":401,"value":2311},"    return",{"type":395,"tag":494,"props":2313,"children":2314},{"style":549},[2315],{"type":401,"value":1920},{"type":395,"tag":494,"props":2317,"children":2318},{"style":513},[2319],{"type":401,"value":586},{"type":395,"tag":494,"props":2321,"children":2322},{"class":496,"line":1372},[2323,2328,2332],{"type":395,"tag":494,"props":2324,"children":2325},{"style":513},[2326],{"type":401,"value":2327},"  }",{"type":395,"tag":494,"props":2329,"children":2330},{"style":571},[2331],{"type":401,"value":537},{"type":395,"tag":494,"props":2333,"children":2334},{"style":513},[2335],{"type":401,"value":586},{"type":395,"tag":494,"props":2337,"children":2338},{"class":496,"line":1398},[2339,2344,2348],{"type":395,"tag":494,"props":2340,"children":2341},{"style":513},[2342],{"type":401,"value":2343},"}",{"type":395,"tag":494,"props":2345,"children":2346},{"style":549},[2347],{"type":401,"value":537},{"type":395,"tag":494,"props":2349,"children":2350},{"style":513},[2351],{"type":401,"value":586},{"type":395,"tag":469,"props":2353,"children":2355},{"id":2354},"响应式属性",[2356],{"type":401,"value":2354},{"type":395,"tag":428,"props":2358,"children":2359},{},[2360],{"type":401,"value":2361},"设置响应式属性对应源码中的 definedProperty 这个函数，同时，还提供了 set、del 方法，分别用来给一个对象新增、删除属性及响应式属性。",{"type":395,"tag":434,"props":2363,"children":2365},{"code":2364,"language":487,"meta":388,"className":488,"style":388},"function defineReactive(obj, key, val, customSetter, shallow) {\n  // 每个属性都保持了一个依赖容器，\n  // 所有依赖都会存放在这个依赖容器实例中\n  const dep = new Dep();\n\n  // 不给属性描述符不可变的对象设置 setter/getter\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  // 保存属性原有的 setter/getter，不做破坏\n  // cater for pre-defined getter/setters\n  const getter = property && property.get;\n  const setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  // 侦测值的变化\n  let childOb = !shallow && observe(val);\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      const value = getter ? getter.call(obj) : val;\n      // 收集依赖\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      const value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return;\n      }\n      // 非生产环境：自定义 setter 副作用\n      if (process.env.NODE_ENV !== \"production\" && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return;\n      // 使用原有的 setter 更新值或直接更新值\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      // 侦测子对象的变化\n      childOb = !shallow && observe(newVal);\n      // 通知依赖更新\n      dep.notify();\n    },\n  });\n}\n",[2366],{"type":395,"tag":439,"props":2367,"children":2368},{"__ignoreMap":388},[2369,2433,2441,2449,2481,2488,2496,2549,2603,2614,2621,2628,2636,2644,2685,2726,2797,2831,2838,2845,2853,2905,2912,2953,2975,2995,3024,3086,3094,3127,3152,3177,3209,3249,3273,3281,3289,3296,3312,3320,3358,3418,3427,3497,3510,3518,3527,3595,3612,3620,3629,3671,3680,3704,3745,3761,3782,3790,3799,3844,3853,3878,3886,3902],{"type":395,"tag":494,"props":2370,"children":2371},{"class":496,"line":497},[2372,2376,2381,2385,2389,2393,2398,2402,2407,2411,2416,2420,2425,2429],{"type":395,"tag":494,"props":2373,"children":2374},{"style":501},[2375],{"type":401,"value":504},{"type":395,"tag":494,"props":2377,"children":2378},{"style":507},[2379],{"type":401,"value":2380}," defineReactive",{"type":395,"tag":494,"props":2382,"children":2383},{"style":513},[2384],{"type":401,"value":516},{"type":395,"tag":494,"props":2386,"children":2387},{"style":519},[2388],{"type":401,"value":1165},{"type":395,"tag":494,"props":2390,"children":2391},{"style":513},[2392],{"type":401,"value":527},{"type":395,"tag":494,"props":2394,"children":2395},{"style":519},[2396],{"type":401,"value":2397}," key",{"type":395,"tag":494,"props":2399,"children":2400},{"style":513},[2401],{"type":401,"value":527},{"type":395,"tag":494,"props":2403,"children":2404},{"style":519},[2405],{"type":401,"value":2406}," val",{"type":395,"tag":494,"props":2408,"children":2409},{"style":513},[2410],{"type":401,"value":527},{"type":395,"tag":494,"props":2412,"children":2413},{"style":519},[2414],{"type":401,"value":2415}," customSetter",{"type":395,"tag":494,"props":2417,"children":2418},{"style":513},[2419],{"type":401,"value":527},{"type":395,"tag":494,"props":2421,"children":2422},{"style":519},[2423],{"type":401,"value":2424}," shallow",{"type":395,"tag":494,"props":2426,"children":2427},{"style":513},[2428],{"type":401,"value":537},{"type":395,"tag":494,"props":2430,"children":2431},{"style":513},[2432],{"type":401,"value":542},{"type":395,"tag":494,"props":2434,"children":2435},{"class":496,"line":545},[2436],{"type":395,"tag":494,"props":2437,"children":2438},{"style":705},[2439],{"type":401,"value":2440},"  // 每个属性都保持了一个依赖容器，\n",{"type":395,"tag":494,"props":2442,"children":2443},{"class":496,"line":589},[2444],{"type":395,"tag":494,"props":2445,"children":2446},{"style":705},[2447],{"type":401,"value":2448},"  // 所有依赖都会存放在这个依赖容器实例中\n",{"type":395,"tag":494,"props":2450,"children":2451},{"class":496,"line":608},[2452,2456,2461,2465,2469,2473,2477],{"type":395,"tag":494,"props":2453,"children":2454},{"style":501},[2455],{"type":401,"value":1808},{"type":395,"tag":494,"props":2457,"children":2458},{"style":1185},[2459],{"type":401,"value":2460}," dep",{"type":395,"tag":494,"props":2462,"children":2463},{"style":555},[2464],{"type":401,"value":558},{"type":395,"tag":494,"props":2466,"children":2467},{"style":555},[2468],{"type":401,"value":563},{"type":395,"tag":494,"props":2470,"children":2471},{"style":507},[2472],{"type":401,"value":738},{"type":395,"tag":494,"props":2474,"children":2475},{"style":571},[2476],{"type":401,"value":743},{"type":395,"tag":494,"props":2478,"children":2479},{"style":513},[2480],{"type":401,"value":586},{"type":395,"tag":494,"props":2482,"children":2483},{"class":496,"line":617},[2484],{"type":395,"tag":494,"props":2485,"children":2486},{"emptyLinePlaceholder":387},[2487],{"type":401,"value":623},{"type":395,"tag":494,"props":2489,"children":2490},{"class":496,"line":626},[2491],{"type":395,"tag":494,"props":2492,"children":2493},{"style":705},[2494],{"type":401,"value":2495},"  // 不给属性描述符不可变的对象设置 setter/getter\n",{"type":395,"tag":494,"props":2497,"children":2498},{"class":496,"line":644},[2499,2503,2508,2512,2516,2520,2525,2529,2533,2537,2541,2545],{"type":395,"tag":494,"props":2500,"children":2501},{"style":501},[2502],{"type":401,"value":1808},{"type":395,"tag":494,"props":2504,"children":2505},{"style":1185},[2506],{"type":401,"value":2507}," property",{"type":395,"tag":494,"props":2509,"children":2510},{"style":555},[2511],{"type":401,"value":558},{"type":395,"tag":494,"props":2513,"children":2514},{"style":549},[2515],{"type":401,"value":1197},{"type":395,"tag":494,"props":2517,"children":2518},{"style":513},[2519],{"type":401,"value":681},{"type":395,"tag":494,"props":2521,"children":2522},{"style":507},[2523],{"type":401,"value":2524},"getOwnPropertyDescriptor",{"type":395,"tag":494,"props":2526,"children":2527},{"style":571},[2528],{"type":401,"value":516},{"type":395,"tag":494,"props":2530,"children":2531},{"style":549},[2532],{"type":401,"value":1165},{"type":395,"tag":494,"props":2534,"children":2535},{"style":513},[2536],{"type":401,"value":527},{"type":395,"tag":494,"props":2538,"children":2539},{"style":549},[2540],{"type":401,"value":2397},{"type":395,"tag":494,"props":2542,"children":2543},{"style":571},[2544],{"type":401,"value":537},{"type":395,"tag":494,"props":2546,"children":2547},{"style":513},[2548],{"type":401,"value":586},{"type":395,"tag":494,"props":2550,"children":2551},{"class":496,"line":669},[2552,2557,2561,2566,2571,2575,2579,2584,2589,2595,2599],{"type":395,"tag":494,"props":2553,"children":2554},{"style":593},[2555],{"type":401,"value":2556},"  if",{"type":395,"tag":494,"props":2558,"children":2559},{"style":571},[2560],{"type":401,"value":874},{"type":395,"tag":494,"props":2562,"children":2563},{"style":549},[2564],{"type":401,"value":2565},"property",{"type":395,"tag":494,"props":2567,"children":2568},{"style":555},[2569],{"type":401,"value":2570}," &&",{"type":395,"tag":494,"props":2572,"children":2573},{"style":549},[2574],{"type":401,"value":2507},{"type":395,"tag":494,"props":2576,"children":2577},{"style":513},[2578],{"type":401,"value":681},{"type":395,"tag":494,"props":2580,"children":2581},{"style":549},[2582],{"type":401,"value":2583},"configurable",{"type":395,"tag":494,"props":2585,"children":2586},{"style":555},[2587],{"type":401,"value":2588}," ===",{"type":395,"tag":494,"props":2590,"children":2592},{"style":2591},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2593],{"type":401,"value":2594}," false",{"type":395,"tag":494,"props":2596,"children":2597},{"style":571},[2598],{"type":401,"value":929},{"type":395,"tag":494,"props":2600,"children":2601},{"style":513},[2602],{"type":401,"value":906},{"type":395,"tag":494,"props":2604,"children":2605},{"class":496,"line":701},[2606,2610],{"type":395,"tag":494,"props":2607,"children":2608},{"style":593},[2609],{"type":401,"value":2311},{"type":395,"tag":494,"props":2611,"children":2612},{"style":513},[2613],{"type":401,"value":586},{"type":395,"tag":494,"props":2615,"children":2616},{"class":496,"line":711},[2617],{"type":395,"tag":494,"props":2618,"children":2619},{"style":513},[2620],{"type":401,"value":1138},{"type":395,"tag":494,"props":2622,"children":2623},{"class":496,"line":750},[2624],{"type":395,"tag":494,"props":2625,"children":2626},{"emptyLinePlaceholder":387},[2627],{"type":401,"value":623},{"type":395,"tag":494,"props":2629,"children":2630},{"class":496,"line":781},[2631],{"type":395,"tag":494,"props":2632,"children":2633},{"style":705},[2634],{"type":401,"value":2635},"  // 保存属性原有的 setter/getter，不做破坏\n",{"type":395,"tag":494,"props":2637,"children":2638},{"class":496,"line":790},[2639],{"type":395,"tag":494,"props":2640,"children":2641},{"style":705},[2642],{"type":401,"value":2643},"  // cater for pre-defined getter/setters\n",{"type":395,"tag":494,"props":2645,"children":2646},{"class":496,"line":845},[2647,2651,2656,2660,2664,2668,2672,2676,2681],{"type":395,"tag":494,"props":2648,"children":2649},{"style":501},[2650],{"type":401,"value":1808},{"type":395,"tag":494,"props":2652,"children":2653},{"style":1185},[2654],{"type":401,"value":2655}," getter",{"type":395,"tag":494,"props":2657,"children":2658},{"style":555},[2659],{"type":401,"value":558},{"type":395,"tag":494,"props":2661,"children":2662},{"style":549},[2663],{"type":401,"value":2507},{"type":395,"tag":494,"props":2665,"children":2666},{"style":555},[2667],{"type":401,"value":2570},{"type":395,"tag":494,"props":2669,"children":2670},{"style":549},[2671],{"type":401,"value":2507},{"type":395,"tag":494,"props":2673,"children":2674},{"style":513},[2675],{"type":401,"value":681},{"type":395,"tag":494,"props":2677,"children":2678},{"style":549},[2679],{"type":401,"value":2680},"get",{"type":395,"tag":494,"props":2682,"children":2683},{"style":513},[2684],{"type":401,"value":586},{"type":395,"tag":494,"props":2686,"children":2687},{"class":496,"line":854},[2688,2692,2697,2701,2705,2709,2713,2717,2722],{"type":395,"tag":494,"props":2689,"children":2690},{"style":501},[2691],{"type":401,"value":1808},{"type":395,"tag":494,"props":2693,"children":2694},{"style":1185},[2695],{"type":401,"value":2696}," setter",{"type":395,"tag":494,"props":2698,"children":2699},{"style":555},[2700],{"type":401,"value":558},{"type":395,"tag":494,"props":2702,"children":2703},{"style":549},[2704],{"type":401,"value":2507},{"type":395,"tag":494,"props":2706,"children":2707},{"style":555},[2708],{"type":401,"value":2570},{"type":395,"tag":494,"props":2710,"children":2711},{"style":549},[2712],{"type":401,"value":2507},{"type":395,"tag":494,"props":2714,"children":2715},{"style":513},[2716],{"type":401,"value":681},{"type":395,"tag":494,"props":2718,"children":2719},{"style":549},[2720],{"type":401,"value":2721},"set",{"type":395,"tag":494,"props":2723,"children":2724},{"style":513},[2725],{"type":401,"value":586},{"type":395,"tag":494,"props":2727,"children":2728},{"class":496,"line":863},[2729,2733,2738,2743,2748,2753,2757,2761,2766,2772,2776,2780,2784,2789,2793],{"type":395,"tag":494,"props":2730,"children":2731},{"style":593},[2732],{"type":401,"value":2556},{"type":395,"tag":494,"props":2734,"children":2735},{"style":571},[2736],{"type":401,"value":2737}," ((",{"type":395,"tag":494,"props":2739,"children":2740},{"style":555},[2741],{"type":401,"value":2742},"!",{"type":395,"tag":494,"props":2744,"children":2745},{"style":549},[2746],{"type":401,"value":2747},"getter",{"type":395,"tag":494,"props":2749,"children":2750},{"style":555},[2751],{"type":401,"value":2752}," ||",{"type":395,"tag":494,"props":2754,"children":2755},{"style":549},[2756],{"type":401,"value":2696},{"type":395,"tag":494,"props":2758,"children":2759},{"style":571},[2760],{"type":401,"value":929},{"type":395,"tag":494,"props":2762,"children":2763},{"style":555},[2764],{"type":401,"value":2765},"&&",{"type":395,"tag":494,"props":2767,"children":2769},{"style":2768},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2770],{"type":401,"value":2771}," arguments",{"type":395,"tag":494,"props":2773,"children":2774},{"style":513},[2775],{"type":401,"value":681},{"type":395,"tag":494,"props":2777,"children":2778},{"style":1185},[2779],{"type":401,"value":1280},{"type":395,"tag":494,"props":2781,"children":2782},{"style":555},[2783],{"type":401,"value":2588},{"type":395,"tag":494,"props":2785,"children":2786},{"style":771},[2787],{"type":401,"value":2788}," 2",{"type":395,"tag":494,"props":2790,"children":2791},{"style":571},[2792],{"type":401,"value":929},{"type":395,"tag":494,"props":2794,"children":2795},{"style":513},[2796],{"type":401,"value":906},{"type":395,"tag":494,"props":2798,"children":2799},{"class":496,"line":909},[2800,2805,2809,2814,2818,2823,2827],{"type":395,"tag":494,"props":2801,"children":2802},{"style":549},[2803],{"type":401,"value":2804},"    val",{"type":395,"tag":494,"props":2806,"children":2807},{"style":555},[2808],{"type":401,"value":558},{"type":395,"tag":494,"props":2810,"children":2811},{"style":549},[2812],{"type":401,"value":2813}," obj",{"type":395,"tag":494,"props":2815,"children":2816},{"style":571},[2817],{"type":401,"value":1331},{"type":395,"tag":494,"props":2819,"children":2820},{"style":549},[2821],{"type":401,"value":2822},"key",{"type":395,"tag":494,"props":2824,"children":2825},{"style":571},[2826],{"type":401,"value":1739},{"type":395,"tag":494,"props":2828,"children":2829},{"style":513},[2830],{"type":401,"value":586},{"type":395,"tag":494,"props":2832,"children":2833},{"class":496,"line":936},[2834],{"type":395,"tag":494,"props":2835,"children":2836},{"style":513},[2837],{"type":401,"value":1138},{"type":395,"tag":494,"props":2839,"children":2840},{"class":496,"line":970},[2841],{"type":395,"tag":494,"props":2842,"children":2843},{"emptyLinePlaceholder":387},[2844],{"type":401,"value":623},{"type":395,"tag":494,"props":2846,"children":2847},{"class":496,"line":988},[2848],{"type":395,"tag":494,"props":2849,"children":2850},{"style":705},[2851],{"type":401,"value":2852},"  // 侦测值的变化\n",{"type":395,"tag":494,"props":2854,"children":2855},{"class":496,"line":1030},[2856,2861,2866,2870,2875,2880,2884,2888,2892,2897,2901],{"type":395,"tag":494,"props":2857,"children":2858},{"style":501},[2859],{"type":401,"value":2860},"  let",{"type":395,"tag":494,"props":2862,"children":2863},{"style":549},[2864],{"type":401,"value":2865}," childOb",{"type":395,"tag":494,"props":2867,"children":2868},{"style":555},[2869],{"type":401,"value":558},{"type":395,"tag":494,"props":2871,"children":2872},{"style":555},[2873],{"type":401,"value":2874}," !",{"type":395,"tag":494,"props":2876,"children":2877},{"style":549},[2878],{"type":401,"value":2879},"shallow",{"type":395,"tag":494,"props":2881,"children":2882},{"style":555},[2883],{"type":401,"value":2570},{"type":395,"tag":494,"props":2885,"children":2886},{"style":507},[2887],{"type":401,"value":510},{"type":395,"tag":494,"props":2889,"children":2890},{"style":571},[2891],{"type":401,"value":516},{"type":395,"tag":494,"props":2893,"children":2894},{"style":549},[2895],{"type":401,"value":2896},"val",{"type":395,"tag":494,"props":2898,"children":2899},{"style":571},[2900],{"type":401,"value":537},{"type":395,"tag":494,"props":2902,"children":2903},{"style":513},[2904],{"type":401,"value":586},{"type":395,"tag":494,"props":2906,"children":2907},{"class":496,"line":1039},[2908],{"type":395,"tag":494,"props":2909,"children":2910},{"emptyLinePlaceholder":387},[2911],{"type":401,"value":623},{"type":395,"tag":494,"props":2913,"children":2914},{"class":496,"line":1073},[2915,2920,2924,2929,2933,2937,2941,2945,2949],{"type":395,"tag":494,"props":2916,"children":2917},{"style":549},[2918],{"type":401,"value":2919},"  Object",{"type":395,"tag":494,"props":2921,"children":2922},{"style":513},[2923],{"type":401,"value":681},{"type":395,"tag":494,"props":2925,"children":2926},{"style":507},[2927],{"type":401,"value":2928},"defineProperty",{"type":395,"tag":494,"props":2930,"children":2931},{"style":571},[2932],{"type":401,"value":516},{"type":395,"tag":494,"props":2934,"children":2935},{"style":549},[2936],{"type":401,"value":1165},{"type":395,"tag":494,"props":2938,"children":2939},{"style":513},[2940],{"type":401,"value":527},{"type":395,"tag":494,"props":2942,"children":2943},{"style":549},[2944],{"type":401,"value":2397},{"type":395,"tag":494,"props":2946,"children":2947},{"style":513},[2948],{"type":401,"value":527},{"type":395,"tag":494,"props":2950,"children":2951},{"style":513},[2952],{"type":401,"value":542},{"type":395,"tag":494,"props":2954,"children":2955},{"class":496,"line":1090},[2956,2961,2966,2971],{"type":395,"tag":494,"props":2957,"children":2958},{"style":571},[2959],{"type":401,"value":2960},"    enumerable",{"type":395,"tag":494,"props":2962,"children":2963},{"style":513},[2964],{"type":401,"value":2965},":",{"type":395,"tag":494,"props":2967,"children":2968},{"style":2591},[2969],{"type":401,"value":2970}," true",{"type":395,"tag":494,"props":2972,"children":2973},{"style":513},[2974],{"type":401,"value":1611},{"type":395,"tag":494,"props":2976,"children":2977},{"class":496,"line":1123},[2978,2983,2987,2991],{"type":395,"tag":494,"props":2979,"children":2980},{"style":571},[2981],{"type":401,"value":2982},"    configurable",{"type":395,"tag":494,"props":2984,"children":2985},{"style":513},[2986],{"type":401,"value":2965},{"type":395,"tag":494,"props":2988,"children":2989},{"style":2591},[2990],{"type":401,"value":2970},{"type":395,"tag":494,"props":2992,"children":2993},{"style":513},[2994],{"type":401,"value":1611},{"type":395,"tag":494,"props":2996,"children":2997},{"class":496,"line":1132},[2998,3003,3007,3011,3016,3020],{"type":395,"tag":494,"props":2999,"children":3000},{"style":507},[3001],{"type":401,"value":3002},"    get",{"type":395,"tag":494,"props":3004,"children":3005},{"style":513},[3006],{"type":401,"value":2965},{"type":395,"tag":494,"props":3008,"children":3009},{"style":501},[3010],{"type":401,"value":1873},{"type":395,"tag":494,"props":3012,"children":3013},{"style":507},[3014],{"type":401,"value":3015}," reactiveGetter",{"type":395,"tag":494,"props":3017,"children":3018},{"style":513},[3019],{"type":401,"value":743},{"type":395,"tag":494,"props":3021,"children":3022},{"style":513},[3023],{"type":401,"value":542},{"type":395,"tag":494,"props":3025,"children":3026},{"class":496,"line":1141},[3027,3032,3036,3040,3044,3049,3053,3057,3062,3066,3070,3074,3078,3082],{"type":395,"tag":494,"props":3028,"children":3029},{"style":501},[3030],{"type":401,"value":3031},"      const",{"type":395,"tag":494,"props":3033,"children":3034},{"style":1185},[3035],{"type":401,"value":694},{"type":395,"tag":494,"props":3037,"children":3038},{"style":555},[3039],{"type":401,"value":558},{"type":395,"tag":494,"props":3041,"children":3042},{"style":549},[3043],{"type":401,"value":2655},{"type":395,"tag":494,"props":3045,"children":3046},{"style":555},[3047],{"type":401,"value":3048}," ?",{"type":395,"tag":494,"props":3050,"children":3051},{"style":549},[3052],{"type":401,"value":2655},{"type":395,"tag":494,"props":3054,"children":3055},{"style":513},[3056],{"type":401,"value":681},{"type":395,"tag":494,"props":3058,"children":3059},{"style":507},[3060],{"type":401,"value":3061},"call",{"type":395,"tag":494,"props":3063,"children":3064},{"style":571},[3065],{"type":401,"value":516},{"type":395,"tag":494,"props":3067,"children":3068},{"style":549},[3069],{"type":401,"value":1165},{"type":395,"tag":494,"props":3071,"children":3072},{"style":571},[3073],{"type":401,"value":929},{"type":395,"tag":494,"props":3075,"children":3076},{"style":555},[3077],{"type":401,"value":2965},{"type":395,"tag":494,"props":3079,"children":3080},{"style":549},[3081],{"type":401,"value":2406},{"type":395,"tag":494,"props":3083,"children":3084},{"style":513},[3085],{"type":401,"value":586},{"type":395,"tag":494,"props":3087,"children":3088},{"class":496,"line":1149},[3089],{"type":395,"tag":494,"props":3090,"children":3091},{"style":705},[3092],{"type":401,"value":3093},"      // 收集依赖\n",{"type":395,"tag":494,"props":3095,"children":3096},{"class":496,"line":1176},[3097,3101,3105,3110,3114,3119,3123],{"type":395,"tag":494,"props":3098,"children":3099},{"style":593},[3100],{"type":401,"value":915},{"type":395,"tag":494,"props":3102,"children":3103},{"style":571},[3104],{"type":401,"value":874},{"type":395,"tag":494,"props":3106,"children":3107},{"style":549},[3108],{"type":401,"value":3109},"Dep",{"type":395,"tag":494,"props":3111,"children":3112},{"style":513},[3113],{"type":401,"value":681},{"type":395,"tag":494,"props":3115,"children":3116},{"style":549},[3117],{"type":401,"value":3118},"target",{"type":395,"tag":494,"props":3120,"children":3121},{"style":571},[3122],{"type":401,"value":929},{"type":395,"tag":494,"props":3124,"children":3125},{"style":513},[3126],{"type":401,"value":906},{"type":395,"tag":494,"props":3128,"children":3129},{"class":496,"line":1225},[3130,3135,3139,3144,3148],{"type":395,"tag":494,"props":3131,"children":3132},{"style":549},[3133],{"type":401,"value":3134},"        dep",{"type":395,"tag":494,"props":3136,"children":3137},{"style":513},[3138],{"type":401,"value":681},{"type":395,"tag":494,"props":3140,"children":3141},{"style":507},[3142],{"type":401,"value":3143},"depend",{"type":395,"tag":494,"props":3145,"children":3146},{"style":571},[3147],{"type":401,"value":743},{"type":395,"tag":494,"props":3149,"children":3150},{"style":513},[3151],{"type":401,"value":586},{"type":395,"tag":494,"props":3153,"children":3154},{"class":496,"line":1304},[3155,3160,3164,3169,3173],{"type":395,"tag":494,"props":3156,"children":3157},{"style":593},[3158],{"type":401,"value":3159},"        if",{"type":395,"tag":494,"props":3161,"children":3162},{"style":571},[3163],{"type":401,"value":874},{"type":395,"tag":494,"props":3165,"children":3166},{"style":549},[3167],{"type":401,"value":3168},"childOb",{"type":395,"tag":494,"props":3170,"children":3171},{"style":571},[3172],{"type":401,"value":929},{"type":395,"tag":494,"props":3174,"children":3175},{"style":513},[3176],{"type":401,"value":906},{"type":395,"tag":494,"props":3178,"children":3179},{"class":496,"line":1348},[3180,3185,3189,3193,3197,3201,3205],{"type":395,"tag":494,"props":3181,"children":3182},{"style":549},[3183],{"type":401,"value":3184},"          childOb",{"type":395,"tag":494,"props":3186,"children":3187},{"style":513},[3188],{"type":401,"value":681},{"type":395,"tag":494,"props":3190,"children":3191},{"style":549},[3192],{"type":401,"value":725},{"type":395,"tag":494,"props":3194,"children":3195},{"style":513},[3196],{"type":401,"value":681},{"type":395,"tag":494,"props":3198,"children":3199},{"style":507},[3200],{"type":401,"value":3143},{"type":395,"tag":494,"props":3202,"children":3203},{"style":571},[3204],{"type":401,"value":743},{"type":395,"tag":494,"props":3206,"children":3207},{"style":513},[3208],{"type":401,"value":586},{"type":395,"tag":494,"props":3210,"children":3211},{"class":496,"line":1356},[3212,3217,3221,3225,3229,3233,3237,3241,3245],{"type":395,"tag":494,"props":3213,"children":3214},{"style":593},[3215],{"type":401,"value":3216},"          if",{"type":395,"tag":494,"props":3218,"children":3219},{"style":571},[3220],{"type":401,"value":874},{"type":395,"tag":494,"props":3222,"children":3223},{"style":549},[3224],{"type":401,"value":879},{"type":395,"tag":494,"props":3226,"children":3227},{"style":513},[3228],{"type":401,"value":681},{"type":395,"tag":494,"props":3230,"children":3231},{"style":507},[3232],{"type":401,"value":888},{"type":395,"tag":494,"props":3234,"children":3235},{"style":571},[3236],{"type":401,"value":516},{"type":395,"tag":494,"props":3238,"children":3239},{"style":549},[3240],{"type":401,"value":522},{"type":395,"tag":494,"props":3242,"children":3243},{"style":571},[3244],{"type":401,"value":901},{"type":395,"tag":494,"props":3246,"children":3247},{"style":513},[3248],{"type":401,"value":906},{"type":395,"tag":494,"props":3250,"children":3251},{"class":496,"line":1364},[3252,3257,3261,3265,3269],{"type":395,"tag":494,"props":3253,"children":3254},{"style":507},[3255],{"type":401,"value":3256},"            dependArray",{"type":395,"tag":494,"props":3258,"children":3259},{"style":571},[3260],{"type":401,"value":516},{"type":395,"tag":494,"props":3262,"children":3263},{"style":549},[3264],{"type":401,"value":522},{"type":395,"tag":494,"props":3266,"children":3267},{"style":571},[3268],{"type":401,"value":537},{"type":395,"tag":494,"props":3270,"children":3271},{"style":513},[3272],{"type":401,"value":586},{"type":395,"tag":494,"props":3274,"children":3275},{"class":496,"line":1372},[3276],{"type":395,"tag":494,"props":3277,"children":3278},{"style":513},[3279],{"type":401,"value":3280},"          }\n",{"type":395,"tag":494,"props":3282,"children":3283},{"class":496,"line":1398},[3284],{"type":395,"tag":494,"props":3285,"children":3286},{"style":513},[3287],{"type":401,"value":3288},"        }\n",{"type":395,"tag":494,"props":3290,"children":3291},{"class":496,"line":1488},[3292],{"type":395,"tag":494,"props":3293,"children":3294},{"style":513},[3295],{"type":401,"value":1036},{"type":395,"tag":494,"props":3297,"children":3298},{"class":496,"line":1521},[3299,3304,3308],{"type":395,"tag":494,"props":3300,"children":3301},{"style":593},[3302],{"type":401,"value":3303},"      return",{"type":395,"tag":494,"props":3305,"children":3306},{"style":549},[3307],{"type":401,"value":694},{"type":395,"tag":494,"props":3309,"children":3310},{"style":513},[3311],{"type":401,"value":586},{"type":395,"tag":494,"props":3313,"children":3314},{"class":496,"line":1529},[3315],{"type":395,"tag":494,"props":3316,"children":3317},{"style":513},[3318],{"type":401,"value":3319},"    },\n",{"type":395,"tag":494,"props":3321,"children":3322},{"class":496,"line":1537},[3323,3328,3332,3336,3341,3345,3350,3354],{"type":395,"tag":494,"props":3324,"children":3325},{"style":507},[3326],{"type":401,"value":3327},"    set",{"type":395,"tag":494,"props":3329,"children":3330},{"style":513},[3331],{"type":401,"value":2965},{"type":395,"tag":494,"props":3333,"children":3334},{"style":501},[3335],{"type":401,"value":1873},{"type":395,"tag":494,"props":3337,"children":3338},{"style":507},[3339],{"type":401,"value":3340}," reactiveSetter",{"type":395,"tag":494,"props":3342,"children":3343},{"style":513},[3344],{"type":401,"value":516},{"type":395,"tag":494,"props":3346,"children":3347},{"style":519},[3348],{"type":401,"value":3349},"newVal",{"type":395,"tag":494,"props":3351,"children":3352},{"style":513},[3353],{"type":401,"value":537},{"type":395,"tag":494,"props":3355,"children":3356},{"style":513},[3357],{"type":401,"value":542},{"type":395,"tag":494,"props":3359,"children":3361},{"class":496,"line":3360},41,[3362,3366,3370,3374,3378,3382,3386,3390,3394,3398,3402,3406,3410,3414],{"type":395,"tag":494,"props":3363,"children":3364},{"style":501},[3365],{"type":401,"value":3031},{"type":395,"tag":494,"props":3367,"children":3368},{"style":1185},[3369],{"type":401,"value":694},{"type":395,"tag":494,"props":3371,"children":3372},{"style":555},[3373],{"type":401,"value":558},{"type":395,"tag":494,"props":3375,"children":3376},{"style":549},[3377],{"type":401,"value":2655},{"type":395,"tag":494,"props":3379,"children":3380},{"style":555},[3381],{"type":401,"value":3048},{"type":395,"tag":494,"props":3383,"children":3384},{"style":549},[3385],{"type":401,"value":2655},{"type":395,"tag":494,"props":3387,"children":3388},{"style":513},[3389],{"type":401,"value":681},{"type":395,"tag":494,"props":3391,"children":3392},{"style":507},[3393],{"type":401,"value":3061},{"type":395,"tag":494,"props":3395,"children":3396},{"style":571},[3397],{"type":401,"value":516},{"type":395,"tag":494,"props":3399,"children":3400},{"style":549},[3401],{"type":401,"value":1165},{"type":395,"tag":494,"props":3403,"children":3404},{"style":571},[3405],{"type":401,"value":929},{"type":395,"tag":494,"props":3407,"children":3408},{"style":555},[3409],{"type":401,"value":2965},{"type":395,"tag":494,"props":3411,"children":3412},{"style":549},[3413],{"type":401,"value":2406},{"type":395,"tag":494,"props":3415,"children":3416},{"style":513},[3417],{"type":401,"value":586},{"type":395,"tag":494,"props":3419,"children":3421},{"class":496,"line":3420},42,[3422],{"type":395,"tag":494,"props":3423,"children":3424},{"style":705},[3425],{"type":401,"value":3426},"      /* eslint-disable no-self-compare */\n",{"type":395,"tag":494,"props":3428,"children":3430},{"class":496,"line":3429},43,[3431,3435,3439,3443,3447,3451,3455,3459,3463,3468,3473,3477,3481,3485,3489,3493],{"type":395,"tag":494,"props":3432,"children":3433},{"style":593},[3434],{"type":401,"value":915},{"type":395,"tag":494,"props":3436,"children":3437},{"style":571},[3438],{"type":401,"value":874},{"type":395,"tag":494,"props":3440,"children":3441},{"style":549},[3442],{"type":401,"value":3349},{"type":395,"tag":494,"props":3444,"children":3445},{"style":555},[3446],{"type":401,"value":2588},{"type":395,"tag":494,"props":3448,"children":3449},{"style":549},[3450],{"type":401,"value":694},{"type":395,"tag":494,"props":3452,"children":3453},{"style":555},[3454],{"type":401,"value":2752},{"type":395,"tag":494,"props":3456,"children":3457},{"style":571},[3458],{"type":401,"value":874},{"type":395,"tag":494,"props":3460,"children":3461},{"style":549},[3462],{"type":401,"value":3349},{"type":395,"tag":494,"props":3464,"children":3465},{"style":555},[3466],{"type":401,"value":3467}," !==",{"type":395,"tag":494,"props":3469,"children":3470},{"style":549},[3471],{"type":401,"value":3472}," newVal",{"type":395,"tag":494,"props":3474,"children":3475},{"style":555},[3476],{"type":401,"value":2570},{"type":395,"tag":494,"props":3478,"children":3479},{"style":549},[3480],{"type":401,"value":694},{"type":395,"tag":494,"props":3482,"children":3483},{"style":555},[3484],{"type":401,"value":3467},{"type":395,"tag":494,"props":3486,"children":3487},{"style":549},[3488],{"type":401,"value":694},{"type":395,"tag":494,"props":3490,"children":3491},{"style":571},[3492],{"type":401,"value":901},{"type":395,"tag":494,"props":3494,"children":3495},{"style":513},[3496],{"type":401,"value":906},{"type":395,"tag":494,"props":3498,"children":3500},{"class":496,"line":3499},44,[3501,3506],{"type":395,"tag":494,"props":3502,"children":3503},{"style":593},[3504],{"type":401,"value":3505},"        return",{"type":395,"tag":494,"props":3507,"children":3508},{"style":513},[3509],{"type":401,"value":586},{"type":395,"tag":494,"props":3511,"children":3513},{"class":496,"line":3512},45,[3514],{"type":395,"tag":494,"props":3515,"children":3516},{"style":513},[3517],{"type":401,"value":1036},{"type":395,"tag":494,"props":3519,"children":3521},{"class":496,"line":3520},46,[3522],{"type":395,"tag":494,"props":3523,"children":3524},{"style":705},[3525],{"type":401,"value":3526},"      // 非生产环境：自定义 setter 副作用\n",{"type":395,"tag":494,"props":3528,"children":3530},{"class":496,"line":3529},47,[3531,3535,3539,3544,3548,3553,3557,3562,3566,3570,3575,3579,3583,3587,3591],{"type":395,"tag":494,"props":3532,"children":3533},{"style":593},[3534],{"type":401,"value":915},{"type":395,"tag":494,"props":3536,"children":3537},{"style":571},[3538],{"type":401,"value":874},{"type":395,"tag":494,"props":3540,"children":3541},{"style":549},[3542],{"type":401,"value":3543},"process",{"type":395,"tag":494,"props":3545,"children":3546},{"style":513},[3547],{"type":401,"value":681},{"type":395,"tag":494,"props":3549,"children":3550},{"style":549},[3551],{"type":401,"value":3552},"env",{"type":395,"tag":494,"props":3554,"children":3555},{"style":513},[3556],{"type":401,"value":681},{"type":395,"tag":494,"props":3558,"children":3559},{"style":1185},[3560],{"type":401,"value":3561},"NODE_ENV",{"type":395,"tag":494,"props":3563,"children":3564},{"style":555},[3565],{"type":401,"value":3467},{"type":395,"tag":494,"props":3567,"children":3568},{"style":811},[3569],{"type":401,"value":814},{"type":395,"tag":494,"props":3571,"children":3572},{"style":817},[3573],{"type":401,"value":3574},"production",{"type":395,"tag":494,"props":3576,"children":3577},{"style":811},[3578],{"type":401,"value":825},{"type":395,"tag":494,"props":3580,"children":3581},{"style":555},[3582],{"type":401,"value":2570},{"type":395,"tag":494,"props":3584,"children":3585},{"style":549},[3586],{"type":401,"value":2415},{"type":395,"tag":494,"props":3588,"children":3589},{"style":571},[3590],{"type":401,"value":929},{"type":395,"tag":494,"props":3592,"children":3593},{"style":513},[3594],{"type":401,"value":906},{"type":395,"tag":494,"props":3596,"children":3598},{"class":496,"line":3597},48,[3599,3604,3608],{"type":395,"tag":494,"props":3600,"children":3601},{"style":507},[3602],{"type":401,"value":3603},"        customSetter",{"type":395,"tag":494,"props":3605,"children":3606},{"style":571},[3607],{"type":401,"value":743},{"type":395,"tag":494,"props":3609,"children":3610},{"style":513},[3611],{"type":401,"value":586},{"type":395,"tag":494,"props":3613,"children":3615},{"class":496,"line":3614},49,[3616],{"type":395,"tag":494,"props":3617,"children":3618},{"style":513},[3619],{"type":401,"value":1036},{"type":395,"tag":494,"props":3621,"children":3623},{"class":496,"line":3622},50,[3624],{"type":395,"tag":494,"props":3625,"children":3626},{"style":705},[3627],{"type":401,"value":3628},"      // #7981: for accessor properties without setter\n",{"type":395,"tag":494,"props":3630,"children":3632},{"class":496,"line":3631},51,[3633,3637,3641,3645,3649,3653,3658,3662,3667],{"type":395,"tag":494,"props":3634,"children":3635},{"style":593},[3636],{"type":401,"value":915},{"type":395,"tag":494,"props":3638,"children":3639},{"style":571},[3640],{"type":401,"value":874},{"type":395,"tag":494,"props":3642,"children":3643},{"style":549},[3644],{"type":401,"value":2747},{"type":395,"tag":494,"props":3646,"children":3647},{"style":555},[3648],{"type":401,"value":2570},{"type":395,"tag":494,"props":3650,"children":3651},{"style":555},[3652],{"type":401,"value":2874},{"type":395,"tag":494,"props":3654,"children":3655},{"style":549},[3656],{"type":401,"value":3657},"setter",{"type":395,"tag":494,"props":3659,"children":3660},{"style":571},[3661],{"type":401,"value":929},{"type":395,"tag":494,"props":3663,"children":3664},{"style":593},[3665],{"type":401,"value":3666},"return",{"type":395,"tag":494,"props":3668,"children":3669},{"style":513},[3670],{"type":401,"value":586},{"type":395,"tag":494,"props":3672,"children":3674},{"class":496,"line":3673},52,[3675],{"type":395,"tag":494,"props":3676,"children":3677},{"style":705},[3678],{"type":401,"value":3679},"      // 使用原有的 setter 更新值或直接更新值\n",{"type":395,"tag":494,"props":3681,"children":3683},{"class":496,"line":3682},53,[3684,3688,3692,3696,3700],{"type":395,"tag":494,"props":3685,"children":3686},{"style":593},[3687],{"type":401,"value":915},{"type":395,"tag":494,"props":3689,"children":3690},{"style":571},[3691],{"type":401,"value":874},{"type":395,"tag":494,"props":3693,"children":3694},{"style":549},[3695],{"type":401,"value":3657},{"type":395,"tag":494,"props":3697,"children":3698},{"style":571},[3699],{"type":401,"value":929},{"type":395,"tag":494,"props":3701,"children":3702},{"style":513},[3703],{"type":401,"value":906},{"type":395,"tag":494,"props":3705,"children":3707},{"class":496,"line":3706},54,[3708,3713,3717,3721,3725,3729,3733,3737,3741],{"type":395,"tag":494,"props":3709,"children":3710},{"style":549},[3711],{"type":401,"value":3712},"        setter",{"type":395,"tag":494,"props":3714,"children":3715},{"style":513},[3716],{"type":401,"value":681},{"type":395,"tag":494,"props":3718,"children":3719},{"style":507},[3720],{"type":401,"value":3061},{"type":395,"tag":494,"props":3722,"children":3723},{"style":571},[3724],{"type":401,"value":516},{"type":395,"tag":494,"props":3726,"children":3727},{"style":549},[3728],{"type":401,"value":1165},{"type":395,"tag":494,"props":3730,"children":3731},{"style":513},[3732],{"type":401,"value":527},{"type":395,"tag":494,"props":3734,"children":3735},{"style":549},[3736],{"type":401,"value":3472},{"type":395,"tag":494,"props":3738,"children":3739},{"style":571},[3740],{"type":401,"value":537},{"type":395,"tag":494,"props":3742,"children":3743},{"style":513},[3744],{"type":401,"value":586},{"type":395,"tag":494,"props":3746,"children":3748},{"class":496,"line":3747},55,[3749,3753,3757],{"type":395,"tag":494,"props":3750,"children":3751},{"style":513},[3752],{"type":401,"value":976},{"type":395,"tag":494,"props":3754,"children":3755},{"style":593},[3756],{"type":401,"value":981},{"type":395,"tag":494,"props":3758,"children":3759},{"style":513},[3760],{"type":401,"value":542},{"type":395,"tag":494,"props":3762,"children":3764},{"class":496,"line":3763},56,[3765,3770,3774,3778],{"type":395,"tag":494,"props":3766,"children":3767},{"style":549},[3768],{"type":401,"value":3769},"        val",{"type":395,"tag":494,"props":3771,"children":3772},{"style":555},[3773],{"type":401,"value":558},{"type":395,"tag":494,"props":3775,"children":3776},{"style":549},[3777],{"type":401,"value":3472},{"type":395,"tag":494,"props":3779,"children":3780},{"style":513},[3781],{"type":401,"value":586},{"type":395,"tag":494,"props":3783,"children":3785},{"class":496,"line":3784},57,[3786],{"type":395,"tag":494,"props":3787,"children":3788},{"style":513},[3789],{"type":401,"value":1036},{"type":395,"tag":494,"props":3791,"children":3793},{"class":496,"line":3792},58,[3794],{"type":395,"tag":494,"props":3795,"children":3796},{"style":705},[3797],{"type":401,"value":3798},"      // 侦测子对象的变化\n",{"type":395,"tag":494,"props":3800,"children":3802},{"class":496,"line":3801},59,[3803,3808,3812,3816,3820,3824,3828,3832,3836,3840],{"type":395,"tag":494,"props":3804,"children":3805},{"style":549},[3806],{"type":401,"value":3807},"      childOb",{"type":395,"tag":494,"props":3809,"children":3810},{"style":555},[3811],{"type":401,"value":558},{"type":395,"tag":494,"props":3813,"children":3814},{"style":555},[3815],{"type":401,"value":2874},{"type":395,"tag":494,"props":3817,"children":3818},{"style":549},[3819],{"type":401,"value":2879},{"type":395,"tag":494,"props":3821,"children":3822},{"style":555},[3823],{"type":401,"value":2570},{"type":395,"tag":494,"props":3825,"children":3826},{"style":507},[3827],{"type":401,"value":510},{"type":395,"tag":494,"props":3829,"children":3830},{"style":571},[3831],{"type":401,"value":516},{"type":395,"tag":494,"props":3833,"children":3834},{"style":549},[3835],{"type":401,"value":3349},{"type":395,"tag":494,"props":3837,"children":3838},{"style":571},[3839],{"type":401,"value":537},{"type":395,"tag":494,"props":3841,"children":3842},{"style":513},[3843],{"type":401,"value":586},{"type":395,"tag":494,"props":3845,"children":3847},{"class":496,"line":3846},60,[3848],{"type":395,"tag":494,"props":3849,"children":3850},{"style":705},[3851],{"type":401,"value":3852},"      // 通知依赖更新\n",{"type":395,"tag":494,"props":3854,"children":3856},{"class":496,"line":3855},61,[3857,3862,3866,3870,3874],{"type":395,"tag":494,"props":3858,"children":3859},{"style":549},[3860],{"type":401,"value":3861},"      dep",{"type":395,"tag":494,"props":3863,"children":3864},{"style":513},[3865],{"type":401,"value":681},{"type":395,"tag":494,"props":3867,"children":3868},{"style":507},[3869],{"type":401,"value":2295},{"type":395,"tag":494,"props":3871,"children":3872},{"style":571},[3873],{"type":401,"value":743},{"type":395,"tag":494,"props":3875,"children":3876},{"style":513},[3877],{"type":401,"value":586},{"type":395,"tag":494,"props":3879,"children":3881},{"class":496,"line":3880},62,[3882],{"type":395,"tag":494,"props":3883,"children":3884},{"style":513},[3885],{"type":401,"value":3319},{"type":395,"tag":494,"props":3887,"children":3889},{"class":496,"line":3888},63,[3890,3894,3898],{"type":395,"tag":494,"props":3891,"children":3892},{"style":513},[3893],{"type":401,"value":2327},{"type":395,"tag":494,"props":3895,"children":3896},{"style":571},[3897],{"type":401,"value":537},{"type":395,"tag":494,"props":3899,"children":3900},{"style":513},[3901],{"type":401,"value":586},{"type":395,"tag":494,"props":3903,"children":3905},{"class":496,"line":3904},64,[3906],{"type":395,"tag":494,"props":3907,"children":3908},{"style":513},[3909],{"type":401,"value":614},{"type":395,"tag":469,"props":3911,"children":3913},{"id":3912},"依赖容器及依赖",[3914],{"type":401,"value":3912},{"type":395,"tag":428,"props":3916,"children":3917},{},[3918],{"type":401,"value":3919},"接下来进入比较绕的部分。首先回答：依赖容器是什么？",{"type":395,"tag":428,"props":3921,"children":3922},{},[3923],{"type":401,"value":3924},"刚刚看到了 dep.notify 的作用是“通知依赖更新”，所以 Dep 就是依赖容器。",{"type":395,"tag":428,"props":3926,"children":3927},{},[3928],{"type":401,"value":3929},"我们上小节说到，每个属性都保持了一个依赖容器，所有依赖都会存放在这个依赖容器实例中。所以依赖容器还提供了统一更新依赖、删除依赖之类的方法。",{"type":395,"tag":434,"props":3931,"children":3933},{"code":3932,"language":487,"meta":388,"className":488,"style":388},"class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n  // 添加依赖\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n  // 删除依赖\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n  // 收集依赖\n  depend() {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  // 通知依赖更新\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice();\n    for (let i = 0, l = subs.length; i \u003C l; i++) {\n      subs[i].update();\n    }\n  }\n}\n",[3934],{"type":395,"tag":439,"props":3935,"children":3936},{"__ignoreMap":388},[3937,3952,3967,4000,4029,4036,4044,4069,4108,4115,4123,4147,4188,4195,4203,4219,4250,4291,4298,4305,4313,4329,4337,4381,4468,4505,4512,4519],{"type":395,"tag":494,"props":3938,"children":3939},{"class":496,"line":497},[3940,3944,3948],{"type":395,"tag":494,"props":3941,"children":3942},{"style":501},[3943],{"type":401,"value":632},{"type":395,"tag":494,"props":3945,"children":3946},{"style":635},[3947],{"type":401,"value":738},{"type":395,"tag":494,"props":3949,"children":3950},{"style":513},[3951],{"type":401,"value":542},{"type":395,"tag":494,"props":3953,"children":3954},{"class":496,"line":545},[3955,3959,3963],{"type":395,"tag":494,"props":3956,"children":3957},{"style":501},[3958],{"type":401,"value":650},{"type":395,"tag":494,"props":3960,"children":3961},{"style":513},[3962],{"type":401,"value":743},{"type":395,"tag":494,"props":3964,"children":3965},{"style":513},[3966],{"type":401,"value":542},{"type":395,"tag":494,"props":3968,"children":3969},{"class":496,"line":589},[3970,3974,3978,3983,3987,3992,3996],{"type":395,"tag":494,"props":3971,"children":3972},{"style":673},[3973],{"type":401,"value":676},{"type":395,"tag":494,"props":3975,"children":3976},{"style":513},[3977],{"type":401,"value":681},{"type":395,"tag":494,"props":3979,"children":3980},{"style":549},[3981],{"type":401,"value":3982},"id",{"type":395,"tag":494,"props":3984,"children":3985},{"style":555},[3986],{"type":401,"value":558},{"type":395,"tag":494,"props":3988,"children":3989},{"style":549},[3990],{"type":401,"value":3991}," uid",{"type":395,"tag":494,"props":3993,"children":3994},{"style":555},[3995],{"type":401,"value":1293},{"type":395,"tag":494,"props":3997,"children":3998},{"style":513},[3999],{"type":401,"value":586},{"type":395,"tag":494,"props":4001,"children":4002},{"class":496,"line":608},[4003,4007,4011,4016,4020,4025],{"type":395,"tag":494,"props":4004,"children":4005},{"style":673},[4006],{"type":401,"value":676},{"type":395,"tag":494,"props":4008,"children":4009},{"style":513},[4010],{"type":401,"value":681},{"type":395,"tag":494,"props":4012,"children":4013},{"style":549},[4014],{"type":401,"value":4015},"subs",{"type":395,"tag":494,"props":4017,"children":4018},{"style":555},[4019],{"type":401,"value":558},{"type":395,"tag":494,"props":4021,"children":4022},{"style":571},[4023],{"type":401,"value":4024}," []",{"type":395,"tag":494,"props":4026,"children":4027},{"style":513},[4028],{"type":401,"value":586},{"type":395,"tag":494,"props":4030,"children":4031},{"class":496,"line":617},[4032],{"type":395,"tag":494,"props":4033,"children":4034},{"style":513},[4035],{"type":401,"value":1138},{"type":395,"tag":494,"props":4037,"children":4038},{"class":496,"line":626},[4039],{"type":395,"tag":494,"props":4040,"children":4041},{"style":705},[4042],{"type":401,"value":4043},"  // 添加依赖\n",{"type":395,"tag":494,"props":4045,"children":4046},{"class":496,"line":644},[4047,4052,4056,4061,4065],{"type":395,"tag":494,"props":4048,"children":4049},{"style":1153},[4050],{"type":401,"value":4051},"  addSub",{"type":395,"tag":494,"props":4053,"children":4054},{"style":513},[4055],{"type":401,"value":516},{"type":395,"tag":494,"props":4057,"children":4058},{"style":519},[4059],{"type":401,"value":4060},"sub",{"type":395,"tag":494,"props":4062,"children":4063},{"style":513},[4064],{"type":401,"value":537},{"type":395,"tag":494,"props":4066,"children":4067},{"style":513},[4068],{"type":401,"value":542},{"type":395,"tag":494,"props":4070,"children":4071},{"class":496,"line":669},[4072,4076,4080,4084,4088,4092,4096,4100,4104],{"type":395,"tag":494,"props":4073,"children":4074},{"style":673},[4075],{"type":401,"value":676},{"type":395,"tag":494,"props":4077,"children":4078},{"style":513},[4079],{"type":401,"value":681},{"type":395,"tag":494,"props":4081,"children":4082},{"style":549},[4083],{"type":401,"value":4015},{"type":395,"tag":494,"props":4085,"children":4086},{"style":513},[4087],{"type":401,"value":681},{"type":395,"tag":494,"props":4089,"children":4090},{"style":507},[4091],{"type":401,"value":1602},{"type":395,"tag":494,"props":4093,"children":4094},{"style":571},[4095],{"type":401,"value":516},{"type":395,"tag":494,"props":4097,"children":4098},{"style":549},[4099],{"type":401,"value":4060},{"type":395,"tag":494,"props":4101,"children":4102},{"style":571},[4103],{"type":401,"value":537},{"type":395,"tag":494,"props":4105,"children":4106},{"style":513},[4107],{"type":401,"value":586},{"type":395,"tag":494,"props":4109,"children":4110},{"class":496,"line":701},[4111],{"type":395,"tag":494,"props":4112,"children":4113},{"style":513},[4114],{"type":401,"value":1138},{"type":395,"tag":494,"props":4116,"children":4117},{"class":496,"line":711},[4118],{"type":395,"tag":494,"props":4119,"children":4120},{"style":705},[4121],{"type":401,"value":4122},"  // 删除依赖\n",{"type":395,"tag":494,"props":4124,"children":4125},{"class":496,"line":750},[4126,4131,4135,4139,4143],{"type":395,"tag":494,"props":4127,"children":4128},{"style":1153},[4129],{"type":401,"value":4130},"  removeSub",{"type":395,"tag":494,"props":4132,"children":4133},{"style":513},[4134],{"type":401,"value":516},{"type":395,"tag":494,"props":4136,"children":4137},{"style":519},[4138],{"type":401,"value":4060},{"type":395,"tag":494,"props":4140,"children":4141},{"style":513},[4142],{"type":401,"value":537},{"type":395,"tag":494,"props":4144,"children":4145},{"style":513},[4146],{"type":401,"value":542},{"type":395,"tag":494,"props":4148,"children":4149},{"class":496,"line":781},[4150,4155,4159,4163,4167,4171,4175,4180,4184],{"type":395,"tag":494,"props":4151,"children":4152},{"style":507},[4153],{"type":401,"value":4154},"    remove",{"type":395,"tag":494,"props":4156,"children":4157},{"style":571},[4158],{"type":401,"value":516},{"type":395,"tag":494,"props":4160,"children":4161},{"style":673},[4162],{"type":401,"value":1946},{"type":395,"tag":494,"props":4164,"children":4165},{"style":513},[4166],{"type":401,"value":681},{"type":395,"tag":494,"props":4168,"children":4169},{"style":549},[4170],{"type":401,"value":4015},{"type":395,"tag":494,"props":4172,"children":4173},{"style":513},[4174],{"type":401,"value":527},{"type":395,"tag":494,"props":4176,"children":4177},{"style":549},[4178],{"type":401,"value":4179}," sub",{"type":395,"tag":494,"props":4181,"children":4182},{"style":571},[4183],{"type":401,"value":537},{"type":395,"tag":494,"props":4185,"children":4186},{"style":513},[4187],{"type":401,"value":586},{"type":395,"tag":494,"props":4189,"children":4190},{"class":496,"line":790},[4191],{"type":395,"tag":494,"props":4192,"children":4193},{"style":513},[4194],{"type":401,"value":1138},{"type":395,"tag":494,"props":4196,"children":4197},{"class":496,"line":845},[4198],{"type":395,"tag":494,"props":4199,"children":4200},{"style":705},[4201],{"type":401,"value":4202},"  // 收集依赖\n",{"type":395,"tag":494,"props":4204,"children":4205},{"class":496,"line":854},[4206,4211,4215],{"type":395,"tag":494,"props":4207,"children":4208},{"style":1153},[4209],{"type":401,"value":4210},"  depend",{"type":395,"tag":494,"props":4212,"children":4213},{"style":513},[4214],{"type":401,"value":743},{"type":395,"tag":494,"props":4216,"children":4217},{"style":513},[4218],{"type":401,"value":542},{"type":395,"tag":494,"props":4220,"children":4221},{"class":496,"line":863},[4222,4226,4230,4234,4238,4242,4246],{"type":395,"tag":494,"props":4223,"children":4224},{"style":593},[4225],{"type":401,"value":869},{"type":395,"tag":494,"props":4227,"children":4228},{"style":571},[4229],{"type":401,"value":874},{"type":395,"tag":494,"props":4231,"children":4232},{"style":549},[4233],{"type":401,"value":3109},{"type":395,"tag":494,"props":4235,"children":4236},{"style":513},[4237],{"type":401,"value":681},{"type":395,"tag":494,"props":4239,"children":4240},{"style":549},[4241],{"type":401,"value":3118},{"type":395,"tag":494,"props":4243,"children":4244},{"style":571},[4245],{"type":401,"value":929},{"type":395,"tag":494,"props":4247,"children":4248},{"style":513},[4249],{"type":401,"value":906},{"type":395,"tag":494,"props":4251,"children":4252},{"class":496,"line":909},[4253,4258,4262,4266,4270,4275,4279,4283,4287],{"type":395,"tag":494,"props":4254,"children":4255},{"style":549},[4256],{"type":401,"value":4257},"      Dep",{"type":395,"tag":494,"props":4259,"children":4260},{"style":513},[4261],{"type":401,"value":681},{"type":395,"tag":494,"props":4263,"children":4264},{"style":549},[4265],{"type":401,"value":3118},{"type":395,"tag":494,"props":4267,"children":4268},{"style":513},[4269],{"type":401,"value":681},{"type":395,"tag":494,"props":4271,"children":4272},{"style":507},[4273],{"type":401,"value":4274},"addDep",{"type":395,"tag":494,"props":4276,"children":4277},{"style":571},[4278],{"type":401,"value":516},{"type":395,"tag":494,"props":4280,"children":4281},{"style":673},[4282],{"type":401,"value":1946},{"type":395,"tag":494,"props":4284,"children":4285},{"style":571},[4286],{"type":401,"value":537},{"type":395,"tag":494,"props":4288,"children":4289},{"style":513},[4290],{"type":401,"value":586},{"type":395,"tag":494,"props":4292,"children":4293},{"class":496,"line":936},[4294],{"type":395,"tag":494,"props":4295,"children":4296},{"style":513},[4297],{"type":401,"value":1129},{"type":395,"tag":494,"props":4299,"children":4300},{"class":496,"line":970},[4301],{"type":395,"tag":494,"props":4302,"children":4303},{"style":513},[4304],{"type":401,"value":1138},{"type":395,"tag":494,"props":4306,"children":4307},{"class":496,"line":988},[4308],{"type":395,"tag":494,"props":4309,"children":4310},{"style":705},[4311],{"type":401,"value":4312},"  // 通知依赖更新\n",{"type":395,"tag":494,"props":4314,"children":4315},{"class":496,"line":1030},[4316,4321,4325],{"type":395,"tag":494,"props":4317,"children":4318},{"style":1153},[4319],{"type":401,"value":4320},"  notify",{"type":395,"tag":494,"props":4322,"children":4323},{"style":513},[4324],{"type":401,"value":743},{"type":395,"tag":494,"props":4326,"children":4327},{"style":513},[4328],{"type":401,"value":542},{"type":395,"tag":494,"props":4330,"children":4331},{"class":496,"line":1039},[4332],{"type":395,"tag":494,"props":4333,"children":4334},{"style":705},[4335],{"type":401,"value":4336},"    // stabilize the subscriber list first\n",{"type":395,"tag":494,"props":4338,"children":4339},{"class":496,"line":1073},[4340,4344,4349,4353,4357,4361,4365,4369,4373,4377],{"type":395,"tag":494,"props":4341,"children":4342},{"style":501},[4343],{"type":401,"value":1182},{"type":395,"tag":494,"props":4345,"children":4346},{"style":1185},[4347],{"type":401,"value":4348}," subs",{"type":395,"tag":494,"props":4350,"children":4351},{"style":555},[4352],{"type":401,"value":558},{"type":395,"tag":494,"props":4354,"children":4355},{"style":673},[4356],{"type":401,"value":834},{"type":395,"tag":494,"props":4358,"children":4359},{"style":513},[4360],{"type":401,"value":681},{"type":395,"tag":494,"props":4362,"children":4363},{"style":549},[4364],{"type":401,"value":4015},{"type":395,"tag":494,"props":4366,"children":4367},{"style":513},[4368],{"type":401,"value":681},{"type":395,"tag":494,"props":4370,"children":4371},{"style":507},[4372],{"type":401,"value":2178},{"type":395,"tag":494,"props":4374,"children":4375},{"style":571},[4376],{"type":401,"value":743},{"type":395,"tag":494,"props":4378,"children":4379},{"style":513},[4380],{"type":401,"value":586},{"type":395,"tag":494,"props":4382,"children":4383},{"class":496,"line":1090},[4384,4388,4392,4396,4400,4404,4408,4412,4416,4420,4424,4428,4432,4436,4440,4444,4448,4452,4456,4460,4464],{"type":395,"tag":494,"props":4385,"children":4386},{"style":593},[4387],{"type":401,"value":1231},{"type":395,"tag":494,"props":4389,"children":4390},{"style":571},[4391],{"type":401,"value":874},{"type":395,"tag":494,"props":4393,"children":4394},{"style":501},[4395],{"type":401,"value":1240},{"type":395,"tag":494,"props":4397,"children":4398},{"style":549},[4399],{"type":401,"value":1245},{"type":395,"tag":494,"props":4401,"children":4402},{"style":555},[4403],{"type":401,"value":558},{"type":395,"tag":494,"props":4405,"children":4406},{"style":771},[4407],{"type":401,"value":774},{"type":395,"tag":494,"props":4409,"children":4410},{"style":513},[4411],{"type":401,"value":527},{"type":395,"tag":494,"props":4413,"children":4414},{"style":549},[4415],{"type":401,"value":1432},{"type":395,"tag":494,"props":4417,"children":4418},{"style":555},[4419],{"type":401,"value":558},{"type":395,"tag":494,"props":4421,"children":4422},{"style":549},[4423],{"type":401,"value":4348},{"type":395,"tag":494,"props":4425,"children":4426},{"style":513},[4427],{"type":401,"value":681},{"type":395,"tag":494,"props":4429,"children":4430},{"style":1185},[4431],{"type":401,"value":1280},{"type":395,"tag":494,"props":4433,"children":4434},{"style":513},[4435],{"type":401,"value":1258},{"type":395,"tag":494,"props":4437,"children":4438},{"style":549},[4439],{"type":401,"value":1245},{"type":395,"tag":494,"props":4441,"children":4442},{"style":555},[4443],{"type":401,"value":1267},{"type":395,"tag":494,"props":4445,"children":4446},{"style":549},[4447],{"type":401,"value":1432},{"type":395,"tag":494,"props":4449,"children":4450},{"style":513},[4451],{"type":401,"value":1258},{"type":395,"tag":494,"props":4453,"children":4454},{"style":549},[4455],{"type":401,"value":1245},{"type":395,"tag":494,"props":4457,"children":4458},{"style":555},[4459],{"type":401,"value":1293},{"type":395,"tag":494,"props":4461,"children":4462},{"style":571},[4463],{"type":401,"value":929},{"type":395,"tag":494,"props":4465,"children":4466},{"style":513},[4467],{"type":401,"value":906},{"type":395,"tag":494,"props":4469,"children":4470},{"class":496,"line":1123},[4471,4476,4480,4484,4488,4492,4497,4501],{"type":395,"tag":494,"props":4472,"children":4473},{"style":549},[4474],{"type":401,"value":4475},"      subs",{"type":395,"tag":494,"props":4477,"children":4478},{"style":571},[4479],{"type":401,"value":1331},{"type":395,"tag":494,"props":4481,"children":4482},{"style":549},[4483],{"type":401,"value":1336},{"type":395,"tag":494,"props":4485,"children":4486},{"style":571},[4487],{"type":401,"value":1739},{"type":395,"tag":494,"props":4489,"children":4490},{"style":513},[4491],{"type":401,"value":681},{"type":395,"tag":494,"props":4493,"children":4494},{"style":507},[4495],{"type":401,"value":4496},"update",{"type":395,"tag":494,"props":4498,"children":4499},{"style":571},[4500],{"type":401,"value":743},{"type":395,"tag":494,"props":4502,"children":4503},{"style":513},[4504],{"type":401,"value":586},{"type":395,"tag":494,"props":4506,"children":4507},{"class":496,"line":1132},[4508],{"type":395,"tag":494,"props":4509,"children":4510},{"style":513},[4511],{"type":401,"value":1129},{"type":395,"tag":494,"props":4513,"children":4514},{"class":496,"line":1141},[4515],{"type":395,"tag":494,"props":4516,"children":4517},{"style":513},[4518],{"type":401,"value":1138},{"type":395,"tag":494,"props":4520,"children":4521},{"class":496,"line":1149},[4522],{"type":395,"tag":494,"props":4523,"children":4524},{"style":513},[4525],{"type":401,"value":614},{"type":395,"tag":428,"props":4527,"children":4528},{},[4529],{"type":401,"value":4530},"依赖容器和依赖之间是存在耦合的，所以我们看到收集依赖的这个地方，仅仅调用了依赖的 addDep 方法，没有调用 addSub 把添加依赖。其实，addSub 是在依赖的 addDep 方法中调用的。这个和观察者模式离不开关系，在观察者模式中，观察者直接观测目标，并相应目标做出的通知。Watcher 直接观测响应式数据，当数据发生变更时，就能收到通知。但由于数据和观察者是多对多的关系，所以需要 Dep 依赖容器这么一个东西用来保存 Watcher 与数据的关系。",{"type":395,"tag":428,"props":4532,"children":4533},{},[4534],{"type":395,"tag":4535,"props":4536,"children":4538},"img",{"alt":445,"src":4537},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20200810100326.png?w=70",[],{"type":395,"tag":428,"props":4540,"children":4541},{},[4542],{"type":401,"value":4543},"Dep.target 用来表示当前依赖，并且源码维护了一个依赖栈，通过提供的 pushTarget、popTarget 方法维护依赖栈及当前依赖（状态）。看以下代码：",{"type":395,"tag":434,"props":4545,"children":4547},{"code":4546,"language":487,"meta":388,"className":488,"style":388},"// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nconst targetStack = [];\nfunction pushTarget(target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\nfunction popTarget() {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n",[4548],{"type":395,"tag":439,"props":4549,"children":4550},{"__ignoreMap":388},[4551,4559,4567,4575,4606,4630,4658,4690,4719,4726,4746,4769,4827],{"type":395,"tag":494,"props":4552,"children":4553},{"class":496,"line":497},[4554],{"type":395,"tag":494,"props":4555,"children":4556},{"style":705},[4557],{"type":401,"value":4558},"// The current target watcher being evaluated.\n",{"type":395,"tag":494,"props":4560,"children":4561},{"class":496,"line":545},[4562],{"type":395,"tag":494,"props":4563,"children":4564},{"style":705},[4565],{"type":401,"value":4566},"// This is globally unique because only one watcher\n",{"type":395,"tag":494,"props":4568,"children":4569},{"class":496,"line":589},[4570],{"type":395,"tag":494,"props":4571,"children":4572},{"style":705},[4573],{"type":401,"value":4574},"// can be evaluated at a time.\n",{"type":395,"tag":494,"props":4576,"children":4577},{"class":496,"line":608},[4578,4582,4586,4591,4596,4602],{"type":395,"tag":494,"props":4579,"children":4580},{"style":549},[4581],{"type":401,"value":3109},{"type":395,"tag":494,"props":4583,"children":4584},{"style":513},[4585],{"type":401,"value":681},{"type":395,"tag":494,"props":4587,"children":4588},{"style":549},[4589],{"type":401,"value":4590},"target ",{"type":395,"tag":494,"props":4592,"children":4593},{"style":555},[4594],{"type":401,"value":4595},"=",{"type":395,"tag":494,"props":4597,"children":4599},{"style":4598},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[4600],{"type":401,"value":4601}," null",{"type":395,"tag":494,"props":4603,"children":4604},{"style":513},[4605],{"type":401,"value":586},{"type":395,"tag":494,"props":4607,"children":4608},{"class":496,"line":617},[4609,4613,4618,4622,4626],{"type":395,"tag":494,"props":4610,"children":4611},{"style":501},[4612],{"type":401,"value":1575},{"type":395,"tag":494,"props":4614,"children":4615},{"style":1185},[4616],{"type":401,"value":4617}," targetStack",{"type":395,"tag":494,"props":4619,"children":4620},{"style":555},[4621],{"type":401,"value":558},{"type":395,"tag":494,"props":4623,"children":4624},{"style":549},[4625],{"type":401,"value":4024},{"type":395,"tag":494,"props":4627,"children":4628},{"style":513},[4629],{"type":401,"value":586},{"type":395,"tag":494,"props":4631,"children":4632},{"class":496,"line":626},[4633,4637,4642,4646,4650,4654],{"type":395,"tag":494,"props":4634,"children":4635},{"style":501},[4636],{"type":401,"value":504},{"type":395,"tag":494,"props":4638,"children":4639},{"style":507},[4640],{"type":401,"value":4641}," pushTarget",{"type":395,"tag":494,"props":4643,"children":4644},{"style":513},[4645],{"type":401,"value":516},{"type":395,"tag":494,"props":4647,"children":4648},{"style":519},[4649],{"type":401,"value":3118},{"type":395,"tag":494,"props":4651,"children":4652},{"style":513},[4653],{"type":401,"value":537},{"type":395,"tag":494,"props":4655,"children":4656},{"style":513},[4657],{"type":401,"value":542},{"type":395,"tag":494,"props":4659,"children":4660},{"class":496,"line":644},[4661,4666,4670,4674,4678,4682,4686],{"type":395,"tag":494,"props":4662,"children":4663},{"style":549},[4664],{"type":401,"value":4665},"  targetStack",{"type":395,"tag":494,"props":4667,"children":4668},{"style":513},[4669],{"type":401,"value":681},{"type":395,"tag":494,"props":4671,"children":4672},{"style":507},[4673],{"type":401,"value":1602},{"type":395,"tag":494,"props":4675,"children":4676},{"style":571},[4677],{"type":401,"value":516},{"type":395,"tag":494,"props":4679,"children":4680},{"style":549},[4681],{"type":401,"value":3118},{"type":395,"tag":494,"props":4683,"children":4684},{"style":571},[4685],{"type":401,"value":537},{"type":395,"tag":494,"props":4687,"children":4688},{"style":513},[4689],{"type":401,"value":586},{"type":395,"tag":494,"props":4691,"children":4692},{"class":496,"line":669},[4693,4698,4702,4706,4710,4715],{"type":395,"tag":494,"props":4694,"children":4695},{"style":549},[4696],{"type":401,"value":4697},"  Dep",{"type":395,"tag":494,"props":4699,"children":4700},{"style":513},[4701],{"type":401,"value":681},{"type":395,"tag":494,"props":4703,"children":4704},{"style":549},[4705],{"type":401,"value":3118},{"type":395,"tag":494,"props":4707,"children":4708},{"style":555},[4709],{"type":401,"value":558},{"type":395,"tag":494,"props":4711,"children":4712},{"style":549},[4713],{"type":401,"value":4714}," target",{"type":395,"tag":494,"props":4716,"children":4717},{"style":513},[4718],{"type":401,"value":586},{"type":395,"tag":494,"props":4720,"children":4721},{"class":496,"line":701},[4722],{"type":395,"tag":494,"props":4723,"children":4724},{"style":513},[4725],{"type":401,"value":614},{"type":395,"tag":494,"props":4727,"children":4728},{"class":496,"line":711},[4729,4733,4738,4742],{"type":395,"tag":494,"props":4730,"children":4731},{"style":501},[4732],{"type":401,"value":504},{"type":395,"tag":494,"props":4734,"children":4735},{"style":507},[4736],{"type":401,"value":4737}," popTarget",{"type":395,"tag":494,"props":4739,"children":4740},{"style":513},[4741],{"type":401,"value":743},{"type":395,"tag":494,"props":4743,"children":4744},{"style":513},[4745],{"type":401,"value":542},{"type":395,"tag":494,"props":4747,"children":4748},{"class":496,"line":750},[4749,4753,4757,4761,4765],{"type":395,"tag":494,"props":4750,"children":4751},{"style":549},[4752],{"type":401,"value":4665},{"type":395,"tag":494,"props":4754,"children":4755},{"style":513},[4756],{"type":401,"value":681},{"type":395,"tag":494,"props":4758,"children":4759},{"style":507},[4760],{"type":401,"value":1623},{"type":395,"tag":494,"props":4762,"children":4763},{"style":571},[4764],{"type":401,"value":743},{"type":395,"tag":494,"props":4766,"children":4767},{"style":513},[4768],{"type":401,"value":586},{"type":395,"tag":494,"props":4770,"children":4771},{"class":496,"line":781},[4772,4776,4780,4784,4788,4792,4796,4801,4805,4809,4814,4819,4823],{"type":395,"tag":494,"props":4773,"children":4774},{"style":549},[4775],{"type":401,"value":4697},{"type":395,"tag":494,"props":4777,"children":4778},{"style":513},[4779],{"type":401,"value":681},{"type":395,"tag":494,"props":4781,"children":4782},{"style":549},[4783],{"type":401,"value":3118},{"type":395,"tag":494,"props":4785,"children":4786},{"style":555},[4787],{"type":401,"value":558},{"type":395,"tag":494,"props":4789,"children":4790},{"style":549},[4791],{"type":401,"value":4617},{"type":395,"tag":494,"props":4793,"children":4794},{"style":571},[4795],{"type":401,"value":1331},{"type":395,"tag":494,"props":4797,"children":4798},{"style":549},[4799],{"type":401,"value":4800},"targetStack",{"type":395,"tag":494,"props":4802,"children":4803},{"style":513},[4804],{"type":401,"value":681},{"type":395,"tag":494,"props":4806,"children":4807},{"style":1185},[4808],{"type":401,"value":1280},{"type":395,"tag":494,"props":4810,"children":4811},{"style":555},[4812],{"type":401,"value":4813}," -",{"type":395,"tag":494,"props":4815,"children":4816},{"style":771},[4817],{"type":401,"value":4818}," 1",{"type":395,"tag":494,"props":4820,"children":4821},{"style":571},[4822],{"type":401,"value":1739},{"type":395,"tag":494,"props":4824,"children":4825},{"style":513},[4826],{"type":401,"value":586},{"type":395,"tag":494,"props":4828,"children":4829},{"class":496,"line":790},[4830],{"type":395,"tag":494,"props":4831,"children":4832},{"style":513},[4833],{"type":401,"value":614},{"type":395,"tag":428,"props":4835,"children":4836},{},[4837],{"type":401,"value":4838},"既然 Dep 用来存放 Watcher，是依赖容器，那么，依赖就是 Watcher。",{"type":395,"tag":428,"props":4840,"children":4841},{},[4842],{"type":401,"value":4843},"Watcher 通过调用我们刚才提到的 pushTarget、popTarget 以维护全局的当前依赖（Dep.target）。全局的当前依赖只会有一个，因为 JS 是同步的，顺序执行的代码。我们先来看看 Watcher 怎么样维护当前依赖。",{"type":395,"tag":434,"props":4845,"children":4847},{"code":4846,"language":487,"meta":388,"className":488,"style":388},"class Watcher {\n  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n  get() {\n    pushTarget(this);\n    let value;\n    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n    const vm = this.vm;\n    // 触发 getter 更新\n    try {\n      value = this.getter.call(vm, vm);\n    } catch (e) {\n      if (this.user) {\n        handleError(e, vm, `getter for watcher \"${this.expression}\"`);\n      } else {\n        throw e;\n      }\n    } finally {\n      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n      // traverse 即递归读取对象的每一个元素\n      if (this.deep) {\n        traverse(value);\n      }\n      popTarget();\n      // 因为每次 get 之后都重收集了依赖，\n      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n      this.cleanupDeps();\n    }\n    return value;\n  }\n}\n",[4848],{"type":395,"tag":439,"props":4849,"children":4850},{"__ignoreMap":388},[4851,4867,4875,4883,4891,4907,4931,4946,4954,4987,4995,5007,5063,5092,5124,5203,5218,5235,5242,5258,5266,5274,5306,5330,5337,5353,5361,5369,5393,5400,5415,5422],{"type":395,"tag":494,"props":4852,"children":4853},{"class":496,"line":497},[4854,4858,4863],{"type":395,"tag":494,"props":4855,"children":4856},{"style":501},[4857],{"type":401,"value":632},{"type":395,"tag":494,"props":4859,"children":4860},{"style":635},[4861],{"type":401,"value":4862}," Watcher",{"type":395,"tag":494,"props":4864,"children":4865},{"style":513},[4866],{"type":401,"value":542},{"type":395,"tag":494,"props":4868,"children":4869},{"class":496,"line":545},[4870],{"type":395,"tag":494,"props":4871,"children":4872},{"style":705},[4873],{"type":401,"value":4874},"  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n",{"type":395,"tag":494,"props":4876,"children":4877},{"class":496,"line":589},[4878],{"type":395,"tag":494,"props":4879,"children":4880},{"style":705},[4881],{"type":401,"value":4882},"  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n",{"type":395,"tag":494,"props":4884,"children":4885},{"class":496,"line":608},[4886],{"type":395,"tag":494,"props":4887,"children":4888},{"style":705},[4889],{"type":401,"value":4890},"  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n",{"type":395,"tag":494,"props":4892,"children":4893},{"class":496,"line":617},[4894,4899,4903],{"type":395,"tag":494,"props":4895,"children":4896},{"style":1153},[4897],{"type":401,"value":4898},"  get",{"type":395,"tag":494,"props":4900,"children":4901},{"style":513},[4902],{"type":401,"value":743},{"type":395,"tag":494,"props":4904,"children":4905},{"style":513},[4906],{"type":401,"value":542},{"type":395,"tag":494,"props":4908,"children":4909},{"class":496,"line":626},[4910,4915,4919,4923,4927],{"type":395,"tag":494,"props":4911,"children":4912},{"style":507},[4913],{"type":401,"value":4914},"    pushTarget",{"type":395,"tag":494,"props":4916,"children":4917},{"style":571},[4918],{"type":401,"value":516},{"type":395,"tag":494,"props":4920,"children":4921},{"style":673},[4922],{"type":401,"value":1946},{"type":395,"tag":494,"props":4924,"children":4925},{"style":571},[4926],{"type":401,"value":537},{"type":395,"tag":494,"props":4928,"children":4929},{"style":513},[4930],{"type":401,"value":586},{"type":395,"tag":494,"props":4932,"children":4933},{"class":496,"line":644},[4934,4938,4942],{"type":395,"tag":494,"props":4935,"children":4936},{"style":501},[4937],{"type":401,"value":2018},{"type":395,"tag":494,"props":4939,"children":4940},{"style":549},[4941],{"type":401,"value":694},{"type":395,"tag":494,"props":4943,"children":4944},{"style":513},[4945],{"type":401,"value":586},{"type":395,"tag":494,"props":4947,"children":4948},{"class":496,"line":669},[4949],{"type":395,"tag":494,"props":4950,"children":4951},{"style":705},[4952],{"type":401,"value":4953},"    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n",{"type":395,"tag":494,"props":4955,"children":4956},{"class":496,"line":701},[4957,4961,4966,4970,4974,4978,4983],{"type":395,"tag":494,"props":4958,"children":4959},{"style":501},[4960],{"type":401,"value":1182},{"type":395,"tag":494,"props":4962,"children":4963},{"style":1185},[4964],{"type":401,"value":4965}," vm",{"type":395,"tag":494,"props":4967,"children":4968},{"style":555},[4969],{"type":401,"value":558},{"type":395,"tag":494,"props":4971,"children":4972},{"style":673},[4973],{"type":401,"value":834},{"type":395,"tag":494,"props":4975,"children":4976},{"style":513},[4977],{"type":401,"value":681},{"type":395,"tag":494,"props":4979,"children":4980},{"style":549},[4981],{"type":401,"value":4982},"vm",{"type":395,"tag":494,"props":4984,"children":4985},{"style":513},[4986],{"type":401,"value":586},{"type":395,"tag":494,"props":4988,"children":4989},{"class":496,"line":711},[4990],{"type":395,"tag":494,"props":4991,"children":4992},{"style":705},[4993],{"type":401,"value":4994},"    // 触发 getter 更新\n",{"type":395,"tag":494,"props":4996,"children":4997},{"class":496,"line":750},[4998,5003],{"type":395,"tag":494,"props":4999,"children":5000},{"style":593},[5001],{"type":401,"value":5002},"    try",{"type":395,"tag":494,"props":5004,"children":5005},{"style":513},[5006],{"type":401,"value":542},{"type":395,"tag":494,"props":5008,"children":5009},{"class":496,"line":781},[5010,5015,5019,5023,5027,5031,5035,5039,5043,5047,5051,5055,5059],{"type":395,"tag":494,"props":5011,"children":5012},{"style":549},[5013],{"type":401,"value":5014},"      value",{"type":395,"tag":494,"props":5016,"children":5017},{"style":555},[5018],{"type":401,"value":558},{"type":395,"tag":494,"props":5020,"children":5021},{"style":673},[5022],{"type":401,"value":834},{"type":395,"tag":494,"props":5024,"children":5025},{"style":513},[5026],{"type":401,"value":681},{"type":395,"tag":494,"props":5028,"children":5029},{"style":549},[5030],{"type":401,"value":2747},{"type":395,"tag":494,"props":5032,"children":5033},{"style":513},[5034],{"type":401,"value":681},{"type":395,"tag":494,"props":5036,"children":5037},{"style":507},[5038],{"type":401,"value":3061},{"type":395,"tag":494,"props":5040,"children":5041},{"style":571},[5042],{"type":401,"value":516},{"type":395,"tag":494,"props":5044,"children":5045},{"style":549},[5046],{"type":401,"value":4982},{"type":395,"tag":494,"props":5048,"children":5049},{"style":513},[5050],{"type":401,"value":527},{"type":395,"tag":494,"props":5052,"children":5053},{"style":549},[5054],{"type":401,"value":4965},{"type":395,"tag":494,"props":5056,"children":5057},{"style":571},[5058],{"type":401,"value":537},{"type":395,"tag":494,"props":5060,"children":5061},{"style":513},[5062],{"type":401,"value":586},{"type":395,"tag":494,"props":5064,"children":5065},{"class":496,"line":790},[5066,5070,5075,5079,5084,5088],{"type":395,"tag":494,"props":5067,"children":5068},{"style":513},[5069],{"type":401,"value":1079},{"type":395,"tag":494,"props":5071,"children":5072},{"style":593},[5073],{"type":401,"value":5074}," catch",{"type":395,"tag":494,"props":5076,"children":5077},{"style":571},[5078],{"type":401,"value":874},{"type":395,"tag":494,"props":5080,"children":5081},{"style":549},[5082],{"type":401,"value":5083},"e",{"type":395,"tag":494,"props":5085,"children":5086},{"style":571},[5087],{"type":401,"value":929},{"type":395,"tag":494,"props":5089,"children":5090},{"style":513},[5091],{"type":401,"value":906},{"type":395,"tag":494,"props":5093,"children":5094},{"class":496,"line":845},[5095,5099,5103,5107,5111,5116,5120],{"type":395,"tag":494,"props":5096,"children":5097},{"style":593},[5098],{"type":401,"value":915},{"type":395,"tag":494,"props":5100,"children":5101},{"style":571},[5102],{"type":401,"value":874},{"type":395,"tag":494,"props":5104,"children":5105},{"style":673},[5106],{"type":401,"value":1946},{"type":395,"tag":494,"props":5108,"children":5109},{"style":513},[5110],{"type":401,"value":681},{"type":395,"tag":494,"props":5112,"children":5113},{"style":549},[5114],{"type":401,"value":5115},"user",{"type":395,"tag":494,"props":5117,"children":5118},{"style":571},[5119],{"type":401,"value":929},{"type":395,"tag":494,"props":5121,"children":5122},{"style":513},[5123],{"type":401,"value":906},{"type":395,"tag":494,"props":5125,"children":5126},{"class":496,"line":854},[5127,5132,5136,5140,5144,5148,5152,5157,5162,5168,5172,5177,5182,5186,5190,5195,5199],{"type":395,"tag":494,"props":5128,"children":5129},{"style":507},[5130],{"type":401,"value":5131},"        handleError",{"type":395,"tag":494,"props":5133,"children":5134},{"style":571},[5135],{"type":401,"value":516},{"type":395,"tag":494,"props":5137,"children":5138},{"style":549},[5139],{"type":401,"value":5083},{"type":395,"tag":494,"props":5141,"children":5142},{"style":513},[5143],{"type":401,"value":527},{"type":395,"tag":494,"props":5145,"children":5146},{"style":549},[5147],{"type":401,"value":4965},{"type":395,"tag":494,"props":5149,"children":5150},{"style":513},[5151],{"type":401,"value":527},{"type":395,"tag":494,"props":5153,"children":5154},{"style":811},[5155],{"type":401,"value":5156}," `",{"type":395,"tag":494,"props":5158,"children":5159},{"style":817},[5160],{"type":401,"value":5161},"getter for watcher \"",{"type":395,"tag":494,"props":5163,"children":5165},{"style":5164},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[5166],{"type":401,"value":5167},"${",{"type":395,"tag":494,"props":5169,"children":5170},{"style":673},[5171],{"type":401,"value":1946},{"type":395,"tag":494,"props":5173,"children":5175},{"style":5174},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[5176],{"type":401,"value":681},{"type":395,"tag":494,"props":5178,"children":5179},{"style":549},[5180],{"type":401,"value":5181},"expression",{"type":395,"tag":494,"props":5183,"children":5184},{"style":5164},[5185],{"type":401,"value":2343},{"type":395,"tag":494,"props":5187,"children":5188},{"style":817},[5189],{"type":401,"value":825},{"type":395,"tag":494,"props":5191,"children":5192},{"style":811},[5193],{"type":401,"value":5194},"`",{"type":395,"tag":494,"props":5196,"children":5197},{"style":571},[5198],{"type":401,"value":537},{"type":395,"tag":494,"props":5200,"children":5201},{"style":513},[5202],{"type":401,"value":586},{"type":395,"tag":494,"props":5204,"children":5205},{"class":496,"line":863},[5206,5210,5214],{"type":395,"tag":494,"props":5207,"children":5208},{"style":513},[5209],{"type":401,"value":976},{"type":395,"tag":494,"props":5211,"children":5212},{"style":593},[5213],{"type":401,"value":981},{"type":395,"tag":494,"props":5215,"children":5216},{"style":513},[5217],{"type":401,"value":542},{"type":395,"tag":494,"props":5219,"children":5220},{"class":496,"line":909},[5221,5226,5231],{"type":395,"tag":494,"props":5222,"children":5223},{"style":593},[5224],{"type":401,"value":5225},"        throw",{"type":395,"tag":494,"props":5227,"children":5228},{"style":549},[5229],{"type":401,"value":5230}," e",{"type":395,"tag":494,"props":5232,"children":5233},{"style":513},[5234],{"type":401,"value":586},{"type":395,"tag":494,"props":5236,"children":5237},{"class":496,"line":936},[5238],{"type":395,"tag":494,"props":5239,"children":5240},{"style":513},[5241],{"type":401,"value":1036},{"type":395,"tag":494,"props":5243,"children":5244},{"class":496,"line":970},[5245,5249,5254],{"type":395,"tag":494,"props":5246,"children":5247},{"style":513},[5248],{"type":401,"value":1079},{"type":395,"tag":494,"props":5250,"children":5251},{"style":593},[5252],{"type":401,"value":5253}," finally",{"type":395,"tag":494,"props":5255,"children":5256},{"style":513},[5257],{"type":401,"value":542},{"type":395,"tag":494,"props":5259,"children":5260},{"class":496,"line":988},[5261],{"type":395,"tag":494,"props":5262,"children":5263},{"style":705},[5264],{"type":401,"value":5265},"      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n",{"type":395,"tag":494,"props":5267,"children":5268},{"class":496,"line":1030},[5269],{"type":395,"tag":494,"props":5270,"children":5271},{"style":705},[5272],{"type":401,"value":5273},"      // traverse 即递归读取对象的每一个元素\n",{"type":395,"tag":494,"props":5275,"children":5276},{"class":496,"line":1039},[5277,5281,5285,5289,5293,5298,5302],{"type":395,"tag":494,"props":5278,"children":5279},{"style":593},[5280],{"type":401,"value":915},{"type":395,"tag":494,"props":5282,"children":5283},{"style":571},[5284],{"type":401,"value":874},{"type":395,"tag":494,"props":5286,"children":5287},{"style":673},[5288],{"type":401,"value":1946},{"type":395,"tag":494,"props":5290,"children":5291},{"style":513},[5292],{"type":401,"value":681},{"type":395,"tag":494,"props":5294,"children":5295},{"style":549},[5296],{"type":401,"value":5297},"deep",{"type":395,"tag":494,"props":5299,"children":5300},{"style":571},[5301],{"type":401,"value":929},{"type":395,"tag":494,"props":5303,"children":5304},{"style":513},[5305],{"type":401,"value":906},{"type":395,"tag":494,"props":5307,"children":5308},{"class":496,"line":1073},[5309,5314,5318,5322,5326],{"type":395,"tag":494,"props":5310,"children":5311},{"style":507},[5312],{"type":401,"value":5313},"        traverse",{"type":395,"tag":494,"props":5315,"children":5316},{"style":571},[5317],{"type":401,"value":516},{"type":395,"tag":494,"props":5319,"children":5320},{"style":549},[5321],{"type":401,"value":522},{"type":395,"tag":494,"props":5323,"children":5324},{"style":571},[5325],{"type":401,"value":537},{"type":395,"tag":494,"props":5327,"children":5328},{"style":513},[5329],{"type":401,"value":586},{"type":395,"tag":494,"props":5331,"children":5332},{"class":496,"line":1090},[5333],{"type":395,"tag":494,"props":5334,"children":5335},{"style":513},[5336],{"type":401,"value":1036},{"type":395,"tag":494,"props":5338,"children":5339},{"class":496,"line":1123},[5340,5345,5349],{"type":395,"tag":494,"props":5341,"children":5342},{"style":507},[5343],{"type":401,"value":5344},"      popTarget",{"type":395,"tag":494,"props":5346,"children":5347},{"style":571},[5348],{"type":401,"value":743},{"type":395,"tag":494,"props":5350,"children":5351},{"style":513},[5352],{"type":401,"value":586},{"type":395,"tag":494,"props":5354,"children":5355},{"class":496,"line":1132},[5356],{"type":395,"tag":494,"props":5357,"children":5358},{"style":705},[5359],{"type":401,"value":5360},"      // 因为每次 get 之后都重收集了依赖，\n",{"type":395,"tag":494,"props":5362,"children":5363},{"class":496,"line":1141},[5364],{"type":395,"tag":494,"props":5365,"children":5366},{"style":705},[5367],{"type":401,"value":5368},"      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n",{"type":395,"tag":494,"props":5370,"children":5371},{"class":496,"line":1149},[5372,5376,5380,5385,5389],{"type":395,"tag":494,"props":5373,"children":5374},{"style":673},[5375],{"type":401,"value":1045},{"type":395,"tag":494,"props":5377,"children":5378},{"style":513},[5379],{"type":401,"value":681},{"type":395,"tag":494,"props":5381,"children":5382},{"style":507},[5383],{"type":401,"value":5384},"cleanupDeps",{"type":395,"tag":494,"props":5386,"children":5387},{"style":571},[5388],{"type":401,"value":743},{"type":395,"tag":494,"props":5390,"children":5391},{"style":513},[5392],{"type":401,"value":586},{"type":395,"tag":494,"props":5394,"children":5395},{"class":496,"line":1176},[5396],{"type":395,"tag":494,"props":5397,"children":5398},{"style":513},[5399],{"type":401,"value":1129},{"type":395,"tag":494,"props":5401,"children":5402},{"class":496,"line":1225},[5403,5407,5411],{"type":395,"tag":494,"props":5404,"children":5405},{"style":593},[5406],{"type":401,"value":2311},{"type":395,"tag":494,"props":5408,"children":5409},{"style":549},[5410],{"type":401,"value":694},{"type":395,"tag":494,"props":5412,"children":5413},{"style":513},[5414],{"type":401,"value":586},{"type":395,"tag":494,"props":5416,"children":5417},{"class":496,"line":1304},[5418],{"type":395,"tag":494,"props":5419,"children":5420},{"style":513},[5421],{"type":401,"value":1138},{"type":395,"tag":494,"props":5423,"children":5424},{"class":496,"line":1348},[5425],{"type":395,"tag":494,"props":5426,"children":5427},{"style":513},[5428],{"type":401,"value":614},{"type":395,"tag":428,"props":5430,"children":5431},{},[5432],{"type":401,"value":5433},"Vue 实例中，data 方法会返回一个新的对象，这个对象能将值的变化响应式更新到模板中。其实就是，新的对象返回来后，使用了 observe 方法观测其变化，而其每一个属性的依赖容器中，都会保存这个 Vue 实例的 watcher。这样一来，只要属性发生了变化，依赖容器就会通知 Vue 实例的 watcher 进行更新。至于要更新什么，那当然是“执行回调函数”啦。想象一下 Vue 实例中的 watch 的写法：",{"type":395,"tag":434,"props":5435,"children":5437},{"code":5436,"language":487,"meta":388,"className":488,"style":388},"new Vue({\n  data() {\n    return {\n      b: null,\n    };\n  },\n  watch: {\n    b() {\n      console.log(\"I'm callback\");\n    },\n  },\n});\n",[5438],{"type":395,"tag":439,"props":5439,"children":5440},{"__ignoreMap":388},[5441,5462,5478,5489,5509,5517,5525,5541,5557,5599,5606,5613],{"type":395,"tag":494,"props":5442,"children":5443},{"class":496,"line":497},[5444,5449,5454,5458],{"type":395,"tag":494,"props":5445,"children":5446},{"style":555},[5447],{"type":401,"value":5448},"new",{"type":395,"tag":494,"props":5450,"children":5451},{"style":507},[5452],{"type":401,"value":5453}," Vue",{"type":395,"tag":494,"props":5455,"children":5456},{"style":549},[5457],{"type":401,"value":516},{"type":395,"tag":494,"props":5459,"children":5460},{"style":513},[5461],{"type":401,"value":906},{"type":395,"tag":494,"props":5463,"children":5464},{"class":496,"line":545},[5465,5470,5474],{"type":395,"tag":494,"props":5466,"children":5467},{"style":1153},[5468],{"type":401,"value":5469},"  data",{"type":395,"tag":494,"props":5471,"children":5472},{"style":513},[5473],{"type":401,"value":743},{"type":395,"tag":494,"props":5475,"children":5476},{"style":513},[5477],{"type":401,"value":542},{"type":395,"tag":494,"props":5479,"children":5480},{"class":496,"line":589},[5481,5485],{"type":395,"tag":494,"props":5482,"children":5483},{"style":593},[5484],{"type":401,"value":2311},{"type":395,"tag":494,"props":5486,"children":5487},{"style":513},[5488],{"type":401,"value":542},{"type":395,"tag":494,"props":5490,"children":5491},{"class":496,"line":608},[5492,5497,5501,5505],{"type":395,"tag":494,"props":5493,"children":5494},{"style":571},[5495],{"type":401,"value":5496},"      b",{"type":395,"tag":494,"props":5498,"children":5499},{"style":513},[5500],{"type":401,"value":2965},{"type":395,"tag":494,"props":5502,"children":5503},{"style":4598},[5504],{"type":401,"value":4601},{"type":395,"tag":494,"props":5506,"children":5507},{"style":513},[5508],{"type":401,"value":1611},{"type":395,"tag":494,"props":5510,"children":5511},{"class":496,"line":617},[5512],{"type":395,"tag":494,"props":5513,"children":5514},{"style":513},[5515],{"type":401,"value":5516},"    };\n",{"type":395,"tag":494,"props":5518,"children":5519},{"class":496,"line":626},[5520],{"type":395,"tag":494,"props":5521,"children":5522},{"style":513},[5523],{"type":401,"value":5524},"  },\n",{"type":395,"tag":494,"props":5526,"children":5527},{"class":496,"line":644},[5528,5533,5537],{"type":395,"tag":494,"props":5529,"children":5530},{"style":571},[5531],{"type":401,"value":5532},"  watch",{"type":395,"tag":494,"props":5534,"children":5535},{"style":513},[5536],{"type":401,"value":2965},{"type":395,"tag":494,"props":5538,"children":5539},{"style":513},[5540],{"type":401,"value":542},{"type":395,"tag":494,"props":5542,"children":5543},{"class":496,"line":669},[5544,5549,5553],{"type":395,"tag":494,"props":5545,"children":5546},{"style":1153},[5547],{"type":401,"value":5548},"    b",{"type":395,"tag":494,"props":5550,"children":5551},{"style":513},[5552],{"type":401,"value":743},{"type":395,"tag":494,"props":5554,"children":5555},{"style":513},[5556],{"type":401,"value":542},{"type":395,"tag":494,"props":5558,"children":5559},{"class":496,"line":701},[5560,5565,5569,5574,5578,5582,5587,5591,5595],{"type":395,"tag":494,"props":5561,"children":5562},{"style":549},[5563],{"type":401,"value":5564},"      console",{"type":395,"tag":494,"props":5566,"children":5567},{"style":513},[5568],{"type":401,"value":681},{"type":395,"tag":494,"props":5570,"children":5571},{"style":507},[5572],{"type":401,"value":5573},"log",{"type":395,"tag":494,"props":5575,"children":5576},{"style":571},[5577],{"type":401,"value":516},{"type":395,"tag":494,"props":5579,"children":5580},{"style":811},[5581],{"type":401,"value":825},{"type":395,"tag":494,"props":5583,"children":5584},{"style":817},[5585],{"type":401,"value":5586},"I'm callback",{"type":395,"tag":494,"props":5588,"children":5589},{"style":811},[5590],{"type":401,"value":825},{"type":395,"tag":494,"props":5592,"children":5593},{"style":571},[5594],{"type":401,"value":537},{"type":395,"tag":494,"props":5596,"children":5597},{"style":513},[5598],{"type":401,"value":586},{"type":395,"tag":494,"props":5600,"children":5601},{"class":496,"line":711},[5602],{"type":395,"tag":494,"props":5603,"children":5604},{"style":513},[5605],{"type":401,"value":3319},{"type":395,"tag":494,"props":5607,"children":5608},{"class":496,"line":750},[5609],{"type":395,"tag":494,"props":5610,"children":5611},{"style":513},[5612],{"type":401,"value":5524},{"type":395,"tag":494,"props":5614,"children":5615},{"class":496,"line":781},[5616,5620,5624],{"type":395,"tag":494,"props":5617,"children":5618},{"style":513},[5619],{"type":401,"value":2343},{"type":395,"tag":494,"props":5621,"children":5622},{"style":549},[5623],{"type":401,"value":537},{"type":395,"tag":494,"props":5625,"children":5626},{"style":513},[5627],{"type":401,"value":586},{"type":395,"tag":428,"props":5629,"children":5630},{},[5631],{"type":401,"value":5632},"这个 watch 不就是（尝试）给 data.b 设置响应式属性么... 所以说依赖就是 Vue 实例与响应式属性之间的对应关系。Watcher 保存了这种关系，还保存了响应式数据、回调函数等一些额外信息。我们看 Watcher 的构造器：",{"type":395,"tag":434,"props":5634,"children":5636},{"code":5635,"language":487,"meta":388,"className":488,"style":388},"class Watcher {\n  constructor(vm, expOrFn, cb, options, isRenderWatcher) {\n    // vm 即 Vue 实例\n    this.vm = vm;\n    if (isRenderWatcher) {\n      vm._watcher = this;\n    }\n    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n    vm._watchers.push(this);\n\n    // options\n    if (options) {\n      this.deep = !!options.deep;\n      this.user = !!options.user;\n      this.lazy = !!options.lazy;\n      this.sync = !!options.sync;\n      this.before = options.before;\n    } else {\n      this.deep = this.user = this.lazy = this.sync = false;\n    }\n    this.cb = cb;\n    this.id = ++uid; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = [];\n    this.newDeps = [];\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n     */\n    this.expression =\n      process.env.NODE_ENV !== \"production\" ? expOrFn.toString() : \"\";\n    // parse expression for getter\n    if (typeof expOrFn === \"function\") {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n      this.getter = parsePath(expOrFn);\n    }\n\n    this.value = this.lazy ? undefined : this.get();\n  }\n}\n",[5637],{"type":395,"tag":439,"props":5638,"children":5639},{"__ignoreMap":388},[5640,5655,5714,5722,5749,5773,5802,5809,5817,5858,5865,5873,5897,5937,5976,6016,6056,6092,6107,6182,6189,6217,6255,6283,6324,6352,6380,6417,6453,6460,6468,6476,6484,6504,6579,6587,6631,6658,6673,6681,6722,6729,6736,6801,6808],{"type":395,"tag":494,"props":5641,"children":5642},{"class":496,"line":497},[5643,5647,5651],{"type":395,"tag":494,"props":5644,"children":5645},{"style":501},[5646],{"type":401,"value":632},{"type":395,"tag":494,"props":5648,"children":5649},{"style":635},[5650],{"type":401,"value":4862},{"type":395,"tag":494,"props":5652,"children":5653},{"style":513},[5654],{"type":401,"value":542},{"type":395,"tag":494,"props":5656,"children":5657},{"class":496,"line":545},[5658,5662,5666,5670,5674,5679,5683,5688,5692,5697,5701,5706,5710],{"type":395,"tag":494,"props":5659,"children":5660},{"style":501},[5661],{"type":401,"value":650},{"type":395,"tag":494,"props":5663,"children":5664},{"style":513},[5665],{"type":401,"value":516},{"type":395,"tag":494,"props":5667,"children":5668},{"style":519},[5669],{"type":401,"value":4982},{"type":395,"tag":494,"props":5671,"children":5672},{"style":513},[5673],{"type":401,"value":527},{"type":395,"tag":494,"props":5675,"children":5676},{"style":519},[5677],{"type":401,"value":5678}," expOrFn",{"type":395,"tag":494,"props":5680,"children":5681},{"style":513},[5682],{"type":401,"value":527},{"type":395,"tag":494,"props":5684,"children":5685},{"style":519},[5686],{"type":401,"value":5687}," cb",{"type":395,"tag":494,"props":5689,"children":5690},{"style":513},[5691],{"type":401,"value":527},{"type":395,"tag":494,"props":5693,"children":5694},{"style":519},[5695],{"type":401,"value":5696}," options",{"type":395,"tag":494,"props":5698,"children":5699},{"style":513},[5700],{"type":401,"value":527},{"type":395,"tag":494,"props":5702,"children":5703},{"style":519},[5704],{"type":401,"value":5705}," isRenderWatcher",{"type":395,"tag":494,"props":5707,"children":5708},{"style":513},[5709],{"type":401,"value":537},{"type":395,"tag":494,"props":5711,"children":5712},{"style":513},[5713],{"type":401,"value":542},{"type":395,"tag":494,"props":5715,"children":5716},{"class":496,"line":589},[5717],{"type":395,"tag":494,"props":5718,"children":5719},{"style":705},[5720],{"type":401,"value":5721},"    // vm 即 Vue 实例\n",{"type":395,"tag":494,"props":5723,"children":5724},{"class":496,"line":608},[5725,5729,5733,5737,5741,5745],{"type":395,"tag":494,"props":5726,"children":5727},{"style":673},[5728],{"type":401,"value":676},{"type":395,"tag":494,"props":5730,"children":5731},{"style":513},[5732],{"type":401,"value":681},{"type":395,"tag":494,"props":5734,"children":5735},{"style":549},[5736],{"type":401,"value":4982},{"type":395,"tag":494,"props":5738,"children":5739},{"style":555},[5740],{"type":401,"value":558},{"type":395,"tag":494,"props":5742,"children":5743},{"style":549},[5744],{"type":401,"value":4965},{"type":395,"tag":494,"props":5746,"children":5747},{"style":513},[5748],{"type":401,"value":586},{"type":395,"tag":494,"props":5750,"children":5751},{"class":496,"line":617},[5752,5756,5760,5765,5769],{"type":395,"tag":494,"props":5753,"children":5754},{"style":593},[5755],{"type":401,"value":869},{"type":395,"tag":494,"props":5757,"children":5758},{"style":571},[5759],{"type":401,"value":874},{"type":395,"tag":494,"props":5761,"children":5762},{"style":549},[5763],{"type":401,"value":5764},"isRenderWatcher",{"type":395,"tag":494,"props":5766,"children":5767},{"style":571},[5768],{"type":401,"value":929},{"type":395,"tag":494,"props":5770,"children":5771},{"style":513},[5772],{"type":401,"value":906},{"type":395,"tag":494,"props":5774,"children":5775},{"class":496,"line":626},[5776,5781,5785,5790,5794,5798],{"type":395,"tag":494,"props":5777,"children":5778},{"style":549},[5779],{"type":401,"value":5780},"      vm",{"type":395,"tag":494,"props":5782,"children":5783},{"style":513},[5784],{"type":401,"value":681},{"type":395,"tag":494,"props":5786,"children":5787},{"style":549},[5788],{"type":401,"value":5789},"_watcher",{"type":395,"tag":494,"props":5791,"children":5792},{"style":555},[5793],{"type":401,"value":558},{"type":395,"tag":494,"props":5795,"children":5796},{"style":673},[5797],{"type":401,"value":834},{"type":395,"tag":494,"props":5799,"children":5800},{"style":513},[5801],{"type":401,"value":586},{"type":395,"tag":494,"props":5803,"children":5804},{"class":496,"line":644},[5805],{"type":395,"tag":494,"props":5806,"children":5807},{"style":513},[5808],{"type":401,"value":1129},{"type":395,"tag":494,"props":5810,"children":5811},{"class":496,"line":669},[5812],{"type":395,"tag":494,"props":5813,"children":5814},{"style":705},[5815],{"type":401,"value":5816},"    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n",{"type":395,"tag":494,"props":5818,"children":5819},{"class":496,"line":701},[5820,5825,5829,5834,5838,5842,5846,5850,5854],{"type":395,"tag":494,"props":5821,"children":5822},{"style":549},[5823],{"type":401,"value":5824},"    vm",{"type":395,"tag":494,"props":5826,"children":5827},{"style":513},[5828],{"type":401,"value":681},{"type":395,"tag":494,"props":5830,"children":5831},{"style":549},[5832],{"type":401,"value":5833},"_watchers",{"type":395,"tag":494,"props":5835,"children":5836},{"style":513},[5837],{"type":401,"value":681},{"type":395,"tag":494,"props":5839,"children":5840},{"style":507},[5841],{"type":401,"value":1602},{"type":395,"tag":494,"props":5843,"children":5844},{"style":571},[5845],{"type":401,"value":516},{"type":395,"tag":494,"props":5847,"children":5848},{"style":673},[5849],{"type":401,"value":1946},{"type":395,"tag":494,"props":5851,"children":5852},{"style":571},[5853],{"type":401,"value":537},{"type":395,"tag":494,"props":5855,"children":5856},{"style":513},[5857],{"type":401,"value":586},{"type":395,"tag":494,"props":5859,"children":5860},{"class":496,"line":711},[5861],{"type":395,"tag":494,"props":5862,"children":5863},{"emptyLinePlaceholder":387},[5864],{"type":401,"value":623},{"type":395,"tag":494,"props":5866,"children":5867},{"class":496,"line":750},[5868],{"type":395,"tag":494,"props":5869,"children":5870},{"style":705},[5871],{"type":401,"value":5872},"    // options\n",{"type":395,"tag":494,"props":5874,"children":5875},{"class":496,"line":781},[5876,5880,5884,5889,5893],{"type":395,"tag":494,"props":5877,"children":5878},{"style":593},[5879],{"type":401,"value":869},{"type":395,"tag":494,"props":5881,"children":5882},{"style":571},[5883],{"type":401,"value":874},{"type":395,"tag":494,"props":5885,"children":5886},{"style":549},[5887],{"type":401,"value":5888},"options",{"type":395,"tag":494,"props":5890,"children":5891},{"style":571},[5892],{"type":401,"value":929},{"type":395,"tag":494,"props":5894,"children":5895},{"style":513},[5896],{"type":401,"value":906},{"type":395,"tag":494,"props":5898,"children":5899},{"class":496,"line":790},[5900,5904,5908,5912,5916,5921,5925,5929,5933],{"type":395,"tag":494,"props":5901,"children":5902},{"style":673},[5903],{"type":401,"value":1045},{"type":395,"tag":494,"props":5905,"children":5906},{"style":513},[5907],{"type":401,"value":681},{"type":395,"tag":494,"props":5909,"children":5910},{"style":549},[5911],{"type":401,"value":5297},{"type":395,"tag":494,"props":5913,"children":5914},{"style":555},[5915],{"type":401,"value":558},{"type":395,"tag":494,"props":5917,"children":5918},{"style":555},[5919],{"type":401,"value":5920}," !!",{"type":395,"tag":494,"props":5922,"children":5923},{"style":549},[5924],{"type":401,"value":5888},{"type":395,"tag":494,"props":5926,"children":5927},{"style":513},[5928],{"type":401,"value":681},{"type":395,"tag":494,"props":5930,"children":5931},{"style":549},[5932],{"type":401,"value":5297},{"type":395,"tag":494,"props":5934,"children":5935},{"style":513},[5936],{"type":401,"value":586},{"type":395,"tag":494,"props":5938,"children":5939},{"class":496,"line":845},[5940,5944,5948,5952,5956,5960,5964,5968,5972],{"type":395,"tag":494,"props":5941,"children":5942},{"style":673},[5943],{"type":401,"value":1045},{"type":395,"tag":494,"props":5945,"children":5946},{"style":513},[5947],{"type":401,"value":681},{"type":395,"tag":494,"props":5949,"children":5950},{"style":549},[5951],{"type":401,"value":5115},{"type":395,"tag":494,"props":5953,"children":5954},{"style":555},[5955],{"type":401,"value":558},{"type":395,"tag":494,"props":5957,"children":5958},{"style":555},[5959],{"type":401,"value":5920},{"type":395,"tag":494,"props":5961,"children":5962},{"style":549},[5963],{"type":401,"value":5888},{"type":395,"tag":494,"props":5965,"children":5966},{"style":513},[5967],{"type":401,"value":681},{"type":395,"tag":494,"props":5969,"children":5970},{"style":549},[5971],{"type":401,"value":5115},{"type":395,"tag":494,"props":5973,"children":5974},{"style":513},[5975],{"type":401,"value":586},{"type":395,"tag":494,"props":5977,"children":5978},{"class":496,"line":854},[5979,5983,5987,5992,5996,6000,6004,6008,6012],{"type":395,"tag":494,"props":5980,"children":5981},{"style":673},[5982],{"type":401,"value":1045},{"type":395,"tag":494,"props":5984,"children":5985},{"style":513},[5986],{"type":401,"value":681},{"type":395,"tag":494,"props":5988,"children":5989},{"style":549},[5990],{"type":401,"value":5991},"lazy",{"type":395,"tag":494,"props":5993,"children":5994},{"style":555},[5995],{"type":401,"value":558},{"type":395,"tag":494,"props":5997,"children":5998},{"style":555},[5999],{"type":401,"value":5920},{"type":395,"tag":494,"props":6001,"children":6002},{"style":549},[6003],{"type":401,"value":5888},{"type":395,"tag":494,"props":6005,"children":6006},{"style":513},[6007],{"type":401,"value":681},{"type":395,"tag":494,"props":6009,"children":6010},{"style":549},[6011],{"type":401,"value":5991},{"type":395,"tag":494,"props":6013,"children":6014},{"style":513},[6015],{"type":401,"value":586},{"type":395,"tag":494,"props":6017,"children":6018},{"class":496,"line":863},[6019,6023,6027,6032,6036,6040,6044,6048,6052],{"type":395,"tag":494,"props":6020,"children":6021},{"style":673},[6022],{"type":401,"value":1045},{"type":395,"tag":494,"props":6024,"children":6025},{"style":513},[6026],{"type":401,"value":681},{"type":395,"tag":494,"props":6028,"children":6029},{"style":549},[6030],{"type":401,"value":6031},"sync",{"type":395,"tag":494,"props":6033,"children":6034},{"style":555},[6035],{"type":401,"value":558},{"type":395,"tag":494,"props":6037,"children":6038},{"style":555},[6039],{"type":401,"value":5920},{"type":395,"tag":494,"props":6041,"children":6042},{"style":549},[6043],{"type":401,"value":5888},{"type":395,"tag":494,"props":6045,"children":6046},{"style":513},[6047],{"type":401,"value":681},{"type":395,"tag":494,"props":6049,"children":6050},{"style":549},[6051],{"type":401,"value":6031},{"type":395,"tag":494,"props":6053,"children":6054},{"style":513},[6055],{"type":401,"value":586},{"type":395,"tag":494,"props":6057,"children":6058},{"class":496,"line":909},[6059,6063,6067,6072,6076,6080,6084,6088],{"type":395,"tag":494,"props":6060,"children":6061},{"style":673},[6062],{"type":401,"value":1045},{"type":395,"tag":494,"props":6064,"children":6065},{"style":513},[6066],{"type":401,"value":681},{"type":395,"tag":494,"props":6068,"children":6069},{"style":549},[6070],{"type":401,"value":6071},"before",{"type":395,"tag":494,"props":6073,"children":6074},{"style":555},[6075],{"type":401,"value":558},{"type":395,"tag":494,"props":6077,"children":6078},{"style":549},[6079],{"type":401,"value":5696},{"type":395,"tag":494,"props":6081,"children":6082},{"style":513},[6083],{"type":401,"value":681},{"type":395,"tag":494,"props":6085,"children":6086},{"style":549},[6087],{"type":401,"value":6071},{"type":395,"tag":494,"props":6089,"children":6090},{"style":513},[6091],{"type":401,"value":586},{"type":395,"tag":494,"props":6093,"children":6094},{"class":496,"line":936},[6095,6099,6103],{"type":395,"tag":494,"props":6096,"children":6097},{"style":513},[6098],{"type":401,"value":1079},{"type":395,"tag":494,"props":6100,"children":6101},{"style":593},[6102],{"type":401,"value":981},{"type":395,"tag":494,"props":6104,"children":6105},{"style":513},[6106],{"type":401,"value":542},{"type":395,"tag":494,"props":6108,"children":6109},{"class":496,"line":970},[6110,6114,6118,6122,6126,6130,6134,6138,6142,6146,6150,6154,6158,6162,6166,6170,6174,6178],{"type":395,"tag":494,"props":6111,"children":6112},{"style":673},[6113],{"type":401,"value":1045},{"type":395,"tag":494,"props":6115,"children":6116},{"style":513},[6117],{"type":401,"value":681},{"type":395,"tag":494,"props":6119,"children":6120},{"style":549},[6121],{"type":401,"value":5297},{"type":395,"tag":494,"props":6123,"children":6124},{"style":555},[6125],{"type":401,"value":558},{"type":395,"tag":494,"props":6127,"children":6128},{"style":673},[6129],{"type":401,"value":834},{"type":395,"tag":494,"props":6131,"children":6132},{"style":513},[6133],{"type":401,"value":681},{"type":395,"tag":494,"props":6135,"children":6136},{"style":549},[6137],{"type":401,"value":5115},{"type":395,"tag":494,"props":6139,"children":6140},{"style":555},[6141],{"type":401,"value":558},{"type":395,"tag":494,"props":6143,"children":6144},{"style":673},[6145],{"type":401,"value":834},{"type":395,"tag":494,"props":6147,"children":6148},{"style":513},[6149],{"type":401,"value":681},{"type":395,"tag":494,"props":6151,"children":6152},{"style":549},[6153],{"type":401,"value":5991},{"type":395,"tag":494,"props":6155,"children":6156},{"style":555},[6157],{"type":401,"value":558},{"type":395,"tag":494,"props":6159,"children":6160},{"style":673},[6161],{"type":401,"value":834},{"type":395,"tag":494,"props":6163,"children":6164},{"style":513},[6165],{"type":401,"value":681},{"type":395,"tag":494,"props":6167,"children":6168},{"style":549},[6169],{"type":401,"value":6031},{"type":395,"tag":494,"props":6171,"children":6172},{"style":555},[6173],{"type":401,"value":558},{"type":395,"tag":494,"props":6175,"children":6176},{"style":2591},[6177],{"type":401,"value":2594},{"type":395,"tag":494,"props":6179,"children":6180},{"style":513},[6181],{"type":401,"value":586},{"type":395,"tag":494,"props":6183,"children":6184},{"class":496,"line":988},[6185],{"type":395,"tag":494,"props":6186,"children":6187},{"style":513},[6188],{"type":401,"value":1129},{"type":395,"tag":494,"props":6190,"children":6191},{"class":496,"line":1030},[6192,6196,6200,6205,6209,6213],{"type":395,"tag":494,"props":6193,"children":6194},{"style":673},[6195],{"type":401,"value":676},{"type":395,"tag":494,"props":6197,"children":6198},{"style":513},[6199],{"type":401,"value":681},{"type":395,"tag":494,"props":6201,"children":6202},{"style":549},[6203],{"type":401,"value":6204},"cb",{"type":395,"tag":494,"props":6206,"children":6207},{"style":555},[6208],{"type":401,"value":558},{"type":395,"tag":494,"props":6210,"children":6211},{"style":549},[6212],{"type":401,"value":5687},{"type":395,"tag":494,"props":6214,"children":6215},{"style":513},[6216],{"type":401,"value":586},{"type":395,"tag":494,"props":6218,"children":6219},{"class":496,"line":1039},[6220,6224,6228,6232,6236,6241,6246,6250],{"type":395,"tag":494,"props":6221,"children":6222},{"style":673},[6223],{"type":401,"value":676},{"type":395,"tag":494,"props":6225,"children":6226},{"style":513},[6227],{"type":401,"value":681},{"type":395,"tag":494,"props":6229,"children":6230},{"style":549},[6231],{"type":401,"value":3982},{"type":395,"tag":494,"props":6233,"children":6234},{"style":555},[6235],{"type":401,"value":558},{"type":395,"tag":494,"props":6237,"children":6238},{"style":555},[6239],{"type":401,"value":6240}," ++",{"type":395,"tag":494,"props":6242,"children":6243},{"style":549},[6244],{"type":401,"value":6245},"uid",{"type":395,"tag":494,"props":6247,"children":6248},{"style":513},[6249],{"type":401,"value":1258},{"type":395,"tag":494,"props":6251,"children":6252},{"style":705},[6253],{"type":401,"value":6254}," // uid for batching\n",{"type":395,"tag":494,"props":6256,"children":6257},{"class":496,"line":1073},[6258,6262,6266,6271,6275,6279],{"type":395,"tag":494,"props":6259,"children":6260},{"style":673},[6261],{"type":401,"value":676},{"type":395,"tag":494,"props":6263,"children":6264},{"style":513},[6265],{"type":401,"value":681},{"type":395,"tag":494,"props":6267,"children":6268},{"style":549},[6269],{"type":401,"value":6270},"active",{"type":395,"tag":494,"props":6272,"children":6273},{"style":555},[6274],{"type":401,"value":558},{"type":395,"tag":494,"props":6276,"children":6277},{"style":2591},[6278],{"type":401,"value":2970},{"type":395,"tag":494,"props":6280,"children":6281},{"style":513},[6282],{"type":401,"value":586},{"type":395,"tag":494,"props":6284,"children":6285},{"class":496,"line":1090},[6286,6290,6294,6299,6303,6307,6311,6315,6319],{"type":395,"tag":494,"props":6287,"children":6288},{"style":673},[6289],{"type":401,"value":676},{"type":395,"tag":494,"props":6291,"children":6292},{"style":513},[6293],{"type":401,"value":681},{"type":395,"tag":494,"props":6295,"children":6296},{"style":549},[6297],{"type":401,"value":6298},"dirty",{"type":395,"tag":494,"props":6300,"children":6301},{"style":555},[6302],{"type":401,"value":558},{"type":395,"tag":494,"props":6304,"children":6305},{"style":673},[6306],{"type":401,"value":834},{"type":395,"tag":494,"props":6308,"children":6309},{"style":513},[6310],{"type":401,"value":681},{"type":395,"tag":494,"props":6312,"children":6313},{"style":549},[6314],{"type":401,"value":5991},{"type":395,"tag":494,"props":6316,"children":6317},{"style":513},[6318],{"type":401,"value":1258},{"type":395,"tag":494,"props":6320,"children":6321},{"style":705},[6322],{"type":401,"value":6323}," // for lazy watchers\n",{"type":395,"tag":494,"props":6325,"children":6326},{"class":496,"line":1123},[6327,6331,6335,6340,6344,6348],{"type":395,"tag":494,"props":6328,"children":6329},{"style":673},[6330],{"type":401,"value":676},{"type":395,"tag":494,"props":6332,"children":6333},{"style":513},[6334],{"type":401,"value":681},{"type":395,"tag":494,"props":6336,"children":6337},{"style":549},[6338],{"type":401,"value":6339},"deps",{"type":395,"tag":494,"props":6341,"children":6342},{"style":555},[6343],{"type":401,"value":558},{"type":395,"tag":494,"props":6345,"children":6346},{"style":571},[6347],{"type":401,"value":4024},{"type":395,"tag":494,"props":6349,"children":6350},{"style":513},[6351],{"type":401,"value":586},{"type":395,"tag":494,"props":6353,"children":6354},{"class":496,"line":1132},[6355,6359,6363,6368,6372,6376],{"type":395,"tag":494,"props":6356,"children":6357},{"style":673},[6358],{"type":401,"value":676},{"type":395,"tag":494,"props":6360,"children":6361},{"style":513},[6362],{"type":401,"value":681},{"type":395,"tag":494,"props":6364,"children":6365},{"style":549},[6366],{"type":401,"value":6367},"newDeps",{"type":395,"tag":494,"props":6369,"children":6370},{"style":555},[6371],{"type":401,"value":558},{"type":395,"tag":494,"props":6373,"children":6374},{"style":571},[6375],{"type":401,"value":4024},{"type":395,"tag":494,"props":6377,"children":6378},{"style":513},[6379],{"type":401,"value":586},{"type":395,"tag":494,"props":6381,"children":6382},{"class":496,"line":1141},[6383,6387,6391,6396,6400,6404,6409,6413],{"type":395,"tag":494,"props":6384,"children":6385},{"style":673},[6386],{"type":401,"value":676},{"type":395,"tag":494,"props":6388,"children":6389},{"style":513},[6390],{"type":401,"value":681},{"type":395,"tag":494,"props":6392,"children":6393},{"style":549},[6394],{"type":401,"value":6395},"depIds",{"type":395,"tag":494,"props":6397,"children":6398},{"style":555},[6399],{"type":401,"value":558},{"type":395,"tag":494,"props":6401,"children":6402},{"style":555},[6403],{"type":401,"value":563},{"type":395,"tag":494,"props":6405,"children":6406},{"style":507},[6407],{"type":401,"value":6408}," Set",{"type":395,"tag":494,"props":6410,"children":6411},{"style":571},[6412],{"type":401,"value":743},{"type":395,"tag":494,"props":6414,"children":6415},{"style":513},[6416],{"type":401,"value":586},{"type":395,"tag":494,"props":6418,"children":6419},{"class":496,"line":1149},[6420,6424,6428,6433,6437,6441,6445,6449],{"type":395,"tag":494,"props":6421,"children":6422},{"style":673},[6423],{"type":401,"value":676},{"type":395,"tag":494,"props":6425,"children":6426},{"style":513},[6427],{"type":401,"value":681},{"type":395,"tag":494,"props":6429,"children":6430},{"style":549},[6431],{"type":401,"value":6432},"newDepIds",{"type":395,"tag":494,"props":6434,"children":6435},{"style":555},[6436],{"type":401,"value":558},{"type":395,"tag":494,"props":6438,"children":6439},{"style":555},[6440],{"type":401,"value":563},{"type":395,"tag":494,"props":6442,"children":6443},{"style":507},[6444],{"type":401,"value":6408},{"type":395,"tag":494,"props":6446,"children":6447},{"style":571},[6448],{"type":401,"value":743},{"type":395,"tag":494,"props":6450,"children":6451},{"style":513},[6452],{"type":401,"value":586},{"type":395,"tag":494,"props":6454,"children":6455},{"class":496,"line":1176},[6456],{"type":395,"tag":494,"props":6457,"children":6458},{"emptyLinePlaceholder":387},[6459],{"type":401,"value":623},{"type":395,"tag":494,"props":6461,"children":6462},{"class":496,"line":1225},[6463],{"type":395,"tag":494,"props":6464,"children":6465},{"style":705},[6466],{"type":401,"value":6467},"    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n",{"type":395,"tag":494,"props":6469,"children":6470},{"class":496,"line":1304},[6471],{"type":395,"tag":494,"props":6472,"children":6473},{"style":705},[6474],{"type":401,"value":6475},"     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n",{"type":395,"tag":494,"props":6477,"children":6478},{"class":496,"line":1348},[6479],{"type":395,"tag":494,"props":6480,"children":6481},{"style":705},[6482],{"type":401,"value":6483},"     */\n",{"type":395,"tag":494,"props":6485,"children":6486},{"class":496,"line":1356},[6487,6491,6495,6499],{"type":395,"tag":494,"props":6488,"children":6489},{"style":673},[6490],{"type":401,"value":676},{"type":395,"tag":494,"props":6492,"children":6493},{"style":513},[6494],{"type":401,"value":681},{"type":395,"tag":494,"props":6496,"children":6497},{"style":549},[6498],{"type":401,"value":5181},{"type":395,"tag":494,"props":6500,"children":6501},{"style":555},[6502],{"type":401,"value":6503}," =\n",{"type":395,"tag":494,"props":6505,"children":6506},{"class":496,"line":1364},[6507,6512,6516,6520,6524,6528,6532,6536,6540,6544,6548,6552,6556,6561,6566,6570,6575],{"type":395,"tag":494,"props":6508,"children":6509},{"style":549},[6510],{"type":401,"value":6511},"      process",{"type":395,"tag":494,"props":6513,"children":6514},{"style":513},[6515],{"type":401,"value":681},{"type":395,"tag":494,"props":6517,"children":6518},{"style":549},[6519],{"type":401,"value":3552},{"type":395,"tag":494,"props":6521,"children":6522},{"style":513},[6523],{"type":401,"value":681},{"type":395,"tag":494,"props":6525,"children":6526},{"style":1185},[6527],{"type":401,"value":3561},{"type":395,"tag":494,"props":6529,"children":6530},{"style":555},[6531],{"type":401,"value":3467},{"type":395,"tag":494,"props":6533,"children":6534},{"style":811},[6535],{"type":401,"value":814},{"type":395,"tag":494,"props":6537,"children":6538},{"style":817},[6539],{"type":401,"value":3574},{"type":395,"tag":494,"props":6541,"children":6542},{"style":811},[6543],{"type":401,"value":825},{"type":395,"tag":494,"props":6545,"children":6546},{"style":555},[6547],{"type":401,"value":3048},{"type":395,"tag":494,"props":6549,"children":6550},{"style":549},[6551],{"type":401,"value":5678},{"type":395,"tag":494,"props":6553,"children":6554},{"style":513},[6555],{"type":401,"value":681},{"type":395,"tag":494,"props":6557,"children":6558},{"style":507},[6559],{"type":401,"value":6560},"toString",{"type":395,"tag":494,"props":6562,"children":6563},{"style":571},[6564],{"type":401,"value":6565},"() ",{"type":395,"tag":494,"props":6567,"children":6568},{"style":555},[6569],{"type":401,"value":2965},{"type":395,"tag":494,"props":6571,"children":6572},{"style":811},[6573],{"type":401,"value":6574}," \"\"",{"type":395,"tag":494,"props":6576,"children":6577},{"style":513},[6578],{"type":401,"value":586},{"type":395,"tag":494,"props":6580,"children":6581},{"class":496,"line":1372},[6582],{"type":395,"tag":494,"props":6583,"children":6584},{"style":705},[6585],{"type":401,"value":6586},"    // parse expression for getter\n",{"type":395,"tag":494,"props":6588,"children":6589},{"class":496,"line":1398},[6590,6594,6598,6603,6607,6611,6615,6619,6623,6627],{"type":395,"tag":494,"props":6591,"children":6592},{"style":593},[6593],{"type":401,"value":869},{"type":395,"tag":494,"props":6595,"children":6596},{"style":571},[6597],{"type":401,"value":874},{"type":395,"tag":494,"props":6599,"children":6600},{"style":555},[6601],{"type":401,"value":6602},"typeof",{"type":395,"tag":494,"props":6604,"children":6605},{"style":549},[6606],{"type":401,"value":5678},{"type":395,"tag":494,"props":6608,"children":6609},{"style":555},[6610],{"type":401,"value":2588},{"type":395,"tag":494,"props":6612,"children":6613},{"style":811},[6614],{"type":401,"value":814},{"type":395,"tag":494,"props":6616,"children":6617},{"style":817},[6618],{"type":401,"value":504},{"type":395,"tag":494,"props":6620,"children":6621},{"style":811},[6622],{"type":401,"value":825},{"type":395,"tag":494,"props":6624,"children":6625},{"style":571},[6626],{"type":401,"value":929},{"type":395,"tag":494,"props":6628,"children":6629},{"style":513},[6630],{"type":401,"value":906},{"type":395,"tag":494,"props":6632,"children":6633},{"class":496,"line":1488},[6634,6638,6642,6646,6650,6654],{"type":395,"tag":494,"props":6635,"children":6636},{"style":673},[6637],{"type":401,"value":1045},{"type":395,"tag":494,"props":6639,"children":6640},{"style":513},[6641],{"type":401,"value":681},{"type":395,"tag":494,"props":6643,"children":6644},{"style":549},[6645],{"type":401,"value":2747},{"type":395,"tag":494,"props":6647,"children":6648},{"style":555},[6649],{"type":401,"value":558},{"type":395,"tag":494,"props":6651,"children":6652},{"style":549},[6653],{"type":401,"value":5678},{"type":395,"tag":494,"props":6655,"children":6656},{"style":513},[6657],{"type":401,"value":586},{"type":395,"tag":494,"props":6659,"children":6660},{"class":496,"line":1521},[6661,6665,6669],{"type":395,"tag":494,"props":6662,"children":6663},{"style":513},[6664],{"type":401,"value":1079},{"type":395,"tag":494,"props":6666,"children":6667},{"style":593},[6668],{"type":401,"value":981},{"type":395,"tag":494,"props":6670,"children":6671},{"style":513},[6672],{"type":401,"value":542},{"type":395,"tag":494,"props":6674,"children":6675},{"class":496,"line":1529},[6676],{"type":395,"tag":494,"props":6677,"children":6678},{"style":705},[6679],{"type":401,"value":6680},"      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n",{"type":395,"tag":494,"props":6682,"children":6683},{"class":496,"line":1537},[6684,6688,6692,6696,6700,6705,6709,6714,6718],{"type":395,"tag":494,"props":6685,"children":6686},{"style":673},[6687],{"type":401,"value":1045},{"type":395,"tag":494,"props":6689,"children":6690},{"style":513},[6691],{"type":401,"value":681},{"type":395,"tag":494,"props":6693,"children":6694},{"style":549},[6695],{"type":401,"value":2747},{"type":395,"tag":494,"props":6697,"children":6698},{"style":555},[6699],{"type":401,"value":558},{"type":395,"tag":494,"props":6701,"children":6702},{"style":507},[6703],{"type":401,"value":6704}," parsePath",{"type":395,"tag":494,"props":6706,"children":6707},{"style":571},[6708],{"type":401,"value":516},{"type":395,"tag":494,"props":6710,"children":6711},{"style":549},[6712],{"type":401,"value":6713},"expOrFn",{"type":395,"tag":494,"props":6715,"children":6716},{"style":571},[6717],{"type":401,"value":537},{"type":395,"tag":494,"props":6719,"children":6720},{"style":513},[6721],{"type":401,"value":586},{"type":395,"tag":494,"props":6723,"children":6724},{"class":496,"line":3360},[6725],{"type":395,"tag":494,"props":6726,"children":6727},{"style":513},[6728],{"type":401,"value":1129},{"type":395,"tag":494,"props":6730,"children":6731},{"class":496,"line":3420},[6732],{"type":395,"tag":494,"props":6733,"children":6734},{"emptyLinePlaceholder":387},[6735],{"type":401,"value":623},{"type":395,"tag":494,"props":6737,"children":6738},{"class":496,"line":3429},[6739,6743,6747,6751,6755,6759,6763,6767,6771,6776,6781,6785,6789,6793,6797],{"type":395,"tag":494,"props":6740,"children":6741},{"style":673},[6742],{"type":401,"value":676},{"type":395,"tag":494,"props":6744,"children":6745},{"style":513},[6746],{"type":401,"value":681},{"type":395,"tag":494,"props":6748,"children":6749},{"style":549},[6750],{"type":401,"value":522},{"type":395,"tag":494,"props":6752,"children":6753},{"style":555},[6754],{"type":401,"value":558},{"type":395,"tag":494,"props":6756,"children":6757},{"style":673},[6758],{"type":401,"value":834},{"type":395,"tag":494,"props":6760,"children":6761},{"style":513},[6762],{"type":401,"value":681},{"type":395,"tag":494,"props":6764,"children":6765},{"style":549},[6766],{"type":401,"value":5991},{"type":395,"tag":494,"props":6768,"children":6769},{"style":555},[6770],{"type":401,"value":3048},{"type":395,"tag":494,"props":6772,"children":6773},{"style":4598},[6774],{"type":401,"value":6775}," undefined",{"type":395,"tag":494,"props":6777,"children":6778},{"style":555},[6779],{"type":401,"value":6780}," :",{"type":395,"tag":494,"props":6782,"children":6783},{"style":673},[6784],{"type":401,"value":834},{"type":395,"tag":494,"props":6786,"children":6787},{"style":513},[6788],{"type":401,"value":681},{"type":395,"tag":494,"props":6790,"children":6791},{"style":507},[6792],{"type":401,"value":2680},{"type":395,"tag":494,"props":6794,"children":6795},{"style":571},[6796],{"type":401,"value":743},{"type":395,"tag":494,"props":6798,"children":6799},{"style":513},[6800],{"type":401,"value":586},{"type":395,"tag":494,"props":6802,"children":6803},{"class":496,"line":3499},[6804],{"type":395,"tag":494,"props":6805,"children":6806},{"style":513},[6807],{"type":401,"value":1138},{"type":395,"tag":494,"props":6809,"children":6810},{"class":496,"line":3512},[6811],{"type":395,"tag":494,"props":6812,"children":6813},{"style":513},[6814],{"type":401,"value":614},{"type":395,"tag":428,"props":6816,"children":6817},{},[6818],{"type":401,"value":6819},"Watcher 是组件级别的，如果状态发生了变化，只能通知到组件。再由组件对比内部的虚拟节点的变化。换句话说，Vue 对响应式状态变化侦测只通知到组件，这意味着只要某个属性变化了，相应的组件都会重渲染。",{"type":395,"tag":6821,"props":6822,"children":6823},"hr",{},[],{"type":395,"tag":396,"props":6825,"children":6827},{"id":6826},"阅读更多",[6828],{"type":401,"value":6826},{"type":395,"tag":403,"props":6830,"children":6831},{},[6832,6842],{"type":395,"tag":407,"props":6833,"children":6834},{},[6835],{"type":395,"tag":458,"props":6836,"children":6839},{"href":6837,"rel":6838},"https://book.douban.com/subject/32581281/",[462],[6840],{"type":401,"value":6841},"《深入浅出 VueJS》",{"type":395,"tag":407,"props":6843,"children":6844},{},[6845],{"type":395,"tag":458,"props":6846,"children":6849},{"href":6847,"rel":6848},"http://hcysun.me/vue-design/zh/",[462],[6850],{"type":401,"value":6851},"江山父老能容我 不使人间造孽钱",{"type":395,"tag":6853,"props":6854,"children":6855},"style",{},[6856],{"type":401,"value":6857},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":388,"searchDepth":545,"depth":545,"links":6859},[6860,6861,6862,6868],{"id":398,"depth":545,"text":398},{"id":424,"depth":545,"text":424},{"id":445,"depth":545,"text":445,"children":6863},[6864,6865,6866,6867],{"id":471,"depth":589,"text":471},{"id":1545,"depth":589,"text":1545},{"id":2354,"depth":589,"text":2354},{"id":3912,"depth":589,"text":3912},{"id":6826,"depth":545,"text":6826},"markdown","content:8.source-code:_js:vue2-source:1.observer.md","content","8.source-code/_js/vue2-source/1.observer.md","md",[6875,6878],{"_path":6876,"title":6877,"description":390},"/source-code/_js/vue2-source","Vue2 Source",{"_path":6879,"title":6880,"description":390},"/source-code/_js/vue2-source/parser","Vue2 Parser",1708107586236]