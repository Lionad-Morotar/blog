[{"data":1,"prerenderedAt":6884},["Reactive",2],{"navigation":3,"/source-code/_js/vue2-source/observer":386,"/source-code/_js/vue2-source/observer-surround":6877},[4,32,80,96,123,129,135,369,375,381],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":42,"_path":43},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":45,"_path":46},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":48,"_path":49},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":51,"_path":52},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":54,"_path":55},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":57,"_path":58},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":60,"_path":61},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":63,"_path":64},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":66,"_path":67},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":69,"_path":70},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":72,"_path":73},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":75,"_path":76},"🚝 四十二篇系列","/articles/fourty-two",{"title":78,"_path":79},"📝 技术博客归档","/articles/fold",{"title":81,"_path":82,"children":83},"造物 / Make","/tools",[84,87,90,93],{"title":85,"_path":86},"🌐 AnySort","/tools/anysort",{"title":88,"_path":89},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":91,"_path":92},"👓 Crapto","/tools/crypto-inline",{"title":94,"_path":95},"🖨️ any-to-base64","/tools/any-to-base64",{"title":97,"_path":98,"children":99},"吉他剧场 / Music","/music",[100,102,105,108,111,114,117,120],{"title":101,"_path":98},"🎸 FingerStyle！",{"title":103,"_path":104},"🌬️ 等待的风","/music/wind",{"title":106,"_path":107},"💕 约定的海洋","/music/ocean",{"title":109,"_path":110},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":112,"_path":113},"🌏 残酷天使的行动纲领","/music/eva",{"title":115,"_path":116},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":118,"_path":119},"🍷 Wu Wei","/music/wu-wei",{"title":121,"_path":122},"🌅 无题","/music/untitled",{"title":124,"_path":125,"children":126},"画点什么 / Paint","/paint",[127],{"title":128,"_path":125},"🚧 正在施工",{"title":130,"_path":131,"children":132},"知识地图 / Maps","/maps",[133],{"title":134,"_path":131},"🏁 知识地图",{"title":136,"_path":137,"children":138},"零散的笔记 / Gists","/gists",[139,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366],{"title":140,"_path":137},"🧊 Gists",{"title":142,"_path":143},"网站的可访问性","/gists/accessibility",{"title":145,"_path":146},"Bit","/gists/bit",{"title":148,"_path":149},"图片模糊","/gists/blur",{"title":151,"_path":152},"渲染相关笔记","/gists/c4d",{"title":154,"_path":155},"CDN 问题记录","/gists/cdn",{"title":157,"_path":158},"消毒剂","/gists/cleaner",{"title":160,"_path":161},"Windows Command","/gists/cmd",{"title":163,"_path":164},"Command","/gists/command",{"title":166,"_path":167},"复杂科学","/gists/complexity-science",{"title":169,"_path":170},"宇宙","/gists/cosmos",{"title":172,"_path":173},"C++","/gists/cpp",{"title":175,"_path":176},"Data Structure","/gists/data-structure",{"title":178,"_path":179},"DEPRESSION","/gists/depression",{"title":181,"_path":182},"设计模式","/gists/design-patterns",{"title":184,"_path":185},"Developer Experience","/gists/developer-experience",{"title":187,"_path":188},"Device Metrics","/gists/device-metrix",{"title":190,"_path":191},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":193,"_path":194},"正则表达式","/gists/eegex",{"title":196,"_path":197},"Emoji","/gists/emoji",{"title":199,"_path":200},"工程","/gists/engineering",{"title":202,"_path":203},"熵","/gists/entropy",{"title":205,"_path":206},"Environment","/gists/environment",{"title":208,"_path":209},"Erlang","/gists/erlang",{"title":211,"_path":212},"逃离塔克夫","/gists/escape-from-tarkov",{"title":214,"_path":215},"ESNext (ES6-ES11)","/gists/esnext",{"title":217,"_path":218},"Eval！","/gists/eval",{"title":220,"_path":221},"Flutter","/gists/flutter",{"title":223,"_path":224},"字体","/gists/font",{"title":226,"_path":227},"JS 函数式编程","/gists/functional",{"title":229,"_path":230},"Google C++ Standard","/gists/google-cpp-standard",{"title":232,"_path":233},"双向链接完全体","/gists/graph",{"title":235,"_path":236},"Hardwares","/gists/hardwares",{"title":238,"_path":239},"哈希冲突","/gists/hash-collision",{"title":241,"_path":242},"信息设计","/gists/information-design",{"title":244,"_path":245},"InstantPage","/gists/instant.page",{"title":247,"_path":248},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":250,"_path":251},"KVStore","/gists/key-value-db",{"title":253,"_path":254},"Kubernetes","/gists/kubernetes",{"title":256,"_path":257},"Makefile","/gists/makefile",{"title":259,"_path":260},"Markdown Inline Style","/gists/markdown-nice",{"title":262,"_path":263},"小程序","/gists/miniapp",{"title":265,"_path":266},"减小页面快照体积","/gists/minify-html",{"title":268,"_path":269},"mklink","/gists/mklink",{"title":271,"_path":272},"Mock","/gists/mock",{"title":274,"_path":275},"多端应用","/gists/multy-end-app",{"title":277,"_path":278},"神经科学","/gists/neuroscience",{"title":280,"_path":281},"OO","/gists/oo",{"title":283,"_path":284},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":286,"_path":287},"人物","/gists/person",{"title":289,"_path":290},"PInvoke","/gists/pinvoke",{"title":292,"_path":293},"像素","/gists/pixel",{"title":295,"_path":296},"PowerShell","/gists/powershell",{"title":298,"_path":299},"量子","/gists/quantum",{"title":301,"_path":302},"保持好奇心","/gists/questions",{"title":304,"_path":305},"React Native","/gists/react-native",{"title":307,"_path":308},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":310,"_path":311},"SEO","/gists/seo",{"title":313,"_path":314},"Shader","/gists/shader",{"title":316,"_path":317},"Shape Up","/gists/shape-up",{"title":319,"_path":320},"睡觉","/gists/sleep",{"title":322,"_path":323},"States","/gists/states",{"title":325,"_path":326},"Storage","/gists/storage",{"title":328,"_path":329},"音视频流处理","/gists/stream-cli",{"title":331,"_path":332},"Symbol","/gists/symbol",{"title":334,"_path":335},"系统论","/gists/systems-theory",{"title":337,"_path":338},"Taro","/gists/taro",{"title":340,"_path":341},"任务切片","/gists/task-slice",{"title":343,"_path":344},"技术偏好","/gists/tech-dudge",{"title":346,"_path":347},"Untitled","/gists/untitled",{"title":349,"_path":350},"可变字体","/gists/variable-font",{"title":352,"_path":353},"视觉错觉","/gists/visual-illusion",{"title":355,"_path":356},"SS(SSR)","/gists/vpn",{"title":358,"_path":359},"VS Code 插件开发","/gists/vscode-plugin",{"title":361,"_path":362},"Web Components","/gists/web-components",{"title":364,"_path":365},"Windows","/gists/windows",{"title":367,"_path":368},"查缺补漏","/gists/wrong",{"title":370,"_path":371,"children":372},"代码笔记 / Gists","/source-code",[373],{"title":374,"_path":371},"🚄 代码笔记",{"title":376,"_path":377,"children":378},"我 / Abount","/hire",[379],{"title":380,"_path":377},"📬 技术简历",{"title":382,"_path":383,"children":384},"todo","/todo",[385],{"title":382,"_path":383},{"_path":387,"_dir":388,"_draft":389,"_partial":390,"_locale":391,"title":392,"description":393,"body":394,"_type":6872,"_id":6873,"_source":6874,"_file":6875,"_extension":6876},"/source-code/_js/vue2-source/observer","vue2-source",false,true,"","Vue2 Observer","deprecated warning",{"type":395,"children":396,"toc":6861},"root",[397,405,425,430,436,446,451,471,477,482,487,1546,1551,1556,2355,2360,2365,3913,3918,3923,3928,3933,4529,4534,4542,4547,4837,4842,4847,5432,5437,5631,5636,6818,6823,6827,6832,6855],{"type":398,"tag":399,"props":400,"children":402},"element","h2",{"id":401},"读源码前",[403],{"type":404,"value":401},"text",{"type":398,"tag":406,"props":407,"children":408},"ul",{},[409,415,420],{"type":398,"tag":410,"props":411,"children":412},"li",{},[413],{"type":404,"value":414},"从 GitHub 克隆一份 vue@2 在 dev 上的分支",{"type":398,"tag":410,"props":416,"children":417},{},[418],{"type":404,"value":419},"使用 flow-remove-types 将 src 目录下的 flow 文件转换为普通的 JS",{"type":398,"tag":410,"props":421,"children":422},{},[423],{"type":404,"value":424},"使用 PowerShell 的 tree 指令输出 src 目录的树形结构，以理解源码结构",{"type":398,"tag":399,"props":426,"children":428},{"id":427},"目录结构",[429],{"type":404,"value":427},{"type":398,"tag":431,"props":432,"children":433},"p",{},[434],{"type":404,"value":435},"可以大致根据目录将源码拆分为几个部分：",{"type":398,"tag":437,"props":438,"children":440},"pre",{"code":439},"├─compiler // 模板编译相关\n│  ├─codegen  // 代码生成器\n│  ├─directives // 指令解析器\n│  └─parser // 模板解析器\n├─core  // 核心代码\n│  ├─components // component 相关 API\n│  ├─global-api // 全局 API\n│  ├─instance\n│  │  └─render-helpers\n│  ├─observer // 响应式属性\n│  ├─util // 工具函数\n│  └─vdom // 虚拟节点\n│      ├─helpers\n│      └─modules\n├─platforms // 平台相关代码\n├─server  // 服务端渲染相关代码\n│  ├─bundle-renderer\n│  ├─optimizing-compiler\n│  ├─template-renderer\n│  └─webpack-plugin\n├─sfc // SFC 结构解析器\n└─shared  // 工具函数\n",[441],{"type":398,"tag":442,"props":443,"children":444},"code",{"__ignoreMap":391},[445],{"type":404,"value":439},{"type":398,"tag":399,"props":447,"children":449},{"id":448},"变化侦测",[450],{"type":404,"value":448},{"type":398,"tag":452,"props":453,"children":454},"blockquote",{},[455],{"type":398,"tag":431,"props":456,"children":457},{},[458,460,469],{"type":404,"value":459},"去年读变化侦测的时候，借着项目的机会，实现过一个轻量的状态管理：",{"type":398,"tag":461,"props":462,"children":466},"a",{"href":463,"rel":464},"https://github.com/takecloud/state-vex",[465],"nofollow",[467],{"type":404,"value":468},"state-vex",{"type":404,"value":470},"，用到了 VueJS 响应式绑定相关的一些内容。",{"type":398,"tag":472,"props":473,"children":475},"h3",{"id":474},"侦测类",[476],{"type":404,"value":474},{"type":398,"tag":431,"props":478,"children":479},{},[480],{"type":404,"value":481},"Vue 通过 Observer 把对象的所有属性转化为带有能收集依赖并触发依赖更新的 setter/getter。setter/getter 调用时，分别收集依赖、触发依赖更新。Observer 还能遍历数组元素。但是更新依赖的方法放在了数组原型方法中，比如 Array.prototype.splice，用包装器将其增强，就能在调用时同时调用更新依赖的函数。",{"type":398,"tag":431,"props":483,"children":484},{},[485],{"type":404,"value":486},"简而言之，Observer 使对象“可观测”，即“变化侦测”中的“侦测”。通过 observe 函数，我们能命令式地侦测一个对象。",{"type":398,"tag":437,"props":488,"children":492},{"code":489,"language":490,"meta":391,"className":491,"style":391},"function observe(value, asRootData) {\n  ob = new Observer(value);\n  return ob;\n}\n\nclass Observer {\n  constructor(value) {\n    this.value = value;\n    // 初始化依赖容器\n    this.dep = new Dep();\n    this.vmCount = 0;\n    // 将侦测实例实例挂载到对象上方便访问\n    def(value, \"__ob__\", this);\n    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods);\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys);\n      }\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n\n  walk(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i \u003C keys.length; i++) {\n      defineReactive(obj, keys[i]);\n    }\n  }\n\n  observeArray(items) {\n    for (let i = 0, l = items.length; i \u003C l; i++) {\n      observe(items[i]);\n    }\n  }\n}\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[493],{"type":398,"tag":442,"props":494,"children":495},{"__ignoreMap":391},[496,546,590,609,618,627,645,670,702,712,751,782,791,846,855,864,910,937,971,989,1031,1040,1074,1091,1124,1133,1142,1150,1177,1226,1305,1349,1357,1365,1373,1399,1489,1522,1530,1538],{"type":398,"tag":497,"props":498,"children":501},"span",{"class":499,"line":500},"line",1,[502,508,514,520,526,531,536,541],{"type":398,"tag":497,"props":503,"children":505},{"style":504},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[506],{"type":404,"value":507},"function",{"type":398,"tag":497,"props":509,"children":511},{"style":510},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[512],{"type":404,"value":513}," observe",{"type":398,"tag":497,"props":515,"children":517},{"style":516},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[518],{"type":404,"value":519},"(",{"type":398,"tag":497,"props":521,"children":523},{"style":522},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[524],{"type":404,"value":525},"value",{"type":398,"tag":497,"props":527,"children":528},{"style":516},[529],{"type":404,"value":530},",",{"type":398,"tag":497,"props":532,"children":533},{"style":522},[534],{"type":404,"value":535}," asRootData",{"type":398,"tag":497,"props":537,"children":538},{"style":516},[539],{"type":404,"value":540},")",{"type":398,"tag":497,"props":542,"children":543},{"style":516},[544],{"type":404,"value":545}," {\n",{"type":398,"tag":497,"props":547,"children":549},{"class":499,"line":548},2,[550,556,562,567,572,577,581,585],{"type":398,"tag":497,"props":551,"children":553},{"style":552},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[554],{"type":404,"value":555},"  ob",{"type":398,"tag":497,"props":557,"children":559},{"style":558},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[560],{"type":404,"value":561}," =",{"type":398,"tag":497,"props":563,"children":564},{"style":558},[565],{"type":404,"value":566}," new",{"type":398,"tag":497,"props":568,"children":569},{"style":510},[570],{"type":404,"value":571}," Observer",{"type":398,"tag":497,"props":573,"children":575},{"style":574},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[576],{"type":404,"value":519},{"type":398,"tag":497,"props":578,"children":579},{"style":552},[580],{"type":404,"value":525},{"type":398,"tag":497,"props":582,"children":583},{"style":574},[584],{"type":404,"value":540},{"type":398,"tag":497,"props":586,"children":587},{"style":516},[588],{"type":404,"value":589},";\n",{"type":398,"tag":497,"props":591,"children":593},{"class":499,"line":592},3,[594,600,605],{"type":398,"tag":497,"props":595,"children":597},{"style":596},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[598],{"type":404,"value":599},"  return",{"type":398,"tag":497,"props":601,"children":602},{"style":552},[603],{"type":404,"value":604}," ob",{"type":398,"tag":497,"props":606,"children":607},{"style":516},[608],{"type":404,"value":589},{"type":398,"tag":497,"props":610,"children":612},{"class":499,"line":611},4,[613],{"type":398,"tag":497,"props":614,"children":615},{"style":516},[616],{"type":404,"value":617},"}\n",{"type":398,"tag":497,"props":619,"children":621},{"class":499,"line":620},5,[622],{"type":398,"tag":497,"props":623,"children":624},{"emptyLinePlaceholder":390},[625],{"type":404,"value":626},"\n",{"type":398,"tag":497,"props":628,"children":630},{"class":499,"line":629},6,[631,636,641],{"type":398,"tag":497,"props":632,"children":633},{"style":504},[634],{"type":404,"value":635},"class",{"type":398,"tag":497,"props":637,"children":639},{"style":638},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E;--shiki-light-text-decoration:inherit;--shiki-default-text-decoration:inherit;--shiki-dark-text-decoration:inherit;--shiki-sepia-text-decoration:underline",[640],{"type":404,"value":571},{"type":398,"tag":497,"props":642,"children":643},{"style":516},[644],{"type":404,"value":545},{"type":398,"tag":497,"props":646,"children":648},{"class":499,"line":647},7,[649,654,658,662,666],{"type":398,"tag":497,"props":650,"children":651},{"style":504},[652],{"type":404,"value":653},"  constructor",{"type":398,"tag":497,"props":655,"children":656},{"style":516},[657],{"type":404,"value":519},{"type":398,"tag":497,"props":659,"children":660},{"style":522},[661],{"type":404,"value":525},{"type":398,"tag":497,"props":663,"children":664},{"style":516},[665],{"type":404,"value":540},{"type":398,"tag":497,"props":667,"children":668},{"style":516},[669],{"type":404,"value":545},{"type":398,"tag":497,"props":671,"children":673},{"class":499,"line":672},8,[674,680,685,689,693,698],{"type":398,"tag":497,"props":675,"children":677},{"style":676},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[678],{"type":404,"value":679},"    this",{"type":398,"tag":497,"props":681,"children":682},{"style":516},[683],{"type":404,"value":684},".",{"type":398,"tag":497,"props":686,"children":687},{"style":552},[688],{"type":404,"value":525},{"type":398,"tag":497,"props":690,"children":691},{"style":558},[692],{"type":404,"value":561},{"type":398,"tag":497,"props":694,"children":695},{"style":552},[696],{"type":404,"value":697}," value",{"type":398,"tag":497,"props":699,"children":700},{"style":516},[701],{"type":404,"value":589},{"type":398,"tag":497,"props":703,"children":705},{"class":499,"line":704},9,[706],{"type":398,"tag":497,"props":707,"children":709},{"style":708},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[710],{"type":404,"value":711},"    // 初始化依赖容器\n",{"type":398,"tag":497,"props":713,"children":715},{"class":499,"line":714},10,[716,720,724,729,733,737,742,747],{"type":398,"tag":497,"props":717,"children":718},{"style":676},[719],{"type":404,"value":679},{"type":398,"tag":497,"props":721,"children":722},{"style":516},[723],{"type":404,"value":684},{"type":398,"tag":497,"props":725,"children":726},{"style":552},[727],{"type":404,"value":728},"dep",{"type":398,"tag":497,"props":730,"children":731},{"style":558},[732],{"type":404,"value":561},{"type":398,"tag":497,"props":734,"children":735},{"style":558},[736],{"type":404,"value":566},{"type":398,"tag":497,"props":738,"children":739},{"style":510},[740],{"type":404,"value":741}," Dep",{"type":398,"tag":497,"props":743,"children":744},{"style":574},[745],{"type":404,"value":746},"()",{"type":398,"tag":497,"props":748,"children":749},{"style":516},[750],{"type":404,"value":589},{"type":398,"tag":497,"props":752,"children":754},{"class":499,"line":753},11,[755,759,763,768,772,778],{"type":398,"tag":497,"props":756,"children":757},{"style":676},[758],{"type":404,"value":679},{"type":398,"tag":497,"props":760,"children":761},{"style":516},[762],{"type":404,"value":684},{"type":398,"tag":497,"props":764,"children":765},{"style":552},[766],{"type":404,"value":767},"vmCount",{"type":398,"tag":497,"props":769,"children":770},{"style":558},[771],{"type":404,"value":561},{"type":398,"tag":497,"props":773,"children":775},{"style":774},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[776],{"type":404,"value":777}," 0",{"type":398,"tag":497,"props":779,"children":780},{"style":516},[781],{"type":404,"value":589},{"type":398,"tag":497,"props":783,"children":785},{"class":499,"line":784},12,[786],{"type":398,"tag":497,"props":787,"children":788},{"style":708},[789],{"type":404,"value":790},"    // 将侦测实例实例挂载到对象上方便访问\n",{"type":398,"tag":497,"props":792,"children":794},{"class":499,"line":793},13,[795,800,804,808,812,818,824,829,833,838,842],{"type":398,"tag":497,"props":796,"children":797},{"style":510},[798],{"type":404,"value":799},"    def",{"type":398,"tag":497,"props":801,"children":802},{"style":574},[803],{"type":404,"value":519},{"type":398,"tag":497,"props":805,"children":806},{"style":552},[807],{"type":404,"value":525},{"type":398,"tag":497,"props":809,"children":810},{"style":516},[811],{"type":404,"value":530},{"type":398,"tag":497,"props":813,"children":815},{"style":814},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[816],{"type":404,"value":817}," \"",{"type":398,"tag":497,"props":819,"children":821},{"style":820},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[822],{"type":404,"value":823},"__ob__",{"type":398,"tag":497,"props":825,"children":826},{"style":814},[827],{"type":404,"value":828},"\"",{"type":398,"tag":497,"props":830,"children":831},{"style":516},[832],{"type":404,"value":530},{"type":398,"tag":497,"props":834,"children":835},{"style":676},[836],{"type":404,"value":837}," this",{"type":398,"tag":497,"props":839,"children":840},{"style":574},[841],{"type":404,"value":540},{"type":398,"tag":497,"props":843,"children":844},{"style":516},[845],{"type":404,"value":589},{"type":398,"tag":497,"props":847,"children":849},{"class":499,"line":848},14,[850],{"type":398,"tag":497,"props":851,"children":852},{"style":708},[853],{"type":404,"value":854},"    // 如果是数组，则给它挂载带有依赖收集及触发依赖更新增强的原型函数，并遍历元素设置响应式属性；\n",{"type":398,"tag":497,"props":856,"children":858},{"class":499,"line":857},15,[859],{"type":398,"tag":497,"props":860,"children":861},{"style":708},[862],{"type":404,"value":863},"    // 如果是对象，则遍历对象的每一个值并递归遍历子对象，设置响应式属性\n",{"type":398,"tag":497,"props":865,"children":867},{"class":499,"line":866},16,[868,873,878,883,887,892,896,900,905],{"type":398,"tag":497,"props":869,"children":870},{"style":596},[871],{"type":404,"value":872},"    if",{"type":398,"tag":497,"props":874,"children":875},{"style":574},[876],{"type":404,"value":877}," (",{"type":398,"tag":497,"props":879,"children":880},{"style":552},[881],{"type":404,"value":882},"Array",{"type":398,"tag":497,"props":884,"children":885},{"style":516},[886],{"type":404,"value":684},{"type":398,"tag":497,"props":888,"children":889},{"style":510},[890],{"type":404,"value":891},"isArray",{"type":398,"tag":497,"props":893,"children":894},{"style":574},[895],{"type":404,"value":519},{"type":398,"tag":497,"props":897,"children":898},{"style":552},[899],{"type":404,"value":525},{"type":398,"tag":497,"props":901,"children":902},{"style":574},[903],{"type":404,"value":904},")) ",{"type":398,"tag":497,"props":906,"children":907},{"style":516},[908],{"type":404,"value":909},"{\n",{"type":398,"tag":497,"props":911,"children":913},{"class":499,"line":912},17,[914,919,923,928,933],{"type":398,"tag":497,"props":915,"children":916},{"style":596},[917],{"type":404,"value":918},"      if",{"type":398,"tag":497,"props":920,"children":921},{"style":574},[922],{"type":404,"value":877},{"type":398,"tag":497,"props":924,"children":925},{"style":552},[926],{"type":404,"value":927},"hasProto",{"type":398,"tag":497,"props":929,"children":930},{"style":574},[931],{"type":404,"value":932},") ",{"type":398,"tag":497,"props":934,"children":935},{"style":516},[936],{"type":404,"value":909},{"type":398,"tag":497,"props":938,"children":940},{"class":499,"line":939},18,[941,946,950,954,958,963,967],{"type":398,"tag":497,"props":942,"children":943},{"style":510},[944],{"type":404,"value":945},"        protoAugment",{"type":398,"tag":497,"props":947,"children":948},{"style":574},[949],{"type":404,"value":519},{"type":398,"tag":497,"props":951,"children":952},{"style":552},[953],{"type":404,"value":525},{"type":398,"tag":497,"props":955,"children":956},{"style":516},[957],{"type":404,"value":530},{"type":398,"tag":497,"props":959,"children":960},{"style":552},[961],{"type":404,"value":962}," arrayMethods",{"type":398,"tag":497,"props":964,"children":965},{"style":574},[966],{"type":404,"value":540},{"type":398,"tag":497,"props":968,"children":969},{"style":516},[970],{"type":404,"value":589},{"type":398,"tag":497,"props":972,"children":974},{"class":499,"line":973},19,[975,980,985],{"type":398,"tag":497,"props":976,"children":977},{"style":516},[978],{"type":404,"value":979},"      }",{"type":398,"tag":497,"props":981,"children":982},{"style":596},[983],{"type":404,"value":984}," else",{"type":398,"tag":497,"props":986,"children":987},{"style":516},[988],{"type":404,"value":545},{"type":398,"tag":497,"props":990,"children":992},{"class":499,"line":991},20,[993,998,1002,1006,1010,1014,1018,1023,1027],{"type":398,"tag":497,"props":994,"children":995},{"style":510},[996],{"type":404,"value":997},"        copyAugment",{"type":398,"tag":497,"props":999,"children":1000},{"style":574},[1001],{"type":404,"value":519},{"type":398,"tag":497,"props":1003,"children":1004},{"style":552},[1005],{"type":404,"value":525},{"type":398,"tag":497,"props":1007,"children":1008},{"style":516},[1009],{"type":404,"value":530},{"type":398,"tag":497,"props":1011,"children":1012},{"style":552},[1013],{"type":404,"value":962},{"type":398,"tag":497,"props":1015,"children":1016},{"style":516},[1017],{"type":404,"value":530},{"type":398,"tag":497,"props":1019,"children":1020},{"style":552},[1021],{"type":404,"value":1022}," arrayKeys",{"type":398,"tag":497,"props":1024,"children":1025},{"style":574},[1026],{"type":404,"value":540},{"type":398,"tag":497,"props":1028,"children":1029},{"style":516},[1030],{"type":404,"value":589},{"type":398,"tag":497,"props":1032,"children":1034},{"class":499,"line":1033},21,[1035],{"type":398,"tag":497,"props":1036,"children":1037},{"style":516},[1038],{"type":404,"value":1039},"      }\n",{"type":398,"tag":497,"props":1041,"children":1043},{"class":499,"line":1042},22,[1044,1049,1053,1058,1062,1066,1070],{"type":398,"tag":497,"props":1045,"children":1046},{"style":676},[1047],{"type":404,"value":1048},"      this",{"type":398,"tag":497,"props":1050,"children":1051},{"style":516},[1052],{"type":404,"value":684},{"type":398,"tag":497,"props":1054,"children":1055},{"style":510},[1056],{"type":404,"value":1057},"observeArray",{"type":398,"tag":497,"props":1059,"children":1060},{"style":574},[1061],{"type":404,"value":519},{"type":398,"tag":497,"props":1063,"children":1064},{"style":552},[1065],{"type":404,"value":525},{"type":398,"tag":497,"props":1067,"children":1068},{"style":574},[1069],{"type":404,"value":540},{"type":398,"tag":497,"props":1071,"children":1072},{"style":516},[1073],{"type":404,"value":589},{"type":398,"tag":497,"props":1075,"children":1077},{"class":499,"line":1076},23,[1078,1083,1087],{"type":398,"tag":497,"props":1079,"children":1080},{"style":516},[1081],{"type":404,"value":1082},"    }",{"type":398,"tag":497,"props":1084,"children":1085},{"style":596},[1086],{"type":404,"value":984},{"type":398,"tag":497,"props":1088,"children":1089},{"style":516},[1090],{"type":404,"value":545},{"type":398,"tag":497,"props":1092,"children":1094},{"class":499,"line":1093},24,[1095,1099,1103,1108,1112,1116,1120],{"type":398,"tag":497,"props":1096,"children":1097},{"style":676},[1098],{"type":404,"value":1048},{"type":398,"tag":497,"props":1100,"children":1101},{"style":516},[1102],{"type":404,"value":684},{"type":398,"tag":497,"props":1104,"children":1105},{"style":510},[1106],{"type":404,"value":1107},"walk",{"type":398,"tag":497,"props":1109,"children":1110},{"style":574},[1111],{"type":404,"value":519},{"type":398,"tag":497,"props":1113,"children":1114},{"style":552},[1115],{"type":404,"value":525},{"type":398,"tag":497,"props":1117,"children":1118},{"style":574},[1119],{"type":404,"value":540},{"type":398,"tag":497,"props":1121,"children":1122},{"style":516},[1123],{"type":404,"value":589},{"type":398,"tag":497,"props":1125,"children":1127},{"class":499,"line":1126},25,[1128],{"type":398,"tag":497,"props":1129,"children":1130},{"style":516},[1131],{"type":404,"value":1132},"    }\n",{"type":398,"tag":497,"props":1134,"children":1136},{"class":499,"line":1135},26,[1137],{"type":398,"tag":497,"props":1138,"children":1139},{"style":516},[1140],{"type":404,"value":1141},"  }\n",{"type":398,"tag":497,"props":1143,"children":1145},{"class":499,"line":1144},27,[1146],{"type":398,"tag":497,"props":1147,"children":1148},{"emptyLinePlaceholder":390},[1149],{"type":404,"value":626},{"type":398,"tag":497,"props":1151,"children":1153},{"class":499,"line":1152},28,[1154,1160,1164,1169,1173],{"type":398,"tag":497,"props":1155,"children":1157},{"style":1156},"--shiki-light:#E53935;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1158],{"type":404,"value":1159},"  walk",{"type":398,"tag":497,"props":1161,"children":1162},{"style":516},[1163],{"type":404,"value":519},{"type":398,"tag":497,"props":1165,"children":1166},{"style":522},[1167],{"type":404,"value":1168},"obj",{"type":398,"tag":497,"props":1170,"children":1171},{"style":516},[1172],{"type":404,"value":540},{"type":398,"tag":497,"props":1174,"children":1175},{"style":516},[1176],{"type":404,"value":545},{"type":398,"tag":497,"props":1178,"children":1180},{"class":499,"line":1179},29,[1181,1186,1192,1196,1201,1205,1210,1214,1218,1222],{"type":398,"tag":497,"props":1182,"children":1183},{"style":504},[1184],{"type":404,"value":1185},"    const",{"type":398,"tag":497,"props":1187,"children":1189},{"style":1188},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1190],{"type":404,"value":1191}," keys",{"type":398,"tag":497,"props":1193,"children":1194},{"style":558},[1195],{"type":404,"value":561},{"type":398,"tag":497,"props":1197,"children":1198},{"style":552},[1199],{"type":404,"value":1200}," Object",{"type":398,"tag":497,"props":1202,"children":1203},{"style":516},[1204],{"type":404,"value":684},{"type":398,"tag":497,"props":1206,"children":1207},{"style":510},[1208],{"type":404,"value":1209},"keys",{"type":398,"tag":497,"props":1211,"children":1212},{"style":574},[1213],{"type":404,"value":519},{"type":398,"tag":497,"props":1215,"children":1216},{"style":552},[1217],{"type":404,"value":1168},{"type":398,"tag":497,"props":1219,"children":1220},{"style":574},[1221],{"type":404,"value":540},{"type":398,"tag":497,"props":1223,"children":1224},{"style":516},[1225],{"type":404,"value":589},{"type":398,"tag":497,"props":1227,"children":1229},{"class":499,"line":1228},30,[1230,1235,1239,1244,1249,1253,1257,1262,1266,1271,1275,1279,1284,1288,1292,1297,1301],{"type":398,"tag":497,"props":1231,"children":1232},{"style":596},[1233],{"type":404,"value":1234},"    for",{"type":398,"tag":497,"props":1236,"children":1237},{"style":574},[1238],{"type":404,"value":877},{"type":398,"tag":497,"props":1240,"children":1241},{"style":504},[1242],{"type":404,"value":1243},"let",{"type":398,"tag":497,"props":1245,"children":1246},{"style":552},[1247],{"type":404,"value":1248}," i",{"type":398,"tag":497,"props":1250,"children":1251},{"style":558},[1252],{"type":404,"value":561},{"type":398,"tag":497,"props":1254,"children":1255},{"style":774},[1256],{"type":404,"value":777},{"type":398,"tag":497,"props":1258,"children":1259},{"style":516},[1260],{"type":404,"value":1261},";",{"type":398,"tag":497,"props":1263,"children":1264},{"style":552},[1265],{"type":404,"value":1248},{"type":398,"tag":497,"props":1267,"children":1268},{"style":558},[1269],{"type":404,"value":1270}," \u003C",{"type":398,"tag":497,"props":1272,"children":1273},{"style":552},[1274],{"type":404,"value":1191},{"type":398,"tag":497,"props":1276,"children":1277},{"style":516},[1278],{"type":404,"value":684},{"type":398,"tag":497,"props":1280,"children":1281},{"style":1188},[1282],{"type":404,"value":1283},"length",{"type":398,"tag":497,"props":1285,"children":1286},{"style":516},[1287],{"type":404,"value":1261},{"type":398,"tag":497,"props":1289,"children":1290},{"style":552},[1291],{"type":404,"value":1248},{"type":398,"tag":497,"props":1293,"children":1294},{"style":558},[1295],{"type":404,"value":1296},"++",{"type":398,"tag":497,"props":1298,"children":1299},{"style":574},[1300],{"type":404,"value":932},{"type":398,"tag":497,"props":1302,"children":1303},{"style":516},[1304],{"type":404,"value":909},{"type":398,"tag":497,"props":1306,"children":1308},{"class":499,"line":1307},31,[1309,1314,1318,1322,1326,1330,1335,1340,1345],{"type":398,"tag":497,"props":1310,"children":1311},{"style":510},[1312],{"type":404,"value":1313},"      defineReactive",{"type":398,"tag":497,"props":1315,"children":1316},{"style":574},[1317],{"type":404,"value":519},{"type":398,"tag":497,"props":1319,"children":1320},{"style":552},[1321],{"type":404,"value":1168},{"type":398,"tag":497,"props":1323,"children":1324},{"style":516},[1325],{"type":404,"value":530},{"type":398,"tag":497,"props":1327,"children":1328},{"style":552},[1329],{"type":404,"value":1191},{"type":398,"tag":497,"props":1331,"children":1332},{"style":574},[1333],{"type":404,"value":1334},"[",{"type":398,"tag":497,"props":1336,"children":1337},{"style":552},[1338],{"type":404,"value":1339},"i",{"type":398,"tag":497,"props":1341,"children":1342},{"style":574},[1343],{"type":404,"value":1344},"])",{"type":398,"tag":497,"props":1346,"children":1347},{"style":516},[1348],{"type":404,"value":589},{"type":398,"tag":497,"props":1350,"children":1352},{"class":499,"line":1351},32,[1353],{"type":398,"tag":497,"props":1354,"children":1355},{"style":516},[1356],{"type":404,"value":1132},{"type":398,"tag":497,"props":1358,"children":1360},{"class":499,"line":1359},33,[1361],{"type":398,"tag":497,"props":1362,"children":1363},{"style":516},[1364],{"type":404,"value":1141},{"type":398,"tag":497,"props":1366,"children":1368},{"class":499,"line":1367},34,[1369],{"type":398,"tag":497,"props":1370,"children":1371},{"emptyLinePlaceholder":390},[1372],{"type":404,"value":626},{"type":398,"tag":497,"props":1374,"children":1376},{"class":499,"line":1375},35,[1377,1382,1386,1391,1395],{"type":398,"tag":497,"props":1378,"children":1379},{"style":1156},[1380],{"type":404,"value":1381},"  observeArray",{"type":398,"tag":497,"props":1383,"children":1384},{"style":516},[1385],{"type":404,"value":519},{"type":398,"tag":497,"props":1387,"children":1388},{"style":522},[1389],{"type":404,"value":1390},"items",{"type":398,"tag":497,"props":1392,"children":1393},{"style":516},[1394],{"type":404,"value":540},{"type":398,"tag":497,"props":1396,"children":1397},{"style":516},[1398],{"type":404,"value":545},{"type":398,"tag":497,"props":1400,"children":1402},{"class":499,"line":1401},36,[1403,1407,1411,1415,1419,1423,1427,1431,1436,1440,1445,1449,1453,1457,1461,1465,1469,1473,1477,1481,1485],{"type":398,"tag":497,"props":1404,"children":1405},{"style":596},[1406],{"type":404,"value":1234},{"type":398,"tag":497,"props":1408,"children":1409},{"style":574},[1410],{"type":404,"value":877},{"type":398,"tag":497,"props":1412,"children":1413},{"style":504},[1414],{"type":404,"value":1243},{"type":398,"tag":497,"props":1416,"children":1417},{"style":552},[1418],{"type":404,"value":1248},{"type":398,"tag":497,"props":1420,"children":1421},{"style":558},[1422],{"type":404,"value":561},{"type":398,"tag":497,"props":1424,"children":1425},{"style":774},[1426],{"type":404,"value":777},{"type":398,"tag":497,"props":1428,"children":1429},{"style":516},[1430],{"type":404,"value":530},{"type":398,"tag":497,"props":1432,"children":1433},{"style":552},[1434],{"type":404,"value":1435}," l",{"type":398,"tag":497,"props":1437,"children":1438},{"style":558},[1439],{"type":404,"value":561},{"type":398,"tag":497,"props":1441,"children":1442},{"style":552},[1443],{"type":404,"value":1444}," items",{"type":398,"tag":497,"props":1446,"children":1447},{"style":516},[1448],{"type":404,"value":684},{"type":398,"tag":497,"props":1450,"children":1451},{"style":1188},[1452],{"type":404,"value":1283},{"type":398,"tag":497,"props":1454,"children":1455},{"style":516},[1456],{"type":404,"value":1261},{"type":398,"tag":497,"props":1458,"children":1459},{"style":552},[1460],{"type":404,"value":1248},{"type":398,"tag":497,"props":1462,"children":1463},{"style":558},[1464],{"type":404,"value":1270},{"type":398,"tag":497,"props":1466,"children":1467},{"style":552},[1468],{"type":404,"value":1435},{"type":398,"tag":497,"props":1470,"children":1471},{"style":516},[1472],{"type":404,"value":1261},{"type":398,"tag":497,"props":1474,"children":1475},{"style":552},[1476],{"type":404,"value":1248},{"type":398,"tag":497,"props":1478,"children":1479},{"style":558},[1480],{"type":404,"value":1296},{"type":398,"tag":497,"props":1482,"children":1483},{"style":574},[1484],{"type":404,"value":932},{"type":398,"tag":497,"props":1486,"children":1487},{"style":516},[1488],{"type":404,"value":909},{"type":398,"tag":497,"props":1490,"children":1492},{"class":499,"line":1491},37,[1493,1498,1502,1506,1510,1514,1518],{"type":398,"tag":497,"props":1494,"children":1495},{"style":510},[1496],{"type":404,"value":1497},"      observe",{"type":398,"tag":497,"props":1499,"children":1500},{"style":574},[1501],{"type":404,"value":519},{"type":398,"tag":497,"props":1503,"children":1504},{"style":552},[1505],{"type":404,"value":1390},{"type":398,"tag":497,"props":1507,"children":1508},{"style":574},[1509],{"type":404,"value":1334},{"type":398,"tag":497,"props":1511,"children":1512},{"style":552},[1513],{"type":404,"value":1339},{"type":398,"tag":497,"props":1515,"children":1516},{"style":574},[1517],{"type":404,"value":1344},{"type":398,"tag":497,"props":1519,"children":1520},{"style":516},[1521],{"type":404,"value":589},{"type":398,"tag":497,"props":1523,"children":1525},{"class":499,"line":1524},38,[1526],{"type":398,"tag":497,"props":1527,"children":1528},{"style":516},[1529],{"type":404,"value":1132},{"type":398,"tag":497,"props":1531,"children":1533},{"class":499,"line":1532},39,[1534],{"type":398,"tag":497,"props":1535,"children":1536},{"style":516},[1537],{"type":404,"value":1141},{"type":398,"tag":497,"props":1539,"children":1541},{"class":499,"line":1540},40,[1542],{"type":398,"tag":497,"props":1543,"children":1544},{"style":516},[1545],{"type":404,"value":617},{"type":398,"tag":472,"props":1547,"children":1549},{"id":1548},"监测数组变化",[1550],{"type":404,"value":1548},{"type":398,"tag":431,"props":1552,"children":1553},{},[1554],{"type":404,"value":1555},"因为数组没有 setter/getter，所以使用数组时，没有办法做响应式更新。Vue 以猴子补丁的形式增强了数组元素的原型方法，使得这些方法被调用时，自动更新依赖。",{"type":398,"tag":437,"props":1557,"children":1559},{"code":1558,"language":490,"meta":391,"className":491,"style":391},"// 需要增强的方法\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n    const result = original.apply(this, args);\n    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n    const ob = this.__ob__;\n    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    if (inserted) ob.observeArray(inserted);\n    // 通知依赖更新\n    ob.dep.notify();\n    return result;\n  });\n});\n",[1560],{"type":398,"tag":442,"props":1561,"children":1562},{"__ignoreMap":391},[1563,1571,1593,1615,1635,1655,1675,1695,1715,1735,1747,1754,1796,1804,1842,1904,1912,1967,1975,2006,2014,2031,2055,2080,2103,2123,2135,2158,2199,2210,2217,2266,2274,2307,2323,2339],{"type":398,"tag":497,"props":1564,"children":1565},{"class":499,"line":500},[1566],{"type":398,"tag":497,"props":1567,"children":1568},{"style":708},[1569],{"type":404,"value":1570},"// 需要增强的方法\n",{"type":398,"tag":497,"props":1572,"children":1573},{"class":499,"line":548},[1574,1579,1584,1588],{"type":398,"tag":497,"props":1575,"children":1576},{"style":504},[1577],{"type":404,"value":1578},"const",{"type":398,"tag":497,"props":1580,"children":1581},{"style":1188},[1582],{"type":404,"value":1583}," methodsToPatch",{"type":398,"tag":497,"props":1585,"children":1586},{"style":558},[1587],{"type":404,"value":561},{"type":398,"tag":497,"props":1589,"children":1590},{"style":552},[1591],{"type":404,"value":1592}," [\n",{"type":398,"tag":497,"props":1594,"children":1595},{"class":499,"line":592},[1596,1601,1606,1610],{"type":398,"tag":497,"props":1597,"children":1598},{"style":814},[1599],{"type":404,"value":1600},"  \"",{"type":398,"tag":497,"props":1602,"children":1603},{"style":820},[1604],{"type":404,"value":1605},"push",{"type":398,"tag":497,"props":1607,"children":1608},{"style":814},[1609],{"type":404,"value":828},{"type":398,"tag":497,"props":1611,"children":1612},{"style":516},[1613],{"type":404,"value":1614},",\n",{"type":398,"tag":497,"props":1616,"children":1617},{"class":499,"line":611},[1618,1622,1627,1631],{"type":398,"tag":497,"props":1619,"children":1620},{"style":814},[1621],{"type":404,"value":1600},{"type":398,"tag":497,"props":1623,"children":1624},{"style":820},[1625],{"type":404,"value":1626},"pop",{"type":398,"tag":497,"props":1628,"children":1629},{"style":814},[1630],{"type":404,"value":828},{"type":398,"tag":497,"props":1632,"children":1633},{"style":516},[1634],{"type":404,"value":1614},{"type":398,"tag":497,"props":1636,"children":1637},{"class":499,"line":620},[1638,1642,1647,1651],{"type":398,"tag":497,"props":1639,"children":1640},{"style":814},[1641],{"type":404,"value":1600},{"type":398,"tag":497,"props":1643,"children":1644},{"style":820},[1645],{"type":404,"value":1646},"shift",{"type":398,"tag":497,"props":1648,"children":1649},{"style":814},[1650],{"type":404,"value":828},{"type":398,"tag":497,"props":1652,"children":1653},{"style":516},[1654],{"type":404,"value":1614},{"type":398,"tag":497,"props":1656,"children":1657},{"class":499,"line":629},[1658,1662,1667,1671],{"type":398,"tag":497,"props":1659,"children":1660},{"style":814},[1661],{"type":404,"value":1600},{"type":398,"tag":497,"props":1663,"children":1664},{"style":820},[1665],{"type":404,"value":1666},"unshift",{"type":398,"tag":497,"props":1668,"children":1669},{"style":814},[1670],{"type":404,"value":828},{"type":398,"tag":497,"props":1672,"children":1673},{"style":516},[1674],{"type":404,"value":1614},{"type":398,"tag":497,"props":1676,"children":1677},{"class":499,"line":647},[1678,1682,1687,1691],{"type":398,"tag":497,"props":1679,"children":1680},{"style":814},[1681],{"type":404,"value":1600},{"type":398,"tag":497,"props":1683,"children":1684},{"style":820},[1685],{"type":404,"value":1686},"splice",{"type":398,"tag":497,"props":1688,"children":1689},{"style":814},[1690],{"type":404,"value":828},{"type":398,"tag":497,"props":1692,"children":1693},{"style":516},[1694],{"type":404,"value":1614},{"type":398,"tag":497,"props":1696,"children":1697},{"class":499,"line":672},[1698,1702,1707,1711],{"type":398,"tag":497,"props":1699,"children":1700},{"style":814},[1701],{"type":404,"value":1600},{"type":398,"tag":497,"props":1703,"children":1704},{"style":820},[1705],{"type":404,"value":1706},"sort",{"type":398,"tag":497,"props":1708,"children":1709},{"style":814},[1710],{"type":404,"value":828},{"type":398,"tag":497,"props":1712,"children":1713},{"style":516},[1714],{"type":404,"value":1614},{"type":398,"tag":497,"props":1716,"children":1717},{"class":499,"line":704},[1718,1722,1727,1731],{"type":398,"tag":497,"props":1719,"children":1720},{"style":814},[1721],{"type":404,"value":1600},{"type":398,"tag":497,"props":1723,"children":1724},{"style":820},[1725],{"type":404,"value":1726},"reverse",{"type":398,"tag":497,"props":1728,"children":1729},{"style":814},[1730],{"type":404,"value":828},{"type":398,"tag":497,"props":1732,"children":1733},{"style":516},[1734],{"type":404,"value":1614},{"type":398,"tag":497,"props":1736,"children":1737},{"class":499,"line":714},[1738,1743],{"type":398,"tag":497,"props":1739,"children":1740},{"style":552},[1741],{"type":404,"value":1742},"]",{"type":398,"tag":497,"props":1744,"children":1745},{"style":516},[1746],{"type":404,"value":589},{"type":398,"tag":497,"props":1748,"children":1749},{"class":499,"line":753},[1750],{"type":398,"tag":497,"props":1751,"children":1752},{"emptyLinePlaceholder":390},[1753],{"type":404,"value":626},{"type":398,"tag":497,"props":1755,"children":1756},{"class":499,"line":784},[1757,1762,1766,1771,1775,1779,1783,1788,1792],{"type":398,"tag":497,"props":1758,"children":1759},{"style":552},[1760],{"type":404,"value":1761},"methodsToPatch",{"type":398,"tag":497,"props":1763,"children":1764},{"style":516},[1765],{"type":404,"value":684},{"type":398,"tag":497,"props":1767,"children":1768},{"style":510},[1769],{"type":404,"value":1770},"forEach",{"type":398,"tag":497,"props":1772,"children":1773},{"style":552},[1774],{"type":404,"value":519},{"type":398,"tag":497,"props":1776,"children":1777},{"style":504},[1778],{"type":404,"value":507},{"type":398,"tag":497,"props":1780,"children":1781},{"style":516},[1782],{"type":404,"value":877},{"type":398,"tag":497,"props":1784,"children":1785},{"style":522},[1786],{"type":404,"value":1787},"method",{"type":398,"tag":497,"props":1789,"children":1790},{"style":516},[1791],{"type":404,"value":540},{"type":398,"tag":497,"props":1793,"children":1794},{"style":516},[1795],{"type":404,"value":545},{"type":398,"tag":497,"props":1797,"children":1798},{"class":499,"line":793},[1799],{"type":398,"tag":497,"props":1800,"children":1801},{"style":708},[1802],{"type":404,"value":1803},"  // cache original method\n",{"type":398,"tag":497,"props":1805,"children":1806},{"class":499,"line":848},[1807,1812,1817,1821,1826,1830,1834,1838],{"type":398,"tag":497,"props":1808,"children":1809},{"style":504},[1810],{"type":404,"value":1811},"  const",{"type":398,"tag":497,"props":1813,"children":1814},{"style":1188},[1815],{"type":404,"value":1816}," original",{"type":398,"tag":497,"props":1818,"children":1819},{"style":558},[1820],{"type":404,"value":561},{"type":398,"tag":497,"props":1822,"children":1823},{"style":552},[1824],{"type":404,"value":1825}," arrayProto",{"type":398,"tag":497,"props":1827,"children":1828},{"style":574},[1829],{"type":404,"value":1334},{"type":398,"tag":497,"props":1831,"children":1832},{"style":552},[1833],{"type":404,"value":1787},{"type":398,"tag":497,"props":1835,"children":1836},{"style":574},[1837],{"type":404,"value":1742},{"type":398,"tag":497,"props":1839,"children":1840},{"style":516},[1841],{"type":404,"value":589},{"type":398,"tag":497,"props":1843,"children":1844},{"class":499,"line":857},[1845,1850,1854,1859,1863,1868,1872,1877,1882,1886,1891,1896,1900],{"type":398,"tag":497,"props":1846,"children":1847},{"style":510},[1848],{"type":404,"value":1849},"  def",{"type":398,"tag":497,"props":1851,"children":1852},{"style":574},[1853],{"type":404,"value":519},{"type":398,"tag":497,"props":1855,"children":1856},{"style":552},[1857],{"type":404,"value":1858},"arrayMethods",{"type":398,"tag":497,"props":1860,"children":1861},{"style":516},[1862],{"type":404,"value":530},{"type":398,"tag":497,"props":1864,"children":1865},{"style":552},[1866],{"type":404,"value":1867}," method",{"type":398,"tag":497,"props":1869,"children":1870},{"style":516},[1871],{"type":404,"value":530},{"type":398,"tag":497,"props":1873,"children":1874},{"style":504},[1875],{"type":404,"value":1876}," function",{"type":398,"tag":497,"props":1878,"children":1879},{"style":510},[1880],{"type":404,"value":1881}," mutator",{"type":398,"tag":497,"props":1883,"children":1884},{"style":516},[1885],{"type":404,"value":519},{"type":398,"tag":497,"props":1887,"children":1888},{"style":558},[1889],{"type":404,"value":1890},"...",{"type":398,"tag":497,"props":1892,"children":1893},{"style":522},[1894],{"type":404,"value":1895},"args",{"type":398,"tag":497,"props":1897,"children":1898},{"style":516},[1899],{"type":404,"value":540},{"type":398,"tag":497,"props":1901,"children":1902},{"style":516},[1903],{"type":404,"value":545},{"type":398,"tag":497,"props":1905,"children":1906},{"class":499,"line":866},[1907],{"type":398,"tag":497,"props":1908,"children":1909},{"style":708},[1910],{"type":404,"value":1911},"    // 先执行方法获取结果，而不是先通知依赖更新，这个顺序要注意\n",{"type":398,"tag":497,"props":1913,"children":1914},{"class":499,"line":912},[1915,1919,1924,1928,1932,1936,1941,1945,1950,1954,1959,1963],{"type":398,"tag":497,"props":1916,"children":1917},{"style":504},[1918],{"type":404,"value":1185},{"type":398,"tag":497,"props":1920,"children":1921},{"style":1188},[1922],{"type":404,"value":1923}," result",{"type":398,"tag":497,"props":1925,"children":1926},{"style":558},[1927],{"type":404,"value":561},{"type":398,"tag":497,"props":1929,"children":1930},{"style":552},[1931],{"type":404,"value":1816},{"type":398,"tag":497,"props":1933,"children":1934},{"style":516},[1935],{"type":404,"value":684},{"type":398,"tag":497,"props":1937,"children":1938},{"style":510},[1939],{"type":404,"value":1940},"apply",{"type":398,"tag":497,"props":1942,"children":1943},{"style":574},[1944],{"type":404,"value":519},{"type":398,"tag":497,"props":1946,"children":1947},{"style":676},[1948],{"type":404,"value":1949},"this",{"type":398,"tag":497,"props":1951,"children":1952},{"style":516},[1953],{"type":404,"value":530},{"type":398,"tag":497,"props":1955,"children":1956},{"style":552},[1957],{"type":404,"value":1958}," args",{"type":398,"tag":497,"props":1960,"children":1961},{"style":574},[1962],{"type":404,"value":540},{"type":398,"tag":497,"props":1964,"children":1965},{"style":516},[1966],{"type":404,"value":589},{"type":398,"tag":497,"props":1968,"children":1969},{"class":499,"line":939},[1970],{"type":398,"tag":497,"props":1971,"children":1972},{"style":708},[1973],{"type":404,"value":1974},"    // observer 在设置响应式属性时就被挂载在了对象的 \\_\\_ob\\_\\_ 属性中\n",{"type":398,"tag":497,"props":1976,"children":1977},{"class":499,"line":973},[1978,1982,1986,1990,1994,1998,2002],{"type":398,"tag":497,"props":1979,"children":1980},{"style":504},[1981],{"type":404,"value":1185},{"type":398,"tag":497,"props":1983,"children":1984},{"style":1188},[1985],{"type":404,"value":604},{"type":398,"tag":497,"props":1987,"children":1988},{"style":558},[1989],{"type":404,"value":561},{"type":398,"tag":497,"props":1991,"children":1992},{"style":676},[1993],{"type":404,"value":837},{"type":398,"tag":497,"props":1995,"children":1996},{"style":516},[1997],{"type":404,"value":684},{"type":398,"tag":497,"props":1999,"children":2000},{"style":552},[2001],{"type":404,"value":823},{"type":398,"tag":497,"props":2003,"children":2004},{"style":516},[2005],{"type":404,"value":589},{"type":398,"tag":497,"props":2007,"children":2008},{"class":499,"line":991},[2009],{"type":398,"tag":497,"props":2010,"children":2011},{"style":708},[2012],{"type":404,"value":2013},"    // inserted 用来保存数组中新增的元素，这些新增元素也需要遍历并设置响应式更新\n",{"type":398,"tag":497,"props":2015,"children":2016},{"class":499,"line":1033},[2017,2022,2027],{"type":398,"tag":497,"props":2018,"children":2019},{"style":504},[2020],{"type":404,"value":2021},"    let",{"type":398,"tag":497,"props":2023,"children":2024},{"style":552},[2025],{"type":404,"value":2026}," inserted",{"type":398,"tag":497,"props":2028,"children":2029},{"style":516},[2030],{"type":404,"value":589},{"type":398,"tag":497,"props":2032,"children":2033},{"class":499,"line":1042},[2034,2039,2043,2047,2051],{"type":398,"tag":497,"props":2035,"children":2036},{"style":596},[2037],{"type":404,"value":2038},"    switch",{"type":398,"tag":497,"props":2040,"children":2041},{"style":574},[2042],{"type":404,"value":877},{"type":398,"tag":497,"props":2044,"children":2045},{"style":552},[2046],{"type":404,"value":1787},{"type":398,"tag":497,"props":2048,"children":2049},{"style":574},[2050],{"type":404,"value":932},{"type":398,"tag":497,"props":2052,"children":2053},{"style":516},[2054],{"type":404,"value":909},{"type":398,"tag":497,"props":2056,"children":2057},{"class":499,"line":1076},[2058,2063,2067,2071,2075],{"type":398,"tag":497,"props":2059,"children":2060},{"style":596},[2061],{"type":404,"value":2062},"      case",{"type":398,"tag":497,"props":2064,"children":2065},{"style":814},[2066],{"type":404,"value":817},{"type":398,"tag":497,"props":2068,"children":2069},{"style":820},[2070],{"type":404,"value":1605},{"type":398,"tag":497,"props":2072,"children":2073},{"style":814},[2074],{"type":404,"value":828},{"type":398,"tag":497,"props":2076,"children":2077},{"style":516},[2078],{"type":404,"value":2079},":\n",{"type":398,"tag":497,"props":2081,"children":2082},{"class":499,"line":1093},[2083,2087,2091,2095,2099],{"type":398,"tag":497,"props":2084,"children":2085},{"style":596},[2086],{"type":404,"value":2062},{"type":398,"tag":497,"props":2088,"children":2089},{"style":814},[2090],{"type":404,"value":817},{"type":398,"tag":497,"props":2092,"children":2093},{"style":820},[2094],{"type":404,"value":1666},{"type":398,"tag":497,"props":2096,"children":2097},{"style":814},[2098],{"type":404,"value":828},{"type":398,"tag":497,"props":2100,"children":2101},{"style":516},[2102],{"type":404,"value":2079},{"type":398,"tag":497,"props":2104,"children":2105},{"class":499,"line":1126},[2106,2111,2115,2119],{"type":398,"tag":497,"props":2107,"children":2108},{"style":552},[2109],{"type":404,"value":2110},"        inserted",{"type":398,"tag":497,"props":2112,"children":2113},{"style":558},[2114],{"type":404,"value":561},{"type":398,"tag":497,"props":2116,"children":2117},{"style":552},[2118],{"type":404,"value":1958},{"type":398,"tag":497,"props":2120,"children":2121},{"style":516},[2122],{"type":404,"value":589},{"type":398,"tag":497,"props":2124,"children":2125},{"class":499,"line":1135},[2126,2131],{"type":398,"tag":497,"props":2127,"children":2128},{"style":596},[2129],{"type":404,"value":2130},"        break",{"type":398,"tag":497,"props":2132,"children":2133},{"style":516},[2134],{"type":404,"value":589},{"type":398,"tag":497,"props":2136,"children":2137},{"class":499,"line":1144},[2138,2142,2146,2150,2154],{"type":398,"tag":497,"props":2139,"children":2140},{"style":596},[2141],{"type":404,"value":2062},{"type":398,"tag":497,"props":2143,"children":2144},{"style":814},[2145],{"type":404,"value":817},{"type":398,"tag":497,"props":2147,"children":2148},{"style":820},[2149],{"type":404,"value":1686},{"type":398,"tag":497,"props":2151,"children":2152},{"style":814},[2153],{"type":404,"value":828},{"type":398,"tag":497,"props":2155,"children":2156},{"style":516},[2157],{"type":404,"value":2079},{"type":398,"tag":497,"props":2159,"children":2160},{"class":499,"line":1152},[2161,2165,2169,2173,2177,2182,2186,2191,2195],{"type":398,"tag":497,"props":2162,"children":2163},{"style":552},[2164],{"type":404,"value":2110},{"type":398,"tag":497,"props":2166,"children":2167},{"style":558},[2168],{"type":404,"value":561},{"type":398,"tag":497,"props":2170,"children":2171},{"style":552},[2172],{"type":404,"value":1958},{"type":398,"tag":497,"props":2174,"children":2175},{"style":516},[2176],{"type":404,"value":684},{"type":398,"tag":497,"props":2178,"children":2179},{"style":510},[2180],{"type":404,"value":2181},"slice",{"type":398,"tag":497,"props":2183,"children":2184},{"style":574},[2185],{"type":404,"value":519},{"type":398,"tag":497,"props":2187,"children":2188},{"style":774},[2189],{"type":404,"value":2190},"2",{"type":398,"tag":497,"props":2192,"children":2193},{"style":574},[2194],{"type":404,"value":540},{"type":398,"tag":497,"props":2196,"children":2197},{"style":516},[2198],{"type":404,"value":589},{"type":398,"tag":497,"props":2200,"children":2201},{"class":499,"line":1179},[2202,2206],{"type":398,"tag":497,"props":2203,"children":2204},{"style":596},[2205],{"type":404,"value":2130},{"type":398,"tag":497,"props":2207,"children":2208},{"style":516},[2209],{"type":404,"value":589},{"type":398,"tag":497,"props":2211,"children":2212},{"class":499,"line":1228},[2213],{"type":398,"tag":497,"props":2214,"children":2215},{"style":516},[2216],{"type":404,"value":1132},{"type":398,"tag":497,"props":2218,"children":2219},{"class":499,"line":1307},[2220,2224,2228,2233,2237,2242,2246,2250,2254,2258,2262],{"type":398,"tag":497,"props":2221,"children":2222},{"style":596},[2223],{"type":404,"value":872},{"type":398,"tag":497,"props":2225,"children":2226},{"style":574},[2227],{"type":404,"value":877},{"type":398,"tag":497,"props":2229,"children":2230},{"style":552},[2231],{"type":404,"value":2232},"inserted",{"type":398,"tag":497,"props":2234,"children":2235},{"style":574},[2236],{"type":404,"value":932},{"type":398,"tag":497,"props":2238,"children":2239},{"style":552},[2240],{"type":404,"value":2241},"ob",{"type":398,"tag":497,"props":2243,"children":2244},{"style":516},[2245],{"type":404,"value":684},{"type":398,"tag":497,"props":2247,"children":2248},{"style":510},[2249],{"type":404,"value":1057},{"type":398,"tag":497,"props":2251,"children":2252},{"style":574},[2253],{"type":404,"value":519},{"type":398,"tag":497,"props":2255,"children":2256},{"style":552},[2257],{"type":404,"value":2232},{"type":398,"tag":497,"props":2259,"children":2260},{"style":574},[2261],{"type":404,"value":540},{"type":398,"tag":497,"props":2263,"children":2264},{"style":516},[2265],{"type":404,"value":589},{"type":398,"tag":497,"props":2267,"children":2268},{"class":499,"line":1351},[2269],{"type":398,"tag":497,"props":2270,"children":2271},{"style":708},[2272],{"type":404,"value":2273},"    // 通知依赖更新\n",{"type":398,"tag":497,"props":2275,"children":2276},{"class":499,"line":1359},[2277,2282,2286,2290,2294,2299,2303],{"type":398,"tag":497,"props":2278,"children":2279},{"style":552},[2280],{"type":404,"value":2281},"    ob",{"type":398,"tag":497,"props":2283,"children":2284},{"style":516},[2285],{"type":404,"value":684},{"type":398,"tag":497,"props":2287,"children":2288},{"style":552},[2289],{"type":404,"value":728},{"type":398,"tag":497,"props":2291,"children":2292},{"style":516},[2293],{"type":404,"value":684},{"type":398,"tag":497,"props":2295,"children":2296},{"style":510},[2297],{"type":404,"value":2298},"notify",{"type":398,"tag":497,"props":2300,"children":2301},{"style":574},[2302],{"type":404,"value":746},{"type":398,"tag":497,"props":2304,"children":2305},{"style":516},[2306],{"type":404,"value":589},{"type":398,"tag":497,"props":2308,"children":2309},{"class":499,"line":1367},[2310,2315,2319],{"type":398,"tag":497,"props":2311,"children":2312},{"style":596},[2313],{"type":404,"value":2314},"    return",{"type":398,"tag":497,"props":2316,"children":2317},{"style":552},[2318],{"type":404,"value":1923},{"type":398,"tag":497,"props":2320,"children":2321},{"style":516},[2322],{"type":404,"value":589},{"type":398,"tag":497,"props":2324,"children":2325},{"class":499,"line":1375},[2326,2331,2335],{"type":398,"tag":497,"props":2327,"children":2328},{"style":516},[2329],{"type":404,"value":2330},"  }",{"type":398,"tag":497,"props":2332,"children":2333},{"style":574},[2334],{"type":404,"value":540},{"type":398,"tag":497,"props":2336,"children":2337},{"style":516},[2338],{"type":404,"value":589},{"type":398,"tag":497,"props":2340,"children":2341},{"class":499,"line":1401},[2342,2347,2351],{"type":398,"tag":497,"props":2343,"children":2344},{"style":516},[2345],{"type":404,"value":2346},"}",{"type":398,"tag":497,"props":2348,"children":2349},{"style":552},[2350],{"type":404,"value":540},{"type":398,"tag":497,"props":2352,"children":2353},{"style":516},[2354],{"type":404,"value":589},{"type":398,"tag":472,"props":2356,"children":2358},{"id":2357},"响应式属性",[2359],{"type":404,"value":2357},{"type":398,"tag":431,"props":2361,"children":2362},{},[2363],{"type":404,"value":2364},"设置响应式属性对应源码中的 definedProperty 这个函数，同时，还提供了 set、del 方法，分别用来给一个对象新增、删除属性及响应式属性。",{"type":398,"tag":437,"props":2366,"children":2368},{"code":2367,"language":490,"meta":391,"className":491,"style":391},"function defineReactive(obj, key, val, customSetter, shallow) {\n  // 每个属性都保持了一个依赖容器，\n  // 所有依赖都会存放在这个依赖容器实例中\n  const dep = new Dep();\n\n  // 不给属性描述符不可变的对象设置 setter/getter\n  const property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return;\n  }\n\n  // 保存属性原有的 setter/getter，不做破坏\n  // cater for pre-defined getter/setters\n  const getter = property && property.get;\n  const setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  // 侦测值的变化\n  let childOb = !shallow && observe(val);\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter() {\n      const value = getter ? getter.call(obj) : val;\n      // 收集依赖\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set: function reactiveSetter(newVal) {\n      const value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return;\n      }\n      // 非生产环境：自定义 setter 副作用\n      if (process.env.NODE_ENV !== \"production\" && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return;\n      // 使用原有的 setter 更新值或直接更新值\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      // 侦测子对象的变化\n      childOb = !shallow && observe(newVal);\n      // 通知依赖更新\n      dep.notify();\n    },\n  });\n}\n",[2369],{"type":398,"tag":442,"props":2370,"children":2371},{"__ignoreMap":391},[2372,2436,2444,2452,2484,2491,2499,2552,2606,2617,2624,2631,2639,2647,2688,2729,2800,2834,2841,2848,2856,2908,2915,2956,2978,2998,3027,3089,3097,3130,3155,3180,3212,3252,3276,3284,3292,3299,3315,3323,3361,3421,3430,3500,3513,3521,3530,3598,3615,3623,3632,3674,3683,3707,3748,3764,3785,3793,3802,3847,3856,3881,3889,3905],{"type":398,"tag":497,"props":2373,"children":2374},{"class":499,"line":500},[2375,2379,2384,2388,2392,2396,2401,2405,2410,2414,2419,2423,2428,2432],{"type":398,"tag":497,"props":2376,"children":2377},{"style":504},[2378],{"type":404,"value":507},{"type":398,"tag":497,"props":2380,"children":2381},{"style":510},[2382],{"type":404,"value":2383}," defineReactive",{"type":398,"tag":497,"props":2385,"children":2386},{"style":516},[2387],{"type":404,"value":519},{"type":398,"tag":497,"props":2389,"children":2390},{"style":522},[2391],{"type":404,"value":1168},{"type":398,"tag":497,"props":2393,"children":2394},{"style":516},[2395],{"type":404,"value":530},{"type":398,"tag":497,"props":2397,"children":2398},{"style":522},[2399],{"type":404,"value":2400}," key",{"type":398,"tag":497,"props":2402,"children":2403},{"style":516},[2404],{"type":404,"value":530},{"type":398,"tag":497,"props":2406,"children":2407},{"style":522},[2408],{"type":404,"value":2409}," val",{"type":398,"tag":497,"props":2411,"children":2412},{"style":516},[2413],{"type":404,"value":530},{"type":398,"tag":497,"props":2415,"children":2416},{"style":522},[2417],{"type":404,"value":2418}," customSetter",{"type":398,"tag":497,"props":2420,"children":2421},{"style":516},[2422],{"type":404,"value":530},{"type":398,"tag":497,"props":2424,"children":2425},{"style":522},[2426],{"type":404,"value":2427}," shallow",{"type":398,"tag":497,"props":2429,"children":2430},{"style":516},[2431],{"type":404,"value":540},{"type":398,"tag":497,"props":2433,"children":2434},{"style":516},[2435],{"type":404,"value":545},{"type":398,"tag":497,"props":2437,"children":2438},{"class":499,"line":548},[2439],{"type":398,"tag":497,"props":2440,"children":2441},{"style":708},[2442],{"type":404,"value":2443},"  // 每个属性都保持了一个依赖容器，\n",{"type":398,"tag":497,"props":2445,"children":2446},{"class":499,"line":592},[2447],{"type":398,"tag":497,"props":2448,"children":2449},{"style":708},[2450],{"type":404,"value":2451},"  // 所有依赖都会存放在这个依赖容器实例中\n",{"type":398,"tag":497,"props":2453,"children":2454},{"class":499,"line":611},[2455,2459,2464,2468,2472,2476,2480],{"type":398,"tag":497,"props":2456,"children":2457},{"style":504},[2458],{"type":404,"value":1811},{"type":398,"tag":497,"props":2460,"children":2461},{"style":1188},[2462],{"type":404,"value":2463}," dep",{"type":398,"tag":497,"props":2465,"children":2466},{"style":558},[2467],{"type":404,"value":561},{"type":398,"tag":497,"props":2469,"children":2470},{"style":558},[2471],{"type":404,"value":566},{"type":398,"tag":497,"props":2473,"children":2474},{"style":510},[2475],{"type":404,"value":741},{"type":398,"tag":497,"props":2477,"children":2478},{"style":574},[2479],{"type":404,"value":746},{"type":398,"tag":497,"props":2481,"children":2482},{"style":516},[2483],{"type":404,"value":589},{"type":398,"tag":497,"props":2485,"children":2486},{"class":499,"line":620},[2487],{"type":398,"tag":497,"props":2488,"children":2489},{"emptyLinePlaceholder":390},[2490],{"type":404,"value":626},{"type":398,"tag":497,"props":2492,"children":2493},{"class":499,"line":629},[2494],{"type":398,"tag":497,"props":2495,"children":2496},{"style":708},[2497],{"type":404,"value":2498},"  // 不给属性描述符不可变的对象设置 setter/getter\n",{"type":398,"tag":497,"props":2500,"children":2501},{"class":499,"line":647},[2502,2506,2511,2515,2519,2523,2528,2532,2536,2540,2544,2548],{"type":398,"tag":497,"props":2503,"children":2504},{"style":504},[2505],{"type":404,"value":1811},{"type":398,"tag":497,"props":2507,"children":2508},{"style":1188},[2509],{"type":404,"value":2510}," property",{"type":398,"tag":497,"props":2512,"children":2513},{"style":558},[2514],{"type":404,"value":561},{"type":398,"tag":497,"props":2516,"children":2517},{"style":552},[2518],{"type":404,"value":1200},{"type":398,"tag":497,"props":2520,"children":2521},{"style":516},[2522],{"type":404,"value":684},{"type":398,"tag":497,"props":2524,"children":2525},{"style":510},[2526],{"type":404,"value":2527},"getOwnPropertyDescriptor",{"type":398,"tag":497,"props":2529,"children":2530},{"style":574},[2531],{"type":404,"value":519},{"type":398,"tag":497,"props":2533,"children":2534},{"style":552},[2535],{"type":404,"value":1168},{"type":398,"tag":497,"props":2537,"children":2538},{"style":516},[2539],{"type":404,"value":530},{"type":398,"tag":497,"props":2541,"children":2542},{"style":552},[2543],{"type":404,"value":2400},{"type":398,"tag":497,"props":2545,"children":2546},{"style":574},[2547],{"type":404,"value":540},{"type":398,"tag":497,"props":2549,"children":2550},{"style":516},[2551],{"type":404,"value":589},{"type":398,"tag":497,"props":2553,"children":2554},{"class":499,"line":672},[2555,2560,2564,2569,2574,2578,2582,2587,2592,2598,2602],{"type":398,"tag":497,"props":2556,"children":2557},{"style":596},[2558],{"type":404,"value":2559},"  if",{"type":398,"tag":497,"props":2561,"children":2562},{"style":574},[2563],{"type":404,"value":877},{"type":398,"tag":497,"props":2565,"children":2566},{"style":552},[2567],{"type":404,"value":2568},"property",{"type":398,"tag":497,"props":2570,"children":2571},{"style":558},[2572],{"type":404,"value":2573}," &&",{"type":398,"tag":497,"props":2575,"children":2576},{"style":552},[2577],{"type":404,"value":2510},{"type":398,"tag":497,"props":2579,"children":2580},{"style":516},[2581],{"type":404,"value":684},{"type":398,"tag":497,"props":2583,"children":2584},{"style":552},[2585],{"type":404,"value":2586},"configurable",{"type":398,"tag":497,"props":2588,"children":2589},{"style":558},[2590],{"type":404,"value":2591}," ===",{"type":398,"tag":497,"props":2593,"children":2595},{"style":2594},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2596],{"type":404,"value":2597}," false",{"type":398,"tag":497,"props":2599,"children":2600},{"style":574},[2601],{"type":404,"value":932},{"type":398,"tag":497,"props":2603,"children":2604},{"style":516},[2605],{"type":404,"value":909},{"type":398,"tag":497,"props":2607,"children":2608},{"class":499,"line":704},[2609,2613],{"type":398,"tag":497,"props":2610,"children":2611},{"style":596},[2612],{"type":404,"value":2314},{"type":398,"tag":497,"props":2614,"children":2615},{"style":516},[2616],{"type":404,"value":589},{"type":398,"tag":497,"props":2618,"children":2619},{"class":499,"line":714},[2620],{"type":398,"tag":497,"props":2621,"children":2622},{"style":516},[2623],{"type":404,"value":1141},{"type":398,"tag":497,"props":2625,"children":2626},{"class":499,"line":753},[2627],{"type":398,"tag":497,"props":2628,"children":2629},{"emptyLinePlaceholder":390},[2630],{"type":404,"value":626},{"type":398,"tag":497,"props":2632,"children":2633},{"class":499,"line":784},[2634],{"type":398,"tag":497,"props":2635,"children":2636},{"style":708},[2637],{"type":404,"value":2638},"  // 保存属性原有的 setter/getter，不做破坏\n",{"type":398,"tag":497,"props":2640,"children":2641},{"class":499,"line":793},[2642],{"type":398,"tag":497,"props":2643,"children":2644},{"style":708},[2645],{"type":404,"value":2646},"  // cater for pre-defined getter/setters\n",{"type":398,"tag":497,"props":2648,"children":2649},{"class":499,"line":848},[2650,2654,2659,2663,2667,2671,2675,2679,2684],{"type":398,"tag":497,"props":2651,"children":2652},{"style":504},[2653],{"type":404,"value":1811},{"type":398,"tag":497,"props":2655,"children":2656},{"style":1188},[2657],{"type":404,"value":2658}," getter",{"type":398,"tag":497,"props":2660,"children":2661},{"style":558},[2662],{"type":404,"value":561},{"type":398,"tag":497,"props":2664,"children":2665},{"style":552},[2666],{"type":404,"value":2510},{"type":398,"tag":497,"props":2668,"children":2669},{"style":558},[2670],{"type":404,"value":2573},{"type":398,"tag":497,"props":2672,"children":2673},{"style":552},[2674],{"type":404,"value":2510},{"type":398,"tag":497,"props":2676,"children":2677},{"style":516},[2678],{"type":404,"value":684},{"type":398,"tag":497,"props":2680,"children":2681},{"style":552},[2682],{"type":404,"value":2683},"get",{"type":398,"tag":497,"props":2685,"children":2686},{"style":516},[2687],{"type":404,"value":589},{"type":398,"tag":497,"props":2689,"children":2690},{"class":499,"line":857},[2691,2695,2700,2704,2708,2712,2716,2720,2725],{"type":398,"tag":497,"props":2692,"children":2693},{"style":504},[2694],{"type":404,"value":1811},{"type":398,"tag":497,"props":2696,"children":2697},{"style":1188},[2698],{"type":404,"value":2699}," setter",{"type":398,"tag":497,"props":2701,"children":2702},{"style":558},[2703],{"type":404,"value":561},{"type":398,"tag":497,"props":2705,"children":2706},{"style":552},[2707],{"type":404,"value":2510},{"type":398,"tag":497,"props":2709,"children":2710},{"style":558},[2711],{"type":404,"value":2573},{"type":398,"tag":497,"props":2713,"children":2714},{"style":552},[2715],{"type":404,"value":2510},{"type":398,"tag":497,"props":2717,"children":2718},{"style":516},[2719],{"type":404,"value":684},{"type":398,"tag":497,"props":2721,"children":2722},{"style":552},[2723],{"type":404,"value":2724},"set",{"type":398,"tag":497,"props":2726,"children":2727},{"style":516},[2728],{"type":404,"value":589},{"type":398,"tag":497,"props":2730,"children":2731},{"class":499,"line":866},[2732,2736,2741,2746,2751,2756,2760,2764,2769,2775,2779,2783,2787,2792,2796],{"type":398,"tag":497,"props":2733,"children":2734},{"style":596},[2735],{"type":404,"value":2559},{"type":398,"tag":497,"props":2737,"children":2738},{"style":574},[2739],{"type":404,"value":2740}," ((",{"type":398,"tag":497,"props":2742,"children":2743},{"style":558},[2744],{"type":404,"value":2745},"!",{"type":398,"tag":497,"props":2747,"children":2748},{"style":552},[2749],{"type":404,"value":2750},"getter",{"type":398,"tag":497,"props":2752,"children":2753},{"style":558},[2754],{"type":404,"value":2755}," ||",{"type":398,"tag":497,"props":2757,"children":2758},{"style":552},[2759],{"type":404,"value":2699},{"type":398,"tag":497,"props":2761,"children":2762},{"style":574},[2763],{"type":404,"value":932},{"type":398,"tag":497,"props":2765,"children":2766},{"style":558},[2767],{"type":404,"value":2768},"&&",{"type":398,"tag":497,"props":2770,"children":2772},{"style":2771},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2773],{"type":404,"value":2774}," arguments",{"type":398,"tag":497,"props":2776,"children":2777},{"style":516},[2778],{"type":404,"value":684},{"type":398,"tag":497,"props":2780,"children":2781},{"style":1188},[2782],{"type":404,"value":1283},{"type":398,"tag":497,"props":2784,"children":2785},{"style":558},[2786],{"type":404,"value":2591},{"type":398,"tag":497,"props":2788,"children":2789},{"style":774},[2790],{"type":404,"value":2791}," 2",{"type":398,"tag":497,"props":2793,"children":2794},{"style":574},[2795],{"type":404,"value":932},{"type":398,"tag":497,"props":2797,"children":2798},{"style":516},[2799],{"type":404,"value":909},{"type":398,"tag":497,"props":2801,"children":2802},{"class":499,"line":912},[2803,2808,2812,2817,2821,2826,2830],{"type":398,"tag":497,"props":2804,"children":2805},{"style":552},[2806],{"type":404,"value":2807},"    val",{"type":398,"tag":497,"props":2809,"children":2810},{"style":558},[2811],{"type":404,"value":561},{"type":398,"tag":497,"props":2813,"children":2814},{"style":552},[2815],{"type":404,"value":2816}," obj",{"type":398,"tag":497,"props":2818,"children":2819},{"style":574},[2820],{"type":404,"value":1334},{"type":398,"tag":497,"props":2822,"children":2823},{"style":552},[2824],{"type":404,"value":2825},"key",{"type":398,"tag":497,"props":2827,"children":2828},{"style":574},[2829],{"type":404,"value":1742},{"type":398,"tag":497,"props":2831,"children":2832},{"style":516},[2833],{"type":404,"value":589},{"type":398,"tag":497,"props":2835,"children":2836},{"class":499,"line":939},[2837],{"type":398,"tag":497,"props":2838,"children":2839},{"style":516},[2840],{"type":404,"value":1141},{"type":398,"tag":497,"props":2842,"children":2843},{"class":499,"line":973},[2844],{"type":398,"tag":497,"props":2845,"children":2846},{"emptyLinePlaceholder":390},[2847],{"type":404,"value":626},{"type":398,"tag":497,"props":2849,"children":2850},{"class":499,"line":991},[2851],{"type":398,"tag":497,"props":2852,"children":2853},{"style":708},[2854],{"type":404,"value":2855},"  // 侦测值的变化\n",{"type":398,"tag":497,"props":2857,"children":2858},{"class":499,"line":1033},[2859,2864,2869,2873,2878,2883,2887,2891,2895,2900,2904],{"type":398,"tag":497,"props":2860,"children":2861},{"style":504},[2862],{"type":404,"value":2863},"  let",{"type":398,"tag":497,"props":2865,"children":2866},{"style":552},[2867],{"type":404,"value":2868}," childOb",{"type":398,"tag":497,"props":2870,"children":2871},{"style":558},[2872],{"type":404,"value":561},{"type":398,"tag":497,"props":2874,"children":2875},{"style":558},[2876],{"type":404,"value":2877}," !",{"type":398,"tag":497,"props":2879,"children":2880},{"style":552},[2881],{"type":404,"value":2882},"shallow",{"type":398,"tag":497,"props":2884,"children":2885},{"style":558},[2886],{"type":404,"value":2573},{"type":398,"tag":497,"props":2888,"children":2889},{"style":510},[2890],{"type":404,"value":513},{"type":398,"tag":497,"props":2892,"children":2893},{"style":574},[2894],{"type":404,"value":519},{"type":398,"tag":497,"props":2896,"children":2897},{"style":552},[2898],{"type":404,"value":2899},"val",{"type":398,"tag":497,"props":2901,"children":2902},{"style":574},[2903],{"type":404,"value":540},{"type":398,"tag":497,"props":2905,"children":2906},{"style":516},[2907],{"type":404,"value":589},{"type":398,"tag":497,"props":2909,"children":2910},{"class":499,"line":1042},[2911],{"type":398,"tag":497,"props":2912,"children":2913},{"emptyLinePlaceholder":390},[2914],{"type":404,"value":626},{"type":398,"tag":497,"props":2916,"children":2917},{"class":499,"line":1076},[2918,2923,2927,2932,2936,2940,2944,2948,2952],{"type":398,"tag":497,"props":2919,"children":2920},{"style":552},[2921],{"type":404,"value":2922},"  Object",{"type":398,"tag":497,"props":2924,"children":2925},{"style":516},[2926],{"type":404,"value":684},{"type":398,"tag":497,"props":2928,"children":2929},{"style":510},[2930],{"type":404,"value":2931},"defineProperty",{"type":398,"tag":497,"props":2933,"children":2934},{"style":574},[2935],{"type":404,"value":519},{"type":398,"tag":497,"props":2937,"children":2938},{"style":552},[2939],{"type":404,"value":1168},{"type":398,"tag":497,"props":2941,"children":2942},{"style":516},[2943],{"type":404,"value":530},{"type":398,"tag":497,"props":2945,"children":2946},{"style":552},[2947],{"type":404,"value":2400},{"type":398,"tag":497,"props":2949,"children":2950},{"style":516},[2951],{"type":404,"value":530},{"type":398,"tag":497,"props":2953,"children":2954},{"style":516},[2955],{"type":404,"value":545},{"type":398,"tag":497,"props":2957,"children":2958},{"class":499,"line":1093},[2959,2964,2969,2974],{"type":398,"tag":497,"props":2960,"children":2961},{"style":574},[2962],{"type":404,"value":2963},"    enumerable",{"type":398,"tag":497,"props":2965,"children":2966},{"style":516},[2967],{"type":404,"value":2968},":",{"type":398,"tag":497,"props":2970,"children":2971},{"style":2594},[2972],{"type":404,"value":2973}," true",{"type":398,"tag":497,"props":2975,"children":2976},{"style":516},[2977],{"type":404,"value":1614},{"type":398,"tag":497,"props":2979,"children":2980},{"class":499,"line":1126},[2981,2986,2990,2994],{"type":398,"tag":497,"props":2982,"children":2983},{"style":574},[2984],{"type":404,"value":2985},"    configurable",{"type":398,"tag":497,"props":2987,"children":2988},{"style":516},[2989],{"type":404,"value":2968},{"type":398,"tag":497,"props":2991,"children":2992},{"style":2594},[2993],{"type":404,"value":2973},{"type":398,"tag":497,"props":2995,"children":2996},{"style":516},[2997],{"type":404,"value":1614},{"type":398,"tag":497,"props":2999,"children":3000},{"class":499,"line":1135},[3001,3006,3010,3014,3019,3023],{"type":398,"tag":497,"props":3002,"children":3003},{"style":510},[3004],{"type":404,"value":3005},"    get",{"type":398,"tag":497,"props":3007,"children":3008},{"style":516},[3009],{"type":404,"value":2968},{"type":398,"tag":497,"props":3011,"children":3012},{"style":504},[3013],{"type":404,"value":1876},{"type":398,"tag":497,"props":3015,"children":3016},{"style":510},[3017],{"type":404,"value":3018}," reactiveGetter",{"type":398,"tag":497,"props":3020,"children":3021},{"style":516},[3022],{"type":404,"value":746},{"type":398,"tag":497,"props":3024,"children":3025},{"style":516},[3026],{"type":404,"value":545},{"type":398,"tag":497,"props":3028,"children":3029},{"class":499,"line":1144},[3030,3035,3039,3043,3047,3052,3056,3060,3065,3069,3073,3077,3081,3085],{"type":398,"tag":497,"props":3031,"children":3032},{"style":504},[3033],{"type":404,"value":3034},"      const",{"type":398,"tag":497,"props":3036,"children":3037},{"style":1188},[3038],{"type":404,"value":697},{"type":398,"tag":497,"props":3040,"children":3041},{"style":558},[3042],{"type":404,"value":561},{"type":398,"tag":497,"props":3044,"children":3045},{"style":552},[3046],{"type":404,"value":2658},{"type":398,"tag":497,"props":3048,"children":3049},{"style":558},[3050],{"type":404,"value":3051}," ?",{"type":398,"tag":497,"props":3053,"children":3054},{"style":552},[3055],{"type":404,"value":2658},{"type":398,"tag":497,"props":3057,"children":3058},{"style":516},[3059],{"type":404,"value":684},{"type":398,"tag":497,"props":3061,"children":3062},{"style":510},[3063],{"type":404,"value":3064},"call",{"type":398,"tag":497,"props":3066,"children":3067},{"style":574},[3068],{"type":404,"value":519},{"type":398,"tag":497,"props":3070,"children":3071},{"style":552},[3072],{"type":404,"value":1168},{"type":398,"tag":497,"props":3074,"children":3075},{"style":574},[3076],{"type":404,"value":932},{"type":398,"tag":497,"props":3078,"children":3079},{"style":558},[3080],{"type":404,"value":2968},{"type":398,"tag":497,"props":3082,"children":3083},{"style":552},[3084],{"type":404,"value":2409},{"type":398,"tag":497,"props":3086,"children":3087},{"style":516},[3088],{"type":404,"value":589},{"type":398,"tag":497,"props":3090,"children":3091},{"class":499,"line":1152},[3092],{"type":398,"tag":497,"props":3093,"children":3094},{"style":708},[3095],{"type":404,"value":3096},"      // 收集依赖\n",{"type":398,"tag":497,"props":3098,"children":3099},{"class":499,"line":1179},[3100,3104,3108,3113,3117,3122,3126],{"type":398,"tag":497,"props":3101,"children":3102},{"style":596},[3103],{"type":404,"value":918},{"type":398,"tag":497,"props":3105,"children":3106},{"style":574},[3107],{"type":404,"value":877},{"type":398,"tag":497,"props":3109,"children":3110},{"style":552},[3111],{"type":404,"value":3112},"Dep",{"type":398,"tag":497,"props":3114,"children":3115},{"style":516},[3116],{"type":404,"value":684},{"type":398,"tag":497,"props":3118,"children":3119},{"style":552},[3120],{"type":404,"value":3121},"target",{"type":398,"tag":497,"props":3123,"children":3124},{"style":574},[3125],{"type":404,"value":932},{"type":398,"tag":497,"props":3127,"children":3128},{"style":516},[3129],{"type":404,"value":909},{"type":398,"tag":497,"props":3131,"children":3132},{"class":499,"line":1228},[3133,3138,3142,3147,3151],{"type":398,"tag":497,"props":3134,"children":3135},{"style":552},[3136],{"type":404,"value":3137},"        dep",{"type":398,"tag":497,"props":3139,"children":3140},{"style":516},[3141],{"type":404,"value":684},{"type":398,"tag":497,"props":3143,"children":3144},{"style":510},[3145],{"type":404,"value":3146},"depend",{"type":398,"tag":497,"props":3148,"children":3149},{"style":574},[3150],{"type":404,"value":746},{"type":398,"tag":497,"props":3152,"children":3153},{"style":516},[3154],{"type":404,"value":589},{"type":398,"tag":497,"props":3156,"children":3157},{"class":499,"line":1307},[3158,3163,3167,3172,3176],{"type":398,"tag":497,"props":3159,"children":3160},{"style":596},[3161],{"type":404,"value":3162},"        if",{"type":398,"tag":497,"props":3164,"children":3165},{"style":574},[3166],{"type":404,"value":877},{"type":398,"tag":497,"props":3168,"children":3169},{"style":552},[3170],{"type":404,"value":3171},"childOb",{"type":398,"tag":497,"props":3173,"children":3174},{"style":574},[3175],{"type":404,"value":932},{"type":398,"tag":497,"props":3177,"children":3178},{"style":516},[3179],{"type":404,"value":909},{"type":398,"tag":497,"props":3181,"children":3182},{"class":499,"line":1351},[3183,3188,3192,3196,3200,3204,3208],{"type":398,"tag":497,"props":3184,"children":3185},{"style":552},[3186],{"type":404,"value":3187},"          childOb",{"type":398,"tag":497,"props":3189,"children":3190},{"style":516},[3191],{"type":404,"value":684},{"type":398,"tag":497,"props":3193,"children":3194},{"style":552},[3195],{"type":404,"value":728},{"type":398,"tag":497,"props":3197,"children":3198},{"style":516},[3199],{"type":404,"value":684},{"type":398,"tag":497,"props":3201,"children":3202},{"style":510},[3203],{"type":404,"value":3146},{"type":398,"tag":497,"props":3205,"children":3206},{"style":574},[3207],{"type":404,"value":746},{"type":398,"tag":497,"props":3209,"children":3210},{"style":516},[3211],{"type":404,"value":589},{"type":398,"tag":497,"props":3213,"children":3214},{"class":499,"line":1359},[3215,3220,3224,3228,3232,3236,3240,3244,3248],{"type":398,"tag":497,"props":3216,"children":3217},{"style":596},[3218],{"type":404,"value":3219},"          if",{"type":398,"tag":497,"props":3221,"children":3222},{"style":574},[3223],{"type":404,"value":877},{"type":398,"tag":497,"props":3225,"children":3226},{"style":552},[3227],{"type":404,"value":882},{"type":398,"tag":497,"props":3229,"children":3230},{"style":516},[3231],{"type":404,"value":684},{"type":398,"tag":497,"props":3233,"children":3234},{"style":510},[3235],{"type":404,"value":891},{"type":398,"tag":497,"props":3237,"children":3238},{"style":574},[3239],{"type":404,"value":519},{"type":398,"tag":497,"props":3241,"children":3242},{"style":552},[3243],{"type":404,"value":525},{"type":398,"tag":497,"props":3245,"children":3246},{"style":574},[3247],{"type":404,"value":904},{"type":398,"tag":497,"props":3249,"children":3250},{"style":516},[3251],{"type":404,"value":909},{"type":398,"tag":497,"props":3253,"children":3254},{"class":499,"line":1367},[3255,3260,3264,3268,3272],{"type":398,"tag":497,"props":3256,"children":3257},{"style":510},[3258],{"type":404,"value":3259},"            dependArray",{"type":398,"tag":497,"props":3261,"children":3262},{"style":574},[3263],{"type":404,"value":519},{"type":398,"tag":497,"props":3265,"children":3266},{"style":552},[3267],{"type":404,"value":525},{"type":398,"tag":497,"props":3269,"children":3270},{"style":574},[3271],{"type":404,"value":540},{"type":398,"tag":497,"props":3273,"children":3274},{"style":516},[3275],{"type":404,"value":589},{"type":398,"tag":497,"props":3277,"children":3278},{"class":499,"line":1375},[3279],{"type":398,"tag":497,"props":3280,"children":3281},{"style":516},[3282],{"type":404,"value":3283},"          }\n",{"type":398,"tag":497,"props":3285,"children":3286},{"class":499,"line":1401},[3287],{"type":398,"tag":497,"props":3288,"children":3289},{"style":516},[3290],{"type":404,"value":3291},"        }\n",{"type":398,"tag":497,"props":3293,"children":3294},{"class":499,"line":1491},[3295],{"type":398,"tag":497,"props":3296,"children":3297},{"style":516},[3298],{"type":404,"value":1039},{"type":398,"tag":497,"props":3300,"children":3301},{"class":499,"line":1524},[3302,3307,3311],{"type":398,"tag":497,"props":3303,"children":3304},{"style":596},[3305],{"type":404,"value":3306},"      return",{"type":398,"tag":497,"props":3308,"children":3309},{"style":552},[3310],{"type":404,"value":697},{"type":398,"tag":497,"props":3312,"children":3313},{"style":516},[3314],{"type":404,"value":589},{"type":398,"tag":497,"props":3316,"children":3317},{"class":499,"line":1532},[3318],{"type":398,"tag":497,"props":3319,"children":3320},{"style":516},[3321],{"type":404,"value":3322},"    },\n",{"type":398,"tag":497,"props":3324,"children":3325},{"class":499,"line":1540},[3326,3331,3335,3339,3344,3348,3353,3357],{"type":398,"tag":497,"props":3327,"children":3328},{"style":510},[3329],{"type":404,"value":3330},"    set",{"type":398,"tag":497,"props":3332,"children":3333},{"style":516},[3334],{"type":404,"value":2968},{"type":398,"tag":497,"props":3336,"children":3337},{"style":504},[3338],{"type":404,"value":1876},{"type":398,"tag":497,"props":3340,"children":3341},{"style":510},[3342],{"type":404,"value":3343}," reactiveSetter",{"type":398,"tag":497,"props":3345,"children":3346},{"style":516},[3347],{"type":404,"value":519},{"type":398,"tag":497,"props":3349,"children":3350},{"style":522},[3351],{"type":404,"value":3352},"newVal",{"type":398,"tag":497,"props":3354,"children":3355},{"style":516},[3356],{"type":404,"value":540},{"type":398,"tag":497,"props":3358,"children":3359},{"style":516},[3360],{"type":404,"value":545},{"type":398,"tag":497,"props":3362,"children":3364},{"class":499,"line":3363},41,[3365,3369,3373,3377,3381,3385,3389,3393,3397,3401,3405,3409,3413,3417],{"type":398,"tag":497,"props":3366,"children":3367},{"style":504},[3368],{"type":404,"value":3034},{"type":398,"tag":497,"props":3370,"children":3371},{"style":1188},[3372],{"type":404,"value":697},{"type":398,"tag":497,"props":3374,"children":3375},{"style":558},[3376],{"type":404,"value":561},{"type":398,"tag":497,"props":3378,"children":3379},{"style":552},[3380],{"type":404,"value":2658},{"type":398,"tag":497,"props":3382,"children":3383},{"style":558},[3384],{"type":404,"value":3051},{"type":398,"tag":497,"props":3386,"children":3387},{"style":552},[3388],{"type":404,"value":2658},{"type":398,"tag":497,"props":3390,"children":3391},{"style":516},[3392],{"type":404,"value":684},{"type":398,"tag":497,"props":3394,"children":3395},{"style":510},[3396],{"type":404,"value":3064},{"type":398,"tag":497,"props":3398,"children":3399},{"style":574},[3400],{"type":404,"value":519},{"type":398,"tag":497,"props":3402,"children":3403},{"style":552},[3404],{"type":404,"value":1168},{"type":398,"tag":497,"props":3406,"children":3407},{"style":574},[3408],{"type":404,"value":932},{"type":398,"tag":497,"props":3410,"children":3411},{"style":558},[3412],{"type":404,"value":2968},{"type":398,"tag":497,"props":3414,"children":3415},{"style":552},[3416],{"type":404,"value":2409},{"type":398,"tag":497,"props":3418,"children":3419},{"style":516},[3420],{"type":404,"value":589},{"type":398,"tag":497,"props":3422,"children":3424},{"class":499,"line":3423},42,[3425],{"type":398,"tag":497,"props":3426,"children":3427},{"style":708},[3428],{"type":404,"value":3429},"      /* eslint-disable no-self-compare */\n",{"type":398,"tag":497,"props":3431,"children":3433},{"class":499,"line":3432},43,[3434,3438,3442,3446,3450,3454,3458,3462,3466,3471,3476,3480,3484,3488,3492,3496],{"type":398,"tag":497,"props":3435,"children":3436},{"style":596},[3437],{"type":404,"value":918},{"type":398,"tag":497,"props":3439,"children":3440},{"style":574},[3441],{"type":404,"value":877},{"type":398,"tag":497,"props":3443,"children":3444},{"style":552},[3445],{"type":404,"value":3352},{"type":398,"tag":497,"props":3447,"children":3448},{"style":558},[3449],{"type":404,"value":2591},{"type":398,"tag":497,"props":3451,"children":3452},{"style":552},[3453],{"type":404,"value":697},{"type":398,"tag":497,"props":3455,"children":3456},{"style":558},[3457],{"type":404,"value":2755},{"type":398,"tag":497,"props":3459,"children":3460},{"style":574},[3461],{"type":404,"value":877},{"type":398,"tag":497,"props":3463,"children":3464},{"style":552},[3465],{"type":404,"value":3352},{"type":398,"tag":497,"props":3467,"children":3468},{"style":558},[3469],{"type":404,"value":3470}," !==",{"type":398,"tag":497,"props":3472,"children":3473},{"style":552},[3474],{"type":404,"value":3475}," newVal",{"type":398,"tag":497,"props":3477,"children":3478},{"style":558},[3479],{"type":404,"value":2573},{"type":398,"tag":497,"props":3481,"children":3482},{"style":552},[3483],{"type":404,"value":697},{"type":398,"tag":497,"props":3485,"children":3486},{"style":558},[3487],{"type":404,"value":3470},{"type":398,"tag":497,"props":3489,"children":3490},{"style":552},[3491],{"type":404,"value":697},{"type":398,"tag":497,"props":3493,"children":3494},{"style":574},[3495],{"type":404,"value":904},{"type":398,"tag":497,"props":3497,"children":3498},{"style":516},[3499],{"type":404,"value":909},{"type":398,"tag":497,"props":3501,"children":3503},{"class":499,"line":3502},44,[3504,3509],{"type":398,"tag":497,"props":3505,"children":3506},{"style":596},[3507],{"type":404,"value":3508},"        return",{"type":398,"tag":497,"props":3510,"children":3511},{"style":516},[3512],{"type":404,"value":589},{"type":398,"tag":497,"props":3514,"children":3516},{"class":499,"line":3515},45,[3517],{"type":398,"tag":497,"props":3518,"children":3519},{"style":516},[3520],{"type":404,"value":1039},{"type":398,"tag":497,"props":3522,"children":3524},{"class":499,"line":3523},46,[3525],{"type":398,"tag":497,"props":3526,"children":3527},{"style":708},[3528],{"type":404,"value":3529},"      // 非生产环境：自定义 setter 副作用\n",{"type":398,"tag":497,"props":3531,"children":3533},{"class":499,"line":3532},47,[3534,3538,3542,3547,3551,3556,3560,3565,3569,3573,3578,3582,3586,3590,3594],{"type":398,"tag":497,"props":3535,"children":3536},{"style":596},[3537],{"type":404,"value":918},{"type":398,"tag":497,"props":3539,"children":3540},{"style":574},[3541],{"type":404,"value":877},{"type":398,"tag":497,"props":3543,"children":3544},{"style":552},[3545],{"type":404,"value":3546},"process",{"type":398,"tag":497,"props":3548,"children":3549},{"style":516},[3550],{"type":404,"value":684},{"type":398,"tag":497,"props":3552,"children":3553},{"style":552},[3554],{"type":404,"value":3555},"env",{"type":398,"tag":497,"props":3557,"children":3558},{"style":516},[3559],{"type":404,"value":684},{"type":398,"tag":497,"props":3561,"children":3562},{"style":1188},[3563],{"type":404,"value":3564},"NODE_ENV",{"type":398,"tag":497,"props":3566,"children":3567},{"style":558},[3568],{"type":404,"value":3470},{"type":398,"tag":497,"props":3570,"children":3571},{"style":814},[3572],{"type":404,"value":817},{"type":398,"tag":497,"props":3574,"children":3575},{"style":820},[3576],{"type":404,"value":3577},"production",{"type":398,"tag":497,"props":3579,"children":3580},{"style":814},[3581],{"type":404,"value":828},{"type":398,"tag":497,"props":3583,"children":3584},{"style":558},[3585],{"type":404,"value":2573},{"type":398,"tag":497,"props":3587,"children":3588},{"style":552},[3589],{"type":404,"value":2418},{"type":398,"tag":497,"props":3591,"children":3592},{"style":574},[3593],{"type":404,"value":932},{"type":398,"tag":497,"props":3595,"children":3596},{"style":516},[3597],{"type":404,"value":909},{"type":398,"tag":497,"props":3599,"children":3601},{"class":499,"line":3600},48,[3602,3607,3611],{"type":398,"tag":497,"props":3603,"children":3604},{"style":510},[3605],{"type":404,"value":3606},"        customSetter",{"type":398,"tag":497,"props":3608,"children":3609},{"style":574},[3610],{"type":404,"value":746},{"type":398,"tag":497,"props":3612,"children":3613},{"style":516},[3614],{"type":404,"value":589},{"type":398,"tag":497,"props":3616,"children":3618},{"class":499,"line":3617},49,[3619],{"type":398,"tag":497,"props":3620,"children":3621},{"style":516},[3622],{"type":404,"value":1039},{"type":398,"tag":497,"props":3624,"children":3626},{"class":499,"line":3625},50,[3627],{"type":398,"tag":497,"props":3628,"children":3629},{"style":708},[3630],{"type":404,"value":3631},"      // #7981: for accessor properties without setter\n",{"type":398,"tag":497,"props":3633,"children":3635},{"class":499,"line":3634},51,[3636,3640,3644,3648,3652,3656,3661,3665,3670],{"type":398,"tag":497,"props":3637,"children":3638},{"style":596},[3639],{"type":404,"value":918},{"type":398,"tag":497,"props":3641,"children":3642},{"style":574},[3643],{"type":404,"value":877},{"type":398,"tag":497,"props":3645,"children":3646},{"style":552},[3647],{"type":404,"value":2750},{"type":398,"tag":497,"props":3649,"children":3650},{"style":558},[3651],{"type":404,"value":2573},{"type":398,"tag":497,"props":3653,"children":3654},{"style":558},[3655],{"type":404,"value":2877},{"type":398,"tag":497,"props":3657,"children":3658},{"style":552},[3659],{"type":404,"value":3660},"setter",{"type":398,"tag":497,"props":3662,"children":3663},{"style":574},[3664],{"type":404,"value":932},{"type":398,"tag":497,"props":3666,"children":3667},{"style":596},[3668],{"type":404,"value":3669},"return",{"type":398,"tag":497,"props":3671,"children":3672},{"style":516},[3673],{"type":404,"value":589},{"type":398,"tag":497,"props":3675,"children":3677},{"class":499,"line":3676},52,[3678],{"type":398,"tag":497,"props":3679,"children":3680},{"style":708},[3681],{"type":404,"value":3682},"      // 使用原有的 setter 更新值或直接更新值\n",{"type":398,"tag":497,"props":3684,"children":3686},{"class":499,"line":3685},53,[3687,3691,3695,3699,3703],{"type":398,"tag":497,"props":3688,"children":3689},{"style":596},[3690],{"type":404,"value":918},{"type":398,"tag":497,"props":3692,"children":3693},{"style":574},[3694],{"type":404,"value":877},{"type":398,"tag":497,"props":3696,"children":3697},{"style":552},[3698],{"type":404,"value":3660},{"type":398,"tag":497,"props":3700,"children":3701},{"style":574},[3702],{"type":404,"value":932},{"type":398,"tag":497,"props":3704,"children":3705},{"style":516},[3706],{"type":404,"value":909},{"type":398,"tag":497,"props":3708,"children":3710},{"class":499,"line":3709},54,[3711,3716,3720,3724,3728,3732,3736,3740,3744],{"type":398,"tag":497,"props":3712,"children":3713},{"style":552},[3714],{"type":404,"value":3715},"        setter",{"type":398,"tag":497,"props":3717,"children":3718},{"style":516},[3719],{"type":404,"value":684},{"type":398,"tag":497,"props":3721,"children":3722},{"style":510},[3723],{"type":404,"value":3064},{"type":398,"tag":497,"props":3725,"children":3726},{"style":574},[3727],{"type":404,"value":519},{"type":398,"tag":497,"props":3729,"children":3730},{"style":552},[3731],{"type":404,"value":1168},{"type":398,"tag":497,"props":3733,"children":3734},{"style":516},[3735],{"type":404,"value":530},{"type":398,"tag":497,"props":3737,"children":3738},{"style":552},[3739],{"type":404,"value":3475},{"type":398,"tag":497,"props":3741,"children":3742},{"style":574},[3743],{"type":404,"value":540},{"type":398,"tag":497,"props":3745,"children":3746},{"style":516},[3747],{"type":404,"value":589},{"type":398,"tag":497,"props":3749,"children":3751},{"class":499,"line":3750},55,[3752,3756,3760],{"type":398,"tag":497,"props":3753,"children":3754},{"style":516},[3755],{"type":404,"value":979},{"type":398,"tag":497,"props":3757,"children":3758},{"style":596},[3759],{"type":404,"value":984},{"type":398,"tag":497,"props":3761,"children":3762},{"style":516},[3763],{"type":404,"value":545},{"type":398,"tag":497,"props":3765,"children":3767},{"class":499,"line":3766},56,[3768,3773,3777,3781],{"type":398,"tag":497,"props":3769,"children":3770},{"style":552},[3771],{"type":404,"value":3772},"        val",{"type":398,"tag":497,"props":3774,"children":3775},{"style":558},[3776],{"type":404,"value":561},{"type":398,"tag":497,"props":3778,"children":3779},{"style":552},[3780],{"type":404,"value":3475},{"type":398,"tag":497,"props":3782,"children":3783},{"style":516},[3784],{"type":404,"value":589},{"type":398,"tag":497,"props":3786,"children":3788},{"class":499,"line":3787},57,[3789],{"type":398,"tag":497,"props":3790,"children":3791},{"style":516},[3792],{"type":404,"value":1039},{"type":398,"tag":497,"props":3794,"children":3796},{"class":499,"line":3795},58,[3797],{"type":398,"tag":497,"props":3798,"children":3799},{"style":708},[3800],{"type":404,"value":3801},"      // 侦测子对象的变化\n",{"type":398,"tag":497,"props":3803,"children":3805},{"class":499,"line":3804},59,[3806,3811,3815,3819,3823,3827,3831,3835,3839,3843],{"type":398,"tag":497,"props":3807,"children":3808},{"style":552},[3809],{"type":404,"value":3810},"      childOb",{"type":398,"tag":497,"props":3812,"children":3813},{"style":558},[3814],{"type":404,"value":561},{"type":398,"tag":497,"props":3816,"children":3817},{"style":558},[3818],{"type":404,"value":2877},{"type":398,"tag":497,"props":3820,"children":3821},{"style":552},[3822],{"type":404,"value":2882},{"type":398,"tag":497,"props":3824,"children":3825},{"style":558},[3826],{"type":404,"value":2573},{"type":398,"tag":497,"props":3828,"children":3829},{"style":510},[3830],{"type":404,"value":513},{"type":398,"tag":497,"props":3832,"children":3833},{"style":574},[3834],{"type":404,"value":519},{"type":398,"tag":497,"props":3836,"children":3837},{"style":552},[3838],{"type":404,"value":3352},{"type":398,"tag":497,"props":3840,"children":3841},{"style":574},[3842],{"type":404,"value":540},{"type":398,"tag":497,"props":3844,"children":3845},{"style":516},[3846],{"type":404,"value":589},{"type":398,"tag":497,"props":3848,"children":3850},{"class":499,"line":3849},60,[3851],{"type":398,"tag":497,"props":3852,"children":3853},{"style":708},[3854],{"type":404,"value":3855},"      // 通知依赖更新\n",{"type":398,"tag":497,"props":3857,"children":3859},{"class":499,"line":3858},61,[3860,3865,3869,3873,3877],{"type":398,"tag":497,"props":3861,"children":3862},{"style":552},[3863],{"type":404,"value":3864},"      dep",{"type":398,"tag":497,"props":3866,"children":3867},{"style":516},[3868],{"type":404,"value":684},{"type":398,"tag":497,"props":3870,"children":3871},{"style":510},[3872],{"type":404,"value":2298},{"type":398,"tag":497,"props":3874,"children":3875},{"style":574},[3876],{"type":404,"value":746},{"type":398,"tag":497,"props":3878,"children":3879},{"style":516},[3880],{"type":404,"value":589},{"type":398,"tag":497,"props":3882,"children":3884},{"class":499,"line":3883},62,[3885],{"type":398,"tag":497,"props":3886,"children":3887},{"style":516},[3888],{"type":404,"value":3322},{"type":398,"tag":497,"props":3890,"children":3892},{"class":499,"line":3891},63,[3893,3897,3901],{"type":398,"tag":497,"props":3894,"children":3895},{"style":516},[3896],{"type":404,"value":2330},{"type":398,"tag":497,"props":3898,"children":3899},{"style":574},[3900],{"type":404,"value":540},{"type":398,"tag":497,"props":3902,"children":3903},{"style":516},[3904],{"type":404,"value":589},{"type":398,"tag":497,"props":3906,"children":3908},{"class":499,"line":3907},64,[3909],{"type":398,"tag":497,"props":3910,"children":3911},{"style":516},[3912],{"type":404,"value":617},{"type":398,"tag":472,"props":3914,"children":3916},{"id":3915},"依赖容器及依赖",[3917],{"type":404,"value":3915},{"type":398,"tag":431,"props":3919,"children":3920},{},[3921],{"type":404,"value":3922},"接下来进入比较绕的部分。首先回答：依赖容器是什么？",{"type":398,"tag":431,"props":3924,"children":3925},{},[3926],{"type":404,"value":3927},"刚刚看到了 dep.notify 的作用是“通知依赖更新”，所以 Dep 就是依赖容器。",{"type":398,"tag":431,"props":3929,"children":3930},{},[3931],{"type":404,"value":3932},"我们上小节说到，每个属性都保持了一个依赖容器，所有依赖都会存放在这个依赖容器实例中。所以依赖容器还提供了统一更新依赖、删除依赖之类的方法。",{"type":398,"tag":437,"props":3934,"children":3936},{"code":3935,"language":490,"meta":391,"className":491,"style":391},"class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n  // 添加依赖\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n  // 删除依赖\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n  // 收集依赖\n  depend() {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  // 通知依赖更新\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice();\n    for (let i = 0, l = subs.length; i \u003C l; i++) {\n      subs[i].update();\n    }\n  }\n}\n",[3937],{"type":398,"tag":442,"props":3938,"children":3939},{"__ignoreMap":391},[3940,3955,3970,4003,4032,4039,4047,4072,4111,4118,4126,4150,4191,4198,4206,4222,4253,4294,4301,4308,4316,4332,4340,4384,4471,4508,4515,4522],{"type":398,"tag":497,"props":3941,"children":3942},{"class":499,"line":500},[3943,3947,3951],{"type":398,"tag":497,"props":3944,"children":3945},{"style":504},[3946],{"type":404,"value":635},{"type":398,"tag":497,"props":3948,"children":3949},{"style":638},[3950],{"type":404,"value":741},{"type":398,"tag":497,"props":3952,"children":3953},{"style":516},[3954],{"type":404,"value":545},{"type":398,"tag":497,"props":3956,"children":3957},{"class":499,"line":548},[3958,3962,3966],{"type":398,"tag":497,"props":3959,"children":3960},{"style":504},[3961],{"type":404,"value":653},{"type":398,"tag":497,"props":3963,"children":3964},{"style":516},[3965],{"type":404,"value":746},{"type":398,"tag":497,"props":3967,"children":3968},{"style":516},[3969],{"type":404,"value":545},{"type":398,"tag":497,"props":3971,"children":3972},{"class":499,"line":592},[3973,3977,3981,3986,3990,3995,3999],{"type":398,"tag":497,"props":3974,"children":3975},{"style":676},[3976],{"type":404,"value":679},{"type":398,"tag":497,"props":3978,"children":3979},{"style":516},[3980],{"type":404,"value":684},{"type":398,"tag":497,"props":3982,"children":3983},{"style":552},[3984],{"type":404,"value":3985},"id",{"type":398,"tag":497,"props":3987,"children":3988},{"style":558},[3989],{"type":404,"value":561},{"type":398,"tag":497,"props":3991,"children":3992},{"style":552},[3993],{"type":404,"value":3994}," uid",{"type":398,"tag":497,"props":3996,"children":3997},{"style":558},[3998],{"type":404,"value":1296},{"type":398,"tag":497,"props":4000,"children":4001},{"style":516},[4002],{"type":404,"value":589},{"type":398,"tag":497,"props":4004,"children":4005},{"class":499,"line":611},[4006,4010,4014,4019,4023,4028],{"type":398,"tag":497,"props":4007,"children":4008},{"style":676},[4009],{"type":404,"value":679},{"type":398,"tag":497,"props":4011,"children":4012},{"style":516},[4013],{"type":404,"value":684},{"type":398,"tag":497,"props":4015,"children":4016},{"style":552},[4017],{"type":404,"value":4018},"subs",{"type":398,"tag":497,"props":4020,"children":4021},{"style":558},[4022],{"type":404,"value":561},{"type":398,"tag":497,"props":4024,"children":4025},{"style":574},[4026],{"type":404,"value":4027}," []",{"type":398,"tag":497,"props":4029,"children":4030},{"style":516},[4031],{"type":404,"value":589},{"type":398,"tag":497,"props":4033,"children":4034},{"class":499,"line":620},[4035],{"type":398,"tag":497,"props":4036,"children":4037},{"style":516},[4038],{"type":404,"value":1141},{"type":398,"tag":497,"props":4040,"children":4041},{"class":499,"line":629},[4042],{"type":398,"tag":497,"props":4043,"children":4044},{"style":708},[4045],{"type":404,"value":4046},"  // 添加依赖\n",{"type":398,"tag":497,"props":4048,"children":4049},{"class":499,"line":647},[4050,4055,4059,4064,4068],{"type":398,"tag":497,"props":4051,"children":4052},{"style":1156},[4053],{"type":404,"value":4054},"  addSub",{"type":398,"tag":497,"props":4056,"children":4057},{"style":516},[4058],{"type":404,"value":519},{"type":398,"tag":497,"props":4060,"children":4061},{"style":522},[4062],{"type":404,"value":4063},"sub",{"type":398,"tag":497,"props":4065,"children":4066},{"style":516},[4067],{"type":404,"value":540},{"type":398,"tag":497,"props":4069,"children":4070},{"style":516},[4071],{"type":404,"value":545},{"type":398,"tag":497,"props":4073,"children":4074},{"class":499,"line":672},[4075,4079,4083,4087,4091,4095,4099,4103,4107],{"type":398,"tag":497,"props":4076,"children":4077},{"style":676},[4078],{"type":404,"value":679},{"type":398,"tag":497,"props":4080,"children":4081},{"style":516},[4082],{"type":404,"value":684},{"type":398,"tag":497,"props":4084,"children":4085},{"style":552},[4086],{"type":404,"value":4018},{"type":398,"tag":497,"props":4088,"children":4089},{"style":516},[4090],{"type":404,"value":684},{"type":398,"tag":497,"props":4092,"children":4093},{"style":510},[4094],{"type":404,"value":1605},{"type":398,"tag":497,"props":4096,"children":4097},{"style":574},[4098],{"type":404,"value":519},{"type":398,"tag":497,"props":4100,"children":4101},{"style":552},[4102],{"type":404,"value":4063},{"type":398,"tag":497,"props":4104,"children":4105},{"style":574},[4106],{"type":404,"value":540},{"type":398,"tag":497,"props":4108,"children":4109},{"style":516},[4110],{"type":404,"value":589},{"type":398,"tag":497,"props":4112,"children":4113},{"class":499,"line":704},[4114],{"type":398,"tag":497,"props":4115,"children":4116},{"style":516},[4117],{"type":404,"value":1141},{"type":398,"tag":497,"props":4119,"children":4120},{"class":499,"line":714},[4121],{"type":398,"tag":497,"props":4122,"children":4123},{"style":708},[4124],{"type":404,"value":4125},"  // 删除依赖\n",{"type":398,"tag":497,"props":4127,"children":4128},{"class":499,"line":753},[4129,4134,4138,4142,4146],{"type":398,"tag":497,"props":4130,"children":4131},{"style":1156},[4132],{"type":404,"value":4133},"  removeSub",{"type":398,"tag":497,"props":4135,"children":4136},{"style":516},[4137],{"type":404,"value":519},{"type":398,"tag":497,"props":4139,"children":4140},{"style":522},[4141],{"type":404,"value":4063},{"type":398,"tag":497,"props":4143,"children":4144},{"style":516},[4145],{"type":404,"value":540},{"type":398,"tag":497,"props":4147,"children":4148},{"style":516},[4149],{"type":404,"value":545},{"type":398,"tag":497,"props":4151,"children":4152},{"class":499,"line":784},[4153,4158,4162,4166,4170,4174,4178,4183,4187],{"type":398,"tag":497,"props":4154,"children":4155},{"style":510},[4156],{"type":404,"value":4157},"    remove",{"type":398,"tag":497,"props":4159,"children":4160},{"style":574},[4161],{"type":404,"value":519},{"type":398,"tag":497,"props":4163,"children":4164},{"style":676},[4165],{"type":404,"value":1949},{"type":398,"tag":497,"props":4167,"children":4168},{"style":516},[4169],{"type":404,"value":684},{"type":398,"tag":497,"props":4171,"children":4172},{"style":552},[4173],{"type":404,"value":4018},{"type":398,"tag":497,"props":4175,"children":4176},{"style":516},[4177],{"type":404,"value":530},{"type":398,"tag":497,"props":4179,"children":4180},{"style":552},[4181],{"type":404,"value":4182}," sub",{"type":398,"tag":497,"props":4184,"children":4185},{"style":574},[4186],{"type":404,"value":540},{"type":398,"tag":497,"props":4188,"children":4189},{"style":516},[4190],{"type":404,"value":589},{"type":398,"tag":497,"props":4192,"children":4193},{"class":499,"line":793},[4194],{"type":398,"tag":497,"props":4195,"children":4196},{"style":516},[4197],{"type":404,"value":1141},{"type":398,"tag":497,"props":4199,"children":4200},{"class":499,"line":848},[4201],{"type":398,"tag":497,"props":4202,"children":4203},{"style":708},[4204],{"type":404,"value":4205},"  // 收集依赖\n",{"type":398,"tag":497,"props":4207,"children":4208},{"class":499,"line":857},[4209,4214,4218],{"type":398,"tag":497,"props":4210,"children":4211},{"style":1156},[4212],{"type":404,"value":4213},"  depend",{"type":398,"tag":497,"props":4215,"children":4216},{"style":516},[4217],{"type":404,"value":746},{"type":398,"tag":497,"props":4219,"children":4220},{"style":516},[4221],{"type":404,"value":545},{"type":398,"tag":497,"props":4223,"children":4224},{"class":499,"line":866},[4225,4229,4233,4237,4241,4245,4249],{"type":398,"tag":497,"props":4226,"children":4227},{"style":596},[4228],{"type":404,"value":872},{"type":398,"tag":497,"props":4230,"children":4231},{"style":574},[4232],{"type":404,"value":877},{"type":398,"tag":497,"props":4234,"children":4235},{"style":552},[4236],{"type":404,"value":3112},{"type":398,"tag":497,"props":4238,"children":4239},{"style":516},[4240],{"type":404,"value":684},{"type":398,"tag":497,"props":4242,"children":4243},{"style":552},[4244],{"type":404,"value":3121},{"type":398,"tag":497,"props":4246,"children":4247},{"style":574},[4248],{"type":404,"value":932},{"type":398,"tag":497,"props":4250,"children":4251},{"style":516},[4252],{"type":404,"value":909},{"type":398,"tag":497,"props":4254,"children":4255},{"class":499,"line":912},[4256,4261,4265,4269,4273,4278,4282,4286,4290],{"type":398,"tag":497,"props":4257,"children":4258},{"style":552},[4259],{"type":404,"value":4260},"      Dep",{"type":398,"tag":497,"props":4262,"children":4263},{"style":516},[4264],{"type":404,"value":684},{"type":398,"tag":497,"props":4266,"children":4267},{"style":552},[4268],{"type":404,"value":3121},{"type":398,"tag":497,"props":4270,"children":4271},{"style":516},[4272],{"type":404,"value":684},{"type":398,"tag":497,"props":4274,"children":4275},{"style":510},[4276],{"type":404,"value":4277},"addDep",{"type":398,"tag":497,"props":4279,"children":4280},{"style":574},[4281],{"type":404,"value":519},{"type":398,"tag":497,"props":4283,"children":4284},{"style":676},[4285],{"type":404,"value":1949},{"type":398,"tag":497,"props":4287,"children":4288},{"style":574},[4289],{"type":404,"value":540},{"type":398,"tag":497,"props":4291,"children":4292},{"style":516},[4293],{"type":404,"value":589},{"type":398,"tag":497,"props":4295,"children":4296},{"class":499,"line":939},[4297],{"type":398,"tag":497,"props":4298,"children":4299},{"style":516},[4300],{"type":404,"value":1132},{"type":398,"tag":497,"props":4302,"children":4303},{"class":499,"line":973},[4304],{"type":398,"tag":497,"props":4305,"children":4306},{"style":516},[4307],{"type":404,"value":1141},{"type":398,"tag":497,"props":4309,"children":4310},{"class":499,"line":991},[4311],{"type":398,"tag":497,"props":4312,"children":4313},{"style":708},[4314],{"type":404,"value":4315},"  // 通知依赖更新\n",{"type":398,"tag":497,"props":4317,"children":4318},{"class":499,"line":1033},[4319,4324,4328],{"type":398,"tag":497,"props":4320,"children":4321},{"style":1156},[4322],{"type":404,"value":4323},"  notify",{"type":398,"tag":497,"props":4325,"children":4326},{"style":516},[4327],{"type":404,"value":746},{"type":398,"tag":497,"props":4329,"children":4330},{"style":516},[4331],{"type":404,"value":545},{"type":398,"tag":497,"props":4333,"children":4334},{"class":499,"line":1042},[4335],{"type":398,"tag":497,"props":4336,"children":4337},{"style":708},[4338],{"type":404,"value":4339},"    // stabilize the subscriber list first\n",{"type":398,"tag":497,"props":4341,"children":4342},{"class":499,"line":1076},[4343,4347,4352,4356,4360,4364,4368,4372,4376,4380],{"type":398,"tag":497,"props":4344,"children":4345},{"style":504},[4346],{"type":404,"value":1185},{"type":398,"tag":497,"props":4348,"children":4349},{"style":1188},[4350],{"type":404,"value":4351}," subs",{"type":398,"tag":497,"props":4353,"children":4354},{"style":558},[4355],{"type":404,"value":561},{"type":398,"tag":497,"props":4357,"children":4358},{"style":676},[4359],{"type":404,"value":837},{"type":398,"tag":497,"props":4361,"children":4362},{"style":516},[4363],{"type":404,"value":684},{"type":398,"tag":497,"props":4365,"children":4366},{"style":552},[4367],{"type":404,"value":4018},{"type":398,"tag":497,"props":4369,"children":4370},{"style":516},[4371],{"type":404,"value":684},{"type":398,"tag":497,"props":4373,"children":4374},{"style":510},[4375],{"type":404,"value":2181},{"type":398,"tag":497,"props":4377,"children":4378},{"style":574},[4379],{"type":404,"value":746},{"type":398,"tag":497,"props":4381,"children":4382},{"style":516},[4383],{"type":404,"value":589},{"type":398,"tag":497,"props":4385,"children":4386},{"class":499,"line":1093},[4387,4391,4395,4399,4403,4407,4411,4415,4419,4423,4427,4431,4435,4439,4443,4447,4451,4455,4459,4463,4467],{"type":398,"tag":497,"props":4388,"children":4389},{"style":596},[4390],{"type":404,"value":1234},{"type":398,"tag":497,"props":4392,"children":4393},{"style":574},[4394],{"type":404,"value":877},{"type":398,"tag":497,"props":4396,"children":4397},{"style":504},[4398],{"type":404,"value":1243},{"type":398,"tag":497,"props":4400,"children":4401},{"style":552},[4402],{"type":404,"value":1248},{"type":398,"tag":497,"props":4404,"children":4405},{"style":558},[4406],{"type":404,"value":561},{"type":398,"tag":497,"props":4408,"children":4409},{"style":774},[4410],{"type":404,"value":777},{"type":398,"tag":497,"props":4412,"children":4413},{"style":516},[4414],{"type":404,"value":530},{"type":398,"tag":497,"props":4416,"children":4417},{"style":552},[4418],{"type":404,"value":1435},{"type":398,"tag":497,"props":4420,"children":4421},{"style":558},[4422],{"type":404,"value":561},{"type":398,"tag":497,"props":4424,"children":4425},{"style":552},[4426],{"type":404,"value":4351},{"type":398,"tag":497,"props":4428,"children":4429},{"style":516},[4430],{"type":404,"value":684},{"type":398,"tag":497,"props":4432,"children":4433},{"style":1188},[4434],{"type":404,"value":1283},{"type":398,"tag":497,"props":4436,"children":4437},{"style":516},[4438],{"type":404,"value":1261},{"type":398,"tag":497,"props":4440,"children":4441},{"style":552},[4442],{"type":404,"value":1248},{"type":398,"tag":497,"props":4444,"children":4445},{"style":558},[4446],{"type":404,"value":1270},{"type":398,"tag":497,"props":4448,"children":4449},{"style":552},[4450],{"type":404,"value":1435},{"type":398,"tag":497,"props":4452,"children":4453},{"style":516},[4454],{"type":404,"value":1261},{"type":398,"tag":497,"props":4456,"children":4457},{"style":552},[4458],{"type":404,"value":1248},{"type":398,"tag":497,"props":4460,"children":4461},{"style":558},[4462],{"type":404,"value":1296},{"type":398,"tag":497,"props":4464,"children":4465},{"style":574},[4466],{"type":404,"value":932},{"type":398,"tag":497,"props":4468,"children":4469},{"style":516},[4470],{"type":404,"value":909},{"type":398,"tag":497,"props":4472,"children":4473},{"class":499,"line":1126},[4474,4479,4483,4487,4491,4495,4500,4504],{"type":398,"tag":497,"props":4475,"children":4476},{"style":552},[4477],{"type":404,"value":4478},"      subs",{"type":398,"tag":497,"props":4480,"children":4481},{"style":574},[4482],{"type":404,"value":1334},{"type":398,"tag":497,"props":4484,"children":4485},{"style":552},[4486],{"type":404,"value":1339},{"type":398,"tag":497,"props":4488,"children":4489},{"style":574},[4490],{"type":404,"value":1742},{"type":398,"tag":497,"props":4492,"children":4493},{"style":516},[4494],{"type":404,"value":684},{"type":398,"tag":497,"props":4496,"children":4497},{"style":510},[4498],{"type":404,"value":4499},"update",{"type":398,"tag":497,"props":4501,"children":4502},{"style":574},[4503],{"type":404,"value":746},{"type":398,"tag":497,"props":4505,"children":4506},{"style":516},[4507],{"type":404,"value":589},{"type":398,"tag":497,"props":4509,"children":4510},{"class":499,"line":1135},[4511],{"type":398,"tag":497,"props":4512,"children":4513},{"style":516},[4514],{"type":404,"value":1132},{"type":398,"tag":497,"props":4516,"children":4517},{"class":499,"line":1144},[4518],{"type":398,"tag":497,"props":4519,"children":4520},{"style":516},[4521],{"type":404,"value":1141},{"type":398,"tag":497,"props":4523,"children":4524},{"class":499,"line":1152},[4525],{"type":398,"tag":497,"props":4526,"children":4527},{"style":516},[4528],{"type":404,"value":617},{"type":398,"tag":431,"props":4530,"children":4531},{},[4532],{"type":404,"value":4533},"依赖容器和依赖之间是存在耦合的，所以我们看到收集依赖的这个地方，仅仅调用了依赖的 addDep 方法，没有调用 addSub 把添加依赖。其实，addSub 是在依赖的 addDep 方法中调用的。这个和观察者模式离不开关系，在观察者模式中，观察者直接观测目标，并相应目标做出的通知。Watcher 直接观测响应式数据，当数据发生变更时，就能收到通知。但由于数据和观察者是多对多的关系，所以需要 Dep 依赖容器这么一个东西用来保存 Watcher 与数据的关系。",{"type":398,"tag":431,"props":4535,"children":4536},{},[4537],{"type":398,"tag":4538,"props":4539,"children":4541},"img",{"alt":448,"src":4540},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20200810100326.png?w=70",[],{"type":398,"tag":431,"props":4543,"children":4544},{},[4545],{"type":404,"value":4546},"Dep.target 用来表示当前依赖，并且源码维护了一个依赖栈，通过提供的 pushTarget、popTarget 方法维护依赖栈及当前依赖（状态）。看以下代码：",{"type":398,"tag":437,"props":4548,"children":4550},{"code":4549,"language":490,"meta":391,"className":491,"style":391},"// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nconst targetStack = [];\nfunction pushTarget(target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\nfunction popTarget() {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n",[4551],{"type":398,"tag":442,"props":4552,"children":4553},{"__ignoreMap":391},[4554,4562,4570,4578,4609,4633,4661,4693,4722,4729,4749,4772,4830],{"type":398,"tag":497,"props":4555,"children":4556},{"class":499,"line":500},[4557],{"type":398,"tag":497,"props":4558,"children":4559},{"style":708},[4560],{"type":404,"value":4561},"// The current target watcher being evaluated.\n",{"type":398,"tag":497,"props":4563,"children":4564},{"class":499,"line":548},[4565],{"type":398,"tag":497,"props":4566,"children":4567},{"style":708},[4568],{"type":404,"value":4569},"// This is globally unique because only one watcher\n",{"type":398,"tag":497,"props":4571,"children":4572},{"class":499,"line":592},[4573],{"type":398,"tag":497,"props":4574,"children":4575},{"style":708},[4576],{"type":404,"value":4577},"// can be evaluated at a time.\n",{"type":398,"tag":497,"props":4579,"children":4580},{"class":499,"line":611},[4581,4585,4589,4594,4599,4605],{"type":398,"tag":497,"props":4582,"children":4583},{"style":552},[4584],{"type":404,"value":3112},{"type":398,"tag":497,"props":4586,"children":4587},{"style":516},[4588],{"type":404,"value":684},{"type":398,"tag":497,"props":4590,"children":4591},{"style":552},[4592],{"type":404,"value":4593},"target ",{"type":398,"tag":497,"props":4595,"children":4596},{"style":558},[4597],{"type":404,"value":4598},"=",{"type":398,"tag":497,"props":4600,"children":4602},{"style":4601},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[4603],{"type":404,"value":4604}," null",{"type":398,"tag":497,"props":4606,"children":4607},{"style":516},[4608],{"type":404,"value":589},{"type":398,"tag":497,"props":4610,"children":4611},{"class":499,"line":620},[4612,4616,4621,4625,4629],{"type":398,"tag":497,"props":4613,"children":4614},{"style":504},[4615],{"type":404,"value":1578},{"type":398,"tag":497,"props":4617,"children":4618},{"style":1188},[4619],{"type":404,"value":4620}," targetStack",{"type":398,"tag":497,"props":4622,"children":4623},{"style":558},[4624],{"type":404,"value":561},{"type":398,"tag":497,"props":4626,"children":4627},{"style":552},[4628],{"type":404,"value":4027},{"type":398,"tag":497,"props":4630,"children":4631},{"style":516},[4632],{"type":404,"value":589},{"type":398,"tag":497,"props":4634,"children":4635},{"class":499,"line":629},[4636,4640,4645,4649,4653,4657],{"type":398,"tag":497,"props":4637,"children":4638},{"style":504},[4639],{"type":404,"value":507},{"type":398,"tag":497,"props":4641,"children":4642},{"style":510},[4643],{"type":404,"value":4644}," pushTarget",{"type":398,"tag":497,"props":4646,"children":4647},{"style":516},[4648],{"type":404,"value":519},{"type":398,"tag":497,"props":4650,"children":4651},{"style":522},[4652],{"type":404,"value":3121},{"type":398,"tag":497,"props":4654,"children":4655},{"style":516},[4656],{"type":404,"value":540},{"type":398,"tag":497,"props":4658,"children":4659},{"style":516},[4660],{"type":404,"value":545},{"type":398,"tag":497,"props":4662,"children":4663},{"class":499,"line":647},[4664,4669,4673,4677,4681,4685,4689],{"type":398,"tag":497,"props":4665,"children":4666},{"style":552},[4667],{"type":404,"value":4668},"  targetStack",{"type":398,"tag":497,"props":4670,"children":4671},{"style":516},[4672],{"type":404,"value":684},{"type":398,"tag":497,"props":4674,"children":4675},{"style":510},[4676],{"type":404,"value":1605},{"type":398,"tag":497,"props":4678,"children":4679},{"style":574},[4680],{"type":404,"value":519},{"type":398,"tag":497,"props":4682,"children":4683},{"style":552},[4684],{"type":404,"value":3121},{"type":398,"tag":497,"props":4686,"children":4687},{"style":574},[4688],{"type":404,"value":540},{"type":398,"tag":497,"props":4690,"children":4691},{"style":516},[4692],{"type":404,"value":589},{"type":398,"tag":497,"props":4694,"children":4695},{"class":499,"line":672},[4696,4701,4705,4709,4713,4718],{"type":398,"tag":497,"props":4697,"children":4698},{"style":552},[4699],{"type":404,"value":4700},"  Dep",{"type":398,"tag":497,"props":4702,"children":4703},{"style":516},[4704],{"type":404,"value":684},{"type":398,"tag":497,"props":4706,"children":4707},{"style":552},[4708],{"type":404,"value":3121},{"type":398,"tag":497,"props":4710,"children":4711},{"style":558},[4712],{"type":404,"value":561},{"type":398,"tag":497,"props":4714,"children":4715},{"style":552},[4716],{"type":404,"value":4717}," target",{"type":398,"tag":497,"props":4719,"children":4720},{"style":516},[4721],{"type":404,"value":589},{"type":398,"tag":497,"props":4723,"children":4724},{"class":499,"line":704},[4725],{"type":398,"tag":497,"props":4726,"children":4727},{"style":516},[4728],{"type":404,"value":617},{"type":398,"tag":497,"props":4730,"children":4731},{"class":499,"line":714},[4732,4736,4741,4745],{"type":398,"tag":497,"props":4733,"children":4734},{"style":504},[4735],{"type":404,"value":507},{"type":398,"tag":497,"props":4737,"children":4738},{"style":510},[4739],{"type":404,"value":4740}," popTarget",{"type":398,"tag":497,"props":4742,"children":4743},{"style":516},[4744],{"type":404,"value":746},{"type":398,"tag":497,"props":4746,"children":4747},{"style":516},[4748],{"type":404,"value":545},{"type":398,"tag":497,"props":4750,"children":4751},{"class":499,"line":753},[4752,4756,4760,4764,4768],{"type":398,"tag":497,"props":4753,"children":4754},{"style":552},[4755],{"type":404,"value":4668},{"type":398,"tag":497,"props":4757,"children":4758},{"style":516},[4759],{"type":404,"value":684},{"type":398,"tag":497,"props":4761,"children":4762},{"style":510},[4763],{"type":404,"value":1626},{"type":398,"tag":497,"props":4765,"children":4766},{"style":574},[4767],{"type":404,"value":746},{"type":398,"tag":497,"props":4769,"children":4770},{"style":516},[4771],{"type":404,"value":589},{"type":398,"tag":497,"props":4773,"children":4774},{"class":499,"line":784},[4775,4779,4783,4787,4791,4795,4799,4804,4808,4812,4817,4822,4826],{"type":398,"tag":497,"props":4776,"children":4777},{"style":552},[4778],{"type":404,"value":4700},{"type":398,"tag":497,"props":4780,"children":4781},{"style":516},[4782],{"type":404,"value":684},{"type":398,"tag":497,"props":4784,"children":4785},{"style":552},[4786],{"type":404,"value":3121},{"type":398,"tag":497,"props":4788,"children":4789},{"style":558},[4790],{"type":404,"value":561},{"type":398,"tag":497,"props":4792,"children":4793},{"style":552},[4794],{"type":404,"value":4620},{"type":398,"tag":497,"props":4796,"children":4797},{"style":574},[4798],{"type":404,"value":1334},{"type":398,"tag":497,"props":4800,"children":4801},{"style":552},[4802],{"type":404,"value":4803},"targetStack",{"type":398,"tag":497,"props":4805,"children":4806},{"style":516},[4807],{"type":404,"value":684},{"type":398,"tag":497,"props":4809,"children":4810},{"style":1188},[4811],{"type":404,"value":1283},{"type":398,"tag":497,"props":4813,"children":4814},{"style":558},[4815],{"type":404,"value":4816}," -",{"type":398,"tag":497,"props":4818,"children":4819},{"style":774},[4820],{"type":404,"value":4821}," 1",{"type":398,"tag":497,"props":4823,"children":4824},{"style":574},[4825],{"type":404,"value":1742},{"type":398,"tag":497,"props":4827,"children":4828},{"style":516},[4829],{"type":404,"value":589},{"type":398,"tag":497,"props":4831,"children":4832},{"class":499,"line":793},[4833],{"type":398,"tag":497,"props":4834,"children":4835},{"style":516},[4836],{"type":404,"value":617},{"type":398,"tag":431,"props":4838,"children":4839},{},[4840],{"type":404,"value":4841},"既然 Dep 用来存放 Watcher，是依赖容器，那么，依赖就是 Watcher。",{"type":398,"tag":431,"props":4843,"children":4844},{},[4845],{"type":404,"value":4846},"Watcher 通过调用我们刚才提到的 pushTarget、popTarget 以维护全局的当前依赖（Dep.target）。全局的当前依赖只会有一个，因为 JS 是同步的，顺序执行的代码。我们先来看看 Watcher 怎么样维护当前依赖。",{"type":398,"tag":437,"props":4848,"children":4850},{"code":4849,"language":490,"meta":391,"className":491,"style":391},"class Watcher {\n  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n  get() {\n    pushTarget(this);\n    let value;\n    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n    const vm = this.vm;\n    // 触发 getter 更新\n    try {\n      value = this.getter.call(vm, vm);\n    } catch (e) {\n      if (this.user) {\n        handleError(e, vm, `getter for watcher \"${this.expression}\"`);\n      } else {\n        throw e;\n      }\n    } finally {\n      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n      // traverse 即递归读取对象的每一个元素\n      if (this.deep) {\n        traverse(value);\n      }\n      popTarget();\n      // 因为每次 get 之后都重收集了依赖，\n      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n      this.cleanupDeps();\n    }\n    return value;\n  }\n}\n",[4851],{"type":398,"tag":442,"props":4852,"children":4853},{"__ignoreMap":391},[4854,4870,4878,4886,4894,4910,4934,4949,4957,4990,4998,5010,5066,5095,5127,5206,5221,5238,5245,5261,5269,5277,5309,5333,5340,5356,5364,5372,5396,5403,5418,5425],{"type":398,"tag":497,"props":4855,"children":4856},{"class":499,"line":500},[4857,4861,4866],{"type":398,"tag":497,"props":4858,"children":4859},{"style":504},[4860],{"type":404,"value":635},{"type":398,"tag":497,"props":4862,"children":4863},{"style":638},[4864],{"type":404,"value":4865}," Watcher",{"type":398,"tag":497,"props":4867,"children":4868},{"style":516},[4869],{"type":404,"value":545},{"type":398,"tag":497,"props":4871,"children":4872},{"class":499,"line":548},[4873],{"type":398,"tag":497,"props":4874,"children":4875},{"style":708},[4876],{"type":404,"value":4877},"  // 依赖实例通过 get 方法获取对象属性的值，以触发属性的 getter 以重收集依赖\n",{"type":398,"tag":497,"props":4879,"children":4880},{"class":499,"line":592},[4881],{"type":398,"tag":497,"props":4882,"children":4883},{"style":708},[4884],{"type":404,"value":4885},"  // 这里的“重收集”，意味着将当前依赖重新添加到不同对象的属性的依赖容器中\n",{"type":398,"tag":497,"props":4887,"children":4888},{"class":499,"line":611},[4889],{"type":398,"tag":497,"props":4890,"children":4891},{"style":708},[4892],{"type":404,"value":4893},"  // 所以在这里需要使用 pushTarget、popTarget 维护全局的当前依赖\n",{"type":398,"tag":497,"props":4895,"children":4896},{"class":499,"line":620},[4897,4902,4906],{"type":398,"tag":497,"props":4898,"children":4899},{"style":1156},[4900],{"type":404,"value":4901},"  get",{"type":398,"tag":497,"props":4903,"children":4904},{"style":516},[4905],{"type":404,"value":746},{"type":398,"tag":497,"props":4907,"children":4908},{"style":516},[4909],{"type":404,"value":545},{"type":398,"tag":497,"props":4911,"children":4912},{"class":499,"line":629},[4913,4918,4922,4926,4930],{"type":398,"tag":497,"props":4914,"children":4915},{"style":510},[4916],{"type":404,"value":4917},"    pushTarget",{"type":398,"tag":497,"props":4919,"children":4920},{"style":574},[4921],{"type":404,"value":519},{"type":398,"tag":497,"props":4923,"children":4924},{"style":676},[4925],{"type":404,"value":1949},{"type":398,"tag":497,"props":4927,"children":4928},{"style":574},[4929],{"type":404,"value":540},{"type":398,"tag":497,"props":4931,"children":4932},{"style":516},[4933],{"type":404,"value":589},{"type":398,"tag":497,"props":4935,"children":4936},{"class":499,"line":647},[4937,4941,4945],{"type":398,"tag":497,"props":4938,"children":4939},{"style":504},[4940],{"type":404,"value":2021},{"type":398,"tag":497,"props":4942,"children":4943},{"style":552},[4944],{"type":404,"value":697},{"type":398,"tag":497,"props":4946,"children":4947},{"style":516},[4948],{"type":404,"value":589},{"type":398,"tag":497,"props":4950,"children":4951},{"class":499,"line":672},[4952],{"type":398,"tag":497,"props":4953,"children":4954},{"style":708},[4955],{"type":404,"value":4956},"    // vm 即该依赖对应的 Vue 实例，这个后续会介绍\n",{"type":398,"tag":497,"props":4958,"children":4959},{"class":499,"line":704},[4960,4964,4969,4973,4977,4981,4986],{"type":398,"tag":497,"props":4961,"children":4962},{"style":504},[4963],{"type":404,"value":1185},{"type":398,"tag":497,"props":4965,"children":4966},{"style":1188},[4967],{"type":404,"value":4968}," vm",{"type":398,"tag":497,"props":4970,"children":4971},{"style":558},[4972],{"type":404,"value":561},{"type":398,"tag":497,"props":4974,"children":4975},{"style":676},[4976],{"type":404,"value":837},{"type":398,"tag":497,"props":4978,"children":4979},{"style":516},[4980],{"type":404,"value":684},{"type":398,"tag":497,"props":4982,"children":4983},{"style":552},[4984],{"type":404,"value":4985},"vm",{"type":398,"tag":497,"props":4987,"children":4988},{"style":516},[4989],{"type":404,"value":589},{"type":398,"tag":497,"props":4991,"children":4992},{"class":499,"line":714},[4993],{"type":398,"tag":497,"props":4994,"children":4995},{"style":708},[4996],{"type":404,"value":4997},"    // 触发 getter 更新\n",{"type":398,"tag":497,"props":4999,"children":5000},{"class":499,"line":753},[5001,5006],{"type":398,"tag":497,"props":5002,"children":5003},{"style":596},[5004],{"type":404,"value":5005},"    try",{"type":398,"tag":497,"props":5007,"children":5008},{"style":516},[5009],{"type":404,"value":545},{"type":398,"tag":497,"props":5011,"children":5012},{"class":499,"line":784},[5013,5018,5022,5026,5030,5034,5038,5042,5046,5050,5054,5058,5062],{"type":398,"tag":497,"props":5014,"children":5015},{"style":552},[5016],{"type":404,"value":5017},"      value",{"type":398,"tag":497,"props":5019,"children":5020},{"style":558},[5021],{"type":404,"value":561},{"type":398,"tag":497,"props":5023,"children":5024},{"style":676},[5025],{"type":404,"value":837},{"type":398,"tag":497,"props":5027,"children":5028},{"style":516},[5029],{"type":404,"value":684},{"type":398,"tag":497,"props":5031,"children":5032},{"style":552},[5033],{"type":404,"value":2750},{"type":398,"tag":497,"props":5035,"children":5036},{"style":516},[5037],{"type":404,"value":684},{"type":398,"tag":497,"props":5039,"children":5040},{"style":510},[5041],{"type":404,"value":3064},{"type":398,"tag":497,"props":5043,"children":5044},{"style":574},[5045],{"type":404,"value":519},{"type":398,"tag":497,"props":5047,"children":5048},{"style":552},[5049],{"type":404,"value":4985},{"type":398,"tag":497,"props":5051,"children":5052},{"style":516},[5053],{"type":404,"value":530},{"type":398,"tag":497,"props":5055,"children":5056},{"style":552},[5057],{"type":404,"value":4968},{"type":398,"tag":497,"props":5059,"children":5060},{"style":574},[5061],{"type":404,"value":540},{"type":398,"tag":497,"props":5063,"children":5064},{"style":516},[5065],{"type":404,"value":589},{"type":398,"tag":497,"props":5067,"children":5068},{"class":499,"line":793},[5069,5073,5078,5082,5087,5091],{"type":398,"tag":497,"props":5070,"children":5071},{"style":516},[5072],{"type":404,"value":1082},{"type":398,"tag":497,"props":5074,"children":5075},{"style":596},[5076],{"type":404,"value":5077}," catch",{"type":398,"tag":497,"props":5079,"children":5080},{"style":574},[5081],{"type":404,"value":877},{"type":398,"tag":497,"props":5083,"children":5084},{"style":552},[5085],{"type":404,"value":5086},"e",{"type":398,"tag":497,"props":5088,"children":5089},{"style":574},[5090],{"type":404,"value":932},{"type":398,"tag":497,"props":5092,"children":5093},{"style":516},[5094],{"type":404,"value":909},{"type":398,"tag":497,"props":5096,"children":5097},{"class":499,"line":848},[5098,5102,5106,5110,5114,5119,5123],{"type":398,"tag":497,"props":5099,"children":5100},{"style":596},[5101],{"type":404,"value":918},{"type":398,"tag":497,"props":5103,"children":5104},{"style":574},[5105],{"type":404,"value":877},{"type":398,"tag":497,"props":5107,"children":5108},{"style":676},[5109],{"type":404,"value":1949},{"type":398,"tag":497,"props":5111,"children":5112},{"style":516},[5113],{"type":404,"value":684},{"type":398,"tag":497,"props":5115,"children":5116},{"style":552},[5117],{"type":404,"value":5118},"user",{"type":398,"tag":497,"props":5120,"children":5121},{"style":574},[5122],{"type":404,"value":932},{"type":398,"tag":497,"props":5124,"children":5125},{"style":516},[5126],{"type":404,"value":909},{"type":398,"tag":497,"props":5128,"children":5129},{"class":499,"line":857},[5130,5135,5139,5143,5147,5151,5155,5160,5165,5171,5175,5180,5185,5189,5193,5198,5202],{"type":398,"tag":497,"props":5131,"children":5132},{"style":510},[5133],{"type":404,"value":5134},"        handleError",{"type":398,"tag":497,"props":5136,"children":5137},{"style":574},[5138],{"type":404,"value":519},{"type":398,"tag":497,"props":5140,"children":5141},{"style":552},[5142],{"type":404,"value":5086},{"type":398,"tag":497,"props":5144,"children":5145},{"style":516},[5146],{"type":404,"value":530},{"type":398,"tag":497,"props":5148,"children":5149},{"style":552},[5150],{"type":404,"value":4968},{"type":398,"tag":497,"props":5152,"children":5153},{"style":516},[5154],{"type":404,"value":530},{"type":398,"tag":497,"props":5156,"children":5157},{"style":814},[5158],{"type":404,"value":5159}," `",{"type":398,"tag":497,"props":5161,"children":5162},{"style":820},[5163],{"type":404,"value":5164},"getter for watcher \"",{"type":398,"tag":497,"props":5166,"children":5168},{"style":5167},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[5169],{"type":404,"value":5170},"${",{"type":398,"tag":497,"props":5172,"children":5173},{"style":676},[5174],{"type":404,"value":1949},{"type":398,"tag":497,"props":5176,"children":5178},{"style":5177},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[5179],{"type":404,"value":684},{"type":398,"tag":497,"props":5181,"children":5182},{"style":552},[5183],{"type":404,"value":5184},"expression",{"type":398,"tag":497,"props":5186,"children":5187},{"style":5167},[5188],{"type":404,"value":2346},{"type":398,"tag":497,"props":5190,"children":5191},{"style":820},[5192],{"type":404,"value":828},{"type":398,"tag":497,"props":5194,"children":5195},{"style":814},[5196],{"type":404,"value":5197},"`",{"type":398,"tag":497,"props":5199,"children":5200},{"style":574},[5201],{"type":404,"value":540},{"type":398,"tag":497,"props":5203,"children":5204},{"style":516},[5205],{"type":404,"value":589},{"type":398,"tag":497,"props":5207,"children":5208},{"class":499,"line":866},[5209,5213,5217],{"type":398,"tag":497,"props":5210,"children":5211},{"style":516},[5212],{"type":404,"value":979},{"type":398,"tag":497,"props":5214,"children":5215},{"style":596},[5216],{"type":404,"value":984},{"type":398,"tag":497,"props":5218,"children":5219},{"style":516},[5220],{"type":404,"value":545},{"type":398,"tag":497,"props":5222,"children":5223},{"class":499,"line":912},[5224,5229,5234],{"type":398,"tag":497,"props":5225,"children":5226},{"style":596},[5227],{"type":404,"value":5228},"        throw",{"type":398,"tag":497,"props":5230,"children":5231},{"style":552},[5232],{"type":404,"value":5233}," e",{"type":398,"tag":497,"props":5235,"children":5236},{"style":516},[5237],{"type":404,"value":589},{"type":398,"tag":497,"props":5239,"children":5240},{"class":499,"line":939},[5241],{"type":398,"tag":497,"props":5242,"children":5243},{"style":516},[5244],{"type":404,"value":1039},{"type":398,"tag":497,"props":5246,"children":5247},{"class":499,"line":973},[5248,5252,5257],{"type":398,"tag":497,"props":5249,"children":5250},{"style":516},[5251],{"type":404,"value":1082},{"type":398,"tag":497,"props":5253,"children":5254},{"style":596},[5255],{"type":404,"value":5256}," finally",{"type":398,"tag":497,"props":5258,"children":5259},{"style":516},[5260],{"type":404,"value":545},{"type":398,"tag":497,"props":5262,"children":5263},{"class":499,"line":991},[5264],{"type":398,"tag":497,"props":5265,"children":5266},{"style":708},[5267],{"type":404,"value":5268},"      // 如果依赖设置了 deep 选项，那会触发对应 value 的所有键的依赖更新\n",{"type":398,"tag":497,"props":5270,"children":5271},{"class":499,"line":1033},[5272],{"type":398,"tag":497,"props":5273,"children":5274},{"style":708},[5275],{"type":404,"value":5276},"      // traverse 即递归读取对象的每一个元素\n",{"type":398,"tag":497,"props":5278,"children":5279},{"class":499,"line":1042},[5280,5284,5288,5292,5296,5301,5305],{"type":398,"tag":497,"props":5281,"children":5282},{"style":596},[5283],{"type":404,"value":918},{"type":398,"tag":497,"props":5285,"children":5286},{"style":574},[5287],{"type":404,"value":877},{"type":398,"tag":497,"props":5289,"children":5290},{"style":676},[5291],{"type":404,"value":1949},{"type":398,"tag":497,"props":5293,"children":5294},{"style":516},[5295],{"type":404,"value":684},{"type":398,"tag":497,"props":5297,"children":5298},{"style":552},[5299],{"type":404,"value":5300},"deep",{"type":398,"tag":497,"props":5302,"children":5303},{"style":574},[5304],{"type":404,"value":932},{"type":398,"tag":497,"props":5306,"children":5307},{"style":516},[5308],{"type":404,"value":909},{"type":398,"tag":497,"props":5310,"children":5311},{"class":499,"line":1076},[5312,5317,5321,5325,5329],{"type":398,"tag":497,"props":5313,"children":5314},{"style":510},[5315],{"type":404,"value":5316},"        traverse",{"type":398,"tag":497,"props":5318,"children":5319},{"style":574},[5320],{"type":404,"value":519},{"type":398,"tag":497,"props":5322,"children":5323},{"style":552},[5324],{"type":404,"value":525},{"type":398,"tag":497,"props":5326,"children":5327},{"style":574},[5328],{"type":404,"value":540},{"type":398,"tag":497,"props":5330,"children":5331},{"style":516},[5332],{"type":404,"value":589},{"type":398,"tag":497,"props":5334,"children":5335},{"class":499,"line":1093},[5336],{"type":398,"tag":497,"props":5337,"children":5338},{"style":516},[5339],{"type":404,"value":1039},{"type":398,"tag":497,"props":5341,"children":5342},{"class":499,"line":1126},[5343,5348,5352],{"type":398,"tag":497,"props":5344,"children":5345},{"style":510},[5346],{"type":404,"value":5347},"      popTarget",{"type":398,"tag":497,"props":5349,"children":5350},{"style":574},[5351],{"type":404,"value":746},{"type":398,"tag":497,"props":5353,"children":5354},{"style":516},[5355],{"type":404,"value":589},{"type":398,"tag":497,"props":5357,"children":5358},{"class":499,"line":1135},[5359],{"type":398,"tag":497,"props":5360,"children":5361},{"style":708},[5362],{"type":404,"value":5363},"      // 因为每次 get 之后都重收集了依赖，\n",{"type":398,"tag":497,"props":5365,"children":5366},{"class":499,"line":1144},[5367],{"type":398,"tag":497,"props":5368,"children":5369},{"style":708},[5370],{"type":404,"value":5371},"      // 这里会把没有用的依赖给清除掉（调用依赖容器的 removeSub 移出依赖）\n",{"type":398,"tag":497,"props":5373,"children":5374},{"class":499,"line":1152},[5375,5379,5383,5388,5392],{"type":398,"tag":497,"props":5376,"children":5377},{"style":676},[5378],{"type":404,"value":1048},{"type":398,"tag":497,"props":5380,"children":5381},{"style":516},[5382],{"type":404,"value":684},{"type":398,"tag":497,"props":5384,"children":5385},{"style":510},[5386],{"type":404,"value":5387},"cleanupDeps",{"type":398,"tag":497,"props":5389,"children":5390},{"style":574},[5391],{"type":404,"value":746},{"type":398,"tag":497,"props":5393,"children":5394},{"style":516},[5395],{"type":404,"value":589},{"type":398,"tag":497,"props":5397,"children":5398},{"class":499,"line":1179},[5399],{"type":398,"tag":497,"props":5400,"children":5401},{"style":516},[5402],{"type":404,"value":1132},{"type":398,"tag":497,"props":5404,"children":5405},{"class":499,"line":1228},[5406,5410,5414],{"type":398,"tag":497,"props":5407,"children":5408},{"style":596},[5409],{"type":404,"value":2314},{"type":398,"tag":497,"props":5411,"children":5412},{"style":552},[5413],{"type":404,"value":697},{"type":398,"tag":497,"props":5415,"children":5416},{"style":516},[5417],{"type":404,"value":589},{"type":398,"tag":497,"props":5419,"children":5420},{"class":499,"line":1307},[5421],{"type":398,"tag":497,"props":5422,"children":5423},{"style":516},[5424],{"type":404,"value":1141},{"type":398,"tag":497,"props":5426,"children":5427},{"class":499,"line":1351},[5428],{"type":398,"tag":497,"props":5429,"children":5430},{"style":516},[5431],{"type":404,"value":617},{"type":398,"tag":431,"props":5433,"children":5434},{},[5435],{"type":404,"value":5436},"Vue 实例中，data 方法会返回一个新的对象，这个对象能将值的变化响应式更新到模板中。其实就是，新的对象返回来后，使用了 observe 方法观测其变化，而其每一个属性的依赖容器中，都会保存这个 Vue 实例的 watcher。这样一来，只要属性发生了变化，依赖容器就会通知 Vue 实例的 watcher 进行更新。至于要更新什么，那当然是“执行回调函数”啦。想象一下 Vue 实例中的 watch 的写法：",{"type":398,"tag":437,"props":5438,"children":5440},{"code":5439,"language":490,"meta":391,"className":491,"style":391},"new Vue({\n  data() {\n    return {\n      b: null,\n    };\n  },\n  watch: {\n    b() {\n      console.log(\"I'm callback\");\n    },\n  },\n});\n",[5441],{"type":398,"tag":442,"props":5442,"children":5443},{"__ignoreMap":391},[5444,5465,5481,5492,5512,5520,5528,5544,5560,5602,5609,5616],{"type":398,"tag":497,"props":5445,"children":5446},{"class":499,"line":500},[5447,5452,5457,5461],{"type":398,"tag":497,"props":5448,"children":5449},{"style":558},[5450],{"type":404,"value":5451},"new",{"type":398,"tag":497,"props":5453,"children":5454},{"style":510},[5455],{"type":404,"value":5456}," Vue",{"type":398,"tag":497,"props":5458,"children":5459},{"style":552},[5460],{"type":404,"value":519},{"type":398,"tag":497,"props":5462,"children":5463},{"style":516},[5464],{"type":404,"value":909},{"type":398,"tag":497,"props":5466,"children":5467},{"class":499,"line":548},[5468,5473,5477],{"type":398,"tag":497,"props":5469,"children":5470},{"style":1156},[5471],{"type":404,"value":5472},"  data",{"type":398,"tag":497,"props":5474,"children":5475},{"style":516},[5476],{"type":404,"value":746},{"type":398,"tag":497,"props":5478,"children":5479},{"style":516},[5480],{"type":404,"value":545},{"type":398,"tag":497,"props":5482,"children":5483},{"class":499,"line":592},[5484,5488],{"type":398,"tag":497,"props":5485,"children":5486},{"style":596},[5487],{"type":404,"value":2314},{"type":398,"tag":497,"props":5489,"children":5490},{"style":516},[5491],{"type":404,"value":545},{"type":398,"tag":497,"props":5493,"children":5494},{"class":499,"line":611},[5495,5500,5504,5508],{"type":398,"tag":497,"props":5496,"children":5497},{"style":574},[5498],{"type":404,"value":5499},"      b",{"type":398,"tag":497,"props":5501,"children":5502},{"style":516},[5503],{"type":404,"value":2968},{"type":398,"tag":497,"props":5505,"children":5506},{"style":4601},[5507],{"type":404,"value":4604},{"type":398,"tag":497,"props":5509,"children":5510},{"style":516},[5511],{"type":404,"value":1614},{"type":398,"tag":497,"props":5513,"children":5514},{"class":499,"line":620},[5515],{"type":398,"tag":497,"props":5516,"children":5517},{"style":516},[5518],{"type":404,"value":5519},"    };\n",{"type":398,"tag":497,"props":5521,"children":5522},{"class":499,"line":629},[5523],{"type":398,"tag":497,"props":5524,"children":5525},{"style":516},[5526],{"type":404,"value":5527},"  },\n",{"type":398,"tag":497,"props":5529,"children":5530},{"class":499,"line":647},[5531,5536,5540],{"type":398,"tag":497,"props":5532,"children":5533},{"style":574},[5534],{"type":404,"value":5535},"  watch",{"type":398,"tag":497,"props":5537,"children":5538},{"style":516},[5539],{"type":404,"value":2968},{"type":398,"tag":497,"props":5541,"children":5542},{"style":516},[5543],{"type":404,"value":545},{"type":398,"tag":497,"props":5545,"children":5546},{"class":499,"line":672},[5547,5552,5556],{"type":398,"tag":497,"props":5548,"children":5549},{"style":1156},[5550],{"type":404,"value":5551},"    b",{"type":398,"tag":497,"props":5553,"children":5554},{"style":516},[5555],{"type":404,"value":746},{"type":398,"tag":497,"props":5557,"children":5558},{"style":516},[5559],{"type":404,"value":545},{"type":398,"tag":497,"props":5561,"children":5562},{"class":499,"line":704},[5563,5568,5572,5577,5581,5585,5590,5594,5598],{"type":398,"tag":497,"props":5564,"children":5565},{"style":552},[5566],{"type":404,"value":5567},"      console",{"type":398,"tag":497,"props":5569,"children":5570},{"style":516},[5571],{"type":404,"value":684},{"type":398,"tag":497,"props":5573,"children":5574},{"style":510},[5575],{"type":404,"value":5576},"log",{"type":398,"tag":497,"props":5578,"children":5579},{"style":574},[5580],{"type":404,"value":519},{"type":398,"tag":497,"props":5582,"children":5583},{"style":814},[5584],{"type":404,"value":828},{"type":398,"tag":497,"props":5586,"children":5587},{"style":820},[5588],{"type":404,"value":5589},"I'm callback",{"type":398,"tag":497,"props":5591,"children":5592},{"style":814},[5593],{"type":404,"value":828},{"type":398,"tag":497,"props":5595,"children":5596},{"style":574},[5597],{"type":404,"value":540},{"type":398,"tag":497,"props":5599,"children":5600},{"style":516},[5601],{"type":404,"value":589},{"type":398,"tag":497,"props":5603,"children":5604},{"class":499,"line":714},[5605],{"type":398,"tag":497,"props":5606,"children":5607},{"style":516},[5608],{"type":404,"value":3322},{"type":398,"tag":497,"props":5610,"children":5611},{"class":499,"line":753},[5612],{"type":398,"tag":497,"props":5613,"children":5614},{"style":516},[5615],{"type":404,"value":5527},{"type":398,"tag":497,"props":5617,"children":5618},{"class":499,"line":784},[5619,5623,5627],{"type":398,"tag":497,"props":5620,"children":5621},{"style":516},[5622],{"type":404,"value":2346},{"type":398,"tag":497,"props":5624,"children":5625},{"style":552},[5626],{"type":404,"value":540},{"type":398,"tag":497,"props":5628,"children":5629},{"style":516},[5630],{"type":404,"value":589},{"type":398,"tag":431,"props":5632,"children":5633},{},[5634],{"type":404,"value":5635},"这个 watch 不就是（尝试）给 data.b 设置响应式属性么... 所以说依赖就是 Vue 实例与响应式属性之间的对应关系。Watcher 保存了这种关系，还保存了响应式数据、回调函数等一些额外信息。我们看 Watcher 的构造器：",{"type":398,"tag":437,"props":5637,"children":5639},{"code":5638,"language":490,"meta":391,"className":491,"style":391},"class Watcher {\n  constructor(vm, expOrFn, cb, options, isRenderWatcher) {\n    // vm 即 Vue 实例\n    this.vm = vm;\n    if (isRenderWatcher) {\n      vm._watcher = this;\n    }\n    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n    vm._watchers.push(this);\n\n    // options\n    if (options) {\n      this.deep = !!options.deep;\n      this.user = !!options.user;\n      this.lazy = !!options.lazy;\n      this.sync = !!options.sync;\n      this.before = options.before;\n    } else {\n      this.deep = this.user = this.lazy = this.sync = false;\n    }\n    this.cb = cb;\n    this.id = ++uid; // uid for batching\n    this.active = true;\n    this.dirty = this.lazy; // for lazy watchers\n    this.deps = [];\n    this.newDeps = [];\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n     */\n    this.expression =\n      process.env.NODE_ENV !== \"production\" ? expOrFn.toString() : \"\";\n    // parse expression for getter\n    if (typeof expOrFn === \"function\") {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n      this.getter = parsePath(expOrFn);\n    }\n\n    this.value = this.lazy ? undefined : this.get();\n  }\n}\n",[5640],{"type":398,"tag":442,"props":5641,"children":5642},{"__ignoreMap":391},[5643,5658,5717,5725,5752,5776,5805,5812,5820,5861,5868,5876,5900,5940,5979,6019,6059,6095,6110,6185,6192,6220,6258,6286,6327,6355,6383,6420,6456,6463,6471,6479,6487,6507,6582,6590,6634,6661,6676,6684,6725,6732,6739,6804,6811],{"type":398,"tag":497,"props":5644,"children":5645},{"class":499,"line":500},[5646,5650,5654],{"type":398,"tag":497,"props":5647,"children":5648},{"style":504},[5649],{"type":404,"value":635},{"type":398,"tag":497,"props":5651,"children":5652},{"style":638},[5653],{"type":404,"value":4865},{"type":398,"tag":497,"props":5655,"children":5656},{"style":516},[5657],{"type":404,"value":545},{"type":398,"tag":497,"props":5659,"children":5660},{"class":499,"line":548},[5661,5665,5669,5673,5677,5682,5686,5691,5695,5700,5704,5709,5713],{"type":398,"tag":497,"props":5662,"children":5663},{"style":504},[5664],{"type":404,"value":653},{"type":398,"tag":497,"props":5666,"children":5667},{"style":516},[5668],{"type":404,"value":519},{"type":398,"tag":497,"props":5670,"children":5671},{"style":522},[5672],{"type":404,"value":4985},{"type":398,"tag":497,"props":5674,"children":5675},{"style":516},[5676],{"type":404,"value":530},{"type":398,"tag":497,"props":5678,"children":5679},{"style":522},[5680],{"type":404,"value":5681}," expOrFn",{"type":398,"tag":497,"props":5683,"children":5684},{"style":516},[5685],{"type":404,"value":530},{"type":398,"tag":497,"props":5687,"children":5688},{"style":522},[5689],{"type":404,"value":5690}," cb",{"type":398,"tag":497,"props":5692,"children":5693},{"style":516},[5694],{"type":404,"value":530},{"type":398,"tag":497,"props":5696,"children":5697},{"style":522},[5698],{"type":404,"value":5699}," options",{"type":398,"tag":497,"props":5701,"children":5702},{"style":516},[5703],{"type":404,"value":530},{"type":398,"tag":497,"props":5705,"children":5706},{"style":522},[5707],{"type":404,"value":5708}," isRenderWatcher",{"type":398,"tag":497,"props":5710,"children":5711},{"style":516},[5712],{"type":404,"value":540},{"type":398,"tag":497,"props":5714,"children":5715},{"style":516},[5716],{"type":404,"value":545},{"type":398,"tag":497,"props":5718,"children":5719},{"class":499,"line":592},[5720],{"type":398,"tag":497,"props":5721,"children":5722},{"style":708},[5723],{"type":404,"value":5724},"    // vm 即 Vue 实例\n",{"type":398,"tag":497,"props":5726,"children":5727},{"class":499,"line":611},[5728,5732,5736,5740,5744,5748],{"type":398,"tag":497,"props":5729,"children":5730},{"style":676},[5731],{"type":404,"value":679},{"type":398,"tag":497,"props":5733,"children":5734},{"style":516},[5735],{"type":404,"value":684},{"type":398,"tag":497,"props":5737,"children":5738},{"style":552},[5739],{"type":404,"value":4985},{"type":398,"tag":497,"props":5741,"children":5742},{"style":558},[5743],{"type":404,"value":561},{"type":398,"tag":497,"props":5745,"children":5746},{"style":552},[5747],{"type":404,"value":4968},{"type":398,"tag":497,"props":5749,"children":5750},{"style":516},[5751],{"type":404,"value":589},{"type":398,"tag":497,"props":5753,"children":5754},{"class":499,"line":620},[5755,5759,5763,5768,5772],{"type":398,"tag":497,"props":5756,"children":5757},{"style":596},[5758],{"type":404,"value":872},{"type":398,"tag":497,"props":5760,"children":5761},{"style":574},[5762],{"type":404,"value":877},{"type":398,"tag":497,"props":5764,"children":5765},{"style":552},[5766],{"type":404,"value":5767},"isRenderWatcher",{"type":398,"tag":497,"props":5769,"children":5770},{"style":574},[5771],{"type":404,"value":932},{"type":398,"tag":497,"props":5773,"children":5774},{"style":516},[5775],{"type":404,"value":909},{"type":398,"tag":497,"props":5777,"children":5778},{"class":499,"line":629},[5779,5784,5788,5793,5797,5801],{"type":398,"tag":497,"props":5780,"children":5781},{"style":552},[5782],{"type":404,"value":5783},"      vm",{"type":398,"tag":497,"props":5785,"children":5786},{"style":516},[5787],{"type":404,"value":684},{"type":398,"tag":497,"props":5789,"children":5790},{"style":552},[5791],{"type":404,"value":5792},"_watcher",{"type":398,"tag":497,"props":5794,"children":5795},{"style":558},[5796],{"type":404,"value":561},{"type":398,"tag":497,"props":5798,"children":5799},{"style":676},[5800],{"type":404,"value":837},{"type":398,"tag":497,"props":5802,"children":5803},{"style":516},[5804],{"type":404,"value":589},{"type":398,"tag":497,"props":5806,"children":5807},{"class":499,"line":647},[5808],{"type":398,"tag":497,"props":5809,"children":5810},{"style":516},[5811],{"type":404,"value":1132},{"type":398,"tag":497,"props":5813,"children":5814},{"class":499,"line":672},[5815],{"type":398,"tag":497,"props":5816,"children":5817},{"style":708},[5818],{"type":404,"value":5819},"    // Vue 实例可能对应多个 watcher，比如 vm.$data、vm.$watch\n",{"type":398,"tag":497,"props":5821,"children":5822},{"class":499,"line":704},[5823,5828,5832,5837,5841,5845,5849,5853,5857],{"type":398,"tag":497,"props":5824,"children":5825},{"style":552},[5826],{"type":404,"value":5827},"    vm",{"type":398,"tag":497,"props":5829,"children":5830},{"style":516},[5831],{"type":404,"value":684},{"type":398,"tag":497,"props":5833,"children":5834},{"style":552},[5835],{"type":404,"value":5836},"_watchers",{"type":398,"tag":497,"props":5838,"children":5839},{"style":516},[5840],{"type":404,"value":684},{"type":398,"tag":497,"props":5842,"children":5843},{"style":510},[5844],{"type":404,"value":1605},{"type":398,"tag":497,"props":5846,"children":5847},{"style":574},[5848],{"type":404,"value":519},{"type":398,"tag":497,"props":5850,"children":5851},{"style":676},[5852],{"type":404,"value":1949},{"type":398,"tag":497,"props":5854,"children":5855},{"style":574},[5856],{"type":404,"value":540},{"type":398,"tag":497,"props":5858,"children":5859},{"style":516},[5860],{"type":404,"value":589},{"type":398,"tag":497,"props":5862,"children":5863},{"class":499,"line":714},[5864],{"type":398,"tag":497,"props":5865,"children":5866},{"emptyLinePlaceholder":390},[5867],{"type":404,"value":626},{"type":398,"tag":497,"props":5869,"children":5870},{"class":499,"line":753},[5871],{"type":398,"tag":497,"props":5872,"children":5873},{"style":708},[5874],{"type":404,"value":5875},"    // options\n",{"type":398,"tag":497,"props":5877,"children":5878},{"class":499,"line":784},[5879,5883,5887,5892,5896],{"type":398,"tag":497,"props":5880,"children":5881},{"style":596},[5882],{"type":404,"value":872},{"type":398,"tag":497,"props":5884,"children":5885},{"style":574},[5886],{"type":404,"value":877},{"type":398,"tag":497,"props":5888,"children":5889},{"style":552},[5890],{"type":404,"value":5891},"options",{"type":398,"tag":497,"props":5893,"children":5894},{"style":574},[5895],{"type":404,"value":932},{"type":398,"tag":497,"props":5897,"children":5898},{"style":516},[5899],{"type":404,"value":909},{"type":398,"tag":497,"props":5901,"children":5902},{"class":499,"line":793},[5903,5907,5911,5915,5919,5924,5928,5932,5936],{"type":398,"tag":497,"props":5904,"children":5905},{"style":676},[5906],{"type":404,"value":1048},{"type":398,"tag":497,"props":5908,"children":5909},{"style":516},[5910],{"type":404,"value":684},{"type":398,"tag":497,"props":5912,"children":5913},{"style":552},[5914],{"type":404,"value":5300},{"type":398,"tag":497,"props":5916,"children":5917},{"style":558},[5918],{"type":404,"value":561},{"type":398,"tag":497,"props":5920,"children":5921},{"style":558},[5922],{"type":404,"value":5923}," !!",{"type":398,"tag":497,"props":5925,"children":5926},{"style":552},[5927],{"type":404,"value":5891},{"type":398,"tag":497,"props":5929,"children":5930},{"style":516},[5931],{"type":404,"value":684},{"type":398,"tag":497,"props":5933,"children":5934},{"style":552},[5935],{"type":404,"value":5300},{"type":398,"tag":497,"props":5937,"children":5938},{"style":516},[5939],{"type":404,"value":589},{"type":398,"tag":497,"props":5941,"children":5942},{"class":499,"line":848},[5943,5947,5951,5955,5959,5963,5967,5971,5975],{"type":398,"tag":497,"props":5944,"children":5945},{"style":676},[5946],{"type":404,"value":1048},{"type":398,"tag":497,"props":5948,"children":5949},{"style":516},[5950],{"type":404,"value":684},{"type":398,"tag":497,"props":5952,"children":5953},{"style":552},[5954],{"type":404,"value":5118},{"type":398,"tag":497,"props":5956,"children":5957},{"style":558},[5958],{"type":404,"value":561},{"type":398,"tag":497,"props":5960,"children":5961},{"style":558},[5962],{"type":404,"value":5923},{"type":398,"tag":497,"props":5964,"children":5965},{"style":552},[5966],{"type":404,"value":5891},{"type":398,"tag":497,"props":5968,"children":5969},{"style":516},[5970],{"type":404,"value":684},{"type":398,"tag":497,"props":5972,"children":5973},{"style":552},[5974],{"type":404,"value":5118},{"type":398,"tag":497,"props":5976,"children":5977},{"style":516},[5978],{"type":404,"value":589},{"type":398,"tag":497,"props":5980,"children":5981},{"class":499,"line":857},[5982,5986,5990,5995,5999,6003,6007,6011,6015],{"type":398,"tag":497,"props":5983,"children":5984},{"style":676},[5985],{"type":404,"value":1048},{"type":398,"tag":497,"props":5987,"children":5988},{"style":516},[5989],{"type":404,"value":684},{"type":398,"tag":497,"props":5991,"children":5992},{"style":552},[5993],{"type":404,"value":5994},"lazy",{"type":398,"tag":497,"props":5996,"children":5997},{"style":558},[5998],{"type":404,"value":561},{"type":398,"tag":497,"props":6000,"children":6001},{"style":558},[6002],{"type":404,"value":5923},{"type":398,"tag":497,"props":6004,"children":6005},{"style":552},[6006],{"type":404,"value":5891},{"type":398,"tag":497,"props":6008,"children":6009},{"style":516},[6010],{"type":404,"value":684},{"type":398,"tag":497,"props":6012,"children":6013},{"style":552},[6014],{"type":404,"value":5994},{"type":398,"tag":497,"props":6016,"children":6017},{"style":516},[6018],{"type":404,"value":589},{"type":398,"tag":497,"props":6020,"children":6021},{"class":499,"line":866},[6022,6026,6030,6035,6039,6043,6047,6051,6055],{"type":398,"tag":497,"props":6023,"children":6024},{"style":676},[6025],{"type":404,"value":1048},{"type":398,"tag":497,"props":6027,"children":6028},{"style":516},[6029],{"type":404,"value":684},{"type":398,"tag":497,"props":6031,"children":6032},{"style":552},[6033],{"type":404,"value":6034},"sync",{"type":398,"tag":497,"props":6036,"children":6037},{"style":558},[6038],{"type":404,"value":561},{"type":398,"tag":497,"props":6040,"children":6041},{"style":558},[6042],{"type":404,"value":5923},{"type":398,"tag":497,"props":6044,"children":6045},{"style":552},[6046],{"type":404,"value":5891},{"type":398,"tag":497,"props":6048,"children":6049},{"style":516},[6050],{"type":404,"value":684},{"type":398,"tag":497,"props":6052,"children":6053},{"style":552},[6054],{"type":404,"value":6034},{"type":398,"tag":497,"props":6056,"children":6057},{"style":516},[6058],{"type":404,"value":589},{"type":398,"tag":497,"props":6060,"children":6061},{"class":499,"line":912},[6062,6066,6070,6075,6079,6083,6087,6091],{"type":398,"tag":497,"props":6063,"children":6064},{"style":676},[6065],{"type":404,"value":1048},{"type":398,"tag":497,"props":6067,"children":6068},{"style":516},[6069],{"type":404,"value":684},{"type":398,"tag":497,"props":6071,"children":6072},{"style":552},[6073],{"type":404,"value":6074},"before",{"type":398,"tag":497,"props":6076,"children":6077},{"style":558},[6078],{"type":404,"value":561},{"type":398,"tag":497,"props":6080,"children":6081},{"style":552},[6082],{"type":404,"value":5699},{"type":398,"tag":497,"props":6084,"children":6085},{"style":516},[6086],{"type":404,"value":684},{"type":398,"tag":497,"props":6088,"children":6089},{"style":552},[6090],{"type":404,"value":6074},{"type":398,"tag":497,"props":6092,"children":6093},{"style":516},[6094],{"type":404,"value":589},{"type":398,"tag":497,"props":6096,"children":6097},{"class":499,"line":939},[6098,6102,6106],{"type":398,"tag":497,"props":6099,"children":6100},{"style":516},[6101],{"type":404,"value":1082},{"type":398,"tag":497,"props":6103,"children":6104},{"style":596},[6105],{"type":404,"value":984},{"type":398,"tag":497,"props":6107,"children":6108},{"style":516},[6109],{"type":404,"value":545},{"type":398,"tag":497,"props":6111,"children":6112},{"class":499,"line":973},[6113,6117,6121,6125,6129,6133,6137,6141,6145,6149,6153,6157,6161,6165,6169,6173,6177,6181],{"type":398,"tag":497,"props":6114,"children":6115},{"style":676},[6116],{"type":404,"value":1048},{"type":398,"tag":497,"props":6118,"children":6119},{"style":516},[6120],{"type":404,"value":684},{"type":398,"tag":497,"props":6122,"children":6123},{"style":552},[6124],{"type":404,"value":5300},{"type":398,"tag":497,"props":6126,"children":6127},{"style":558},[6128],{"type":404,"value":561},{"type":398,"tag":497,"props":6130,"children":6131},{"style":676},[6132],{"type":404,"value":837},{"type":398,"tag":497,"props":6134,"children":6135},{"style":516},[6136],{"type":404,"value":684},{"type":398,"tag":497,"props":6138,"children":6139},{"style":552},[6140],{"type":404,"value":5118},{"type":398,"tag":497,"props":6142,"children":6143},{"style":558},[6144],{"type":404,"value":561},{"type":398,"tag":497,"props":6146,"children":6147},{"style":676},[6148],{"type":404,"value":837},{"type":398,"tag":497,"props":6150,"children":6151},{"style":516},[6152],{"type":404,"value":684},{"type":398,"tag":497,"props":6154,"children":6155},{"style":552},[6156],{"type":404,"value":5994},{"type":398,"tag":497,"props":6158,"children":6159},{"style":558},[6160],{"type":404,"value":561},{"type":398,"tag":497,"props":6162,"children":6163},{"style":676},[6164],{"type":404,"value":837},{"type":398,"tag":497,"props":6166,"children":6167},{"style":516},[6168],{"type":404,"value":684},{"type":398,"tag":497,"props":6170,"children":6171},{"style":552},[6172],{"type":404,"value":6034},{"type":398,"tag":497,"props":6174,"children":6175},{"style":558},[6176],{"type":404,"value":561},{"type":398,"tag":497,"props":6178,"children":6179},{"style":2594},[6180],{"type":404,"value":2597},{"type":398,"tag":497,"props":6182,"children":6183},{"style":516},[6184],{"type":404,"value":589},{"type":398,"tag":497,"props":6186,"children":6187},{"class":499,"line":991},[6188],{"type":398,"tag":497,"props":6189,"children":6190},{"style":516},[6191],{"type":404,"value":1132},{"type":398,"tag":497,"props":6193,"children":6194},{"class":499,"line":1033},[6195,6199,6203,6208,6212,6216],{"type":398,"tag":497,"props":6196,"children":6197},{"style":676},[6198],{"type":404,"value":679},{"type":398,"tag":497,"props":6200,"children":6201},{"style":516},[6202],{"type":404,"value":684},{"type":398,"tag":497,"props":6204,"children":6205},{"style":552},[6206],{"type":404,"value":6207},"cb",{"type":398,"tag":497,"props":6209,"children":6210},{"style":558},[6211],{"type":404,"value":561},{"type":398,"tag":497,"props":6213,"children":6214},{"style":552},[6215],{"type":404,"value":5690},{"type":398,"tag":497,"props":6217,"children":6218},{"style":516},[6219],{"type":404,"value":589},{"type":398,"tag":497,"props":6221,"children":6222},{"class":499,"line":1042},[6223,6227,6231,6235,6239,6244,6249,6253],{"type":398,"tag":497,"props":6224,"children":6225},{"style":676},[6226],{"type":404,"value":679},{"type":398,"tag":497,"props":6228,"children":6229},{"style":516},[6230],{"type":404,"value":684},{"type":398,"tag":497,"props":6232,"children":6233},{"style":552},[6234],{"type":404,"value":3985},{"type":398,"tag":497,"props":6236,"children":6237},{"style":558},[6238],{"type":404,"value":561},{"type":398,"tag":497,"props":6240,"children":6241},{"style":558},[6242],{"type":404,"value":6243}," ++",{"type":398,"tag":497,"props":6245,"children":6246},{"style":552},[6247],{"type":404,"value":6248},"uid",{"type":398,"tag":497,"props":6250,"children":6251},{"style":516},[6252],{"type":404,"value":1261},{"type":398,"tag":497,"props":6254,"children":6255},{"style":708},[6256],{"type":404,"value":6257}," // uid for batching\n",{"type":398,"tag":497,"props":6259,"children":6260},{"class":499,"line":1076},[6261,6265,6269,6274,6278,6282],{"type":398,"tag":497,"props":6262,"children":6263},{"style":676},[6264],{"type":404,"value":679},{"type":398,"tag":497,"props":6266,"children":6267},{"style":516},[6268],{"type":404,"value":684},{"type":398,"tag":497,"props":6270,"children":6271},{"style":552},[6272],{"type":404,"value":6273},"active",{"type":398,"tag":497,"props":6275,"children":6276},{"style":558},[6277],{"type":404,"value":561},{"type":398,"tag":497,"props":6279,"children":6280},{"style":2594},[6281],{"type":404,"value":2973},{"type":398,"tag":497,"props":6283,"children":6284},{"style":516},[6285],{"type":404,"value":589},{"type":398,"tag":497,"props":6287,"children":6288},{"class":499,"line":1093},[6289,6293,6297,6302,6306,6310,6314,6318,6322],{"type":398,"tag":497,"props":6290,"children":6291},{"style":676},[6292],{"type":404,"value":679},{"type":398,"tag":497,"props":6294,"children":6295},{"style":516},[6296],{"type":404,"value":684},{"type":398,"tag":497,"props":6298,"children":6299},{"style":552},[6300],{"type":404,"value":6301},"dirty",{"type":398,"tag":497,"props":6303,"children":6304},{"style":558},[6305],{"type":404,"value":561},{"type":398,"tag":497,"props":6307,"children":6308},{"style":676},[6309],{"type":404,"value":837},{"type":398,"tag":497,"props":6311,"children":6312},{"style":516},[6313],{"type":404,"value":684},{"type":398,"tag":497,"props":6315,"children":6316},{"style":552},[6317],{"type":404,"value":5994},{"type":398,"tag":497,"props":6319,"children":6320},{"style":516},[6321],{"type":404,"value":1261},{"type":398,"tag":497,"props":6323,"children":6324},{"style":708},[6325],{"type":404,"value":6326}," // for lazy watchers\n",{"type":398,"tag":497,"props":6328,"children":6329},{"class":499,"line":1126},[6330,6334,6338,6343,6347,6351],{"type":398,"tag":497,"props":6331,"children":6332},{"style":676},[6333],{"type":404,"value":679},{"type":398,"tag":497,"props":6335,"children":6336},{"style":516},[6337],{"type":404,"value":684},{"type":398,"tag":497,"props":6339,"children":6340},{"style":552},[6341],{"type":404,"value":6342},"deps",{"type":398,"tag":497,"props":6344,"children":6345},{"style":558},[6346],{"type":404,"value":561},{"type":398,"tag":497,"props":6348,"children":6349},{"style":574},[6350],{"type":404,"value":4027},{"type":398,"tag":497,"props":6352,"children":6353},{"style":516},[6354],{"type":404,"value":589},{"type":398,"tag":497,"props":6356,"children":6357},{"class":499,"line":1135},[6358,6362,6366,6371,6375,6379],{"type":398,"tag":497,"props":6359,"children":6360},{"style":676},[6361],{"type":404,"value":679},{"type":398,"tag":497,"props":6363,"children":6364},{"style":516},[6365],{"type":404,"value":684},{"type":398,"tag":497,"props":6367,"children":6368},{"style":552},[6369],{"type":404,"value":6370},"newDeps",{"type":398,"tag":497,"props":6372,"children":6373},{"style":558},[6374],{"type":404,"value":561},{"type":398,"tag":497,"props":6376,"children":6377},{"style":574},[6378],{"type":404,"value":4027},{"type":398,"tag":497,"props":6380,"children":6381},{"style":516},[6382],{"type":404,"value":589},{"type":398,"tag":497,"props":6384,"children":6385},{"class":499,"line":1144},[6386,6390,6394,6399,6403,6407,6412,6416],{"type":398,"tag":497,"props":6387,"children":6388},{"style":676},[6389],{"type":404,"value":679},{"type":398,"tag":497,"props":6391,"children":6392},{"style":516},[6393],{"type":404,"value":684},{"type":398,"tag":497,"props":6395,"children":6396},{"style":552},[6397],{"type":404,"value":6398},"depIds",{"type":398,"tag":497,"props":6400,"children":6401},{"style":558},[6402],{"type":404,"value":561},{"type":398,"tag":497,"props":6404,"children":6405},{"style":558},[6406],{"type":404,"value":566},{"type":398,"tag":497,"props":6408,"children":6409},{"style":510},[6410],{"type":404,"value":6411}," Set",{"type":398,"tag":497,"props":6413,"children":6414},{"style":574},[6415],{"type":404,"value":746},{"type":398,"tag":497,"props":6417,"children":6418},{"style":516},[6419],{"type":404,"value":589},{"type":398,"tag":497,"props":6421,"children":6422},{"class":499,"line":1152},[6423,6427,6431,6436,6440,6444,6448,6452],{"type":398,"tag":497,"props":6424,"children":6425},{"style":676},[6426],{"type":404,"value":679},{"type":398,"tag":497,"props":6428,"children":6429},{"style":516},[6430],{"type":404,"value":684},{"type":398,"tag":497,"props":6432,"children":6433},{"style":552},[6434],{"type":404,"value":6435},"newDepIds",{"type":398,"tag":497,"props":6437,"children":6438},{"style":558},[6439],{"type":404,"value":561},{"type":398,"tag":497,"props":6441,"children":6442},{"style":558},[6443],{"type":404,"value":566},{"type":398,"tag":497,"props":6445,"children":6446},{"style":510},[6447],{"type":404,"value":6411},{"type":398,"tag":497,"props":6449,"children":6450},{"style":574},[6451],{"type":404,"value":746},{"type":398,"tag":497,"props":6453,"children":6454},{"style":516},[6455],{"type":404,"value":589},{"type":398,"tag":497,"props":6457,"children":6458},{"class":499,"line":1179},[6459],{"type":398,"tag":497,"props":6460,"children":6461},{"emptyLinePlaceholder":390},[6462],{"type":404,"value":626},{"type":398,"tag":497,"props":6464,"children":6465},{"class":499,"line":1228},[6466],{"type":398,"tag":497,"props":6467,"children":6468},{"style":708},[6469],{"type":404,"value":6470},"    /* expOrFn 可以是函数或形如 'data.a.b.c' 的字符串\n",{"type":398,"tag":497,"props":6472,"children":6473},{"class":499,"line":1307},[6474],{"type":398,"tag":497,"props":6475,"children":6476},{"style":708},[6477],{"type":404,"value":6478},"     * 若是字符串，对应的 getter 即读取 data.a.b.c 的值\n",{"type":398,"tag":497,"props":6480,"children":6481},{"class":499,"line":1351},[6482],{"type":398,"tag":497,"props":6483,"children":6484},{"style":708},[6485],{"type":404,"value":6486},"     */\n",{"type":398,"tag":497,"props":6488,"children":6489},{"class":499,"line":1359},[6490,6494,6498,6502],{"type":398,"tag":497,"props":6491,"children":6492},{"style":676},[6493],{"type":404,"value":679},{"type":398,"tag":497,"props":6495,"children":6496},{"style":516},[6497],{"type":404,"value":684},{"type":398,"tag":497,"props":6499,"children":6500},{"style":552},[6501],{"type":404,"value":5184},{"type":398,"tag":497,"props":6503,"children":6504},{"style":558},[6505],{"type":404,"value":6506}," =\n",{"type":398,"tag":497,"props":6508,"children":6509},{"class":499,"line":1367},[6510,6515,6519,6523,6527,6531,6535,6539,6543,6547,6551,6555,6559,6564,6569,6573,6578],{"type":398,"tag":497,"props":6511,"children":6512},{"style":552},[6513],{"type":404,"value":6514},"      process",{"type":398,"tag":497,"props":6516,"children":6517},{"style":516},[6518],{"type":404,"value":684},{"type":398,"tag":497,"props":6520,"children":6521},{"style":552},[6522],{"type":404,"value":3555},{"type":398,"tag":497,"props":6524,"children":6525},{"style":516},[6526],{"type":404,"value":684},{"type":398,"tag":497,"props":6528,"children":6529},{"style":1188},[6530],{"type":404,"value":3564},{"type":398,"tag":497,"props":6532,"children":6533},{"style":558},[6534],{"type":404,"value":3470},{"type":398,"tag":497,"props":6536,"children":6537},{"style":814},[6538],{"type":404,"value":817},{"type":398,"tag":497,"props":6540,"children":6541},{"style":820},[6542],{"type":404,"value":3577},{"type":398,"tag":497,"props":6544,"children":6545},{"style":814},[6546],{"type":404,"value":828},{"type":398,"tag":497,"props":6548,"children":6549},{"style":558},[6550],{"type":404,"value":3051},{"type":398,"tag":497,"props":6552,"children":6553},{"style":552},[6554],{"type":404,"value":5681},{"type":398,"tag":497,"props":6556,"children":6557},{"style":516},[6558],{"type":404,"value":684},{"type":398,"tag":497,"props":6560,"children":6561},{"style":510},[6562],{"type":404,"value":6563},"toString",{"type":398,"tag":497,"props":6565,"children":6566},{"style":574},[6567],{"type":404,"value":6568},"() ",{"type":398,"tag":497,"props":6570,"children":6571},{"style":558},[6572],{"type":404,"value":2968},{"type":398,"tag":497,"props":6574,"children":6575},{"style":814},[6576],{"type":404,"value":6577}," \"\"",{"type":398,"tag":497,"props":6579,"children":6580},{"style":516},[6581],{"type":404,"value":589},{"type":398,"tag":497,"props":6583,"children":6584},{"class":499,"line":1375},[6585],{"type":398,"tag":497,"props":6586,"children":6587},{"style":708},[6588],{"type":404,"value":6589},"    // parse expression for getter\n",{"type":398,"tag":497,"props":6591,"children":6592},{"class":499,"line":1401},[6593,6597,6601,6606,6610,6614,6618,6622,6626,6630],{"type":398,"tag":497,"props":6594,"children":6595},{"style":596},[6596],{"type":404,"value":872},{"type":398,"tag":497,"props":6598,"children":6599},{"style":574},[6600],{"type":404,"value":877},{"type":398,"tag":497,"props":6602,"children":6603},{"style":558},[6604],{"type":404,"value":6605},"typeof",{"type":398,"tag":497,"props":6607,"children":6608},{"style":552},[6609],{"type":404,"value":5681},{"type":398,"tag":497,"props":6611,"children":6612},{"style":558},[6613],{"type":404,"value":2591},{"type":398,"tag":497,"props":6615,"children":6616},{"style":814},[6617],{"type":404,"value":817},{"type":398,"tag":497,"props":6619,"children":6620},{"style":820},[6621],{"type":404,"value":507},{"type":398,"tag":497,"props":6623,"children":6624},{"style":814},[6625],{"type":404,"value":828},{"type":398,"tag":497,"props":6627,"children":6628},{"style":574},[6629],{"type":404,"value":932},{"type":398,"tag":497,"props":6631,"children":6632},{"style":516},[6633],{"type":404,"value":909},{"type":398,"tag":497,"props":6635,"children":6636},{"class":499,"line":1491},[6637,6641,6645,6649,6653,6657],{"type":398,"tag":497,"props":6638,"children":6639},{"style":676},[6640],{"type":404,"value":1048},{"type":398,"tag":497,"props":6642,"children":6643},{"style":516},[6644],{"type":404,"value":684},{"type":398,"tag":497,"props":6646,"children":6647},{"style":552},[6648],{"type":404,"value":2750},{"type":398,"tag":497,"props":6650,"children":6651},{"style":558},[6652],{"type":404,"value":561},{"type":398,"tag":497,"props":6654,"children":6655},{"style":552},[6656],{"type":404,"value":5681},{"type":398,"tag":497,"props":6658,"children":6659},{"style":516},[6660],{"type":404,"value":589},{"type":398,"tag":497,"props":6662,"children":6663},{"class":499,"line":1524},[6664,6668,6672],{"type":398,"tag":497,"props":6665,"children":6666},{"style":516},[6667],{"type":404,"value":1082},{"type":398,"tag":497,"props":6669,"children":6670},{"style":596},[6671],{"type":404,"value":984},{"type":398,"tag":497,"props":6673,"children":6674},{"style":516},[6675],{"type":404,"value":545},{"type":398,"tag":497,"props":6677,"children":6678},{"class":499,"line":1532},[6679],{"type":398,"tag":497,"props":6680,"children":6681},{"style":708},[6682],{"type":404,"value":6683},"      // parsePath 即将 'data.a.b.c' 按照 '.' 拆分并依次读值\n",{"type":398,"tag":497,"props":6685,"children":6686},{"class":499,"line":1540},[6687,6691,6695,6699,6703,6708,6712,6717,6721],{"type":398,"tag":497,"props":6688,"children":6689},{"style":676},[6690],{"type":404,"value":1048},{"type":398,"tag":497,"props":6692,"children":6693},{"style":516},[6694],{"type":404,"value":684},{"type":398,"tag":497,"props":6696,"children":6697},{"style":552},[6698],{"type":404,"value":2750},{"type":398,"tag":497,"props":6700,"children":6701},{"style":558},[6702],{"type":404,"value":561},{"type":398,"tag":497,"props":6704,"children":6705},{"style":510},[6706],{"type":404,"value":6707}," parsePath",{"type":398,"tag":497,"props":6709,"children":6710},{"style":574},[6711],{"type":404,"value":519},{"type":398,"tag":497,"props":6713,"children":6714},{"style":552},[6715],{"type":404,"value":6716},"expOrFn",{"type":398,"tag":497,"props":6718,"children":6719},{"style":574},[6720],{"type":404,"value":540},{"type":398,"tag":497,"props":6722,"children":6723},{"style":516},[6724],{"type":404,"value":589},{"type":398,"tag":497,"props":6726,"children":6727},{"class":499,"line":3363},[6728],{"type":398,"tag":497,"props":6729,"children":6730},{"style":516},[6731],{"type":404,"value":1132},{"type":398,"tag":497,"props":6733,"children":6734},{"class":499,"line":3423},[6735],{"type":398,"tag":497,"props":6736,"children":6737},{"emptyLinePlaceholder":390},[6738],{"type":404,"value":626},{"type":398,"tag":497,"props":6740,"children":6741},{"class":499,"line":3432},[6742,6746,6750,6754,6758,6762,6766,6770,6774,6779,6784,6788,6792,6796,6800],{"type":398,"tag":497,"props":6743,"children":6744},{"style":676},[6745],{"type":404,"value":679},{"type":398,"tag":497,"props":6747,"children":6748},{"style":516},[6749],{"type":404,"value":684},{"type":398,"tag":497,"props":6751,"children":6752},{"style":552},[6753],{"type":404,"value":525},{"type":398,"tag":497,"props":6755,"children":6756},{"style":558},[6757],{"type":404,"value":561},{"type":398,"tag":497,"props":6759,"children":6760},{"style":676},[6761],{"type":404,"value":837},{"type":398,"tag":497,"props":6763,"children":6764},{"style":516},[6765],{"type":404,"value":684},{"type":398,"tag":497,"props":6767,"children":6768},{"style":552},[6769],{"type":404,"value":5994},{"type":398,"tag":497,"props":6771,"children":6772},{"style":558},[6773],{"type":404,"value":3051},{"type":398,"tag":497,"props":6775,"children":6776},{"style":4601},[6777],{"type":404,"value":6778}," undefined",{"type":398,"tag":497,"props":6780,"children":6781},{"style":558},[6782],{"type":404,"value":6783}," :",{"type":398,"tag":497,"props":6785,"children":6786},{"style":676},[6787],{"type":404,"value":837},{"type":398,"tag":497,"props":6789,"children":6790},{"style":516},[6791],{"type":404,"value":684},{"type":398,"tag":497,"props":6793,"children":6794},{"style":510},[6795],{"type":404,"value":2683},{"type":398,"tag":497,"props":6797,"children":6798},{"style":574},[6799],{"type":404,"value":746},{"type":398,"tag":497,"props":6801,"children":6802},{"style":516},[6803],{"type":404,"value":589},{"type":398,"tag":497,"props":6805,"children":6806},{"class":499,"line":3502},[6807],{"type":398,"tag":497,"props":6808,"children":6809},{"style":516},[6810],{"type":404,"value":1141},{"type":398,"tag":497,"props":6812,"children":6813},{"class":499,"line":3515},[6814],{"type":398,"tag":497,"props":6815,"children":6816},{"style":516},[6817],{"type":404,"value":617},{"type":398,"tag":431,"props":6819,"children":6820},{},[6821],{"type":404,"value":6822},"Watcher 是组件级别的，如果状态发生了变化，只能通知到组件。再由组件对比内部的虚拟节点的变化。换句话说，Vue 对响应式状态变化侦测只通知到组件，这意味着只要某个属性变化了，相应的组件都会重渲染。",{"type":398,"tag":6824,"props":6825,"children":6826},"hr",{},[],{"type":398,"tag":399,"props":6828,"children":6830},{"id":6829},"阅读更多",[6831],{"type":404,"value":6829},{"type":398,"tag":406,"props":6833,"children":6834},{},[6835,6845],{"type":398,"tag":410,"props":6836,"children":6837},{},[6838],{"type":398,"tag":461,"props":6839,"children":6842},{"href":6840,"rel":6841},"https://book.douban.com/subject/32581281/",[465],[6843],{"type":404,"value":6844},"《深入浅出 VueJS》",{"type":398,"tag":410,"props":6846,"children":6847},{},[6848],{"type":398,"tag":461,"props":6849,"children":6852},{"href":6850,"rel":6851},"http://hcysun.me/vue-design/zh/",[465],[6853],{"type":404,"value":6854},"江山父老能容我 不使人间造孽钱",{"type":398,"tag":6856,"props":6857,"children":6858},"style",{},[6859],{"type":404,"value":6860},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":391,"searchDepth":548,"depth":548,"links":6862},[6863,6864,6865,6871],{"id":401,"depth":548,"text":401},{"id":427,"depth":548,"text":427},{"id":448,"depth":548,"text":448,"children":6866},[6867,6868,6869,6870],{"id":474,"depth":592,"text":474},{"id":1548,"depth":592,"text":1548},{"id":2357,"depth":592,"text":2357},{"id":3915,"depth":592,"text":3915},{"id":6829,"depth":548,"text":6829},"markdown","content:8.source-code:_js:vue2-source:1.observer.md","content","8.source-code/_js/vue2-source/1.observer.md","md",[6878,6881],{"_path":6879,"title":6880,"description":393},"/source-code/_js/vue2-source","Vue2 Source",{"_path":6882,"title":6883,"description":393},"/source-code/_js/vue2-source/parser","Vue2 Parser",1710257734463]