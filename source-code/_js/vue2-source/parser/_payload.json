[{"data":1,"prerenderedAt":3724},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/parser":410,"/source-code/_js/vue2-source/parser-surround":3717},[4,32,83,102,129,135,141,147,393,399,405],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96,99],{"title":88,"_path":89},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":91,"_path":92},"🌐 AnySort","/tools/anysort",{"title":94,"_path":95},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":97,"_path":98},"👓 Crapto","/tools/crypto-inline",{"title":100,"_path":101},"🖨️ any-to-base64","/tools/any-to-base64",{"title":103,"_path":104,"children":105},"吉他剧场 / Music","/music",[106,108,111,114,117,120,123,126],{"title":107,"_path":104},"🎸 FingerStyle！",{"title":109,"_path":110},"🌬️ 等待的风","/music/wind",{"title":112,"_path":113},"💕 约定的海洋","/music/ocean",{"title":115,"_path":116},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":118,"_path":119},"🌏 残酷天使的行动纲领","/music/eva",{"title":121,"_path":122},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":124,"_path":125},"🍷 Wu Wei","/music/wu-wei",{"title":127,"_path":128},"🌅 无题","/music/untitled",{"title":130,"_path":131,"children":132},"画点什么 / Paint","/paint",[133],{"title":134,"_path":131},"🚧 正在施工",{"title":136,"_path":137,"children":138},"读书笔记 / Notes","/books",[139],{"title":140,"_path":137},"📕 读书笔记",{"title":142,"_path":143,"children":144},"知识地图 / Maps","/maps",[145],{"title":146,"_path":143},"🏁 知识地图",{"title":148,"_path":149,"children":150},"零散的笔记 / Gists","/gists",[151,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390],{"title":152,"_path":149},"🧊 Gists",{"title":154,"_path":155},"网站的可访问性","/gists/accessibility",{"title":157,"_path":158},"Bit","/gists/bit",{"title":160,"_path":161},"图片模糊","/gists/blur",{"title":163,"_path":164},"渲染相关笔记","/gists/c4d",{"title":166,"_path":167},"CDN 问题记录","/gists/cdn",{"title":169,"_path":170},"消毒剂","/gists/cleaner",{"title":172,"_path":173},"Windows Command","/gists/cmd",{"title":175,"_path":176},"Command","/gists/command",{"title":178,"_path":179},"复杂科学","/gists/complexity-science",{"title":181,"_path":182},"GitHub Copilot","/gists/copilot",{"title":184,"_path":185},"宇宙","/gists/cosmos",{"title":187,"_path":188},"C++","/gists/cpp",{"title":190,"_path":191},"Data Structure","/gists/data-structure",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"设计模式","/gists/design-patterns",{"title":199,"_path":200},"Developer Experience","/gists/developer-experience",{"title":202,"_path":203},"Device Metrics","/gists/device-metrix",{"title":205,"_path":206},"数字化转型","/gists/digital-transformation",{"title":208,"_path":209},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":211,"_path":212},"正则表达式","/gists/eegex",{"title":214,"_path":215},"Emoji","/gists/emoji",{"title":217,"_path":218},"工程","/gists/engineering",{"title":220,"_path":221},"熵","/gists/entropy",{"title":223,"_path":224},"Environment","/gists/environment",{"title":226,"_path":227},"Erlang","/gists/erlang",{"title":229,"_path":230},"逃离塔克夫","/gists/escape-from-tarkov",{"title":232,"_path":233},"ESNext (ES6-ES11)","/gists/esnext",{"title":235,"_path":236},"Eval！","/gists/eval",{"title":238,"_path":239},"Flutter","/gists/flutter",{"title":241,"_path":242},"字体","/gists/font",{"title":244,"_path":245},"JS 函数式编程","/gists/functional",{"title":247,"_path":248},"游戏化","/gists/gamification",{"title":250,"_path":251},"Google C++ Standard","/gists/google-cpp-standard",{"title":253,"_path":254},"双向链接完全体","/gists/graph",{"title":256,"_path":257},"Hardwares","/gists/hardwares",{"title":259,"_path":260},"哈希冲突","/gists/hash-collision",{"title":262,"_path":263},"信息设计","/gists/information-design",{"title":265,"_path":266},"InstantPage","/gists/instant.page",{"title":268,"_path":269},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":271,"_path":272},"KVStore","/gists/key-value-db",{"title":274,"_path":275},"Kubernetes","/gists/kubernetes",{"title":277,"_path":278},"Makefile","/gists/makefile",{"title":280,"_path":281},"Markdown Inline Style","/gists/markdown-nice",{"title":283,"_path":284},"小程序","/gists/miniapp",{"title":286,"_path":287},"减小页面快照体积","/gists/minify-html",{"title":289,"_path":290},"mklink","/gists/mklink",{"title":292,"_path":293},"Mock","/gists/mock",{"title":295,"_path":296},"多人协作系统","/gists/multiplayer",{"title":298,"_path":299},"多端应用","/gists/multy-end-app",{"title":301,"_path":302},"神经科学","/gists/neuroscience",{"title":304,"_path":305},"OO","/gists/oo",{"title":307,"_path":308},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":310,"_path":311},"PInvoke","/gists/pinvoke",{"title":313,"_path":314},"像素","/gists/pixel",{"title":316,"_path":317},"PowerShell","/gists/powershell",{"title":319,"_path":320},"量子","/gists/quantum",{"title":322,"_path":323},"保持好奇心","/gists/questions",{"title":325,"_path":326},"React Native","/gists/react-native",{"title":328,"_path":329},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":331,"_path":332},"SEO","/gists/seo",{"title":334,"_path":335},"Shader","/gists/shader",{"title":337,"_path":338},"Shape Up","/gists/shape-up",{"title":340,"_path":341},"睡觉","/gists/sleep",{"title":343,"_path":344},"记录奇怪的问题","/gists/solved",{"title":346,"_path":347},"States","/gists/states",{"title":349,"_path":350},"Storage","/gists/storage",{"title":352,"_path":353},"音视频流处理","/gists/stream-cli",{"title":355,"_path":356},"Symbol","/gists/symbol",{"title":358,"_path":359},"系统论","/gists/systems-theory",{"title":361,"_path":362},"Taro","/gists/taro",{"title":364,"_path":365},"任务切片","/gists/task-slice",{"title":367,"_path":368},"技术偏好","/gists/tech-dudge",{"title":370,"_path":371},"Untitled","/gists/untitled",{"title":373,"_path":374},"可变字体","/gists/variable-font",{"title":376,"_path":377},"视觉错觉","/gists/visual-illusion",{"title":379,"_path":380},"SS(SSR)","/gists/vpn",{"title":382,"_path":383},"VS Code 插件开发","/gists/vscode-plugin",{"title":385,"_path":386},"Web Components","/gists/web-components",{"title":388,"_path":389},"Windows","/gists/windows",{"title":391,"_path":392},"查缺补漏","/gists/wrong",{"title":394,"_path":395,"children":396},"代码笔记 / Gists","/source-code",[397],{"title":398,"_path":395},"🚄 代码笔记",{"title":400,"_path":401,"children":402},"我 / Abount","/hire",[403],{"title":404,"_path":401},"📬 技术简历",{"title":406,"_path":407,"children":408},"todo","/todo",[409],{"title":406,"_path":407},{"_path":411,"_dir":412,"_draft":413,"_partial":414,"_locale":415,"title":416,"description":417,"body":418,"_type":1697,"_id":3712,"_source":3713,"_file":3714,"_stem":3715,"_extension":3716},"/source-code/_js/vue2-source/parser","vue2-source",false,true,"","Vue2 Parser","deprecated warning",{"type":419,"children":420,"toc":3696},"root",[421,430,506,511,517,522,527,534,559,564,569,575,580,585,591,596,601,629,634,1183,1195,1200,1207,1212,1601,1607,1612,1650,1655,1660,1665,1683,1688,1693,1815,1820,1882,1887,2289,2294,2299,3690],{"type":422,"tag":423,"props":424,"children":426},"element","h2",{"id":425},"data-flow",[427],{"type":428,"value":429},"text","Data Flow",{"type":422,"tag":431,"props":432,"children":433},"ul",{},[434,446,456,466,476,486,496],{"type":422,"tag":435,"props":436,"children":437},"li",{},[438,444],{"type":422,"tag":439,"props":440,"children":441},"strong",{},[442],{"type":428,"value":443},"HTML Template",{"type":428,"value":445},"：html string",{"type":422,"tag":435,"props":447,"children":448},{},[449,454],{"type":422,"tag":439,"props":450,"children":451},{},[452],{"type":428,"value":453},"Parser",{"type":428,"value":455},"：ast nodes & expressions",{"type":422,"tag":435,"props":457,"children":458},{},[459,464],{"type":422,"tag":439,"props":460,"children":461},{},[462],{"type":428,"value":463},"Optimizer",{"type":428,"value":465},"：markStatic",{"type":422,"tag":435,"props":467,"children":468},{},[469,474],{"type":422,"tag":439,"props":470,"children":471},{},[472],{"type":428,"value":473},"Code Generator",{"type":428,"value":475},"：with(this) { createElement(...) }",{"type":422,"tag":435,"props":477,"children":478},{},[479,484],{"type":422,"tag":439,"props":480,"children":481},{},[482],{"type":428,"value":483},"Render",{"type":428,"value":485},"：VNodes",{"type":422,"tag":435,"props":487,"children":488},{},[489,494],{"type":422,"tag":439,"props":490,"children":491},{},[492],{"type":428,"value":493},"Node Patching",{"type":428,"value":495},"：VNode Diff",{"type":422,"tag":435,"props":497,"children":498},{},[499,504],{"type":422,"tag":439,"props":500,"children":501},{},[502],{"type":428,"value":503},"DOM",{"type":428,"value":505},"：finnaly...",{"type":422,"tag":423,"props":507,"children":509},{"id":508},"parser",[510],{"type":428,"value":453},{"type":422,"tag":512,"props":513,"children":514},"p",{},[515],{"type":428,"value":516},"Paser 分为三类，HTML Parser、文本解析器（Text Parser）、过滤器解析器（Filter Parser）。",{"type":422,"tag":512,"props":518,"children":519},{},[520],{"type":428,"value":521},"Vue 中的 HTML Parser 是在某个已有的 Parser 基础上改造而成的。原有 Parser 是一个不断解析传入 HTML 的有限状态机，不停地对标签开头、属性、标签结尾及文本等类型进行正则匹配，并处理匹配得到的内容。其内部维护了一个堆栈，可以很好地处理节点间的层级关系。",{"type":422,"tag":512,"props":523,"children":524},{},[525],{"type":428,"value":526},"Vue 通过原 HTML Parser 提供的接口，传入钩子函数，分别对标签、文本等做额外处理。比如说，HTML 中的文本要按照文本解析器，将模板的插值和纯文本解析出来，这样才可以将变量动态代入，生成字符串。最终，HTML 通过 Parser 解析，得到了 AST。",{"type":422,"tag":528,"props":529,"children":531},"h3",{"id":530},"code-example",[532],{"type":428,"value":533},"Code Example",{"type":422,"tag":431,"props":535,"children":536},{},[537,549],{"type":422,"tag":435,"props":538,"children":539},{},[540],{"type":422,"tag":541,"props":542,"children":546},"a",{"href":543,"rel":544},"https://github.com/Lionad-Morotar/read-source-code/tree/master/module/html-parser",[545],"nofollow",[547],{"type":428,"value":548},"HTML Parser",{"type":422,"tag":435,"props":550,"children":551},{},[552],{"type":422,"tag":541,"props":553,"children":556},{"href":554,"rel":555},"https://github.com/Lionad-Morotar/read-source-code/tree/master/module/template-parser",[545],[557],{"type":428,"value":558},"Template Parser",{"type":422,"tag":423,"props":560,"children":562},{"id":561},"optimizer",[563],{"type":428,"value":463},{"type":422,"tag":512,"props":565,"children":566},{},[567],{"type":428,"value":568},"优化器（Optimizer）在 HTML Parser 生成的 AST 的基础上，对静态节点进行标记，以提高重渲染以及 node patching 时的性能：node patching 时静态节点完全不变，所以可以跳过比较；重渲染时意味着可以在新的渲染过程中服用第一次渲染时生成好的 DOM Node。",{"type":422,"tag":423,"props":570,"children":572},{"id":571},"generator",[573],{"type":428,"value":574},"Generator",{"type":422,"tag":512,"props":576,"children":577},{},[578],{"type":428,"value":579},"Generator 在这里指代码生成器。Generator 从 AST 节点的根开始遍历，把所以节点转化为类似 _c(tag,data,children) 的字符串。这些字符串最后经过运行，也就得到了货真价实的 VNodes。也就是说，_c 和实例的 _h 函数是一样的。它在 Vue 实例，也就是组件，的初始化时就被诸如。除了 _c，Generator 中还添加了许多类似的函数，用于创建 VNode，比如 _s，对应 createTextNode。这些函数在 Vue 实例的 renderMixin 时，被挂载到实例原型上。",{"type":422,"tag":423,"props":581,"children":583},{"id":582},"node-patching",[584],{"type":428,"value":493},{"type":422,"tag":528,"props":586,"children":588},{"id":587},"vnode",[589],{"type":428,"value":590},"VNode",{"type":422,"tag":512,"props":592,"children":593},{},[594],{"type":428,"value":595},"虚拟节点通过一些特定的选项来表示真实的 DOM 结构。由于只涉及 JS 计算，所以在需要批量操作的情况下，操作虚拟节点要比操作 DOM 开销要小。",{"type":422,"tag":512,"props":597,"children":598},{},[599],{"type":428,"value":600},"主要有以下几类：",{"type":422,"tag":431,"props":602,"children":603},{},[604,609,614,619,624],{"type":422,"tag":435,"props":605,"children":606},{},[607],{"type":428,"value":608},"EmptyVNode：空节点",{"type":422,"tag":435,"props":610,"children":611},{},[612],{"type":428,"value":613},"TextVNode：文本节点",{"type":422,"tag":435,"props":615,"children":616},{},[617],{"type":428,"value":618},"ElementVNode：元素节点",{"type":422,"tag":435,"props":620,"children":621},{},[622],{"type":428,"value":623},"ComponentVNode：组件节点",{"type":422,"tag":435,"props":625,"children":626},{},[627],{"type":428,"value":628},"CloneVNode：克隆节点",{"type":422,"tag":512,"props":630,"children":631},{},[632],{"type":428,"value":633},"渲染函数通过 AST Node 生成了 VNode，这些 VNode 可能被复用，此时会拷贝出一个新节点用来渲染，这个节点就是克隆节点。",{"type":422,"tag":635,"props":636,"children":640},"pre",{"className":637,"code":638,"language":639,"meta":415,"style":415},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","function cloneVNode(vnode) {\n  const clonedChild = (vnode.children || []).map((vnode) => cloneVNode(vnode));\n  const cloned = createElement(vnode.tag, vnode.data, clonedChild);\n  const copyProps = [\n    \"text\",\n    \"isComment\",\n    \"isStatic\",\n    \"key\",\n    \"elm\",\n    \"context\",\n    \"ns\",\n    \"componentOptions\",\n  ];\n  copyProps.map((prop) => (cloned[prop] = vnode[prop]));\n  return cloned;\n}\n","js",[641],{"type":422,"tag":642,"props":643,"children":644},"code",{"__ignoreMap":415},[645,684,788,862,884,909,930,951,972,993,1014,1035,1056,1069,1156,1174],{"type":422,"tag":646,"props":647,"children":650},"span",{"class":648,"line":649},"line",1,[651,657,663,669,674,679],{"type":422,"tag":646,"props":652,"children":654},{"style":653},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[655],{"type":428,"value":656},"function",{"type":422,"tag":646,"props":658,"children":660},{"style":659},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[661],{"type":428,"value":662}," cloneVNode",{"type":422,"tag":646,"props":664,"children":666},{"style":665},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[667],{"type":428,"value":668},"(",{"type":422,"tag":646,"props":670,"children":672},{"style":671},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[673],{"type":428,"value":587},{"type":422,"tag":646,"props":675,"children":676},{"style":665},[677],{"type":428,"value":678},")",{"type":422,"tag":646,"props":680,"children":681},{"style":665},[682],{"type":428,"value":683}," {\n",{"type":422,"tag":646,"props":685,"children":687},{"class":648,"line":686},2,[688,693,699,705,711,716,721,726,731,736,740,745,749,753,757,761,766,770,774,778,783],{"type":422,"tag":646,"props":689,"children":690},{"style":653},[691],{"type":428,"value":692},"  const",{"type":422,"tag":646,"props":694,"children":696},{"style":695},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[697],{"type":428,"value":698}," clonedChild",{"type":422,"tag":646,"props":700,"children":702},{"style":701},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[703],{"type":428,"value":704}," =",{"type":422,"tag":646,"props":706,"children":708},{"style":707},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[709],{"type":428,"value":710}," (",{"type":422,"tag":646,"props":712,"children":714},{"style":713},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[715],{"type":428,"value":587},{"type":422,"tag":646,"props":717,"children":718},{"style":665},[719],{"type":428,"value":720},".",{"type":422,"tag":646,"props":722,"children":723},{"style":713},[724],{"type":428,"value":725},"children",{"type":422,"tag":646,"props":727,"children":728},{"style":701},[729],{"type":428,"value":730}," ||",{"type":422,"tag":646,"props":732,"children":733},{"style":707},[734],{"type":428,"value":735}," [])",{"type":422,"tag":646,"props":737,"children":738},{"style":665},[739],{"type":428,"value":720},{"type":422,"tag":646,"props":741,"children":742},{"style":659},[743],{"type":428,"value":744},"map",{"type":422,"tag":646,"props":746,"children":747},{"style":707},[748],{"type":428,"value":668},{"type":422,"tag":646,"props":750,"children":751},{"style":665},[752],{"type":428,"value":668},{"type":422,"tag":646,"props":754,"children":755},{"style":671},[756],{"type":428,"value":587},{"type":422,"tag":646,"props":758,"children":759},{"style":665},[760],{"type":428,"value":678},{"type":422,"tag":646,"props":762,"children":763},{"style":653},[764],{"type":428,"value":765}," =>",{"type":422,"tag":646,"props":767,"children":768},{"style":659},[769],{"type":428,"value":662},{"type":422,"tag":646,"props":771,"children":772},{"style":707},[773],{"type":428,"value":668},{"type":422,"tag":646,"props":775,"children":776},{"style":713},[777],{"type":428,"value":587},{"type":422,"tag":646,"props":779,"children":780},{"style":707},[781],{"type":428,"value":782},"))",{"type":422,"tag":646,"props":784,"children":785},{"style":665},[786],{"type":428,"value":787},";\n",{"type":422,"tag":646,"props":789,"children":791},{"class":648,"line":790},3,[792,796,801,805,810,814,818,822,827,832,837,841,846,850,854,858],{"type":422,"tag":646,"props":793,"children":794},{"style":653},[795],{"type":428,"value":692},{"type":422,"tag":646,"props":797,"children":798},{"style":695},[799],{"type":428,"value":800}," cloned",{"type":422,"tag":646,"props":802,"children":803},{"style":701},[804],{"type":428,"value":704},{"type":422,"tag":646,"props":806,"children":807},{"style":659},[808],{"type":428,"value":809}," createElement",{"type":422,"tag":646,"props":811,"children":812},{"style":707},[813],{"type":428,"value":668},{"type":422,"tag":646,"props":815,"children":816},{"style":713},[817],{"type":428,"value":587},{"type":422,"tag":646,"props":819,"children":820},{"style":665},[821],{"type":428,"value":720},{"type":422,"tag":646,"props":823,"children":824},{"style":713},[825],{"type":428,"value":826},"tag",{"type":422,"tag":646,"props":828,"children":829},{"style":665},[830],{"type":428,"value":831},",",{"type":422,"tag":646,"props":833,"children":834},{"style":713},[835],{"type":428,"value":836}," vnode",{"type":422,"tag":646,"props":838,"children":839},{"style":665},[840],{"type":428,"value":720},{"type":422,"tag":646,"props":842,"children":843},{"style":713},[844],{"type":428,"value":845},"data",{"type":422,"tag":646,"props":847,"children":848},{"style":665},[849],{"type":428,"value":831},{"type":422,"tag":646,"props":851,"children":852},{"style":713},[853],{"type":428,"value":698},{"type":422,"tag":646,"props":855,"children":856},{"style":707},[857],{"type":428,"value":678},{"type":422,"tag":646,"props":859,"children":860},{"style":665},[861],{"type":428,"value":787},{"type":422,"tag":646,"props":863,"children":865},{"class":648,"line":864},4,[866,870,875,879],{"type":422,"tag":646,"props":867,"children":868},{"style":653},[869],{"type":428,"value":692},{"type":422,"tag":646,"props":871,"children":872},{"style":695},[873],{"type":428,"value":874}," copyProps",{"type":422,"tag":646,"props":876,"children":877},{"style":701},[878],{"type":428,"value":704},{"type":422,"tag":646,"props":880,"children":881},{"style":707},[882],{"type":428,"value":883}," [\n",{"type":422,"tag":646,"props":885,"children":887},{"class":648,"line":886},5,[888,894,899,904],{"type":422,"tag":646,"props":889,"children":891},{"style":890},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[892],{"type":428,"value":893},"    \"",{"type":422,"tag":646,"props":895,"children":897},{"style":896},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[898],{"type":428,"value":428},{"type":422,"tag":646,"props":900,"children":901},{"style":890},[902],{"type":428,"value":903},"\"",{"type":422,"tag":646,"props":905,"children":906},{"style":665},[907],{"type":428,"value":908},",\n",{"type":422,"tag":646,"props":910,"children":912},{"class":648,"line":911},6,[913,917,922,926],{"type":422,"tag":646,"props":914,"children":915},{"style":890},[916],{"type":428,"value":893},{"type":422,"tag":646,"props":918,"children":919},{"style":896},[920],{"type":428,"value":921},"isComment",{"type":422,"tag":646,"props":923,"children":924},{"style":890},[925],{"type":428,"value":903},{"type":422,"tag":646,"props":927,"children":928},{"style":665},[929],{"type":428,"value":908},{"type":422,"tag":646,"props":931,"children":933},{"class":648,"line":932},7,[934,938,943,947],{"type":422,"tag":646,"props":935,"children":936},{"style":890},[937],{"type":428,"value":893},{"type":422,"tag":646,"props":939,"children":940},{"style":896},[941],{"type":428,"value":942},"isStatic",{"type":422,"tag":646,"props":944,"children":945},{"style":890},[946],{"type":428,"value":903},{"type":422,"tag":646,"props":948,"children":949},{"style":665},[950],{"type":428,"value":908},{"type":422,"tag":646,"props":952,"children":954},{"class":648,"line":953},8,[955,959,964,968],{"type":422,"tag":646,"props":956,"children":957},{"style":890},[958],{"type":428,"value":893},{"type":422,"tag":646,"props":960,"children":961},{"style":896},[962],{"type":428,"value":963},"key",{"type":422,"tag":646,"props":965,"children":966},{"style":890},[967],{"type":428,"value":903},{"type":422,"tag":646,"props":969,"children":970},{"style":665},[971],{"type":428,"value":908},{"type":422,"tag":646,"props":973,"children":975},{"class":648,"line":974},9,[976,980,985,989],{"type":422,"tag":646,"props":977,"children":978},{"style":890},[979],{"type":428,"value":893},{"type":422,"tag":646,"props":981,"children":982},{"style":896},[983],{"type":428,"value":984},"elm",{"type":422,"tag":646,"props":986,"children":987},{"style":890},[988],{"type":428,"value":903},{"type":422,"tag":646,"props":990,"children":991},{"style":665},[992],{"type":428,"value":908},{"type":422,"tag":646,"props":994,"children":996},{"class":648,"line":995},10,[997,1001,1006,1010],{"type":422,"tag":646,"props":998,"children":999},{"style":890},[1000],{"type":428,"value":893},{"type":422,"tag":646,"props":1002,"children":1003},{"style":896},[1004],{"type":428,"value":1005},"context",{"type":422,"tag":646,"props":1007,"children":1008},{"style":890},[1009],{"type":428,"value":903},{"type":422,"tag":646,"props":1011,"children":1012},{"style":665},[1013],{"type":428,"value":908},{"type":422,"tag":646,"props":1015,"children":1017},{"class":648,"line":1016},11,[1018,1022,1027,1031],{"type":422,"tag":646,"props":1019,"children":1020},{"style":890},[1021],{"type":428,"value":893},{"type":422,"tag":646,"props":1023,"children":1024},{"style":896},[1025],{"type":428,"value":1026},"ns",{"type":422,"tag":646,"props":1028,"children":1029},{"style":890},[1030],{"type":428,"value":903},{"type":422,"tag":646,"props":1032,"children":1033},{"style":665},[1034],{"type":428,"value":908},{"type":422,"tag":646,"props":1036,"children":1038},{"class":648,"line":1037},12,[1039,1043,1048,1052],{"type":422,"tag":646,"props":1040,"children":1041},{"style":890},[1042],{"type":428,"value":893},{"type":422,"tag":646,"props":1044,"children":1045},{"style":896},[1046],{"type":428,"value":1047},"componentOptions",{"type":422,"tag":646,"props":1049,"children":1050},{"style":890},[1051],{"type":428,"value":903},{"type":422,"tag":646,"props":1053,"children":1054},{"style":665},[1055],{"type":428,"value":908},{"type":422,"tag":646,"props":1057,"children":1059},{"class":648,"line":1058},13,[1060,1065],{"type":422,"tag":646,"props":1061,"children":1062},{"style":707},[1063],{"type":428,"value":1064},"  ]",{"type":422,"tag":646,"props":1066,"children":1067},{"style":665},[1068],{"type":428,"value":787},{"type":422,"tag":646,"props":1070,"children":1072},{"class":648,"line":1071},14,[1073,1078,1082,1086,1090,1094,1099,1103,1107,1111,1116,1121,1125,1130,1135,1139,1143,1147,1152],{"type":422,"tag":646,"props":1074,"children":1075},{"style":713},[1076],{"type":428,"value":1077},"  copyProps",{"type":422,"tag":646,"props":1079,"children":1080},{"style":665},[1081],{"type":428,"value":720},{"type":422,"tag":646,"props":1083,"children":1084},{"style":659},[1085],{"type":428,"value":744},{"type":422,"tag":646,"props":1087,"children":1088},{"style":707},[1089],{"type":428,"value":668},{"type":422,"tag":646,"props":1091,"children":1092},{"style":665},[1093],{"type":428,"value":668},{"type":422,"tag":646,"props":1095,"children":1096},{"style":671},[1097],{"type":428,"value":1098},"prop",{"type":422,"tag":646,"props":1100,"children":1101},{"style":665},[1102],{"type":428,"value":678},{"type":422,"tag":646,"props":1104,"children":1105},{"style":653},[1106],{"type":428,"value":765},{"type":422,"tag":646,"props":1108,"children":1109},{"style":707},[1110],{"type":428,"value":710},{"type":422,"tag":646,"props":1112,"children":1113},{"style":713},[1114],{"type":428,"value":1115},"cloned",{"type":422,"tag":646,"props":1117,"children":1118},{"style":707},[1119],{"type":428,"value":1120},"[",{"type":422,"tag":646,"props":1122,"children":1123},{"style":713},[1124],{"type":428,"value":1098},{"type":422,"tag":646,"props":1126,"children":1127},{"style":707},[1128],{"type":428,"value":1129},"] ",{"type":422,"tag":646,"props":1131,"children":1132},{"style":701},[1133],{"type":428,"value":1134},"=",{"type":422,"tag":646,"props":1136,"children":1137},{"style":713},[1138],{"type":428,"value":836},{"type":422,"tag":646,"props":1140,"children":1141},{"style":707},[1142],{"type":428,"value":1120},{"type":422,"tag":646,"props":1144,"children":1145},{"style":713},[1146],{"type":428,"value":1098},{"type":422,"tag":646,"props":1148,"children":1149},{"style":707},[1150],{"type":428,"value":1151},"]))",{"type":422,"tag":646,"props":1153,"children":1154},{"style":665},[1155],{"type":428,"value":787},{"type":422,"tag":646,"props":1157,"children":1159},{"class":648,"line":1158},15,[1160,1166,1170],{"type":422,"tag":646,"props":1161,"children":1163},{"style":1162},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1164],{"type":428,"value":1165},"  return",{"type":422,"tag":646,"props":1167,"children":1168},{"style":713},[1169],{"type":428,"value":800},{"type":422,"tag":646,"props":1171,"children":1172},{"style":665},[1173],{"type":428,"value":787},{"type":422,"tag":646,"props":1175,"children":1177},{"class":648,"line":1176},16,[1178],{"type":422,"tag":646,"props":1179,"children":1180},{"style":665},[1181],{"type":428,"value":1182},"}\n",{"type":422,"tag":512,"props":1184,"children":1185},{},[1186,1188],{"type":428,"value":1187},"关于 VNode 的属性更多解释见 ",{"type":422,"tag":541,"props":1189,"children":1192},{"href":1190,"rel":1191},"https://github.com/Lionad-Morotar/read-source-code/blob/343ecd050ec0eaaf56b59b6a4ed8f5c9595838f3/module/mini-vue/vdom/vnode.js",[545],[1193],{"type":428,"value":1194},"vnode.js",{"type":422,"tag":512,"props":1196,"children":1197},{},[1198],{"type":428,"value":1199},"使用 VNode 作为节点状态和 DOM 之间的中间层，可以避免性能浪费。每次渲染时，VNode 可以和上一次的 VNode 进行比较，以便重新生成 DOM 或是只改变 DOM 的一部分。",{"type":422,"tag":1201,"props":1202,"children":1204},"h4",{"id":1203},"createelement",[1205],{"type":428,"value":1206},"CreateElement",{"type":422,"tag":512,"props":1208,"children":1209},{},[1210],{"type":428,"value":1211},"VueJS createElement API 解析如下：",{"type":422,"tag":635,"props":1213,"children":1215},{"className":637,"code":1214,"language":639,"meta":415,"style":415},"createElement(\n  'name', // HTML 元素名、组件名或者函数也行\n  { // 一些可选参数\n    class： { /* loaded: isLoaded */ }, // :class\n    style: { /* background: isRed ? 'red' : 'white' */ }, // :style\n    props: { /* name */ }, // 组件 Props\n    attrs: { /* id, class */ }, // HTML attributes\n    domProps: { /* innerHTML、innerText */ }, // DOM props\n    on: { /* !~click: () => {} */ }, // 通过 Vue.$emit 触发的事件；感叹号和波浪号分别代表 capture 和 once\n    nativeOn: { /* click: () => {} */ }, // 原生 DOM 事件\n    scopedSlot: { /* default: props => h('div', {}, props.text) */ }, // 作用域插槽\n    key: '/* keyName */',\n    ref: '/* refName */',\n  },\n  []  // 子节点或者文本节点\n)\n",[1216],{"type":422,"tag":642,"props":1217,"children":1218},{"__ignoreMap":415},[1219,1232,1260,1273,1301,1333,1363,1393,1423,1453,1483,1513,1543,1572,1580,1593],{"type":422,"tag":646,"props":1220,"children":1221},{"class":648,"line":649},[1222,1227],{"type":422,"tag":646,"props":1223,"children":1224},{"style":659},[1225],{"type":428,"value":1226},"createElement",{"type":422,"tag":646,"props":1228,"children":1229},{"style":713},[1230],{"type":428,"value":1231},"(\n",{"type":422,"tag":646,"props":1233,"children":1234},{"class":648,"line":686},[1235,1240,1245,1250,1254],{"type":422,"tag":646,"props":1236,"children":1237},{"style":890},[1238],{"type":428,"value":1239},"  '",{"type":422,"tag":646,"props":1241,"children":1242},{"style":896},[1243],{"type":428,"value":1244},"name",{"type":422,"tag":646,"props":1246,"children":1247},{"style":890},[1248],{"type":428,"value":1249},"'",{"type":422,"tag":646,"props":1251,"children":1252},{"style":665},[1253],{"type":428,"value":831},{"type":422,"tag":646,"props":1255,"children":1257},{"style":1256},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[1258],{"type":428,"value":1259}," // HTML 元素名、组件名或者函数也行\n",{"type":422,"tag":646,"props":1261,"children":1262},{"class":648,"line":790},[1263,1268],{"type":422,"tag":646,"props":1264,"children":1265},{"style":665},[1266],{"type":428,"value":1267},"  {",{"type":422,"tag":646,"props":1269,"children":1270},{"style":1256},[1271],{"type":428,"value":1272}," // 一些可选参数\n",{"type":422,"tag":646,"props":1274,"children":1275},{"class":648,"line":864},[1276,1281,1286,1291,1296],{"type":422,"tag":646,"props":1277,"children":1278},{"style":713},[1279],{"type":428,"value":1280},"    class： ",{"type":422,"tag":646,"props":1282,"children":1283},{"style":665},[1284],{"type":428,"value":1285},"{",{"type":422,"tag":646,"props":1287,"children":1288},{"style":1256},[1289],{"type":428,"value":1290}," /* loaded: isLoaded */",{"type":422,"tag":646,"props":1292,"children":1293},{"style":665},[1294],{"type":428,"value":1295}," },",{"type":422,"tag":646,"props":1297,"children":1298},{"style":1256},[1299],{"type":428,"value":1300}," // :class\n",{"type":422,"tag":646,"props":1302,"children":1303},{"class":648,"line":886},[1304,1309,1314,1319,1324,1328],{"type":422,"tag":646,"props":1305,"children":1306},{"style":707},[1307],{"type":428,"value":1308},"    style",{"type":422,"tag":646,"props":1310,"children":1311},{"style":665},[1312],{"type":428,"value":1313},":",{"type":422,"tag":646,"props":1315,"children":1316},{"style":665},[1317],{"type":428,"value":1318}," {",{"type":422,"tag":646,"props":1320,"children":1321},{"style":1256},[1322],{"type":428,"value":1323}," /* background: isRed ? 'red' : 'white' */",{"type":422,"tag":646,"props":1325,"children":1326},{"style":665},[1327],{"type":428,"value":1295},{"type":422,"tag":646,"props":1329,"children":1330},{"style":1256},[1331],{"type":428,"value":1332}," // :style\n",{"type":422,"tag":646,"props":1334,"children":1335},{"class":648,"line":911},[1336,1341,1345,1349,1354,1358],{"type":422,"tag":646,"props":1337,"children":1338},{"style":707},[1339],{"type":428,"value":1340},"    props",{"type":422,"tag":646,"props":1342,"children":1343},{"style":665},[1344],{"type":428,"value":1313},{"type":422,"tag":646,"props":1346,"children":1347},{"style":665},[1348],{"type":428,"value":1318},{"type":422,"tag":646,"props":1350,"children":1351},{"style":1256},[1352],{"type":428,"value":1353}," /* name */",{"type":422,"tag":646,"props":1355,"children":1356},{"style":665},[1357],{"type":428,"value":1295},{"type":422,"tag":646,"props":1359,"children":1360},{"style":1256},[1361],{"type":428,"value":1362}," // 组件 Props\n",{"type":422,"tag":646,"props":1364,"children":1365},{"class":648,"line":932},[1366,1371,1375,1379,1384,1388],{"type":422,"tag":646,"props":1367,"children":1368},{"style":707},[1369],{"type":428,"value":1370},"    attrs",{"type":422,"tag":646,"props":1372,"children":1373},{"style":665},[1374],{"type":428,"value":1313},{"type":422,"tag":646,"props":1376,"children":1377},{"style":665},[1378],{"type":428,"value":1318},{"type":422,"tag":646,"props":1380,"children":1381},{"style":1256},[1382],{"type":428,"value":1383}," /* id, class */",{"type":422,"tag":646,"props":1385,"children":1386},{"style":665},[1387],{"type":428,"value":1295},{"type":422,"tag":646,"props":1389,"children":1390},{"style":1256},[1391],{"type":428,"value":1392}," // HTML attributes\n",{"type":422,"tag":646,"props":1394,"children":1395},{"class":648,"line":953},[1396,1401,1405,1409,1414,1418],{"type":422,"tag":646,"props":1397,"children":1398},{"style":707},[1399],{"type":428,"value":1400},"    domProps",{"type":422,"tag":646,"props":1402,"children":1403},{"style":665},[1404],{"type":428,"value":1313},{"type":422,"tag":646,"props":1406,"children":1407},{"style":665},[1408],{"type":428,"value":1318},{"type":422,"tag":646,"props":1410,"children":1411},{"style":1256},[1412],{"type":428,"value":1413}," /* innerHTML、innerText */",{"type":422,"tag":646,"props":1415,"children":1416},{"style":665},[1417],{"type":428,"value":1295},{"type":422,"tag":646,"props":1419,"children":1420},{"style":1256},[1421],{"type":428,"value":1422}," // DOM props\n",{"type":422,"tag":646,"props":1424,"children":1425},{"class":648,"line":974},[1426,1431,1435,1439,1444,1448],{"type":422,"tag":646,"props":1427,"children":1428},{"style":707},[1429],{"type":428,"value":1430},"    on",{"type":422,"tag":646,"props":1432,"children":1433},{"style":665},[1434],{"type":428,"value":1313},{"type":422,"tag":646,"props":1436,"children":1437},{"style":665},[1438],{"type":428,"value":1318},{"type":422,"tag":646,"props":1440,"children":1441},{"style":1256},[1442],{"type":428,"value":1443}," /* !~click: () => {} */",{"type":422,"tag":646,"props":1445,"children":1446},{"style":665},[1447],{"type":428,"value":1295},{"type":422,"tag":646,"props":1449,"children":1450},{"style":1256},[1451],{"type":428,"value":1452}," // 通过 Vue.$emit 触发的事件；感叹号和波浪号分别代表 capture 和 once\n",{"type":422,"tag":646,"props":1454,"children":1455},{"class":648,"line":995},[1456,1461,1465,1469,1474,1478],{"type":422,"tag":646,"props":1457,"children":1458},{"style":707},[1459],{"type":428,"value":1460},"    nativeOn",{"type":422,"tag":646,"props":1462,"children":1463},{"style":665},[1464],{"type":428,"value":1313},{"type":422,"tag":646,"props":1466,"children":1467},{"style":665},[1468],{"type":428,"value":1318},{"type":422,"tag":646,"props":1470,"children":1471},{"style":1256},[1472],{"type":428,"value":1473}," /* click: () => {} */",{"type":422,"tag":646,"props":1475,"children":1476},{"style":665},[1477],{"type":428,"value":1295},{"type":422,"tag":646,"props":1479,"children":1480},{"style":1256},[1481],{"type":428,"value":1482}," // 原生 DOM 事件\n",{"type":422,"tag":646,"props":1484,"children":1485},{"class":648,"line":1016},[1486,1491,1495,1499,1504,1508],{"type":422,"tag":646,"props":1487,"children":1488},{"style":707},[1489],{"type":428,"value":1490},"    scopedSlot",{"type":422,"tag":646,"props":1492,"children":1493},{"style":665},[1494],{"type":428,"value":1313},{"type":422,"tag":646,"props":1496,"children":1497},{"style":665},[1498],{"type":428,"value":1318},{"type":422,"tag":646,"props":1500,"children":1501},{"style":1256},[1502],{"type":428,"value":1503}," /* default: props => h('div', {}, props.text) */",{"type":422,"tag":646,"props":1505,"children":1506},{"style":665},[1507],{"type":428,"value":1295},{"type":422,"tag":646,"props":1509,"children":1510},{"style":1256},[1511],{"type":428,"value":1512}," // 作用域插槽\n",{"type":422,"tag":646,"props":1514,"children":1515},{"class":648,"line":1037},[1516,1521,1525,1530,1535,1539],{"type":422,"tag":646,"props":1517,"children":1518},{"style":707},[1519],{"type":428,"value":1520},"    key",{"type":422,"tag":646,"props":1522,"children":1523},{"style":665},[1524],{"type":428,"value":1313},{"type":422,"tag":646,"props":1526,"children":1527},{"style":890},[1528],{"type":428,"value":1529}," '",{"type":422,"tag":646,"props":1531,"children":1532},{"style":896},[1533],{"type":428,"value":1534},"/* keyName */",{"type":422,"tag":646,"props":1536,"children":1537},{"style":890},[1538],{"type":428,"value":1249},{"type":422,"tag":646,"props":1540,"children":1541},{"style":665},[1542],{"type":428,"value":908},{"type":422,"tag":646,"props":1544,"children":1545},{"class":648,"line":1058},[1546,1551,1555,1559,1564,1568],{"type":422,"tag":646,"props":1547,"children":1548},{"style":707},[1549],{"type":428,"value":1550},"    ref",{"type":422,"tag":646,"props":1552,"children":1553},{"style":665},[1554],{"type":428,"value":1313},{"type":422,"tag":646,"props":1556,"children":1557},{"style":890},[1558],{"type":428,"value":1529},{"type":422,"tag":646,"props":1560,"children":1561},{"style":896},[1562],{"type":428,"value":1563},"/* refName */",{"type":422,"tag":646,"props":1565,"children":1566},{"style":890},[1567],{"type":428,"value":1249},{"type":422,"tag":646,"props":1569,"children":1570},{"style":665},[1571],{"type":428,"value":908},{"type":422,"tag":646,"props":1573,"children":1574},{"class":648,"line":1071},[1575],{"type":422,"tag":646,"props":1576,"children":1577},{"style":665},[1578],{"type":428,"value":1579},"  },\n",{"type":422,"tag":646,"props":1581,"children":1582},{"class":648,"line":1158},[1583,1588],{"type":422,"tag":646,"props":1584,"children":1585},{"style":713},[1586],{"type":428,"value":1587},"  []  ",{"type":422,"tag":646,"props":1589,"children":1590},{"style":1256},[1591],{"type":428,"value":1592},"// 子节点或者文本节点\n",{"type":422,"tag":646,"props":1594,"children":1595},{"class":648,"line":1176},[1596],{"type":422,"tag":646,"props":1597,"children":1598},{"style":713},[1599],{"type":428,"value":1600},")\n",{"type":422,"tag":528,"props":1602,"children":1604},{"id":1603},"node-diff",[1605],{"type":428,"value":1606},"Node Diff",{"type":422,"tag":512,"props":1608,"children":1609},{},[1610],{"type":428,"value":1611},"对比节点可简述为：",{"type":422,"tag":431,"props":1613,"children":1614},{},[1615,1620,1625,1630,1635,1640,1645],{"type":422,"tag":435,"props":1616,"children":1617},{},[1618],{"type":428,"value":1619},"两个节点是否相同？结束更新。",{"type":422,"tag":435,"props":1621,"children":1622},{},[1623],{"type":428,"value":1624},"两个节点是否是静态节点？结束更新。",{"type":422,"tag":435,"props":1626,"children":1627},{},[1628],{"type":428,"value":1629},"新节点有 text 属性？",{"type":422,"tag":435,"props":1631,"children":1632},{},[1633],{"type":428,"value":1634},"两个节点都有子节点？如果子节点不同则更新子节点。",{"type":422,"tag":435,"props":1636,"children":1637},{},[1638],{"type":428,"value":1639},"只有新节点有子节点？",{"type":422,"tag":435,"props":1641,"children":1642},{},[1643],{"type":428,"value":1644},"只有旧节点有子节点？",{"type":422,"tag":435,"props":1646,"children":1647},{},[1648],{"type":428,"value":1649},"旧节点有 text 属性？",{"type":422,"tag":512,"props":1651,"children":1652},{},[1653],{"type":428,"value":1654},"对比子节点是用一个从两边至中间的循环，分别比较新前旧前、新后旧后、新后旧前、新前旧后。",{"type":422,"tag":423,"props":1656,"children":1658},{"id":1657},"de-indent",[1659],{"type":428,"value":1657},{"type":422,"tag":512,"props":1661,"children":1662},{},[1663],{"type":428,"value":1664},"de-indent 是 Vue 解析 SFC 是引用的一个工具包。能将代码中额外的前置缩进去掉。它做了以下三件事情：",{"type":422,"tag":431,"props":1666,"children":1667},{},[1668,1673,1678],{"type":422,"tag":435,"props":1669,"children":1670},{},[1671],{"type":428,"value":1672},"将源码拆分为行",{"type":422,"tag":435,"props":1674,"children":1675},{},[1676],{"type":428,"value":1677},"遍历代码行，找到最小缩进（或空格）数量",{"type":422,"tag":435,"props":1679,"children":1680},{},[1681],{"type":428,"value":1682},"每行都去除最小缩进（或空格）数量",{"type":422,"tag":528,"props":1684,"children":1686},{"id":1685},"简单实现",[1687],{"type":428,"value":1685},{"type":422,"tag":512,"props":1689,"children":1690},{},[1691],{"type":428,"value":1692},"其实我在写博客时碰到过额外的前置缩进这种问题。当时，写了一个 highlight.js 的 Vue 组件封装，用来在 Markdown 的 HTML 代码中写代码高亮，如：",{"type":422,"tag":635,"props":1694,"children":1698},{"className":1695,"code":1696,"language":1697,"meta":415,"style":415},"language-markdown shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cp>\n    \u003CHighlight lang='js'>\n        export default {\n            hello: 'world'\n        }\n    \u003C/Highlight>\n\u003C/p>\n","markdown",[1699],{"type":422,"tag":642,"props":1700,"children":1701},{"__ignoreMap":415},[1702,1720,1759,1767,1775,1783,1799],{"type":422,"tag":646,"props":1703,"children":1704},{"class":648,"line":649},[1705,1710,1715],{"type":422,"tag":646,"props":1706,"children":1707},{"style":665},[1708],{"type":428,"value":1709},"\u003C",{"type":422,"tag":646,"props":1711,"children":1713},{"style":1712},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1714],{"type":428,"value":512},{"type":422,"tag":646,"props":1716,"children":1717},{"style":665},[1718],{"type":428,"value":1719},">\n",{"type":422,"tag":646,"props":1721,"children":1722},{"class":648,"line":686},[1723,1728,1733,1739,1743,1747,1751,1755],{"type":422,"tag":646,"props":1724,"children":1725},{"style":665},[1726],{"type":428,"value":1727},"    \u003C",{"type":422,"tag":646,"props":1729,"children":1730},{"style":1712},[1731],{"type":428,"value":1732},"Highlight",{"type":422,"tag":646,"props":1734,"children":1736},{"style":1735},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1737],{"type":428,"value":1738}," lang",{"type":422,"tag":646,"props":1740,"children":1741},{"style":665},[1742],{"type":428,"value":1134},{"type":422,"tag":646,"props":1744,"children":1745},{"style":890},[1746],{"type":428,"value":1249},{"type":422,"tag":646,"props":1748,"children":1749},{"style":896},[1750],{"type":428,"value":639},{"type":422,"tag":646,"props":1752,"children":1753},{"style":890},[1754],{"type":428,"value":1249},{"type":422,"tag":646,"props":1756,"children":1757},{"style":665},[1758],{"type":428,"value":1719},{"type":422,"tag":646,"props":1760,"children":1761},{"class":648,"line":790},[1762],{"type":422,"tag":646,"props":1763,"children":1764},{"style":713},[1765],{"type":428,"value":1766},"        export default {\n",{"type":422,"tag":646,"props":1768,"children":1769},{"class":648,"line":864},[1770],{"type":422,"tag":646,"props":1771,"children":1772},{"style":713},[1773],{"type":428,"value":1774},"            hello: 'world'\n",{"type":422,"tag":646,"props":1776,"children":1777},{"class":648,"line":886},[1778],{"type":422,"tag":646,"props":1779,"children":1780},{"style":713},[1781],{"type":428,"value":1782},"        }\n",{"type":422,"tag":646,"props":1784,"children":1785},{"class":648,"line":911},[1786,1791,1795],{"type":422,"tag":646,"props":1787,"children":1788},{"style":665},[1789],{"type":428,"value":1790},"    \u003C/",{"type":422,"tag":646,"props":1792,"children":1793},{"style":1712},[1794],{"type":428,"value":1732},{"type":422,"tag":646,"props":1796,"children":1797},{"style":665},[1798],{"type":428,"value":1719},{"type":422,"tag":646,"props":1800,"children":1801},{"class":648,"line":932},[1802,1807,1811],{"type":422,"tag":646,"props":1803,"children":1804},{"style":665},[1805],{"type":428,"value":1806},"\u003C/",{"type":422,"tag":646,"props":1808,"children":1809},{"style":1712},[1810],{"type":428,"value":512},{"type":422,"tag":646,"props":1812,"children":1813},{"style":665},[1814],{"type":428,"value":1719},{"type":422,"tag":512,"props":1816,"children":1817},{},[1818],{"type":428,"value":1819},"看起来没啥问题，但是这段文本传到 Vue 组件内部，就会带上一些不必要的缩进，和前后两个多余的换行。",{"type":422,"tag":635,"props":1821,"children":1823},{"className":637,"code":1822,"language":639,"meta":415,"style":415},"export default {\n  hello: \"world\",\n};\n",[1824],{"type":422,"tag":642,"props":1825,"children":1826},{"__ignoreMap":415},[1827,1844,1874],{"type":422,"tag":646,"props":1828,"children":1829},{"class":648,"line":649},[1830,1835,1840],{"type":422,"tag":646,"props":1831,"children":1832},{"style":1162},[1833],{"type":428,"value":1834},"export",{"type":422,"tag":646,"props":1836,"children":1837},{"style":1162},[1838],{"type":428,"value":1839}," default",{"type":422,"tag":646,"props":1841,"children":1842},{"style":665},[1843],{"type":428,"value":683},{"type":422,"tag":646,"props":1845,"children":1846},{"class":648,"line":686},[1847,1852,1856,1861,1866,1870],{"type":422,"tag":646,"props":1848,"children":1849},{"style":707},[1850],{"type":428,"value":1851},"  hello",{"type":422,"tag":646,"props":1853,"children":1854},{"style":665},[1855],{"type":428,"value":1313},{"type":422,"tag":646,"props":1857,"children":1858},{"style":890},[1859],{"type":428,"value":1860}," \"",{"type":422,"tag":646,"props":1862,"children":1863},{"style":896},[1864],{"type":428,"value":1865},"world",{"type":422,"tag":646,"props":1867,"children":1868},{"style":890},[1869],{"type":428,"value":903},{"type":422,"tag":646,"props":1871,"children":1872},{"style":665},[1873],{"type":428,"value":908},{"type":422,"tag":646,"props":1875,"children":1876},{"class":648,"line":790},[1877],{"type":422,"tag":646,"props":1878,"children":1879},{"style":665},[1880],{"type":428,"value":1881},"};\n",{"type":422,"tag":512,"props":1883,"children":1884},{},[1885],{"type":428,"value":1886},"对于缩进，简单处理如下。将源码拆分为行，找出最小的前置空格数量，记长度为 minSpace，然后每行去除这个等长的前置空格：",{"type":422,"tag":635,"props":1888,"children":1890},{"className":637,"code":1889,"language":639,"meta":415,"style":415},"const splits = codes.split(/\\n/);\nconst tabs = splits.map((x) => x.search(/[^\\s]/));\nconst minSpace = Math.min(...tabs);\nconst reMinSpace = new RegExp(`\\\\s{${minSpace}}`);\ncodes = splits.map((x) => x.replace(reMinSpace, \"\")).join(\"\\n\");\n",[1891],{"type":422,"tag":642,"props":1892,"children":1893},{"__ignoreMap":415},[1894,1952,2055,2103,2181],{"type":422,"tag":646,"props":1895,"children":1896},{"class":648,"line":649},[1897,1902,1907,1911,1916,1920,1925,1929,1934,1940,1944,1948],{"type":422,"tag":646,"props":1898,"children":1899},{"style":653},[1900],{"type":428,"value":1901},"const",{"type":422,"tag":646,"props":1903,"children":1904},{"style":695},[1905],{"type":428,"value":1906}," splits",{"type":422,"tag":646,"props":1908,"children":1909},{"style":701},[1910],{"type":428,"value":704},{"type":422,"tag":646,"props":1912,"children":1913},{"style":713},[1914],{"type":428,"value":1915}," codes",{"type":422,"tag":646,"props":1917,"children":1918},{"style":665},[1919],{"type":428,"value":720},{"type":422,"tag":646,"props":1921,"children":1922},{"style":659},[1923],{"type":428,"value":1924},"split",{"type":422,"tag":646,"props":1926,"children":1927},{"style":713},[1928],{"type":428,"value":668},{"type":422,"tag":646,"props":1930,"children":1931},{"style":890},[1932],{"type":428,"value":1933},"/",{"type":422,"tag":646,"props":1935,"children":1937},{"style":1936},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1938],{"type":428,"value":1939},"\\n",{"type":422,"tag":646,"props":1941,"children":1942},{"style":890},[1943],{"type":428,"value":1933},{"type":422,"tag":646,"props":1945,"children":1946},{"style":713},[1947],{"type":428,"value":678},{"type":422,"tag":646,"props":1949,"children":1950},{"style":665},[1951],{"type":428,"value":787},{"type":422,"tag":646,"props":1953,"children":1954},{"class":648,"line":686},[1955,1959,1964,1968,1972,1976,1980,1984,1988,1993,1997,2001,2006,2010,2015,2019,2023,2028,2033,2038,2043,2047,2051],{"type":422,"tag":646,"props":1956,"children":1957},{"style":653},[1958],{"type":428,"value":1901},{"type":422,"tag":646,"props":1960,"children":1961},{"style":695},[1962],{"type":428,"value":1963}," tabs",{"type":422,"tag":646,"props":1965,"children":1966},{"style":701},[1967],{"type":428,"value":704},{"type":422,"tag":646,"props":1969,"children":1970},{"style":713},[1971],{"type":428,"value":1906},{"type":422,"tag":646,"props":1973,"children":1974},{"style":665},[1975],{"type":428,"value":720},{"type":422,"tag":646,"props":1977,"children":1978},{"style":659},[1979],{"type":428,"value":744},{"type":422,"tag":646,"props":1981,"children":1982},{"style":713},[1983],{"type":428,"value":668},{"type":422,"tag":646,"props":1985,"children":1986},{"style":665},[1987],{"type":428,"value":668},{"type":422,"tag":646,"props":1989,"children":1990},{"style":671},[1991],{"type":428,"value":1992},"x",{"type":422,"tag":646,"props":1994,"children":1995},{"style":665},[1996],{"type":428,"value":678},{"type":422,"tag":646,"props":1998,"children":1999},{"style":653},[2000],{"type":428,"value":765},{"type":422,"tag":646,"props":2002,"children":2003},{"style":713},[2004],{"type":428,"value":2005}," x",{"type":422,"tag":646,"props":2007,"children":2008},{"style":665},[2009],{"type":428,"value":720},{"type":422,"tag":646,"props":2011,"children":2012},{"style":659},[2013],{"type":428,"value":2014},"search",{"type":422,"tag":646,"props":2016,"children":2017},{"style":713},[2018],{"type":428,"value":668},{"type":422,"tag":646,"props":2020,"children":2021},{"style":890},[2022],{"type":428,"value":1933},{"type":422,"tag":646,"props":2024,"children":2026},{"style":2025},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2027],{"type":428,"value":1120},{"type":422,"tag":646,"props":2029,"children":2030},{"style":701},[2031],{"type":428,"value":2032},"^",{"type":422,"tag":646,"props":2034,"children":2035},{"style":1936},[2036],{"type":428,"value":2037},"\\s",{"type":422,"tag":646,"props":2039,"children":2040},{"style":2025},[2041],{"type":428,"value":2042},"]",{"type":422,"tag":646,"props":2044,"children":2045},{"style":890},[2046],{"type":428,"value":1933},{"type":422,"tag":646,"props":2048,"children":2049},{"style":713},[2050],{"type":428,"value":782},{"type":422,"tag":646,"props":2052,"children":2053},{"style":665},[2054],{"type":428,"value":787},{"type":422,"tag":646,"props":2056,"children":2057},{"class":648,"line":790},[2058,2062,2067,2071,2076,2080,2085,2089,2094,2099],{"type":422,"tag":646,"props":2059,"children":2060},{"style":653},[2061],{"type":428,"value":1901},{"type":422,"tag":646,"props":2063,"children":2064},{"style":695},[2065],{"type":428,"value":2066}," minSpace",{"type":422,"tag":646,"props":2068,"children":2069},{"style":701},[2070],{"type":428,"value":704},{"type":422,"tag":646,"props":2072,"children":2073},{"style":713},[2074],{"type":428,"value":2075}," Math",{"type":422,"tag":646,"props":2077,"children":2078},{"style":665},[2079],{"type":428,"value":720},{"type":422,"tag":646,"props":2081,"children":2082},{"style":659},[2083],{"type":428,"value":2084},"min",{"type":422,"tag":646,"props":2086,"children":2087},{"style":713},[2088],{"type":428,"value":668},{"type":422,"tag":646,"props":2090,"children":2091},{"style":701},[2092],{"type":428,"value":2093},"...",{"type":422,"tag":646,"props":2095,"children":2096},{"style":713},[2097],{"type":428,"value":2098},"tabs)",{"type":422,"tag":646,"props":2100,"children":2101},{"style":665},[2102],{"type":428,"value":787},{"type":422,"tag":646,"props":2104,"children":2105},{"class":648,"line":864},[2106,2110,2115,2119,2124,2129,2133,2138,2144,2149,2155,2160,2165,2169,2173,2177],{"type":422,"tag":646,"props":2107,"children":2108},{"style":653},[2109],{"type":428,"value":1901},{"type":422,"tag":646,"props":2111,"children":2112},{"style":695},[2113],{"type":428,"value":2114}," reMinSpace",{"type":422,"tag":646,"props":2116,"children":2117},{"style":701},[2118],{"type":428,"value":704},{"type":422,"tag":646,"props":2120,"children":2121},{"style":701},[2122],{"type":428,"value":2123}," new",{"type":422,"tag":646,"props":2125,"children":2126},{"style":659},[2127],{"type":428,"value":2128}," RegExp",{"type":422,"tag":646,"props":2130,"children":2131},{"style":713},[2132],{"type":428,"value":668},{"type":422,"tag":646,"props":2134,"children":2135},{"style":890},[2136],{"type":428,"value":2137},"`",{"type":422,"tag":646,"props":2139,"children":2141},{"style":2140},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2142],{"type":428,"value":2143},"\\\\",{"type":422,"tag":646,"props":2145,"children":2146},{"style":896},[2147],{"type":428,"value":2148},"s{",{"type":422,"tag":646,"props":2150,"children":2152},{"style":2151},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[2153],{"type":428,"value":2154},"${",{"type":422,"tag":646,"props":2156,"children":2157},{"style":713},[2158],{"type":428,"value":2159},"minSpace",{"type":422,"tag":646,"props":2161,"children":2162},{"style":2151},[2163],{"type":428,"value":2164},"}",{"type":422,"tag":646,"props":2166,"children":2167},{"style":896},[2168],{"type":428,"value":2164},{"type":422,"tag":646,"props":2170,"children":2171},{"style":890},[2172],{"type":428,"value":2137},{"type":422,"tag":646,"props":2174,"children":2175},{"style":713},[2176],{"type":428,"value":678},{"type":422,"tag":646,"props":2178,"children":2179},{"style":665},[2180],{"type":428,"value":787},{"type":422,"tag":646,"props":2182,"children":2183},{"class":648,"line":886},[2184,2189,2193,2197,2201,2205,2209,2213,2217,2221,2225,2229,2233,2238,2243,2247,2252,2256,2260,2265,2269,2273,2277,2281,2285],{"type":422,"tag":646,"props":2185,"children":2186},{"style":713},[2187],{"type":428,"value":2188},"codes ",{"type":422,"tag":646,"props":2190,"children":2191},{"style":701},[2192],{"type":428,"value":1134},{"type":422,"tag":646,"props":2194,"children":2195},{"style":713},[2196],{"type":428,"value":1906},{"type":422,"tag":646,"props":2198,"children":2199},{"style":665},[2200],{"type":428,"value":720},{"type":422,"tag":646,"props":2202,"children":2203},{"style":659},[2204],{"type":428,"value":744},{"type":422,"tag":646,"props":2206,"children":2207},{"style":713},[2208],{"type":428,"value":668},{"type":422,"tag":646,"props":2210,"children":2211},{"style":665},[2212],{"type":428,"value":668},{"type":422,"tag":646,"props":2214,"children":2215},{"style":671},[2216],{"type":428,"value":1992},{"type":422,"tag":646,"props":2218,"children":2219},{"style":665},[2220],{"type":428,"value":678},{"type":422,"tag":646,"props":2222,"children":2223},{"style":653},[2224],{"type":428,"value":765},{"type":422,"tag":646,"props":2226,"children":2227},{"style":713},[2228],{"type":428,"value":2005},{"type":422,"tag":646,"props":2230,"children":2231},{"style":665},[2232],{"type":428,"value":720},{"type":422,"tag":646,"props":2234,"children":2235},{"style":659},[2236],{"type":428,"value":2237},"replace",{"type":422,"tag":646,"props":2239,"children":2240},{"style":713},[2241],{"type":428,"value":2242},"(reMinSpace",{"type":422,"tag":646,"props":2244,"children":2245},{"style":665},[2246],{"type":428,"value":831},{"type":422,"tag":646,"props":2248,"children":2249},{"style":890},[2250],{"type":428,"value":2251}," \"\"",{"type":422,"tag":646,"props":2253,"children":2254},{"style":713},[2255],{"type":428,"value":782},{"type":422,"tag":646,"props":2257,"children":2258},{"style":665},[2259],{"type":428,"value":720},{"type":422,"tag":646,"props":2261,"children":2262},{"style":659},[2263],{"type":428,"value":2264},"join",{"type":422,"tag":646,"props":2266,"children":2267},{"style":713},[2268],{"type":428,"value":668},{"type":422,"tag":646,"props":2270,"children":2271},{"style":890},[2272],{"type":428,"value":903},{"type":422,"tag":646,"props":2274,"children":2275},{"style":2140},[2276],{"type":428,"value":1939},{"type":422,"tag":646,"props":2278,"children":2279},{"style":890},[2280],{"type":428,"value":903},{"type":422,"tag":646,"props":2282,"children":2283},{"style":713},[2284],{"type":428,"value":678},{"type":422,"tag":646,"props":2286,"children":2287},{"style":665},[2288],{"type":428,"value":787},{"type":422,"tag":528,"props":2290,"children":2292},{"id":2291},"源码解析",[2293],{"type":428,"value":2291},{"type":422,"tag":512,"props":2295,"children":2296},{},[2297],{"type":428,"value":2298},"思路是一模一样的，但是 de-indent 这玩意儿性能高很多倍。",{"type":422,"tag":635,"props":2300,"children":2302},{"className":637,"code":2301,"language":639,"meta":415,"style":415},"var splitRE = /\\r?\\n/g;\nvar emptyRE = /^\\s*$/;\nvar needFixRE = /^(\\r?\\n)*[\\t\\s]/;\n\nmodule.exports = function deindent(str) {\n  // 如果第一行前没有空格，直接退出\n  if (!needFixRE.test(str)) {\n    return str;\n  }\n  // 将代码拆分成行\n  var lines = str.split(splitRE);\n\n  /* 这里只循环了一次就找到了最小空格数量，并且做了优化 */\n  var min = Infinity;\n  // type 用来记录缩进是 tab 还是空格\n  var type, cur, c;\n  for (var i = 0; i \u003C lines.length; i++) {\n    var line = lines[i];\n    if (!emptyRE.test(line)) {\n      if (!type) {\n        c = line.charAt(0);\n        if (c === \" \" || c === \"\\t\") {\n          type = c;\n          cur = count(line, type);\n          if (cur \u003C min) {\n            min = cur;\n          }\n        } else {\n          return str;\n        }\n      } else {\n        cur = count(line, type);\n        if (cur \u003C min) {\n          min = cur;\n        }\n      }\n    }\n  }\n  // 用 String.slice 切除前置空格，性能最好\n  return lines\n    .map(function (line) {\n      return line.slice(min);\n    })\n    .join(\"\\n\");\n};\n\nfunction count(line, type) {\n  var i = 0;\n  while (line.charAt(i) === type) {\n    i++;\n  }\n  return i;\n}\n",[2303],{"type":422,"tag":642,"props":2304,"children":2305},{"__ignoreMap":415},[2306,2356,2402,2472,2480,2529,2537,2586,2603,2611,2619,2665,2672,2680,2705,2713,2747,2828,2867,2913,2943,2986,3050,3071,3113,3147,3168,3177,3195,3212,3220,3237,3278,3310,3331,3339,3348,3357,3365,3374,3387,3424,3462,3475,3511,3519,3527,3563,3587,3641,3658,3666,3682],{"type":422,"tag":646,"props":2307,"children":2308},{"class":648,"line":649},[2309,2314,2319,2323,2328,2333,2338,2342,2346,2352],{"type":422,"tag":646,"props":2310,"children":2311},{"style":653},[2312],{"type":428,"value":2313},"var",{"type":422,"tag":646,"props":2315,"children":2316},{"style":713},[2317],{"type":428,"value":2318}," splitRE ",{"type":422,"tag":646,"props":2320,"children":2321},{"style":701},[2322],{"type":428,"value":1134},{"type":422,"tag":646,"props":2324,"children":2325},{"style":890},[2326],{"type":428,"value":2327}," /",{"type":422,"tag":646,"props":2329,"children":2330},{"style":1936},[2331],{"type":428,"value":2332},"\\r",{"type":422,"tag":646,"props":2334,"children":2335},{"style":701},[2336],{"type":428,"value":2337},"?",{"type":422,"tag":646,"props":2339,"children":2340},{"style":1936},[2341],{"type":428,"value":1939},{"type":422,"tag":646,"props":2343,"children":2344},{"style":890},[2345],{"type":428,"value":1933},{"type":422,"tag":646,"props":2347,"children":2349},{"style":2348},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[2350],{"type":428,"value":2351},"g",{"type":422,"tag":646,"props":2353,"children":2354},{"style":665},[2355],{"type":428,"value":787},{"type":422,"tag":646,"props":2357,"children":2358},{"class":648,"line":686},[2359,2363,2368,2372,2376,2380,2384,2389,2394,2398],{"type":422,"tag":646,"props":2360,"children":2361},{"style":653},[2362],{"type":428,"value":2313},{"type":422,"tag":646,"props":2364,"children":2365},{"style":713},[2366],{"type":428,"value":2367}," emptyRE ",{"type":422,"tag":646,"props":2369,"children":2370},{"style":701},[2371],{"type":428,"value":1134},{"type":422,"tag":646,"props":2373,"children":2374},{"style":890},[2375],{"type":428,"value":2327},{"type":422,"tag":646,"props":2377,"children":2378},{"style":1162},[2379],{"type":428,"value":2032},{"type":422,"tag":646,"props":2381,"children":2382},{"style":1936},[2383],{"type":428,"value":2037},{"type":422,"tag":646,"props":2385,"children":2386},{"style":701},[2387],{"type":428,"value":2388},"*",{"type":422,"tag":646,"props":2390,"children":2391},{"style":1162},[2392],{"type":428,"value":2393},"$",{"type":422,"tag":646,"props":2395,"children":2396},{"style":890},[2397],{"type":428,"value":1933},{"type":422,"tag":646,"props":2399,"children":2400},{"style":665},[2401],{"type":428,"value":787},{"type":422,"tag":646,"props":2403,"children":2404},{"class":648,"line":790},[2405,2409,2414,2418,2422,2426,2431,2435,2439,2443,2447,2451,2455,2460,2464,2468],{"type":422,"tag":646,"props":2406,"children":2407},{"style":653},[2408],{"type":428,"value":2313},{"type":422,"tag":646,"props":2410,"children":2411},{"style":713},[2412],{"type":428,"value":2413}," needFixRE ",{"type":422,"tag":646,"props":2415,"children":2416},{"style":701},[2417],{"type":428,"value":1134},{"type":422,"tag":646,"props":2419,"children":2420},{"style":890},[2421],{"type":428,"value":2327},{"type":422,"tag":646,"props":2423,"children":2424},{"style":1162},[2425],{"type":428,"value":2032},{"type":422,"tag":646,"props":2427,"children":2429},{"style":2428},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#DBEDFF;--shiki-sepia:#E6DB74",[2430],{"type":428,"value":668},{"type":422,"tag":646,"props":2432,"children":2433},{"style":1936},[2434],{"type":428,"value":2332},{"type":422,"tag":646,"props":2436,"children":2437},{"style":701},[2438],{"type":428,"value":2337},{"type":422,"tag":646,"props":2440,"children":2441},{"style":1936},[2442],{"type":428,"value":1939},{"type":422,"tag":646,"props":2444,"children":2445},{"style":2428},[2446],{"type":428,"value":678},{"type":422,"tag":646,"props":2448,"children":2449},{"style":701},[2450],{"type":428,"value":2388},{"type":422,"tag":646,"props":2452,"children":2453},{"style":2025},[2454],{"type":428,"value":1120},{"type":422,"tag":646,"props":2456,"children":2457},{"style":1936},[2458],{"type":428,"value":2459},"\\t\\s",{"type":422,"tag":646,"props":2461,"children":2462},{"style":2025},[2463],{"type":428,"value":2042},{"type":422,"tag":646,"props":2465,"children":2466},{"style":890},[2467],{"type":428,"value":1933},{"type":422,"tag":646,"props":2469,"children":2470},{"style":665},[2471],{"type":428,"value":787},{"type":422,"tag":646,"props":2473,"children":2474},{"class":648,"line":864},[2475],{"type":422,"tag":646,"props":2476,"children":2477},{"emptyLinePlaceholder":414},[2478],{"type":428,"value":2479},"\n",{"type":422,"tag":646,"props":2481,"children":2482},{"class":648,"line":886},[2483,2489,2493,2498,2502,2507,2512,2516,2521,2525],{"type":422,"tag":646,"props":2484,"children":2486},{"style":2485},"--shiki-light:#39ADB5;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[2487],{"type":428,"value":2488},"module",{"type":422,"tag":646,"props":2490,"children":2491},{"style":665},[2492],{"type":428,"value":720},{"type":422,"tag":646,"props":2494,"children":2495},{"style":2485},[2496],{"type":428,"value":2497},"exports",{"type":422,"tag":646,"props":2499,"children":2500},{"style":701},[2501],{"type":428,"value":704},{"type":422,"tag":646,"props":2503,"children":2504},{"style":653},[2505],{"type":428,"value":2506}," function",{"type":422,"tag":646,"props":2508,"children":2509},{"style":659},[2510],{"type":428,"value":2511}," deindent",{"type":422,"tag":646,"props":2513,"children":2514},{"style":665},[2515],{"type":428,"value":668},{"type":422,"tag":646,"props":2517,"children":2518},{"style":671},[2519],{"type":428,"value":2520},"str",{"type":422,"tag":646,"props":2522,"children":2523},{"style":665},[2524],{"type":428,"value":678},{"type":422,"tag":646,"props":2526,"children":2527},{"style":665},[2528],{"type":428,"value":683},{"type":422,"tag":646,"props":2530,"children":2531},{"class":648,"line":911},[2532],{"type":422,"tag":646,"props":2533,"children":2534},{"style":1256},[2535],{"type":428,"value":2536},"  // 如果第一行前没有空格，直接退出\n",{"type":422,"tag":646,"props":2538,"children":2539},{"class":648,"line":932},[2540,2545,2549,2554,2559,2563,2568,2572,2576,2581],{"type":422,"tag":646,"props":2541,"children":2542},{"style":1162},[2543],{"type":428,"value":2544},"  if",{"type":422,"tag":646,"props":2546,"children":2547},{"style":707},[2548],{"type":428,"value":710},{"type":422,"tag":646,"props":2550,"children":2551},{"style":701},[2552],{"type":428,"value":2553},"!",{"type":422,"tag":646,"props":2555,"children":2556},{"style":713},[2557],{"type":428,"value":2558},"needFixRE",{"type":422,"tag":646,"props":2560,"children":2561},{"style":665},[2562],{"type":428,"value":720},{"type":422,"tag":646,"props":2564,"children":2565},{"style":659},[2566],{"type":428,"value":2567},"test",{"type":422,"tag":646,"props":2569,"children":2570},{"style":707},[2571],{"type":428,"value":668},{"type":422,"tag":646,"props":2573,"children":2574},{"style":713},[2575],{"type":428,"value":2520},{"type":422,"tag":646,"props":2577,"children":2578},{"style":707},[2579],{"type":428,"value":2580},")) ",{"type":422,"tag":646,"props":2582,"children":2583},{"style":665},[2584],{"type":428,"value":2585},"{\n",{"type":422,"tag":646,"props":2587,"children":2588},{"class":648,"line":953},[2589,2594,2599],{"type":422,"tag":646,"props":2590,"children":2591},{"style":1162},[2592],{"type":428,"value":2593},"    return",{"type":422,"tag":646,"props":2595,"children":2596},{"style":713},[2597],{"type":428,"value":2598}," str",{"type":422,"tag":646,"props":2600,"children":2601},{"style":665},[2602],{"type":428,"value":787},{"type":422,"tag":646,"props":2604,"children":2605},{"class":648,"line":974},[2606],{"type":422,"tag":646,"props":2607,"children":2608},{"style":665},[2609],{"type":428,"value":2610},"  }\n",{"type":422,"tag":646,"props":2612,"children":2613},{"class":648,"line":995},[2614],{"type":422,"tag":646,"props":2615,"children":2616},{"style":1256},[2617],{"type":428,"value":2618},"  // 将代码拆分成行\n",{"type":422,"tag":646,"props":2620,"children":2621},{"class":648,"line":1016},[2622,2627,2632,2636,2640,2644,2648,2652,2657,2661],{"type":422,"tag":646,"props":2623,"children":2624},{"style":653},[2625],{"type":428,"value":2626},"  var",{"type":422,"tag":646,"props":2628,"children":2629},{"style":713},[2630],{"type":428,"value":2631}," lines",{"type":422,"tag":646,"props":2633,"children":2634},{"style":701},[2635],{"type":428,"value":704},{"type":422,"tag":646,"props":2637,"children":2638},{"style":713},[2639],{"type":428,"value":2598},{"type":422,"tag":646,"props":2641,"children":2642},{"style":665},[2643],{"type":428,"value":720},{"type":422,"tag":646,"props":2645,"children":2646},{"style":659},[2647],{"type":428,"value":1924},{"type":422,"tag":646,"props":2649,"children":2650},{"style":707},[2651],{"type":428,"value":668},{"type":422,"tag":646,"props":2653,"children":2654},{"style":713},[2655],{"type":428,"value":2656},"splitRE",{"type":422,"tag":646,"props":2658,"children":2659},{"style":707},[2660],{"type":428,"value":678},{"type":422,"tag":646,"props":2662,"children":2663},{"style":665},[2664],{"type":428,"value":787},{"type":422,"tag":646,"props":2666,"children":2667},{"class":648,"line":1037},[2668],{"type":422,"tag":646,"props":2669,"children":2670},{"emptyLinePlaceholder":414},[2671],{"type":428,"value":2479},{"type":422,"tag":646,"props":2673,"children":2674},{"class":648,"line":1058},[2675],{"type":422,"tag":646,"props":2676,"children":2677},{"style":1256},[2678],{"type":428,"value":2679},"  /* 这里只循环了一次就找到了最小空格数量，并且做了优化 */\n",{"type":422,"tag":646,"props":2681,"children":2682},{"class":648,"line":1071},[2683,2687,2692,2696,2701],{"type":422,"tag":646,"props":2684,"children":2685},{"style":653},[2686],{"type":428,"value":2626},{"type":422,"tag":646,"props":2688,"children":2689},{"style":713},[2690],{"type":428,"value":2691}," min",{"type":422,"tag":646,"props":2693,"children":2694},{"style":701},[2695],{"type":428,"value":704},{"type":422,"tag":646,"props":2697,"children":2698},{"style":2025},[2699],{"type":428,"value":2700}," Infinity",{"type":422,"tag":646,"props":2702,"children":2703},{"style":665},[2704],{"type":428,"value":787},{"type":422,"tag":646,"props":2706,"children":2707},{"class":648,"line":1158},[2708],{"type":422,"tag":646,"props":2709,"children":2710},{"style":1256},[2711],{"type":428,"value":2712},"  // type 用来记录缩进是 tab 还是空格\n",{"type":422,"tag":646,"props":2714,"children":2715},{"class":648,"line":1176},[2716,2720,2725,2729,2734,2738,2743],{"type":422,"tag":646,"props":2717,"children":2718},{"style":653},[2719],{"type":428,"value":2626},{"type":422,"tag":646,"props":2721,"children":2722},{"style":713},[2723],{"type":428,"value":2724}," type",{"type":422,"tag":646,"props":2726,"children":2727},{"style":665},[2728],{"type":428,"value":831},{"type":422,"tag":646,"props":2730,"children":2731},{"style":713},[2732],{"type":428,"value":2733}," cur",{"type":422,"tag":646,"props":2735,"children":2736},{"style":665},[2737],{"type":428,"value":831},{"type":422,"tag":646,"props":2739,"children":2740},{"style":713},[2741],{"type":428,"value":2742}," c",{"type":422,"tag":646,"props":2744,"children":2745},{"style":665},[2746],{"type":428,"value":787},{"type":422,"tag":646,"props":2748,"children":2750},{"class":648,"line":2749},17,[2751,2756,2760,2764,2769,2773,2779,2784,2788,2793,2797,2801,2806,2810,2814,2819,2824],{"type":422,"tag":646,"props":2752,"children":2753},{"style":1162},[2754],{"type":428,"value":2755},"  for",{"type":422,"tag":646,"props":2757,"children":2758},{"style":707},[2759],{"type":428,"value":710},{"type":422,"tag":646,"props":2761,"children":2762},{"style":653},[2763],{"type":428,"value":2313},{"type":422,"tag":646,"props":2765,"children":2766},{"style":713},[2767],{"type":428,"value":2768}," i",{"type":422,"tag":646,"props":2770,"children":2771},{"style":701},[2772],{"type":428,"value":704},{"type":422,"tag":646,"props":2774,"children":2776},{"style":2775},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2777],{"type":428,"value":2778}," 0",{"type":422,"tag":646,"props":2780,"children":2781},{"style":665},[2782],{"type":428,"value":2783},";",{"type":422,"tag":646,"props":2785,"children":2786},{"style":713},[2787],{"type":428,"value":2768},{"type":422,"tag":646,"props":2789,"children":2790},{"style":701},[2791],{"type":428,"value":2792}," \u003C",{"type":422,"tag":646,"props":2794,"children":2795},{"style":713},[2796],{"type":428,"value":2631},{"type":422,"tag":646,"props":2798,"children":2799},{"style":665},[2800],{"type":428,"value":720},{"type":422,"tag":646,"props":2802,"children":2803},{"style":695},[2804],{"type":428,"value":2805},"length",{"type":422,"tag":646,"props":2807,"children":2808},{"style":665},[2809],{"type":428,"value":2783},{"type":422,"tag":646,"props":2811,"children":2812},{"style":713},[2813],{"type":428,"value":2768},{"type":422,"tag":646,"props":2815,"children":2816},{"style":701},[2817],{"type":428,"value":2818},"++",{"type":422,"tag":646,"props":2820,"children":2821},{"style":707},[2822],{"type":428,"value":2823},") ",{"type":422,"tag":646,"props":2825,"children":2826},{"style":665},[2827],{"type":428,"value":2585},{"type":422,"tag":646,"props":2829,"children":2831},{"class":648,"line":2830},18,[2832,2837,2842,2846,2850,2854,2859,2863],{"type":422,"tag":646,"props":2833,"children":2834},{"style":653},[2835],{"type":428,"value":2836},"    var",{"type":422,"tag":646,"props":2838,"children":2839},{"style":713},[2840],{"type":428,"value":2841}," line",{"type":422,"tag":646,"props":2843,"children":2844},{"style":701},[2845],{"type":428,"value":704},{"type":422,"tag":646,"props":2847,"children":2848},{"style":713},[2849],{"type":428,"value":2631},{"type":422,"tag":646,"props":2851,"children":2852},{"style":707},[2853],{"type":428,"value":1120},{"type":422,"tag":646,"props":2855,"children":2856},{"style":713},[2857],{"type":428,"value":2858},"i",{"type":422,"tag":646,"props":2860,"children":2861},{"style":707},[2862],{"type":428,"value":2042},{"type":422,"tag":646,"props":2864,"children":2865},{"style":665},[2866],{"type":428,"value":787},{"type":422,"tag":646,"props":2868,"children":2870},{"class":648,"line":2869},19,[2871,2876,2880,2884,2889,2893,2897,2901,2905,2909],{"type":422,"tag":646,"props":2872,"children":2873},{"style":1162},[2874],{"type":428,"value":2875},"    if",{"type":422,"tag":646,"props":2877,"children":2878},{"style":707},[2879],{"type":428,"value":710},{"type":422,"tag":646,"props":2881,"children":2882},{"style":701},[2883],{"type":428,"value":2553},{"type":422,"tag":646,"props":2885,"children":2886},{"style":713},[2887],{"type":428,"value":2888},"emptyRE",{"type":422,"tag":646,"props":2890,"children":2891},{"style":665},[2892],{"type":428,"value":720},{"type":422,"tag":646,"props":2894,"children":2895},{"style":659},[2896],{"type":428,"value":2567},{"type":422,"tag":646,"props":2898,"children":2899},{"style":707},[2900],{"type":428,"value":668},{"type":422,"tag":646,"props":2902,"children":2903},{"style":713},[2904],{"type":428,"value":648},{"type":422,"tag":646,"props":2906,"children":2907},{"style":707},[2908],{"type":428,"value":2580},{"type":422,"tag":646,"props":2910,"children":2911},{"style":665},[2912],{"type":428,"value":2585},{"type":422,"tag":646,"props":2914,"children":2916},{"class":648,"line":2915},20,[2917,2922,2926,2930,2935,2939],{"type":422,"tag":646,"props":2918,"children":2919},{"style":1162},[2920],{"type":428,"value":2921},"      if",{"type":422,"tag":646,"props":2923,"children":2924},{"style":707},[2925],{"type":428,"value":710},{"type":422,"tag":646,"props":2927,"children":2928},{"style":701},[2929],{"type":428,"value":2553},{"type":422,"tag":646,"props":2931,"children":2932},{"style":713},[2933],{"type":428,"value":2934},"type",{"type":422,"tag":646,"props":2936,"children":2937},{"style":707},[2938],{"type":428,"value":2823},{"type":422,"tag":646,"props":2940,"children":2941},{"style":665},[2942],{"type":428,"value":2585},{"type":422,"tag":646,"props":2944,"children":2946},{"class":648,"line":2945},21,[2947,2952,2956,2960,2964,2969,2973,2978,2982],{"type":422,"tag":646,"props":2948,"children":2949},{"style":713},[2950],{"type":428,"value":2951},"        c",{"type":422,"tag":646,"props":2953,"children":2954},{"style":701},[2955],{"type":428,"value":704},{"type":422,"tag":646,"props":2957,"children":2958},{"style":713},[2959],{"type":428,"value":2841},{"type":422,"tag":646,"props":2961,"children":2962},{"style":665},[2963],{"type":428,"value":720},{"type":422,"tag":646,"props":2965,"children":2966},{"style":659},[2967],{"type":428,"value":2968},"charAt",{"type":422,"tag":646,"props":2970,"children":2971},{"style":707},[2972],{"type":428,"value":668},{"type":422,"tag":646,"props":2974,"children":2975},{"style":2775},[2976],{"type":428,"value":2977},"0",{"type":422,"tag":646,"props":2979,"children":2980},{"style":707},[2981],{"type":428,"value":678},{"type":422,"tag":646,"props":2983,"children":2984},{"style":665},[2985],{"type":428,"value":787},{"type":422,"tag":646,"props":2987,"children":2989},{"class":648,"line":2988},22,[2990,2995,2999,3004,3009,3013,3017,3021,3025,3029,3033,3038,3042,3046],{"type":422,"tag":646,"props":2991,"children":2992},{"style":1162},[2993],{"type":428,"value":2994},"        if",{"type":422,"tag":646,"props":2996,"children":2997},{"style":707},[2998],{"type":428,"value":710},{"type":422,"tag":646,"props":3000,"children":3001},{"style":713},[3002],{"type":428,"value":3003},"c",{"type":422,"tag":646,"props":3005,"children":3006},{"style":701},[3007],{"type":428,"value":3008}," ===",{"type":422,"tag":646,"props":3010,"children":3011},{"style":890},[3012],{"type":428,"value":1860},{"type":422,"tag":646,"props":3014,"children":3015},{"style":890},[3016],{"type":428,"value":1860},{"type":422,"tag":646,"props":3018,"children":3019},{"style":701},[3020],{"type":428,"value":730},{"type":422,"tag":646,"props":3022,"children":3023},{"style":713},[3024],{"type":428,"value":2742},{"type":422,"tag":646,"props":3026,"children":3027},{"style":701},[3028],{"type":428,"value":3008},{"type":422,"tag":646,"props":3030,"children":3031},{"style":890},[3032],{"type":428,"value":1860},{"type":422,"tag":646,"props":3034,"children":3035},{"style":2140},[3036],{"type":428,"value":3037},"\\t",{"type":422,"tag":646,"props":3039,"children":3040},{"style":890},[3041],{"type":428,"value":903},{"type":422,"tag":646,"props":3043,"children":3044},{"style":707},[3045],{"type":428,"value":2823},{"type":422,"tag":646,"props":3047,"children":3048},{"style":665},[3049],{"type":428,"value":2585},{"type":422,"tag":646,"props":3051,"children":3053},{"class":648,"line":3052},23,[3054,3059,3063,3067],{"type":422,"tag":646,"props":3055,"children":3056},{"style":713},[3057],{"type":428,"value":3058},"          type",{"type":422,"tag":646,"props":3060,"children":3061},{"style":701},[3062],{"type":428,"value":704},{"type":422,"tag":646,"props":3064,"children":3065},{"style":713},[3066],{"type":428,"value":2742},{"type":422,"tag":646,"props":3068,"children":3069},{"style":665},[3070],{"type":428,"value":787},{"type":422,"tag":646,"props":3072,"children":3074},{"class":648,"line":3073},24,[3075,3080,3084,3089,3093,3097,3101,3105,3109],{"type":422,"tag":646,"props":3076,"children":3077},{"style":713},[3078],{"type":428,"value":3079},"          cur",{"type":422,"tag":646,"props":3081,"children":3082},{"style":701},[3083],{"type":428,"value":704},{"type":422,"tag":646,"props":3085,"children":3086},{"style":659},[3087],{"type":428,"value":3088}," count",{"type":422,"tag":646,"props":3090,"children":3091},{"style":707},[3092],{"type":428,"value":668},{"type":422,"tag":646,"props":3094,"children":3095},{"style":713},[3096],{"type":428,"value":648},{"type":422,"tag":646,"props":3098,"children":3099},{"style":665},[3100],{"type":428,"value":831},{"type":422,"tag":646,"props":3102,"children":3103},{"style":713},[3104],{"type":428,"value":2724},{"type":422,"tag":646,"props":3106,"children":3107},{"style":707},[3108],{"type":428,"value":678},{"type":422,"tag":646,"props":3110,"children":3111},{"style":665},[3112],{"type":428,"value":787},{"type":422,"tag":646,"props":3114,"children":3116},{"class":648,"line":3115},25,[3117,3122,3126,3131,3135,3139,3143],{"type":422,"tag":646,"props":3118,"children":3119},{"style":1162},[3120],{"type":428,"value":3121},"          if",{"type":422,"tag":646,"props":3123,"children":3124},{"style":707},[3125],{"type":428,"value":710},{"type":422,"tag":646,"props":3127,"children":3128},{"style":713},[3129],{"type":428,"value":3130},"cur",{"type":422,"tag":646,"props":3132,"children":3133},{"style":701},[3134],{"type":428,"value":2792},{"type":422,"tag":646,"props":3136,"children":3137},{"style":713},[3138],{"type":428,"value":2691},{"type":422,"tag":646,"props":3140,"children":3141},{"style":707},[3142],{"type":428,"value":2823},{"type":422,"tag":646,"props":3144,"children":3145},{"style":665},[3146],{"type":428,"value":2585},{"type":422,"tag":646,"props":3148,"children":3150},{"class":648,"line":3149},26,[3151,3156,3160,3164],{"type":422,"tag":646,"props":3152,"children":3153},{"style":713},[3154],{"type":428,"value":3155},"            min",{"type":422,"tag":646,"props":3157,"children":3158},{"style":701},[3159],{"type":428,"value":704},{"type":422,"tag":646,"props":3161,"children":3162},{"style":713},[3163],{"type":428,"value":2733},{"type":422,"tag":646,"props":3165,"children":3166},{"style":665},[3167],{"type":428,"value":787},{"type":422,"tag":646,"props":3169,"children":3171},{"class":648,"line":3170},27,[3172],{"type":422,"tag":646,"props":3173,"children":3174},{"style":665},[3175],{"type":428,"value":3176},"          }\n",{"type":422,"tag":646,"props":3178,"children":3180},{"class":648,"line":3179},28,[3181,3186,3191],{"type":422,"tag":646,"props":3182,"children":3183},{"style":665},[3184],{"type":428,"value":3185},"        }",{"type":422,"tag":646,"props":3187,"children":3188},{"style":1162},[3189],{"type":428,"value":3190}," else",{"type":422,"tag":646,"props":3192,"children":3193},{"style":665},[3194],{"type":428,"value":683},{"type":422,"tag":646,"props":3196,"children":3198},{"class":648,"line":3197},29,[3199,3204,3208],{"type":422,"tag":646,"props":3200,"children":3201},{"style":1162},[3202],{"type":428,"value":3203},"          return",{"type":422,"tag":646,"props":3205,"children":3206},{"style":713},[3207],{"type":428,"value":2598},{"type":422,"tag":646,"props":3209,"children":3210},{"style":665},[3211],{"type":428,"value":787},{"type":422,"tag":646,"props":3213,"children":3215},{"class":648,"line":3214},30,[3216],{"type":422,"tag":646,"props":3217,"children":3218},{"style":665},[3219],{"type":428,"value":1782},{"type":422,"tag":646,"props":3221,"children":3223},{"class":648,"line":3222},31,[3224,3229,3233],{"type":422,"tag":646,"props":3225,"children":3226},{"style":665},[3227],{"type":428,"value":3228},"      }",{"type":422,"tag":646,"props":3230,"children":3231},{"style":1162},[3232],{"type":428,"value":3190},{"type":422,"tag":646,"props":3234,"children":3235},{"style":665},[3236],{"type":428,"value":683},{"type":422,"tag":646,"props":3238,"children":3240},{"class":648,"line":3239},32,[3241,3246,3250,3254,3258,3262,3266,3270,3274],{"type":422,"tag":646,"props":3242,"children":3243},{"style":713},[3244],{"type":428,"value":3245},"        cur",{"type":422,"tag":646,"props":3247,"children":3248},{"style":701},[3249],{"type":428,"value":704},{"type":422,"tag":646,"props":3251,"children":3252},{"style":659},[3253],{"type":428,"value":3088},{"type":422,"tag":646,"props":3255,"children":3256},{"style":707},[3257],{"type":428,"value":668},{"type":422,"tag":646,"props":3259,"children":3260},{"style":713},[3261],{"type":428,"value":648},{"type":422,"tag":646,"props":3263,"children":3264},{"style":665},[3265],{"type":428,"value":831},{"type":422,"tag":646,"props":3267,"children":3268},{"style":713},[3269],{"type":428,"value":2724},{"type":422,"tag":646,"props":3271,"children":3272},{"style":707},[3273],{"type":428,"value":678},{"type":422,"tag":646,"props":3275,"children":3276},{"style":665},[3277],{"type":428,"value":787},{"type":422,"tag":646,"props":3279,"children":3281},{"class":648,"line":3280},33,[3282,3286,3290,3294,3298,3302,3306],{"type":422,"tag":646,"props":3283,"children":3284},{"style":1162},[3285],{"type":428,"value":2994},{"type":422,"tag":646,"props":3287,"children":3288},{"style":707},[3289],{"type":428,"value":710},{"type":422,"tag":646,"props":3291,"children":3292},{"style":713},[3293],{"type":428,"value":3130},{"type":422,"tag":646,"props":3295,"children":3296},{"style":701},[3297],{"type":428,"value":2792},{"type":422,"tag":646,"props":3299,"children":3300},{"style":713},[3301],{"type":428,"value":2691},{"type":422,"tag":646,"props":3303,"children":3304},{"style":707},[3305],{"type":428,"value":2823},{"type":422,"tag":646,"props":3307,"children":3308},{"style":665},[3309],{"type":428,"value":2585},{"type":422,"tag":646,"props":3311,"children":3313},{"class":648,"line":3312},34,[3314,3319,3323,3327],{"type":422,"tag":646,"props":3315,"children":3316},{"style":713},[3317],{"type":428,"value":3318},"          min",{"type":422,"tag":646,"props":3320,"children":3321},{"style":701},[3322],{"type":428,"value":704},{"type":422,"tag":646,"props":3324,"children":3325},{"style":713},[3326],{"type":428,"value":2733},{"type":422,"tag":646,"props":3328,"children":3329},{"style":665},[3330],{"type":428,"value":787},{"type":422,"tag":646,"props":3332,"children":3334},{"class":648,"line":3333},35,[3335],{"type":422,"tag":646,"props":3336,"children":3337},{"style":665},[3338],{"type":428,"value":1782},{"type":422,"tag":646,"props":3340,"children":3342},{"class":648,"line":3341},36,[3343],{"type":422,"tag":646,"props":3344,"children":3345},{"style":665},[3346],{"type":428,"value":3347},"      }\n",{"type":422,"tag":646,"props":3349,"children":3351},{"class":648,"line":3350},37,[3352],{"type":422,"tag":646,"props":3353,"children":3354},{"style":665},[3355],{"type":428,"value":3356},"    }\n",{"type":422,"tag":646,"props":3358,"children":3360},{"class":648,"line":3359},38,[3361],{"type":422,"tag":646,"props":3362,"children":3363},{"style":665},[3364],{"type":428,"value":2610},{"type":422,"tag":646,"props":3366,"children":3368},{"class":648,"line":3367},39,[3369],{"type":422,"tag":646,"props":3370,"children":3371},{"style":1256},[3372],{"type":428,"value":3373},"  // 用 String.slice 切除前置空格，性能最好\n",{"type":422,"tag":646,"props":3375,"children":3377},{"class":648,"line":3376},40,[3378,3382],{"type":422,"tag":646,"props":3379,"children":3380},{"style":1162},[3381],{"type":428,"value":1165},{"type":422,"tag":646,"props":3383,"children":3384},{"style":713},[3385],{"type":428,"value":3386}," lines\n",{"type":422,"tag":646,"props":3388,"children":3390},{"class":648,"line":3389},41,[3391,3396,3400,3404,3408,3412,3416,3420],{"type":422,"tag":646,"props":3392,"children":3393},{"style":665},[3394],{"type":428,"value":3395},"    .",{"type":422,"tag":646,"props":3397,"children":3398},{"style":659},[3399],{"type":428,"value":744},{"type":422,"tag":646,"props":3401,"children":3402},{"style":707},[3403],{"type":428,"value":668},{"type":422,"tag":646,"props":3405,"children":3406},{"style":653},[3407],{"type":428,"value":656},{"type":422,"tag":646,"props":3409,"children":3410},{"style":665},[3411],{"type":428,"value":710},{"type":422,"tag":646,"props":3413,"children":3414},{"style":671},[3415],{"type":428,"value":648},{"type":422,"tag":646,"props":3417,"children":3418},{"style":665},[3419],{"type":428,"value":678},{"type":422,"tag":646,"props":3421,"children":3422},{"style":665},[3423],{"type":428,"value":683},{"type":422,"tag":646,"props":3425,"children":3427},{"class":648,"line":3426},42,[3428,3433,3437,3441,3446,3450,3454,3458],{"type":422,"tag":646,"props":3429,"children":3430},{"style":1162},[3431],{"type":428,"value":3432},"      return",{"type":422,"tag":646,"props":3434,"children":3435},{"style":713},[3436],{"type":428,"value":2841},{"type":422,"tag":646,"props":3438,"children":3439},{"style":665},[3440],{"type":428,"value":720},{"type":422,"tag":646,"props":3442,"children":3443},{"style":659},[3444],{"type":428,"value":3445},"slice",{"type":422,"tag":646,"props":3447,"children":3448},{"style":707},[3449],{"type":428,"value":668},{"type":422,"tag":646,"props":3451,"children":3452},{"style":713},[3453],{"type":428,"value":2084},{"type":422,"tag":646,"props":3455,"children":3456},{"style":707},[3457],{"type":428,"value":678},{"type":422,"tag":646,"props":3459,"children":3460},{"style":665},[3461],{"type":428,"value":787},{"type":422,"tag":646,"props":3463,"children":3465},{"class":648,"line":3464},43,[3466,3471],{"type":422,"tag":646,"props":3467,"children":3468},{"style":665},[3469],{"type":428,"value":3470},"    }",{"type":422,"tag":646,"props":3472,"children":3473},{"style":707},[3474],{"type":428,"value":1600},{"type":422,"tag":646,"props":3476,"children":3478},{"class":648,"line":3477},44,[3479,3483,3487,3491,3495,3499,3503,3507],{"type":422,"tag":646,"props":3480,"children":3481},{"style":665},[3482],{"type":428,"value":3395},{"type":422,"tag":646,"props":3484,"children":3485},{"style":659},[3486],{"type":428,"value":2264},{"type":422,"tag":646,"props":3488,"children":3489},{"style":707},[3490],{"type":428,"value":668},{"type":422,"tag":646,"props":3492,"children":3493},{"style":890},[3494],{"type":428,"value":903},{"type":422,"tag":646,"props":3496,"children":3497},{"style":2140},[3498],{"type":428,"value":1939},{"type":422,"tag":646,"props":3500,"children":3501},{"style":890},[3502],{"type":428,"value":903},{"type":422,"tag":646,"props":3504,"children":3505},{"style":707},[3506],{"type":428,"value":678},{"type":422,"tag":646,"props":3508,"children":3509},{"style":665},[3510],{"type":428,"value":787},{"type":422,"tag":646,"props":3512,"children":3514},{"class":648,"line":3513},45,[3515],{"type":422,"tag":646,"props":3516,"children":3517},{"style":665},[3518],{"type":428,"value":1881},{"type":422,"tag":646,"props":3520,"children":3522},{"class":648,"line":3521},46,[3523],{"type":422,"tag":646,"props":3524,"children":3525},{"emptyLinePlaceholder":414},[3526],{"type":428,"value":2479},{"type":422,"tag":646,"props":3528,"children":3530},{"class":648,"line":3529},47,[3531,3535,3539,3543,3547,3551,3555,3559],{"type":422,"tag":646,"props":3532,"children":3533},{"style":653},[3534],{"type":428,"value":656},{"type":422,"tag":646,"props":3536,"children":3537},{"style":659},[3538],{"type":428,"value":3088},{"type":422,"tag":646,"props":3540,"children":3541},{"style":665},[3542],{"type":428,"value":668},{"type":422,"tag":646,"props":3544,"children":3545},{"style":671},[3546],{"type":428,"value":648},{"type":422,"tag":646,"props":3548,"children":3549},{"style":665},[3550],{"type":428,"value":831},{"type":422,"tag":646,"props":3552,"children":3553},{"style":671},[3554],{"type":428,"value":2724},{"type":422,"tag":646,"props":3556,"children":3557},{"style":665},[3558],{"type":428,"value":678},{"type":422,"tag":646,"props":3560,"children":3561},{"style":665},[3562],{"type":428,"value":683},{"type":422,"tag":646,"props":3564,"children":3566},{"class":648,"line":3565},48,[3567,3571,3575,3579,3583],{"type":422,"tag":646,"props":3568,"children":3569},{"style":653},[3570],{"type":428,"value":2626},{"type":422,"tag":646,"props":3572,"children":3573},{"style":713},[3574],{"type":428,"value":2768},{"type":422,"tag":646,"props":3576,"children":3577},{"style":701},[3578],{"type":428,"value":704},{"type":422,"tag":646,"props":3580,"children":3581},{"style":2775},[3582],{"type":428,"value":2778},{"type":422,"tag":646,"props":3584,"children":3585},{"style":665},[3586],{"type":428,"value":787},{"type":422,"tag":646,"props":3588,"children":3590},{"class":648,"line":3589},49,[3591,3596,3600,3604,3608,3612,3616,3620,3624,3629,3633,3637],{"type":422,"tag":646,"props":3592,"children":3593},{"style":1162},[3594],{"type":428,"value":3595},"  while",{"type":422,"tag":646,"props":3597,"children":3598},{"style":707},[3599],{"type":428,"value":710},{"type":422,"tag":646,"props":3601,"children":3602},{"style":713},[3603],{"type":428,"value":648},{"type":422,"tag":646,"props":3605,"children":3606},{"style":665},[3607],{"type":428,"value":720},{"type":422,"tag":646,"props":3609,"children":3610},{"style":659},[3611],{"type":428,"value":2968},{"type":422,"tag":646,"props":3613,"children":3614},{"style":707},[3615],{"type":428,"value":668},{"type":422,"tag":646,"props":3617,"children":3618},{"style":713},[3619],{"type":428,"value":2858},{"type":422,"tag":646,"props":3621,"children":3622},{"style":707},[3623],{"type":428,"value":2823},{"type":422,"tag":646,"props":3625,"children":3626},{"style":701},[3627],{"type":428,"value":3628},"===",{"type":422,"tag":646,"props":3630,"children":3631},{"style":713},[3632],{"type":428,"value":2724},{"type":422,"tag":646,"props":3634,"children":3635},{"style":707},[3636],{"type":428,"value":2823},{"type":422,"tag":646,"props":3638,"children":3639},{"style":665},[3640],{"type":428,"value":2585},{"type":422,"tag":646,"props":3642,"children":3644},{"class":648,"line":3643},50,[3645,3650,3654],{"type":422,"tag":646,"props":3646,"children":3647},{"style":713},[3648],{"type":428,"value":3649},"    i",{"type":422,"tag":646,"props":3651,"children":3652},{"style":701},[3653],{"type":428,"value":2818},{"type":422,"tag":646,"props":3655,"children":3656},{"style":665},[3657],{"type":428,"value":787},{"type":422,"tag":646,"props":3659,"children":3661},{"class":648,"line":3660},51,[3662],{"type":422,"tag":646,"props":3663,"children":3664},{"style":665},[3665],{"type":428,"value":2610},{"type":422,"tag":646,"props":3667,"children":3669},{"class":648,"line":3668},52,[3670,3674,3678],{"type":422,"tag":646,"props":3671,"children":3672},{"style":1162},[3673],{"type":428,"value":1165},{"type":422,"tag":646,"props":3675,"children":3676},{"style":713},[3677],{"type":428,"value":2768},{"type":422,"tag":646,"props":3679,"children":3680},{"style":665},[3681],{"type":428,"value":787},{"type":422,"tag":646,"props":3683,"children":3685},{"class":648,"line":3684},53,[3686],{"type":422,"tag":646,"props":3687,"children":3688},{"style":665},[3689],{"type":428,"value":1182},{"type":422,"tag":3691,"props":3692,"children":3693},"style",{},[3694],{"type":428,"value":3695},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":415,"searchDepth":686,"depth":686,"links":3697},[3698,3699,3702,3703,3704,3708],{"id":425,"depth":686,"text":429},{"id":508,"depth":686,"text":453,"children":3700},[3701],{"id":530,"depth":790,"text":533},{"id":561,"depth":686,"text":463},{"id":571,"depth":686,"text":574},{"id":582,"depth":686,"text":493,"children":3705},[3706,3707],{"id":587,"depth":790,"text":590},{"id":1603,"depth":790,"text":1606},{"id":1657,"depth":686,"text":1657,"children":3709},[3710,3711],{"id":1685,"depth":790,"text":1685},{"id":2291,"depth":790,"text":2291},"content:8.source-code:_js:vue2-source:2.parser.md","content","8.source-code/_js/vue2-source/2.parser.md","8.source-code/_js/vue2-source/2.parser","md",[3718,3721],{"_path":3719,"title":3720,"description":417},"/source-code/_js/vue2-source/observer","Vue2 Observer",{"_path":3722,"title":3723,"description":417},"/source-code/_js/vue2-source/global-api","Vue2 Global API",1732808721511]