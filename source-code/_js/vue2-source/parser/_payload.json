[{"data":1,"prerenderedAt":3707},["ShallowReactive",2],{"navigation":3,"/source-code/_js/vue2-source/parser":393,"/source-code/_js/vue2-source/parser-surround":3700},[4,35,86,105,132,138,144,150,387],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"数字化转型","/gists/digital-transformation",{"title":205,"_path":206},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":208,"_path":209},"正则表达式","/gists/eegex",{"title":211,"_path":212},"Emoji","/gists/emoji",{"title":214,"_path":215},"工程","/gists/engineering",{"title":217,"_path":218},"熵","/gists/entropy",{"title":220,"_path":221},"Environment","/gists/environment",{"title":223,"_path":224},"Erlang","/gists/erlang",{"title":226,"_path":227},"逃离塔克夫","/gists/escape-from-tarkov",{"title":229,"_path":230},"ESNext (ES6-ES11)","/gists/esnext",{"title":232,"_path":233},"Eval！","/gists/eval",{"title":235,"_path":236},"Flutter","/gists/flutter",{"title":238,"_path":239},"字体","/gists/font",{"title":241,"_path":242},"JS 函数式编程","/gists/functional",{"title":244,"_path":245},"游戏化","/gists/gamification",{"title":247,"_path":248},"Google C++ Standard","/gists/google-cpp-standard",{"title":250,"_path":251},"双向链接完全体","/gists/graph",{"title":253,"_path":254},"Hardwares","/gists/hardwares",{"title":256,"_path":257},"哈希冲突","/gists/hash-collision",{"title":259,"_path":260},"信息设计","/gists/information-design",{"title":262,"_path":263},"InstantPage","/gists/instant.page",{"title":265,"_path":266},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":268,"_path":269},"KVStore","/gists/key-value-db",{"title":271,"_path":272},"Kubernetes","/gists/kubernetes",{"title":274,"_path":275},"Makefile","/gists/makefile",{"title":277,"_path":278},"Markdown Inline Style","/gists/markdown-nice",{"title":280,"_path":281},"小程序","/gists/miniapp",{"title":283,"_path":284},"减小页面快照体积","/gists/minify-html",{"title":286,"_path":287},"mklink","/gists/mklink",{"title":289,"_path":290},"Mock","/gists/mock",{"title":292,"_path":293},"多人协作系统","/gists/multiplayer",{"title":295,"_path":296},"多端应用","/gists/multy-end-app",{"title":298,"_path":299},"神经科学","/gists/neuroscience",{"title":301,"_path":302},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":304,"_path":305},"PInvoke","/gists/pinvoke",{"title":307,"_path":308},"像素","/gists/pixel",{"title":310,"_path":311},"PowerShell","/gists/powershell",{"title":313,"_path":314},"量子","/gists/quantum",{"title":316,"_path":317},"保持好奇心","/gists/questions",{"title":319,"_path":320},"React Native","/gists/react-native",{"title":322,"_path":323},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":325,"_path":326},"SEO","/gists/seo",{"title":328,"_path":329},"Shader","/gists/shader",{"title":331,"_path":332},"Shape Up","/gists/shape-up",{"title":334,"_path":335},"睡觉","/gists/sleep",{"title":337,"_path":338},"记录奇怪的问题","/gists/solved",{"title":340,"_path":341},"States","/gists/states",{"title":343,"_path":344},"Storage","/gists/storage",{"title":346,"_path":347},"音视频流处理","/gists/stream-cli",{"title":349,"_path":350},"Symbol","/gists/symbol",{"title":352,"_path":353},"系统论","/gists/systems-theory",{"title":355,"_path":356},"Taro","/gists/taro",{"title":358,"_path":359},"任务切片","/gists/task-slice",{"title":361,"_path":362},"技术偏好","/gists/tech-dudge",{"title":364,"_path":365},"Untitled","/gists/untitled",{"title":367,"_path":368},"可变字体","/gists/variable-font",{"title":370,"_path":371},"视觉错觉","/gists/visual-illusion",{"title":373,"_path":374},"SS(SSR)","/gists/vpn",{"title":376,"_path":377},"VS Code 插件开发","/gists/vscode-plugin",{"title":379,"_path":380},"Web Components","/gists/web-components",{"title":382,"_path":383},"Windows","/gists/windows",{"title":385,"_path":386},"查缺补漏","/gists/wrong",{"title":388,"_path":389,"children":390},"我 / About","/hire",[391],{"title":392,"_path":389},"📬 技术简历",{"_path":394,"_dir":395,"_draft":396,"_partial":397,"_locale":398,"title":399,"description":400,"body":401,"_type":1680,"_id":3695,"_source":3696,"_file":3697,"_stem":3698,"_extension":3699},"/source-code/_js/vue2-source/parser","vue2-source",false,true,"","Vue2 Parser","deprecated warning",{"type":402,"children":403,"toc":3679},"root",[404,413,489,494,500,505,510,517,542,547,552,558,563,568,574,579,584,612,617,1166,1178,1183,1190,1195,1584,1590,1595,1633,1638,1643,1648,1666,1671,1676,1798,1803,1865,1870,2272,2277,2282,3673],{"type":405,"tag":406,"props":407,"children":409},"element","h2",{"id":408},"data-flow",[410],{"type":411,"value":412},"text","Data Flow",{"type":405,"tag":414,"props":415,"children":416},"ul",{},[417,429,439,449,459,469,479],{"type":405,"tag":418,"props":419,"children":420},"li",{},[421,427],{"type":405,"tag":422,"props":423,"children":424},"strong",{},[425],{"type":411,"value":426},"HTML Template",{"type":411,"value":428},"：html string",{"type":405,"tag":418,"props":430,"children":431},{},[432,437],{"type":405,"tag":422,"props":433,"children":434},{},[435],{"type":411,"value":436},"Parser",{"type":411,"value":438},"：ast nodes & expressions",{"type":405,"tag":418,"props":440,"children":441},{},[442,447],{"type":405,"tag":422,"props":443,"children":444},{},[445],{"type":411,"value":446},"Optimizer",{"type":411,"value":448},"：markStatic",{"type":405,"tag":418,"props":450,"children":451},{},[452,457],{"type":405,"tag":422,"props":453,"children":454},{},[455],{"type":411,"value":456},"Code Generator",{"type":411,"value":458},"：with(this) { createElement(...) }",{"type":405,"tag":418,"props":460,"children":461},{},[462,467],{"type":405,"tag":422,"props":463,"children":464},{},[465],{"type":411,"value":466},"Render",{"type":411,"value":468},"：VNodes",{"type":405,"tag":418,"props":470,"children":471},{},[472,477],{"type":405,"tag":422,"props":473,"children":474},{},[475],{"type":411,"value":476},"Node Patching",{"type":411,"value":478},"：VNode Diff",{"type":405,"tag":418,"props":480,"children":481},{},[482,487],{"type":405,"tag":422,"props":483,"children":484},{},[485],{"type":411,"value":486},"DOM",{"type":411,"value":488},"：finnaly...",{"type":405,"tag":406,"props":490,"children":492},{"id":491},"parser",[493],{"type":411,"value":436},{"type":405,"tag":495,"props":496,"children":497},"p",{},[498],{"type":411,"value":499},"Paser 分为三类，HTML Parser、文本解析器（Text Parser）、过滤器解析器（Filter Parser）。",{"type":405,"tag":495,"props":501,"children":502},{},[503],{"type":411,"value":504},"Vue 中的 HTML Parser 是在某个已有的 Parser 基础上改造而成的。原有 Parser 是一个不断解析传入 HTML 的有限状态机，不停地对标签开头、属性、标签结尾及文本等类型进行正则匹配，并处理匹配得到的内容。其内部维护了一个堆栈，可以很好地处理节点间的层级关系。",{"type":405,"tag":495,"props":506,"children":507},{},[508],{"type":411,"value":509},"Vue 通过原 HTML Parser 提供的接口，传入钩子函数，分别对标签、文本等做额外处理。比如说，HTML 中的文本要按照文本解析器，将模板的插值和纯文本解析出来，这样才可以将变量动态代入，生成字符串。最终，HTML 通过 Parser 解析，得到了 AST。",{"type":405,"tag":511,"props":512,"children":514},"h3",{"id":513},"code-example",[515],{"type":411,"value":516},"Code Example",{"type":405,"tag":414,"props":518,"children":519},{},[520,532],{"type":405,"tag":418,"props":521,"children":522},{},[523],{"type":405,"tag":524,"props":525,"children":529},"a",{"href":526,"rel":527},"https://github.com/Lionad-Morotar/read-source-code/tree/master/module/html-parser",[528],"nofollow",[530],{"type":411,"value":531},"HTML Parser",{"type":405,"tag":418,"props":533,"children":534},{},[535],{"type":405,"tag":524,"props":536,"children":539},{"href":537,"rel":538},"https://github.com/Lionad-Morotar/read-source-code/tree/master/module/template-parser",[528],[540],{"type":411,"value":541},"Template Parser",{"type":405,"tag":406,"props":543,"children":545},{"id":544},"optimizer",[546],{"type":411,"value":446},{"type":405,"tag":495,"props":548,"children":549},{},[550],{"type":411,"value":551},"优化器（Optimizer）在 HTML Parser 生成的 AST 的基础上，对静态节点进行标记，以提高重渲染以及 node patching 时的性能：node patching 时静态节点完全不变，所以可以跳过比较；重渲染时意味着可以在新的渲染过程中服用第一次渲染时生成好的 DOM Node。",{"type":405,"tag":406,"props":553,"children":555},{"id":554},"generator",[556],{"type":411,"value":557},"Generator",{"type":405,"tag":495,"props":559,"children":560},{},[561],{"type":411,"value":562},"Generator 在这里指代码生成器。Generator 从 AST 节点的根开始遍历，把所以节点转化为类似 _c(tag,data,children) 的字符串。这些字符串最后经过运行，也就得到了货真价实的 VNodes。也就是说，_c 和实例的 _h 函数是一样的。它在 Vue 实例，也就是组件，的初始化时就被诸如。除了 _c，Generator 中还添加了许多类似的函数，用于创建 VNode，比如 _s，对应 createTextNode。这些函数在 Vue 实例的 renderMixin 时，被挂载到实例原型上。",{"type":405,"tag":406,"props":564,"children":566},{"id":565},"node-patching",[567],{"type":411,"value":476},{"type":405,"tag":511,"props":569,"children":571},{"id":570},"vnode",[572],{"type":411,"value":573},"VNode",{"type":405,"tag":495,"props":575,"children":576},{},[577],{"type":411,"value":578},"虚拟节点通过一些特定的选项来表示真实的 DOM 结构。由于只涉及 JS 计算，所以在需要批量操作的情况下，操作虚拟节点要比操作 DOM 开销要小。",{"type":405,"tag":495,"props":580,"children":581},{},[582],{"type":411,"value":583},"主要有以下几类：",{"type":405,"tag":414,"props":585,"children":586},{},[587,592,597,602,607],{"type":405,"tag":418,"props":588,"children":589},{},[590],{"type":411,"value":591},"EmptyVNode：空节点",{"type":405,"tag":418,"props":593,"children":594},{},[595],{"type":411,"value":596},"TextVNode：文本节点",{"type":405,"tag":418,"props":598,"children":599},{},[600],{"type":411,"value":601},"ElementVNode：元素节点",{"type":405,"tag":418,"props":603,"children":604},{},[605],{"type":411,"value":606},"ComponentVNode：组件节点",{"type":405,"tag":418,"props":608,"children":609},{},[610],{"type":411,"value":611},"CloneVNode：克隆节点",{"type":405,"tag":495,"props":613,"children":614},{},[615],{"type":411,"value":616},"渲染函数通过 AST Node 生成了 VNode，这些 VNode 可能被复用，此时会拷贝出一个新节点用来渲染，这个节点就是克隆节点。",{"type":405,"tag":618,"props":619,"children":623},"pre",{"className":620,"code":621,"language":622,"meta":398,"style":398},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","function cloneVNode(vnode) {\n  const clonedChild = (vnode.children || []).map((vnode) => cloneVNode(vnode));\n  const cloned = createElement(vnode.tag, vnode.data, clonedChild);\n  const copyProps = [\n    \"text\",\n    \"isComment\",\n    \"isStatic\",\n    \"key\",\n    \"elm\",\n    \"context\",\n    \"ns\",\n    \"componentOptions\",\n  ];\n  copyProps.map((prop) => (cloned[prop] = vnode[prop]));\n  return cloned;\n}\n","js",[624],{"type":405,"tag":625,"props":626,"children":627},"code",{"__ignoreMap":398},[628,667,771,845,867,892,913,934,955,976,997,1018,1039,1052,1139,1157],{"type":405,"tag":629,"props":630,"children":633},"span",{"class":631,"line":632},"line",1,[634,640,646,652,657,662],{"type":405,"tag":629,"props":635,"children":637},{"style":636},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[638],{"type":411,"value":639},"function",{"type":405,"tag":629,"props":641,"children":643},{"style":642},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[644],{"type":411,"value":645}," cloneVNode",{"type":405,"tag":629,"props":647,"children":649},{"style":648},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[650],{"type":411,"value":651},"(",{"type":405,"tag":629,"props":653,"children":655},{"style":654},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[656],{"type":411,"value":570},{"type":405,"tag":629,"props":658,"children":659},{"style":648},[660],{"type":411,"value":661},")",{"type":405,"tag":629,"props":663,"children":664},{"style":648},[665],{"type":411,"value":666}," {\n",{"type":405,"tag":629,"props":668,"children":670},{"class":631,"line":669},2,[671,676,682,688,694,699,704,709,714,719,723,728,732,736,740,744,749,753,757,761,766],{"type":405,"tag":629,"props":672,"children":673},{"style":636},[674],{"type":411,"value":675},"  const",{"type":405,"tag":629,"props":677,"children":679},{"style":678},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[680],{"type":411,"value":681}," clonedChild",{"type":405,"tag":629,"props":683,"children":685},{"style":684},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[686],{"type":411,"value":687}," =",{"type":405,"tag":629,"props":689,"children":691},{"style":690},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[692],{"type":411,"value":693}," (",{"type":405,"tag":629,"props":695,"children":697},{"style":696},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[698],{"type":411,"value":570},{"type":405,"tag":629,"props":700,"children":701},{"style":648},[702],{"type":411,"value":703},".",{"type":405,"tag":629,"props":705,"children":706},{"style":696},[707],{"type":411,"value":708},"children",{"type":405,"tag":629,"props":710,"children":711},{"style":684},[712],{"type":411,"value":713}," ||",{"type":405,"tag":629,"props":715,"children":716},{"style":690},[717],{"type":411,"value":718}," [])",{"type":405,"tag":629,"props":720,"children":721},{"style":648},[722],{"type":411,"value":703},{"type":405,"tag":629,"props":724,"children":725},{"style":642},[726],{"type":411,"value":727},"map",{"type":405,"tag":629,"props":729,"children":730},{"style":690},[731],{"type":411,"value":651},{"type":405,"tag":629,"props":733,"children":734},{"style":648},[735],{"type":411,"value":651},{"type":405,"tag":629,"props":737,"children":738},{"style":654},[739],{"type":411,"value":570},{"type":405,"tag":629,"props":741,"children":742},{"style":648},[743],{"type":411,"value":661},{"type":405,"tag":629,"props":745,"children":746},{"style":636},[747],{"type":411,"value":748}," =>",{"type":405,"tag":629,"props":750,"children":751},{"style":642},[752],{"type":411,"value":645},{"type":405,"tag":629,"props":754,"children":755},{"style":690},[756],{"type":411,"value":651},{"type":405,"tag":629,"props":758,"children":759},{"style":696},[760],{"type":411,"value":570},{"type":405,"tag":629,"props":762,"children":763},{"style":690},[764],{"type":411,"value":765},"))",{"type":405,"tag":629,"props":767,"children":768},{"style":648},[769],{"type":411,"value":770},";\n",{"type":405,"tag":629,"props":772,"children":774},{"class":631,"line":773},3,[775,779,784,788,793,797,801,805,810,815,820,824,829,833,837,841],{"type":405,"tag":629,"props":776,"children":777},{"style":636},[778],{"type":411,"value":675},{"type":405,"tag":629,"props":780,"children":781},{"style":678},[782],{"type":411,"value":783}," cloned",{"type":405,"tag":629,"props":785,"children":786},{"style":684},[787],{"type":411,"value":687},{"type":405,"tag":629,"props":789,"children":790},{"style":642},[791],{"type":411,"value":792}," createElement",{"type":405,"tag":629,"props":794,"children":795},{"style":690},[796],{"type":411,"value":651},{"type":405,"tag":629,"props":798,"children":799},{"style":696},[800],{"type":411,"value":570},{"type":405,"tag":629,"props":802,"children":803},{"style":648},[804],{"type":411,"value":703},{"type":405,"tag":629,"props":806,"children":807},{"style":696},[808],{"type":411,"value":809},"tag",{"type":405,"tag":629,"props":811,"children":812},{"style":648},[813],{"type":411,"value":814},",",{"type":405,"tag":629,"props":816,"children":817},{"style":696},[818],{"type":411,"value":819}," vnode",{"type":405,"tag":629,"props":821,"children":822},{"style":648},[823],{"type":411,"value":703},{"type":405,"tag":629,"props":825,"children":826},{"style":696},[827],{"type":411,"value":828},"data",{"type":405,"tag":629,"props":830,"children":831},{"style":648},[832],{"type":411,"value":814},{"type":405,"tag":629,"props":834,"children":835},{"style":696},[836],{"type":411,"value":681},{"type":405,"tag":629,"props":838,"children":839},{"style":690},[840],{"type":411,"value":661},{"type":405,"tag":629,"props":842,"children":843},{"style":648},[844],{"type":411,"value":770},{"type":405,"tag":629,"props":846,"children":848},{"class":631,"line":847},4,[849,853,858,862],{"type":405,"tag":629,"props":850,"children":851},{"style":636},[852],{"type":411,"value":675},{"type":405,"tag":629,"props":854,"children":855},{"style":678},[856],{"type":411,"value":857}," copyProps",{"type":405,"tag":629,"props":859,"children":860},{"style":684},[861],{"type":411,"value":687},{"type":405,"tag":629,"props":863,"children":864},{"style":690},[865],{"type":411,"value":866}," [\n",{"type":405,"tag":629,"props":868,"children":870},{"class":631,"line":869},5,[871,877,882,887],{"type":405,"tag":629,"props":872,"children":874},{"style":873},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[875],{"type":411,"value":876},"    \"",{"type":405,"tag":629,"props":878,"children":880},{"style":879},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[881],{"type":411,"value":411},{"type":405,"tag":629,"props":883,"children":884},{"style":873},[885],{"type":411,"value":886},"\"",{"type":405,"tag":629,"props":888,"children":889},{"style":648},[890],{"type":411,"value":891},",\n",{"type":405,"tag":629,"props":893,"children":895},{"class":631,"line":894},6,[896,900,905,909],{"type":405,"tag":629,"props":897,"children":898},{"style":873},[899],{"type":411,"value":876},{"type":405,"tag":629,"props":901,"children":902},{"style":879},[903],{"type":411,"value":904},"isComment",{"type":405,"tag":629,"props":906,"children":907},{"style":873},[908],{"type":411,"value":886},{"type":405,"tag":629,"props":910,"children":911},{"style":648},[912],{"type":411,"value":891},{"type":405,"tag":629,"props":914,"children":916},{"class":631,"line":915},7,[917,921,926,930],{"type":405,"tag":629,"props":918,"children":919},{"style":873},[920],{"type":411,"value":876},{"type":405,"tag":629,"props":922,"children":923},{"style":879},[924],{"type":411,"value":925},"isStatic",{"type":405,"tag":629,"props":927,"children":928},{"style":873},[929],{"type":411,"value":886},{"type":405,"tag":629,"props":931,"children":932},{"style":648},[933],{"type":411,"value":891},{"type":405,"tag":629,"props":935,"children":937},{"class":631,"line":936},8,[938,942,947,951],{"type":405,"tag":629,"props":939,"children":940},{"style":873},[941],{"type":411,"value":876},{"type":405,"tag":629,"props":943,"children":944},{"style":879},[945],{"type":411,"value":946},"key",{"type":405,"tag":629,"props":948,"children":949},{"style":873},[950],{"type":411,"value":886},{"type":405,"tag":629,"props":952,"children":953},{"style":648},[954],{"type":411,"value":891},{"type":405,"tag":629,"props":956,"children":958},{"class":631,"line":957},9,[959,963,968,972],{"type":405,"tag":629,"props":960,"children":961},{"style":873},[962],{"type":411,"value":876},{"type":405,"tag":629,"props":964,"children":965},{"style":879},[966],{"type":411,"value":967},"elm",{"type":405,"tag":629,"props":969,"children":970},{"style":873},[971],{"type":411,"value":886},{"type":405,"tag":629,"props":973,"children":974},{"style":648},[975],{"type":411,"value":891},{"type":405,"tag":629,"props":977,"children":979},{"class":631,"line":978},10,[980,984,989,993],{"type":405,"tag":629,"props":981,"children":982},{"style":873},[983],{"type":411,"value":876},{"type":405,"tag":629,"props":985,"children":986},{"style":879},[987],{"type":411,"value":988},"context",{"type":405,"tag":629,"props":990,"children":991},{"style":873},[992],{"type":411,"value":886},{"type":405,"tag":629,"props":994,"children":995},{"style":648},[996],{"type":411,"value":891},{"type":405,"tag":629,"props":998,"children":1000},{"class":631,"line":999},11,[1001,1005,1010,1014],{"type":405,"tag":629,"props":1002,"children":1003},{"style":873},[1004],{"type":411,"value":876},{"type":405,"tag":629,"props":1006,"children":1007},{"style":879},[1008],{"type":411,"value":1009},"ns",{"type":405,"tag":629,"props":1011,"children":1012},{"style":873},[1013],{"type":411,"value":886},{"type":405,"tag":629,"props":1015,"children":1016},{"style":648},[1017],{"type":411,"value":891},{"type":405,"tag":629,"props":1019,"children":1021},{"class":631,"line":1020},12,[1022,1026,1031,1035],{"type":405,"tag":629,"props":1023,"children":1024},{"style":873},[1025],{"type":411,"value":876},{"type":405,"tag":629,"props":1027,"children":1028},{"style":879},[1029],{"type":411,"value":1030},"componentOptions",{"type":405,"tag":629,"props":1032,"children":1033},{"style":873},[1034],{"type":411,"value":886},{"type":405,"tag":629,"props":1036,"children":1037},{"style":648},[1038],{"type":411,"value":891},{"type":405,"tag":629,"props":1040,"children":1042},{"class":631,"line":1041},13,[1043,1048],{"type":405,"tag":629,"props":1044,"children":1045},{"style":690},[1046],{"type":411,"value":1047},"  ]",{"type":405,"tag":629,"props":1049,"children":1050},{"style":648},[1051],{"type":411,"value":770},{"type":405,"tag":629,"props":1053,"children":1055},{"class":631,"line":1054},14,[1056,1061,1065,1069,1073,1077,1082,1086,1090,1094,1099,1104,1108,1113,1118,1122,1126,1130,1135],{"type":405,"tag":629,"props":1057,"children":1058},{"style":696},[1059],{"type":411,"value":1060},"  copyProps",{"type":405,"tag":629,"props":1062,"children":1063},{"style":648},[1064],{"type":411,"value":703},{"type":405,"tag":629,"props":1066,"children":1067},{"style":642},[1068],{"type":411,"value":727},{"type":405,"tag":629,"props":1070,"children":1071},{"style":690},[1072],{"type":411,"value":651},{"type":405,"tag":629,"props":1074,"children":1075},{"style":648},[1076],{"type":411,"value":651},{"type":405,"tag":629,"props":1078,"children":1079},{"style":654},[1080],{"type":411,"value":1081},"prop",{"type":405,"tag":629,"props":1083,"children":1084},{"style":648},[1085],{"type":411,"value":661},{"type":405,"tag":629,"props":1087,"children":1088},{"style":636},[1089],{"type":411,"value":748},{"type":405,"tag":629,"props":1091,"children":1092},{"style":690},[1093],{"type":411,"value":693},{"type":405,"tag":629,"props":1095,"children":1096},{"style":696},[1097],{"type":411,"value":1098},"cloned",{"type":405,"tag":629,"props":1100,"children":1101},{"style":690},[1102],{"type":411,"value":1103},"[",{"type":405,"tag":629,"props":1105,"children":1106},{"style":696},[1107],{"type":411,"value":1081},{"type":405,"tag":629,"props":1109,"children":1110},{"style":690},[1111],{"type":411,"value":1112},"] ",{"type":405,"tag":629,"props":1114,"children":1115},{"style":684},[1116],{"type":411,"value":1117},"=",{"type":405,"tag":629,"props":1119,"children":1120},{"style":696},[1121],{"type":411,"value":819},{"type":405,"tag":629,"props":1123,"children":1124},{"style":690},[1125],{"type":411,"value":1103},{"type":405,"tag":629,"props":1127,"children":1128},{"style":696},[1129],{"type":411,"value":1081},{"type":405,"tag":629,"props":1131,"children":1132},{"style":690},[1133],{"type":411,"value":1134},"]))",{"type":405,"tag":629,"props":1136,"children":1137},{"style":648},[1138],{"type":411,"value":770},{"type":405,"tag":629,"props":1140,"children":1142},{"class":631,"line":1141},15,[1143,1149,1153],{"type":405,"tag":629,"props":1144,"children":1146},{"style":1145},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1147],{"type":411,"value":1148},"  return",{"type":405,"tag":629,"props":1150,"children":1151},{"style":696},[1152],{"type":411,"value":783},{"type":405,"tag":629,"props":1154,"children":1155},{"style":648},[1156],{"type":411,"value":770},{"type":405,"tag":629,"props":1158,"children":1160},{"class":631,"line":1159},16,[1161],{"type":405,"tag":629,"props":1162,"children":1163},{"style":648},[1164],{"type":411,"value":1165},"}\n",{"type":405,"tag":495,"props":1167,"children":1168},{},[1169,1171],{"type":411,"value":1170},"关于 VNode 的属性更多解释见 ",{"type":405,"tag":524,"props":1172,"children":1175},{"href":1173,"rel":1174},"https://github.com/Lionad-Morotar/read-source-code/blob/343ecd050ec0eaaf56b59b6a4ed8f5c9595838f3/module/mini-vue/vdom/vnode.js",[528],[1176],{"type":411,"value":1177},"vnode.js",{"type":405,"tag":495,"props":1179,"children":1180},{},[1181],{"type":411,"value":1182},"使用 VNode 作为节点状态和 DOM 之间的中间层，可以避免性能浪费。每次渲染时，VNode 可以和上一次的 VNode 进行比较，以便重新生成 DOM 或是只改变 DOM 的一部分。",{"type":405,"tag":1184,"props":1185,"children":1187},"h4",{"id":1186},"createelement",[1188],{"type":411,"value":1189},"CreateElement",{"type":405,"tag":495,"props":1191,"children":1192},{},[1193],{"type":411,"value":1194},"VueJS createElement API 解析如下：",{"type":405,"tag":618,"props":1196,"children":1198},{"className":620,"code":1197,"language":622,"meta":398,"style":398},"createElement(\n  'name', // HTML 元素名、组件名或者函数也行\n  { // 一些可选参数\n    class： { /* loaded: isLoaded */ }, // :class\n    style: { /* background: isRed ? 'red' : 'white' */ }, // :style\n    props: { /* name */ }, // 组件 Props\n    attrs: { /* id, class */ }, // HTML attributes\n    domProps: { /* innerHTML、innerText */ }, // DOM props\n    on: { /* !~click: () => {} */ }, // 通过 Vue.$emit 触发的事件；感叹号和波浪号分别代表 capture 和 once\n    nativeOn: { /* click: () => {} */ }, // 原生 DOM 事件\n    scopedSlot: { /* default: props => h('div', {}, props.text) */ }, // 作用域插槽\n    key: '/* keyName */',\n    ref: '/* refName */',\n  },\n  []  // 子节点或者文本节点\n)\n",[1199],{"type":405,"tag":625,"props":1200,"children":1201},{"__ignoreMap":398},[1202,1215,1243,1256,1284,1316,1346,1376,1406,1436,1466,1496,1526,1555,1563,1576],{"type":405,"tag":629,"props":1203,"children":1204},{"class":631,"line":632},[1205,1210],{"type":405,"tag":629,"props":1206,"children":1207},{"style":642},[1208],{"type":411,"value":1209},"createElement",{"type":405,"tag":629,"props":1211,"children":1212},{"style":696},[1213],{"type":411,"value":1214},"(\n",{"type":405,"tag":629,"props":1216,"children":1217},{"class":631,"line":669},[1218,1223,1228,1233,1237],{"type":405,"tag":629,"props":1219,"children":1220},{"style":873},[1221],{"type":411,"value":1222},"  '",{"type":405,"tag":629,"props":1224,"children":1225},{"style":879},[1226],{"type":411,"value":1227},"name",{"type":405,"tag":629,"props":1229,"children":1230},{"style":873},[1231],{"type":411,"value":1232},"'",{"type":405,"tag":629,"props":1234,"children":1235},{"style":648},[1236],{"type":411,"value":814},{"type":405,"tag":629,"props":1238,"children":1240},{"style":1239},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[1241],{"type":411,"value":1242}," // HTML 元素名、组件名或者函数也行\n",{"type":405,"tag":629,"props":1244,"children":1245},{"class":631,"line":773},[1246,1251],{"type":405,"tag":629,"props":1247,"children":1248},{"style":648},[1249],{"type":411,"value":1250},"  {",{"type":405,"tag":629,"props":1252,"children":1253},{"style":1239},[1254],{"type":411,"value":1255}," // 一些可选参数\n",{"type":405,"tag":629,"props":1257,"children":1258},{"class":631,"line":847},[1259,1264,1269,1274,1279],{"type":405,"tag":629,"props":1260,"children":1261},{"style":696},[1262],{"type":411,"value":1263},"    class： ",{"type":405,"tag":629,"props":1265,"children":1266},{"style":648},[1267],{"type":411,"value":1268},"{",{"type":405,"tag":629,"props":1270,"children":1271},{"style":1239},[1272],{"type":411,"value":1273}," /* loaded: isLoaded */",{"type":405,"tag":629,"props":1275,"children":1276},{"style":648},[1277],{"type":411,"value":1278}," },",{"type":405,"tag":629,"props":1280,"children":1281},{"style":1239},[1282],{"type":411,"value":1283}," // :class\n",{"type":405,"tag":629,"props":1285,"children":1286},{"class":631,"line":869},[1287,1292,1297,1302,1307,1311],{"type":405,"tag":629,"props":1288,"children":1289},{"style":690},[1290],{"type":411,"value":1291},"    style",{"type":405,"tag":629,"props":1293,"children":1294},{"style":648},[1295],{"type":411,"value":1296},":",{"type":405,"tag":629,"props":1298,"children":1299},{"style":648},[1300],{"type":411,"value":1301}," {",{"type":405,"tag":629,"props":1303,"children":1304},{"style":1239},[1305],{"type":411,"value":1306}," /* background: isRed ? 'red' : 'white' */",{"type":405,"tag":629,"props":1308,"children":1309},{"style":648},[1310],{"type":411,"value":1278},{"type":405,"tag":629,"props":1312,"children":1313},{"style":1239},[1314],{"type":411,"value":1315}," // :style\n",{"type":405,"tag":629,"props":1317,"children":1318},{"class":631,"line":894},[1319,1324,1328,1332,1337,1341],{"type":405,"tag":629,"props":1320,"children":1321},{"style":690},[1322],{"type":411,"value":1323},"    props",{"type":405,"tag":629,"props":1325,"children":1326},{"style":648},[1327],{"type":411,"value":1296},{"type":405,"tag":629,"props":1329,"children":1330},{"style":648},[1331],{"type":411,"value":1301},{"type":405,"tag":629,"props":1333,"children":1334},{"style":1239},[1335],{"type":411,"value":1336}," /* name */",{"type":405,"tag":629,"props":1338,"children":1339},{"style":648},[1340],{"type":411,"value":1278},{"type":405,"tag":629,"props":1342,"children":1343},{"style":1239},[1344],{"type":411,"value":1345}," // 组件 Props\n",{"type":405,"tag":629,"props":1347,"children":1348},{"class":631,"line":915},[1349,1354,1358,1362,1367,1371],{"type":405,"tag":629,"props":1350,"children":1351},{"style":690},[1352],{"type":411,"value":1353},"    attrs",{"type":405,"tag":629,"props":1355,"children":1356},{"style":648},[1357],{"type":411,"value":1296},{"type":405,"tag":629,"props":1359,"children":1360},{"style":648},[1361],{"type":411,"value":1301},{"type":405,"tag":629,"props":1363,"children":1364},{"style":1239},[1365],{"type":411,"value":1366}," /* id, class */",{"type":405,"tag":629,"props":1368,"children":1369},{"style":648},[1370],{"type":411,"value":1278},{"type":405,"tag":629,"props":1372,"children":1373},{"style":1239},[1374],{"type":411,"value":1375}," // HTML attributes\n",{"type":405,"tag":629,"props":1377,"children":1378},{"class":631,"line":936},[1379,1384,1388,1392,1397,1401],{"type":405,"tag":629,"props":1380,"children":1381},{"style":690},[1382],{"type":411,"value":1383},"    domProps",{"type":405,"tag":629,"props":1385,"children":1386},{"style":648},[1387],{"type":411,"value":1296},{"type":405,"tag":629,"props":1389,"children":1390},{"style":648},[1391],{"type":411,"value":1301},{"type":405,"tag":629,"props":1393,"children":1394},{"style":1239},[1395],{"type":411,"value":1396}," /* innerHTML、innerText */",{"type":405,"tag":629,"props":1398,"children":1399},{"style":648},[1400],{"type":411,"value":1278},{"type":405,"tag":629,"props":1402,"children":1403},{"style":1239},[1404],{"type":411,"value":1405}," // DOM props\n",{"type":405,"tag":629,"props":1407,"children":1408},{"class":631,"line":957},[1409,1414,1418,1422,1427,1431],{"type":405,"tag":629,"props":1410,"children":1411},{"style":690},[1412],{"type":411,"value":1413},"    on",{"type":405,"tag":629,"props":1415,"children":1416},{"style":648},[1417],{"type":411,"value":1296},{"type":405,"tag":629,"props":1419,"children":1420},{"style":648},[1421],{"type":411,"value":1301},{"type":405,"tag":629,"props":1423,"children":1424},{"style":1239},[1425],{"type":411,"value":1426}," /* !~click: () => {} */",{"type":405,"tag":629,"props":1428,"children":1429},{"style":648},[1430],{"type":411,"value":1278},{"type":405,"tag":629,"props":1432,"children":1433},{"style":1239},[1434],{"type":411,"value":1435}," // 通过 Vue.$emit 触发的事件；感叹号和波浪号分别代表 capture 和 once\n",{"type":405,"tag":629,"props":1437,"children":1438},{"class":631,"line":978},[1439,1444,1448,1452,1457,1461],{"type":405,"tag":629,"props":1440,"children":1441},{"style":690},[1442],{"type":411,"value":1443},"    nativeOn",{"type":405,"tag":629,"props":1445,"children":1446},{"style":648},[1447],{"type":411,"value":1296},{"type":405,"tag":629,"props":1449,"children":1450},{"style":648},[1451],{"type":411,"value":1301},{"type":405,"tag":629,"props":1453,"children":1454},{"style":1239},[1455],{"type":411,"value":1456}," /* click: () => {} */",{"type":405,"tag":629,"props":1458,"children":1459},{"style":648},[1460],{"type":411,"value":1278},{"type":405,"tag":629,"props":1462,"children":1463},{"style":1239},[1464],{"type":411,"value":1465}," // 原生 DOM 事件\n",{"type":405,"tag":629,"props":1467,"children":1468},{"class":631,"line":999},[1469,1474,1478,1482,1487,1491],{"type":405,"tag":629,"props":1470,"children":1471},{"style":690},[1472],{"type":411,"value":1473},"    scopedSlot",{"type":405,"tag":629,"props":1475,"children":1476},{"style":648},[1477],{"type":411,"value":1296},{"type":405,"tag":629,"props":1479,"children":1480},{"style":648},[1481],{"type":411,"value":1301},{"type":405,"tag":629,"props":1483,"children":1484},{"style":1239},[1485],{"type":411,"value":1486}," /* default: props => h('div', {}, props.text) */",{"type":405,"tag":629,"props":1488,"children":1489},{"style":648},[1490],{"type":411,"value":1278},{"type":405,"tag":629,"props":1492,"children":1493},{"style":1239},[1494],{"type":411,"value":1495}," // 作用域插槽\n",{"type":405,"tag":629,"props":1497,"children":1498},{"class":631,"line":1020},[1499,1504,1508,1513,1518,1522],{"type":405,"tag":629,"props":1500,"children":1501},{"style":690},[1502],{"type":411,"value":1503},"    key",{"type":405,"tag":629,"props":1505,"children":1506},{"style":648},[1507],{"type":411,"value":1296},{"type":405,"tag":629,"props":1509,"children":1510},{"style":873},[1511],{"type":411,"value":1512}," '",{"type":405,"tag":629,"props":1514,"children":1515},{"style":879},[1516],{"type":411,"value":1517},"/* keyName */",{"type":405,"tag":629,"props":1519,"children":1520},{"style":873},[1521],{"type":411,"value":1232},{"type":405,"tag":629,"props":1523,"children":1524},{"style":648},[1525],{"type":411,"value":891},{"type":405,"tag":629,"props":1527,"children":1528},{"class":631,"line":1041},[1529,1534,1538,1542,1547,1551],{"type":405,"tag":629,"props":1530,"children":1531},{"style":690},[1532],{"type":411,"value":1533},"    ref",{"type":405,"tag":629,"props":1535,"children":1536},{"style":648},[1537],{"type":411,"value":1296},{"type":405,"tag":629,"props":1539,"children":1540},{"style":873},[1541],{"type":411,"value":1512},{"type":405,"tag":629,"props":1543,"children":1544},{"style":879},[1545],{"type":411,"value":1546},"/* refName */",{"type":405,"tag":629,"props":1548,"children":1549},{"style":873},[1550],{"type":411,"value":1232},{"type":405,"tag":629,"props":1552,"children":1553},{"style":648},[1554],{"type":411,"value":891},{"type":405,"tag":629,"props":1556,"children":1557},{"class":631,"line":1054},[1558],{"type":405,"tag":629,"props":1559,"children":1560},{"style":648},[1561],{"type":411,"value":1562},"  },\n",{"type":405,"tag":629,"props":1564,"children":1565},{"class":631,"line":1141},[1566,1571],{"type":405,"tag":629,"props":1567,"children":1568},{"style":696},[1569],{"type":411,"value":1570},"  []  ",{"type":405,"tag":629,"props":1572,"children":1573},{"style":1239},[1574],{"type":411,"value":1575},"// 子节点或者文本节点\n",{"type":405,"tag":629,"props":1577,"children":1578},{"class":631,"line":1159},[1579],{"type":405,"tag":629,"props":1580,"children":1581},{"style":696},[1582],{"type":411,"value":1583},")\n",{"type":405,"tag":511,"props":1585,"children":1587},{"id":1586},"node-diff",[1588],{"type":411,"value":1589},"Node Diff",{"type":405,"tag":495,"props":1591,"children":1592},{},[1593],{"type":411,"value":1594},"对比节点可简述为：",{"type":405,"tag":414,"props":1596,"children":1597},{},[1598,1603,1608,1613,1618,1623,1628],{"type":405,"tag":418,"props":1599,"children":1600},{},[1601],{"type":411,"value":1602},"两个节点是否相同？结束更新。",{"type":405,"tag":418,"props":1604,"children":1605},{},[1606],{"type":411,"value":1607},"两个节点是否是静态节点？结束更新。",{"type":405,"tag":418,"props":1609,"children":1610},{},[1611],{"type":411,"value":1612},"新节点有 text 属性？",{"type":405,"tag":418,"props":1614,"children":1615},{},[1616],{"type":411,"value":1617},"两个节点都有子节点？如果子节点不同则更新子节点。",{"type":405,"tag":418,"props":1619,"children":1620},{},[1621],{"type":411,"value":1622},"只有新节点有子节点？",{"type":405,"tag":418,"props":1624,"children":1625},{},[1626],{"type":411,"value":1627},"只有旧节点有子节点？",{"type":405,"tag":418,"props":1629,"children":1630},{},[1631],{"type":411,"value":1632},"旧节点有 text 属性？",{"type":405,"tag":495,"props":1634,"children":1635},{},[1636],{"type":411,"value":1637},"对比子节点是用一个从两边至中间的循环，分别比较新前旧前、新后旧后、新后旧前、新前旧后。",{"type":405,"tag":406,"props":1639,"children":1641},{"id":1640},"de-indent",[1642],{"type":411,"value":1640},{"type":405,"tag":495,"props":1644,"children":1645},{},[1646],{"type":411,"value":1647},"de-indent 是 Vue 解析 SFC 是引用的一个工具包。能将代码中额外的前置缩进去掉。它做了以下三件事情：",{"type":405,"tag":414,"props":1649,"children":1650},{},[1651,1656,1661],{"type":405,"tag":418,"props":1652,"children":1653},{},[1654],{"type":411,"value":1655},"将源码拆分为行",{"type":405,"tag":418,"props":1657,"children":1658},{},[1659],{"type":411,"value":1660},"遍历代码行，找到最小缩进（或空格）数量",{"type":405,"tag":418,"props":1662,"children":1663},{},[1664],{"type":411,"value":1665},"每行都去除最小缩进（或空格）数量",{"type":405,"tag":511,"props":1667,"children":1669},{"id":1668},"简单实现",[1670],{"type":411,"value":1668},{"type":405,"tag":495,"props":1672,"children":1673},{},[1674],{"type":411,"value":1675},"其实我在写博客时碰到过额外的前置缩进这种问题。当时，写了一个 highlight.js 的 Vue 组件封装，用来在 Markdown 的 HTML 代码中写代码高亮，如：",{"type":405,"tag":618,"props":1677,"children":1681},{"className":1678,"code":1679,"language":1680,"meta":398,"style":398},"language-markdown shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cp>\n    \u003CHighlight lang='js'>\n        export default {\n            hello: 'world'\n        }\n    \u003C/Highlight>\n\u003C/p>\n","markdown",[1682],{"type":405,"tag":625,"props":1683,"children":1684},{"__ignoreMap":398},[1685,1703,1742,1750,1758,1766,1782],{"type":405,"tag":629,"props":1686,"children":1687},{"class":631,"line":632},[1688,1693,1698],{"type":405,"tag":629,"props":1689,"children":1690},{"style":648},[1691],{"type":411,"value":1692},"\u003C",{"type":405,"tag":629,"props":1694,"children":1696},{"style":1695},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1697],{"type":411,"value":495},{"type":405,"tag":629,"props":1699,"children":1700},{"style":648},[1701],{"type":411,"value":1702},">\n",{"type":405,"tag":629,"props":1704,"children":1705},{"class":631,"line":669},[1706,1711,1716,1722,1726,1730,1734,1738],{"type":405,"tag":629,"props":1707,"children":1708},{"style":648},[1709],{"type":411,"value":1710},"    \u003C",{"type":405,"tag":629,"props":1712,"children":1713},{"style":1695},[1714],{"type":411,"value":1715},"Highlight",{"type":405,"tag":629,"props":1717,"children":1719},{"style":1718},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1720],{"type":411,"value":1721}," lang",{"type":405,"tag":629,"props":1723,"children":1724},{"style":648},[1725],{"type":411,"value":1117},{"type":405,"tag":629,"props":1727,"children":1728},{"style":873},[1729],{"type":411,"value":1232},{"type":405,"tag":629,"props":1731,"children":1732},{"style":879},[1733],{"type":411,"value":622},{"type":405,"tag":629,"props":1735,"children":1736},{"style":873},[1737],{"type":411,"value":1232},{"type":405,"tag":629,"props":1739,"children":1740},{"style":648},[1741],{"type":411,"value":1702},{"type":405,"tag":629,"props":1743,"children":1744},{"class":631,"line":773},[1745],{"type":405,"tag":629,"props":1746,"children":1747},{"style":696},[1748],{"type":411,"value":1749},"        export default {\n",{"type":405,"tag":629,"props":1751,"children":1752},{"class":631,"line":847},[1753],{"type":405,"tag":629,"props":1754,"children":1755},{"style":696},[1756],{"type":411,"value":1757},"            hello: 'world'\n",{"type":405,"tag":629,"props":1759,"children":1760},{"class":631,"line":869},[1761],{"type":405,"tag":629,"props":1762,"children":1763},{"style":696},[1764],{"type":411,"value":1765},"        }\n",{"type":405,"tag":629,"props":1767,"children":1768},{"class":631,"line":894},[1769,1774,1778],{"type":405,"tag":629,"props":1770,"children":1771},{"style":648},[1772],{"type":411,"value":1773},"    \u003C/",{"type":405,"tag":629,"props":1775,"children":1776},{"style":1695},[1777],{"type":411,"value":1715},{"type":405,"tag":629,"props":1779,"children":1780},{"style":648},[1781],{"type":411,"value":1702},{"type":405,"tag":629,"props":1783,"children":1784},{"class":631,"line":915},[1785,1790,1794],{"type":405,"tag":629,"props":1786,"children":1787},{"style":648},[1788],{"type":411,"value":1789},"\u003C/",{"type":405,"tag":629,"props":1791,"children":1792},{"style":1695},[1793],{"type":411,"value":495},{"type":405,"tag":629,"props":1795,"children":1796},{"style":648},[1797],{"type":411,"value":1702},{"type":405,"tag":495,"props":1799,"children":1800},{},[1801],{"type":411,"value":1802},"看起来没啥问题，但是这段文本传到 Vue 组件内部，就会带上一些不必要的缩进，和前后两个多余的换行。",{"type":405,"tag":618,"props":1804,"children":1806},{"className":620,"code":1805,"language":622,"meta":398,"style":398},"export default {\n  hello: \"world\",\n};\n",[1807],{"type":405,"tag":625,"props":1808,"children":1809},{"__ignoreMap":398},[1810,1827,1857],{"type":405,"tag":629,"props":1811,"children":1812},{"class":631,"line":632},[1813,1818,1823],{"type":405,"tag":629,"props":1814,"children":1815},{"style":1145},[1816],{"type":411,"value":1817},"export",{"type":405,"tag":629,"props":1819,"children":1820},{"style":1145},[1821],{"type":411,"value":1822}," default",{"type":405,"tag":629,"props":1824,"children":1825},{"style":648},[1826],{"type":411,"value":666},{"type":405,"tag":629,"props":1828,"children":1829},{"class":631,"line":669},[1830,1835,1839,1844,1849,1853],{"type":405,"tag":629,"props":1831,"children":1832},{"style":690},[1833],{"type":411,"value":1834},"  hello",{"type":405,"tag":629,"props":1836,"children":1837},{"style":648},[1838],{"type":411,"value":1296},{"type":405,"tag":629,"props":1840,"children":1841},{"style":873},[1842],{"type":411,"value":1843}," \"",{"type":405,"tag":629,"props":1845,"children":1846},{"style":879},[1847],{"type":411,"value":1848},"world",{"type":405,"tag":629,"props":1850,"children":1851},{"style":873},[1852],{"type":411,"value":886},{"type":405,"tag":629,"props":1854,"children":1855},{"style":648},[1856],{"type":411,"value":891},{"type":405,"tag":629,"props":1858,"children":1859},{"class":631,"line":773},[1860],{"type":405,"tag":629,"props":1861,"children":1862},{"style":648},[1863],{"type":411,"value":1864},"};\n",{"type":405,"tag":495,"props":1866,"children":1867},{},[1868],{"type":411,"value":1869},"对于缩进，简单处理如下。将源码拆分为行，找出最小的前置空格数量，记长度为 minSpace，然后每行去除这个等长的前置空格：",{"type":405,"tag":618,"props":1871,"children":1873},{"className":620,"code":1872,"language":622,"meta":398,"style":398},"const splits = codes.split(/\\n/);\nconst tabs = splits.map((x) => x.search(/[^\\s]/));\nconst minSpace = Math.min(...tabs);\nconst reMinSpace = new RegExp(`\\\\s{${minSpace}}`);\ncodes = splits.map((x) => x.replace(reMinSpace, \"\")).join(\"\\n\");\n",[1874],{"type":405,"tag":625,"props":1875,"children":1876},{"__ignoreMap":398},[1877,1935,2038,2086,2164],{"type":405,"tag":629,"props":1878,"children":1879},{"class":631,"line":632},[1880,1885,1890,1894,1899,1903,1908,1912,1917,1923,1927,1931],{"type":405,"tag":629,"props":1881,"children":1882},{"style":636},[1883],{"type":411,"value":1884},"const",{"type":405,"tag":629,"props":1886,"children":1887},{"style":678},[1888],{"type":411,"value":1889}," splits",{"type":405,"tag":629,"props":1891,"children":1892},{"style":684},[1893],{"type":411,"value":687},{"type":405,"tag":629,"props":1895,"children":1896},{"style":696},[1897],{"type":411,"value":1898}," codes",{"type":405,"tag":629,"props":1900,"children":1901},{"style":648},[1902],{"type":411,"value":703},{"type":405,"tag":629,"props":1904,"children":1905},{"style":642},[1906],{"type":411,"value":1907},"split",{"type":405,"tag":629,"props":1909,"children":1910},{"style":696},[1911],{"type":411,"value":651},{"type":405,"tag":629,"props":1913,"children":1914},{"style":873},[1915],{"type":411,"value":1916},"/",{"type":405,"tag":629,"props":1918,"children":1920},{"style":1919},"--shiki-light:#91B859;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1921],{"type":411,"value":1922},"\\n",{"type":405,"tag":629,"props":1924,"children":1925},{"style":873},[1926],{"type":411,"value":1916},{"type":405,"tag":629,"props":1928,"children":1929},{"style":696},[1930],{"type":411,"value":661},{"type":405,"tag":629,"props":1932,"children":1933},{"style":648},[1934],{"type":411,"value":770},{"type":405,"tag":629,"props":1936,"children":1937},{"class":631,"line":669},[1938,1942,1947,1951,1955,1959,1963,1967,1971,1976,1980,1984,1989,1993,1998,2002,2006,2011,2016,2021,2026,2030,2034],{"type":405,"tag":629,"props":1939,"children":1940},{"style":636},[1941],{"type":411,"value":1884},{"type":405,"tag":629,"props":1943,"children":1944},{"style":678},[1945],{"type":411,"value":1946}," tabs",{"type":405,"tag":629,"props":1948,"children":1949},{"style":684},[1950],{"type":411,"value":687},{"type":405,"tag":629,"props":1952,"children":1953},{"style":696},[1954],{"type":411,"value":1889},{"type":405,"tag":629,"props":1956,"children":1957},{"style":648},[1958],{"type":411,"value":703},{"type":405,"tag":629,"props":1960,"children":1961},{"style":642},[1962],{"type":411,"value":727},{"type":405,"tag":629,"props":1964,"children":1965},{"style":696},[1966],{"type":411,"value":651},{"type":405,"tag":629,"props":1968,"children":1969},{"style":648},[1970],{"type":411,"value":651},{"type":405,"tag":629,"props":1972,"children":1973},{"style":654},[1974],{"type":411,"value":1975},"x",{"type":405,"tag":629,"props":1977,"children":1978},{"style":648},[1979],{"type":411,"value":661},{"type":405,"tag":629,"props":1981,"children":1982},{"style":636},[1983],{"type":411,"value":748},{"type":405,"tag":629,"props":1985,"children":1986},{"style":696},[1987],{"type":411,"value":1988}," x",{"type":405,"tag":629,"props":1990,"children":1991},{"style":648},[1992],{"type":411,"value":703},{"type":405,"tag":629,"props":1994,"children":1995},{"style":642},[1996],{"type":411,"value":1997},"search",{"type":405,"tag":629,"props":1999,"children":2000},{"style":696},[2001],{"type":411,"value":651},{"type":405,"tag":629,"props":2003,"children":2004},{"style":873},[2005],{"type":411,"value":1916},{"type":405,"tag":629,"props":2007,"children":2009},{"style":2008},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2010],{"type":411,"value":1103},{"type":405,"tag":629,"props":2012,"children":2013},{"style":684},[2014],{"type":411,"value":2015},"^",{"type":405,"tag":629,"props":2017,"children":2018},{"style":1919},[2019],{"type":411,"value":2020},"\\s",{"type":405,"tag":629,"props":2022,"children":2023},{"style":2008},[2024],{"type":411,"value":2025},"]",{"type":405,"tag":629,"props":2027,"children":2028},{"style":873},[2029],{"type":411,"value":1916},{"type":405,"tag":629,"props":2031,"children":2032},{"style":696},[2033],{"type":411,"value":765},{"type":405,"tag":629,"props":2035,"children":2036},{"style":648},[2037],{"type":411,"value":770},{"type":405,"tag":629,"props":2039,"children":2040},{"class":631,"line":773},[2041,2045,2050,2054,2059,2063,2068,2072,2077,2082],{"type":405,"tag":629,"props":2042,"children":2043},{"style":636},[2044],{"type":411,"value":1884},{"type":405,"tag":629,"props":2046,"children":2047},{"style":678},[2048],{"type":411,"value":2049}," minSpace",{"type":405,"tag":629,"props":2051,"children":2052},{"style":684},[2053],{"type":411,"value":687},{"type":405,"tag":629,"props":2055,"children":2056},{"style":696},[2057],{"type":411,"value":2058}," Math",{"type":405,"tag":629,"props":2060,"children":2061},{"style":648},[2062],{"type":411,"value":703},{"type":405,"tag":629,"props":2064,"children":2065},{"style":642},[2066],{"type":411,"value":2067},"min",{"type":405,"tag":629,"props":2069,"children":2070},{"style":696},[2071],{"type":411,"value":651},{"type":405,"tag":629,"props":2073,"children":2074},{"style":684},[2075],{"type":411,"value":2076},"...",{"type":405,"tag":629,"props":2078,"children":2079},{"style":696},[2080],{"type":411,"value":2081},"tabs)",{"type":405,"tag":629,"props":2083,"children":2084},{"style":648},[2085],{"type":411,"value":770},{"type":405,"tag":629,"props":2087,"children":2088},{"class":631,"line":847},[2089,2093,2098,2102,2107,2112,2116,2121,2127,2132,2138,2143,2148,2152,2156,2160],{"type":405,"tag":629,"props":2090,"children":2091},{"style":636},[2092],{"type":411,"value":1884},{"type":405,"tag":629,"props":2094,"children":2095},{"style":678},[2096],{"type":411,"value":2097}," reMinSpace",{"type":405,"tag":629,"props":2099,"children":2100},{"style":684},[2101],{"type":411,"value":687},{"type":405,"tag":629,"props":2103,"children":2104},{"style":684},[2105],{"type":411,"value":2106}," new",{"type":405,"tag":629,"props":2108,"children":2109},{"style":642},[2110],{"type":411,"value":2111}," RegExp",{"type":405,"tag":629,"props":2113,"children":2114},{"style":696},[2115],{"type":411,"value":651},{"type":405,"tag":629,"props":2117,"children":2118},{"style":873},[2119],{"type":411,"value":2120},"`",{"type":405,"tag":629,"props":2122,"children":2124},{"style":2123},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2125],{"type":411,"value":2126},"\\\\",{"type":405,"tag":629,"props":2128,"children":2129},{"style":879},[2130],{"type":411,"value":2131},"s{",{"type":405,"tag":629,"props":2133,"children":2135},{"style":2134},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[2136],{"type":411,"value":2137},"${",{"type":405,"tag":629,"props":2139,"children":2140},{"style":696},[2141],{"type":411,"value":2142},"minSpace",{"type":405,"tag":629,"props":2144,"children":2145},{"style":2134},[2146],{"type":411,"value":2147},"}",{"type":405,"tag":629,"props":2149,"children":2150},{"style":879},[2151],{"type":411,"value":2147},{"type":405,"tag":629,"props":2153,"children":2154},{"style":873},[2155],{"type":411,"value":2120},{"type":405,"tag":629,"props":2157,"children":2158},{"style":696},[2159],{"type":411,"value":661},{"type":405,"tag":629,"props":2161,"children":2162},{"style":648},[2163],{"type":411,"value":770},{"type":405,"tag":629,"props":2165,"children":2166},{"class":631,"line":869},[2167,2172,2176,2180,2184,2188,2192,2196,2200,2204,2208,2212,2216,2221,2226,2230,2235,2239,2243,2248,2252,2256,2260,2264,2268],{"type":405,"tag":629,"props":2168,"children":2169},{"style":696},[2170],{"type":411,"value":2171},"codes ",{"type":405,"tag":629,"props":2173,"children":2174},{"style":684},[2175],{"type":411,"value":1117},{"type":405,"tag":629,"props":2177,"children":2178},{"style":696},[2179],{"type":411,"value":1889},{"type":405,"tag":629,"props":2181,"children":2182},{"style":648},[2183],{"type":411,"value":703},{"type":405,"tag":629,"props":2185,"children":2186},{"style":642},[2187],{"type":411,"value":727},{"type":405,"tag":629,"props":2189,"children":2190},{"style":696},[2191],{"type":411,"value":651},{"type":405,"tag":629,"props":2193,"children":2194},{"style":648},[2195],{"type":411,"value":651},{"type":405,"tag":629,"props":2197,"children":2198},{"style":654},[2199],{"type":411,"value":1975},{"type":405,"tag":629,"props":2201,"children":2202},{"style":648},[2203],{"type":411,"value":661},{"type":405,"tag":629,"props":2205,"children":2206},{"style":636},[2207],{"type":411,"value":748},{"type":405,"tag":629,"props":2209,"children":2210},{"style":696},[2211],{"type":411,"value":1988},{"type":405,"tag":629,"props":2213,"children":2214},{"style":648},[2215],{"type":411,"value":703},{"type":405,"tag":629,"props":2217,"children":2218},{"style":642},[2219],{"type":411,"value":2220},"replace",{"type":405,"tag":629,"props":2222,"children":2223},{"style":696},[2224],{"type":411,"value":2225},"(reMinSpace",{"type":405,"tag":629,"props":2227,"children":2228},{"style":648},[2229],{"type":411,"value":814},{"type":405,"tag":629,"props":2231,"children":2232},{"style":873},[2233],{"type":411,"value":2234}," \"\"",{"type":405,"tag":629,"props":2236,"children":2237},{"style":696},[2238],{"type":411,"value":765},{"type":405,"tag":629,"props":2240,"children":2241},{"style":648},[2242],{"type":411,"value":703},{"type":405,"tag":629,"props":2244,"children":2245},{"style":642},[2246],{"type":411,"value":2247},"join",{"type":405,"tag":629,"props":2249,"children":2250},{"style":696},[2251],{"type":411,"value":651},{"type":405,"tag":629,"props":2253,"children":2254},{"style":873},[2255],{"type":411,"value":886},{"type":405,"tag":629,"props":2257,"children":2258},{"style":2123},[2259],{"type":411,"value":1922},{"type":405,"tag":629,"props":2261,"children":2262},{"style":873},[2263],{"type":411,"value":886},{"type":405,"tag":629,"props":2265,"children":2266},{"style":696},[2267],{"type":411,"value":661},{"type":405,"tag":629,"props":2269,"children":2270},{"style":648},[2271],{"type":411,"value":770},{"type":405,"tag":511,"props":2273,"children":2275},{"id":2274},"源码解析",[2276],{"type":411,"value":2274},{"type":405,"tag":495,"props":2278,"children":2279},{},[2280],{"type":411,"value":2281},"思路是一模一样的，但是 de-indent 这玩意儿性能高很多倍。",{"type":405,"tag":618,"props":2283,"children":2285},{"className":620,"code":2284,"language":622,"meta":398,"style":398},"var splitRE = /\\r?\\n/g;\nvar emptyRE = /^\\s*$/;\nvar needFixRE = /^(\\r?\\n)*[\\t\\s]/;\n\nmodule.exports = function deindent(str) {\n  // 如果第一行前没有空格，直接退出\n  if (!needFixRE.test(str)) {\n    return str;\n  }\n  // 将代码拆分成行\n  var lines = str.split(splitRE);\n\n  /* 这里只循环了一次就找到了最小空格数量，并且做了优化 */\n  var min = Infinity;\n  // type 用来记录缩进是 tab 还是空格\n  var type, cur, c;\n  for (var i = 0; i \u003C lines.length; i++) {\n    var line = lines[i];\n    if (!emptyRE.test(line)) {\n      if (!type) {\n        c = line.charAt(0);\n        if (c === \" \" || c === \"\\t\") {\n          type = c;\n          cur = count(line, type);\n          if (cur \u003C min) {\n            min = cur;\n          }\n        } else {\n          return str;\n        }\n      } else {\n        cur = count(line, type);\n        if (cur \u003C min) {\n          min = cur;\n        }\n      }\n    }\n  }\n  // 用 String.slice 切除前置空格，性能最好\n  return lines\n    .map(function (line) {\n      return line.slice(min);\n    })\n    .join(\"\\n\");\n};\n\nfunction count(line, type) {\n  var i = 0;\n  while (line.charAt(i) === type) {\n    i++;\n  }\n  return i;\n}\n",[2286],{"type":405,"tag":625,"props":2287,"children":2288},{"__ignoreMap":398},[2289,2339,2385,2455,2463,2512,2520,2569,2586,2594,2602,2648,2655,2663,2688,2696,2730,2811,2850,2896,2926,2969,3033,3054,3096,3130,3151,3160,3178,3195,3203,3220,3261,3293,3314,3322,3331,3340,3348,3357,3370,3407,3445,3458,3494,3502,3510,3546,3570,3624,3641,3649,3665],{"type":405,"tag":629,"props":2290,"children":2291},{"class":631,"line":632},[2292,2297,2302,2306,2311,2316,2321,2325,2329,2335],{"type":405,"tag":629,"props":2293,"children":2294},{"style":636},[2295],{"type":411,"value":2296},"var",{"type":405,"tag":629,"props":2298,"children":2299},{"style":696},[2300],{"type":411,"value":2301}," splitRE ",{"type":405,"tag":629,"props":2303,"children":2304},{"style":684},[2305],{"type":411,"value":1117},{"type":405,"tag":629,"props":2307,"children":2308},{"style":873},[2309],{"type":411,"value":2310}," /",{"type":405,"tag":629,"props":2312,"children":2313},{"style":1919},[2314],{"type":411,"value":2315},"\\r",{"type":405,"tag":629,"props":2317,"children":2318},{"style":684},[2319],{"type":411,"value":2320},"?",{"type":405,"tag":629,"props":2322,"children":2323},{"style":1919},[2324],{"type":411,"value":1922},{"type":405,"tag":629,"props":2326,"children":2327},{"style":873},[2328],{"type":411,"value":1916},{"type":405,"tag":629,"props":2330,"children":2332},{"style":2331},"--shiki-light:#F76D47;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[2333],{"type":411,"value":2334},"g",{"type":405,"tag":629,"props":2336,"children":2337},{"style":648},[2338],{"type":411,"value":770},{"type":405,"tag":629,"props":2340,"children":2341},{"class":631,"line":669},[2342,2346,2351,2355,2359,2363,2367,2372,2377,2381],{"type":405,"tag":629,"props":2343,"children":2344},{"style":636},[2345],{"type":411,"value":2296},{"type":405,"tag":629,"props":2347,"children":2348},{"style":696},[2349],{"type":411,"value":2350}," emptyRE ",{"type":405,"tag":629,"props":2352,"children":2353},{"style":684},[2354],{"type":411,"value":1117},{"type":405,"tag":629,"props":2356,"children":2357},{"style":873},[2358],{"type":411,"value":2310},{"type":405,"tag":629,"props":2360,"children":2361},{"style":1145},[2362],{"type":411,"value":2015},{"type":405,"tag":629,"props":2364,"children":2365},{"style":1919},[2366],{"type":411,"value":2020},{"type":405,"tag":629,"props":2368,"children":2369},{"style":684},[2370],{"type":411,"value":2371},"*",{"type":405,"tag":629,"props":2373,"children":2374},{"style":1145},[2375],{"type":411,"value":2376},"$",{"type":405,"tag":629,"props":2378,"children":2379},{"style":873},[2380],{"type":411,"value":1916},{"type":405,"tag":629,"props":2382,"children":2383},{"style":648},[2384],{"type":411,"value":770},{"type":405,"tag":629,"props":2386,"children":2387},{"class":631,"line":773},[2388,2392,2397,2401,2405,2409,2414,2418,2422,2426,2430,2434,2438,2443,2447,2451],{"type":405,"tag":629,"props":2389,"children":2390},{"style":636},[2391],{"type":411,"value":2296},{"type":405,"tag":629,"props":2393,"children":2394},{"style":696},[2395],{"type":411,"value":2396}," needFixRE ",{"type":405,"tag":629,"props":2398,"children":2399},{"style":684},[2400],{"type":411,"value":1117},{"type":405,"tag":629,"props":2402,"children":2403},{"style":873},[2404],{"type":411,"value":2310},{"type":405,"tag":629,"props":2406,"children":2407},{"style":1145},[2408],{"type":411,"value":2015},{"type":405,"tag":629,"props":2410,"children":2412},{"style":2411},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#DBEDFF;--shiki-sepia:#E6DB74",[2413],{"type":411,"value":651},{"type":405,"tag":629,"props":2415,"children":2416},{"style":1919},[2417],{"type":411,"value":2315},{"type":405,"tag":629,"props":2419,"children":2420},{"style":684},[2421],{"type":411,"value":2320},{"type":405,"tag":629,"props":2423,"children":2424},{"style":1919},[2425],{"type":411,"value":1922},{"type":405,"tag":629,"props":2427,"children":2428},{"style":2411},[2429],{"type":411,"value":661},{"type":405,"tag":629,"props":2431,"children":2432},{"style":684},[2433],{"type":411,"value":2371},{"type":405,"tag":629,"props":2435,"children":2436},{"style":2008},[2437],{"type":411,"value":1103},{"type":405,"tag":629,"props":2439,"children":2440},{"style":1919},[2441],{"type":411,"value":2442},"\\t\\s",{"type":405,"tag":629,"props":2444,"children":2445},{"style":2008},[2446],{"type":411,"value":2025},{"type":405,"tag":629,"props":2448,"children":2449},{"style":873},[2450],{"type":411,"value":1916},{"type":405,"tag":629,"props":2452,"children":2453},{"style":648},[2454],{"type":411,"value":770},{"type":405,"tag":629,"props":2456,"children":2457},{"class":631,"line":847},[2458],{"type":405,"tag":629,"props":2459,"children":2460},{"emptyLinePlaceholder":397},[2461],{"type":411,"value":2462},"\n",{"type":405,"tag":629,"props":2464,"children":2465},{"class":631,"line":869},[2466,2472,2476,2481,2485,2490,2495,2499,2504,2508],{"type":405,"tag":629,"props":2467,"children":2469},{"style":2468},"--shiki-light:#39ADB5;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[2470],{"type":411,"value":2471},"module",{"type":405,"tag":629,"props":2473,"children":2474},{"style":648},[2475],{"type":411,"value":703},{"type":405,"tag":629,"props":2477,"children":2478},{"style":2468},[2479],{"type":411,"value":2480},"exports",{"type":405,"tag":629,"props":2482,"children":2483},{"style":684},[2484],{"type":411,"value":687},{"type":405,"tag":629,"props":2486,"children":2487},{"style":636},[2488],{"type":411,"value":2489}," function",{"type":405,"tag":629,"props":2491,"children":2492},{"style":642},[2493],{"type":411,"value":2494}," deindent",{"type":405,"tag":629,"props":2496,"children":2497},{"style":648},[2498],{"type":411,"value":651},{"type":405,"tag":629,"props":2500,"children":2501},{"style":654},[2502],{"type":411,"value":2503},"str",{"type":405,"tag":629,"props":2505,"children":2506},{"style":648},[2507],{"type":411,"value":661},{"type":405,"tag":629,"props":2509,"children":2510},{"style":648},[2511],{"type":411,"value":666},{"type":405,"tag":629,"props":2513,"children":2514},{"class":631,"line":894},[2515],{"type":405,"tag":629,"props":2516,"children":2517},{"style":1239},[2518],{"type":411,"value":2519},"  // 如果第一行前没有空格，直接退出\n",{"type":405,"tag":629,"props":2521,"children":2522},{"class":631,"line":915},[2523,2528,2532,2537,2542,2546,2551,2555,2559,2564],{"type":405,"tag":629,"props":2524,"children":2525},{"style":1145},[2526],{"type":411,"value":2527},"  if",{"type":405,"tag":629,"props":2529,"children":2530},{"style":690},[2531],{"type":411,"value":693},{"type":405,"tag":629,"props":2533,"children":2534},{"style":684},[2535],{"type":411,"value":2536},"!",{"type":405,"tag":629,"props":2538,"children":2539},{"style":696},[2540],{"type":411,"value":2541},"needFixRE",{"type":405,"tag":629,"props":2543,"children":2544},{"style":648},[2545],{"type":411,"value":703},{"type":405,"tag":629,"props":2547,"children":2548},{"style":642},[2549],{"type":411,"value":2550},"test",{"type":405,"tag":629,"props":2552,"children":2553},{"style":690},[2554],{"type":411,"value":651},{"type":405,"tag":629,"props":2556,"children":2557},{"style":696},[2558],{"type":411,"value":2503},{"type":405,"tag":629,"props":2560,"children":2561},{"style":690},[2562],{"type":411,"value":2563},")) ",{"type":405,"tag":629,"props":2565,"children":2566},{"style":648},[2567],{"type":411,"value":2568},"{\n",{"type":405,"tag":629,"props":2570,"children":2571},{"class":631,"line":936},[2572,2577,2582],{"type":405,"tag":629,"props":2573,"children":2574},{"style":1145},[2575],{"type":411,"value":2576},"    return",{"type":405,"tag":629,"props":2578,"children":2579},{"style":696},[2580],{"type":411,"value":2581}," str",{"type":405,"tag":629,"props":2583,"children":2584},{"style":648},[2585],{"type":411,"value":770},{"type":405,"tag":629,"props":2587,"children":2588},{"class":631,"line":957},[2589],{"type":405,"tag":629,"props":2590,"children":2591},{"style":648},[2592],{"type":411,"value":2593},"  }\n",{"type":405,"tag":629,"props":2595,"children":2596},{"class":631,"line":978},[2597],{"type":405,"tag":629,"props":2598,"children":2599},{"style":1239},[2600],{"type":411,"value":2601},"  // 将代码拆分成行\n",{"type":405,"tag":629,"props":2603,"children":2604},{"class":631,"line":999},[2605,2610,2615,2619,2623,2627,2631,2635,2640,2644],{"type":405,"tag":629,"props":2606,"children":2607},{"style":636},[2608],{"type":411,"value":2609},"  var",{"type":405,"tag":629,"props":2611,"children":2612},{"style":696},[2613],{"type":411,"value":2614}," lines",{"type":405,"tag":629,"props":2616,"children":2617},{"style":684},[2618],{"type":411,"value":687},{"type":405,"tag":629,"props":2620,"children":2621},{"style":696},[2622],{"type":411,"value":2581},{"type":405,"tag":629,"props":2624,"children":2625},{"style":648},[2626],{"type":411,"value":703},{"type":405,"tag":629,"props":2628,"children":2629},{"style":642},[2630],{"type":411,"value":1907},{"type":405,"tag":629,"props":2632,"children":2633},{"style":690},[2634],{"type":411,"value":651},{"type":405,"tag":629,"props":2636,"children":2637},{"style":696},[2638],{"type":411,"value":2639},"splitRE",{"type":405,"tag":629,"props":2641,"children":2642},{"style":690},[2643],{"type":411,"value":661},{"type":405,"tag":629,"props":2645,"children":2646},{"style":648},[2647],{"type":411,"value":770},{"type":405,"tag":629,"props":2649,"children":2650},{"class":631,"line":1020},[2651],{"type":405,"tag":629,"props":2652,"children":2653},{"emptyLinePlaceholder":397},[2654],{"type":411,"value":2462},{"type":405,"tag":629,"props":2656,"children":2657},{"class":631,"line":1041},[2658],{"type":405,"tag":629,"props":2659,"children":2660},{"style":1239},[2661],{"type":411,"value":2662},"  /* 这里只循环了一次就找到了最小空格数量，并且做了优化 */\n",{"type":405,"tag":629,"props":2664,"children":2665},{"class":631,"line":1054},[2666,2670,2675,2679,2684],{"type":405,"tag":629,"props":2667,"children":2668},{"style":636},[2669],{"type":411,"value":2609},{"type":405,"tag":629,"props":2671,"children":2672},{"style":696},[2673],{"type":411,"value":2674}," min",{"type":405,"tag":629,"props":2676,"children":2677},{"style":684},[2678],{"type":411,"value":687},{"type":405,"tag":629,"props":2680,"children":2681},{"style":2008},[2682],{"type":411,"value":2683}," Infinity",{"type":405,"tag":629,"props":2685,"children":2686},{"style":648},[2687],{"type":411,"value":770},{"type":405,"tag":629,"props":2689,"children":2690},{"class":631,"line":1141},[2691],{"type":405,"tag":629,"props":2692,"children":2693},{"style":1239},[2694],{"type":411,"value":2695},"  // type 用来记录缩进是 tab 还是空格\n",{"type":405,"tag":629,"props":2697,"children":2698},{"class":631,"line":1159},[2699,2703,2708,2712,2717,2721,2726],{"type":405,"tag":629,"props":2700,"children":2701},{"style":636},[2702],{"type":411,"value":2609},{"type":405,"tag":629,"props":2704,"children":2705},{"style":696},[2706],{"type":411,"value":2707}," type",{"type":405,"tag":629,"props":2709,"children":2710},{"style":648},[2711],{"type":411,"value":814},{"type":405,"tag":629,"props":2713,"children":2714},{"style":696},[2715],{"type":411,"value":2716}," cur",{"type":405,"tag":629,"props":2718,"children":2719},{"style":648},[2720],{"type":411,"value":814},{"type":405,"tag":629,"props":2722,"children":2723},{"style":696},[2724],{"type":411,"value":2725}," c",{"type":405,"tag":629,"props":2727,"children":2728},{"style":648},[2729],{"type":411,"value":770},{"type":405,"tag":629,"props":2731,"children":2733},{"class":631,"line":2732},17,[2734,2739,2743,2747,2752,2756,2762,2767,2771,2776,2780,2784,2789,2793,2797,2802,2807],{"type":405,"tag":629,"props":2735,"children":2736},{"style":1145},[2737],{"type":411,"value":2738},"  for",{"type":405,"tag":629,"props":2740,"children":2741},{"style":690},[2742],{"type":411,"value":693},{"type":405,"tag":629,"props":2744,"children":2745},{"style":636},[2746],{"type":411,"value":2296},{"type":405,"tag":629,"props":2748,"children":2749},{"style":696},[2750],{"type":411,"value":2751}," i",{"type":405,"tag":629,"props":2753,"children":2754},{"style":684},[2755],{"type":411,"value":687},{"type":405,"tag":629,"props":2757,"children":2759},{"style":2758},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2760],{"type":411,"value":2761}," 0",{"type":405,"tag":629,"props":2763,"children":2764},{"style":648},[2765],{"type":411,"value":2766},";",{"type":405,"tag":629,"props":2768,"children":2769},{"style":696},[2770],{"type":411,"value":2751},{"type":405,"tag":629,"props":2772,"children":2773},{"style":684},[2774],{"type":411,"value":2775}," \u003C",{"type":405,"tag":629,"props":2777,"children":2778},{"style":696},[2779],{"type":411,"value":2614},{"type":405,"tag":629,"props":2781,"children":2782},{"style":648},[2783],{"type":411,"value":703},{"type":405,"tag":629,"props":2785,"children":2786},{"style":678},[2787],{"type":411,"value":2788},"length",{"type":405,"tag":629,"props":2790,"children":2791},{"style":648},[2792],{"type":411,"value":2766},{"type":405,"tag":629,"props":2794,"children":2795},{"style":696},[2796],{"type":411,"value":2751},{"type":405,"tag":629,"props":2798,"children":2799},{"style":684},[2800],{"type":411,"value":2801},"++",{"type":405,"tag":629,"props":2803,"children":2804},{"style":690},[2805],{"type":411,"value":2806},") ",{"type":405,"tag":629,"props":2808,"children":2809},{"style":648},[2810],{"type":411,"value":2568},{"type":405,"tag":629,"props":2812,"children":2814},{"class":631,"line":2813},18,[2815,2820,2825,2829,2833,2837,2842,2846],{"type":405,"tag":629,"props":2816,"children":2817},{"style":636},[2818],{"type":411,"value":2819},"    var",{"type":405,"tag":629,"props":2821,"children":2822},{"style":696},[2823],{"type":411,"value":2824}," line",{"type":405,"tag":629,"props":2826,"children":2827},{"style":684},[2828],{"type":411,"value":687},{"type":405,"tag":629,"props":2830,"children":2831},{"style":696},[2832],{"type":411,"value":2614},{"type":405,"tag":629,"props":2834,"children":2835},{"style":690},[2836],{"type":411,"value":1103},{"type":405,"tag":629,"props":2838,"children":2839},{"style":696},[2840],{"type":411,"value":2841},"i",{"type":405,"tag":629,"props":2843,"children":2844},{"style":690},[2845],{"type":411,"value":2025},{"type":405,"tag":629,"props":2847,"children":2848},{"style":648},[2849],{"type":411,"value":770},{"type":405,"tag":629,"props":2851,"children":2853},{"class":631,"line":2852},19,[2854,2859,2863,2867,2872,2876,2880,2884,2888,2892],{"type":405,"tag":629,"props":2855,"children":2856},{"style":1145},[2857],{"type":411,"value":2858},"    if",{"type":405,"tag":629,"props":2860,"children":2861},{"style":690},[2862],{"type":411,"value":693},{"type":405,"tag":629,"props":2864,"children":2865},{"style":684},[2866],{"type":411,"value":2536},{"type":405,"tag":629,"props":2868,"children":2869},{"style":696},[2870],{"type":411,"value":2871},"emptyRE",{"type":405,"tag":629,"props":2873,"children":2874},{"style":648},[2875],{"type":411,"value":703},{"type":405,"tag":629,"props":2877,"children":2878},{"style":642},[2879],{"type":411,"value":2550},{"type":405,"tag":629,"props":2881,"children":2882},{"style":690},[2883],{"type":411,"value":651},{"type":405,"tag":629,"props":2885,"children":2886},{"style":696},[2887],{"type":411,"value":631},{"type":405,"tag":629,"props":2889,"children":2890},{"style":690},[2891],{"type":411,"value":2563},{"type":405,"tag":629,"props":2893,"children":2894},{"style":648},[2895],{"type":411,"value":2568},{"type":405,"tag":629,"props":2897,"children":2899},{"class":631,"line":2898},20,[2900,2905,2909,2913,2918,2922],{"type":405,"tag":629,"props":2901,"children":2902},{"style":1145},[2903],{"type":411,"value":2904},"      if",{"type":405,"tag":629,"props":2906,"children":2907},{"style":690},[2908],{"type":411,"value":693},{"type":405,"tag":629,"props":2910,"children":2911},{"style":684},[2912],{"type":411,"value":2536},{"type":405,"tag":629,"props":2914,"children":2915},{"style":696},[2916],{"type":411,"value":2917},"type",{"type":405,"tag":629,"props":2919,"children":2920},{"style":690},[2921],{"type":411,"value":2806},{"type":405,"tag":629,"props":2923,"children":2924},{"style":648},[2925],{"type":411,"value":2568},{"type":405,"tag":629,"props":2927,"children":2929},{"class":631,"line":2928},21,[2930,2935,2939,2943,2947,2952,2956,2961,2965],{"type":405,"tag":629,"props":2931,"children":2932},{"style":696},[2933],{"type":411,"value":2934},"        c",{"type":405,"tag":629,"props":2936,"children":2937},{"style":684},[2938],{"type":411,"value":687},{"type":405,"tag":629,"props":2940,"children":2941},{"style":696},[2942],{"type":411,"value":2824},{"type":405,"tag":629,"props":2944,"children":2945},{"style":648},[2946],{"type":411,"value":703},{"type":405,"tag":629,"props":2948,"children":2949},{"style":642},[2950],{"type":411,"value":2951},"charAt",{"type":405,"tag":629,"props":2953,"children":2954},{"style":690},[2955],{"type":411,"value":651},{"type":405,"tag":629,"props":2957,"children":2958},{"style":2758},[2959],{"type":411,"value":2960},"0",{"type":405,"tag":629,"props":2962,"children":2963},{"style":690},[2964],{"type":411,"value":661},{"type":405,"tag":629,"props":2966,"children":2967},{"style":648},[2968],{"type":411,"value":770},{"type":405,"tag":629,"props":2970,"children":2972},{"class":631,"line":2971},22,[2973,2978,2982,2987,2992,2996,3000,3004,3008,3012,3016,3021,3025,3029],{"type":405,"tag":629,"props":2974,"children":2975},{"style":1145},[2976],{"type":411,"value":2977},"        if",{"type":405,"tag":629,"props":2979,"children":2980},{"style":690},[2981],{"type":411,"value":693},{"type":405,"tag":629,"props":2983,"children":2984},{"style":696},[2985],{"type":411,"value":2986},"c",{"type":405,"tag":629,"props":2988,"children":2989},{"style":684},[2990],{"type":411,"value":2991}," ===",{"type":405,"tag":629,"props":2993,"children":2994},{"style":873},[2995],{"type":411,"value":1843},{"type":405,"tag":629,"props":2997,"children":2998},{"style":873},[2999],{"type":411,"value":1843},{"type":405,"tag":629,"props":3001,"children":3002},{"style":684},[3003],{"type":411,"value":713},{"type":405,"tag":629,"props":3005,"children":3006},{"style":696},[3007],{"type":411,"value":2725},{"type":405,"tag":629,"props":3009,"children":3010},{"style":684},[3011],{"type":411,"value":2991},{"type":405,"tag":629,"props":3013,"children":3014},{"style":873},[3015],{"type":411,"value":1843},{"type":405,"tag":629,"props":3017,"children":3018},{"style":2123},[3019],{"type":411,"value":3020},"\\t",{"type":405,"tag":629,"props":3022,"children":3023},{"style":873},[3024],{"type":411,"value":886},{"type":405,"tag":629,"props":3026,"children":3027},{"style":690},[3028],{"type":411,"value":2806},{"type":405,"tag":629,"props":3030,"children":3031},{"style":648},[3032],{"type":411,"value":2568},{"type":405,"tag":629,"props":3034,"children":3036},{"class":631,"line":3035},23,[3037,3042,3046,3050],{"type":405,"tag":629,"props":3038,"children":3039},{"style":696},[3040],{"type":411,"value":3041},"          type",{"type":405,"tag":629,"props":3043,"children":3044},{"style":684},[3045],{"type":411,"value":687},{"type":405,"tag":629,"props":3047,"children":3048},{"style":696},[3049],{"type":411,"value":2725},{"type":405,"tag":629,"props":3051,"children":3052},{"style":648},[3053],{"type":411,"value":770},{"type":405,"tag":629,"props":3055,"children":3057},{"class":631,"line":3056},24,[3058,3063,3067,3072,3076,3080,3084,3088,3092],{"type":405,"tag":629,"props":3059,"children":3060},{"style":696},[3061],{"type":411,"value":3062},"          cur",{"type":405,"tag":629,"props":3064,"children":3065},{"style":684},[3066],{"type":411,"value":687},{"type":405,"tag":629,"props":3068,"children":3069},{"style":642},[3070],{"type":411,"value":3071}," count",{"type":405,"tag":629,"props":3073,"children":3074},{"style":690},[3075],{"type":411,"value":651},{"type":405,"tag":629,"props":3077,"children":3078},{"style":696},[3079],{"type":411,"value":631},{"type":405,"tag":629,"props":3081,"children":3082},{"style":648},[3083],{"type":411,"value":814},{"type":405,"tag":629,"props":3085,"children":3086},{"style":696},[3087],{"type":411,"value":2707},{"type":405,"tag":629,"props":3089,"children":3090},{"style":690},[3091],{"type":411,"value":661},{"type":405,"tag":629,"props":3093,"children":3094},{"style":648},[3095],{"type":411,"value":770},{"type":405,"tag":629,"props":3097,"children":3099},{"class":631,"line":3098},25,[3100,3105,3109,3114,3118,3122,3126],{"type":405,"tag":629,"props":3101,"children":3102},{"style":1145},[3103],{"type":411,"value":3104},"          if",{"type":405,"tag":629,"props":3106,"children":3107},{"style":690},[3108],{"type":411,"value":693},{"type":405,"tag":629,"props":3110,"children":3111},{"style":696},[3112],{"type":411,"value":3113},"cur",{"type":405,"tag":629,"props":3115,"children":3116},{"style":684},[3117],{"type":411,"value":2775},{"type":405,"tag":629,"props":3119,"children":3120},{"style":696},[3121],{"type":411,"value":2674},{"type":405,"tag":629,"props":3123,"children":3124},{"style":690},[3125],{"type":411,"value":2806},{"type":405,"tag":629,"props":3127,"children":3128},{"style":648},[3129],{"type":411,"value":2568},{"type":405,"tag":629,"props":3131,"children":3133},{"class":631,"line":3132},26,[3134,3139,3143,3147],{"type":405,"tag":629,"props":3135,"children":3136},{"style":696},[3137],{"type":411,"value":3138},"            min",{"type":405,"tag":629,"props":3140,"children":3141},{"style":684},[3142],{"type":411,"value":687},{"type":405,"tag":629,"props":3144,"children":3145},{"style":696},[3146],{"type":411,"value":2716},{"type":405,"tag":629,"props":3148,"children":3149},{"style":648},[3150],{"type":411,"value":770},{"type":405,"tag":629,"props":3152,"children":3154},{"class":631,"line":3153},27,[3155],{"type":405,"tag":629,"props":3156,"children":3157},{"style":648},[3158],{"type":411,"value":3159},"          }\n",{"type":405,"tag":629,"props":3161,"children":3163},{"class":631,"line":3162},28,[3164,3169,3174],{"type":405,"tag":629,"props":3165,"children":3166},{"style":648},[3167],{"type":411,"value":3168},"        }",{"type":405,"tag":629,"props":3170,"children":3171},{"style":1145},[3172],{"type":411,"value":3173}," else",{"type":405,"tag":629,"props":3175,"children":3176},{"style":648},[3177],{"type":411,"value":666},{"type":405,"tag":629,"props":3179,"children":3181},{"class":631,"line":3180},29,[3182,3187,3191],{"type":405,"tag":629,"props":3183,"children":3184},{"style":1145},[3185],{"type":411,"value":3186},"          return",{"type":405,"tag":629,"props":3188,"children":3189},{"style":696},[3190],{"type":411,"value":2581},{"type":405,"tag":629,"props":3192,"children":3193},{"style":648},[3194],{"type":411,"value":770},{"type":405,"tag":629,"props":3196,"children":3198},{"class":631,"line":3197},30,[3199],{"type":405,"tag":629,"props":3200,"children":3201},{"style":648},[3202],{"type":411,"value":1765},{"type":405,"tag":629,"props":3204,"children":3206},{"class":631,"line":3205},31,[3207,3212,3216],{"type":405,"tag":629,"props":3208,"children":3209},{"style":648},[3210],{"type":411,"value":3211},"      }",{"type":405,"tag":629,"props":3213,"children":3214},{"style":1145},[3215],{"type":411,"value":3173},{"type":405,"tag":629,"props":3217,"children":3218},{"style":648},[3219],{"type":411,"value":666},{"type":405,"tag":629,"props":3221,"children":3223},{"class":631,"line":3222},32,[3224,3229,3233,3237,3241,3245,3249,3253,3257],{"type":405,"tag":629,"props":3225,"children":3226},{"style":696},[3227],{"type":411,"value":3228},"        cur",{"type":405,"tag":629,"props":3230,"children":3231},{"style":684},[3232],{"type":411,"value":687},{"type":405,"tag":629,"props":3234,"children":3235},{"style":642},[3236],{"type":411,"value":3071},{"type":405,"tag":629,"props":3238,"children":3239},{"style":690},[3240],{"type":411,"value":651},{"type":405,"tag":629,"props":3242,"children":3243},{"style":696},[3244],{"type":411,"value":631},{"type":405,"tag":629,"props":3246,"children":3247},{"style":648},[3248],{"type":411,"value":814},{"type":405,"tag":629,"props":3250,"children":3251},{"style":696},[3252],{"type":411,"value":2707},{"type":405,"tag":629,"props":3254,"children":3255},{"style":690},[3256],{"type":411,"value":661},{"type":405,"tag":629,"props":3258,"children":3259},{"style":648},[3260],{"type":411,"value":770},{"type":405,"tag":629,"props":3262,"children":3264},{"class":631,"line":3263},33,[3265,3269,3273,3277,3281,3285,3289],{"type":405,"tag":629,"props":3266,"children":3267},{"style":1145},[3268],{"type":411,"value":2977},{"type":405,"tag":629,"props":3270,"children":3271},{"style":690},[3272],{"type":411,"value":693},{"type":405,"tag":629,"props":3274,"children":3275},{"style":696},[3276],{"type":411,"value":3113},{"type":405,"tag":629,"props":3278,"children":3279},{"style":684},[3280],{"type":411,"value":2775},{"type":405,"tag":629,"props":3282,"children":3283},{"style":696},[3284],{"type":411,"value":2674},{"type":405,"tag":629,"props":3286,"children":3287},{"style":690},[3288],{"type":411,"value":2806},{"type":405,"tag":629,"props":3290,"children":3291},{"style":648},[3292],{"type":411,"value":2568},{"type":405,"tag":629,"props":3294,"children":3296},{"class":631,"line":3295},34,[3297,3302,3306,3310],{"type":405,"tag":629,"props":3298,"children":3299},{"style":696},[3300],{"type":411,"value":3301},"          min",{"type":405,"tag":629,"props":3303,"children":3304},{"style":684},[3305],{"type":411,"value":687},{"type":405,"tag":629,"props":3307,"children":3308},{"style":696},[3309],{"type":411,"value":2716},{"type":405,"tag":629,"props":3311,"children":3312},{"style":648},[3313],{"type":411,"value":770},{"type":405,"tag":629,"props":3315,"children":3317},{"class":631,"line":3316},35,[3318],{"type":405,"tag":629,"props":3319,"children":3320},{"style":648},[3321],{"type":411,"value":1765},{"type":405,"tag":629,"props":3323,"children":3325},{"class":631,"line":3324},36,[3326],{"type":405,"tag":629,"props":3327,"children":3328},{"style":648},[3329],{"type":411,"value":3330},"      }\n",{"type":405,"tag":629,"props":3332,"children":3334},{"class":631,"line":3333},37,[3335],{"type":405,"tag":629,"props":3336,"children":3337},{"style":648},[3338],{"type":411,"value":3339},"    }\n",{"type":405,"tag":629,"props":3341,"children":3343},{"class":631,"line":3342},38,[3344],{"type":405,"tag":629,"props":3345,"children":3346},{"style":648},[3347],{"type":411,"value":2593},{"type":405,"tag":629,"props":3349,"children":3351},{"class":631,"line":3350},39,[3352],{"type":405,"tag":629,"props":3353,"children":3354},{"style":1239},[3355],{"type":411,"value":3356},"  // 用 String.slice 切除前置空格，性能最好\n",{"type":405,"tag":629,"props":3358,"children":3360},{"class":631,"line":3359},40,[3361,3365],{"type":405,"tag":629,"props":3362,"children":3363},{"style":1145},[3364],{"type":411,"value":1148},{"type":405,"tag":629,"props":3366,"children":3367},{"style":696},[3368],{"type":411,"value":3369}," lines\n",{"type":405,"tag":629,"props":3371,"children":3373},{"class":631,"line":3372},41,[3374,3379,3383,3387,3391,3395,3399,3403],{"type":405,"tag":629,"props":3375,"children":3376},{"style":648},[3377],{"type":411,"value":3378},"    .",{"type":405,"tag":629,"props":3380,"children":3381},{"style":642},[3382],{"type":411,"value":727},{"type":405,"tag":629,"props":3384,"children":3385},{"style":690},[3386],{"type":411,"value":651},{"type":405,"tag":629,"props":3388,"children":3389},{"style":636},[3390],{"type":411,"value":639},{"type":405,"tag":629,"props":3392,"children":3393},{"style":648},[3394],{"type":411,"value":693},{"type":405,"tag":629,"props":3396,"children":3397},{"style":654},[3398],{"type":411,"value":631},{"type":405,"tag":629,"props":3400,"children":3401},{"style":648},[3402],{"type":411,"value":661},{"type":405,"tag":629,"props":3404,"children":3405},{"style":648},[3406],{"type":411,"value":666},{"type":405,"tag":629,"props":3408,"children":3410},{"class":631,"line":3409},42,[3411,3416,3420,3424,3429,3433,3437,3441],{"type":405,"tag":629,"props":3412,"children":3413},{"style":1145},[3414],{"type":411,"value":3415},"      return",{"type":405,"tag":629,"props":3417,"children":3418},{"style":696},[3419],{"type":411,"value":2824},{"type":405,"tag":629,"props":3421,"children":3422},{"style":648},[3423],{"type":411,"value":703},{"type":405,"tag":629,"props":3425,"children":3426},{"style":642},[3427],{"type":411,"value":3428},"slice",{"type":405,"tag":629,"props":3430,"children":3431},{"style":690},[3432],{"type":411,"value":651},{"type":405,"tag":629,"props":3434,"children":3435},{"style":696},[3436],{"type":411,"value":2067},{"type":405,"tag":629,"props":3438,"children":3439},{"style":690},[3440],{"type":411,"value":661},{"type":405,"tag":629,"props":3442,"children":3443},{"style":648},[3444],{"type":411,"value":770},{"type":405,"tag":629,"props":3446,"children":3448},{"class":631,"line":3447},43,[3449,3454],{"type":405,"tag":629,"props":3450,"children":3451},{"style":648},[3452],{"type":411,"value":3453},"    }",{"type":405,"tag":629,"props":3455,"children":3456},{"style":690},[3457],{"type":411,"value":1583},{"type":405,"tag":629,"props":3459,"children":3461},{"class":631,"line":3460},44,[3462,3466,3470,3474,3478,3482,3486,3490],{"type":405,"tag":629,"props":3463,"children":3464},{"style":648},[3465],{"type":411,"value":3378},{"type":405,"tag":629,"props":3467,"children":3468},{"style":642},[3469],{"type":411,"value":2247},{"type":405,"tag":629,"props":3471,"children":3472},{"style":690},[3473],{"type":411,"value":651},{"type":405,"tag":629,"props":3475,"children":3476},{"style":873},[3477],{"type":411,"value":886},{"type":405,"tag":629,"props":3479,"children":3480},{"style":2123},[3481],{"type":411,"value":1922},{"type":405,"tag":629,"props":3483,"children":3484},{"style":873},[3485],{"type":411,"value":886},{"type":405,"tag":629,"props":3487,"children":3488},{"style":690},[3489],{"type":411,"value":661},{"type":405,"tag":629,"props":3491,"children":3492},{"style":648},[3493],{"type":411,"value":770},{"type":405,"tag":629,"props":3495,"children":3497},{"class":631,"line":3496},45,[3498],{"type":405,"tag":629,"props":3499,"children":3500},{"style":648},[3501],{"type":411,"value":1864},{"type":405,"tag":629,"props":3503,"children":3505},{"class":631,"line":3504},46,[3506],{"type":405,"tag":629,"props":3507,"children":3508},{"emptyLinePlaceholder":397},[3509],{"type":411,"value":2462},{"type":405,"tag":629,"props":3511,"children":3513},{"class":631,"line":3512},47,[3514,3518,3522,3526,3530,3534,3538,3542],{"type":405,"tag":629,"props":3515,"children":3516},{"style":636},[3517],{"type":411,"value":639},{"type":405,"tag":629,"props":3519,"children":3520},{"style":642},[3521],{"type":411,"value":3071},{"type":405,"tag":629,"props":3523,"children":3524},{"style":648},[3525],{"type":411,"value":651},{"type":405,"tag":629,"props":3527,"children":3528},{"style":654},[3529],{"type":411,"value":631},{"type":405,"tag":629,"props":3531,"children":3532},{"style":648},[3533],{"type":411,"value":814},{"type":405,"tag":629,"props":3535,"children":3536},{"style":654},[3537],{"type":411,"value":2707},{"type":405,"tag":629,"props":3539,"children":3540},{"style":648},[3541],{"type":411,"value":661},{"type":405,"tag":629,"props":3543,"children":3544},{"style":648},[3545],{"type":411,"value":666},{"type":405,"tag":629,"props":3547,"children":3549},{"class":631,"line":3548},48,[3550,3554,3558,3562,3566],{"type":405,"tag":629,"props":3551,"children":3552},{"style":636},[3553],{"type":411,"value":2609},{"type":405,"tag":629,"props":3555,"children":3556},{"style":696},[3557],{"type":411,"value":2751},{"type":405,"tag":629,"props":3559,"children":3560},{"style":684},[3561],{"type":411,"value":687},{"type":405,"tag":629,"props":3563,"children":3564},{"style":2758},[3565],{"type":411,"value":2761},{"type":405,"tag":629,"props":3567,"children":3568},{"style":648},[3569],{"type":411,"value":770},{"type":405,"tag":629,"props":3571,"children":3573},{"class":631,"line":3572},49,[3574,3579,3583,3587,3591,3595,3599,3603,3607,3612,3616,3620],{"type":405,"tag":629,"props":3575,"children":3576},{"style":1145},[3577],{"type":411,"value":3578},"  while",{"type":405,"tag":629,"props":3580,"children":3581},{"style":690},[3582],{"type":411,"value":693},{"type":405,"tag":629,"props":3584,"children":3585},{"style":696},[3586],{"type":411,"value":631},{"type":405,"tag":629,"props":3588,"children":3589},{"style":648},[3590],{"type":411,"value":703},{"type":405,"tag":629,"props":3592,"children":3593},{"style":642},[3594],{"type":411,"value":2951},{"type":405,"tag":629,"props":3596,"children":3597},{"style":690},[3598],{"type":411,"value":651},{"type":405,"tag":629,"props":3600,"children":3601},{"style":696},[3602],{"type":411,"value":2841},{"type":405,"tag":629,"props":3604,"children":3605},{"style":690},[3606],{"type":411,"value":2806},{"type":405,"tag":629,"props":3608,"children":3609},{"style":684},[3610],{"type":411,"value":3611},"===",{"type":405,"tag":629,"props":3613,"children":3614},{"style":696},[3615],{"type":411,"value":2707},{"type":405,"tag":629,"props":3617,"children":3618},{"style":690},[3619],{"type":411,"value":2806},{"type":405,"tag":629,"props":3621,"children":3622},{"style":648},[3623],{"type":411,"value":2568},{"type":405,"tag":629,"props":3625,"children":3627},{"class":631,"line":3626},50,[3628,3633,3637],{"type":405,"tag":629,"props":3629,"children":3630},{"style":696},[3631],{"type":411,"value":3632},"    i",{"type":405,"tag":629,"props":3634,"children":3635},{"style":684},[3636],{"type":411,"value":2801},{"type":405,"tag":629,"props":3638,"children":3639},{"style":648},[3640],{"type":411,"value":770},{"type":405,"tag":629,"props":3642,"children":3644},{"class":631,"line":3643},51,[3645],{"type":405,"tag":629,"props":3646,"children":3647},{"style":648},[3648],{"type":411,"value":2593},{"type":405,"tag":629,"props":3650,"children":3652},{"class":631,"line":3651},52,[3653,3657,3661],{"type":405,"tag":629,"props":3654,"children":3655},{"style":1145},[3656],{"type":411,"value":1148},{"type":405,"tag":629,"props":3658,"children":3659},{"style":696},[3660],{"type":411,"value":2751},{"type":405,"tag":629,"props":3662,"children":3663},{"style":648},[3664],{"type":411,"value":770},{"type":405,"tag":629,"props":3666,"children":3668},{"class":631,"line":3667},53,[3669],{"type":405,"tag":629,"props":3670,"children":3671},{"style":648},[3672],{"type":411,"value":1165},{"type":405,"tag":3674,"props":3675,"children":3676},"style",{},[3677],{"type":411,"value":3678},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":398,"searchDepth":669,"depth":669,"links":3680},[3681,3682,3685,3686,3687,3691],{"id":408,"depth":669,"text":412},{"id":491,"depth":669,"text":436,"children":3683},[3684],{"id":513,"depth":773,"text":516},{"id":544,"depth":669,"text":446},{"id":554,"depth":669,"text":557},{"id":565,"depth":669,"text":476,"children":3688},[3689,3690],{"id":570,"depth":773,"text":573},{"id":1586,"depth":773,"text":1589},{"id":1640,"depth":669,"text":1640,"children":3692},[3693,3694],{"id":1668,"depth":773,"text":1668},{"id":2274,"depth":773,"text":2274},"content:8.source-code:_js:vue2-source:2.parser.md","content","8.source-code/_js/vue2-source/2.parser.md","8.source-code/_js/vue2-source/2.parser","md",[3701,3704],{"_path":3702,"title":3703,"description":400},"/source-code/_js/vue2-source/observer","Vue2 Observer",{"_path":3705,"title":3706,"description":400},"/source-code/_js/vue2-source/global-api","Vue2 Global API",1741604970372]