[{"data":1,"prerenderedAt":3969},["ShallowReactive",2],{"navigation":3,"/maps/_frontend/javascript/promise":384,"/maps/_frontend/javascript/promise-surround":3962},[4,35,86,105,132,138,144,150,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":205,"_path":206},"正则表达式","/gists/eegex",{"title":208,"_path":209},"Emoji","/gists/emoji",{"title":211,"_path":212},"工程","/gists/engineering",{"title":214,"_path":215},"熵","/gists/entropy",{"title":217,"_path":218},"Environment","/gists/environment",{"title":220,"_path":221},"Erlang","/gists/erlang",{"title":223,"_path":224},"逃离塔克夫","/gists/escape-from-tarkov",{"title":226,"_path":227},"ESNext (ES6-ES11)","/gists/esnext",{"title":229,"_path":230},"Eval！","/gists/eval",{"title":232,"_path":233},"Flutter","/gists/flutter",{"title":235,"_path":236},"字体","/gists/font",{"title":238,"_path":239},"JS 函数式编程","/gists/functional",{"title":241,"_path":242},"游戏化","/gists/gamification",{"title":244,"_path":245},"Google C++ Standard","/gists/google-cpp-standard",{"title":247,"_path":248},"双向链接完全体","/gists/graph",{"title":250,"_path":251},"Hardwares","/gists/hardwares",{"title":253,"_path":254},"哈希冲突","/gists/hash-collision",{"title":256,"_path":257},"信息设计","/gists/information-design",{"title":259,"_path":260},"InstantPage","/gists/instant.page",{"title":262,"_path":263},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":265,"_path":266},"KVStore","/gists/key-value-db",{"title":268,"_path":269},"Kubernetes","/gists/kubernetes",{"title":271,"_path":272},"Makefile","/gists/makefile",{"title":274,"_path":275},"Markdown Inline Style","/gists/markdown-nice",{"title":277,"_path":278},"减小页面快照体积","/gists/minify-html",{"title":280,"_path":281},"mklink","/gists/mklink",{"title":283,"_path":284},"Mock","/gists/mock",{"title":286,"_path":287},"多人协作系统","/gists/multiplayer",{"title":289,"_path":290},"多端应用","/gists/multy-end-app",{"title":292,"_path":293},"神经科学","/gists/neuroscience",{"title":295,"_path":296},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":298,"_path":299},"PInvoke","/gists/pinvoke",{"title":301,"_path":302},"像素","/gists/pixel",{"title":304,"_path":305},"PowerShell","/gists/powershell",{"title":307,"_path":308},"量子","/gists/quantum",{"title":310,"_path":311},"保持好奇心","/gists/questions",{"title":313,"_path":314},"React Native","/gists/react-native",{"title":316,"_path":317},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":319,"_path":320},"SEO","/gists/seo",{"title":322,"_path":323},"Shader","/gists/shader",{"title":325,"_path":326},"Shape Up","/gists/shape-up",{"title":328,"_path":329},"睡觉","/gists/sleep",{"title":331,"_path":332},"记录奇怪的问题","/gists/solved",{"title":334,"_path":335},"States","/gists/states",{"title":337,"_path":338},"Storage","/gists/storage",{"title":340,"_path":341},"音视频流处理","/gists/stream-cli",{"title":343,"_path":344},"Symbol","/gists/symbol",{"title":346,"_path":347},"系统论","/gists/systems-theory",{"title":349,"_path":350},"任务切片","/gists/task-slice",{"title":352,"_path":353},"技术偏好","/gists/tech-dudge",{"title":355,"_path":356},"Untitled","/gists/untitled",{"title":358,"_path":359},"可变字体","/gists/variable-font",{"title":361,"_path":362},"视觉错觉","/gists/visual-illusion",{"title":364,"_path":365},"SS(SSR)","/gists/vpn",{"title":367,"_path":368},"VS Code 插件开发","/gists/vscode-plugin",{"title":370,"_path":371},"Web Components","/gists/web-components",{"title":373,"_path":374},"Windows","/gists/windows",{"title":376,"_path":377},"查缺补漏","/gists/wrong",{"title":379,"_path":380,"children":381},"我 / About","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"_path":385,"_dir":386,"_draft":387,"_partial":388,"_locale":389,"title":390,"description":389,"body":391,"_type":3956,"_id":3957,"_source":3958,"_file":3959,"_stem":3960,"_extension":3961},"/maps/_frontend/javascript/promise","javascript",false,true,"","Promise",{"type":392,"children":393,"toc":3949},"root",[394,403,440,446,453,459,610,622,628,633,789,800,806,811,934,945,951,1279,1284,1290,2271,2669,2676,2685,2691,2697,2702,2730,2736,2741,2935,2946,2952,2957,3932,3943],{"type":395,"tag":396,"props":397,"children":399},"element","h2",{"id":398},"todo",[400],{"type":401,"value":402},"text","TODO",{"type":395,"tag":404,"props":405,"children":406},"ul",{},[407,420,430],{"type":395,"tag":408,"props":409,"children":410},"li",{},[411],{"type":395,"tag":412,"props":413,"children":417},"a",{"href":414,"rel":415},"https://stackoverflow.com/questions/30564053/how-can-i-synchronously-determine-a-javascript-promises-state/52790734#52790734",[416],"nofollow",[418],{"type":401,"value":419},"How can I synchronously determine a JavaScript Promise's state?",{"type":395,"tag":408,"props":421,"children":422},{},[423],{"type":395,"tag":412,"props":424,"children":427},{"href":425,"rel":426},"https://juejin.cn/post/6999804617320038408",[416],[428],{"type":401,"value":429},"Promise 被玩出 48 种“花样”，深度解析10个常用模块",{"type":395,"tag":408,"props":431,"children":432},{},[433],{"type":395,"tag":412,"props":434,"children":437},{"href":435,"rel":436},"https://juejin.cn/post/6844903533393772557#comment",[416],[438],{"type":401,"value":439},"[译] 如何取消你的 Promise？",{"type":395,"tag":396,"props":441,"children":443},{"id":442},"promise-a",[444],{"type":401,"value":445},"Promise A+",{"type":395,"tag":447,"props":448,"children":450},"h4",{"id":449},"promiseresolve1then2thenlog",[451],{"type":401,"value":452},"Promise.resolve(1).then(2).then(log)",{"type":395,"tag":454,"props":455,"children":456},"p",{},[457],{"type":401,"value":458},"then 方法中如果不是函数，那么会被忽略。",{"type":395,"tag":460,"props":461,"children":465},"pre",{"className":462,"code":463,"language":464,"meta":389,"style":389},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","Promise.resolve(1)\n  .then(2)\n  .then(data => console.log(data + 1))\n  // -> 2\n","js",[466],{"type":395,"tag":467,"props":468,"children":469},"code",{"__ignoreMap":389},[470,510,537,600],{"type":395,"tag":471,"props":472,"children":475},"span",{"class":473,"line":474},"line",1,[476,481,487,493,499,505],{"type":395,"tag":471,"props":477,"children":479},{"style":478},"--shiki-light:#E2931D;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[480],{"type":401,"value":390},{"type":395,"tag":471,"props":482,"children":484},{"style":483},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[485],{"type":401,"value":486},".",{"type":395,"tag":471,"props":488,"children":490},{"style":489},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[491],{"type":401,"value":492},"resolve",{"type":395,"tag":471,"props":494,"children":496},{"style":495},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[497],{"type":401,"value":498},"(",{"type":395,"tag":471,"props":500,"children":502},{"style":501},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[503],{"type":401,"value":504},"1",{"type":395,"tag":471,"props":506,"children":507},{"style":495},[508],{"type":401,"value":509},")\n",{"type":395,"tag":471,"props":511,"children":513},{"class":473,"line":512},2,[514,519,524,528,533],{"type":395,"tag":471,"props":515,"children":516},{"style":483},[517],{"type":401,"value":518},"  .",{"type":395,"tag":471,"props":520,"children":521},{"style":489},[522],{"type":401,"value":523},"then",{"type":395,"tag":471,"props":525,"children":526},{"style":495},[527],{"type":401,"value":498},{"type":395,"tag":471,"props":529,"children":530},{"style":501},[531],{"type":401,"value":532},"2",{"type":395,"tag":471,"props":534,"children":535},{"style":495},[536],{"type":401,"value":509},{"type":395,"tag":471,"props":538,"children":540},{"class":473,"line":539},3,[541,545,549,553,559,565,570,574,579,584,590,595],{"type":395,"tag":471,"props":542,"children":543},{"style":483},[544],{"type":401,"value":518},{"type":395,"tag":471,"props":546,"children":547},{"style":489},[548],{"type":401,"value":523},{"type":395,"tag":471,"props":550,"children":551},{"style":495},[552],{"type":401,"value":498},{"type":395,"tag":471,"props":554,"children":556},{"style":555},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[557],{"type":401,"value":558},"data",{"type":395,"tag":471,"props":560,"children":562},{"style":561},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[563],{"type":401,"value":564}," =>",{"type":395,"tag":471,"props":566,"children":567},{"style":495},[568],{"type":401,"value":569}," console",{"type":395,"tag":471,"props":571,"children":572},{"style":483},[573],{"type":401,"value":486},{"type":395,"tag":471,"props":575,"children":576},{"style":489},[577],{"type":401,"value":578},"log",{"type":395,"tag":471,"props":580,"children":581},{"style":495},[582],{"type":401,"value":583},"(data ",{"type":395,"tag":471,"props":585,"children":587},{"style":586},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[588],{"type":401,"value":589},"+",{"type":395,"tag":471,"props":591,"children":592},{"style":501},[593],{"type":401,"value":594}," 1",{"type":395,"tag":471,"props":596,"children":597},{"style":495},[598],{"type":401,"value":599},"))\n",{"type":395,"tag":471,"props":601,"children":603},{"class":473,"line":602},4,[604],{"type":395,"tag":471,"props":605,"children":607},{"style":606},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[608],{"type":401,"value":609},"  // -> 2\n",{"type":395,"tag":454,"props":611,"children":612},{},[613,615],{"type":401,"value":614},"见：",{"type":395,"tag":412,"props":616,"children":619},{"href":617,"rel":618},"https://promisesaplus.com/#point-23",[416],[620],{"type":401,"value":621},"Promise/A+ #point-23",{"type":395,"tag":447,"props":623,"children":625},{"id":624},"promiseresolve1then-2",[626],{"type":401,"value":627},"Promise.resolve(1).then(() => 2)",{"type":395,"tag":454,"props":629,"children":630},{},[631],{"type":401,"value":632},"Promise.then 以及 catch 和 finally 方法都返回一个新 Promise。如果 then 方法中 return 了值 x，x 会进入 Promise.then 的 PRP 过程（Promise Resolution Procedure），可比作：Promise.then.resolve(x)。",{"type":395,"tag":460,"props":634,"children":636},{"className":462,"code":635,"language":464,"meta":389,"style":389},"Promise.resolve(1).then(() => 2)\n// -> Promise {\u003Cfulfilled>: 2}\nPromise.reject(1).then(() => 2, () => 3)\n// -> Promise {\u003Cfulfilled>: 3}\n",[637],{"type":395,"tag":467,"props":638,"children":639},{"__ignoreMap":389},[640,698,706,781],{"type":395,"tag":471,"props":641,"children":642},{"class":473,"line":474},[643,647,651,655,659,663,668,672,676,680,685,689,694],{"type":395,"tag":471,"props":644,"children":645},{"style":478},[646],{"type":401,"value":390},{"type":395,"tag":471,"props":648,"children":649},{"style":483},[650],{"type":401,"value":486},{"type":395,"tag":471,"props":652,"children":653},{"style":489},[654],{"type":401,"value":492},{"type":395,"tag":471,"props":656,"children":657},{"style":495},[658],{"type":401,"value":498},{"type":395,"tag":471,"props":660,"children":661},{"style":501},[662],{"type":401,"value":504},{"type":395,"tag":471,"props":664,"children":665},{"style":495},[666],{"type":401,"value":667},")",{"type":395,"tag":471,"props":669,"children":670},{"style":483},[671],{"type":401,"value":486},{"type":395,"tag":471,"props":673,"children":674},{"style":489},[675],{"type":401,"value":523},{"type":395,"tag":471,"props":677,"children":678},{"style":495},[679],{"type":401,"value":498},{"type":395,"tag":471,"props":681,"children":682},{"style":483},[683],{"type":401,"value":684},"()",{"type":395,"tag":471,"props":686,"children":687},{"style":561},[688],{"type":401,"value":564},{"type":395,"tag":471,"props":690,"children":691},{"style":501},[692],{"type":401,"value":693}," 2",{"type":395,"tag":471,"props":695,"children":696},{"style":495},[697],{"type":401,"value":509},{"type":395,"tag":471,"props":699,"children":700},{"class":473,"line":512},[701],{"type":395,"tag":471,"props":702,"children":703},{"style":606},[704],{"type":401,"value":705},"// -> Promise {\u003Cfulfilled>: 2}\n",{"type":395,"tag":471,"props":707,"children":708},{"class":473,"line":539},[709,713,717,722,726,730,734,738,742,746,750,754,758,763,768,772,777],{"type":395,"tag":471,"props":710,"children":711},{"style":478},[712],{"type":401,"value":390},{"type":395,"tag":471,"props":714,"children":715},{"style":483},[716],{"type":401,"value":486},{"type":395,"tag":471,"props":718,"children":719},{"style":489},[720],{"type":401,"value":721},"reject",{"type":395,"tag":471,"props":723,"children":724},{"style":495},[725],{"type":401,"value":498},{"type":395,"tag":471,"props":727,"children":728},{"style":501},[729],{"type":401,"value":504},{"type":395,"tag":471,"props":731,"children":732},{"style":495},[733],{"type":401,"value":667},{"type":395,"tag":471,"props":735,"children":736},{"style":483},[737],{"type":401,"value":486},{"type":395,"tag":471,"props":739,"children":740},{"style":489},[741],{"type":401,"value":523},{"type":395,"tag":471,"props":743,"children":744},{"style":495},[745],{"type":401,"value":498},{"type":395,"tag":471,"props":747,"children":748},{"style":483},[749],{"type":401,"value":684},{"type":395,"tag":471,"props":751,"children":752},{"style":561},[753],{"type":401,"value":564},{"type":395,"tag":471,"props":755,"children":756},{"style":501},[757],{"type":401,"value":693},{"type":395,"tag":471,"props":759,"children":760},{"style":483},[761],{"type":401,"value":762},",",{"type":395,"tag":471,"props":764,"children":765},{"style":483},[766],{"type":401,"value":767}," ()",{"type":395,"tag":471,"props":769,"children":770},{"style":561},[771],{"type":401,"value":564},{"type":395,"tag":471,"props":773,"children":774},{"style":501},[775],{"type":401,"value":776}," 3",{"type":395,"tag":471,"props":778,"children":779},{"style":495},[780],{"type":401,"value":509},{"type":395,"tag":471,"props":782,"children":783},{"class":473,"line":602},[784],{"type":395,"tag":471,"props":785,"children":786},{"style":606},[787],{"type":401,"value":788},"// -> Promise {\u003Cfulfilled>: 3}\n",{"type":395,"tag":454,"props":790,"children":791},{},[792,793],{"type":401,"value":614},{"type":395,"tag":412,"props":794,"children":797},{"href":795,"rel":796},"https://promisesaplus.com/#point-41",[416],[798],{"type":401,"value":799},"Promise/A+ #point-41",{"type":395,"tag":447,"props":801,"children":803},{"id":802},"多次执行-resolve-会发生什么",[804],{"type":401,"value":805},"多次执行 resolve 会发生什么？",{"type":395,"tag":454,"props":807,"children":808},{},[809],{"type":401,"value":810},"多次执行 resolve 只有第一次有效。已经确定状态的 Promise 不能再改变状态，所以再次执行 resolve 或 reject 都不会发生任何事（为什么不抛错，真是奇怪的设计）。",{"type":395,"tag":460,"props":812,"children":814},{"className":462,"code":813,"language":464,"meta":389,"style":389},"new Promise(resolve => (resolve(1), resolve(2)))\n  .then(data => console.log(data))\n  // -> 1\n",[815],{"type":395,"tag":467,"props":816,"children":817},{"__ignoreMap":389},[818,886,926],{"type":395,"tag":471,"props":819,"children":820},{"class":473,"line":474},[821,826,831,835,839,843,848,852,856,860,864,868,873,877,881],{"type":395,"tag":471,"props":822,"children":823},{"style":586},[824],{"type":401,"value":825},"new",{"type":395,"tag":471,"props":827,"children":828},{"style":478},[829],{"type":401,"value":830}," Promise",{"type":395,"tag":471,"props":832,"children":833},{"style":495},[834],{"type":401,"value":498},{"type":395,"tag":471,"props":836,"children":837},{"style":555},[838],{"type":401,"value":492},{"type":395,"tag":471,"props":840,"children":841},{"style":561},[842],{"type":401,"value":564},{"type":395,"tag":471,"props":844,"children":845},{"style":495},[846],{"type":401,"value":847}," (",{"type":395,"tag":471,"props":849,"children":850},{"style":489},[851],{"type":401,"value":492},{"type":395,"tag":471,"props":853,"children":854},{"style":495},[855],{"type":401,"value":498},{"type":395,"tag":471,"props":857,"children":858},{"style":501},[859],{"type":401,"value":504},{"type":395,"tag":471,"props":861,"children":862},{"style":495},[863],{"type":401,"value":667},{"type":395,"tag":471,"props":865,"children":866},{"style":483},[867],{"type":401,"value":762},{"type":395,"tag":471,"props":869,"children":870},{"style":489},[871],{"type":401,"value":872}," resolve",{"type":395,"tag":471,"props":874,"children":875},{"style":495},[876],{"type":401,"value":498},{"type":395,"tag":471,"props":878,"children":879},{"style":501},[880],{"type":401,"value":532},{"type":395,"tag":471,"props":882,"children":883},{"style":495},[884],{"type":401,"value":885},")))\n",{"type":395,"tag":471,"props":887,"children":888},{"class":473,"line":512},[889,893,897,901,905,909,913,917,921],{"type":395,"tag":471,"props":890,"children":891},{"style":483},[892],{"type":401,"value":518},{"type":395,"tag":471,"props":894,"children":895},{"style":489},[896],{"type":401,"value":523},{"type":395,"tag":471,"props":898,"children":899},{"style":495},[900],{"type":401,"value":498},{"type":395,"tag":471,"props":902,"children":903},{"style":555},[904],{"type":401,"value":558},{"type":395,"tag":471,"props":906,"children":907},{"style":561},[908],{"type":401,"value":564},{"type":395,"tag":471,"props":910,"children":911},{"style":495},[912],{"type":401,"value":569},{"type":395,"tag":471,"props":914,"children":915},{"style":483},[916],{"type":401,"value":486},{"type":395,"tag":471,"props":918,"children":919},{"style":489},[920],{"type":401,"value":578},{"type":395,"tag":471,"props":922,"children":923},{"style":495},[924],{"type":401,"value":925},"(data))\n",{"type":395,"tag":471,"props":927,"children":928},{"class":473,"line":539},[929],{"type":395,"tag":471,"props":930,"children":931},{"style":606},[932],{"type":401,"value":933},"  // -> 1\n",{"type":395,"tag":454,"props":935,"children":936},{},[937,938],{"type":401,"value":614},{"type":395,"tag":412,"props":939,"children":942},{"href":940,"rel":941},"https://promisesaplus.com/#point-59",[416],[943],{"type":401,"value":944},"Promise/A+ #point-59",{"type":395,"tag":447,"props":946,"children":948},{"id":947},"使用-promise-设计一个可以取消请求的请求函数",[949],{"type":401,"value":950},"使用 Promise 设计一个可以取消请求的请求函数？",{"type":395,"tag":460,"props":952,"children":954},{"className":462,"code":953,"language":464,"meta":389,"style":389},"function request (url) {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(url), 1000)\n    })\n}\nlet abort\nlet abortController = new Promise(resolve => abort = resolve)\nPromise\n  .race([request('123'), abortController])\n  .then(data => console.log(data))\nabort()\n",[955],{"type":395,"tag":467,"props":956,"children":957},{"__ignoreMap":389},[958,989,1024,1073,1085,1094,1108,1160,1169,1225,1265],{"type":395,"tag":471,"props":959,"children":960},{"class":473,"line":474},[961,966,971,975,980,984],{"type":395,"tag":471,"props":962,"children":963},{"style":561},[964],{"type":401,"value":965},"function",{"type":395,"tag":471,"props":967,"children":968},{"style":489},[969],{"type":401,"value":970}," request",{"type":395,"tag":471,"props":972,"children":973},{"style":483},[974],{"type":401,"value":847},{"type":395,"tag":471,"props":976,"children":977},{"style":555},[978],{"type":401,"value":979},"url",{"type":395,"tag":471,"props":981,"children":982},{"style":483},[983],{"type":401,"value":667},{"type":395,"tag":471,"props":985,"children":986},{"style":483},[987],{"type":401,"value":988}," {\n",{"type":395,"tag":471,"props":990,"children":991},{"class":473,"line":512},[992,998,1003,1007,1012,1016,1020],{"type":395,"tag":471,"props":993,"children":995},{"style":994},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[996],{"type":401,"value":997},"    return",{"type":395,"tag":471,"props":999,"children":1000},{"style":586},[1001],{"type":401,"value":1002}," new",{"type":395,"tag":471,"props":1004,"children":1005},{"style":478},[1006],{"type":401,"value":830},{"type":395,"tag":471,"props":1008,"children":1010},{"style":1009},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[1011],{"type":401,"value":498},{"type":395,"tag":471,"props":1013,"children":1014},{"style":555},[1015],{"type":401,"value":492},{"type":395,"tag":471,"props":1017,"children":1018},{"style":561},[1019],{"type":401,"value":564},{"type":395,"tag":471,"props":1021,"children":1022},{"style":483},[1023],{"type":401,"value":988},{"type":395,"tag":471,"props":1025,"children":1026},{"class":473,"line":539},[1027,1032,1036,1040,1044,1048,1052,1056,1060,1064,1069],{"type":395,"tag":471,"props":1028,"children":1029},{"style":489},[1030],{"type":401,"value":1031},"        setTimeout",{"type":395,"tag":471,"props":1033,"children":1034},{"style":1009},[1035],{"type":401,"value":498},{"type":395,"tag":471,"props":1037,"children":1038},{"style":483},[1039],{"type":401,"value":684},{"type":395,"tag":471,"props":1041,"children":1042},{"style":561},[1043],{"type":401,"value":564},{"type":395,"tag":471,"props":1045,"children":1046},{"style":489},[1047],{"type":401,"value":872},{"type":395,"tag":471,"props":1049,"children":1050},{"style":1009},[1051],{"type":401,"value":498},{"type":395,"tag":471,"props":1053,"children":1054},{"style":495},[1055],{"type":401,"value":979},{"type":395,"tag":471,"props":1057,"children":1058},{"style":1009},[1059],{"type":401,"value":667},{"type":395,"tag":471,"props":1061,"children":1062},{"style":483},[1063],{"type":401,"value":762},{"type":395,"tag":471,"props":1065,"children":1066},{"style":501},[1067],{"type":401,"value":1068}," 1000",{"type":395,"tag":471,"props":1070,"children":1071},{"style":1009},[1072],{"type":401,"value":509},{"type":395,"tag":471,"props":1074,"children":1075},{"class":473,"line":602},[1076,1081],{"type":395,"tag":471,"props":1077,"children":1078},{"style":483},[1079],{"type":401,"value":1080},"    }",{"type":395,"tag":471,"props":1082,"children":1083},{"style":1009},[1084],{"type":401,"value":509},{"type":395,"tag":471,"props":1086,"children":1088},{"class":473,"line":1087},5,[1089],{"type":395,"tag":471,"props":1090,"children":1091},{"style":483},[1092],{"type":401,"value":1093},"}\n",{"type":395,"tag":471,"props":1095,"children":1097},{"class":473,"line":1096},6,[1098,1103],{"type":395,"tag":471,"props":1099,"children":1100},{"style":561},[1101],{"type":401,"value":1102},"let",{"type":395,"tag":471,"props":1104,"children":1105},{"style":495},[1106],{"type":401,"value":1107}," abort\n",{"type":395,"tag":471,"props":1109,"children":1111},{"class":473,"line":1110},7,[1112,1116,1121,1126,1130,1134,1138,1142,1146,1151,1155],{"type":395,"tag":471,"props":1113,"children":1114},{"style":561},[1115],{"type":401,"value":1102},{"type":395,"tag":471,"props":1117,"children":1118},{"style":495},[1119],{"type":401,"value":1120}," abortController ",{"type":395,"tag":471,"props":1122,"children":1123},{"style":586},[1124],{"type":401,"value":1125},"=",{"type":395,"tag":471,"props":1127,"children":1128},{"style":586},[1129],{"type":401,"value":1002},{"type":395,"tag":471,"props":1131,"children":1132},{"style":478},[1133],{"type":401,"value":830},{"type":395,"tag":471,"props":1135,"children":1136},{"style":495},[1137],{"type":401,"value":498},{"type":395,"tag":471,"props":1139,"children":1140},{"style":555},[1141],{"type":401,"value":492},{"type":395,"tag":471,"props":1143,"children":1144},{"style":561},[1145],{"type":401,"value":564},{"type":395,"tag":471,"props":1147,"children":1148},{"style":495},[1149],{"type":401,"value":1150}," abort ",{"type":395,"tag":471,"props":1152,"children":1153},{"style":586},[1154],{"type":401,"value":1125},{"type":395,"tag":471,"props":1156,"children":1157},{"style":495},[1158],{"type":401,"value":1159}," resolve)\n",{"type":395,"tag":471,"props":1161,"children":1163},{"class":473,"line":1162},8,[1164],{"type":395,"tag":471,"props":1165,"children":1166},{"style":478},[1167],{"type":401,"value":1168},"Promise\n",{"type":395,"tag":471,"props":1170,"children":1172},{"class":473,"line":1171},9,[1173,1177,1182,1187,1192,1196,1202,1208,1212,1216,1220],{"type":395,"tag":471,"props":1174,"children":1175},{"style":483},[1176],{"type":401,"value":518},{"type":395,"tag":471,"props":1178,"children":1179},{"style":489},[1180],{"type":401,"value":1181},"race",{"type":395,"tag":471,"props":1183,"children":1184},{"style":495},[1185],{"type":401,"value":1186},"([",{"type":395,"tag":471,"props":1188,"children":1189},{"style":489},[1190],{"type":401,"value":1191},"request",{"type":395,"tag":471,"props":1193,"children":1194},{"style":495},[1195],{"type":401,"value":498},{"type":395,"tag":471,"props":1197,"children":1199},{"style":1198},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1200],{"type":401,"value":1201},"'",{"type":395,"tag":471,"props":1203,"children":1205},{"style":1204},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1206],{"type":401,"value":1207},"123",{"type":395,"tag":471,"props":1209,"children":1210},{"style":1198},[1211],{"type":401,"value":1201},{"type":395,"tag":471,"props":1213,"children":1214},{"style":495},[1215],{"type":401,"value":667},{"type":395,"tag":471,"props":1217,"children":1218},{"style":483},[1219],{"type":401,"value":762},{"type":395,"tag":471,"props":1221,"children":1222},{"style":495},[1223],{"type":401,"value":1224}," abortController])\n",{"type":395,"tag":471,"props":1226,"children":1228},{"class":473,"line":1227},10,[1229,1233,1237,1241,1245,1249,1253,1257,1261],{"type":395,"tag":471,"props":1230,"children":1231},{"style":483},[1232],{"type":401,"value":518},{"type":395,"tag":471,"props":1234,"children":1235},{"style":489},[1236],{"type":401,"value":523},{"type":395,"tag":471,"props":1238,"children":1239},{"style":495},[1240],{"type":401,"value":498},{"type":395,"tag":471,"props":1242,"children":1243},{"style":555},[1244],{"type":401,"value":558},{"type":395,"tag":471,"props":1246,"children":1247},{"style":561},[1248],{"type":401,"value":564},{"type":395,"tag":471,"props":1250,"children":1251},{"style":495},[1252],{"type":401,"value":569},{"type":395,"tag":471,"props":1254,"children":1255},{"style":483},[1256],{"type":401,"value":486},{"type":395,"tag":471,"props":1258,"children":1259},{"style":489},[1260],{"type":401,"value":578},{"type":395,"tag":471,"props":1262,"children":1263},{"style":495},[1264],{"type":401,"value":925},{"type":395,"tag":471,"props":1266,"children":1268},{"class":473,"line":1267},11,[1269,1274],{"type":395,"tag":471,"props":1270,"children":1271},{"style":489},[1272],{"type":401,"value":1273},"abort",{"type":395,"tag":471,"props":1275,"children":1276},{"style":495},[1277],{"type":401,"value":1278},"()\n",{"type":395,"tag":454,"props":1280,"children":1281},{},[1282],{"type":401,"value":1283},"注意，Promise.race 以及 Promise.all 等函数尽管可以通过提前调用 then、catch 方法以达到特定目的，但是不会影响其它作为入参的 Promise 的正常执行。",{"type":395,"tag":447,"props":1285,"children":1287},{"id":1286},"一些关于-promise-的综合问题",[1288],{"type":401,"value":1289},"一些关于 Promise 的综合问题？",{"type":395,"tag":460,"props":1291,"children":1293},{"className":462,"code":1292,"language":464,"meta":389,"style":389},"// 考察事件循环\nconst p1 = new Promise((resolve) => {\n  setTimeout(() => {\n    resolve('resolve3');\n    console.log('timer1')\n    new Promise(r => r('promise1')).then(console.log)\n  }, 0)\n  resolve('resovle1');\n  resolve('resolve2');\n}).then(res => {\n  console.log(res)\n  setTimeout(() => {\n    console.log(p1)\n    new Promise(r => r('promise2')).then(console.log)\n  }, 1000)\n}).finally(res => {\n  console.log('finally1', res)\n  throw new Error('error1')\n}).catch(err => {\n  console.log(err)\n  throw new Error('error2')\n}).catch(err => {\n  console.log(err)\n}).then(res => {\n  console.log(res)\n}).finally(res => {\n  console.log('finally2', res)\n})\n",[1294],{"type":395,"tag":467,"props":1295,"children":1296},{"__ignoreMap":389},[1297,1305,1356,1380,1414,1451,1532,1549,1582,1614,1651,1679,1703,1732,1809,1825,1862,1908,1947,1985,2013,2050,2086,2114,2150,2178,2214,2259],{"type":395,"tag":471,"props":1298,"children":1299},{"class":473,"line":474},[1300],{"type":395,"tag":471,"props":1301,"children":1302},{"style":606},[1303],{"type":401,"value":1304},"// 考察事件循环\n",{"type":395,"tag":471,"props":1306,"children":1307},{"class":473,"line":512},[1308,1313,1319,1324,1328,1332,1336,1340,1344,1348,1352],{"type":395,"tag":471,"props":1309,"children":1310},{"style":561},[1311],{"type":401,"value":1312},"const",{"type":395,"tag":471,"props":1314,"children":1316},{"style":1315},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1317],{"type":401,"value":1318}," p1",{"type":395,"tag":471,"props":1320,"children":1321},{"style":586},[1322],{"type":401,"value":1323}," =",{"type":395,"tag":471,"props":1325,"children":1326},{"style":586},[1327],{"type":401,"value":1002},{"type":395,"tag":471,"props":1329,"children":1330},{"style":478},[1331],{"type":401,"value":830},{"type":395,"tag":471,"props":1333,"children":1334},{"style":495},[1335],{"type":401,"value":498},{"type":395,"tag":471,"props":1337,"children":1338},{"style":483},[1339],{"type":401,"value":498},{"type":395,"tag":471,"props":1341,"children":1342},{"style":555},[1343],{"type":401,"value":492},{"type":395,"tag":471,"props":1345,"children":1346},{"style":483},[1347],{"type":401,"value":667},{"type":395,"tag":471,"props":1349,"children":1350},{"style":561},[1351],{"type":401,"value":564},{"type":395,"tag":471,"props":1353,"children":1354},{"style":483},[1355],{"type":401,"value":988},{"type":395,"tag":471,"props":1357,"children":1358},{"class":473,"line":539},[1359,1364,1368,1372,1376],{"type":395,"tag":471,"props":1360,"children":1361},{"style":489},[1362],{"type":401,"value":1363},"  setTimeout",{"type":395,"tag":471,"props":1365,"children":1366},{"style":1009},[1367],{"type":401,"value":498},{"type":395,"tag":471,"props":1369,"children":1370},{"style":483},[1371],{"type":401,"value":684},{"type":395,"tag":471,"props":1373,"children":1374},{"style":561},[1375],{"type":401,"value":564},{"type":395,"tag":471,"props":1377,"children":1378},{"style":483},[1379],{"type":401,"value":988},{"type":395,"tag":471,"props":1381,"children":1382},{"class":473,"line":602},[1383,1388,1392,1396,1401,1405,1409],{"type":395,"tag":471,"props":1384,"children":1385},{"style":489},[1386],{"type":401,"value":1387},"    resolve",{"type":395,"tag":471,"props":1389,"children":1390},{"style":1009},[1391],{"type":401,"value":498},{"type":395,"tag":471,"props":1393,"children":1394},{"style":1198},[1395],{"type":401,"value":1201},{"type":395,"tag":471,"props":1397,"children":1398},{"style":1204},[1399],{"type":401,"value":1400},"resolve3",{"type":395,"tag":471,"props":1402,"children":1403},{"style":1198},[1404],{"type":401,"value":1201},{"type":395,"tag":471,"props":1406,"children":1407},{"style":1009},[1408],{"type":401,"value":667},{"type":395,"tag":471,"props":1410,"children":1411},{"style":483},[1412],{"type":401,"value":1413},";\n",{"type":395,"tag":471,"props":1415,"children":1416},{"class":473,"line":1087},[1417,1422,1426,1430,1434,1438,1443,1447],{"type":395,"tag":471,"props":1418,"children":1419},{"style":495},[1420],{"type":401,"value":1421},"    console",{"type":395,"tag":471,"props":1423,"children":1424},{"style":483},[1425],{"type":401,"value":486},{"type":395,"tag":471,"props":1427,"children":1428},{"style":489},[1429],{"type":401,"value":578},{"type":395,"tag":471,"props":1431,"children":1432},{"style":1009},[1433],{"type":401,"value":498},{"type":395,"tag":471,"props":1435,"children":1436},{"style":1198},[1437],{"type":401,"value":1201},{"type":395,"tag":471,"props":1439,"children":1440},{"style":1204},[1441],{"type":401,"value":1442},"timer1",{"type":395,"tag":471,"props":1444,"children":1445},{"style":1198},[1446],{"type":401,"value":1201},{"type":395,"tag":471,"props":1448,"children":1449},{"style":1009},[1450],{"type":401,"value":509},{"type":395,"tag":471,"props":1452,"children":1453},{"class":473,"line":1096},[1454,1459,1463,1467,1472,1476,1481,1485,1489,1494,1498,1503,1507,1511,1515,1520,1524,1528],{"type":395,"tag":471,"props":1455,"children":1456},{"style":586},[1457],{"type":401,"value":1458},"    new",{"type":395,"tag":471,"props":1460,"children":1461},{"style":478},[1462],{"type":401,"value":830},{"type":395,"tag":471,"props":1464,"children":1465},{"style":1009},[1466],{"type":401,"value":498},{"type":395,"tag":471,"props":1468,"children":1469},{"style":555},[1470],{"type":401,"value":1471},"r",{"type":395,"tag":471,"props":1473,"children":1474},{"style":561},[1475],{"type":401,"value":564},{"type":395,"tag":471,"props":1477,"children":1478},{"style":489},[1479],{"type":401,"value":1480}," r",{"type":395,"tag":471,"props":1482,"children":1483},{"style":1009},[1484],{"type":401,"value":498},{"type":395,"tag":471,"props":1486,"children":1487},{"style":1198},[1488],{"type":401,"value":1201},{"type":395,"tag":471,"props":1490,"children":1491},{"style":1204},[1492],{"type":401,"value":1493},"promise1",{"type":395,"tag":471,"props":1495,"children":1496},{"style":1198},[1497],{"type":401,"value":1201},{"type":395,"tag":471,"props":1499,"children":1500},{"style":1009},[1501],{"type":401,"value":1502},"))",{"type":395,"tag":471,"props":1504,"children":1505},{"style":483},[1506],{"type":401,"value":486},{"type":395,"tag":471,"props":1508,"children":1509},{"style":489},[1510],{"type":401,"value":523},{"type":395,"tag":471,"props":1512,"children":1513},{"style":1009},[1514],{"type":401,"value":498},{"type":395,"tag":471,"props":1516,"children":1517},{"style":495},[1518],{"type":401,"value":1519},"console",{"type":395,"tag":471,"props":1521,"children":1522},{"style":483},[1523],{"type":401,"value":486},{"type":395,"tag":471,"props":1525,"children":1526},{"style":495},[1527],{"type":401,"value":578},{"type":395,"tag":471,"props":1529,"children":1530},{"style":1009},[1531],{"type":401,"value":509},{"type":395,"tag":471,"props":1533,"children":1534},{"class":473,"line":1110},[1535,1540,1545],{"type":395,"tag":471,"props":1536,"children":1537},{"style":483},[1538],{"type":401,"value":1539},"  },",{"type":395,"tag":471,"props":1541,"children":1542},{"style":501},[1543],{"type":401,"value":1544}," 0",{"type":395,"tag":471,"props":1546,"children":1547},{"style":1009},[1548],{"type":401,"value":509},{"type":395,"tag":471,"props":1550,"children":1551},{"class":473,"line":1162},[1552,1557,1561,1565,1570,1574,1578],{"type":395,"tag":471,"props":1553,"children":1554},{"style":489},[1555],{"type":401,"value":1556},"  resolve",{"type":395,"tag":471,"props":1558,"children":1559},{"style":1009},[1560],{"type":401,"value":498},{"type":395,"tag":471,"props":1562,"children":1563},{"style":1198},[1564],{"type":401,"value":1201},{"type":395,"tag":471,"props":1566,"children":1567},{"style":1204},[1568],{"type":401,"value":1569},"resovle1",{"type":395,"tag":471,"props":1571,"children":1572},{"style":1198},[1573],{"type":401,"value":1201},{"type":395,"tag":471,"props":1575,"children":1576},{"style":1009},[1577],{"type":401,"value":667},{"type":395,"tag":471,"props":1579,"children":1580},{"style":483},[1581],{"type":401,"value":1413},{"type":395,"tag":471,"props":1583,"children":1584},{"class":473,"line":1171},[1585,1589,1593,1597,1602,1606,1610],{"type":395,"tag":471,"props":1586,"children":1587},{"style":489},[1588],{"type":401,"value":1556},{"type":395,"tag":471,"props":1590,"children":1591},{"style":1009},[1592],{"type":401,"value":498},{"type":395,"tag":471,"props":1594,"children":1595},{"style":1198},[1596],{"type":401,"value":1201},{"type":395,"tag":471,"props":1598,"children":1599},{"style":1204},[1600],{"type":401,"value":1601},"resolve2",{"type":395,"tag":471,"props":1603,"children":1604},{"style":1198},[1605],{"type":401,"value":1201},{"type":395,"tag":471,"props":1607,"children":1608},{"style":1009},[1609],{"type":401,"value":667},{"type":395,"tag":471,"props":1611,"children":1612},{"style":483},[1613],{"type":401,"value":1413},{"type":395,"tag":471,"props":1615,"children":1616},{"class":473,"line":1227},[1617,1622,1626,1630,1634,1638,1643,1647],{"type":395,"tag":471,"props":1618,"children":1619},{"style":483},[1620],{"type":401,"value":1621},"}",{"type":395,"tag":471,"props":1623,"children":1624},{"style":495},[1625],{"type":401,"value":667},{"type":395,"tag":471,"props":1627,"children":1628},{"style":483},[1629],{"type":401,"value":486},{"type":395,"tag":471,"props":1631,"children":1632},{"style":489},[1633],{"type":401,"value":523},{"type":395,"tag":471,"props":1635,"children":1636},{"style":495},[1637],{"type":401,"value":498},{"type":395,"tag":471,"props":1639,"children":1640},{"style":555},[1641],{"type":401,"value":1642},"res",{"type":395,"tag":471,"props":1644,"children":1645},{"style":561},[1646],{"type":401,"value":564},{"type":395,"tag":471,"props":1648,"children":1649},{"style":483},[1650],{"type":401,"value":988},{"type":395,"tag":471,"props":1652,"children":1653},{"class":473,"line":1267},[1654,1659,1663,1667,1671,1675],{"type":395,"tag":471,"props":1655,"children":1656},{"style":495},[1657],{"type":401,"value":1658},"  console",{"type":395,"tag":471,"props":1660,"children":1661},{"style":483},[1662],{"type":401,"value":486},{"type":395,"tag":471,"props":1664,"children":1665},{"style":489},[1666],{"type":401,"value":578},{"type":395,"tag":471,"props":1668,"children":1669},{"style":1009},[1670],{"type":401,"value":498},{"type":395,"tag":471,"props":1672,"children":1673},{"style":495},[1674],{"type":401,"value":1642},{"type":395,"tag":471,"props":1676,"children":1677},{"style":1009},[1678],{"type":401,"value":509},{"type":395,"tag":471,"props":1680,"children":1682},{"class":473,"line":1681},12,[1683,1687,1691,1695,1699],{"type":395,"tag":471,"props":1684,"children":1685},{"style":489},[1686],{"type":401,"value":1363},{"type":395,"tag":471,"props":1688,"children":1689},{"style":1009},[1690],{"type":401,"value":498},{"type":395,"tag":471,"props":1692,"children":1693},{"style":483},[1694],{"type":401,"value":684},{"type":395,"tag":471,"props":1696,"children":1697},{"style":561},[1698],{"type":401,"value":564},{"type":395,"tag":471,"props":1700,"children":1701},{"style":483},[1702],{"type":401,"value":988},{"type":395,"tag":471,"props":1704,"children":1706},{"class":473,"line":1705},13,[1707,1711,1715,1719,1723,1728],{"type":395,"tag":471,"props":1708,"children":1709},{"style":495},[1710],{"type":401,"value":1421},{"type":395,"tag":471,"props":1712,"children":1713},{"style":483},[1714],{"type":401,"value":486},{"type":395,"tag":471,"props":1716,"children":1717},{"style":489},[1718],{"type":401,"value":578},{"type":395,"tag":471,"props":1720,"children":1721},{"style":1009},[1722],{"type":401,"value":498},{"type":395,"tag":471,"props":1724,"children":1725},{"style":495},[1726],{"type":401,"value":1727},"p1",{"type":395,"tag":471,"props":1729,"children":1730},{"style":1009},[1731],{"type":401,"value":509},{"type":395,"tag":471,"props":1733,"children":1735},{"class":473,"line":1734},14,[1736,1740,1744,1748,1752,1756,1760,1764,1768,1773,1777,1781,1785,1789,1793,1797,1801,1805],{"type":395,"tag":471,"props":1737,"children":1738},{"style":586},[1739],{"type":401,"value":1458},{"type":395,"tag":471,"props":1741,"children":1742},{"style":478},[1743],{"type":401,"value":830},{"type":395,"tag":471,"props":1745,"children":1746},{"style":1009},[1747],{"type":401,"value":498},{"type":395,"tag":471,"props":1749,"children":1750},{"style":555},[1751],{"type":401,"value":1471},{"type":395,"tag":471,"props":1753,"children":1754},{"style":561},[1755],{"type":401,"value":564},{"type":395,"tag":471,"props":1757,"children":1758},{"style":489},[1759],{"type":401,"value":1480},{"type":395,"tag":471,"props":1761,"children":1762},{"style":1009},[1763],{"type":401,"value":498},{"type":395,"tag":471,"props":1765,"children":1766},{"style":1198},[1767],{"type":401,"value":1201},{"type":395,"tag":471,"props":1769,"children":1770},{"style":1204},[1771],{"type":401,"value":1772},"promise2",{"type":395,"tag":471,"props":1774,"children":1775},{"style":1198},[1776],{"type":401,"value":1201},{"type":395,"tag":471,"props":1778,"children":1779},{"style":1009},[1780],{"type":401,"value":1502},{"type":395,"tag":471,"props":1782,"children":1783},{"style":483},[1784],{"type":401,"value":486},{"type":395,"tag":471,"props":1786,"children":1787},{"style":489},[1788],{"type":401,"value":523},{"type":395,"tag":471,"props":1790,"children":1791},{"style":1009},[1792],{"type":401,"value":498},{"type":395,"tag":471,"props":1794,"children":1795},{"style":495},[1796],{"type":401,"value":1519},{"type":395,"tag":471,"props":1798,"children":1799},{"style":483},[1800],{"type":401,"value":486},{"type":395,"tag":471,"props":1802,"children":1803},{"style":495},[1804],{"type":401,"value":578},{"type":395,"tag":471,"props":1806,"children":1807},{"style":1009},[1808],{"type":401,"value":509},{"type":395,"tag":471,"props":1810,"children":1812},{"class":473,"line":1811},15,[1813,1817,1821],{"type":395,"tag":471,"props":1814,"children":1815},{"style":483},[1816],{"type":401,"value":1539},{"type":395,"tag":471,"props":1818,"children":1819},{"style":501},[1820],{"type":401,"value":1068},{"type":395,"tag":471,"props":1822,"children":1823},{"style":1009},[1824],{"type":401,"value":509},{"type":395,"tag":471,"props":1826,"children":1828},{"class":473,"line":1827},16,[1829,1833,1837,1841,1846,1850,1854,1858],{"type":395,"tag":471,"props":1830,"children":1831},{"style":483},[1832],{"type":401,"value":1621},{"type":395,"tag":471,"props":1834,"children":1835},{"style":495},[1836],{"type":401,"value":667},{"type":395,"tag":471,"props":1838,"children":1839},{"style":483},[1840],{"type":401,"value":486},{"type":395,"tag":471,"props":1842,"children":1843},{"style":489},[1844],{"type":401,"value":1845},"finally",{"type":395,"tag":471,"props":1847,"children":1848},{"style":495},[1849],{"type":401,"value":498},{"type":395,"tag":471,"props":1851,"children":1852},{"style":555},[1853],{"type":401,"value":1642},{"type":395,"tag":471,"props":1855,"children":1856},{"style":561},[1857],{"type":401,"value":564},{"type":395,"tag":471,"props":1859,"children":1860},{"style":483},[1861],{"type":401,"value":988},{"type":395,"tag":471,"props":1863,"children":1865},{"class":473,"line":1864},17,[1866,1870,1874,1878,1882,1886,1891,1895,1899,1904],{"type":395,"tag":471,"props":1867,"children":1868},{"style":495},[1869],{"type":401,"value":1658},{"type":395,"tag":471,"props":1871,"children":1872},{"style":483},[1873],{"type":401,"value":486},{"type":395,"tag":471,"props":1875,"children":1876},{"style":489},[1877],{"type":401,"value":578},{"type":395,"tag":471,"props":1879,"children":1880},{"style":1009},[1881],{"type":401,"value":498},{"type":395,"tag":471,"props":1883,"children":1884},{"style":1198},[1885],{"type":401,"value":1201},{"type":395,"tag":471,"props":1887,"children":1888},{"style":1204},[1889],{"type":401,"value":1890},"finally1",{"type":395,"tag":471,"props":1892,"children":1893},{"style":1198},[1894],{"type":401,"value":1201},{"type":395,"tag":471,"props":1896,"children":1897},{"style":483},[1898],{"type":401,"value":762},{"type":395,"tag":471,"props":1900,"children":1901},{"style":495},[1902],{"type":401,"value":1903}," res",{"type":395,"tag":471,"props":1905,"children":1906},{"style":1009},[1907],{"type":401,"value":509},{"type":395,"tag":471,"props":1909,"children":1911},{"class":473,"line":1910},18,[1912,1917,1921,1926,1930,1934,1939,1943],{"type":395,"tag":471,"props":1913,"children":1914},{"style":994},[1915],{"type":401,"value":1916},"  throw",{"type":395,"tag":471,"props":1918,"children":1919},{"style":586},[1920],{"type":401,"value":1002},{"type":395,"tag":471,"props":1922,"children":1923},{"style":489},[1924],{"type":401,"value":1925}," Error",{"type":395,"tag":471,"props":1927,"children":1928},{"style":1009},[1929],{"type":401,"value":498},{"type":395,"tag":471,"props":1931,"children":1932},{"style":1198},[1933],{"type":401,"value":1201},{"type":395,"tag":471,"props":1935,"children":1936},{"style":1204},[1937],{"type":401,"value":1938},"error1",{"type":395,"tag":471,"props":1940,"children":1941},{"style":1198},[1942],{"type":401,"value":1201},{"type":395,"tag":471,"props":1944,"children":1945},{"style":1009},[1946],{"type":401,"value":509},{"type":395,"tag":471,"props":1948,"children":1950},{"class":473,"line":1949},19,[1951,1955,1959,1963,1968,1972,1977,1981],{"type":395,"tag":471,"props":1952,"children":1953},{"style":483},[1954],{"type":401,"value":1621},{"type":395,"tag":471,"props":1956,"children":1957},{"style":495},[1958],{"type":401,"value":667},{"type":395,"tag":471,"props":1960,"children":1961},{"style":483},[1962],{"type":401,"value":486},{"type":395,"tag":471,"props":1964,"children":1965},{"style":489},[1966],{"type":401,"value":1967},"catch",{"type":395,"tag":471,"props":1969,"children":1970},{"style":495},[1971],{"type":401,"value":498},{"type":395,"tag":471,"props":1973,"children":1974},{"style":555},[1975],{"type":401,"value":1976},"err",{"type":395,"tag":471,"props":1978,"children":1979},{"style":561},[1980],{"type":401,"value":564},{"type":395,"tag":471,"props":1982,"children":1983},{"style":483},[1984],{"type":401,"value":988},{"type":395,"tag":471,"props":1986,"children":1988},{"class":473,"line":1987},20,[1989,1993,1997,2001,2005,2009],{"type":395,"tag":471,"props":1990,"children":1991},{"style":495},[1992],{"type":401,"value":1658},{"type":395,"tag":471,"props":1994,"children":1995},{"style":483},[1996],{"type":401,"value":486},{"type":395,"tag":471,"props":1998,"children":1999},{"style":489},[2000],{"type":401,"value":578},{"type":395,"tag":471,"props":2002,"children":2003},{"style":1009},[2004],{"type":401,"value":498},{"type":395,"tag":471,"props":2006,"children":2007},{"style":495},[2008],{"type":401,"value":1976},{"type":395,"tag":471,"props":2010,"children":2011},{"style":1009},[2012],{"type":401,"value":509},{"type":395,"tag":471,"props":2014,"children":2016},{"class":473,"line":2015},21,[2017,2021,2025,2029,2033,2037,2042,2046],{"type":395,"tag":471,"props":2018,"children":2019},{"style":994},[2020],{"type":401,"value":1916},{"type":395,"tag":471,"props":2022,"children":2023},{"style":586},[2024],{"type":401,"value":1002},{"type":395,"tag":471,"props":2026,"children":2027},{"style":489},[2028],{"type":401,"value":1925},{"type":395,"tag":471,"props":2030,"children":2031},{"style":1009},[2032],{"type":401,"value":498},{"type":395,"tag":471,"props":2034,"children":2035},{"style":1198},[2036],{"type":401,"value":1201},{"type":395,"tag":471,"props":2038,"children":2039},{"style":1204},[2040],{"type":401,"value":2041},"error2",{"type":395,"tag":471,"props":2043,"children":2044},{"style":1198},[2045],{"type":401,"value":1201},{"type":395,"tag":471,"props":2047,"children":2048},{"style":1009},[2049],{"type":401,"value":509},{"type":395,"tag":471,"props":2051,"children":2053},{"class":473,"line":2052},22,[2054,2058,2062,2066,2070,2074,2078,2082],{"type":395,"tag":471,"props":2055,"children":2056},{"style":483},[2057],{"type":401,"value":1621},{"type":395,"tag":471,"props":2059,"children":2060},{"style":495},[2061],{"type":401,"value":667},{"type":395,"tag":471,"props":2063,"children":2064},{"style":483},[2065],{"type":401,"value":486},{"type":395,"tag":471,"props":2067,"children":2068},{"style":489},[2069],{"type":401,"value":1967},{"type":395,"tag":471,"props":2071,"children":2072},{"style":495},[2073],{"type":401,"value":498},{"type":395,"tag":471,"props":2075,"children":2076},{"style":555},[2077],{"type":401,"value":1976},{"type":395,"tag":471,"props":2079,"children":2080},{"style":561},[2081],{"type":401,"value":564},{"type":395,"tag":471,"props":2083,"children":2084},{"style":483},[2085],{"type":401,"value":988},{"type":395,"tag":471,"props":2087,"children":2089},{"class":473,"line":2088},23,[2090,2094,2098,2102,2106,2110],{"type":395,"tag":471,"props":2091,"children":2092},{"style":495},[2093],{"type":401,"value":1658},{"type":395,"tag":471,"props":2095,"children":2096},{"style":483},[2097],{"type":401,"value":486},{"type":395,"tag":471,"props":2099,"children":2100},{"style":489},[2101],{"type":401,"value":578},{"type":395,"tag":471,"props":2103,"children":2104},{"style":1009},[2105],{"type":401,"value":498},{"type":395,"tag":471,"props":2107,"children":2108},{"style":495},[2109],{"type":401,"value":1976},{"type":395,"tag":471,"props":2111,"children":2112},{"style":1009},[2113],{"type":401,"value":509},{"type":395,"tag":471,"props":2115,"children":2117},{"class":473,"line":2116},24,[2118,2122,2126,2130,2134,2138,2142,2146],{"type":395,"tag":471,"props":2119,"children":2120},{"style":483},[2121],{"type":401,"value":1621},{"type":395,"tag":471,"props":2123,"children":2124},{"style":495},[2125],{"type":401,"value":667},{"type":395,"tag":471,"props":2127,"children":2128},{"style":483},[2129],{"type":401,"value":486},{"type":395,"tag":471,"props":2131,"children":2132},{"style":489},[2133],{"type":401,"value":523},{"type":395,"tag":471,"props":2135,"children":2136},{"style":495},[2137],{"type":401,"value":498},{"type":395,"tag":471,"props":2139,"children":2140},{"style":555},[2141],{"type":401,"value":1642},{"type":395,"tag":471,"props":2143,"children":2144},{"style":561},[2145],{"type":401,"value":564},{"type":395,"tag":471,"props":2147,"children":2148},{"style":483},[2149],{"type":401,"value":988},{"type":395,"tag":471,"props":2151,"children":2153},{"class":473,"line":2152},25,[2154,2158,2162,2166,2170,2174],{"type":395,"tag":471,"props":2155,"children":2156},{"style":495},[2157],{"type":401,"value":1658},{"type":395,"tag":471,"props":2159,"children":2160},{"style":483},[2161],{"type":401,"value":486},{"type":395,"tag":471,"props":2163,"children":2164},{"style":489},[2165],{"type":401,"value":578},{"type":395,"tag":471,"props":2167,"children":2168},{"style":1009},[2169],{"type":401,"value":498},{"type":395,"tag":471,"props":2171,"children":2172},{"style":495},[2173],{"type":401,"value":1642},{"type":395,"tag":471,"props":2175,"children":2176},{"style":1009},[2177],{"type":401,"value":509},{"type":395,"tag":471,"props":2179,"children":2181},{"class":473,"line":2180},26,[2182,2186,2190,2194,2198,2202,2206,2210],{"type":395,"tag":471,"props":2183,"children":2184},{"style":483},[2185],{"type":401,"value":1621},{"type":395,"tag":471,"props":2187,"children":2188},{"style":495},[2189],{"type":401,"value":667},{"type":395,"tag":471,"props":2191,"children":2192},{"style":483},[2193],{"type":401,"value":486},{"type":395,"tag":471,"props":2195,"children":2196},{"style":489},[2197],{"type":401,"value":1845},{"type":395,"tag":471,"props":2199,"children":2200},{"style":495},[2201],{"type":401,"value":498},{"type":395,"tag":471,"props":2203,"children":2204},{"style":555},[2205],{"type":401,"value":1642},{"type":395,"tag":471,"props":2207,"children":2208},{"style":561},[2209],{"type":401,"value":564},{"type":395,"tag":471,"props":2211,"children":2212},{"style":483},[2213],{"type":401,"value":988},{"type":395,"tag":471,"props":2215,"children":2217},{"class":473,"line":2216},27,[2218,2222,2226,2230,2234,2238,2243,2247,2251,2255],{"type":395,"tag":471,"props":2219,"children":2220},{"style":495},[2221],{"type":401,"value":1658},{"type":395,"tag":471,"props":2223,"children":2224},{"style":483},[2225],{"type":401,"value":486},{"type":395,"tag":471,"props":2227,"children":2228},{"style":489},[2229],{"type":401,"value":578},{"type":395,"tag":471,"props":2231,"children":2232},{"style":1009},[2233],{"type":401,"value":498},{"type":395,"tag":471,"props":2235,"children":2236},{"style":1198},[2237],{"type":401,"value":1201},{"type":395,"tag":471,"props":2239,"children":2240},{"style":1204},[2241],{"type":401,"value":2242},"finally2",{"type":395,"tag":471,"props":2244,"children":2245},{"style":1198},[2246],{"type":401,"value":1201},{"type":395,"tag":471,"props":2248,"children":2249},{"style":483},[2250],{"type":401,"value":762},{"type":395,"tag":471,"props":2252,"children":2253},{"style":495},[2254],{"type":401,"value":1903},{"type":395,"tag":471,"props":2256,"children":2257},{"style":1009},[2258],{"type":401,"value":509},{"type":395,"tag":471,"props":2260,"children":2262},{"class":473,"line":2261},28,[2263,2267],{"type":395,"tag":471,"props":2264,"children":2265},{"style":483},[2266],{"type":401,"value":1621},{"type":395,"tag":471,"props":2268,"children":2269},{"style":495},[2270],{"type":401,"value":509},{"type":395,"tag":460,"props":2272,"children":2274},{"className":462,"code":2273,"language":464,"meta":389,"style":389},"// 考察 Promise 原理\nconst promise = Promise.resolve(1)\n  .then()\n  .then(data => {\n    return Promise.reject('error')\n      .then(_ => console.log('result is ' + data))\n      .catch(err => console.log(err))\n      .then(_ => console.log('result is not ' + data))\n  })\npromise.then(() => {\n  console.log(promise)\n})\n",[2275],{"type":395,"tag":467,"props":2276,"children":2277},{"__ignoreMap":389},[2278,2286,2326,2341,2368,2408,2476,2523,2587,2599,2631,2658],{"type":395,"tag":471,"props":2279,"children":2280},{"class":473,"line":474},[2281],{"type":395,"tag":471,"props":2282,"children":2283},{"style":606},[2284],{"type":401,"value":2285},"// 考察 Promise 原理\n",{"type":395,"tag":471,"props":2287,"children":2288},{"class":473,"line":512},[2289,2293,2298,2302,2306,2310,2314,2318,2322],{"type":395,"tag":471,"props":2290,"children":2291},{"style":561},[2292],{"type":401,"value":1312},{"type":395,"tag":471,"props":2294,"children":2295},{"style":1315},[2296],{"type":401,"value":2297}," promise",{"type":395,"tag":471,"props":2299,"children":2300},{"style":586},[2301],{"type":401,"value":1323},{"type":395,"tag":471,"props":2303,"children":2304},{"style":478},[2305],{"type":401,"value":830},{"type":395,"tag":471,"props":2307,"children":2308},{"style":483},[2309],{"type":401,"value":486},{"type":395,"tag":471,"props":2311,"children":2312},{"style":489},[2313],{"type":401,"value":492},{"type":395,"tag":471,"props":2315,"children":2316},{"style":495},[2317],{"type":401,"value":498},{"type":395,"tag":471,"props":2319,"children":2320},{"style":501},[2321],{"type":401,"value":504},{"type":395,"tag":471,"props":2323,"children":2324},{"style":495},[2325],{"type":401,"value":509},{"type":395,"tag":471,"props":2327,"children":2328},{"class":473,"line":539},[2329,2333,2337],{"type":395,"tag":471,"props":2330,"children":2331},{"style":483},[2332],{"type":401,"value":518},{"type":395,"tag":471,"props":2334,"children":2335},{"style":489},[2336],{"type":401,"value":523},{"type":395,"tag":471,"props":2338,"children":2339},{"style":495},[2340],{"type":401,"value":1278},{"type":395,"tag":471,"props":2342,"children":2343},{"class":473,"line":602},[2344,2348,2352,2356,2360,2364],{"type":395,"tag":471,"props":2345,"children":2346},{"style":483},[2347],{"type":401,"value":518},{"type":395,"tag":471,"props":2349,"children":2350},{"style":489},[2351],{"type":401,"value":523},{"type":395,"tag":471,"props":2353,"children":2354},{"style":495},[2355],{"type":401,"value":498},{"type":395,"tag":471,"props":2357,"children":2358},{"style":555},[2359],{"type":401,"value":558},{"type":395,"tag":471,"props":2361,"children":2362},{"style":561},[2363],{"type":401,"value":564},{"type":395,"tag":471,"props":2365,"children":2366},{"style":483},[2367],{"type":401,"value":988},{"type":395,"tag":471,"props":2369,"children":2370},{"class":473,"line":1087},[2371,2375,2379,2383,2387,2391,2395,2400,2404],{"type":395,"tag":471,"props":2372,"children":2373},{"style":994},[2374],{"type":401,"value":997},{"type":395,"tag":471,"props":2376,"children":2377},{"style":478},[2378],{"type":401,"value":830},{"type":395,"tag":471,"props":2380,"children":2381},{"style":483},[2382],{"type":401,"value":486},{"type":395,"tag":471,"props":2384,"children":2385},{"style":489},[2386],{"type":401,"value":721},{"type":395,"tag":471,"props":2388,"children":2389},{"style":1009},[2390],{"type":401,"value":498},{"type":395,"tag":471,"props":2392,"children":2393},{"style":1198},[2394],{"type":401,"value":1201},{"type":395,"tag":471,"props":2396,"children":2397},{"style":1204},[2398],{"type":401,"value":2399},"error",{"type":395,"tag":471,"props":2401,"children":2402},{"style":1198},[2403],{"type":401,"value":1201},{"type":395,"tag":471,"props":2405,"children":2406},{"style":1009},[2407],{"type":401,"value":509},{"type":395,"tag":471,"props":2409,"children":2410},{"class":473,"line":1096},[2411,2416,2420,2424,2429,2433,2437,2441,2445,2449,2453,2458,2462,2467,2472],{"type":395,"tag":471,"props":2412,"children":2413},{"style":483},[2414],{"type":401,"value":2415},"      .",{"type":395,"tag":471,"props":2417,"children":2418},{"style":489},[2419],{"type":401,"value":523},{"type":395,"tag":471,"props":2421,"children":2422},{"style":1009},[2423],{"type":401,"value":498},{"type":395,"tag":471,"props":2425,"children":2426},{"style":555},[2427],{"type":401,"value":2428},"_",{"type":395,"tag":471,"props":2430,"children":2431},{"style":561},[2432],{"type":401,"value":564},{"type":395,"tag":471,"props":2434,"children":2435},{"style":495},[2436],{"type":401,"value":569},{"type":395,"tag":471,"props":2438,"children":2439},{"style":483},[2440],{"type":401,"value":486},{"type":395,"tag":471,"props":2442,"children":2443},{"style":489},[2444],{"type":401,"value":578},{"type":395,"tag":471,"props":2446,"children":2447},{"style":1009},[2448],{"type":401,"value":498},{"type":395,"tag":471,"props":2450,"children":2451},{"style":1198},[2452],{"type":401,"value":1201},{"type":395,"tag":471,"props":2454,"children":2455},{"style":1204},[2456],{"type":401,"value":2457},"result is ",{"type":395,"tag":471,"props":2459,"children":2460},{"style":1198},[2461],{"type":401,"value":1201},{"type":395,"tag":471,"props":2463,"children":2464},{"style":586},[2465],{"type":401,"value":2466}," +",{"type":395,"tag":471,"props":2468,"children":2469},{"style":495},[2470],{"type":401,"value":2471}," data",{"type":395,"tag":471,"props":2473,"children":2474},{"style":1009},[2475],{"type":401,"value":599},{"type":395,"tag":471,"props":2477,"children":2478},{"class":473,"line":1110},[2479,2483,2487,2491,2495,2499,2503,2507,2511,2515,2519],{"type":395,"tag":471,"props":2480,"children":2481},{"style":483},[2482],{"type":401,"value":2415},{"type":395,"tag":471,"props":2484,"children":2485},{"style":489},[2486],{"type":401,"value":1967},{"type":395,"tag":471,"props":2488,"children":2489},{"style":1009},[2490],{"type":401,"value":498},{"type":395,"tag":471,"props":2492,"children":2493},{"style":555},[2494],{"type":401,"value":1976},{"type":395,"tag":471,"props":2496,"children":2497},{"style":561},[2498],{"type":401,"value":564},{"type":395,"tag":471,"props":2500,"children":2501},{"style":495},[2502],{"type":401,"value":569},{"type":395,"tag":471,"props":2504,"children":2505},{"style":483},[2506],{"type":401,"value":486},{"type":395,"tag":471,"props":2508,"children":2509},{"style":489},[2510],{"type":401,"value":578},{"type":395,"tag":471,"props":2512,"children":2513},{"style":1009},[2514],{"type":401,"value":498},{"type":395,"tag":471,"props":2516,"children":2517},{"style":495},[2518],{"type":401,"value":1976},{"type":395,"tag":471,"props":2520,"children":2521},{"style":1009},[2522],{"type":401,"value":599},{"type":395,"tag":471,"props":2524,"children":2525},{"class":473,"line":1162},[2526,2530,2534,2538,2542,2546,2550,2554,2558,2562,2566,2571,2575,2579,2583],{"type":395,"tag":471,"props":2527,"children":2528},{"style":483},[2529],{"type":401,"value":2415},{"type":395,"tag":471,"props":2531,"children":2532},{"style":489},[2533],{"type":401,"value":523},{"type":395,"tag":471,"props":2535,"children":2536},{"style":1009},[2537],{"type":401,"value":498},{"type":395,"tag":471,"props":2539,"children":2540},{"style":555},[2541],{"type":401,"value":2428},{"type":395,"tag":471,"props":2543,"children":2544},{"style":561},[2545],{"type":401,"value":564},{"type":395,"tag":471,"props":2547,"children":2548},{"style":495},[2549],{"type":401,"value":569},{"type":395,"tag":471,"props":2551,"children":2552},{"style":483},[2553],{"type":401,"value":486},{"type":395,"tag":471,"props":2555,"children":2556},{"style":489},[2557],{"type":401,"value":578},{"type":395,"tag":471,"props":2559,"children":2560},{"style":1009},[2561],{"type":401,"value":498},{"type":395,"tag":471,"props":2563,"children":2564},{"style":1198},[2565],{"type":401,"value":1201},{"type":395,"tag":471,"props":2567,"children":2568},{"style":1204},[2569],{"type":401,"value":2570},"result is not ",{"type":395,"tag":471,"props":2572,"children":2573},{"style":1198},[2574],{"type":401,"value":1201},{"type":395,"tag":471,"props":2576,"children":2577},{"style":586},[2578],{"type":401,"value":2466},{"type":395,"tag":471,"props":2580,"children":2581},{"style":495},[2582],{"type":401,"value":2471},{"type":395,"tag":471,"props":2584,"children":2585},{"style":1009},[2586],{"type":401,"value":599},{"type":395,"tag":471,"props":2588,"children":2589},{"class":473,"line":1171},[2590,2595],{"type":395,"tag":471,"props":2591,"children":2592},{"style":483},[2593],{"type":401,"value":2594},"  }",{"type":395,"tag":471,"props":2596,"children":2597},{"style":495},[2598],{"type":401,"value":509},{"type":395,"tag":471,"props":2600,"children":2601},{"class":473,"line":1227},[2602,2607,2611,2615,2619,2623,2627],{"type":395,"tag":471,"props":2603,"children":2604},{"style":495},[2605],{"type":401,"value":2606},"promise",{"type":395,"tag":471,"props":2608,"children":2609},{"style":483},[2610],{"type":401,"value":486},{"type":395,"tag":471,"props":2612,"children":2613},{"style":489},[2614],{"type":401,"value":523},{"type":395,"tag":471,"props":2616,"children":2617},{"style":495},[2618],{"type":401,"value":498},{"type":395,"tag":471,"props":2620,"children":2621},{"style":483},[2622],{"type":401,"value":684},{"type":395,"tag":471,"props":2624,"children":2625},{"style":561},[2626],{"type":401,"value":564},{"type":395,"tag":471,"props":2628,"children":2629},{"style":483},[2630],{"type":401,"value":988},{"type":395,"tag":471,"props":2632,"children":2633},{"class":473,"line":1267},[2634,2638,2642,2646,2650,2654],{"type":395,"tag":471,"props":2635,"children":2636},{"style":495},[2637],{"type":401,"value":1658},{"type":395,"tag":471,"props":2639,"children":2640},{"style":483},[2641],{"type":401,"value":486},{"type":395,"tag":471,"props":2643,"children":2644},{"style":489},[2645],{"type":401,"value":578},{"type":395,"tag":471,"props":2647,"children":2648},{"style":1009},[2649],{"type":401,"value":498},{"type":395,"tag":471,"props":2651,"children":2652},{"style":495},[2653],{"type":401,"value":2606},{"type":395,"tag":471,"props":2655,"children":2656},{"style":1009},[2657],{"type":401,"value":509},{"type":395,"tag":471,"props":2659,"children":2660},{"class":473,"line":1681},[2661,2665],{"type":395,"tag":471,"props":2662,"children":2663},{"style":483},[2664],{"type":401,"value":1621},{"type":395,"tag":471,"props":2666,"children":2667},{"style":495},[2668],{"type":401,"value":509},{"type":395,"tag":2670,"props":2671,"children":2673},"h3",{"id":2672},"links",[2674],{"type":401,"value":2675},"Links",{"type":395,"tag":454,"props":2677,"children":2678},{},[2679],{"type":395,"tag":412,"props":2680,"children":2682},{"href":617,"rel":2681},[416],[2683],{"type":401,"value":2684},"TODO，Promise A+",{"type":395,"tag":396,"props":2686,"children":2688},{"id":2687},"bluebird",[2689],{"type":401,"value":2690},"Bluebird",{"type":395,"tag":447,"props":2692,"children":2694},{"id":2693},"mapseries-和-each-的区别",[2695],{"type":401,"value":2696},"mapSeries 和 each 的区别？",{"type":395,"tag":454,"props":2698,"children":2699},{},[2700],{"type":401,"value":2701},"mapSeries 类似 async 版本的 .map 方法，each 类似 map(asycn => {})；each 语义上用来执行有副作用的函数，函数的 return 对 each 的返回值无影响，each 将返回它接收到的值（fulfilled promise）。",{"type":395,"tag":454,"props":2703,"children":2704},{},[2705,2706,2713,2715,2722,2723],{"type":401,"value":614},{"type":395,"tag":412,"props":2707,"children":2710},{"href":2708,"rel":2709},"http://bluebirdjs.com/docs/api/promise.each.html",[416],[2711],{"type":401,"value":2712},"Promise.each",{"type":401,"value":2714},"、",{"type":395,"tag":412,"props":2716,"children":2719},{"href":2717,"rel":2718},"http://bluebirdjs.com/docs/api/promise.mapseries.html",[416],[2720],{"type":401,"value":2721},"Promise.mapSeries",{"type":401,"value":2714},{"type":395,"tag":412,"props":2724,"children":2727},{"href":2725,"rel":2726},"https://github.com/doodlewind/nativebird/blob/e55c3164dcaf33493d31f9eabbe50b3962219660/test/each.mjs",[416],[2728],{"type":401,"value":2729},"Promise.each testcase",{"type":395,"tag":447,"props":2731,"children":2733},{"id":2732},"try-有什么用",[2734],{"type":401,"value":2735},"try 有什么用？",{"type":395,"tag":454,"props":2737,"children":2738},{},[2739],{"type":401,"value":2740},"Promise.try 将操作包含在 try 内，可以返回与 Promise 一致的实现形式的 Promise，以及带来了更好的错误处理和可读性。",{"type":395,"tag":460,"props":2742,"children":2744},{"className":462,"code":2743,"language":464,"meta":389,"style":389},"Bluebird.try(() => {\n  // return Bluebird Promise,\n  // and throwed error will be catch\n  return database.getUser('lionad')\n}).then(lionad => {\n  // ...\n}).catch(error => {\n  // ...\n})\n",[2745],{"type":395,"tag":467,"props":2746,"children":2747},{"__ignoreMap":389},[2748,2780,2788,2796,2839,2874,2882,2917,2924],{"type":395,"tag":471,"props":2749,"children":2750},{"class":473,"line":474},[2751,2755,2759,2764,2768,2772,2776],{"type":395,"tag":471,"props":2752,"children":2753},{"style":495},[2754],{"type":401,"value":2690},{"type":395,"tag":471,"props":2756,"children":2757},{"style":483},[2758],{"type":401,"value":486},{"type":395,"tag":471,"props":2760,"children":2761},{"style":489},[2762],{"type":401,"value":2763},"try",{"type":395,"tag":471,"props":2765,"children":2766},{"style":495},[2767],{"type":401,"value":498},{"type":395,"tag":471,"props":2769,"children":2770},{"style":483},[2771],{"type":401,"value":684},{"type":395,"tag":471,"props":2773,"children":2774},{"style":561},[2775],{"type":401,"value":564},{"type":395,"tag":471,"props":2777,"children":2778},{"style":483},[2779],{"type":401,"value":988},{"type":395,"tag":471,"props":2781,"children":2782},{"class":473,"line":512},[2783],{"type":395,"tag":471,"props":2784,"children":2785},{"style":606},[2786],{"type":401,"value":2787},"  // return Bluebird Promise,\n",{"type":395,"tag":471,"props":2789,"children":2790},{"class":473,"line":539},[2791],{"type":395,"tag":471,"props":2792,"children":2793},{"style":606},[2794],{"type":401,"value":2795},"  // and throwed error will be catch\n",{"type":395,"tag":471,"props":2797,"children":2798},{"class":473,"line":602},[2799,2804,2809,2813,2818,2822,2826,2831,2835],{"type":395,"tag":471,"props":2800,"children":2801},{"style":994},[2802],{"type":401,"value":2803},"  return",{"type":395,"tag":471,"props":2805,"children":2806},{"style":495},[2807],{"type":401,"value":2808}," database",{"type":395,"tag":471,"props":2810,"children":2811},{"style":483},[2812],{"type":401,"value":486},{"type":395,"tag":471,"props":2814,"children":2815},{"style":489},[2816],{"type":401,"value":2817},"getUser",{"type":395,"tag":471,"props":2819,"children":2820},{"style":1009},[2821],{"type":401,"value":498},{"type":395,"tag":471,"props":2823,"children":2824},{"style":1198},[2825],{"type":401,"value":1201},{"type":395,"tag":471,"props":2827,"children":2828},{"style":1204},[2829],{"type":401,"value":2830},"lionad",{"type":395,"tag":471,"props":2832,"children":2833},{"style":1198},[2834],{"type":401,"value":1201},{"type":395,"tag":471,"props":2836,"children":2837},{"style":1009},[2838],{"type":401,"value":509},{"type":395,"tag":471,"props":2840,"children":2841},{"class":473,"line":1087},[2842,2846,2850,2854,2858,2862,2866,2870],{"type":395,"tag":471,"props":2843,"children":2844},{"style":483},[2845],{"type":401,"value":1621},{"type":395,"tag":471,"props":2847,"children":2848},{"style":495},[2849],{"type":401,"value":667},{"type":395,"tag":471,"props":2851,"children":2852},{"style":483},[2853],{"type":401,"value":486},{"type":395,"tag":471,"props":2855,"children":2856},{"style":489},[2857],{"type":401,"value":523},{"type":395,"tag":471,"props":2859,"children":2860},{"style":495},[2861],{"type":401,"value":498},{"type":395,"tag":471,"props":2863,"children":2864},{"style":555},[2865],{"type":401,"value":2830},{"type":395,"tag":471,"props":2867,"children":2868},{"style":561},[2869],{"type":401,"value":564},{"type":395,"tag":471,"props":2871,"children":2872},{"style":483},[2873],{"type":401,"value":988},{"type":395,"tag":471,"props":2875,"children":2876},{"class":473,"line":1096},[2877],{"type":395,"tag":471,"props":2878,"children":2879},{"style":606},[2880],{"type":401,"value":2881},"  // ...\n",{"type":395,"tag":471,"props":2883,"children":2884},{"class":473,"line":1110},[2885,2889,2893,2897,2901,2905,2909,2913],{"type":395,"tag":471,"props":2886,"children":2887},{"style":483},[2888],{"type":401,"value":1621},{"type":395,"tag":471,"props":2890,"children":2891},{"style":495},[2892],{"type":401,"value":667},{"type":395,"tag":471,"props":2894,"children":2895},{"style":483},[2896],{"type":401,"value":486},{"type":395,"tag":471,"props":2898,"children":2899},{"style":489},[2900],{"type":401,"value":1967},{"type":395,"tag":471,"props":2902,"children":2903},{"style":495},[2904],{"type":401,"value":498},{"type":395,"tag":471,"props":2906,"children":2907},{"style":555},[2908],{"type":401,"value":2399},{"type":395,"tag":471,"props":2910,"children":2911},{"style":561},[2912],{"type":401,"value":564},{"type":395,"tag":471,"props":2914,"children":2915},{"style":483},[2916],{"type":401,"value":988},{"type":395,"tag":471,"props":2918,"children":2919},{"class":473,"line":1162},[2920],{"type":395,"tag":471,"props":2921,"children":2922},{"style":606},[2923],{"type":401,"value":2881},{"type":395,"tag":471,"props":2925,"children":2926},{"class":473,"line":1171},[2927,2931],{"type":395,"tag":471,"props":2928,"children":2929},{"style":483},[2930],{"type":401,"value":1621},{"type":395,"tag":471,"props":2932,"children":2933},{"style":495},[2934],{"type":401,"value":509},{"type":395,"tag":454,"props":2936,"children":2937},{},[2938,2939],{"type":401,"value":614},{"type":395,"tag":412,"props":2940,"children":2943},{"href":2941,"rel":2942},"https://segmentfault.com/a/1190000018586947",[416],[2944],{"type":401,"value":2945},"什么是 Promise.try，为什么它这么重要？",{"type":395,"tag":447,"props":2947,"children":2949},{"id":2948},"为-map-的并发参数设计测试用例",[2950],{"type":401,"value":2951},"为 map 的并发参数设计测试用例？",{"type":395,"tag":454,"props":2953,"children":2954},{},[2955],{"type":401,"value":2956},"拿到 promise 的 resolve 函数，手动控制 promise fulfilled 的时机，并判断执行的队列和结果队列的长度。",{"type":395,"tag":460,"props":2958,"children":2960},{"className":462,"code":2959,"language":464,"meta":389,"style":389},"const tasks = []\nconst createTask = val => {\n  let resolve\n  const promise = new Promise(_resolve => resolve = _resolve)\n  tasks.push(() => resolve(val))\n  return promise\n}\nconst results = []\nPromise.all([\n  // Run Tasks\n  Promise.map([0,1,2], val => {\n    return createTask(val).then(res => results.push(res))\n  }, { concurrency: 2 }),\n  // Check the length of tasks and results\n  Promise.delay(100).then(() => {\n    tasks.map(fn => fn())\n    assert(tasks.length === 2)\n    assert(results.length === 0)\n  }).then(() => {\n    assert(tasks.length === 2)\n    assert(results.length === 2)\n  }).delay(100).then(() => {\n    tasks.map(fn => fn())\n    assert(tasks.length === 3)\n    assert(results.length === 2)\n  }).then(() => {\n    assert(tasks.length === 3)\n    assert(results.length === 3)\n  })\n])\n",[2961],{"type":395,"tag":467,"props":2962,"children":2963},{"__ignoreMap":389},[2964,2985,3015,3028,3082,3128,3140,3147,3167,3188,3196,3259,3326,3366,3374,3427,3466,3505,3541,3576,3611,3646,3701,3736,3771,3806,3841,3876,3911,3923],{"type":395,"tag":471,"props":2965,"children":2966},{"class":473,"line":474},[2967,2971,2976,2980],{"type":395,"tag":471,"props":2968,"children":2969},{"style":561},[2970],{"type":401,"value":1312},{"type":395,"tag":471,"props":2972,"children":2973},{"style":1315},[2974],{"type":401,"value":2975}," tasks",{"type":395,"tag":471,"props":2977,"children":2978},{"style":586},[2979],{"type":401,"value":1323},{"type":395,"tag":471,"props":2981,"children":2982},{"style":495},[2983],{"type":401,"value":2984}," []\n",{"type":395,"tag":471,"props":2986,"children":2987},{"class":473,"line":512},[2988,2992,2998,3002,3007,3011],{"type":395,"tag":471,"props":2989,"children":2990},{"style":561},[2991],{"type":401,"value":1312},{"type":395,"tag":471,"props":2993,"children":2995},{"style":2994},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[2996],{"type":401,"value":2997}," createTask",{"type":395,"tag":471,"props":2999,"children":3000},{"style":586},[3001],{"type":401,"value":1323},{"type":395,"tag":471,"props":3003,"children":3004},{"style":555},[3005],{"type":401,"value":3006}," val",{"type":395,"tag":471,"props":3008,"children":3009},{"style":561},[3010],{"type":401,"value":564},{"type":395,"tag":471,"props":3012,"children":3013},{"style":483},[3014],{"type":401,"value":988},{"type":395,"tag":471,"props":3016,"children":3017},{"class":473,"line":539},[3018,3023],{"type":395,"tag":471,"props":3019,"children":3020},{"style":561},[3021],{"type":401,"value":3022},"  let",{"type":395,"tag":471,"props":3024,"children":3025},{"style":495},[3026],{"type":401,"value":3027}," resolve\n",{"type":395,"tag":471,"props":3029,"children":3030},{"class":473,"line":602},[3031,3036,3040,3044,3048,3052,3056,3061,3065,3069,3073,3078],{"type":395,"tag":471,"props":3032,"children":3033},{"style":561},[3034],{"type":401,"value":3035},"  const",{"type":395,"tag":471,"props":3037,"children":3038},{"style":1315},[3039],{"type":401,"value":2297},{"type":395,"tag":471,"props":3041,"children":3042},{"style":586},[3043],{"type":401,"value":1323},{"type":395,"tag":471,"props":3045,"children":3046},{"style":586},[3047],{"type":401,"value":1002},{"type":395,"tag":471,"props":3049,"children":3050},{"style":478},[3051],{"type":401,"value":830},{"type":395,"tag":471,"props":3053,"children":3054},{"style":1009},[3055],{"type":401,"value":498},{"type":395,"tag":471,"props":3057,"children":3058},{"style":555},[3059],{"type":401,"value":3060},"_resolve",{"type":395,"tag":471,"props":3062,"children":3063},{"style":561},[3064],{"type":401,"value":564},{"type":395,"tag":471,"props":3066,"children":3067},{"style":495},[3068],{"type":401,"value":872},{"type":395,"tag":471,"props":3070,"children":3071},{"style":586},[3072],{"type":401,"value":1323},{"type":395,"tag":471,"props":3074,"children":3075},{"style":495},[3076],{"type":401,"value":3077}," _resolve",{"type":395,"tag":471,"props":3079,"children":3080},{"style":1009},[3081],{"type":401,"value":509},{"type":395,"tag":471,"props":3083,"children":3084},{"class":473,"line":1087},[3085,3090,3094,3099,3103,3107,3111,3115,3119,3124],{"type":395,"tag":471,"props":3086,"children":3087},{"style":495},[3088],{"type":401,"value":3089},"  tasks",{"type":395,"tag":471,"props":3091,"children":3092},{"style":483},[3093],{"type":401,"value":486},{"type":395,"tag":471,"props":3095,"children":3096},{"style":489},[3097],{"type":401,"value":3098},"push",{"type":395,"tag":471,"props":3100,"children":3101},{"style":1009},[3102],{"type":401,"value":498},{"type":395,"tag":471,"props":3104,"children":3105},{"style":483},[3106],{"type":401,"value":684},{"type":395,"tag":471,"props":3108,"children":3109},{"style":561},[3110],{"type":401,"value":564},{"type":395,"tag":471,"props":3112,"children":3113},{"style":489},[3114],{"type":401,"value":872},{"type":395,"tag":471,"props":3116,"children":3117},{"style":1009},[3118],{"type":401,"value":498},{"type":395,"tag":471,"props":3120,"children":3121},{"style":495},[3122],{"type":401,"value":3123},"val",{"type":395,"tag":471,"props":3125,"children":3126},{"style":1009},[3127],{"type":401,"value":599},{"type":395,"tag":471,"props":3129,"children":3130},{"class":473,"line":1096},[3131,3135],{"type":395,"tag":471,"props":3132,"children":3133},{"style":994},[3134],{"type":401,"value":2803},{"type":395,"tag":471,"props":3136,"children":3137},{"style":495},[3138],{"type":401,"value":3139}," promise\n",{"type":395,"tag":471,"props":3141,"children":3142},{"class":473,"line":1110},[3143],{"type":395,"tag":471,"props":3144,"children":3145},{"style":483},[3146],{"type":401,"value":1093},{"type":395,"tag":471,"props":3148,"children":3149},{"class":473,"line":1162},[3150,3154,3159,3163],{"type":395,"tag":471,"props":3151,"children":3152},{"style":561},[3153],{"type":401,"value":1312},{"type":395,"tag":471,"props":3155,"children":3156},{"style":1315},[3157],{"type":401,"value":3158}," results",{"type":395,"tag":471,"props":3160,"children":3161},{"style":586},[3162],{"type":401,"value":1323},{"type":395,"tag":471,"props":3164,"children":3165},{"style":495},[3166],{"type":401,"value":2984},{"type":395,"tag":471,"props":3168,"children":3169},{"class":473,"line":1171},[3170,3174,3178,3183],{"type":395,"tag":471,"props":3171,"children":3172},{"style":478},[3173],{"type":401,"value":390},{"type":395,"tag":471,"props":3175,"children":3176},{"style":483},[3177],{"type":401,"value":486},{"type":395,"tag":471,"props":3179,"children":3180},{"style":489},[3181],{"type":401,"value":3182},"all",{"type":395,"tag":471,"props":3184,"children":3185},{"style":495},[3186],{"type":401,"value":3187},"([\n",{"type":395,"tag":471,"props":3189,"children":3190},{"class":473,"line":1227},[3191],{"type":395,"tag":471,"props":3192,"children":3193},{"style":606},[3194],{"type":401,"value":3195},"  // Run Tasks\n",{"type":395,"tag":471,"props":3197,"children":3198},{"class":473,"line":1267},[3199,3204,3208,3213,3217,3222,3226,3230,3234,3238,3243,3247,3251,3255],{"type":395,"tag":471,"props":3200,"children":3201},{"style":478},[3202],{"type":401,"value":3203},"  Promise",{"type":395,"tag":471,"props":3205,"children":3206},{"style":483},[3207],{"type":401,"value":486},{"type":395,"tag":471,"props":3209,"children":3210},{"style":489},[3211],{"type":401,"value":3212},"map",{"type":395,"tag":471,"props":3214,"children":3215},{"style":495},[3216],{"type":401,"value":1186},{"type":395,"tag":471,"props":3218,"children":3219},{"style":501},[3220],{"type":401,"value":3221},"0",{"type":395,"tag":471,"props":3223,"children":3224},{"style":483},[3225],{"type":401,"value":762},{"type":395,"tag":471,"props":3227,"children":3228},{"style":501},[3229],{"type":401,"value":504},{"type":395,"tag":471,"props":3231,"children":3232},{"style":483},[3233],{"type":401,"value":762},{"type":395,"tag":471,"props":3235,"children":3236},{"style":501},[3237],{"type":401,"value":532},{"type":395,"tag":471,"props":3239,"children":3240},{"style":495},[3241],{"type":401,"value":3242},"]",{"type":395,"tag":471,"props":3244,"children":3245},{"style":483},[3246],{"type":401,"value":762},{"type":395,"tag":471,"props":3248,"children":3249},{"style":555},[3250],{"type":401,"value":3006},{"type":395,"tag":471,"props":3252,"children":3253},{"style":561},[3254],{"type":401,"value":564},{"type":395,"tag":471,"props":3256,"children":3257},{"style":483},[3258],{"type":401,"value":988},{"type":395,"tag":471,"props":3260,"children":3261},{"class":473,"line":1681},[3262,3266,3270,3274,3278,3282,3286,3290,3294,3298,3302,3306,3310,3314,3318,3322],{"type":395,"tag":471,"props":3263,"children":3264},{"style":994},[3265],{"type":401,"value":997},{"type":395,"tag":471,"props":3267,"children":3268},{"style":489},[3269],{"type":401,"value":2997},{"type":395,"tag":471,"props":3271,"children":3272},{"style":1009},[3273],{"type":401,"value":498},{"type":395,"tag":471,"props":3275,"children":3276},{"style":495},[3277],{"type":401,"value":3123},{"type":395,"tag":471,"props":3279,"children":3280},{"style":1009},[3281],{"type":401,"value":667},{"type":395,"tag":471,"props":3283,"children":3284},{"style":483},[3285],{"type":401,"value":486},{"type":395,"tag":471,"props":3287,"children":3288},{"style":489},[3289],{"type":401,"value":523},{"type":395,"tag":471,"props":3291,"children":3292},{"style":1009},[3293],{"type":401,"value":498},{"type":395,"tag":471,"props":3295,"children":3296},{"style":555},[3297],{"type":401,"value":1642},{"type":395,"tag":471,"props":3299,"children":3300},{"style":561},[3301],{"type":401,"value":564},{"type":395,"tag":471,"props":3303,"children":3304},{"style":495},[3305],{"type":401,"value":3158},{"type":395,"tag":471,"props":3307,"children":3308},{"style":483},[3309],{"type":401,"value":486},{"type":395,"tag":471,"props":3311,"children":3312},{"style":489},[3313],{"type":401,"value":3098},{"type":395,"tag":471,"props":3315,"children":3316},{"style":1009},[3317],{"type":401,"value":498},{"type":395,"tag":471,"props":3319,"children":3320},{"style":495},[3321],{"type":401,"value":1642},{"type":395,"tag":471,"props":3323,"children":3324},{"style":1009},[3325],{"type":401,"value":599},{"type":395,"tag":471,"props":3327,"children":3328},{"class":473,"line":1705},[3329,3333,3338,3343,3348,3352,3357,3361],{"type":395,"tag":471,"props":3330,"children":3331},{"style":483},[3332],{"type":401,"value":1539},{"type":395,"tag":471,"props":3334,"children":3335},{"style":483},[3336],{"type":401,"value":3337}," {",{"type":395,"tag":471,"props":3339,"children":3340},{"style":1009},[3341],{"type":401,"value":3342}," concurrency",{"type":395,"tag":471,"props":3344,"children":3345},{"style":483},[3346],{"type":401,"value":3347},":",{"type":395,"tag":471,"props":3349,"children":3350},{"style":501},[3351],{"type":401,"value":693},{"type":395,"tag":471,"props":3353,"children":3354},{"style":483},[3355],{"type":401,"value":3356}," }",{"type":395,"tag":471,"props":3358,"children":3359},{"style":495},[3360],{"type":401,"value":667},{"type":395,"tag":471,"props":3362,"children":3363},{"style":483},[3364],{"type":401,"value":3365},",\n",{"type":395,"tag":471,"props":3367,"children":3368},{"class":473,"line":1734},[3369],{"type":395,"tag":471,"props":3370,"children":3371},{"style":606},[3372],{"type":401,"value":3373},"  // Check the length of tasks and results\n",{"type":395,"tag":471,"props":3375,"children":3376},{"class":473,"line":1811},[3377,3381,3385,3390,3394,3399,3403,3407,3411,3415,3419,3423],{"type":395,"tag":471,"props":3378,"children":3379},{"style":478},[3380],{"type":401,"value":3203},{"type":395,"tag":471,"props":3382,"children":3383},{"style":483},[3384],{"type":401,"value":486},{"type":395,"tag":471,"props":3386,"children":3387},{"style":489},[3388],{"type":401,"value":3389},"delay",{"type":395,"tag":471,"props":3391,"children":3392},{"style":495},[3393],{"type":401,"value":498},{"type":395,"tag":471,"props":3395,"children":3396},{"style":501},[3397],{"type":401,"value":3398},"100",{"type":395,"tag":471,"props":3400,"children":3401},{"style":495},[3402],{"type":401,"value":667},{"type":395,"tag":471,"props":3404,"children":3405},{"style":483},[3406],{"type":401,"value":486},{"type":395,"tag":471,"props":3408,"children":3409},{"style":489},[3410],{"type":401,"value":523},{"type":395,"tag":471,"props":3412,"children":3413},{"style":495},[3414],{"type":401,"value":498},{"type":395,"tag":471,"props":3416,"children":3417},{"style":483},[3418],{"type":401,"value":684},{"type":395,"tag":471,"props":3420,"children":3421},{"style":561},[3422],{"type":401,"value":564},{"type":395,"tag":471,"props":3424,"children":3425},{"style":483},[3426],{"type":401,"value":988},{"type":395,"tag":471,"props":3428,"children":3429},{"class":473,"line":1827},[3430,3435,3439,3443,3447,3452,3456,3461],{"type":395,"tag":471,"props":3431,"children":3432},{"style":495},[3433],{"type":401,"value":3434},"    tasks",{"type":395,"tag":471,"props":3436,"children":3437},{"style":483},[3438],{"type":401,"value":486},{"type":395,"tag":471,"props":3440,"children":3441},{"style":489},[3442],{"type":401,"value":3212},{"type":395,"tag":471,"props":3444,"children":3445},{"style":1009},[3446],{"type":401,"value":498},{"type":395,"tag":471,"props":3448,"children":3449},{"style":555},[3450],{"type":401,"value":3451},"fn",{"type":395,"tag":471,"props":3453,"children":3454},{"style":561},[3455],{"type":401,"value":564},{"type":395,"tag":471,"props":3457,"children":3458},{"style":489},[3459],{"type":401,"value":3460}," fn",{"type":395,"tag":471,"props":3462,"children":3463},{"style":1009},[3464],{"type":401,"value":3465},"())\n",{"type":395,"tag":471,"props":3467,"children":3468},{"class":473,"line":1864},[3469,3474,3478,3483,3487,3492,3497,3501],{"type":395,"tag":471,"props":3470,"children":3471},{"style":489},[3472],{"type":401,"value":3473},"    assert",{"type":395,"tag":471,"props":3475,"children":3476},{"style":1009},[3477],{"type":401,"value":498},{"type":395,"tag":471,"props":3479,"children":3480},{"style":495},[3481],{"type":401,"value":3482},"tasks",{"type":395,"tag":471,"props":3484,"children":3485},{"style":483},[3486],{"type":401,"value":486},{"type":395,"tag":471,"props":3488,"children":3489},{"style":1315},[3490],{"type":401,"value":3491},"length",{"type":395,"tag":471,"props":3493,"children":3494},{"style":586},[3495],{"type":401,"value":3496}," ===",{"type":395,"tag":471,"props":3498,"children":3499},{"style":501},[3500],{"type":401,"value":693},{"type":395,"tag":471,"props":3502,"children":3503},{"style":1009},[3504],{"type":401,"value":509},{"type":395,"tag":471,"props":3506,"children":3507},{"class":473,"line":1910},[3508,3512,3516,3521,3525,3529,3533,3537],{"type":395,"tag":471,"props":3509,"children":3510},{"style":489},[3511],{"type":401,"value":3473},{"type":395,"tag":471,"props":3513,"children":3514},{"style":1009},[3515],{"type":401,"value":498},{"type":395,"tag":471,"props":3517,"children":3518},{"style":495},[3519],{"type":401,"value":3520},"results",{"type":395,"tag":471,"props":3522,"children":3523},{"style":483},[3524],{"type":401,"value":486},{"type":395,"tag":471,"props":3526,"children":3527},{"style":1315},[3528],{"type":401,"value":3491},{"type":395,"tag":471,"props":3530,"children":3531},{"style":586},[3532],{"type":401,"value":3496},{"type":395,"tag":471,"props":3534,"children":3535},{"style":501},[3536],{"type":401,"value":1544},{"type":395,"tag":471,"props":3538,"children":3539},{"style":1009},[3540],{"type":401,"value":509},{"type":395,"tag":471,"props":3542,"children":3543},{"class":473,"line":1949},[3544,3548,3552,3556,3560,3564,3568,3572],{"type":395,"tag":471,"props":3545,"children":3546},{"style":483},[3547],{"type":401,"value":2594},{"type":395,"tag":471,"props":3549,"children":3550},{"style":495},[3551],{"type":401,"value":667},{"type":395,"tag":471,"props":3553,"children":3554},{"style":483},[3555],{"type":401,"value":486},{"type":395,"tag":471,"props":3557,"children":3558},{"style":489},[3559],{"type":401,"value":523},{"type":395,"tag":471,"props":3561,"children":3562},{"style":495},[3563],{"type":401,"value":498},{"type":395,"tag":471,"props":3565,"children":3566},{"style":483},[3567],{"type":401,"value":684},{"type":395,"tag":471,"props":3569,"children":3570},{"style":561},[3571],{"type":401,"value":564},{"type":395,"tag":471,"props":3573,"children":3574},{"style":483},[3575],{"type":401,"value":988},{"type":395,"tag":471,"props":3577,"children":3578},{"class":473,"line":1987},[3579,3583,3587,3591,3595,3599,3603,3607],{"type":395,"tag":471,"props":3580,"children":3581},{"style":489},[3582],{"type":401,"value":3473},{"type":395,"tag":471,"props":3584,"children":3585},{"style":1009},[3586],{"type":401,"value":498},{"type":395,"tag":471,"props":3588,"children":3589},{"style":495},[3590],{"type":401,"value":3482},{"type":395,"tag":471,"props":3592,"children":3593},{"style":483},[3594],{"type":401,"value":486},{"type":395,"tag":471,"props":3596,"children":3597},{"style":1315},[3598],{"type":401,"value":3491},{"type":395,"tag":471,"props":3600,"children":3601},{"style":586},[3602],{"type":401,"value":3496},{"type":395,"tag":471,"props":3604,"children":3605},{"style":501},[3606],{"type":401,"value":693},{"type":395,"tag":471,"props":3608,"children":3609},{"style":1009},[3610],{"type":401,"value":509},{"type":395,"tag":471,"props":3612,"children":3613},{"class":473,"line":2015},[3614,3618,3622,3626,3630,3634,3638,3642],{"type":395,"tag":471,"props":3615,"children":3616},{"style":489},[3617],{"type":401,"value":3473},{"type":395,"tag":471,"props":3619,"children":3620},{"style":1009},[3621],{"type":401,"value":498},{"type":395,"tag":471,"props":3623,"children":3624},{"style":495},[3625],{"type":401,"value":3520},{"type":395,"tag":471,"props":3627,"children":3628},{"style":483},[3629],{"type":401,"value":486},{"type":395,"tag":471,"props":3631,"children":3632},{"style":1315},[3633],{"type":401,"value":3491},{"type":395,"tag":471,"props":3635,"children":3636},{"style":586},[3637],{"type":401,"value":3496},{"type":395,"tag":471,"props":3639,"children":3640},{"style":501},[3641],{"type":401,"value":693},{"type":395,"tag":471,"props":3643,"children":3644},{"style":1009},[3645],{"type":401,"value":509},{"type":395,"tag":471,"props":3647,"children":3648},{"class":473,"line":2052},[3649,3653,3657,3661,3665,3669,3673,3677,3681,3685,3689,3693,3697],{"type":395,"tag":471,"props":3650,"children":3651},{"style":483},[3652],{"type":401,"value":2594},{"type":395,"tag":471,"props":3654,"children":3655},{"style":495},[3656],{"type":401,"value":667},{"type":395,"tag":471,"props":3658,"children":3659},{"style":483},[3660],{"type":401,"value":486},{"type":395,"tag":471,"props":3662,"children":3663},{"style":489},[3664],{"type":401,"value":3389},{"type":395,"tag":471,"props":3666,"children":3667},{"style":495},[3668],{"type":401,"value":498},{"type":395,"tag":471,"props":3670,"children":3671},{"style":501},[3672],{"type":401,"value":3398},{"type":395,"tag":471,"props":3674,"children":3675},{"style":495},[3676],{"type":401,"value":667},{"type":395,"tag":471,"props":3678,"children":3679},{"style":483},[3680],{"type":401,"value":486},{"type":395,"tag":471,"props":3682,"children":3683},{"style":489},[3684],{"type":401,"value":523},{"type":395,"tag":471,"props":3686,"children":3687},{"style":495},[3688],{"type":401,"value":498},{"type":395,"tag":471,"props":3690,"children":3691},{"style":483},[3692],{"type":401,"value":684},{"type":395,"tag":471,"props":3694,"children":3695},{"style":561},[3696],{"type":401,"value":564},{"type":395,"tag":471,"props":3698,"children":3699},{"style":483},[3700],{"type":401,"value":988},{"type":395,"tag":471,"props":3702,"children":3703},{"class":473,"line":2088},[3704,3708,3712,3716,3720,3724,3728,3732],{"type":395,"tag":471,"props":3705,"children":3706},{"style":495},[3707],{"type":401,"value":3434},{"type":395,"tag":471,"props":3709,"children":3710},{"style":483},[3711],{"type":401,"value":486},{"type":395,"tag":471,"props":3713,"children":3714},{"style":489},[3715],{"type":401,"value":3212},{"type":395,"tag":471,"props":3717,"children":3718},{"style":1009},[3719],{"type":401,"value":498},{"type":395,"tag":471,"props":3721,"children":3722},{"style":555},[3723],{"type":401,"value":3451},{"type":395,"tag":471,"props":3725,"children":3726},{"style":561},[3727],{"type":401,"value":564},{"type":395,"tag":471,"props":3729,"children":3730},{"style":489},[3731],{"type":401,"value":3460},{"type":395,"tag":471,"props":3733,"children":3734},{"style":1009},[3735],{"type":401,"value":3465},{"type":395,"tag":471,"props":3737,"children":3738},{"class":473,"line":2116},[3739,3743,3747,3751,3755,3759,3763,3767],{"type":395,"tag":471,"props":3740,"children":3741},{"style":489},[3742],{"type":401,"value":3473},{"type":395,"tag":471,"props":3744,"children":3745},{"style":1009},[3746],{"type":401,"value":498},{"type":395,"tag":471,"props":3748,"children":3749},{"style":495},[3750],{"type":401,"value":3482},{"type":395,"tag":471,"props":3752,"children":3753},{"style":483},[3754],{"type":401,"value":486},{"type":395,"tag":471,"props":3756,"children":3757},{"style":1315},[3758],{"type":401,"value":3491},{"type":395,"tag":471,"props":3760,"children":3761},{"style":586},[3762],{"type":401,"value":3496},{"type":395,"tag":471,"props":3764,"children":3765},{"style":501},[3766],{"type":401,"value":776},{"type":395,"tag":471,"props":3768,"children":3769},{"style":1009},[3770],{"type":401,"value":509},{"type":395,"tag":471,"props":3772,"children":3773},{"class":473,"line":2152},[3774,3778,3782,3786,3790,3794,3798,3802],{"type":395,"tag":471,"props":3775,"children":3776},{"style":489},[3777],{"type":401,"value":3473},{"type":395,"tag":471,"props":3779,"children":3780},{"style":1009},[3781],{"type":401,"value":498},{"type":395,"tag":471,"props":3783,"children":3784},{"style":495},[3785],{"type":401,"value":3520},{"type":395,"tag":471,"props":3787,"children":3788},{"style":483},[3789],{"type":401,"value":486},{"type":395,"tag":471,"props":3791,"children":3792},{"style":1315},[3793],{"type":401,"value":3491},{"type":395,"tag":471,"props":3795,"children":3796},{"style":586},[3797],{"type":401,"value":3496},{"type":395,"tag":471,"props":3799,"children":3800},{"style":501},[3801],{"type":401,"value":693},{"type":395,"tag":471,"props":3803,"children":3804},{"style":1009},[3805],{"type":401,"value":509},{"type":395,"tag":471,"props":3807,"children":3808},{"class":473,"line":2180},[3809,3813,3817,3821,3825,3829,3833,3837],{"type":395,"tag":471,"props":3810,"children":3811},{"style":483},[3812],{"type":401,"value":2594},{"type":395,"tag":471,"props":3814,"children":3815},{"style":495},[3816],{"type":401,"value":667},{"type":395,"tag":471,"props":3818,"children":3819},{"style":483},[3820],{"type":401,"value":486},{"type":395,"tag":471,"props":3822,"children":3823},{"style":489},[3824],{"type":401,"value":523},{"type":395,"tag":471,"props":3826,"children":3827},{"style":495},[3828],{"type":401,"value":498},{"type":395,"tag":471,"props":3830,"children":3831},{"style":483},[3832],{"type":401,"value":684},{"type":395,"tag":471,"props":3834,"children":3835},{"style":561},[3836],{"type":401,"value":564},{"type":395,"tag":471,"props":3838,"children":3839},{"style":483},[3840],{"type":401,"value":988},{"type":395,"tag":471,"props":3842,"children":3843},{"class":473,"line":2216},[3844,3848,3852,3856,3860,3864,3868,3872],{"type":395,"tag":471,"props":3845,"children":3846},{"style":489},[3847],{"type":401,"value":3473},{"type":395,"tag":471,"props":3849,"children":3850},{"style":1009},[3851],{"type":401,"value":498},{"type":395,"tag":471,"props":3853,"children":3854},{"style":495},[3855],{"type":401,"value":3482},{"type":395,"tag":471,"props":3857,"children":3858},{"style":483},[3859],{"type":401,"value":486},{"type":395,"tag":471,"props":3861,"children":3862},{"style":1315},[3863],{"type":401,"value":3491},{"type":395,"tag":471,"props":3865,"children":3866},{"style":586},[3867],{"type":401,"value":3496},{"type":395,"tag":471,"props":3869,"children":3870},{"style":501},[3871],{"type":401,"value":776},{"type":395,"tag":471,"props":3873,"children":3874},{"style":1009},[3875],{"type":401,"value":509},{"type":395,"tag":471,"props":3877,"children":3878},{"class":473,"line":2261},[3879,3883,3887,3891,3895,3899,3903,3907],{"type":395,"tag":471,"props":3880,"children":3881},{"style":489},[3882],{"type":401,"value":3473},{"type":395,"tag":471,"props":3884,"children":3885},{"style":1009},[3886],{"type":401,"value":498},{"type":395,"tag":471,"props":3888,"children":3889},{"style":495},[3890],{"type":401,"value":3520},{"type":395,"tag":471,"props":3892,"children":3893},{"style":483},[3894],{"type":401,"value":486},{"type":395,"tag":471,"props":3896,"children":3897},{"style":1315},[3898],{"type":401,"value":3491},{"type":395,"tag":471,"props":3900,"children":3901},{"style":586},[3902],{"type":401,"value":3496},{"type":395,"tag":471,"props":3904,"children":3905},{"style":501},[3906],{"type":401,"value":776},{"type":395,"tag":471,"props":3908,"children":3909},{"style":1009},[3910],{"type":401,"value":509},{"type":395,"tag":471,"props":3912,"children":3914},{"class":473,"line":3913},29,[3915,3919],{"type":395,"tag":471,"props":3916,"children":3917},{"style":483},[3918],{"type":401,"value":2594},{"type":395,"tag":471,"props":3920,"children":3921},{"style":495},[3922],{"type":401,"value":509},{"type":395,"tag":471,"props":3924,"children":3926},{"class":473,"line":3925},30,[3927],{"type":395,"tag":471,"props":3928,"children":3929},{"style":495},[3930],{"type":401,"value":3931},"])\n",{"type":395,"tag":454,"props":3933,"children":3934},{},[3935,3936],{"type":401,"value":614},{"type":395,"tag":412,"props":3937,"children":3940},{"href":3938,"rel":3939},"https://github.com/doodlewind/nativebird/blob/e55c3164dcaf33493d31f9eabbe50b3962219660/test/map.mjs#L247",[416],[3941],{"type":401,"value":3942},"Promise.map testcase",{"type":395,"tag":3944,"props":3945,"children":3946},"style",{},[3947],{"type":401,"value":3948},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":389,"searchDepth":512,"depth":512,"links":3950},[3951,3952,3955],{"id":398,"depth":512,"text":402},{"id":442,"depth":512,"text":445,"children":3953},[3954],{"id":2672,"depth":539,"text":2675},{"id":2687,"depth":512,"text":2690},"markdown","content:6.maps:_frontend:javascript:promise.md","content","6.maps/_frontend/javascript/promise.md","6.maps/_frontend/javascript/promise","md",[3963,3966],{"_path":3964,"title":3965,"description":389},"/maps/_frontend/javascript/javascript-mind-map","JavaScript Mind Map",{"_path":3967,"title":3968,"description":389},"/maps/_frontend/w3c","W3C Standards",1742039253316]