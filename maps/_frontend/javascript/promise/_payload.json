[{"data":1,"prerenderedAt":4000},["ShallowReactive",2],{"navigation":3,"/maps/_frontend/javascript/promise":416,"/maps/_frontend/javascript/promise-surround":3993},[4,32,86,108,135,141,147,153,399,405,411],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":42,"_path":43},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":45,"_path":46},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":48,"_path":49},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":51,"_path":52},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":54,"_path":55},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":57,"_path":58},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":60,"_path":61},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":63,"_path":64},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":66,"_path":67},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":69,"_path":70},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":72,"_path":73},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":75,"_path":76},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":78,"_path":79},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":81,"_path":82},"🚝 四十二篇系列","/articles/fourty-two",{"title":84,"_path":85},"📝 技术博客归档","/articles/fold",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102,105],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107},"🖨️ any-to-base64","/tools/any-to-base64",{"title":109,"_path":110,"children":111},"吉他剧场 / Music","/music",[112,114,117,120,123,126,129,132],{"title":113,"_path":110},"🎸 FingerStyle！",{"title":115,"_path":116},"🌬️ 等待的风","/music/wind",{"title":118,"_path":119},"💕 约定的海洋","/music/ocean",{"title":121,"_path":122},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":124,"_path":125},"🌏 残酷天使的行动纲领","/music/eva",{"title":127,"_path":128},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":130,"_path":131},"🍷 Wu Wei","/music/wu-wei",{"title":133,"_path":134},"🌅 无题","/music/untitled",{"title":136,"_path":137,"children":138},"画点什么 / Paint","/paint",[139],{"title":140,"_path":137},"🚧 正在施工",{"title":142,"_path":143,"children":144},"读书笔记 / Notes","/books",[145],{"title":146,"_path":143},"📕 读书笔记",{"title":148,"_path":149,"children":150},"知识地图 / Maps","/maps",[151],{"title":152,"_path":149},"🏁 知识地图",{"title":154,"_path":155,"children":156},"零散的笔记 / Gists","/gists",[157,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396],{"title":158,"_path":155},"🧊 Gists",{"title":160,"_path":161},"网站的可访问性","/gists/accessibility",{"title":163,"_path":164},"Bit","/gists/bit",{"title":166,"_path":167},"图片模糊","/gists/blur",{"title":169,"_path":170},"渲染相关笔记","/gists/c4d",{"title":172,"_path":173},"CDN 问题记录","/gists/cdn",{"title":175,"_path":176},"消毒剂","/gists/cleaner",{"title":178,"_path":179},"Windows Command","/gists/cmd",{"title":181,"_path":182},"Command","/gists/command",{"title":184,"_path":185},"复杂科学","/gists/complexity-science",{"title":187,"_path":188},"GitHub Copilot","/gists/copilot",{"title":190,"_path":191},"宇宙","/gists/cosmos",{"title":193,"_path":194},"C++","/gists/cpp",{"title":196,"_path":197},"Data Structure","/gists/data-structure",{"title":199,"_path":200},"DEPRESSION","/gists/depression",{"title":202,"_path":203},"设计模式","/gists/design-patterns",{"title":205,"_path":206},"Developer Experience","/gists/developer-experience",{"title":208,"_path":209},"Device Metrics","/gists/device-metrix",{"title":211,"_path":212},"数字化转型","/gists/digital-transformation",{"title":214,"_path":215},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":217,"_path":218},"正则表达式","/gists/eegex",{"title":220,"_path":221},"Emoji","/gists/emoji",{"title":223,"_path":224},"工程","/gists/engineering",{"title":226,"_path":227},"熵","/gists/entropy",{"title":229,"_path":230},"Environment","/gists/environment",{"title":232,"_path":233},"Erlang","/gists/erlang",{"title":235,"_path":236},"逃离塔克夫","/gists/escape-from-tarkov",{"title":238,"_path":239},"ESNext (ES6-ES11)","/gists/esnext",{"title":241,"_path":242},"Eval！","/gists/eval",{"title":244,"_path":245},"Flutter","/gists/flutter",{"title":247,"_path":248},"字体","/gists/font",{"title":250,"_path":251},"JS 函数式编程","/gists/functional",{"title":253,"_path":254},"游戏化","/gists/gamification",{"title":256,"_path":257},"Google C++ Standard","/gists/google-cpp-standard",{"title":259,"_path":260},"双向链接完全体","/gists/graph",{"title":262,"_path":263},"Hardwares","/gists/hardwares",{"title":265,"_path":266},"哈希冲突","/gists/hash-collision",{"title":268,"_path":269},"信息设计","/gists/information-design",{"title":271,"_path":272},"InstantPage","/gists/instant.page",{"title":274,"_path":275},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":277,"_path":278},"KVStore","/gists/key-value-db",{"title":280,"_path":281},"Kubernetes","/gists/kubernetes",{"title":283,"_path":284},"Makefile","/gists/makefile",{"title":286,"_path":287},"Markdown Inline Style","/gists/markdown-nice",{"title":289,"_path":290},"小程序","/gists/miniapp",{"title":292,"_path":293},"减小页面快照体积","/gists/minify-html",{"title":295,"_path":296},"mklink","/gists/mklink",{"title":298,"_path":299},"Mock","/gists/mock",{"title":301,"_path":302},"多人协作系统","/gists/multiplayer",{"title":304,"_path":305},"多端应用","/gists/multy-end-app",{"title":307,"_path":308},"神经科学","/gists/neuroscience",{"title":310,"_path":311},"OO","/gists/oo",{"title":313,"_path":314},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":316,"_path":317},"PInvoke","/gists/pinvoke",{"title":319,"_path":320},"像素","/gists/pixel",{"title":322,"_path":323},"PowerShell","/gists/powershell",{"title":325,"_path":326},"量子","/gists/quantum",{"title":328,"_path":329},"保持好奇心","/gists/questions",{"title":331,"_path":332},"React Native","/gists/react-native",{"title":334,"_path":335},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":337,"_path":338},"SEO","/gists/seo",{"title":340,"_path":341},"Shader","/gists/shader",{"title":343,"_path":344},"Shape Up","/gists/shape-up",{"title":346,"_path":347},"睡觉","/gists/sleep",{"title":349,"_path":350},"记录奇怪的问题","/gists/solved",{"title":352,"_path":353},"States","/gists/states",{"title":355,"_path":356},"Storage","/gists/storage",{"title":358,"_path":359},"音视频流处理","/gists/stream-cli",{"title":361,"_path":362},"Symbol","/gists/symbol",{"title":364,"_path":365},"系统论","/gists/systems-theory",{"title":367,"_path":368},"Taro","/gists/taro",{"title":370,"_path":371},"任务切片","/gists/task-slice",{"title":373,"_path":374},"技术偏好","/gists/tech-dudge",{"title":376,"_path":377},"Untitled","/gists/untitled",{"title":379,"_path":380},"可变字体","/gists/variable-font",{"title":382,"_path":383},"视觉错觉","/gists/visual-illusion",{"title":385,"_path":386},"SS(SSR)","/gists/vpn",{"title":388,"_path":389},"VS Code 插件开发","/gists/vscode-plugin",{"title":391,"_path":392},"Web Components","/gists/web-components",{"title":394,"_path":395},"Windows","/gists/windows",{"title":397,"_path":398},"查缺补漏","/gists/wrong",{"title":400,"_path":401,"children":402},"代码笔记 / Gists","/source-code",[403],{"title":404,"_path":401},"🚄 代码笔记",{"title":406,"_path":407,"children":408},"我 / Abount","/hire",[409],{"title":410,"_path":407},"📬 技术简历",{"title":412,"_path":413,"children":414},"todo","/todo",[415],{"title":412,"_path":413},{"_path":417,"_dir":418,"_draft":419,"_partial":420,"_locale":421,"title":422,"description":421,"body":423,"_type":3987,"_id":3988,"_source":3989,"_file":3990,"_stem":3991,"_extension":3992},"/maps/_frontend/javascript/promise","javascript",false,true,"","Promise",{"type":424,"children":425,"toc":3980},"root",[426,434,471,477,484,490,641,653,659,664,820,831,837,842,965,976,982,1310,1315,1321,2302,2700,2707,2716,2722,2728,2733,2761,2767,2772,2966,2977,2983,2988,3963,3974],{"type":427,"tag":428,"props":429,"children":430},"element","h2",{"id":412},[431],{"type":432,"value":433},"text","TODO",{"type":427,"tag":435,"props":436,"children":437},"ul",{},[438,451,461],{"type":427,"tag":439,"props":440,"children":441},"li",{},[442],{"type":427,"tag":443,"props":444,"children":448},"a",{"href":445,"rel":446},"https://stackoverflow.com/questions/30564053/how-can-i-synchronously-determine-a-javascript-promises-state/52790734#52790734",[447],"nofollow",[449],{"type":432,"value":450},"How can I synchronously determine a JavaScript Promise's state?",{"type":427,"tag":439,"props":452,"children":453},{},[454],{"type":427,"tag":443,"props":455,"children":458},{"href":456,"rel":457},"https://juejin.cn/post/6999804617320038408",[447],[459],{"type":432,"value":460},"Promise 被玩出 48 种“花样”，深度解析10个常用模块",{"type":427,"tag":439,"props":462,"children":463},{},[464],{"type":427,"tag":443,"props":465,"children":468},{"href":466,"rel":467},"https://juejin.cn/post/6844903533393772557#comment",[447],[469],{"type":432,"value":470},"[译] 如何取消你的 Promise？",{"type":427,"tag":428,"props":472,"children":474},{"id":473},"promise-a",[475],{"type":432,"value":476},"Promise A+",{"type":427,"tag":478,"props":479,"children":481},"h4",{"id":480},"promiseresolve1then2thenlog",[482],{"type":432,"value":483},"Promise.resolve(1).then(2).then(log)",{"type":427,"tag":485,"props":486,"children":487},"p",{},[488],{"type":432,"value":489},"then 方法中如果不是函数，那么会被忽略。",{"type":427,"tag":491,"props":492,"children":496},"pre",{"className":493,"code":494,"language":495,"meta":421,"style":421},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","Promise.resolve(1)\n  .then(2)\n  .then(data => console.log(data + 1))\n  // -> 2\n","js",[497],{"type":427,"tag":498,"props":499,"children":500},"code",{"__ignoreMap":421},[501,541,568,631],{"type":427,"tag":502,"props":503,"children":506},"span",{"class":504,"line":505},"line",1,[507,512,518,524,530,536],{"type":427,"tag":502,"props":508,"children":510},{"style":509},"--shiki-light:#E2931D;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[511],{"type":432,"value":422},{"type":427,"tag":502,"props":513,"children":515},{"style":514},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[516],{"type":432,"value":517},".",{"type":427,"tag":502,"props":519,"children":521},{"style":520},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[522],{"type":432,"value":523},"resolve",{"type":427,"tag":502,"props":525,"children":527},{"style":526},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[528],{"type":432,"value":529},"(",{"type":427,"tag":502,"props":531,"children":533},{"style":532},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[534],{"type":432,"value":535},"1",{"type":427,"tag":502,"props":537,"children":538},{"style":526},[539],{"type":432,"value":540},")\n",{"type":427,"tag":502,"props":542,"children":544},{"class":504,"line":543},2,[545,550,555,559,564],{"type":427,"tag":502,"props":546,"children":547},{"style":514},[548],{"type":432,"value":549},"  .",{"type":427,"tag":502,"props":551,"children":552},{"style":520},[553],{"type":432,"value":554},"then",{"type":427,"tag":502,"props":556,"children":557},{"style":526},[558],{"type":432,"value":529},{"type":427,"tag":502,"props":560,"children":561},{"style":532},[562],{"type":432,"value":563},"2",{"type":427,"tag":502,"props":565,"children":566},{"style":526},[567],{"type":432,"value":540},{"type":427,"tag":502,"props":569,"children":571},{"class":504,"line":570},3,[572,576,580,584,590,596,601,605,610,615,621,626],{"type":427,"tag":502,"props":573,"children":574},{"style":514},[575],{"type":432,"value":549},{"type":427,"tag":502,"props":577,"children":578},{"style":520},[579],{"type":432,"value":554},{"type":427,"tag":502,"props":581,"children":582},{"style":526},[583],{"type":432,"value":529},{"type":427,"tag":502,"props":585,"children":587},{"style":586},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[588],{"type":432,"value":589},"data",{"type":427,"tag":502,"props":591,"children":593},{"style":592},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[594],{"type":432,"value":595}," =>",{"type":427,"tag":502,"props":597,"children":598},{"style":526},[599],{"type":432,"value":600}," console",{"type":427,"tag":502,"props":602,"children":603},{"style":514},[604],{"type":432,"value":517},{"type":427,"tag":502,"props":606,"children":607},{"style":520},[608],{"type":432,"value":609},"log",{"type":427,"tag":502,"props":611,"children":612},{"style":526},[613],{"type":432,"value":614},"(data ",{"type":427,"tag":502,"props":616,"children":618},{"style":617},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[619],{"type":432,"value":620},"+",{"type":427,"tag":502,"props":622,"children":623},{"style":532},[624],{"type":432,"value":625}," 1",{"type":427,"tag":502,"props":627,"children":628},{"style":526},[629],{"type":432,"value":630},"))\n",{"type":427,"tag":502,"props":632,"children":634},{"class":504,"line":633},4,[635],{"type":427,"tag":502,"props":636,"children":638},{"style":637},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[639],{"type":432,"value":640},"  // -> 2\n",{"type":427,"tag":485,"props":642,"children":643},{},[644,646],{"type":432,"value":645},"见：",{"type":427,"tag":443,"props":647,"children":650},{"href":648,"rel":649},"https://promisesaplus.com/#point-23",[447],[651],{"type":432,"value":652},"Promise/A+ #point-23",{"type":427,"tag":478,"props":654,"children":656},{"id":655},"promiseresolve1then-2",[657],{"type":432,"value":658},"Promise.resolve(1).then(() => 2)",{"type":427,"tag":485,"props":660,"children":661},{},[662],{"type":432,"value":663},"Promise.then 以及 catch 和 finally 方法都返回一个新 Promise。如果 then 方法中 return 了值 x，x 会进入 Promise.then 的 PRP 过程（Promise Resolution Procedure），可比作：Promise.then.resolve(x)。",{"type":427,"tag":491,"props":665,"children":667},{"className":493,"code":666,"language":495,"meta":421,"style":421},"Promise.resolve(1).then(() => 2)\n// -> Promise {\u003Cfulfilled>: 2}\nPromise.reject(1).then(() => 2, () => 3)\n// -> Promise {\u003Cfulfilled>: 3}\n",[668],{"type":427,"tag":498,"props":669,"children":670},{"__ignoreMap":421},[671,729,737,812],{"type":427,"tag":502,"props":672,"children":673},{"class":504,"line":505},[674,678,682,686,690,694,699,703,707,711,716,720,725],{"type":427,"tag":502,"props":675,"children":676},{"style":509},[677],{"type":432,"value":422},{"type":427,"tag":502,"props":679,"children":680},{"style":514},[681],{"type":432,"value":517},{"type":427,"tag":502,"props":683,"children":684},{"style":520},[685],{"type":432,"value":523},{"type":427,"tag":502,"props":687,"children":688},{"style":526},[689],{"type":432,"value":529},{"type":427,"tag":502,"props":691,"children":692},{"style":532},[693],{"type":432,"value":535},{"type":427,"tag":502,"props":695,"children":696},{"style":526},[697],{"type":432,"value":698},")",{"type":427,"tag":502,"props":700,"children":701},{"style":514},[702],{"type":432,"value":517},{"type":427,"tag":502,"props":704,"children":705},{"style":520},[706],{"type":432,"value":554},{"type":427,"tag":502,"props":708,"children":709},{"style":526},[710],{"type":432,"value":529},{"type":427,"tag":502,"props":712,"children":713},{"style":514},[714],{"type":432,"value":715},"()",{"type":427,"tag":502,"props":717,"children":718},{"style":592},[719],{"type":432,"value":595},{"type":427,"tag":502,"props":721,"children":722},{"style":532},[723],{"type":432,"value":724}," 2",{"type":427,"tag":502,"props":726,"children":727},{"style":526},[728],{"type":432,"value":540},{"type":427,"tag":502,"props":730,"children":731},{"class":504,"line":543},[732],{"type":427,"tag":502,"props":733,"children":734},{"style":637},[735],{"type":432,"value":736},"// -> Promise {\u003Cfulfilled>: 2}\n",{"type":427,"tag":502,"props":738,"children":739},{"class":504,"line":570},[740,744,748,753,757,761,765,769,773,777,781,785,789,794,799,803,808],{"type":427,"tag":502,"props":741,"children":742},{"style":509},[743],{"type":432,"value":422},{"type":427,"tag":502,"props":745,"children":746},{"style":514},[747],{"type":432,"value":517},{"type":427,"tag":502,"props":749,"children":750},{"style":520},[751],{"type":432,"value":752},"reject",{"type":427,"tag":502,"props":754,"children":755},{"style":526},[756],{"type":432,"value":529},{"type":427,"tag":502,"props":758,"children":759},{"style":532},[760],{"type":432,"value":535},{"type":427,"tag":502,"props":762,"children":763},{"style":526},[764],{"type":432,"value":698},{"type":427,"tag":502,"props":766,"children":767},{"style":514},[768],{"type":432,"value":517},{"type":427,"tag":502,"props":770,"children":771},{"style":520},[772],{"type":432,"value":554},{"type":427,"tag":502,"props":774,"children":775},{"style":526},[776],{"type":432,"value":529},{"type":427,"tag":502,"props":778,"children":779},{"style":514},[780],{"type":432,"value":715},{"type":427,"tag":502,"props":782,"children":783},{"style":592},[784],{"type":432,"value":595},{"type":427,"tag":502,"props":786,"children":787},{"style":532},[788],{"type":432,"value":724},{"type":427,"tag":502,"props":790,"children":791},{"style":514},[792],{"type":432,"value":793},",",{"type":427,"tag":502,"props":795,"children":796},{"style":514},[797],{"type":432,"value":798}," ()",{"type":427,"tag":502,"props":800,"children":801},{"style":592},[802],{"type":432,"value":595},{"type":427,"tag":502,"props":804,"children":805},{"style":532},[806],{"type":432,"value":807}," 3",{"type":427,"tag":502,"props":809,"children":810},{"style":526},[811],{"type":432,"value":540},{"type":427,"tag":502,"props":813,"children":814},{"class":504,"line":633},[815],{"type":427,"tag":502,"props":816,"children":817},{"style":637},[818],{"type":432,"value":819},"// -> Promise {\u003Cfulfilled>: 3}\n",{"type":427,"tag":485,"props":821,"children":822},{},[823,824],{"type":432,"value":645},{"type":427,"tag":443,"props":825,"children":828},{"href":826,"rel":827},"https://promisesaplus.com/#point-41",[447],[829],{"type":432,"value":830},"Promise/A+ #point-41",{"type":427,"tag":478,"props":832,"children":834},{"id":833},"多次执行-resolve-会发生什么",[835],{"type":432,"value":836},"多次执行 resolve 会发生什么？",{"type":427,"tag":485,"props":838,"children":839},{},[840],{"type":432,"value":841},"多次执行 resolve 只有第一次有效。已经确定状态的 Promise 不能再改变状态，所以再次执行 resolve 或 reject 都不会发生任何事（为什么不抛错，真是奇怪的设计）。",{"type":427,"tag":491,"props":843,"children":845},{"className":493,"code":844,"language":495,"meta":421,"style":421},"new Promise(resolve => (resolve(1), resolve(2)))\n  .then(data => console.log(data))\n  // -> 1\n",[846],{"type":427,"tag":498,"props":847,"children":848},{"__ignoreMap":421},[849,917,957],{"type":427,"tag":502,"props":850,"children":851},{"class":504,"line":505},[852,857,862,866,870,874,879,883,887,891,895,899,904,908,912],{"type":427,"tag":502,"props":853,"children":854},{"style":617},[855],{"type":432,"value":856},"new",{"type":427,"tag":502,"props":858,"children":859},{"style":509},[860],{"type":432,"value":861}," Promise",{"type":427,"tag":502,"props":863,"children":864},{"style":526},[865],{"type":432,"value":529},{"type":427,"tag":502,"props":867,"children":868},{"style":586},[869],{"type":432,"value":523},{"type":427,"tag":502,"props":871,"children":872},{"style":592},[873],{"type":432,"value":595},{"type":427,"tag":502,"props":875,"children":876},{"style":526},[877],{"type":432,"value":878}," (",{"type":427,"tag":502,"props":880,"children":881},{"style":520},[882],{"type":432,"value":523},{"type":427,"tag":502,"props":884,"children":885},{"style":526},[886],{"type":432,"value":529},{"type":427,"tag":502,"props":888,"children":889},{"style":532},[890],{"type":432,"value":535},{"type":427,"tag":502,"props":892,"children":893},{"style":526},[894],{"type":432,"value":698},{"type":427,"tag":502,"props":896,"children":897},{"style":514},[898],{"type":432,"value":793},{"type":427,"tag":502,"props":900,"children":901},{"style":520},[902],{"type":432,"value":903}," resolve",{"type":427,"tag":502,"props":905,"children":906},{"style":526},[907],{"type":432,"value":529},{"type":427,"tag":502,"props":909,"children":910},{"style":532},[911],{"type":432,"value":563},{"type":427,"tag":502,"props":913,"children":914},{"style":526},[915],{"type":432,"value":916},")))\n",{"type":427,"tag":502,"props":918,"children":919},{"class":504,"line":543},[920,924,928,932,936,940,944,948,952],{"type":427,"tag":502,"props":921,"children":922},{"style":514},[923],{"type":432,"value":549},{"type":427,"tag":502,"props":925,"children":926},{"style":520},[927],{"type":432,"value":554},{"type":427,"tag":502,"props":929,"children":930},{"style":526},[931],{"type":432,"value":529},{"type":427,"tag":502,"props":933,"children":934},{"style":586},[935],{"type":432,"value":589},{"type":427,"tag":502,"props":937,"children":938},{"style":592},[939],{"type":432,"value":595},{"type":427,"tag":502,"props":941,"children":942},{"style":526},[943],{"type":432,"value":600},{"type":427,"tag":502,"props":945,"children":946},{"style":514},[947],{"type":432,"value":517},{"type":427,"tag":502,"props":949,"children":950},{"style":520},[951],{"type":432,"value":609},{"type":427,"tag":502,"props":953,"children":954},{"style":526},[955],{"type":432,"value":956},"(data))\n",{"type":427,"tag":502,"props":958,"children":959},{"class":504,"line":570},[960],{"type":427,"tag":502,"props":961,"children":962},{"style":637},[963],{"type":432,"value":964},"  // -> 1\n",{"type":427,"tag":485,"props":966,"children":967},{},[968,969],{"type":432,"value":645},{"type":427,"tag":443,"props":970,"children":973},{"href":971,"rel":972},"https://promisesaplus.com/#point-59",[447],[974],{"type":432,"value":975},"Promise/A+ #point-59",{"type":427,"tag":478,"props":977,"children":979},{"id":978},"使用-promise-设计一个可以取消请求的请求函数",[980],{"type":432,"value":981},"使用 Promise 设计一个可以取消请求的请求函数？",{"type":427,"tag":491,"props":983,"children":985},{"className":493,"code":984,"language":495,"meta":421,"style":421},"function request (url) {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(url), 1000)\n    })\n}\nlet abort\nlet abortController = new Promise(resolve => abort = resolve)\nPromise\n  .race([request('123'), abortController])\n  .then(data => console.log(data))\nabort()\n",[986],{"type":427,"tag":498,"props":987,"children":988},{"__ignoreMap":421},[989,1020,1055,1104,1116,1125,1139,1191,1200,1256,1296],{"type":427,"tag":502,"props":990,"children":991},{"class":504,"line":505},[992,997,1002,1006,1011,1015],{"type":427,"tag":502,"props":993,"children":994},{"style":592},[995],{"type":432,"value":996},"function",{"type":427,"tag":502,"props":998,"children":999},{"style":520},[1000],{"type":432,"value":1001}," request",{"type":427,"tag":502,"props":1003,"children":1004},{"style":514},[1005],{"type":432,"value":878},{"type":427,"tag":502,"props":1007,"children":1008},{"style":586},[1009],{"type":432,"value":1010},"url",{"type":427,"tag":502,"props":1012,"children":1013},{"style":514},[1014],{"type":432,"value":698},{"type":427,"tag":502,"props":1016,"children":1017},{"style":514},[1018],{"type":432,"value":1019}," {\n",{"type":427,"tag":502,"props":1021,"children":1022},{"class":504,"line":543},[1023,1029,1034,1038,1043,1047,1051],{"type":427,"tag":502,"props":1024,"children":1026},{"style":1025},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1027],{"type":432,"value":1028},"    return",{"type":427,"tag":502,"props":1030,"children":1031},{"style":617},[1032],{"type":432,"value":1033}," new",{"type":427,"tag":502,"props":1035,"children":1036},{"style":509},[1037],{"type":432,"value":861},{"type":427,"tag":502,"props":1039,"children":1041},{"style":1040},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[1042],{"type":432,"value":529},{"type":427,"tag":502,"props":1044,"children":1045},{"style":586},[1046],{"type":432,"value":523},{"type":427,"tag":502,"props":1048,"children":1049},{"style":592},[1050],{"type":432,"value":595},{"type":427,"tag":502,"props":1052,"children":1053},{"style":514},[1054],{"type":432,"value":1019},{"type":427,"tag":502,"props":1056,"children":1057},{"class":504,"line":570},[1058,1063,1067,1071,1075,1079,1083,1087,1091,1095,1100],{"type":427,"tag":502,"props":1059,"children":1060},{"style":520},[1061],{"type":432,"value":1062},"        setTimeout",{"type":427,"tag":502,"props":1064,"children":1065},{"style":1040},[1066],{"type":432,"value":529},{"type":427,"tag":502,"props":1068,"children":1069},{"style":514},[1070],{"type":432,"value":715},{"type":427,"tag":502,"props":1072,"children":1073},{"style":592},[1074],{"type":432,"value":595},{"type":427,"tag":502,"props":1076,"children":1077},{"style":520},[1078],{"type":432,"value":903},{"type":427,"tag":502,"props":1080,"children":1081},{"style":1040},[1082],{"type":432,"value":529},{"type":427,"tag":502,"props":1084,"children":1085},{"style":526},[1086],{"type":432,"value":1010},{"type":427,"tag":502,"props":1088,"children":1089},{"style":1040},[1090],{"type":432,"value":698},{"type":427,"tag":502,"props":1092,"children":1093},{"style":514},[1094],{"type":432,"value":793},{"type":427,"tag":502,"props":1096,"children":1097},{"style":532},[1098],{"type":432,"value":1099}," 1000",{"type":427,"tag":502,"props":1101,"children":1102},{"style":1040},[1103],{"type":432,"value":540},{"type":427,"tag":502,"props":1105,"children":1106},{"class":504,"line":633},[1107,1112],{"type":427,"tag":502,"props":1108,"children":1109},{"style":514},[1110],{"type":432,"value":1111},"    }",{"type":427,"tag":502,"props":1113,"children":1114},{"style":1040},[1115],{"type":432,"value":540},{"type":427,"tag":502,"props":1117,"children":1119},{"class":504,"line":1118},5,[1120],{"type":427,"tag":502,"props":1121,"children":1122},{"style":514},[1123],{"type":432,"value":1124},"}\n",{"type":427,"tag":502,"props":1126,"children":1128},{"class":504,"line":1127},6,[1129,1134],{"type":427,"tag":502,"props":1130,"children":1131},{"style":592},[1132],{"type":432,"value":1133},"let",{"type":427,"tag":502,"props":1135,"children":1136},{"style":526},[1137],{"type":432,"value":1138}," abort\n",{"type":427,"tag":502,"props":1140,"children":1142},{"class":504,"line":1141},7,[1143,1147,1152,1157,1161,1165,1169,1173,1177,1182,1186],{"type":427,"tag":502,"props":1144,"children":1145},{"style":592},[1146],{"type":432,"value":1133},{"type":427,"tag":502,"props":1148,"children":1149},{"style":526},[1150],{"type":432,"value":1151}," abortController ",{"type":427,"tag":502,"props":1153,"children":1154},{"style":617},[1155],{"type":432,"value":1156},"=",{"type":427,"tag":502,"props":1158,"children":1159},{"style":617},[1160],{"type":432,"value":1033},{"type":427,"tag":502,"props":1162,"children":1163},{"style":509},[1164],{"type":432,"value":861},{"type":427,"tag":502,"props":1166,"children":1167},{"style":526},[1168],{"type":432,"value":529},{"type":427,"tag":502,"props":1170,"children":1171},{"style":586},[1172],{"type":432,"value":523},{"type":427,"tag":502,"props":1174,"children":1175},{"style":592},[1176],{"type":432,"value":595},{"type":427,"tag":502,"props":1178,"children":1179},{"style":526},[1180],{"type":432,"value":1181}," abort ",{"type":427,"tag":502,"props":1183,"children":1184},{"style":617},[1185],{"type":432,"value":1156},{"type":427,"tag":502,"props":1187,"children":1188},{"style":526},[1189],{"type":432,"value":1190}," resolve)\n",{"type":427,"tag":502,"props":1192,"children":1194},{"class":504,"line":1193},8,[1195],{"type":427,"tag":502,"props":1196,"children":1197},{"style":509},[1198],{"type":432,"value":1199},"Promise\n",{"type":427,"tag":502,"props":1201,"children":1203},{"class":504,"line":1202},9,[1204,1208,1213,1218,1223,1227,1233,1239,1243,1247,1251],{"type":427,"tag":502,"props":1205,"children":1206},{"style":514},[1207],{"type":432,"value":549},{"type":427,"tag":502,"props":1209,"children":1210},{"style":520},[1211],{"type":432,"value":1212},"race",{"type":427,"tag":502,"props":1214,"children":1215},{"style":526},[1216],{"type":432,"value":1217},"([",{"type":427,"tag":502,"props":1219,"children":1220},{"style":520},[1221],{"type":432,"value":1222},"request",{"type":427,"tag":502,"props":1224,"children":1225},{"style":526},[1226],{"type":432,"value":529},{"type":427,"tag":502,"props":1228,"children":1230},{"style":1229},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1231],{"type":432,"value":1232},"'",{"type":427,"tag":502,"props":1234,"children":1236},{"style":1235},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1237],{"type":432,"value":1238},"123",{"type":427,"tag":502,"props":1240,"children":1241},{"style":1229},[1242],{"type":432,"value":1232},{"type":427,"tag":502,"props":1244,"children":1245},{"style":526},[1246],{"type":432,"value":698},{"type":427,"tag":502,"props":1248,"children":1249},{"style":514},[1250],{"type":432,"value":793},{"type":427,"tag":502,"props":1252,"children":1253},{"style":526},[1254],{"type":432,"value":1255}," abortController])\n",{"type":427,"tag":502,"props":1257,"children":1259},{"class":504,"line":1258},10,[1260,1264,1268,1272,1276,1280,1284,1288,1292],{"type":427,"tag":502,"props":1261,"children":1262},{"style":514},[1263],{"type":432,"value":549},{"type":427,"tag":502,"props":1265,"children":1266},{"style":520},[1267],{"type":432,"value":554},{"type":427,"tag":502,"props":1269,"children":1270},{"style":526},[1271],{"type":432,"value":529},{"type":427,"tag":502,"props":1273,"children":1274},{"style":586},[1275],{"type":432,"value":589},{"type":427,"tag":502,"props":1277,"children":1278},{"style":592},[1279],{"type":432,"value":595},{"type":427,"tag":502,"props":1281,"children":1282},{"style":526},[1283],{"type":432,"value":600},{"type":427,"tag":502,"props":1285,"children":1286},{"style":514},[1287],{"type":432,"value":517},{"type":427,"tag":502,"props":1289,"children":1290},{"style":520},[1291],{"type":432,"value":609},{"type":427,"tag":502,"props":1293,"children":1294},{"style":526},[1295],{"type":432,"value":956},{"type":427,"tag":502,"props":1297,"children":1299},{"class":504,"line":1298},11,[1300,1305],{"type":427,"tag":502,"props":1301,"children":1302},{"style":520},[1303],{"type":432,"value":1304},"abort",{"type":427,"tag":502,"props":1306,"children":1307},{"style":526},[1308],{"type":432,"value":1309},"()\n",{"type":427,"tag":485,"props":1311,"children":1312},{},[1313],{"type":432,"value":1314},"注意，Promise.race 以及 Promise.all 等函数尽管可以通过提前调用 then、catch 方法以达到特定目的，但是不会影响其它作为入参的 Promise 的正常执行。",{"type":427,"tag":478,"props":1316,"children":1318},{"id":1317},"一些关于-promise-的综合问题",[1319],{"type":432,"value":1320},"一些关于 Promise 的综合问题？",{"type":427,"tag":491,"props":1322,"children":1324},{"className":493,"code":1323,"language":495,"meta":421,"style":421},"// 考察事件循环\nconst p1 = new Promise((resolve) => {\n  setTimeout(() => {\n    resolve('resolve3');\n    console.log('timer1')\n    new Promise(r => r('promise1')).then(console.log)\n  }, 0)\n  resolve('resovle1');\n  resolve('resolve2');\n}).then(res => {\n  console.log(res)\n  setTimeout(() => {\n    console.log(p1)\n    new Promise(r => r('promise2')).then(console.log)\n  }, 1000)\n}).finally(res => {\n  console.log('finally1', res)\n  throw new Error('error1')\n}).catch(err => {\n  console.log(err)\n  throw new Error('error2')\n}).catch(err => {\n  console.log(err)\n}).then(res => {\n  console.log(res)\n}).finally(res => {\n  console.log('finally2', res)\n})\n",[1325],{"type":427,"tag":498,"props":1326,"children":1327},{"__ignoreMap":421},[1328,1336,1387,1411,1445,1482,1563,1580,1613,1645,1682,1710,1734,1763,1840,1856,1893,1939,1978,2016,2044,2081,2117,2145,2181,2209,2245,2290],{"type":427,"tag":502,"props":1329,"children":1330},{"class":504,"line":505},[1331],{"type":427,"tag":502,"props":1332,"children":1333},{"style":637},[1334],{"type":432,"value":1335},"// 考察事件循环\n",{"type":427,"tag":502,"props":1337,"children":1338},{"class":504,"line":543},[1339,1344,1350,1355,1359,1363,1367,1371,1375,1379,1383],{"type":427,"tag":502,"props":1340,"children":1341},{"style":592},[1342],{"type":432,"value":1343},"const",{"type":427,"tag":502,"props":1345,"children":1347},{"style":1346},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1348],{"type":432,"value":1349}," p1",{"type":427,"tag":502,"props":1351,"children":1352},{"style":617},[1353],{"type":432,"value":1354}," =",{"type":427,"tag":502,"props":1356,"children":1357},{"style":617},[1358],{"type":432,"value":1033},{"type":427,"tag":502,"props":1360,"children":1361},{"style":509},[1362],{"type":432,"value":861},{"type":427,"tag":502,"props":1364,"children":1365},{"style":526},[1366],{"type":432,"value":529},{"type":427,"tag":502,"props":1368,"children":1369},{"style":514},[1370],{"type":432,"value":529},{"type":427,"tag":502,"props":1372,"children":1373},{"style":586},[1374],{"type":432,"value":523},{"type":427,"tag":502,"props":1376,"children":1377},{"style":514},[1378],{"type":432,"value":698},{"type":427,"tag":502,"props":1380,"children":1381},{"style":592},[1382],{"type":432,"value":595},{"type":427,"tag":502,"props":1384,"children":1385},{"style":514},[1386],{"type":432,"value":1019},{"type":427,"tag":502,"props":1388,"children":1389},{"class":504,"line":570},[1390,1395,1399,1403,1407],{"type":427,"tag":502,"props":1391,"children":1392},{"style":520},[1393],{"type":432,"value":1394},"  setTimeout",{"type":427,"tag":502,"props":1396,"children":1397},{"style":1040},[1398],{"type":432,"value":529},{"type":427,"tag":502,"props":1400,"children":1401},{"style":514},[1402],{"type":432,"value":715},{"type":427,"tag":502,"props":1404,"children":1405},{"style":592},[1406],{"type":432,"value":595},{"type":427,"tag":502,"props":1408,"children":1409},{"style":514},[1410],{"type":432,"value":1019},{"type":427,"tag":502,"props":1412,"children":1413},{"class":504,"line":633},[1414,1419,1423,1427,1432,1436,1440],{"type":427,"tag":502,"props":1415,"children":1416},{"style":520},[1417],{"type":432,"value":1418},"    resolve",{"type":427,"tag":502,"props":1420,"children":1421},{"style":1040},[1422],{"type":432,"value":529},{"type":427,"tag":502,"props":1424,"children":1425},{"style":1229},[1426],{"type":432,"value":1232},{"type":427,"tag":502,"props":1428,"children":1429},{"style":1235},[1430],{"type":432,"value":1431},"resolve3",{"type":427,"tag":502,"props":1433,"children":1434},{"style":1229},[1435],{"type":432,"value":1232},{"type":427,"tag":502,"props":1437,"children":1438},{"style":1040},[1439],{"type":432,"value":698},{"type":427,"tag":502,"props":1441,"children":1442},{"style":514},[1443],{"type":432,"value":1444},";\n",{"type":427,"tag":502,"props":1446,"children":1447},{"class":504,"line":1118},[1448,1453,1457,1461,1465,1469,1474,1478],{"type":427,"tag":502,"props":1449,"children":1450},{"style":526},[1451],{"type":432,"value":1452},"    console",{"type":427,"tag":502,"props":1454,"children":1455},{"style":514},[1456],{"type":432,"value":517},{"type":427,"tag":502,"props":1458,"children":1459},{"style":520},[1460],{"type":432,"value":609},{"type":427,"tag":502,"props":1462,"children":1463},{"style":1040},[1464],{"type":432,"value":529},{"type":427,"tag":502,"props":1466,"children":1467},{"style":1229},[1468],{"type":432,"value":1232},{"type":427,"tag":502,"props":1470,"children":1471},{"style":1235},[1472],{"type":432,"value":1473},"timer1",{"type":427,"tag":502,"props":1475,"children":1476},{"style":1229},[1477],{"type":432,"value":1232},{"type":427,"tag":502,"props":1479,"children":1480},{"style":1040},[1481],{"type":432,"value":540},{"type":427,"tag":502,"props":1483,"children":1484},{"class":504,"line":1127},[1485,1490,1494,1498,1503,1507,1512,1516,1520,1525,1529,1534,1538,1542,1546,1551,1555,1559],{"type":427,"tag":502,"props":1486,"children":1487},{"style":617},[1488],{"type":432,"value":1489},"    new",{"type":427,"tag":502,"props":1491,"children":1492},{"style":509},[1493],{"type":432,"value":861},{"type":427,"tag":502,"props":1495,"children":1496},{"style":1040},[1497],{"type":432,"value":529},{"type":427,"tag":502,"props":1499,"children":1500},{"style":586},[1501],{"type":432,"value":1502},"r",{"type":427,"tag":502,"props":1504,"children":1505},{"style":592},[1506],{"type":432,"value":595},{"type":427,"tag":502,"props":1508,"children":1509},{"style":520},[1510],{"type":432,"value":1511}," r",{"type":427,"tag":502,"props":1513,"children":1514},{"style":1040},[1515],{"type":432,"value":529},{"type":427,"tag":502,"props":1517,"children":1518},{"style":1229},[1519],{"type":432,"value":1232},{"type":427,"tag":502,"props":1521,"children":1522},{"style":1235},[1523],{"type":432,"value":1524},"promise1",{"type":427,"tag":502,"props":1526,"children":1527},{"style":1229},[1528],{"type":432,"value":1232},{"type":427,"tag":502,"props":1530,"children":1531},{"style":1040},[1532],{"type":432,"value":1533},"))",{"type":427,"tag":502,"props":1535,"children":1536},{"style":514},[1537],{"type":432,"value":517},{"type":427,"tag":502,"props":1539,"children":1540},{"style":520},[1541],{"type":432,"value":554},{"type":427,"tag":502,"props":1543,"children":1544},{"style":1040},[1545],{"type":432,"value":529},{"type":427,"tag":502,"props":1547,"children":1548},{"style":526},[1549],{"type":432,"value":1550},"console",{"type":427,"tag":502,"props":1552,"children":1553},{"style":514},[1554],{"type":432,"value":517},{"type":427,"tag":502,"props":1556,"children":1557},{"style":526},[1558],{"type":432,"value":609},{"type":427,"tag":502,"props":1560,"children":1561},{"style":1040},[1562],{"type":432,"value":540},{"type":427,"tag":502,"props":1564,"children":1565},{"class":504,"line":1141},[1566,1571,1576],{"type":427,"tag":502,"props":1567,"children":1568},{"style":514},[1569],{"type":432,"value":1570},"  },",{"type":427,"tag":502,"props":1572,"children":1573},{"style":532},[1574],{"type":432,"value":1575}," 0",{"type":427,"tag":502,"props":1577,"children":1578},{"style":1040},[1579],{"type":432,"value":540},{"type":427,"tag":502,"props":1581,"children":1582},{"class":504,"line":1193},[1583,1588,1592,1596,1601,1605,1609],{"type":427,"tag":502,"props":1584,"children":1585},{"style":520},[1586],{"type":432,"value":1587},"  resolve",{"type":427,"tag":502,"props":1589,"children":1590},{"style":1040},[1591],{"type":432,"value":529},{"type":427,"tag":502,"props":1593,"children":1594},{"style":1229},[1595],{"type":432,"value":1232},{"type":427,"tag":502,"props":1597,"children":1598},{"style":1235},[1599],{"type":432,"value":1600},"resovle1",{"type":427,"tag":502,"props":1602,"children":1603},{"style":1229},[1604],{"type":432,"value":1232},{"type":427,"tag":502,"props":1606,"children":1607},{"style":1040},[1608],{"type":432,"value":698},{"type":427,"tag":502,"props":1610,"children":1611},{"style":514},[1612],{"type":432,"value":1444},{"type":427,"tag":502,"props":1614,"children":1615},{"class":504,"line":1202},[1616,1620,1624,1628,1633,1637,1641],{"type":427,"tag":502,"props":1617,"children":1618},{"style":520},[1619],{"type":432,"value":1587},{"type":427,"tag":502,"props":1621,"children":1622},{"style":1040},[1623],{"type":432,"value":529},{"type":427,"tag":502,"props":1625,"children":1626},{"style":1229},[1627],{"type":432,"value":1232},{"type":427,"tag":502,"props":1629,"children":1630},{"style":1235},[1631],{"type":432,"value":1632},"resolve2",{"type":427,"tag":502,"props":1634,"children":1635},{"style":1229},[1636],{"type":432,"value":1232},{"type":427,"tag":502,"props":1638,"children":1639},{"style":1040},[1640],{"type":432,"value":698},{"type":427,"tag":502,"props":1642,"children":1643},{"style":514},[1644],{"type":432,"value":1444},{"type":427,"tag":502,"props":1646,"children":1647},{"class":504,"line":1258},[1648,1653,1657,1661,1665,1669,1674,1678],{"type":427,"tag":502,"props":1649,"children":1650},{"style":514},[1651],{"type":432,"value":1652},"}",{"type":427,"tag":502,"props":1654,"children":1655},{"style":526},[1656],{"type":432,"value":698},{"type":427,"tag":502,"props":1658,"children":1659},{"style":514},[1660],{"type":432,"value":517},{"type":427,"tag":502,"props":1662,"children":1663},{"style":520},[1664],{"type":432,"value":554},{"type":427,"tag":502,"props":1666,"children":1667},{"style":526},[1668],{"type":432,"value":529},{"type":427,"tag":502,"props":1670,"children":1671},{"style":586},[1672],{"type":432,"value":1673},"res",{"type":427,"tag":502,"props":1675,"children":1676},{"style":592},[1677],{"type":432,"value":595},{"type":427,"tag":502,"props":1679,"children":1680},{"style":514},[1681],{"type":432,"value":1019},{"type":427,"tag":502,"props":1683,"children":1684},{"class":504,"line":1298},[1685,1690,1694,1698,1702,1706],{"type":427,"tag":502,"props":1686,"children":1687},{"style":526},[1688],{"type":432,"value":1689},"  console",{"type":427,"tag":502,"props":1691,"children":1692},{"style":514},[1693],{"type":432,"value":517},{"type":427,"tag":502,"props":1695,"children":1696},{"style":520},[1697],{"type":432,"value":609},{"type":427,"tag":502,"props":1699,"children":1700},{"style":1040},[1701],{"type":432,"value":529},{"type":427,"tag":502,"props":1703,"children":1704},{"style":526},[1705],{"type":432,"value":1673},{"type":427,"tag":502,"props":1707,"children":1708},{"style":1040},[1709],{"type":432,"value":540},{"type":427,"tag":502,"props":1711,"children":1713},{"class":504,"line":1712},12,[1714,1718,1722,1726,1730],{"type":427,"tag":502,"props":1715,"children":1716},{"style":520},[1717],{"type":432,"value":1394},{"type":427,"tag":502,"props":1719,"children":1720},{"style":1040},[1721],{"type":432,"value":529},{"type":427,"tag":502,"props":1723,"children":1724},{"style":514},[1725],{"type":432,"value":715},{"type":427,"tag":502,"props":1727,"children":1728},{"style":592},[1729],{"type":432,"value":595},{"type":427,"tag":502,"props":1731,"children":1732},{"style":514},[1733],{"type":432,"value":1019},{"type":427,"tag":502,"props":1735,"children":1737},{"class":504,"line":1736},13,[1738,1742,1746,1750,1754,1759],{"type":427,"tag":502,"props":1739,"children":1740},{"style":526},[1741],{"type":432,"value":1452},{"type":427,"tag":502,"props":1743,"children":1744},{"style":514},[1745],{"type":432,"value":517},{"type":427,"tag":502,"props":1747,"children":1748},{"style":520},[1749],{"type":432,"value":609},{"type":427,"tag":502,"props":1751,"children":1752},{"style":1040},[1753],{"type":432,"value":529},{"type":427,"tag":502,"props":1755,"children":1756},{"style":526},[1757],{"type":432,"value":1758},"p1",{"type":427,"tag":502,"props":1760,"children":1761},{"style":1040},[1762],{"type":432,"value":540},{"type":427,"tag":502,"props":1764,"children":1766},{"class":504,"line":1765},14,[1767,1771,1775,1779,1783,1787,1791,1795,1799,1804,1808,1812,1816,1820,1824,1828,1832,1836],{"type":427,"tag":502,"props":1768,"children":1769},{"style":617},[1770],{"type":432,"value":1489},{"type":427,"tag":502,"props":1772,"children":1773},{"style":509},[1774],{"type":432,"value":861},{"type":427,"tag":502,"props":1776,"children":1777},{"style":1040},[1778],{"type":432,"value":529},{"type":427,"tag":502,"props":1780,"children":1781},{"style":586},[1782],{"type":432,"value":1502},{"type":427,"tag":502,"props":1784,"children":1785},{"style":592},[1786],{"type":432,"value":595},{"type":427,"tag":502,"props":1788,"children":1789},{"style":520},[1790],{"type":432,"value":1511},{"type":427,"tag":502,"props":1792,"children":1793},{"style":1040},[1794],{"type":432,"value":529},{"type":427,"tag":502,"props":1796,"children":1797},{"style":1229},[1798],{"type":432,"value":1232},{"type":427,"tag":502,"props":1800,"children":1801},{"style":1235},[1802],{"type":432,"value":1803},"promise2",{"type":427,"tag":502,"props":1805,"children":1806},{"style":1229},[1807],{"type":432,"value":1232},{"type":427,"tag":502,"props":1809,"children":1810},{"style":1040},[1811],{"type":432,"value":1533},{"type":427,"tag":502,"props":1813,"children":1814},{"style":514},[1815],{"type":432,"value":517},{"type":427,"tag":502,"props":1817,"children":1818},{"style":520},[1819],{"type":432,"value":554},{"type":427,"tag":502,"props":1821,"children":1822},{"style":1040},[1823],{"type":432,"value":529},{"type":427,"tag":502,"props":1825,"children":1826},{"style":526},[1827],{"type":432,"value":1550},{"type":427,"tag":502,"props":1829,"children":1830},{"style":514},[1831],{"type":432,"value":517},{"type":427,"tag":502,"props":1833,"children":1834},{"style":526},[1835],{"type":432,"value":609},{"type":427,"tag":502,"props":1837,"children":1838},{"style":1040},[1839],{"type":432,"value":540},{"type":427,"tag":502,"props":1841,"children":1843},{"class":504,"line":1842},15,[1844,1848,1852],{"type":427,"tag":502,"props":1845,"children":1846},{"style":514},[1847],{"type":432,"value":1570},{"type":427,"tag":502,"props":1849,"children":1850},{"style":532},[1851],{"type":432,"value":1099},{"type":427,"tag":502,"props":1853,"children":1854},{"style":1040},[1855],{"type":432,"value":540},{"type":427,"tag":502,"props":1857,"children":1859},{"class":504,"line":1858},16,[1860,1864,1868,1872,1877,1881,1885,1889],{"type":427,"tag":502,"props":1861,"children":1862},{"style":514},[1863],{"type":432,"value":1652},{"type":427,"tag":502,"props":1865,"children":1866},{"style":526},[1867],{"type":432,"value":698},{"type":427,"tag":502,"props":1869,"children":1870},{"style":514},[1871],{"type":432,"value":517},{"type":427,"tag":502,"props":1873,"children":1874},{"style":520},[1875],{"type":432,"value":1876},"finally",{"type":427,"tag":502,"props":1878,"children":1879},{"style":526},[1880],{"type":432,"value":529},{"type":427,"tag":502,"props":1882,"children":1883},{"style":586},[1884],{"type":432,"value":1673},{"type":427,"tag":502,"props":1886,"children":1887},{"style":592},[1888],{"type":432,"value":595},{"type":427,"tag":502,"props":1890,"children":1891},{"style":514},[1892],{"type":432,"value":1019},{"type":427,"tag":502,"props":1894,"children":1896},{"class":504,"line":1895},17,[1897,1901,1905,1909,1913,1917,1922,1926,1930,1935],{"type":427,"tag":502,"props":1898,"children":1899},{"style":526},[1900],{"type":432,"value":1689},{"type":427,"tag":502,"props":1902,"children":1903},{"style":514},[1904],{"type":432,"value":517},{"type":427,"tag":502,"props":1906,"children":1907},{"style":520},[1908],{"type":432,"value":609},{"type":427,"tag":502,"props":1910,"children":1911},{"style":1040},[1912],{"type":432,"value":529},{"type":427,"tag":502,"props":1914,"children":1915},{"style":1229},[1916],{"type":432,"value":1232},{"type":427,"tag":502,"props":1918,"children":1919},{"style":1235},[1920],{"type":432,"value":1921},"finally1",{"type":427,"tag":502,"props":1923,"children":1924},{"style":1229},[1925],{"type":432,"value":1232},{"type":427,"tag":502,"props":1927,"children":1928},{"style":514},[1929],{"type":432,"value":793},{"type":427,"tag":502,"props":1931,"children":1932},{"style":526},[1933],{"type":432,"value":1934}," res",{"type":427,"tag":502,"props":1936,"children":1937},{"style":1040},[1938],{"type":432,"value":540},{"type":427,"tag":502,"props":1940,"children":1942},{"class":504,"line":1941},18,[1943,1948,1952,1957,1961,1965,1970,1974],{"type":427,"tag":502,"props":1944,"children":1945},{"style":1025},[1946],{"type":432,"value":1947},"  throw",{"type":427,"tag":502,"props":1949,"children":1950},{"style":617},[1951],{"type":432,"value":1033},{"type":427,"tag":502,"props":1953,"children":1954},{"style":520},[1955],{"type":432,"value":1956}," Error",{"type":427,"tag":502,"props":1958,"children":1959},{"style":1040},[1960],{"type":432,"value":529},{"type":427,"tag":502,"props":1962,"children":1963},{"style":1229},[1964],{"type":432,"value":1232},{"type":427,"tag":502,"props":1966,"children":1967},{"style":1235},[1968],{"type":432,"value":1969},"error1",{"type":427,"tag":502,"props":1971,"children":1972},{"style":1229},[1973],{"type":432,"value":1232},{"type":427,"tag":502,"props":1975,"children":1976},{"style":1040},[1977],{"type":432,"value":540},{"type":427,"tag":502,"props":1979,"children":1981},{"class":504,"line":1980},19,[1982,1986,1990,1994,1999,2003,2008,2012],{"type":427,"tag":502,"props":1983,"children":1984},{"style":514},[1985],{"type":432,"value":1652},{"type":427,"tag":502,"props":1987,"children":1988},{"style":526},[1989],{"type":432,"value":698},{"type":427,"tag":502,"props":1991,"children":1992},{"style":514},[1993],{"type":432,"value":517},{"type":427,"tag":502,"props":1995,"children":1996},{"style":520},[1997],{"type":432,"value":1998},"catch",{"type":427,"tag":502,"props":2000,"children":2001},{"style":526},[2002],{"type":432,"value":529},{"type":427,"tag":502,"props":2004,"children":2005},{"style":586},[2006],{"type":432,"value":2007},"err",{"type":427,"tag":502,"props":2009,"children":2010},{"style":592},[2011],{"type":432,"value":595},{"type":427,"tag":502,"props":2013,"children":2014},{"style":514},[2015],{"type":432,"value":1019},{"type":427,"tag":502,"props":2017,"children":2019},{"class":504,"line":2018},20,[2020,2024,2028,2032,2036,2040],{"type":427,"tag":502,"props":2021,"children":2022},{"style":526},[2023],{"type":432,"value":1689},{"type":427,"tag":502,"props":2025,"children":2026},{"style":514},[2027],{"type":432,"value":517},{"type":427,"tag":502,"props":2029,"children":2030},{"style":520},[2031],{"type":432,"value":609},{"type":427,"tag":502,"props":2033,"children":2034},{"style":1040},[2035],{"type":432,"value":529},{"type":427,"tag":502,"props":2037,"children":2038},{"style":526},[2039],{"type":432,"value":2007},{"type":427,"tag":502,"props":2041,"children":2042},{"style":1040},[2043],{"type":432,"value":540},{"type":427,"tag":502,"props":2045,"children":2047},{"class":504,"line":2046},21,[2048,2052,2056,2060,2064,2068,2073,2077],{"type":427,"tag":502,"props":2049,"children":2050},{"style":1025},[2051],{"type":432,"value":1947},{"type":427,"tag":502,"props":2053,"children":2054},{"style":617},[2055],{"type":432,"value":1033},{"type":427,"tag":502,"props":2057,"children":2058},{"style":520},[2059],{"type":432,"value":1956},{"type":427,"tag":502,"props":2061,"children":2062},{"style":1040},[2063],{"type":432,"value":529},{"type":427,"tag":502,"props":2065,"children":2066},{"style":1229},[2067],{"type":432,"value":1232},{"type":427,"tag":502,"props":2069,"children":2070},{"style":1235},[2071],{"type":432,"value":2072},"error2",{"type":427,"tag":502,"props":2074,"children":2075},{"style":1229},[2076],{"type":432,"value":1232},{"type":427,"tag":502,"props":2078,"children":2079},{"style":1040},[2080],{"type":432,"value":540},{"type":427,"tag":502,"props":2082,"children":2084},{"class":504,"line":2083},22,[2085,2089,2093,2097,2101,2105,2109,2113],{"type":427,"tag":502,"props":2086,"children":2087},{"style":514},[2088],{"type":432,"value":1652},{"type":427,"tag":502,"props":2090,"children":2091},{"style":526},[2092],{"type":432,"value":698},{"type":427,"tag":502,"props":2094,"children":2095},{"style":514},[2096],{"type":432,"value":517},{"type":427,"tag":502,"props":2098,"children":2099},{"style":520},[2100],{"type":432,"value":1998},{"type":427,"tag":502,"props":2102,"children":2103},{"style":526},[2104],{"type":432,"value":529},{"type":427,"tag":502,"props":2106,"children":2107},{"style":586},[2108],{"type":432,"value":2007},{"type":427,"tag":502,"props":2110,"children":2111},{"style":592},[2112],{"type":432,"value":595},{"type":427,"tag":502,"props":2114,"children":2115},{"style":514},[2116],{"type":432,"value":1019},{"type":427,"tag":502,"props":2118,"children":2120},{"class":504,"line":2119},23,[2121,2125,2129,2133,2137,2141],{"type":427,"tag":502,"props":2122,"children":2123},{"style":526},[2124],{"type":432,"value":1689},{"type":427,"tag":502,"props":2126,"children":2127},{"style":514},[2128],{"type":432,"value":517},{"type":427,"tag":502,"props":2130,"children":2131},{"style":520},[2132],{"type":432,"value":609},{"type":427,"tag":502,"props":2134,"children":2135},{"style":1040},[2136],{"type":432,"value":529},{"type":427,"tag":502,"props":2138,"children":2139},{"style":526},[2140],{"type":432,"value":2007},{"type":427,"tag":502,"props":2142,"children":2143},{"style":1040},[2144],{"type":432,"value":540},{"type":427,"tag":502,"props":2146,"children":2148},{"class":504,"line":2147},24,[2149,2153,2157,2161,2165,2169,2173,2177],{"type":427,"tag":502,"props":2150,"children":2151},{"style":514},[2152],{"type":432,"value":1652},{"type":427,"tag":502,"props":2154,"children":2155},{"style":526},[2156],{"type":432,"value":698},{"type":427,"tag":502,"props":2158,"children":2159},{"style":514},[2160],{"type":432,"value":517},{"type":427,"tag":502,"props":2162,"children":2163},{"style":520},[2164],{"type":432,"value":554},{"type":427,"tag":502,"props":2166,"children":2167},{"style":526},[2168],{"type":432,"value":529},{"type":427,"tag":502,"props":2170,"children":2171},{"style":586},[2172],{"type":432,"value":1673},{"type":427,"tag":502,"props":2174,"children":2175},{"style":592},[2176],{"type":432,"value":595},{"type":427,"tag":502,"props":2178,"children":2179},{"style":514},[2180],{"type":432,"value":1019},{"type":427,"tag":502,"props":2182,"children":2184},{"class":504,"line":2183},25,[2185,2189,2193,2197,2201,2205],{"type":427,"tag":502,"props":2186,"children":2187},{"style":526},[2188],{"type":432,"value":1689},{"type":427,"tag":502,"props":2190,"children":2191},{"style":514},[2192],{"type":432,"value":517},{"type":427,"tag":502,"props":2194,"children":2195},{"style":520},[2196],{"type":432,"value":609},{"type":427,"tag":502,"props":2198,"children":2199},{"style":1040},[2200],{"type":432,"value":529},{"type":427,"tag":502,"props":2202,"children":2203},{"style":526},[2204],{"type":432,"value":1673},{"type":427,"tag":502,"props":2206,"children":2207},{"style":1040},[2208],{"type":432,"value":540},{"type":427,"tag":502,"props":2210,"children":2212},{"class":504,"line":2211},26,[2213,2217,2221,2225,2229,2233,2237,2241],{"type":427,"tag":502,"props":2214,"children":2215},{"style":514},[2216],{"type":432,"value":1652},{"type":427,"tag":502,"props":2218,"children":2219},{"style":526},[2220],{"type":432,"value":698},{"type":427,"tag":502,"props":2222,"children":2223},{"style":514},[2224],{"type":432,"value":517},{"type":427,"tag":502,"props":2226,"children":2227},{"style":520},[2228],{"type":432,"value":1876},{"type":427,"tag":502,"props":2230,"children":2231},{"style":526},[2232],{"type":432,"value":529},{"type":427,"tag":502,"props":2234,"children":2235},{"style":586},[2236],{"type":432,"value":1673},{"type":427,"tag":502,"props":2238,"children":2239},{"style":592},[2240],{"type":432,"value":595},{"type":427,"tag":502,"props":2242,"children":2243},{"style":514},[2244],{"type":432,"value":1019},{"type":427,"tag":502,"props":2246,"children":2248},{"class":504,"line":2247},27,[2249,2253,2257,2261,2265,2269,2274,2278,2282,2286],{"type":427,"tag":502,"props":2250,"children":2251},{"style":526},[2252],{"type":432,"value":1689},{"type":427,"tag":502,"props":2254,"children":2255},{"style":514},[2256],{"type":432,"value":517},{"type":427,"tag":502,"props":2258,"children":2259},{"style":520},[2260],{"type":432,"value":609},{"type":427,"tag":502,"props":2262,"children":2263},{"style":1040},[2264],{"type":432,"value":529},{"type":427,"tag":502,"props":2266,"children":2267},{"style":1229},[2268],{"type":432,"value":1232},{"type":427,"tag":502,"props":2270,"children":2271},{"style":1235},[2272],{"type":432,"value":2273},"finally2",{"type":427,"tag":502,"props":2275,"children":2276},{"style":1229},[2277],{"type":432,"value":1232},{"type":427,"tag":502,"props":2279,"children":2280},{"style":514},[2281],{"type":432,"value":793},{"type":427,"tag":502,"props":2283,"children":2284},{"style":526},[2285],{"type":432,"value":1934},{"type":427,"tag":502,"props":2287,"children":2288},{"style":1040},[2289],{"type":432,"value":540},{"type":427,"tag":502,"props":2291,"children":2293},{"class":504,"line":2292},28,[2294,2298],{"type":427,"tag":502,"props":2295,"children":2296},{"style":514},[2297],{"type":432,"value":1652},{"type":427,"tag":502,"props":2299,"children":2300},{"style":526},[2301],{"type":432,"value":540},{"type":427,"tag":491,"props":2303,"children":2305},{"className":493,"code":2304,"language":495,"meta":421,"style":421},"// 考察 Promise 原理\nconst promise = Promise.resolve(1)\n  .then()\n  .then(data => {\n    return Promise.reject('error')\n      .then(_ => console.log('result is ' + data))\n      .catch(err => console.log(err))\n      .then(_ => console.log('result is not ' + data))\n  })\npromise.then(() => {\n  console.log(promise)\n})\n",[2306],{"type":427,"tag":498,"props":2307,"children":2308},{"__ignoreMap":421},[2309,2317,2357,2372,2399,2439,2507,2554,2618,2630,2662,2689],{"type":427,"tag":502,"props":2310,"children":2311},{"class":504,"line":505},[2312],{"type":427,"tag":502,"props":2313,"children":2314},{"style":637},[2315],{"type":432,"value":2316},"// 考察 Promise 原理\n",{"type":427,"tag":502,"props":2318,"children":2319},{"class":504,"line":543},[2320,2324,2329,2333,2337,2341,2345,2349,2353],{"type":427,"tag":502,"props":2321,"children":2322},{"style":592},[2323],{"type":432,"value":1343},{"type":427,"tag":502,"props":2325,"children":2326},{"style":1346},[2327],{"type":432,"value":2328}," promise",{"type":427,"tag":502,"props":2330,"children":2331},{"style":617},[2332],{"type":432,"value":1354},{"type":427,"tag":502,"props":2334,"children":2335},{"style":509},[2336],{"type":432,"value":861},{"type":427,"tag":502,"props":2338,"children":2339},{"style":514},[2340],{"type":432,"value":517},{"type":427,"tag":502,"props":2342,"children":2343},{"style":520},[2344],{"type":432,"value":523},{"type":427,"tag":502,"props":2346,"children":2347},{"style":526},[2348],{"type":432,"value":529},{"type":427,"tag":502,"props":2350,"children":2351},{"style":532},[2352],{"type":432,"value":535},{"type":427,"tag":502,"props":2354,"children":2355},{"style":526},[2356],{"type":432,"value":540},{"type":427,"tag":502,"props":2358,"children":2359},{"class":504,"line":570},[2360,2364,2368],{"type":427,"tag":502,"props":2361,"children":2362},{"style":514},[2363],{"type":432,"value":549},{"type":427,"tag":502,"props":2365,"children":2366},{"style":520},[2367],{"type":432,"value":554},{"type":427,"tag":502,"props":2369,"children":2370},{"style":526},[2371],{"type":432,"value":1309},{"type":427,"tag":502,"props":2373,"children":2374},{"class":504,"line":633},[2375,2379,2383,2387,2391,2395],{"type":427,"tag":502,"props":2376,"children":2377},{"style":514},[2378],{"type":432,"value":549},{"type":427,"tag":502,"props":2380,"children":2381},{"style":520},[2382],{"type":432,"value":554},{"type":427,"tag":502,"props":2384,"children":2385},{"style":526},[2386],{"type":432,"value":529},{"type":427,"tag":502,"props":2388,"children":2389},{"style":586},[2390],{"type":432,"value":589},{"type":427,"tag":502,"props":2392,"children":2393},{"style":592},[2394],{"type":432,"value":595},{"type":427,"tag":502,"props":2396,"children":2397},{"style":514},[2398],{"type":432,"value":1019},{"type":427,"tag":502,"props":2400,"children":2401},{"class":504,"line":1118},[2402,2406,2410,2414,2418,2422,2426,2431,2435],{"type":427,"tag":502,"props":2403,"children":2404},{"style":1025},[2405],{"type":432,"value":1028},{"type":427,"tag":502,"props":2407,"children":2408},{"style":509},[2409],{"type":432,"value":861},{"type":427,"tag":502,"props":2411,"children":2412},{"style":514},[2413],{"type":432,"value":517},{"type":427,"tag":502,"props":2415,"children":2416},{"style":520},[2417],{"type":432,"value":752},{"type":427,"tag":502,"props":2419,"children":2420},{"style":1040},[2421],{"type":432,"value":529},{"type":427,"tag":502,"props":2423,"children":2424},{"style":1229},[2425],{"type":432,"value":1232},{"type":427,"tag":502,"props":2427,"children":2428},{"style":1235},[2429],{"type":432,"value":2430},"error",{"type":427,"tag":502,"props":2432,"children":2433},{"style":1229},[2434],{"type":432,"value":1232},{"type":427,"tag":502,"props":2436,"children":2437},{"style":1040},[2438],{"type":432,"value":540},{"type":427,"tag":502,"props":2440,"children":2441},{"class":504,"line":1127},[2442,2447,2451,2455,2460,2464,2468,2472,2476,2480,2484,2489,2493,2498,2503],{"type":427,"tag":502,"props":2443,"children":2444},{"style":514},[2445],{"type":432,"value":2446},"      .",{"type":427,"tag":502,"props":2448,"children":2449},{"style":520},[2450],{"type":432,"value":554},{"type":427,"tag":502,"props":2452,"children":2453},{"style":1040},[2454],{"type":432,"value":529},{"type":427,"tag":502,"props":2456,"children":2457},{"style":586},[2458],{"type":432,"value":2459},"_",{"type":427,"tag":502,"props":2461,"children":2462},{"style":592},[2463],{"type":432,"value":595},{"type":427,"tag":502,"props":2465,"children":2466},{"style":526},[2467],{"type":432,"value":600},{"type":427,"tag":502,"props":2469,"children":2470},{"style":514},[2471],{"type":432,"value":517},{"type":427,"tag":502,"props":2473,"children":2474},{"style":520},[2475],{"type":432,"value":609},{"type":427,"tag":502,"props":2477,"children":2478},{"style":1040},[2479],{"type":432,"value":529},{"type":427,"tag":502,"props":2481,"children":2482},{"style":1229},[2483],{"type":432,"value":1232},{"type":427,"tag":502,"props":2485,"children":2486},{"style":1235},[2487],{"type":432,"value":2488},"result is ",{"type":427,"tag":502,"props":2490,"children":2491},{"style":1229},[2492],{"type":432,"value":1232},{"type":427,"tag":502,"props":2494,"children":2495},{"style":617},[2496],{"type":432,"value":2497}," +",{"type":427,"tag":502,"props":2499,"children":2500},{"style":526},[2501],{"type":432,"value":2502}," data",{"type":427,"tag":502,"props":2504,"children":2505},{"style":1040},[2506],{"type":432,"value":630},{"type":427,"tag":502,"props":2508,"children":2509},{"class":504,"line":1141},[2510,2514,2518,2522,2526,2530,2534,2538,2542,2546,2550],{"type":427,"tag":502,"props":2511,"children":2512},{"style":514},[2513],{"type":432,"value":2446},{"type":427,"tag":502,"props":2515,"children":2516},{"style":520},[2517],{"type":432,"value":1998},{"type":427,"tag":502,"props":2519,"children":2520},{"style":1040},[2521],{"type":432,"value":529},{"type":427,"tag":502,"props":2523,"children":2524},{"style":586},[2525],{"type":432,"value":2007},{"type":427,"tag":502,"props":2527,"children":2528},{"style":592},[2529],{"type":432,"value":595},{"type":427,"tag":502,"props":2531,"children":2532},{"style":526},[2533],{"type":432,"value":600},{"type":427,"tag":502,"props":2535,"children":2536},{"style":514},[2537],{"type":432,"value":517},{"type":427,"tag":502,"props":2539,"children":2540},{"style":520},[2541],{"type":432,"value":609},{"type":427,"tag":502,"props":2543,"children":2544},{"style":1040},[2545],{"type":432,"value":529},{"type":427,"tag":502,"props":2547,"children":2548},{"style":526},[2549],{"type":432,"value":2007},{"type":427,"tag":502,"props":2551,"children":2552},{"style":1040},[2553],{"type":432,"value":630},{"type":427,"tag":502,"props":2555,"children":2556},{"class":504,"line":1193},[2557,2561,2565,2569,2573,2577,2581,2585,2589,2593,2597,2602,2606,2610,2614],{"type":427,"tag":502,"props":2558,"children":2559},{"style":514},[2560],{"type":432,"value":2446},{"type":427,"tag":502,"props":2562,"children":2563},{"style":520},[2564],{"type":432,"value":554},{"type":427,"tag":502,"props":2566,"children":2567},{"style":1040},[2568],{"type":432,"value":529},{"type":427,"tag":502,"props":2570,"children":2571},{"style":586},[2572],{"type":432,"value":2459},{"type":427,"tag":502,"props":2574,"children":2575},{"style":592},[2576],{"type":432,"value":595},{"type":427,"tag":502,"props":2578,"children":2579},{"style":526},[2580],{"type":432,"value":600},{"type":427,"tag":502,"props":2582,"children":2583},{"style":514},[2584],{"type":432,"value":517},{"type":427,"tag":502,"props":2586,"children":2587},{"style":520},[2588],{"type":432,"value":609},{"type":427,"tag":502,"props":2590,"children":2591},{"style":1040},[2592],{"type":432,"value":529},{"type":427,"tag":502,"props":2594,"children":2595},{"style":1229},[2596],{"type":432,"value":1232},{"type":427,"tag":502,"props":2598,"children":2599},{"style":1235},[2600],{"type":432,"value":2601},"result is not ",{"type":427,"tag":502,"props":2603,"children":2604},{"style":1229},[2605],{"type":432,"value":1232},{"type":427,"tag":502,"props":2607,"children":2608},{"style":617},[2609],{"type":432,"value":2497},{"type":427,"tag":502,"props":2611,"children":2612},{"style":526},[2613],{"type":432,"value":2502},{"type":427,"tag":502,"props":2615,"children":2616},{"style":1040},[2617],{"type":432,"value":630},{"type":427,"tag":502,"props":2619,"children":2620},{"class":504,"line":1202},[2621,2626],{"type":427,"tag":502,"props":2622,"children":2623},{"style":514},[2624],{"type":432,"value":2625},"  }",{"type":427,"tag":502,"props":2627,"children":2628},{"style":526},[2629],{"type":432,"value":540},{"type":427,"tag":502,"props":2631,"children":2632},{"class":504,"line":1258},[2633,2638,2642,2646,2650,2654,2658],{"type":427,"tag":502,"props":2634,"children":2635},{"style":526},[2636],{"type":432,"value":2637},"promise",{"type":427,"tag":502,"props":2639,"children":2640},{"style":514},[2641],{"type":432,"value":517},{"type":427,"tag":502,"props":2643,"children":2644},{"style":520},[2645],{"type":432,"value":554},{"type":427,"tag":502,"props":2647,"children":2648},{"style":526},[2649],{"type":432,"value":529},{"type":427,"tag":502,"props":2651,"children":2652},{"style":514},[2653],{"type":432,"value":715},{"type":427,"tag":502,"props":2655,"children":2656},{"style":592},[2657],{"type":432,"value":595},{"type":427,"tag":502,"props":2659,"children":2660},{"style":514},[2661],{"type":432,"value":1019},{"type":427,"tag":502,"props":2663,"children":2664},{"class":504,"line":1298},[2665,2669,2673,2677,2681,2685],{"type":427,"tag":502,"props":2666,"children":2667},{"style":526},[2668],{"type":432,"value":1689},{"type":427,"tag":502,"props":2670,"children":2671},{"style":514},[2672],{"type":432,"value":517},{"type":427,"tag":502,"props":2674,"children":2675},{"style":520},[2676],{"type":432,"value":609},{"type":427,"tag":502,"props":2678,"children":2679},{"style":1040},[2680],{"type":432,"value":529},{"type":427,"tag":502,"props":2682,"children":2683},{"style":526},[2684],{"type":432,"value":2637},{"type":427,"tag":502,"props":2686,"children":2687},{"style":1040},[2688],{"type":432,"value":540},{"type":427,"tag":502,"props":2690,"children":2691},{"class":504,"line":1712},[2692,2696],{"type":427,"tag":502,"props":2693,"children":2694},{"style":514},[2695],{"type":432,"value":1652},{"type":427,"tag":502,"props":2697,"children":2698},{"style":526},[2699],{"type":432,"value":540},{"type":427,"tag":2701,"props":2702,"children":2704},"h3",{"id":2703},"links",[2705],{"type":432,"value":2706},"Links",{"type":427,"tag":485,"props":2708,"children":2709},{},[2710],{"type":427,"tag":443,"props":2711,"children":2713},{"href":648,"rel":2712},[447],[2714],{"type":432,"value":2715},"TODO，Promise A+",{"type":427,"tag":428,"props":2717,"children":2719},{"id":2718},"bluebird",[2720],{"type":432,"value":2721},"Bluebird",{"type":427,"tag":478,"props":2723,"children":2725},{"id":2724},"mapseries-和-each-的区别",[2726],{"type":432,"value":2727},"mapSeries 和 each 的区别？",{"type":427,"tag":485,"props":2729,"children":2730},{},[2731],{"type":432,"value":2732},"mapSeries 类似 async 版本的 .map 方法，each 类似 map(asycn => {})；each 语义上用来执行有副作用的函数，函数的 return 对 each 的返回值无影响，each 将返回它接收到的值（fulfilled promise）。",{"type":427,"tag":485,"props":2734,"children":2735},{},[2736,2737,2744,2746,2753,2754],{"type":432,"value":645},{"type":427,"tag":443,"props":2738,"children":2741},{"href":2739,"rel":2740},"http://bluebirdjs.com/docs/api/promise.each.html",[447],[2742],{"type":432,"value":2743},"Promise.each",{"type":432,"value":2745},"、",{"type":427,"tag":443,"props":2747,"children":2750},{"href":2748,"rel":2749},"http://bluebirdjs.com/docs/api/promise.mapseries.html",[447],[2751],{"type":432,"value":2752},"Promise.mapSeries",{"type":432,"value":2745},{"type":427,"tag":443,"props":2755,"children":2758},{"href":2756,"rel":2757},"https://github.com/doodlewind/nativebird/blob/e55c3164dcaf33493d31f9eabbe50b3962219660/test/each.mjs",[447],[2759],{"type":432,"value":2760},"Promise.each testcase",{"type":427,"tag":478,"props":2762,"children":2764},{"id":2763},"try-有什么用",[2765],{"type":432,"value":2766},"try 有什么用？",{"type":427,"tag":485,"props":2768,"children":2769},{},[2770],{"type":432,"value":2771},"Promise.try 将操作包含在 try 内，可以返回与 Promise 一致的实现形式的 Promise，以及带来了更好的错误处理和可读性。",{"type":427,"tag":491,"props":2773,"children":2775},{"className":493,"code":2774,"language":495,"meta":421,"style":421},"Bluebird.try(() => {\n  // return Bluebird Promise,\n  // and throwed error will be catch\n  return database.getUser('lionad')\n}).then(lionad => {\n  // ...\n}).catch(error => {\n  // ...\n})\n",[2776],{"type":427,"tag":498,"props":2777,"children":2778},{"__ignoreMap":421},[2779,2811,2819,2827,2870,2905,2913,2948,2955],{"type":427,"tag":502,"props":2780,"children":2781},{"class":504,"line":505},[2782,2786,2790,2795,2799,2803,2807],{"type":427,"tag":502,"props":2783,"children":2784},{"style":526},[2785],{"type":432,"value":2721},{"type":427,"tag":502,"props":2787,"children":2788},{"style":514},[2789],{"type":432,"value":517},{"type":427,"tag":502,"props":2791,"children":2792},{"style":520},[2793],{"type":432,"value":2794},"try",{"type":427,"tag":502,"props":2796,"children":2797},{"style":526},[2798],{"type":432,"value":529},{"type":427,"tag":502,"props":2800,"children":2801},{"style":514},[2802],{"type":432,"value":715},{"type":427,"tag":502,"props":2804,"children":2805},{"style":592},[2806],{"type":432,"value":595},{"type":427,"tag":502,"props":2808,"children":2809},{"style":514},[2810],{"type":432,"value":1019},{"type":427,"tag":502,"props":2812,"children":2813},{"class":504,"line":543},[2814],{"type":427,"tag":502,"props":2815,"children":2816},{"style":637},[2817],{"type":432,"value":2818},"  // return Bluebird Promise,\n",{"type":427,"tag":502,"props":2820,"children":2821},{"class":504,"line":570},[2822],{"type":427,"tag":502,"props":2823,"children":2824},{"style":637},[2825],{"type":432,"value":2826},"  // and throwed error will be catch\n",{"type":427,"tag":502,"props":2828,"children":2829},{"class":504,"line":633},[2830,2835,2840,2844,2849,2853,2857,2862,2866],{"type":427,"tag":502,"props":2831,"children":2832},{"style":1025},[2833],{"type":432,"value":2834},"  return",{"type":427,"tag":502,"props":2836,"children":2837},{"style":526},[2838],{"type":432,"value":2839}," database",{"type":427,"tag":502,"props":2841,"children":2842},{"style":514},[2843],{"type":432,"value":517},{"type":427,"tag":502,"props":2845,"children":2846},{"style":520},[2847],{"type":432,"value":2848},"getUser",{"type":427,"tag":502,"props":2850,"children":2851},{"style":1040},[2852],{"type":432,"value":529},{"type":427,"tag":502,"props":2854,"children":2855},{"style":1229},[2856],{"type":432,"value":1232},{"type":427,"tag":502,"props":2858,"children":2859},{"style":1235},[2860],{"type":432,"value":2861},"lionad",{"type":427,"tag":502,"props":2863,"children":2864},{"style":1229},[2865],{"type":432,"value":1232},{"type":427,"tag":502,"props":2867,"children":2868},{"style":1040},[2869],{"type":432,"value":540},{"type":427,"tag":502,"props":2871,"children":2872},{"class":504,"line":1118},[2873,2877,2881,2885,2889,2893,2897,2901],{"type":427,"tag":502,"props":2874,"children":2875},{"style":514},[2876],{"type":432,"value":1652},{"type":427,"tag":502,"props":2878,"children":2879},{"style":526},[2880],{"type":432,"value":698},{"type":427,"tag":502,"props":2882,"children":2883},{"style":514},[2884],{"type":432,"value":517},{"type":427,"tag":502,"props":2886,"children":2887},{"style":520},[2888],{"type":432,"value":554},{"type":427,"tag":502,"props":2890,"children":2891},{"style":526},[2892],{"type":432,"value":529},{"type":427,"tag":502,"props":2894,"children":2895},{"style":586},[2896],{"type":432,"value":2861},{"type":427,"tag":502,"props":2898,"children":2899},{"style":592},[2900],{"type":432,"value":595},{"type":427,"tag":502,"props":2902,"children":2903},{"style":514},[2904],{"type":432,"value":1019},{"type":427,"tag":502,"props":2906,"children":2907},{"class":504,"line":1127},[2908],{"type":427,"tag":502,"props":2909,"children":2910},{"style":637},[2911],{"type":432,"value":2912},"  // ...\n",{"type":427,"tag":502,"props":2914,"children":2915},{"class":504,"line":1141},[2916,2920,2924,2928,2932,2936,2940,2944],{"type":427,"tag":502,"props":2917,"children":2918},{"style":514},[2919],{"type":432,"value":1652},{"type":427,"tag":502,"props":2921,"children":2922},{"style":526},[2923],{"type":432,"value":698},{"type":427,"tag":502,"props":2925,"children":2926},{"style":514},[2927],{"type":432,"value":517},{"type":427,"tag":502,"props":2929,"children":2930},{"style":520},[2931],{"type":432,"value":1998},{"type":427,"tag":502,"props":2933,"children":2934},{"style":526},[2935],{"type":432,"value":529},{"type":427,"tag":502,"props":2937,"children":2938},{"style":586},[2939],{"type":432,"value":2430},{"type":427,"tag":502,"props":2941,"children":2942},{"style":592},[2943],{"type":432,"value":595},{"type":427,"tag":502,"props":2945,"children":2946},{"style":514},[2947],{"type":432,"value":1019},{"type":427,"tag":502,"props":2949,"children":2950},{"class":504,"line":1193},[2951],{"type":427,"tag":502,"props":2952,"children":2953},{"style":637},[2954],{"type":432,"value":2912},{"type":427,"tag":502,"props":2956,"children":2957},{"class":504,"line":1202},[2958,2962],{"type":427,"tag":502,"props":2959,"children":2960},{"style":514},[2961],{"type":432,"value":1652},{"type":427,"tag":502,"props":2963,"children":2964},{"style":526},[2965],{"type":432,"value":540},{"type":427,"tag":485,"props":2967,"children":2968},{},[2969,2970],{"type":432,"value":645},{"type":427,"tag":443,"props":2971,"children":2974},{"href":2972,"rel":2973},"https://segmentfault.com/a/1190000018586947",[447],[2975],{"type":432,"value":2976},"什么是 Promise.try，为什么它这么重要？",{"type":427,"tag":478,"props":2978,"children":2980},{"id":2979},"为-map-的并发参数设计测试用例",[2981],{"type":432,"value":2982},"为 map 的并发参数设计测试用例？",{"type":427,"tag":485,"props":2984,"children":2985},{},[2986],{"type":432,"value":2987},"拿到 promise 的 resolve 函数，手动控制 promise fulfilled 的时机，并判断执行的队列和结果队列的长度。",{"type":427,"tag":491,"props":2989,"children":2991},{"className":493,"code":2990,"language":495,"meta":421,"style":421},"const tasks = []\nconst createTask = val => {\n  let resolve\n  const promise = new Promise(_resolve => resolve = _resolve)\n  tasks.push(() => resolve(val))\n  return promise\n}\nconst results = []\nPromise.all([\n  // Run Tasks\n  Promise.map([0,1,2], val => {\n    return createTask(val).then(res => results.push(res))\n  }, { concurrency: 2 }),\n  // Check the length of tasks and results\n  Promise.delay(100).then(() => {\n    tasks.map(fn => fn())\n    assert(tasks.length === 2)\n    assert(results.length === 0)\n  }).then(() => {\n    assert(tasks.length === 2)\n    assert(results.length === 2)\n  }).delay(100).then(() => {\n    tasks.map(fn => fn())\n    assert(tasks.length === 3)\n    assert(results.length === 2)\n  }).then(() => {\n    assert(tasks.length === 3)\n    assert(results.length === 3)\n  })\n])\n",[2992],{"type":427,"tag":498,"props":2993,"children":2994},{"__ignoreMap":421},[2995,3016,3046,3059,3113,3159,3171,3178,3198,3219,3227,3290,3357,3397,3405,3458,3497,3536,3572,3607,3642,3677,3732,3767,3802,3837,3872,3907,3942,3954],{"type":427,"tag":502,"props":2996,"children":2997},{"class":504,"line":505},[2998,3002,3007,3011],{"type":427,"tag":502,"props":2999,"children":3000},{"style":592},[3001],{"type":432,"value":1343},{"type":427,"tag":502,"props":3003,"children":3004},{"style":1346},[3005],{"type":432,"value":3006}," tasks",{"type":427,"tag":502,"props":3008,"children":3009},{"style":617},[3010],{"type":432,"value":1354},{"type":427,"tag":502,"props":3012,"children":3013},{"style":526},[3014],{"type":432,"value":3015}," []\n",{"type":427,"tag":502,"props":3017,"children":3018},{"class":504,"line":543},[3019,3023,3029,3033,3038,3042],{"type":427,"tag":502,"props":3020,"children":3021},{"style":592},[3022],{"type":432,"value":1343},{"type":427,"tag":502,"props":3024,"children":3026},{"style":3025},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3027],{"type":432,"value":3028}," createTask",{"type":427,"tag":502,"props":3030,"children":3031},{"style":617},[3032],{"type":432,"value":1354},{"type":427,"tag":502,"props":3034,"children":3035},{"style":586},[3036],{"type":432,"value":3037}," val",{"type":427,"tag":502,"props":3039,"children":3040},{"style":592},[3041],{"type":432,"value":595},{"type":427,"tag":502,"props":3043,"children":3044},{"style":514},[3045],{"type":432,"value":1019},{"type":427,"tag":502,"props":3047,"children":3048},{"class":504,"line":570},[3049,3054],{"type":427,"tag":502,"props":3050,"children":3051},{"style":592},[3052],{"type":432,"value":3053},"  let",{"type":427,"tag":502,"props":3055,"children":3056},{"style":526},[3057],{"type":432,"value":3058}," resolve\n",{"type":427,"tag":502,"props":3060,"children":3061},{"class":504,"line":633},[3062,3067,3071,3075,3079,3083,3087,3092,3096,3100,3104,3109],{"type":427,"tag":502,"props":3063,"children":3064},{"style":592},[3065],{"type":432,"value":3066},"  const",{"type":427,"tag":502,"props":3068,"children":3069},{"style":1346},[3070],{"type":432,"value":2328},{"type":427,"tag":502,"props":3072,"children":3073},{"style":617},[3074],{"type":432,"value":1354},{"type":427,"tag":502,"props":3076,"children":3077},{"style":617},[3078],{"type":432,"value":1033},{"type":427,"tag":502,"props":3080,"children":3081},{"style":509},[3082],{"type":432,"value":861},{"type":427,"tag":502,"props":3084,"children":3085},{"style":1040},[3086],{"type":432,"value":529},{"type":427,"tag":502,"props":3088,"children":3089},{"style":586},[3090],{"type":432,"value":3091},"_resolve",{"type":427,"tag":502,"props":3093,"children":3094},{"style":592},[3095],{"type":432,"value":595},{"type":427,"tag":502,"props":3097,"children":3098},{"style":526},[3099],{"type":432,"value":903},{"type":427,"tag":502,"props":3101,"children":3102},{"style":617},[3103],{"type":432,"value":1354},{"type":427,"tag":502,"props":3105,"children":3106},{"style":526},[3107],{"type":432,"value":3108}," _resolve",{"type":427,"tag":502,"props":3110,"children":3111},{"style":1040},[3112],{"type":432,"value":540},{"type":427,"tag":502,"props":3114,"children":3115},{"class":504,"line":1118},[3116,3121,3125,3130,3134,3138,3142,3146,3150,3155],{"type":427,"tag":502,"props":3117,"children":3118},{"style":526},[3119],{"type":432,"value":3120},"  tasks",{"type":427,"tag":502,"props":3122,"children":3123},{"style":514},[3124],{"type":432,"value":517},{"type":427,"tag":502,"props":3126,"children":3127},{"style":520},[3128],{"type":432,"value":3129},"push",{"type":427,"tag":502,"props":3131,"children":3132},{"style":1040},[3133],{"type":432,"value":529},{"type":427,"tag":502,"props":3135,"children":3136},{"style":514},[3137],{"type":432,"value":715},{"type":427,"tag":502,"props":3139,"children":3140},{"style":592},[3141],{"type":432,"value":595},{"type":427,"tag":502,"props":3143,"children":3144},{"style":520},[3145],{"type":432,"value":903},{"type":427,"tag":502,"props":3147,"children":3148},{"style":1040},[3149],{"type":432,"value":529},{"type":427,"tag":502,"props":3151,"children":3152},{"style":526},[3153],{"type":432,"value":3154},"val",{"type":427,"tag":502,"props":3156,"children":3157},{"style":1040},[3158],{"type":432,"value":630},{"type":427,"tag":502,"props":3160,"children":3161},{"class":504,"line":1127},[3162,3166],{"type":427,"tag":502,"props":3163,"children":3164},{"style":1025},[3165],{"type":432,"value":2834},{"type":427,"tag":502,"props":3167,"children":3168},{"style":526},[3169],{"type":432,"value":3170}," promise\n",{"type":427,"tag":502,"props":3172,"children":3173},{"class":504,"line":1141},[3174],{"type":427,"tag":502,"props":3175,"children":3176},{"style":514},[3177],{"type":432,"value":1124},{"type":427,"tag":502,"props":3179,"children":3180},{"class":504,"line":1193},[3181,3185,3190,3194],{"type":427,"tag":502,"props":3182,"children":3183},{"style":592},[3184],{"type":432,"value":1343},{"type":427,"tag":502,"props":3186,"children":3187},{"style":1346},[3188],{"type":432,"value":3189}," results",{"type":427,"tag":502,"props":3191,"children":3192},{"style":617},[3193],{"type":432,"value":1354},{"type":427,"tag":502,"props":3195,"children":3196},{"style":526},[3197],{"type":432,"value":3015},{"type":427,"tag":502,"props":3199,"children":3200},{"class":504,"line":1202},[3201,3205,3209,3214],{"type":427,"tag":502,"props":3202,"children":3203},{"style":509},[3204],{"type":432,"value":422},{"type":427,"tag":502,"props":3206,"children":3207},{"style":514},[3208],{"type":432,"value":517},{"type":427,"tag":502,"props":3210,"children":3211},{"style":520},[3212],{"type":432,"value":3213},"all",{"type":427,"tag":502,"props":3215,"children":3216},{"style":526},[3217],{"type":432,"value":3218},"([\n",{"type":427,"tag":502,"props":3220,"children":3221},{"class":504,"line":1258},[3222],{"type":427,"tag":502,"props":3223,"children":3224},{"style":637},[3225],{"type":432,"value":3226},"  // Run Tasks\n",{"type":427,"tag":502,"props":3228,"children":3229},{"class":504,"line":1298},[3230,3235,3239,3244,3248,3253,3257,3261,3265,3269,3274,3278,3282,3286],{"type":427,"tag":502,"props":3231,"children":3232},{"style":509},[3233],{"type":432,"value":3234},"  Promise",{"type":427,"tag":502,"props":3236,"children":3237},{"style":514},[3238],{"type":432,"value":517},{"type":427,"tag":502,"props":3240,"children":3241},{"style":520},[3242],{"type":432,"value":3243},"map",{"type":427,"tag":502,"props":3245,"children":3246},{"style":526},[3247],{"type":432,"value":1217},{"type":427,"tag":502,"props":3249,"children":3250},{"style":532},[3251],{"type":432,"value":3252},"0",{"type":427,"tag":502,"props":3254,"children":3255},{"style":514},[3256],{"type":432,"value":793},{"type":427,"tag":502,"props":3258,"children":3259},{"style":532},[3260],{"type":432,"value":535},{"type":427,"tag":502,"props":3262,"children":3263},{"style":514},[3264],{"type":432,"value":793},{"type":427,"tag":502,"props":3266,"children":3267},{"style":532},[3268],{"type":432,"value":563},{"type":427,"tag":502,"props":3270,"children":3271},{"style":526},[3272],{"type":432,"value":3273},"]",{"type":427,"tag":502,"props":3275,"children":3276},{"style":514},[3277],{"type":432,"value":793},{"type":427,"tag":502,"props":3279,"children":3280},{"style":586},[3281],{"type":432,"value":3037},{"type":427,"tag":502,"props":3283,"children":3284},{"style":592},[3285],{"type":432,"value":595},{"type":427,"tag":502,"props":3287,"children":3288},{"style":514},[3289],{"type":432,"value":1019},{"type":427,"tag":502,"props":3291,"children":3292},{"class":504,"line":1712},[3293,3297,3301,3305,3309,3313,3317,3321,3325,3329,3333,3337,3341,3345,3349,3353],{"type":427,"tag":502,"props":3294,"children":3295},{"style":1025},[3296],{"type":432,"value":1028},{"type":427,"tag":502,"props":3298,"children":3299},{"style":520},[3300],{"type":432,"value":3028},{"type":427,"tag":502,"props":3302,"children":3303},{"style":1040},[3304],{"type":432,"value":529},{"type":427,"tag":502,"props":3306,"children":3307},{"style":526},[3308],{"type":432,"value":3154},{"type":427,"tag":502,"props":3310,"children":3311},{"style":1040},[3312],{"type":432,"value":698},{"type":427,"tag":502,"props":3314,"children":3315},{"style":514},[3316],{"type":432,"value":517},{"type":427,"tag":502,"props":3318,"children":3319},{"style":520},[3320],{"type":432,"value":554},{"type":427,"tag":502,"props":3322,"children":3323},{"style":1040},[3324],{"type":432,"value":529},{"type":427,"tag":502,"props":3326,"children":3327},{"style":586},[3328],{"type":432,"value":1673},{"type":427,"tag":502,"props":3330,"children":3331},{"style":592},[3332],{"type":432,"value":595},{"type":427,"tag":502,"props":3334,"children":3335},{"style":526},[3336],{"type":432,"value":3189},{"type":427,"tag":502,"props":3338,"children":3339},{"style":514},[3340],{"type":432,"value":517},{"type":427,"tag":502,"props":3342,"children":3343},{"style":520},[3344],{"type":432,"value":3129},{"type":427,"tag":502,"props":3346,"children":3347},{"style":1040},[3348],{"type":432,"value":529},{"type":427,"tag":502,"props":3350,"children":3351},{"style":526},[3352],{"type":432,"value":1673},{"type":427,"tag":502,"props":3354,"children":3355},{"style":1040},[3356],{"type":432,"value":630},{"type":427,"tag":502,"props":3358,"children":3359},{"class":504,"line":1736},[3360,3364,3369,3374,3379,3383,3388,3392],{"type":427,"tag":502,"props":3361,"children":3362},{"style":514},[3363],{"type":432,"value":1570},{"type":427,"tag":502,"props":3365,"children":3366},{"style":514},[3367],{"type":432,"value":3368}," {",{"type":427,"tag":502,"props":3370,"children":3371},{"style":1040},[3372],{"type":432,"value":3373}," concurrency",{"type":427,"tag":502,"props":3375,"children":3376},{"style":514},[3377],{"type":432,"value":3378},":",{"type":427,"tag":502,"props":3380,"children":3381},{"style":532},[3382],{"type":432,"value":724},{"type":427,"tag":502,"props":3384,"children":3385},{"style":514},[3386],{"type":432,"value":3387}," }",{"type":427,"tag":502,"props":3389,"children":3390},{"style":526},[3391],{"type":432,"value":698},{"type":427,"tag":502,"props":3393,"children":3394},{"style":514},[3395],{"type":432,"value":3396},",\n",{"type":427,"tag":502,"props":3398,"children":3399},{"class":504,"line":1765},[3400],{"type":427,"tag":502,"props":3401,"children":3402},{"style":637},[3403],{"type":432,"value":3404},"  // Check the length of tasks and results\n",{"type":427,"tag":502,"props":3406,"children":3407},{"class":504,"line":1842},[3408,3412,3416,3421,3425,3430,3434,3438,3442,3446,3450,3454],{"type":427,"tag":502,"props":3409,"children":3410},{"style":509},[3411],{"type":432,"value":3234},{"type":427,"tag":502,"props":3413,"children":3414},{"style":514},[3415],{"type":432,"value":517},{"type":427,"tag":502,"props":3417,"children":3418},{"style":520},[3419],{"type":432,"value":3420},"delay",{"type":427,"tag":502,"props":3422,"children":3423},{"style":526},[3424],{"type":432,"value":529},{"type":427,"tag":502,"props":3426,"children":3427},{"style":532},[3428],{"type":432,"value":3429},"100",{"type":427,"tag":502,"props":3431,"children":3432},{"style":526},[3433],{"type":432,"value":698},{"type":427,"tag":502,"props":3435,"children":3436},{"style":514},[3437],{"type":432,"value":517},{"type":427,"tag":502,"props":3439,"children":3440},{"style":520},[3441],{"type":432,"value":554},{"type":427,"tag":502,"props":3443,"children":3444},{"style":526},[3445],{"type":432,"value":529},{"type":427,"tag":502,"props":3447,"children":3448},{"style":514},[3449],{"type":432,"value":715},{"type":427,"tag":502,"props":3451,"children":3452},{"style":592},[3453],{"type":432,"value":595},{"type":427,"tag":502,"props":3455,"children":3456},{"style":514},[3457],{"type":432,"value":1019},{"type":427,"tag":502,"props":3459,"children":3460},{"class":504,"line":1858},[3461,3466,3470,3474,3478,3483,3487,3492],{"type":427,"tag":502,"props":3462,"children":3463},{"style":526},[3464],{"type":432,"value":3465},"    tasks",{"type":427,"tag":502,"props":3467,"children":3468},{"style":514},[3469],{"type":432,"value":517},{"type":427,"tag":502,"props":3471,"children":3472},{"style":520},[3473],{"type":432,"value":3243},{"type":427,"tag":502,"props":3475,"children":3476},{"style":1040},[3477],{"type":432,"value":529},{"type":427,"tag":502,"props":3479,"children":3480},{"style":586},[3481],{"type":432,"value":3482},"fn",{"type":427,"tag":502,"props":3484,"children":3485},{"style":592},[3486],{"type":432,"value":595},{"type":427,"tag":502,"props":3488,"children":3489},{"style":520},[3490],{"type":432,"value":3491}," fn",{"type":427,"tag":502,"props":3493,"children":3494},{"style":1040},[3495],{"type":432,"value":3496},"())\n",{"type":427,"tag":502,"props":3498,"children":3499},{"class":504,"line":1895},[3500,3505,3509,3514,3518,3523,3528,3532],{"type":427,"tag":502,"props":3501,"children":3502},{"style":520},[3503],{"type":432,"value":3504},"    assert",{"type":427,"tag":502,"props":3506,"children":3507},{"style":1040},[3508],{"type":432,"value":529},{"type":427,"tag":502,"props":3510,"children":3511},{"style":526},[3512],{"type":432,"value":3513},"tasks",{"type":427,"tag":502,"props":3515,"children":3516},{"style":514},[3517],{"type":432,"value":517},{"type":427,"tag":502,"props":3519,"children":3520},{"style":1346},[3521],{"type":432,"value":3522},"length",{"type":427,"tag":502,"props":3524,"children":3525},{"style":617},[3526],{"type":432,"value":3527}," ===",{"type":427,"tag":502,"props":3529,"children":3530},{"style":532},[3531],{"type":432,"value":724},{"type":427,"tag":502,"props":3533,"children":3534},{"style":1040},[3535],{"type":432,"value":540},{"type":427,"tag":502,"props":3537,"children":3538},{"class":504,"line":1941},[3539,3543,3547,3552,3556,3560,3564,3568],{"type":427,"tag":502,"props":3540,"children":3541},{"style":520},[3542],{"type":432,"value":3504},{"type":427,"tag":502,"props":3544,"children":3545},{"style":1040},[3546],{"type":432,"value":529},{"type":427,"tag":502,"props":3548,"children":3549},{"style":526},[3550],{"type":432,"value":3551},"results",{"type":427,"tag":502,"props":3553,"children":3554},{"style":514},[3555],{"type":432,"value":517},{"type":427,"tag":502,"props":3557,"children":3558},{"style":1346},[3559],{"type":432,"value":3522},{"type":427,"tag":502,"props":3561,"children":3562},{"style":617},[3563],{"type":432,"value":3527},{"type":427,"tag":502,"props":3565,"children":3566},{"style":532},[3567],{"type":432,"value":1575},{"type":427,"tag":502,"props":3569,"children":3570},{"style":1040},[3571],{"type":432,"value":540},{"type":427,"tag":502,"props":3573,"children":3574},{"class":504,"line":1980},[3575,3579,3583,3587,3591,3595,3599,3603],{"type":427,"tag":502,"props":3576,"children":3577},{"style":514},[3578],{"type":432,"value":2625},{"type":427,"tag":502,"props":3580,"children":3581},{"style":526},[3582],{"type":432,"value":698},{"type":427,"tag":502,"props":3584,"children":3585},{"style":514},[3586],{"type":432,"value":517},{"type":427,"tag":502,"props":3588,"children":3589},{"style":520},[3590],{"type":432,"value":554},{"type":427,"tag":502,"props":3592,"children":3593},{"style":526},[3594],{"type":432,"value":529},{"type":427,"tag":502,"props":3596,"children":3597},{"style":514},[3598],{"type":432,"value":715},{"type":427,"tag":502,"props":3600,"children":3601},{"style":592},[3602],{"type":432,"value":595},{"type":427,"tag":502,"props":3604,"children":3605},{"style":514},[3606],{"type":432,"value":1019},{"type":427,"tag":502,"props":3608,"children":3609},{"class":504,"line":2018},[3610,3614,3618,3622,3626,3630,3634,3638],{"type":427,"tag":502,"props":3611,"children":3612},{"style":520},[3613],{"type":432,"value":3504},{"type":427,"tag":502,"props":3615,"children":3616},{"style":1040},[3617],{"type":432,"value":529},{"type":427,"tag":502,"props":3619,"children":3620},{"style":526},[3621],{"type":432,"value":3513},{"type":427,"tag":502,"props":3623,"children":3624},{"style":514},[3625],{"type":432,"value":517},{"type":427,"tag":502,"props":3627,"children":3628},{"style":1346},[3629],{"type":432,"value":3522},{"type":427,"tag":502,"props":3631,"children":3632},{"style":617},[3633],{"type":432,"value":3527},{"type":427,"tag":502,"props":3635,"children":3636},{"style":532},[3637],{"type":432,"value":724},{"type":427,"tag":502,"props":3639,"children":3640},{"style":1040},[3641],{"type":432,"value":540},{"type":427,"tag":502,"props":3643,"children":3644},{"class":504,"line":2046},[3645,3649,3653,3657,3661,3665,3669,3673],{"type":427,"tag":502,"props":3646,"children":3647},{"style":520},[3648],{"type":432,"value":3504},{"type":427,"tag":502,"props":3650,"children":3651},{"style":1040},[3652],{"type":432,"value":529},{"type":427,"tag":502,"props":3654,"children":3655},{"style":526},[3656],{"type":432,"value":3551},{"type":427,"tag":502,"props":3658,"children":3659},{"style":514},[3660],{"type":432,"value":517},{"type":427,"tag":502,"props":3662,"children":3663},{"style":1346},[3664],{"type":432,"value":3522},{"type":427,"tag":502,"props":3666,"children":3667},{"style":617},[3668],{"type":432,"value":3527},{"type":427,"tag":502,"props":3670,"children":3671},{"style":532},[3672],{"type":432,"value":724},{"type":427,"tag":502,"props":3674,"children":3675},{"style":1040},[3676],{"type":432,"value":540},{"type":427,"tag":502,"props":3678,"children":3679},{"class":504,"line":2083},[3680,3684,3688,3692,3696,3700,3704,3708,3712,3716,3720,3724,3728],{"type":427,"tag":502,"props":3681,"children":3682},{"style":514},[3683],{"type":432,"value":2625},{"type":427,"tag":502,"props":3685,"children":3686},{"style":526},[3687],{"type":432,"value":698},{"type":427,"tag":502,"props":3689,"children":3690},{"style":514},[3691],{"type":432,"value":517},{"type":427,"tag":502,"props":3693,"children":3694},{"style":520},[3695],{"type":432,"value":3420},{"type":427,"tag":502,"props":3697,"children":3698},{"style":526},[3699],{"type":432,"value":529},{"type":427,"tag":502,"props":3701,"children":3702},{"style":532},[3703],{"type":432,"value":3429},{"type":427,"tag":502,"props":3705,"children":3706},{"style":526},[3707],{"type":432,"value":698},{"type":427,"tag":502,"props":3709,"children":3710},{"style":514},[3711],{"type":432,"value":517},{"type":427,"tag":502,"props":3713,"children":3714},{"style":520},[3715],{"type":432,"value":554},{"type":427,"tag":502,"props":3717,"children":3718},{"style":526},[3719],{"type":432,"value":529},{"type":427,"tag":502,"props":3721,"children":3722},{"style":514},[3723],{"type":432,"value":715},{"type":427,"tag":502,"props":3725,"children":3726},{"style":592},[3727],{"type":432,"value":595},{"type":427,"tag":502,"props":3729,"children":3730},{"style":514},[3731],{"type":432,"value":1019},{"type":427,"tag":502,"props":3733,"children":3734},{"class":504,"line":2119},[3735,3739,3743,3747,3751,3755,3759,3763],{"type":427,"tag":502,"props":3736,"children":3737},{"style":526},[3738],{"type":432,"value":3465},{"type":427,"tag":502,"props":3740,"children":3741},{"style":514},[3742],{"type":432,"value":517},{"type":427,"tag":502,"props":3744,"children":3745},{"style":520},[3746],{"type":432,"value":3243},{"type":427,"tag":502,"props":3748,"children":3749},{"style":1040},[3750],{"type":432,"value":529},{"type":427,"tag":502,"props":3752,"children":3753},{"style":586},[3754],{"type":432,"value":3482},{"type":427,"tag":502,"props":3756,"children":3757},{"style":592},[3758],{"type":432,"value":595},{"type":427,"tag":502,"props":3760,"children":3761},{"style":520},[3762],{"type":432,"value":3491},{"type":427,"tag":502,"props":3764,"children":3765},{"style":1040},[3766],{"type":432,"value":3496},{"type":427,"tag":502,"props":3768,"children":3769},{"class":504,"line":2147},[3770,3774,3778,3782,3786,3790,3794,3798],{"type":427,"tag":502,"props":3771,"children":3772},{"style":520},[3773],{"type":432,"value":3504},{"type":427,"tag":502,"props":3775,"children":3776},{"style":1040},[3777],{"type":432,"value":529},{"type":427,"tag":502,"props":3779,"children":3780},{"style":526},[3781],{"type":432,"value":3513},{"type":427,"tag":502,"props":3783,"children":3784},{"style":514},[3785],{"type":432,"value":517},{"type":427,"tag":502,"props":3787,"children":3788},{"style":1346},[3789],{"type":432,"value":3522},{"type":427,"tag":502,"props":3791,"children":3792},{"style":617},[3793],{"type":432,"value":3527},{"type":427,"tag":502,"props":3795,"children":3796},{"style":532},[3797],{"type":432,"value":807},{"type":427,"tag":502,"props":3799,"children":3800},{"style":1040},[3801],{"type":432,"value":540},{"type":427,"tag":502,"props":3803,"children":3804},{"class":504,"line":2183},[3805,3809,3813,3817,3821,3825,3829,3833],{"type":427,"tag":502,"props":3806,"children":3807},{"style":520},[3808],{"type":432,"value":3504},{"type":427,"tag":502,"props":3810,"children":3811},{"style":1040},[3812],{"type":432,"value":529},{"type":427,"tag":502,"props":3814,"children":3815},{"style":526},[3816],{"type":432,"value":3551},{"type":427,"tag":502,"props":3818,"children":3819},{"style":514},[3820],{"type":432,"value":517},{"type":427,"tag":502,"props":3822,"children":3823},{"style":1346},[3824],{"type":432,"value":3522},{"type":427,"tag":502,"props":3826,"children":3827},{"style":617},[3828],{"type":432,"value":3527},{"type":427,"tag":502,"props":3830,"children":3831},{"style":532},[3832],{"type":432,"value":724},{"type":427,"tag":502,"props":3834,"children":3835},{"style":1040},[3836],{"type":432,"value":540},{"type":427,"tag":502,"props":3838,"children":3839},{"class":504,"line":2211},[3840,3844,3848,3852,3856,3860,3864,3868],{"type":427,"tag":502,"props":3841,"children":3842},{"style":514},[3843],{"type":432,"value":2625},{"type":427,"tag":502,"props":3845,"children":3846},{"style":526},[3847],{"type":432,"value":698},{"type":427,"tag":502,"props":3849,"children":3850},{"style":514},[3851],{"type":432,"value":517},{"type":427,"tag":502,"props":3853,"children":3854},{"style":520},[3855],{"type":432,"value":554},{"type":427,"tag":502,"props":3857,"children":3858},{"style":526},[3859],{"type":432,"value":529},{"type":427,"tag":502,"props":3861,"children":3862},{"style":514},[3863],{"type":432,"value":715},{"type":427,"tag":502,"props":3865,"children":3866},{"style":592},[3867],{"type":432,"value":595},{"type":427,"tag":502,"props":3869,"children":3870},{"style":514},[3871],{"type":432,"value":1019},{"type":427,"tag":502,"props":3873,"children":3874},{"class":504,"line":2247},[3875,3879,3883,3887,3891,3895,3899,3903],{"type":427,"tag":502,"props":3876,"children":3877},{"style":520},[3878],{"type":432,"value":3504},{"type":427,"tag":502,"props":3880,"children":3881},{"style":1040},[3882],{"type":432,"value":529},{"type":427,"tag":502,"props":3884,"children":3885},{"style":526},[3886],{"type":432,"value":3513},{"type":427,"tag":502,"props":3888,"children":3889},{"style":514},[3890],{"type":432,"value":517},{"type":427,"tag":502,"props":3892,"children":3893},{"style":1346},[3894],{"type":432,"value":3522},{"type":427,"tag":502,"props":3896,"children":3897},{"style":617},[3898],{"type":432,"value":3527},{"type":427,"tag":502,"props":3900,"children":3901},{"style":532},[3902],{"type":432,"value":807},{"type":427,"tag":502,"props":3904,"children":3905},{"style":1040},[3906],{"type":432,"value":540},{"type":427,"tag":502,"props":3908,"children":3909},{"class":504,"line":2292},[3910,3914,3918,3922,3926,3930,3934,3938],{"type":427,"tag":502,"props":3911,"children":3912},{"style":520},[3913],{"type":432,"value":3504},{"type":427,"tag":502,"props":3915,"children":3916},{"style":1040},[3917],{"type":432,"value":529},{"type":427,"tag":502,"props":3919,"children":3920},{"style":526},[3921],{"type":432,"value":3551},{"type":427,"tag":502,"props":3923,"children":3924},{"style":514},[3925],{"type":432,"value":517},{"type":427,"tag":502,"props":3927,"children":3928},{"style":1346},[3929],{"type":432,"value":3522},{"type":427,"tag":502,"props":3931,"children":3932},{"style":617},[3933],{"type":432,"value":3527},{"type":427,"tag":502,"props":3935,"children":3936},{"style":532},[3937],{"type":432,"value":807},{"type":427,"tag":502,"props":3939,"children":3940},{"style":1040},[3941],{"type":432,"value":540},{"type":427,"tag":502,"props":3943,"children":3945},{"class":504,"line":3944},29,[3946,3950],{"type":427,"tag":502,"props":3947,"children":3948},{"style":514},[3949],{"type":432,"value":2625},{"type":427,"tag":502,"props":3951,"children":3952},{"style":526},[3953],{"type":432,"value":540},{"type":427,"tag":502,"props":3955,"children":3957},{"class":504,"line":3956},30,[3958],{"type":427,"tag":502,"props":3959,"children":3960},{"style":526},[3961],{"type":432,"value":3962},"])\n",{"type":427,"tag":485,"props":3964,"children":3965},{},[3966,3967],{"type":432,"value":645},{"type":427,"tag":443,"props":3968,"children":3971},{"href":3969,"rel":3970},"https://github.com/doodlewind/nativebird/blob/e55c3164dcaf33493d31f9eabbe50b3962219660/test/map.mjs#L247",[447],[3972],{"type":432,"value":3973},"Promise.map testcase",{"type":427,"tag":3975,"props":3976,"children":3977},"style",{},[3978],{"type":432,"value":3979},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":421,"searchDepth":543,"depth":543,"links":3981},[3982,3983,3986],{"id":412,"depth":543,"text":433},{"id":473,"depth":543,"text":476,"children":3984},[3985],{"id":2703,"depth":570,"text":2706},{"id":2718,"depth":543,"text":2721},"markdown","content:6.maps:_frontend:javascript:promise.md","content","6.maps/_frontend/javascript/promise.md","6.maps/_frontend/javascript/promise","md",[3994,3997],{"_path":3995,"title":3996,"description":421},"/maps/_frontend/javascript/javascript-mind-map","JavaScript Mind Map",{"_path":3998,"title":3999,"description":421},"/maps/_frontend/w3c","W3C Standards",1738321919369]