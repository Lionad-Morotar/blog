[{"data":1,"prerenderedAt":3994},["ShallowReactive",2],{"navigation":3,"/maps/_frontend/javascript/promise":410,"/maps/_frontend/javascript/promise-surround":3987},[4,32,83,102,129,135,141,147,393,399,405],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96,99],{"title":88,"_path":89},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":91,"_path":92},"🌐 AnySort","/tools/anysort",{"title":94,"_path":95},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":97,"_path":98},"👓 Crapto","/tools/crypto-inline",{"title":100,"_path":101},"🖨️ any-to-base64","/tools/any-to-base64",{"title":103,"_path":104,"children":105},"吉他剧场 / Music","/music",[106,108,111,114,117,120,123,126],{"title":107,"_path":104},"🎸 FingerStyle！",{"title":109,"_path":110},"🌬️ 等待的风","/music/wind",{"title":112,"_path":113},"💕 约定的海洋","/music/ocean",{"title":115,"_path":116},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":118,"_path":119},"🌏 残酷天使的行动纲领","/music/eva",{"title":121,"_path":122},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":124,"_path":125},"🍷 Wu Wei","/music/wu-wei",{"title":127,"_path":128},"🌅 无题","/music/untitled",{"title":130,"_path":131,"children":132},"画点什么 / Paint","/paint",[133],{"title":134,"_path":131},"🚧 正在施工",{"title":136,"_path":137,"children":138},"读书笔记 / Notes","/books",[139],{"title":140,"_path":137},"📕 读书笔记",{"title":142,"_path":143,"children":144},"知识地图 / Maps","/maps",[145],{"title":146,"_path":143},"🏁 知识地图",{"title":148,"_path":149,"children":150},"零散的笔记 / Gists","/gists",[151,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390],{"title":152,"_path":149},"🧊 Gists",{"title":154,"_path":155},"网站的可访问性","/gists/accessibility",{"title":157,"_path":158},"Bit","/gists/bit",{"title":160,"_path":161},"图片模糊","/gists/blur",{"title":163,"_path":164},"渲染相关笔记","/gists/c4d",{"title":166,"_path":167},"CDN 问题记录","/gists/cdn",{"title":169,"_path":170},"消毒剂","/gists/cleaner",{"title":172,"_path":173},"Windows Command","/gists/cmd",{"title":175,"_path":176},"Command","/gists/command",{"title":178,"_path":179},"复杂科学","/gists/complexity-science",{"title":181,"_path":182},"GitHub Copilot","/gists/copilot",{"title":184,"_path":185},"宇宙","/gists/cosmos",{"title":187,"_path":188},"C++","/gists/cpp",{"title":190,"_path":191},"Data Structure","/gists/data-structure",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"设计模式","/gists/design-patterns",{"title":199,"_path":200},"Developer Experience","/gists/developer-experience",{"title":202,"_path":203},"Device Metrics","/gists/device-metrix",{"title":205,"_path":206},"数字化转型","/gists/digital-transformation",{"title":208,"_path":209},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":211,"_path":212},"正则表达式","/gists/eegex",{"title":214,"_path":215},"Emoji","/gists/emoji",{"title":217,"_path":218},"工程","/gists/engineering",{"title":220,"_path":221},"熵","/gists/entropy",{"title":223,"_path":224},"Environment","/gists/environment",{"title":226,"_path":227},"Erlang","/gists/erlang",{"title":229,"_path":230},"逃离塔克夫","/gists/escape-from-tarkov",{"title":232,"_path":233},"ESNext (ES6-ES11)","/gists/esnext",{"title":235,"_path":236},"Eval！","/gists/eval",{"title":238,"_path":239},"Flutter","/gists/flutter",{"title":241,"_path":242},"字体","/gists/font",{"title":244,"_path":245},"JS 函数式编程","/gists/functional",{"title":247,"_path":248},"游戏化","/gists/gamification",{"title":250,"_path":251},"Google C++ Standard","/gists/google-cpp-standard",{"title":253,"_path":254},"双向链接完全体","/gists/graph",{"title":256,"_path":257},"Hardwares","/gists/hardwares",{"title":259,"_path":260},"哈希冲突","/gists/hash-collision",{"title":262,"_path":263},"信息设计","/gists/information-design",{"title":265,"_path":266},"InstantPage","/gists/instant.page",{"title":268,"_path":269},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":271,"_path":272},"KVStore","/gists/key-value-db",{"title":274,"_path":275},"Kubernetes","/gists/kubernetes",{"title":277,"_path":278},"Makefile","/gists/makefile",{"title":280,"_path":281},"Markdown Inline Style","/gists/markdown-nice",{"title":283,"_path":284},"小程序","/gists/miniapp",{"title":286,"_path":287},"减小页面快照体积","/gists/minify-html",{"title":289,"_path":290},"mklink","/gists/mklink",{"title":292,"_path":293},"Mock","/gists/mock",{"title":295,"_path":296},"多人协作系统","/gists/multiplayer",{"title":298,"_path":299},"多端应用","/gists/multy-end-app",{"title":301,"_path":302},"神经科学","/gists/neuroscience",{"title":304,"_path":305},"OO","/gists/oo",{"title":307,"_path":308},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":310,"_path":311},"PInvoke","/gists/pinvoke",{"title":313,"_path":314},"像素","/gists/pixel",{"title":316,"_path":317},"PowerShell","/gists/powershell",{"title":319,"_path":320},"量子","/gists/quantum",{"title":322,"_path":323},"保持好奇心","/gists/questions",{"title":325,"_path":326},"React Native","/gists/react-native",{"title":328,"_path":329},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":331,"_path":332},"SEO","/gists/seo",{"title":334,"_path":335},"Shader","/gists/shader",{"title":337,"_path":338},"Shape Up","/gists/shape-up",{"title":340,"_path":341},"睡觉","/gists/sleep",{"title":343,"_path":344},"记录奇怪的问题","/gists/solved",{"title":346,"_path":347},"States","/gists/states",{"title":349,"_path":350},"Storage","/gists/storage",{"title":352,"_path":353},"音视频流处理","/gists/stream-cli",{"title":355,"_path":356},"Symbol","/gists/symbol",{"title":358,"_path":359},"系统论","/gists/systems-theory",{"title":361,"_path":362},"Taro","/gists/taro",{"title":364,"_path":365},"任务切片","/gists/task-slice",{"title":367,"_path":368},"技术偏好","/gists/tech-dudge",{"title":370,"_path":371},"Untitled","/gists/untitled",{"title":373,"_path":374},"可变字体","/gists/variable-font",{"title":376,"_path":377},"视觉错觉","/gists/visual-illusion",{"title":379,"_path":380},"SS(SSR)","/gists/vpn",{"title":382,"_path":383},"VS Code 插件开发","/gists/vscode-plugin",{"title":385,"_path":386},"Web Components","/gists/web-components",{"title":388,"_path":389},"Windows","/gists/windows",{"title":391,"_path":392},"查缺补漏","/gists/wrong",{"title":394,"_path":395,"children":396},"代码笔记 / Gists","/source-code",[397],{"title":398,"_path":395},"🚄 代码笔记",{"title":400,"_path":401,"children":402},"我 / Abount","/hire",[403],{"title":404,"_path":401},"📬 技术简历",{"title":406,"_path":407,"children":408},"todo","/todo",[409],{"title":406,"_path":407},{"_path":411,"_dir":412,"_draft":413,"_partial":414,"_locale":415,"title":416,"description":415,"body":417,"_type":3981,"_id":3982,"_source":3983,"_file":3984,"_stem":3985,"_extension":3986},"/maps/_frontend/javascript/promise","javascript",false,true,"","Promise",{"type":418,"children":419,"toc":3974},"root",[420,428,465,471,478,484,635,647,653,658,814,825,831,836,959,970,976,1304,1309,1315,2296,2694,2701,2710,2716,2722,2727,2755,2761,2766,2960,2971,2977,2982,3957,3968],{"type":421,"tag":422,"props":423,"children":424},"element","h2",{"id":406},[425],{"type":426,"value":427},"text","TODO",{"type":421,"tag":429,"props":430,"children":431},"ul",{},[432,445,455],{"type":421,"tag":433,"props":434,"children":435},"li",{},[436],{"type":421,"tag":437,"props":438,"children":442},"a",{"href":439,"rel":440},"https://stackoverflow.com/questions/30564053/how-can-i-synchronously-determine-a-javascript-promises-state/52790734#52790734",[441],"nofollow",[443],{"type":426,"value":444},"How can I synchronously determine a JavaScript Promise's state?",{"type":421,"tag":433,"props":446,"children":447},{},[448],{"type":421,"tag":437,"props":449,"children":452},{"href":450,"rel":451},"https://juejin.cn/post/6999804617320038408",[441],[453],{"type":426,"value":454},"Promise 被玩出 48 种“花样”，深度解析10个常用模块",{"type":421,"tag":433,"props":456,"children":457},{},[458],{"type":421,"tag":437,"props":459,"children":462},{"href":460,"rel":461},"https://juejin.cn/post/6844903533393772557#comment",[441],[463],{"type":426,"value":464},"[译] 如何取消你的 Promise？",{"type":421,"tag":422,"props":466,"children":468},{"id":467},"promise-a",[469],{"type":426,"value":470},"Promise A+",{"type":421,"tag":472,"props":473,"children":475},"h4",{"id":474},"promiseresolve1then2thenlog",[476],{"type":426,"value":477},"Promise.resolve(1).then(2).then(log)",{"type":421,"tag":479,"props":480,"children":481},"p",{},[482],{"type":426,"value":483},"then 方法中如果不是函数，那么会被忽略。",{"type":421,"tag":485,"props":486,"children":490},"pre",{"className":487,"code":488,"language":489,"meta":415,"style":415},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","Promise.resolve(1)\n  .then(2)\n  .then(data => console.log(data + 1))\n  // -> 2\n","js",[491],{"type":421,"tag":492,"props":493,"children":494},"code",{"__ignoreMap":415},[495,535,562,625],{"type":421,"tag":496,"props":497,"children":500},"span",{"class":498,"line":499},"line",1,[501,506,512,518,524,530],{"type":421,"tag":496,"props":502,"children":504},{"style":503},"--shiki-light:#E2931D;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[505],{"type":426,"value":416},{"type":421,"tag":496,"props":507,"children":509},{"style":508},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[510],{"type":426,"value":511},".",{"type":421,"tag":496,"props":513,"children":515},{"style":514},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[516],{"type":426,"value":517},"resolve",{"type":421,"tag":496,"props":519,"children":521},{"style":520},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[522],{"type":426,"value":523},"(",{"type":421,"tag":496,"props":525,"children":527},{"style":526},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[528],{"type":426,"value":529},"1",{"type":421,"tag":496,"props":531,"children":532},{"style":520},[533],{"type":426,"value":534},")\n",{"type":421,"tag":496,"props":536,"children":538},{"class":498,"line":537},2,[539,544,549,553,558],{"type":421,"tag":496,"props":540,"children":541},{"style":508},[542],{"type":426,"value":543},"  .",{"type":421,"tag":496,"props":545,"children":546},{"style":514},[547],{"type":426,"value":548},"then",{"type":421,"tag":496,"props":550,"children":551},{"style":520},[552],{"type":426,"value":523},{"type":421,"tag":496,"props":554,"children":555},{"style":526},[556],{"type":426,"value":557},"2",{"type":421,"tag":496,"props":559,"children":560},{"style":520},[561],{"type":426,"value":534},{"type":421,"tag":496,"props":563,"children":565},{"class":498,"line":564},3,[566,570,574,578,584,590,595,599,604,609,615,620],{"type":421,"tag":496,"props":567,"children":568},{"style":508},[569],{"type":426,"value":543},{"type":421,"tag":496,"props":571,"children":572},{"style":514},[573],{"type":426,"value":548},{"type":421,"tag":496,"props":575,"children":576},{"style":520},[577],{"type":426,"value":523},{"type":421,"tag":496,"props":579,"children":581},{"style":580},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[582],{"type":426,"value":583},"data",{"type":421,"tag":496,"props":585,"children":587},{"style":586},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[588],{"type":426,"value":589}," =>",{"type":421,"tag":496,"props":591,"children":592},{"style":520},[593],{"type":426,"value":594}," console",{"type":421,"tag":496,"props":596,"children":597},{"style":508},[598],{"type":426,"value":511},{"type":421,"tag":496,"props":600,"children":601},{"style":514},[602],{"type":426,"value":603},"log",{"type":421,"tag":496,"props":605,"children":606},{"style":520},[607],{"type":426,"value":608},"(data ",{"type":421,"tag":496,"props":610,"children":612},{"style":611},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[613],{"type":426,"value":614},"+",{"type":421,"tag":496,"props":616,"children":617},{"style":526},[618],{"type":426,"value":619}," 1",{"type":421,"tag":496,"props":621,"children":622},{"style":520},[623],{"type":426,"value":624},"))\n",{"type":421,"tag":496,"props":626,"children":628},{"class":498,"line":627},4,[629],{"type":421,"tag":496,"props":630,"children":632},{"style":631},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[633],{"type":426,"value":634},"  // -> 2\n",{"type":421,"tag":479,"props":636,"children":637},{},[638,640],{"type":426,"value":639},"见：",{"type":421,"tag":437,"props":641,"children":644},{"href":642,"rel":643},"https://promisesaplus.com/#point-23",[441],[645],{"type":426,"value":646},"Promise/A+ #point-23",{"type":421,"tag":472,"props":648,"children":650},{"id":649},"promiseresolve1then-2",[651],{"type":426,"value":652},"Promise.resolve(1).then(() => 2)",{"type":421,"tag":479,"props":654,"children":655},{},[656],{"type":426,"value":657},"Promise.then 以及 catch 和 finally 方法都返回一个新 Promise。如果 then 方法中 return 了值 x，x 会进入 Promise.then 的 PRP 过程（Promise Resolution Procedure），可比作：Promise.then.resolve(x)。",{"type":421,"tag":485,"props":659,"children":661},{"className":487,"code":660,"language":489,"meta":415,"style":415},"Promise.resolve(1).then(() => 2)\n// -> Promise {\u003Cfulfilled>: 2}\nPromise.reject(1).then(() => 2, () => 3)\n// -> Promise {\u003Cfulfilled>: 3}\n",[662],{"type":421,"tag":492,"props":663,"children":664},{"__ignoreMap":415},[665,723,731,806],{"type":421,"tag":496,"props":666,"children":667},{"class":498,"line":499},[668,672,676,680,684,688,693,697,701,705,710,714,719],{"type":421,"tag":496,"props":669,"children":670},{"style":503},[671],{"type":426,"value":416},{"type":421,"tag":496,"props":673,"children":674},{"style":508},[675],{"type":426,"value":511},{"type":421,"tag":496,"props":677,"children":678},{"style":514},[679],{"type":426,"value":517},{"type":421,"tag":496,"props":681,"children":682},{"style":520},[683],{"type":426,"value":523},{"type":421,"tag":496,"props":685,"children":686},{"style":526},[687],{"type":426,"value":529},{"type":421,"tag":496,"props":689,"children":690},{"style":520},[691],{"type":426,"value":692},")",{"type":421,"tag":496,"props":694,"children":695},{"style":508},[696],{"type":426,"value":511},{"type":421,"tag":496,"props":698,"children":699},{"style":514},[700],{"type":426,"value":548},{"type":421,"tag":496,"props":702,"children":703},{"style":520},[704],{"type":426,"value":523},{"type":421,"tag":496,"props":706,"children":707},{"style":508},[708],{"type":426,"value":709},"()",{"type":421,"tag":496,"props":711,"children":712},{"style":586},[713],{"type":426,"value":589},{"type":421,"tag":496,"props":715,"children":716},{"style":526},[717],{"type":426,"value":718}," 2",{"type":421,"tag":496,"props":720,"children":721},{"style":520},[722],{"type":426,"value":534},{"type":421,"tag":496,"props":724,"children":725},{"class":498,"line":537},[726],{"type":421,"tag":496,"props":727,"children":728},{"style":631},[729],{"type":426,"value":730},"// -> Promise {\u003Cfulfilled>: 2}\n",{"type":421,"tag":496,"props":732,"children":733},{"class":498,"line":564},[734,738,742,747,751,755,759,763,767,771,775,779,783,788,793,797,802],{"type":421,"tag":496,"props":735,"children":736},{"style":503},[737],{"type":426,"value":416},{"type":421,"tag":496,"props":739,"children":740},{"style":508},[741],{"type":426,"value":511},{"type":421,"tag":496,"props":743,"children":744},{"style":514},[745],{"type":426,"value":746},"reject",{"type":421,"tag":496,"props":748,"children":749},{"style":520},[750],{"type":426,"value":523},{"type":421,"tag":496,"props":752,"children":753},{"style":526},[754],{"type":426,"value":529},{"type":421,"tag":496,"props":756,"children":757},{"style":520},[758],{"type":426,"value":692},{"type":421,"tag":496,"props":760,"children":761},{"style":508},[762],{"type":426,"value":511},{"type":421,"tag":496,"props":764,"children":765},{"style":514},[766],{"type":426,"value":548},{"type":421,"tag":496,"props":768,"children":769},{"style":520},[770],{"type":426,"value":523},{"type":421,"tag":496,"props":772,"children":773},{"style":508},[774],{"type":426,"value":709},{"type":421,"tag":496,"props":776,"children":777},{"style":586},[778],{"type":426,"value":589},{"type":421,"tag":496,"props":780,"children":781},{"style":526},[782],{"type":426,"value":718},{"type":421,"tag":496,"props":784,"children":785},{"style":508},[786],{"type":426,"value":787},",",{"type":421,"tag":496,"props":789,"children":790},{"style":508},[791],{"type":426,"value":792}," ()",{"type":421,"tag":496,"props":794,"children":795},{"style":586},[796],{"type":426,"value":589},{"type":421,"tag":496,"props":798,"children":799},{"style":526},[800],{"type":426,"value":801}," 3",{"type":421,"tag":496,"props":803,"children":804},{"style":520},[805],{"type":426,"value":534},{"type":421,"tag":496,"props":807,"children":808},{"class":498,"line":627},[809],{"type":421,"tag":496,"props":810,"children":811},{"style":631},[812],{"type":426,"value":813},"// -> Promise {\u003Cfulfilled>: 3}\n",{"type":421,"tag":479,"props":815,"children":816},{},[817,818],{"type":426,"value":639},{"type":421,"tag":437,"props":819,"children":822},{"href":820,"rel":821},"https://promisesaplus.com/#point-41",[441],[823],{"type":426,"value":824},"Promise/A+ #point-41",{"type":421,"tag":472,"props":826,"children":828},{"id":827},"多次执行-resolve-会发生什么",[829],{"type":426,"value":830},"多次执行 resolve 会发生什么？",{"type":421,"tag":479,"props":832,"children":833},{},[834],{"type":426,"value":835},"多次执行 resolve 只有第一次有效。已经确定状态的 Promise 不能再改变状态，所以再次执行 resolve 或 reject 都不会发生任何事（为什么不抛错，真是奇怪的设计）。",{"type":421,"tag":485,"props":837,"children":839},{"className":487,"code":838,"language":489,"meta":415,"style":415},"new Promise(resolve => (resolve(1), resolve(2)))\n  .then(data => console.log(data))\n  // -> 1\n",[840],{"type":421,"tag":492,"props":841,"children":842},{"__ignoreMap":415},[843,911,951],{"type":421,"tag":496,"props":844,"children":845},{"class":498,"line":499},[846,851,856,860,864,868,873,877,881,885,889,893,898,902,906],{"type":421,"tag":496,"props":847,"children":848},{"style":611},[849],{"type":426,"value":850},"new",{"type":421,"tag":496,"props":852,"children":853},{"style":503},[854],{"type":426,"value":855}," Promise",{"type":421,"tag":496,"props":857,"children":858},{"style":520},[859],{"type":426,"value":523},{"type":421,"tag":496,"props":861,"children":862},{"style":580},[863],{"type":426,"value":517},{"type":421,"tag":496,"props":865,"children":866},{"style":586},[867],{"type":426,"value":589},{"type":421,"tag":496,"props":869,"children":870},{"style":520},[871],{"type":426,"value":872}," (",{"type":421,"tag":496,"props":874,"children":875},{"style":514},[876],{"type":426,"value":517},{"type":421,"tag":496,"props":878,"children":879},{"style":520},[880],{"type":426,"value":523},{"type":421,"tag":496,"props":882,"children":883},{"style":526},[884],{"type":426,"value":529},{"type":421,"tag":496,"props":886,"children":887},{"style":520},[888],{"type":426,"value":692},{"type":421,"tag":496,"props":890,"children":891},{"style":508},[892],{"type":426,"value":787},{"type":421,"tag":496,"props":894,"children":895},{"style":514},[896],{"type":426,"value":897}," resolve",{"type":421,"tag":496,"props":899,"children":900},{"style":520},[901],{"type":426,"value":523},{"type":421,"tag":496,"props":903,"children":904},{"style":526},[905],{"type":426,"value":557},{"type":421,"tag":496,"props":907,"children":908},{"style":520},[909],{"type":426,"value":910},")))\n",{"type":421,"tag":496,"props":912,"children":913},{"class":498,"line":537},[914,918,922,926,930,934,938,942,946],{"type":421,"tag":496,"props":915,"children":916},{"style":508},[917],{"type":426,"value":543},{"type":421,"tag":496,"props":919,"children":920},{"style":514},[921],{"type":426,"value":548},{"type":421,"tag":496,"props":923,"children":924},{"style":520},[925],{"type":426,"value":523},{"type":421,"tag":496,"props":927,"children":928},{"style":580},[929],{"type":426,"value":583},{"type":421,"tag":496,"props":931,"children":932},{"style":586},[933],{"type":426,"value":589},{"type":421,"tag":496,"props":935,"children":936},{"style":520},[937],{"type":426,"value":594},{"type":421,"tag":496,"props":939,"children":940},{"style":508},[941],{"type":426,"value":511},{"type":421,"tag":496,"props":943,"children":944},{"style":514},[945],{"type":426,"value":603},{"type":421,"tag":496,"props":947,"children":948},{"style":520},[949],{"type":426,"value":950},"(data))\n",{"type":421,"tag":496,"props":952,"children":953},{"class":498,"line":564},[954],{"type":421,"tag":496,"props":955,"children":956},{"style":631},[957],{"type":426,"value":958},"  // -> 1\n",{"type":421,"tag":479,"props":960,"children":961},{},[962,963],{"type":426,"value":639},{"type":421,"tag":437,"props":964,"children":967},{"href":965,"rel":966},"https://promisesaplus.com/#point-59",[441],[968],{"type":426,"value":969},"Promise/A+ #point-59",{"type":421,"tag":472,"props":971,"children":973},{"id":972},"使用-promise-设计一个可以取消请求的请求函数",[974],{"type":426,"value":975},"使用 Promise 设计一个可以取消请求的请求函数？",{"type":421,"tag":485,"props":977,"children":979},{"className":487,"code":978,"language":489,"meta":415,"style":415},"function request (url) {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(url), 1000)\n    })\n}\nlet abort\nlet abortController = new Promise(resolve => abort = resolve)\nPromise\n  .race([request('123'), abortController])\n  .then(data => console.log(data))\nabort()\n",[980],{"type":421,"tag":492,"props":981,"children":982},{"__ignoreMap":415},[983,1014,1049,1098,1110,1119,1133,1185,1194,1250,1290],{"type":421,"tag":496,"props":984,"children":985},{"class":498,"line":499},[986,991,996,1000,1005,1009],{"type":421,"tag":496,"props":987,"children":988},{"style":586},[989],{"type":426,"value":990},"function",{"type":421,"tag":496,"props":992,"children":993},{"style":514},[994],{"type":426,"value":995}," request",{"type":421,"tag":496,"props":997,"children":998},{"style":508},[999],{"type":426,"value":872},{"type":421,"tag":496,"props":1001,"children":1002},{"style":580},[1003],{"type":426,"value":1004},"url",{"type":421,"tag":496,"props":1006,"children":1007},{"style":508},[1008],{"type":426,"value":692},{"type":421,"tag":496,"props":1010,"children":1011},{"style":508},[1012],{"type":426,"value":1013}," {\n",{"type":421,"tag":496,"props":1015,"children":1016},{"class":498,"line":537},[1017,1023,1028,1032,1037,1041,1045],{"type":421,"tag":496,"props":1018,"children":1020},{"style":1019},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1021],{"type":426,"value":1022},"    return",{"type":421,"tag":496,"props":1024,"children":1025},{"style":611},[1026],{"type":426,"value":1027}," new",{"type":421,"tag":496,"props":1029,"children":1030},{"style":503},[1031],{"type":426,"value":855},{"type":421,"tag":496,"props":1033,"children":1035},{"style":1034},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[1036],{"type":426,"value":523},{"type":421,"tag":496,"props":1038,"children":1039},{"style":580},[1040],{"type":426,"value":517},{"type":421,"tag":496,"props":1042,"children":1043},{"style":586},[1044],{"type":426,"value":589},{"type":421,"tag":496,"props":1046,"children":1047},{"style":508},[1048],{"type":426,"value":1013},{"type":421,"tag":496,"props":1050,"children":1051},{"class":498,"line":564},[1052,1057,1061,1065,1069,1073,1077,1081,1085,1089,1094],{"type":421,"tag":496,"props":1053,"children":1054},{"style":514},[1055],{"type":426,"value":1056},"        setTimeout",{"type":421,"tag":496,"props":1058,"children":1059},{"style":1034},[1060],{"type":426,"value":523},{"type":421,"tag":496,"props":1062,"children":1063},{"style":508},[1064],{"type":426,"value":709},{"type":421,"tag":496,"props":1066,"children":1067},{"style":586},[1068],{"type":426,"value":589},{"type":421,"tag":496,"props":1070,"children":1071},{"style":514},[1072],{"type":426,"value":897},{"type":421,"tag":496,"props":1074,"children":1075},{"style":1034},[1076],{"type":426,"value":523},{"type":421,"tag":496,"props":1078,"children":1079},{"style":520},[1080],{"type":426,"value":1004},{"type":421,"tag":496,"props":1082,"children":1083},{"style":1034},[1084],{"type":426,"value":692},{"type":421,"tag":496,"props":1086,"children":1087},{"style":508},[1088],{"type":426,"value":787},{"type":421,"tag":496,"props":1090,"children":1091},{"style":526},[1092],{"type":426,"value":1093}," 1000",{"type":421,"tag":496,"props":1095,"children":1096},{"style":1034},[1097],{"type":426,"value":534},{"type":421,"tag":496,"props":1099,"children":1100},{"class":498,"line":627},[1101,1106],{"type":421,"tag":496,"props":1102,"children":1103},{"style":508},[1104],{"type":426,"value":1105},"    }",{"type":421,"tag":496,"props":1107,"children":1108},{"style":1034},[1109],{"type":426,"value":534},{"type":421,"tag":496,"props":1111,"children":1113},{"class":498,"line":1112},5,[1114],{"type":421,"tag":496,"props":1115,"children":1116},{"style":508},[1117],{"type":426,"value":1118},"}\n",{"type":421,"tag":496,"props":1120,"children":1122},{"class":498,"line":1121},6,[1123,1128],{"type":421,"tag":496,"props":1124,"children":1125},{"style":586},[1126],{"type":426,"value":1127},"let",{"type":421,"tag":496,"props":1129,"children":1130},{"style":520},[1131],{"type":426,"value":1132}," abort\n",{"type":421,"tag":496,"props":1134,"children":1136},{"class":498,"line":1135},7,[1137,1141,1146,1151,1155,1159,1163,1167,1171,1176,1180],{"type":421,"tag":496,"props":1138,"children":1139},{"style":586},[1140],{"type":426,"value":1127},{"type":421,"tag":496,"props":1142,"children":1143},{"style":520},[1144],{"type":426,"value":1145}," abortController ",{"type":421,"tag":496,"props":1147,"children":1148},{"style":611},[1149],{"type":426,"value":1150},"=",{"type":421,"tag":496,"props":1152,"children":1153},{"style":611},[1154],{"type":426,"value":1027},{"type":421,"tag":496,"props":1156,"children":1157},{"style":503},[1158],{"type":426,"value":855},{"type":421,"tag":496,"props":1160,"children":1161},{"style":520},[1162],{"type":426,"value":523},{"type":421,"tag":496,"props":1164,"children":1165},{"style":580},[1166],{"type":426,"value":517},{"type":421,"tag":496,"props":1168,"children":1169},{"style":586},[1170],{"type":426,"value":589},{"type":421,"tag":496,"props":1172,"children":1173},{"style":520},[1174],{"type":426,"value":1175}," abort ",{"type":421,"tag":496,"props":1177,"children":1178},{"style":611},[1179],{"type":426,"value":1150},{"type":421,"tag":496,"props":1181,"children":1182},{"style":520},[1183],{"type":426,"value":1184}," resolve)\n",{"type":421,"tag":496,"props":1186,"children":1188},{"class":498,"line":1187},8,[1189],{"type":421,"tag":496,"props":1190,"children":1191},{"style":503},[1192],{"type":426,"value":1193},"Promise\n",{"type":421,"tag":496,"props":1195,"children":1197},{"class":498,"line":1196},9,[1198,1202,1207,1212,1217,1221,1227,1233,1237,1241,1245],{"type":421,"tag":496,"props":1199,"children":1200},{"style":508},[1201],{"type":426,"value":543},{"type":421,"tag":496,"props":1203,"children":1204},{"style":514},[1205],{"type":426,"value":1206},"race",{"type":421,"tag":496,"props":1208,"children":1209},{"style":520},[1210],{"type":426,"value":1211},"([",{"type":421,"tag":496,"props":1213,"children":1214},{"style":514},[1215],{"type":426,"value":1216},"request",{"type":421,"tag":496,"props":1218,"children":1219},{"style":520},[1220],{"type":426,"value":523},{"type":421,"tag":496,"props":1222,"children":1224},{"style":1223},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1225],{"type":426,"value":1226},"'",{"type":421,"tag":496,"props":1228,"children":1230},{"style":1229},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1231],{"type":426,"value":1232},"123",{"type":421,"tag":496,"props":1234,"children":1235},{"style":1223},[1236],{"type":426,"value":1226},{"type":421,"tag":496,"props":1238,"children":1239},{"style":520},[1240],{"type":426,"value":692},{"type":421,"tag":496,"props":1242,"children":1243},{"style":508},[1244],{"type":426,"value":787},{"type":421,"tag":496,"props":1246,"children":1247},{"style":520},[1248],{"type":426,"value":1249}," abortController])\n",{"type":421,"tag":496,"props":1251,"children":1253},{"class":498,"line":1252},10,[1254,1258,1262,1266,1270,1274,1278,1282,1286],{"type":421,"tag":496,"props":1255,"children":1256},{"style":508},[1257],{"type":426,"value":543},{"type":421,"tag":496,"props":1259,"children":1260},{"style":514},[1261],{"type":426,"value":548},{"type":421,"tag":496,"props":1263,"children":1264},{"style":520},[1265],{"type":426,"value":523},{"type":421,"tag":496,"props":1267,"children":1268},{"style":580},[1269],{"type":426,"value":583},{"type":421,"tag":496,"props":1271,"children":1272},{"style":586},[1273],{"type":426,"value":589},{"type":421,"tag":496,"props":1275,"children":1276},{"style":520},[1277],{"type":426,"value":594},{"type":421,"tag":496,"props":1279,"children":1280},{"style":508},[1281],{"type":426,"value":511},{"type":421,"tag":496,"props":1283,"children":1284},{"style":514},[1285],{"type":426,"value":603},{"type":421,"tag":496,"props":1287,"children":1288},{"style":520},[1289],{"type":426,"value":950},{"type":421,"tag":496,"props":1291,"children":1293},{"class":498,"line":1292},11,[1294,1299],{"type":421,"tag":496,"props":1295,"children":1296},{"style":514},[1297],{"type":426,"value":1298},"abort",{"type":421,"tag":496,"props":1300,"children":1301},{"style":520},[1302],{"type":426,"value":1303},"()\n",{"type":421,"tag":479,"props":1305,"children":1306},{},[1307],{"type":426,"value":1308},"注意，Promise.race 以及 Promise.all 等函数尽管可以通过提前调用 then、catch 方法以达到特定目的，但是不会影响其它作为入参的 Promise 的正常执行。",{"type":421,"tag":472,"props":1310,"children":1312},{"id":1311},"一些关于-promise-的综合问题",[1313],{"type":426,"value":1314},"一些关于 Promise 的综合问题？",{"type":421,"tag":485,"props":1316,"children":1318},{"className":487,"code":1317,"language":489,"meta":415,"style":415},"// 考察事件循环\nconst p1 = new Promise((resolve) => {\n  setTimeout(() => {\n    resolve('resolve3');\n    console.log('timer1')\n    new Promise(r => r('promise1')).then(console.log)\n  }, 0)\n  resolve('resovle1');\n  resolve('resolve2');\n}).then(res => {\n  console.log(res)\n  setTimeout(() => {\n    console.log(p1)\n    new Promise(r => r('promise2')).then(console.log)\n  }, 1000)\n}).finally(res => {\n  console.log('finally1', res)\n  throw new Error('error1')\n}).catch(err => {\n  console.log(err)\n  throw new Error('error2')\n}).catch(err => {\n  console.log(err)\n}).then(res => {\n  console.log(res)\n}).finally(res => {\n  console.log('finally2', res)\n})\n",[1319],{"type":421,"tag":492,"props":1320,"children":1321},{"__ignoreMap":415},[1322,1330,1381,1405,1439,1476,1557,1574,1607,1639,1676,1704,1728,1757,1834,1850,1887,1933,1972,2010,2038,2075,2111,2139,2175,2203,2239,2284],{"type":421,"tag":496,"props":1323,"children":1324},{"class":498,"line":499},[1325],{"type":421,"tag":496,"props":1326,"children":1327},{"style":631},[1328],{"type":426,"value":1329},"// 考察事件循环\n",{"type":421,"tag":496,"props":1331,"children":1332},{"class":498,"line":537},[1333,1338,1344,1349,1353,1357,1361,1365,1369,1373,1377],{"type":421,"tag":496,"props":1334,"children":1335},{"style":586},[1336],{"type":426,"value":1337},"const",{"type":421,"tag":496,"props":1339,"children":1341},{"style":1340},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1342],{"type":426,"value":1343}," p1",{"type":421,"tag":496,"props":1345,"children":1346},{"style":611},[1347],{"type":426,"value":1348}," =",{"type":421,"tag":496,"props":1350,"children":1351},{"style":611},[1352],{"type":426,"value":1027},{"type":421,"tag":496,"props":1354,"children":1355},{"style":503},[1356],{"type":426,"value":855},{"type":421,"tag":496,"props":1358,"children":1359},{"style":520},[1360],{"type":426,"value":523},{"type":421,"tag":496,"props":1362,"children":1363},{"style":508},[1364],{"type":426,"value":523},{"type":421,"tag":496,"props":1366,"children":1367},{"style":580},[1368],{"type":426,"value":517},{"type":421,"tag":496,"props":1370,"children":1371},{"style":508},[1372],{"type":426,"value":692},{"type":421,"tag":496,"props":1374,"children":1375},{"style":586},[1376],{"type":426,"value":589},{"type":421,"tag":496,"props":1378,"children":1379},{"style":508},[1380],{"type":426,"value":1013},{"type":421,"tag":496,"props":1382,"children":1383},{"class":498,"line":564},[1384,1389,1393,1397,1401],{"type":421,"tag":496,"props":1385,"children":1386},{"style":514},[1387],{"type":426,"value":1388},"  setTimeout",{"type":421,"tag":496,"props":1390,"children":1391},{"style":1034},[1392],{"type":426,"value":523},{"type":421,"tag":496,"props":1394,"children":1395},{"style":508},[1396],{"type":426,"value":709},{"type":421,"tag":496,"props":1398,"children":1399},{"style":586},[1400],{"type":426,"value":589},{"type":421,"tag":496,"props":1402,"children":1403},{"style":508},[1404],{"type":426,"value":1013},{"type":421,"tag":496,"props":1406,"children":1407},{"class":498,"line":627},[1408,1413,1417,1421,1426,1430,1434],{"type":421,"tag":496,"props":1409,"children":1410},{"style":514},[1411],{"type":426,"value":1412},"    resolve",{"type":421,"tag":496,"props":1414,"children":1415},{"style":1034},[1416],{"type":426,"value":523},{"type":421,"tag":496,"props":1418,"children":1419},{"style":1223},[1420],{"type":426,"value":1226},{"type":421,"tag":496,"props":1422,"children":1423},{"style":1229},[1424],{"type":426,"value":1425},"resolve3",{"type":421,"tag":496,"props":1427,"children":1428},{"style":1223},[1429],{"type":426,"value":1226},{"type":421,"tag":496,"props":1431,"children":1432},{"style":1034},[1433],{"type":426,"value":692},{"type":421,"tag":496,"props":1435,"children":1436},{"style":508},[1437],{"type":426,"value":1438},";\n",{"type":421,"tag":496,"props":1440,"children":1441},{"class":498,"line":1112},[1442,1447,1451,1455,1459,1463,1468,1472],{"type":421,"tag":496,"props":1443,"children":1444},{"style":520},[1445],{"type":426,"value":1446},"    console",{"type":421,"tag":496,"props":1448,"children":1449},{"style":508},[1450],{"type":426,"value":511},{"type":421,"tag":496,"props":1452,"children":1453},{"style":514},[1454],{"type":426,"value":603},{"type":421,"tag":496,"props":1456,"children":1457},{"style":1034},[1458],{"type":426,"value":523},{"type":421,"tag":496,"props":1460,"children":1461},{"style":1223},[1462],{"type":426,"value":1226},{"type":421,"tag":496,"props":1464,"children":1465},{"style":1229},[1466],{"type":426,"value":1467},"timer1",{"type":421,"tag":496,"props":1469,"children":1470},{"style":1223},[1471],{"type":426,"value":1226},{"type":421,"tag":496,"props":1473,"children":1474},{"style":1034},[1475],{"type":426,"value":534},{"type":421,"tag":496,"props":1477,"children":1478},{"class":498,"line":1121},[1479,1484,1488,1492,1497,1501,1506,1510,1514,1519,1523,1528,1532,1536,1540,1545,1549,1553],{"type":421,"tag":496,"props":1480,"children":1481},{"style":611},[1482],{"type":426,"value":1483},"    new",{"type":421,"tag":496,"props":1485,"children":1486},{"style":503},[1487],{"type":426,"value":855},{"type":421,"tag":496,"props":1489,"children":1490},{"style":1034},[1491],{"type":426,"value":523},{"type":421,"tag":496,"props":1493,"children":1494},{"style":580},[1495],{"type":426,"value":1496},"r",{"type":421,"tag":496,"props":1498,"children":1499},{"style":586},[1500],{"type":426,"value":589},{"type":421,"tag":496,"props":1502,"children":1503},{"style":514},[1504],{"type":426,"value":1505}," r",{"type":421,"tag":496,"props":1507,"children":1508},{"style":1034},[1509],{"type":426,"value":523},{"type":421,"tag":496,"props":1511,"children":1512},{"style":1223},[1513],{"type":426,"value":1226},{"type":421,"tag":496,"props":1515,"children":1516},{"style":1229},[1517],{"type":426,"value":1518},"promise1",{"type":421,"tag":496,"props":1520,"children":1521},{"style":1223},[1522],{"type":426,"value":1226},{"type":421,"tag":496,"props":1524,"children":1525},{"style":1034},[1526],{"type":426,"value":1527},"))",{"type":421,"tag":496,"props":1529,"children":1530},{"style":508},[1531],{"type":426,"value":511},{"type":421,"tag":496,"props":1533,"children":1534},{"style":514},[1535],{"type":426,"value":548},{"type":421,"tag":496,"props":1537,"children":1538},{"style":1034},[1539],{"type":426,"value":523},{"type":421,"tag":496,"props":1541,"children":1542},{"style":520},[1543],{"type":426,"value":1544},"console",{"type":421,"tag":496,"props":1546,"children":1547},{"style":508},[1548],{"type":426,"value":511},{"type":421,"tag":496,"props":1550,"children":1551},{"style":520},[1552],{"type":426,"value":603},{"type":421,"tag":496,"props":1554,"children":1555},{"style":1034},[1556],{"type":426,"value":534},{"type":421,"tag":496,"props":1558,"children":1559},{"class":498,"line":1135},[1560,1565,1570],{"type":421,"tag":496,"props":1561,"children":1562},{"style":508},[1563],{"type":426,"value":1564},"  },",{"type":421,"tag":496,"props":1566,"children":1567},{"style":526},[1568],{"type":426,"value":1569}," 0",{"type":421,"tag":496,"props":1571,"children":1572},{"style":1034},[1573],{"type":426,"value":534},{"type":421,"tag":496,"props":1575,"children":1576},{"class":498,"line":1187},[1577,1582,1586,1590,1595,1599,1603],{"type":421,"tag":496,"props":1578,"children":1579},{"style":514},[1580],{"type":426,"value":1581},"  resolve",{"type":421,"tag":496,"props":1583,"children":1584},{"style":1034},[1585],{"type":426,"value":523},{"type":421,"tag":496,"props":1587,"children":1588},{"style":1223},[1589],{"type":426,"value":1226},{"type":421,"tag":496,"props":1591,"children":1592},{"style":1229},[1593],{"type":426,"value":1594},"resovle1",{"type":421,"tag":496,"props":1596,"children":1597},{"style":1223},[1598],{"type":426,"value":1226},{"type":421,"tag":496,"props":1600,"children":1601},{"style":1034},[1602],{"type":426,"value":692},{"type":421,"tag":496,"props":1604,"children":1605},{"style":508},[1606],{"type":426,"value":1438},{"type":421,"tag":496,"props":1608,"children":1609},{"class":498,"line":1196},[1610,1614,1618,1622,1627,1631,1635],{"type":421,"tag":496,"props":1611,"children":1612},{"style":514},[1613],{"type":426,"value":1581},{"type":421,"tag":496,"props":1615,"children":1616},{"style":1034},[1617],{"type":426,"value":523},{"type":421,"tag":496,"props":1619,"children":1620},{"style":1223},[1621],{"type":426,"value":1226},{"type":421,"tag":496,"props":1623,"children":1624},{"style":1229},[1625],{"type":426,"value":1626},"resolve2",{"type":421,"tag":496,"props":1628,"children":1629},{"style":1223},[1630],{"type":426,"value":1226},{"type":421,"tag":496,"props":1632,"children":1633},{"style":1034},[1634],{"type":426,"value":692},{"type":421,"tag":496,"props":1636,"children":1637},{"style":508},[1638],{"type":426,"value":1438},{"type":421,"tag":496,"props":1640,"children":1641},{"class":498,"line":1252},[1642,1647,1651,1655,1659,1663,1668,1672],{"type":421,"tag":496,"props":1643,"children":1644},{"style":508},[1645],{"type":426,"value":1646},"}",{"type":421,"tag":496,"props":1648,"children":1649},{"style":520},[1650],{"type":426,"value":692},{"type":421,"tag":496,"props":1652,"children":1653},{"style":508},[1654],{"type":426,"value":511},{"type":421,"tag":496,"props":1656,"children":1657},{"style":514},[1658],{"type":426,"value":548},{"type":421,"tag":496,"props":1660,"children":1661},{"style":520},[1662],{"type":426,"value":523},{"type":421,"tag":496,"props":1664,"children":1665},{"style":580},[1666],{"type":426,"value":1667},"res",{"type":421,"tag":496,"props":1669,"children":1670},{"style":586},[1671],{"type":426,"value":589},{"type":421,"tag":496,"props":1673,"children":1674},{"style":508},[1675],{"type":426,"value":1013},{"type":421,"tag":496,"props":1677,"children":1678},{"class":498,"line":1292},[1679,1684,1688,1692,1696,1700],{"type":421,"tag":496,"props":1680,"children":1681},{"style":520},[1682],{"type":426,"value":1683},"  console",{"type":421,"tag":496,"props":1685,"children":1686},{"style":508},[1687],{"type":426,"value":511},{"type":421,"tag":496,"props":1689,"children":1690},{"style":514},[1691],{"type":426,"value":603},{"type":421,"tag":496,"props":1693,"children":1694},{"style":1034},[1695],{"type":426,"value":523},{"type":421,"tag":496,"props":1697,"children":1698},{"style":520},[1699],{"type":426,"value":1667},{"type":421,"tag":496,"props":1701,"children":1702},{"style":1034},[1703],{"type":426,"value":534},{"type":421,"tag":496,"props":1705,"children":1707},{"class":498,"line":1706},12,[1708,1712,1716,1720,1724],{"type":421,"tag":496,"props":1709,"children":1710},{"style":514},[1711],{"type":426,"value":1388},{"type":421,"tag":496,"props":1713,"children":1714},{"style":1034},[1715],{"type":426,"value":523},{"type":421,"tag":496,"props":1717,"children":1718},{"style":508},[1719],{"type":426,"value":709},{"type":421,"tag":496,"props":1721,"children":1722},{"style":586},[1723],{"type":426,"value":589},{"type":421,"tag":496,"props":1725,"children":1726},{"style":508},[1727],{"type":426,"value":1013},{"type":421,"tag":496,"props":1729,"children":1731},{"class":498,"line":1730},13,[1732,1736,1740,1744,1748,1753],{"type":421,"tag":496,"props":1733,"children":1734},{"style":520},[1735],{"type":426,"value":1446},{"type":421,"tag":496,"props":1737,"children":1738},{"style":508},[1739],{"type":426,"value":511},{"type":421,"tag":496,"props":1741,"children":1742},{"style":514},[1743],{"type":426,"value":603},{"type":421,"tag":496,"props":1745,"children":1746},{"style":1034},[1747],{"type":426,"value":523},{"type":421,"tag":496,"props":1749,"children":1750},{"style":520},[1751],{"type":426,"value":1752},"p1",{"type":421,"tag":496,"props":1754,"children":1755},{"style":1034},[1756],{"type":426,"value":534},{"type":421,"tag":496,"props":1758,"children":1760},{"class":498,"line":1759},14,[1761,1765,1769,1773,1777,1781,1785,1789,1793,1798,1802,1806,1810,1814,1818,1822,1826,1830],{"type":421,"tag":496,"props":1762,"children":1763},{"style":611},[1764],{"type":426,"value":1483},{"type":421,"tag":496,"props":1766,"children":1767},{"style":503},[1768],{"type":426,"value":855},{"type":421,"tag":496,"props":1770,"children":1771},{"style":1034},[1772],{"type":426,"value":523},{"type":421,"tag":496,"props":1774,"children":1775},{"style":580},[1776],{"type":426,"value":1496},{"type":421,"tag":496,"props":1778,"children":1779},{"style":586},[1780],{"type":426,"value":589},{"type":421,"tag":496,"props":1782,"children":1783},{"style":514},[1784],{"type":426,"value":1505},{"type":421,"tag":496,"props":1786,"children":1787},{"style":1034},[1788],{"type":426,"value":523},{"type":421,"tag":496,"props":1790,"children":1791},{"style":1223},[1792],{"type":426,"value":1226},{"type":421,"tag":496,"props":1794,"children":1795},{"style":1229},[1796],{"type":426,"value":1797},"promise2",{"type":421,"tag":496,"props":1799,"children":1800},{"style":1223},[1801],{"type":426,"value":1226},{"type":421,"tag":496,"props":1803,"children":1804},{"style":1034},[1805],{"type":426,"value":1527},{"type":421,"tag":496,"props":1807,"children":1808},{"style":508},[1809],{"type":426,"value":511},{"type":421,"tag":496,"props":1811,"children":1812},{"style":514},[1813],{"type":426,"value":548},{"type":421,"tag":496,"props":1815,"children":1816},{"style":1034},[1817],{"type":426,"value":523},{"type":421,"tag":496,"props":1819,"children":1820},{"style":520},[1821],{"type":426,"value":1544},{"type":421,"tag":496,"props":1823,"children":1824},{"style":508},[1825],{"type":426,"value":511},{"type":421,"tag":496,"props":1827,"children":1828},{"style":520},[1829],{"type":426,"value":603},{"type":421,"tag":496,"props":1831,"children":1832},{"style":1034},[1833],{"type":426,"value":534},{"type":421,"tag":496,"props":1835,"children":1837},{"class":498,"line":1836},15,[1838,1842,1846],{"type":421,"tag":496,"props":1839,"children":1840},{"style":508},[1841],{"type":426,"value":1564},{"type":421,"tag":496,"props":1843,"children":1844},{"style":526},[1845],{"type":426,"value":1093},{"type":421,"tag":496,"props":1847,"children":1848},{"style":1034},[1849],{"type":426,"value":534},{"type":421,"tag":496,"props":1851,"children":1853},{"class":498,"line":1852},16,[1854,1858,1862,1866,1871,1875,1879,1883],{"type":421,"tag":496,"props":1855,"children":1856},{"style":508},[1857],{"type":426,"value":1646},{"type":421,"tag":496,"props":1859,"children":1860},{"style":520},[1861],{"type":426,"value":692},{"type":421,"tag":496,"props":1863,"children":1864},{"style":508},[1865],{"type":426,"value":511},{"type":421,"tag":496,"props":1867,"children":1868},{"style":514},[1869],{"type":426,"value":1870},"finally",{"type":421,"tag":496,"props":1872,"children":1873},{"style":520},[1874],{"type":426,"value":523},{"type":421,"tag":496,"props":1876,"children":1877},{"style":580},[1878],{"type":426,"value":1667},{"type":421,"tag":496,"props":1880,"children":1881},{"style":586},[1882],{"type":426,"value":589},{"type":421,"tag":496,"props":1884,"children":1885},{"style":508},[1886],{"type":426,"value":1013},{"type":421,"tag":496,"props":1888,"children":1890},{"class":498,"line":1889},17,[1891,1895,1899,1903,1907,1911,1916,1920,1924,1929],{"type":421,"tag":496,"props":1892,"children":1893},{"style":520},[1894],{"type":426,"value":1683},{"type":421,"tag":496,"props":1896,"children":1897},{"style":508},[1898],{"type":426,"value":511},{"type":421,"tag":496,"props":1900,"children":1901},{"style":514},[1902],{"type":426,"value":603},{"type":421,"tag":496,"props":1904,"children":1905},{"style":1034},[1906],{"type":426,"value":523},{"type":421,"tag":496,"props":1908,"children":1909},{"style":1223},[1910],{"type":426,"value":1226},{"type":421,"tag":496,"props":1912,"children":1913},{"style":1229},[1914],{"type":426,"value":1915},"finally1",{"type":421,"tag":496,"props":1917,"children":1918},{"style":1223},[1919],{"type":426,"value":1226},{"type":421,"tag":496,"props":1921,"children":1922},{"style":508},[1923],{"type":426,"value":787},{"type":421,"tag":496,"props":1925,"children":1926},{"style":520},[1927],{"type":426,"value":1928}," res",{"type":421,"tag":496,"props":1930,"children":1931},{"style":1034},[1932],{"type":426,"value":534},{"type":421,"tag":496,"props":1934,"children":1936},{"class":498,"line":1935},18,[1937,1942,1946,1951,1955,1959,1964,1968],{"type":421,"tag":496,"props":1938,"children":1939},{"style":1019},[1940],{"type":426,"value":1941},"  throw",{"type":421,"tag":496,"props":1943,"children":1944},{"style":611},[1945],{"type":426,"value":1027},{"type":421,"tag":496,"props":1947,"children":1948},{"style":514},[1949],{"type":426,"value":1950}," Error",{"type":421,"tag":496,"props":1952,"children":1953},{"style":1034},[1954],{"type":426,"value":523},{"type":421,"tag":496,"props":1956,"children":1957},{"style":1223},[1958],{"type":426,"value":1226},{"type":421,"tag":496,"props":1960,"children":1961},{"style":1229},[1962],{"type":426,"value":1963},"error1",{"type":421,"tag":496,"props":1965,"children":1966},{"style":1223},[1967],{"type":426,"value":1226},{"type":421,"tag":496,"props":1969,"children":1970},{"style":1034},[1971],{"type":426,"value":534},{"type":421,"tag":496,"props":1973,"children":1975},{"class":498,"line":1974},19,[1976,1980,1984,1988,1993,1997,2002,2006],{"type":421,"tag":496,"props":1977,"children":1978},{"style":508},[1979],{"type":426,"value":1646},{"type":421,"tag":496,"props":1981,"children":1982},{"style":520},[1983],{"type":426,"value":692},{"type":421,"tag":496,"props":1985,"children":1986},{"style":508},[1987],{"type":426,"value":511},{"type":421,"tag":496,"props":1989,"children":1990},{"style":514},[1991],{"type":426,"value":1992},"catch",{"type":421,"tag":496,"props":1994,"children":1995},{"style":520},[1996],{"type":426,"value":523},{"type":421,"tag":496,"props":1998,"children":1999},{"style":580},[2000],{"type":426,"value":2001},"err",{"type":421,"tag":496,"props":2003,"children":2004},{"style":586},[2005],{"type":426,"value":589},{"type":421,"tag":496,"props":2007,"children":2008},{"style":508},[2009],{"type":426,"value":1013},{"type":421,"tag":496,"props":2011,"children":2013},{"class":498,"line":2012},20,[2014,2018,2022,2026,2030,2034],{"type":421,"tag":496,"props":2015,"children":2016},{"style":520},[2017],{"type":426,"value":1683},{"type":421,"tag":496,"props":2019,"children":2020},{"style":508},[2021],{"type":426,"value":511},{"type":421,"tag":496,"props":2023,"children":2024},{"style":514},[2025],{"type":426,"value":603},{"type":421,"tag":496,"props":2027,"children":2028},{"style":1034},[2029],{"type":426,"value":523},{"type":421,"tag":496,"props":2031,"children":2032},{"style":520},[2033],{"type":426,"value":2001},{"type":421,"tag":496,"props":2035,"children":2036},{"style":1034},[2037],{"type":426,"value":534},{"type":421,"tag":496,"props":2039,"children":2041},{"class":498,"line":2040},21,[2042,2046,2050,2054,2058,2062,2067,2071],{"type":421,"tag":496,"props":2043,"children":2044},{"style":1019},[2045],{"type":426,"value":1941},{"type":421,"tag":496,"props":2047,"children":2048},{"style":611},[2049],{"type":426,"value":1027},{"type":421,"tag":496,"props":2051,"children":2052},{"style":514},[2053],{"type":426,"value":1950},{"type":421,"tag":496,"props":2055,"children":2056},{"style":1034},[2057],{"type":426,"value":523},{"type":421,"tag":496,"props":2059,"children":2060},{"style":1223},[2061],{"type":426,"value":1226},{"type":421,"tag":496,"props":2063,"children":2064},{"style":1229},[2065],{"type":426,"value":2066},"error2",{"type":421,"tag":496,"props":2068,"children":2069},{"style":1223},[2070],{"type":426,"value":1226},{"type":421,"tag":496,"props":2072,"children":2073},{"style":1034},[2074],{"type":426,"value":534},{"type":421,"tag":496,"props":2076,"children":2078},{"class":498,"line":2077},22,[2079,2083,2087,2091,2095,2099,2103,2107],{"type":421,"tag":496,"props":2080,"children":2081},{"style":508},[2082],{"type":426,"value":1646},{"type":421,"tag":496,"props":2084,"children":2085},{"style":520},[2086],{"type":426,"value":692},{"type":421,"tag":496,"props":2088,"children":2089},{"style":508},[2090],{"type":426,"value":511},{"type":421,"tag":496,"props":2092,"children":2093},{"style":514},[2094],{"type":426,"value":1992},{"type":421,"tag":496,"props":2096,"children":2097},{"style":520},[2098],{"type":426,"value":523},{"type":421,"tag":496,"props":2100,"children":2101},{"style":580},[2102],{"type":426,"value":2001},{"type":421,"tag":496,"props":2104,"children":2105},{"style":586},[2106],{"type":426,"value":589},{"type":421,"tag":496,"props":2108,"children":2109},{"style":508},[2110],{"type":426,"value":1013},{"type":421,"tag":496,"props":2112,"children":2114},{"class":498,"line":2113},23,[2115,2119,2123,2127,2131,2135],{"type":421,"tag":496,"props":2116,"children":2117},{"style":520},[2118],{"type":426,"value":1683},{"type":421,"tag":496,"props":2120,"children":2121},{"style":508},[2122],{"type":426,"value":511},{"type":421,"tag":496,"props":2124,"children":2125},{"style":514},[2126],{"type":426,"value":603},{"type":421,"tag":496,"props":2128,"children":2129},{"style":1034},[2130],{"type":426,"value":523},{"type":421,"tag":496,"props":2132,"children":2133},{"style":520},[2134],{"type":426,"value":2001},{"type":421,"tag":496,"props":2136,"children":2137},{"style":1034},[2138],{"type":426,"value":534},{"type":421,"tag":496,"props":2140,"children":2142},{"class":498,"line":2141},24,[2143,2147,2151,2155,2159,2163,2167,2171],{"type":421,"tag":496,"props":2144,"children":2145},{"style":508},[2146],{"type":426,"value":1646},{"type":421,"tag":496,"props":2148,"children":2149},{"style":520},[2150],{"type":426,"value":692},{"type":421,"tag":496,"props":2152,"children":2153},{"style":508},[2154],{"type":426,"value":511},{"type":421,"tag":496,"props":2156,"children":2157},{"style":514},[2158],{"type":426,"value":548},{"type":421,"tag":496,"props":2160,"children":2161},{"style":520},[2162],{"type":426,"value":523},{"type":421,"tag":496,"props":2164,"children":2165},{"style":580},[2166],{"type":426,"value":1667},{"type":421,"tag":496,"props":2168,"children":2169},{"style":586},[2170],{"type":426,"value":589},{"type":421,"tag":496,"props":2172,"children":2173},{"style":508},[2174],{"type":426,"value":1013},{"type":421,"tag":496,"props":2176,"children":2178},{"class":498,"line":2177},25,[2179,2183,2187,2191,2195,2199],{"type":421,"tag":496,"props":2180,"children":2181},{"style":520},[2182],{"type":426,"value":1683},{"type":421,"tag":496,"props":2184,"children":2185},{"style":508},[2186],{"type":426,"value":511},{"type":421,"tag":496,"props":2188,"children":2189},{"style":514},[2190],{"type":426,"value":603},{"type":421,"tag":496,"props":2192,"children":2193},{"style":1034},[2194],{"type":426,"value":523},{"type":421,"tag":496,"props":2196,"children":2197},{"style":520},[2198],{"type":426,"value":1667},{"type":421,"tag":496,"props":2200,"children":2201},{"style":1034},[2202],{"type":426,"value":534},{"type":421,"tag":496,"props":2204,"children":2206},{"class":498,"line":2205},26,[2207,2211,2215,2219,2223,2227,2231,2235],{"type":421,"tag":496,"props":2208,"children":2209},{"style":508},[2210],{"type":426,"value":1646},{"type":421,"tag":496,"props":2212,"children":2213},{"style":520},[2214],{"type":426,"value":692},{"type":421,"tag":496,"props":2216,"children":2217},{"style":508},[2218],{"type":426,"value":511},{"type":421,"tag":496,"props":2220,"children":2221},{"style":514},[2222],{"type":426,"value":1870},{"type":421,"tag":496,"props":2224,"children":2225},{"style":520},[2226],{"type":426,"value":523},{"type":421,"tag":496,"props":2228,"children":2229},{"style":580},[2230],{"type":426,"value":1667},{"type":421,"tag":496,"props":2232,"children":2233},{"style":586},[2234],{"type":426,"value":589},{"type":421,"tag":496,"props":2236,"children":2237},{"style":508},[2238],{"type":426,"value":1013},{"type":421,"tag":496,"props":2240,"children":2242},{"class":498,"line":2241},27,[2243,2247,2251,2255,2259,2263,2268,2272,2276,2280],{"type":421,"tag":496,"props":2244,"children":2245},{"style":520},[2246],{"type":426,"value":1683},{"type":421,"tag":496,"props":2248,"children":2249},{"style":508},[2250],{"type":426,"value":511},{"type":421,"tag":496,"props":2252,"children":2253},{"style":514},[2254],{"type":426,"value":603},{"type":421,"tag":496,"props":2256,"children":2257},{"style":1034},[2258],{"type":426,"value":523},{"type":421,"tag":496,"props":2260,"children":2261},{"style":1223},[2262],{"type":426,"value":1226},{"type":421,"tag":496,"props":2264,"children":2265},{"style":1229},[2266],{"type":426,"value":2267},"finally2",{"type":421,"tag":496,"props":2269,"children":2270},{"style":1223},[2271],{"type":426,"value":1226},{"type":421,"tag":496,"props":2273,"children":2274},{"style":508},[2275],{"type":426,"value":787},{"type":421,"tag":496,"props":2277,"children":2278},{"style":520},[2279],{"type":426,"value":1928},{"type":421,"tag":496,"props":2281,"children":2282},{"style":1034},[2283],{"type":426,"value":534},{"type":421,"tag":496,"props":2285,"children":2287},{"class":498,"line":2286},28,[2288,2292],{"type":421,"tag":496,"props":2289,"children":2290},{"style":508},[2291],{"type":426,"value":1646},{"type":421,"tag":496,"props":2293,"children":2294},{"style":520},[2295],{"type":426,"value":534},{"type":421,"tag":485,"props":2297,"children":2299},{"className":487,"code":2298,"language":489,"meta":415,"style":415},"// 考察 Promise 原理\nconst promise = Promise.resolve(1)\n  .then()\n  .then(data => {\n    return Promise.reject('error')\n      .then(_ => console.log('result is ' + data))\n      .catch(err => console.log(err))\n      .then(_ => console.log('result is not ' + data))\n  })\npromise.then(() => {\n  console.log(promise)\n})\n",[2300],{"type":421,"tag":492,"props":2301,"children":2302},{"__ignoreMap":415},[2303,2311,2351,2366,2393,2433,2501,2548,2612,2624,2656,2683],{"type":421,"tag":496,"props":2304,"children":2305},{"class":498,"line":499},[2306],{"type":421,"tag":496,"props":2307,"children":2308},{"style":631},[2309],{"type":426,"value":2310},"// 考察 Promise 原理\n",{"type":421,"tag":496,"props":2312,"children":2313},{"class":498,"line":537},[2314,2318,2323,2327,2331,2335,2339,2343,2347],{"type":421,"tag":496,"props":2315,"children":2316},{"style":586},[2317],{"type":426,"value":1337},{"type":421,"tag":496,"props":2319,"children":2320},{"style":1340},[2321],{"type":426,"value":2322}," promise",{"type":421,"tag":496,"props":2324,"children":2325},{"style":611},[2326],{"type":426,"value":1348},{"type":421,"tag":496,"props":2328,"children":2329},{"style":503},[2330],{"type":426,"value":855},{"type":421,"tag":496,"props":2332,"children":2333},{"style":508},[2334],{"type":426,"value":511},{"type":421,"tag":496,"props":2336,"children":2337},{"style":514},[2338],{"type":426,"value":517},{"type":421,"tag":496,"props":2340,"children":2341},{"style":520},[2342],{"type":426,"value":523},{"type":421,"tag":496,"props":2344,"children":2345},{"style":526},[2346],{"type":426,"value":529},{"type":421,"tag":496,"props":2348,"children":2349},{"style":520},[2350],{"type":426,"value":534},{"type":421,"tag":496,"props":2352,"children":2353},{"class":498,"line":564},[2354,2358,2362],{"type":421,"tag":496,"props":2355,"children":2356},{"style":508},[2357],{"type":426,"value":543},{"type":421,"tag":496,"props":2359,"children":2360},{"style":514},[2361],{"type":426,"value":548},{"type":421,"tag":496,"props":2363,"children":2364},{"style":520},[2365],{"type":426,"value":1303},{"type":421,"tag":496,"props":2367,"children":2368},{"class":498,"line":627},[2369,2373,2377,2381,2385,2389],{"type":421,"tag":496,"props":2370,"children":2371},{"style":508},[2372],{"type":426,"value":543},{"type":421,"tag":496,"props":2374,"children":2375},{"style":514},[2376],{"type":426,"value":548},{"type":421,"tag":496,"props":2378,"children":2379},{"style":520},[2380],{"type":426,"value":523},{"type":421,"tag":496,"props":2382,"children":2383},{"style":580},[2384],{"type":426,"value":583},{"type":421,"tag":496,"props":2386,"children":2387},{"style":586},[2388],{"type":426,"value":589},{"type":421,"tag":496,"props":2390,"children":2391},{"style":508},[2392],{"type":426,"value":1013},{"type":421,"tag":496,"props":2394,"children":2395},{"class":498,"line":1112},[2396,2400,2404,2408,2412,2416,2420,2425,2429],{"type":421,"tag":496,"props":2397,"children":2398},{"style":1019},[2399],{"type":426,"value":1022},{"type":421,"tag":496,"props":2401,"children":2402},{"style":503},[2403],{"type":426,"value":855},{"type":421,"tag":496,"props":2405,"children":2406},{"style":508},[2407],{"type":426,"value":511},{"type":421,"tag":496,"props":2409,"children":2410},{"style":514},[2411],{"type":426,"value":746},{"type":421,"tag":496,"props":2413,"children":2414},{"style":1034},[2415],{"type":426,"value":523},{"type":421,"tag":496,"props":2417,"children":2418},{"style":1223},[2419],{"type":426,"value":1226},{"type":421,"tag":496,"props":2421,"children":2422},{"style":1229},[2423],{"type":426,"value":2424},"error",{"type":421,"tag":496,"props":2426,"children":2427},{"style":1223},[2428],{"type":426,"value":1226},{"type":421,"tag":496,"props":2430,"children":2431},{"style":1034},[2432],{"type":426,"value":534},{"type":421,"tag":496,"props":2434,"children":2435},{"class":498,"line":1121},[2436,2441,2445,2449,2454,2458,2462,2466,2470,2474,2478,2483,2487,2492,2497],{"type":421,"tag":496,"props":2437,"children":2438},{"style":508},[2439],{"type":426,"value":2440},"      .",{"type":421,"tag":496,"props":2442,"children":2443},{"style":514},[2444],{"type":426,"value":548},{"type":421,"tag":496,"props":2446,"children":2447},{"style":1034},[2448],{"type":426,"value":523},{"type":421,"tag":496,"props":2450,"children":2451},{"style":580},[2452],{"type":426,"value":2453},"_",{"type":421,"tag":496,"props":2455,"children":2456},{"style":586},[2457],{"type":426,"value":589},{"type":421,"tag":496,"props":2459,"children":2460},{"style":520},[2461],{"type":426,"value":594},{"type":421,"tag":496,"props":2463,"children":2464},{"style":508},[2465],{"type":426,"value":511},{"type":421,"tag":496,"props":2467,"children":2468},{"style":514},[2469],{"type":426,"value":603},{"type":421,"tag":496,"props":2471,"children":2472},{"style":1034},[2473],{"type":426,"value":523},{"type":421,"tag":496,"props":2475,"children":2476},{"style":1223},[2477],{"type":426,"value":1226},{"type":421,"tag":496,"props":2479,"children":2480},{"style":1229},[2481],{"type":426,"value":2482},"result is ",{"type":421,"tag":496,"props":2484,"children":2485},{"style":1223},[2486],{"type":426,"value":1226},{"type":421,"tag":496,"props":2488,"children":2489},{"style":611},[2490],{"type":426,"value":2491}," +",{"type":421,"tag":496,"props":2493,"children":2494},{"style":520},[2495],{"type":426,"value":2496}," data",{"type":421,"tag":496,"props":2498,"children":2499},{"style":1034},[2500],{"type":426,"value":624},{"type":421,"tag":496,"props":2502,"children":2503},{"class":498,"line":1135},[2504,2508,2512,2516,2520,2524,2528,2532,2536,2540,2544],{"type":421,"tag":496,"props":2505,"children":2506},{"style":508},[2507],{"type":426,"value":2440},{"type":421,"tag":496,"props":2509,"children":2510},{"style":514},[2511],{"type":426,"value":1992},{"type":421,"tag":496,"props":2513,"children":2514},{"style":1034},[2515],{"type":426,"value":523},{"type":421,"tag":496,"props":2517,"children":2518},{"style":580},[2519],{"type":426,"value":2001},{"type":421,"tag":496,"props":2521,"children":2522},{"style":586},[2523],{"type":426,"value":589},{"type":421,"tag":496,"props":2525,"children":2526},{"style":520},[2527],{"type":426,"value":594},{"type":421,"tag":496,"props":2529,"children":2530},{"style":508},[2531],{"type":426,"value":511},{"type":421,"tag":496,"props":2533,"children":2534},{"style":514},[2535],{"type":426,"value":603},{"type":421,"tag":496,"props":2537,"children":2538},{"style":1034},[2539],{"type":426,"value":523},{"type":421,"tag":496,"props":2541,"children":2542},{"style":520},[2543],{"type":426,"value":2001},{"type":421,"tag":496,"props":2545,"children":2546},{"style":1034},[2547],{"type":426,"value":624},{"type":421,"tag":496,"props":2549,"children":2550},{"class":498,"line":1187},[2551,2555,2559,2563,2567,2571,2575,2579,2583,2587,2591,2596,2600,2604,2608],{"type":421,"tag":496,"props":2552,"children":2553},{"style":508},[2554],{"type":426,"value":2440},{"type":421,"tag":496,"props":2556,"children":2557},{"style":514},[2558],{"type":426,"value":548},{"type":421,"tag":496,"props":2560,"children":2561},{"style":1034},[2562],{"type":426,"value":523},{"type":421,"tag":496,"props":2564,"children":2565},{"style":580},[2566],{"type":426,"value":2453},{"type":421,"tag":496,"props":2568,"children":2569},{"style":586},[2570],{"type":426,"value":589},{"type":421,"tag":496,"props":2572,"children":2573},{"style":520},[2574],{"type":426,"value":594},{"type":421,"tag":496,"props":2576,"children":2577},{"style":508},[2578],{"type":426,"value":511},{"type":421,"tag":496,"props":2580,"children":2581},{"style":514},[2582],{"type":426,"value":603},{"type":421,"tag":496,"props":2584,"children":2585},{"style":1034},[2586],{"type":426,"value":523},{"type":421,"tag":496,"props":2588,"children":2589},{"style":1223},[2590],{"type":426,"value":1226},{"type":421,"tag":496,"props":2592,"children":2593},{"style":1229},[2594],{"type":426,"value":2595},"result is not ",{"type":421,"tag":496,"props":2597,"children":2598},{"style":1223},[2599],{"type":426,"value":1226},{"type":421,"tag":496,"props":2601,"children":2602},{"style":611},[2603],{"type":426,"value":2491},{"type":421,"tag":496,"props":2605,"children":2606},{"style":520},[2607],{"type":426,"value":2496},{"type":421,"tag":496,"props":2609,"children":2610},{"style":1034},[2611],{"type":426,"value":624},{"type":421,"tag":496,"props":2613,"children":2614},{"class":498,"line":1196},[2615,2620],{"type":421,"tag":496,"props":2616,"children":2617},{"style":508},[2618],{"type":426,"value":2619},"  }",{"type":421,"tag":496,"props":2621,"children":2622},{"style":520},[2623],{"type":426,"value":534},{"type":421,"tag":496,"props":2625,"children":2626},{"class":498,"line":1252},[2627,2632,2636,2640,2644,2648,2652],{"type":421,"tag":496,"props":2628,"children":2629},{"style":520},[2630],{"type":426,"value":2631},"promise",{"type":421,"tag":496,"props":2633,"children":2634},{"style":508},[2635],{"type":426,"value":511},{"type":421,"tag":496,"props":2637,"children":2638},{"style":514},[2639],{"type":426,"value":548},{"type":421,"tag":496,"props":2641,"children":2642},{"style":520},[2643],{"type":426,"value":523},{"type":421,"tag":496,"props":2645,"children":2646},{"style":508},[2647],{"type":426,"value":709},{"type":421,"tag":496,"props":2649,"children":2650},{"style":586},[2651],{"type":426,"value":589},{"type":421,"tag":496,"props":2653,"children":2654},{"style":508},[2655],{"type":426,"value":1013},{"type":421,"tag":496,"props":2657,"children":2658},{"class":498,"line":1292},[2659,2663,2667,2671,2675,2679],{"type":421,"tag":496,"props":2660,"children":2661},{"style":520},[2662],{"type":426,"value":1683},{"type":421,"tag":496,"props":2664,"children":2665},{"style":508},[2666],{"type":426,"value":511},{"type":421,"tag":496,"props":2668,"children":2669},{"style":514},[2670],{"type":426,"value":603},{"type":421,"tag":496,"props":2672,"children":2673},{"style":1034},[2674],{"type":426,"value":523},{"type":421,"tag":496,"props":2676,"children":2677},{"style":520},[2678],{"type":426,"value":2631},{"type":421,"tag":496,"props":2680,"children":2681},{"style":1034},[2682],{"type":426,"value":534},{"type":421,"tag":496,"props":2684,"children":2685},{"class":498,"line":1706},[2686,2690],{"type":421,"tag":496,"props":2687,"children":2688},{"style":508},[2689],{"type":426,"value":1646},{"type":421,"tag":496,"props":2691,"children":2692},{"style":520},[2693],{"type":426,"value":534},{"type":421,"tag":2695,"props":2696,"children":2698},"h3",{"id":2697},"links",[2699],{"type":426,"value":2700},"Links",{"type":421,"tag":479,"props":2702,"children":2703},{},[2704],{"type":421,"tag":437,"props":2705,"children":2707},{"href":642,"rel":2706},[441],[2708],{"type":426,"value":2709},"TODO，Promise A+",{"type":421,"tag":422,"props":2711,"children":2713},{"id":2712},"bluebird",[2714],{"type":426,"value":2715},"Bluebird",{"type":421,"tag":472,"props":2717,"children":2719},{"id":2718},"mapseries-和-each-的区别",[2720],{"type":426,"value":2721},"mapSeries 和 each 的区别？",{"type":421,"tag":479,"props":2723,"children":2724},{},[2725],{"type":426,"value":2726},"mapSeries 类似 async 版本的 .map 方法，each 类似 map(asycn => {})；each 语义上用来执行有副作用的函数，函数的 return 对 each 的返回值无影响，each 将返回它接收到的值（fulfilled promise）。",{"type":421,"tag":479,"props":2728,"children":2729},{},[2730,2731,2738,2740,2747,2748],{"type":426,"value":639},{"type":421,"tag":437,"props":2732,"children":2735},{"href":2733,"rel":2734},"http://bluebirdjs.com/docs/api/promise.each.html",[441],[2736],{"type":426,"value":2737},"Promise.each",{"type":426,"value":2739},"、",{"type":421,"tag":437,"props":2741,"children":2744},{"href":2742,"rel":2743},"http://bluebirdjs.com/docs/api/promise.mapseries.html",[441],[2745],{"type":426,"value":2746},"Promise.mapSeries",{"type":426,"value":2739},{"type":421,"tag":437,"props":2749,"children":2752},{"href":2750,"rel":2751},"https://github.com/doodlewind/nativebird/blob/e55c3164dcaf33493d31f9eabbe50b3962219660/test/each.mjs",[441],[2753],{"type":426,"value":2754},"Promise.each testcase",{"type":421,"tag":472,"props":2756,"children":2758},{"id":2757},"try-有什么用",[2759],{"type":426,"value":2760},"try 有什么用？",{"type":421,"tag":479,"props":2762,"children":2763},{},[2764],{"type":426,"value":2765},"Promise.try 将操作包含在 try 内，可以返回与 Promise 一致的实现形式的 Promise，以及带来了更好的错误处理和可读性。",{"type":421,"tag":485,"props":2767,"children":2769},{"className":487,"code":2768,"language":489,"meta":415,"style":415},"Bluebird.try(() => {\n  // return Bluebird Promise,\n  // and throwed error will be catch\n  return database.getUser('lionad')\n}).then(lionad => {\n  // ...\n}).catch(error => {\n  // ...\n})\n",[2770],{"type":421,"tag":492,"props":2771,"children":2772},{"__ignoreMap":415},[2773,2805,2813,2821,2864,2899,2907,2942,2949],{"type":421,"tag":496,"props":2774,"children":2775},{"class":498,"line":499},[2776,2780,2784,2789,2793,2797,2801],{"type":421,"tag":496,"props":2777,"children":2778},{"style":520},[2779],{"type":426,"value":2715},{"type":421,"tag":496,"props":2781,"children":2782},{"style":508},[2783],{"type":426,"value":511},{"type":421,"tag":496,"props":2785,"children":2786},{"style":514},[2787],{"type":426,"value":2788},"try",{"type":421,"tag":496,"props":2790,"children":2791},{"style":520},[2792],{"type":426,"value":523},{"type":421,"tag":496,"props":2794,"children":2795},{"style":508},[2796],{"type":426,"value":709},{"type":421,"tag":496,"props":2798,"children":2799},{"style":586},[2800],{"type":426,"value":589},{"type":421,"tag":496,"props":2802,"children":2803},{"style":508},[2804],{"type":426,"value":1013},{"type":421,"tag":496,"props":2806,"children":2807},{"class":498,"line":537},[2808],{"type":421,"tag":496,"props":2809,"children":2810},{"style":631},[2811],{"type":426,"value":2812},"  // return Bluebird Promise,\n",{"type":421,"tag":496,"props":2814,"children":2815},{"class":498,"line":564},[2816],{"type":421,"tag":496,"props":2817,"children":2818},{"style":631},[2819],{"type":426,"value":2820},"  // and throwed error will be catch\n",{"type":421,"tag":496,"props":2822,"children":2823},{"class":498,"line":627},[2824,2829,2834,2838,2843,2847,2851,2856,2860],{"type":421,"tag":496,"props":2825,"children":2826},{"style":1019},[2827],{"type":426,"value":2828},"  return",{"type":421,"tag":496,"props":2830,"children":2831},{"style":520},[2832],{"type":426,"value":2833}," database",{"type":421,"tag":496,"props":2835,"children":2836},{"style":508},[2837],{"type":426,"value":511},{"type":421,"tag":496,"props":2839,"children":2840},{"style":514},[2841],{"type":426,"value":2842},"getUser",{"type":421,"tag":496,"props":2844,"children":2845},{"style":1034},[2846],{"type":426,"value":523},{"type":421,"tag":496,"props":2848,"children":2849},{"style":1223},[2850],{"type":426,"value":1226},{"type":421,"tag":496,"props":2852,"children":2853},{"style":1229},[2854],{"type":426,"value":2855},"lionad",{"type":421,"tag":496,"props":2857,"children":2858},{"style":1223},[2859],{"type":426,"value":1226},{"type":421,"tag":496,"props":2861,"children":2862},{"style":1034},[2863],{"type":426,"value":534},{"type":421,"tag":496,"props":2865,"children":2866},{"class":498,"line":1112},[2867,2871,2875,2879,2883,2887,2891,2895],{"type":421,"tag":496,"props":2868,"children":2869},{"style":508},[2870],{"type":426,"value":1646},{"type":421,"tag":496,"props":2872,"children":2873},{"style":520},[2874],{"type":426,"value":692},{"type":421,"tag":496,"props":2876,"children":2877},{"style":508},[2878],{"type":426,"value":511},{"type":421,"tag":496,"props":2880,"children":2881},{"style":514},[2882],{"type":426,"value":548},{"type":421,"tag":496,"props":2884,"children":2885},{"style":520},[2886],{"type":426,"value":523},{"type":421,"tag":496,"props":2888,"children":2889},{"style":580},[2890],{"type":426,"value":2855},{"type":421,"tag":496,"props":2892,"children":2893},{"style":586},[2894],{"type":426,"value":589},{"type":421,"tag":496,"props":2896,"children":2897},{"style":508},[2898],{"type":426,"value":1013},{"type":421,"tag":496,"props":2900,"children":2901},{"class":498,"line":1121},[2902],{"type":421,"tag":496,"props":2903,"children":2904},{"style":631},[2905],{"type":426,"value":2906},"  // ...\n",{"type":421,"tag":496,"props":2908,"children":2909},{"class":498,"line":1135},[2910,2914,2918,2922,2926,2930,2934,2938],{"type":421,"tag":496,"props":2911,"children":2912},{"style":508},[2913],{"type":426,"value":1646},{"type":421,"tag":496,"props":2915,"children":2916},{"style":520},[2917],{"type":426,"value":692},{"type":421,"tag":496,"props":2919,"children":2920},{"style":508},[2921],{"type":426,"value":511},{"type":421,"tag":496,"props":2923,"children":2924},{"style":514},[2925],{"type":426,"value":1992},{"type":421,"tag":496,"props":2927,"children":2928},{"style":520},[2929],{"type":426,"value":523},{"type":421,"tag":496,"props":2931,"children":2932},{"style":580},[2933],{"type":426,"value":2424},{"type":421,"tag":496,"props":2935,"children":2936},{"style":586},[2937],{"type":426,"value":589},{"type":421,"tag":496,"props":2939,"children":2940},{"style":508},[2941],{"type":426,"value":1013},{"type":421,"tag":496,"props":2943,"children":2944},{"class":498,"line":1187},[2945],{"type":421,"tag":496,"props":2946,"children":2947},{"style":631},[2948],{"type":426,"value":2906},{"type":421,"tag":496,"props":2950,"children":2951},{"class":498,"line":1196},[2952,2956],{"type":421,"tag":496,"props":2953,"children":2954},{"style":508},[2955],{"type":426,"value":1646},{"type":421,"tag":496,"props":2957,"children":2958},{"style":520},[2959],{"type":426,"value":534},{"type":421,"tag":479,"props":2961,"children":2962},{},[2963,2964],{"type":426,"value":639},{"type":421,"tag":437,"props":2965,"children":2968},{"href":2966,"rel":2967},"https://segmentfault.com/a/1190000018586947",[441],[2969],{"type":426,"value":2970},"什么是 Promise.try，为什么它这么重要？",{"type":421,"tag":472,"props":2972,"children":2974},{"id":2973},"为-map-的并发参数设计测试用例",[2975],{"type":426,"value":2976},"为 map 的并发参数设计测试用例？",{"type":421,"tag":479,"props":2978,"children":2979},{},[2980],{"type":426,"value":2981},"拿到 promise 的 resolve 函数，手动控制 promise fulfilled 的时机，并判断执行的队列和结果队列的长度。",{"type":421,"tag":485,"props":2983,"children":2985},{"className":487,"code":2984,"language":489,"meta":415,"style":415},"const tasks = []\nconst createTask = val => {\n  let resolve\n  const promise = new Promise(_resolve => resolve = _resolve)\n  tasks.push(() => resolve(val))\n  return promise\n}\nconst results = []\nPromise.all([\n  // Run Tasks\n  Promise.map([0,1,2], val => {\n    return createTask(val).then(res => results.push(res))\n  }, { concurrency: 2 }),\n  // Check the length of tasks and results\n  Promise.delay(100).then(() => {\n    tasks.map(fn => fn())\n    assert(tasks.length === 2)\n    assert(results.length === 0)\n  }).then(() => {\n    assert(tasks.length === 2)\n    assert(results.length === 2)\n  }).delay(100).then(() => {\n    tasks.map(fn => fn())\n    assert(tasks.length === 3)\n    assert(results.length === 2)\n  }).then(() => {\n    assert(tasks.length === 3)\n    assert(results.length === 3)\n  })\n])\n",[2986],{"type":421,"tag":492,"props":2987,"children":2988},{"__ignoreMap":415},[2989,3010,3040,3053,3107,3153,3165,3172,3192,3213,3221,3284,3351,3391,3399,3452,3491,3530,3566,3601,3636,3671,3726,3761,3796,3831,3866,3901,3936,3948],{"type":421,"tag":496,"props":2990,"children":2991},{"class":498,"line":499},[2992,2996,3001,3005],{"type":421,"tag":496,"props":2993,"children":2994},{"style":586},[2995],{"type":426,"value":1337},{"type":421,"tag":496,"props":2997,"children":2998},{"style":1340},[2999],{"type":426,"value":3000}," tasks",{"type":421,"tag":496,"props":3002,"children":3003},{"style":611},[3004],{"type":426,"value":1348},{"type":421,"tag":496,"props":3006,"children":3007},{"style":520},[3008],{"type":426,"value":3009}," []\n",{"type":421,"tag":496,"props":3011,"children":3012},{"class":498,"line":537},[3013,3017,3023,3027,3032,3036],{"type":421,"tag":496,"props":3014,"children":3015},{"style":586},[3016],{"type":426,"value":1337},{"type":421,"tag":496,"props":3018,"children":3020},{"style":3019},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[3021],{"type":426,"value":3022}," createTask",{"type":421,"tag":496,"props":3024,"children":3025},{"style":611},[3026],{"type":426,"value":1348},{"type":421,"tag":496,"props":3028,"children":3029},{"style":580},[3030],{"type":426,"value":3031}," val",{"type":421,"tag":496,"props":3033,"children":3034},{"style":586},[3035],{"type":426,"value":589},{"type":421,"tag":496,"props":3037,"children":3038},{"style":508},[3039],{"type":426,"value":1013},{"type":421,"tag":496,"props":3041,"children":3042},{"class":498,"line":564},[3043,3048],{"type":421,"tag":496,"props":3044,"children":3045},{"style":586},[3046],{"type":426,"value":3047},"  let",{"type":421,"tag":496,"props":3049,"children":3050},{"style":520},[3051],{"type":426,"value":3052}," resolve\n",{"type":421,"tag":496,"props":3054,"children":3055},{"class":498,"line":627},[3056,3061,3065,3069,3073,3077,3081,3086,3090,3094,3098,3103],{"type":421,"tag":496,"props":3057,"children":3058},{"style":586},[3059],{"type":426,"value":3060},"  const",{"type":421,"tag":496,"props":3062,"children":3063},{"style":1340},[3064],{"type":426,"value":2322},{"type":421,"tag":496,"props":3066,"children":3067},{"style":611},[3068],{"type":426,"value":1348},{"type":421,"tag":496,"props":3070,"children":3071},{"style":611},[3072],{"type":426,"value":1027},{"type":421,"tag":496,"props":3074,"children":3075},{"style":503},[3076],{"type":426,"value":855},{"type":421,"tag":496,"props":3078,"children":3079},{"style":1034},[3080],{"type":426,"value":523},{"type":421,"tag":496,"props":3082,"children":3083},{"style":580},[3084],{"type":426,"value":3085},"_resolve",{"type":421,"tag":496,"props":3087,"children":3088},{"style":586},[3089],{"type":426,"value":589},{"type":421,"tag":496,"props":3091,"children":3092},{"style":520},[3093],{"type":426,"value":897},{"type":421,"tag":496,"props":3095,"children":3096},{"style":611},[3097],{"type":426,"value":1348},{"type":421,"tag":496,"props":3099,"children":3100},{"style":520},[3101],{"type":426,"value":3102}," _resolve",{"type":421,"tag":496,"props":3104,"children":3105},{"style":1034},[3106],{"type":426,"value":534},{"type":421,"tag":496,"props":3108,"children":3109},{"class":498,"line":1112},[3110,3115,3119,3124,3128,3132,3136,3140,3144,3149],{"type":421,"tag":496,"props":3111,"children":3112},{"style":520},[3113],{"type":426,"value":3114},"  tasks",{"type":421,"tag":496,"props":3116,"children":3117},{"style":508},[3118],{"type":426,"value":511},{"type":421,"tag":496,"props":3120,"children":3121},{"style":514},[3122],{"type":426,"value":3123},"push",{"type":421,"tag":496,"props":3125,"children":3126},{"style":1034},[3127],{"type":426,"value":523},{"type":421,"tag":496,"props":3129,"children":3130},{"style":508},[3131],{"type":426,"value":709},{"type":421,"tag":496,"props":3133,"children":3134},{"style":586},[3135],{"type":426,"value":589},{"type":421,"tag":496,"props":3137,"children":3138},{"style":514},[3139],{"type":426,"value":897},{"type":421,"tag":496,"props":3141,"children":3142},{"style":1034},[3143],{"type":426,"value":523},{"type":421,"tag":496,"props":3145,"children":3146},{"style":520},[3147],{"type":426,"value":3148},"val",{"type":421,"tag":496,"props":3150,"children":3151},{"style":1034},[3152],{"type":426,"value":624},{"type":421,"tag":496,"props":3154,"children":3155},{"class":498,"line":1121},[3156,3160],{"type":421,"tag":496,"props":3157,"children":3158},{"style":1019},[3159],{"type":426,"value":2828},{"type":421,"tag":496,"props":3161,"children":3162},{"style":520},[3163],{"type":426,"value":3164}," promise\n",{"type":421,"tag":496,"props":3166,"children":3167},{"class":498,"line":1135},[3168],{"type":421,"tag":496,"props":3169,"children":3170},{"style":508},[3171],{"type":426,"value":1118},{"type":421,"tag":496,"props":3173,"children":3174},{"class":498,"line":1187},[3175,3179,3184,3188],{"type":421,"tag":496,"props":3176,"children":3177},{"style":586},[3178],{"type":426,"value":1337},{"type":421,"tag":496,"props":3180,"children":3181},{"style":1340},[3182],{"type":426,"value":3183}," results",{"type":421,"tag":496,"props":3185,"children":3186},{"style":611},[3187],{"type":426,"value":1348},{"type":421,"tag":496,"props":3189,"children":3190},{"style":520},[3191],{"type":426,"value":3009},{"type":421,"tag":496,"props":3193,"children":3194},{"class":498,"line":1196},[3195,3199,3203,3208],{"type":421,"tag":496,"props":3196,"children":3197},{"style":503},[3198],{"type":426,"value":416},{"type":421,"tag":496,"props":3200,"children":3201},{"style":508},[3202],{"type":426,"value":511},{"type":421,"tag":496,"props":3204,"children":3205},{"style":514},[3206],{"type":426,"value":3207},"all",{"type":421,"tag":496,"props":3209,"children":3210},{"style":520},[3211],{"type":426,"value":3212},"([\n",{"type":421,"tag":496,"props":3214,"children":3215},{"class":498,"line":1252},[3216],{"type":421,"tag":496,"props":3217,"children":3218},{"style":631},[3219],{"type":426,"value":3220},"  // Run Tasks\n",{"type":421,"tag":496,"props":3222,"children":3223},{"class":498,"line":1292},[3224,3229,3233,3238,3242,3247,3251,3255,3259,3263,3268,3272,3276,3280],{"type":421,"tag":496,"props":3225,"children":3226},{"style":503},[3227],{"type":426,"value":3228},"  Promise",{"type":421,"tag":496,"props":3230,"children":3231},{"style":508},[3232],{"type":426,"value":511},{"type":421,"tag":496,"props":3234,"children":3235},{"style":514},[3236],{"type":426,"value":3237},"map",{"type":421,"tag":496,"props":3239,"children":3240},{"style":520},[3241],{"type":426,"value":1211},{"type":421,"tag":496,"props":3243,"children":3244},{"style":526},[3245],{"type":426,"value":3246},"0",{"type":421,"tag":496,"props":3248,"children":3249},{"style":508},[3250],{"type":426,"value":787},{"type":421,"tag":496,"props":3252,"children":3253},{"style":526},[3254],{"type":426,"value":529},{"type":421,"tag":496,"props":3256,"children":3257},{"style":508},[3258],{"type":426,"value":787},{"type":421,"tag":496,"props":3260,"children":3261},{"style":526},[3262],{"type":426,"value":557},{"type":421,"tag":496,"props":3264,"children":3265},{"style":520},[3266],{"type":426,"value":3267},"]",{"type":421,"tag":496,"props":3269,"children":3270},{"style":508},[3271],{"type":426,"value":787},{"type":421,"tag":496,"props":3273,"children":3274},{"style":580},[3275],{"type":426,"value":3031},{"type":421,"tag":496,"props":3277,"children":3278},{"style":586},[3279],{"type":426,"value":589},{"type":421,"tag":496,"props":3281,"children":3282},{"style":508},[3283],{"type":426,"value":1013},{"type":421,"tag":496,"props":3285,"children":3286},{"class":498,"line":1706},[3287,3291,3295,3299,3303,3307,3311,3315,3319,3323,3327,3331,3335,3339,3343,3347],{"type":421,"tag":496,"props":3288,"children":3289},{"style":1019},[3290],{"type":426,"value":1022},{"type":421,"tag":496,"props":3292,"children":3293},{"style":514},[3294],{"type":426,"value":3022},{"type":421,"tag":496,"props":3296,"children":3297},{"style":1034},[3298],{"type":426,"value":523},{"type":421,"tag":496,"props":3300,"children":3301},{"style":520},[3302],{"type":426,"value":3148},{"type":421,"tag":496,"props":3304,"children":3305},{"style":1034},[3306],{"type":426,"value":692},{"type":421,"tag":496,"props":3308,"children":3309},{"style":508},[3310],{"type":426,"value":511},{"type":421,"tag":496,"props":3312,"children":3313},{"style":514},[3314],{"type":426,"value":548},{"type":421,"tag":496,"props":3316,"children":3317},{"style":1034},[3318],{"type":426,"value":523},{"type":421,"tag":496,"props":3320,"children":3321},{"style":580},[3322],{"type":426,"value":1667},{"type":421,"tag":496,"props":3324,"children":3325},{"style":586},[3326],{"type":426,"value":589},{"type":421,"tag":496,"props":3328,"children":3329},{"style":520},[3330],{"type":426,"value":3183},{"type":421,"tag":496,"props":3332,"children":3333},{"style":508},[3334],{"type":426,"value":511},{"type":421,"tag":496,"props":3336,"children":3337},{"style":514},[3338],{"type":426,"value":3123},{"type":421,"tag":496,"props":3340,"children":3341},{"style":1034},[3342],{"type":426,"value":523},{"type":421,"tag":496,"props":3344,"children":3345},{"style":520},[3346],{"type":426,"value":1667},{"type":421,"tag":496,"props":3348,"children":3349},{"style":1034},[3350],{"type":426,"value":624},{"type":421,"tag":496,"props":3352,"children":3353},{"class":498,"line":1730},[3354,3358,3363,3368,3373,3377,3382,3386],{"type":421,"tag":496,"props":3355,"children":3356},{"style":508},[3357],{"type":426,"value":1564},{"type":421,"tag":496,"props":3359,"children":3360},{"style":508},[3361],{"type":426,"value":3362}," {",{"type":421,"tag":496,"props":3364,"children":3365},{"style":1034},[3366],{"type":426,"value":3367}," concurrency",{"type":421,"tag":496,"props":3369,"children":3370},{"style":508},[3371],{"type":426,"value":3372},":",{"type":421,"tag":496,"props":3374,"children":3375},{"style":526},[3376],{"type":426,"value":718},{"type":421,"tag":496,"props":3378,"children":3379},{"style":508},[3380],{"type":426,"value":3381}," }",{"type":421,"tag":496,"props":3383,"children":3384},{"style":520},[3385],{"type":426,"value":692},{"type":421,"tag":496,"props":3387,"children":3388},{"style":508},[3389],{"type":426,"value":3390},",\n",{"type":421,"tag":496,"props":3392,"children":3393},{"class":498,"line":1759},[3394],{"type":421,"tag":496,"props":3395,"children":3396},{"style":631},[3397],{"type":426,"value":3398},"  // Check the length of tasks and results\n",{"type":421,"tag":496,"props":3400,"children":3401},{"class":498,"line":1836},[3402,3406,3410,3415,3419,3424,3428,3432,3436,3440,3444,3448],{"type":421,"tag":496,"props":3403,"children":3404},{"style":503},[3405],{"type":426,"value":3228},{"type":421,"tag":496,"props":3407,"children":3408},{"style":508},[3409],{"type":426,"value":511},{"type":421,"tag":496,"props":3411,"children":3412},{"style":514},[3413],{"type":426,"value":3414},"delay",{"type":421,"tag":496,"props":3416,"children":3417},{"style":520},[3418],{"type":426,"value":523},{"type":421,"tag":496,"props":3420,"children":3421},{"style":526},[3422],{"type":426,"value":3423},"100",{"type":421,"tag":496,"props":3425,"children":3426},{"style":520},[3427],{"type":426,"value":692},{"type":421,"tag":496,"props":3429,"children":3430},{"style":508},[3431],{"type":426,"value":511},{"type":421,"tag":496,"props":3433,"children":3434},{"style":514},[3435],{"type":426,"value":548},{"type":421,"tag":496,"props":3437,"children":3438},{"style":520},[3439],{"type":426,"value":523},{"type":421,"tag":496,"props":3441,"children":3442},{"style":508},[3443],{"type":426,"value":709},{"type":421,"tag":496,"props":3445,"children":3446},{"style":586},[3447],{"type":426,"value":589},{"type":421,"tag":496,"props":3449,"children":3450},{"style":508},[3451],{"type":426,"value":1013},{"type":421,"tag":496,"props":3453,"children":3454},{"class":498,"line":1852},[3455,3460,3464,3468,3472,3477,3481,3486],{"type":421,"tag":496,"props":3456,"children":3457},{"style":520},[3458],{"type":426,"value":3459},"    tasks",{"type":421,"tag":496,"props":3461,"children":3462},{"style":508},[3463],{"type":426,"value":511},{"type":421,"tag":496,"props":3465,"children":3466},{"style":514},[3467],{"type":426,"value":3237},{"type":421,"tag":496,"props":3469,"children":3470},{"style":1034},[3471],{"type":426,"value":523},{"type":421,"tag":496,"props":3473,"children":3474},{"style":580},[3475],{"type":426,"value":3476},"fn",{"type":421,"tag":496,"props":3478,"children":3479},{"style":586},[3480],{"type":426,"value":589},{"type":421,"tag":496,"props":3482,"children":3483},{"style":514},[3484],{"type":426,"value":3485}," fn",{"type":421,"tag":496,"props":3487,"children":3488},{"style":1034},[3489],{"type":426,"value":3490},"())\n",{"type":421,"tag":496,"props":3492,"children":3493},{"class":498,"line":1889},[3494,3499,3503,3508,3512,3517,3522,3526],{"type":421,"tag":496,"props":3495,"children":3496},{"style":514},[3497],{"type":426,"value":3498},"    assert",{"type":421,"tag":496,"props":3500,"children":3501},{"style":1034},[3502],{"type":426,"value":523},{"type":421,"tag":496,"props":3504,"children":3505},{"style":520},[3506],{"type":426,"value":3507},"tasks",{"type":421,"tag":496,"props":3509,"children":3510},{"style":508},[3511],{"type":426,"value":511},{"type":421,"tag":496,"props":3513,"children":3514},{"style":1340},[3515],{"type":426,"value":3516},"length",{"type":421,"tag":496,"props":3518,"children":3519},{"style":611},[3520],{"type":426,"value":3521}," ===",{"type":421,"tag":496,"props":3523,"children":3524},{"style":526},[3525],{"type":426,"value":718},{"type":421,"tag":496,"props":3527,"children":3528},{"style":1034},[3529],{"type":426,"value":534},{"type":421,"tag":496,"props":3531,"children":3532},{"class":498,"line":1935},[3533,3537,3541,3546,3550,3554,3558,3562],{"type":421,"tag":496,"props":3534,"children":3535},{"style":514},[3536],{"type":426,"value":3498},{"type":421,"tag":496,"props":3538,"children":3539},{"style":1034},[3540],{"type":426,"value":523},{"type":421,"tag":496,"props":3542,"children":3543},{"style":520},[3544],{"type":426,"value":3545},"results",{"type":421,"tag":496,"props":3547,"children":3548},{"style":508},[3549],{"type":426,"value":511},{"type":421,"tag":496,"props":3551,"children":3552},{"style":1340},[3553],{"type":426,"value":3516},{"type":421,"tag":496,"props":3555,"children":3556},{"style":611},[3557],{"type":426,"value":3521},{"type":421,"tag":496,"props":3559,"children":3560},{"style":526},[3561],{"type":426,"value":1569},{"type":421,"tag":496,"props":3563,"children":3564},{"style":1034},[3565],{"type":426,"value":534},{"type":421,"tag":496,"props":3567,"children":3568},{"class":498,"line":1974},[3569,3573,3577,3581,3585,3589,3593,3597],{"type":421,"tag":496,"props":3570,"children":3571},{"style":508},[3572],{"type":426,"value":2619},{"type":421,"tag":496,"props":3574,"children":3575},{"style":520},[3576],{"type":426,"value":692},{"type":421,"tag":496,"props":3578,"children":3579},{"style":508},[3580],{"type":426,"value":511},{"type":421,"tag":496,"props":3582,"children":3583},{"style":514},[3584],{"type":426,"value":548},{"type":421,"tag":496,"props":3586,"children":3587},{"style":520},[3588],{"type":426,"value":523},{"type":421,"tag":496,"props":3590,"children":3591},{"style":508},[3592],{"type":426,"value":709},{"type":421,"tag":496,"props":3594,"children":3595},{"style":586},[3596],{"type":426,"value":589},{"type":421,"tag":496,"props":3598,"children":3599},{"style":508},[3600],{"type":426,"value":1013},{"type":421,"tag":496,"props":3602,"children":3603},{"class":498,"line":2012},[3604,3608,3612,3616,3620,3624,3628,3632],{"type":421,"tag":496,"props":3605,"children":3606},{"style":514},[3607],{"type":426,"value":3498},{"type":421,"tag":496,"props":3609,"children":3610},{"style":1034},[3611],{"type":426,"value":523},{"type":421,"tag":496,"props":3613,"children":3614},{"style":520},[3615],{"type":426,"value":3507},{"type":421,"tag":496,"props":3617,"children":3618},{"style":508},[3619],{"type":426,"value":511},{"type":421,"tag":496,"props":3621,"children":3622},{"style":1340},[3623],{"type":426,"value":3516},{"type":421,"tag":496,"props":3625,"children":3626},{"style":611},[3627],{"type":426,"value":3521},{"type":421,"tag":496,"props":3629,"children":3630},{"style":526},[3631],{"type":426,"value":718},{"type":421,"tag":496,"props":3633,"children":3634},{"style":1034},[3635],{"type":426,"value":534},{"type":421,"tag":496,"props":3637,"children":3638},{"class":498,"line":2040},[3639,3643,3647,3651,3655,3659,3663,3667],{"type":421,"tag":496,"props":3640,"children":3641},{"style":514},[3642],{"type":426,"value":3498},{"type":421,"tag":496,"props":3644,"children":3645},{"style":1034},[3646],{"type":426,"value":523},{"type":421,"tag":496,"props":3648,"children":3649},{"style":520},[3650],{"type":426,"value":3545},{"type":421,"tag":496,"props":3652,"children":3653},{"style":508},[3654],{"type":426,"value":511},{"type":421,"tag":496,"props":3656,"children":3657},{"style":1340},[3658],{"type":426,"value":3516},{"type":421,"tag":496,"props":3660,"children":3661},{"style":611},[3662],{"type":426,"value":3521},{"type":421,"tag":496,"props":3664,"children":3665},{"style":526},[3666],{"type":426,"value":718},{"type":421,"tag":496,"props":3668,"children":3669},{"style":1034},[3670],{"type":426,"value":534},{"type":421,"tag":496,"props":3672,"children":3673},{"class":498,"line":2077},[3674,3678,3682,3686,3690,3694,3698,3702,3706,3710,3714,3718,3722],{"type":421,"tag":496,"props":3675,"children":3676},{"style":508},[3677],{"type":426,"value":2619},{"type":421,"tag":496,"props":3679,"children":3680},{"style":520},[3681],{"type":426,"value":692},{"type":421,"tag":496,"props":3683,"children":3684},{"style":508},[3685],{"type":426,"value":511},{"type":421,"tag":496,"props":3687,"children":3688},{"style":514},[3689],{"type":426,"value":3414},{"type":421,"tag":496,"props":3691,"children":3692},{"style":520},[3693],{"type":426,"value":523},{"type":421,"tag":496,"props":3695,"children":3696},{"style":526},[3697],{"type":426,"value":3423},{"type":421,"tag":496,"props":3699,"children":3700},{"style":520},[3701],{"type":426,"value":692},{"type":421,"tag":496,"props":3703,"children":3704},{"style":508},[3705],{"type":426,"value":511},{"type":421,"tag":496,"props":3707,"children":3708},{"style":514},[3709],{"type":426,"value":548},{"type":421,"tag":496,"props":3711,"children":3712},{"style":520},[3713],{"type":426,"value":523},{"type":421,"tag":496,"props":3715,"children":3716},{"style":508},[3717],{"type":426,"value":709},{"type":421,"tag":496,"props":3719,"children":3720},{"style":586},[3721],{"type":426,"value":589},{"type":421,"tag":496,"props":3723,"children":3724},{"style":508},[3725],{"type":426,"value":1013},{"type":421,"tag":496,"props":3727,"children":3728},{"class":498,"line":2113},[3729,3733,3737,3741,3745,3749,3753,3757],{"type":421,"tag":496,"props":3730,"children":3731},{"style":520},[3732],{"type":426,"value":3459},{"type":421,"tag":496,"props":3734,"children":3735},{"style":508},[3736],{"type":426,"value":511},{"type":421,"tag":496,"props":3738,"children":3739},{"style":514},[3740],{"type":426,"value":3237},{"type":421,"tag":496,"props":3742,"children":3743},{"style":1034},[3744],{"type":426,"value":523},{"type":421,"tag":496,"props":3746,"children":3747},{"style":580},[3748],{"type":426,"value":3476},{"type":421,"tag":496,"props":3750,"children":3751},{"style":586},[3752],{"type":426,"value":589},{"type":421,"tag":496,"props":3754,"children":3755},{"style":514},[3756],{"type":426,"value":3485},{"type":421,"tag":496,"props":3758,"children":3759},{"style":1034},[3760],{"type":426,"value":3490},{"type":421,"tag":496,"props":3762,"children":3763},{"class":498,"line":2141},[3764,3768,3772,3776,3780,3784,3788,3792],{"type":421,"tag":496,"props":3765,"children":3766},{"style":514},[3767],{"type":426,"value":3498},{"type":421,"tag":496,"props":3769,"children":3770},{"style":1034},[3771],{"type":426,"value":523},{"type":421,"tag":496,"props":3773,"children":3774},{"style":520},[3775],{"type":426,"value":3507},{"type":421,"tag":496,"props":3777,"children":3778},{"style":508},[3779],{"type":426,"value":511},{"type":421,"tag":496,"props":3781,"children":3782},{"style":1340},[3783],{"type":426,"value":3516},{"type":421,"tag":496,"props":3785,"children":3786},{"style":611},[3787],{"type":426,"value":3521},{"type":421,"tag":496,"props":3789,"children":3790},{"style":526},[3791],{"type":426,"value":801},{"type":421,"tag":496,"props":3793,"children":3794},{"style":1034},[3795],{"type":426,"value":534},{"type":421,"tag":496,"props":3797,"children":3798},{"class":498,"line":2177},[3799,3803,3807,3811,3815,3819,3823,3827],{"type":421,"tag":496,"props":3800,"children":3801},{"style":514},[3802],{"type":426,"value":3498},{"type":421,"tag":496,"props":3804,"children":3805},{"style":1034},[3806],{"type":426,"value":523},{"type":421,"tag":496,"props":3808,"children":3809},{"style":520},[3810],{"type":426,"value":3545},{"type":421,"tag":496,"props":3812,"children":3813},{"style":508},[3814],{"type":426,"value":511},{"type":421,"tag":496,"props":3816,"children":3817},{"style":1340},[3818],{"type":426,"value":3516},{"type":421,"tag":496,"props":3820,"children":3821},{"style":611},[3822],{"type":426,"value":3521},{"type":421,"tag":496,"props":3824,"children":3825},{"style":526},[3826],{"type":426,"value":718},{"type":421,"tag":496,"props":3828,"children":3829},{"style":1034},[3830],{"type":426,"value":534},{"type":421,"tag":496,"props":3832,"children":3833},{"class":498,"line":2205},[3834,3838,3842,3846,3850,3854,3858,3862],{"type":421,"tag":496,"props":3835,"children":3836},{"style":508},[3837],{"type":426,"value":2619},{"type":421,"tag":496,"props":3839,"children":3840},{"style":520},[3841],{"type":426,"value":692},{"type":421,"tag":496,"props":3843,"children":3844},{"style":508},[3845],{"type":426,"value":511},{"type":421,"tag":496,"props":3847,"children":3848},{"style":514},[3849],{"type":426,"value":548},{"type":421,"tag":496,"props":3851,"children":3852},{"style":520},[3853],{"type":426,"value":523},{"type":421,"tag":496,"props":3855,"children":3856},{"style":508},[3857],{"type":426,"value":709},{"type":421,"tag":496,"props":3859,"children":3860},{"style":586},[3861],{"type":426,"value":589},{"type":421,"tag":496,"props":3863,"children":3864},{"style":508},[3865],{"type":426,"value":1013},{"type":421,"tag":496,"props":3867,"children":3868},{"class":498,"line":2241},[3869,3873,3877,3881,3885,3889,3893,3897],{"type":421,"tag":496,"props":3870,"children":3871},{"style":514},[3872],{"type":426,"value":3498},{"type":421,"tag":496,"props":3874,"children":3875},{"style":1034},[3876],{"type":426,"value":523},{"type":421,"tag":496,"props":3878,"children":3879},{"style":520},[3880],{"type":426,"value":3507},{"type":421,"tag":496,"props":3882,"children":3883},{"style":508},[3884],{"type":426,"value":511},{"type":421,"tag":496,"props":3886,"children":3887},{"style":1340},[3888],{"type":426,"value":3516},{"type":421,"tag":496,"props":3890,"children":3891},{"style":611},[3892],{"type":426,"value":3521},{"type":421,"tag":496,"props":3894,"children":3895},{"style":526},[3896],{"type":426,"value":801},{"type":421,"tag":496,"props":3898,"children":3899},{"style":1034},[3900],{"type":426,"value":534},{"type":421,"tag":496,"props":3902,"children":3903},{"class":498,"line":2286},[3904,3908,3912,3916,3920,3924,3928,3932],{"type":421,"tag":496,"props":3905,"children":3906},{"style":514},[3907],{"type":426,"value":3498},{"type":421,"tag":496,"props":3909,"children":3910},{"style":1034},[3911],{"type":426,"value":523},{"type":421,"tag":496,"props":3913,"children":3914},{"style":520},[3915],{"type":426,"value":3545},{"type":421,"tag":496,"props":3917,"children":3918},{"style":508},[3919],{"type":426,"value":511},{"type":421,"tag":496,"props":3921,"children":3922},{"style":1340},[3923],{"type":426,"value":3516},{"type":421,"tag":496,"props":3925,"children":3926},{"style":611},[3927],{"type":426,"value":3521},{"type":421,"tag":496,"props":3929,"children":3930},{"style":526},[3931],{"type":426,"value":801},{"type":421,"tag":496,"props":3933,"children":3934},{"style":1034},[3935],{"type":426,"value":534},{"type":421,"tag":496,"props":3937,"children":3939},{"class":498,"line":3938},29,[3940,3944],{"type":421,"tag":496,"props":3941,"children":3942},{"style":508},[3943],{"type":426,"value":2619},{"type":421,"tag":496,"props":3945,"children":3946},{"style":520},[3947],{"type":426,"value":534},{"type":421,"tag":496,"props":3949,"children":3951},{"class":498,"line":3950},30,[3952],{"type":421,"tag":496,"props":3953,"children":3954},{"style":520},[3955],{"type":426,"value":3956},"])\n",{"type":421,"tag":479,"props":3958,"children":3959},{},[3960,3961],{"type":426,"value":639},{"type":421,"tag":437,"props":3962,"children":3965},{"href":3963,"rel":3964},"https://github.com/doodlewind/nativebird/blob/e55c3164dcaf33493d31f9eabbe50b3962219660/test/map.mjs#L247",[441],[3966],{"type":426,"value":3967},"Promise.map testcase",{"type":421,"tag":3969,"props":3970,"children":3971},"style",{},[3972],{"type":426,"value":3973},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":415,"searchDepth":537,"depth":537,"links":3975},[3976,3977,3980],{"id":406,"depth":537,"text":427},{"id":467,"depth":537,"text":470,"children":3978},[3979],{"id":2697,"depth":564,"text":2700},{"id":2712,"depth":537,"text":2715},"markdown","content:6.maps:_frontend:javascript:promise.md","content","6.maps/_frontend/javascript/promise.md","6.maps/_frontend/javascript/promise","md",[3988,3991],{"_path":3989,"title":3990,"description":415},"/maps/_frontend/javascript/javascript-mind-map","JavaScript Mind Map",{"_path":3992,"title":3993,"description":415},"/maps/_frontend/w3c","W3C Standards",1732808717879]