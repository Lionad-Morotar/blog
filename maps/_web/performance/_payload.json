[{"data":1,"prerenderedAt":2068},["Reactive",2],{"navigation":3,"/maps/_web/performance":383,"/maps/_web/performance-surround":2062},[4,32,80,96,123,129,135,366,372,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":42,"_path":43},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":45,"_path":46},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":48,"_path":49},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":51,"_path":52},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":54,"_path":55},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":57,"_path":58},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":60,"_path":61},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":63,"_path":64},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":66,"_path":67},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":69,"_path":70},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":72,"_path":73},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":75,"_path":76},"🚝 四十二篇系列","/articles/fourty-two",{"title":78,"_path":79},"📝 技术博客归档","/articles/fold",{"title":81,"_path":82,"children":83},"造物 / Make","/tools",[84,87,90,93],{"title":85,"_path":86},"🌐 AnySort","/tools/anysort",{"title":88,"_path":89},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":91,"_path":92},"👓 Crapto","/tools/crypto-inline",{"title":94,"_path":95},"🖨️ any-to-base64","/tools/any-to-base64",{"title":97,"_path":98,"children":99},"吉他剧场 / Music","/music",[100,102,105,108,111,114,117,120],{"title":101,"_path":98},"🎸 FingerStyle！",{"title":103,"_path":104},"🌬️ 等待的风","/music/wind",{"title":106,"_path":107},"💕 约定的海洋","/music/ocean",{"title":109,"_path":110},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":112,"_path":113},"🌏 残酷天使的行动纲领","/music/eva",{"title":115,"_path":116},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":118,"_path":119},"🍷 Wu Wei","/music/wu-wei",{"title":121,"_path":122},"🌅 无题","/music/untitled",{"title":124,"_path":125,"children":126},"画点什么 / Paint","/paint",[127],{"title":128,"_path":125},"🚧 正在施工",{"title":130,"_path":131,"children":132},"知识地图 / Maps","/maps",[133],{"title":134,"_path":131},"🏁 知识地图",{"title":136,"_path":137,"children":138},"零散的笔记 / Gists","/gists",[139,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363],{"title":140,"_path":137},"🧊 Gists",{"title":142,"_path":143},"网站的可访问性","/gists/accessibility",{"title":145,"_path":146},"图片模糊","/gists/blur",{"title":148,"_path":149},"渲染相关笔记","/gists/c4d",{"title":151,"_path":152},"CDN 问题记录","/gists/cdn",{"title":154,"_path":155},"消毒剂","/gists/cleaner",{"title":157,"_path":158},"Windows Command","/gists/cmd",{"title":160,"_path":161},"Command","/gists/command",{"title":163,"_path":164},"复杂科学","/gists/complexity-science",{"title":166,"_path":167},"宇宙","/gists/cosmos",{"title":169,"_path":170},"C++","/gists/cpp",{"title":172,"_path":173},"Data Structure","/gists/data-structure",{"title":175,"_path":176},"DEPRESSION","/gists/depression",{"title":178,"_path":179},"设计模式","/gists/design-patterns",{"title":181,"_path":182},"Developer Experience","/gists/developer-experience",{"title":184,"_path":185},"Device Metrics","/gists/device-metrix",{"title":187,"_path":188},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":190,"_path":191},"正则表达式","/gists/eegex",{"title":193,"_path":194},"Emoji","/gists/emoji",{"title":196,"_path":197},"工程","/gists/engineering",{"title":199,"_path":200},"熵","/gists/entropy",{"title":202,"_path":203},"Environment","/gists/environment",{"title":205,"_path":206},"Erlang","/gists/erlang",{"title":208,"_path":209},"逃离塔克夫","/gists/escape-from-tarkov",{"title":211,"_path":212},"ESNext (ES6-ES11)","/gists/esnext",{"title":214,"_path":215},"Eval！","/gists/eval",{"title":217,"_path":218},"Flutter","/gists/flutter",{"title":220,"_path":221},"字体","/gists/font",{"title":223,"_path":224},"JS 函数式编程","/gists/functional",{"title":226,"_path":227},"Google C++ Standard","/gists/google-cpp-standard",{"title":229,"_path":230},"双向链接完全体","/gists/graph",{"title":232,"_path":233},"Hardwares","/gists/hardwares",{"title":235,"_path":236},"哈希冲突","/gists/hash-collision",{"title":238,"_path":239},"信息设计","/gists/information-design",{"title":241,"_path":242},"InstantPage","/gists/instant.page",{"title":244,"_path":245},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":247,"_path":248},"KVStore","/gists/key-value-db",{"title":250,"_path":251},"Kubernetes","/gists/kubernetes",{"title":253,"_path":254},"Makefile","/gists/makefile",{"title":256,"_path":257},"Markdown Inline Style","/gists/markdown-nice",{"title":259,"_path":260},"小程序","/gists/miniapp",{"title":262,"_path":263},"减小页面快照体积","/gists/minify-html",{"title":265,"_path":266},"mklink","/gists/mklink",{"title":268,"_path":269},"Mock","/gists/mock",{"title":271,"_path":272},"多端应用","/gists/multy-end-app",{"title":274,"_path":275},"神经科学","/gists/neuroscience",{"title":277,"_path":278},"OO","/gists/oo",{"title":280,"_path":281},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":283,"_path":284},"人物","/gists/person",{"title":286,"_path":287},"PInvoke","/gists/pinvoke",{"title":289,"_path":290},"像素","/gists/pixel",{"title":292,"_path":293},"PowerShell","/gists/powershell",{"title":295,"_path":296},"量子","/gists/quantum",{"title":298,"_path":299},"保持好奇心","/gists/questions",{"title":301,"_path":302},"React Native","/gists/react-native",{"title":304,"_path":305},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":307,"_path":308},"SEO","/gists/seo",{"title":310,"_path":311},"Shader","/gists/shader",{"title":313,"_path":314},"Shape Up","/gists/shape-up",{"title":316,"_path":317},"睡觉","/gists/sleep",{"title":319,"_path":320},"States","/gists/states",{"title":322,"_path":323},"Storage","/gists/storage",{"title":325,"_path":326},"音视频流处理","/gists/stream-cli",{"title":328,"_path":329},"Symbol","/gists/symbol",{"title":331,"_path":332},"系统论","/gists/systems-theory",{"title":334,"_path":335},"Taro","/gists/taro",{"title":337,"_path":338},"任务切片","/gists/task-slice",{"title":340,"_path":341},"技术偏好","/gists/tech-dudge",{"title":343,"_path":344},"Untitled","/gists/untitled",{"title":346,"_path":347},"可变字体","/gists/variable-font",{"title":349,"_path":350},"视觉错觉","/gists/visual-illusion",{"title":352,"_path":353},"SS(SSR)","/gists/vpn",{"title":355,"_path":356},"VS Code 插件开发","/gists/vscode-plugin",{"title":358,"_path":359},"Web Components","/gists/web-components",{"title":361,"_path":362},"Windows","/gists/windows",{"title":364,"_path":365},"查缺补漏","/gists/wrong",{"title":367,"_path":368,"children":369},"代码笔记 / Gists","/source-code",[370],{"title":371,"_path":368},"🚄 代码笔记",{"title":373,"_path":374,"children":375},"我 / Abount","/hire",[376],{"title":377,"_path":374},"📬 技术简历",{"title":379,"_path":380,"children":381},"todo","/todo",[382],{"title":379,"_path":380},{"_path":384,"_dir":385,"_draft":386,"_partial":387,"_locale":388,"title":389,"description":388,"body":390,"_type":2057,"_id":2058,"_source":2059,"_file":2060,"_extension":2061},"/maps/_web/performance","_web",false,true,"","页面性能",{"type":391,"children":392,"toc":2046},"root",[393,400,406,413,419,425,430,436,441,450,456,461,467,496,521,535,541,592,599,603,616,621,627,632,638,646,652,657,665,675,681,686,692,697,1096,1107,1113,1118,1129,1135,1140,1313,1324,1330,1335,1514,1525,1531,1542,1548,1559,1565,1570,1581,1587,1612,1619,1632,1637,1643,1648,1654,1660,1665,1671,1676,1684,1703,1709,1721,1727,1732,1738,1743,1751,1757,1767,1773,1778,1786,1792,1797,1802,1815,1820,1833,1838,1862,1867,1880,1885,1918,1923,1933,2040],{"type":394,"tag":395,"props":396,"children":397},"element","h1",{"id":389},[398],{"type":399,"value":389},"text",{"type":394,"tag":401,"props":402,"children":404},"h2",{"id":403},"指标与模型",[405],{"type":399,"value":403},{"type":394,"tag":407,"props":408,"children":410},"h4",{"id":409},"网页性能的上下游",[411],{"type":399,"value":412},"网页性能的上下游？",{"type":394,"tag":414,"props":415,"children":416},"p",{},[417],{"type":399,"value":418},"选定合适的 API 收集数据，进行简单预处理后，通过 SDK 上报到后端或者云服务。为了展示收集到的数据，可以设置 99 线等图表，在某些特定的业务场景，还可以设置 A/B 图和告警。",{"type":394,"tag":407,"props":420,"children":422},{"id":421},"性能指标和性能模型的不同",[423],{"type":399,"value":424},"性能指标和性能模型的不同？",{"type":394,"tag":414,"props":426,"children":427},{},[428],{"type":399,"value":429},"两个立场不同，性能指标如 Navigation Timing 使用绝对的量来衡量页面各项性能参数，性能模型如 Web Vitals 使用算法定性分析页面加载时的用户体验。",{"type":394,"tag":407,"props":431,"children":433},{"id":432},"为什么需要性能模型",[434],{"type":399,"value":435},"为什么需要性能模型？",{"type":394,"tag":414,"props":437,"children":438},{},[439],{"type":399,"value":440},"用户体验很难用具体或者绝对的量来衡定，比如说在渐进式加载中，只对比白屏时间和 onload 时间只能说明用户提早看到了内容，却不能说明渐进式加载好在哪里，好了多少。",{"type":394,"tag":414,"props":442,"children":443},{},[444],{"type":394,"tag":445,"props":446,"children":449},"img",{"alt":447,"src":448},"页面渐进式加载示例","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/progressive-rendering.png",[],{"type":394,"tag":407,"props":451,"children":453},{"id":452},"合成监控和真实用户监控是什么",[454],{"type":399,"value":455},"合成监控和真实用户监控是什么？",{"type":394,"tag":414,"props":457,"children":458},{},[459],{"type":399,"value":460},"从技术上来说，可以把监控分为合成监控（Synthetic Monitoring，SYN）和真实用户监控（Real User Monitoring，RUM）。合成监控是在一个模拟的场景中，使用 Lighthouse 等工具，提取出性能指标并获得审计报告。真实用户监控是在真实用户访问时，通过数据源获取数据，再上报到日志服务器，以用来展示和分析这么一流程。",{"type":394,"tag":407,"props":462,"children":464},{"id":463},"web-vitals-有哪些指标",[465],{"type":399,"value":466},"Web Vitals 有哪些指标？",{"type":394,"tag":414,"props":468,"children":469},{},[470,472,479,481,487,488,494],{"type":399,"value":471},"Web Vitals 关注 ",{"type":394,"tag":473,"props":474,"children":476},"abbr",{"title":475},"Largest Contentful Paint",[477],{"type":399,"value":478},"LCP",{"type":399,"value":480},"、",{"type":394,"tag":473,"props":482,"children":484},{"title":483},"First Input Delay",[485],{"type":399,"value":486},"FID",{"type":399,"value":480},{"type":394,"tag":473,"props":489,"children":491},{"title":490},"Cumulative Layout Shift",[492],{"type":399,"value":493},"CLS",{"type":399,"value":495}," 的测量，分别描述最大内容渲染时间评分、页面可交互时间评分和布局偏移评分。",{"type":394,"tag":497,"props":498,"children":500},"div",{"style":499},"display:flex; justify-content:space-evenly;",[501,503,509,510,515,516],{"type":399,"value":502},"\n  ",{"type":394,"tag":445,"props":504,"children":508},{"src":505,"width":506,"alt":507},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/lcp_ux.svg","33%","Largest Contentful Paint threshold recommendations",[],{"type":399,"value":502},{"type":394,"tag":445,"props":511,"children":514},{"src":512,"width":506,"alt":513},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/fid_ux.svg","First Input Delay threshold recommendations",[],{"type":399,"value":502},{"type":394,"tag":445,"props":517,"children":520},{"src":518,"width":506,"alt":519},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/cls_ux.svg","Cumulative Layout Shift threshold recommendations",[],{"type":394,"tag":414,"props":522,"children":523},{},[524,526],{"type":399,"value":525},"见：",{"type":394,"tag":527,"props":528,"children":532},"a",{"href":529,"rel":530},"https://github.com/GoogleChrome/web-vitals",[531],"nofollow",[533],{"type":399,"value":534},"Web Vitals",{"type":394,"tag":407,"props":536,"children":538},{"id":537},"有哪些开发工具",[539],{"type":399,"value":540},"有哪些开发工具？",{"type":394,"tag":542,"props":543,"children":544},"ul",{},[545,556,568,580],{"type":394,"tag":546,"props":547,"children":548},"li",{},[549,554],{"type":394,"tag":527,"props":550,"children":552},{"href":529,"rel":551},[531],[553],{"type":399,"value":534},{"type":399,"value":555},"，获取 Web Vitals 评分。",{"type":394,"tag":546,"props":557,"children":558},{},[559,566],{"type":394,"tag":527,"props":560,"children":563},{"href":561,"rel":562},"https://github.com/cssmagic/simple-web-perf",[531],[564],{"type":399,"value":565},"simple-web-perf",{"type":399,"value":567},"，Navigation Timing 数据上报封装。",{"type":394,"tag":546,"props":569,"children":570},{},[571,578],{"type":394,"tag":527,"props":572,"children":575},{"href":573,"rel":574},"https://github.com/Lionad-Morotar/webpack-lighthouse-plugin",[531],[576],{"type":399,"value":577},"webpack-lighthouse-plugin",{"type":399,"value":579},"，在打包结束后自动运行 Lighthouse 并输出报告。",{"type":394,"tag":546,"props":581,"children":582},{},[583,590],{"type":394,"tag":527,"props":584,"children":587},{"href":585,"rel":586},"https://github.com/cloudfour/lighthouse-parade",[531],[588],{"type":399,"value":589},"lighthouse-parade",{"type":399,"value":591},"，递归抓取页面并评分，输出关于网站的完整报告。",{"type":394,"tag":414,"props":593,"children":594},{},[595],{"type":394,"tag":445,"props":596,"children":598},{"alt":577,"src":597},"https://github.com/Lionad-Morotar/webpack-lighthouse-plugin/blob/main/assets/example.gif?raw=true",[],{"type":394,"tag":600,"props":601,"children":602},"hr",{},[],{"type":394,"tag":542,"props":604,"children":605},{},[606],{"type":394,"tag":546,"props":607,"children":608},{},[609],{"type":394,"tag":527,"props":610,"children":613},{"href":611,"rel":612},"https://developer.mozilla.org/zh-CN/docs/Web/Performance",[531],[614],{"type":399,"value":615},"TODO，Web Performance @MDN",{"type":394,"tag":401,"props":617,"children":619},{"id":618},"如何测量性能指标",[620],{"type":399,"value":618},{"type":394,"tag":407,"props":622,"children":624},{"id":623},"怎么测定页面帧率",[625],{"type":399,"value":626},"怎么测定页面帧率？",{"type":394,"tag":414,"props":628,"children":629},{},[630],{"type":399,"value":631},"可以使用 requestAnimationFrame，但是不推荐，因为脚本本身就会对性能造成影响。",{"type":394,"tag":407,"props":633,"children":635},{"id":634},"可以使用哪些-api-测量性能",[636],{"type":399,"value":637},"可以使用哪些 API 测量性能？",{"type":394,"tag":414,"props":639,"children":640},{},[641],{"type":394,"tag":445,"props":642,"children":645},{"alt":643,"src":644},"Web Performance Related Specs","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220630135906.png",[],{"type":394,"tag":407,"props":647,"children":649},{"id":648},"performance-timing-被弃用了",[650],{"type":399,"value":651},"Performance Timing 被弃用了？",{"type":394,"tag":414,"props":653,"children":654},{},[655],{"type":399,"value":656},"Performance Timing 被弃用了，取而代之的是 Performance Navigation Timing。不应该再使用 performance.navigation、performance.getEntries 等 API，这些旧的 API 没有办法肩检测如加载新脚本等情况，不支持新的性能指标如 Long Tasks API，此外可能干扰页面性能，所以推荐使用 Navigation Timing API 获取数据，并使用 Performance Observer 进行侦测。",{"type":394,"tag":414,"props":658,"children":659},{},[660],{"type":394,"tag":445,"props":661,"children":664},{"alt":662,"src":663},"Navigation Timing Level 2","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628165411.png",[],{"type":394,"tag":414,"props":666,"children":667},{},[668,669],{"type":399,"value":525},{"type":394,"tag":527,"props":670,"children":673},{"href":671,"rel":672},"https://www.w3.org/TR/navigation-timing-2/",[531],[674],{"type":399,"value":662},{"type":394,"tag":407,"props":676,"children":678},{"id":677},"navigation-timing-中不同的阶段是连续的吗",[679],{"type":399,"value":680},"Navigation Timing 中不同的阶段是连续的吗？",{"type":394,"tag":414,"props":682,"children":683},{},[684],{"type":399,"value":685},"可能不是。如浏览器有同域下最多 6 个请求并行的限制，那么 domainLoopupEnd 到 requestStart 之间可能会出现较长的等待时间（Stalled Time）。此外，不一定每个阶段都会有数据，如：未发生跳转时，redirectCount 为 0；如果页面没有 service worker，那么 workerStart 为 0；DNS 从缓存中获取时，domainLoopupStart 和 domainLoopupEnd 可能相等。",{"type":394,"tag":407,"props":687,"children":689},{"id":688},"performanceobserver-是什么",[690],{"type":399,"value":691},"PerformanceObserver 是什么？",{"type":394,"tag":414,"props":693,"children":694},{},[695],{"type":399,"value":696},"“有效的性能测量的第一条规则是确保性能测量技术本身不会导致性能问题”，使用 Performance Observer 可以获取某个具体类型的指标的同时不会干扰或影响页面性能，因为它会在浏览器空闲时期执行。",{"type":394,"tag":698,"props":699,"children":703},"pre",{"className":700,"code":701,"language":702,"meta":388,"style":388},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","try {\n  // \"element\"、\"event\"、\"first-input\"、\n  // \"largest-contentful-paint\"、\"layout-shift\"、\n  // \"longtask\"、\"mark\"、\"measure\"、\n  // \"navigation\"、\"paint\"、\"resource\"\n    PerformanceObserver.supportedEntryTypes.map(type => {\n        new PerformanceObserver((list) => {\n          for (const entry of list.getEntries()) {\n            console.log(entry.toJSON())\n          }\n        }).observe({\n        type,\n        // 使用 buffered 可以在第一次回调时获取缓存区中的历史记录\n        buffered: true\n      })\n    })\n} catch {\n    // nothing  \n}\n","js",[704],{"type":394,"tag":705,"props":706,"children":707},"code",{"__ignoreMap":388},[708,726,736,745,754,763,815,856,910,951,960,990,1004,1013,1033,1047,1060,1078,1087],{"type":394,"tag":709,"props":710,"children":713},"span",{"class":711,"line":712},"line",1,[714,720],{"type":394,"tag":709,"props":715,"children":717},{"style":716},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[718],{"type":399,"value":719},"try",{"type":394,"tag":709,"props":721,"children":723},{"style":722},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[724],{"type":399,"value":725}," {\n",{"type":394,"tag":709,"props":727,"children":729},{"class":711,"line":728},2,[730],{"type":394,"tag":709,"props":731,"children":733},{"style":732},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[734],{"type":399,"value":735},"  // \"element\"、\"event\"、\"first-input\"、\n",{"type":394,"tag":709,"props":737,"children":739},{"class":711,"line":738},3,[740],{"type":394,"tag":709,"props":741,"children":742},{"style":732},[743],{"type":399,"value":744},"  // \"largest-contentful-paint\"、\"layout-shift\"、\n",{"type":394,"tag":709,"props":746,"children":748},{"class":711,"line":747},4,[749],{"type":394,"tag":709,"props":750,"children":751},{"style":732},[752],{"type":399,"value":753},"  // \"longtask\"、\"mark\"、\"measure\"、\n",{"type":394,"tag":709,"props":755,"children":757},{"class":711,"line":756},5,[758],{"type":394,"tag":709,"props":759,"children":760},{"style":732},[761],{"type":399,"value":762},"  // \"navigation\"、\"paint\"、\"resource\"\n",{"type":394,"tag":709,"props":764,"children":766},{"class":711,"line":765},6,[767,773,778,783,787,793,799,805,811],{"type":394,"tag":709,"props":768,"children":770},{"style":769},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[771],{"type":399,"value":772},"    PerformanceObserver",{"type":394,"tag":709,"props":774,"children":775},{"style":722},[776],{"type":399,"value":777},".",{"type":394,"tag":709,"props":779,"children":780},{"style":769},[781],{"type":399,"value":782},"supportedEntryTypes",{"type":394,"tag":709,"props":784,"children":785},{"style":722},[786],{"type":399,"value":777},{"type":394,"tag":709,"props":788,"children":790},{"style":789},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[791],{"type":399,"value":792},"map",{"type":394,"tag":709,"props":794,"children":796},{"style":795},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[797],{"type":399,"value":798},"(",{"type":394,"tag":709,"props":800,"children":802},{"style":801},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[803],{"type":399,"value":804},"type",{"type":394,"tag":709,"props":806,"children":808},{"style":807},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[809],{"type":399,"value":810}," =>",{"type":394,"tag":709,"props":812,"children":813},{"style":722},[814],{"type":399,"value":725},{"type":394,"tag":709,"props":816,"children":818},{"class":711,"line":817},7,[819,825,830,834,838,843,848,852],{"type":394,"tag":709,"props":820,"children":822},{"style":821},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[823],{"type":399,"value":824},"        new",{"type":394,"tag":709,"props":826,"children":827},{"style":789},[828],{"type":399,"value":829}," PerformanceObserver",{"type":394,"tag":709,"props":831,"children":832},{"style":795},[833],{"type":399,"value":798},{"type":394,"tag":709,"props":835,"children":836},{"style":722},[837],{"type":399,"value":798},{"type":394,"tag":709,"props":839,"children":840},{"style":801},[841],{"type":399,"value":842},"list",{"type":394,"tag":709,"props":844,"children":845},{"style":722},[846],{"type":399,"value":847},")",{"type":394,"tag":709,"props":849,"children":850},{"style":807},[851],{"type":399,"value":810},{"type":394,"tag":709,"props":853,"children":854},{"style":722},[855],{"type":399,"value":725},{"type":394,"tag":709,"props":857,"children":859},{"class":711,"line":858},8,[860,865,870,875,881,886,891,895,900,905],{"type":394,"tag":709,"props":861,"children":862},{"style":716},[863],{"type":399,"value":864},"          for",{"type":394,"tag":709,"props":866,"children":867},{"style":795},[868],{"type":399,"value":869}," (",{"type":394,"tag":709,"props":871,"children":872},{"style":807},[873],{"type":399,"value":874},"const",{"type":394,"tag":709,"props":876,"children":878},{"style":877},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[879],{"type":399,"value":880}," entry",{"type":394,"tag":709,"props":882,"children":883},{"style":821},[884],{"type":399,"value":885}," of",{"type":394,"tag":709,"props":887,"children":888},{"style":769},[889],{"type":399,"value":890}," list",{"type":394,"tag":709,"props":892,"children":893},{"style":722},[894],{"type":399,"value":777},{"type":394,"tag":709,"props":896,"children":897},{"style":789},[898],{"type":399,"value":899},"getEntries",{"type":394,"tag":709,"props":901,"children":902},{"style":795},[903],{"type":399,"value":904},"()) ",{"type":394,"tag":709,"props":906,"children":907},{"style":722},[908],{"type":399,"value":909},"{\n",{"type":394,"tag":709,"props":911,"children":913},{"class":711,"line":912},9,[914,919,923,928,932,937,941,946],{"type":394,"tag":709,"props":915,"children":916},{"style":769},[917],{"type":399,"value":918},"            console",{"type":394,"tag":709,"props":920,"children":921},{"style":722},[922],{"type":399,"value":777},{"type":394,"tag":709,"props":924,"children":925},{"style":789},[926],{"type":399,"value":927},"log",{"type":394,"tag":709,"props":929,"children":930},{"style":795},[931],{"type":399,"value":798},{"type":394,"tag":709,"props":933,"children":934},{"style":769},[935],{"type":399,"value":936},"entry",{"type":394,"tag":709,"props":938,"children":939},{"style":722},[940],{"type":399,"value":777},{"type":394,"tag":709,"props":942,"children":943},{"style":789},[944],{"type":399,"value":945},"toJSON",{"type":394,"tag":709,"props":947,"children":948},{"style":795},[949],{"type":399,"value":950},"())\n",{"type":394,"tag":709,"props":952,"children":954},{"class":711,"line":953},10,[955],{"type":394,"tag":709,"props":956,"children":957},{"style":722},[958],{"type":399,"value":959},"          }\n",{"type":394,"tag":709,"props":961,"children":963},{"class":711,"line":962},11,[964,969,973,977,982,986],{"type":394,"tag":709,"props":965,"children":966},{"style":722},[967],{"type":399,"value":968},"        }",{"type":394,"tag":709,"props":970,"children":971},{"style":795},[972],{"type":399,"value":847},{"type":394,"tag":709,"props":974,"children":975},{"style":722},[976],{"type":399,"value":777},{"type":394,"tag":709,"props":978,"children":979},{"style":789},[980],{"type":399,"value":981},"observe",{"type":394,"tag":709,"props":983,"children":984},{"style":795},[985],{"type":399,"value":798},{"type":394,"tag":709,"props":987,"children":988},{"style":722},[989],{"type":399,"value":909},{"type":394,"tag":709,"props":991,"children":993},{"class":711,"line":992},12,[994,999],{"type":394,"tag":709,"props":995,"children":996},{"style":769},[997],{"type":399,"value":998},"        type",{"type":394,"tag":709,"props":1000,"children":1001},{"style":722},[1002],{"type":399,"value":1003},",\n",{"type":394,"tag":709,"props":1005,"children":1007},{"class":711,"line":1006},13,[1008],{"type":394,"tag":709,"props":1009,"children":1010},{"style":732},[1011],{"type":399,"value":1012},"        // 使用 buffered 可以在第一次回调时获取缓存区中的历史记录\n",{"type":394,"tag":709,"props":1014,"children":1016},{"class":711,"line":1015},14,[1017,1022,1027],{"type":394,"tag":709,"props":1018,"children":1019},{"style":795},[1020],{"type":399,"value":1021},"        buffered",{"type":394,"tag":709,"props":1023,"children":1024},{"style":722},[1025],{"type":399,"value":1026},":",{"type":394,"tag":709,"props":1028,"children":1030},{"style":1029},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1031],{"type":399,"value":1032}," true\n",{"type":394,"tag":709,"props":1034,"children":1036},{"class":711,"line":1035},15,[1037,1042],{"type":394,"tag":709,"props":1038,"children":1039},{"style":722},[1040],{"type":399,"value":1041},"      }",{"type":394,"tag":709,"props":1043,"children":1044},{"style":795},[1045],{"type":399,"value":1046},")\n",{"type":394,"tag":709,"props":1048,"children":1050},{"class":711,"line":1049},16,[1051,1056],{"type":394,"tag":709,"props":1052,"children":1053},{"style":722},[1054],{"type":399,"value":1055},"    }",{"type":394,"tag":709,"props":1057,"children":1058},{"style":795},[1059],{"type":399,"value":1046},{"type":394,"tag":709,"props":1061,"children":1063},{"class":711,"line":1062},17,[1064,1069,1074],{"type":394,"tag":709,"props":1065,"children":1066},{"style":722},[1067],{"type":399,"value":1068},"}",{"type":394,"tag":709,"props":1070,"children":1071},{"style":716},[1072],{"type":399,"value":1073}," catch",{"type":394,"tag":709,"props":1075,"children":1076},{"style":722},[1077],{"type":399,"value":725},{"type":394,"tag":709,"props":1079,"children":1081},{"class":711,"line":1080},18,[1082],{"type":394,"tag":709,"props":1083,"children":1084},{"style":732},[1085],{"type":399,"value":1086},"    // nothing  \n",{"type":394,"tag":709,"props":1088,"children":1090},{"class":711,"line":1089},19,[1091],{"type":394,"tag":709,"props":1092,"children":1093},{"style":722},[1094],{"type":399,"value":1095},"}\n",{"type":394,"tag":414,"props":1097,"children":1098},{},[1099,1100],{"type":399,"value":525},{"type":394,"tag":527,"props":1101,"children":1104},{"href":1102,"rel":1103},"https://web.dev/custom-metrics/#",[531],[1105],{"type":399,"value":1106},"Performance Observer",{"type":394,"tag":407,"props":1108,"children":1110},{"id":1109},"long-tasks-api-是什么",[1111],{"type":399,"value":1112},"Long Tasks API 是什么？",{"type":394,"tag":414,"props":1114,"children":1115},{},[1116],{"type":399,"value":1117},"Long Tasks API 将会汇报使主线程阻塞超过 50ms 的任何任务。通过观测阻塞时长，可以获得诸如 TTI（Time To Interactive）、TBT（Total Blocking Time）等数据。",{"type":394,"tag":414,"props":1119,"children":1120},{},[1121,1122],{"type":399,"value":525},{"type":394,"tag":527,"props":1123,"children":1126},{"href":1124,"rel":1125},"https://web.dev/custom-metrics/#long-tasks-api",[531],[1127],{"type":399,"value":1128},"Long Tasks API",{"type":394,"tag":407,"props":1130,"children":1132},{"id":1131},"如何测量函数执行的时长",[1133],{"type":399,"value":1134},"如何测量函数执行的时长？",{"type":394,"tag":414,"props":1136,"children":1137},{},[1138],{"type":399,"value":1139},"可以使用 Date.now()、performance.now()，但是如果不考虑兼容性的话，使用 User Timing API 要更好一些，它可以和相关套件很好的结合：比如说在 Performance 面板中可视化，或通过 Performance Observer 进行观测。",{"type":394,"tag":698,"props":1141,"children":1143},{"className":700,"code":1142,"language":702,"meta":388,"style":388},"performance.mark('myTask:start')\nawait task()\nperformance.mark('myTask:end')\nperformance.measure('myTask', 'myTask:start', 'myTask:end')\n",[1144],{"type":394,"tag":705,"props":1145,"children":1146},{"__ignoreMap":388},[1147,1188,1206,1242],{"type":394,"tag":709,"props":1148,"children":1149},{"class":711,"line":712},[1150,1155,1159,1164,1168,1174,1180,1184],{"type":394,"tag":709,"props":1151,"children":1152},{"style":769},[1153],{"type":399,"value":1154},"performance",{"type":394,"tag":709,"props":1156,"children":1157},{"style":722},[1158],{"type":399,"value":777},{"type":394,"tag":709,"props":1160,"children":1161},{"style":789},[1162],{"type":399,"value":1163},"mark",{"type":394,"tag":709,"props":1165,"children":1166},{"style":769},[1167],{"type":399,"value":798},{"type":394,"tag":709,"props":1169,"children":1171},{"style":1170},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1172],{"type":399,"value":1173},"'",{"type":394,"tag":709,"props":1175,"children":1177},{"style":1176},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1178],{"type":399,"value":1179},"myTask:start",{"type":394,"tag":709,"props":1181,"children":1182},{"style":1170},[1183],{"type":399,"value":1173},{"type":394,"tag":709,"props":1185,"children":1186},{"style":769},[1187],{"type":399,"value":1046},{"type":394,"tag":709,"props":1189,"children":1190},{"class":711,"line":728},[1191,1196,1201],{"type":394,"tag":709,"props":1192,"children":1193},{"style":716},[1194],{"type":399,"value":1195},"await",{"type":394,"tag":709,"props":1197,"children":1198},{"style":789},[1199],{"type":399,"value":1200}," task",{"type":394,"tag":709,"props":1202,"children":1203},{"style":769},[1204],{"type":399,"value":1205},"()\n",{"type":394,"tag":709,"props":1207,"children":1208},{"class":711,"line":738},[1209,1213,1217,1221,1225,1229,1234,1238],{"type":394,"tag":709,"props":1210,"children":1211},{"style":769},[1212],{"type":399,"value":1154},{"type":394,"tag":709,"props":1214,"children":1215},{"style":722},[1216],{"type":399,"value":777},{"type":394,"tag":709,"props":1218,"children":1219},{"style":789},[1220],{"type":399,"value":1163},{"type":394,"tag":709,"props":1222,"children":1223},{"style":769},[1224],{"type":399,"value":798},{"type":394,"tag":709,"props":1226,"children":1227},{"style":1170},[1228],{"type":399,"value":1173},{"type":394,"tag":709,"props":1230,"children":1231},{"style":1176},[1232],{"type":399,"value":1233},"myTask:end",{"type":394,"tag":709,"props":1235,"children":1236},{"style":1170},[1237],{"type":399,"value":1173},{"type":394,"tag":709,"props":1239,"children":1240},{"style":769},[1241],{"type":399,"value":1046},{"type":394,"tag":709,"props":1243,"children":1244},{"class":711,"line":747},[1245,1249,1253,1258,1262,1266,1271,1275,1280,1285,1289,1293,1297,1301,1305,1309],{"type":394,"tag":709,"props":1246,"children":1247},{"style":769},[1248],{"type":399,"value":1154},{"type":394,"tag":709,"props":1250,"children":1251},{"style":722},[1252],{"type":399,"value":777},{"type":394,"tag":709,"props":1254,"children":1255},{"style":789},[1256],{"type":399,"value":1257},"measure",{"type":394,"tag":709,"props":1259,"children":1260},{"style":769},[1261],{"type":399,"value":798},{"type":394,"tag":709,"props":1263,"children":1264},{"style":1170},[1265],{"type":399,"value":1173},{"type":394,"tag":709,"props":1267,"children":1268},{"style":1176},[1269],{"type":399,"value":1270},"myTask",{"type":394,"tag":709,"props":1272,"children":1273},{"style":1170},[1274],{"type":399,"value":1173},{"type":394,"tag":709,"props":1276,"children":1277},{"style":722},[1278],{"type":399,"value":1279},",",{"type":394,"tag":709,"props":1281,"children":1282},{"style":1170},[1283],{"type":399,"value":1284}," '",{"type":394,"tag":709,"props":1286,"children":1287},{"style":1176},[1288],{"type":399,"value":1179},{"type":394,"tag":709,"props":1290,"children":1291},{"style":1170},[1292],{"type":399,"value":1173},{"type":394,"tag":709,"props":1294,"children":1295},{"style":722},[1296],{"type":399,"value":1279},{"type":394,"tag":709,"props":1298,"children":1299},{"style":1170},[1300],{"type":399,"value":1284},{"type":394,"tag":709,"props":1302,"children":1303},{"style":1176},[1304],{"type":399,"value":1233},{"type":394,"tag":709,"props":1306,"children":1307},{"style":1170},[1308],{"type":399,"value":1173},{"type":394,"tag":709,"props":1310,"children":1311},{"style":769},[1312],{"type":399,"value":1046},{"type":394,"tag":414,"props":1314,"children":1315},{},[1316,1317],{"type":399,"value":525},{"type":394,"tag":527,"props":1318,"children":1321},{"href":1319,"rel":1320},"https://web.dev/custom-metrics/#user-timing-api",[531],[1322],{"type":399,"value":1323},"User Timing API",{"type":394,"tag":407,"props":1325,"children":1327},{"id":1326},"如何测量元素的渲染时间",[1328],{"type":399,"value":1329},"如何测量元素的渲染时间？",{"type":394,"tag":414,"props":1331,"children":1332},{},[1333],{"type":399,"value":1334},"可以使用 Element Timing API。通过给 element 增加 elementtiming 属性，可以在注册 Performance Observer 后监听 element 类型的事件并获得元素渲染时间。LCP 指标就是建立在 ET API 基础上的，只是汇报的是最大内容元素的渲染时间。",{"type":394,"tag":698,"props":1336,"children":1340},{"className":1337,"code":1338,"language":1339,"meta":388,"style":388},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cimg elementtiming=\"hero-image\" />\n\u003Cscript>\n  new PerformanceObserver(/* ... */)\n    .observe({ type: 'element', buffered: true })\n\u003C/script>\n","html",[1341],{"type":394,"tag":705,"props":1342,"children":1343},{"__ignoreMap":388},[1344,1387,1404,1429,1498],{"type":394,"tag":709,"props":1345,"children":1346},{"class":711,"line":712},[1347,1352,1357,1363,1368,1373,1378,1382],{"type":394,"tag":709,"props":1348,"children":1349},{"style":722},[1350],{"type":399,"value":1351},"\u003C",{"type":394,"tag":709,"props":1353,"children":1355},{"style":1354},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1356],{"type":399,"value":445},{"type":394,"tag":709,"props":1358,"children":1360},{"style":1359},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1361],{"type":399,"value":1362}," elementtiming",{"type":394,"tag":709,"props":1364,"children":1365},{"style":722},[1366],{"type":399,"value":1367},"=",{"type":394,"tag":709,"props":1369,"children":1370},{"style":1170},[1371],{"type":399,"value":1372},"\"",{"type":394,"tag":709,"props":1374,"children":1375},{"style":1176},[1376],{"type":399,"value":1377},"hero-image",{"type":394,"tag":709,"props":1379,"children":1380},{"style":1170},[1381],{"type":399,"value":1372},{"type":394,"tag":709,"props":1383,"children":1384},{"style":722},[1385],{"type":399,"value":1386}," />\n",{"type":394,"tag":709,"props":1388,"children":1389},{"class":711,"line":728},[1390,1394,1399],{"type":394,"tag":709,"props":1391,"children":1392},{"style":722},[1393],{"type":399,"value":1351},{"type":394,"tag":709,"props":1395,"children":1396},{"style":1354},[1397],{"type":399,"value":1398},"script",{"type":394,"tag":709,"props":1400,"children":1401},{"style":722},[1402],{"type":399,"value":1403},">\n",{"type":394,"tag":709,"props":1405,"children":1406},{"class":711,"line":738},[1407,1412,1416,1420,1425],{"type":394,"tag":709,"props":1408,"children":1409},{"style":821},[1410],{"type":399,"value":1411},"  new",{"type":394,"tag":709,"props":1413,"children":1414},{"style":789},[1415],{"type":399,"value":829},{"type":394,"tag":709,"props":1417,"children":1418},{"style":769},[1419],{"type":399,"value":798},{"type":394,"tag":709,"props":1421,"children":1422},{"style":732},[1423],{"type":399,"value":1424},"/* ... */",{"type":394,"tag":709,"props":1426,"children":1427},{"style":769},[1428],{"type":399,"value":1046},{"type":394,"tag":709,"props":1430,"children":1431},{"class":711,"line":747},[1432,1437,1441,1445,1450,1455,1459,1463,1467,1471,1475,1480,1484,1489,1494],{"type":394,"tag":709,"props":1433,"children":1434},{"style":722},[1435],{"type":399,"value":1436},"    .",{"type":394,"tag":709,"props":1438,"children":1439},{"style":789},[1440],{"type":399,"value":981},{"type":394,"tag":709,"props":1442,"children":1443},{"style":769},[1444],{"type":399,"value":798},{"type":394,"tag":709,"props":1446,"children":1447},{"style":722},[1448],{"type":399,"value":1449},"{",{"type":394,"tag":709,"props":1451,"children":1452},{"style":795},[1453],{"type":399,"value":1454}," type",{"type":394,"tag":709,"props":1456,"children":1457},{"style":722},[1458],{"type":399,"value":1026},{"type":394,"tag":709,"props":1460,"children":1461},{"style":1170},[1462],{"type":399,"value":1284},{"type":394,"tag":709,"props":1464,"children":1465},{"style":1176},[1466],{"type":399,"value":394},{"type":394,"tag":709,"props":1468,"children":1469},{"style":1170},[1470],{"type":399,"value":1173},{"type":394,"tag":709,"props":1472,"children":1473},{"style":722},[1474],{"type":399,"value":1279},{"type":394,"tag":709,"props":1476,"children":1477},{"style":795},[1478],{"type":399,"value":1479}," buffered",{"type":394,"tag":709,"props":1481,"children":1482},{"style":722},[1483],{"type":399,"value":1026},{"type":394,"tag":709,"props":1485,"children":1486},{"style":1029},[1487],{"type":399,"value":1488}," true",{"type":394,"tag":709,"props":1490,"children":1491},{"style":722},[1492],{"type":399,"value":1493}," }",{"type":394,"tag":709,"props":1495,"children":1496},{"style":769},[1497],{"type":399,"value":1046},{"type":394,"tag":709,"props":1499,"children":1500},{"class":711,"line":756},[1501,1506,1510],{"type":394,"tag":709,"props":1502,"children":1503},{"style":722},[1504],{"type":399,"value":1505},"\u003C/",{"type":394,"tag":709,"props":1507,"children":1508},{"style":1354},[1509],{"type":399,"value":1398},{"type":394,"tag":709,"props":1511,"children":1512},{"style":722},[1513],{"type":399,"value":1403},{"type":394,"tag":414,"props":1515,"children":1516},{},[1517,1518],{"type":399,"value":525},{"type":394,"tag":527,"props":1519,"children":1522},{"href":1520,"rel":1521},"https://web.dev/custom-metrics/#element-timing-api",[531],[1523],{"type":399,"value":1524},"Element Timing API",{"type":394,"tag":407,"props":1526,"children":1528},{"id":1527},"event-timing-api-是什么",[1529],{"type":399,"value":1530},"Event Timing API 是什么？",{"type":394,"tag":414,"props":1532,"children":1533},{},[1534,1535],{"type":399,"value":525},{"type":394,"tag":527,"props":1536,"children":1539},{"href":1537,"rel":1538},"https://web.dev/custom-metrics/#event-timing-api",[531],[1540],{"type":399,"value":1541},"Event Timing API",{"type":394,"tag":407,"props":1543,"children":1545},{"id":1544},"resource-timing-api-是什么",[1546],{"type":399,"value":1547},"Resource Timing API 是什么？",{"type":394,"tag":414,"props":1549,"children":1550},{},[1551,1552],{"type":399,"value":525},{"type":394,"tag":527,"props":1553,"children":1556},{"href":1554,"rel":1555},"https://web.dev/custom-metrics/#resource-timing-api",[531],[1557],{"type":399,"value":1558},"Resource Timing API",{"type":394,"tag":407,"props":1560,"children":1562},{"id":1561},"navigation-timing-api-是什么",[1563],{"type":399,"value":1564},"Navigation Timing API 是什么？",{"type":394,"tag":414,"props":1566,"children":1567},{},[1568],{"type":399,"value":1569},"类似于 Resource Timing API，但不同的地方在于它会在导航时被触发，还附带了 DOMContentLoaded 和 load 事件的触发事件。",{"type":394,"tag":414,"props":1571,"children":1572},{},[1573,1574],{"type":399,"value":525},{"type":394,"tag":527,"props":1575,"children":1578},{"href":1576,"rel":1577},"https://web.dev/custom-metrics/#navigation-timing-api",[531],[1579],{"type":399,"value":1580},"Navigation Timing API",{"type":394,"tag":407,"props":1582,"children":1584},{"id":1583},"除了规范定义数据还可以上报哪些",[1585],{"type":399,"value":1586},"除了规范定义数据，还可以上报哪些？",{"type":394,"tag":414,"props":1588,"children":1589},{},[1590,1596,1598,1603,1605,1610],{"type":394,"tag":1591,"props":1592,"children":1593},"strong",{},[1594],{"type":399,"value":1595},"5W",{"type":399,"value":1597},"：时间、地理位置、页面 URL、浏览器、系统、账号 ID、现场还原。",{"type":394,"tag":1591,"props":1599,"children":1600},{},[1601],{"type":399,"value":1602},"网络",{"type":399,"value":1604},"：页面加载方式、Service Worker、HTTP 协议版本、资源压缩方式。",{"type":394,"tag":1591,"props":1606,"children":1607},{},[1608],{"type":399,"value":1609},"其它",{"type":399,"value":1611},"：页面在前台还是后台。",{"type":394,"tag":1613,"props":1614,"children":1616},"h3",{"id":1615},"links",[1617],{"type":399,"value":1618},"Links",{"type":394,"tag":542,"props":1620,"children":1621},{},[1622],{"type":394,"tag":546,"props":1623,"children":1624},{},[1625],{"type":394,"tag":527,"props":1626,"children":1629},{"href":1627,"rel":1628},"https://mp.weixin.qq.com/s/pqFhhb5u6w7gmUutilH5xQ",[531],[1630],{"type":399,"value":1631},"蚂蚁金服如何把前端性能监控做到极致?",{"type":394,"tag":401,"props":1633,"children":1635},{"id":1634},"性能优化",[1636],{"type":399,"value":1634},{"type":394,"tag":407,"props":1638,"children":1640},{"id":1639},"做性能优化的基本法则是什么",[1641],{"type":399,"value":1642},"做性能优化的基本法则是什么？",{"type":394,"tag":414,"props":1644,"children":1645},{},[1646],{"type":399,"value":1647},"编译层参见 webpack 优化；网络层减少请求；客户端预加载、预渲染、预执行。以及两句名言：“空间换时间”、“串行改并行”。",{"type":394,"tag":401,"props":1649,"children":1651},{"id":1650},"ssr-及混合应用优化",[1652],{"type":399,"value":1653},"SSR 及混合应用优化",{"type":394,"tag":407,"props":1655,"children":1657},{"id":1656},"csr-是什么",[1658],{"type":399,"value":1659},"CSR 是什么？",{"type":394,"tag":414,"props":1661,"children":1662},{},[1663],{"type":399,"value":1664},"Client Side Rendering，和 SSR 相对应，指页面渲染、逻辑、路由、请求都是在浏览器发生的。想要提高 CSR 项目的用户体验，可以考虑在编译时通过预渲染首屏、骨架屏等形式对性能指标进行优化，或者，上 SSR。",{"type":394,"tag":407,"props":1666,"children":1668},{"id":1667},"从-csr-到-ssr-有哪些过渡方案",[1669],{"type":399,"value":1670},"从 CSR 到 SSR 有哪些过渡方案？",{"type":394,"tag":414,"props":1672,"children":1673},{},[1674],{"type":399,"value":1675},"CSP -> CSP with prerender -> SSR with hydration -> static SSR -> SSR",{"type":394,"tag":414,"props":1677,"children":1678},{},[1679],{"type":394,"tag":445,"props":1680,"children":1683},{"alt":1681,"src":1682},"From CSP to SSR","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220629020645.png",[],{"type":394,"tag":414,"props":1685,"children":1686},{},[1687,1688,1695,1696],{"type":399,"value":525},{"type":394,"tag":527,"props":1689,"children":1692},{"href":1690,"rel":1691},"https://web.dev/rendering-on-the-web/",[531],[1693],{"type":399,"value":1694},"TODO，Rendering on the Web",{"type":399,"value":480},{"type":394,"tag":527,"props":1697,"children":1700},{"href":1698,"rel":1699},"https://blog.csdn.net/m0_37411791/article/details/106513195?utm_source=blogxgwz7",[531],[1701],{"type":399,"value":1702},"CSR、SSR、NSR、ESR傻傻分不清楚",{"type":394,"tag":407,"props":1704,"children":1706},{"id":1705},"esr-是什么",[1707],{"type":399,"value":1708},"ESR 是什么？",{"type":394,"tag":414,"props":1710,"children":1711},{},[1712,1714],{"type":399,"value":1713},"TODO，",{"type":394,"tag":527,"props":1715,"children":1718},{"href":1716,"rel":1717},"https://juejin.im/post/5ecf90b7f265da76e7651a96",[531],[1719],{"type":399,"value":1720},"边缘计算听说过吗？淘宝用它提升了69%的首屏性能",{"type":394,"tag":407,"props":1722,"children":1724},{"id":1723},"经典直出方案是什么",[1725],{"type":399,"value":1726},"经典直出方案是什么？",{"type":394,"tag":414,"props":1728,"children":1729},{},[1730],{"type":399,"value":1731},"直出指在后端渲染好 HTML 后再回传给客户端这种方式，直出可以节约许多 HTML 渲染及 AJAX 请求的时间，对 Web 前端的侵入性最小。",{"type":394,"tag":407,"props":1733,"children":1735},{"id":1734},"离线包缓存是什么",[1736],{"type":399,"value":1737},"离线包缓存是什么？",{"type":394,"tag":414,"props":1739,"children":1740},{},[1741],{"type":399,"value":1742},"直出方案仍需要把时间花在请求、加载 HTML 上，离线包缓存意味着把 HTML、CSS、JS、数据提前缓存在本地，只有部分需要异步更新的页面才通过请求的方式加载新数据并重新渲染页面。",{"type":394,"tag":414,"props":1744,"children":1745},{},[1746],{"type":394,"tag":445,"props":1747,"children":1750},{"alt":1748,"src":1749},"直出 VS 离线包缓存","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628233615.png",[],{"type":394,"tag":407,"props":1752,"children":1754},{"id":1753},"容器化方案是什么",[1755],{"type":399,"value":1756},"容器化方案是什么？",{"type":394,"tag":414,"props":1758,"children":1759},{},[1760,1761],{"type":399,"value":1713},{"type":394,"tag":527,"props":1762,"children":1765},{"href":1763,"rel":1764},"http://www.alloyteam.com/2020/06/fast-open-h5/",[531],[1766],{"type":399,"value":1763},{"type":394,"tag":407,"props":1768,"children":1770},{"id":1769},"pwa-怎么配合-ssr-做优化",[1771],{"type":399,"value":1772},"PWA 怎么配合 SSR 做优化？",{"type":394,"tag":414,"props":1774,"children":1775},{},[1776],{"type":399,"value":1777},"PWA 能够通过 Service Worker 对缓存进行精细化控制，在客户端使用无头浏览器提前加载 HTML，等到实际加载时请求的就是由 Service Worker 缓存下来的资源了。",{"type":394,"tag":414,"props":1779,"children":1780},{},[1781],{"type":394,"tag":445,"props":1782,"children":1785},{"alt":1783,"src":1784},"PWA + Headless Webview","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628235637.png?w=30",[],{"type":394,"tag":407,"props":1787,"children":1789},{"id":1788},"nsr-是什么",[1790],{"type":399,"value":1791},"NSR 是什么？",{"type":394,"tag":414,"props":1793,"children":1794},{},[1795],{"type":399,"value":1796},"Native Side Render，GMTC 2019 UC 团队提到的一种“前端 SSR”方案，它借助浏览器启动一个额外的 JS Runtime，将提前下载好的 HTML 模板和数据预渲染出来。这种方案的瓶颈在于他会带来额外的流量和性能开销，所以如何预测用户行为，提高命中率是非常重要的事。",{"type":394,"tag":1613,"props":1798,"children":1800},{"id":1799},"links-1",[1801],{"type":399,"value":1618},{"type":394,"tag":542,"props":1803,"children":1804},{},[1805],{"type":394,"tag":546,"props":1806,"children":1807},{},[1808],{"type":394,"tag":527,"props":1809,"children":1812},{"href":1810,"rel":1811},"http://www.alloyteam.com/2019/10/h5-performance-optimize",[531],[1813],{"type":399,"value":1814},"H5 秒开方案大全",{"type":394,"tag":401,"props":1816,"children":1818},{"id":1817},"阅读更多",[1819],{"type":399,"value":1817},{"type":394,"tag":1821,"props":1822,"children":1824},"h5",{"id":1823},"react-16-加载性能优化指南",[1825,1831],{"type":394,"tag":1826,"props":1827,"children":1830},"link",{"type":1821,"to":1828,"source":1829},"https://mgear-file.oss-cn-shanghai.aliyuncs.com/React%2016%20%E5%8A%A0%E8%BD%BD%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E5%8D%97.html","https://zhuanlan.zhihu.com/p/37148975",[],{"type":399,"value":1832},"《React 16 加载性能优化指南》",{"type":394,"tag":414,"props":1834,"children":1835},{},[1836],{"type":399,"value":1837},"作者把页面加载状态划分了四个步骤：",{"type":394,"tag":1839,"props":1840,"children":1841},"ol",{},[1842,1847,1852,1857],{"type":394,"tag":546,"props":1843,"children":1844},{},[1845],{"type":399,"value":1846},"打开页面到首屏渲染（浏览器首次渲染可见的内容）",{"type":394,"tag":546,"props":1848,"children":1849},{},[1850],{"type":399,"value":1851},"首屏渲染到首次内容渲染（相关业务的内容）",{"type":394,"tag":546,"props":1853,"children":1854},{},[1855],{"type":399,"value":1856},"内容渲染到页面可交互",{"type":394,"tag":546,"props":1858,"children":1859},{},[1860],{"type":399,"value":1861},"页面逐渐加载（诸如图片等元素）直到页面内容加载完毕",{"type":394,"tag":414,"props":1863,"children":1864},{},[1865],{"type":399,"value":1866},"在很多应用中，首屏渲染约等于首次内容渲染，这是因为加载 HTML 和 CSS 之后，要等待业务 JS 加载完毕才能看到有意义的内容。其实可以通过几种方法完善首屏加载的 HTML 和 CSS，增加加载状态，减少用户等待焦虑。",{"type":394,"tag":542,"props":1868,"children":1869},{},[1870,1875],{"type":394,"tag":546,"props":1871,"children":1872},{},[1873],{"type":399,"value":1874},"在 HTML 模板中使用 SVG 图案（比如通过 html-webpack-plugin 自动插入）",{"type":394,"tag":546,"props":1876,"children":1877},{},[1878],{"type":399,"value":1879},"使用 pupeteer 等工具预渲染首屏",{"type":394,"tag":414,"props":1881,"children":1882},{},[1883],{"type":399,"value":1884},"业务内容加载的过程中，JS 的影响最大。业务 JS 代码可以大致划分为：基础框架、垫片、业务基础库、业务代码这四大类，所以讲到优化 JS 其实是说如何通过分缓存去优化几种不同类型的 JS。",{"type":394,"tag":542,"props":1886,"children":1887},{},[1888,1893,1898,1903,1908,1913],{"type":394,"tag":546,"props":1889,"children":1890},{},[1891],{"type":399,"value":1892},"基础框架需要长时间缓存，适合强缓存",{"type":394,"tag":546,"props":1894,"children":1895},{},[1896],{"type":399,"value":1897},"使用 polyfill.io，根据 UA 自动垫片",{"type":394,"tag":546,"props":1899,"children":1900},{},[1901],{"type":399,"value":1902},"使用 SplitChunksPlugin 替代 CommonChunksPlugin",{"type":394,"tag":546,"props":1904,"children":1905},{},[1906],{"type":399,"value":1907},"使用 TreeShaking",{"type":394,"tag":546,"props":1909,"children":1910},{},[1911],{"type":399,"value":1912},"如果打包出来的 Bundle 体积巨大，可以考虑使用代码分割功能，比如 React Loadable 动态载入代码。",{"type":394,"tag":546,"props":1914,"children":1915},{},[1916],{"type":399,"value":1917},"为绝大多数用户提供 ES6+ 的代码，使用 nomodule 标志为老的浏览器保留 ES5 版本代码",{"type":394,"tag":414,"props":1919,"children":1920},{},[1921],{"type":399,"value":1922},"最后，在页面可交互到页面加载完毕这个阶段，可以使用图片懒加载或者骨架屏等形式提高体验。",{"type":394,"tag":1821,"props":1924,"children":1926},{"id":1925},"关于性能优化的9大策略和6大指标",[1927],{"type":394,"tag":527,"props":1928,"children":1931},{"href":1929,"rel":1930},"https://juejin.cn/post/6981673766178783262",[531],[1932],{"type":399,"value":1925},{"type":394,"tag":542,"props":1934,"children":1935},{},[1936],{"type":394,"tag":546,"props":1937,"children":1938},{},[1939,1941],{"type":399,"value":1940},"网络层面\n",{"type":394,"tag":542,"props":1942,"children":1943},{},[1944,2017,2022],{"type":394,"tag":546,"props":1945,"children":1946},{},[1947,1949,1987],{"type":399,"value":1948},"构建工具优化\n",{"type":394,"tag":542,"props":1950,"children":1951},{},[1952,1957,1962,1967,1972,1977,1982],{"type":394,"tag":546,"props":1953,"children":1954},{},[1955],{"type":399,"value":1956},"include/exclude 避免不必要的查找，比如用在 babel-loader 可以避免不必要的转译",{"type":394,"tag":546,"props":1958,"children":1959},{},[1960],{"type":399,"value":1961},"babel-loader 可配置 cache，只编译修改过的文件",{"type":394,"tag":546,"props":1963,"children":1964},{},[1965],{"type":399,"value":1966},"alias 优化文件查找性能",{"type":394,"tag":546,"props":1968,"children":1969},{},[1970],{"type":399,"value":1971},"thread-loader 多进程编译",{"type":394,"tag":546,"props":1973,"children":1974},{},[1975],{"type":399,"value":1976},"BundleAnalyzer 分析文件体积",{"type":394,"tag":546,"props":1978,"children":1979},{},[1980],{"type":399,"value":1981},"SplitChunks 替换 CommonChunks，渐进式加载",{"type":394,"tag":546,"props":1983,"children":1984},{},[1985],{"type":399,"value":1986},"摇树优化",{"type":394,"tag":542,"props":1988,"children":1989},{},[1990,1995,2000,2005],{"type":394,"tag":546,"props":1991,"children":1992},{},[1993],{"type":399,"value":1994},"按需加载",{"type":394,"tag":546,"props":1996,"children":1997},{},[1998],{"type":399,"value":1999},"动态垫片",{"type":394,"tag":546,"props":2001,"children":2002},{},[2003],{"type":399,"value":2004},"变量提升",{"type":394,"tag":546,"props":2006,"children":2007},{},[2008,2010],{"type":399,"value":2009},"压缩，比如 ",{"type":394,"tag":527,"props":2011,"children":2014},{"href":2012,"rel":2013},"https://webpack.docschina.org/plugins/terser-webpack-plugin/",[531],[2015],{"type":399,"value":2016},"terser",{"type":394,"tag":546,"props":2018,"children":2019},{},[2020],{"type":399,"value":2021},"图像策略",{"type":394,"tag":546,"props":2023,"children":2024},{},[2025,2027],{"type":399,"value":2026},"内容分发\n",{"type":394,"tag":542,"props":2028,"children":2029},{},[2030,2035],{"type":394,"tag":546,"props":2031,"children":2032},{},[2033],{"type":399,"value":2034},"域名分开，避免 Cookie",{"type":394,"tag":546,"props":2036,"children":2037},{},[2038],{"type":399,"value":2039},"静态资源走 CDN",{"type":394,"tag":2041,"props":2042,"children":2043},"style",{},[2044],{"type":399,"value":2045},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":388,"searchDepth":728,"depth":728,"links":2047},[2048,2049,2052,2053,2056],{"id":403,"depth":728,"text":403},{"id":618,"depth":728,"text":618,"children":2050},[2051],{"id":1615,"depth":738,"text":1618},{"id":1634,"depth":728,"text":1634},{"id":1650,"depth":728,"text":1653,"children":2054},[2055],{"id":1799,"depth":738,"text":1618},{"id":1817,"depth":728,"text":1817},"markdown","content:6.maps:_web:performance.md","content","6.maps/_web/performance.md","md",[2063,2065],{"_path":2064,"title":259,"description":388},"/maps/_web/miniapp",{"_path":2066,"title":2067,"description":388},"/maps/_workflow/compiler","Compiler",1708107600828]