[{"data":1,"prerenderedAt":1846},["ShallowReactive",2],{"navigation":3,"/maps/_web/performance":161,"/maps/_web/performance-surround":1837},[4,35,92,98,125,131,155],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86,89],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🖌️ Blockies Animation","/maps/_fe-framework/motion/blockies-animation",{"title":45,"_path":46},"🌪️ Tailwind v4 如何兼容预处理器","/articles/tailwind4-with-sass",{"title":48,"_path":49},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":51,"_path":52},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":54,"_path":55},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":57,"_path":58},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":60,"_path":61},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":63,"_path":64},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":66,"_path":67},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":69,"_path":70},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":72,"_path":73},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":75,"_path":76},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":78,"_path":79},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":81,"_path":82},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":84,"_path":85},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":87,"_path":88},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":90,"_path":91},"📝 技术博客归档","/articles/archive",{"title":93,"_path":94,"children":95},"读书笔记 / Notes","/books",[96],{"title":97,"_path":94},"📕 读书笔记",{"title":99,"_path":100,"children":101},"吉他剧场 / Music","/music",[102,104,107,110,113,116,119,122],{"title":103,"_path":100},"🎸 FingerStyle！",{"title":105,"_path":106},"🌬️ 等待的风","/music/wind",{"title":108,"_path":109},"💕 约定的海洋","/music/ocean",{"title":111,"_path":112},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":114,"_path":115},"🌏 残酷天使的行动纲领","/music/eva",{"title":117,"_path":118},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":120,"_path":121},"🍷 Wu Wei","/music/wu-wei",{"title":123,"_path":124},"🌅 无题","/music/untitled",{"title":126,"_path":127,"children":128},"知识地图 / Maps","/maps",[129],{"title":130,"_path":127},"🏁 知识地图",{"title":132,"_path":133,"children":134},"造物 / Make","/tools",[135,137,140,143,146,149,152],{"title":136,"_path":133},"🧰 工具收集",{"title":138,"_path":139},"📕 博客","/tools/blog",{"title":141,"_path":142},"🥥 Coconut","/tools/coconut",{"title":144,"_path":145},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":147,"_path":148},"🌐 AnySort","/tools/anysort",{"title":150,"_path":151},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":153,"_path":154},"👓 Crapto","/tools/crypto-inline",{"title":156,"_path":157,"children":158},"我 / About","/hire",[159],{"title":160,"_path":157},"📬 技术简历",{"_path":162,"_dir":163,"_draft":164,"_partial":165,"_locale":166,"title":167,"description":168,"body":169,"_type":1831,"_id":1832,"_source":1833,"_file":1834,"_stem":1835,"_extension":1836},"/maps/_web/performance","_web",false,true,"","页面性能","全面的网页性能优化指南，涵盖性能指标、监控方案、优化策略，以及 SSR、PWA 等现代 Web 应用的性能优化实践。",{"type":170,"children":171,"toc":1820},"root",[172,180,187,193,199,204,210,215,224,230,235,241,270,295,309,315,366,373,377,390,395,401,406,412,420,426,431,439,449,455,460,466,471,870,881,887,892,903,909,914,1087,1098,1104,1109,1288,1299,1305,1316,1322,1333,1339,1344,1355,1361,1386,1393,1406,1411,1417,1422,1428,1434,1439,1445,1450,1458,1477,1483,1495,1501,1506,1512,1517,1525,1531,1541,1547,1552,1560,1566,1571,1576,1589,1594,1607,1612,1636,1641,1654,1659,1692,1697,1707,1814],{"type":173,"tag":174,"props":175,"children":177},"element","h2",{"id":176},"指标与模型",[178],{"type":179,"value":176},"text",{"type":173,"tag":181,"props":182,"children":184},"h4",{"id":183},"网页性能的上下游",[185],{"type":179,"value":186},"网页性能的上下游？",{"type":173,"tag":188,"props":189,"children":190},"p",{},[191],{"type":179,"value":192},"选定合适的 API 收集数据，进行简单预处理后，通过 SDK 上报到后端或者云服务。为了展示收集到的数据，可以设置 99 线等图表，在某些特定的业务场景，还可以设置 A/B 图和告警。",{"type":173,"tag":181,"props":194,"children":196},{"id":195},"性能指标和性能模型的不同",[197],{"type":179,"value":198},"性能指标和性能模型的不同？",{"type":173,"tag":188,"props":200,"children":201},{},[202],{"type":179,"value":203},"两个立场不同，性能指标如 Navigation Timing 使用绝对的量来衡量页面各项性能参数，性能模型如 Web Vitals 使用算法定性分析页面加载时的用户体验。",{"type":173,"tag":181,"props":205,"children":207},{"id":206},"为什么需要性能模型",[208],{"type":179,"value":209},"为什么需要性能模型？",{"type":173,"tag":188,"props":211,"children":212},{},[213],{"type":179,"value":214},"用户体验很难用具体或者绝对的量来衡定，比如说在渐进式加载中，只对比白屏时间和 onload 时间只能说明用户提早看到了内容，却不能说明渐进式加载好在哪里，好了多少。",{"type":173,"tag":188,"props":216,"children":217},{},[218],{"type":173,"tag":219,"props":220,"children":223},"img",{"alt":221,"src":222},"页面渐进式加载示例","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/progressive-rendering.png",[],{"type":173,"tag":181,"props":225,"children":227},{"id":226},"合成监控和真实用户监控是什么",[228],{"type":179,"value":229},"合成监控和真实用户监控是什么？",{"type":173,"tag":188,"props":231,"children":232},{},[233],{"type":179,"value":234},"从技术上来说，可以把监控分为合成监控（Synthetic Monitoring，SYN）和真实用户监控（Real User Monitoring，RUM）。合成监控是在一个模拟的场景中，使用 Lighthouse 等工具，提取出性能指标并获得审计报告。真实用户监控是在真实用户访问时，通过数据源获取数据，再上报到日志服务器，以用来展示和分析这么一流程。",{"type":173,"tag":181,"props":236,"children":238},{"id":237},"web-vitals-有哪些指标",[239],{"type":179,"value":240},"Web Vitals 有哪些指标？",{"type":173,"tag":188,"props":242,"children":243},{},[244,246,253,255,261,262,268],{"type":179,"value":245},"Web Vitals 关注 ",{"type":173,"tag":247,"props":248,"children":250},"abbr",{"title":249},"Largest Contentful Paint",[251],{"type":179,"value":252},"LCP",{"type":179,"value":254},"、",{"type":173,"tag":247,"props":256,"children":258},{"title":257},"First Input Delay",[259],{"type":179,"value":260},"FID",{"type":179,"value":254},{"type":173,"tag":247,"props":263,"children":265},{"title":264},"Cumulative Layout Shift",[266],{"type":179,"value":267},"CLS",{"type":179,"value":269}," 的测量，分别描述最大内容渲染时间评分、页面可交互时间评分和布局偏移评分。",{"type":173,"tag":271,"props":272,"children":274},"div",{"style":273},"display:flex; justify-content:space-evenly;",[275,277,283,284,289,290],{"type":179,"value":276},"\n  ",{"type":173,"tag":219,"props":278,"children":282},{"src":279,"width":280,"alt":281},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/lcp_ux.svg","33%","Largest Contentful Paint threshold recommendations",[],{"type":179,"value":276},{"type":173,"tag":219,"props":285,"children":288},{"src":286,"width":280,"alt":287},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/fid_ux.svg","First Input Delay threshold recommendations",[],{"type":179,"value":276},{"type":173,"tag":219,"props":291,"children":294},{"src":292,"width":280,"alt":293},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/cls_ux.svg","Cumulative Layout Shift threshold recommendations",[],{"type":173,"tag":188,"props":296,"children":297},{},[298,300],{"type":179,"value":299},"见：",{"type":173,"tag":301,"props":302,"children":306},"a",{"href":303,"rel":304},"https://github.com/GoogleChrome/web-vitals",[305],"nofollow",[307],{"type":179,"value":308},"Web Vitals",{"type":173,"tag":181,"props":310,"children":312},{"id":311},"有哪些开发工具",[313],{"type":179,"value":314},"有哪些开发工具？",{"type":173,"tag":316,"props":317,"children":318},"ul",{},[319,330,342,354],{"type":173,"tag":320,"props":321,"children":322},"li",{},[323,328],{"type":173,"tag":301,"props":324,"children":326},{"href":303,"rel":325},[305],[327],{"type":179,"value":308},{"type":179,"value":329},"，获取 Web Vitals 评分。",{"type":173,"tag":320,"props":331,"children":332},{},[333,340],{"type":173,"tag":301,"props":334,"children":337},{"href":335,"rel":336},"https://github.com/cssmagic/simple-web-perf",[305],[338],{"type":179,"value":339},"simple-web-perf",{"type":179,"value":341},"，Navigation Timing 数据上报封装。",{"type":173,"tag":320,"props":343,"children":344},{},[345,352],{"type":173,"tag":301,"props":346,"children":349},{"href":347,"rel":348},"https://github.com/Lionad-Morotar/webpack-lighthouse-plugin",[305],[350],{"type":179,"value":351},"webpack-lighthouse-plugin",{"type":179,"value":353},"，在打包结束后自动运行 Lighthouse 并输出报告。",{"type":173,"tag":320,"props":355,"children":356},{},[357,364],{"type":173,"tag":301,"props":358,"children":361},{"href":359,"rel":360},"https://github.com/cloudfour/lighthouse-parade",[305],[362],{"type":179,"value":363},"lighthouse-parade",{"type":179,"value":365},"，递归抓取页面并评分，输出关于网站的完整报告。",{"type":173,"tag":188,"props":367,"children":368},{},[369],{"type":173,"tag":219,"props":370,"children":372},{"alt":351,"src":371},"https://github.com/Lionad-Morotar/webpack-lighthouse-plugin/blob/main/assets/example.gif?raw=true",[],{"type":173,"tag":374,"props":375,"children":376},"hr",{},[],{"type":173,"tag":316,"props":378,"children":379},{},[380],{"type":173,"tag":320,"props":381,"children":382},{},[383],{"type":173,"tag":301,"props":384,"children":387},{"href":385,"rel":386},"https://developer.mozilla.org/zh-CN/docs/Web/Performance",[305],[388],{"type":179,"value":389},"TODO，Web Performance @MDN",{"type":173,"tag":174,"props":391,"children":393},{"id":392},"如何测量性能指标",[394],{"type":179,"value":392},{"type":173,"tag":181,"props":396,"children":398},{"id":397},"怎么测定页面帧率",[399],{"type":179,"value":400},"怎么测定页面帧率？",{"type":173,"tag":188,"props":402,"children":403},{},[404],{"type":179,"value":405},"可以使用 requestAnimationFrame，但是不推荐，因为脚本本身就会对性能造成影响。",{"type":173,"tag":181,"props":407,"children":409},{"id":408},"可以使用哪些-api-测量性能",[410],{"type":179,"value":411},"可以使用哪些 API 测量性能？",{"type":173,"tag":188,"props":413,"children":414},{},[415],{"type":173,"tag":219,"props":416,"children":419},{"alt":417,"src":418},"Web Performance Related Specs","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220630135906.png",[],{"type":173,"tag":181,"props":421,"children":423},{"id":422},"performance-timing-被弃用了",[424],{"type":179,"value":425},"Performance Timing 被弃用了？",{"type":173,"tag":188,"props":427,"children":428},{},[429],{"type":179,"value":430},"Performance Timing 被弃用了，取而代之的是 Performance Navigation Timing。不应该再使用 performance.navigation、performance.getEntries 等 API，这些旧的 API 没有办法肩检测如加载新脚本等情况，不支持新的性能指标如 Long Tasks API，此外可能干扰页面性能，所以推荐使用 Navigation Timing API 获取数据，并使用 Performance Observer 进行侦测。",{"type":173,"tag":188,"props":432,"children":433},{},[434],{"type":173,"tag":219,"props":435,"children":438},{"alt":436,"src":437},"Navigation Timing Level 2","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628165411.png",[],{"type":173,"tag":188,"props":440,"children":441},{},[442,443],{"type":179,"value":299},{"type":173,"tag":301,"props":444,"children":447},{"href":445,"rel":446},"https://www.w3.org/TR/navigation-timing-2/",[305],[448],{"type":179,"value":436},{"type":173,"tag":181,"props":450,"children":452},{"id":451},"navigation-timing-中不同的阶段是连续的吗",[453],{"type":179,"value":454},"Navigation Timing 中不同的阶段是连续的吗？",{"type":173,"tag":188,"props":456,"children":457},{},[458],{"type":179,"value":459},"可能不是。如浏览器有同域下最多 6 个请求并行的限制，那么 domainLoopupEnd 到 requestStart 之间可能会出现较长的等待时间（Stalled Time）。此外，不一定每个阶段都会有数据，如：未发生跳转时，redirectCount 为 0；如果页面没有 service worker，那么 workerStart 为 0；DNS 从缓存中获取时，domainLoopupStart 和 domainLoopupEnd 可能相等。",{"type":173,"tag":181,"props":461,"children":463},{"id":462},"performanceobserver-是什么",[464],{"type":179,"value":465},"PerformanceObserver 是什么？",{"type":173,"tag":188,"props":467,"children":468},{},[469],{"type":179,"value":470},"“有效的性能测量的第一条规则是确保性能测量技术本身不会导致性能问题”，使用 Performance Observer 可以获取某个具体类型的指标的同时不会干扰或影响页面性能，因为它会在浏览器空闲时期执行。",{"type":173,"tag":472,"props":473,"children":477},"pre",{"className":474,"code":475,"language":476,"meta":166,"style":166},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","try {\n  // \"element\"、\"event\"、\"first-input\"、\n  // \"largest-contentful-paint\"、\"layout-shift\"、\n  // \"longtask\"、\"mark\"、\"measure\"、\n  // \"navigation\"、\"paint\"、\"resource\"\n    PerformanceObserver.supportedEntryTypes.map(type => {\n        new PerformanceObserver((list) => {\n          for (const entry of list.getEntries()) {\n            console.log(entry.toJSON())\n          }\n        }).observe({\n        type,\n        // 使用 buffered 可以在第一次回调时获取缓存区中的历史记录\n        buffered: true\n      })\n    })\n} catch {\n    // nothing  \n}\n","js",[478],{"type":173,"tag":479,"props":480,"children":481},"code",{"__ignoreMap":166},[482,500,510,519,528,537,589,630,684,725,734,764,778,787,807,821,834,852,861],{"type":173,"tag":483,"props":484,"children":487},"span",{"class":485,"line":486},"line",1,[488,494],{"type":173,"tag":483,"props":489,"children":491},{"style":490},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[492],{"type":179,"value":493},"try",{"type":173,"tag":483,"props":495,"children":497},{"style":496},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[498],{"type":179,"value":499}," {\n",{"type":173,"tag":483,"props":501,"children":503},{"class":485,"line":502},2,[504],{"type":173,"tag":483,"props":505,"children":507},{"style":506},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[508],{"type":179,"value":509},"  // \"element\"、\"event\"、\"first-input\"、\n",{"type":173,"tag":483,"props":511,"children":513},{"class":485,"line":512},3,[514],{"type":173,"tag":483,"props":515,"children":516},{"style":506},[517],{"type":179,"value":518},"  // \"largest-contentful-paint\"、\"layout-shift\"、\n",{"type":173,"tag":483,"props":520,"children":522},{"class":485,"line":521},4,[523],{"type":173,"tag":483,"props":524,"children":525},{"style":506},[526],{"type":179,"value":527},"  // \"longtask\"、\"mark\"、\"measure\"、\n",{"type":173,"tag":483,"props":529,"children":531},{"class":485,"line":530},5,[532],{"type":173,"tag":483,"props":533,"children":534},{"style":506},[535],{"type":179,"value":536},"  // \"navigation\"、\"paint\"、\"resource\"\n",{"type":173,"tag":483,"props":538,"children":540},{"class":485,"line":539},6,[541,547,552,557,561,567,573,579,585],{"type":173,"tag":483,"props":542,"children":544},{"style":543},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[545],{"type":179,"value":546},"    PerformanceObserver",{"type":173,"tag":483,"props":548,"children":549},{"style":496},[550],{"type":179,"value":551},".",{"type":173,"tag":483,"props":553,"children":554},{"style":543},[555],{"type":179,"value":556},"supportedEntryTypes",{"type":173,"tag":483,"props":558,"children":559},{"style":496},[560],{"type":179,"value":551},{"type":173,"tag":483,"props":562,"children":564},{"style":563},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[565],{"type":179,"value":566},"map",{"type":173,"tag":483,"props":568,"children":570},{"style":569},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[571],{"type":179,"value":572},"(",{"type":173,"tag":483,"props":574,"children":576},{"style":575},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[577],{"type":179,"value":578},"type",{"type":173,"tag":483,"props":580,"children":582},{"style":581},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[583],{"type":179,"value":584}," =>",{"type":173,"tag":483,"props":586,"children":587},{"style":496},[588],{"type":179,"value":499},{"type":173,"tag":483,"props":590,"children":592},{"class":485,"line":591},7,[593,599,604,608,612,617,622,626],{"type":173,"tag":483,"props":594,"children":596},{"style":595},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[597],{"type":179,"value":598},"        new",{"type":173,"tag":483,"props":600,"children":601},{"style":563},[602],{"type":179,"value":603}," PerformanceObserver",{"type":173,"tag":483,"props":605,"children":606},{"style":569},[607],{"type":179,"value":572},{"type":173,"tag":483,"props":609,"children":610},{"style":496},[611],{"type":179,"value":572},{"type":173,"tag":483,"props":613,"children":614},{"style":575},[615],{"type":179,"value":616},"list",{"type":173,"tag":483,"props":618,"children":619},{"style":496},[620],{"type":179,"value":621},")",{"type":173,"tag":483,"props":623,"children":624},{"style":581},[625],{"type":179,"value":584},{"type":173,"tag":483,"props":627,"children":628},{"style":496},[629],{"type":179,"value":499},{"type":173,"tag":483,"props":631,"children":633},{"class":485,"line":632},8,[634,639,644,649,655,660,665,669,674,679],{"type":173,"tag":483,"props":635,"children":636},{"style":490},[637],{"type":179,"value":638},"          for",{"type":173,"tag":483,"props":640,"children":641},{"style":569},[642],{"type":179,"value":643}," (",{"type":173,"tag":483,"props":645,"children":646},{"style":581},[647],{"type":179,"value":648},"const",{"type":173,"tag":483,"props":650,"children":652},{"style":651},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[653],{"type":179,"value":654}," entry",{"type":173,"tag":483,"props":656,"children":657},{"style":595},[658],{"type":179,"value":659}," of",{"type":173,"tag":483,"props":661,"children":662},{"style":543},[663],{"type":179,"value":664}," list",{"type":173,"tag":483,"props":666,"children":667},{"style":496},[668],{"type":179,"value":551},{"type":173,"tag":483,"props":670,"children":671},{"style":563},[672],{"type":179,"value":673},"getEntries",{"type":173,"tag":483,"props":675,"children":676},{"style":569},[677],{"type":179,"value":678},"()) ",{"type":173,"tag":483,"props":680,"children":681},{"style":496},[682],{"type":179,"value":683},"{\n",{"type":173,"tag":483,"props":685,"children":687},{"class":485,"line":686},9,[688,693,697,702,706,711,715,720],{"type":173,"tag":483,"props":689,"children":690},{"style":543},[691],{"type":179,"value":692},"            console",{"type":173,"tag":483,"props":694,"children":695},{"style":496},[696],{"type":179,"value":551},{"type":173,"tag":483,"props":698,"children":699},{"style":563},[700],{"type":179,"value":701},"log",{"type":173,"tag":483,"props":703,"children":704},{"style":569},[705],{"type":179,"value":572},{"type":173,"tag":483,"props":707,"children":708},{"style":543},[709],{"type":179,"value":710},"entry",{"type":173,"tag":483,"props":712,"children":713},{"style":496},[714],{"type":179,"value":551},{"type":173,"tag":483,"props":716,"children":717},{"style":563},[718],{"type":179,"value":719},"toJSON",{"type":173,"tag":483,"props":721,"children":722},{"style":569},[723],{"type":179,"value":724},"())\n",{"type":173,"tag":483,"props":726,"children":728},{"class":485,"line":727},10,[729],{"type":173,"tag":483,"props":730,"children":731},{"style":496},[732],{"type":179,"value":733},"          }\n",{"type":173,"tag":483,"props":735,"children":737},{"class":485,"line":736},11,[738,743,747,751,756,760],{"type":173,"tag":483,"props":739,"children":740},{"style":496},[741],{"type":179,"value":742},"        }",{"type":173,"tag":483,"props":744,"children":745},{"style":569},[746],{"type":179,"value":621},{"type":173,"tag":483,"props":748,"children":749},{"style":496},[750],{"type":179,"value":551},{"type":173,"tag":483,"props":752,"children":753},{"style":563},[754],{"type":179,"value":755},"observe",{"type":173,"tag":483,"props":757,"children":758},{"style":569},[759],{"type":179,"value":572},{"type":173,"tag":483,"props":761,"children":762},{"style":496},[763],{"type":179,"value":683},{"type":173,"tag":483,"props":765,"children":767},{"class":485,"line":766},12,[768,773],{"type":173,"tag":483,"props":769,"children":770},{"style":543},[771],{"type":179,"value":772},"        type",{"type":173,"tag":483,"props":774,"children":775},{"style":496},[776],{"type":179,"value":777},",\n",{"type":173,"tag":483,"props":779,"children":781},{"class":485,"line":780},13,[782],{"type":173,"tag":483,"props":783,"children":784},{"style":506},[785],{"type":179,"value":786},"        // 使用 buffered 可以在第一次回调时获取缓存区中的历史记录\n",{"type":173,"tag":483,"props":788,"children":790},{"class":485,"line":789},14,[791,796,801],{"type":173,"tag":483,"props":792,"children":793},{"style":569},[794],{"type":179,"value":795},"        buffered",{"type":173,"tag":483,"props":797,"children":798},{"style":496},[799],{"type":179,"value":800},":",{"type":173,"tag":483,"props":802,"children":804},{"style":803},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[805],{"type":179,"value":806}," true\n",{"type":173,"tag":483,"props":808,"children":810},{"class":485,"line":809},15,[811,816],{"type":173,"tag":483,"props":812,"children":813},{"style":496},[814],{"type":179,"value":815},"      }",{"type":173,"tag":483,"props":817,"children":818},{"style":569},[819],{"type":179,"value":820},")\n",{"type":173,"tag":483,"props":822,"children":824},{"class":485,"line":823},16,[825,830],{"type":173,"tag":483,"props":826,"children":827},{"style":496},[828],{"type":179,"value":829},"    }",{"type":173,"tag":483,"props":831,"children":832},{"style":569},[833],{"type":179,"value":820},{"type":173,"tag":483,"props":835,"children":837},{"class":485,"line":836},17,[838,843,848],{"type":173,"tag":483,"props":839,"children":840},{"style":496},[841],{"type":179,"value":842},"}",{"type":173,"tag":483,"props":844,"children":845},{"style":490},[846],{"type":179,"value":847}," catch",{"type":173,"tag":483,"props":849,"children":850},{"style":496},[851],{"type":179,"value":499},{"type":173,"tag":483,"props":853,"children":855},{"class":485,"line":854},18,[856],{"type":173,"tag":483,"props":857,"children":858},{"style":506},[859],{"type":179,"value":860},"    // nothing  \n",{"type":173,"tag":483,"props":862,"children":864},{"class":485,"line":863},19,[865],{"type":173,"tag":483,"props":866,"children":867},{"style":496},[868],{"type":179,"value":869},"}\n",{"type":173,"tag":188,"props":871,"children":872},{},[873,874],{"type":179,"value":299},{"type":173,"tag":301,"props":875,"children":878},{"href":876,"rel":877},"https://web.dev/custom-metrics/#",[305],[879],{"type":179,"value":880},"Performance Observer",{"type":173,"tag":181,"props":882,"children":884},{"id":883},"long-tasks-api-是什么",[885],{"type":179,"value":886},"Long Tasks API 是什么？",{"type":173,"tag":188,"props":888,"children":889},{},[890],{"type":179,"value":891},"Long Tasks API 将会汇报使主线程阻塞超过 50ms 的任何任务。通过观测阻塞时长，可以获得诸如 TTI（Time To Interactive）、TBT（Total Blocking Time）等数据。",{"type":173,"tag":188,"props":893,"children":894},{},[895,896],{"type":179,"value":299},{"type":173,"tag":301,"props":897,"children":900},{"href":898,"rel":899},"https://web.dev/custom-metrics/#long-tasks-api",[305],[901],{"type":179,"value":902},"Long Tasks API",{"type":173,"tag":181,"props":904,"children":906},{"id":905},"如何测量函数执行的时长",[907],{"type":179,"value":908},"如何测量函数执行的时长？",{"type":173,"tag":188,"props":910,"children":911},{},[912],{"type":179,"value":913},"可以使用 Date.now()、performance.now()，但是如果不考虑兼容性的话，使用 User Timing API 要更好一些，它可以和相关套件很好的结合：比如说在 Performance 面板中可视化，或通过 Performance Observer 进行观测。",{"type":173,"tag":472,"props":915,"children":917},{"className":474,"code":916,"language":476,"meta":166,"style":166},"performance.mark('myTask:start')\nawait task()\nperformance.mark('myTask:end')\nperformance.measure('myTask', 'myTask:start', 'myTask:end')\n",[918],{"type":173,"tag":479,"props":919,"children":920},{"__ignoreMap":166},[921,962,980,1016],{"type":173,"tag":483,"props":922,"children":923},{"class":485,"line":486},[924,929,933,938,942,948,954,958],{"type":173,"tag":483,"props":925,"children":926},{"style":543},[927],{"type":179,"value":928},"performance",{"type":173,"tag":483,"props":930,"children":931},{"style":496},[932],{"type":179,"value":551},{"type":173,"tag":483,"props":934,"children":935},{"style":563},[936],{"type":179,"value":937},"mark",{"type":173,"tag":483,"props":939,"children":940},{"style":543},[941],{"type":179,"value":572},{"type":173,"tag":483,"props":943,"children":945},{"style":944},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[946],{"type":179,"value":947},"'",{"type":173,"tag":483,"props":949,"children":951},{"style":950},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[952],{"type":179,"value":953},"myTask:start",{"type":173,"tag":483,"props":955,"children":956},{"style":944},[957],{"type":179,"value":947},{"type":173,"tag":483,"props":959,"children":960},{"style":543},[961],{"type":179,"value":820},{"type":173,"tag":483,"props":963,"children":964},{"class":485,"line":502},[965,970,975],{"type":173,"tag":483,"props":966,"children":967},{"style":490},[968],{"type":179,"value":969},"await",{"type":173,"tag":483,"props":971,"children":972},{"style":563},[973],{"type":179,"value":974}," task",{"type":173,"tag":483,"props":976,"children":977},{"style":543},[978],{"type":179,"value":979},"()\n",{"type":173,"tag":483,"props":981,"children":982},{"class":485,"line":512},[983,987,991,995,999,1003,1008,1012],{"type":173,"tag":483,"props":984,"children":985},{"style":543},[986],{"type":179,"value":928},{"type":173,"tag":483,"props":988,"children":989},{"style":496},[990],{"type":179,"value":551},{"type":173,"tag":483,"props":992,"children":993},{"style":563},[994],{"type":179,"value":937},{"type":173,"tag":483,"props":996,"children":997},{"style":543},[998],{"type":179,"value":572},{"type":173,"tag":483,"props":1000,"children":1001},{"style":944},[1002],{"type":179,"value":947},{"type":173,"tag":483,"props":1004,"children":1005},{"style":950},[1006],{"type":179,"value":1007},"myTask:end",{"type":173,"tag":483,"props":1009,"children":1010},{"style":944},[1011],{"type":179,"value":947},{"type":173,"tag":483,"props":1013,"children":1014},{"style":543},[1015],{"type":179,"value":820},{"type":173,"tag":483,"props":1017,"children":1018},{"class":485,"line":521},[1019,1023,1027,1032,1036,1040,1045,1049,1054,1059,1063,1067,1071,1075,1079,1083],{"type":173,"tag":483,"props":1020,"children":1021},{"style":543},[1022],{"type":179,"value":928},{"type":173,"tag":483,"props":1024,"children":1025},{"style":496},[1026],{"type":179,"value":551},{"type":173,"tag":483,"props":1028,"children":1029},{"style":563},[1030],{"type":179,"value":1031},"measure",{"type":173,"tag":483,"props":1033,"children":1034},{"style":543},[1035],{"type":179,"value":572},{"type":173,"tag":483,"props":1037,"children":1038},{"style":944},[1039],{"type":179,"value":947},{"type":173,"tag":483,"props":1041,"children":1042},{"style":950},[1043],{"type":179,"value":1044},"myTask",{"type":173,"tag":483,"props":1046,"children":1047},{"style":944},[1048],{"type":179,"value":947},{"type":173,"tag":483,"props":1050,"children":1051},{"style":496},[1052],{"type":179,"value":1053},",",{"type":173,"tag":483,"props":1055,"children":1056},{"style":944},[1057],{"type":179,"value":1058}," '",{"type":173,"tag":483,"props":1060,"children":1061},{"style":950},[1062],{"type":179,"value":953},{"type":173,"tag":483,"props":1064,"children":1065},{"style":944},[1066],{"type":179,"value":947},{"type":173,"tag":483,"props":1068,"children":1069},{"style":496},[1070],{"type":179,"value":1053},{"type":173,"tag":483,"props":1072,"children":1073},{"style":944},[1074],{"type":179,"value":1058},{"type":173,"tag":483,"props":1076,"children":1077},{"style":950},[1078],{"type":179,"value":1007},{"type":173,"tag":483,"props":1080,"children":1081},{"style":944},[1082],{"type":179,"value":947},{"type":173,"tag":483,"props":1084,"children":1085},{"style":543},[1086],{"type":179,"value":820},{"type":173,"tag":188,"props":1088,"children":1089},{},[1090,1091],{"type":179,"value":299},{"type":173,"tag":301,"props":1092,"children":1095},{"href":1093,"rel":1094},"https://web.dev/custom-metrics/#user-timing-api",[305],[1096],{"type":179,"value":1097},"User Timing API",{"type":173,"tag":181,"props":1099,"children":1101},{"id":1100},"如何测量元素的渲染时间",[1102],{"type":179,"value":1103},"如何测量元素的渲染时间？",{"type":173,"tag":188,"props":1105,"children":1106},{},[1107],{"type":179,"value":1108},"可以使用 Element Timing API。通过给 element 增加 elementtiming 属性，可以在注册 Performance Observer 后监听 element 类型的事件并获得元素渲染时间。LCP 指标就是建立在 ET API 基础上的，只是汇报的是最大内容元素的渲染时间。",{"type":173,"tag":472,"props":1110,"children":1114},{"className":1111,"code":1112,"language":1113,"meta":166,"style":166},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cimg elementtiming=\"hero-image\" />\n\u003Cscript>\n  new PerformanceObserver(/* ... */)\n    .observe({ type: 'element', buffered: true })\n\u003C/script>\n","html",[1115],{"type":173,"tag":479,"props":1116,"children":1117},{"__ignoreMap":166},[1118,1161,1178,1203,1272],{"type":173,"tag":483,"props":1119,"children":1120},{"class":485,"line":486},[1121,1126,1131,1137,1142,1147,1152,1156],{"type":173,"tag":483,"props":1122,"children":1123},{"style":496},[1124],{"type":179,"value":1125},"\u003C",{"type":173,"tag":483,"props":1127,"children":1129},{"style":1128},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1130],{"type":179,"value":219},{"type":173,"tag":483,"props":1132,"children":1134},{"style":1133},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1135],{"type":179,"value":1136}," elementtiming",{"type":173,"tag":483,"props":1138,"children":1139},{"style":496},[1140],{"type":179,"value":1141},"=",{"type":173,"tag":483,"props":1143,"children":1144},{"style":944},[1145],{"type":179,"value":1146},"\"",{"type":173,"tag":483,"props":1148,"children":1149},{"style":950},[1150],{"type":179,"value":1151},"hero-image",{"type":173,"tag":483,"props":1153,"children":1154},{"style":944},[1155],{"type":179,"value":1146},{"type":173,"tag":483,"props":1157,"children":1158},{"style":496},[1159],{"type":179,"value":1160}," />\n",{"type":173,"tag":483,"props":1162,"children":1163},{"class":485,"line":502},[1164,1168,1173],{"type":173,"tag":483,"props":1165,"children":1166},{"style":496},[1167],{"type":179,"value":1125},{"type":173,"tag":483,"props":1169,"children":1170},{"style":1128},[1171],{"type":179,"value":1172},"script",{"type":173,"tag":483,"props":1174,"children":1175},{"style":496},[1176],{"type":179,"value":1177},">\n",{"type":173,"tag":483,"props":1179,"children":1180},{"class":485,"line":512},[1181,1186,1190,1194,1199],{"type":173,"tag":483,"props":1182,"children":1183},{"style":595},[1184],{"type":179,"value":1185},"  new",{"type":173,"tag":483,"props":1187,"children":1188},{"style":563},[1189],{"type":179,"value":603},{"type":173,"tag":483,"props":1191,"children":1192},{"style":543},[1193],{"type":179,"value":572},{"type":173,"tag":483,"props":1195,"children":1196},{"style":506},[1197],{"type":179,"value":1198},"/* ... */",{"type":173,"tag":483,"props":1200,"children":1201},{"style":543},[1202],{"type":179,"value":820},{"type":173,"tag":483,"props":1204,"children":1205},{"class":485,"line":521},[1206,1211,1215,1219,1224,1229,1233,1237,1241,1245,1249,1254,1258,1263,1268],{"type":173,"tag":483,"props":1207,"children":1208},{"style":496},[1209],{"type":179,"value":1210},"    .",{"type":173,"tag":483,"props":1212,"children":1213},{"style":563},[1214],{"type":179,"value":755},{"type":173,"tag":483,"props":1216,"children":1217},{"style":543},[1218],{"type":179,"value":572},{"type":173,"tag":483,"props":1220,"children":1221},{"style":496},[1222],{"type":179,"value":1223},"{",{"type":173,"tag":483,"props":1225,"children":1226},{"style":569},[1227],{"type":179,"value":1228}," type",{"type":173,"tag":483,"props":1230,"children":1231},{"style":496},[1232],{"type":179,"value":800},{"type":173,"tag":483,"props":1234,"children":1235},{"style":944},[1236],{"type":179,"value":1058},{"type":173,"tag":483,"props":1238,"children":1239},{"style":950},[1240],{"type":179,"value":173},{"type":173,"tag":483,"props":1242,"children":1243},{"style":944},[1244],{"type":179,"value":947},{"type":173,"tag":483,"props":1246,"children":1247},{"style":496},[1248],{"type":179,"value":1053},{"type":173,"tag":483,"props":1250,"children":1251},{"style":569},[1252],{"type":179,"value":1253}," buffered",{"type":173,"tag":483,"props":1255,"children":1256},{"style":496},[1257],{"type":179,"value":800},{"type":173,"tag":483,"props":1259,"children":1260},{"style":803},[1261],{"type":179,"value":1262}," true",{"type":173,"tag":483,"props":1264,"children":1265},{"style":496},[1266],{"type":179,"value":1267}," }",{"type":173,"tag":483,"props":1269,"children":1270},{"style":543},[1271],{"type":179,"value":820},{"type":173,"tag":483,"props":1273,"children":1274},{"class":485,"line":530},[1275,1280,1284],{"type":173,"tag":483,"props":1276,"children":1277},{"style":496},[1278],{"type":179,"value":1279},"\u003C/",{"type":173,"tag":483,"props":1281,"children":1282},{"style":1128},[1283],{"type":179,"value":1172},{"type":173,"tag":483,"props":1285,"children":1286},{"style":496},[1287],{"type":179,"value":1177},{"type":173,"tag":188,"props":1289,"children":1290},{},[1291,1292],{"type":179,"value":299},{"type":173,"tag":301,"props":1293,"children":1296},{"href":1294,"rel":1295},"https://web.dev/custom-metrics/#element-timing-api",[305],[1297],{"type":179,"value":1298},"Element Timing API",{"type":173,"tag":181,"props":1300,"children":1302},{"id":1301},"event-timing-api-是什么",[1303],{"type":179,"value":1304},"Event Timing API 是什么？",{"type":173,"tag":188,"props":1306,"children":1307},{},[1308,1309],{"type":179,"value":299},{"type":173,"tag":301,"props":1310,"children":1313},{"href":1311,"rel":1312},"https://web.dev/custom-metrics/#event-timing-api",[305],[1314],{"type":179,"value":1315},"Event Timing API",{"type":173,"tag":181,"props":1317,"children":1319},{"id":1318},"resource-timing-api-是什么",[1320],{"type":179,"value":1321},"Resource Timing API 是什么？",{"type":173,"tag":188,"props":1323,"children":1324},{},[1325,1326],{"type":179,"value":299},{"type":173,"tag":301,"props":1327,"children":1330},{"href":1328,"rel":1329},"https://web.dev/custom-metrics/#resource-timing-api",[305],[1331],{"type":179,"value":1332},"Resource Timing API",{"type":173,"tag":181,"props":1334,"children":1336},{"id":1335},"navigation-timing-api-是什么",[1337],{"type":179,"value":1338},"Navigation Timing API 是什么？",{"type":173,"tag":188,"props":1340,"children":1341},{},[1342],{"type":179,"value":1343},"类似于 Resource Timing API，但不同的地方在于它会在导航时被触发，还附带了 DOMContentLoaded 和 load 事件的触发事件。",{"type":173,"tag":188,"props":1345,"children":1346},{},[1347,1348],{"type":179,"value":299},{"type":173,"tag":301,"props":1349,"children":1352},{"href":1350,"rel":1351},"https://web.dev/custom-metrics/#navigation-timing-api",[305],[1353],{"type":179,"value":1354},"Navigation Timing API",{"type":173,"tag":181,"props":1356,"children":1358},{"id":1357},"除了规范定义数据还可以上报哪些",[1359],{"type":179,"value":1360},"除了规范定义数据，还可以上报哪些？",{"type":173,"tag":188,"props":1362,"children":1363},{},[1364,1370,1372,1377,1379,1384],{"type":173,"tag":1365,"props":1366,"children":1367},"strong",{},[1368],{"type":179,"value":1369},"5W",{"type":179,"value":1371},"：时间、地理位置、页面 URL、浏览器、系统、账号 ID、现场还原。",{"type":173,"tag":1365,"props":1373,"children":1374},{},[1375],{"type":179,"value":1376},"网络",{"type":179,"value":1378},"：页面加载方式、Service Worker、HTTP 协议版本、资源压缩方式。",{"type":173,"tag":1365,"props":1380,"children":1381},{},[1382],{"type":179,"value":1383},"其它",{"type":179,"value":1385},"：页面在前台还是后台。",{"type":173,"tag":1387,"props":1388,"children":1390},"h3",{"id":1389},"links",[1391],{"type":179,"value":1392},"Links",{"type":173,"tag":316,"props":1394,"children":1395},{},[1396],{"type":173,"tag":320,"props":1397,"children":1398},{},[1399],{"type":173,"tag":301,"props":1400,"children":1403},{"href":1401,"rel":1402},"https://mp.weixin.qq.com/s/pqFhhb5u6w7gmUutilH5xQ",[305],[1404],{"type":179,"value":1405},"蚂蚁金服如何把前端性能监控做到极致?",{"type":173,"tag":174,"props":1407,"children":1409},{"id":1408},"性能优化",[1410],{"type":179,"value":1408},{"type":173,"tag":181,"props":1412,"children":1414},{"id":1413},"做性能优化的基本法则是什么",[1415],{"type":179,"value":1416},"做性能优化的基本法则是什么？",{"type":173,"tag":188,"props":1418,"children":1419},{},[1420],{"type":179,"value":1421},"编译层参见 webpack 优化；网络层减少请求；客户端预加载、预渲染、预执行。以及两句名言：“空间换时间”、“串行改并行”。",{"type":173,"tag":174,"props":1423,"children":1425},{"id":1424},"ssr-及混合应用优化",[1426],{"type":179,"value":1427},"SSR 及混合应用优化",{"type":173,"tag":181,"props":1429,"children":1431},{"id":1430},"csr-是什么",[1432],{"type":179,"value":1433},"CSR 是什么？",{"type":173,"tag":188,"props":1435,"children":1436},{},[1437],{"type":179,"value":1438},"Client Side Rendering，和 SSR 相对应，指页面渲染、逻辑、路由、请求都是在浏览器发生的。想要提高 CSR 项目的用户体验，可以考虑在编译时通过预渲染首屏、骨架屏等形式对性能指标进行优化，或者，上 SSR。",{"type":173,"tag":181,"props":1440,"children":1442},{"id":1441},"从-csr-到-ssr-有哪些过渡方案",[1443],{"type":179,"value":1444},"从 CSR 到 SSR 有哪些过渡方案？",{"type":173,"tag":188,"props":1446,"children":1447},{},[1448],{"type":179,"value":1449},"CSP -> CSP with prerender -> SSR with hydration -> static SSR -> SSR",{"type":173,"tag":188,"props":1451,"children":1452},{},[1453],{"type":173,"tag":219,"props":1454,"children":1457},{"alt":1455,"src":1456},"From CSP to SSR","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220629020645.png",[],{"type":173,"tag":188,"props":1459,"children":1460},{},[1461,1462,1469,1470],{"type":179,"value":299},{"type":173,"tag":301,"props":1463,"children":1466},{"href":1464,"rel":1465},"https://web.dev/rendering-on-the-web/",[305],[1467],{"type":179,"value":1468},"TODO，Rendering on the Web",{"type":179,"value":254},{"type":173,"tag":301,"props":1471,"children":1474},{"href":1472,"rel":1473},"https://blog.csdn.net/m0_37411791/article/details/106513195?utm_source=blogxgwz7",[305],[1475],{"type":179,"value":1476},"CSR、SSR、NSR、ESR傻傻分不清楚",{"type":173,"tag":181,"props":1478,"children":1480},{"id":1479},"esr-是什么",[1481],{"type":179,"value":1482},"ESR 是什么？",{"type":173,"tag":188,"props":1484,"children":1485},{},[1486,1488],{"type":179,"value":1487},"TODO，",{"type":173,"tag":301,"props":1489,"children":1492},{"href":1490,"rel":1491},"https://juejin.im/post/5ecf90b7f265da76e7651a96",[305],[1493],{"type":179,"value":1494},"边缘计算说过吗？淘宝用它提升了69%的首屏性能",{"type":173,"tag":181,"props":1496,"children":1498},{"id":1497},"经典直出方案是什么",[1499],{"type":179,"value":1500},"经典直出方案是什么？",{"type":173,"tag":188,"props":1502,"children":1503},{},[1504],{"type":179,"value":1505},"直出指在后端渲染好 HTML 后再回传给客户端这种方式，直出可以节约许多 HTML 渲染及 AJAX 请求的时间，对 Web 前端的侵入性最小。",{"type":173,"tag":181,"props":1507,"children":1509},{"id":1508},"离线包缓存是什么",[1510],{"type":179,"value":1511},"离线包缓存是什么？",{"type":173,"tag":188,"props":1513,"children":1514},{},[1515],{"type":179,"value":1516},"直出方案仍需要把时间花在请求、加载 HTML 上，离线包缓存意味着把 HTML、CSS、JS、数据提前缓存在本地，只有部分需要异步更新的页面才通过请求的方式加载新数据并重新渲染页面。",{"type":173,"tag":188,"props":1518,"children":1519},{},[1520],{"type":173,"tag":219,"props":1521,"children":1524},{"alt":1522,"src":1523},"直出 VS 离线包缓存","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628233615.png",[],{"type":173,"tag":181,"props":1526,"children":1528},{"id":1527},"容器化方案是什么",[1529],{"type":179,"value":1530},"容器化方案是什么？",{"type":173,"tag":188,"props":1532,"children":1533},{},[1534,1535],{"type":179,"value":1487},{"type":173,"tag":301,"props":1536,"children":1539},{"href":1537,"rel":1538},"http://www.alloyteam.com/2020/06/fast-open-h5/",[305],[1540],{"type":179,"value":1537},{"type":173,"tag":181,"props":1542,"children":1544},{"id":1543},"pwa-怎么配合-ssr-做优化",[1545],{"type":179,"value":1546},"PWA 怎么配合 SSR 做优化？",{"type":173,"tag":188,"props":1548,"children":1549},{},[1550],{"type":179,"value":1551},"PWA 能够通过 Service Worker 对缓存进行精细化控制，在客户端使用无头浏览器提前加载 HTML，等到实际加载时请求的就是由 Service Worker 缓存下来的资源了。",{"type":173,"tag":188,"props":1553,"children":1554},{},[1555],{"type":173,"tag":219,"props":1556,"children":1559},{"alt":1557,"src":1558},"PWA + Headless Webview","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628235637.png?w=30",[],{"type":173,"tag":181,"props":1561,"children":1563},{"id":1562},"nsr-是什么",[1564],{"type":179,"value":1565},"NSR 是什么？",{"type":173,"tag":188,"props":1567,"children":1568},{},[1569],{"type":179,"value":1570},"Native Side Render，GMTC 2019 UC 团队提到的一种“前端 SSR”方案，它借助浏览器启动一个额外的 JS Runtime，将提前下载好的 HTML 模板和数据预渲染出来。这种方案的瓶颈在于他会带来额外的流量和性能开销，所以如何预测用户行为，提高命中率是非常重要的事。",{"type":173,"tag":1387,"props":1572,"children":1574},{"id":1573},"links-1",[1575],{"type":179,"value":1392},{"type":173,"tag":316,"props":1577,"children":1578},{},[1579],{"type":173,"tag":320,"props":1580,"children":1581},{},[1582],{"type":173,"tag":301,"props":1583,"children":1586},{"href":1584,"rel":1585},"http://www.alloyteam.com/2019/10/h5-performance-optimize",[305],[1587],{"type":179,"value":1588},"H5 秒开方案大全",{"type":173,"tag":174,"props":1590,"children":1592},{"id":1591},"阅读更多",[1593],{"type":179,"value":1591},{"type":173,"tag":181,"props":1595,"children":1597},{"id":1596},"react-16-加载性能优化指南",[1598,1605],{"type":173,"tag":1599,"props":1600,"children":1604},"link",{"type":1601,"to":1602,"source":1603},"h5","https://mgear-file.oss-cn-shanghai.aliyuncs.com/React%2016%20%E5%8A%A0%E8%BD%BD%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E5%8D%97.html","https://zhuanlan.zhihu.com/p/37148975",[],{"type":179,"value":1606},"《React 16 加载性能优化指南》",{"type":173,"tag":188,"props":1608,"children":1609},{},[1610],{"type":179,"value":1611},"作者把页面加载状态划分了四个步骤：",{"type":173,"tag":1613,"props":1614,"children":1615},"ol",{},[1616,1621,1626,1631],{"type":173,"tag":320,"props":1617,"children":1618},{},[1619],{"type":179,"value":1620},"打开页面到首屏渲染（浏览器首次渲染可见的内容）",{"type":173,"tag":320,"props":1622,"children":1623},{},[1624],{"type":179,"value":1625},"首屏渲染到首次内容渲染（相关业务的内容）",{"type":173,"tag":320,"props":1627,"children":1628},{},[1629],{"type":179,"value":1630},"内容渲染到页面可交互",{"type":173,"tag":320,"props":1632,"children":1633},{},[1634],{"type":179,"value":1635},"页面逐渐加载（诸如图片等元素）直到页面内容加载完毕",{"type":173,"tag":188,"props":1637,"children":1638},{},[1639],{"type":179,"value":1640},"在很多应用中，首屏渲染约等于首次内容渲染，这是因为加载 HTML 和 CSS 之后，要等待业务 JS 加载完毕才能看到有意义的内容。其实可以通过几种方法完善首屏加载的 HTML 和 CSS，增加加载状态，减少用户等待焦虑。",{"type":173,"tag":316,"props":1642,"children":1643},{},[1644,1649],{"type":173,"tag":320,"props":1645,"children":1646},{},[1647],{"type":179,"value":1648},"在 HTML 模板中使用 SVG 图案（比如通过 html-webpack-plugin 自动插入）",{"type":173,"tag":320,"props":1650,"children":1651},{},[1652],{"type":179,"value":1653},"使用 pupeteer 等工具预渲染首屏",{"type":173,"tag":188,"props":1655,"children":1656},{},[1657],{"type":179,"value":1658},"业务内容加载的过程中，JS 的影响最大。业务 JS 代码可以大致划分为：基础框架、垫片、业务基础库、业务代码这四大类，所以讲到优化 JS 其实是说如何通过分缓存去优化几种不同类型的 JS。",{"type":173,"tag":316,"props":1660,"children":1661},{},[1662,1667,1672,1677,1682,1687],{"type":173,"tag":320,"props":1663,"children":1664},{},[1665],{"type":179,"value":1666},"基础框架需要长时间缓存，适合强缓存",{"type":173,"tag":320,"props":1668,"children":1669},{},[1670],{"type":179,"value":1671},"使用 polyfill.io，根据 UA 自动垫片",{"type":173,"tag":320,"props":1673,"children":1674},{},[1675],{"type":179,"value":1676},"使用 SplitChunksPlugin 替代 CommonChunksPlugin",{"type":173,"tag":320,"props":1678,"children":1679},{},[1680],{"type":179,"value":1681},"使用 TreeShaking",{"type":173,"tag":320,"props":1683,"children":1684},{},[1685],{"type":179,"value":1686},"如果打包出来的 Bundle 体积巨大，可以考虑使用代码分割功能，比如 React Loadable 动态载入代码。",{"type":173,"tag":320,"props":1688,"children":1689},{},[1690],{"type":179,"value":1691},"为绝大多数用户提供 ES6+ 的代码，使用 nomodule 标志为老的浏览器保留 ES5 版本代码",{"type":173,"tag":188,"props":1693,"children":1694},{},[1695],{"type":179,"value":1696},"最后，在页面可交互到页面加载完毕这个阶段，可以使用图片懒加载或者骨架屏等形式提高体验。",{"type":173,"tag":181,"props":1698,"children":1700},{"id":1699},"关于性能优化的9大策略和6大指标",[1701],{"type":173,"tag":301,"props":1702,"children":1705},{"href":1703,"rel":1704},"https://juejin.cn/post/6981673766178783262",[305],[1706],{"type":179,"value":1699},{"type":173,"tag":316,"props":1708,"children":1709},{},[1710],{"type":173,"tag":320,"props":1711,"children":1712},{},[1713,1715],{"type":179,"value":1714},"网络层面\n",{"type":173,"tag":316,"props":1716,"children":1717},{},[1718,1791,1796],{"type":173,"tag":320,"props":1719,"children":1720},{},[1721,1723,1761],{"type":179,"value":1722},"构建工具优化\n",{"type":173,"tag":316,"props":1724,"children":1725},{},[1726,1731,1736,1741,1746,1751,1756],{"type":173,"tag":320,"props":1727,"children":1728},{},[1729],{"type":179,"value":1730},"include/exclude 避免不必要的查找，比如用在 babel-loader 可以避免不必要的转译",{"type":173,"tag":320,"props":1732,"children":1733},{},[1734],{"type":179,"value":1735},"babel-loader 可配置 cache，只编译修改过的文件",{"type":173,"tag":320,"props":1737,"children":1738},{},[1739],{"type":179,"value":1740},"alias 优化文件查找性能",{"type":173,"tag":320,"props":1742,"children":1743},{},[1744],{"type":179,"value":1745},"thread-loader 多进程编译",{"type":173,"tag":320,"props":1747,"children":1748},{},[1749],{"type":179,"value":1750},"BundleAnalyzer 分析文件体积",{"type":173,"tag":320,"props":1752,"children":1753},{},[1754],{"type":179,"value":1755},"SplitChunks 替换 CommonChunks，渐进式加载",{"type":173,"tag":320,"props":1757,"children":1758},{},[1759],{"type":179,"value":1760},"摇树优化",{"type":173,"tag":316,"props":1762,"children":1763},{},[1764,1769,1774,1779],{"type":173,"tag":320,"props":1765,"children":1766},{},[1767],{"type":179,"value":1768},"按需加载",{"type":173,"tag":320,"props":1770,"children":1771},{},[1772],{"type":179,"value":1773},"动态垫片",{"type":173,"tag":320,"props":1775,"children":1776},{},[1777],{"type":179,"value":1778},"变量提升",{"type":173,"tag":320,"props":1780,"children":1781},{},[1782,1784],{"type":179,"value":1783},"压缩，比如 ",{"type":173,"tag":301,"props":1785,"children":1788},{"href":1786,"rel":1787},"https://webpack.docschina.org/plugins/terser-webpack-plugin/",[305],[1789],{"type":179,"value":1790},"terser",{"type":173,"tag":320,"props":1792,"children":1793},{},[1794],{"type":179,"value":1795},"图像策略",{"type":173,"tag":320,"props":1797,"children":1798},{},[1799,1801],{"type":179,"value":1800},"内容分发\n",{"type":173,"tag":316,"props":1802,"children":1803},{},[1804,1809],{"type":173,"tag":320,"props":1805,"children":1806},{},[1807],{"type":179,"value":1808},"域名分开，避免 Cookie",{"type":173,"tag":320,"props":1810,"children":1811},{},[1812],{"type":179,"value":1813},"静态资源走 CDN",{"type":173,"tag":1815,"props":1816,"children":1817},"style",{},[1818],{"type":179,"value":1819},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":166,"searchDepth":502,"depth":502,"links":1821},[1822,1823,1826,1827,1830],{"id":176,"depth":502,"text":176},{"id":392,"depth":502,"text":392,"children":1824},[1825],{"id":1389,"depth":512,"text":1392},{"id":1408,"depth":502,"text":1408},{"id":1424,"depth":502,"text":1427,"children":1828},[1829],{"id":1573,"depth":512,"text":1392},{"id":1591,"depth":502,"text":1591},"markdown","content:6.maps:_web:performance.md","content","6.maps/_web/performance.md","6.maps/_web/performance","md",[1838,1842],{"_path":1839,"title":1840,"description":1841},"/maps/_web/miniapp","小程序","微信小程序开发指南，包含双线程模型、Exparser 组件框架、分包异步化等技术原理和最佳实践。",{"_path":1843,"title":1844,"description":1845},"/maps/_web/security","Security Mind Map","网络安全知识导图，包含 XSS、CSRF、CSS Exfiltration 等常见攻击手段的原理分析和防范措施。",1749721429980]