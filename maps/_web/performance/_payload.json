[{"data":1,"prerenderedAt":2074},["Reactive",2],{"navigation":3,"/maps/_web/performance":389,"/maps/_web/performance-surround":2068},[4,32,83,99,126,132,138,372,378,384],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🌃 长夜梦","/flows/long-night-dream",{"title":15,"_path":16},"🌌 万物联结与幸福感","/flows/everything",{"title":18,"_path":19},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":21,"_path":22},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":24,"_path":25},"🌧️ 我的腼腆","/flows/shy",{"title":27,"_path":28},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":30,"_path":31},"📝 心流归档","/flows/fold",{"title":33,"_path":34,"children":35},"技术博客 / Coder","/articles",[36,38,41,44,47,50,53,56,59,62,65,68,71,74,77,80],{"title":37,"_path":34},"🦁 为什么我要写博客",{"title":39,"_path":40},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":42,"_path":43},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":45,"_path":46},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":48,"_path":49},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":51,"_path":52},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":54,"_path":55},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":57,"_path":58},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":60,"_path":61},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":63,"_path":64},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":66,"_path":67},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":69,"_path":70},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":72,"_path":73},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":75,"_path":76},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":78,"_path":79},"🚝 四十二篇系列","/articles/fourty-two",{"title":81,"_path":82},"📝 技术博客归档","/articles/fold",{"title":84,"_path":85,"children":86},"造物 / Make","/tools",[87,90,93,96],{"title":88,"_path":89},"🌐 AnySort","/tools/anysort",{"title":91,"_path":92},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":94,"_path":95},"👓 Crapto","/tools/crypto-inline",{"title":97,"_path":98},"🖨️ any-to-base64","/tools/any-to-base64",{"title":100,"_path":101,"children":102},"吉他剧场 / Music","/music",[103,105,108,111,114,117,120,123],{"title":104,"_path":101},"🎸 FingerStyle！",{"title":106,"_path":107},"🌬️ 等待的风","/music/wind",{"title":109,"_path":110},"💕 约定的海洋","/music/ocean",{"title":112,"_path":113},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":115,"_path":116},"🌏 残酷天使的行动纲领","/music/eva",{"title":118,"_path":119},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":121,"_path":122},"🍷 Wu Wei","/music/wu-wei",{"title":124,"_path":125},"🌅 无题","/music/untitled",{"title":127,"_path":128,"children":129},"画点什么 / Paint","/paint",[130],{"title":131,"_path":128},"🚧 正在施工",{"title":133,"_path":134,"children":135},"知识地图 / Maps","/maps",[136],{"title":137,"_path":134},"🏁 知识地图",{"title":139,"_path":140,"children":141},"零散的笔记 / Gists","/gists",[142,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369],{"title":143,"_path":140},"🧊 Gists",{"title":145,"_path":146},"网站的可访问性","/gists/accessibility",{"title":148,"_path":149},"Bit","/gists/bit",{"title":151,"_path":152},"图片模糊","/gists/blur",{"title":154,"_path":155},"渲染相关笔记","/gists/c4d",{"title":157,"_path":158},"CDN 问题记录","/gists/cdn",{"title":160,"_path":161},"消毒剂","/gists/cleaner",{"title":163,"_path":164},"Windows Command","/gists/cmd",{"title":166,"_path":167},"Command","/gists/command",{"title":169,"_path":170},"复杂科学","/gists/complexity-science",{"title":172,"_path":173},"宇宙","/gists/cosmos",{"title":175,"_path":176},"C++","/gists/cpp",{"title":178,"_path":179},"Data Structure","/gists/data-structure",{"title":181,"_path":182},"DEPRESSION","/gists/depression",{"title":184,"_path":185},"设计模式","/gists/design-patterns",{"title":187,"_path":188},"Developer Experience","/gists/developer-experience",{"title":190,"_path":191},"Device Metrics","/gists/device-metrix",{"title":193,"_path":194},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":196,"_path":197},"正则表达式","/gists/eegex",{"title":199,"_path":200},"Emoji","/gists/emoji",{"title":202,"_path":203},"工程","/gists/engineering",{"title":205,"_path":206},"熵","/gists/entropy",{"title":208,"_path":209},"Environment","/gists/environment",{"title":211,"_path":212},"Erlang","/gists/erlang",{"title":214,"_path":215},"逃离塔克夫","/gists/escape-from-tarkov",{"title":217,"_path":218},"ESNext (ES6-ES11)","/gists/esnext",{"title":220,"_path":221},"Eval！","/gists/eval",{"title":223,"_path":224},"Flutter","/gists/flutter",{"title":226,"_path":227},"字体","/gists/font",{"title":229,"_path":230},"JS 函数式编程","/gists/functional",{"title":232,"_path":233},"Google C++ Standard","/gists/google-cpp-standard",{"title":235,"_path":236},"双向链接完全体","/gists/graph",{"title":238,"_path":239},"Hardwares","/gists/hardwares",{"title":241,"_path":242},"哈希冲突","/gists/hash-collision",{"title":244,"_path":245},"信息设计","/gists/information-design",{"title":247,"_path":248},"InstantPage","/gists/instant.page",{"title":250,"_path":251},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":253,"_path":254},"KVStore","/gists/key-value-db",{"title":256,"_path":257},"Kubernetes","/gists/kubernetes",{"title":259,"_path":260},"Makefile","/gists/makefile",{"title":262,"_path":263},"Markdown Inline Style","/gists/markdown-nice",{"title":265,"_path":266},"小程序","/gists/miniapp",{"title":268,"_path":269},"减小页面快照体积","/gists/minify-html",{"title":271,"_path":272},"mklink","/gists/mklink",{"title":274,"_path":275},"Mock","/gists/mock",{"title":277,"_path":278},"多端应用","/gists/multy-end-app",{"title":280,"_path":281},"神经科学","/gists/neuroscience",{"title":283,"_path":284},"OO","/gists/oo",{"title":286,"_path":287},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":289,"_path":290},"人物","/gists/person",{"title":292,"_path":293},"PInvoke","/gists/pinvoke",{"title":295,"_path":296},"像素","/gists/pixel",{"title":298,"_path":299},"PowerShell","/gists/powershell",{"title":301,"_path":302},"量子","/gists/quantum",{"title":304,"_path":305},"保持好奇心","/gists/questions",{"title":307,"_path":308},"React Native","/gists/react-native",{"title":310,"_path":311},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":313,"_path":314},"SEO","/gists/seo",{"title":316,"_path":317},"Shader","/gists/shader",{"title":319,"_path":320},"Shape Up","/gists/shape-up",{"title":322,"_path":323},"睡觉","/gists/sleep",{"title":325,"_path":326},"States","/gists/states",{"title":328,"_path":329},"Storage","/gists/storage",{"title":331,"_path":332},"音视频流处理","/gists/stream-cli",{"title":334,"_path":335},"Symbol","/gists/symbol",{"title":337,"_path":338},"系统论","/gists/systems-theory",{"title":340,"_path":341},"Taro","/gists/taro",{"title":343,"_path":344},"任务切片","/gists/task-slice",{"title":346,"_path":347},"技术偏好","/gists/tech-dudge",{"title":349,"_path":350},"Untitled","/gists/untitled",{"title":352,"_path":353},"可变字体","/gists/variable-font",{"title":355,"_path":356},"视觉错觉","/gists/visual-illusion",{"title":358,"_path":359},"SS(SSR)","/gists/vpn",{"title":361,"_path":362},"VS Code 插件开发","/gists/vscode-plugin",{"title":364,"_path":365},"Web Components","/gists/web-components",{"title":367,"_path":368},"Windows","/gists/windows",{"title":370,"_path":371},"查缺补漏","/gists/wrong",{"title":373,"_path":374,"children":375},"代码笔记 / Gists","/source-code",[376],{"title":377,"_path":374},"🚄 代码笔记",{"title":379,"_path":380,"children":381},"我 / Abount","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"title":385,"_path":386,"children":387},"todo","/todo",[388],{"title":385,"_path":386},{"_path":390,"_dir":391,"_draft":392,"_partial":393,"_locale":394,"title":395,"description":394,"body":396,"_type":2063,"_id":2064,"_source":2065,"_file":2066,"_extension":2067},"/maps/_web/performance","_web",false,true,"","页面性能",{"type":397,"children":398,"toc":2052},"root",[399,406,412,419,425,431,436,442,447,456,462,467,473,502,527,541,547,598,605,609,622,627,633,638,644,652,658,663,671,681,687,692,698,703,1102,1113,1119,1124,1135,1141,1146,1319,1330,1336,1341,1520,1531,1537,1548,1554,1565,1571,1576,1587,1593,1618,1625,1638,1643,1649,1654,1660,1666,1671,1677,1682,1690,1709,1715,1727,1733,1738,1744,1749,1757,1763,1773,1779,1784,1792,1798,1803,1808,1821,1826,1839,1844,1868,1873,1886,1891,1924,1929,1939,2046],{"type":400,"tag":401,"props":402,"children":403},"element","h1",{"id":395},[404],{"type":405,"value":395},"text",{"type":400,"tag":407,"props":408,"children":410},"h2",{"id":409},"指标与模型",[411],{"type":405,"value":409},{"type":400,"tag":413,"props":414,"children":416},"h4",{"id":415},"网页性能的上下游",[417],{"type":405,"value":418},"网页性能的上下游？",{"type":400,"tag":420,"props":421,"children":422},"p",{},[423],{"type":405,"value":424},"选定合适的 API 收集数据，进行简单预处理后，通过 SDK 上报到后端或者云服务。为了展示收集到的数据，可以设置 99 线等图表，在某些特定的业务场景，还可以设置 A/B 图和告警。",{"type":400,"tag":413,"props":426,"children":428},{"id":427},"性能指标和性能模型的不同",[429],{"type":405,"value":430},"性能指标和性能模型的不同？",{"type":400,"tag":420,"props":432,"children":433},{},[434],{"type":405,"value":435},"两个立场不同，性能指标如 Navigation Timing 使用绝对的量来衡量页面各项性能参数，性能模型如 Web Vitals 使用算法定性分析页面加载时的用户体验。",{"type":400,"tag":413,"props":437,"children":439},{"id":438},"为什么需要性能模型",[440],{"type":405,"value":441},"为什么需要性能模型？",{"type":400,"tag":420,"props":443,"children":444},{},[445],{"type":405,"value":446},"用户体验很难用具体或者绝对的量来衡定，比如说在渐进式加载中，只对比白屏时间和 onload 时间只能说明用户提早看到了内容，却不能说明渐进式加载好在哪里，好了多少。",{"type":400,"tag":420,"props":448,"children":449},{},[450],{"type":400,"tag":451,"props":452,"children":455},"img",{"alt":453,"src":454},"页面渐进式加载示例","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/progressive-rendering.png",[],{"type":400,"tag":413,"props":457,"children":459},{"id":458},"合成监控和真实用户监控是什么",[460],{"type":405,"value":461},"合成监控和真实用户监控是什么？",{"type":400,"tag":420,"props":463,"children":464},{},[465],{"type":405,"value":466},"从技术上来说，可以把监控分为合成监控（Synthetic Monitoring，SYN）和真实用户监控（Real User Monitoring，RUM）。合成监控是在一个模拟的场景中，使用 Lighthouse 等工具，提取出性能指标并获得审计报告。真实用户监控是在真实用户访问时，通过数据源获取数据，再上报到日志服务器，以用来展示和分析这么一流程。",{"type":400,"tag":413,"props":468,"children":470},{"id":469},"web-vitals-有哪些指标",[471],{"type":405,"value":472},"Web Vitals 有哪些指标？",{"type":400,"tag":420,"props":474,"children":475},{},[476,478,485,487,493,494,500],{"type":405,"value":477},"Web Vitals 关注 ",{"type":400,"tag":479,"props":480,"children":482},"abbr",{"title":481},"Largest Contentful Paint",[483],{"type":405,"value":484},"LCP",{"type":405,"value":486},"、",{"type":400,"tag":479,"props":488,"children":490},{"title":489},"First Input Delay",[491],{"type":405,"value":492},"FID",{"type":405,"value":486},{"type":400,"tag":479,"props":495,"children":497},{"title":496},"Cumulative Layout Shift",[498],{"type":405,"value":499},"CLS",{"type":405,"value":501}," 的测量，分别描述最大内容渲染时间评分、页面可交互时间评分和布局偏移评分。",{"type":400,"tag":503,"props":504,"children":506},"div",{"style":505},"display:flex; justify-content:space-evenly;",[507,509,515,516,521,522],{"type":405,"value":508},"\n  ",{"type":400,"tag":451,"props":510,"children":514},{"src":511,"width":512,"alt":513},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/lcp_ux.svg","33%","Largest Contentful Paint threshold recommendations",[],{"type":405,"value":508},{"type":400,"tag":451,"props":517,"children":520},{"src":518,"width":512,"alt":519},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/fid_ux.svg","First Input Delay threshold recommendations",[],{"type":405,"value":508},{"type":400,"tag":451,"props":523,"children":526},{"src":524,"width":512,"alt":525},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/cls_ux.svg","Cumulative Layout Shift threshold recommendations",[],{"type":400,"tag":420,"props":528,"children":529},{},[530,532],{"type":405,"value":531},"见：",{"type":400,"tag":533,"props":534,"children":538},"a",{"href":535,"rel":536},"https://github.com/GoogleChrome/web-vitals",[537],"nofollow",[539],{"type":405,"value":540},"Web Vitals",{"type":400,"tag":413,"props":542,"children":544},{"id":543},"有哪些开发工具",[545],{"type":405,"value":546},"有哪些开发工具？",{"type":400,"tag":548,"props":549,"children":550},"ul",{},[551,562,574,586],{"type":400,"tag":552,"props":553,"children":554},"li",{},[555,560],{"type":400,"tag":533,"props":556,"children":558},{"href":535,"rel":557},[537],[559],{"type":405,"value":540},{"type":405,"value":561},"，获取 Web Vitals 评分。",{"type":400,"tag":552,"props":563,"children":564},{},[565,572],{"type":400,"tag":533,"props":566,"children":569},{"href":567,"rel":568},"https://github.com/cssmagic/simple-web-perf",[537],[570],{"type":405,"value":571},"simple-web-perf",{"type":405,"value":573},"，Navigation Timing 数据上报封装。",{"type":400,"tag":552,"props":575,"children":576},{},[577,584],{"type":400,"tag":533,"props":578,"children":581},{"href":579,"rel":580},"https://github.com/Lionad-Morotar/webpack-lighthouse-plugin",[537],[582],{"type":405,"value":583},"webpack-lighthouse-plugin",{"type":405,"value":585},"，在打包结束后自动运行 Lighthouse 并输出报告。",{"type":400,"tag":552,"props":587,"children":588},{},[589,596],{"type":400,"tag":533,"props":590,"children":593},{"href":591,"rel":592},"https://github.com/cloudfour/lighthouse-parade",[537],[594],{"type":405,"value":595},"lighthouse-parade",{"type":405,"value":597},"，递归抓取页面并评分，输出关于网站的完整报告。",{"type":400,"tag":420,"props":599,"children":600},{},[601],{"type":400,"tag":451,"props":602,"children":604},{"alt":583,"src":603},"https://github.com/Lionad-Morotar/webpack-lighthouse-plugin/blob/main/assets/example.gif?raw=true",[],{"type":400,"tag":606,"props":607,"children":608},"hr",{},[],{"type":400,"tag":548,"props":610,"children":611},{},[612],{"type":400,"tag":552,"props":613,"children":614},{},[615],{"type":400,"tag":533,"props":616,"children":619},{"href":617,"rel":618},"https://developer.mozilla.org/zh-CN/docs/Web/Performance",[537],[620],{"type":405,"value":621},"TODO，Web Performance @MDN",{"type":400,"tag":407,"props":623,"children":625},{"id":624},"如何测量性能指标",[626],{"type":405,"value":624},{"type":400,"tag":413,"props":628,"children":630},{"id":629},"怎么测定页面帧率",[631],{"type":405,"value":632},"怎么测定页面帧率？",{"type":400,"tag":420,"props":634,"children":635},{},[636],{"type":405,"value":637},"可以使用 requestAnimationFrame，但是不推荐，因为脚本本身就会对性能造成影响。",{"type":400,"tag":413,"props":639,"children":641},{"id":640},"可以使用哪些-api-测量性能",[642],{"type":405,"value":643},"可以使用哪些 API 测量性能？",{"type":400,"tag":420,"props":645,"children":646},{},[647],{"type":400,"tag":451,"props":648,"children":651},{"alt":649,"src":650},"Web Performance Related Specs","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220630135906.png",[],{"type":400,"tag":413,"props":653,"children":655},{"id":654},"performance-timing-被弃用了",[656],{"type":405,"value":657},"Performance Timing 被弃用了？",{"type":400,"tag":420,"props":659,"children":660},{},[661],{"type":405,"value":662},"Performance Timing 被弃用了，取而代之的是 Performance Navigation Timing。不应该再使用 performance.navigation、performance.getEntries 等 API，这些旧的 API 没有办法肩检测如加载新脚本等情况，不支持新的性能指标如 Long Tasks API，此外可能干扰页面性能，所以推荐使用 Navigation Timing API 获取数据，并使用 Performance Observer 进行侦测。",{"type":400,"tag":420,"props":664,"children":665},{},[666],{"type":400,"tag":451,"props":667,"children":670},{"alt":668,"src":669},"Navigation Timing Level 2","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628165411.png",[],{"type":400,"tag":420,"props":672,"children":673},{},[674,675],{"type":405,"value":531},{"type":400,"tag":533,"props":676,"children":679},{"href":677,"rel":678},"https://www.w3.org/TR/navigation-timing-2/",[537],[680],{"type":405,"value":668},{"type":400,"tag":413,"props":682,"children":684},{"id":683},"navigation-timing-中不同的阶段是连续的吗",[685],{"type":405,"value":686},"Navigation Timing 中不同的阶段是连续的吗？",{"type":400,"tag":420,"props":688,"children":689},{},[690],{"type":405,"value":691},"可能不是。如浏览器有同域下最多 6 个请求并行的限制，那么 domainLoopupEnd 到 requestStart 之间可能会出现较长的等待时间（Stalled Time）。此外，不一定每个阶段都会有数据，如：未发生跳转时，redirectCount 为 0；如果页面没有 service worker，那么 workerStart 为 0；DNS 从缓存中获取时，domainLoopupStart 和 domainLoopupEnd 可能相等。",{"type":400,"tag":413,"props":693,"children":695},{"id":694},"performanceobserver-是什么",[696],{"type":405,"value":697},"PerformanceObserver 是什么？",{"type":400,"tag":420,"props":699,"children":700},{},[701],{"type":405,"value":702},"“有效的性能测量的第一条规则是确保性能测量技术本身不会导致性能问题”，使用 Performance Observer 可以获取某个具体类型的指标的同时不会干扰或影响页面性能，因为它会在浏览器空闲时期执行。",{"type":400,"tag":704,"props":705,"children":709},"pre",{"className":706,"code":707,"language":708,"meta":394,"style":394},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","try {\n  // \"element\"、\"event\"、\"first-input\"、\n  // \"largest-contentful-paint\"、\"layout-shift\"、\n  // \"longtask\"、\"mark\"、\"measure\"、\n  // \"navigation\"、\"paint\"、\"resource\"\n    PerformanceObserver.supportedEntryTypes.map(type => {\n        new PerformanceObserver((list) => {\n          for (const entry of list.getEntries()) {\n            console.log(entry.toJSON())\n          }\n        }).observe({\n        type,\n        // 使用 buffered 可以在第一次回调时获取缓存区中的历史记录\n        buffered: true\n      })\n    })\n} catch {\n    // nothing  \n}\n","js",[710],{"type":400,"tag":711,"props":712,"children":713},"code",{"__ignoreMap":394},[714,732,742,751,760,769,821,862,916,957,966,996,1010,1019,1039,1053,1066,1084,1093],{"type":400,"tag":715,"props":716,"children":719},"span",{"class":717,"line":718},"line",1,[720,726],{"type":400,"tag":715,"props":721,"children":723},{"style":722},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[724],{"type":405,"value":725},"try",{"type":400,"tag":715,"props":727,"children":729},{"style":728},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[730],{"type":405,"value":731}," {\n",{"type":400,"tag":715,"props":733,"children":735},{"class":717,"line":734},2,[736],{"type":400,"tag":715,"props":737,"children":739},{"style":738},"--shiki-light:#90A4AE;--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit",[740],{"type":405,"value":741},"  // \"element\"、\"event\"、\"first-input\"、\n",{"type":400,"tag":715,"props":743,"children":745},{"class":717,"line":744},3,[746],{"type":400,"tag":715,"props":747,"children":748},{"style":738},[749],{"type":405,"value":750},"  // \"largest-contentful-paint\"、\"layout-shift\"、\n",{"type":400,"tag":715,"props":752,"children":754},{"class":717,"line":753},4,[755],{"type":400,"tag":715,"props":756,"children":757},{"style":738},[758],{"type":405,"value":759},"  // \"longtask\"、\"mark\"、\"measure\"、\n",{"type":400,"tag":715,"props":761,"children":763},{"class":717,"line":762},5,[764],{"type":400,"tag":715,"props":765,"children":766},{"style":738},[767],{"type":405,"value":768},"  // \"navigation\"、\"paint\"、\"resource\"\n",{"type":400,"tag":715,"props":770,"children":772},{"class":717,"line":771},6,[773,779,784,789,793,799,805,811,817],{"type":400,"tag":715,"props":774,"children":776},{"style":775},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[777],{"type":405,"value":778},"    PerformanceObserver",{"type":400,"tag":715,"props":780,"children":781},{"style":728},[782],{"type":405,"value":783},".",{"type":400,"tag":715,"props":785,"children":786},{"style":775},[787],{"type":405,"value":788},"supportedEntryTypes",{"type":400,"tag":715,"props":790,"children":791},{"style":728},[792],{"type":405,"value":783},{"type":400,"tag":715,"props":794,"children":796},{"style":795},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[797],{"type":405,"value":798},"map",{"type":400,"tag":715,"props":800,"children":802},{"style":801},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[803],{"type":405,"value":804},"(",{"type":400,"tag":715,"props":806,"children":808},{"style":807},"--shiki-light:#90A4AE;--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[809],{"type":405,"value":810},"type",{"type":400,"tag":715,"props":812,"children":814},{"style":813},"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[815],{"type":405,"value":816}," =>",{"type":400,"tag":715,"props":818,"children":819},{"style":728},[820],{"type":405,"value":731},{"type":400,"tag":715,"props":822,"children":824},{"class":717,"line":823},7,[825,831,836,840,844,849,854,858],{"type":400,"tag":715,"props":826,"children":828},{"style":827},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[829],{"type":405,"value":830},"        new",{"type":400,"tag":715,"props":832,"children":833},{"style":795},[834],{"type":405,"value":835}," PerformanceObserver",{"type":400,"tag":715,"props":837,"children":838},{"style":801},[839],{"type":405,"value":804},{"type":400,"tag":715,"props":841,"children":842},{"style":728},[843],{"type":405,"value":804},{"type":400,"tag":715,"props":845,"children":846},{"style":807},[847],{"type":405,"value":848},"list",{"type":400,"tag":715,"props":850,"children":851},{"style":728},[852],{"type":405,"value":853},")",{"type":400,"tag":715,"props":855,"children":856},{"style":813},[857],{"type":405,"value":816},{"type":400,"tag":715,"props":859,"children":860},{"style":728},[861],{"type":405,"value":731},{"type":400,"tag":715,"props":863,"children":865},{"class":717,"line":864},8,[866,871,876,881,887,892,897,901,906,911],{"type":400,"tag":715,"props":867,"children":868},{"style":722},[869],{"type":405,"value":870},"          for",{"type":400,"tag":715,"props":872,"children":873},{"style":801},[874],{"type":405,"value":875}," (",{"type":400,"tag":715,"props":877,"children":878},{"style":813},[879],{"type":405,"value":880},"const",{"type":400,"tag":715,"props":882,"children":884},{"style":883},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[885],{"type":405,"value":886}," entry",{"type":400,"tag":715,"props":888,"children":889},{"style":827},[890],{"type":405,"value":891}," of",{"type":400,"tag":715,"props":893,"children":894},{"style":775},[895],{"type":405,"value":896}," list",{"type":400,"tag":715,"props":898,"children":899},{"style":728},[900],{"type":405,"value":783},{"type":400,"tag":715,"props":902,"children":903},{"style":795},[904],{"type":405,"value":905},"getEntries",{"type":400,"tag":715,"props":907,"children":908},{"style":801},[909],{"type":405,"value":910},"()) ",{"type":400,"tag":715,"props":912,"children":913},{"style":728},[914],{"type":405,"value":915},"{\n",{"type":400,"tag":715,"props":917,"children":919},{"class":717,"line":918},9,[920,925,929,934,938,943,947,952],{"type":400,"tag":715,"props":921,"children":922},{"style":775},[923],{"type":405,"value":924},"            console",{"type":400,"tag":715,"props":926,"children":927},{"style":728},[928],{"type":405,"value":783},{"type":400,"tag":715,"props":930,"children":931},{"style":795},[932],{"type":405,"value":933},"log",{"type":400,"tag":715,"props":935,"children":936},{"style":801},[937],{"type":405,"value":804},{"type":400,"tag":715,"props":939,"children":940},{"style":775},[941],{"type":405,"value":942},"entry",{"type":400,"tag":715,"props":944,"children":945},{"style":728},[946],{"type":405,"value":783},{"type":400,"tag":715,"props":948,"children":949},{"style":795},[950],{"type":405,"value":951},"toJSON",{"type":400,"tag":715,"props":953,"children":954},{"style":801},[955],{"type":405,"value":956},"())\n",{"type":400,"tag":715,"props":958,"children":960},{"class":717,"line":959},10,[961],{"type":400,"tag":715,"props":962,"children":963},{"style":728},[964],{"type":405,"value":965},"          }\n",{"type":400,"tag":715,"props":967,"children":969},{"class":717,"line":968},11,[970,975,979,983,988,992],{"type":400,"tag":715,"props":971,"children":972},{"style":728},[973],{"type":405,"value":974},"        }",{"type":400,"tag":715,"props":976,"children":977},{"style":801},[978],{"type":405,"value":853},{"type":400,"tag":715,"props":980,"children":981},{"style":728},[982],{"type":405,"value":783},{"type":400,"tag":715,"props":984,"children":985},{"style":795},[986],{"type":405,"value":987},"observe",{"type":400,"tag":715,"props":989,"children":990},{"style":801},[991],{"type":405,"value":804},{"type":400,"tag":715,"props":993,"children":994},{"style":728},[995],{"type":405,"value":915},{"type":400,"tag":715,"props":997,"children":999},{"class":717,"line":998},12,[1000,1005],{"type":400,"tag":715,"props":1001,"children":1002},{"style":775},[1003],{"type":405,"value":1004},"        type",{"type":400,"tag":715,"props":1006,"children":1007},{"style":728},[1008],{"type":405,"value":1009},",\n",{"type":400,"tag":715,"props":1011,"children":1013},{"class":717,"line":1012},13,[1014],{"type":400,"tag":715,"props":1015,"children":1016},{"style":738},[1017],{"type":405,"value":1018},"        // 使用 buffered 可以在第一次回调时获取缓存区中的历史记录\n",{"type":400,"tag":715,"props":1020,"children":1022},{"class":717,"line":1021},14,[1023,1028,1033],{"type":400,"tag":715,"props":1024,"children":1025},{"style":801},[1026],{"type":405,"value":1027},"        buffered",{"type":400,"tag":715,"props":1029,"children":1030},{"style":728},[1031],{"type":405,"value":1032},":",{"type":400,"tag":715,"props":1034,"children":1036},{"style":1035},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1037],{"type":405,"value":1038}," true\n",{"type":400,"tag":715,"props":1040,"children":1042},{"class":717,"line":1041},15,[1043,1048],{"type":400,"tag":715,"props":1044,"children":1045},{"style":728},[1046],{"type":405,"value":1047},"      }",{"type":400,"tag":715,"props":1049,"children":1050},{"style":801},[1051],{"type":405,"value":1052},")\n",{"type":400,"tag":715,"props":1054,"children":1056},{"class":717,"line":1055},16,[1057,1062],{"type":400,"tag":715,"props":1058,"children":1059},{"style":728},[1060],{"type":405,"value":1061},"    }",{"type":400,"tag":715,"props":1063,"children":1064},{"style":801},[1065],{"type":405,"value":1052},{"type":400,"tag":715,"props":1067,"children":1069},{"class":717,"line":1068},17,[1070,1075,1080],{"type":400,"tag":715,"props":1071,"children":1072},{"style":728},[1073],{"type":405,"value":1074},"}",{"type":400,"tag":715,"props":1076,"children":1077},{"style":722},[1078],{"type":405,"value":1079}," catch",{"type":400,"tag":715,"props":1081,"children":1082},{"style":728},[1083],{"type":405,"value":731},{"type":400,"tag":715,"props":1085,"children":1087},{"class":717,"line":1086},18,[1088],{"type":400,"tag":715,"props":1089,"children":1090},{"style":738},[1091],{"type":405,"value":1092},"    // nothing  \n",{"type":400,"tag":715,"props":1094,"children":1096},{"class":717,"line":1095},19,[1097],{"type":400,"tag":715,"props":1098,"children":1099},{"style":728},[1100],{"type":405,"value":1101},"}\n",{"type":400,"tag":420,"props":1103,"children":1104},{},[1105,1106],{"type":405,"value":531},{"type":400,"tag":533,"props":1107,"children":1110},{"href":1108,"rel":1109},"https://web.dev/custom-metrics/#",[537],[1111],{"type":405,"value":1112},"Performance Observer",{"type":400,"tag":413,"props":1114,"children":1116},{"id":1115},"long-tasks-api-是什么",[1117],{"type":405,"value":1118},"Long Tasks API 是什么？",{"type":400,"tag":420,"props":1120,"children":1121},{},[1122],{"type":405,"value":1123},"Long Tasks API 将会汇报使主线程阻塞超过 50ms 的任何任务。通过观测阻塞时长，可以获得诸如 TTI（Time To Interactive）、TBT（Total Blocking Time）等数据。",{"type":400,"tag":420,"props":1125,"children":1126},{},[1127,1128],{"type":405,"value":531},{"type":400,"tag":533,"props":1129,"children":1132},{"href":1130,"rel":1131},"https://web.dev/custom-metrics/#long-tasks-api",[537],[1133],{"type":405,"value":1134},"Long Tasks API",{"type":400,"tag":413,"props":1136,"children":1138},{"id":1137},"如何测量函数执行的时长",[1139],{"type":405,"value":1140},"如何测量函数执行的时长？",{"type":400,"tag":420,"props":1142,"children":1143},{},[1144],{"type":405,"value":1145},"可以使用 Date.now()、performance.now()，但是如果不考虑兼容性的话，使用 User Timing API 要更好一些，它可以和相关套件很好的结合：比如说在 Performance 面板中可视化，或通过 Performance Observer 进行观测。",{"type":400,"tag":704,"props":1147,"children":1149},{"className":706,"code":1148,"language":708,"meta":394,"style":394},"performance.mark('myTask:start')\nawait task()\nperformance.mark('myTask:end')\nperformance.measure('myTask', 'myTask:start', 'myTask:end')\n",[1150],{"type":400,"tag":711,"props":1151,"children":1152},{"__ignoreMap":394},[1153,1194,1212,1248],{"type":400,"tag":715,"props":1154,"children":1155},{"class":717,"line":718},[1156,1161,1165,1170,1174,1180,1186,1190],{"type":400,"tag":715,"props":1157,"children":1158},{"style":775},[1159],{"type":405,"value":1160},"performance",{"type":400,"tag":715,"props":1162,"children":1163},{"style":728},[1164],{"type":405,"value":783},{"type":400,"tag":715,"props":1166,"children":1167},{"style":795},[1168],{"type":405,"value":1169},"mark",{"type":400,"tag":715,"props":1171,"children":1172},{"style":775},[1173],{"type":405,"value":804},{"type":400,"tag":715,"props":1175,"children":1177},{"style":1176},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1178],{"type":405,"value":1179},"'",{"type":400,"tag":715,"props":1181,"children":1183},{"style":1182},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1184],{"type":405,"value":1185},"myTask:start",{"type":400,"tag":715,"props":1187,"children":1188},{"style":1176},[1189],{"type":405,"value":1179},{"type":400,"tag":715,"props":1191,"children":1192},{"style":775},[1193],{"type":405,"value":1052},{"type":400,"tag":715,"props":1195,"children":1196},{"class":717,"line":734},[1197,1202,1207],{"type":400,"tag":715,"props":1198,"children":1199},{"style":722},[1200],{"type":405,"value":1201},"await",{"type":400,"tag":715,"props":1203,"children":1204},{"style":795},[1205],{"type":405,"value":1206}," task",{"type":400,"tag":715,"props":1208,"children":1209},{"style":775},[1210],{"type":405,"value":1211},"()\n",{"type":400,"tag":715,"props":1213,"children":1214},{"class":717,"line":744},[1215,1219,1223,1227,1231,1235,1240,1244],{"type":400,"tag":715,"props":1216,"children":1217},{"style":775},[1218],{"type":405,"value":1160},{"type":400,"tag":715,"props":1220,"children":1221},{"style":728},[1222],{"type":405,"value":783},{"type":400,"tag":715,"props":1224,"children":1225},{"style":795},[1226],{"type":405,"value":1169},{"type":400,"tag":715,"props":1228,"children":1229},{"style":775},[1230],{"type":405,"value":804},{"type":400,"tag":715,"props":1232,"children":1233},{"style":1176},[1234],{"type":405,"value":1179},{"type":400,"tag":715,"props":1236,"children":1237},{"style":1182},[1238],{"type":405,"value":1239},"myTask:end",{"type":400,"tag":715,"props":1241,"children":1242},{"style":1176},[1243],{"type":405,"value":1179},{"type":400,"tag":715,"props":1245,"children":1246},{"style":775},[1247],{"type":405,"value":1052},{"type":400,"tag":715,"props":1249,"children":1250},{"class":717,"line":753},[1251,1255,1259,1264,1268,1272,1277,1281,1286,1291,1295,1299,1303,1307,1311,1315],{"type":400,"tag":715,"props":1252,"children":1253},{"style":775},[1254],{"type":405,"value":1160},{"type":400,"tag":715,"props":1256,"children":1257},{"style":728},[1258],{"type":405,"value":783},{"type":400,"tag":715,"props":1260,"children":1261},{"style":795},[1262],{"type":405,"value":1263},"measure",{"type":400,"tag":715,"props":1265,"children":1266},{"style":775},[1267],{"type":405,"value":804},{"type":400,"tag":715,"props":1269,"children":1270},{"style":1176},[1271],{"type":405,"value":1179},{"type":400,"tag":715,"props":1273,"children":1274},{"style":1182},[1275],{"type":405,"value":1276},"myTask",{"type":400,"tag":715,"props":1278,"children":1279},{"style":1176},[1280],{"type":405,"value":1179},{"type":400,"tag":715,"props":1282,"children":1283},{"style":728},[1284],{"type":405,"value":1285},",",{"type":400,"tag":715,"props":1287,"children":1288},{"style":1176},[1289],{"type":405,"value":1290}," '",{"type":400,"tag":715,"props":1292,"children":1293},{"style":1182},[1294],{"type":405,"value":1185},{"type":400,"tag":715,"props":1296,"children":1297},{"style":1176},[1298],{"type":405,"value":1179},{"type":400,"tag":715,"props":1300,"children":1301},{"style":728},[1302],{"type":405,"value":1285},{"type":400,"tag":715,"props":1304,"children":1305},{"style":1176},[1306],{"type":405,"value":1290},{"type":400,"tag":715,"props":1308,"children":1309},{"style":1182},[1310],{"type":405,"value":1239},{"type":400,"tag":715,"props":1312,"children":1313},{"style":1176},[1314],{"type":405,"value":1179},{"type":400,"tag":715,"props":1316,"children":1317},{"style":775},[1318],{"type":405,"value":1052},{"type":400,"tag":420,"props":1320,"children":1321},{},[1322,1323],{"type":405,"value":531},{"type":400,"tag":533,"props":1324,"children":1327},{"href":1325,"rel":1326},"https://web.dev/custom-metrics/#user-timing-api",[537],[1328],{"type":405,"value":1329},"User Timing API",{"type":400,"tag":413,"props":1331,"children":1333},{"id":1332},"如何测量元素的渲染时间",[1334],{"type":405,"value":1335},"如何测量元素的渲染时间？",{"type":400,"tag":420,"props":1337,"children":1338},{},[1339],{"type":405,"value":1340},"可以使用 Element Timing API。通过给 element 增加 elementtiming 属性，可以在注册 Performance Observer 后监听 element 类型的事件并获得元素渲染时间。LCP 指标就是建立在 ET API 基础上的，只是汇报的是最大内容元素的渲染时间。",{"type":400,"tag":704,"props":1342,"children":1346},{"className":1343,"code":1344,"language":1345,"meta":394,"style":394},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003Cimg elementtiming=\"hero-image\" />\n\u003Cscript>\n  new PerformanceObserver(/* ... */)\n    .observe({ type: 'element', buffered: true })\n\u003C/script>\n","html",[1347],{"type":400,"tag":711,"props":1348,"children":1349},{"__ignoreMap":394},[1350,1393,1410,1435,1504],{"type":400,"tag":715,"props":1351,"children":1352},{"class":717,"line":718},[1353,1358,1363,1369,1374,1379,1384,1388],{"type":400,"tag":715,"props":1354,"children":1355},{"style":728},[1356],{"type":405,"value":1357},"\u003C",{"type":400,"tag":715,"props":1359,"children":1361},{"style":1360},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1362],{"type":405,"value":451},{"type":400,"tag":715,"props":1364,"children":1366},{"style":1365},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1367],{"type":405,"value":1368}," elementtiming",{"type":400,"tag":715,"props":1370,"children":1371},{"style":728},[1372],{"type":405,"value":1373},"=",{"type":400,"tag":715,"props":1375,"children":1376},{"style":1176},[1377],{"type":405,"value":1378},"\"",{"type":400,"tag":715,"props":1380,"children":1381},{"style":1182},[1382],{"type":405,"value":1383},"hero-image",{"type":400,"tag":715,"props":1385,"children":1386},{"style":1176},[1387],{"type":405,"value":1378},{"type":400,"tag":715,"props":1389,"children":1390},{"style":728},[1391],{"type":405,"value":1392}," />\n",{"type":400,"tag":715,"props":1394,"children":1395},{"class":717,"line":734},[1396,1400,1405],{"type":400,"tag":715,"props":1397,"children":1398},{"style":728},[1399],{"type":405,"value":1357},{"type":400,"tag":715,"props":1401,"children":1402},{"style":1360},[1403],{"type":405,"value":1404},"script",{"type":400,"tag":715,"props":1406,"children":1407},{"style":728},[1408],{"type":405,"value":1409},">\n",{"type":400,"tag":715,"props":1411,"children":1412},{"class":717,"line":744},[1413,1418,1422,1426,1431],{"type":400,"tag":715,"props":1414,"children":1415},{"style":827},[1416],{"type":405,"value":1417},"  new",{"type":400,"tag":715,"props":1419,"children":1420},{"style":795},[1421],{"type":405,"value":835},{"type":400,"tag":715,"props":1423,"children":1424},{"style":775},[1425],{"type":405,"value":804},{"type":400,"tag":715,"props":1427,"children":1428},{"style":738},[1429],{"type":405,"value":1430},"/* ... */",{"type":400,"tag":715,"props":1432,"children":1433},{"style":775},[1434],{"type":405,"value":1052},{"type":400,"tag":715,"props":1436,"children":1437},{"class":717,"line":753},[1438,1443,1447,1451,1456,1461,1465,1469,1473,1477,1481,1486,1490,1495,1500],{"type":400,"tag":715,"props":1439,"children":1440},{"style":728},[1441],{"type":405,"value":1442},"    .",{"type":400,"tag":715,"props":1444,"children":1445},{"style":795},[1446],{"type":405,"value":987},{"type":400,"tag":715,"props":1448,"children":1449},{"style":775},[1450],{"type":405,"value":804},{"type":400,"tag":715,"props":1452,"children":1453},{"style":728},[1454],{"type":405,"value":1455},"{",{"type":400,"tag":715,"props":1457,"children":1458},{"style":801},[1459],{"type":405,"value":1460}," type",{"type":400,"tag":715,"props":1462,"children":1463},{"style":728},[1464],{"type":405,"value":1032},{"type":400,"tag":715,"props":1466,"children":1467},{"style":1176},[1468],{"type":405,"value":1290},{"type":400,"tag":715,"props":1470,"children":1471},{"style":1182},[1472],{"type":405,"value":400},{"type":400,"tag":715,"props":1474,"children":1475},{"style":1176},[1476],{"type":405,"value":1179},{"type":400,"tag":715,"props":1478,"children":1479},{"style":728},[1480],{"type":405,"value":1285},{"type":400,"tag":715,"props":1482,"children":1483},{"style":801},[1484],{"type":405,"value":1485}," buffered",{"type":400,"tag":715,"props":1487,"children":1488},{"style":728},[1489],{"type":405,"value":1032},{"type":400,"tag":715,"props":1491,"children":1492},{"style":1035},[1493],{"type":405,"value":1494}," true",{"type":400,"tag":715,"props":1496,"children":1497},{"style":728},[1498],{"type":405,"value":1499}," }",{"type":400,"tag":715,"props":1501,"children":1502},{"style":775},[1503],{"type":405,"value":1052},{"type":400,"tag":715,"props":1505,"children":1506},{"class":717,"line":762},[1507,1512,1516],{"type":400,"tag":715,"props":1508,"children":1509},{"style":728},[1510],{"type":405,"value":1511},"\u003C/",{"type":400,"tag":715,"props":1513,"children":1514},{"style":1360},[1515],{"type":405,"value":1404},{"type":400,"tag":715,"props":1517,"children":1518},{"style":728},[1519],{"type":405,"value":1409},{"type":400,"tag":420,"props":1521,"children":1522},{},[1523,1524],{"type":405,"value":531},{"type":400,"tag":533,"props":1525,"children":1528},{"href":1526,"rel":1527},"https://web.dev/custom-metrics/#element-timing-api",[537],[1529],{"type":405,"value":1530},"Element Timing API",{"type":400,"tag":413,"props":1532,"children":1534},{"id":1533},"event-timing-api-是什么",[1535],{"type":405,"value":1536},"Event Timing API 是什么？",{"type":400,"tag":420,"props":1538,"children":1539},{},[1540,1541],{"type":405,"value":531},{"type":400,"tag":533,"props":1542,"children":1545},{"href":1543,"rel":1544},"https://web.dev/custom-metrics/#event-timing-api",[537],[1546],{"type":405,"value":1547},"Event Timing API",{"type":400,"tag":413,"props":1549,"children":1551},{"id":1550},"resource-timing-api-是什么",[1552],{"type":405,"value":1553},"Resource Timing API 是什么？",{"type":400,"tag":420,"props":1555,"children":1556},{},[1557,1558],{"type":405,"value":531},{"type":400,"tag":533,"props":1559,"children":1562},{"href":1560,"rel":1561},"https://web.dev/custom-metrics/#resource-timing-api",[537],[1563],{"type":405,"value":1564},"Resource Timing API",{"type":400,"tag":413,"props":1566,"children":1568},{"id":1567},"navigation-timing-api-是什么",[1569],{"type":405,"value":1570},"Navigation Timing API 是什么？",{"type":400,"tag":420,"props":1572,"children":1573},{},[1574],{"type":405,"value":1575},"类似于 Resource Timing API，但不同的地方在于它会在导航时被触发，还附带了 DOMContentLoaded 和 load 事件的触发事件。",{"type":400,"tag":420,"props":1577,"children":1578},{},[1579,1580],{"type":405,"value":531},{"type":400,"tag":533,"props":1581,"children":1584},{"href":1582,"rel":1583},"https://web.dev/custom-metrics/#navigation-timing-api",[537],[1585],{"type":405,"value":1586},"Navigation Timing API",{"type":400,"tag":413,"props":1588,"children":1590},{"id":1589},"除了规范定义数据还可以上报哪些",[1591],{"type":405,"value":1592},"除了规范定义数据，还可以上报哪些？",{"type":400,"tag":420,"props":1594,"children":1595},{},[1596,1602,1604,1609,1611,1616],{"type":400,"tag":1597,"props":1598,"children":1599},"strong",{},[1600],{"type":405,"value":1601},"5W",{"type":405,"value":1603},"：时间、地理位置、页面 URL、浏览器、系统、账号 ID、现场还原。",{"type":400,"tag":1597,"props":1605,"children":1606},{},[1607],{"type":405,"value":1608},"网络",{"type":405,"value":1610},"：页面加载方式、Service Worker、HTTP 协议版本、资源压缩方式。",{"type":400,"tag":1597,"props":1612,"children":1613},{},[1614],{"type":405,"value":1615},"其它",{"type":405,"value":1617},"：页面在前台还是后台。",{"type":400,"tag":1619,"props":1620,"children":1622},"h3",{"id":1621},"links",[1623],{"type":405,"value":1624},"Links",{"type":400,"tag":548,"props":1626,"children":1627},{},[1628],{"type":400,"tag":552,"props":1629,"children":1630},{},[1631],{"type":400,"tag":533,"props":1632,"children":1635},{"href":1633,"rel":1634},"https://mp.weixin.qq.com/s/pqFhhb5u6w7gmUutilH5xQ",[537],[1636],{"type":405,"value":1637},"蚂蚁金服如何把前端性能监控做到极致?",{"type":400,"tag":407,"props":1639,"children":1641},{"id":1640},"性能优化",[1642],{"type":405,"value":1640},{"type":400,"tag":413,"props":1644,"children":1646},{"id":1645},"做性能优化的基本法则是什么",[1647],{"type":405,"value":1648},"做性能优化的基本法则是什么？",{"type":400,"tag":420,"props":1650,"children":1651},{},[1652],{"type":405,"value":1653},"编译层参见 webpack 优化；网络层减少请求；客户端预加载、预渲染、预执行。以及两句名言：“空间换时间”、“串行改并行”。",{"type":400,"tag":407,"props":1655,"children":1657},{"id":1656},"ssr-及混合应用优化",[1658],{"type":405,"value":1659},"SSR 及混合应用优化",{"type":400,"tag":413,"props":1661,"children":1663},{"id":1662},"csr-是什么",[1664],{"type":405,"value":1665},"CSR 是什么？",{"type":400,"tag":420,"props":1667,"children":1668},{},[1669],{"type":405,"value":1670},"Client Side Rendering，和 SSR 相对应，指页面渲染、逻辑、路由、请求都是在浏览器发生的。想要提高 CSR 项目的用户体验，可以考虑在编译时通过预渲染首屏、骨架屏等形式对性能指标进行优化，或者，上 SSR。",{"type":400,"tag":413,"props":1672,"children":1674},{"id":1673},"从-csr-到-ssr-有哪些过渡方案",[1675],{"type":405,"value":1676},"从 CSR 到 SSR 有哪些过渡方案？",{"type":400,"tag":420,"props":1678,"children":1679},{},[1680],{"type":405,"value":1681},"CSP -> CSP with prerender -> SSR with hydration -> static SSR -> SSR",{"type":400,"tag":420,"props":1683,"children":1684},{},[1685],{"type":400,"tag":451,"props":1686,"children":1689},{"alt":1687,"src":1688},"From CSP to SSR","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220629020645.png",[],{"type":400,"tag":420,"props":1691,"children":1692},{},[1693,1694,1701,1702],{"type":405,"value":531},{"type":400,"tag":533,"props":1695,"children":1698},{"href":1696,"rel":1697},"https://web.dev/rendering-on-the-web/",[537],[1699],{"type":405,"value":1700},"TODO，Rendering on the Web",{"type":405,"value":486},{"type":400,"tag":533,"props":1703,"children":1706},{"href":1704,"rel":1705},"https://blog.csdn.net/m0_37411791/article/details/106513195?utm_source=blogxgwz7",[537],[1707],{"type":405,"value":1708},"CSR、SSR、NSR、ESR傻傻分不清楚",{"type":400,"tag":413,"props":1710,"children":1712},{"id":1711},"esr-是什么",[1713],{"type":405,"value":1714},"ESR 是什么？",{"type":400,"tag":420,"props":1716,"children":1717},{},[1718,1720],{"type":405,"value":1719},"TODO，",{"type":400,"tag":533,"props":1721,"children":1724},{"href":1722,"rel":1723},"https://juejin.im/post/5ecf90b7f265da76e7651a96",[537],[1725],{"type":405,"value":1726},"边缘计算听说过吗？淘宝用它提升了69%的首屏性能",{"type":400,"tag":413,"props":1728,"children":1730},{"id":1729},"经典直出方案是什么",[1731],{"type":405,"value":1732},"经典直出方案是什么？",{"type":400,"tag":420,"props":1734,"children":1735},{},[1736],{"type":405,"value":1737},"直出指在后端渲染好 HTML 后再回传给客户端这种方式，直出可以节约许多 HTML 渲染及 AJAX 请求的时间，对 Web 前端的侵入性最小。",{"type":400,"tag":413,"props":1739,"children":1741},{"id":1740},"离线包缓存是什么",[1742],{"type":405,"value":1743},"离线包缓存是什么？",{"type":400,"tag":420,"props":1745,"children":1746},{},[1747],{"type":405,"value":1748},"直出方案仍需要把时间花在请求、加载 HTML 上，离线包缓存意味着把 HTML、CSS、JS、数据提前缓存在本地，只有部分需要异步更新的页面才通过请求的方式加载新数据并重新渲染页面。",{"type":400,"tag":420,"props":1750,"children":1751},{},[1752],{"type":400,"tag":451,"props":1753,"children":1756},{"alt":1754,"src":1755},"直出 VS 离线包缓存","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628233615.png",[],{"type":400,"tag":413,"props":1758,"children":1760},{"id":1759},"容器化方案是什么",[1761],{"type":405,"value":1762},"容器化方案是什么？",{"type":400,"tag":420,"props":1764,"children":1765},{},[1766,1767],{"type":405,"value":1719},{"type":400,"tag":533,"props":1768,"children":1771},{"href":1769,"rel":1770},"http://www.alloyteam.com/2020/06/fast-open-h5/",[537],[1772],{"type":405,"value":1769},{"type":400,"tag":413,"props":1774,"children":1776},{"id":1775},"pwa-怎么配合-ssr-做优化",[1777],{"type":405,"value":1778},"PWA 怎么配合 SSR 做优化？",{"type":400,"tag":420,"props":1780,"children":1781},{},[1782],{"type":405,"value":1783},"PWA 能够通过 Service Worker 对缓存进行精细化控制，在客户端使用无头浏览器提前加载 HTML，等到实际加载时请求的就是由 Service Worker 缓存下来的资源了。",{"type":400,"tag":420,"props":1785,"children":1786},{},[1787],{"type":400,"tag":451,"props":1788,"children":1791},{"alt":1789,"src":1790},"PWA + Headless Webview","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220628235637.png?w=30",[],{"type":400,"tag":413,"props":1793,"children":1795},{"id":1794},"nsr-是什么",[1796],{"type":405,"value":1797},"NSR 是什么？",{"type":400,"tag":420,"props":1799,"children":1800},{},[1801],{"type":405,"value":1802},"Native Side Render，GMTC 2019 UC 团队提到的一种“前端 SSR”方案，它借助浏览器启动一个额外的 JS Runtime，将提前下载好的 HTML 模板和数据预渲染出来。这种方案的瓶颈在于他会带来额外的流量和性能开销，所以如何预测用户行为，提高命中率是非常重要的事。",{"type":400,"tag":1619,"props":1804,"children":1806},{"id":1805},"links-1",[1807],{"type":405,"value":1624},{"type":400,"tag":548,"props":1809,"children":1810},{},[1811],{"type":400,"tag":552,"props":1812,"children":1813},{},[1814],{"type":400,"tag":533,"props":1815,"children":1818},{"href":1816,"rel":1817},"http://www.alloyteam.com/2019/10/h5-performance-optimize",[537],[1819],{"type":405,"value":1820},"H5 秒开方案大全",{"type":400,"tag":407,"props":1822,"children":1824},{"id":1823},"阅读更多",[1825],{"type":405,"value":1823},{"type":400,"tag":1827,"props":1828,"children":1830},"h5",{"id":1829},"react-16-加载性能优化指南",[1831,1837],{"type":400,"tag":1832,"props":1833,"children":1836},"link",{"type":1827,"to":1834,"source":1835},"https://mgear-file.oss-cn-shanghai.aliyuncs.com/React%2016%20%E5%8A%A0%E8%BD%BD%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E5%8D%97.html","https://zhuanlan.zhihu.com/p/37148975",[],{"type":405,"value":1838},"《React 16 加载性能优化指南》",{"type":400,"tag":420,"props":1840,"children":1841},{},[1842],{"type":405,"value":1843},"作者把页面加载状态划分了四个步骤：",{"type":400,"tag":1845,"props":1846,"children":1847},"ol",{},[1848,1853,1858,1863],{"type":400,"tag":552,"props":1849,"children":1850},{},[1851],{"type":405,"value":1852},"打开页面到首屏渲染（浏览器首次渲染可见的内容）",{"type":400,"tag":552,"props":1854,"children":1855},{},[1856],{"type":405,"value":1857},"首屏渲染到首次内容渲染（相关业务的内容）",{"type":400,"tag":552,"props":1859,"children":1860},{},[1861],{"type":405,"value":1862},"内容渲染到页面可交互",{"type":400,"tag":552,"props":1864,"children":1865},{},[1866],{"type":405,"value":1867},"页面逐渐加载（诸如图片等元素）直到页面内容加载完毕",{"type":400,"tag":420,"props":1869,"children":1870},{},[1871],{"type":405,"value":1872},"在很多应用中，首屏渲染约等于首次内容渲染，这是因为加载 HTML 和 CSS 之后，要等待业务 JS 加载完毕才能看到有意义的内容。其实可以通过几种方法完善首屏加载的 HTML 和 CSS，增加加载状态，减少用户等待焦虑。",{"type":400,"tag":548,"props":1874,"children":1875},{},[1876,1881],{"type":400,"tag":552,"props":1877,"children":1878},{},[1879],{"type":405,"value":1880},"在 HTML 模板中使用 SVG 图案（比如通过 html-webpack-plugin 自动插入）",{"type":400,"tag":552,"props":1882,"children":1883},{},[1884],{"type":405,"value":1885},"使用 pupeteer 等工具预渲染首屏",{"type":400,"tag":420,"props":1887,"children":1888},{},[1889],{"type":405,"value":1890},"业务内容加载的过程中，JS 的影响最大。业务 JS 代码可以大致划分为：基础框架、垫片、业务基础库、业务代码这四大类，所以讲到优化 JS 其实是说如何通过分缓存去优化几种不同类型的 JS。",{"type":400,"tag":548,"props":1892,"children":1893},{},[1894,1899,1904,1909,1914,1919],{"type":400,"tag":552,"props":1895,"children":1896},{},[1897],{"type":405,"value":1898},"基础框架需要长时间缓存，适合强缓存",{"type":400,"tag":552,"props":1900,"children":1901},{},[1902],{"type":405,"value":1903},"使用 polyfill.io，根据 UA 自动垫片",{"type":400,"tag":552,"props":1905,"children":1906},{},[1907],{"type":405,"value":1908},"使用 SplitChunksPlugin 替代 CommonChunksPlugin",{"type":400,"tag":552,"props":1910,"children":1911},{},[1912],{"type":405,"value":1913},"使用 TreeShaking",{"type":400,"tag":552,"props":1915,"children":1916},{},[1917],{"type":405,"value":1918},"如果打包出来的 Bundle 体积巨大，可以考虑使用代码分割功能，比如 React Loadable 动态载入代码。",{"type":400,"tag":552,"props":1920,"children":1921},{},[1922],{"type":405,"value":1923},"为绝大多数用户提供 ES6+ 的代码，使用 nomodule 标志为老的浏览器保留 ES5 版本代码",{"type":400,"tag":420,"props":1925,"children":1926},{},[1927],{"type":405,"value":1928},"最后，在页面可交互到页面加载完毕这个阶段，可以使用图片懒加载或者骨架屏等形式提高体验。",{"type":400,"tag":1827,"props":1930,"children":1932},{"id":1931},"关于性能优化的9大策略和6大指标",[1933],{"type":400,"tag":533,"props":1934,"children":1937},{"href":1935,"rel":1936},"https://juejin.cn/post/6981673766178783262",[537],[1938],{"type":405,"value":1931},{"type":400,"tag":548,"props":1940,"children":1941},{},[1942],{"type":400,"tag":552,"props":1943,"children":1944},{},[1945,1947],{"type":405,"value":1946},"网络层面\n",{"type":400,"tag":548,"props":1948,"children":1949},{},[1950,2023,2028],{"type":400,"tag":552,"props":1951,"children":1952},{},[1953,1955,1993],{"type":405,"value":1954},"构建工具优化\n",{"type":400,"tag":548,"props":1956,"children":1957},{},[1958,1963,1968,1973,1978,1983,1988],{"type":400,"tag":552,"props":1959,"children":1960},{},[1961],{"type":405,"value":1962},"include/exclude 避免不必要的查找，比如用在 babel-loader 可以避免不必要的转译",{"type":400,"tag":552,"props":1964,"children":1965},{},[1966],{"type":405,"value":1967},"babel-loader 可配置 cache，只编译修改过的文件",{"type":400,"tag":552,"props":1969,"children":1970},{},[1971],{"type":405,"value":1972},"alias 优化文件查找性能",{"type":400,"tag":552,"props":1974,"children":1975},{},[1976],{"type":405,"value":1977},"thread-loader 多进程编译",{"type":400,"tag":552,"props":1979,"children":1980},{},[1981],{"type":405,"value":1982},"BundleAnalyzer 分析文件体积",{"type":400,"tag":552,"props":1984,"children":1985},{},[1986],{"type":405,"value":1987},"SplitChunks 替换 CommonChunks，渐进式加载",{"type":400,"tag":552,"props":1989,"children":1990},{},[1991],{"type":405,"value":1992},"摇树优化",{"type":400,"tag":548,"props":1994,"children":1995},{},[1996,2001,2006,2011],{"type":400,"tag":552,"props":1997,"children":1998},{},[1999],{"type":405,"value":2000},"按需加载",{"type":400,"tag":552,"props":2002,"children":2003},{},[2004],{"type":405,"value":2005},"动态垫片",{"type":400,"tag":552,"props":2007,"children":2008},{},[2009],{"type":405,"value":2010},"变量提升",{"type":400,"tag":552,"props":2012,"children":2013},{},[2014,2016],{"type":405,"value":2015},"压缩，比如 ",{"type":400,"tag":533,"props":2017,"children":2020},{"href":2018,"rel":2019},"https://webpack.docschina.org/plugins/terser-webpack-plugin/",[537],[2021],{"type":405,"value":2022},"terser",{"type":400,"tag":552,"props":2024,"children":2025},{},[2026],{"type":405,"value":2027},"图像策略",{"type":400,"tag":552,"props":2029,"children":2030},{},[2031,2033],{"type":405,"value":2032},"内容分发\n",{"type":400,"tag":548,"props":2034,"children":2035},{},[2036,2041],{"type":400,"tag":552,"props":2037,"children":2038},{},[2039],{"type":405,"value":2040},"域名分开，避免 Cookie",{"type":400,"tag":552,"props":2042,"children":2043},{},[2044],{"type":405,"value":2045},"静态资源走 CDN",{"type":400,"tag":2047,"props":2048,"children":2049},"style",{},[2050],{"type":405,"value":2051},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":394,"searchDepth":734,"depth":734,"links":2053},[2054,2055,2058,2059,2062],{"id":409,"depth":734,"text":409},{"id":624,"depth":734,"text":624,"children":2056},[2057],{"id":1621,"depth":744,"text":1624},{"id":1640,"depth":734,"text":1640},{"id":1656,"depth":734,"text":1659,"children":2060},[2061],{"id":1805,"depth":744,"text":1624},{"id":1823,"depth":734,"text":1823},"markdown","content:6.maps:_web:performance.md","content","6.maps/_web/performance.md","md",[2069,2071],{"_path":2070,"title":265,"description":394},"/maps/_web/miniapp",{"_path":2072,"title":2073,"description":394},"/maps/_workflow/compiler","Compiler",1711865922480]