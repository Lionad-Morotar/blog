[{"data":1,"prerenderedAt":3612},["ShallowReactive",2],{"navigation":3,"/maps/_fe-framework/nuxt/module/nuxt-security":161,"/maps/_fe-framework/nuxt/module/nuxt-security-surround":3604},[4,35,92,98,125,131,155],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86,89],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🖌️ Blockies Animation","/maps/_fe-framework/motion/blockies-animation",{"title":45,"_path":46},"🌪️ Tailwind v4 如何兼容预处理器","/articles/tailwind4-with-sass",{"title":48,"_path":49},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":51,"_path":52},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":54,"_path":55},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":57,"_path":58},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":60,"_path":61},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":63,"_path":64},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":66,"_path":67},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":69,"_path":70},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":72,"_path":73},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":75,"_path":76},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":78,"_path":79},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":81,"_path":82},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":84,"_path":85},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":87,"_path":88},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":90,"_path":91},"📝 技术博客归档","/articles/archive",{"title":93,"_path":94,"children":95},"读书笔记 / Notes","/books",[96],{"title":97,"_path":94},"📕 读书笔记",{"title":99,"_path":100,"children":101},"吉他剧场 / Music","/music",[102,104,107,110,113,116,119,122],{"title":103,"_path":100},"🎸 FingerStyle！",{"title":105,"_path":106},"🌬️ 等待的风","/music/wind",{"title":108,"_path":109},"💕 约定的海洋","/music/ocean",{"title":111,"_path":112},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":114,"_path":115},"🌏 残酷天使的行动纲领","/music/eva",{"title":117,"_path":118},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":120,"_path":121},"🍷 Wu Wei","/music/wu-wei",{"title":123,"_path":124},"🌅 无题","/music/untitled",{"title":126,"_path":127,"children":128},"知识地图 / Maps","/maps",[129],{"title":130,"_path":127},"🏁 知识地图",{"title":132,"_path":133,"children":134},"造物 / Make","/tools",[135,137,140,143,146,149,152],{"title":136,"_path":133},"🧰 工具收集",{"title":138,"_path":139},"📕 博客","/tools/blog",{"title":141,"_path":142},"🥥 Coconut","/tools/coconut",{"title":144,"_path":145},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":147,"_path":148},"🌐 AnySort","/tools/anysort",{"title":150,"_path":151},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":153,"_path":154},"👓 Crapto","/tools/crypto-inline",{"title":156,"_path":157,"children":158},"我 / About","/hire",[159],{"title":160,"_path":157},"📬 技术简历",{"_path":162,"_dir":163,"_draft":164,"_partial":165,"_locale":166,"title":167,"description":168,"meta":169,"body":173,"_type":3598,"_id":3599,"_source":3600,"_file":3601,"_stem":3602,"_extension":3603},"/maps/_fe-framework/nuxt/module/nuxt-security","module",false,true,"","Nuxt Security","自动通过使用 HTTP 头和中间件配置您的应用程序遵循 OWASP 安全模式和原则",[170],{"name":171,"content":172},"source","www.lionad.art/maps/_fe-framework/nuxt/module/nuxt-security",{"type":174,"children":175,"toc":3583},"root",[176,195,201,215,220,225,232,243,248,253,668,688,693,705,710,742,750,755,760,820,825,994,999,1005,1019,1024,1142,1147,1161,1166,1178,1183,1191,1196,1201,1209,1222,1352,1357,1362,1367,1372,1377,1382,1403,1408,1642,1650,1655,1660,1665,1671,1676,1719,1727,1732,1737,1742,1747,1752,1757,1762,1767,1772,1777,1782,1794,1799,1804,3572,3577],{"type":177,"tag":178,"props":179,"children":180},"element","p",{},[181,184,193],{"type":182,"value":183},"text","文章使用 AI 辅助创作，原文地址见 ",{"type":177,"tag":185,"props":186,"children":190},"a",{"href":187,"rel":188},"https://www.lionad.art/maps/_fe-framework/nuxt/module/nuxt-security",[189],"nofollow",[191],{"type":182,"value":192},"Read Nuxt Security",{"type":182,"value":194},"。",{"type":177,"tag":196,"props":197,"children":199},"h2",{"id":198},"简介",[200],{"type":182,"value":198},{"type":177,"tag":178,"props":202,"children":203},{},[204,206,213],{"type":182,"value":205},"提到 Web 应用程序安全，大部分人会第一时间想到同源跨域又或是 XSS、CSRF，但其实 Web 安全是一个庞大话题，而 XSS、CSRF 只是两种常被讨论的攻击方式。如果想进一步学习 Web 安全相关知识，就不得不提各种浏览器 API，以及 CSP、SRI 等现代标准，更甚是 ",{"type":177,"tag":185,"props":207,"children":210},{"href":208,"rel":209},"https://www.maxai.co/share?id=7591d3876a80e48362f35f5eeacbb3764356f89776cea4f34dbf29f5",[189],[211],{"type":182,"value":212},"OWASP",{"type":182,"value":214}," 等组织的活动。OWASP 是一个全球性的非营利组织，旨在提高 Web 应用程序的安全性。OWASP 提供了大量免费且公开的工具、资源、文档和最佳实践，帮助开发人员、企业和安全从业者识别和应对软件安全风险。",{"type":177,"tag":178,"props":216,"children":217},{},[218],{"type":182,"value":219},"而 Nuxt Security 为 Nuxt 应用程序提供了一个接近开箱即用的插件方案，自动通过配置请求头和 Nuxt 中间件，为应用程度设置遵循 OWASP 安全模式和原则的安全策略，其中就包含各标准的实践。相比同类竞品 Nuxt Helmet，Nuxt Security 包更广的实践和策略深度。其内容大致分为四类：协议安全（请求头）、中间件（限速插件等）、插件辅助（移除日志等）和最佳实践。以下详细介绍各个大类的作用以及策略的机理。",{"type":177,"tag":196,"props":221,"children":223},{"id":222},"协议安全",[224],{"type":182,"value":222},{"type":177,"tag":226,"props":227,"children":229},"h3",{"id":228},"csp",[230],{"type":182,"value":231},"CSP",{"type":177,"tag":178,"props":233,"children":234},{},[235,241],{"type":177,"tag":185,"props":236,"children":238},{"href":208,"rel":237},[189],[239],{"type":182,"value":240},"内容安全策略（CSP）",{"type":182,"value":242}," 是一种网络安全机制，允许开发者限制网页加载的资源来降低客户端侧的安全风险。",{"type":177,"tag":178,"props":244,"children":245},{},[246],{"type":182,"value":247},"例如 JavaScript 文件、样式表、图片、字体等资源，如果内容来源没有被明确声明，那浏览器就会阻止其加载和执行，以防恶意代码，所以这可以减轻跨站脚本（XSS）漏洞、点击劫持、表单劫持、恶意框架、不想要的跟踪器以及其他网络客户端攻击。",{"type":177,"tag":178,"props":249,"children":250},{},[251],{"type":182,"value":252},"形式上，CSP 可以通过请求头来配置，比如 Nuxt Security 的默认设置就是：",{"type":177,"tag":254,"props":255,"children":259},"pre",{"code":256,"language":257,"meta":166,"className":258,"style":166},"Content-Security-Policy: base-uri 'none'; font-src 'self' https: data:; form-action 'self'; img-src 'self' data:; object-src 'none'; script-src-attr 'none'; style-src 'self' https: 'unsafe-inline'; script-src 'self' https: 'unsafe-inline' 'strict-dynamic' 'nonce-{{nonce}}'; upgrade-insecure-requests;\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[260],{"type":177,"tag":261,"props":262,"children":263},"code",{"__ignoreMap":166},[264],{"type":177,"tag":265,"props":266,"children":269},"span",{"class":267,"line":268},"line",1,[270,276,282,287,291,297,303,308,312,317,323,329,333,338,343,347,352,356,361,365,370,374,379,384,389,393,398,402,406,410,414,419,423,427,431,435,439,443,447,452,456,460,464,468,472,476,481,485,490,494,499,503,507,511,515,520,524,528,532,536,540,544,548,553,558,562,566,570,574,578,582,586,590,594,598,602,606,610,614,619,623,627,632,636,640,645,649,654,658,663],{"type":177,"tag":265,"props":271,"children":273},{"style":272},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[274],{"type":182,"value":275},"Content",{"type":177,"tag":265,"props":277,"children":279},{"style":278},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[280],{"type":182,"value":281},"-",{"type":177,"tag":265,"props":283,"children":284},{"style":272},[285],{"type":182,"value":286},"Security",{"type":177,"tag":265,"props":288,"children":289},{"style":278},[290],{"type":182,"value":281},{"type":177,"tag":265,"props":292,"children":294},{"style":293},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2",[295],{"type":182,"value":296},"Policy",{"type":177,"tag":265,"props":298,"children":300},{"style":299},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[301],{"type":182,"value":302},":",{"type":177,"tag":265,"props":304,"children":305},{"style":272},[306],{"type":182,"value":307}," base",{"type":177,"tag":265,"props":309,"children":310},{"style":278},[311],{"type":182,"value":281},{"type":177,"tag":265,"props":313,"children":314},{"style":272},[315],{"type":182,"value":316},"uri ",{"type":177,"tag":265,"props":318,"children":320},{"style":319},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[321],{"type":182,"value":322},"'",{"type":177,"tag":265,"props":324,"children":326},{"style":325},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[327],{"type":182,"value":328},"none",{"type":177,"tag":265,"props":330,"children":331},{"style":319},[332],{"type":182,"value":322},{"type":177,"tag":265,"props":334,"children":335},{"style":299},[336],{"type":182,"value":337},";",{"type":177,"tag":265,"props":339,"children":340},{"style":272},[341],{"type":182,"value":342}," font",{"type":177,"tag":265,"props":344,"children":345},{"style":278},[346],{"type":182,"value":281},{"type":177,"tag":265,"props":348,"children":349},{"style":272},[350],{"type":182,"value":351},"src ",{"type":177,"tag":265,"props":353,"children":354},{"style":319},[355],{"type":182,"value":322},{"type":177,"tag":265,"props":357,"children":358},{"style":325},[359],{"type":182,"value":360},"self",{"type":177,"tag":265,"props":362,"children":363},{"style":319},[364],{"type":182,"value":322},{"type":177,"tag":265,"props":366,"children":367},{"style":293},[368],{"type":182,"value":369}," https",{"type":177,"tag":265,"props":371,"children":372},{"style":299},[373],{"type":182,"value":302},{"type":177,"tag":265,"props":375,"children":376},{"style":293},[377],{"type":182,"value":378}," data",{"type":177,"tag":265,"props":380,"children":381},{"style":299},[382],{"type":182,"value":383},":;",{"type":177,"tag":265,"props":385,"children":386},{"style":272},[387],{"type":182,"value":388}," form",{"type":177,"tag":265,"props":390,"children":391},{"style":278},[392],{"type":182,"value":281},{"type":177,"tag":265,"props":394,"children":395},{"style":272},[396],{"type":182,"value":397},"action ",{"type":177,"tag":265,"props":399,"children":400},{"style":319},[401],{"type":182,"value":322},{"type":177,"tag":265,"props":403,"children":404},{"style":325},[405],{"type":182,"value":360},{"type":177,"tag":265,"props":407,"children":408},{"style":319},[409],{"type":182,"value":322},{"type":177,"tag":265,"props":411,"children":412},{"style":299},[413],{"type":182,"value":337},{"type":177,"tag":265,"props":415,"children":416},{"style":272},[417],{"type":182,"value":418}," img",{"type":177,"tag":265,"props":420,"children":421},{"style":278},[422],{"type":182,"value":281},{"type":177,"tag":265,"props":424,"children":425},{"style":272},[426],{"type":182,"value":351},{"type":177,"tag":265,"props":428,"children":429},{"style":319},[430],{"type":182,"value":322},{"type":177,"tag":265,"props":432,"children":433},{"style":325},[434],{"type":182,"value":360},{"type":177,"tag":265,"props":436,"children":437},{"style":319},[438],{"type":182,"value":322},{"type":177,"tag":265,"props":440,"children":441},{"style":293},[442],{"type":182,"value":378},{"type":177,"tag":265,"props":444,"children":445},{"style":299},[446],{"type":182,"value":383},{"type":177,"tag":265,"props":448,"children":449},{"style":272},[450],{"type":182,"value":451}," object",{"type":177,"tag":265,"props":453,"children":454},{"style":278},[455],{"type":182,"value":281},{"type":177,"tag":265,"props":457,"children":458},{"style":272},[459],{"type":182,"value":351},{"type":177,"tag":265,"props":461,"children":462},{"style":319},[463],{"type":182,"value":322},{"type":177,"tag":265,"props":465,"children":466},{"style":325},[467],{"type":182,"value":328},{"type":177,"tag":265,"props":469,"children":470},{"style":319},[471],{"type":182,"value":322},{"type":177,"tag":265,"props":473,"children":474},{"style":299},[475],{"type":182,"value":337},{"type":177,"tag":265,"props":477,"children":478},{"style":272},[479],{"type":182,"value":480}," script",{"type":177,"tag":265,"props":482,"children":483},{"style":278},[484],{"type":182,"value":281},{"type":177,"tag":265,"props":486,"children":487},{"style":272},[488],{"type":182,"value":489},"src",{"type":177,"tag":265,"props":491,"children":492},{"style":278},[493],{"type":182,"value":281},{"type":177,"tag":265,"props":495,"children":496},{"style":272},[497],{"type":182,"value":498},"attr ",{"type":177,"tag":265,"props":500,"children":501},{"style":319},[502],{"type":182,"value":322},{"type":177,"tag":265,"props":504,"children":505},{"style":325},[506],{"type":182,"value":328},{"type":177,"tag":265,"props":508,"children":509},{"style":319},[510],{"type":182,"value":322},{"type":177,"tag":265,"props":512,"children":513},{"style":299},[514],{"type":182,"value":337},{"type":177,"tag":265,"props":516,"children":517},{"style":272},[518],{"type":182,"value":519}," style",{"type":177,"tag":265,"props":521,"children":522},{"style":278},[523],{"type":182,"value":281},{"type":177,"tag":265,"props":525,"children":526},{"style":272},[527],{"type":182,"value":351},{"type":177,"tag":265,"props":529,"children":530},{"style":319},[531],{"type":182,"value":322},{"type":177,"tag":265,"props":533,"children":534},{"style":325},[535],{"type":182,"value":360},{"type":177,"tag":265,"props":537,"children":538},{"style":319},[539],{"type":182,"value":322},{"type":177,"tag":265,"props":541,"children":542},{"style":293},[543],{"type":182,"value":369},{"type":177,"tag":265,"props":545,"children":546},{"style":299},[547],{"type":182,"value":302},{"type":177,"tag":265,"props":549,"children":550},{"style":319},[551],{"type":182,"value":552}," '",{"type":177,"tag":265,"props":554,"children":555},{"style":325},[556],{"type":182,"value":557},"unsafe-inline",{"type":177,"tag":265,"props":559,"children":560},{"style":319},[561],{"type":182,"value":322},{"type":177,"tag":265,"props":563,"children":564},{"style":299},[565],{"type":182,"value":337},{"type":177,"tag":265,"props":567,"children":568},{"style":272},[569],{"type":182,"value":480},{"type":177,"tag":265,"props":571,"children":572},{"style":278},[573],{"type":182,"value":281},{"type":177,"tag":265,"props":575,"children":576},{"style":272},[577],{"type":182,"value":351},{"type":177,"tag":265,"props":579,"children":580},{"style":319},[581],{"type":182,"value":322},{"type":177,"tag":265,"props":583,"children":584},{"style":325},[585],{"type":182,"value":360},{"type":177,"tag":265,"props":587,"children":588},{"style":319},[589],{"type":182,"value":322},{"type":177,"tag":265,"props":591,"children":592},{"style":293},[593],{"type":182,"value":369},{"type":177,"tag":265,"props":595,"children":596},{"style":299},[597],{"type":182,"value":302},{"type":177,"tag":265,"props":599,"children":600},{"style":319},[601],{"type":182,"value":552},{"type":177,"tag":265,"props":603,"children":604},{"style":325},[605],{"type":182,"value":557},{"type":177,"tag":265,"props":607,"children":608},{"style":319},[609],{"type":182,"value":322},{"type":177,"tag":265,"props":611,"children":612},{"style":319},[613],{"type":182,"value":552},{"type":177,"tag":265,"props":615,"children":616},{"style":325},[617],{"type":182,"value":618},"strict-dynamic",{"type":177,"tag":265,"props":620,"children":621},{"style":319},[622],{"type":182,"value":322},{"type":177,"tag":265,"props":624,"children":625},{"style":319},[626],{"type":182,"value":552},{"type":177,"tag":265,"props":628,"children":629},{"style":325},[630],{"type":182,"value":631},"nonce-{{nonce}}",{"type":177,"tag":265,"props":633,"children":634},{"style":319},[635],{"type":182,"value":322},{"type":177,"tag":265,"props":637,"children":638},{"style":299},[639],{"type":182,"value":337},{"type":177,"tag":265,"props":641,"children":642},{"style":272},[643],{"type":182,"value":644}," upgrade",{"type":177,"tag":265,"props":646,"children":647},{"style":278},[648],{"type":182,"value":281},{"type":177,"tag":265,"props":650,"children":651},{"style":272},[652],{"type":182,"value":653},"insecure",{"type":177,"tag":265,"props":655,"children":656},{"style":278},[657],{"type":182,"value":281},{"type":177,"tag":265,"props":659,"children":660},{"style":272},[661],{"type":182,"value":662},"requests",{"type":177,"tag":265,"props":664,"children":665},{"style":299},[666],{"type":182,"value":667},";\n",{"type":177,"tag":178,"props":669,"children":670},{},[671,673,679,681,686],{"type":182,"value":672},"初看很复杂，但具体内容可以按分号拆分为不同的小块。比如 ",{"type":177,"tag":674,"props":675,"children":676},"strong",{},[677],{"type":182,"value":678},"base-uri 'none'",{"type":182,"value":680},"：限制了文档的 base 标签来源。'none'表示不允许设置或继承任何基础 URI，防止修改文档资源定位。类似的，",{"type":177,"tag":674,"props":682,"children":683},{},[684],{"type":182,"value":685},"img-src",{"type":182,"value":687}," 中的 'data:' 表示允许通过 Data URL 的方式嵌入图片，'self' 表示只能根据同源策略加载图片。",{"type":177,"tag":178,"props":689,"children":690},{},[691],{"type":182,"value":692},"配置中最后那个 CSP 策略是 upgrade-insecure-requests，将会自动升级页面中所有非安全（HTTP）链接为 HTTPS，这对保护混合内容攻击非常有用。",{"type":177,"tag":178,"props":694,"children":695},{},[696,698,703],{"type":182,"value":697},"其他配置里较为特别的是 ",{"type":177,"tag":674,"props":699,"children":700},{},[701],{"type":182,"value":702},"script-src-attr",{"type":182,"value":704},"，使用 'none' 可以禁止在脚本的标签属性中使用如 onclick=\"...\" 等内联脚本。这些不同策略中，script 和 style 都包含 https: 'unsafe-inline' 策略，也就是允许内联脚本和内联样式。内联脚本搭配了 nonce 策略提高安全性，这下面详细介绍，那内联样式为什么也会作为一个安全选项呢？",{"type":177,"tag":178,"props":706,"children":707},{},[708],{"type":182,"value":709},"假设攻击者通过漏洞注入了 HTML 或样式代码，尽管不是脚本，但这些注入的内容也可以成为攻击载体，比如注入的表单允许将用户名密码发送到其他服务器（当然这是可验证但听起来不切实际的例子）。只不过内联样式作为一种禁用掉就会让大部分网站样式瘫痪的运行方式，Nuxt Security 默认配置允许内联样式。",{"type":177,"tag":178,"props":711,"children":712},{},[713,715,722,724,731,733,740],{"type":182,"value":714},"关于样式代码的攻击方式可以参考 ",{"type":177,"tag":185,"props":716,"children":719},{"href":717,"rel":718},"https://mikewest.org/2013/09/xss-no-the-other-s-cssconfeu-2013/",[189],[720],{"type":182,"value":721},"2013 年 Mike West 的演讲",{"type":182,"value":723},"，其中介绍了一些有趣的攻击方式，比如 Firefox 有个漏洞可以允许注入的样式通过正则匹配文档 URL 然后配合 ",{"type":177,"tag":185,"props":725,"children":728},{"href":726,"rel":727},"https://www.mike-gualtieri.com/posts/stealing-data-with-css-attack-and-defense",[189],[729],{"type":182,"value":730},"CSS Exfil",{"type":182,"value":732}," 发送请求来获取用户 URL Query 中一些敏感信息。题外话，前几年有个很火的项目叫 ",{"type":177,"tag":185,"props":734,"children":737},{"href":735,"rel":736},"https://github.com/kkuchta/css-only-chat",[189],[738],{"type":182,"value":739},"Pure CSS Chatroom",{"type":182,"value":741},"，纯 CSS 实现的聊天室功能，就是通过此类方式实现的。",{"type":177,"tag":178,"props":743,"children":744},{},[745],{"type":177,"tag":746,"props":747,"children":749},"img",{"alt":166,"src":748},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/202504040521520.png",[],{"type":177,"tag":178,"props":751,"children":752},{},[753],{"type":182,"value":754},"内联脚本则是 XSS 攻击的重灾区，但是单纯禁用内联脚本也不太行，所以 CSP 2（2016）引入了 nonce 策论。也就是上文配置中的“https: 'strict-dynamic' 'nonce-xxx'”。允许开发者在脚本标签中添加一个随机生成的 nonce 值，浏览器会检查这个值是否和 CSP 中的 nonce 值匹配，如果匹配就允许执行。这样就可以在不禁用内联脚本的情况下提高安全性。",{"type":177,"tag":178,"props":756,"children":757},{},[758],{"type":182,"value":759},"假设服务器给 HTML 设置了如下请求头：",{"type":177,"tag":254,"props":761,"children":763},{"code":762,"language":257,"meta":166,"className":258,"style":166},"Content-Security-Policy: script-src 'nonce-my-site-random-int'\n",[764],{"type":177,"tag":261,"props":765,"children":766},{"__ignoreMap":166},[767],{"type":177,"tag":265,"props":768,"children":769},{"class":267,"line":268},[770,774,778,782,786,790,794,798,802,806,810,815],{"type":177,"tag":265,"props":771,"children":772},{"style":272},[773],{"type":182,"value":275},{"type":177,"tag":265,"props":775,"children":776},{"style":278},[777],{"type":182,"value":281},{"type":177,"tag":265,"props":779,"children":780},{"style":272},[781],{"type":182,"value":286},{"type":177,"tag":265,"props":783,"children":784},{"style":278},[785],{"type":182,"value":281},{"type":177,"tag":265,"props":787,"children":788},{"style":293},[789],{"type":182,"value":296},{"type":177,"tag":265,"props":791,"children":792},{"style":299},[793],{"type":182,"value":302},{"type":177,"tag":265,"props":795,"children":796},{"style":272},[797],{"type":182,"value":480},{"type":177,"tag":265,"props":799,"children":800},{"style":278},[801],{"type":182,"value":281},{"type":177,"tag":265,"props":803,"children":804},{"style":272},[805],{"type":182,"value":351},{"type":177,"tag":265,"props":807,"children":808},{"style":319},[809],{"type":182,"value":322},{"type":177,"tag":265,"props":811,"children":812},{"style":325},[813],{"type":182,"value":814},"nonce-my-site-random-int",{"type":177,"tag":265,"props":816,"children":817},{"style":319},[818],{"type":182,"value":819},"'\n",{"type":177,"tag":178,"props":821,"children":822},{},[823],{"type":182,"value":824},"那么以下两段脚本，只有 nonce 值匹配的那段会执行。如果你去观察 Twitter 等网站的页面代码，就会发现这些网站的脚本标签中都包含了 nonce 值。而就算是动态脚本，也可以通过 nonce 值来保证其安全性。",{"type":177,"tag":254,"props":826,"children":830},{"code":827,"language":828,"meta":166,"className":829,"style":166},"\u003Cscript nonce=\"nonce-my-site-random-int\">alert('Hello, world!');\u003C/script>\n\u003Cscript nonce=\"xyz456\">alert('not allowed');\u003C/script>\n","html","language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai",[831],{"type":177,"tag":261,"props":832,"children":833},{"__ignoreMap":166},[834,920],{"type":177,"tag":265,"props":835,"children":836},{"class":267,"line":268},[837,842,848,854,859,864,868,872,877,883,888,892,897,901,906,911,915],{"type":177,"tag":265,"props":838,"children":839},{"style":299},[840],{"type":182,"value":841},"\u003C",{"type":177,"tag":265,"props":843,"children":845},{"style":844},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[846],{"type":182,"value":847},"script",{"type":177,"tag":265,"props":849,"children":851},{"style":850},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[852],{"type":182,"value":853}," nonce",{"type":177,"tag":265,"props":855,"children":856},{"style":299},[857],{"type":182,"value":858},"=",{"type":177,"tag":265,"props":860,"children":861},{"style":319},[862],{"type":182,"value":863},"\"",{"type":177,"tag":265,"props":865,"children":866},{"style":325},[867],{"type":182,"value":814},{"type":177,"tag":265,"props":869,"children":870},{"style":319},[871],{"type":182,"value":863},{"type":177,"tag":265,"props":873,"children":874},{"style":299},[875],{"type":182,"value":876},">",{"type":177,"tag":265,"props":878,"children":880},{"style":879},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[881],{"type":182,"value":882},"alert",{"type":177,"tag":265,"props":884,"children":885},{"style":272},[886],{"type":182,"value":887},"(",{"type":177,"tag":265,"props":889,"children":890},{"style":319},[891],{"type":182,"value":322},{"type":177,"tag":265,"props":893,"children":894},{"style":325},[895],{"type":182,"value":896},"Hello, world!",{"type":177,"tag":265,"props":898,"children":899},{"style":319},[900],{"type":182,"value":322},{"type":177,"tag":265,"props":902,"children":903},{"style":272},[904],{"type":182,"value":905},")",{"type":177,"tag":265,"props":907,"children":908},{"style":299},[909],{"type":182,"value":910},";\u003C/",{"type":177,"tag":265,"props":912,"children":913},{"style":844},[914],{"type":182,"value":847},{"type":177,"tag":265,"props":916,"children":917},{"style":299},[918],{"type":182,"value":919},">\n",{"type":177,"tag":265,"props":921,"children":923},{"class":267,"line":922},2,[924,928,932,936,940,944,949,953,957,961,965,969,974,978,982,986,990],{"type":177,"tag":265,"props":925,"children":926},{"style":299},[927],{"type":182,"value":841},{"type":177,"tag":265,"props":929,"children":930},{"style":844},[931],{"type":182,"value":847},{"type":177,"tag":265,"props":933,"children":934},{"style":850},[935],{"type":182,"value":853},{"type":177,"tag":265,"props":937,"children":938},{"style":299},[939],{"type":182,"value":858},{"type":177,"tag":265,"props":941,"children":942},{"style":319},[943],{"type":182,"value":863},{"type":177,"tag":265,"props":945,"children":946},{"style":325},[947],{"type":182,"value":948},"xyz456",{"type":177,"tag":265,"props":950,"children":951},{"style":319},[952],{"type":182,"value":863},{"type":177,"tag":265,"props":954,"children":955},{"style":299},[956],{"type":182,"value":876},{"type":177,"tag":265,"props":958,"children":959},{"style":879},[960],{"type":182,"value":882},{"type":177,"tag":265,"props":962,"children":963},{"style":272},[964],{"type":182,"value":887},{"type":177,"tag":265,"props":966,"children":967},{"style":319},[968],{"type":182,"value":322},{"type":177,"tag":265,"props":970,"children":971},{"style":325},[972],{"type":182,"value":973},"not allowed",{"type":177,"tag":265,"props":975,"children":976},{"style":319},[977],{"type":182,"value":322},{"type":177,"tag":265,"props":979,"children":980},{"style":272},[981],{"type":182,"value":905},{"type":177,"tag":265,"props":983,"children":984},{"style":299},[985],{"type":182,"value":910},{"type":177,"tag":265,"props":987,"children":988},{"style":844},[989],{"type":182,"value":847},{"type":177,"tag":265,"props":991,"children":992},{"style":299},[993],{"type":182,"value":919},{"type":177,"tag":178,"props":995,"children":996},{},[997],{"type":182,"value":998},"'strict-dynamic' 是 nonce 在 CSP 3（2018）带来的细化。在 Nuxt Security 插件中，对于 SSR 网站而言，服务器会给客户端传输非常多动态内容，所以给这些动态内容设置不同的 nonce 值是有必要的，可以保证就算 nonce 泄露给了第三方插件，也不会有什么影响。而 SSG 网站通常通过 HTTP 请求来获取数据，所以 nonce 值会在打包时生成，所以无需关心动态脚本的问题。",{"type":177,"tag":226,"props":1000,"children":1002},{"id":1001},"sri",[1003],{"type":182,"value":1004},"SRI",{"type":177,"tag":178,"props":1006,"children":1007},{},[1008,1010,1017],{"type":182,"value":1009},"此外，静态站点在 Nuxt Security 中还默认包含 SRI（子资源完整性策论）。其规范见 ",{"type":177,"tag":185,"props":1011,"children":1014},{"href":1012,"rel":1013},"http://www.w3.org/TR/2016/REC-SRI-20160623/",[189],[1015],{"type":182,"value":1016},"SubResource Integrity W3C Recommendation 23 June 2016",{"type":182,"value":1018},"，通过在脚本和样式标签中添加文件哈希来验证文件内容正确性，因为尽管使用 HTTPS 可以保证链接建立及通讯的相对安全性，却不能保证服务器传输了正确文件。攻击者有未知或经验证手段（如 DNS 污染技术）使用户下载伪造的内容。",{"type":177,"tag":178,"props":1020,"children":1021},{},[1022],{"type":182,"value":1023},"例如，下面代码使用了一个包含 integrity 属性的 script 标签。使用 SRI 后，浏览器会在下载文件后计算其哈希值，并与 integrity 属性中的值进行比较。如果两者不匹配，浏览器将拒绝加载该文件。其中 crossorigin=\"anonymous\" 使浏览器以匿名模式加载该资源，即在请求时不发送用户凭据（如 cookies 或身份认证信息）。",{"type":177,"tag":254,"props":1025,"children":1027},{"code":1026,"language":828,"meta":166,"className":829,"style":166},"\u003Cscript\n  src=\"https://example.com/example-framework.js\"\n  integrity=\"sha384-Li9vy3DqF8tnTXuiaAJuML3ky+er10rcgNR/VqsVpcw+ThHmYcwiB1pbOxEbzJr7\"\n  crossorigin=\"anonymous\">\n\u003C/script>\n",[1028],{"type":177,"tag":261,"props":1029,"children":1030},{"__ignoreMap":166},[1031,1043,1069,1095,1125],{"type":177,"tag":265,"props":1032,"children":1033},{"class":267,"line":268},[1034,1038],{"type":177,"tag":265,"props":1035,"children":1036},{"style":299},[1037],{"type":182,"value":841},{"type":177,"tag":265,"props":1039,"children":1040},{"style":844},[1041],{"type":182,"value":1042},"script\n",{"type":177,"tag":265,"props":1044,"children":1045},{"class":267,"line":922},[1046,1051,1055,1059,1064],{"type":177,"tag":265,"props":1047,"children":1048},{"style":850},[1049],{"type":182,"value":1050},"  src",{"type":177,"tag":265,"props":1052,"children":1053},{"style":299},[1054],{"type":182,"value":858},{"type":177,"tag":265,"props":1056,"children":1057},{"style":319},[1058],{"type":182,"value":863},{"type":177,"tag":265,"props":1060,"children":1061},{"style":325},[1062],{"type":182,"value":1063},"https://example.com/example-framework.js",{"type":177,"tag":265,"props":1065,"children":1066},{"style":319},[1067],{"type":182,"value":1068},"\"\n",{"type":177,"tag":265,"props":1070,"children":1072},{"class":267,"line":1071},3,[1073,1078,1082,1086,1091],{"type":177,"tag":265,"props":1074,"children":1075},{"style":850},[1076],{"type":182,"value":1077},"  integrity",{"type":177,"tag":265,"props":1079,"children":1080},{"style":299},[1081],{"type":182,"value":858},{"type":177,"tag":265,"props":1083,"children":1084},{"style":319},[1085],{"type":182,"value":863},{"type":177,"tag":265,"props":1087,"children":1088},{"style":325},[1089],{"type":182,"value":1090},"sha384-Li9vy3DqF8tnTXuiaAJuML3ky+er10rcgNR/VqsVpcw+ThHmYcwiB1pbOxEbzJr7",{"type":177,"tag":265,"props":1092,"children":1093},{"style":319},[1094],{"type":182,"value":1068},{"type":177,"tag":265,"props":1096,"children":1098},{"class":267,"line":1097},4,[1099,1104,1108,1112,1117,1121],{"type":177,"tag":265,"props":1100,"children":1101},{"style":850},[1102],{"type":182,"value":1103},"  crossorigin",{"type":177,"tag":265,"props":1105,"children":1106},{"style":299},[1107],{"type":182,"value":858},{"type":177,"tag":265,"props":1109,"children":1110},{"style":319},[1111],{"type":182,"value":863},{"type":177,"tag":265,"props":1113,"children":1114},{"style":325},[1115],{"type":182,"value":1116},"anonymous",{"type":177,"tag":265,"props":1118,"children":1119},{"style":319},[1120],{"type":182,"value":863},{"type":177,"tag":265,"props":1122,"children":1123},{"style":299},[1124],{"type":182,"value":919},{"type":177,"tag":265,"props":1126,"children":1128},{"class":267,"line":1127},5,[1129,1134,1138],{"type":177,"tag":265,"props":1130,"children":1131},{"style":299},[1132],{"type":182,"value":1133},"\u003C/",{"type":177,"tag":265,"props":1135,"children":1136},{"style":844},[1137],{"type":182,"value":847},{"type":177,"tag":265,"props":1139,"children":1140},{"style":299},[1141],{"type":182,"value":919},{"type":177,"tag":178,"props":1143,"children":1144},{},[1145],{"type":182,"value":1146},"关于“框架”的麻烦性就体现出来了，Nuxt（加一系列插件）尽管打包了所有概念尽可能为开发者提供开箱即用的东西，但需要具体去了解各个概念的细节才能更好使用。和部分 CSP 配置一样，一旦开启 SRI，原先代码中关于第三方样式和脚本可能突然就无法使用。更甚，有些第三方脚本，内容是动态的，所以无法提供稳定的哈希值，这就没有办法使用 SRI。",{"type":177,"tag":178,"props":1148,"children":1149},{},[1150,1152,1159],{"type":182,"value":1151},"如果你从用了公共 CDN 的旧项目迁移到 Nuxt，并使用了 Nuxt Security，不知道协议的细节就会带来这些麻烦。这就是 ",{"type":177,"tag":185,"props":1153,"children":1156},{"href":1154,"rel":1155},"https://nuxt-security.vercel.app/advanced/strict-csp",[189],[1157],{"type":182,"value":1158},"“框架的麻烦”",{"type":182,"value":1160},"，不过长期来看，Nuxt 等元框架是利好开发者和终端用户的。",{"type":177,"tag":226,"props":1162,"children":1164},{"id":1163},"权限策略",[1165],{"type":182,"value":1163},{"type":177,"tag":178,"props":1167,"children":1168},{},[1169,1176],{"type":177,"tag":185,"props":1170,"children":1173},{"href":1171,"rel":1172},"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Guides/Permissions_Policy",[189],[1174],{"type":182,"value":1175},"Permissions Policy",{"type":182,"value":1177}," 是和浏览器 Permission API 配合使用的一个安全策论。举个例子，如果攻击者想通过摄像头来获取用户信息，一般情况需要你的代码中已经包含并向用户请求了摄像头权限。你的代码如果没有相关代码，那不错，但更好的策论是直接在页面停用摄像头权限，这就是 Permissions Policy 的工作。",{"type":177,"tag":178,"props":1179,"children":1180},{},[1181],{"type":182,"value":1182},"例如，下面的请求头仅允许在指定源和页面上使用地理位置权限。",{"type":177,"tag":254,"props":1184,"children":1186},{"code":1185},"Permissions-Policy: geolocation=(self https://trusted-ad-network.com)\n",[1187],{"type":177,"tag":261,"props":1188,"children":1189},{"__ignoreMap":166},[1190],{"type":182,"value":1185},{"type":177,"tag":178,"props":1192,"children":1193},{},[1194],{"type":182,"value":1195},"如果你的网站使用了 iframe，那么需注意，所有 iframe 都继承其父页的策略。如果 iframe 使用了 allow 属性，那么父页面和 allow 属性的策略将被合并，使用最严格的子集。当然，这建立在父页使用了 Permissions Policy 的基础上。",{"type":177,"tag":178,"props":1197,"children":1198},{},[1199],{"type":182,"value":1200},"Nuxt Security 的默认配置里，所有敏感权限都是关闭的，这包括摄像头、共享屏幕、全屏、地理位置和麦克风等。",{"type":177,"tag":254,"props":1202,"children":1204},{"code":1203},"Permissions-Policy: camera=(), display-capture=(), fullscreen=(), geolocation=(), microphone=()\n",[1205],{"type":177,"tag":261,"props":1206,"children":1207},{"__ignoreMap":166},[1208],{"type":182,"value":1203},{"type":177,"tag":178,"props":1210,"children":1211},{},[1212,1214,1221],{"type":182,"value":1213},"不过好在，你可以在 nuxt.config.ts 的路由配置中，为各个页面单独设置 Permissions Policy，具体就不展开了。题外话，除了上面提到带摄像头权限，浏览器的权限控制粒度（还不是正式标准）还算精细，以下列举。完整项可参考 ",{"type":177,"tag":185,"props":1215,"children":1218},{"href":1216,"rel":1217},"https://developer.mozilla.org/en-US/docs/Web/API/Permissions_API",[189],[1219],{"type":182,"value":1220},"MDN Permissions API",{"type":182,"value":194},{"type":177,"tag":1223,"props":1224,"children":1225},"ul",{},[1226,1232,1237,1242,1247,1252,1257,1262,1267,1272,1277,1282,1287,1292,1297,1302,1307,1312,1317,1322,1327,1332,1337,1342,1347],{"type":177,"tag":1227,"props":1228,"children":1229},"li",{},[1230],{"type":182,"value":1231},"background-sync：后台同步",{"type":177,"tag":1227,"props":1233,"children":1234},{},[1235],{"type":182,"value":1236},"clipboard-read：剪贴板读取",{"type":177,"tag":1227,"props":1238,"children":1239},{},[1240],{"type":182,"value":1241},"web-share：是否允许网页调用系统的共享功能",{"type":177,"tag":1227,"props":1243,"children":1244},{},[1245],{"type":182,"value":1246},"accelerometer：加速度计",{"type":177,"tag":1227,"props":1248,"children":1249},{},[1250],{"type":182,"value":1251},"ambient-light-sensor：环境光传感器",{"type":177,"tag":1227,"props":1253,"children":1254},{},[1255],{"type":182,"value":1256},"autoplay：控制网页是否允许媒体（如视频或音频）自动播放",{"type":177,"tag":1227,"props":1258,"children":1259},{},[1260],{"type":182,"value":1261},"battery：电池状态",{"type":177,"tag":1227,"props":1263,"children":1264},{},[1265],{"type":182,"value":1266},"document-domain：是否允许跨域访问文档的域名",{"type":177,"tag":1227,"props":1268,"children":1269},{},[1270],{"type":182,"value":1271},"encrypted-media：是否允许播放加密媒体内容",{"type":177,"tag":1227,"props":1273,"children":1274},{},[1275],{"type":182,"value":1276},"execution-while-not-rendered：是否允许在未渲染的页面上执行脚本",{"type":177,"tag":1227,"props":1278,"children":1279},{},[1280],{"type":182,"value":1281},"execution-while-out-of-viewport: 控制网页在内容不再可见时是否允许继续执行代码",{"type":177,"tag":1227,"props":1283,"children":1284},{},[1285],{"type":182,"value":1286},"gamepad：游戏手柄",{"type":177,"tag":1227,"props":1288,"children":1289},{},[1290],{"type":182,"value":1291},"gyroscope：陀螺仪",{"type":177,"tag":1227,"props":1293,"children":1294},{},[1295],{"type":182,"value":1296},"hid：人机接口设备如特殊键盘",{"type":177,"tag":1227,"props":1298,"children":1299},{},[1300],{"type":182,"value":1301},"local-fonts：本地字体访问",{"type":177,"tag":1227,"props":1303,"children":1304},{},[1305],{"type":182,"value":1306},"magnetometer：磁力计",{"type":177,"tag":1227,"props":1308,"children":1309},{},[1310],{"type":182,"value":1311},"midi：MIDI 设备",{"type":177,"tag":1227,"props":1313,"children":1314},{},[1315],{"type":182,"value":1316},"payment：支付请求 API",{"type":177,"tag":1227,"props":1318,"children":1319},{},[1320],{"type":182,"value":1321},"picture-in-picture：画中画模式",{"type":177,"tag":1227,"props":1323,"children":1324},{},[1325],{"type":182,"value":1326},"publickey-credentials-get：WebAuthn API",{"type":177,"tag":1227,"props":1328,"children":1329},{},[1330],{"type":182,"value":1331},"screen-wake-lock：是否允许阻止屏幕休眠",{"type":177,"tag":1227,"props":1333,"children":1334},{},[1335],{"type":182,"value":1336},"serial：串行设备通讯支持",{"type":177,"tag":1227,"props":1338,"children":1339},{},[1340],{"type":182,"value":1341},"speaker-selection：扬声器选择",{"type":177,"tag":1227,"props":1343,"children":1344},{},[1345],{"type":182,"value":1346},"usb：访问 USB 设备",{"type":177,"tag":1227,"props":1348,"children":1349},{},[1350],{"type":182,"value":1351},"xr-spatial-tracking：XR 空间跟踪",{"type":177,"tag":226,"props":1353,"children":1355},{"id":1354},"隔离策略",[1356],{"type":182,"value":1354},{"type":177,"tag":178,"props":1358,"children":1359},{},[1360],{"type":182,"value":1361},"最常见的隔离策略是浏览器的同源策略。",{"type":177,"tag":178,"props":1363,"children":1364},{},[1365],{"type":182,"value":1366},"浏览器请求图像、样式、脚本、字体等文件时，是允许默认跨域的，所以常使用跨域请求头即 Access-Control-Allow-Origin、 Access-Control-Allow-Methods 和 Access-Control-Allow-Headers，通过限制浏览器对跨域资源的访问来降低恶意代码运行的风险，但是单单使用这三个请求头不能保证部分子资源的请求安全，仍然需要 COEP、COOP、CORP 请求头协同工作。",{"type":177,"tag":178,"props":1368,"children":1369},{},[1370],{"type":182,"value":1371},"COEP（Cross-Origin-Embedder-Policy）控制图片等嵌入资源的加载行为，可以显式声明为 \"required-prop\"，使浏览器加载嵌入资源前校验跨域请求头（CORS 及下文将会提到的 CORP）是否完整。如果不完整则浏览器会拒绝加载。CORP（Cross-Origin-Resource-Policy）则是一个响应头，可以标记服务端的资源是否允许跨域访问。",{"type":177,"tag":178,"props":1373,"children":1374},{},[1375],{"type":182,"value":1376},"请求的资源类型还可以是文档：使用 COOP（Cross-Origin-Opener-Policy）可以控制 window.open 打开的窗口是否和页面共享同一个 BCG。题外话，服务端也有控制文档是否能在 iframe 中加载的请求头，X-Frame-Options。",{"type":177,"tag":178,"props":1378,"children":1379},{},[1380],{"type":182,"value":1381},"BCG 即浏览器上下文窗口，一般来说同源域名共享一个 BCG，所以可以通过 postMessage 等方式跨标签通讯。HTML a 标签的 rel=\"noopener\" 属性和请求头 Referrer-Policy 则是除了 COOP 外另一种阻止 window.open 打开的页面访问 window.opener 的方式。",{"type":177,"tag":178,"props":1383,"children":1384},{},[1385,1387,1394,1396],{"type":182,"value":1386},"也许和直觉会有些不一样，Chrome 的 BCG 是默认按“网站”而不是“同源”对页面进行分组的，所以手动使用 ",{"type":177,"tag":185,"props":1388,"children":1391},{"href":1389,"rel":1390},"https://web.dev/articles/coop-coep?hl=zh-cn",[189],[1392],{"type":182,"value":1393},"COEP、COOP 能间接管理页面隔离",{"type":182,"value":1395},"。此外请求头 Origin-Agent-Cluster 可以用于直接控制浏览器是否按同源策略分组 BCG，见 web.dev 的文章：",{"type":177,"tag":185,"props":1397,"children":1400},{"href":1398,"rel":1399},"https://web.dev/articles/origin-agent-cluster?hl=zh-cn",[189],[1401],{"type":182,"value":1402},"使用 Origin-Agent-Cluster 标头请求性能隔离",{"type":177,"tag":178,"props":1404,"children":1405},{},[1406],{"type":182,"value":1407},"除了图片、文档等，Flash 和 PDF 这种嵌入型资源虽不常见，但因可以发请求，所以也需要一种策略来控制其跨域访问：一般可以在网站根目录定义一个 crossdomain.xml 文件进行配置，但也可以通过 X-Permitted-Cross-Domain-Policies 请求头来控制，以下是两者的示例：",{"type":177,"tag":254,"props":1409,"children":1411},{"code":1410,"language":828,"meta":166,"className":829,"style":166},"\u003C!-- https://www.taobao.com/crossdomain.xml -->\n\u003Ccross-domain-policy>\n  \u003Callow-access-from domain=\"*.taobao.com\" />\n  \u003Callow-access-from domain=\"*.taobao.net\" />\n  \u003Callow-access-from domain=\"*.taobaocdn.com\" />\n  \u003Callow-access-from domain=\"*.tbcdn.cn\" />\n  \u003Callow-access-from domain=\"*.alicdn.com\" />\n\u003C/cross-domain-policy>\n",[1412],{"type":177,"tag":261,"props":1413,"children":1414},{"__ignoreMap":166},[1415,1424,1440,1480,1516,1552,1589,1626],{"type":177,"tag":265,"props":1416,"children":1417},{"class":267,"line":268},[1418],{"type":177,"tag":265,"props":1419,"children":1421},{"style":1420},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[1422],{"type":182,"value":1423},"\u003C!-- https://www.taobao.com/crossdomain.xml -->\n",{"type":177,"tag":265,"props":1425,"children":1426},{"class":267,"line":922},[1427,1431,1436],{"type":177,"tag":265,"props":1428,"children":1429},{"style":299},[1430],{"type":182,"value":841},{"type":177,"tag":265,"props":1432,"children":1433},{"style":844},[1434],{"type":182,"value":1435},"cross-domain-policy",{"type":177,"tag":265,"props":1437,"children":1438},{"style":299},[1439],{"type":182,"value":919},{"type":177,"tag":265,"props":1441,"children":1442},{"class":267,"line":1071},[1443,1448,1453,1458,1462,1466,1471,1475],{"type":177,"tag":265,"props":1444,"children":1445},{"style":299},[1446],{"type":182,"value":1447},"  \u003C",{"type":177,"tag":265,"props":1449,"children":1450},{"style":844},[1451],{"type":182,"value":1452},"allow-access-from",{"type":177,"tag":265,"props":1454,"children":1455},{"style":850},[1456],{"type":182,"value":1457}," domain",{"type":177,"tag":265,"props":1459,"children":1460},{"style":299},[1461],{"type":182,"value":858},{"type":177,"tag":265,"props":1463,"children":1464},{"style":319},[1465],{"type":182,"value":863},{"type":177,"tag":265,"props":1467,"children":1468},{"style":325},[1469],{"type":182,"value":1470},"*.taobao.com",{"type":177,"tag":265,"props":1472,"children":1473},{"style":319},[1474],{"type":182,"value":863},{"type":177,"tag":265,"props":1476,"children":1477},{"style":299},[1478],{"type":182,"value":1479}," />\n",{"type":177,"tag":265,"props":1481,"children":1482},{"class":267,"line":1097},[1483,1487,1491,1495,1499,1503,1508,1512],{"type":177,"tag":265,"props":1484,"children":1485},{"style":299},[1486],{"type":182,"value":1447},{"type":177,"tag":265,"props":1488,"children":1489},{"style":844},[1490],{"type":182,"value":1452},{"type":177,"tag":265,"props":1492,"children":1493},{"style":850},[1494],{"type":182,"value":1457},{"type":177,"tag":265,"props":1496,"children":1497},{"style":299},[1498],{"type":182,"value":858},{"type":177,"tag":265,"props":1500,"children":1501},{"style":319},[1502],{"type":182,"value":863},{"type":177,"tag":265,"props":1504,"children":1505},{"style":325},[1506],{"type":182,"value":1507},"*.taobao.net",{"type":177,"tag":265,"props":1509,"children":1510},{"style":319},[1511],{"type":182,"value":863},{"type":177,"tag":265,"props":1513,"children":1514},{"style":299},[1515],{"type":182,"value":1479},{"type":177,"tag":265,"props":1517,"children":1518},{"class":267,"line":1127},[1519,1523,1527,1531,1535,1539,1544,1548],{"type":177,"tag":265,"props":1520,"children":1521},{"style":299},[1522],{"type":182,"value":1447},{"type":177,"tag":265,"props":1524,"children":1525},{"style":844},[1526],{"type":182,"value":1452},{"type":177,"tag":265,"props":1528,"children":1529},{"style":850},[1530],{"type":182,"value":1457},{"type":177,"tag":265,"props":1532,"children":1533},{"style":299},[1534],{"type":182,"value":858},{"type":177,"tag":265,"props":1536,"children":1537},{"style":319},[1538],{"type":182,"value":863},{"type":177,"tag":265,"props":1540,"children":1541},{"style":325},[1542],{"type":182,"value":1543},"*.taobaocdn.com",{"type":177,"tag":265,"props":1545,"children":1546},{"style":319},[1547],{"type":182,"value":863},{"type":177,"tag":265,"props":1549,"children":1550},{"style":299},[1551],{"type":182,"value":1479},{"type":177,"tag":265,"props":1553,"children":1555},{"class":267,"line":1554},6,[1556,1560,1564,1568,1572,1576,1581,1585],{"type":177,"tag":265,"props":1557,"children":1558},{"style":299},[1559],{"type":182,"value":1447},{"type":177,"tag":265,"props":1561,"children":1562},{"style":844},[1563],{"type":182,"value":1452},{"type":177,"tag":265,"props":1565,"children":1566},{"style":850},[1567],{"type":182,"value":1457},{"type":177,"tag":265,"props":1569,"children":1570},{"style":299},[1571],{"type":182,"value":858},{"type":177,"tag":265,"props":1573,"children":1574},{"style":319},[1575],{"type":182,"value":863},{"type":177,"tag":265,"props":1577,"children":1578},{"style":325},[1579],{"type":182,"value":1580},"*.tbcdn.cn",{"type":177,"tag":265,"props":1582,"children":1583},{"style":319},[1584],{"type":182,"value":863},{"type":177,"tag":265,"props":1586,"children":1587},{"style":299},[1588],{"type":182,"value":1479},{"type":177,"tag":265,"props":1590,"children":1592},{"class":267,"line":1591},7,[1593,1597,1601,1605,1609,1613,1618,1622],{"type":177,"tag":265,"props":1594,"children":1595},{"style":299},[1596],{"type":182,"value":1447},{"type":177,"tag":265,"props":1598,"children":1599},{"style":844},[1600],{"type":182,"value":1452},{"type":177,"tag":265,"props":1602,"children":1603},{"style":850},[1604],{"type":182,"value":1457},{"type":177,"tag":265,"props":1606,"children":1607},{"style":299},[1608],{"type":182,"value":858},{"type":177,"tag":265,"props":1610,"children":1611},{"style":319},[1612],{"type":182,"value":863},{"type":177,"tag":265,"props":1614,"children":1615},{"style":325},[1616],{"type":182,"value":1617},"*.alicdn.com",{"type":177,"tag":265,"props":1619,"children":1620},{"style":319},[1621],{"type":182,"value":863},{"type":177,"tag":265,"props":1623,"children":1624},{"style":299},[1625],{"type":182,"value":1479},{"type":177,"tag":265,"props":1627,"children":1629},{"class":267,"line":1628},8,[1630,1634,1638],{"type":177,"tag":265,"props":1631,"children":1632},{"style":299},[1633],{"type":182,"value":1133},{"type":177,"tag":265,"props":1635,"children":1636},{"style":844},[1637],{"type":182,"value":1435},{"type":177,"tag":265,"props":1639,"children":1640},{"style":299},[1641],{"type":182,"value":919},{"type":177,"tag":254,"props":1643,"children":1645},{"code":1644},"xPermittedCrossDomainPolicies: 'none'\n  | 'master-only'\n  | 'by-content-type'\n  | 'by-ftp-filename'\n  | 'all'\n  | false;\n",[1646],{"type":177,"tag":261,"props":1647,"children":1648},{"__ignoreMap":166},[1649],{"type":182,"value":1644},{"type":177,"tag":226,"props":1651,"children":1653},{"id":1652},"资源安全",[1654],{"type":182,"value":1652},{"type":177,"tag":178,"props":1656,"children":1657},{},[1658],{"type":182,"value":1659},"曾经有浏览器会根据文件内容，而不是 Content-Type 去解释和执行文件，这可能使攻击者发送的图片等文件中嵌套的脚本代码得到执行，这种攻击叫做 MIME 嗅探攻击。配置 X-Content-Type-Options: nosiff 禁止浏览器对文件内容进行 MIME 嗅探。",{"type":177,"tag":178,"props":1661,"children":1662},{},[1663],{"type":182,"value":1664},"X-Download-Options: noopen 则用于提高文件下载的安全性，防止用户在浏览器中意外执行下载的文件。配置后用户需要先下载文件，再手动打开，而不是直接在浏览器中打开。",{"type":177,"tag":226,"props":1666,"children":1668},{"id":1667},"https",[1669],{"type":182,"value":1670},"HTTPS",{"type":177,"tag":178,"props":1672,"children":1673},{},[1674],{"type":182,"value":1675},"HTTPS 是 HTTP 的安全版本。尽管不是技术上的限制，但浏览器需要 API 都依赖 HTTPs 协议才能使用，比如：地理位置、音视频麦克风、工作线程、剪贴板、Performance API，以及上文提到的 SRI 和 COEP 等请求头。大概 HTTPS 已经相当普及了，但仍有手动指定浏览器强制使用 HTTPS 而不是降级使用 HTTP 的方法：STS。",{"type":177,"tag":178,"props":1677,"children":1678},{},[1679,1681,1687,1689,1695,1697,1703,1705,1711,1713,1718],{"type":182,"value":1680},"浏览器接收到 Strict-Transport-Security（STS 或 HTTP STS）请求头后，会进行倒计时，在计时结束之前都不会将 HTTPS 降级回 HTTP。见下示例，",{"type":177,"tag":261,"props":1682,"children":1684},{"className":1683},[],[1685],{"type":182,"value":1686},"max-age",{"type":182,"value":1688}," 指定倒计时时间；",{"type":177,"tag":261,"props":1690,"children":1692},{"className":1691},[],[1693],{"type":182,"value":1694},"includesSubDomains",{"type":182,"value":1696}," 指定子域的 ",{"type":177,"tag":261,"props":1698,"children":1700},{"className":1699},[],[1701],{"type":182,"value":1702},"HSTS",{"type":182,"value":1704},"；",{"type":177,"tag":261,"props":1706,"children":1708},{"className":1707},[],[1709],{"type":182,"value":1710},"preload",{"type":182,"value":1712}," 指定预加载内容的 ",{"type":177,"tag":261,"props":1714,"children":1716},{"className":1715},[],[1717],{"type":182,"value":1702},{"type":182,"value":194},{"type":177,"tag":254,"props":1720,"children":1722},{"code":1721},"Strict-Transport-Security:\n    max-age=31536000;\n    includeSubDomains;\n    preload\n",[1723],{"type":177,"tag":261,"props":1724,"children":1725},{"__ignoreMap":166},[1726],{"type":182,"value":1721},{"type":177,"tag":226,"props":1728,"children":1730},{"id":1729},"隐私安全",[1731],{"type":182,"value":1729},{"type":177,"tag":178,"props":1733,"children":1734},{},[1735],{"type":182,"value":1736},"浏览器默认开启了 DNS 预取功能，所以用户访问页面时碰到了新链接，浏览器会提前解析 DNS。虽然可以加快页面加载速度，但也会泄露用户隐私及扩大用户可能的受攻击面。X-DNS-Prefetch-Control: off 可以关闭 DNS 预取功能。",{"type":177,"tag":196,"props":1738,"children":1740},{"id":1739},"中间件",[1741],{"type":182,"value":1739},{"type":177,"tag":178,"props":1743,"children":1744},{},[1745],{"type":182,"value":1746},"Rate Limiter 常用于登录、注册等安全敏感的接口，或某些高服务器资源消耗的接口。他将用户的 IP 储存在内存中，并在请求超量后，拒绝并返回 429 Too Many Requests 错误。默认设置为每 30 秒允许 150 次请求。",{"type":177,"tag":178,"props":1748,"children":1749},{},[1750],{"type":182,"value":1751},"Request Size Limiter 是用来限制请求体大小的插件。默认配置为 2MB 的请求体和 8MB 的文件上传请求体，超过限制后会返回 413 Payload Too Large 错误。",{"type":177,"tag":178,"props":1753,"children":1754},{},[1755],{"type":182,"value":1756},"XSS Validator 是一个中间件，用于检测和过滤 XSS 攻击。它会检查请求体、查询参数和头部信息中的潜在恶意代码，并在发现可疑内容时返回 400 Bad Request 错误。",{"type":177,"tag":178,"props":1758,"children":1759},{},[1760],{"type":182,"value":1761},"CORS Handler 则用于设置请求的跨域处理。还可以配合 Allowed HTTP Methods 插件来限制请求方法。",{"type":177,"tag":178,"props":1763,"children":1764},{},[1765],{"type":182,"value":1766},"Basic Auth 是实现了 HTTP Basic Authentication 的中间件。当浏览器发送请求时，会在请求头中添加一个 Authorization 字段，包含用户名和密码的 Base64 编码值。Nuxt 服务器可以基于此值来验证用户身份。",{"type":177,"tag":178,"props":1768,"children":1769},{},[1770],{"type":182,"value":1771},"Cross Site Request Forgery（CSRF）插件用于防止 CSRF 攻击。",{"type":177,"tag":196,"props":1773,"children":1775},{"id":1774},"实践",[1776],{"type":182,"value":1774},{"type":177,"tag":178,"props":1778,"children":1779},{},[1780],{"type":182,"value":1781},"还没介绍到的 Nuxt Security 的一些功能则是一些实践上的配置，包括隐藏 X-Powered-By 头部、移除 console.log 和 debugger 语句。",{"type":177,"tag":178,"props":1783,"children":1784},{},[1785,1787],{"type":182,"value":1786},"关于如何做一个安全的应用，Nuxt Security 推荐使用这些方法：",{"type":177,"tag":185,"props":1788,"children":1791},{"href":1789,"rel":1790},"https://nuxt-security.vercel.app/advanced/good-practices",[189],[1792],{"type":182,"value":1793},"Good Practices",{"type":177,"tag":196,"props":1795,"children":1797},{"id":1796},"默认配置",[1798],{"type":182,"value":1796},{"type":177,"tag":178,"props":1800,"children":1801},{},[1802],{"type":182,"value":1803},"插件的默认配置如下，之后会介绍每个配置的作用。插件会默认将注册全局中间件和路由规则，并且其标准配置是“ensure that your application will not break”。",{"type":177,"tag":254,"props":1805,"children":1809},{"code":1806,"language":1807,"meta":166,"className":1808,"style":166},"{\n  security: {\n    strict: false,\n    headers: {\n      crossOriginResourcePolicy: 'same-origin',\n      crossOriginOpenerPolicy: 'same-origin',\n      crossOriginEmbedderPolicy: 'credentialless',\n      contentSecurityPolicy: {\n        'base-uri': [\"'none'\"],\n        'font-src': [\"'self'\", 'https:', 'data:'],\n        'form-action': [\"'self'\"],\n        'frame-ancestors': [\"'self'\"],\n        'img-src': [\"'self'\", 'data:'],\n        'object-src': [\"'none'\"],\n        'script-src-attr': [\"'none'\"],\n        'style-src': [\"'self'\", 'https:', \"'unsafe-inline'\"],\n        'script-src': [\"'self'\", 'https:', \"'unsafe-inline'\", \"'strict-dynamic'\", \"'nonce-{{nonce}}'\"],\n        'upgrade-insecure-requests': true\n      },\n      originAgentCluster: '?1',\n      referrerPolicy: 'no-referrer',\n      strictTransportSecurity: {\n        maxAge: 15552000,\n        includeSubdomains: true,\n      },\n      xContentTypeOptions: 'nosniff',\n      xDNSPrefetchControl: 'off',\n      xDownloadOptions: 'noopen',\n      xFrameOptions: 'SAMEORIGIN',\n      xPermittedCrossDomainPolicies: 'none',\n      xXSSProtection: '0',\n      permissionsPolicy: {\n        camera: [],\n        'display-capture': [],\n        fullscreen: [],\n        geolocation: [],\n        microphone: []\n      }\n    },\n    requestSizeLimiter: {\n      maxRequestSizeInBytes: 2000000,\n      maxUploadFileRequestInBytes: 8000000,\n      throwError: true\n    },\n    rateLimiter: {\n      tokensPerInterval: 150,\n      interval: 300000,\n      headers: false,\n      driver: {\n        name: 'lruCache'\n      },\n      throwError: true\n    },\n    xssValidator: {\n      throwError: true\n    },\n    corsHandler: {\n      origin: serverlUrl,\n      methods: ['GET', 'HEAD', 'PUT', 'PATCH', 'POST', 'DELETE'],\n      preflight: {\n        statusCode: 204\n      },\n    },\n    allowedMethodsRestricter: {\n      methods: '*',\n      throwError: true\n    },\n    hidePoweredBy: true,\n    basicAuth: false,\n    enabled: true,\n    csrf: false,\n    nonce: true,\n    removeLoggers: true,\n    ssg: {\n      meta: true,\n      hashScripts: true,\n      hashStyles: false,\n      nitroHeaders: true,\n      exportToPresets: true,\n    },\n    sri: true\n  }\n}\n","json","language-json shiki shiki-themes material-theme-lighter github-light github-dark monokai",[1810],{"type":177,"tag":261,"props":1811,"children":1812},{"__ignoreMap":166},[1813,1821,1839,1862,1878,1899,1919,1940,1956,1994,2047,2080,2113,2154,2187,2220,2279,2370,2388,2397,2429,2451,2468,2490,2512,2520,2542,2564,2586,2608,2630,2660,2677,2695,2712,2729,2746,2764,2773,2782,2799,2821,2843,2860,2868,2885,2907,2929,2950,2967,2985,2993,3009,3017,3034,3050,3058,3075,3097,3168,3185,3203,3211,3219,3236,3257,3273,3281,3302,3323,3344,3365,3386,3407,3424,3445,3466,3487,3508,3529,3537,3554,3563],{"type":177,"tag":265,"props":1814,"children":1815},{"class":267,"line":268},[1816],{"type":177,"tag":265,"props":1817,"children":1818},{"style":299},[1819],{"type":182,"value":1820},"{\n",{"type":177,"tag":265,"props":1822,"children":1823},{"class":267,"line":922},[1824,1830,1834],{"type":177,"tag":265,"props":1825,"children":1827},{"style":1826},"--shiki-light:#90A4AE;--shiki-light-font-style:inherit;--shiki-default:#B31D28;--shiki-default-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-sepia:#F44747;--shiki-sepia-font-style:inherit",[1828],{"type":182,"value":1829},"  security",{"type":177,"tag":265,"props":1831,"children":1832},{"style":299},[1833],{"type":182,"value":302},{"type":177,"tag":265,"props":1835,"children":1836},{"style":299},[1837],{"type":182,"value":1838}," {\n",{"type":177,"tag":265,"props":1840,"children":1841},{"class":267,"line":1071},[1842,1847,1851,1857],{"type":177,"tag":265,"props":1843,"children":1844},{"style":1826},[1845],{"type":182,"value":1846},"    strict",{"type":177,"tag":265,"props":1848,"children":1849},{"style":299},[1850],{"type":182,"value":302},{"type":177,"tag":265,"props":1852,"children":1854},{"style":1853},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1855],{"type":182,"value":1856}," false",{"type":177,"tag":265,"props":1858,"children":1859},{"style":299},[1860],{"type":182,"value":1861},",\n",{"type":177,"tag":265,"props":1863,"children":1864},{"class":267,"line":1097},[1865,1870,1874],{"type":177,"tag":265,"props":1866,"children":1867},{"style":1826},[1868],{"type":182,"value":1869},"    headers",{"type":177,"tag":265,"props":1871,"children":1872},{"style":299},[1873],{"type":182,"value":302},{"type":177,"tag":265,"props":1875,"children":1876},{"style":299},[1877],{"type":182,"value":1838},{"type":177,"tag":265,"props":1879,"children":1880},{"class":267,"line":1127},[1881,1886,1890,1895],{"type":177,"tag":265,"props":1882,"children":1883},{"style":1826},[1884],{"type":182,"value":1885},"      crossOriginResourcePolicy",{"type":177,"tag":265,"props":1887,"children":1888},{"style":299},[1889],{"type":182,"value":302},{"type":177,"tag":265,"props":1891,"children":1892},{"style":1826},[1893],{"type":182,"value":1894}," 'same-origin'",{"type":177,"tag":265,"props":1896,"children":1897},{"style":299},[1898],{"type":182,"value":1861},{"type":177,"tag":265,"props":1900,"children":1901},{"class":267,"line":1554},[1902,1907,1911,1915],{"type":177,"tag":265,"props":1903,"children":1904},{"style":1826},[1905],{"type":182,"value":1906},"      crossOriginOpenerPolicy",{"type":177,"tag":265,"props":1908,"children":1909},{"style":299},[1910],{"type":182,"value":302},{"type":177,"tag":265,"props":1912,"children":1913},{"style":1826},[1914],{"type":182,"value":1894},{"type":177,"tag":265,"props":1916,"children":1917},{"style":299},[1918],{"type":182,"value":1861},{"type":177,"tag":265,"props":1920,"children":1921},{"class":267,"line":1591},[1922,1927,1931,1936],{"type":177,"tag":265,"props":1923,"children":1924},{"style":1826},[1925],{"type":182,"value":1926},"      crossOriginEmbedderPolicy",{"type":177,"tag":265,"props":1928,"children":1929},{"style":299},[1930],{"type":182,"value":302},{"type":177,"tag":265,"props":1932,"children":1933},{"style":1826},[1934],{"type":182,"value":1935}," 'credentialless'",{"type":177,"tag":265,"props":1937,"children":1938},{"style":299},[1939],{"type":182,"value":1861},{"type":177,"tag":265,"props":1941,"children":1942},{"class":267,"line":1628},[1943,1948,1952],{"type":177,"tag":265,"props":1944,"children":1945},{"style":1826},[1946],{"type":182,"value":1947},"      contentSecurityPolicy",{"type":177,"tag":265,"props":1949,"children":1950},{"style":299},[1951],{"type":182,"value":302},{"type":177,"tag":265,"props":1953,"children":1954},{"style":299},[1955],{"type":182,"value":1838},{"type":177,"tag":265,"props":1957,"children":1959},{"class":267,"line":1958},9,[1960,1965,1969,1974,1979,1985,1989],{"type":177,"tag":265,"props":1961,"children":1962},{"style":1826},[1963],{"type":182,"value":1964},"        'base-uri'",{"type":177,"tag":265,"props":1966,"children":1967},{"style":299},[1968],{"type":182,"value":302},{"type":177,"tag":265,"props":1970,"children":1971},{"style":299},[1972],{"type":182,"value":1973}," [",{"type":177,"tag":265,"props":1975,"children":1977},{"style":1976},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2",[1978],{"type":182,"value":863},{"type":177,"tag":265,"props":1980,"children":1982},{"style":1981},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2",[1983],{"type":182,"value":1984},"'none'",{"type":177,"tag":265,"props":1986,"children":1987},{"style":1976},[1988],{"type":182,"value":863},{"type":177,"tag":265,"props":1990,"children":1991},{"style":299},[1992],{"type":182,"value":1993},"],\n",{"type":177,"tag":265,"props":1995,"children":1997},{"class":267,"line":1996},10,[1998,2003,2007,2011,2015,2020,2024,2029,2034,2038,2043],{"type":177,"tag":265,"props":1999,"children":2000},{"style":1826},[2001],{"type":182,"value":2002},"        'font-src'",{"type":177,"tag":265,"props":2004,"children":2005},{"style":299},[2006],{"type":182,"value":302},{"type":177,"tag":265,"props":2008,"children":2009},{"style":299},[2010],{"type":182,"value":1973},{"type":177,"tag":265,"props":2012,"children":2013},{"style":1976},[2014],{"type":182,"value":863},{"type":177,"tag":265,"props":2016,"children":2017},{"style":1981},[2018],{"type":182,"value":2019},"'self'",{"type":177,"tag":265,"props":2021,"children":2022},{"style":1976},[2023],{"type":182,"value":863},{"type":177,"tag":265,"props":2025,"children":2026},{"style":299},[2027],{"type":182,"value":2028},",",{"type":177,"tag":265,"props":2030,"children":2031},{"style":1826},[2032],{"type":182,"value":2033}," 'https:'",{"type":177,"tag":265,"props":2035,"children":2036},{"style":299},[2037],{"type":182,"value":2028},{"type":177,"tag":265,"props":2039,"children":2040},{"style":1826},[2041],{"type":182,"value":2042}," 'data:'",{"type":177,"tag":265,"props":2044,"children":2045},{"style":299},[2046],{"type":182,"value":1993},{"type":177,"tag":265,"props":2048,"children":2050},{"class":267,"line":2049},11,[2051,2056,2060,2064,2068,2072,2076],{"type":177,"tag":265,"props":2052,"children":2053},{"style":1826},[2054],{"type":182,"value":2055},"        'form-action'",{"type":177,"tag":265,"props":2057,"children":2058},{"style":299},[2059],{"type":182,"value":302},{"type":177,"tag":265,"props":2061,"children":2062},{"style":299},[2063],{"type":182,"value":1973},{"type":177,"tag":265,"props":2065,"children":2066},{"style":1976},[2067],{"type":182,"value":863},{"type":177,"tag":265,"props":2069,"children":2070},{"style":1981},[2071],{"type":182,"value":2019},{"type":177,"tag":265,"props":2073,"children":2074},{"style":1976},[2075],{"type":182,"value":863},{"type":177,"tag":265,"props":2077,"children":2078},{"style":299},[2079],{"type":182,"value":1993},{"type":177,"tag":265,"props":2081,"children":2083},{"class":267,"line":2082},12,[2084,2089,2093,2097,2101,2105,2109],{"type":177,"tag":265,"props":2085,"children":2086},{"style":1826},[2087],{"type":182,"value":2088},"        'frame-ancestors'",{"type":177,"tag":265,"props":2090,"children":2091},{"style":299},[2092],{"type":182,"value":302},{"type":177,"tag":265,"props":2094,"children":2095},{"style":299},[2096],{"type":182,"value":1973},{"type":177,"tag":265,"props":2098,"children":2099},{"style":1976},[2100],{"type":182,"value":863},{"type":177,"tag":265,"props":2102,"children":2103},{"style":1981},[2104],{"type":182,"value":2019},{"type":177,"tag":265,"props":2106,"children":2107},{"style":1976},[2108],{"type":182,"value":863},{"type":177,"tag":265,"props":2110,"children":2111},{"style":299},[2112],{"type":182,"value":1993},{"type":177,"tag":265,"props":2114,"children":2116},{"class":267,"line":2115},13,[2117,2122,2126,2130,2134,2138,2142,2146,2150],{"type":177,"tag":265,"props":2118,"children":2119},{"style":1826},[2120],{"type":182,"value":2121},"        'img-src'",{"type":177,"tag":265,"props":2123,"children":2124},{"style":299},[2125],{"type":182,"value":302},{"type":177,"tag":265,"props":2127,"children":2128},{"style":299},[2129],{"type":182,"value":1973},{"type":177,"tag":265,"props":2131,"children":2132},{"style":1976},[2133],{"type":182,"value":863},{"type":177,"tag":265,"props":2135,"children":2136},{"style":1981},[2137],{"type":182,"value":2019},{"type":177,"tag":265,"props":2139,"children":2140},{"style":1976},[2141],{"type":182,"value":863},{"type":177,"tag":265,"props":2143,"children":2144},{"style":299},[2145],{"type":182,"value":2028},{"type":177,"tag":265,"props":2147,"children":2148},{"style":1826},[2149],{"type":182,"value":2042},{"type":177,"tag":265,"props":2151,"children":2152},{"style":299},[2153],{"type":182,"value":1993},{"type":177,"tag":265,"props":2155,"children":2157},{"class":267,"line":2156},14,[2158,2163,2167,2171,2175,2179,2183],{"type":177,"tag":265,"props":2159,"children":2160},{"style":1826},[2161],{"type":182,"value":2162},"        'object-src'",{"type":177,"tag":265,"props":2164,"children":2165},{"style":299},[2166],{"type":182,"value":302},{"type":177,"tag":265,"props":2168,"children":2169},{"style":299},[2170],{"type":182,"value":1973},{"type":177,"tag":265,"props":2172,"children":2173},{"style":1976},[2174],{"type":182,"value":863},{"type":177,"tag":265,"props":2176,"children":2177},{"style":1981},[2178],{"type":182,"value":1984},{"type":177,"tag":265,"props":2180,"children":2181},{"style":1976},[2182],{"type":182,"value":863},{"type":177,"tag":265,"props":2184,"children":2185},{"style":299},[2186],{"type":182,"value":1993},{"type":177,"tag":265,"props":2188,"children":2190},{"class":267,"line":2189},15,[2191,2196,2200,2204,2208,2212,2216],{"type":177,"tag":265,"props":2192,"children":2193},{"style":1826},[2194],{"type":182,"value":2195},"        'script-src-attr'",{"type":177,"tag":265,"props":2197,"children":2198},{"style":299},[2199],{"type":182,"value":302},{"type":177,"tag":265,"props":2201,"children":2202},{"style":299},[2203],{"type":182,"value":1973},{"type":177,"tag":265,"props":2205,"children":2206},{"style":1976},[2207],{"type":182,"value":863},{"type":177,"tag":265,"props":2209,"children":2210},{"style":1981},[2211],{"type":182,"value":1984},{"type":177,"tag":265,"props":2213,"children":2214},{"style":1976},[2215],{"type":182,"value":863},{"type":177,"tag":265,"props":2217,"children":2218},{"style":299},[2219],{"type":182,"value":1993},{"type":177,"tag":265,"props":2221,"children":2223},{"class":267,"line":2222},16,[2224,2229,2233,2237,2241,2245,2249,2253,2257,2261,2266,2271,2275],{"type":177,"tag":265,"props":2225,"children":2226},{"style":1826},[2227],{"type":182,"value":2228},"        'style-src'",{"type":177,"tag":265,"props":2230,"children":2231},{"style":299},[2232],{"type":182,"value":302},{"type":177,"tag":265,"props":2234,"children":2235},{"style":299},[2236],{"type":182,"value":1973},{"type":177,"tag":265,"props":2238,"children":2239},{"style":1976},[2240],{"type":182,"value":863},{"type":177,"tag":265,"props":2242,"children":2243},{"style":1981},[2244],{"type":182,"value":2019},{"type":177,"tag":265,"props":2246,"children":2247},{"style":1976},[2248],{"type":182,"value":863},{"type":177,"tag":265,"props":2250,"children":2251},{"style":299},[2252],{"type":182,"value":2028},{"type":177,"tag":265,"props":2254,"children":2255},{"style":1826},[2256],{"type":182,"value":2033},{"type":177,"tag":265,"props":2258,"children":2259},{"style":299},[2260],{"type":182,"value":2028},{"type":177,"tag":265,"props":2262,"children":2263},{"style":1976},[2264],{"type":182,"value":2265}," \"",{"type":177,"tag":265,"props":2267,"children":2268},{"style":1981},[2269],{"type":182,"value":2270},"'unsafe-inline'",{"type":177,"tag":265,"props":2272,"children":2273},{"style":1976},[2274],{"type":182,"value":863},{"type":177,"tag":265,"props":2276,"children":2277},{"style":299},[2278],{"type":182,"value":1993},{"type":177,"tag":265,"props":2280,"children":2282},{"class":267,"line":2281},17,[2283,2288,2292,2296,2300,2304,2308,2312,2316,2320,2324,2328,2332,2336,2340,2345,2349,2353,2357,2362,2366],{"type":177,"tag":265,"props":2284,"children":2285},{"style":1826},[2286],{"type":182,"value":2287},"        'script-src'",{"type":177,"tag":265,"props":2289,"children":2290},{"style":299},[2291],{"type":182,"value":302},{"type":177,"tag":265,"props":2293,"children":2294},{"style":299},[2295],{"type":182,"value":1973},{"type":177,"tag":265,"props":2297,"children":2298},{"style":1976},[2299],{"type":182,"value":863},{"type":177,"tag":265,"props":2301,"children":2302},{"style":1981},[2303],{"type":182,"value":2019},{"type":177,"tag":265,"props":2305,"children":2306},{"style":1976},[2307],{"type":182,"value":863},{"type":177,"tag":265,"props":2309,"children":2310},{"style":299},[2311],{"type":182,"value":2028},{"type":177,"tag":265,"props":2313,"children":2314},{"style":1826},[2315],{"type":182,"value":2033},{"type":177,"tag":265,"props":2317,"children":2318},{"style":299},[2319],{"type":182,"value":2028},{"type":177,"tag":265,"props":2321,"children":2322},{"style":1976},[2323],{"type":182,"value":2265},{"type":177,"tag":265,"props":2325,"children":2326},{"style":1981},[2327],{"type":182,"value":2270},{"type":177,"tag":265,"props":2329,"children":2330},{"style":1976},[2331],{"type":182,"value":863},{"type":177,"tag":265,"props":2333,"children":2334},{"style":299},[2335],{"type":182,"value":2028},{"type":177,"tag":265,"props":2337,"children":2338},{"style":1976},[2339],{"type":182,"value":2265},{"type":177,"tag":265,"props":2341,"children":2342},{"style":1981},[2343],{"type":182,"value":2344},"'strict-dynamic'",{"type":177,"tag":265,"props":2346,"children":2347},{"style":1976},[2348],{"type":182,"value":863},{"type":177,"tag":265,"props":2350,"children":2351},{"style":299},[2352],{"type":182,"value":2028},{"type":177,"tag":265,"props":2354,"children":2355},{"style":1976},[2356],{"type":182,"value":2265},{"type":177,"tag":265,"props":2358,"children":2359},{"style":1981},[2360],{"type":182,"value":2361},"'nonce-{{nonce}}'",{"type":177,"tag":265,"props":2363,"children":2364},{"style":1976},[2365],{"type":182,"value":863},{"type":177,"tag":265,"props":2367,"children":2368},{"style":299},[2369],{"type":182,"value":1993},{"type":177,"tag":265,"props":2371,"children":2373},{"class":267,"line":2372},18,[2374,2379,2383],{"type":177,"tag":265,"props":2375,"children":2376},{"style":1826},[2377],{"type":182,"value":2378},"        'upgrade-insecure-requests'",{"type":177,"tag":265,"props":2380,"children":2381},{"style":299},[2382],{"type":182,"value":302},{"type":177,"tag":265,"props":2384,"children":2385},{"style":1853},[2386],{"type":182,"value":2387}," true\n",{"type":177,"tag":265,"props":2389,"children":2391},{"class":267,"line":2390},19,[2392],{"type":177,"tag":265,"props":2393,"children":2394},{"style":299},[2395],{"type":182,"value":2396},"      },\n",{"type":177,"tag":265,"props":2398,"children":2400},{"class":267,"line":2399},20,[2401,2406,2410,2415,2421,2425],{"type":177,"tag":265,"props":2402,"children":2403},{"style":1826},[2404],{"type":182,"value":2405},"      originAgentCluster",{"type":177,"tag":265,"props":2407,"children":2408},{"style":299},[2409],{"type":182,"value":302},{"type":177,"tag":265,"props":2411,"children":2412},{"style":1826},[2413],{"type":182,"value":2414}," '?",{"type":177,"tag":265,"props":2416,"children":2418},{"style":2417},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2419],{"type":182,"value":2420},"1",{"type":177,"tag":265,"props":2422,"children":2423},{"style":1826},[2424],{"type":182,"value":322},{"type":177,"tag":265,"props":2426,"children":2427},{"style":299},[2428],{"type":182,"value":1861},{"type":177,"tag":265,"props":2430,"children":2432},{"class":267,"line":2431},21,[2433,2438,2442,2447],{"type":177,"tag":265,"props":2434,"children":2435},{"style":1826},[2436],{"type":182,"value":2437},"      referrerPolicy",{"type":177,"tag":265,"props":2439,"children":2440},{"style":299},[2441],{"type":182,"value":302},{"type":177,"tag":265,"props":2443,"children":2444},{"style":1826},[2445],{"type":182,"value":2446}," 'no-referrer'",{"type":177,"tag":265,"props":2448,"children":2449},{"style":299},[2450],{"type":182,"value":1861},{"type":177,"tag":265,"props":2452,"children":2454},{"class":267,"line":2453},22,[2455,2460,2464],{"type":177,"tag":265,"props":2456,"children":2457},{"style":1826},[2458],{"type":182,"value":2459},"      strictTransportSecurity",{"type":177,"tag":265,"props":2461,"children":2462},{"style":299},[2463],{"type":182,"value":302},{"type":177,"tag":265,"props":2465,"children":2466},{"style":299},[2467],{"type":182,"value":1838},{"type":177,"tag":265,"props":2469,"children":2471},{"class":267,"line":2470},23,[2472,2477,2481,2486],{"type":177,"tag":265,"props":2473,"children":2474},{"style":1826},[2475],{"type":182,"value":2476},"        maxAge",{"type":177,"tag":265,"props":2478,"children":2479},{"style":299},[2480],{"type":182,"value":302},{"type":177,"tag":265,"props":2482,"children":2483},{"style":2417},[2484],{"type":182,"value":2485}," 15552000",{"type":177,"tag":265,"props":2487,"children":2488},{"style":299},[2489],{"type":182,"value":1861},{"type":177,"tag":265,"props":2491,"children":2493},{"class":267,"line":2492},24,[2494,2499,2503,2508],{"type":177,"tag":265,"props":2495,"children":2496},{"style":1826},[2497],{"type":182,"value":2498},"        includeSubdomains",{"type":177,"tag":265,"props":2500,"children":2501},{"style":299},[2502],{"type":182,"value":302},{"type":177,"tag":265,"props":2504,"children":2505},{"style":1853},[2506],{"type":182,"value":2507}," true",{"type":177,"tag":265,"props":2509,"children":2510},{"style":299},[2511],{"type":182,"value":1861},{"type":177,"tag":265,"props":2513,"children":2515},{"class":267,"line":2514},25,[2516],{"type":177,"tag":265,"props":2517,"children":2518},{"style":299},[2519],{"type":182,"value":2396},{"type":177,"tag":265,"props":2521,"children":2523},{"class":267,"line":2522},26,[2524,2529,2533,2538],{"type":177,"tag":265,"props":2525,"children":2526},{"style":1826},[2527],{"type":182,"value":2528},"      xContentTypeOptions",{"type":177,"tag":265,"props":2530,"children":2531},{"style":299},[2532],{"type":182,"value":302},{"type":177,"tag":265,"props":2534,"children":2535},{"style":1826},[2536],{"type":182,"value":2537}," 'nosniff'",{"type":177,"tag":265,"props":2539,"children":2540},{"style":299},[2541],{"type":182,"value":1861},{"type":177,"tag":265,"props":2543,"children":2545},{"class":267,"line":2544},27,[2546,2551,2555,2560],{"type":177,"tag":265,"props":2547,"children":2548},{"style":1826},[2549],{"type":182,"value":2550},"      xDNSPrefetchControl",{"type":177,"tag":265,"props":2552,"children":2553},{"style":299},[2554],{"type":182,"value":302},{"type":177,"tag":265,"props":2556,"children":2557},{"style":1826},[2558],{"type":182,"value":2559}," 'off'",{"type":177,"tag":265,"props":2561,"children":2562},{"style":299},[2563],{"type":182,"value":1861},{"type":177,"tag":265,"props":2565,"children":2567},{"class":267,"line":2566},28,[2568,2573,2577,2582],{"type":177,"tag":265,"props":2569,"children":2570},{"style":1826},[2571],{"type":182,"value":2572},"      xDownloadOptions",{"type":177,"tag":265,"props":2574,"children":2575},{"style":299},[2576],{"type":182,"value":302},{"type":177,"tag":265,"props":2578,"children":2579},{"style":1826},[2580],{"type":182,"value":2581}," 'noopen'",{"type":177,"tag":265,"props":2583,"children":2584},{"style":299},[2585],{"type":182,"value":1861},{"type":177,"tag":265,"props":2587,"children":2589},{"class":267,"line":2588},29,[2590,2595,2599,2604],{"type":177,"tag":265,"props":2591,"children":2592},{"style":1826},[2593],{"type":182,"value":2594},"      xFrameOptions",{"type":177,"tag":265,"props":2596,"children":2597},{"style":299},[2598],{"type":182,"value":302},{"type":177,"tag":265,"props":2600,"children":2601},{"style":1826},[2602],{"type":182,"value":2603}," 'SAMEORIGIN'",{"type":177,"tag":265,"props":2605,"children":2606},{"style":299},[2607],{"type":182,"value":1861},{"type":177,"tag":265,"props":2609,"children":2611},{"class":267,"line":2610},30,[2612,2617,2621,2626],{"type":177,"tag":265,"props":2613,"children":2614},{"style":1826},[2615],{"type":182,"value":2616},"      xPermittedCrossDomainPolicies",{"type":177,"tag":265,"props":2618,"children":2619},{"style":299},[2620],{"type":182,"value":302},{"type":177,"tag":265,"props":2622,"children":2623},{"style":1826},[2624],{"type":182,"value":2625}," 'none'",{"type":177,"tag":265,"props":2627,"children":2628},{"style":299},[2629],{"type":182,"value":1861},{"type":177,"tag":265,"props":2631,"children":2633},{"class":267,"line":2632},31,[2634,2639,2643,2647,2652,2656],{"type":177,"tag":265,"props":2635,"children":2636},{"style":1826},[2637],{"type":182,"value":2638},"      xXSSProtection",{"type":177,"tag":265,"props":2640,"children":2641},{"style":299},[2642],{"type":182,"value":302},{"type":177,"tag":265,"props":2644,"children":2645},{"style":1826},[2646],{"type":182,"value":552},{"type":177,"tag":265,"props":2648,"children":2649},{"style":2417},[2650],{"type":182,"value":2651},"0",{"type":177,"tag":265,"props":2653,"children":2654},{"style":1826},[2655],{"type":182,"value":322},{"type":177,"tag":265,"props":2657,"children":2658},{"style":299},[2659],{"type":182,"value":1861},{"type":177,"tag":265,"props":2661,"children":2663},{"class":267,"line":2662},32,[2664,2669,2673],{"type":177,"tag":265,"props":2665,"children":2666},{"style":1826},[2667],{"type":182,"value":2668},"      permissionsPolicy",{"type":177,"tag":265,"props":2670,"children":2671},{"style":299},[2672],{"type":182,"value":302},{"type":177,"tag":265,"props":2674,"children":2675},{"style":299},[2676],{"type":182,"value":1838},{"type":177,"tag":265,"props":2678,"children":2680},{"class":267,"line":2679},33,[2681,2686,2690],{"type":177,"tag":265,"props":2682,"children":2683},{"style":1826},[2684],{"type":182,"value":2685},"        camera",{"type":177,"tag":265,"props":2687,"children":2688},{"style":299},[2689],{"type":182,"value":302},{"type":177,"tag":265,"props":2691,"children":2692},{"style":299},[2693],{"type":182,"value":2694}," [],\n",{"type":177,"tag":265,"props":2696,"children":2698},{"class":267,"line":2697},34,[2699,2704,2708],{"type":177,"tag":265,"props":2700,"children":2701},{"style":1826},[2702],{"type":182,"value":2703},"        'display-capture'",{"type":177,"tag":265,"props":2705,"children":2706},{"style":299},[2707],{"type":182,"value":302},{"type":177,"tag":265,"props":2709,"children":2710},{"style":299},[2711],{"type":182,"value":2694},{"type":177,"tag":265,"props":2713,"children":2715},{"class":267,"line":2714},35,[2716,2721,2725],{"type":177,"tag":265,"props":2717,"children":2718},{"style":1826},[2719],{"type":182,"value":2720},"        fullscreen",{"type":177,"tag":265,"props":2722,"children":2723},{"style":299},[2724],{"type":182,"value":302},{"type":177,"tag":265,"props":2726,"children":2727},{"style":299},[2728],{"type":182,"value":2694},{"type":177,"tag":265,"props":2730,"children":2732},{"class":267,"line":2731},36,[2733,2738,2742],{"type":177,"tag":265,"props":2734,"children":2735},{"style":1826},[2736],{"type":182,"value":2737},"        geolocation",{"type":177,"tag":265,"props":2739,"children":2740},{"style":299},[2741],{"type":182,"value":302},{"type":177,"tag":265,"props":2743,"children":2744},{"style":299},[2745],{"type":182,"value":2694},{"type":177,"tag":265,"props":2747,"children":2749},{"class":267,"line":2748},37,[2750,2755,2759],{"type":177,"tag":265,"props":2751,"children":2752},{"style":1826},[2753],{"type":182,"value":2754},"        microphone",{"type":177,"tag":265,"props":2756,"children":2757},{"style":299},[2758],{"type":182,"value":302},{"type":177,"tag":265,"props":2760,"children":2761},{"style":299},[2762],{"type":182,"value":2763}," []\n",{"type":177,"tag":265,"props":2765,"children":2767},{"class":267,"line":2766},38,[2768],{"type":177,"tag":265,"props":2769,"children":2770},{"style":299},[2771],{"type":182,"value":2772},"      }\n",{"type":177,"tag":265,"props":2774,"children":2776},{"class":267,"line":2775},39,[2777],{"type":177,"tag":265,"props":2778,"children":2779},{"style":299},[2780],{"type":182,"value":2781},"    },\n",{"type":177,"tag":265,"props":2783,"children":2785},{"class":267,"line":2784},40,[2786,2791,2795],{"type":177,"tag":265,"props":2787,"children":2788},{"style":1826},[2789],{"type":182,"value":2790},"    requestSizeLimiter",{"type":177,"tag":265,"props":2792,"children":2793},{"style":299},[2794],{"type":182,"value":302},{"type":177,"tag":265,"props":2796,"children":2797},{"style":299},[2798],{"type":182,"value":1838},{"type":177,"tag":265,"props":2800,"children":2802},{"class":267,"line":2801},41,[2803,2808,2812,2817],{"type":177,"tag":265,"props":2804,"children":2805},{"style":1826},[2806],{"type":182,"value":2807},"      maxRequestSizeInBytes",{"type":177,"tag":265,"props":2809,"children":2810},{"style":299},[2811],{"type":182,"value":302},{"type":177,"tag":265,"props":2813,"children":2814},{"style":2417},[2815],{"type":182,"value":2816}," 2000000",{"type":177,"tag":265,"props":2818,"children":2819},{"style":299},[2820],{"type":182,"value":1861},{"type":177,"tag":265,"props":2822,"children":2824},{"class":267,"line":2823},42,[2825,2830,2834,2839],{"type":177,"tag":265,"props":2826,"children":2827},{"style":1826},[2828],{"type":182,"value":2829},"      maxUploadFileRequestInBytes",{"type":177,"tag":265,"props":2831,"children":2832},{"style":299},[2833],{"type":182,"value":302},{"type":177,"tag":265,"props":2835,"children":2836},{"style":2417},[2837],{"type":182,"value":2838}," 8000000",{"type":177,"tag":265,"props":2840,"children":2841},{"style":299},[2842],{"type":182,"value":1861},{"type":177,"tag":265,"props":2844,"children":2846},{"class":267,"line":2845},43,[2847,2852,2856],{"type":177,"tag":265,"props":2848,"children":2849},{"style":1826},[2850],{"type":182,"value":2851},"      throwError",{"type":177,"tag":265,"props":2853,"children":2854},{"style":299},[2855],{"type":182,"value":302},{"type":177,"tag":265,"props":2857,"children":2858},{"style":1853},[2859],{"type":182,"value":2387},{"type":177,"tag":265,"props":2861,"children":2863},{"class":267,"line":2862},44,[2864],{"type":177,"tag":265,"props":2865,"children":2866},{"style":299},[2867],{"type":182,"value":2781},{"type":177,"tag":265,"props":2869,"children":2871},{"class":267,"line":2870},45,[2872,2877,2881],{"type":177,"tag":265,"props":2873,"children":2874},{"style":1826},[2875],{"type":182,"value":2876},"    rateLimiter",{"type":177,"tag":265,"props":2878,"children":2879},{"style":299},[2880],{"type":182,"value":302},{"type":177,"tag":265,"props":2882,"children":2883},{"style":299},[2884],{"type":182,"value":1838},{"type":177,"tag":265,"props":2886,"children":2888},{"class":267,"line":2887},46,[2889,2894,2898,2903],{"type":177,"tag":265,"props":2890,"children":2891},{"style":1826},[2892],{"type":182,"value":2893},"      tokensPerInterval",{"type":177,"tag":265,"props":2895,"children":2896},{"style":299},[2897],{"type":182,"value":302},{"type":177,"tag":265,"props":2899,"children":2900},{"style":2417},[2901],{"type":182,"value":2902}," 150",{"type":177,"tag":265,"props":2904,"children":2905},{"style":299},[2906],{"type":182,"value":1861},{"type":177,"tag":265,"props":2908,"children":2910},{"class":267,"line":2909},47,[2911,2916,2920,2925],{"type":177,"tag":265,"props":2912,"children":2913},{"style":1826},[2914],{"type":182,"value":2915},"      interval",{"type":177,"tag":265,"props":2917,"children":2918},{"style":299},[2919],{"type":182,"value":302},{"type":177,"tag":265,"props":2921,"children":2922},{"style":2417},[2923],{"type":182,"value":2924}," 300000",{"type":177,"tag":265,"props":2926,"children":2927},{"style":299},[2928],{"type":182,"value":1861},{"type":177,"tag":265,"props":2930,"children":2932},{"class":267,"line":2931},48,[2933,2938,2942,2946],{"type":177,"tag":265,"props":2934,"children":2935},{"style":1826},[2936],{"type":182,"value":2937},"      headers",{"type":177,"tag":265,"props":2939,"children":2940},{"style":299},[2941],{"type":182,"value":302},{"type":177,"tag":265,"props":2943,"children":2944},{"style":1853},[2945],{"type":182,"value":1856},{"type":177,"tag":265,"props":2947,"children":2948},{"style":299},[2949],{"type":182,"value":1861},{"type":177,"tag":265,"props":2951,"children":2953},{"class":267,"line":2952},49,[2954,2959,2963],{"type":177,"tag":265,"props":2955,"children":2956},{"style":1826},[2957],{"type":182,"value":2958},"      driver",{"type":177,"tag":265,"props":2960,"children":2961},{"style":299},[2962],{"type":182,"value":302},{"type":177,"tag":265,"props":2964,"children":2965},{"style":299},[2966],{"type":182,"value":1838},{"type":177,"tag":265,"props":2968,"children":2970},{"class":267,"line":2969},50,[2971,2976,2980],{"type":177,"tag":265,"props":2972,"children":2973},{"style":1826},[2974],{"type":182,"value":2975},"        name",{"type":177,"tag":265,"props":2977,"children":2978},{"style":299},[2979],{"type":182,"value":302},{"type":177,"tag":265,"props":2981,"children":2982},{"style":1826},[2983],{"type":182,"value":2984}," 'lruCache'\n",{"type":177,"tag":265,"props":2986,"children":2988},{"class":267,"line":2987},51,[2989],{"type":177,"tag":265,"props":2990,"children":2991},{"style":299},[2992],{"type":182,"value":2396},{"type":177,"tag":265,"props":2994,"children":2996},{"class":267,"line":2995},52,[2997,3001,3005],{"type":177,"tag":265,"props":2998,"children":2999},{"style":1826},[3000],{"type":182,"value":2851},{"type":177,"tag":265,"props":3002,"children":3003},{"style":299},[3004],{"type":182,"value":302},{"type":177,"tag":265,"props":3006,"children":3007},{"style":1853},[3008],{"type":182,"value":2387},{"type":177,"tag":265,"props":3010,"children":3012},{"class":267,"line":3011},53,[3013],{"type":177,"tag":265,"props":3014,"children":3015},{"style":299},[3016],{"type":182,"value":2781},{"type":177,"tag":265,"props":3018,"children":3020},{"class":267,"line":3019},54,[3021,3026,3030],{"type":177,"tag":265,"props":3022,"children":3023},{"style":1826},[3024],{"type":182,"value":3025},"    xssValidator",{"type":177,"tag":265,"props":3027,"children":3028},{"style":299},[3029],{"type":182,"value":302},{"type":177,"tag":265,"props":3031,"children":3032},{"style":299},[3033],{"type":182,"value":1838},{"type":177,"tag":265,"props":3035,"children":3037},{"class":267,"line":3036},55,[3038,3042,3046],{"type":177,"tag":265,"props":3039,"children":3040},{"style":1826},[3041],{"type":182,"value":2851},{"type":177,"tag":265,"props":3043,"children":3044},{"style":299},[3045],{"type":182,"value":302},{"type":177,"tag":265,"props":3047,"children":3048},{"style":1853},[3049],{"type":182,"value":2387},{"type":177,"tag":265,"props":3051,"children":3053},{"class":267,"line":3052},56,[3054],{"type":177,"tag":265,"props":3055,"children":3056},{"style":299},[3057],{"type":182,"value":2781},{"type":177,"tag":265,"props":3059,"children":3061},{"class":267,"line":3060},57,[3062,3067,3071],{"type":177,"tag":265,"props":3063,"children":3064},{"style":1826},[3065],{"type":182,"value":3066},"    corsHandler",{"type":177,"tag":265,"props":3068,"children":3069},{"style":299},[3070],{"type":182,"value":302},{"type":177,"tag":265,"props":3072,"children":3073},{"style":299},[3074],{"type":182,"value":1838},{"type":177,"tag":265,"props":3076,"children":3078},{"class":267,"line":3077},58,[3079,3084,3088,3093],{"type":177,"tag":265,"props":3080,"children":3081},{"style":1826},[3082],{"type":182,"value":3083},"      origin",{"type":177,"tag":265,"props":3085,"children":3086},{"style":299},[3087],{"type":182,"value":302},{"type":177,"tag":265,"props":3089,"children":3090},{"style":1826},[3091],{"type":182,"value":3092}," serverlUrl",{"type":177,"tag":265,"props":3094,"children":3095},{"style":299},[3096],{"type":182,"value":1861},{"type":177,"tag":265,"props":3098,"children":3100},{"class":267,"line":3099},59,[3101,3106,3110,3114,3119,3123,3128,3132,3137,3141,3146,3150,3155,3159,3164],{"type":177,"tag":265,"props":3102,"children":3103},{"style":1826},[3104],{"type":182,"value":3105},"      methods",{"type":177,"tag":265,"props":3107,"children":3108},{"style":299},[3109],{"type":182,"value":302},{"type":177,"tag":265,"props":3111,"children":3112},{"style":299},[3113],{"type":182,"value":1973},{"type":177,"tag":265,"props":3115,"children":3116},{"style":1826},[3117],{"type":182,"value":3118},"'GET'",{"type":177,"tag":265,"props":3120,"children":3121},{"style":299},[3122],{"type":182,"value":2028},{"type":177,"tag":265,"props":3124,"children":3125},{"style":1826},[3126],{"type":182,"value":3127}," 'HEAD'",{"type":177,"tag":265,"props":3129,"children":3130},{"style":299},[3131],{"type":182,"value":2028},{"type":177,"tag":265,"props":3133,"children":3134},{"style":1826},[3135],{"type":182,"value":3136}," 'PUT'",{"type":177,"tag":265,"props":3138,"children":3139},{"style":299},[3140],{"type":182,"value":2028},{"type":177,"tag":265,"props":3142,"children":3143},{"style":1826},[3144],{"type":182,"value":3145}," 'PATCH'",{"type":177,"tag":265,"props":3147,"children":3148},{"style":299},[3149],{"type":182,"value":2028},{"type":177,"tag":265,"props":3151,"children":3152},{"style":1826},[3153],{"type":182,"value":3154}," 'POST'",{"type":177,"tag":265,"props":3156,"children":3157},{"style":299},[3158],{"type":182,"value":2028},{"type":177,"tag":265,"props":3160,"children":3161},{"style":1826},[3162],{"type":182,"value":3163}," 'DELETE'",{"type":177,"tag":265,"props":3165,"children":3166},{"style":299},[3167],{"type":182,"value":1993},{"type":177,"tag":265,"props":3169,"children":3171},{"class":267,"line":3170},60,[3172,3177,3181],{"type":177,"tag":265,"props":3173,"children":3174},{"style":1826},[3175],{"type":182,"value":3176},"      preflight",{"type":177,"tag":265,"props":3178,"children":3179},{"style":299},[3180],{"type":182,"value":302},{"type":177,"tag":265,"props":3182,"children":3183},{"style":299},[3184],{"type":182,"value":1838},{"type":177,"tag":265,"props":3186,"children":3188},{"class":267,"line":3187},61,[3189,3194,3198],{"type":177,"tag":265,"props":3190,"children":3191},{"style":1826},[3192],{"type":182,"value":3193},"        statusCode",{"type":177,"tag":265,"props":3195,"children":3196},{"style":299},[3197],{"type":182,"value":302},{"type":177,"tag":265,"props":3199,"children":3200},{"style":2417},[3201],{"type":182,"value":3202}," 204\n",{"type":177,"tag":265,"props":3204,"children":3206},{"class":267,"line":3205},62,[3207],{"type":177,"tag":265,"props":3208,"children":3209},{"style":299},[3210],{"type":182,"value":2396},{"type":177,"tag":265,"props":3212,"children":3214},{"class":267,"line":3213},63,[3215],{"type":177,"tag":265,"props":3216,"children":3217},{"style":299},[3218],{"type":182,"value":2781},{"type":177,"tag":265,"props":3220,"children":3222},{"class":267,"line":3221},64,[3223,3228,3232],{"type":177,"tag":265,"props":3224,"children":3225},{"style":1826},[3226],{"type":182,"value":3227},"    allowedMethodsRestricter",{"type":177,"tag":265,"props":3229,"children":3230},{"style":299},[3231],{"type":182,"value":302},{"type":177,"tag":265,"props":3233,"children":3234},{"style":299},[3235],{"type":182,"value":1838},{"type":177,"tag":265,"props":3237,"children":3239},{"class":267,"line":3238},65,[3240,3244,3248,3253],{"type":177,"tag":265,"props":3241,"children":3242},{"style":1826},[3243],{"type":182,"value":3105},{"type":177,"tag":265,"props":3245,"children":3246},{"style":299},[3247],{"type":182,"value":302},{"type":177,"tag":265,"props":3249,"children":3250},{"style":1826},[3251],{"type":182,"value":3252}," '*'",{"type":177,"tag":265,"props":3254,"children":3255},{"style":299},[3256],{"type":182,"value":1861},{"type":177,"tag":265,"props":3258,"children":3260},{"class":267,"line":3259},66,[3261,3265,3269],{"type":177,"tag":265,"props":3262,"children":3263},{"style":1826},[3264],{"type":182,"value":2851},{"type":177,"tag":265,"props":3266,"children":3267},{"style":299},[3268],{"type":182,"value":302},{"type":177,"tag":265,"props":3270,"children":3271},{"style":1853},[3272],{"type":182,"value":2387},{"type":177,"tag":265,"props":3274,"children":3276},{"class":267,"line":3275},67,[3277],{"type":177,"tag":265,"props":3278,"children":3279},{"style":299},[3280],{"type":182,"value":2781},{"type":177,"tag":265,"props":3282,"children":3284},{"class":267,"line":3283},68,[3285,3290,3294,3298],{"type":177,"tag":265,"props":3286,"children":3287},{"style":1826},[3288],{"type":182,"value":3289},"    hidePoweredBy",{"type":177,"tag":265,"props":3291,"children":3292},{"style":299},[3293],{"type":182,"value":302},{"type":177,"tag":265,"props":3295,"children":3296},{"style":1853},[3297],{"type":182,"value":2507},{"type":177,"tag":265,"props":3299,"children":3300},{"style":299},[3301],{"type":182,"value":1861},{"type":177,"tag":265,"props":3303,"children":3305},{"class":267,"line":3304},69,[3306,3311,3315,3319],{"type":177,"tag":265,"props":3307,"children":3308},{"style":1826},[3309],{"type":182,"value":3310},"    basicAuth",{"type":177,"tag":265,"props":3312,"children":3313},{"style":299},[3314],{"type":182,"value":302},{"type":177,"tag":265,"props":3316,"children":3317},{"style":1853},[3318],{"type":182,"value":1856},{"type":177,"tag":265,"props":3320,"children":3321},{"style":299},[3322],{"type":182,"value":1861},{"type":177,"tag":265,"props":3324,"children":3326},{"class":267,"line":3325},70,[3327,3332,3336,3340],{"type":177,"tag":265,"props":3328,"children":3329},{"style":1826},[3330],{"type":182,"value":3331},"    enabled",{"type":177,"tag":265,"props":3333,"children":3334},{"style":299},[3335],{"type":182,"value":302},{"type":177,"tag":265,"props":3337,"children":3338},{"style":1853},[3339],{"type":182,"value":2507},{"type":177,"tag":265,"props":3341,"children":3342},{"style":299},[3343],{"type":182,"value":1861},{"type":177,"tag":265,"props":3345,"children":3347},{"class":267,"line":3346},71,[3348,3353,3357,3361],{"type":177,"tag":265,"props":3349,"children":3350},{"style":1826},[3351],{"type":182,"value":3352},"    csrf",{"type":177,"tag":265,"props":3354,"children":3355},{"style":299},[3356],{"type":182,"value":302},{"type":177,"tag":265,"props":3358,"children":3359},{"style":1853},[3360],{"type":182,"value":1856},{"type":177,"tag":265,"props":3362,"children":3363},{"style":299},[3364],{"type":182,"value":1861},{"type":177,"tag":265,"props":3366,"children":3368},{"class":267,"line":3367},72,[3369,3374,3378,3382],{"type":177,"tag":265,"props":3370,"children":3371},{"style":1826},[3372],{"type":182,"value":3373},"    nonce",{"type":177,"tag":265,"props":3375,"children":3376},{"style":299},[3377],{"type":182,"value":302},{"type":177,"tag":265,"props":3379,"children":3380},{"style":1853},[3381],{"type":182,"value":2507},{"type":177,"tag":265,"props":3383,"children":3384},{"style":299},[3385],{"type":182,"value":1861},{"type":177,"tag":265,"props":3387,"children":3389},{"class":267,"line":3388},73,[3390,3395,3399,3403],{"type":177,"tag":265,"props":3391,"children":3392},{"style":1826},[3393],{"type":182,"value":3394},"    removeLoggers",{"type":177,"tag":265,"props":3396,"children":3397},{"style":299},[3398],{"type":182,"value":302},{"type":177,"tag":265,"props":3400,"children":3401},{"style":1853},[3402],{"type":182,"value":2507},{"type":177,"tag":265,"props":3404,"children":3405},{"style":299},[3406],{"type":182,"value":1861},{"type":177,"tag":265,"props":3408,"children":3410},{"class":267,"line":3409},74,[3411,3416,3420],{"type":177,"tag":265,"props":3412,"children":3413},{"style":1826},[3414],{"type":182,"value":3415},"    ssg",{"type":177,"tag":265,"props":3417,"children":3418},{"style":299},[3419],{"type":182,"value":302},{"type":177,"tag":265,"props":3421,"children":3422},{"style":299},[3423],{"type":182,"value":1838},{"type":177,"tag":265,"props":3425,"children":3427},{"class":267,"line":3426},75,[3428,3433,3437,3441],{"type":177,"tag":265,"props":3429,"children":3430},{"style":1826},[3431],{"type":182,"value":3432},"      meta",{"type":177,"tag":265,"props":3434,"children":3435},{"style":299},[3436],{"type":182,"value":302},{"type":177,"tag":265,"props":3438,"children":3439},{"style":1853},[3440],{"type":182,"value":2507},{"type":177,"tag":265,"props":3442,"children":3443},{"style":299},[3444],{"type":182,"value":1861},{"type":177,"tag":265,"props":3446,"children":3448},{"class":267,"line":3447},76,[3449,3454,3458,3462],{"type":177,"tag":265,"props":3450,"children":3451},{"style":1826},[3452],{"type":182,"value":3453},"      hashScripts",{"type":177,"tag":265,"props":3455,"children":3456},{"style":299},[3457],{"type":182,"value":302},{"type":177,"tag":265,"props":3459,"children":3460},{"style":1853},[3461],{"type":182,"value":2507},{"type":177,"tag":265,"props":3463,"children":3464},{"style":299},[3465],{"type":182,"value":1861},{"type":177,"tag":265,"props":3467,"children":3469},{"class":267,"line":3468},77,[3470,3475,3479,3483],{"type":177,"tag":265,"props":3471,"children":3472},{"style":1826},[3473],{"type":182,"value":3474},"      hashStyles",{"type":177,"tag":265,"props":3476,"children":3477},{"style":299},[3478],{"type":182,"value":302},{"type":177,"tag":265,"props":3480,"children":3481},{"style":1853},[3482],{"type":182,"value":1856},{"type":177,"tag":265,"props":3484,"children":3485},{"style":299},[3486],{"type":182,"value":1861},{"type":177,"tag":265,"props":3488,"children":3490},{"class":267,"line":3489},78,[3491,3496,3500,3504],{"type":177,"tag":265,"props":3492,"children":3493},{"style":1826},[3494],{"type":182,"value":3495},"      nitroHeaders",{"type":177,"tag":265,"props":3497,"children":3498},{"style":299},[3499],{"type":182,"value":302},{"type":177,"tag":265,"props":3501,"children":3502},{"style":1853},[3503],{"type":182,"value":2507},{"type":177,"tag":265,"props":3505,"children":3506},{"style":299},[3507],{"type":182,"value":1861},{"type":177,"tag":265,"props":3509,"children":3511},{"class":267,"line":3510},79,[3512,3517,3521,3525],{"type":177,"tag":265,"props":3513,"children":3514},{"style":1826},[3515],{"type":182,"value":3516},"      exportToPresets",{"type":177,"tag":265,"props":3518,"children":3519},{"style":299},[3520],{"type":182,"value":302},{"type":177,"tag":265,"props":3522,"children":3523},{"style":1853},[3524],{"type":182,"value":2507},{"type":177,"tag":265,"props":3526,"children":3527},{"style":299},[3528],{"type":182,"value":1861},{"type":177,"tag":265,"props":3530,"children":3532},{"class":267,"line":3531},80,[3533],{"type":177,"tag":265,"props":3534,"children":3535},{"style":299},[3536],{"type":182,"value":2781},{"type":177,"tag":265,"props":3538,"children":3540},{"class":267,"line":3539},81,[3541,3546,3550],{"type":177,"tag":265,"props":3542,"children":3543},{"style":1826},[3544],{"type":182,"value":3545},"    sri",{"type":177,"tag":265,"props":3547,"children":3548},{"style":299},[3549],{"type":182,"value":302},{"type":177,"tag":265,"props":3551,"children":3552},{"style":1853},[3553],{"type":182,"value":2387},{"type":177,"tag":265,"props":3555,"children":3557},{"class":267,"line":3556},82,[3558],{"type":177,"tag":265,"props":3559,"children":3560},{"style":299},[3561],{"type":182,"value":3562},"  }\n",{"type":177,"tag":265,"props":3564,"children":3566},{"class":267,"line":3565},83,[3567],{"type":177,"tag":265,"props":3568,"children":3569},{"style":299},[3570],{"type":182,"value":3571},"}\n",{"type":177,"tag":178,"props":3573,"children":3574},{},[3575],{"type":182,"value":3576},"配置优先级符合 Nuxt Module，最低是默认配置，然后是 inline 模块配置，再是 nuxt.config.ts 中单独的 security 字段配置，之后是 routeRule.security 字段配置，最后是运行时中间件配置。",{"type":177,"tag":3578,"props":3579,"children":3580},"style",{},[3581],{"type":182,"value":3582},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":166,"searchDepth":922,"depth":922,"links":3584},[3585,3586,3595,3596,3597],{"id":198,"depth":922,"text":198},{"id":222,"depth":922,"text":222,"children":3587},[3588,3589,3590,3591,3592,3593,3594],{"id":228,"depth":1071,"text":231},{"id":1001,"depth":1071,"text":1004},{"id":1163,"depth":1071,"text":1163},{"id":1354,"depth":1071,"text":1354},{"id":1652,"depth":1071,"text":1652},{"id":1667,"depth":1071,"text":1670},{"id":1729,"depth":1071,"text":1729},{"id":1739,"depth":922,"text":1739},{"id":1774,"depth":922,"text":1774},{"id":1796,"depth":922,"text":1796},"markdown","content:6.maps:_fe-framework:nuxt:module:nuxt-security.md","content","6.maps/_fe-framework/nuxt/module/nuxt-security.md","6.maps/_fe-framework/nuxt/module/nuxt-security","md",[3605,3608],{"_path":43,"title":3606,"description":3607},"Blockies Animation","Designed for performance, ease of use, and seamless integration into any modern project.",{"_path":3609,"title":3610,"description":3611},"/maps/_fe-framework/nuxt/nuxt","Nuxt","Nuxt 是一个基于 Vue.js 全栈框架",1749721435146]