[{"data":1,"prerenderedAt":3610},["ShallowReactive",2],{"navigation":3,"/maps/_fe-framework/nuxt/module/nuxt-security":158,"/maps/_fe-framework/nuxt/module/nuxt-security-surround":3601},[4,35,89,95,122,128,152],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🌪️ Tailwind v4 如何兼容预处理器","/articles/tailwind4-with-sass",{"title":45,"_path":46},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":48,"_path":49},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":51,"_path":52},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":54,"_path":55},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":57,"_path":58},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":60,"_path":61},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":63,"_path":64},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":66,"_path":67},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":69,"_path":70},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":72,"_path":73},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":75,"_path":76},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":78,"_path":79},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":81,"_path":82},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":84,"_path":85},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":87,"_path":88},"📝 技术博客归档","/articles/archive",{"title":90,"_path":91,"children":92},"读书笔记 / Notes","/books",[93],{"title":94,"_path":91},"📕 读书笔记",{"title":96,"_path":97,"children":98},"吉他剧场 / Music","/music",[99,101,104,107,110,113,116,119],{"title":100,"_path":97},"🎸 FingerStyle！",{"title":102,"_path":103},"🌬️ 等待的风","/music/wind",{"title":105,"_path":106},"💕 约定的海洋","/music/ocean",{"title":108,"_path":109},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":111,"_path":112},"🌏 残酷天使的行动纲领","/music/eva",{"title":114,"_path":115},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":117,"_path":118},"🍷 Wu Wei","/music/wu-wei",{"title":120,"_path":121},"🌅 无题","/music/untitled",{"title":123,"_path":124,"children":125},"知识地图 / Maps","/maps",[126],{"title":127,"_path":124},"🏁 知识地图",{"title":129,"_path":130,"children":131},"造物 / Make","/tools",[132,134,137,140,143,146,149],{"title":133,"_path":130},"🧰 工具收集",{"title":135,"_path":136},"📕 博客","/tools/blog",{"title":138,"_path":139},"🥥 Coconut","/tools/coconut",{"title":141,"_path":142},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":144,"_path":145},"🌐 AnySort","/tools/anysort",{"title":147,"_path":148},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":150,"_path":151},"👓 Crapto","/tools/crypto-inline",{"title":153,"_path":154,"children":155},"我 / About","/hire",[156],{"title":157,"_path":154},"📬 技术简历",{"_path":159,"_dir":160,"_draft":161,"_partial":162,"_locale":163,"title":164,"description":165,"meta":166,"body":170,"_type":3595,"_id":3596,"_source":3597,"_file":3598,"_stem":3599,"_extension":3600},"/maps/_fe-framework/nuxt/module/nuxt-security","module",false,true,"","Nuxt Security","自动通过使用 HTTP 头和中间件配置您的应用程序遵循 OWASP 安全模式和原则",[167],{"name":168,"content":169},"source","www.lionad.art/maps/_fe-framework/nuxt/module/nuxt-security",{"type":171,"children":172,"toc":3580},"root",[173,192,198,212,217,222,229,240,245,250,665,685,690,702,707,739,747,752,757,817,822,991,996,1002,1016,1021,1139,1144,1158,1163,1175,1180,1188,1193,1198,1206,1219,1349,1354,1359,1364,1369,1374,1379,1400,1405,1639,1647,1652,1657,1662,1668,1673,1716,1724,1729,1734,1739,1744,1749,1754,1759,1764,1769,1774,1779,1791,1796,1801,3569,3574],{"type":174,"tag":175,"props":176,"children":177},"element","p",{},[178,181,190],{"type":179,"value":180},"text","文章使用 AI 辅助创作，原文地址见 ",{"type":174,"tag":182,"props":183,"children":187},"a",{"href":184,"rel":185},"https://www.lionad.art/maps/_fe-framework/nuxt/module/nuxt-security",[186],"nofollow",[188],{"type":179,"value":189},"Read Nuxt Security",{"type":179,"value":191},"。",{"type":174,"tag":193,"props":194,"children":196},"h2",{"id":195},"简介",[197],{"type":179,"value":195},{"type":174,"tag":175,"props":199,"children":200},{},[201,203,210],{"type":179,"value":202},"提到 Web 应用程序安全，大部分人会第一时间想到同源跨域又或是 XSS、CSRF，但其实 Web 安全是一个庞大话题，而 XSS、CSRF 只是两种常被讨论的攻击方式。如果想进一步学习 Web 安全相关知识，就不得不提各种浏览器 API，以及 CSP、SRI 等现代标准，更甚是 ",{"type":174,"tag":182,"props":204,"children":207},{"href":205,"rel":206},"https://www.maxai.co/share?id=7591d3876a80e48362f35f5eeacbb3764356f89776cea4f34dbf29f5",[186],[208],{"type":179,"value":209},"OWASP",{"type":179,"value":211}," 等组织的活动。OWASP 是一个全球性的非营利组织，旨在提高 Web 应用程序的安全性。OWASP 提供了大量免费且公开的工具、资源、文档和最佳实践，帮助开发人员、企业和安全从业者识别和应对软件安全风险。",{"type":174,"tag":175,"props":213,"children":214},{},[215],{"type":179,"value":216},"而 Nuxt Security 为 Nuxt 应用程序提供了一个接近开箱即用的插件方案，自动通过配置请求头和 Nuxt 中间件，为应用程度设置遵循 OWASP 安全模式和原则的安全策略，其中就包含各标准的实践。相比同类竞品 Nuxt Helmet，Nuxt Security 包更广的实践和策略深度。其内容大致分为四类：协议安全（请求头）、中间件（限速插件等）、插件辅助（移除日志等）和最佳实践。以下详细介绍各个大类的作用以及策略的机理。",{"type":174,"tag":193,"props":218,"children":220},{"id":219},"协议安全",[221],{"type":179,"value":219},{"type":174,"tag":223,"props":224,"children":226},"h3",{"id":225},"csp",[227],{"type":179,"value":228},"CSP",{"type":174,"tag":175,"props":230,"children":231},{},[232,238],{"type":174,"tag":182,"props":233,"children":235},{"href":205,"rel":234},[186],[236],{"type":179,"value":237},"内容安全策略（CSP）",{"type":179,"value":239}," 是一种网络安全机制，允许开发者限制网页加载的资源来降低客户端侧的安全风险。",{"type":174,"tag":175,"props":241,"children":242},{},[243],{"type":179,"value":244},"例如 JavaScript 文件、样式表、图片、字体等资源，如果内容来源没有被明确声明，那浏览器就会阻止其加载和执行，以防恶意代码，所以这可以减轻跨站脚本（XSS）漏洞、点击劫持、表单劫持、恶意框架、不想要的跟踪器以及其他网络客户端攻击。",{"type":174,"tag":175,"props":246,"children":247},{},[248],{"type":179,"value":249},"形式上，CSP 可以通过请求头来配置，比如 Nuxt Security 的默认设置就是：",{"type":174,"tag":251,"props":252,"children":256},"pre",{"code":253,"language":254,"meta":163,"className":255,"style":163},"Content-Security-Policy: base-uri 'none'; font-src 'self' https: data:; form-action 'self'; img-src 'self' data:; object-src 'none'; script-src-attr 'none'; style-src 'self' https: 'unsafe-inline'; script-src 'self' https: 'unsafe-inline' 'strict-dynamic' 'nonce-{{nonce}}'; upgrade-insecure-requests;\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[257],{"type":174,"tag":258,"props":259,"children":260},"code",{"__ignoreMap":163},[261],{"type":174,"tag":262,"props":263,"children":266},"span",{"class":264,"line":265},"line",1,[267,273,279,284,288,294,300,305,309,314,320,326,330,335,340,344,349,353,358,362,367,371,376,381,386,390,395,399,403,407,411,416,420,424,428,432,436,440,444,449,453,457,461,465,469,473,478,482,487,491,496,500,504,508,512,517,521,525,529,533,537,541,545,550,555,559,563,567,571,575,579,583,587,591,595,599,603,607,611,616,620,624,629,633,637,642,646,651,655,660],{"type":174,"tag":262,"props":268,"children":270},{"style":269},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[271],{"type":179,"value":272},"Content",{"type":174,"tag":262,"props":274,"children":276},{"style":275},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[277],{"type":179,"value":278},"-",{"type":174,"tag":262,"props":280,"children":281},{"style":269},[282],{"type":179,"value":283},"Security",{"type":174,"tag":262,"props":285,"children":286},{"style":275},[287],{"type":179,"value":278},{"type":174,"tag":262,"props":289,"children":291},{"style":290},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2",[292],{"type":179,"value":293},"Policy",{"type":174,"tag":262,"props":295,"children":297},{"style":296},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[298],{"type":179,"value":299},":",{"type":174,"tag":262,"props":301,"children":302},{"style":269},[303],{"type":179,"value":304}," base",{"type":174,"tag":262,"props":306,"children":307},{"style":275},[308],{"type":179,"value":278},{"type":174,"tag":262,"props":310,"children":311},{"style":269},[312],{"type":179,"value":313},"uri ",{"type":174,"tag":262,"props":315,"children":317},{"style":316},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[318],{"type":179,"value":319},"'",{"type":174,"tag":262,"props":321,"children":323},{"style":322},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[324],{"type":179,"value":325},"none",{"type":174,"tag":262,"props":327,"children":328},{"style":316},[329],{"type":179,"value":319},{"type":174,"tag":262,"props":331,"children":332},{"style":296},[333],{"type":179,"value":334},";",{"type":174,"tag":262,"props":336,"children":337},{"style":269},[338],{"type":179,"value":339}," font",{"type":174,"tag":262,"props":341,"children":342},{"style":275},[343],{"type":179,"value":278},{"type":174,"tag":262,"props":345,"children":346},{"style":269},[347],{"type":179,"value":348},"src ",{"type":174,"tag":262,"props":350,"children":351},{"style":316},[352],{"type":179,"value":319},{"type":174,"tag":262,"props":354,"children":355},{"style":322},[356],{"type":179,"value":357},"self",{"type":174,"tag":262,"props":359,"children":360},{"style":316},[361],{"type":179,"value":319},{"type":174,"tag":262,"props":363,"children":364},{"style":290},[365],{"type":179,"value":366}," https",{"type":174,"tag":262,"props":368,"children":369},{"style":296},[370],{"type":179,"value":299},{"type":174,"tag":262,"props":372,"children":373},{"style":290},[374],{"type":179,"value":375}," data",{"type":174,"tag":262,"props":377,"children":378},{"style":296},[379],{"type":179,"value":380},":;",{"type":174,"tag":262,"props":382,"children":383},{"style":269},[384],{"type":179,"value":385}," form",{"type":174,"tag":262,"props":387,"children":388},{"style":275},[389],{"type":179,"value":278},{"type":174,"tag":262,"props":391,"children":392},{"style":269},[393],{"type":179,"value":394},"action ",{"type":174,"tag":262,"props":396,"children":397},{"style":316},[398],{"type":179,"value":319},{"type":174,"tag":262,"props":400,"children":401},{"style":322},[402],{"type":179,"value":357},{"type":174,"tag":262,"props":404,"children":405},{"style":316},[406],{"type":179,"value":319},{"type":174,"tag":262,"props":408,"children":409},{"style":296},[410],{"type":179,"value":334},{"type":174,"tag":262,"props":412,"children":413},{"style":269},[414],{"type":179,"value":415}," img",{"type":174,"tag":262,"props":417,"children":418},{"style":275},[419],{"type":179,"value":278},{"type":174,"tag":262,"props":421,"children":422},{"style":269},[423],{"type":179,"value":348},{"type":174,"tag":262,"props":425,"children":426},{"style":316},[427],{"type":179,"value":319},{"type":174,"tag":262,"props":429,"children":430},{"style":322},[431],{"type":179,"value":357},{"type":174,"tag":262,"props":433,"children":434},{"style":316},[435],{"type":179,"value":319},{"type":174,"tag":262,"props":437,"children":438},{"style":290},[439],{"type":179,"value":375},{"type":174,"tag":262,"props":441,"children":442},{"style":296},[443],{"type":179,"value":380},{"type":174,"tag":262,"props":445,"children":446},{"style":269},[447],{"type":179,"value":448}," object",{"type":174,"tag":262,"props":450,"children":451},{"style":275},[452],{"type":179,"value":278},{"type":174,"tag":262,"props":454,"children":455},{"style":269},[456],{"type":179,"value":348},{"type":174,"tag":262,"props":458,"children":459},{"style":316},[460],{"type":179,"value":319},{"type":174,"tag":262,"props":462,"children":463},{"style":322},[464],{"type":179,"value":325},{"type":174,"tag":262,"props":466,"children":467},{"style":316},[468],{"type":179,"value":319},{"type":174,"tag":262,"props":470,"children":471},{"style":296},[472],{"type":179,"value":334},{"type":174,"tag":262,"props":474,"children":475},{"style":269},[476],{"type":179,"value":477}," script",{"type":174,"tag":262,"props":479,"children":480},{"style":275},[481],{"type":179,"value":278},{"type":174,"tag":262,"props":483,"children":484},{"style":269},[485],{"type":179,"value":486},"src",{"type":174,"tag":262,"props":488,"children":489},{"style":275},[490],{"type":179,"value":278},{"type":174,"tag":262,"props":492,"children":493},{"style":269},[494],{"type":179,"value":495},"attr ",{"type":174,"tag":262,"props":497,"children":498},{"style":316},[499],{"type":179,"value":319},{"type":174,"tag":262,"props":501,"children":502},{"style":322},[503],{"type":179,"value":325},{"type":174,"tag":262,"props":505,"children":506},{"style":316},[507],{"type":179,"value":319},{"type":174,"tag":262,"props":509,"children":510},{"style":296},[511],{"type":179,"value":334},{"type":174,"tag":262,"props":513,"children":514},{"style":269},[515],{"type":179,"value":516}," style",{"type":174,"tag":262,"props":518,"children":519},{"style":275},[520],{"type":179,"value":278},{"type":174,"tag":262,"props":522,"children":523},{"style":269},[524],{"type":179,"value":348},{"type":174,"tag":262,"props":526,"children":527},{"style":316},[528],{"type":179,"value":319},{"type":174,"tag":262,"props":530,"children":531},{"style":322},[532],{"type":179,"value":357},{"type":174,"tag":262,"props":534,"children":535},{"style":316},[536],{"type":179,"value":319},{"type":174,"tag":262,"props":538,"children":539},{"style":290},[540],{"type":179,"value":366},{"type":174,"tag":262,"props":542,"children":543},{"style":296},[544],{"type":179,"value":299},{"type":174,"tag":262,"props":546,"children":547},{"style":316},[548],{"type":179,"value":549}," '",{"type":174,"tag":262,"props":551,"children":552},{"style":322},[553],{"type":179,"value":554},"unsafe-inline",{"type":174,"tag":262,"props":556,"children":557},{"style":316},[558],{"type":179,"value":319},{"type":174,"tag":262,"props":560,"children":561},{"style":296},[562],{"type":179,"value":334},{"type":174,"tag":262,"props":564,"children":565},{"style":269},[566],{"type":179,"value":477},{"type":174,"tag":262,"props":568,"children":569},{"style":275},[570],{"type":179,"value":278},{"type":174,"tag":262,"props":572,"children":573},{"style":269},[574],{"type":179,"value":348},{"type":174,"tag":262,"props":576,"children":577},{"style":316},[578],{"type":179,"value":319},{"type":174,"tag":262,"props":580,"children":581},{"style":322},[582],{"type":179,"value":357},{"type":174,"tag":262,"props":584,"children":585},{"style":316},[586],{"type":179,"value":319},{"type":174,"tag":262,"props":588,"children":589},{"style":290},[590],{"type":179,"value":366},{"type":174,"tag":262,"props":592,"children":593},{"style":296},[594],{"type":179,"value":299},{"type":174,"tag":262,"props":596,"children":597},{"style":316},[598],{"type":179,"value":549},{"type":174,"tag":262,"props":600,"children":601},{"style":322},[602],{"type":179,"value":554},{"type":174,"tag":262,"props":604,"children":605},{"style":316},[606],{"type":179,"value":319},{"type":174,"tag":262,"props":608,"children":609},{"style":316},[610],{"type":179,"value":549},{"type":174,"tag":262,"props":612,"children":613},{"style":322},[614],{"type":179,"value":615},"strict-dynamic",{"type":174,"tag":262,"props":617,"children":618},{"style":316},[619],{"type":179,"value":319},{"type":174,"tag":262,"props":621,"children":622},{"style":316},[623],{"type":179,"value":549},{"type":174,"tag":262,"props":625,"children":626},{"style":322},[627],{"type":179,"value":628},"nonce-{{nonce}}",{"type":174,"tag":262,"props":630,"children":631},{"style":316},[632],{"type":179,"value":319},{"type":174,"tag":262,"props":634,"children":635},{"style":296},[636],{"type":179,"value":334},{"type":174,"tag":262,"props":638,"children":639},{"style":269},[640],{"type":179,"value":641}," upgrade",{"type":174,"tag":262,"props":643,"children":644},{"style":275},[645],{"type":179,"value":278},{"type":174,"tag":262,"props":647,"children":648},{"style":269},[649],{"type":179,"value":650},"insecure",{"type":174,"tag":262,"props":652,"children":653},{"style":275},[654],{"type":179,"value":278},{"type":174,"tag":262,"props":656,"children":657},{"style":269},[658],{"type":179,"value":659},"requests",{"type":174,"tag":262,"props":661,"children":662},{"style":296},[663],{"type":179,"value":664},";\n",{"type":174,"tag":175,"props":666,"children":667},{},[668,670,676,678,683],{"type":179,"value":669},"初看很复杂，但具体内容可以按分号拆分为不同的小块。比如 ",{"type":174,"tag":671,"props":672,"children":673},"strong",{},[674],{"type":179,"value":675},"base-uri 'none'",{"type":179,"value":677},"：限制了文档的 base 标签来源。'none'表示不允许设置或继承任何基础 URI，防止修改文档资源定位。类似的，",{"type":174,"tag":671,"props":679,"children":680},{},[681],{"type":179,"value":682},"img-src",{"type":179,"value":684}," 中的 'data:' 表示允许通过 Data URL 的方式嵌入图片，'self' 表示只能根据同源策略加载图片。",{"type":174,"tag":175,"props":686,"children":687},{},[688],{"type":179,"value":689},"配置中最后那个 CSP 策略是 upgrade-insecure-requests，将会自动升级页面中所有非安全（HTTP）链接为 HTTPS，这对保护混合内容攻击非常有用。",{"type":174,"tag":175,"props":691,"children":692},{},[693,695,700],{"type":179,"value":694},"其他配置里较为特别的是 ",{"type":174,"tag":671,"props":696,"children":697},{},[698],{"type":179,"value":699},"script-src-attr",{"type":179,"value":701},"，使用 'none' 可以禁止在脚本的标签属性中使用如 onclick=\"...\" 等内联脚本。这些不同策略中，script 和 style 都包含 https: 'unsafe-inline' 策略，也就是允许内联脚本和内联样式。内联脚本搭配了 nonce 策略提高安全性，这下面详细介绍，那内联样式为什么也会作为一个安全选项呢？",{"type":174,"tag":175,"props":703,"children":704},{},[705],{"type":179,"value":706},"假设攻击者通过漏洞注入了 HTML 或样式代码，尽管不是脚本，但这些注入的内容也可以成为攻击载体，比如注入的表单允许将用户名密码发送到其他服务器（当然这是可验证但听起来不切实际的例子）。只不过内联样式作为一种禁用掉就会让大部分网站样式瘫痪的运行方式，Nuxt Security 默认配置允许内联样式。",{"type":174,"tag":175,"props":708,"children":709},{},[710,712,719,721,728,730,737],{"type":179,"value":711},"关于样式代码的攻击方式可以参考 ",{"type":174,"tag":182,"props":713,"children":716},{"href":714,"rel":715},"https://mikewest.org/2013/09/xss-no-the-other-s-cssconfeu-2013/",[186],[717],{"type":179,"value":718},"2013 年 Mike West 的演讲",{"type":179,"value":720},"，其中介绍了一些有趣的攻击方式，比如 Firefox 有个漏洞可以允许注入的样式通过正则匹配文档 URL 然后配合 ",{"type":174,"tag":182,"props":722,"children":725},{"href":723,"rel":724},"https://www.mike-gualtieri.com/posts/stealing-data-with-css-attack-and-defense",[186],[726],{"type":179,"value":727},"CSS Exfil",{"type":179,"value":729}," 发送请求来获取用户 URL Query 中一些敏感信息。题外话，前几年有个很火的项目叫 ",{"type":174,"tag":182,"props":731,"children":734},{"href":732,"rel":733},"https://github.com/kkuchta/css-only-chat",[186],[735],{"type":179,"value":736},"Pure CSS Chatroom",{"type":179,"value":738},"，纯 CSS 实现的聊天室功能，就是通过此类方式实现的。",{"type":174,"tag":175,"props":740,"children":741},{},[742],{"type":174,"tag":743,"props":744,"children":746},"img",{"alt":163,"src":745},"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/202504040521520.png",[],{"type":174,"tag":175,"props":748,"children":749},{},[750],{"type":179,"value":751},"内联脚本则是 XSS 攻击的重灾区，但是单纯禁用内联脚本也不太行，所以 CSP 2（2016）引入了 nonce 策论。也就是上文配置中的“https: 'strict-dynamic' 'nonce-xxx'”。允许开发者在脚本标签中添加一个随机生成的 nonce 值，浏览器会检查这个值是否和 CSP 中的 nonce 值匹配，如果匹配就允许执行。这样就可以在不禁用内联脚本的情况下提高安全性。",{"type":174,"tag":175,"props":753,"children":754},{},[755],{"type":179,"value":756},"假设服务器给 HTML 设置了如下请求头：",{"type":174,"tag":251,"props":758,"children":760},{"code":759,"language":254,"meta":163,"className":255,"style":163},"Content-Security-Policy: script-src 'nonce-my-site-random-int'\n",[761],{"type":174,"tag":258,"props":762,"children":763},{"__ignoreMap":163},[764],{"type":174,"tag":262,"props":765,"children":766},{"class":264,"line":265},[767,771,775,779,783,787,791,795,799,803,807,812],{"type":174,"tag":262,"props":768,"children":769},{"style":269},[770],{"type":179,"value":272},{"type":174,"tag":262,"props":772,"children":773},{"style":275},[774],{"type":179,"value":278},{"type":174,"tag":262,"props":776,"children":777},{"style":269},[778],{"type":179,"value":283},{"type":174,"tag":262,"props":780,"children":781},{"style":275},[782],{"type":179,"value":278},{"type":174,"tag":262,"props":784,"children":785},{"style":290},[786],{"type":179,"value":293},{"type":174,"tag":262,"props":788,"children":789},{"style":296},[790],{"type":179,"value":299},{"type":174,"tag":262,"props":792,"children":793},{"style":269},[794],{"type":179,"value":477},{"type":174,"tag":262,"props":796,"children":797},{"style":275},[798],{"type":179,"value":278},{"type":174,"tag":262,"props":800,"children":801},{"style":269},[802],{"type":179,"value":348},{"type":174,"tag":262,"props":804,"children":805},{"style":316},[806],{"type":179,"value":319},{"type":174,"tag":262,"props":808,"children":809},{"style":322},[810],{"type":179,"value":811},"nonce-my-site-random-int",{"type":174,"tag":262,"props":813,"children":814},{"style":316},[815],{"type":179,"value":816},"'\n",{"type":174,"tag":175,"props":818,"children":819},{},[820],{"type":179,"value":821},"那么以下两段脚本，只有 nonce 值匹配的那段会执行。如果你去观察 Twitter 等网站的页面代码，就会发现这些网站的脚本标签中都包含了 nonce 值。而就算是动态脚本，也可以通过 nonce 值来保证其安全性。",{"type":174,"tag":251,"props":823,"children":827},{"code":824,"language":825,"meta":163,"className":826,"style":163},"\u003Cscript nonce=\"nonce-my-site-random-int\">alert('Hello, world!');\u003C/script>\n\u003Cscript nonce=\"xyz456\">alert('not allowed');\u003C/script>\n","html","language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai",[828],{"type":174,"tag":258,"props":829,"children":830},{"__ignoreMap":163},[831,917],{"type":174,"tag":262,"props":832,"children":833},{"class":264,"line":265},[834,839,845,851,856,861,865,869,874,880,885,889,894,898,903,908,912],{"type":174,"tag":262,"props":835,"children":836},{"style":296},[837],{"type":179,"value":838},"\u003C",{"type":174,"tag":262,"props":840,"children":842},{"style":841},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[843],{"type":179,"value":844},"script",{"type":174,"tag":262,"props":846,"children":848},{"style":847},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[849],{"type":179,"value":850}," nonce",{"type":174,"tag":262,"props":852,"children":853},{"style":296},[854],{"type":179,"value":855},"=",{"type":174,"tag":262,"props":857,"children":858},{"style":316},[859],{"type":179,"value":860},"\"",{"type":174,"tag":262,"props":862,"children":863},{"style":322},[864],{"type":179,"value":811},{"type":174,"tag":262,"props":866,"children":867},{"style":316},[868],{"type":179,"value":860},{"type":174,"tag":262,"props":870,"children":871},{"style":296},[872],{"type":179,"value":873},">",{"type":174,"tag":262,"props":875,"children":877},{"style":876},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[878],{"type":179,"value":879},"alert",{"type":174,"tag":262,"props":881,"children":882},{"style":269},[883],{"type":179,"value":884},"(",{"type":174,"tag":262,"props":886,"children":887},{"style":316},[888],{"type":179,"value":319},{"type":174,"tag":262,"props":890,"children":891},{"style":322},[892],{"type":179,"value":893},"Hello, world!",{"type":174,"tag":262,"props":895,"children":896},{"style":316},[897],{"type":179,"value":319},{"type":174,"tag":262,"props":899,"children":900},{"style":269},[901],{"type":179,"value":902},")",{"type":174,"tag":262,"props":904,"children":905},{"style":296},[906],{"type":179,"value":907},";\u003C/",{"type":174,"tag":262,"props":909,"children":910},{"style":841},[911],{"type":179,"value":844},{"type":174,"tag":262,"props":913,"children":914},{"style":296},[915],{"type":179,"value":916},">\n",{"type":174,"tag":262,"props":918,"children":920},{"class":264,"line":919},2,[921,925,929,933,937,941,946,950,954,958,962,966,971,975,979,983,987],{"type":174,"tag":262,"props":922,"children":923},{"style":296},[924],{"type":179,"value":838},{"type":174,"tag":262,"props":926,"children":927},{"style":841},[928],{"type":179,"value":844},{"type":174,"tag":262,"props":930,"children":931},{"style":847},[932],{"type":179,"value":850},{"type":174,"tag":262,"props":934,"children":935},{"style":296},[936],{"type":179,"value":855},{"type":174,"tag":262,"props":938,"children":939},{"style":316},[940],{"type":179,"value":860},{"type":174,"tag":262,"props":942,"children":943},{"style":322},[944],{"type":179,"value":945},"xyz456",{"type":174,"tag":262,"props":947,"children":948},{"style":316},[949],{"type":179,"value":860},{"type":174,"tag":262,"props":951,"children":952},{"style":296},[953],{"type":179,"value":873},{"type":174,"tag":262,"props":955,"children":956},{"style":876},[957],{"type":179,"value":879},{"type":174,"tag":262,"props":959,"children":960},{"style":269},[961],{"type":179,"value":884},{"type":174,"tag":262,"props":963,"children":964},{"style":316},[965],{"type":179,"value":319},{"type":174,"tag":262,"props":967,"children":968},{"style":322},[969],{"type":179,"value":970},"not allowed",{"type":174,"tag":262,"props":972,"children":973},{"style":316},[974],{"type":179,"value":319},{"type":174,"tag":262,"props":976,"children":977},{"style":269},[978],{"type":179,"value":902},{"type":174,"tag":262,"props":980,"children":981},{"style":296},[982],{"type":179,"value":907},{"type":174,"tag":262,"props":984,"children":985},{"style":841},[986],{"type":179,"value":844},{"type":174,"tag":262,"props":988,"children":989},{"style":296},[990],{"type":179,"value":916},{"type":174,"tag":175,"props":992,"children":993},{},[994],{"type":179,"value":995},"'strict-dynamic' 是 nonce 在 CSP 3（2018）带来的细化。在 Nuxt Security 插件中，对于 SSR 网站而言，服务器会给客户端传输非常多动态内容，所以给这些动态内容设置不同的 nonce 值是有必要的，可以保证就算 nonce 泄露给了第三方插件，也不会有什么影响。而 SSG 网站通常通过 HTTP 请求来获取数据，所以 nonce 值会在打包时生成，所以无需关心动态脚本的问题。",{"type":174,"tag":223,"props":997,"children":999},{"id":998},"sri",[1000],{"type":179,"value":1001},"SRI",{"type":174,"tag":175,"props":1003,"children":1004},{},[1005,1007,1014],{"type":179,"value":1006},"此外，静态站点在 Nuxt Security 中还默认包含 SRI（子资源完整性策论）。其规范见 ",{"type":174,"tag":182,"props":1008,"children":1011},{"href":1009,"rel":1010},"http://www.w3.org/TR/2016/REC-SRI-20160623/",[186],[1012],{"type":179,"value":1013},"SubResource Integrity W3C Recommendation 23 June 2016",{"type":179,"value":1015},"，通过在脚本和样式标签中添加文件哈希来验证文件内容正确性，因为尽管使用 HTTPS 可以保证链接建立及通讯的相对安全性，却不能保证服务器传输了正确文件。攻击者有未知或经验证手段（如 DNS 污染技术）使用户下载伪造的内容。",{"type":174,"tag":175,"props":1017,"children":1018},{},[1019],{"type":179,"value":1020},"例如，下面代码使用了一个包含 integrity 属性的 script 标签。使用 SRI 后，浏览器会在下载文件后计算其哈希值，并与 integrity 属性中的值进行比较。如果两者不匹配，浏览器将拒绝加载该文件。其中 crossorigin=\"anonymous\" 使浏览器以匿名模式加载该资源，即在请求时不发送用户凭据（如 cookies 或身份认证信息）。",{"type":174,"tag":251,"props":1022,"children":1024},{"code":1023,"language":825,"meta":163,"className":826,"style":163},"\u003Cscript\n  src=\"https://example.com/example-framework.js\"\n  integrity=\"sha384-Li9vy3DqF8tnTXuiaAJuML3ky+er10rcgNR/VqsVpcw+ThHmYcwiB1pbOxEbzJr7\"\n  crossorigin=\"anonymous\">\n\u003C/script>\n",[1025],{"type":174,"tag":258,"props":1026,"children":1027},{"__ignoreMap":163},[1028,1040,1066,1092,1122],{"type":174,"tag":262,"props":1029,"children":1030},{"class":264,"line":265},[1031,1035],{"type":174,"tag":262,"props":1032,"children":1033},{"style":296},[1034],{"type":179,"value":838},{"type":174,"tag":262,"props":1036,"children":1037},{"style":841},[1038],{"type":179,"value":1039},"script\n",{"type":174,"tag":262,"props":1041,"children":1042},{"class":264,"line":919},[1043,1048,1052,1056,1061],{"type":174,"tag":262,"props":1044,"children":1045},{"style":847},[1046],{"type":179,"value":1047},"  src",{"type":174,"tag":262,"props":1049,"children":1050},{"style":296},[1051],{"type":179,"value":855},{"type":174,"tag":262,"props":1053,"children":1054},{"style":316},[1055],{"type":179,"value":860},{"type":174,"tag":262,"props":1057,"children":1058},{"style":322},[1059],{"type":179,"value":1060},"https://example.com/example-framework.js",{"type":174,"tag":262,"props":1062,"children":1063},{"style":316},[1064],{"type":179,"value":1065},"\"\n",{"type":174,"tag":262,"props":1067,"children":1069},{"class":264,"line":1068},3,[1070,1075,1079,1083,1088],{"type":174,"tag":262,"props":1071,"children":1072},{"style":847},[1073],{"type":179,"value":1074},"  integrity",{"type":174,"tag":262,"props":1076,"children":1077},{"style":296},[1078],{"type":179,"value":855},{"type":174,"tag":262,"props":1080,"children":1081},{"style":316},[1082],{"type":179,"value":860},{"type":174,"tag":262,"props":1084,"children":1085},{"style":322},[1086],{"type":179,"value":1087},"sha384-Li9vy3DqF8tnTXuiaAJuML3ky+er10rcgNR/VqsVpcw+ThHmYcwiB1pbOxEbzJr7",{"type":174,"tag":262,"props":1089,"children":1090},{"style":316},[1091],{"type":179,"value":1065},{"type":174,"tag":262,"props":1093,"children":1095},{"class":264,"line":1094},4,[1096,1101,1105,1109,1114,1118],{"type":174,"tag":262,"props":1097,"children":1098},{"style":847},[1099],{"type":179,"value":1100},"  crossorigin",{"type":174,"tag":262,"props":1102,"children":1103},{"style":296},[1104],{"type":179,"value":855},{"type":174,"tag":262,"props":1106,"children":1107},{"style":316},[1108],{"type":179,"value":860},{"type":174,"tag":262,"props":1110,"children":1111},{"style":322},[1112],{"type":179,"value":1113},"anonymous",{"type":174,"tag":262,"props":1115,"children":1116},{"style":316},[1117],{"type":179,"value":860},{"type":174,"tag":262,"props":1119,"children":1120},{"style":296},[1121],{"type":179,"value":916},{"type":174,"tag":262,"props":1123,"children":1125},{"class":264,"line":1124},5,[1126,1131,1135],{"type":174,"tag":262,"props":1127,"children":1128},{"style":296},[1129],{"type":179,"value":1130},"\u003C/",{"type":174,"tag":262,"props":1132,"children":1133},{"style":841},[1134],{"type":179,"value":844},{"type":174,"tag":262,"props":1136,"children":1137},{"style":296},[1138],{"type":179,"value":916},{"type":174,"tag":175,"props":1140,"children":1141},{},[1142],{"type":179,"value":1143},"关于“框架”的麻烦性就体现出来了，Nuxt（加一系列插件）尽管打包了所有概念尽可能为开发者提供开箱即用的东西，但需要具体去了解各个概念的细节才能更好使用。和部分 CSP 配置一样，一旦开启 SRI，原先代码中关于第三方样式和脚本可能突然就无法使用。更甚，有些第三方脚本，内容是动态的，所以无法提供稳定的哈希值，这就没有办法使用 SRI。",{"type":174,"tag":175,"props":1145,"children":1146},{},[1147,1149,1156],{"type":179,"value":1148},"如果你从用了公共 CDN 的旧项目迁移到 Nuxt，并使用了 Nuxt Security，不知道协议的细节就会带来这些麻烦。这就是 ",{"type":174,"tag":182,"props":1150,"children":1153},{"href":1151,"rel":1152},"https://nuxt-security.vercel.app/advanced/strict-csp",[186],[1154],{"type":179,"value":1155},"“框架的麻烦”",{"type":179,"value":1157},"，不过长期来看，Nuxt 等元框架是利好开发者和终端用户的。",{"type":174,"tag":223,"props":1159,"children":1161},{"id":1160},"权限策略",[1162],{"type":179,"value":1160},{"type":174,"tag":175,"props":1164,"children":1165},{},[1166,1173],{"type":174,"tag":182,"props":1167,"children":1170},{"href":1168,"rel":1169},"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Guides/Permissions_Policy",[186],[1171],{"type":179,"value":1172},"Permissions Policy",{"type":179,"value":1174}," 是和浏览器 Permission API 配合使用的一个安全策论。举个例子，如果攻击者想通过摄像头来获取用户信息，一般情况需要你的代码中已经包含并向用户请求了摄像头权限。你的代码如果没有相关代码，那不错，但更好的策论是直接在页面停用摄像头权限，这就是 Permissions Policy 的工作。",{"type":174,"tag":175,"props":1176,"children":1177},{},[1178],{"type":179,"value":1179},"例如，下面的请求头仅允许在指定源和页面上使用地理位置权限。",{"type":174,"tag":251,"props":1181,"children":1183},{"code":1182},"Permissions-Policy: geolocation=(self https://trusted-ad-network.com)\n",[1184],{"type":174,"tag":258,"props":1185,"children":1186},{"__ignoreMap":163},[1187],{"type":179,"value":1182},{"type":174,"tag":175,"props":1189,"children":1190},{},[1191],{"type":179,"value":1192},"如果你的网站使用了 iframe，那么需注意，所有 iframe 都继承其父页的策略。如果 iframe 使用了 allow 属性，那么父页面和 allow 属性的策略将被合并，使用最严格的子集。当然，这建立在父页使用了 Permissions Policy 的基础上。",{"type":174,"tag":175,"props":1194,"children":1195},{},[1196],{"type":179,"value":1197},"Nuxt Security 的默认配置里，所有敏感权限都是关闭的，这包括摄像头、共享屏幕、全屏、地理位置和麦克风等。",{"type":174,"tag":251,"props":1199,"children":1201},{"code":1200},"Permissions-Policy: camera=(), display-capture=(), fullscreen=(), geolocation=(), microphone=()\n",[1202],{"type":174,"tag":258,"props":1203,"children":1204},{"__ignoreMap":163},[1205],{"type":179,"value":1200},{"type":174,"tag":175,"props":1207,"children":1208},{},[1209,1211,1218],{"type":179,"value":1210},"不过好在，你可以在 nuxt.config.ts 的路由配置中，为各个页面单独设置 Permissions Policy，具体就不展开了。题外话，除了上面提到带摄像头权限，浏览器的权限控制粒度（还不是正式标准）还算精细，以下列举。完整项可参考 ",{"type":174,"tag":182,"props":1212,"children":1215},{"href":1213,"rel":1214},"https://developer.mozilla.org/en-US/docs/Web/API/Permissions_API",[186],[1216],{"type":179,"value":1217},"MDN Permissions API",{"type":179,"value":191},{"type":174,"tag":1220,"props":1221,"children":1222},"ul",{},[1223,1229,1234,1239,1244,1249,1254,1259,1264,1269,1274,1279,1284,1289,1294,1299,1304,1309,1314,1319,1324,1329,1334,1339,1344],{"type":174,"tag":1224,"props":1225,"children":1226},"li",{},[1227],{"type":179,"value":1228},"background-sync：后台同步",{"type":174,"tag":1224,"props":1230,"children":1231},{},[1232],{"type":179,"value":1233},"clipboard-read：剪贴板读取",{"type":174,"tag":1224,"props":1235,"children":1236},{},[1237],{"type":179,"value":1238},"web-share：是否允许网页调用系统的共享功能",{"type":174,"tag":1224,"props":1240,"children":1241},{},[1242],{"type":179,"value":1243},"accelerometer：加速度计",{"type":174,"tag":1224,"props":1245,"children":1246},{},[1247],{"type":179,"value":1248},"ambient-light-sensor：环境光传感器",{"type":174,"tag":1224,"props":1250,"children":1251},{},[1252],{"type":179,"value":1253},"autoplay：控制网页是否允许媒体（如视频或音频）自动播放",{"type":174,"tag":1224,"props":1255,"children":1256},{},[1257],{"type":179,"value":1258},"battery：电池状态",{"type":174,"tag":1224,"props":1260,"children":1261},{},[1262],{"type":179,"value":1263},"document-domain：是否允许跨域访问文档的域名",{"type":174,"tag":1224,"props":1265,"children":1266},{},[1267],{"type":179,"value":1268},"encrypted-media：是否允许播放加密媒体内容",{"type":174,"tag":1224,"props":1270,"children":1271},{},[1272],{"type":179,"value":1273},"execution-while-not-rendered：是否允许在未渲染的页面上执行脚本",{"type":174,"tag":1224,"props":1275,"children":1276},{},[1277],{"type":179,"value":1278},"execution-while-out-of-viewport: 控制网页在内容不再可见时是否允许继续执行代码",{"type":174,"tag":1224,"props":1280,"children":1281},{},[1282],{"type":179,"value":1283},"gamepad：游戏手柄",{"type":174,"tag":1224,"props":1285,"children":1286},{},[1287],{"type":179,"value":1288},"gyroscope：陀螺仪",{"type":174,"tag":1224,"props":1290,"children":1291},{},[1292],{"type":179,"value":1293},"hid：人机接口设备如特殊键盘",{"type":174,"tag":1224,"props":1295,"children":1296},{},[1297],{"type":179,"value":1298},"local-fonts：本地字体访问",{"type":174,"tag":1224,"props":1300,"children":1301},{},[1302],{"type":179,"value":1303},"magnetometer：磁力计",{"type":174,"tag":1224,"props":1305,"children":1306},{},[1307],{"type":179,"value":1308},"midi：MIDI 设备",{"type":174,"tag":1224,"props":1310,"children":1311},{},[1312],{"type":179,"value":1313},"payment：支付请求 API",{"type":174,"tag":1224,"props":1315,"children":1316},{},[1317],{"type":179,"value":1318},"picture-in-picture：画中画模式",{"type":174,"tag":1224,"props":1320,"children":1321},{},[1322],{"type":179,"value":1323},"publickey-credentials-get：WebAuthn API",{"type":174,"tag":1224,"props":1325,"children":1326},{},[1327],{"type":179,"value":1328},"screen-wake-lock：是否允许阻止屏幕休眠",{"type":174,"tag":1224,"props":1330,"children":1331},{},[1332],{"type":179,"value":1333},"serial：串行设备通讯支持",{"type":174,"tag":1224,"props":1335,"children":1336},{},[1337],{"type":179,"value":1338},"speaker-selection：扬声器选择",{"type":174,"tag":1224,"props":1340,"children":1341},{},[1342],{"type":179,"value":1343},"usb：访问 USB 设备",{"type":174,"tag":1224,"props":1345,"children":1346},{},[1347],{"type":179,"value":1348},"xr-spatial-tracking：XR 空间跟踪",{"type":174,"tag":223,"props":1350,"children":1352},{"id":1351},"隔离策略",[1353],{"type":179,"value":1351},{"type":174,"tag":175,"props":1355,"children":1356},{},[1357],{"type":179,"value":1358},"最常见的隔离策略是浏览器的同源策略。",{"type":174,"tag":175,"props":1360,"children":1361},{},[1362],{"type":179,"value":1363},"浏览器请求图像、样式、脚本、字体等文件时，是允许默认跨域的，所以常使用跨域请求头即 Access-Control-Allow-Origin、 Access-Control-Allow-Methods 和 Access-Control-Allow-Headers，通过限制浏览器对跨域资源的访问来降低恶意代码运行的风险，但是单单使用这三个请求头不能保证部分子资源的请求安全，仍然需要 COEP、COOP、CORP 请求头协同工作。",{"type":174,"tag":175,"props":1365,"children":1366},{},[1367],{"type":179,"value":1368},"COEP（Cross-Origin-Embedder-Policy）控制图片等嵌入资源的加载行为，可以显式声明为 \"required-prop\"，使浏览器加载嵌入资源前校验跨域请求头（CORS 及下文将会提到的 CORP）是否完整。如果不完整则浏览器会拒绝加载。CORP（Cross-Origin-Resource-Policy）则是一个响应头，可以标记服务端的资源是否允许跨域访问。",{"type":174,"tag":175,"props":1370,"children":1371},{},[1372],{"type":179,"value":1373},"请求的资源类型还可以是文档：使用 COOP（Cross-Origin-Opener-Policy）可以控制 window.open 打开的窗口是否和页面共享同一个 BCG。题外话，服务端也有控制文档是否能在 iframe 中加载的请求头，X-Frame-Options。",{"type":174,"tag":175,"props":1375,"children":1376},{},[1377],{"type":179,"value":1378},"BCG 即浏览器上下文窗口，一般来说同源域名共享一个 BCG，所以可以通过 postMessage 等方式跨标签通讯。HTML a 标签的 rel=\"noopener\" 属性和请求头 Referrer-Policy 则是除了 COOP 外另一种阻止 window.open 打开的页面访问 window.opener 的方式。",{"type":174,"tag":175,"props":1380,"children":1381},{},[1382,1384,1391,1393],{"type":179,"value":1383},"也许和直觉会有些不一样，Chrome 的 BCG 是默认按“网站”而不是“同源”对页面进行分组的，所以手动使用 ",{"type":174,"tag":182,"props":1385,"children":1388},{"href":1386,"rel":1387},"https://web.dev/articles/coop-coep?hl=zh-cn",[186],[1389],{"type":179,"value":1390},"COEP、COOP 能间接管理页面隔离",{"type":179,"value":1392},"。此外请求头 Origin-Agent-Cluster 可以用于直接控制浏览器是否按同源策略分组 BCG，见 web.dev 的文章：",{"type":174,"tag":182,"props":1394,"children":1397},{"href":1395,"rel":1396},"https://web.dev/articles/origin-agent-cluster?hl=zh-cn",[186],[1398],{"type":179,"value":1399},"使用 Origin-Agent-Cluster 标头请求性能隔离",{"type":174,"tag":175,"props":1401,"children":1402},{},[1403],{"type":179,"value":1404},"除了图片、文档等，Flash 和 PDF 这种嵌入型资源虽不常见，但因可以发请求，所以也需要一种策略来控制其跨域访问：一般可以在网站根目录定义一个 crossdomain.xml 文件进行配置，但也可以通过 X-Permitted-Cross-Domain-Policies 请求头来控制，以下是两者的示例：",{"type":174,"tag":251,"props":1406,"children":1408},{"code":1407,"language":825,"meta":163,"className":826,"style":163},"\u003C!-- https://www.taobao.com/crossdomain.xml -->\n\u003Ccross-domain-policy>\n  \u003Callow-access-from domain=\"*.taobao.com\" />\n  \u003Callow-access-from domain=\"*.taobao.net\" />\n  \u003Callow-access-from domain=\"*.taobaocdn.com\" />\n  \u003Callow-access-from domain=\"*.tbcdn.cn\" />\n  \u003Callow-access-from domain=\"*.alicdn.com\" />\n\u003C/cross-domain-policy>\n",[1409],{"type":174,"tag":258,"props":1410,"children":1411},{"__ignoreMap":163},[1412,1421,1437,1477,1513,1549,1586,1623],{"type":174,"tag":262,"props":1413,"children":1414},{"class":264,"line":265},[1415],{"type":174,"tag":262,"props":1416,"children":1418},{"style":1417},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[1419],{"type":179,"value":1420},"\u003C!-- https://www.taobao.com/crossdomain.xml -->\n",{"type":174,"tag":262,"props":1422,"children":1423},{"class":264,"line":919},[1424,1428,1433],{"type":174,"tag":262,"props":1425,"children":1426},{"style":296},[1427],{"type":179,"value":838},{"type":174,"tag":262,"props":1429,"children":1430},{"style":841},[1431],{"type":179,"value":1432},"cross-domain-policy",{"type":174,"tag":262,"props":1434,"children":1435},{"style":296},[1436],{"type":179,"value":916},{"type":174,"tag":262,"props":1438,"children":1439},{"class":264,"line":1068},[1440,1445,1450,1455,1459,1463,1468,1472],{"type":174,"tag":262,"props":1441,"children":1442},{"style":296},[1443],{"type":179,"value":1444},"  \u003C",{"type":174,"tag":262,"props":1446,"children":1447},{"style":841},[1448],{"type":179,"value":1449},"allow-access-from",{"type":174,"tag":262,"props":1451,"children":1452},{"style":847},[1453],{"type":179,"value":1454}," domain",{"type":174,"tag":262,"props":1456,"children":1457},{"style":296},[1458],{"type":179,"value":855},{"type":174,"tag":262,"props":1460,"children":1461},{"style":316},[1462],{"type":179,"value":860},{"type":174,"tag":262,"props":1464,"children":1465},{"style":322},[1466],{"type":179,"value":1467},"*.taobao.com",{"type":174,"tag":262,"props":1469,"children":1470},{"style":316},[1471],{"type":179,"value":860},{"type":174,"tag":262,"props":1473,"children":1474},{"style":296},[1475],{"type":179,"value":1476}," />\n",{"type":174,"tag":262,"props":1478,"children":1479},{"class":264,"line":1094},[1480,1484,1488,1492,1496,1500,1505,1509],{"type":174,"tag":262,"props":1481,"children":1482},{"style":296},[1483],{"type":179,"value":1444},{"type":174,"tag":262,"props":1485,"children":1486},{"style":841},[1487],{"type":179,"value":1449},{"type":174,"tag":262,"props":1489,"children":1490},{"style":847},[1491],{"type":179,"value":1454},{"type":174,"tag":262,"props":1493,"children":1494},{"style":296},[1495],{"type":179,"value":855},{"type":174,"tag":262,"props":1497,"children":1498},{"style":316},[1499],{"type":179,"value":860},{"type":174,"tag":262,"props":1501,"children":1502},{"style":322},[1503],{"type":179,"value":1504},"*.taobao.net",{"type":174,"tag":262,"props":1506,"children":1507},{"style":316},[1508],{"type":179,"value":860},{"type":174,"tag":262,"props":1510,"children":1511},{"style":296},[1512],{"type":179,"value":1476},{"type":174,"tag":262,"props":1514,"children":1515},{"class":264,"line":1124},[1516,1520,1524,1528,1532,1536,1541,1545],{"type":174,"tag":262,"props":1517,"children":1518},{"style":296},[1519],{"type":179,"value":1444},{"type":174,"tag":262,"props":1521,"children":1522},{"style":841},[1523],{"type":179,"value":1449},{"type":174,"tag":262,"props":1525,"children":1526},{"style":847},[1527],{"type":179,"value":1454},{"type":174,"tag":262,"props":1529,"children":1530},{"style":296},[1531],{"type":179,"value":855},{"type":174,"tag":262,"props":1533,"children":1534},{"style":316},[1535],{"type":179,"value":860},{"type":174,"tag":262,"props":1537,"children":1538},{"style":322},[1539],{"type":179,"value":1540},"*.taobaocdn.com",{"type":174,"tag":262,"props":1542,"children":1543},{"style":316},[1544],{"type":179,"value":860},{"type":174,"tag":262,"props":1546,"children":1547},{"style":296},[1548],{"type":179,"value":1476},{"type":174,"tag":262,"props":1550,"children":1552},{"class":264,"line":1551},6,[1553,1557,1561,1565,1569,1573,1578,1582],{"type":174,"tag":262,"props":1554,"children":1555},{"style":296},[1556],{"type":179,"value":1444},{"type":174,"tag":262,"props":1558,"children":1559},{"style":841},[1560],{"type":179,"value":1449},{"type":174,"tag":262,"props":1562,"children":1563},{"style":847},[1564],{"type":179,"value":1454},{"type":174,"tag":262,"props":1566,"children":1567},{"style":296},[1568],{"type":179,"value":855},{"type":174,"tag":262,"props":1570,"children":1571},{"style":316},[1572],{"type":179,"value":860},{"type":174,"tag":262,"props":1574,"children":1575},{"style":322},[1576],{"type":179,"value":1577},"*.tbcdn.cn",{"type":174,"tag":262,"props":1579,"children":1580},{"style":316},[1581],{"type":179,"value":860},{"type":174,"tag":262,"props":1583,"children":1584},{"style":296},[1585],{"type":179,"value":1476},{"type":174,"tag":262,"props":1587,"children":1589},{"class":264,"line":1588},7,[1590,1594,1598,1602,1606,1610,1615,1619],{"type":174,"tag":262,"props":1591,"children":1592},{"style":296},[1593],{"type":179,"value":1444},{"type":174,"tag":262,"props":1595,"children":1596},{"style":841},[1597],{"type":179,"value":1449},{"type":174,"tag":262,"props":1599,"children":1600},{"style":847},[1601],{"type":179,"value":1454},{"type":174,"tag":262,"props":1603,"children":1604},{"style":296},[1605],{"type":179,"value":855},{"type":174,"tag":262,"props":1607,"children":1608},{"style":316},[1609],{"type":179,"value":860},{"type":174,"tag":262,"props":1611,"children":1612},{"style":322},[1613],{"type":179,"value":1614},"*.alicdn.com",{"type":174,"tag":262,"props":1616,"children":1617},{"style":316},[1618],{"type":179,"value":860},{"type":174,"tag":262,"props":1620,"children":1621},{"style":296},[1622],{"type":179,"value":1476},{"type":174,"tag":262,"props":1624,"children":1626},{"class":264,"line":1625},8,[1627,1631,1635],{"type":174,"tag":262,"props":1628,"children":1629},{"style":296},[1630],{"type":179,"value":1130},{"type":174,"tag":262,"props":1632,"children":1633},{"style":841},[1634],{"type":179,"value":1432},{"type":174,"tag":262,"props":1636,"children":1637},{"style":296},[1638],{"type":179,"value":916},{"type":174,"tag":251,"props":1640,"children":1642},{"code":1641},"xPermittedCrossDomainPolicies: 'none'\n  | 'master-only'\n  | 'by-content-type'\n  | 'by-ftp-filename'\n  | 'all'\n  | false;\n",[1643],{"type":174,"tag":258,"props":1644,"children":1645},{"__ignoreMap":163},[1646],{"type":179,"value":1641},{"type":174,"tag":223,"props":1648,"children":1650},{"id":1649},"资源安全",[1651],{"type":179,"value":1649},{"type":174,"tag":175,"props":1653,"children":1654},{},[1655],{"type":179,"value":1656},"曾经有浏览器会根据文件内容，而不是 Content-Type 去解释和执行文件，这可能使攻击者发送的图片等文件中嵌套的脚本代码得到执行，这种攻击叫做 MIME 嗅探攻击。配置 X-Content-Type-Options: nosiff 禁止浏览器对文件内容进行 MIME 嗅探。",{"type":174,"tag":175,"props":1658,"children":1659},{},[1660],{"type":179,"value":1661},"X-Download-Options: noopen 则用于提高文件下载的安全性，防止用户在浏览器中意外执行下载的文件。配置后用户需要先下载文件，再手动打开，而不是直接在浏览器中打开。",{"type":174,"tag":223,"props":1663,"children":1665},{"id":1664},"https",[1666],{"type":179,"value":1667},"HTTPS",{"type":174,"tag":175,"props":1669,"children":1670},{},[1671],{"type":179,"value":1672},"HTTPS 是 HTTP 的安全版本。尽管不是技术上的限制，但浏览器需要 API 都依赖 HTTPs 协议才能使用，比如：地理位置、音视频麦克风、工作线程、剪贴板、Performance API，以及上文提到的 SRI 和 COEP 等请求头。大概 HTTPS 已经相当普及了，但仍有手动指定浏览器强制使用 HTTPS 而不是降级使用 HTTP 的方法：STS。",{"type":174,"tag":175,"props":1674,"children":1675},{},[1676,1678,1684,1686,1692,1694,1700,1702,1708,1710,1715],{"type":179,"value":1677},"浏览器接收到 Strict-Transport-Security（STS 或 HTTP STS）请求头后，会进行倒计时，在计时结束之前都不会将 HTTPS 降级回 HTTP。见下示例，",{"type":174,"tag":258,"props":1679,"children":1681},{"className":1680},[],[1682],{"type":179,"value":1683},"max-age",{"type":179,"value":1685}," 指定倒计时时间；",{"type":174,"tag":258,"props":1687,"children":1689},{"className":1688},[],[1690],{"type":179,"value":1691},"includesSubDomains",{"type":179,"value":1693}," 指定子域的 ",{"type":174,"tag":258,"props":1695,"children":1697},{"className":1696},[],[1698],{"type":179,"value":1699},"HSTS",{"type":179,"value":1701},"；",{"type":174,"tag":258,"props":1703,"children":1705},{"className":1704},[],[1706],{"type":179,"value":1707},"preload",{"type":179,"value":1709}," 指定预加载内容的 ",{"type":174,"tag":258,"props":1711,"children":1713},{"className":1712},[],[1714],{"type":179,"value":1699},{"type":179,"value":191},{"type":174,"tag":251,"props":1717,"children":1719},{"code":1718},"Strict-Transport-Security:\n    max-age=31536000;\n    includeSubDomains;\n    preload\n",[1720],{"type":174,"tag":258,"props":1721,"children":1722},{"__ignoreMap":163},[1723],{"type":179,"value":1718},{"type":174,"tag":223,"props":1725,"children":1727},{"id":1726},"隐私安全",[1728],{"type":179,"value":1726},{"type":174,"tag":175,"props":1730,"children":1731},{},[1732],{"type":179,"value":1733},"浏览器默认开启了 DNS 预取功能，所以用户访问页面时碰到了新链接，浏览器会提前解析 DNS。虽然可以加快页面加载速度，但也会泄露用户隐私及扩大用户可能的受攻击面。X-DNS-Prefetch-Control: off 可以关闭 DNS 预取功能。",{"type":174,"tag":193,"props":1735,"children":1737},{"id":1736},"中间件",[1738],{"type":179,"value":1736},{"type":174,"tag":175,"props":1740,"children":1741},{},[1742],{"type":179,"value":1743},"Rate Limiter 常用于登录、注册等安全敏感的接口，或某些高服务器资源消耗的接口。他将用户的 IP 储存在内存中，并在请求超量后，拒绝并返回 429 Too Many Requests 错误。默认设置为每 30 秒允许 150 次请求。",{"type":174,"tag":175,"props":1745,"children":1746},{},[1747],{"type":179,"value":1748},"Request Size Limiter 是用来限制请求体大小的插件。默认配置为 2MB 的请求体和 8MB 的文件上传请求体，超过限制后会返回 413 Payload Too Large 错误。",{"type":174,"tag":175,"props":1750,"children":1751},{},[1752],{"type":179,"value":1753},"XSS Validator 是一个中间件，用于检测和过滤 XSS 攻击。它会检查请求体、查询参数和头部信息中的潜在恶意代码，并在发现可疑内容时返回 400 Bad Request 错误。",{"type":174,"tag":175,"props":1755,"children":1756},{},[1757],{"type":179,"value":1758},"CORS Handler 则用于设置请求的跨域处理。还可以配合 Allowed HTTP Methods 插件来限制请求方法。",{"type":174,"tag":175,"props":1760,"children":1761},{},[1762],{"type":179,"value":1763},"Basic Auth 是实现了 HTTP Basic Authentication 的中间件。当浏览器发送请求时，会在请求头中添加一个 Authorization 字段，包含用户名和密码的 Base64 编码值。Nuxt 服务器可以基于此值来验证用户身份。",{"type":174,"tag":175,"props":1765,"children":1766},{},[1767],{"type":179,"value":1768},"Cross Site Request Forgery（CSRF）插件用于防止 CSRF 攻击。",{"type":174,"tag":193,"props":1770,"children":1772},{"id":1771},"实践",[1773],{"type":179,"value":1771},{"type":174,"tag":175,"props":1775,"children":1776},{},[1777],{"type":179,"value":1778},"还没介绍到的 Nuxt Security 的一些功能则是一些实践上的配置，包括隐藏 X-Powered-By 头部、移除 console.log 和 debugger 语句。",{"type":174,"tag":175,"props":1780,"children":1781},{},[1782,1784],{"type":179,"value":1783},"关于如何做一个安全的应用，Nuxt Security 推荐使用这些方法：",{"type":174,"tag":182,"props":1785,"children":1788},{"href":1786,"rel":1787},"https://nuxt-security.vercel.app/advanced/good-practices",[186],[1789],{"type":179,"value":1790},"Good Practices",{"type":174,"tag":193,"props":1792,"children":1794},{"id":1793},"默认配置",[1795],{"type":179,"value":1793},{"type":174,"tag":175,"props":1797,"children":1798},{},[1799],{"type":179,"value":1800},"插件的默认配置如下，之后会介绍每个配置的作用。插件会默认将注册全局中间件和路由规则，并且其标准配置是“ensure that your application will not break”。",{"type":174,"tag":251,"props":1802,"children":1806},{"code":1803,"language":1804,"meta":163,"className":1805,"style":163},"{\n  security: {\n    strict: false,\n    headers: {\n      crossOriginResourcePolicy: 'same-origin',\n      crossOriginOpenerPolicy: 'same-origin',\n      crossOriginEmbedderPolicy: 'credentialless',\n      contentSecurityPolicy: {\n        'base-uri': [\"'none'\"],\n        'font-src': [\"'self'\", 'https:', 'data:'],\n        'form-action': [\"'self'\"],\n        'frame-ancestors': [\"'self'\"],\n        'img-src': [\"'self'\", 'data:'],\n        'object-src': [\"'none'\"],\n        'script-src-attr': [\"'none'\"],\n        'style-src': [\"'self'\", 'https:', \"'unsafe-inline'\"],\n        'script-src': [\"'self'\", 'https:', \"'unsafe-inline'\", \"'strict-dynamic'\", \"'nonce-{{nonce}}'\"],\n        'upgrade-insecure-requests': true\n      },\n      originAgentCluster: '?1',\n      referrerPolicy: 'no-referrer',\n      strictTransportSecurity: {\n        maxAge: 15552000,\n        includeSubdomains: true,\n      },\n      xContentTypeOptions: 'nosniff',\n      xDNSPrefetchControl: 'off',\n      xDownloadOptions: 'noopen',\n      xFrameOptions: 'SAMEORIGIN',\n      xPermittedCrossDomainPolicies: 'none',\n      xXSSProtection: '0',\n      permissionsPolicy: {\n        camera: [],\n        'display-capture': [],\n        fullscreen: [],\n        geolocation: [],\n        microphone: []\n      }\n    },\n    requestSizeLimiter: {\n      maxRequestSizeInBytes: 2000000,\n      maxUploadFileRequestInBytes: 8000000,\n      throwError: true\n    },\n    rateLimiter: {\n      tokensPerInterval: 150,\n      interval: 300000,\n      headers: false,\n      driver: {\n        name: 'lruCache'\n      },\n      throwError: true\n    },\n    xssValidator: {\n      throwError: true\n    },\n    corsHandler: {\n      origin: serverlUrl,\n      methods: ['GET', 'HEAD', 'PUT', 'PATCH', 'POST', 'DELETE'],\n      preflight: {\n        statusCode: 204\n      },\n    },\n    allowedMethodsRestricter: {\n      methods: '*',\n      throwError: true\n    },\n    hidePoweredBy: true,\n    basicAuth: false,\n    enabled: true,\n    csrf: false,\n    nonce: true,\n    removeLoggers: true,\n    ssg: {\n      meta: true,\n      hashScripts: true,\n      hashStyles: false,\n      nitroHeaders: true,\n      exportToPresets: true,\n    },\n    sri: true\n  }\n}\n","json","language-json shiki shiki-themes material-theme-lighter github-light github-dark monokai",[1807],{"type":174,"tag":258,"props":1808,"children":1809},{"__ignoreMap":163},[1810,1818,1836,1859,1875,1896,1916,1937,1953,1991,2044,2077,2110,2151,2184,2217,2276,2367,2385,2394,2426,2448,2465,2487,2509,2517,2539,2561,2583,2605,2627,2657,2674,2692,2709,2726,2743,2761,2770,2779,2796,2818,2840,2857,2865,2882,2904,2926,2947,2964,2982,2990,3006,3014,3031,3047,3055,3072,3094,3165,3182,3200,3208,3216,3233,3254,3270,3278,3299,3320,3341,3362,3383,3404,3421,3442,3463,3484,3505,3526,3534,3551,3560],{"type":174,"tag":262,"props":1811,"children":1812},{"class":264,"line":265},[1813],{"type":174,"tag":262,"props":1814,"children":1815},{"style":296},[1816],{"type":179,"value":1817},"{\n",{"type":174,"tag":262,"props":1819,"children":1820},{"class":264,"line":919},[1821,1827,1831],{"type":174,"tag":262,"props":1822,"children":1824},{"style":1823},"--shiki-light:#90A4AE;--shiki-light-font-style:inherit;--shiki-default:#B31D28;--shiki-default-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-sepia:#F44747;--shiki-sepia-font-style:inherit",[1825],{"type":179,"value":1826},"  security",{"type":174,"tag":262,"props":1828,"children":1829},{"style":296},[1830],{"type":179,"value":299},{"type":174,"tag":262,"props":1832,"children":1833},{"style":296},[1834],{"type":179,"value":1835}," {\n",{"type":174,"tag":262,"props":1837,"children":1838},{"class":264,"line":1068},[1839,1844,1848,1854],{"type":174,"tag":262,"props":1840,"children":1841},{"style":1823},[1842],{"type":179,"value":1843},"    strict",{"type":174,"tag":262,"props":1845,"children":1846},{"style":296},[1847],{"type":179,"value":299},{"type":174,"tag":262,"props":1849,"children":1851},{"style":1850},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1852],{"type":179,"value":1853}," false",{"type":174,"tag":262,"props":1855,"children":1856},{"style":296},[1857],{"type":179,"value":1858},",\n",{"type":174,"tag":262,"props":1860,"children":1861},{"class":264,"line":1094},[1862,1867,1871],{"type":174,"tag":262,"props":1863,"children":1864},{"style":1823},[1865],{"type":179,"value":1866},"    headers",{"type":174,"tag":262,"props":1868,"children":1869},{"style":296},[1870],{"type":179,"value":299},{"type":174,"tag":262,"props":1872,"children":1873},{"style":296},[1874],{"type":179,"value":1835},{"type":174,"tag":262,"props":1876,"children":1877},{"class":264,"line":1124},[1878,1883,1887,1892],{"type":174,"tag":262,"props":1879,"children":1880},{"style":1823},[1881],{"type":179,"value":1882},"      crossOriginResourcePolicy",{"type":174,"tag":262,"props":1884,"children":1885},{"style":296},[1886],{"type":179,"value":299},{"type":174,"tag":262,"props":1888,"children":1889},{"style":1823},[1890],{"type":179,"value":1891}," 'same-origin'",{"type":174,"tag":262,"props":1893,"children":1894},{"style":296},[1895],{"type":179,"value":1858},{"type":174,"tag":262,"props":1897,"children":1898},{"class":264,"line":1551},[1899,1904,1908,1912],{"type":174,"tag":262,"props":1900,"children":1901},{"style":1823},[1902],{"type":179,"value":1903},"      crossOriginOpenerPolicy",{"type":174,"tag":262,"props":1905,"children":1906},{"style":296},[1907],{"type":179,"value":299},{"type":174,"tag":262,"props":1909,"children":1910},{"style":1823},[1911],{"type":179,"value":1891},{"type":174,"tag":262,"props":1913,"children":1914},{"style":296},[1915],{"type":179,"value":1858},{"type":174,"tag":262,"props":1917,"children":1918},{"class":264,"line":1588},[1919,1924,1928,1933],{"type":174,"tag":262,"props":1920,"children":1921},{"style":1823},[1922],{"type":179,"value":1923},"      crossOriginEmbedderPolicy",{"type":174,"tag":262,"props":1925,"children":1926},{"style":296},[1927],{"type":179,"value":299},{"type":174,"tag":262,"props":1929,"children":1930},{"style":1823},[1931],{"type":179,"value":1932}," 'credentialless'",{"type":174,"tag":262,"props":1934,"children":1935},{"style":296},[1936],{"type":179,"value":1858},{"type":174,"tag":262,"props":1938,"children":1939},{"class":264,"line":1625},[1940,1945,1949],{"type":174,"tag":262,"props":1941,"children":1942},{"style":1823},[1943],{"type":179,"value":1944},"      contentSecurityPolicy",{"type":174,"tag":262,"props":1946,"children":1947},{"style":296},[1948],{"type":179,"value":299},{"type":174,"tag":262,"props":1950,"children":1951},{"style":296},[1952],{"type":179,"value":1835},{"type":174,"tag":262,"props":1954,"children":1956},{"class":264,"line":1955},9,[1957,1962,1966,1971,1976,1982,1986],{"type":174,"tag":262,"props":1958,"children":1959},{"style":1823},[1960],{"type":179,"value":1961},"        'base-uri'",{"type":174,"tag":262,"props":1963,"children":1964},{"style":296},[1965],{"type":179,"value":299},{"type":174,"tag":262,"props":1967,"children":1968},{"style":296},[1969],{"type":179,"value":1970}," [",{"type":174,"tag":262,"props":1972,"children":1974},{"style":1973},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2",[1975],{"type":179,"value":860},{"type":174,"tag":262,"props":1977,"children":1979},{"style":1978},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2",[1980],{"type":179,"value":1981},"'none'",{"type":174,"tag":262,"props":1983,"children":1984},{"style":1973},[1985],{"type":179,"value":860},{"type":174,"tag":262,"props":1987,"children":1988},{"style":296},[1989],{"type":179,"value":1990},"],\n",{"type":174,"tag":262,"props":1992,"children":1994},{"class":264,"line":1993},10,[1995,2000,2004,2008,2012,2017,2021,2026,2031,2035,2040],{"type":174,"tag":262,"props":1996,"children":1997},{"style":1823},[1998],{"type":179,"value":1999},"        'font-src'",{"type":174,"tag":262,"props":2001,"children":2002},{"style":296},[2003],{"type":179,"value":299},{"type":174,"tag":262,"props":2005,"children":2006},{"style":296},[2007],{"type":179,"value":1970},{"type":174,"tag":262,"props":2009,"children":2010},{"style":1973},[2011],{"type":179,"value":860},{"type":174,"tag":262,"props":2013,"children":2014},{"style":1978},[2015],{"type":179,"value":2016},"'self'",{"type":174,"tag":262,"props":2018,"children":2019},{"style":1973},[2020],{"type":179,"value":860},{"type":174,"tag":262,"props":2022,"children":2023},{"style":296},[2024],{"type":179,"value":2025},",",{"type":174,"tag":262,"props":2027,"children":2028},{"style":1823},[2029],{"type":179,"value":2030}," 'https:'",{"type":174,"tag":262,"props":2032,"children":2033},{"style":296},[2034],{"type":179,"value":2025},{"type":174,"tag":262,"props":2036,"children":2037},{"style":1823},[2038],{"type":179,"value":2039}," 'data:'",{"type":174,"tag":262,"props":2041,"children":2042},{"style":296},[2043],{"type":179,"value":1990},{"type":174,"tag":262,"props":2045,"children":2047},{"class":264,"line":2046},11,[2048,2053,2057,2061,2065,2069,2073],{"type":174,"tag":262,"props":2049,"children":2050},{"style":1823},[2051],{"type":179,"value":2052},"        'form-action'",{"type":174,"tag":262,"props":2054,"children":2055},{"style":296},[2056],{"type":179,"value":299},{"type":174,"tag":262,"props":2058,"children":2059},{"style":296},[2060],{"type":179,"value":1970},{"type":174,"tag":262,"props":2062,"children":2063},{"style":1973},[2064],{"type":179,"value":860},{"type":174,"tag":262,"props":2066,"children":2067},{"style":1978},[2068],{"type":179,"value":2016},{"type":174,"tag":262,"props":2070,"children":2071},{"style":1973},[2072],{"type":179,"value":860},{"type":174,"tag":262,"props":2074,"children":2075},{"style":296},[2076],{"type":179,"value":1990},{"type":174,"tag":262,"props":2078,"children":2080},{"class":264,"line":2079},12,[2081,2086,2090,2094,2098,2102,2106],{"type":174,"tag":262,"props":2082,"children":2083},{"style":1823},[2084],{"type":179,"value":2085},"        'frame-ancestors'",{"type":174,"tag":262,"props":2087,"children":2088},{"style":296},[2089],{"type":179,"value":299},{"type":174,"tag":262,"props":2091,"children":2092},{"style":296},[2093],{"type":179,"value":1970},{"type":174,"tag":262,"props":2095,"children":2096},{"style":1973},[2097],{"type":179,"value":860},{"type":174,"tag":262,"props":2099,"children":2100},{"style":1978},[2101],{"type":179,"value":2016},{"type":174,"tag":262,"props":2103,"children":2104},{"style":1973},[2105],{"type":179,"value":860},{"type":174,"tag":262,"props":2107,"children":2108},{"style":296},[2109],{"type":179,"value":1990},{"type":174,"tag":262,"props":2111,"children":2113},{"class":264,"line":2112},13,[2114,2119,2123,2127,2131,2135,2139,2143,2147],{"type":174,"tag":262,"props":2115,"children":2116},{"style":1823},[2117],{"type":179,"value":2118},"        'img-src'",{"type":174,"tag":262,"props":2120,"children":2121},{"style":296},[2122],{"type":179,"value":299},{"type":174,"tag":262,"props":2124,"children":2125},{"style":296},[2126],{"type":179,"value":1970},{"type":174,"tag":262,"props":2128,"children":2129},{"style":1973},[2130],{"type":179,"value":860},{"type":174,"tag":262,"props":2132,"children":2133},{"style":1978},[2134],{"type":179,"value":2016},{"type":174,"tag":262,"props":2136,"children":2137},{"style":1973},[2138],{"type":179,"value":860},{"type":174,"tag":262,"props":2140,"children":2141},{"style":296},[2142],{"type":179,"value":2025},{"type":174,"tag":262,"props":2144,"children":2145},{"style":1823},[2146],{"type":179,"value":2039},{"type":174,"tag":262,"props":2148,"children":2149},{"style":296},[2150],{"type":179,"value":1990},{"type":174,"tag":262,"props":2152,"children":2154},{"class":264,"line":2153},14,[2155,2160,2164,2168,2172,2176,2180],{"type":174,"tag":262,"props":2156,"children":2157},{"style":1823},[2158],{"type":179,"value":2159},"        'object-src'",{"type":174,"tag":262,"props":2161,"children":2162},{"style":296},[2163],{"type":179,"value":299},{"type":174,"tag":262,"props":2165,"children":2166},{"style":296},[2167],{"type":179,"value":1970},{"type":174,"tag":262,"props":2169,"children":2170},{"style":1973},[2171],{"type":179,"value":860},{"type":174,"tag":262,"props":2173,"children":2174},{"style":1978},[2175],{"type":179,"value":1981},{"type":174,"tag":262,"props":2177,"children":2178},{"style":1973},[2179],{"type":179,"value":860},{"type":174,"tag":262,"props":2181,"children":2182},{"style":296},[2183],{"type":179,"value":1990},{"type":174,"tag":262,"props":2185,"children":2187},{"class":264,"line":2186},15,[2188,2193,2197,2201,2205,2209,2213],{"type":174,"tag":262,"props":2189,"children":2190},{"style":1823},[2191],{"type":179,"value":2192},"        'script-src-attr'",{"type":174,"tag":262,"props":2194,"children":2195},{"style":296},[2196],{"type":179,"value":299},{"type":174,"tag":262,"props":2198,"children":2199},{"style":296},[2200],{"type":179,"value":1970},{"type":174,"tag":262,"props":2202,"children":2203},{"style":1973},[2204],{"type":179,"value":860},{"type":174,"tag":262,"props":2206,"children":2207},{"style":1978},[2208],{"type":179,"value":1981},{"type":174,"tag":262,"props":2210,"children":2211},{"style":1973},[2212],{"type":179,"value":860},{"type":174,"tag":262,"props":2214,"children":2215},{"style":296},[2216],{"type":179,"value":1990},{"type":174,"tag":262,"props":2218,"children":2220},{"class":264,"line":2219},16,[2221,2226,2230,2234,2238,2242,2246,2250,2254,2258,2263,2268,2272],{"type":174,"tag":262,"props":2222,"children":2223},{"style":1823},[2224],{"type":179,"value":2225},"        'style-src'",{"type":174,"tag":262,"props":2227,"children":2228},{"style":296},[2229],{"type":179,"value":299},{"type":174,"tag":262,"props":2231,"children":2232},{"style":296},[2233],{"type":179,"value":1970},{"type":174,"tag":262,"props":2235,"children":2236},{"style":1973},[2237],{"type":179,"value":860},{"type":174,"tag":262,"props":2239,"children":2240},{"style":1978},[2241],{"type":179,"value":2016},{"type":174,"tag":262,"props":2243,"children":2244},{"style":1973},[2245],{"type":179,"value":860},{"type":174,"tag":262,"props":2247,"children":2248},{"style":296},[2249],{"type":179,"value":2025},{"type":174,"tag":262,"props":2251,"children":2252},{"style":1823},[2253],{"type":179,"value":2030},{"type":174,"tag":262,"props":2255,"children":2256},{"style":296},[2257],{"type":179,"value":2025},{"type":174,"tag":262,"props":2259,"children":2260},{"style":1973},[2261],{"type":179,"value":2262}," \"",{"type":174,"tag":262,"props":2264,"children":2265},{"style":1978},[2266],{"type":179,"value":2267},"'unsafe-inline'",{"type":174,"tag":262,"props":2269,"children":2270},{"style":1973},[2271],{"type":179,"value":860},{"type":174,"tag":262,"props":2273,"children":2274},{"style":296},[2275],{"type":179,"value":1990},{"type":174,"tag":262,"props":2277,"children":2279},{"class":264,"line":2278},17,[2280,2285,2289,2293,2297,2301,2305,2309,2313,2317,2321,2325,2329,2333,2337,2342,2346,2350,2354,2359,2363],{"type":174,"tag":262,"props":2281,"children":2282},{"style":1823},[2283],{"type":179,"value":2284},"        'script-src'",{"type":174,"tag":262,"props":2286,"children":2287},{"style":296},[2288],{"type":179,"value":299},{"type":174,"tag":262,"props":2290,"children":2291},{"style":296},[2292],{"type":179,"value":1970},{"type":174,"tag":262,"props":2294,"children":2295},{"style":1973},[2296],{"type":179,"value":860},{"type":174,"tag":262,"props":2298,"children":2299},{"style":1978},[2300],{"type":179,"value":2016},{"type":174,"tag":262,"props":2302,"children":2303},{"style":1973},[2304],{"type":179,"value":860},{"type":174,"tag":262,"props":2306,"children":2307},{"style":296},[2308],{"type":179,"value":2025},{"type":174,"tag":262,"props":2310,"children":2311},{"style":1823},[2312],{"type":179,"value":2030},{"type":174,"tag":262,"props":2314,"children":2315},{"style":296},[2316],{"type":179,"value":2025},{"type":174,"tag":262,"props":2318,"children":2319},{"style":1973},[2320],{"type":179,"value":2262},{"type":174,"tag":262,"props":2322,"children":2323},{"style":1978},[2324],{"type":179,"value":2267},{"type":174,"tag":262,"props":2326,"children":2327},{"style":1973},[2328],{"type":179,"value":860},{"type":174,"tag":262,"props":2330,"children":2331},{"style":296},[2332],{"type":179,"value":2025},{"type":174,"tag":262,"props":2334,"children":2335},{"style":1973},[2336],{"type":179,"value":2262},{"type":174,"tag":262,"props":2338,"children":2339},{"style":1978},[2340],{"type":179,"value":2341},"'strict-dynamic'",{"type":174,"tag":262,"props":2343,"children":2344},{"style":1973},[2345],{"type":179,"value":860},{"type":174,"tag":262,"props":2347,"children":2348},{"style":296},[2349],{"type":179,"value":2025},{"type":174,"tag":262,"props":2351,"children":2352},{"style":1973},[2353],{"type":179,"value":2262},{"type":174,"tag":262,"props":2355,"children":2356},{"style":1978},[2357],{"type":179,"value":2358},"'nonce-{{nonce}}'",{"type":174,"tag":262,"props":2360,"children":2361},{"style":1973},[2362],{"type":179,"value":860},{"type":174,"tag":262,"props":2364,"children":2365},{"style":296},[2366],{"type":179,"value":1990},{"type":174,"tag":262,"props":2368,"children":2370},{"class":264,"line":2369},18,[2371,2376,2380],{"type":174,"tag":262,"props":2372,"children":2373},{"style":1823},[2374],{"type":179,"value":2375},"        'upgrade-insecure-requests'",{"type":174,"tag":262,"props":2377,"children":2378},{"style":296},[2379],{"type":179,"value":299},{"type":174,"tag":262,"props":2381,"children":2382},{"style":1850},[2383],{"type":179,"value":2384}," true\n",{"type":174,"tag":262,"props":2386,"children":2388},{"class":264,"line":2387},19,[2389],{"type":174,"tag":262,"props":2390,"children":2391},{"style":296},[2392],{"type":179,"value":2393},"      },\n",{"type":174,"tag":262,"props":2395,"children":2397},{"class":264,"line":2396},20,[2398,2403,2407,2412,2418,2422],{"type":174,"tag":262,"props":2399,"children":2400},{"style":1823},[2401],{"type":179,"value":2402},"      originAgentCluster",{"type":174,"tag":262,"props":2404,"children":2405},{"style":296},[2406],{"type":179,"value":299},{"type":174,"tag":262,"props":2408,"children":2409},{"style":1823},[2410],{"type":179,"value":2411}," '?",{"type":174,"tag":262,"props":2413,"children":2415},{"style":2414},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2416],{"type":179,"value":2417},"1",{"type":174,"tag":262,"props":2419,"children":2420},{"style":1823},[2421],{"type":179,"value":319},{"type":174,"tag":262,"props":2423,"children":2424},{"style":296},[2425],{"type":179,"value":1858},{"type":174,"tag":262,"props":2427,"children":2429},{"class":264,"line":2428},21,[2430,2435,2439,2444],{"type":174,"tag":262,"props":2431,"children":2432},{"style":1823},[2433],{"type":179,"value":2434},"      referrerPolicy",{"type":174,"tag":262,"props":2436,"children":2437},{"style":296},[2438],{"type":179,"value":299},{"type":174,"tag":262,"props":2440,"children":2441},{"style":1823},[2442],{"type":179,"value":2443}," 'no-referrer'",{"type":174,"tag":262,"props":2445,"children":2446},{"style":296},[2447],{"type":179,"value":1858},{"type":174,"tag":262,"props":2449,"children":2451},{"class":264,"line":2450},22,[2452,2457,2461],{"type":174,"tag":262,"props":2453,"children":2454},{"style":1823},[2455],{"type":179,"value":2456},"      strictTransportSecurity",{"type":174,"tag":262,"props":2458,"children":2459},{"style":296},[2460],{"type":179,"value":299},{"type":174,"tag":262,"props":2462,"children":2463},{"style":296},[2464],{"type":179,"value":1835},{"type":174,"tag":262,"props":2466,"children":2468},{"class":264,"line":2467},23,[2469,2474,2478,2483],{"type":174,"tag":262,"props":2470,"children":2471},{"style":1823},[2472],{"type":179,"value":2473},"        maxAge",{"type":174,"tag":262,"props":2475,"children":2476},{"style":296},[2477],{"type":179,"value":299},{"type":174,"tag":262,"props":2479,"children":2480},{"style":2414},[2481],{"type":179,"value":2482}," 15552000",{"type":174,"tag":262,"props":2484,"children":2485},{"style":296},[2486],{"type":179,"value":1858},{"type":174,"tag":262,"props":2488,"children":2490},{"class":264,"line":2489},24,[2491,2496,2500,2505],{"type":174,"tag":262,"props":2492,"children":2493},{"style":1823},[2494],{"type":179,"value":2495},"        includeSubdomains",{"type":174,"tag":262,"props":2497,"children":2498},{"style":296},[2499],{"type":179,"value":299},{"type":174,"tag":262,"props":2501,"children":2502},{"style":1850},[2503],{"type":179,"value":2504}," true",{"type":174,"tag":262,"props":2506,"children":2507},{"style":296},[2508],{"type":179,"value":1858},{"type":174,"tag":262,"props":2510,"children":2512},{"class":264,"line":2511},25,[2513],{"type":174,"tag":262,"props":2514,"children":2515},{"style":296},[2516],{"type":179,"value":2393},{"type":174,"tag":262,"props":2518,"children":2520},{"class":264,"line":2519},26,[2521,2526,2530,2535],{"type":174,"tag":262,"props":2522,"children":2523},{"style":1823},[2524],{"type":179,"value":2525},"      xContentTypeOptions",{"type":174,"tag":262,"props":2527,"children":2528},{"style":296},[2529],{"type":179,"value":299},{"type":174,"tag":262,"props":2531,"children":2532},{"style":1823},[2533],{"type":179,"value":2534}," 'nosniff'",{"type":174,"tag":262,"props":2536,"children":2537},{"style":296},[2538],{"type":179,"value":1858},{"type":174,"tag":262,"props":2540,"children":2542},{"class":264,"line":2541},27,[2543,2548,2552,2557],{"type":174,"tag":262,"props":2544,"children":2545},{"style":1823},[2546],{"type":179,"value":2547},"      xDNSPrefetchControl",{"type":174,"tag":262,"props":2549,"children":2550},{"style":296},[2551],{"type":179,"value":299},{"type":174,"tag":262,"props":2553,"children":2554},{"style":1823},[2555],{"type":179,"value":2556}," 'off'",{"type":174,"tag":262,"props":2558,"children":2559},{"style":296},[2560],{"type":179,"value":1858},{"type":174,"tag":262,"props":2562,"children":2564},{"class":264,"line":2563},28,[2565,2570,2574,2579],{"type":174,"tag":262,"props":2566,"children":2567},{"style":1823},[2568],{"type":179,"value":2569},"      xDownloadOptions",{"type":174,"tag":262,"props":2571,"children":2572},{"style":296},[2573],{"type":179,"value":299},{"type":174,"tag":262,"props":2575,"children":2576},{"style":1823},[2577],{"type":179,"value":2578}," 'noopen'",{"type":174,"tag":262,"props":2580,"children":2581},{"style":296},[2582],{"type":179,"value":1858},{"type":174,"tag":262,"props":2584,"children":2586},{"class":264,"line":2585},29,[2587,2592,2596,2601],{"type":174,"tag":262,"props":2588,"children":2589},{"style":1823},[2590],{"type":179,"value":2591},"      xFrameOptions",{"type":174,"tag":262,"props":2593,"children":2594},{"style":296},[2595],{"type":179,"value":299},{"type":174,"tag":262,"props":2597,"children":2598},{"style":1823},[2599],{"type":179,"value":2600}," 'SAMEORIGIN'",{"type":174,"tag":262,"props":2602,"children":2603},{"style":296},[2604],{"type":179,"value":1858},{"type":174,"tag":262,"props":2606,"children":2608},{"class":264,"line":2607},30,[2609,2614,2618,2623],{"type":174,"tag":262,"props":2610,"children":2611},{"style":1823},[2612],{"type":179,"value":2613},"      xPermittedCrossDomainPolicies",{"type":174,"tag":262,"props":2615,"children":2616},{"style":296},[2617],{"type":179,"value":299},{"type":174,"tag":262,"props":2619,"children":2620},{"style":1823},[2621],{"type":179,"value":2622}," 'none'",{"type":174,"tag":262,"props":2624,"children":2625},{"style":296},[2626],{"type":179,"value":1858},{"type":174,"tag":262,"props":2628,"children":2630},{"class":264,"line":2629},31,[2631,2636,2640,2644,2649,2653],{"type":174,"tag":262,"props":2632,"children":2633},{"style":1823},[2634],{"type":179,"value":2635},"      xXSSProtection",{"type":174,"tag":262,"props":2637,"children":2638},{"style":296},[2639],{"type":179,"value":299},{"type":174,"tag":262,"props":2641,"children":2642},{"style":1823},[2643],{"type":179,"value":549},{"type":174,"tag":262,"props":2645,"children":2646},{"style":2414},[2647],{"type":179,"value":2648},"0",{"type":174,"tag":262,"props":2650,"children":2651},{"style":1823},[2652],{"type":179,"value":319},{"type":174,"tag":262,"props":2654,"children":2655},{"style":296},[2656],{"type":179,"value":1858},{"type":174,"tag":262,"props":2658,"children":2660},{"class":264,"line":2659},32,[2661,2666,2670],{"type":174,"tag":262,"props":2662,"children":2663},{"style":1823},[2664],{"type":179,"value":2665},"      permissionsPolicy",{"type":174,"tag":262,"props":2667,"children":2668},{"style":296},[2669],{"type":179,"value":299},{"type":174,"tag":262,"props":2671,"children":2672},{"style":296},[2673],{"type":179,"value":1835},{"type":174,"tag":262,"props":2675,"children":2677},{"class":264,"line":2676},33,[2678,2683,2687],{"type":174,"tag":262,"props":2679,"children":2680},{"style":1823},[2681],{"type":179,"value":2682},"        camera",{"type":174,"tag":262,"props":2684,"children":2685},{"style":296},[2686],{"type":179,"value":299},{"type":174,"tag":262,"props":2688,"children":2689},{"style":296},[2690],{"type":179,"value":2691}," [],\n",{"type":174,"tag":262,"props":2693,"children":2695},{"class":264,"line":2694},34,[2696,2701,2705],{"type":174,"tag":262,"props":2697,"children":2698},{"style":1823},[2699],{"type":179,"value":2700},"        'display-capture'",{"type":174,"tag":262,"props":2702,"children":2703},{"style":296},[2704],{"type":179,"value":299},{"type":174,"tag":262,"props":2706,"children":2707},{"style":296},[2708],{"type":179,"value":2691},{"type":174,"tag":262,"props":2710,"children":2712},{"class":264,"line":2711},35,[2713,2718,2722],{"type":174,"tag":262,"props":2714,"children":2715},{"style":1823},[2716],{"type":179,"value":2717},"        fullscreen",{"type":174,"tag":262,"props":2719,"children":2720},{"style":296},[2721],{"type":179,"value":299},{"type":174,"tag":262,"props":2723,"children":2724},{"style":296},[2725],{"type":179,"value":2691},{"type":174,"tag":262,"props":2727,"children":2729},{"class":264,"line":2728},36,[2730,2735,2739],{"type":174,"tag":262,"props":2731,"children":2732},{"style":1823},[2733],{"type":179,"value":2734},"        geolocation",{"type":174,"tag":262,"props":2736,"children":2737},{"style":296},[2738],{"type":179,"value":299},{"type":174,"tag":262,"props":2740,"children":2741},{"style":296},[2742],{"type":179,"value":2691},{"type":174,"tag":262,"props":2744,"children":2746},{"class":264,"line":2745},37,[2747,2752,2756],{"type":174,"tag":262,"props":2748,"children":2749},{"style":1823},[2750],{"type":179,"value":2751},"        microphone",{"type":174,"tag":262,"props":2753,"children":2754},{"style":296},[2755],{"type":179,"value":299},{"type":174,"tag":262,"props":2757,"children":2758},{"style":296},[2759],{"type":179,"value":2760}," []\n",{"type":174,"tag":262,"props":2762,"children":2764},{"class":264,"line":2763},38,[2765],{"type":174,"tag":262,"props":2766,"children":2767},{"style":296},[2768],{"type":179,"value":2769},"      }\n",{"type":174,"tag":262,"props":2771,"children":2773},{"class":264,"line":2772},39,[2774],{"type":174,"tag":262,"props":2775,"children":2776},{"style":296},[2777],{"type":179,"value":2778},"    },\n",{"type":174,"tag":262,"props":2780,"children":2782},{"class":264,"line":2781},40,[2783,2788,2792],{"type":174,"tag":262,"props":2784,"children":2785},{"style":1823},[2786],{"type":179,"value":2787},"    requestSizeLimiter",{"type":174,"tag":262,"props":2789,"children":2790},{"style":296},[2791],{"type":179,"value":299},{"type":174,"tag":262,"props":2793,"children":2794},{"style":296},[2795],{"type":179,"value":1835},{"type":174,"tag":262,"props":2797,"children":2799},{"class":264,"line":2798},41,[2800,2805,2809,2814],{"type":174,"tag":262,"props":2801,"children":2802},{"style":1823},[2803],{"type":179,"value":2804},"      maxRequestSizeInBytes",{"type":174,"tag":262,"props":2806,"children":2807},{"style":296},[2808],{"type":179,"value":299},{"type":174,"tag":262,"props":2810,"children":2811},{"style":2414},[2812],{"type":179,"value":2813}," 2000000",{"type":174,"tag":262,"props":2815,"children":2816},{"style":296},[2817],{"type":179,"value":1858},{"type":174,"tag":262,"props":2819,"children":2821},{"class":264,"line":2820},42,[2822,2827,2831,2836],{"type":174,"tag":262,"props":2823,"children":2824},{"style":1823},[2825],{"type":179,"value":2826},"      maxUploadFileRequestInBytes",{"type":174,"tag":262,"props":2828,"children":2829},{"style":296},[2830],{"type":179,"value":299},{"type":174,"tag":262,"props":2832,"children":2833},{"style":2414},[2834],{"type":179,"value":2835}," 8000000",{"type":174,"tag":262,"props":2837,"children":2838},{"style":296},[2839],{"type":179,"value":1858},{"type":174,"tag":262,"props":2841,"children":2843},{"class":264,"line":2842},43,[2844,2849,2853],{"type":174,"tag":262,"props":2845,"children":2846},{"style":1823},[2847],{"type":179,"value":2848},"      throwError",{"type":174,"tag":262,"props":2850,"children":2851},{"style":296},[2852],{"type":179,"value":299},{"type":174,"tag":262,"props":2854,"children":2855},{"style":1850},[2856],{"type":179,"value":2384},{"type":174,"tag":262,"props":2858,"children":2860},{"class":264,"line":2859},44,[2861],{"type":174,"tag":262,"props":2862,"children":2863},{"style":296},[2864],{"type":179,"value":2778},{"type":174,"tag":262,"props":2866,"children":2868},{"class":264,"line":2867},45,[2869,2874,2878],{"type":174,"tag":262,"props":2870,"children":2871},{"style":1823},[2872],{"type":179,"value":2873},"    rateLimiter",{"type":174,"tag":262,"props":2875,"children":2876},{"style":296},[2877],{"type":179,"value":299},{"type":174,"tag":262,"props":2879,"children":2880},{"style":296},[2881],{"type":179,"value":1835},{"type":174,"tag":262,"props":2883,"children":2885},{"class":264,"line":2884},46,[2886,2891,2895,2900],{"type":174,"tag":262,"props":2887,"children":2888},{"style":1823},[2889],{"type":179,"value":2890},"      tokensPerInterval",{"type":174,"tag":262,"props":2892,"children":2893},{"style":296},[2894],{"type":179,"value":299},{"type":174,"tag":262,"props":2896,"children":2897},{"style":2414},[2898],{"type":179,"value":2899}," 150",{"type":174,"tag":262,"props":2901,"children":2902},{"style":296},[2903],{"type":179,"value":1858},{"type":174,"tag":262,"props":2905,"children":2907},{"class":264,"line":2906},47,[2908,2913,2917,2922],{"type":174,"tag":262,"props":2909,"children":2910},{"style":1823},[2911],{"type":179,"value":2912},"      interval",{"type":174,"tag":262,"props":2914,"children":2915},{"style":296},[2916],{"type":179,"value":299},{"type":174,"tag":262,"props":2918,"children":2919},{"style":2414},[2920],{"type":179,"value":2921}," 300000",{"type":174,"tag":262,"props":2923,"children":2924},{"style":296},[2925],{"type":179,"value":1858},{"type":174,"tag":262,"props":2927,"children":2929},{"class":264,"line":2928},48,[2930,2935,2939,2943],{"type":174,"tag":262,"props":2931,"children":2932},{"style":1823},[2933],{"type":179,"value":2934},"      headers",{"type":174,"tag":262,"props":2936,"children":2937},{"style":296},[2938],{"type":179,"value":299},{"type":174,"tag":262,"props":2940,"children":2941},{"style":1850},[2942],{"type":179,"value":1853},{"type":174,"tag":262,"props":2944,"children":2945},{"style":296},[2946],{"type":179,"value":1858},{"type":174,"tag":262,"props":2948,"children":2950},{"class":264,"line":2949},49,[2951,2956,2960],{"type":174,"tag":262,"props":2952,"children":2953},{"style":1823},[2954],{"type":179,"value":2955},"      driver",{"type":174,"tag":262,"props":2957,"children":2958},{"style":296},[2959],{"type":179,"value":299},{"type":174,"tag":262,"props":2961,"children":2962},{"style":296},[2963],{"type":179,"value":1835},{"type":174,"tag":262,"props":2965,"children":2967},{"class":264,"line":2966},50,[2968,2973,2977],{"type":174,"tag":262,"props":2969,"children":2970},{"style":1823},[2971],{"type":179,"value":2972},"        name",{"type":174,"tag":262,"props":2974,"children":2975},{"style":296},[2976],{"type":179,"value":299},{"type":174,"tag":262,"props":2978,"children":2979},{"style":1823},[2980],{"type":179,"value":2981}," 'lruCache'\n",{"type":174,"tag":262,"props":2983,"children":2985},{"class":264,"line":2984},51,[2986],{"type":174,"tag":262,"props":2987,"children":2988},{"style":296},[2989],{"type":179,"value":2393},{"type":174,"tag":262,"props":2991,"children":2993},{"class":264,"line":2992},52,[2994,2998,3002],{"type":174,"tag":262,"props":2995,"children":2996},{"style":1823},[2997],{"type":179,"value":2848},{"type":174,"tag":262,"props":2999,"children":3000},{"style":296},[3001],{"type":179,"value":299},{"type":174,"tag":262,"props":3003,"children":3004},{"style":1850},[3005],{"type":179,"value":2384},{"type":174,"tag":262,"props":3007,"children":3009},{"class":264,"line":3008},53,[3010],{"type":174,"tag":262,"props":3011,"children":3012},{"style":296},[3013],{"type":179,"value":2778},{"type":174,"tag":262,"props":3015,"children":3017},{"class":264,"line":3016},54,[3018,3023,3027],{"type":174,"tag":262,"props":3019,"children":3020},{"style":1823},[3021],{"type":179,"value":3022},"    xssValidator",{"type":174,"tag":262,"props":3024,"children":3025},{"style":296},[3026],{"type":179,"value":299},{"type":174,"tag":262,"props":3028,"children":3029},{"style":296},[3030],{"type":179,"value":1835},{"type":174,"tag":262,"props":3032,"children":3034},{"class":264,"line":3033},55,[3035,3039,3043],{"type":174,"tag":262,"props":3036,"children":3037},{"style":1823},[3038],{"type":179,"value":2848},{"type":174,"tag":262,"props":3040,"children":3041},{"style":296},[3042],{"type":179,"value":299},{"type":174,"tag":262,"props":3044,"children":3045},{"style":1850},[3046],{"type":179,"value":2384},{"type":174,"tag":262,"props":3048,"children":3050},{"class":264,"line":3049},56,[3051],{"type":174,"tag":262,"props":3052,"children":3053},{"style":296},[3054],{"type":179,"value":2778},{"type":174,"tag":262,"props":3056,"children":3058},{"class":264,"line":3057},57,[3059,3064,3068],{"type":174,"tag":262,"props":3060,"children":3061},{"style":1823},[3062],{"type":179,"value":3063},"    corsHandler",{"type":174,"tag":262,"props":3065,"children":3066},{"style":296},[3067],{"type":179,"value":299},{"type":174,"tag":262,"props":3069,"children":3070},{"style":296},[3071],{"type":179,"value":1835},{"type":174,"tag":262,"props":3073,"children":3075},{"class":264,"line":3074},58,[3076,3081,3085,3090],{"type":174,"tag":262,"props":3077,"children":3078},{"style":1823},[3079],{"type":179,"value":3080},"      origin",{"type":174,"tag":262,"props":3082,"children":3083},{"style":296},[3084],{"type":179,"value":299},{"type":174,"tag":262,"props":3086,"children":3087},{"style":1823},[3088],{"type":179,"value":3089}," serverlUrl",{"type":174,"tag":262,"props":3091,"children":3092},{"style":296},[3093],{"type":179,"value":1858},{"type":174,"tag":262,"props":3095,"children":3097},{"class":264,"line":3096},59,[3098,3103,3107,3111,3116,3120,3125,3129,3134,3138,3143,3147,3152,3156,3161],{"type":174,"tag":262,"props":3099,"children":3100},{"style":1823},[3101],{"type":179,"value":3102},"      methods",{"type":174,"tag":262,"props":3104,"children":3105},{"style":296},[3106],{"type":179,"value":299},{"type":174,"tag":262,"props":3108,"children":3109},{"style":296},[3110],{"type":179,"value":1970},{"type":174,"tag":262,"props":3112,"children":3113},{"style":1823},[3114],{"type":179,"value":3115},"'GET'",{"type":174,"tag":262,"props":3117,"children":3118},{"style":296},[3119],{"type":179,"value":2025},{"type":174,"tag":262,"props":3121,"children":3122},{"style":1823},[3123],{"type":179,"value":3124}," 'HEAD'",{"type":174,"tag":262,"props":3126,"children":3127},{"style":296},[3128],{"type":179,"value":2025},{"type":174,"tag":262,"props":3130,"children":3131},{"style":1823},[3132],{"type":179,"value":3133}," 'PUT'",{"type":174,"tag":262,"props":3135,"children":3136},{"style":296},[3137],{"type":179,"value":2025},{"type":174,"tag":262,"props":3139,"children":3140},{"style":1823},[3141],{"type":179,"value":3142}," 'PATCH'",{"type":174,"tag":262,"props":3144,"children":3145},{"style":296},[3146],{"type":179,"value":2025},{"type":174,"tag":262,"props":3148,"children":3149},{"style":1823},[3150],{"type":179,"value":3151}," 'POST'",{"type":174,"tag":262,"props":3153,"children":3154},{"style":296},[3155],{"type":179,"value":2025},{"type":174,"tag":262,"props":3157,"children":3158},{"style":1823},[3159],{"type":179,"value":3160}," 'DELETE'",{"type":174,"tag":262,"props":3162,"children":3163},{"style":296},[3164],{"type":179,"value":1990},{"type":174,"tag":262,"props":3166,"children":3168},{"class":264,"line":3167},60,[3169,3174,3178],{"type":174,"tag":262,"props":3170,"children":3171},{"style":1823},[3172],{"type":179,"value":3173},"      preflight",{"type":174,"tag":262,"props":3175,"children":3176},{"style":296},[3177],{"type":179,"value":299},{"type":174,"tag":262,"props":3179,"children":3180},{"style":296},[3181],{"type":179,"value":1835},{"type":174,"tag":262,"props":3183,"children":3185},{"class":264,"line":3184},61,[3186,3191,3195],{"type":174,"tag":262,"props":3187,"children":3188},{"style":1823},[3189],{"type":179,"value":3190},"        statusCode",{"type":174,"tag":262,"props":3192,"children":3193},{"style":296},[3194],{"type":179,"value":299},{"type":174,"tag":262,"props":3196,"children":3197},{"style":2414},[3198],{"type":179,"value":3199}," 204\n",{"type":174,"tag":262,"props":3201,"children":3203},{"class":264,"line":3202},62,[3204],{"type":174,"tag":262,"props":3205,"children":3206},{"style":296},[3207],{"type":179,"value":2393},{"type":174,"tag":262,"props":3209,"children":3211},{"class":264,"line":3210},63,[3212],{"type":174,"tag":262,"props":3213,"children":3214},{"style":296},[3215],{"type":179,"value":2778},{"type":174,"tag":262,"props":3217,"children":3219},{"class":264,"line":3218},64,[3220,3225,3229],{"type":174,"tag":262,"props":3221,"children":3222},{"style":1823},[3223],{"type":179,"value":3224},"    allowedMethodsRestricter",{"type":174,"tag":262,"props":3226,"children":3227},{"style":296},[3228],{"type":179,"value":299},{"type":174,"tag":262,"props":3230,"children":3231},{"style":296},[3232],{"type":179,"value":1835},{"type":174,"tag":262,"props":3234,"children":3236},{"class":264,"line":3235},65,[3237,3241,3245,3250],{"type":174,"tag":262,"props":3238,"children":3239},{"style":1823},[3240],{"type":179,"value":3102},{"type":174,"tag":262,"props":3242,"children":3243},{"style":296},[3244],{"type":179,"value":299},{"type":174,"tag":262,"props":3246,"children":3247},{"style":1823},[3248],{"type":179,"value":3249}," '*'",{"type":174,"tag":262,"props":3251,"children":3252},{"style":296},[3253],{"type":179,"value":1858},{"type":174,"tag":262,"props":3255,"children":3257},{"class":264,"line":3256},66,[3258,3262,3266],{"type":174,"tag":262,"props":3259,"children":3260},{"style":1823},[3261],{"type":179,"value":2848},{"type":174,"tag":262,"props":3263,"children":3264},{"style":296},[3265],{"type":179,"value":299},{"type":174,"tag":262,"props":3267,"children":3268},{"style":1850},[3269],{"type":179,"value":2384},{"type":174,"tag":262,"props":3271,"children":3273},{"class":264,"line":3272},67,[3274],{"type":174,"tag":262,"props":3275,"children":3276},{"style":296},[3277],{"type":179,"value":2778},{"type":174,"tag":262,"props":3279,"children":3281},{"class":264,"line":3280},68,[3282,3287,3291,3295],{"type":174,"tag":262,"props":3283,"children":3284},{"style":1823},[3285],{"type":179,"value":3286},"    hidePoweredBy",{"type":174,"tag":262,"props":3288,"children":3289},{"style":296},[3290],{"type":179,"value":299},{"type":174,"tag":262,"props":3292,"children":3293},{"style":1850},[3294],{"type":179,"value":2504},{"type":174,"tag":262,"props":3296,"children":3297},{"style":296},[3298],{"type":179,"value":1858},{"type":174,"tag":262,"props":3300,"children":3302},{"class":264,"line":3301},69,[3303,3308,3312,3316],{"type":174,"tag":262,"props":3304,"children":3305},{"style":1823},[3306],{"type":179,"value":3307},"    basicAuth",{"type":174,"tag":262,"props":3309,"children":3310},{"style":296},[3311],{"type":179,"value":299},{"type":174,"tag":262,"props":3313,"children":3314},{"style":1850},[3315],{"type":179,"value":1853},{"type":174,"tag":262,"props":3317,"children":3318},{"style":296},[3319],{"type":179,"value":1858},{"type":174,"tag":262,"props":3321,"children":3323},{"class":264,"line":3322},70,[3324,3329,3333,3337],{"type":174,"tag":262,"props":3325,"children":3326},{"style":1823},[3327],{"type":179,"value":3328},"    enabled",{"type":174,"tag":262,"props":3330,"children":3331},{"style":296},[3332],{"type":179,"value":299},{"type":174,"tag":262,"props":3334,"children":3335},{"style":1850},[3336],{"type":179,"value":2504},{"type":174,"tag":262,"props":3338,"children":3339},{"style":296},[3340],{"type":179,"value":1858},{"type":174,"tag":262,"props":3342,"children":3344},{"class":264,"line":3343},71,[3345,3350,3354,3358],{"type":174,"tag":262,"props":3346,"children":3347},{"style":1823},[3348],{"type":179,"value":3349},"    csrf",{"type":174,"tag":262,"props":3351,"children":3352},{"style":296},[3353],{"type":179,"value":299},{"type":174,"tag":262,"props":3355,"children":3356},{"style":1850},[3357],{"type":179,"value":1853},{"type":174,"tag":262,"props":3359,"children":3360},{"style":296},[3361],{"type":179,"value":1858},{"type":174,"tag":262,"props":3363,"children":3365},{"class":264,"line":3364},72,[3366,3371,3375,3379],{"type":174,"tag":262,"props":3367,"children":3368},{"style":1823},[3369],{"type":179,"value":3370},"    nonce",{"type":174,"tag":262,"props":3372,"children":3373},{"style":296},[3374],{"type":179,"value":299},{"type":174,"tag":262,"props":3376,"children":3377},{"style":1850},[3378],{"type":179,"value":2504},{"type":174,"tag":262,"props":3380,"children":3381},{"style":296},[3382],{"type":179,"value":1858},{"type":174,"tag":262,"props":3384,"children":3386},{"class":264,"line":3385},73,[3387,3392,3396,3400],{"type":174,"tag":262,"props":3388,"children":3389},{"style":1823},[3390],{"type":179,"value":3391},"    removeLoggers",{"type":174,"tag":262,"props":3393,"children":3394},{"style":296},[3395],{"type":179,"value":299},{"type":174,"tag":262,"props":3397,"children":3398},{"style":1850},[3399],{"type":179,"value":2504},{"type":174,"tag":262,"props":3401,"children":3402},{"style":296},[3403],{"type":179,"value":1858},{"type":174,"tag":262,"props":3405,"children":3407},{"class":264,"line":3406},74,[3408,3413,3417],{"type":174,"tag":262,"props":3409,"children":3410},{"style":1823},[3411],{"type":179,"value":3412},"    ssg",{"type":174,"tag":262,"props":3414,"children":3415},{"style":296},[3416],{"type":179,"value":299},{"type":174,"tag":262,"props":3418,"children":3419},{"style":296},[3420],{"type":179,"value":1835},{"type":174,"tag":262,"props":3422,"children":3424},{"class":264,"line":3423},75,[3425,3430,3434,3438],{"type":174,"tag":262,"props":3426,"children":3427},{"style":1823},[3428],{"type":179,"value":3429},"      meta",{"type":174,"tag":262,"props":3431,"children":3432},{"style":296},[3433],{"type":179,"value":299},{"type":174,"tag":262,"props":3435,"children":3436},{"style":1850},[3437],{"type":179,"value":2504},{"type":174,"tag":262,"props":3439,"children":3440},{"style":296},[3441],{"type":179,"value":1858},{"type":174,"tag":262,"props":3443,"children":3445},{"class":264,"line":3444},76,[3446,3451,3455,3459],{"type":174,"tag":262,"props":3447,"children":3448},{"style":1823},[3449],{"type":179,"value":3450},"      hashScripts",{"type":174,"tag":262,"props":3452,"children":3453},{"style":296},[3454],{"type":179,"value":299},{"type":174,"tag":262,"props":3456,"children":3457},{"style":1850},[3458],{"type":179,"value":2504},{"type":174,"tag":262,"props":3460,"children":3461},{"style":296},[3462],{"type":179,"value":1858},{"type":174,"tag":262,"props":3464,"children":3466},{"class":264,"line":3465},77,[3467,3472,3476,3480],{"type":174,"tag":262,"props":3468,"children":3469},{"style":1823},[3470],{"type":179,"value":3471},"      hashStyles",{"type":174,"tag":262,"props":3473,"children":3474},{"style":296},[3475],{"type":179,"value":299},{"type":174,"tag":262,"props":3477,"children":3478},{"style":1850},[3479],{"type":179,"value":1853},{"type":174,"tag":262,"props":3481,"children":3482},{"style":296},[3483],{"type":179,"value":1858},{"type":174,"tag":262,"props":3485,"children":3487},{"class":264,"line":3486},78,[3488,3493,3497,3501],{"type":174,"tag":262,"props":3489,"children":3490},{"style":1823},[3491],{"type":179,"value":3492},"      nitroHeaders",{"type":174,"tag":262,"props":3494,"children":3495},{"style":296},[3496],{"type":179,"value":299},{"type":174,"tag":262,"props":3498,"children":3499},{"style":1850},[3500],{"type":179,"value":2504},{"type":174,"tag":262,"props":3502,"children":3503},{"style":296},[3504],{"type":179,"value":1858},{"type":174,"tag":262,"props":3506,"children":3508},{"class":264,"line":3507},79,[3509,3514,3518,3522],{"type":174,"tag":262,"props":3510,"children":3511},{"style":1823},[3512],{"type":179,"value":3513},"      exportToPresets",{"type":174,"tag":262,"props":3515,"children":3516},{"style":296},[3517],{"type":179,"value":299},{"type":174,"tag":262,"props":3519,"children":3520},{"style":1850},[3521],{"type":179,"value":2504},{"type":174,"tag":262,"props":3523,"children":3524},{"style":296},[3525],{"type":179,"value":1858},{"type":174,"tag":262,"props":3527,"children":3529},{"class":264,"line":3528},80,[3530],{"type":174,"tag":262,"props":3531,"children":3532},{"style":296},[3533],{"type":179,"value":2778},{"type":174,"tag":262,"props":3535,"children":3537},{"class":264,"line":3536},81,[3538,3543,3547],{"type":174,"tag":262,"props":3539,"children":3540},{"style":1823},[3541],{"type":179,"value":3542},"    sri",{"type":174,"tag":262,"props":3544,"children":3545},{"style":296},[3546],{"type":179,"value":299},{"type":174,"tag":262,"props":3548,"children":3549},{"style":1850},[3550],{"type":179,"value":2384},{"type":174,"tag":262,"props":3552,"children":3554},{"class":264,"line":3553},82,[3555],{"type":174,"tag":262,"props":3556,"children":3557},{"style":296},[3558],{"type":179,"value":3559},"  }\n",{"type":174,"tag":262,"props":3561,"children":3563},{"class":264,"line":3562},83,[3564],{"type":174,"tag":262,"props":3565,"children":3566},{"style":296},[3567],{"type":179,"value":3568},"}\n",{"type":174,"tag":175,"props":3570,"children":3571},{},[3572],{"type":179,"value":3573},"配置优先级符合 Nuxt Module，最低是默认配置，然后是 inline 模块配置，再是 nuxt.config.ts 中单独的 security 字段配置，之后是 routeRule.security 字段配置，最后是运行时中间件配置。",{"type":174,"tag":3575,"props":3576,"children":3577},"style",{},[3578],{"type":179,"value":3579},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":163,"searchDepth":919,"depth":919,"links":3581},[3582,3583,3592,3593,3594],{"id":195,"depth":919,"text":195},{"id":219,"depth":919,"text":219,"children":3584},[3585,3586,3587,3588,3589,3590,3591],{"id":225,"depth":1068,"text":228},{"id":998,"depth":1068,"text":1001},{"id":1160,"depth":1068,"text":1160},{"id":1351,"depth":1068,"text":1351},{"id":1649,"depth":1068,"text":1649},{"id":1664,"depth":1068,"text":1667},{"id":1726,"depth":1068,"text":1726},{"id":1736,"depth":919,"text":1736},{"id":1771,"depth":919,"text":1771},{"id":1793,"depth":919,"text":1793},"markdown","content:6.maps:_fe-framework:nuxt:module:nuxt-security.md","content","6.maps/_fe-framework/nuxt/module/nuxt-security.md","6.maps/_fe-framework/nuxt/module/nuxt-security","md",[3602,3606],{"_path":3603,"title":3604,"description":3605},"/maps/_fe-framework/micro-fe","微前端","微前端是一种架构风格，是一种将前端应用拆分成更小、更独立的部分，然后将这些部分组合在一起的技术方案。微前端的目标是将单体应用拆分成多个小型应用，每个小型应用都可以独立开发、独立部署。",{"_path":3607,"title":3608,"description":3609},"/maps/_fe-framework/nuxt/nuxt","Nuxt","Nuxt 是一个基于 Vue.js 全栈框架",1748756327897]