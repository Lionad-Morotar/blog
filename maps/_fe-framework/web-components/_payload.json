[{"data":1,"prerenderedAt":1273},["ShallowReactive",2],{"navigation":3,"/maps/_fe-framework/web-components":155,"/maps/_fe-framework/web-components-surround":1265},[4,35,86,92,119,125,149],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"读书笔记 / Notes","/books",[90],{"title":91,"_path":88},"📕 读书笔记",{"title":93,"_path":94,"children":95},"吉他剧场 / Music","/music",[96,98,101,104,107,110,113,116],{"title":97,"_path":94},"🎸 FingerStyle！",{"title":99,"_path":100},"🌬️ 等待的风","/music/wind",{"title":102,"_path":103},"💕 约定的海洋","/music/ocean",{"title":105,"_path":106},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":108,"_path":109},"🌏 残酷天使的行动纲领","/music/eva",{"title":111,"_path":112},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":114,"_path":115},"🍷 Wu Wei","/music/wu-wei",{"title":117,"_path":118},"🌅 无题","/music/untitled",{"title":120,"_path":121,"children":122},"知识地图 / Maps","/maps",[123],{"title":124,"_path":121},"🏁 知识地图",{"title":126,"_path":127,"children":128},"造物 / Make","/tools",[129,131,134,137,140,143,146],{"title":130,"_path":127},"🧰 工具收集",{"title":132,"_path":133},"📕 博客","/tools/blog",{"title":135,"_path":136},"🥥 Coconut","/tools/coconut",{"title":138,"_path":139},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":141,"_path":142},"🌐 AnySort","/tools/anysort",{"title":144,"_path":145},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":147,"_path":148},"👓 Crapto","/tools/crypto-inline",{"title":150,"_path":151,"children":152},"我 / About","/hire",[153],{"title":154,"_path":151},"📬 技术简历",{"_path":156,"_dir":157,"_draft":158,"_partial":159,"_locale":160,"title":161,"description":162,"body":163,"_type":1259,"_id":1260,"_source":1261,"_file":1262,"_stem":1263,"_extension":1264},"/maps/_fe-framework/web-components","_fe-framework",false,true,"","Web Components","Web Components 是一种 Web 开发技术，它允许开发者创建自定义的、可重用的组件，这些组件可以在不同的 Web 应用中使用。",{"type":164,"children":165,"toc":1250},"root",[166,175,187,192,222,228,233,263,284,289,357,362,379,384,397,402,881,894,998,1004,1009,1014,1124,1129,1134,1188,1244],{"type":167,"tag":168,"props":169,"children":171},"element","h2",{"id":170},"shadow-dom",[172],{"type":173,"value":174},"text","Shadow DOM",{"type":167,"tag":176,"props":177,"children":178},"p",{},[179,185],{"type":167,"tag":180,"props":181,"children":182},"strong",{},[183],{"type":173,"value":184},"传统网页应用中的样式具有一定程度的脆弱性，微小样式带来的影响通常会逐渐累积、放大，最终给全局带来影响。",{"type":173,"value":186}," 为了解决这种脆弱性，Shadow DOM 定义了一系列围绕 DOM 产生的新概念，如影子树规范（DOM 4.1）、UI 交互规范等。其渲染部分则与 CSS 作用域规范（CSS Scoping Specification）相关。",{"type":167,"tag":176,"props":188,"children":189},{},[190],{"type":173,"value":191},"影子树（Shadow Tree）的根节点是影子根（Shadow Root），后者并不是一个真正的元素，不过它作为影子树和 DOM 的桥梁，和一个正常的 DOM 元素，即影子宿主（Shadow Root）绑定在一起。有时，我们会按照组件的作用域范围，把影子宿主所在的树称作 Light Tree（组件外部），以区分影子树所在树 Dark Tree（组件内部）。",{"type":167,"tag":176,"props":193,"children":194},{},[195,197,211,213,220],{"type":173,"value":196},"可能会令人困惑的是：影子宿主元素中的正常元素是不会被正常渲染，而是通过规范定义的通讯组（Distribution List",{"type":167,"tag":198,"props":199,"children":200},"sup",{},[201],{"type":167,"tag":202,"props":203,"children":208},"a",{"href":204,"ariaDescribedBy":205,"dataFootnoteRef":160,"id":207},"#user-content-fn-distribution-list",[206],"footnote-label","user-content-fnref-distribution-list",[209],{"type":173,"value":210},"1",{"type":173,"value":212},"）将这些元素强制拉入影子树中渲染。通讯组不是一个实体概念，但它具有一个 Content 元素，将影子宿主中的正常元素囊括其中，而 Content 本身并不渲染（类似 ",{"type":167,"tag":214,"props":215,"children":217},"code",{"className":216},[],[218],{"type":173,"value":219},"display：content",{"type":173,"value":221},"）。",{"type":167,"tag":223,"props":224,"children":226},"h3",{"id":225},"样式",[227],{"type":173,"value":225},{"type":167,"tag":176,"props":229,"children":230},{},[231],{"type":173,"value":232},"相关 Shadow DOM 有几种新的选择器方法：",{"type":167,"tag":234,"props":235,"children":236},"ul",{},[237,243,248,253,258],{"type":167,"tag":238,"props":239,"children":240},"li",{},[241],{"type":173,"value":242},"选择影子宿主：在影子树样式中直接使用使用 $:host$、$:host()$ 伪类选择影子宿主；",{"type":167,"tag":238,"props":244,"children":245},{},[246],{"type":173,"value":247},"向上选择：使用 $:host-context()$ 伪类选择器可以选取当前元素的“父节点”，可能是影子宿主、Distribution List 的 Content 元素或元素的父元素；",{"type":167,"tag":238,"props":249,"children":250},{},[251],{"type":173,"value":252},"向下选择：使用 $::shadow()$ 选择当前元素对应的影子根（可以有多个）；",{"type":167,"tag":238,"props":254,"children":255},{},[256],{"type":173,"value":257},"选择通讯组：使用 $::content$ 选择当前影子树对应的宿主中通讯组对应的 Content 元素；",{"type":167,"tag":238,"props":259,"children":260},{},[261],{"type":173,"value":262},"选择插槽：使用 $::slotted()$ 选择插槽节点；（插槽在下一小节介绍）",{"type":167,"tag":176,"props":264,"children":265},{},[266,268,274,276,282],{"type":173,"value":267},"需要注意的是，对影子宿主来说，组件内部样式的优先级总是低于外部样式的，如 ",{"type":167,"tag":214,"props":269,"children":271},{"className":270},[],[272],{"type":173,"value":273},".shadow-root",{"type":173,"value":275}," 的优先级要高于影子树内部的 ",{"type":167,"tag":214,"props":277,"children":279},{"className":278},[],[280],{"type":173,"value":281},":host",{"type":173,"value":283},"。",{"type":167,"tag":176,"props":285,"children":286},{},[287],{"type":173,"value":288},"此外，CSS 作用域规范提供了深度选择器（$/deep/$），用于穿刺选择，无论嵌套多深的影子树中的元素都能被选中。不过，一些 CSS 中可继承的属性会穿透影子边界，所以建议使用如下样式重置组件内的 CSS：",{"type":167,"tag":290,"props":291,"children":295},"pre",{"className":292,"code":293,"language":294,"meta":160,"style":160},"language-css shiki shiki-themes material-theme-lighter github-light github-dark monokai",":host {\n  all: initial;\n}\n","css",[296],{"type":167,"tag":214,"props":297,"children":298},{"__ignoreMap":160},[299,323,348],{"type":167,"tag":300,"props":301,"children":304},"span",{"class":302,"line":303},"line",1,[305,311,317],{"type":167,"tag":300,"props":306,"children":308},{"style":307},"--shiki-light:#39ADB5;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[309],{"type":173,"value":310},":",{"type":167,"tag":300,"props":312,"children":314},{"style":313},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[315],{"type":173,"value":316},"host",{"type":167,"tag":300,"props":318,"children":320},{"style":319},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[321],{"type":173,"value":322}," {\n",{"type":167,"tag":300,"props":324,"children":326},{"class":302,"line":325},2,[327,333,337,343],{"type":167,"tag":300,"props":328,"children":330},{"style":329},"--shiki-light:#8796B0;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[331],{"type":173,"value":332},"  all",{"type":167,"tag":300,"props":334,"children":335},{"style":319},[336],{"type":173,"value":310},{"type":167,"tag":300,"props":338,"children":340},{"style":339},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF",[341],{"type":173,"value":342}," initial",{"type":167,"tag":300,"props":344,"children":345},{"style":319},[346],{"type":173,"value":347},";\n",{"type":167,"tag":300,"props":349,"children":351},{"class":302,"line":350},3,[352],{"type":167,"tag":300,"props":353,"children":354},{"style":319},[355],{"type":173,"value":356},"}\n",{"type":167,"tag":223,"props":358,"children":360},{"id":359},"插槽",[361],{"type":173,"value":359},{"type":167,"tag":176,"props":363,"children":364},{},[365,367,378],{"type":173,"value":366},"插槽（Slot）类似于通讯组，作为组件内部的一个占位符，其本身不在组件中渲染。如果你习惯使用 Slots in Vue，可能会发现两者几乎一模一样，其实，Slots in Vue 已经在其文档中说明了，Vue 中的 Slots API 的灵感来源于 Slots in Web Components ",{"type":167,"tag":198,"props":368,"children":369},{},[370],{"type":167,"tag":202,"props":371,"children":375},{"href":372,"ariaDescribedBy":373,"dataFootnoteRef":160,"id":374},"#user-content-fn-slosts-salute",[206],"user-content-fnref-slosts-salute",[376],{"type":173,"value":377},"2",{"type":173,"value":283},{"type":167,"tag":176,"props":380,"children":381},{},[382],{"type":173,"value":383},"插槽常用作内容分发，具有这些特性：",{"type":167,"tag":234,"props":385,"children":386},{},[387,392],{"type":167,"tag":238,"props":388,"children":389},{},[390],{"type":173,"value":391},"从外部传入插槽的内容时，只会填充，不会覆盖；",{"type":167,"tag":238,"props":393,"children":394},{},[395],{"type":173,"value":396},"插槽内容的样式，可以由组件内部指定；",{"type":167,"tag":176,"props":398,"children":399},{},[400],{"type":173,"value":401},"见以下代码：",{"type":167,"tag":290,"props":403,"children":407},{"className":404,"code":405,"language":406,"meta":160,"style":160},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003C!-- HTML 源码 -->\n\u003CWebComponents>\n  \u003Ch2 slot=\"title-2\" class=\"title-2\">First\u003C/h2>\n  \u003Ch2 slot=\"title-2\" class=\"title-2\">Second\u003C/h2>\n\u003C/WebComponents>\n\n\u003C!-- 渲染出的 Shadow Tree -->\n\u003CWebComponents>\n  #shadow-root\n    \u003Cslot name=\"title-2\">\n      \u003C!-- 影子树内部的样式 .title-2 对此插槽内容同样生效 -->\n      \u003Ch2 slot=\"title-2\" class=\"title-2\">First\u003C/h2>\n      \u003Ch2 slot=\"title-2\" class=\"title-2\">Second\u003C/h2>\n    \u003C/slot>\n\u003C/WebComponents>\n","html",[408],{"type":167,"tag":214,"props":409,"children":410},{"__ignoreMap":160},[411,420,439,523,596,612,621,630,646,655,694,703,776,848,865],{"type":167,"tag":300,"props":412,"children":413},{"class":302,"line":303},[414],{"type":167,"tag":300,"props":415,"children":417},{"style":416},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[418],{"type":173,"value":419},"\u003C!-- HTML 源码 -->\n",{"type":167,"tag":300,"props":421,"children":422},{"class":302,"line":325},[423,428,434],{"type":167,"tag":300,"props":424,"children":425},{"style":319},[426],{"type":173,"value":427},"\u003C",{"type":167,"tag":300,"props":429,"children":431},{"style":430},"--shiki-light:#E53935;--shiki-light-font-style:inherit;--shiki-default:#B31D28;--shiki-default-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-sepia:#F44747;--shiki-sepia-font-style:inherit",[432],{"type":173,"value":433},"WebComponents",{"type":167,"tag":300,"props":435,"children":436},{"style":319},[437],{"type":173,"value":438},">\n",{"type":167,"tag":300,"props":440,"children":441},{"class":302,"line":350},[442,447,452,457,462,468,474,478,483,487,491,495,499,504,510,515,519],{"type":167,"tag":300,"props":443,"children":444},{"style":319},[445],{"type":173,"value":446},"  \u003C",{"type":167,"tag":300,"props":448,"children":450},{"style":449},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[451],{"type":173,"value":168},{"type":167,"tag":300,"props":453,"children":454},{"style":313},[455],{"type":173,"value":456}," slot",{"type":167,"tag":300,"props":458,"children":459},{"style":319},[460],{"type":173,"value":461},"=",{"type":167,"tag":300,"props":463,"children":465},{"style":464},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[466],{"type":173,"value":467},"\"",{"type":167,"tag":300,"props":469,"children":471},{"style":470},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[472],{"type":173,"value":473},"title-2",{"type":167,"tag":300,"props":475,"children":476},{"style":464},[477],{"type":173,"value":467},{"type":167,"tag":300,"props":479,"children":480},{"style":313},[481],{"type":173,"value":482}," class",{"type":167,"tag":300,"props":484,"children":485},{"style":319},[486],{"type":173,"value":461},{"type":167,"tag":300,"props":488,"children":489},{"style":464},[490],{"type":173,"value":467},{"type":167,"tag":300,"props":492,"children":493},{"style":470},[494],{"type":173,"value":473},{"type":167,"tag":300,"props":496,"children":497},{"style":464},[498],{"type":173,"value":467},{"type":167,"tag":300,"props":500,"children":501},{"style":319},[502],{"type":173,"value":503},">",{"type":167,"tag":300,"props":505,"children":507},{"style":506},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[508],{"type":173,"value":509},"First",{"type":167,"tag":300,"props":511,"children":512},{"style":319},[513],{"type":173,"value":514},"\u003C/",{"type":167,"tag":300,"props":516,"children":517},{"style":449},[518],{"type":173,"value":168},{"type":167,"tag":300,"props":520,"children":521},{"style":319},[522],{"type":173,"value":438},{"type":167,"tag":300,"props":524,"children":526},{"class":302,"line":525},4,[527,531,535,539,543,547,551,555,559,563,567,571,575,579,584,588,592],{"type":167,"tag":300,"props":528,"children":529},{"style":319},[530],{"type":173,"value":446},{"type":167,"tag":300,"props":532,"children":533},{"style":449},[534],{"type":173,"value":168},{"type":167,"tag":300,"props":536,"children":537},{"style":313},[538],{"type":173,"value":456},{"type":167,"tag":300,"props":540,"children":541},{"style":319},[542],{"type":173,"value":461},{"type":167,"tag":300,"props":544,"children":545},{"style":464},[546],{"type":173,"value":467},{"type":167,"tag":300,"props":548,"children":549},{"style":470},[550],{"type":173,"value":473},{"type":167,"tag":300,"props":552,"children":553},{"style":464},[554],{"type":173,"value":467},{"type":167,"tag":300,"props":556,"children":557},{"style":313},[558],{"type":173,"value":482},{"type":167,"tag":300,"props":560,"children":561},{"style":319},[562],{"type":173,"value":461},{"type":167,"tag":300,"props":564,"children":565},{"style":464},[566],{"type":173,"value":467},{"type":167,"tag":300,"props":568,"children":569},{"style":470},[570],{"type":173,"value":473},{"type":167,"tag":300,"props":572,"children":573},{"style":464},[574],{"type":173,"value":467},{"type":167,"tag":300,"props":576,"children":577},{"style":319},[578],{"type":173,"value":503},{"type":167,"tag":300,"props":580,"children":581},{"style":506},[582],{"type":173,"value":583},"Second",{"type":167,"tag":300,"props":585,"children":586},{"style":319},[587],{"type":173,"value":514},{"type":167,"tag":300,"props":589,"children":590},{"style":449},[591],{"type":173,"value":168},{"type":167,"tag":300,"props":593,"children":594},{"style":319},[595],{"type":173,"value":438},{"type":167,"tag":300,"props":597,"children":599},{"class":302,"line":598},5,[600,604,608],{"type":167,"tag":300,"props":601,"children":602},{"style":319},[603],{"type":173,"value":514},{"type":167,"tag":300,"props":605,"children":606},{"style":430},[607],{"type":173,"value":433},{"type":167,"tag":300,"props":609,"children":610},{"style":319},[611],{"type":173,"value":438},{"type":167,"tag":300,"props":613,"children":615},{"class":302,"line":614},6,[616],{"type":167,"tag":300,"props":617,"children":618},{"emptyLinePlaceholder":159},[619],{"type":173,"value":620},"\n",{"type":167,"tag":300,"props":622,"children":624},{"class":302,"line":623},7,[625],{"type":167,"tag":300,"props":626,"children":627},{"style":416},[628],{"type":173,"value":629},"\u003C!-- 渲染出的 Shadow Tree -->\n",{"type":167,"tag":300,"props":631,"children":633},{"class":302,"line":632},8,[634,638,642],{"type":167,"tag":300,"props":635,"children":636},{"style":319},[637],{"type":173,"value":427},{"type":167,"tag":300,"props":639,"children":640},{"style":430},[641],{"type":173,"value":433},{"type":167,"tag":300,"props":643,"children":644},{"style":319},[645],{"type":173,"value":438},{"type":167,"tag":300,"props":647,"children":649},{"class":302,"line":648},9,[650],{"type":167,"tag":300,"props":651,"children":652},{"style":506},[653],{"type":173,"value":654},"  #shadow-root\n",{"type":167,"tag":300,"props":656,"children":658},{"class":302,"line":657},10,[659,664,669,674,678,682,686,690],{"type":167,"tag":300,"props":660,"children":661},{"style":319},[662],{"type":173,"value":663},"    \u003C",{"type":167,"tag":300,"props":665,"children":666},{"style":449},[667],{"type":173,"value":668},"slot",{"type":167,"tag":300,"props":670,"children":671},{"style":313},[672],{"type":173,"value":673}," name",{"type":167,"tag":300,"props":675,"children":676},{"style":319},[677],{"type":173,"value":461},{"type":167,"tag":300,"props":679,"children":680},{"style":464},[681],{"type":173,"value":467},{"type":167,"tag":300,"props":683,"children":684},{"style":470},[685],{"type":173,"value":473},{"type":167,"tag":300,"props":687,"children":688},{"style":464},[689],{"type":173,"value":467},{"type":167,"tag":300,"props":691,"children":692},{"style":319},[693],{"type":173,"value":438},{"type":167,"tag":300,"props":695,"children":697},{"class":302,"line":696},11,[698],{"type":167,"tag":300,"props":699,"children":700},{"style":416},[701],{"type":173,"value":702},"      \u003C!-- 影子树内部的样式 .title-2 对此插槽内容同样生效 -->\n",{"type":167,"tag":300,"props":704,"children":706},{"class":302,"line":705},12,[707,712,716,720,724,728,732,736,740,744,748,752,756,760,764,768,772],{"type":167,"tag":300,"props":708,"children":709},{"style":319},[710],{"type":173,"value":711},"      \u003C",{"type":167,"tag":300,"props":713,"children":714},{"style":449},[715],{"type":173,"value":168},{"type":167,"tag":300,"props":717,"children":718},{"style":313},[719],{"type":173,"value":456},{"type":167,"tag":300,"props":721,"children":722},{"style":319},[723],{"type":173,"value":461},{"type":167,"tag":300,"props":725,"children":726},{"style":464},[727],{"type":173,"value":467},{"type":167,"tag":300,"props":729,"children":730},{"style":470},[731],{"type":173,"value":473},{"type":167,"tag":300,"props":733,"children":734},{"style":464},[735],{"type":173,"value":467},{"type":167,"tag":300,"props":737,"children":738},{"style":313},[739],{"type":173,"value":482},{"type":167,"tag":300,"props":741,"children":742},{"style":319},[743],{"type":173,"value":461},{"type":167,"tag":300,"props":745,"children":746},{"style":464},[747],{"type":173,"value":467},{"type":167,"tag":300,"props":749,"children":750},{"style":470},[751],{"type":173,"value":473},{"type":167,"tag":300,"props":753,"children":754},{"style":464},[755],{"type":173,"value":467},{"type":167,"tag":300,"props":757,"children":758},{"style":319},[759],{"type":173,"value":503},{"type":167,"tag":300,"props":761,"children":762},{"style":506},[763],{"type":173,"value":509},{"type":167,"tag":300,"props":765,"children":766},{"style":319},[767],{"type":173,"value":514},{"type":167,"tag":300,"props":769,"children":770},{"style":449},[771],{"type":173,"value":168},{"type":167,"tag":300,"props":773,"children":774},{"style":319},[775],{"type":173,"value":438},{"type":167,"tag":300,"props":777,"children":779},{"class":302,"line":778},13,[780,784,788,792,796,800,804,808,812,816,820,824,828,832,836,840,844],{"type":167,"tag":300,"props":781,"children":782},{"style":319},[783],{"type":173,"value":711},{"type":167,"tag":300,"props":785,"children":786},{"style":449},[787],{"type":173,"value":168},{"type":167,"tag":300,"props":789,"children":790},{"style":313},[791],{"type":173,"value":456},{"type":167,"tag":300,"props":793,"children":794},{"style":319},[795],{"type":173,"value":461},{"type":167,"tag":300,"props":797,"children":798},{"style":464},[799],{"type":173,"value":467},{"type":167,"tag":300,"props":801,"children":802},{"style":470},[803],{"type":173,"value":473},{"type":167,"tag":300,"props":805,"children":806},{"style":464},[807],{"type":173,"value":467},{"type":167,"tag":300,"props":809,"children":810},{"style":313},[811],{"type":173,"value":482},{"type":167,"tag":300,"props":813,"children":814},{"style":319},[815],{"type":173,"value":461},{"type":167,"tag":300,"props":817,"children":818},{"style":464},[819],{"type":173,"value":467},{"type":167,"tag":300,"props":821,"children":822},{"style":470},[823],{"type":173,"value":473},{"type":167,"tag":300,"props":825,"children":826},{"style":464},[827],{"type":173,"value":467},{"type":167,"tag":300,"props":829,"children":830},{"style":319},[831],{"type":173,"value":503},{"type":167,"tag":300,"props":833,"children":834},{"style":506},[835],{"type":173,"value":583},{"type":167,"tag":300,"props":837,"children":838},{"style":319},[839],{"type":173,"value":514},{"type":167,"tag":300,"props":841,"children":842},{"style":449},[843],{"type":173,"value":168},{"type":167,"tag":300,"props":845,"children":846},{"style":319},[847],{"type":173,"value":438},{"type":167,"tag":300,"props":849,"children":851},{"class":302,"line":850},14,[852,857,861],{"type":167,"tag":300,"props":853,"children":854},{"style":319},[855],{"type":173,"value":856},"    \u003C/",{"type":167,"tag":300,"props":858,"children":859},{"style":449},[860],{"type":173,"value":668},{"type":167,"tag":300,"props":862,"children":863},{"style":319},[864],{"type":173,"value":438},{"type":167,"tag":300,"props":866,"children":868},{"class":302,"line":867},15,[869,873,877],{"type":167,"tag":300,"props":870,"children":871},{"style":319},[872],{"type":173,"value":514},{"type":167,"tag":300,"props":874,"children":875},{"style":430},[876],{"type":173,"value":433},{"type":167,"tag":300,"props":878,"children":879},{"style":319},[880],{"type":173,"value":438},{"type":167,"tag":176,"props":882,"children":883},{},[884,886,892],{"type":173,"value":885},"插槽还设定了一些相关事件，比如，可以使用",{"type":167,"tag":214,"props":887,"children":889},{"className":888},[],[890],{"type":173,"value":891},"slotchange",{"type":173,"value":893},"事件监听插槽内容的分发：",{"type":167,"tag":290,"props":895,"children":899},{"className":896,"code":897,"language":898,"meta":160,"style":160},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","this.shadowRoot\n  .querySelector('::slotted')\n  .addEventListener('slotchange', myCustomEvent)\n","js",[900],{"type":167,"tag":214,"props":901,"children":902},{"__ignoreMap":160},[903,922,960],{"type":167,"tag":300,"props":904,"children":905},{"class":302,"line":303},[906,912,917],{"type":167,"tag":300,"props":907,"children":909},{"style":908},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[910],{"type":173,"value":911},"this",{"type":167,"tag":300,"props":913,"children":914},{"style":319},[915],{"type":173,"value":916},".",{"type":167,"tag":300,"props":918,"children":919},{"style":506},[920],{"type":173,"value":921},"shadowRoot\n",{"type":167,"tag":300,"props":923,"children":924},{"class":302,"line":325},[925,930,936,941,946,951,955],{"type":167,"tag":300,"props":926,"children":927},{"style":319},[928],{"type":173,"value":929},"  .",{"type":167,"tag":300,"props":931,"children":933},{"style":932},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[934],{"type":173,"value":935},"querySelector",{"type":167,"tag":300,"props":937,"children":938},{"style":506},[939],{"type":173,"value":940},"(",{"type":167,"tag":300,"props":942,"children":943},{"style":464},[944],{"type":173,"value":945},"'",{"type":167,"tag":300,"props":947,"children":948},{"style":470},[949],{"type":173,"value":950},"::slotted",{"type":167,"tag":300,"props":952,"children":953},{"style":464},[954],{"type":173,"value":945},{"type":167,"tag":300,"props":956,"children":957},{"style":506},[958],{"type":173,"value":959},")\n",{"type":167,"tag":300,"props":961,"children":962},{"class":302,"line":350},[963,967,972,976,980,984,988,993],{"type":167,"tag":300,"props":964,"children":965},{"style":319},[966],{"type":173,"value":929},{"type":167,"tag":300,"props":968,"children":969},{"style":932},[970],{"type":173,"value":971},"addEventListener",{"type":167,"tag":300,"props":973,"children":974},{"style":506},[975],{"type":173,"value":940},{"type":167,"tag":300,"props":977,"children":978},{"style":464},[979],{"type":173,"value":945},{"type":167,"tag":300,"props":981,"children":982},{"style":470},[983],{"type":173,"value":891},{"type":167,"tag":300,"props":985,"children":986},{"style":464},[987],{"type":173,"value":945},{"type":167,"tag":300,"props":989,"children":990},{"style":319},[991],{"type":173,"value":992},",",{"type":167,"tag":300,"props":994,"children":995},{"style":506},[996],{"type":173,"value":997}," myCustomEvent)\n",{"type":167,"tag":223,"props":999,"children":1001},{"id":1000},"api",[1002],{"type":173,"value":1003},"API",{"type":167,"tag":176,"props":1005,"children":1006},{},[1007],{"type":173,"value":1008},"其实，如 textarea、input，许多浏览器原生组件都是使用原生 Shadow DOM 去绘制，但由于其复杂性，并不在 Elements 面板对开发者开放，不过，你可以通过开发者工具中的“Show user agent shadow DOM”选项打开它。",{"type":167,"tag":176,"props":1010,"children":1011},{},[1012],{"type":173,"value":1013},"或者你可以使用 JS 创建影子节点，随意把玩。创建影子节点时可选用一系列 API，见下代码：",{"type":167,"tag":290,"props":1015,"children":1017},{"className":896,"code":1016,"language":898,"meta":160,"style":160},"this.attachShadow({\n  // 选择是否可以通过影子宿主的属性 shadowRoot 获取对应的影子节点\n  mode: 'open',\n  // 组件内部的 focus 事件是否冒泡到组件外部\n  delegatesFocus: true\n})\n",[1018],{"type":167,"tag":214,"props":1019,"children":1020},{"__ignoreMap":160},[1021,1046,1054,1086,1094,1112],{"type":167,"tag":300,"props":1022,"children":1023},{"class":302,"line":303},[1024,1028,1032,1037,1041],{"type":167,"tag":300,"props":1025,"children":1026},{"style":908},[1027],{"type":173,"value":911},{"type":167,"tag":300,"props":1029,"children":1030},{"style":319},[1031],{"type":173,"value":916},{"type":167,"tag":300,"props":1033,"children":1034},{"style":932},[1035],{"type":173,"value":1036},"attachShadow",{"type":167,"tag":300,"props":1038,"children":1039},{"style":506},[1040],{"type":173,"value":940},{"type":167,"tag":300,"props":1042,"children":1043},{"style":319},[1044],{"type":173,"value":1045},"{\n",{"type":167,"tag":300,"props":1047,"children":1048},{"class":302,"line":325},[1049],{"type":167,"tag":300,"props":1050,"children":1051},{"style":416},[1052],{"type":173,"value":1053},"  // 选择是否可以通过影子宿主的属性 shadowRoot 获取对应的影子节点\n",{"type":167,"tag":300,"props":1055,"children":1056},{"class":302,"line":350},[1057,1063,1067,1072,1077,1081],{"type":167,"tag":300,"props":1058,"children":1060},{"style":1059},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[1061],{"type":173,"value":1062},"  mode",{"type":167,"tag":300,"props":1064,"children":1065},{"style":319},[1066],{"type":173,"value":310},{"type":167,"tag":300,"props":1068,"children":1069},{"style":464},[1070],{"type":173,"value":1071}," '",{"type":167,"tag":300,"props":1073,"children":1074},{"style":470},[1075],{"type":173,"value":1076},"open",{"type":167,"tag":300,"props":1078,"children":1079},{"style":464},[1080],{"type":173,"value":945},{"type":167,"tag":300,"props":1082,"children":1083},{"style":319},[1084],{"type":173,"value":1085},",\n",{"type":167,"tag":300,"props":1087,"children":1088},{"class":302,"line":525},[1089],{"type":167,"tag":300,"props":1090,"children":1091},{"style":416},[1092],{"type":173,"value":1093},"  // 组件内部的 focus 事件是否冒泡到组件外部\n",{"type":167,"tag":300,"props":1095,"children":1096},{"class":302,"line":598},[1097,1102,1106],{"type":167,"tag":300,"props":1098,"children":1099},{"style":1059},[1100],{"type":173,"value":1101},"  delegatesFocus",{"type":167,"tag":300,"props":1103,"children":1104},{"style":319},[1105],{"type":173,"value":310},{"type":167,"tag":300,"props":1107,"children":1109},{"style":1108},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1110],{"type":173,"value":1111}," true\n",{"type":167,"tag":300,"props":1113,"children":1114},{"class":302,"line":614},[1115,1120],{"type":167,"tag":300,"props":1116,"children":1117},{"style":319},[1118],{"type":173,"value":1119},"}",{"type":167,"tag":300,"props":1121,"children":1122},{"style":506},[1123],{"type":173,"value":959},{"type":167,"tag":168,"props":1125,"children":1127},{"id":1126},"阅读更多",[1128],{"type":173,"value":1126},{"type":167,"tag":176,"props":1130,"children":1131},{},[1132],{"type":173,"value":1133},"相关阅读：",{"type":167,"tag":234,"props":1135,"children":1136},{},[1137,1148,1158,1168,1178],{"type":167,"tag":238,"props":1138,"children":1139},{},[1140],{"type":167,"tag":202,"props":1141,"children":1145},{"href":1142,"rel":1143},"https://developers.google.com/web/fundamentals/web-components/shadowdom#top_of_page",[1144],"nofollow",[1146],{"type":173,"value":1147},"Shadow DOM V1 规范详解 @Google",{"type":167,"tag":238,"props":1149,"children":1150},{},[1151],{"type":167,"tag":202,"props":1152,"children":1155},{"href":1153,"rel":1154},"https://www.w3.org/TR/2018/NOTE-shadow-dom-20180301/",[1144],[1156],{"type":173,"value":1157},"Shadow DOM V1 规范 @W3C",{"type":167,"tag":238,"props":1159,"children":1160},{},[1161],{"type":167,"tag":202,"props":1162,"children":1165},{"href":1163,"rel":1164},"https://www.caniuse.com/shadowdomv1",[1144],[1166],{"type":173,"value":1167},"Shadow DOM 兼容性 @CanIUse",{"type":167,"tag":238,"props":1169,"children":1170},{},[1171],{"type":167,"tag":202,"props":1172,"children":1175},{"href":1173,"rel":1174},"https://www.w3.org/TR/dom41/#shadow-trees",[1144],[1176],{"type":173,"value":1177},"DOM4.1 Shadow Tree @W3C",{"type":167,"tag":238,"props":1179,"children":1180},{},[1181],{"type":167,"tag":202,"props":1182,"children":1185},{"href":1183,"rel":1184},"https://www.w3.org/TR/css-scoping-1/#shadow-dom",[1144],[1186],{"type":173,"value":1187},"CSS 作用域规范 @W3C",{"type":167,"tag":1189,"props":1190,"children":1193},"section",{"className":1191,"dataFootnotes":160},[1192],"footnotes",[1194,1201],{"type":167,"tag":168,"props":1195,"children":1198},{"className":1196,"id":206},[1197],"sr-only",[1199],{"type":173,"value":1200},"Footnotes",{"type":167,"tag":1202,"props":1203,"children":1204},"ol",{},[1205,1226],{"type":167,"tag":238,"props":1206,"children":1208},{"id":1207},"user-content-fn-distribution-list",[1209,1215,1217],{"type":167,"tag":202,"props":1210,"children":1213},{"href":1211,"rel":1212},"https://www.w3.org/TR/css-scoping-1/#insertion-point",[1144],[1214],{"type":173,"value":1211},{"type":173,"value":1216}," ",{"type":167,"tag":202,"props":1218,"children":1223},{"href":1219,"ariaLabel":1220,"className":1221,"dataFootnoteBackref":160},"#user-content-fnref-distribution-list","Back to reference 1",[1222],"data-footnote-backref",[1224],{"type":173,"value":1225},"↩",{"type":167,"tag":238,"props":1227,"children":1229},{"id":1228},"user-content-fn-slosts-salute",[1230,1236,1237],{"type":167,"tag":202,"props":1231,"children":1234},{"href":1232,"rel":1233},"https://cn.vuejs.org/v2/guide/components-slots.html#%E6%8F%92%E6%A7%BD%E5%86%85%E5%AE%B9",[1144],[1235],{"type":173,"value":1232},{"type":173,"value":1216},{"type":167,"tag":202,"props":1238,"children":1242},{"href":1239,"ariaLabel":1240,"className":1241,"dataFootnoteBackref":160},"#user-content-fnref-slosts-salute","Back to reference 2",[1222],[1243],{"type":173,"value":1225},{"type":167,"tag":1245,"props":1246,"children":1247},"style",{},[1248],{"type":173,"value":1249},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":160,"searchDepth":325,"depth":325,"links":1251},[1252,1257,1258],{"id":170,"depth":325,"text":174,"children":1253},[1254,1255,1256],{"id":225,"depth":350,"text":225},{"id":359,"depth":350,"text":359},{"id":1000,"depth":350,"text":1003},{"id":1126,"depth":325,"text":1126},{"id":206,"depth":325,"text":1200},"markdown","content:6.maps:_fe-framework:web-components.md","content","6.maps/_fe-framework/web-components.md","6.maps/_fe-framework/web-components","md",[1266,1270],{"_path":1267,"title":1268,"description":1269},"/maps/_fe-framework/ui/vue","Vue","Vue 是一套用于构建用户界面的渐进式框架，它的核心库只关注视图层，易于上手，同时也便于与第三方库或既有项目整合。",{"_path":1271,"title":1272,"description":160},"/maps/_frontend/css/css-mind-map","CSS Mind Map",1742348691381]