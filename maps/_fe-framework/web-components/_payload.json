[{"data":1,"prerenderedAt":1276},["ShallowReactive",2],{"navigation":3,"/maps/_fe-framework/web-components":158,"/maps/_fe-framework/web-components-surround":1268},[4,35,89,95,122,128,152],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83,86],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🌪️ tailwind4 如何兼容预处理器","/articles/tailwind4-with-sass",{"title":45,"_path":46},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":48,"_path":49},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":51,"_path":52},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":54,"_path":55},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":57,"_path":58},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":60,"_path":61},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":63,"_path":64},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":66,"_path":67},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":69,"_path":70},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":72,"_path":73},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":75,"_path":76},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":78,"_path":79},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":81,"_path":82},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":84,"_path":85},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":87,"_path":88},"📝 技术博客归档","/articles/archive",{"title":90,"_path":91,"children":92},"读书笔记 / Notes","/books",[93],{"title":94,"_path":91},"📕 读书笔记",{"title":96,"_path":97,"children":98},"吉他剧场 / Music","/music",[99,101,104,107,110,113,116,119],{"title":100,"_path":97},"🎸 FingerStyle！",{"title":102,"_path":103},"🌬️ 等待的风","/music/wind",{"title":105,"_path":106},"💕 约定的海洋","/music/ocean",{"title":108,"_path":109},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":111,"_path":112},"🌏 残酷天使的行动纲领","/music/eva",{"title":114,"_path":115},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":117,"_path":118},"🍷 Wu Wei","/music/wu-wei",{"title":120,"_path":121},"🌅 无题","/music/untitled",{"title":123,"_path":124,"children":125},"知识地图 / Maps","/maps",[126],{"title":127,"_path":124},"🏁 知识地图",{"title":129,"_path":130,"children":131},"造物 / Make","/tools",[132,134,137,140,143,146,149],{"title":133,"_path":130},"🧰 工具收集",{"title":135,"_path":136},"📕 博客","/tools/blog",{"title":138,"_path":139},"🥥 Coconut","/tools/coconut",{"title":141,"_path":142},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":144,"_path":145},"🌐 AnySort","/tools/anysort",{"title":147,"_path":148},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":150,"_path":151},"👓 Crapto","/tools/crypto-inline",{"title":153,"_path":154,"children":155},"我 / About","/hire",[156],{"title":157,"_path":154},"📬 技术简历",{"_path":159,"_dir":160,"_draft":161,"_partial":162,"_locale":163,"title":164,"description":165,"body":166,"_type":1262,"_id":1263,"_source":1264,"_file":1265,"_stem":1266,"_extension":1267},"/maps/_fe-framework/web-components","_fe-framework",false,true,"","Web Components","Web Components 是一种 Web 开发技术，它允许开发者创建自定义的、可重用的组件，这些组件可以在不同的 Web 应用中使用。",{"type":167,"children":168,"toc":1253},"root",[169,178,190,195,225,231,236,266,287,292,360,365,382,387,400,405,884,897,1001,1007,1012,1017,1127,1132,1137,1191,1247],{"type":170,"tag":171,"props":172,"children":174},"element","h2",{"id":173},"shadow-dom",[175],{"type":176,"value":177},"text","Shadow DOM",{"type":170,"tag":179,"props":180,"children":181},"p",{},[182,188],{"type":170,"tag":183,"props":184,"children":185},"strong",{},[186],{"type":176,"value":187},"传统网页应用中的样式具有一定程度的脆弱性，微小样式带来的影响通常会逐渐累积、放大，最终给全局带来影响。",{"type":176,"value":189}," 为了解决这种脆弱性，Shadow DOM 定义了一系列围绕 DOM 产生的新概念，如影子树规范（DOM 4.1）、UI 交互规范等。其渲染部分则与 CSS 作用域规范（CSS Scoping Specification）相关。",{"type":170,"tag":179,"props":191,"children":192},{},[193],{"type":176,"value":194},"影子树（Shadow Tree）的根节点是影子根（Shadow Root），后者并不是一个真正的元素，不过它作为影子树和 DOM 的桥梁，和一个正常的 DOM 元素，即影子宿主（Shadow Root）绑定在一起。有时，我们会按照组件的作用域范围，把影子宿主所在的树称作 Light Tree（组件外部），以区分影子树所在树 Dark Tree（组件内部）。",{"type":170,"tag":179,"props":196,"children":197},{},[198,200,214,216,223],{"type":176,"value":199},"可能会令人困惑的是：影子宿主元素中的正常元素是不会被正常渲染，而是通过规范定义的通讯组（Distribution List",{"type":170,"tag":201,"props":202,"children":203},"sup",{},[204],{"type":170,"tag":205,"props":206,"children":211},"a",{"href":207,"ariaDescribedBy":208,"dataFootnoteRef":163,"id":210},"#user-content-fn-distribution-list",[209],"footnote-label","user-content-fnref-distribution-list",[212],{"type":176,"value":213},"1",{"type":176,"value":215},"）将这些元素强制拉入影子树中渲染。通讯组不是一个实体概念，但它具有一个 Content 元素，将影子宿主中的正常元素囊括其中，而 Content 本身并不渲染（类似 ",{"type":170,"tag":217,"props":218,"children":220},"code",{"className":219},[],[221],{"type":176,"value":222},"display：content",{"type":176,"value":224},"）。",{"type":170,"tag":226,"props":227,"children":229},"h3",{"id":228},"样式",[230],{"type":176,"value":228},{"type":170,"tag":179,"props":232,"children":233},{},[234],{"type":176,"value":235},"相关 Shadow DOM 有几种新的选择器方法：",{"type":170,"tag":237,"props":238,"children":239},"ul",{},[240,246,251,256,261],{"type":170,"tag":241,"props":242,"children":243},"li",{},[244],{"type":176,"value":245},"选择影子宿主：在影子树样式中直接使用使用 $:host$、$:host()$ 伪类选择影子宿主；",{"type":170,"tag":241,"props":247,"children":248},{},[249],{"type":176,"value":250},"向上选择：使用 $:host-context()$ 伪类选择器可以选取当前元素的“父节点”，可能是影子宿主、Distribution List 的 Content 元素或元素的父元素；",{"type":170,"tag":241,"props":252,"children":253},{},[254],{"type":176,"value":255},"向下选择：使用 $::shadow()$ 选择当前元素对应的影子根（可以有多个）；",{"type":170,"tag":241,"props":257,"children":258},{},[259],{"type":176,"value":260},"选择通讯组：使用 $::content$ 选择当前影子树对应的宿主中通讯组对应的 Content 元素；",{"type":170,"tag":241,"props":262,"children":263},{},[264],{"type":176,"value":265},"选择插槽：使用 $::slotted()$ 选择插槽节点；（插槽在下一小节介绍）",{"type":170,"tag":179,"props":267,"children":268},{},[269,271,277,279,285],{"type":176,"value":270},"需要注意的是，对影子宿主来说，组件内部样式的优先级总是低于外部样式的，如 ",{"type":170,"tag":217,"props":272,"children":274},{"className":273},[],[275],{"type":176,"value":276},".shadow-root",{"type":176,"value":278}," 的优先级要高于影子树内部的 ",{"type":170,"tag":217,"props":280,"children":282},{"className":281},[],[283],{"type":176,"value":284},":host",{"type":176,"value":286},"。",{"type":170,"tag":179,"props":288,"children":289},{},[290],{"type":176,"value":291},"此外，CSS 作用域规范提供了深度选择器（$/deep/$），用于穿刺选择，无论嵌套多深的影子树中的元素都能被选中。不过，一些 CSS 中可继承的属性会穿透影子边界，所以建议使用如下样式重置组件内的 CSS：",{"type":170,"tag":293,"props":294,"children":298},"pre",{"className":295,"code":296,"language":297,"meta":163,"style":163},"language-css shiki shiki-themes material-theme-lighter github-light github-dark monokai",":host {\n  all: initial;\n}\n","css",[299],{"type":170,"tag":217,"props":300,"children":301},{"__ignoreMap":163},[302,326,351],{"type":170,"tag":303,"props":304,"children":307},"span",{"class":305,"line":306},"line",1,[308,314,320],{"type":170,"tag":303,"props":309,"children":311},{"style":310},"--shiki-light:#39ADB5;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[312],{"type":176,"value":313},":",{"type":170,"tag":303,"props":315,"children":317},{"style":316},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[318],{"type":176,"value":319},"host",{"type":170,"tag":303,"props":321,"children":323},{"style":322},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[324],{"type":176,"value":325}," {\n",{"type":170,"tag":303,"props":327,"children":329},{"class":305,"line":328},2,[330,336,340,346],{"type":170,"tag":303,"props":331,"children":333},{"style":332},"--shiki-light:#8796B0;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[334],{"type":176,"value":335},"  all",{"type":170,"tag":303,"props":337,"children":338},{"style":322},[339],{"type":176,"value":313},{"type":170,"tag":303,"props":341,"children":343},{"style":342},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF",[344],{"type":176,"value":345}," initial",{"type":170,"tag":303,"props":347,"children":348},{"style":322},[349],{"type":176,"value":350},";\n",{"type":170,"tag":303,"props":352,"children":354},{"class":305,"line":353},3,[355],{"type":170,"tag":303,"props":356,"children":357},{"style":322},[358],{"type":176,"value":359},"}\n",{"type":170,"tag":226,"props":361,"children":363},{"id":362},"插槽",[364],{"type":176,"value":362},{"type":170,"tag":179,"props":366,"children":367},{},[368,370,381],{"type":176,"value":369},"插槽（Slot）类似于通讯组，作为组件内部的一个占位符，其本身不在组件中渲染。如果你习惯使用 Slots in Vue，可能会发现两者几乎一模一样，其实，Slots in Vue 已经在其文档中说明了，Vue 中的 Slots API 的灵感来源于 Slots in Web Components ",{"type":170,"tag":201,"props":371,"children":372},{},[373],{"type":170,"tag":205,"props":374,"children":378},{"href":375,"ariaDescribedBy":376,"dataFootnoteRef":163,"id":377},"#user-content-fn-slosts-salute",[209],"user-content-fnref-slosts-salute",[379],{"type":176,"value":380},"2",{"type":176,"value":286},{"type":170,"tag":179,"props":383,"children":384},{},[385],{"type":176,"value":386},"插槽常用作内容分发，具有这些特性：",{"type":170,"tag":237,"props":388,"children":389},{},[390,395],{"type":170,"tag":241,"props":391,"children":392},{},[393],{"type":176,"value":394},"从外部传入插槽的内容时，只会填充，不会覆盖；",{"type":170,"tag":241,"props":396,"children":397},{},[398],{"type":176,"value":399},"插槽内容的样式，可以由组件内部指定；",{"type":170,"tag":179,"props":401,"children":402},{},[403],{"type":176,"value":404},"见以下代码：",{"type":170,"tag":293,"props":406,"children":410},{"className":407,"code":408,"language":409,"meta":163,"style":163},"language-html shiki shiki-themes material-theme-lighter github-light github-dark monokai","\u003C!-- HTML 源码 -->\n\u003CWebComponents>\n  \u003Ch2 slot=\"title-2\" class=\"title-2\">First\u003C/h2>\n  \u003Ch2 slot=\"title-2\" class=\"title-2\">Second\u003C/h2>\n\u003C/WebComponents>\n\n\u003C!-- 渲染出的 Shadow Tree -->\n\u003CWebComponents>\n  #shadow-root\n    \u003Cslot name=\"title-2\">\n      \u003C!-- 影子树内部的样式 .title-2 对此插槽内容同样生效 -->\n      \u003Ch2 slot=\"title-2\" class=\"title-2\">First\u003C/h2>\n      \u003Ch2 slot=\"title-2\" class=\"title-2\">Second\u003C/h2>\n    \u003C/slot>\n\u003C/WebComponents>\n","html",[411],{"type":170,"tag":217,"props":412,"children":413},{"__ignoreMap":163},[414,423,442,526,599,615,624,633,649,658,697,706,779,851,868],{"type":170,"tag":303,"props":415,"children":416},{"class":305,"line":306},[417],{"type":170,"tag":303,"props":418,"children":420},{"style":419},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[421],{"type":176,"value":422},"\u003C!-- HTML 源码 -->\n",{"type":170,"tag":303,"props":424,"children":425},{"class":305,"line":328},[426,431,437],{"type":170,"tag":303,"props":427,"children":428},{"style":322},[429],{"type":176,"value":430},"\u003C",{"type":170,"tag":303,"props":432,"children":434},{"style":433},"--shiki-light:#E53935;--shiki-light-font-style:inherit;--shiki-default:#B31D28;--shiki-default-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-sepia:#F44747;--shiki-sepia-font-style:inherit",[435],{"type":176,"value":436},"WebComponents",{"type":170,"tag":303,"props":438,"children":439},{"style":322},[440],{"type":176,"value":441},">\n",{"type":170,"tag":303,"props":443,"children":444},{"class":305,"line":353},[445,450,455,460,465,471,477,481,486,490,494,498,502,507,513,518,522],{"type":170,"tag":303,"props":446,"children":447},{"style":322},[448],{"type":176,"value":449},"  \u003C",{"type":170,"tag":303,"props":451,"children":453},{"style":452},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[454],{"type":176,"value":171},{"type":170,"tag":303,"props":456,"children":457},{"style":316},[458],{"type":176,"value":459}," slot",{"type":170,"tag":303,"props":461,"children":462},{"style":322},[463],{"type":176,"value":464},"=",{"type":170,"tag":303,"props":466,"children":468},{"style":467},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[469],{"type":176,"value":470},"\"",{"type":170,"tag":303,"props":472,"children":474},{"style":473},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[475],{"type":176,"value":476},"title-2",{"type":170,"tag":303,"props":478,"children":479},{"style":467},[480],{"type":176,"value":470},{"type":170,"tag":303,"props":482,"children":483},{"style":316},[484],{"type":176,"value":485}," class",{"type":170,"tag":303,"props":487,"children":488},{"style":322},[489],{"type":176,"value":464},{"type":170,"tag":303,"props":491,"children":492},{"style":467},[493],{"type":176,"value":470},{"type":170,"tag":303,"props":495,"children":496},{"style":473},[497],{"type":176,"value":476},{"type":170,"tag":303,"props":499,"children":500},{"style":467},[501],{"type":176,"value":470},{"type":170,"tag":303,"props":503,"children":504},{"style":322},[505],{"type":176,"value":506},">",{"type":170,"tag":303,"props":508,"children":510},{"style":509},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[511],{"type":176,"value":512},"First",{"type":170,"tag":303,"props":514,"children":515},{"style":322},[516],{"type":176,"value":517},"\u003C/",{"type":170,"tag":303,"props":519,"children":520},{"style":452},[521],{"type":176,"value":171},{"type":170,"tag":303,"props":523,"children":524},{"style":322},[525],{"type":176,"value":441},{"type":170,"tag":303,"props":527,"children":529},{"class":305,"line":528},4,[530,534,538,542,546,550,554,558,562,566,570,574,578,582,587,591,595],{"type":170,"tag":303,"props":531,"children":532},{"style":322},[533],{"type":176,"value":449},{"type":170,"tag":303,"props":535,"children":536},{"style":452},[537],{"type":176,"value":171},{"type":170,"tag":303,"props":539,"children":540},{"style":316},[541],{"type":176,"value":459},{"type":170,"tag":303,"props":543,"children":544},{"style":322},[545],{"type":176,"value":464},{"type":170,"tag":303,"props":547,"children":548},{"style":467},[549],{"type":176,"value":470},{"type":170,"tag":303,"props":551,"children":552},{"style":473},[553],{"type":176,"value":476},{"type":170,"tag":303,"props":555,"children":556},{"style":467},[557],{"type":176,"value":470},{"type":170,"tag":303,"props":559,"children":560},{"style":316},[561],{"type":176,"value":485},{"type":170,"tag":303,"props":563,"children":564},{"style":322},[565],{"type":176,"value":464},{"type":170,"tag":303,"props":567,"children":568},{"style":467},[569],{"type":176,"value":470},{"type":170,"tag":303,"props":571,"children":572},{"style":473},[573],{"type":176,"value":476},{"type":170,"tag":303,"props":575,"children":576},{"style":467},[577],{"type":176,"value":470},{"type":170,"tag":303,"props":579,"children":580},{"style":322},[581],{"type":176,"value":506},{"type":170,"tag":303,"props":583,"children":584},{"style":509},[585],{"type":176,"value":586},"Second",{"type":170,"tag":303,"props":588,"children":589},{"style":322},[590],{"type":176,"value":517},{"type":170,"tag":303,"props":592,"children":593},{"style":452},[594],{"type":176,"value":171},{"type":170,"tag":303,"props":596,"children":597},{"style":322},[598],{"type":176,"value":441},{"type":170,"tag":303,"props":600,"children":602},{"class":305,"line":601},5,[603,607,611],{"type":170,"tag":303,"props":604,"children":605},{"style":322},[606],{"type":176,"value":517},{"type":170,"tag":303,"props":608,"children":609},{"style":433},[610],{"type":176,"value":436},{"type":170,"tag":303,"props":612,"children":613},{"style":322},[614],{"type":176,"value":441},{"type":170,"tag":303,"props":616,"children":618},{"class":305,"line":617},6,[619],{"type":170,"tag":303,"props":620,"children":621},{"emptyLinePlaceholder":162},[622],{"type":176,"value":623},"\n",{"type":170,"tag":303,"props":625,"children":627},{"class":305,"line":626},7,[628],{"type":170,"tag":303,"props":629,"children":630},{"style":419},[631],{"type":176,"value":632},"\u003C!-- 渲染出的 Shadow Tree -->\n",{"type":170,"tag":303,"props":634,"children":636},{"class":305,"line":635},8,[637,641,645],{"type":170,"tag":303,"props":638,"children":639},{"style":322},[640],{"type":176,"value":430},{"type":170,"tag":303,"props":642,"children":643},{"style":433},[644],{"type":176,"value":436},{"type":170,"tag":303,"props":646,"children":647},{"style":322},[648],{"type":176,"value":441},{"type":170,"tag":303,"props":650,"children":652},{"class":305,"line":651},9,[653],{"type":170,"tag":303,"props":654,"children":655},{"style":509},[656],{"type":176,"value":657},"  #shadow-root\n",{"type":170,"tag":303,"props":659,"children":661},{"class":305,"line":660},10,[662,667,672,677,681,685,689,693],{"type":170,"tag":303,"props":663,"children":664},{"style":322},[665],{"type":176,"value":666},"    \u003C",{"type":170,"tag":303,"props":668,"children":669},{"style":452},[670],{"type":176,"value":671},"slot",{"type":170,"tag":303,"props":673,"children":674},{"style":316},[675],{"type":176,"value":676}," name",{"type":170,"tag":303,"props":678,"children":679},{"style":322},[680],{"type":176,"value":464},{"type":170,"tag":303,"props":682,"children":683},{"style":467},[684],{"type":176,"value":470},{"type":170,"tag":303,"props":686,"children":687},{"style":473},[688],{"type":176,"value":476},{"type":170,"tag":303,"props":690,"children":691},{"style":467},[692],{"type":176,"value":470},{"type":170,"tag":303,"props":694,"children":695},{"style":322},[696],{"type":176,"value":441},{"type":170,"tag":303,"props":698,"children":700},{"class":305,"line":699},11,[701],{"type":170,"tag":303,"props":702,"children":703},{"style":419},[704],{"type":176,"value":705},"      \u003C!-- 影子树内部的样式 .title-2 对此插槽内容同样生效 -->\n",{"type":170,"tag":303,"props":707,"children":709},{"class":305,"line":708},12,[710,715,719,723,727,731,735,739,743,747,751,755,759,763,767,771,775],{"type":170,"tag":303,"props":711,"children":712},{"style":322},[713],{"type":176,"value":714},"      \u003C",{"type":170,"tag":303,"props":716,"children":717},{"style":452},[718],{"type":176,"value":171},{"type":170,"tag":303,"props":720,"children":721},{"style":316},[722],{"type":176,"value":459},{"type":170,"tag":303,"props":724,"children":725},{"style":322},[726],{"type":176,"value":464},{"type":170,"tag":303,"props":728,"children":729},{"style":467},[730],{"type":176,"value":470},{"type":170,"tag":303,"props":732,"children":733},{"style":473},[734],{"type":176,"value":476},{"type":170,"tag":303,"props":736,"children":737},{"style":467},[738],{"type":176,"value":470},{"type":170,"tag":303,"props":740,"children":741},{"style":316},[742],{"type":176,"value":485},{"type":170,"tag":303,"props":744,"children":745},{"style":322},[746],{"type":176,"value":464},{"type":170,"tag":303,"props":748,"children":749},{"style":467},[750],{"type":176,"value":470},{"type":170,"tag":303,"props":752,"children":753},{"style":473},[754],{"type":176,"value":476},{"type":170,"tag":303,"props":756,"children":757},{"style":467},[758],{"type":176,"value":470},{"type":170,"tag":303,"props":760,"children":761},{"style":322},[762],{"type":176,"value":506},{"type":170,"tag":303,"props":764,"children":765},{"style":509},[766],{"type":176,"value":512},{"type":170,"tag":303,"props":768,"children":769},{"style":322},[770],{"type":176,"value":517},{"type":170,"tag":303,"props":772,"children":773},{"style":452},[774],{"type":176,"value":171},{"type":170,"tag":303,"props":776,"children":777},{"style":322},[778],{"type":176,"value":441},{"type":170,"tag":303,"props":780,"children":782},{"class":305,"line":781},13,[783,787,791,795,799,803,807,811,815,819,823,827,831,835,839,843,847],{"type":170,"tag":303,"props":784,"children":785},{"style":322},[786],{"type":176,"value":714},{"type":170,"tag":303,"props":788,"children":789},{"style":452},[790],{"type":176,"value":171},{"type":170,"tag":303,"props":792,"children":793},{"style":316},[794],{"type":176,"value":459},{"type":170,"tag":303,"props":796,"children":797},{"style":322},[798],{"type":176,"value":464},{"type":170,"tag":303,"props":800,"children":801},{"style":467},[802],{"type":176,"value":470},{"type":170,"tag":303,"props":804,"children":805},{"style":473},[806],{"type":176,"value":476},{"type":170,"tag":303,"props":808,"children":809},{"style":467},[810],{"type":176,"value":470},{"type":170,"tag":303,"props":812,"children":813},{"style":316},[814],{"type":176,"value":485},{"type":170,"tag":303,"props":816,"children":817},{"style":322},[818],{"type":176,"value":464},{"type":170,"tag":303,"props":820,"children":821},{"style":467},[822],{"type":176,"value":470},{"type":170,"tag":303,"props":824,"children":825},{"style":473},[826],{"type":176,"value":476},{"type":170,"tag":303,"props":828,"children":829},{"style":467},[830],{"type":176,"value":470},{"type":170,"tag":303,"props":832,"children":833},{"style":322},[834],{"type":176,"value":506},{"type":170,"tag":303,"props":836,"children":837},{"style":509},[838],{"type":176,"value":586},{"type":170,"tag":303,"props":840,"children":841},{"style":322},[842],{"type":176,"value":517},{"type":170,"tag":303,"props":844,"children":845},{"style":452},[846],{"type":176,"value":171},{"type":170,"tag":303,"props":848,"children":849},{"style":322},[850],{"type":176,"value":441},{"type":170,"tag":303,"props":852,"children":854},{"class":305,"line":853},14,[855,860,864],{"type":170,"tag":303,"props":856,"children":857},{"style":322},[858],{"type":176,"value":859},"    \u003C/",{"type":170,"tag":303,"props":861,"children":862},{"style":452},[863],{"type":176,"value":671},{"type":170,"tag":303,"props":865,"children":866},{"style":322},[867],{"type":176,"value":441},{"type":170,"tag":303,"props":869,"children":871},{"class":305,"line":870},15,[872,876,880],{"type":170,"tag":303,"props":873,"children":874},{"style":322},[875],{"type":176,"value":517},{"type":170,"tag":303,"props":877,"children":878},{"style":433},[879],{"type":176,"value":436},{"type":170,"tag":303,"props":881,"children":882},{"style":322},[883],{"type":176,"value":441},{"type":170,"tag":179,"props":885,"children":886},{},[887,889,895],{"type":176,"value":888},"插槽还设定了一些相关事件，比如，可以使用",{"type":170,"tag":217,"props":890,"children":892},{"className":891},[],[893],{"type":176,"value":894},"slotchange",{"type":176,"value":896},"事件监听插槽内容的分发：",{"type":170,"tag":293,"props":898,"children":902},{"className":899,"code":900,"language":901,"meta":163,"style":163},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","this.shadowRoot\n  .querySelector('::slotted')\n  .addEventListener('slotchange', myCustomEvent)\n","js",[903],{"type":170,"tag":217,"props":904,"children":905},{"__ignoreMap":163},[906,925,963],{"type":170,"tag":303,"props":907,"children":908},{"class":305,"line":306},[909,915,920],{"type":170,"tag":303,"props":910,"children":912},{"style":911},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[913],{"type":176,"value":914},"this",{"type":170,"tag":303,"props":916,"children":917},{"style":322},[918],{"type":176,"value":919},".",{"type":170,"tag":303,"props":921,"children":922},{"style":509},[923],{"type":176,"value":924},"shadowRoot\n",{"type":170,"tag":303,"props":926,"children":927},{"class":305,"line":328},[928,933,939,944,949,954,958],{"type":170,"tag":303,"props":929,"children":930},{"style":322},[931],{"type":176,"value":932},"  .",{"type":170,"tag":303,"props":934,"children":936},{"style":935},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[937],{"type":176,"value":938},"querySelector",{"type":170,"tag":303,"props":940,"children":941},{"style":509},[942],{"type":176,"value":943},"(",{"type":170,"tag":303,"props":945,"children":946},{"style":467},[947],{"type":176,"value":948},"'",{"type":170,"tag":303,"props":950,"children":951},{"style":473},[952],{"type":176,"value":953},"::slotted",{"type":170,"tag":303,"props":955,"children":956},{"style":467},[957],{"type":176,"value":948},{"type":170,"tag":303,"props":959,"children":960},{"style":509},[961],{"type":176,"value":962},")\n",{"type":170,"tag":303,"props":964,"children":965},{"class":305,"line":353},[966,970,975,979,983,987,991,996],{"type":170,"tag":303,"props":967,"children":968},{"style":322},[969],{"type":176,"value":932},{"type":170,"tag":303,"props":971,"children":972},{"style":935},[973],{"type":176,"value":974},"addEventListener",{"type":170,"tag":303,"props":976,"children":977},{"style":509},[978],{"type":176,"value":943},{"type":170,"tag":303,"props":980,"children":981},{"style":467},[982],{"type":176,"value":948},{"type":170,"tag":303,"props":984,"children":985},{"style":473},[986],{"type":176,"value":894},{"type":170,"tag":303,"props":988,"children":989},{"style":467},[990],{"type":176,"value":948},{"type":170,"tag":303,"props":992,"children":993},{"style":322},[994],{"type":176,"value":995},",",{"type":170,"tag":303,"props":997,"children":998},{"style":509},[999],{"type":176,"value":1000}," myCustomEvent)\n",{"type":170,"tag":226,"props":1002,"children":1004},{"id":1003},"api",[1005],{"type":176,"value":1006},"API",{"type":170,"tag":179,"props":1008,"children":1009},{},[1010],{"type":176,"value":1011},"其实，如 textarea、input，许多浏览器原生组件都是使用原生 Shadow DOM 去绘制，但由于其复杂性，并不在 Elements 面板对开发者开放，不过，你可以通过开发者工具中的“Show user agent shadow DOM”选项打开它。",{"type":170,"tag":179,"props":1013,"children":1014},{},[1015],{"type":176,"value":1016},"或者你可以使用 JS 创建影子节点，随意把玩。创建影子节点时可选用一系列 API，见下代码：",{"type":170,"tag":293,"props":1018,"children":1020},{"className":899,"code":1019,"language":901,"meta":163,"style":163},"this.attachShadow({\n  // 选择是否可以通过影子宿主的属性 shadowRoot 获取对应的影子节点\n  mode: 'open',\n  // 组件内部的 focus 事件是否冒泡到组件外部\n  delegatesFocus: true\n})\n",[1021],{"type":170,"tag":217,"props":1022,"children":1023},{"__ignoreMap":163},[1024,1049,1057,1089,1097,1115],{"type":170,"tag":303,"props":1025,"children":1026},{"class":305,"line":306},[1027,1031,1035,1040,1044],{"type":170,"tag":303,"props":1028,"children":1029},{"style":911},[1030],{"type":176,"value":914},{"type":170,"tag":303,"props":1032,"children":1033},{"style":322},[1034],{"type":176,"value":919},{"type":170,"tag":303,"props":1036,"children":1037},{"style":935},[1038],{"type":176,"value":1039},"attachShadow",{"type":170,"tag":303,"props":1041,"children":1042},{"style":509},[1043],{"type":176,"value":943},{"type":170,"tag":303,"props":1045,"children":1046},{"style":322},[1047],{"type":176,"value":1048},"{\n",{"type":170,"tag":303,"props":1050,"children":1051},{"class":305,"line":328},[1052],{"type":170,"tag":303,"props":1053,"children":1054},{"style":419},[1055],{"type":176,"value":1056},"  // 选择是否可以通过影子宿主的属性 shadowRoot 获取对应的影子节点\n",{"type":170,"tag":303,"props":1058,"children":1059},{"class":305,"line":353},[1060,1066,1070,1075,1080,1084],{"type":170,"tag":303,"props":1061,"children":1063},{"style":1062},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[1064],{"type":176,"value":1065},"  mode",{"type":170,"tag":303,"props":1067,"children":1068},{"style":322},[1069],{"type":176,"value":313},{"type":170,"tag":303,"props":1071,"children":1072},{"style":467},[1073],{"type":176,"value":1074}," '",{"type":170,"tag":303,"props":1076,"children":1077},{"style":473},[1078],{"type":176,"value":1079},"open",{"type":170,"tag":303,"props":1081,"children":1082},{"style":467},[1083],{"type":176,"value":948},{"type":170,"tag":303,"props":1085,"children":1086},{"style":322},[1087],{"type":176,"value":1088},",\n",{"type":170,"tag":303,"props":1090,"children":1091},{"class":305,"line":528},[1092],{"type":170,"tag":303,"props":1093,"children":1094},{"style":419},[1095],{"type":176,"value":1096},"  // 组件内部的 focus 事件是否冒泡到组件外部\n",{"type":170,"tag":303,"props":1098,"children":1099},{"class":305,"line":601},[1100,1105,1109],{"type":170,"tag":303,"props":1101,"children":1102},{"style":1062},[1103],{"type":176,"value":1104},"  delegatesFocus",{"type":170,"tag":303,"props":1106,"children":1107},{"style":322},[1108],{"type":176,"value":313},{"type":170,"tag":303,"props":1110,"children":1112},{"style":1111},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1113],{"type":176,"value":1114}," true\n",{"type":170,"tag":303,"props":1116,"children":1117},{"class":305,"line":617},[1118,1123],{"type":170,"tag":303,"props":1119,"children":1120},{"style":322},[1121],{"type":176,"value":1122},"}",{"type":170,"tag":303,"props":1124,"children":1125},{"style":509},[1126],{"type":176,"value":962},{"type":170,"tag":171,"props":1128,"children":1130},{"id":1129},"阅读更多",[1131],{"type":176,"value":1129},{"type":170,"tag":179,"props":1133,"children":1134},{},[1135],{"type":176,"value":1136},"相关阅读：",{"type":170,"tag":237,"props":1138,"children":1139},{},[1140,1151,1161,1171,1181],{"type":170,"tag":241,"props":1141,"children":1142},{},[1143],{"type":170,"tag":205,"props":1144,"children":1148},{"href":1145,"rel":1146},"https://developers.google.com/web/fundamentals/web-components/shadowdom#top_of_page",[1147],"nofollow",[1149],{"type":176,"value":1150},"Shadow DOM V1 规范详解 @Google",{"type":170,"tag":241,"props":1152,"children":1153},{},[1154],{"type":170,"tag":205,"props":1155,"children":1158},{"href":1156,"rel":1157},"https://www.w3.org/TR/2018/NOTE-shadow-dom-20180301/",[1147],[1159],{"type":176,"value":1160},"Shadow DOM V1 规范 @W3C",{"type":170,"tag":241,"props":1162,"children":1163},{},[1164],{"type":170,"tag":205,"props":1165,"children":1168},{"href":1166,"rel":1167},"https://www.caniuse.com/shadowdomv1",[1147],[1169],{"type":176,"value":1170},"Shadow DOM 兼容性 @CanIUse",{"type":170,"tag":241,"props":1172,"children":1173},{},[1174],{"type":170,"tag":205,"props":1175,"children":1178},{"href":1176,"rel":1177},"https://www.w3.org/TR/dom41/#shadow-trees",[1147],[1179],{"type":176,"value":1180},"DOM4.1 Shadow Tree @W3C",{"type":170,"tag":241,"props":1182,"children":1183},{},[1184],{"type":170,"tag":205,"props":1185,"children":1188},{"href":1186,"rel":1187},"https://www.w3.org/TR/css-scoping-1/#shadow-dom",[1147],[1189],{"type":176,"value":1190},"CSS 作用域规范 @W3C",{"type":170,"tag":1192,"props":1193,"children":1196},"section",{"className":1194,"dataFootnotes":163},[1195],"footnotes",[1197,1204],{"type":170,"tag":171,"props":1198,"children":1201},{"className":1199,"id":209},[1200],"sr-only",[1202],{"type":176,"value":1203},"Footnotes",{"type":170,"tag":1205,"props":1206,"children":1207},"ol",{},[1208,1229],{"type":170,"tag":241,"props":1209,"children":1211},{"id":1210},"user-content-fn-distribution-list",[1212,1218,1220],{"type":170,"tag":205,"props":1213,"children":1216},{"href":1214,"rel":1215},"https://www.w3.org/TR/css-scoping-1/#insertion-point",[1147],[1217],{"type":176,"value":1214},{"type":176,"value":1219}," ",{"type":170,"tag":205,"props":1221,"children":1226},{"href":1222,"ariaLabel":1223,"className":1224,"dataFootnoteBackref":163},"#user-content-fnref-distribution-list","Back to reference 1",[1225],"data-footnote-backref",[1227],{"type":176,"value":1228},"↩",{"type":170,"tag":241,"props":1230,"children":1232},{"id":1231},"user-content-fn-slosts-salute",[1233,1239,1240],{"type":170,"tag":205,"props":1234,"children":1237},{"href":1235,"rel":1236},"https://cn.vuejs.org/v2/guide/components-slots.html#%E6%8F%92%E6%A7%BD%E5%86%85%E5%AE%B9",[1147],[1238],{"type":176,"value":1235},{"type":176,"value":1219},{"type":170,"tag":205,"props":1241,"children":1245},{"href":1242,"ariaLabel":1243,"className":1244,"dataFootnoteBackref":163},"#user-content-fnref-slosts-salute","Back to reference 2",[1225],[1246],{"type":176,"value":1228},{"type":170,"tag":1248,"props":1249,"children":1250},"style",{},[1251],{"type":176,"value":1252},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":163,"searchDepth":328,"depth":328,"links":1254},[1255,1260,1261],{"id":173,"depth":328,"text":177,"children":1256},[1257,1258,1259],{"id":228,"depth":353,"text":228},{"id":362,"depth":353,"text":362},{"id":1003,"depth":353,"text":1006},{"id":1129,"depth":328,"text":1129},{"id":209,"depth":328,"text":1203},"markdown","content:6.maps:_fe-framework:web-components.md","content","6.maps/_fe-framework/web-components.md","6.maps/_fe-framework/web-components","md",[1269,1273],{"_path":1270,"title":1271,"description":1272},"/maps/_fe-framework/ui/vue","Vue","Vue 是一套用于构建用户界面的渐进式框架，它的核心库只关注视图层，易于上手，同时也便于与第三方库或既有项目整合。",{"_path":1274,"title":1275,"description":163},"/maps/_frontend/css/css-mind-map","CSS Mind Map",1742808196862]