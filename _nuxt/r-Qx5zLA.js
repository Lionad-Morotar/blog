import{_ as h,H as u,e as g,f as E,a7 as _,c as L,o as y,a as d,r as v}from"./BnABWrmg.js";const P={__name:"index",setup(x){const a=u(null),f=u(null),l=u(null),n=u(null),e=g({cursorWidth:4,cursorPos:null,cordRec:{},offset:{},parentWH:{},posStore:null});E(()=>{m(),n.value.addEventListener("mousedown",r),n.value.addEventListener("touchstart",r)}),_(()=>{n.value.removeEventListener("mousedown",r),n.value.removeEventListener("touchstart",r)});function m(){e.cursorPos||i()}function i(){e.parentWH={width:a.value.offsetWidth-e.cursorWidth,height:a.value.offsetHeight},e.cursorPos=e.parentWH.width/2||null}function r(t){e.cursorPos<=0&&i();const o=t.touches?t.touches[0]:t;e.cordRec={pageX:o.pageX,pageY:o.pageY},document.addEventListener("mousemove",c),document.addEventListener("touchmove",c),document.addEventListener("mouseup",s),document.addEventListener("touchend",s),document.addEventListener("touchcancel",s)}function c(t){const o=t.touches?t.touches[0]:t;e.offset={x:o.pageX-e.cordRec.pageX,y:o.pageY-e.cordRec.pageY},p(),t.preventDefault&&t.preventDefault()}function s(){document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",s),document.removeEventListener("touchcancel",s),e.cursorPos=e.posStore}function p(){const t=e.offset.x,o=Math.max(0,Math.min(e.parentWH.width,e.cursorPos+t));n.value.style.setProperty("--offset",o+"px"),f.value.style.setProperty("--offset",o+"px"),l.value.style.setProperty("--offset",o+"px"),e.posStore=o}return(t,o)=>(y(),L("div",{ref_key:"cmpt",ref:a,class:"compare-cmpt"},[d("div",{ref_key:"left",ref:f,class:"left"},[v(t.$slots,"left",{},void 0,!0)],512),d("div",{ref_key:"right",ref:l,class:"right"},[v(t.$slots,"right",{},void 0,!0)],512),d("div",{ref_key:"cursor",ref:n,class:"cursor"},null,512)],512))}},H=h(P,[["__scopeId","data-v-35590651"]]);export{H as default};
