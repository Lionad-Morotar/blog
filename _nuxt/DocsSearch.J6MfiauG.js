import{D as be,E as We,r as N,G as M,d as ne,H as J,B,I as j,J as yt,K as xt,L as St,M as ye,o as he,N as ue,O as je,P as It,Q as Ot,R as kt,S as we,U as qe,F as xe,V as Be,W as Se,X as wt,Y as Ct,Z as Mt,$ as Rt,a0 as Y,a1 as Ge,a as At,a2 as Et,a3 as q,l as Ne,a4 as Ce,a5 as Ye,a6 as Xe,a7 as Q,b as P,c as K,n as $,t as te,f as U,e as z,a8 as Ie,a9 as V,w as W,aa as ie,ab as $t,ac as se,j as Pt,ad as Je,ae as Oe,af as Qe,ag as _e,ah as ge,ai as Ze,aj as et,ak as Lt,g as fe,al as Tt,am as Bt,an as Nt,ao as _t,ap as Ft,aq as jt,ar as Vt,as as Dt,at as Kt,au as tt,av as Ht,u as Ut,y as zt,aw as Wt,ax as qt,ay as Gt,az as Yt,aA as X,aB as Xt}from"./entry.uHP2rT1Z.js";const Jt={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-5 w-5",padding:"ps-11"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2.5 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2.5 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-1.5 min-w-0",icon:{base:"flex-shrink-0 w-5 h-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}},Qt={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right overflow-hidden flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function Zt(e){throw new Error("Unexpected object: "+e)}var F=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(F||{});function en(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1,a=(()=>{switch(e.focus){case 0:return n.findIndex(s=>!t.resolveDisabled(s));case 1:{let s=n.slice().reverse().findIndex((i,u,d)=>o!==-1&&d.length-u-1>=o?!1:!t.resolveDisabled(i));return s===-1?s:n.length-1-s}case 2:return n.findIndex((s,i)=>i<=o?!1:!t.resolveDisabled(s));case 3:{let s=n.slice().reverse().findIndex(i=>!t.resolveDisabled(i));return s===-1?s:n.length-1-s}case 4:return n.findIndex(s=>t.resolveId(s)===e.id);case 5:return null;default:Zt(e)}})();return a===-1?r:a}function tn({container:e,accept:t,walk:n,enabled:r}){be(()=>{let o=e.value;if(!o||r!==void 0&&!r.value)return;let a=We(e);if(!a)return;let s=Object.assign(u=>t(u),{acceptNode:t}),i=a.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,s,!1);for(;i.nextNode();)n(i.currentNode)})}function nt(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))ot(n,at(t,r),o);return n}function at(e,t){return e?e+"["+t+"]":t}function ot(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())ot(e,at(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):nt(n,t,e)}function nn(e,t,n){let r=N(n==null?void 0:n.value),o=M(()=>e.value!==void 0);return[M(()=>o.value?e.value:r.value),function(a){return o.value||(r.value=a),t==null?void 0:t(a)}]}function Ve(e){return[e.screenX,e.screenY]}function an(){let e=N([-1,-1]);return{wasMoved(t){let n=Ve(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=Ve(t)}}}function on(e,t){return e===t}var rn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(rn||{}),sn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(sn||{}),ln=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ln||{});let rt=Symbol("ComboboxContext");function Me(e){let t=Ct(rt,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Me),n}return t}let un=ne({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>on},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:n,emit:r}){let o=N(1),a=N(null),s=N(null),i=N(null),u=N(null),d=N({static:!1,hold:!1}),l=N([]),p=N(null),g=N(1),x=N(!1);function I(y=c=>c){let c=p.value!==null?l.value[p.value]:null,f=Mt(y(l.value.slice()),m=>j(m.dataRef.domRef)),h=c?f.indexOf(c):null;return h===-1&&(h=null),{options:f,activeOptionIndex:h}}let w=M(()=>e.multiple?1:0),C=M(()=>e.nullable),[v,E]=nn(M(()=>e.modelValue),y=>r("update:modelValue",y),M(()=>e.defaultValue)),A=M(()=>v.value===void 0?J(w.value,{1:[],0:void 0}):v.value),T=null,L=null,k={comboboxState:o,value:A,mode:w,compare(y,c){if(typeof e.by=="string"){let f=e.by;return(y==null?void 0:y[f])===(c==null?void 0:c[f])}return e.by(y,c)},defaultValue:M(()=>e.defaultValue),nullable:C,inputRef:s,labelRef:a,buttonRef:i,optionsRef:u,disabled:M(()=>e.disabled),options:l,change(y){E(y)},activeOptionIndex:M(()=>{if(x.value&&p.value===null&&l.value.length>0){let y=l.value.findIndex(c=>!c.dataRef.disabled);y!==-1&&(p.value=y)}return p.value}),activationTrigger:g,optionsPropsRef:d,closeCombobox(){x.value=!1,!e.disabled&&o.value!==1&&(o.value=1,p.value=null)},openCombobox(){if(x.value=!0,e.disabled||o.value===0)return;let y=l.value.findIndex(c=>{let f=B(c.dataRef.value);return J(w.value,{0:()=>k.compare(B(k.value.value),B(f)),1:()=>B(k.value.value).some(h=>k.compare(B(h),B(f)))})});y!==-1&&(p.value=y),o.value=0},goToOption(y,c,f){x.value=!1,T!==null&&cancelAnimationFrame(T),T=requestAnimationFrame(()=>{if(e.disabled||u.value&&!d.value.static&&o.value===1)return;let h=I();if(h.activeOptionIndex===null){let b=h.options.findIndex(_=>!_.dataRef.disabled);b!==-1&&(h.activeOptionIndex=b)}let m=en(y===F.Specific?{focus:F.Specific,id:c}:{focus:y},{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.disabled});p.value=m,g.value=f??1,l.value=h.options})},selectOption(y){let c=l.value.find(h=>h.id===y);if(!c)return;let{dataRef:f}=c;E(J(w.value,{0:()=>f.value,1:()=>{let h=B(k.value.value).slice(),m=B(f.value),b=h.findIndex(_=>k.compare(m,B(_)));return b===-1?h.push(m):h.splice(b,1),h}}))},selectActiveOption(){if(k.activeOptionIndex.value===null)return;let{dataRef:y,id:c}=l.value[k.activeOptionIndex.value];E(J(w.value,{0:()=>y.value,1:()=>{let f=B(k.value.value).slice(),h=B(y.value),m=f.findIndex(b=>k.compare(h,B(b)));return m===-1?f.push(h):f.splice(m,1),f}})),k.goToOption(F.Specific,c)},registerOption(y,c){L&&cancelAnimationFrame(L);let f={id:y,dataRef:c},h=I(m=>(m.push(f),m));if(p.value===null){let m=c.value.value;J(w.value,{0:()=>k.compare(B(k.value.value),B(m)),1:()=>B(k.value.value).some(b=>k.compare(B(b),B(m)))})&&(h.activeOptionIndex=h.options.indexOf(f))}l.value=h.options,p.value=h.activeOptionIndex,g.value=1,h.options.some(m=>!j(m.dataRef.domRef))&&(L=requestAnimationFrame(()=>{let m=I();l.value=m.options,p.value=m.activeOptionIndex}))},unregisterOption(y){var c;k.activeOptionIndex.value!==null&&((c=k.options.value[k.activeOptionIndex.value])==null?void 0:c.id)===y&&(x.value=!0);let f=I(h=>{let m=h.findIndex(b=>b.id===y);return m!==-1&&h.splice(m,1),h});l.value=f.options,p.value=f.activeOptionIndex,g.value=1}};yt([s,i,u],()=>k.closeCombobox(),M(()=>o.value===0)),xt(rt,k),St(M(()=>J(o.value,{0:ye.Open,1:ye.Closed})));let S=M(()=>k.activeOptionIndex.value===null?null:l.value[k.activeOptionIndex.value].dataRef.value),R=M(()=>{var y;return(y=j(s))==null?void 0:y.closest("form")});return he(()=>{ue([R],()=>{if(!R.value||e.defaultValue===void 0)return;function y(){k.change(e.defaultValue)}return R.value.addEventListener("reset",y),()=>{var c;(c=R.value)==null||c.removeEventListener("reset",y)}},{immediate:!0})}),()=>{let{name:y,disabled:c,form:f,...h}=e,m={open:o.value===0,disabled:c,activeIndex:k.activeOptionIndex.value,activeOption:S.value,value:A.value};return je(xe,[...y!=null&&A.value!=null?nt({[y]:A.value}).map(([b,_])=>je(It,Ot({features:kt.Hidden,key:b,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:f,name:b,value:_}))):[],we({theirProps:{...n,...qe(h,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:m,slots:t,attrs:n,name:"Combobox"})])}}}),cn=ne({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${Be()}`}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:o}){let a=Me("ComboboxInput"),s=M(()=>We(j(a.inputRef))),i={value:!1};o({el:a.inputRef,$el:a.inputRef});function u(){a.change(null);let v=j(a.optionsRef);v&&(v.scrollTop=0),a.goToOption(F.Nothing)}let d=M(()=>{var v;let E=a.value.value;return j(a.inputRef)?typeof e.displayValue<"u"&&E!==void 0?(v=e.displayValue(E))!=null?v:"":typeof E=="string"?E:"":""});he(()=>{ue([d,a.comboboxState,s],([v,E],[A,T])=>{if(i.value)return;let L=j(a.inputRef);L&&((T===0&&E===1||v!==A)&&(L.value=v),requestAnimationFrame(()=>{var k;if(i.value||!L||((k=s.value)==null?void 0:k.activeElement)!==L)return;let{selectionStart:S,selectionEnd:R}=L;Math.abs((R??0)-(S??0))===0&&S===0&&L.setSelectionRange(L.value.length,L.value.length)}))},{immediate:!0}),ue([a.comboboxState],([v],[E])=>{if(v===0&&E===1){if(i.value)return;let A=j(a.inputRef);if(!A)return;let T=A.value,{selectionStart:L,selectionEnd:k,selectionDirection:S}=A;A.value="",A.value=T,S!==null?A.setSelectionRange(L,k,S):A.setSelectionRange(L,k)}})});let l=N(!1);function p(){l.value=!0}function g(){Rt().nextFrame(()=>{l.value=!1})}function x(v){switch(i.value=!0,v.key){case Y.Enter:if(i.value=!1,a.comboboxState.value!==0||l.value)return;if(v.preventDefault(),v.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case Y.ArrowDown:return i.value=!1,v.preventDefault(),v.stopPropagation(),J(a.comboboxState.value,{0:()=>a.goToOption(F.Next),1:()=>a.openCombobox()});case Y.ArrowUp:return i.value=!1,v.preventDefault(),v.stopPropagation(),J(a.comboboxState.value,{0:()=>a.goToOption(F.Previous),1:()=>{a.openCombobox(),Ge(()=>{a.value.value||a.goToOption(F.Last)})}});case Y.Home:if(v.shiftKey)break;return i.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(F.First);case Y.PageUp:return i.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(F.First);case Y.End:if(v.shiftKey)break;return i.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(F.Last);case Y.PageDown:return i.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(F.Last);case Y.Escape:if(i.value=!1,a.comboboxState.value!==0)return;v.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&v.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&u(),a.closeCombobox();break;case Y.Tab:if(i.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.selectActiveOption(),a.closeCombobox();break}}function I(v){t("change",v),a.nullable.value&&a.mode.value===0&&v.target.value===""&&u(),a.openCombobox()}function w(){i.value=!1}let C=M(()=>{var v,E,A,T;return(T=(A=(E=e.defaultValue)!=null?E:a.defaultValue.value!==void 0?(v=e.displayValue)==null?void 0:v.call(e,a.defaultValue.value):null)!=null?A:a.defaultValue.value)!=null?T:""});return()=>{var v,E,A,T,L,k;let S={open:a.comboboxState.value===0},{id:R,displayValue:y,onChange:c,...f}=e,h={"aria-controls":(v=a.optionsRef.value)==null?void 0:v.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null||(E=a.options.value[a.activeOptionIndex.value])==null?void 0:E.id,"aria-labelledby":(L=(A=j(a.labelRef))==null?void 0:A.id)!=null?L:(T=j(a.buttonRef))==null?void 0:T.id,"aria-autocomplete":"list",id:R,onCompositionstart:p,onCompositionend:g,onKeydown:x,onInput:I,onBlur:w,role:"combobox",type:(k=n.type)!=null?k:"text",tabIndex:0,ref:a.inputRef,defaultValue:C.value,disabled:a.disabled.value===!0?!0:void 0};return we({ourProps:h,theirProps:f,slot:S,attrs:n,slots:r,features:Se.RenderStrategy|Se.Static,name:"ComboboxInput"})}}}),dn=ne({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n,expose:r}){let o=Me("ComboboxOptions"),a=`headlessui-combobox-options-${Be()}`;r({el:o.optionsRef,$el:o.optionsRef}),be(()=>{o.optionsPropsRef.value.static=e.static}),be(()=>{o.optionsPropsRef.value.hold=e.hold});let s=wt(),i=M(()=>s!==null?(s.value&ye.Open)===ye.Open:o.comboboxState.value===0);return tn({container:M(()=>j(o.optionsRef)),enabled:M(()=>o.comboboxState.value===0),accept(u){return u.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}}),()=>{var u,d,l;let p={open:o.comboboxState.value===0},g={"aria-labelledby":(l=(u=j(o.labelRef))==null?void 0:u.id)!=null?l:(d=j(o.buttonRef))==null?void 0:d.id,id:a,ref:o.optionsRef,role:"listbox","aria-multiselectable":o.mode.value===1?!0:void 0},x=qe(e,["hold"]);return we({ourProps:g,theirProps:x,slot:p,attrs:t,slots:n,features:Se.RenderStrategy|Se.Static,visible:i.value,name:"ComboboxOptions"})}}}),pn=ne({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n,expose:r}){let o=Me("ComboboxOption"),a=`headlessui-combobox-option-${Be()}`,s=N(null);r({el:s,$el:s});let i=M(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===a:!1),u=M(()=>J(o.mode.value,{0:()=>o.compare(B(o.value.value),B(e.value)),1:()=>B(o.value.value).some(C=>o.compare(B(C),B(e.value)))})),d=M(()=>({disabled:e.disabled,value:e.value,domRef:s}));he(()=>o.registerOption(a,d)),At(()=>o.unregisterOption(a)),be(()=>{o.comboboxState.value===0&&i.value&&o.activationTrigger.value!==0&&Ge(()=>{var C,v;return(v=(C=j(s))==null?void 0:C.scrollIntoView)==null?void 0:v.call(C,{block:"nearest"})})});function l(C){if(e.disabled)return C.preventDefault();o.selectOption(a),o.mode.value===0&&o.closeCombobox(),Et()||requestAnimationFrame(()=>{var v;return(v=j(o.inputRef))==null?void 0:v.focus()})}function p(){if(e.disabled)return o.goToOption(F.Nothing);o.goToOption(F.Specific,a)}let g=an();function x(C){g.update(C)}function I(C){g.wasMoved(C)&&(e.disabled||i.value||o.goToOption(F.Specific,a,0))}function w(C){g.wasMoved(C)&&(e.disabled||i.value&&(o.optionsPropsRef.value.hold||o.goToOption(F.Nothing)))}return()=>{let{disabled:C}=e,v={active:i.value,selected:u.value,disabled:C},E={id:a,ref:s,role:"option",tabIndex:C===!0?void 0:-1,"aria-disabled":C===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onClick:l,onFocus:p,onPointerenter:x,onMouseenter:x,onPointermove:I,onMousemove:I,onPointerleave:w,onMouseleave:w};return we({ourProps:E,theirProps:e,slot:v,attrs:n,slots:t,name:"ComboboxOption"})}}});function Z(e){return Array.isArray?Array.isArray(e):lt(e)==="[object Array]"}const fn=1/0;function hn(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-fn?"-0":t}function gn(e){return e==null?"":hn(e)}function G(e){return typeof e=="string"}function st(e){return typeof e=="number"}function vn(e){return e===!0||e===!1||mn(e)&&lt(e)=="[object Boolean]"}function it(e){return typeof e=="object"}function mn(e){return it(e)&&e!==null}function D(e){return e!=null}function Re(e){return!e.trim().length}function lt(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const bn="Incorrect 'index' type",yn=e=>`Invalid value for key ${e}`,xn=e=>`Pattern length exceeds max of ${e}.`,Sn=e=>`Missing ${e} property in key`,In=e=>`Property 'weight' in key '${e}' must be a positive integer`,De=Object.prototype.hasOwnProperty;class On{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let o=ut(r);n+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ut(e){let t=null,n=null,r=null,o=1,a=null;if(G(e)||Z(e))r=e,t=Ke(e),n=Ae(e);else{if(!De.call(e,"name"))throw new Error(Sn("name"));const s=e.name;if(r=s,De.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(In(s));t=Ke(s),n=Ae(s),a=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:a}}function Ke(e){return Z(e)?e:e.split(".")}function Ae(e){return Z(e)?e.join("."):e}function kn(e,t){let n=[],r=!1;const o=(a,s,i)=>{if(D(a))if(!s[i])n.push(a);else{let u=s[i];const d=a[u];if(!D(d))return;if(i===s.length-1&&(G(d)||st(d)||vn(d)))n.push(gn(d));else if(Z(d)){r=!0;for(let l=0,p=d.length;l<p;l+=1)o(d[l],s,i+1)}else s.length&&o(d,s,i+1)}};return o(e,G(t)?t.split("."):t,0),r?n:n[0]}const wn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Cn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Mn={location:0,threshold:.6,distance:100},Rn={useExtendedSearch:!1,getFn:kn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var O={...Cn,...wn,...Mn,...Rn};const An=/[^ ]+/g;function En(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(o){const a=o.match(An).length;if(n.has(a))return n.get(a);const s=1/Math.pow(a,.5*e),i=parseFloat(Math.round(s*r)/r);return n.set(a,i),i},clear(){n.clear()}}}class Fe{constructor({getFn:t=O.getFn,fieldNormWeight:n=O.fieldNormWeight}={}){this.norm=En(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,G(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();G(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!D(t)||Re(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((o,a)=>{let s=o.getFn?o.getFn(t):this.getFn(t,o.path);if(D(s)){if(Z(s)){let i=[];const u=[{nestedArrIndex:-1,value:s}];for(;u.length;){const{nestedArrIndex:d,value:l}=u.pop();if(D(l))if(G(l)&&!Re(l)){let p={v:l,i:d,n:this.norm.get(l)};i.push(p)}else Z(l)&&l.forEach((p,g)=>{u.push({nestedArrIndex:g,value:p})})}r.$[a]=i}else if(G(s)&&!Re(s)){let i={v:s,n:this.norm.get(s)};r.$[a]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function ct(e,t,{getFn:n=O.getFn,fieldNormWeight:r=O.fieldNormWeight}={}){const o=new Fe({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(ut)),o.setSources(t),o.create(),o}function $n(e,{getFn:t=O.getFn,fieldNormWeight:n=O.fieldNormWeight}={}){const{keys:r,records:o}=e,a=new Fe({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(o),a}function me(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=O.distance,ignoreLocation:a=O.ignoreLocation}={}){const s=t/e.length;if(a)return s;const i=Math.abs(r-n);return o?s+i/o:i?1:s}function Pn(e=[],t=O.minMatchCharLength){let n=[],r=-1,o=-1,a=0;for(let s=e.length;a<s;a+=1){let i=e[a];i&&r===-1?r=a:!i&&r!==-1&&(o=a-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}const re=32;function Ln(e,t,n,{location:r=O.location,distance:o=O.distance,threshold:a=O.threshold,findAllMatches:s=O.findAllMatches,minMatchCharLength:i=O.minMatchCharLength,includeMatches:u=O.includeMatches,ignoreLocation:d=O.ignoreLocation}={}){if(t.length>re)throw new Error(xn(re));const l=t.length,p=e.length,g=Math.max(0,Math.min(r,p));let x=a,I=g;const w=i>1||u,C=w?Array(p):[];let v;for(;(v=e.indexOf(t,I))>-1;){let S=me(t,{currentLocation:v,expectedLocation:g,distance:o,ignoreLocation:d});if(x=Math.min(S,x),I=v+l,w){let R=0;for(;R<l;)C[v+R]=1,R+=1}}I=-1;let E=[],A=1,T=l+p;const L=1<<l-1;for(let S=0;S<l;S+=1){let R=0,y=T;for(;R<y;)me(t,{errors:S,currentLocation:g+y,expectedLocation:g,distance:o,ignoreLocation:d})<=x?R=y:T=y,y=Math.floor((T-R)/2+R);T=y;let c=Math.max(1,g-y+1),f=s?p:Math.min(g+y,p)+l,h=Array(f+2);h[f+1]=(1<<S)-1;for(let b=f;b>=c;b-=1){let _=b-1,ee=n[e.charAt(_)];if(w&&(C[_]=+!!ee),h[b]=(h[b+1]<<1|1)&ee,S&&(h[b]|=(E[b+1]|E[b])<<1|1|E[b+1]),h[b]&L&&(A=me(t,{errors:S,currentLocation:_,expectedLocation:g,distance:o,ignoreLocation:d}),A<=x)){if(x=A,I=_,I<=g)break;c=Math.max(1,2*g-I)}}if(me(t,{errors:S+1,currentLocation:g,expectedLocation:g,distance:o,ignoreLocation:d})>x)break;E=h}const k={isMatch:I>=0,score:Math.max(.001,A)};if(w){const S=Pn(C,i);S.length?u&&(k.indices=S):k.isMatch=!1}return k}function Tn(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class dt{constructor(t,{location:n=O.location,threshold:r=O.threshold,distance:o=O.distance,includeMatches:a=O.includeMatches,findAllMatches:s=O.findAllMatches,minMatchCharLength:i=O.minMatchCharLength,isCaseSensitive:u=O.isCaseSensitive,ignoreLocation:d=O.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:a,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:u,ignoreLocation:d},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(g,x)=>{this.chunks.push({pattern:g,alphabet:Tn(g),startIndex:x})},p=this.pattern.length;if(p>re){let g=0;const x=p%re,I=p-x;for(;g<I;)l(this.pattern.substr(g,re),g),g+=re;if(x){const w=p-re;l(this.pattern.substr(w),w)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let I={isMatch:!0,score:0};return r&&(I.indices=[[0,t.length-1]]),I}const{location:o,distance:a,threshold:s,findAllMatches:i,minMatchCharLength:u,ignoreLocation:d}=this.options;let l=[],p=0,g=!1;this.chunks.forEach(({pattern:I,alphabet:w,startIndex:C})=>{const{isMatch:v,score:E,indices:A}=Ln(t,I,w,{location:o+C,distance:a,threshold:s,findAllMatches:i,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});v&&(g=!0),p+=E,v&&A&&(l=[...l,...A])});let x={isMatch:g,score:g?p/this.chunks.length:1};return g&&r&&(x.indices=l),x}}class ae{constructor(t){this.pattern=t}static isMultiMatch(t){return He(t,this.multiRegex)}static isSingleMatch(t){return He(t,this.singleRegex)}search(){}}function He(e,t){const n=e.match(t);return n?n[1]:null}class Bn extends ae{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Nn extends ae{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class _n extends ae{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Fn extends ae{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class jn extends ae{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Vn extends ae{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class pt extends ae{constructor(t,{location:n=O.location,threshold:r=O.threshold,distance:o=O.distance,includeMatches:a=O.includeMatches,findAllMatches:s=O.findAllMatches,minMatchCharLength:i=O.minMatchCharLength,isCaseSensitive:u=O.isCaseSensitive,ignoreLocation:d=O.ignoreLocation}={}){super(t),this._bitapSearch=new dt(t,{location:n,threshold:r,distance:o,includeMatches:a,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class ft extends ae{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const o=[],a=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+a,o.push([r,n-1]);const s=!!o.length;return{isMatch:s,score:s?0:1,indices:o}}}const Ee=[Bn,ft,_n,Fn,Vn,jn,Nn,pt],Ue=Ee.length,Dn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Kn="|";function Hn(e,t={}){return e.split(Kn).map(n=>{let r=n.trim().split(Dn).filter(a=>a&&!!a.trim()),o=[];for(let a=0,s=r.length;a<s;a+=1){const i=r[a];let u=!1,d=-1;for(;!u&&++d<Ue;){const l=Ee[d];let p=l.isMultiMatch(i);p&&(o.push(new l(p,t)),u=!0)}if(!u)for(d=-1;++d<Ue;){const l=Ee[d];let p=l.isSingleMatch(i);if(p){o.push(new l(p,t));break}}}return o})}const Un=new Set([pt.type,ft.type]);class zn{constructor(t,{isCaseSensitive:n=O.isCaseSensitive,includeMatches:r=O.includeMatches,minMatchCharLength:o=O.minMatchCharLength,ignoreLocation:a=O.ignoreLocation,findAllMatches:s=O.findAllMatches,location:i=O.location,threshold:u=O.threshold,distance:d=O.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:o,findAllMatches:s,ignoreLocation:a,location:i,threshold:u,distance:d},this.pattern=n?t:t.toLowerCase(),this.query=Hn(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o}=this.options;t=o?t:t.toLowerCase();let a=0,s=[],i=0;for(let u=0,d=n.length;u<d;u+=1){const l=n[u];s.length=0,a=0;for(let p=0,g=l.length;p<g;p+=1){const x=l[p],{isMatch:I,indices:w,score:C}=x.search(t);if(I){if(a+=1,i+=C,r){const v=x.constructor.type;Un.has(v)?s=[...s,...w]:s.push(w)}}else{i=0,a=0,s.length=0;break}}if(a){let p={isMatch:!0,score:i/a};return r&&(p.indices=s),p}}return{isMatch:!1,score:1}}}const $e=[];function Wn(...e){$e.push(...e)}function Pe(e,t){for(let n=0,r=$e.length;n<r;n+=1){let o=$e[n];if(o.condition(e,t))return new o(e,t)}return new dt(e,t)}const ke={AND:"$and",OR:"$or"},Le={PATH:"$path",PATTERN:"$val"},Te=e=>!!(e[ke.AND]||e[ke.OR]),qn=e=>!!e[Le.PATH],Gn=e=>!Z(e)&&it(e)&&!Te(e),ze=e=>({[ke.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ht(e,t,{auto:n=!0}={}){const r=o=>{let a=Object.keys(o);const s=qn(o);if(!s&&a.length>1&&!Te(o))return r(ze(o));if(Gn(o)){const u=s?o[Le.PATH]:a[0],d=s?o[Le.PATTERN]:o[u];if(!G(d))throw new Error(yn(u));const l={keyId:Ae(u),pattern:d};return n&&(l.searcher=Pe(d,t)),l}let i={children:[],operator:a[0]};return a.forEach(u=>{const d=o[u];Z(d)&&d.forEach(l=>{i.children.push(r(l))})}),i};return Te(e)||(e=ze(e)),r(e)}function Yn(e,{ignoreFieldNorm:t=O.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:a,score:s})=>{const i=o?o.weight:null;r*=Math.pow(s===0&&i?Number.EPSILON:s,(i||1)*(t?1:a))}),n.score=r})}function Xn(e,t){const n=e.matches;t.matches=[],D(n)&&n.forEach(r=>{if(!D(r.indices)||!r.indices.length)return;const{indices:o,value:a}=r;let s={indices:o,value:a};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function Jn(e,t){t.score=e.score}function Qn(e,t,{includeMatches:n=O.includeMatches,includeScore:r=O.includeScore}={}){const o=[];return n&&o.push(Xn),r&&o.push(Jn),e.map(a=>{const{idx:s}=a,i={item:t[s],refIndex:s};return o.length&&o.forEach(u=>{u(a,i)}),i})}class ce{constructor(t,n={},r){this.options={...O,...n},this.options.useExtendedSearch,this._keyStore=new On(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Fe))throw new Error(bn);this._myIndex=n||ct(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){D(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const a=this._docs[r];t(a,r)&&(this.removeAt(r),r-=1,o-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:a,sortFn:s,ignoreFieldNorm:i}=this.options;let u=G(t)?G(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Yn(u,{ignoreFieldNorm:i}),a&&u.sort(s),st(n)&&n>-1&&(u=u.slice(0,n)),Qn(u,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(t){const n=Pe(t,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:a,i:s,n:i})=>{if(!D(a))return;const{isMatch:u,score:d,indices:l}=n.searchIn(a);u&&o.push({item:a,idx:s,matches:[{score:d,value:a,norm:i,indices:l}]})}),o}_searchLogical(t){const n=ht(t,this.options),r=(i,u,d)=>{if(!i.children){const{keyId:p,searcher:g}=i,x=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(u,p),searcher:g});return x&&x.length?[{idx:d,item:u,matches:x}]:[]}const l=[];for(let p=0,g=i.children.length;p<g;p+=1){const x=i.children[p],I=r(x,u,d);if(I.length)l.push(...I);else if(i.operator===ke.AND)return[]}return l},o=this._myIndex.records,a={},s=[];return o.forEach(({$:i,i:u})=>{if(D(i)){let d=r(n,i,u);d.length&&(a[u]||(a[u]={idx:u,item:i,matches:[]},s.push(a[u])),d.forEach(({matches:l})=>{a[u].matches.push(...l)}))}}),s}_searchObjectList(t){const n=Pe(t,this.options),{keys:r,records:o}=this._myIndex,a=[];return o.forEach(({$:s,i})=>{if(!D(s))return;let u=[];r.forEach((d,l)=>{u.push(...this._findMatches({key:d,value:s[l],searcher:n}))}),u.length&&a.push({idx:i,item:s,matches:u})}),a}_findMatches({key:t,value:n,searcher:r}){if(!D(n))return[];let o=[];if(Z(n))n.forEach(({v:a,i:s,n:i})=>{if(!D(a))return;const{isMatch:u,score:d,indices:l}=r.searchIn(a);u&&o.push({score:d,key:t,value:a,idx:s,norm:i,indices:l})});else{const{v:a,n:s}=n,{isMatch:i,score:u,indices:d}=r.searchIn(a);i&&o.push({score:u,key:t,value:a,norm:s,indices:d})}return o}}ce.version="6.6.2";ce.createIndex=ct;ce.parseIndex=$n;ce.config=O;ce.parseQuery=ht;Wn(zn);function Zn(e,t,n){const r=()=>{var s,i;return new ce((s=q(t))!=null?s:[],(i=q(n))==null?void 0:i.fuseOptions)},o=N(r());ue(()=>{var s;return(s=q(n))==null?void 0:s.fuseOptions},()=>{o.value=r()},{deep:!0}),ue(()=>q(t),s=>{o.value.setCollection(s)},{deep:!0});const a=M(()=>{const s=q(n);if(s!=null&&s.matchAllWhenSearchEmpty&&!q(e))return q(t).map((u,d)=>({item:u,refIndex:d}));const i=s==null?void 0:s.resultLimit;return o.value.search(q(e),i?{limit:i}:void 0)});return{fuse:o,results:a}}const ea=ne({components:{HComboboxOption:pn,UIcon:Ce,UAvatar:Ye,UKbd:Xe},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const t=M(()=>{const r=e.group[e.groupAttribute];return typeof r=="function"?r(e.query):r});function n(r,{indices:o,value:a}){if(r===a)return"";let s="",i=0;o.forEach(d=>{const l=d[1]+1,p=l-d[0]>=e.query.length;s+=[a.substring(i,d[0]),p&&"<mark>",a.substring(d[0],l),p&&"</mark>"].filter(Boolean).join(""),i=l}),s+=a.substring(i);const u=s.indexOf("<mark>");return u>60&&(s=`...${s.substring(u-60)}`),s}return{label:t,highlight:n}}}),ta=["aria-label"],na=["innerHTML"];function aa(e,t,n,r,o,a){const s=Ce,i=Ye,u=Xe,d=Q("HComboboxOption");return P(),K("div",{class:$(e.ui.group.wrapper),role:"option"},[e.label?(P(),K("h2",{key:0,class:$(e.ui.group.label)},te(e.label),3)):U("",!0),z("div",{class:$(e.ui.group.container),role:"listbox","aria-label":e.group[e.groupAttribute]},[(P(!0),K(xe,null,Ie(e.group.commands,(l,p)=>(P(),V(d,{key:`${e.group.key}-${p}`,value:l,disabled:l.disabled,as:"template"},{default:W(({active:g,selected:x})=>[z("div",{class:$([e.ui.group.command.base,g?e.ui.group.command.active:e.ui.group.command.inactive,l.disabled?"cursor-not-allowed":"cursor-pointer"])},[z("div",{class:$(e.ui.group.command.container)},[se(e.$slots,`${e.group.key}-icon`,{group:e.group,command:l,active:g,selected:x},()=>[l.icon?(P(),V(s,{key:0,name:l.icon,class:$([e.ui.group.command.icon.base,g?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,l.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):l.avatar?(P(),V(i,ie({key:1},{size:e.ui.group.command.avatar.size,...l.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):l.chip?(P(),K("span",{key:2,class:$(e.ui.group.command.chip.base),style:$t({background:`#${l.chip}`})},null,6)):U("",!0)]),z("div",{class:$([e.ui.group.command.label,l.disabled&&e.ui.group.command.disabled])},[se(e.$slots,`${e.group.key}-command`,{group:e.group,command:l,active:g,selected:x},()=>{var I,w;return[l.prefix?(P(),K("span",{key:0,class:$(["flex-shrink-0",l.prefixClass||e.ui.group.command.prefix])},te(l.prefix),3)):U("",!0),z("span",{class:$(["truncate",{"flex-none":l.suffix||((I=l.matches)==null?void 0:I.length)}])},te(l[e.commandAttribute]),3),(w=l.matches)!=null&&w.length?(P(),K("span",{key:1,class:$(["truncate",l.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(l[e.commandAttribute],l.matches[0])},null,10,na)):l.suffix?(P(),K("span",{key:2,class:$(["truncate",l.suffixClass||e.ui.group.command.suffix])},te(l.suffix),3)):U("",!0)]})],2)],2),x?(P(),V(s,{key:0,name:e.selectedIcon,class:$(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):g&&(e.group.active||e.$slots[`${e.group.key}-active`])?se(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:l,active:g,selected:x},()=>[e.group.active?(P(),K("span",{key:0,class:$(e.ui.group.active)},te(e.group.active),3)):U("",!0)]):se(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:l,active:g,selected:x},()=>{var I;return[(I=l.shortcuts)!=null&&I.length?(P(),K("span",{key:0,class:$(e.ui.group.command.shortcuts)},[(P(!0),K(xe,null,Ie(l.shortcuts,w=>(P(),V(u,{key:w},{default:W(()=>[Pt(te(w),1)]),_:2},1024))),128))],2)):!l.disabled&&e.group.inactive?(P(),K("span",{key:1,class:$(e.ui.group.inactive)},te(e.group.inactive),3)):U("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,ta)],2)}const oa=Ne(ea,[["render",aa]]),le=Je(Oe.ui.strategy,Oe.ui.commandPalette,Jt),ra=ne({components:{HCombobox:un,HComboboxInput:cn,HComboboxOptions:dn,UIcon:Ce,UButton:Qe,CommandPaletteGroup:oa},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>le.default.icon},loadingIcon:{type:String,default:()=>le.default.loadingIcon},selectedIcon:{type:String,default:()=>le.default.selectedIcon},closeButton:{type:Object,default:()=>le.default.closeButton},emptyState:{type:Object,default:()=>le.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:t,expose:n}){const{ui:r,attrs:o}=_e("commandPalette",ge(e,"ui"),le,ge(e,"class")),a=N(""),s=N(),i=N(null),u=N(!1);he(()=>{e.autoselect&&T()}),he(()=>{setTimeout(()=>{var y;const S=(y=s.value)==null?void 0:y.$.provides;if(!S)return;const R=Object.getOwnPropertySymbols(S);i.value=R.length&&S[R[0]]},200)});const d=M(()=>Ze({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),l=M(()=>{var R;const S=[];for(const y of e.groups)y.search||S.push(...((R=y.commands)==null?void 0:R.map(c=>({...c,group:y.key})))||[]);return S}),p=N({}),{results:g}=Zn(a,l,d);function x(S,R){if(S)return S.filter&&typeof S.filter=="function"&&(R=S.filter(a.value,R)),{...S,commands:R.slice(0,d.value.resultLimit)}}const I=M(()=>{if(!g.value)return[];const S=g.value.reduce((c,f)=>{var b;const{item:h,...m}=f;return h.group&&(c[b=h.group]||(c[b]=[]),c[h.group].push({...h,...m})),c},{}),R=Object.entries(S).map(([c,f])=>{const h=e.groups.find(m=>m.key===c);return h?x(h,f):null}).filter(Boolean),y=e.groups.filter(c=>{var f;return!!c.search&&((f=p.value[c.key])==null?void 0:f.length)}).map(c=>{const f=p.value[c.key]||[];return x(c,[...f])});return[...R,...y]}),w=et(async()=>{const S=e.groups.filter(R=>!!R.search);S.length&&(u.value=!0,await Promise.all(S.map(async R=>{p.value[R.key]=await R.search(a.value)})),u.value=!1,A())},e.debounce);ue(a,()=>{w(),A()});const C=M(()=>(e.loading||u.value)&&e.loadingIcon?e.loadingIcon:e.icon),v=M(()=>Lt(r.value.input.icon.base,r.value.input.icon.size,(e.loading||u.value)&&e.loadingIcon&&r.value.input.icon.loading)),E=M(()=>({...r.value.default.emptyState,...e.emptyState}));function A(){setTimeout(()=>{var S;(S=s.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function T(){setTimeout(()=>{var S;(S=s.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function L(S){t("update:modelValue",S,{query:a.value}),e.autoclear&&setTimeout(()=>{a.value=""},0)}function k(){a.value?a.value="":t("close")}return n({query:a,updateQuery:S=>{a.value=S},comboboxApi:i,results:g}),{ui:r,attrs:o,groups:I,comboboxInput:s,query:a,iconName:C,iconClass:v,emptyState:E,onSelect:L,onClear:k}}});function sa(e,t,n,r,o,a){const s=Ce,i=Q("HComboboxInput"),u=Qe,d=Q("CommandPaletteGroup"),l=Q("HComboboxOptions"),p=Q("HCombobox");return P(),V(p,ie({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:W(()=>[Bt(z("div",{class:$(e.ui.input.wrapper)},[e.iconName?(P(),V(s,{key:0,name:e.iconName,class:$(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):U("",!0),fe(i,{ref:"comboboxInput",value:e.query,class:$([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:t[0]||(t[0]=g=>e.query=g.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(P(),V(u,ie({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):U("",!0)],2),[[Tt,e.searchable]]),e.groups.length?(P(),V(l,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:$(e.ui.container)},{default:W(()=>[(P(!0),K(xe,null,Ie(e.groups,g=>(P(),V(d,{key:g.key,query:e.query,group:g,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},Ft({_:2},[Ie(e.$slots,(x,I)=>({name:I,fn:W(w=>[se(e.$slots,I,_t(Nt(w)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?se(e.$slots,"empty-state",{key:1},()=>[z("div",{class:$(e.ui.emptyState.wrapper)},[e.emptyState.icon?(P(),V(s,{key:0,name:e.emptyState.icon,class:$(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):U("",!0),z("p",{class:$(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},te(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):U("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const ia=Ne(ra,[["render",sa]]),la=Je(Oe.ui.strategy,Oe.ui.modal,Qt),ua=ne({components:{HDialog:jt,HDialogPanel:Vt,TransitionRoot:Dt,TransitionChild:Kt},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented"],setup(e,{emit:t}){const{ui:n,attrs:r}=_e("modal",ge(e,"ui"),la,ge(e,"class")),o=M({get(){return e.modelValue},set(i){t("update:modelValue",i)}}),a=M(()=>e.transition?{...n.value.transition}:{});function s(i){if(e.preventClose){t("close-prevented");return}o.value=i,t("close")}return{ui:n,attrs:r,isOpen:o,transitionClass:a,close:s}}});function ca(e,t,n,r,o,a){const s=Q("TransitionChild"),i=Q("HDialogPanel"),u=Q("HDialog"),d=Q("TransitionRoot");return P(),V(d,{appear:e.appear,show:e.isOpen,as:"template"},{default:W(()=>[fe(u,ie({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:W(()=>[e.overlay?(P(),V(s,ie({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:W(()=>[z("div",{class:$([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):U("",!0),z("div",{class:$(e.ui.inner)},[z("div",{class:$([e.ui.container,!e.fullscreen&&e.ui.padding])},[fe(s,ie({as:"template",appear:e.appear},e.transitionClass),{default:W(()=>[fe(i,{class:$([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:W(()=>[se(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show"])}const da=Ne(ua,[["render",ca]]),gt=e=>{if(!e.children)return e._path;for(const t of(e==null?void 0:e.children)||[]){const n=gt(t);if(n)return n}},vt=(e,t)=>{for(const n of t){if(n._path===e&&!n._id)return n.children;if(n.children){const r=vt(e,n.children);if(r)return r}}},mt=(e,t)=>{for(const n of t){if(n._path===e)return n;if(n.children){const r=mt(e,n.children);if(r)return r}}},pa=(e,t,n)=>{let r;const o=(a,s)=>{for(const i of s)if(!(a!=="/"&&i._path==="/")){if(a!=null&&a.startsWith(i._path)&&i[t]&&(r=i[t]),i._path===a)return;i.children&&o(a,i.children)}};return o(e,n),r},fa=()=>({navBottomLink:gt,navDirFromPath:vt,navPageFromPath:mt,navKeyFromPath:pa});function ha(...e){return M(()=>e.every(t=>q(t)))}function ga(e){return M(()=>!q(e))}const va=/^[^-]+.*-.*[^-]+$/,ma=/^[^_]+.*_.*[^_]+$/,ba=(e,t={})=>{const{macOS:n,usingInput:r}=tt();let o=[];const a=N([]),s=()=>{a.value.splice(0,a.value.length)},i=et(s,t.chainDelay??800),u=d=>{if(!d.key)return;const l=/^[a-z]{1}$/i.test(d.key);let p;if(a.value.push(d.key),a.value.length>=2){p=a.value.slice(-2).join("-");for(const g of o.filter(x=>x.chained))if(g.key===p){g.condition.value&&(d.preventDefault(),g.handler()),s();return}}for(const g of o.filter(x=>!x.chained))if(d.key.toLowerCase()===g.key&&d.metaKey===g.metaKey&&d.ctrlKey===g.ctrlKey&&!(l&&d.shiftKey!==g.shiftKey)){g.condition.value&&(d.preventDefault(),g.handler()),s();return}i()};o=Object.entries(e).map(([d,l])=>{var I,w;if(!l)return null;let p;d.includes("-")&&d!=="-"&&!((I=d.match(va))!=null&&I.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`),d.includes("_")&&d!=="_"&&!((w=d.match(ma))!=null&&w.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`);const g=d.includes("-")&&d!=="-";if(g)p={key:d.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const C=d.toLowerCase().split("_").map(v=>v);p={key:C.filter(v=>!["meta","ctrl","shift","alt"].includes(v)).join("_"),metaKey:C.includes("meta"),ctrlKey:C.includes("ctrl"),shiftKey:C.includes("shift"),altKey:C.includes("alt")}}if(p.chained=g,!n.value&&p.metaKey&&!p.ctrlKey&&(p.metaKey=!1,p.ctrlKey=!0),typeof l=="function"?p.handler=l:typeof l=="object"&&(p={...p,handler:l.handler}),!p.handler)return console.trace("[Shortcut] Invalid value"),null;const x=[];return l.usingInput?typeof l.usingInput=="string"&&x.push(M(()=>r.value===l.usingInput)):x.push(ga(r)),p.condition=ha(...x,...l.whenever||[]),p}).filter(Boolean),Ht("keydown",u)},xa=ne({__name:"DocsSearch",props:{files:{type:Array,default:()=>[]},navigation:{type:Array,default:()=>[]},links:{type:Array,default:()=>[]},groups:{type:Array,default:()=>[]},fuse:{type:Object,default:()=>({})},hideColorMode:{type:Boolean,default:!1},ui:{type:Object,default:()=>({})}},setup(e,{expose:t}){const n={padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-screen sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10",closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"ghost",size:"xs"}},fileIcon:{name:"i-heroicons-document-text"}},r=e,o=Ut(),{navKeyFromPath:a}=fa(),s=zt(),{usingInput:i}=tt(),{isDocsSearchModalOpen:u}=Wt(),d=qt({mobile:640}),l=Gt(),{ui:p,attrs:g}=_e("docs.search",ge(r,"ui"),n,void 0,!0),x=d.smaller("mobile"),I=N();function w(c){var f;return c.icon?c.icon:(f=c.navigation)!=null&&f.icon?c.navigation.icon:(r.navigation&&(c.icon=a(c._path,"icon",r.navigation)),c.icon||p.value.fileIcon.name)}const C=M(()=>Ze({},r.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3},"children.children.value","children.children.children.value","children.children.children.children.value","children.children.children.children.children.value"]},resultLimit:12}));function v(c,f){return c?f:f==null?void 0:f.filter(h=>!h.child)}const E=M(()=>{var f,h;let c=[];return(f=r.navigation)!=null&&f.length&&(r.navigation.some(m=>{var b;return!!((b=m.children)!=null&&b.length)})?c=(r.navigation||[]).map(m=>({key:m._path,label:m.title,commands:(r.files||[]).filter(b=>{var _;return(_=b._path)==null?void 0:_.startsWith(m._path)}).flatMap(b=>T(b,m)),filter:v})):c=[{key:"docs",commands:(r.files||[]).flatMap(m=>T(m)),filter:v}]),[((h=r.links)==null?void 0:h.length)&&{key:"links",label:"Links",commands:r.links.flatMap(m=>[m.to&&{id:o.resolve(m.to).fullPath,...m,icon:m.icon||p.value.fileIcon.name},...(m.children||[]).map(b=>({id:o.resolve(b.to).fullPath,prefix:m.label,suffix:b.description,...b,icon:b.icon||m.icon||p.value.fileIcon.name}))]).filter(Boolean)},...c,...r.groups||[],!(l!=null&&l.forced)&&!r.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:s.ui.icons.light,disabled:l.preference==="light",click:()=>{l.preference="light"}},{id:"theme-dark",label:"Dark",icon:s.ui.icons.dark,disabled:l.preference==="dark",click:()=>{l.preference="dark"}}]}].filter(Boolean)}),A=M(()=>u.value||!i.value);function T(c,f){var m,b,_,ee,de;const h=(m=Yt((f==null?void 0:f.children)||[],c))==null?void 0:m.map(({title:H})=>H).join(" > ");return[{id:c._id,label:((b=c.navigation)==null?void 0:b.title)||c.title,title:((_=c.navigation)==null?void 0:_.title)||c.title,prefix:h,to:c._path,suffix:c.description,children:k(S(((ee=c==null?void 0:c.body)==null?void 0:ee.children)||[])),icon:w(c)},...Object.entries(R(((de=c==null?void 0:c.body)==null?void 0:de.children)||[])).map(([H,{title:oe,children:ve}])=>{var pe;if(oe)return{id:`${c._path}${H}`,label:oe,prefix:(h?`${h} > `:"")+`${((pe=c.navigation)==null?void 0:pe.title)||c.title}`,to:`${c._path}${H}`,children:k(ve),icon:w(c),child:!0}})].filter(Boolean)}function L(c){return(c==null?void 0:c.map(f=>{var h,m;if(["code","code-inline","em","a","strong"].includes(f.tag))return{type:"text",value:((m=(h=f.children)==null?void 0:h.find(b=>b.type==="text"))==null?void 0:m.value)||""};if(f.type==="text")return f}).filter(Boolean))||[]}function k(c){return c.map(f=>{if(["pre","style","video"].includes(f.tag))return;let h=[...f.children||[]];return["p","h1","h2","h3","h4","h5","h6","li","td","th"].includes(f.tag)&&h.length?(h=L(h).reduce((m,b)=>(m.length&&m[m.length-1].type==="text"?m[m.length-1].value+=b.value||"":m.push({...b}),m),[]),{...f,children:h}):{...f,children:k(h)}}).filter(Boolean)}function S(c){const f=[];for(const h of c){if(["h1","h2","h3"].includes(h.tag))break;f.push(h)}return f}function R(c){var b,_,ee,de;const f={};let h="",m="";for(const H of c)["h1","h2","h3"].includes(H.tag)&&(m=((ee=(_=(b=H.children)==null?void 0:b.map(oe=>{var ve,pe;if(oe.type==="text")return oe.value;if(["code","code-inline","em","a","strong"].includes(oe.tag))return(pe=(ve=oe.children)==null?void 0:ve.find(bt=>bt.type==="text"))==null?void 0:pe.value}))==null?void 0:_.filter(Boolean))==null?void 0:ee.join(" "))||"",m&&((de=H.props)!=null&&de.id)&&(h=`#${encodeURIComponent(H.props.id)}`)),f[h]?f[h].children.push(H):f[h]={children:[H],title:m};return f}function y(c){u.value=!1,c.click?c.click():c.to?c.target==="_blank"||c.to.startsWith("http")?window.open(c.to,c.target||"_blank"):o.push(c.to):c.href&&window.open(c.href,"_blank")}return ba({meta_k:{usingInput:!0,whenever:[A],handler:()=>{u.value=!u.value}},escape:{usingInput:!0,whenever:[u],handler:()=>{u.value=!1}}}),t({commandPaletteRef:I}),(c,f)=>{const h=ia,m=da;return P(),V(m,ie({modelValue:X(u),"onUpdate:modelValue":f[1]||(f[1]=b=>Xt(u)?u.value=b:null),overlay:!X(x),transition:!X(x),ui:X(p)},X(g)),{default:W(()=>[fe(h,{ref_key:"commandPaletteRef",ref:I,groups:X(E),ui:X(p).commandPalette,"close-button":X(p).commandPalette.closeButton,fuse:X(C),"onUpdate:modelValue":y,onClose:f[0]||(f[0]=b=>u.value=!1)},null,8,["groups","ui","close-button","fuse"])]),_:1},16,["modelValue","overlay","transition","ui"])}}});export{xa as default};
