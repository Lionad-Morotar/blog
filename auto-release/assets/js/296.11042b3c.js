(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{309:function(e,t,s){"use strict";s(123);const a=s(55),i={touchstart:"onMouseDown",mousedown:"onMouseDown",touchend:"onMouseUp",mouseup:"onMouseUp",touchmove:"onMouseMove",mousemove:"onMouseMove",touchcancel:"onMouseUp",wheel:"onMouseWheel",mousewheel:"onMouseWheel",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},l=["hover","hoverOut","tap","swipeUp","swipeDown"];var o={name:"gesture-cmpt",props:{...l.reduce((e,t)=>(e[t]=Function,e),{}),hoverTime:{type:[Number,String],default:100},enableMouse:{type:Boolean,default:!0},enableMouseWheel:{type:Boolean,default:!0},judgeConfig:{type:Object,default:()=>({tapTimeInterval:300,tapOffsetThresholdSquared:25,swipeOffsetThreshold:80})},freezeTime:{type:[Number,String],default:1e3/30},eventInvoke:{type:Function,default:()=>{}}},data:()=>({touchstartTime:0,touchendTime:0,touchstartCoord:{},touchendCoord:{},wheelOffset:0,mouseEnterTime:null,mouseLeaveTime:null,hoverTick:null,lastTouchendTime:0,lastTouchstartTime:0,lastTouchstartCoord:{},lastTouchendCoord:{},lastWheelOffset:0,shouldInit:null,ele:null,events:{listens:[]}}),computed:{timeInterval(){return this.touchendTime-this.touchstartTime},pageXOffset(){return this.touchendCoord.pageX-this.touchstartCoord.pageX},pageXOffsetAbs(){return Math.abs(this.pageXOffset)},pageYOffset(){return this.touchendCoord.pageY-this.touchstartCoord.pageY},pageYOffsetAbs(){return Math.abs(this.pageYOffset)},lastTimeInterval(){return this.lastTouchendTime-this.lastTouchstartTime},lastPageXOffset(){return this.touchendCoord.pageX-this.touchstartCoord.pageX},lastPageYOffset(){return this.touchendCoord.pageY-this.touchstartCoord.pageY},deltaTime(){return this.touchendTime-this.lastTouchstartTim},mouseHoverTime(){return this.mouseLeaveTime-this.mouseEnterTime}},mounted(){this.shouldInit=Object.keys(this.$props).find(e=>l.includes(e)&&this[e]),this.shouldInit&&(this.calcEventsName(),this.ele=this.$refs.gesture,this.events.listens.map(e=>{this.ele.addEventListener(e,this[i[e]])}))},beforeDestroy(){this.shouldInit&&this.events.listens.map(e=>{this.ele.removeEventListener(e,this[i[e]])})},methods:{onMouseEnter(e){this.mouseEnterTime||this.mouseLeaveTime||this.recordEnter(e),this.eventInvoke(e)},recordEnter(e){this.mouseEnterTime=e.timeStamp,this.hoverTick=setTimeout(()=>{this.recordLeave({timeStamp:+new Date+1/0})},this.hoverTime)},onMouseLeave(e){this.recordLeave(e)},recordLeave(e){this.mouseEnterTime&&!this.mouseLeaveTime&&(this.mouseLeaveTime=e.timeStamp),this.calcGestures(),this.hoverTick&&clearTimeout(this.hoverTick)},onMouseDown(e){this.onRecordMove(e),this.eventInvoke(e)},onRecordMove(e){this.recordDown(e),this.triggerMove()},recordDown(e){this.lastTouchstartTime=this.touchstartTime,this.touchstartTime=e.timeStamp;const t=e.touches?e.touches[0]:e;this.lastTouchstartCoord=this.touchstartCoord,this.touchstartCoord={pageX:t.pageX,pageY:t.pageY}},triggerMove(){this.events.moves.map(e=>{this.ele.addEventListener(e,this[i[e]])})},onMouseMove(e){this.eventInvoke(e)},onMouseWheel(e){this.lastWheelOffset=this.wheelOffset;const t=e.wheelDelta&&e.deltaY?-1*e.wheelDelta:event.deltaY;this.wheelOffset=t,this.calcGestures(),this.eventInvoke(e)},onMouseUp(e){this.recordUp(e),this.calcGestures(),this.unTriggerMove(),this.eventInvoke(e)},recordUp(e){this.lastTouchendTime=this.touchendTime,this.touchendTime=e.timeStamp;const t=e.changedTouches?e.changedTouches[0]:e;this.lastTouchendCoord=this.touchendCoord,this.touchendCoord={pageX:t.pageX,pageY:t.pageY}},unTriggerMove(){this.events.moves.map(e=>{this.ele.removeEventListener(e,this[i[e]])})},calcGestures:function(){let e=0;return function(){const t=+Date.now();if(t-e<+this.freezeTime)return;e=t;const{tapTimeInterval:s,tapOffsetThresholdSquared:a,swipeOffsetThreshold:i}=this.judgeConfig,o={hover:()=>this.mouseHoverTime>=+this.hoverTime,hoverOut:()=>!0,tap:()=>this.timeInterval<s&&this.pageXOffset**2<a,swipeUp:()=>{const e=this.timeInterval<s&&this.pageYOffsetAbs>this.pageXOffsetAbs&&this.pageYOffset>i,t=this.enableMouse&&this.wheelOffset<0;return e||t},swipeDown:()=>{const e=this.timeInterval<s&&this.pageYOffsetAbs>this.pageXOffsetAbs&&this.pageYOffset<i,t=this.enableMouse&&this.wheelOffset>0;return e||t}},r=l.find(e=>this[e]&&o[e]&&o[e]()&&(()=>this[e]()));r&&this[r](),this.reset()}}(),reset(){this.touchstartTime=null,this.touchendTime=null,this.touchstartCoord={},this.touchendCoord={},this.wheelOffset=0,this.mouseEnterTime=null,this.mouseLeaveTime=null,this.lastTouchendTime=null,this.lastTouchstartTime=null,this.lastTouchstartCoord={},this.lastTouchendCoord={},this.lastWheelOffset=0},calcEventsName(){const e=[...a.isMobile?["touchstart","touchend","touchcancel"]:this.enableMouse?["mousedown","mouseup","mouseenter","mouseleave"]:[],...this.enableMouseWheel?["onwheel"in document?"wheel":"mousewheel"]:[]],t=[...a.isMobile?["touchmove"]:[],...this.enableMouse?["mousemove"]:[]];this.events={listens:e,moves:t}}}},r=s(0),n=Object(r.a)(o,(function(){return(0,this._self._c)("div",{ref:"gesture"},[this._t("default")],2)}),[],!1,null,null,null);t.a=n.exports},363:function(e,t,s){},460:function(e,t,s){s(15);const a=s(126);s(127);console.log("USE NODE_ENV:","production");const i=(e,t="")=>{const s=[],i=/\.md$/,l=["index.md","README.md"];try{a.readdirSync(e).forEach(e=>{i.test(e)>0&&(l.includes(e)||s.push(e.replace(".md","")))})}catch(e){console.error("Error in getSRCs : ",e)}return s.sort(),s.map(e=>t+e)},l=[{title:"心流思绪 / Heart Flows",label:"心流思绪",collapsable:!1,open:!0,path:"/flows/",children:["flows/books","flows/long-night-dream","flows/everything","flows/stolen-time-from-god","flows/expression-and-loneliness","flows/my-shy","flows/drinking-while-thinking","flows/escape-from-mysticism","flows/zfold"]},{title:"技术博客 / Coder",label:"技术",collapsable:!1,open:!0,path:"/articles/",children:["articles/zindex-manager","articles/crack-the-slider","articles/css-light-travel","articles/design-patterns-and-js-magic-pot","articles/anysort-2th","articles/js-100","articles/helmet-and-security","articles/css-poaa","articles/css-judge-direction","articles/css-interesting","articles/no-more-if-else","articles/reactive-in-150loc","articles/fourty-two","articles/source-code","articles/zfold"]},{title:"玩乐广场 / Paint",collapsable:!0,open:!1,path:"/awesome/",children:i("D:\\@Github\\blog\\blogs\\awesome","awesome/")},{title:"等待整理",collapsable:!0,open:!1,path:"/gists/",children:i("D:\\@Github\\blog\\blogs\\gists","gists/")},{title:"知识骨架",collapsable:!0,open:!1,path:"/maps/",children:i("D:\\@Github\\blog\\blogs\\maps","maps/")},{title:"吉他剧场",collapsable:!0,open:!1,path:"/music/",children:["music/wait-for-wind","music/promise-ocean","music/wings-you-are-the-hero","music/eva","music/miracle-mountain","music/wu-wei","music/noname"]},{title:"Secrets",collapsable:!0,open:!0,path:"/secrets/",children:i("D:\\@Github\\blog\\blogs\\secrets","secrets/")}];e.exports={getSidebar:()=>l,getRecommends:()=>({"心流":{url:"/flows/long-night-dream.html",label:"长夜梦"},"技术":{url:"/articles/zindex-manager.html",label:"一统多组件库的层叠顺序"}})}},461:function(e,t,s){"use strict";s(363)},643:function(e,t,s){"use strict";s.r(t);var a=s(309);const i=s(460),l=s(55),o=["brief","detail"];var r={components:{Gesture:a.a},data(){return{sidebar:i,recommends:Object.entries(i.getRecommends()),slide:o[0],scrollHeight:null,assets:{parallax_0:{sort:0,delay:600,value:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/homepage/layer_0.png",cb:()=>this.$set(this.assets.parallax_0,"done",!0)},parallax_1:{sort:1,delay:500,value:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/homepage/layer_1.png",cb:()=>this.$set(this.assets.parallax_1,"done",!0)},parallax_2:{sort:2,delay:400,value:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/homepage/layer_2.png",cb:()=>this.$set(this.assets.parallax_2,"done",!0)},parallax_3:{sort:3,delay:300,value:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/homepage/layer_3.png",cb:()=>this.$set(this.assets.parallax_3,"done",!0)},parallax_4:{sort:4,delay:200,value:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/homepage/layer_4.png",cb:()=>this.$set(this.assets.parallax_4,"done",!0)},parallax_5:{sort:5,delay:100,value:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/homepage/layer_5.png",cb:()=>this.$set(this.assets.parallax_5,"done",!0)},parallax_6:{sort:6,delay:0,value:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/homepage/layer_6.png",cb:()=>this.$set(this.assets.parallax_6,"done",!0)}}}},computed:{data(){return{...this.$page.frontmatter}}},mounted(){l.isMobile&&document.querySelector("#into-article").click();const e=document.querySelector(".parallax");this.scrollHeight=e.scrollHeight-e.clientHeight},methods:{changeSlide:function(e){if(+Date.now()-0<500)return;const t=["up","down"].findIndex(t=>t===e);this.slide=o[t];const s=[0,this.scrollHeight][t];this.$refs.parallax.scrollTo?this.$refs.parallax.scrollTo(0,s):this.$refs.parallax.scrollTop=s},stopMove(e){"touchmove"!==e.type&&"mousemove"!==e.type||(e.preventDefault(),e.stopPropagation())}}},n=(s(461),s(0)),h=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{class:["home",e.slide]},[t("div",{ref:"parallax",staticClass:"parallax"},[t("div",{staticClass:"parallax__layer parallax__layer__0"},[t("img",{staticClass:"cloud animation",attrs:{src:e.assets.parallax_0.value,alt:"云朵背景图片",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"parallax__layer parallax__layer__1"},[t("img",{attrs:{src:e.assets.parallax_1.value,alt:"山岳背景图片",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"parallax__layer parallax__layer__2"},[t("img",{attrs:{src:e.assets.parallax_2.value,alt:"山岳背景图片",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"parallax__layer parallax__layer__3"},[t("img",{attrs:{src:e.assets.parallax_3.value,alt:"山岳背景图片",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"parallax__layer parallax__layer__4"},[t("img",{attrs:{src:e.assets.parallax_4.value,alt:"山岳背景图片",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"parallax__layer parallax__layer__5"},[t("img",{attrs:{src:e.assets.parallax_5.value,alt:"山岳背景图片",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"parallax__layer parallax__layer__6"},[t("img",{attrs:{src:e.assets.parallax_6.value,alt:"山岳背景图片",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"parallax__cover"})]),e._v(" "),t("Gesture",{attrs:{swipeUp:()=>e.changeSlide("up"),freezeTime:"300",eventInvoke:e.stopMove}},[t("div",{staticClass:"wrapper wrapper-detail"},[t("div",{staticClass:"avatar"},[t("img",{attrs:{src:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/avatar.gif",alt:"Lionad's Avatar",draggable:"false"}})]),e._v(" "),t("div",{staticClass:"card"},[t("div",{staticClass:"bio"},[t("div",{staticClass:"head"},[t("span",[e._v(e._s(e.data.head))])]),e._v(" "),t("div",{staticClass:"info"},[t("span",[e._v(e._s(e.data.info))])]),e._v(" "),t("div",{staticClass:"description"},[t("Content")],1)]),e._v(" "),t("div",{staticClass:"buttons"},[t("div",{staticClass:"into-article"},[t("a",{attrs:{id:"into-article",href:"/articles/index.html"}},[e._v("进入博客")])])])]),e._v(" "),e.data.footer?t("div",{staticClass:"footer"},[t("span",[e._v(e._s(e.data.footer)),t("span",{staticClass:"seg"},[e._v(" / ")])]),e._v(" "),t("a",{attrs:{href:"http://beian.miit.gov.cn/",target:"_blank",rel:"nofollow"}},[e._v("沪ICP备2021001426号"),t("span",{staticClass:"seg"},[e._v(" / ")])]),e._v(" "),t("a",{attrs:{href:"/friends"}},[e._v("与我联络 & 友情链接(Links)")])]):e._e()])]),e._v(" "),t("Gesture",{attrs:{swipeDown:()=>e.changeSlide("down"),freezeTime:"300",eventInvoke:e.stopMove}},[t("div",{staticClass:"wrapper wrapper-brief"},[t("div",{staticClass:"page-title-con"},[t("div",{staticClass:"page-title"},[e._v("Lionad's Blog")]),e._v(" "),t("div",{staticClass:"page-side-title"},[e._v("Newest Posts")]),e._v(" "),t("div",{staticClass:"page-side-content"},[e._l(e.recommends,(function(s){return[t("p",{key:s[0],staticClass:"article-list"},[t("span",{staticClass:"article-list-label",domProps:{textContent:e._s(s[0]+"：")}}),e._v(" "),t("span",{staticClass:"article-list-content"},[t("a",{attrs:{href:s[1].url},domProps:{textContent:e._s(s[1].label)}})])])]}))],2),e._v(" "),t("div",{staticClass:"page-tip"},[e._v("向下滑动")])])])])],1)}),[],!1,null,null,null);t.default=h.exports}}]);