(window.webpackJsonp=window.webpackJsonp||[]).push([[369],{671:function(e,t,a){"use strict";a.r(t);var r={data:()=>({blurImage:null,rawImage:null,referImage:null,drawX:0,repeat:100}),methods:{preload(e){this.rawImage=e.loadImage("https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20210209213519.png"),this.referImage=this.rawImage},setup(e){e.image(this.rawImage,0,0),e.image(this.rawImage,e.HALF_WIDTH,0),this.blurImage=e.createImage(this.rawImage.width,this.rawImage.height),this.blurImage.loadPixels(),e.drawUntil(()=>this.repeat<=0),e.drawUntil(()=>{const t=this.drawX++>e.HALF_WIDTH;return!0===t?(this.repeat--,this.drawX=0,this.referImage=this.blurImage,!1):t})},kernel:({kx:e,ky:t,x:a,y:r})=>0===e&&0===t?0:1/8,async draw(e){let t=this.drawX;for(let a=0;a<this.rawImage.height;a+=1){let r,s,i={r:0,g:0,b:0};if(t<=0||a<=0||t>=e.HALF_WIDTH-1||a>=this.rawImage.height-1){const r=this.referImage.get(t,a);i.r+=e.red(r),i.b+=e.blue(r),i.g+=e.green(r)}else for(r=-1;r<=1;r+=1)for(s=-1;s<=1;s+=1){let h=t+r,l=a+s;const g=this.referImage.get(h,l),n={kx:r,ky:s,x:t,y:a};i.r+=this.kernel(n)*e.red(g),i.b+=this.kernel(n)*e.blue(g),i.g+=this.kernel(n)*e.green(g)}this.blurImage.set(t,a,e.color(i.r,i.g,i.b))}this.blurImage.updatePixels(),e.image(this.blurImage,e.HALF_WIDTH,0);for(let a=0;a<Math.min(15,t);a++)e.stroke(`rgba(35, 22, 34, ${1*.62**a})`),e.line(e.HALF_WIDTH+t-a,0,e.HALF_WIDTH+t-a,e.HEIGHT)}}},s=a(0),i=Object(s.a)(r,(function(){var e=this._self._c;return e("WHRatio",{attrs:{h:"503px"}},[e("vue-p5",{attrs:{h:"503"},on:{preload:this.preload,setup:this.setup,draw:this.draw}})],1)}),[],!1,null,null,null);t.default=i.exports}}]);