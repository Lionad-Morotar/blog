(window.webpackJsonp=window.webpackJsonp||[]).push([[227],{731:function(a,t,e){"use strict";e.r(t);var r=e(0),i=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"听说你还在手写懒加载"}},[a._v("听说你还在手写懒加载?")]),a._v(" "),t("nav",{staticClass:"table-of-contents"},[t("ol",[t("li",[t("a",{attrs:{href:"#听说你还在手写懒加载"}},[a._v("听说你还在手写懒加载?")]),t("ol",[t("li",[t("a",{attrs:{href:"#直接开始使用"}},[a._v("直接开始使用")])]),t("li",[t("a",{attrs:{href:"#标准之下"}},[a._v("标准之下")])]),t("li",[t("a",{attrs:{href:"#开始使用新代码"}},[a._v("开始使用新代码")])]),t("li",[t("a",{attrs:{href:"#抛弃非原生懒加载"}},[a._v("抛弃非原生懒加载?")])]),t("li",[t("a",{attrs:{href:"#最后"}},[a._v("最后")])]),t("li",[t("a",{attrs:{href:"#阅读更多"}},[a._v("阅读更多")])])])])])]),t("p",[a._v("过去, 我们对含有大量图片的网站进行优化无外乎要依靠 JS 逻辑或是相关插件来完成, 比如"),t("code",[a._v("懒加载")]),a._v("技术. 而现在(至少在不久的将来), Chrome 75 版本将增加"),t("code",[a._v("原生懒加载")]),a._v("功能.")]),a._v(" "),t("figure",{attrs:{"data-type":"image"}},[t("img",{attrs:{src:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/chrome-image-lazyload/2019-04-23-01-30-25.png",alt:"",loading:"lazy"}}),t("figcaption",[a._v("原生懒加载")])]),a._v(" "),t("h3",{attrs:{id:"直接开始使用"}},[a._v("直接开始使用")]),a._v(" "),t("p",[a._v("当然, 你也可以现在就开始体验这一功能, 在浏览器的标签栏输入"),t("code",[a._v("browser://flags/#enable-lazy-image-loading")]),a._v("并进入页面, 找到"),t("code",[a._v("enable-lazy-image-loading")]),a._v("这一项打开它, 重启后即可使用.")]),a._v(" "),t("figure",{attrs:{"data-type":"image"}},[t("img",{attrs:{src:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/chrome-image-lazyload/2019-04-23-00-45-26.png",alt:"",loading:"lazy"}}),t("figcaption",[a._v("如何开启")])]),a._v(" "),t("h3",{attrs:{id:"标准之下"}},[a._v("标准之下")]),a._v(" "),t("p",[a._v("有关"),t("code",[a._v("loading")]),a._v("的使用, 我相信你想知道更多, 你可以使用以下三个属性来定义浏览器加载行为:")]),a._v(" "),t("ul",[t("li",[a._v("lazy: 使用懒加载, 当屏幕滚动到图片附近时")]),a._v(" "),t("li",[a._v("eager: 立即加载图片")]),a._v(" "),t("li",[a._v("auto: 由浏览器自行决定")])]),a._v(" "),t("p",[a._v("有关懒加载的讨论, 你可以通过这个"),t("a",{attrs:{href:"https://github.com/whatwg/html/pull/3752",target:"_blank",rel:"noopener noreferrer"}},[t("code",[a._v("issue")])]),a._v("进一步探索.")]),a._v(" "),t("h3",{attrs:{id:"开始使用新代码"}},[a._v("开始使用新代码")]),a._v(" "),t("p",[a._v("也许你想把这一特征立即运用到你的项目中, 但是你别忘了至少目前为止他还是实验性的功能, 所以需要做功能检测, 对不支持的浏览器进行兼容:")]),a._v(" "),t("figure",{attrs:{"data-type":"image"}},[t("img",{attrs:{src:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/chrome-image-lazyload/2019-04-23-01-37-31.png",alt:"",loading:"lazy"}}),t("figcaption",[a._v("功能检测")])]),a._v(" "),t("p",[a._v("仅仅这样还不够, 为了不使你的 Image 标签被不支持"),t("code",[a._v("loading")]),a._v("属性的浏览器立即加载出来, 你还需要把"),t("code",[a._v("src")]),a._v("属性替换为其它属性, 同时还得考虑浏览器不支持 JS 的情况, 比如像这样做:")]),a._v(" "),t("figure",{attrs:{"data-type":"image"}},[t("img",{attrs:{src:"https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/chrome-image-lazyload/2019-04-23-01-31-00.png",alt:"",loading:"lazy"}}),t("figcaption",[a._v("兼容")])]),a._v(" "),t("h3",{attrs:{id:"抛弃非原生懒加载"}},[a._v("抛弃非原生懒加载?")]),a._v(" "),t("p",[a._v("抛弃非原生懒加载? 答案在任何情况下都是"),t("code",[a._v("否")]),a._v(".")]),a._v(" "),t("p",[a._v("如果未来浏览器都支持懒加载, 并且标准较现在没有改变的话, 它只适用于一些简单的网页浏览场景, 比如像掘金这种文本和图片混排的页面.对于特殊场景下, 比如"),t("a",{attrs:{href:"https://juejin.im/post/5cbd30e7e51d456e803516ba",target:"_blank",rel:"noopener noreferrer"}},[a._v("这位老哥")]),a._v("的这篇文章里描绘的问题, 我们还是得需要根据需求, 书写大量原生 JS 逻辑.除非问题本质得到解决, 否者"),t("strong",[a._v("任何在体验上的优化, 都是优化一部分场景的性能, 而放弃另一部分场景的性能")]),a._v("(甚至负优化)")]),a._v(" "),t("h3",{attrs:{id:"最后"}},[a._v("最后")]),a._v(" "),t("p",[a._v("文中代码图片是使用"),t("a",{attrs:{href:"https://carbon.now.sh",target:"_blank",rel:"noopener noreferrer"}},[t("code",[a._v("Carbon")])]),a._v("合成的, 掘金的代码高亮实在是... 么得办法~~")]),a._v(" "),t("h3",{attrs:{id:"阅读更多"}},[a._v("阅读更多")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://addyosmani.com/blog/lazy-loading/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Native image lazy-loading for the web!")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/whatwg/html/pull/3752",target:"_blank",rel:"noopener noreferrer"}},[a._v("Lazyload images and iframes")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/dwqs/blog/issues/74",target:"_blank",rel:"noopener noreferrer"}},[a._v("图片和视频的懒加载")])]),a._v(" "),t("li",[t("a",{attrs:{href:"http://medium.yintage.com/?p=44",target:"_blank",rel:"noopener noreferrer"}},[a._v("极致性能 – 图片渐进显示和懒加载")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);