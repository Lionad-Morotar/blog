<!DOCTYPE html>
<html lang="zh-cmn-Hans">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KVStore | Lionad Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="dns-prefetch" href="/utteranc.es">
    <link rel="shortcut icon" href="/favicon.ico">
    <script src="//instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw" defer="defer"></script>
    <script src="//js.fundebug.cn/fundebug.2.5.0.min.js" crossorigin="anonymous" apikey="6cf8608d1691cea338ccf8b2057530f1991968b20555ea79ff3cb6261e6cba77" defer="defer"></script>
    <script defer="defer">
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?9f386eab0658c409277cb8e60691de6e";
                var s = document.getElementsByTagName("script")[0]; 
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
    <script defer="defer" crossorigin="crossorigin">
            window.__bl = {
                config: {
                    pid:"eeh52p97ae@20a026fed78311e",
                    appType:"web",
                    imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",
                    sendResource:true,
                    enableLinkTrace:true,
                    behavior:true,
                    enableConsole:true,
                    useFmp:true
                }
            }
            ;(function() {
                var hm = document.createElement("script");
                hm.src = "https://retcode.alicdn.com/retcode/bl.js";
                var s = document.getElementsByTagName("script")[0]; 
                s.parentNode.insertBefore(hm, s);
            })()
        </script>
    <meta name="description" content="Lionad Blog æ˜¯ä»¿ç”Ÿç‹®å­çš„ä¸ªäººä¸“æ ã€‚å…¶ä¸­æœ‰æŠ€æœ¯æ–‡ç« ã€æ‚æ–‡æ•£æ–‡ï¼Œæˆ–æ˜¯ç‹®å­çš„ä¸ªäººåŠ¨æ€ã€‚ä»–æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆï¼Œä¹Ÿæ˜¯æœªæ¥çš„ç‹¬ç«‹æ¸¸æˆå¼€å‘ï¼Œæ­¤å¤–ä»–å¯¹è®¾è®¡ã€éŸ³ä¹å’Œå†™ä½œéƒ½é¢‡æ„Ÿå…´è¶£ã€‚å¦‚æœä½ æ˜¯ GitHubã€è±†ç“£ã€Mediumã€CodePen ç­‰ç½‘ç«™çš„ç”¨æˆ·ï¼Œç›¸ä¿¡ä½ èƒ½åœ¨è¿™æ‰¾åˆ°ä¸€äº›ä¹è¶£ã€‚">
    <meta name="baidu-site-verification" content="Mdz47FJiHx">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <link rel="preload" href="/assets/css/0.styles.8e331a69.css" as="style"><link rel="preload" href="/assets/js/app.a3c6d88b.js" as="script"><link rel="preload" href="/assets/js/layout-Layout.4f71e0d9.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.e1a4d7b9.js" as="script"><link rel="preload" href="/assets/js/KVStore.e29ba6f5.js" as="script"><link rel="prefetch" href="/assets/js/07007614.98e793b3.js"><link rel="prefetch" href="/assets/js/292.932b68b4.js"><link rel="prefetch" href="/assets/js/293.d85edef5.js"><link rel="prefetch" href="/assets/js/294.e2e7cd83.js"><link rel="prefetch" href="/assets/js/295.23f6cc2b.js"><link rel="prefetch" href="/assets/js/296.11042b3c.js"><link rel="prefetch" href="/assets/js/297.88eaf3a6.js"><link rel="prefetch" href="/assets/js/298.5512a7f0.js"><link rel="prefetch" href="/assets/js/299.a3838c97.js"><link rel="prefetch" href="/assets/js/300.0474b5c8.js"><link rel="prefetch" href="/assets/js/301.5e09d867.js"><link rel="prefetch" href="/assets/js/302.12609c66.js"><link rel="prefetch" href="/assets/js/303.1a1c7afb.js"><link rel="prefetch" href="/assets/js/304.5a71b943.js"><link rel="prefetch" href="/assets/js/305.27152abe.js"><link rel="prefetch" href="/assets/js/306.e5d9b38d.js"><link rel="prefetch" href="/assets/js/307.04dc3876.js"><link rel="prefetch" href="/assets/js/308.26a3ee65.js"><link rel="prefetch" href="/assets/js/309.cc27bdd4.js"><link rel="prefetch" href="/assets/js/310.b15a015a.js"><link rel="prefetch" href="/assets/js/311.4d51b243.js"><link rel="prefetch" href="/assets/js/312.3790ebc0.js"><link rel="prefetch" href="/assets/js/313.5cc2933d.js"><link rel="prefetch" href="/assets/js/314.b941a2a1.js"><link rel="prefetch" href="/assets/js/315.58c9bcca.js"><link rel="prefetch" href="/assets/js/316.8fa389e2.js"><link rel="prefetch" href="/assets/js/317.ab340609.js"><link rel="prefetch" href="/assets/js/318.c8da841f.js"><link rel="prefetch" href="/assets/js/319.62a2b142.js"><link rel="prefetch" href="/assets/js/320.3969096f.js"><link rel="prefetch" href="/assets/js/321.280984e8.js"><link rel="prefetch" href="/assets/js/322.c6329773.js"><link rel="prefetch" href="/assets/js/323.ff7d8c38.js"><link rel="prefetch" href="/assets/js/324.f6401eb8.js"><link rel="prefetch" href="/assets/js/325.b51e32a4.js"><link rel="prefetch" href="/assets/js/326.1b2b8349.js"><link rel="prefetch" href="/assets/js/327.9e638480.js"><link rel="prefetch" href="/assets/js/328.e3ea488e.js"><link rel="prefetch" href="/assets/js/329.130833c4.js"><link rel="prefetch" href="/assets/js/330.b739534c.js"><link rel="prefetch" href="/assets/js/331.c8a62a5f.js"><link rel="prefetch" href="/assets/js/332.f7c4e1b7.js"><link rel="prefetch" href="/assets/js/333.42f7dd3c.js"><link rel="prefetch" href="/assets/js/334.9d301edd.js"><link rel="prefetch" href="/assets/js/335.b9b019d8.js"><link rel="prefetch" href="/assets/js/336.12e18b91.js"><link rel="prefetch" href="/assets/js/337.3202d934.js"><link rel="prefetch" href="/assets/js/338.c8c32d92.js"><link rel="prefetch" href="/assets/js/339.14a6185d.js"><link rel="prefetch" href="/assets/js/340.10b1c550.js"><link rel="prefetch" href="/assets/js/341.c12bb46f.js"><link rel="prefetch" href="/assets/js/342.4886e922.js"><link rel="prefetch" href="/assets/js/343.ddf95b92.js"><link rel="prefetch" href="/assets/js/344.3274e808.js"><link rel="prefetch" href="/assets/js/345.9f802170.js"><link rel="prefetch" href="/assets/js/346.5b610194.js"><link rel="prefetch" href="/assets/js/347.7b3e0b08.js"><link rel="prefetch" href="/assets/js/348.21553862.js"><link rel="prefetch" href="/assets/js/349.546e7d1f.js"><link rel="prefetch" href="/assets/js/350.4e9051ea.js"><link rel="prefetch" href="/assets/js/351.1d56eaae.js"><link rel="prefetch" href="/assets/js/352.ac13c4ea.js"><link rel="prefetch" href="/assets/js/353.7920bfce.js"><link rel="prefetch" href="/assets/js/354.78190e65.js"><link rel="prefetch" href="/assets/js/355.19a84d34.js"><link rel="prefetch" href="/assets/js/356.26878bd2.js"><link rel="prefetch" href="/assets/js/357.41af6d1d.js"><link rel="prefetch" href="/assets/js/358.8770e9d7.js"><link rel="prefetch" href="/assets/js/359.4e47e3e3.js"><link rel="prefetch" href="/assets/js/360.95cb3b1f.js"><link rel="prefetch" href="/assets/js/361.ed56f9d6.js"><link rel="prefetch" href="/assets/js/362.1655682c.js"><link rel="prefetch" href="/assets/js/363.13ba5508.js"><link rel="prefetch" href="/assets/js/364.5d2bcb67.js"><link rel="prefetch" href="/assets/js/365.44da9754.js"><link rel="prefetch" href="/assets/js/366.9422b3e2.js"><link rel="prefetch" href="/assets/js/367.f4576137.js"><link rel="prefetch" href="/assets/js/368.4257f312.js"><link rel="prefetch" href="/assets/js/369.5f54a114.js"><link rel="prefetch" href="/assets/js/370.77f40c27.js"><link rel="prefetch" href="/assets/js/371.a003c78a.js"><link rel="prefetch" href="/assets/js/372.81cc51e0.js"><link rel="prefetch" href="/assets/js/373.4cf92e30.js"><link rel="prefetch" href="/assets/js/374.aa154a6d.js"><link rel="prefetch" href="/assets/js/375.eeea8b65.js"><link rel="prefetch" href="/assets/js/376.41257f31.js"><link rel="prefetch" href="/assets/js/377.564066e4.js"><link rel="prefetch" href="/assets/js/378.3a45929b.js"><link rel="prefetch" href="/assets/js/379.03b1d183.js"><link rel="prefetch" href="/assets/js/4ed8c02e.350efb00.js"><link rel="prefetch" href="/assets/js/4fe718e7.279c97ba.js"><link rel="prefetch" href="/assets/js/540a1dfa.091aa6cb.js"><link rel="prefetch" href="/assets/js/694b53d4.0be094d9.js"><link rel="prefetch" href="/assets/js/72fd99e0.204febc8.js"><link rel="prefetch" href="/assets/js/AST.044c7b7f.js"><link rel="prefetch" href="/assets/js/AWESOME.4c632089.js"><link rel="prefetch" href="/assets/js/Angular.1303b1ce.js"><link rel="prefetch" href="/assets/js/C.bf57a536.js"><link rel="prefetch" href="/assets/js/CSSColorModule.01dd7287.js"><link rel="prefetch" href="/assets/js/CSSConditionalRulesModule.62c784a3.js"><link rel="prefetch" href="/assets/js/CSSCyberCity.3cfd26a0.js"><link rel="prefetch" href="/assets/js/CSSMindMap.b60f24d3.js"><link rel="prefetch" href="/assets/js/CSSScrollbarsStylingModule.033dea77.js"><link rel="prefetch" href="/assets/js/CSSStateControl.6ae8477f.js"><link rel="prefetch" href="/assets/js/CanvasBlocker.8bfc02e7.js"><link rel="prefetch" href="/assets/js/CloudNative.42407b1d.js"><link rel="prefetch" href="/assets/js/Command.d08a6d3a.js"><link rel="prefetch" href="/assets/js/Compiler.5932d2d2.js"><link rel="prefetch" href="/assets/js/ComputerMindMap.c50144a9.js"><link rel="prefetch" href="/assets/js/Cut.25d02156.js"><link rel="prefetch" href="/assets/js/DEPRESSION.9277371b.js"><link rel="prefetch" href="/assets/js/DataStructure.4b3c187c.js"><link rel="prefetch" href="/assets/js/DevOpsMindMap.142c9226.js"><link rel="prefetch" href="/assets/js/DeveloperExperience.faf984ce.js"><link rel="prefetch" href="/assets/js/DeviceMetrics.63e5c3b4.js"><link rel="prefetch" href="/assets/js/Docker.d69fc504.js"><link rel="prefetch" href="/assets/js/ECMAScriptLanguageSpecification.3f840b77.js"><link rel="prefetch" href="/assets/js/ECMAScriptStandard.34f936f5.js"><link rel="prefetch" href="/assets/js/ESNextES6ES11.4491070d.js"><link rel="prefetch" href="/assets/js/ElementUIElementPlus.2a0155ef.js"><link rel="prefetch" href="/assets/js/Emoji.a8465c47.js"><link rel="prefetch" href="/assets/js/Erlang.e5ec522a.js"><link rel="prefetch" href="/assets/js/Eval.f58d915f.js"><link rel="prefetch" href="/assets/js/Eviljs.f19376dd.js"><link rel="prefetch" href="/assets/js/FingerStyle.e5b47168.js"><link rel="prefetch" href="/assets/js/Flutter.2c7477e7.js"><link rel="prefetch" href="/assets/js/GitLab.46be67d7.js"><link rel="prefetch" href="/assets/js/GitMindMap.ff19fd9e.js"><link rel="prefetch" href="/assets/js/Gitflow.002b78a5.js"><link rel="prefetch" href="/assets/js/GoogleCStandard.dd8cfaf9.js"><link rel="prefetch" href="/assets/js/HTMLExtends.430d4036.js"><link rel="prefetch" href="/assets/js/HTMLMindMap.fade4d8c.js"><link rel="prefetch" href="/assets/js/HelmetSecurity.7ea6849d.js"><link rel="prefetch" href="/assets/js/ITCSSInvertedTriangleCSS.0a874767.js"><link rel="prefetch" href="/assets/js/JavaScriptMicroTemplating.edb0b245.js"><link rel="prefetch" href="/assets/js/JavaScriptMindMap.295700cd.js"><link rel="prefetch" href="/assets/js/KingDB.73509058.js"><link rel="prefetch" href="/assets/js/Kubernetes.c4a41cd0.js"><link rel="prefetch" href="/assets/js/Linter.c299357d.js"><link rel="prefetch" href="/assets/js/Linux.497df733.js"><link rel="prefetch" href="/assets/js/Lodashtemplate.0d5da419.js"><link rel="prefetch" href="/assets/js/Makefile.35aca90f.js"><link rel="prefetch" href="/assets/js/MarkdownInlineStyle.51b9c2eb.js"><link rel="prefetch" href="/assets/js/Monorepo.89db741c.js"><link rel="prefetch" href="/assets/js/NPM.3efaa83c.js"><link rel="prefetch" href="/assets/js/NginxConfigExample.06d0c61f.js"><link rel="prefetch" href="/assets/js/NodeJS.41753b1e.js"><link rel="prefetch" href="/assets/js/NodeJSRequire.5b94a169.js"><link rel="prefetch" href="/assets/js/Objectassign.e5730031.js"><link rel="prefetch" href="/assets/js/PInvoke.76ed3c5b.js"><link rel="prefetch" href="/assets/js/PNPMPerformantnpm.745d0846.js"><link rel="prefetch" href="/assets/js/PowerShell.51e03f2d.js"><link rel="prefetch" href="/assets/js/Processing.9dce0037.js"><link rel="prefetch" href="/assets/js/Promise.14b163a5.js"><link rel="prefetch" href="/assets/js/ReactMindMap.a9240672.js"><link rel="prefetch" href="/assets/js/ReactNative.44566854.js"><link rel="prefetch" href="/assets/js/SEO.8765b7d1.js"><link rel="prefetch" href="/assets/js/SSSSR.b30909b2.js"><link rel="prefetch" href="/assets/js/ScopedCSS.69642979.js"><link rel="prefetch" href="/assets/js/SecretScore.f0650863.js"><link rel="prefetch" href="/assets/js/Secrets.ca395b1e.js"><link rel="prefetch" href="/assets/js/SecurityMindMap.ef2f9706.js"><link rel="prefetch" href="/assets/js/Serverless.ae97671b.js"><link rel="prefetch" href="/assets/js/ShapeUp.69b78fa0.js"><link rel="prefetch" href="/assets/js/Storage.54b2ba20.js"><link rel="prefetch" href="/assets/js/SubresourceIntegrity.31fee570.js"><link rel="prefetch" href="/assets/js/Symbol.0c691cc9.js"><link rel="prefetch" href="/assets/js/Taro.4d98c5c1.js"><link rel="prefetch" href="/assets/js/TypeScript.623a82e6.js"><link rel="prefetch" href="/assets/js/TypeScriptTypeChanllenges.cf7f6e46.js"><link rel="prefetch" href="/assets/js/UtilityTypes.518d112f.js"><link rel="prefetch" href="/assets/js/VersionControl.fe0f9b1d.js"><link rel="prefetch" href="/assets/js/VueJSObserver.5c082f9b.js"><link rel="prefetch" href="/assets/js/VueJSParser.6de59452.js"><link rel="prefetch" href="/assets/js/VueMindMap.da342923.js"><link rel="prefetch" href="/assets/js/VueTestUtils.dbc770b6.js"><link rel="prefetch" href="/assets/js/WebComponents.0c9cd7d1.js"><link rel="prefetch" href="/assets/js/Windows.8495341c.js"><link rel="prefetch" href="/assets/js/WindowsCommand.3ed6a8c5.js"><link rel="prefetch" href="/assets/js/WingsYouaretheHero.8acb4db9.js"><link rel="prefetch" href="/assets/js/WuWei.614848e0.js"><link rel="prefetch" href="/assets/js/ailatuoseni.33edb8be.js"><link rel="prefetch" href="/assets/js/aixinjueluofulinshunzhihuangdi.3a63aaf6.js"><link rel="prefetch" href="/assets/js/amusitelang.c9e50de9.js"><link rel="prefetch" href="/assets/js/andongniaoaijiasimonisi.f60aaac3.js"><link rel="prefetch" href="/assets/js/balabaxiwangluokexue.74281e57.js"><link rel="prefetch" href="/assets/js/banmananti.02204486.js"><link rel="prefetch" href="/assets/js/baochihaoqixin.39712ed1.js"><link rel="prefetch" href="/assets/js/baoguanliqi.78df9397.js"><link rel="prefetch" href="/assets/js/baoluoluoxin.01ffef50.js"><link rel="prefetch" href="/assets/js/beitelaji.68d86373.js"><link rel="prefetch" href="/assets/js/beiwanglu.5a8ad1d9.js"><link rel="prefetch" href="/assets/js/biaodahegudu.19f69eed.js"><link rel="prefetch" href="/assets/js/bokegaibanpengdaodeliulanqipinghuagundongwenti.f19caf79.js"><link rel="prefetch" href="/assets/js/cankutianshidexingdonggangling.2ff4769a.js"><link rel="prefetch" href="/assets/js/caocao.e745403c.js"><link rel="prefetch" href="/assets/js/cengguopan.0bbe5973.js"><link rel="prefetch" href="/assets/js/chajiankaifa.f276f6db.js"><link rel="prefetch" href="/assets/js/changyemeng.8f2f8c48.js"><link rel="prefetch" href="/assets/js/changyongleixingpanduanfangfadeyoushijiquexian.c073d99b.js"><link rel="prefetch" href="/assets/js/chaquebulou.6a5fdfbc.js"><link rel="prefetch" href="/assets/js/chengyunxiaochengxu.aa0db492.js"><link rel="prefetch" href="/assets/js/chengyunxinlingshou.fe4a4614.js"><link rel="prefetch" href="/assets/js/congyifufengjinghuazhongxuexigehuituzhishidian.b67f823a.js"><link rel="prefetch" href="/assets/js/congyigeyuexieyuemandebianjiqizhongliaoliaoyouhuasilu.a697765c.js"><link rel="prefetch" href="/assets/js/cuowubianjiezujian.5fa6c958.js"><link rel="prefetch" href="/assets/js/dabaogongju.0fed518e.js"><link rel="prefetch" href="/assets/js/dakaiheixiangtongguobujingdiandianyingjieminaokexue.992be995.js"><link rel="prefetch" href="/assets/js/danaodiguo.927c59c4.js"><link rel="prefetch" href="/assets/js/deindent.c1229915.js"><link rel="prefetch" href="/assets/js/dengdaidefeng.4da72484.js"><link rel="prefetch" href="/assets/js/dibanbenliulanqijianrongbiaoqianyuanli.b71b4443.js"><link rel="prefetch" href="/assets/js/digubulahe.20cce8cc.js"><link rel="prefetch" href="/assets/js/dima.f6fffd59.js"><link rel="prefetch" href="/assets/js/duoduanyingyong.b172016d.js"><link rel="prefetch" href="/assets/js/feinisigaiqi.cc182b6c.js"><link rel="prefetch" href="/assets/js/filetextcrypto.c2cf3923.js"><link rel="prefetch" href="/assets/js/fuzakexue.10f03578.js"><link rel="prefetch" href="/assets/js/ganxingqudewenti.d980e071.js"><link rel="prefetch" href="/assets/js/gengxiandaidecuowuchuli.c8491360.js"><link rel="prefetch" href="/assets/js/gongcheng.3604d5b9.js"><link rel="prefetch" href="/assets/js/gongjuhanshuwuchongtuchuli.e8c2657e.js"><link rel="prefetch" href="/assets/js/guanyubiaodiandeneixieshier.8fef7136.js"><link rel="prefetch" href="/assets/js/guifanjihe.4a390b9f.js"><link rel="prefetch" href="/assets/js/hanshushibiancheng.78b5ea56.js"><link rel="prefetch" href="/assets/js/hanxin.b414fe0e.js"><link rel="prefetch" href="/assets/js/haxichongtu.6f5e49b6.js"><link rel="prefetch" href="/assets/js/henglimakelamu.088f86cf.js"><link rel="prefetch" href="/assets/js/henglimolaisen.1f3586be.js"><link rel="prefetch" href="/assets/js/henglisishi.559d8b18.js"><link rel="prefetch" href="/assets/js/houzhenxiangshidai.c2a3850f.js"><link rel="prefetch" href="/assets/js/huadongyanzhengmapojiesilu.3df2aa08.js"><link rel="prefetch" href="/assets/js/huahuaguidang.ff52f534.js"><link rel="prefetch" href="/assets/js/huanshukangjuchi.2b9bbf96.js"><link rel="prefetch" href="/assets/js/huanshuwanquanzhinan.03fb5067.js"><link rel="prefetch" href="/assets/js/hushi.659add5b.js"><link rel="prefetch" href="/assets/js/jialiluejialilei.c26ccd9d.js"><link rel="prefetch" href="/assets/js/jiangziya.f0002d55.js"><link rel="prefetch" href="/assets/js/jianxiaoyemiankuaizhaotiji.d81d47a2.js"><link rel="prefetch" href="/assets/js/jianzhi.d4408404.js"><link rel="prefetch" href="/assets/js/jimuqiongsi.d2766916.js"><link rel="prefetch" href="/assets/js/jishubokeguidang.992f63f4.js"><link rel="prefetch" href="/assets/js/jishudizhenxiang.d23e57df.js"><link rel="prefetch" href="/assets/js/jishujianli.a2e9e212.js"><link rel="prefetch" href="/assets/js/jishupianhao.f6693cec.js"><link rel="prefetch" href="/assets/js/jisuanjiwangluo.c8613098.js"><link rel="prefetch" href="/assets/js/kangyanshenghuo.835cb95a.js"><link rel="prefetch" href="/assets/js/kebianziti.45788a31.js"><link rel="prefetch" href="/assets/js/keliandepankongjian.2e6cb015.js"><link rel="prefetch" href="/assets/js/keluodisituolemi.e3a51e11.js"><link rel="prefetch" href="/assets/js/kuheyuanma.e4b65a58.js"><link rel="prefetch" href="/assets/js/layout-NotFound.97f56275.js"><link rel="prefetch" href="/assets/js/leixingticao.97cd65af.js"><link rel="prefetch" href="/assets/js/liangzi.e9caf034.js"><link rel="prefetch" href="/assets/js/liaoliaocicilizhibiyejiqitazaluandeshiqing.b66105c8.js"><link rel="prefetch" href="/assets/js/linghuoyouyadeduoshuxingpaixu.d850cad2.js"><link rel="prefetch" href="/assets/js/linghuoyouyawuyilaidepaixuku.9b972b1b.js"><link rel="prefetch" href="/assets/js/linshu.6e862264.js"><link rel="prefetch" href="/assets/js/liubang.356484d7.js"><link rel="prefetch" href="/assets/js/liulanqi.cf07b058.js"><link rel="prefetch" href="/assets/js/liulanqixiangguan.856c6420.js"><link rel="prefetch" href="/assets/js/luyoujishu.fe02883f.js"><link rel="prefetch" href="/assets/js/mianshifupan.6443c845.js"><link rel="prefetch" href="/assets/js/mianshititiku.89e41500.js"><link rel="prefetch" href="/assets/js/mianxiangduixiang.9de60319.js"><link rel="prefetch" href="/assets/js/mklink.8bdcccce.js"><link rel="prefetch" href="/assets/js/mokuaihuajianshi.f9d0f0dc.js"><link rel="prefetch" href="/assets/js/musika.1d4bf0ad.js"><link rel="prefetch" href="/assets/js/nianyinggairuhexuanzetupiangeshi.6d7c5b5f.js"><link rel="prefetch" href="/assets/js/nibenkeyishaoxiexie.e26b48d9.js"><link rel="prefetch" href="/assets/js/nigulagebaini.80c9ff49.js"><link rel="prefetch" href="/assets/js/nikeyiyongchunpanduanshubiaojinrudefangxiangma.50e6fb75.js"><link rel="prefetch" href="/assets/js/niujintongshidubenzhongguowenxue.9a8b4441.js"><link rel="prefetch" href="/assets/js/nodewatch.fdfc2960.js"><link rel="prefetch" href="/assets/js/pachongyufanpachong.a8c05d72.js"><link rel="prefetch" href="/assets/js/panduanlianggebianliangxiangdeng.b325de4f.js"><link rel="prefetch" href="/assets/js/panduanshifouzaixian.06e13da8.js"><link rel="prefetch" href="/assets/js/qianduanzhishigujia.e6359dec.js"><link rel="prefetch" href="/assets/js/qiantaoliebiaobujudexiefa.72f56a05.js"><link rel="prefetch" href="/assets/js/qianxuantong.93e34f50.js"><link rel="prefetch" href="/assets/js/qijishan.de8bd1db.js"><link rel="prefetch" href="/assets/js/qinaidejiemian.f32a2da2.js"><link rel="prefetch" href="/assets/js/quanju.2e0b17f7.js"><link rel="prefetch" href="/assets/js/quanlidouzhengzhongdewudaoyujiashe.f3806255.js"><link rel="prefetch" href="/assets/js/qukuailian.23be351b.js"><link rel="prefetch" href="/assets/js/rangyakelusuo.cc291ebc.js"><link rel="prefetch" href="/assets/js/renwu.e3b833bd.js"><link rel="prefetch" href="/assets/js/renwuqiepian.a570c405.js"><link rel="prefetch" href="/assets/js/richangshenghuozhongdeziwochengxian.ab2cdc94.js"><link rel="prefetch" href="/assets/js/ruanjineng.ce491161.js"><link rel="prefetch" href="/assets/js/shang.13061b38.js"><link rel="prefetch" href="/assets/js/shanghupingtai.715dae31.js"><link rel="prefetch" href="/assets/js/shangyang.300824a4.js"><link rel="prefetch" href="/assets/js/shejimoshi.201ece38.js"><link rel="prefetch" href="/assets/js/shejimoshiyumofaguo.95caa5c4.js"><link rel="prefetch" href="/assets/js/shenjingkexue.78f26977.js"><link rel="prefetch" href="/assets/js/shenmizhuyideyishu.98e4df54.js"><link rel="prefetch" href="/assets/js/shijuecuojue.289e12f7.js"><link rel="prefetch" href="/assets/js/shizideshudantuijian.6621f734.js"><link rel="prefetch" href="/assets/js/shuangxianglianjiewanquanti.87c93560.js"><link rel="prefetch" href="/assets/js/shufengzhanshi.71ef1aed.js"><link rel="prefetch" href="/assets/js/shuijiao.801d83cb.js"><link rel="prefetch" href="/assets/js/shujudapan.9738db46.js"><link rel="prefetch" href="/assets/js/shuzuqiankaobei.1b4b43d8.js"><link rel="prefetch" href="/assets/js/sishierpianxilie.de21fd0e.js"><link rel="prefetch" href="/assets/js/suanfa.5ed07d33.js"><link rel="prefetch" href="/assets/js/tanmiguangyingxiaoguo.80f0ad5e.js"><link rel="prefetch" href="/assets/js/taolitakefu.d7ff1325.js"><link rel="prefetch" href="/assets/js/taolixuwuzaiyongbaota.9bb94645.js"><link rel="prefetch" href="/assets/js/tianzhongyiguang.c0193915.js"><link rel="prefetch" href="/assets/js/tingshuonihaizaishouxielanjiazai.3ea807f1.js"><link rel="prefetch" href="/assets/js/touqushijian.74fea813.js"><link rel="prefetch" href="/assets/js/tuiliutuijian.ecfb954b.js"><link rel="prefetch" href="/assets/js/tupianmohu.4d81fd78.js"><link rel="prefetch" href="/assets/js/tushuzhengli.4bfd0c34.js"><link rel="prefetch" href="/assets/js/wangzhandekefangwenxing.02dbac69.js"><link rel="prefetch" href="/assets/js/wanwulianjieyuxingfugan.827d8546.js"><link rel="prefetch" href="/assets/js/webpack.74872168.js"><link rel="prefetch" href="/assets/js/weikeduoyuguogelin.4e640ae1.js"><link rel="prefetch" href="/assets/js/weiqianduan.3cfd5e3d.js"><link rel="prefetch" href="/assets/js/weishimewoyaoxieboke.d974b1dc.js"><link rel="prefetch" href="/assets/js/wentijilu.18c4bf08.js"><link rel="prefetch" href="/assets/js/wenziyuqingxu.a221aa37.js"><link rel="prefetch" href="/assets/js/wodemiantian.9a2cbe7b.js"><link rel="prefetch" href="/assets/js/wuqi.eb82be7c.js"><link rel="prefetch" href="/assets/js/wuti.bc061b0c.js"><link rel="prefetch" href="/assets/js/xiaerdaigaole.fb3cde1c.js"><link rel="prefetch" href="/assets/js/xiangmuguanli.1d925a59.js"><link rel="prefetch" href="/assets/js/xiangsu.b6e730aa.js"><link rel="prefetch" href="/assets/js/xiangyu.22aa6b65.js"><link rel="prefetch" href="/assets/js/xianjizhe.560abb49.js"><link rel="prefetch" href="/assets/js/xiaochengxu.e2b10a39.js"><link rel="prefetch" href="/assets/js/xiaoduji.33c37a4f.js"><link rel="prefetch" href="/assets/js/xibokeladi.3c988eb4.js"><link rel="prefetch" href="/assets/js/xingdaimadainishixianxiaochengxuzhongdeshujuzhenting.0ae48ea9.js"><link rel="prefetch" href="/assets/js/xingongzuohexinyinliao.6b129a4c.js"><link rel="prefetch" href="/assets/js/xinliuguidang.3383cf83.js"><link rel="prefetch" href="/assets/js/xinliusixu.e63c3d2e.js"><link rel="prefetch" href="/assets/js/xinlixuebao.90adf24e.js"><link rel="prefetch" href="/assets/js/xinxisheji.24f96b34.js"><link rel="prefetch" href="/assets/js/xitonglun.e2754100.js"><link rel="prefetch" href="/assets/js/xuanranxiangguan.a57405b2.js"><link rel="prefetch" href="/assets/js/xuanranxiangguanbiji.8c8c7e21.js"><link rel="prefetch" href="/assets/js/xuexicongrenzhedaoshashou.2c40ae9e.js"><link rel="prefetch" href="/assets/js/yalishiduode.472cc36a.js"><link rel="prefetch" href="/assets/js/yemianxingneng.a174abdd.js"><link rel="prefetch" href="/assets/js/yifengchenmo.cc12b34a.js"><link rel="prefetch" href="/assets/js/yiliuwentizhengli.816d32c5.js"><link rel="prefetch" href="/assets/js/yinmi.42be2a5a.js"><link rel="prefetch" href="/assets/js/yinshileixingzhuanhuan.9fb918bc.js"><link rel="prefetch" href="/assets/js/yinshipinliuchuli.3dabe380.js"><link rel="prefetch" href="/assets/js/yitongduozujiankudecengdieshunxu.a9b0fae6.js"><link rel="prefetch" href="/assets/js/youguandeyixiejiyouqudedongxi.adb8bb98.js"><link rel="prefetch" href="/assets/js/youguanxinxiangmudifangfalun.15c57ed5.js"><link rel="prefetch" href="/assets/js/yuanmajiqiao.b2b78b71.js"><link rel="prefetch" href="/assets/js/yuanmaxuexi.afabbaf2.js"><link rel="prefetch" href="/assets/js/yuanmayuedu.127052e0.js"><link rel="prefetch" href="/assets/js/yuedingdehaiyang.fcc41f18.js"><link rel="prefetch" href="/assets/js/yuehannisikaipule.cb943925.js"><link rel="prefetch" href="/assets/js/yunnazhuanzhengxiaojie.8afc4f9f.js"><link rel="prefetch" href="/assets/js/yuwolianluoyouqinglianjie.5d231b64.js"><link rel="prefetch" href="/assets/js/yuyanjingcuiyubianchengshijian.1ab90d69.js"><link rel="prefetch" href="/assets/js/yuyanxuedeyaoqing.a35978b7.js"><link rel="prefetch" href="/assets/js/yuzhou.d8fe469d.js"><link rel="prefetch" href="/assets/js/zaoxinggoucheng.2a4b3728.js"><link rel="prefetch" href="/assets/js/zhikun.b0214565.js"><link rel="prefetch" href="/assets/js/zhongdeshuzhi.4a5bc455.js"><link rel="prefetch" href="/assets/js/zhongguohua.581cc57d.js"><link rel="prefetch" href="/assets/js/zhongtuanjiexi.b3fdeded.js"><link rel="prefetch" href="/assets/js/zhouyu.a6f5e412.js"><link rel="prefetch" href="/assets/js/zhuixunziyouyumanhuaixiwang.58694925.js"><link rel="prefetch" href="/assets/js/zhuyilizhuanzhudekexueyuxunlian.7b6bd91a.js"><link rel="prefetch" href="/assets/js/ziti.02903210.js"><link rel="prefetch" href="/assets/js/ziyuan.7c360aae.js"><link rel="prefetch" href="/assets/js/zuopinshouji.56db6b82.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8e331a69.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Lionad Blog</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/articles/" class="nav-link">
  Posts
</a></div><div class="nav-item"><a href="/friends/" class="nav-link">
  Links
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/articles/" class="nav-link">
  Posts
</a></div><div class="nav-item"><a href="/friends/" class="nav-link">
  Links
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/flows/" class="sidebar-heading clickable"><span>å¿ƒæµæ€ç»ª / Heart Flows</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/flows/books.html" class="sidebar-link">ğŸ“• ç‹®å­çš„ä¹¦å•æ¨è</a></li><li><a href="/flows/long-night-dream.html" class="sidebar-link">ğŸŒƒ é•¿å¤œæ¢¦</a></li><li><a href="/flows/everything.html" class="sidebar-link">ğŸŒŒ ä¸‡ç‰©è”ç»“ä¸å¹¸ç¦æ„Ÿ</a></li><li><a href="/flows/stolen-time-from-god.html" class="sidebar-link">âŒ› å·å–æ—¶é—´</a></li><li><a href="/flows/expression-and-loneliness.html" class="sidebar-link">ğŸŒ† è¡¨è¾¾å’Œå­¤ç‹¬</a></li><li><a href="/flows/my-shy.html" class="sidebar-link">ğŸŒ§ï¸ æˆ‘çš„è…¼è…†</a></li><li><a href="/flows/drinking-while-thinking.html" class="sidebar-link">ğŸ¥› æ–°å·¥ä½œï¼Œå–æ–°é¥®æ–™</a></li><li><a href="/flows/escape-from-mysticism.html" class="sidebar-link">ğŸ’– é€ƒç¦»è™šæ— ï¼Œå†æ‹¥æŠ±å®ƒ</a></li><li><a href="/flows/zfold.html" class="sidebar-link">ğŸ“ å¿ƒæµå½’æ¡£</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/articles/" class="sidebar-heading clickable"><span>æŠ€æœ¯åšå®¢ / Coder</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/zindex-manager.html" class="sidebar-link">âš–ï¸ ä¸€ç»Ÿå¤šç»„ä»¶åº“çš„å±‚å é¡ºåº</a></li><li><a href="/articles/crack-the-slider.html" class="sidebar-link">ğŸ•·ï¸ æ»‘åŠ¨éªŒè¯ç ç ´è§£æ€è·¯</a></li><li><a href="/articles/css-light-travel.html" class="sidebar-link">ğŸŒŸ æ¢ç§˜ CSS å…‰å½±æ•ˆæœ</a></li><li><a href="/articles/design-patterns-and-js-magic-pot.html" class="sidebar-link">ğŸ² è®¾è®¡æ¨¡å¼ä¸ JS é­”æ³•é”…</a></li><li><a href="/articles/anysort-2th.html" class="sidebar-link">ğŸŒ Anysortï¼šçµæ´»ã€ä¼˜é›…çš„å¤šå±æ€§æ’åº</a></li><li><a href="/articles/js-100.html" class="sidebar-link">ğŸ† å­¦ä¹  JSï¼Œä»å¿è€…åˆ°æ€æ‰‹</a></li><li><a href="/articles/helmet-and-security.html" class="sidebar-link">ğŸ‘¹ Helmet &amp; Security</a></li><li><a href="/articles/css-poaa.html" class="sidebar-link">ğŸ’« CSS å¹»æœ¯ | æŠ—é”¯é½¿</a></li><li><a href="/articles/css-judge-direction.html" class="sidebar-link">â“ ä½ å¯ä»¥ç”¨çº¯CSSåˆ¤æ–­é¼ æ ‡è¿›å…¥çš„æ–¹å‘å—ï¼Ÿ</a></li><li><a href="/articles/css-interesting.html" class="sidebar-link">ğŸ¨ æœ‰å…³ CSS çš„ä¸€äº›ææœ‰è¶£çš„ä¸œè¥¿</a></li><li><a href="/articles/no-more-if-else.html" class="sidebar-link">ğŸ“ ä½ æœ¬å¯ä»¥å°‘å†™äº› if-else</a></li><li><a href="/articles/reactive-in-150loc.html" class="sidebar-link">ğŸš€ 150 è¡Œä»£ç å¸¦ä½ å®ç°å°ç¨‹åºä¸­çš„æ•°æ®ä¾¦å¬</a></li><li><a href="/articles/fourty-two.html" class="sidebar-link">ğŸš å››åäºŒç¯‡ç³»åˆ—</a></li><li><a href="/articles/source-code.html" class="sidebar-link">ğŸš„ æºç é˜…è¯»</a></li><li><a href="/articles/zfold.html" class="sidebar-link">ğŸ“ æŠ€æœ¯åšå®¢å½’æ¡£</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/awesome/" class="sidebar-heading clickable"><span>ç©ä¹å¹¿åœº / Paint</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/gists/" class="sidebar-heading clickable router-link-active open"><span>ç­‰å¾…æ•´ç†</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/gists/Storage.html" class="sidebar-link">Storage</a></li><li><a href="/gists/accessibility.html" class="sidebar-link">ç½‘ç«™çš„å¯è®¿é—®æ€§</a></li><li><a href="/gists/array-slice.html" class="sidebar-link">æ•°ç»„æµ…æ‹·è´</a></li><li><a href="/gists/ast.html" class="sidebar-link">AST</a></li><li><a href="/gists/blur.html" class="sidebar-link">å›¾ç‰‡æ¨¡ç³Š</a></li><li><a href="/gists/c4d.html" class="sidebar-link">æ¸²æŸ“ç›¸å…³ç¬”è®°</a></li><li><a href="/gists/cdn.html" class="sidebar-link">CDN é—®é¢˜è®°å½•</a></li><li><a href="/gists/cleaner.html" class="sidebar-link">æ¶ˆæ¯’å‰‚</a></li><li><a href="/gists/cmd.html" class="sidebar-link">Windows Command</a></li><li><a href="/gists/command.html" class="sidebar-link">Command</a></li><li><a href="/gists/complexity-science.html" class="sidebar-link">å¤æ‚ç§‘å­¦</a></li><li><a href="/gists/cosmos.html" class="sidebar-link">å®‡å®™</a></li><li><a href="/gists/cpp.html" class="sidebar-link">C++</a></li><li><a href="/gists/cut.html" class="sidebar-link">Cut</a></li><li><a href="/gists/data-structure.html" class="sidebar-link">Data Structure</a></li><li><a href="/gists/depression.html" class="sidebar-link">DEPRESSION</a></li><li><a href="/gists/design-patterns.html" class="sidebar-link">è®¾è®¡æ¨¡å¼</a></li><li><a href="/gists/developer-experience.html" class="sidebar-link">Developer Experience</a></li><li><a href="/gists/device-metrix.html" class="sidebar-link">Device Metrics</a></li><li><a href="/gists/ecmascript-specification.html" class="sidebar-link">ECMAScript Language Specification</a></li><li><a href="/gists/emoji.html" class="sidebar-link">Emoji</a></li><li><a href="/gists/engineering.html" class="sidebar-link">å·¥ç¨‹</a></li><li><a href="/gists/entropy.html" class="sidebar-link">ç†µ</a></li><li><a href="/gists/erlang.html" class="sidebar-link">Erlang</a></li><li><a href="/gists/escape-from-tarkov.html" class="sidebar-link">é€ƒç¦»å¡”å…‹å¤«</a></li><li><a href="/gists/esnext.html" class="sidebar-link">ESNext (ES6-ES11)</a></li><li><a href="/gists/eval.html" class="sidebar-link">Evalï¼</a></li><li><a href="/gists/flutter.html" class="sidebar-link">Flutter</a></li><li><a href="/gists/font.html" class="sidebar-link">å­—ä½“</a></li><li><a href="/gists/functional.html" class="sidebar-link">JS å‡½æ•°å¼ç¼–ç¨‹</a></li><li><a href="/gists/google-cpp-standard.html" class="sidebar-link">Google C++ Standard</a></li><li><a href="/gists/hash-collision.html" class="sidebar-link">å“ˆå¸Œå†²çª</a></li><li><a href="/gists/information-design.html" class="sidebar-link">ä¿¡æ¯è®¾è®¡</a></li><li><a href="/gists/key-value-db.html" aria-current="page" class="active sidebar-link">KVStore</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gists/key-value-db.html#ikvs-series" class="sidebar-link">[](https://codecapsule.com/2012/11/07/ikvs-implementing-a-key-value-store-table-of-contents/)</a></li><li class="sidebar-sub-header"><a href="/gists/key-value-db.html#hash-collisions" class="sidebar-link">Hash Collisions</a></li><li class="sidebar-sub-header"><a href="/gists/key-value-db.html#read-more" class="sidebar-link">Read More</a></li></ul></li><li><a href="/gists/kubernetes.html" class="sidebar-link">Kubernetes</a></li><li><a href="/gists/makefile.html" class="sidebar-link">Makefile</a></li><li><a href="/gists/markdown-nice.html" class="sidebar-link">Markdown Inline Style</a></li><li><a href="/gists/miniapp.html" class="sidebar-link">å°ç¨‹åº</a></li><li><a href="/gists/minify-html.html" class="sidebar-link">å‡å°é¡µé¢å¿«ç…§ä½“ç§¯</a></li><li><a href="/gists/mklink.html" class="sidebar-link">mklink</a></li><li><a href="/gists/multy-end-app.html" class="sidebar-link">å¤šç«¯åº”ç”¨</a></li><li><a href="/gists/neuroscience.html" class="sidebar-link">ç¥ç»ç§‘å­¦</a></li><li><a href="/gists/oo.html" class="sidebar-link">é¢å‘å¯¹è±¡</a></li><li><a href="/gists/person.html" class="sidebar-link">äººç‰©</a></li><li><a href="/gists/pinvoke.html" class="sidebar-link">PInvoke</a></li><li><a href="/gists/pixel.html" class="sidebar-link">åƒç´ </a></li><li><a href="/gists/powershell.html" class="sidebar-link">PowerShell</a></li><li><a href="/gists/quantum.html" class="sidebar-link">é‡å­</a></li><li><a href="/gists/questions.html" class="sidebar-link">ä¿æŒå¥½å¥‡å¿ƒ</a></li><li><a href="/gists/react-native.html" class="sidebar-link">React Native</a></li><li><a href="/gists/scroll.html" class="sidebar-link">åšå®¢æ”¹ç‰ˆç¢°åˆ°çš„æµè§ˆå™¨å¹³æ»‘æ»šåŠ¨é—®é¢˜</a></li><li><a href="/gists/seo.html" class="sidebar-link">SEO</a></li><li><a href="/gists/shape-up.html" class="sidebar-link">Shape Up</a></li><li><a href="/gists/sleep.html" class="sidebar-link">ç¡è§‰</a></li><li><a href="/gists/stream-cli.html" class="sidebar-link">éŸ³è§†é¢‘æµå¤„ç†</a></li><li><a href="/gists/symbol.html" class="sidebar-link">Symbol</a></li><li><a href="/gists/systems-theory.html" class="sidebar-link">ç³»ç»Ÿè®º</a></li><li><a href="/gists/taro.html" class="sidebar-link">Taro</a></li><li><a href="/gists/task-slice.html" class="sidebar-link">ä»»åŠ¡åˆ‡ç‰‡</a></li><li><a href="/gists/tech-dudge.html" class="sidebar-link">æŠ€æœ¯åå¥½</a></li><li><a href="/gists/variable-font.html" class="sidebar-link">å¯å˜å­—ä½“</a></li><li><a href="/gists/visual-illusion.html" class="sidebar-link">è§†è§‰é”™è§‰</a></li><li><a href="/gists/vpn.html" class="sidebar-link">SS(SSR)</a></li><li><a href="/gists/vscode-plugin.html" class="sidebar-link">VS Code æ’ä»¶å¼€å‘</a></li><li><a href="/gists/web-components.html" class="sidebar-link">Web Components</a></li><li><a href="/gists/windows.html" class="sidebar-link">Windows</a></li><li><a href="/gists/wrong.html" class="sidebar-link">æŸ¥ç¼ºè¡¥æ¼</a></li></ul></section></li><li><a href="/maps/" class="sidebar-link">çŸ¥è¯†éª¨æ¶</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/music/" class="sidebar-heading clickable"><span>å‰ä»–å‰§åœº</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/secrets/" class="sidebar-heading clickable"><span>Secrets</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="kvstore">KVStore</h1> <nav class="table-of-contents"><ol><li><a href="#kvstore">KVStore</a><ol><li><a href="#ikvs-series">IKVS Series</a><ol><li><a href="#ikvs-part-1-what-are-key-value-stores-and-why-implement-one">IKVS Part 1 - What are key-value stores, and why implement one?</a></li><li><a href="#ikvs-part-2-using-existing-key-value-stores-as-models">IKVS Part 2 - Using existing key-value stores as models</a></li><li><a href="#ikvs-part-3-comparative-analysis-of-the-architectures-of-kyoto-cabinet-and-leveldb">IKVS Part 3 - Comparative Analysis of the Architectures of Kyoto Cabinet and LevelDB</a></li><li><a href="#ikvs-part-4-api-design">IKVS Part 4 - API Design</a></li><li><a href="#ikvs-part-5-hash-table-implementations">IKVS Part 5 - Hash table implementations</a></li><li><a href="#ikvs-part-6-open-addressing-hash-tables">IKVS Part 6 - Open-Addressing Hash Tables</a></li><li><a href="#ikvs-part-7-optimizing-data-structures-for-ssds">IKVS Part 7 - Optimizing Data Structures for SSDs</a></li><li><a href="#ikvs-part-8-architecture-of-kingdb">IKVS Part 8: Architecture of KingDB</a></li><li><a href="#ikvs-part-9-data-format-and-memory-management-in-kingdb">IKVS Part 9: Data Format and Memory Management in KingDB</a></li><li><a href="#ikvs-part-10-high-performance-networking-kingserver-vs-nginx">IKVS Part 10: High-Performance Networking: KingServer vs. Nginx</a></li></ol></li><li><a href="#hash-collisions">Hash Collisions</a></li><li><a href="#read-more">Read More</a><ol><li><a href="#usenix-atc-20-matrixkv-reducing-write-stalls-and-write-amplification-in-lsm-tree-based-kv-stores">USENIX ATC '20 - MatrixKV Reducing Write Stalls and Write Amplification in LSM-tree Based KV Stores</a></li></ol></li></ol></li></ol></nav><h2 id="ikvs-series"><a href="https://codecapsule.com/2012/11/07/ikvs-implementing-a-key-value-store-table-of-contents/" target="_blank" rel="noopener noreferrer"><i>IKVS Series</i></a></h2> <p>åœ¨çœ‹è¿‡ã€ŠC++ æ–°ç»å…¸ã€‹åï¼Œè¢«å…¶ç¹æ‚çš„ç‰¹æ€§åŠè¯­æ³•å°å°çš„éœ‡æ’¼åˆ°äº†ï¼Œæƒ³è¿›ä¸€æ­¥æ·±å…¥å­¦ä¹ ä¸€ä¸‹ï¼ˆC++ ä»¥åŠç›¸å…³çŸ¥è¯†ï¼‰ã€‚å¹¶ä¸æ˜¯åƒ Anysort ä¸€æ ·æƒ³åšå‡ºç‚¹ä»€ä¹ˆæœ‰ç”¨çš„ä¸œè¥¿ï¼Œåªæ˜¯ä¸€ä¸ªå°å°çš„ç»ƒä¹ ã€‚æ®ã€ŠImplement...ã€‹åšä¸»æ‰€è¯´ï¼Œé€‰æ‹©åšä¸€ä¸ªç®€å•çš„å…³ç³»å‹æ•°æ®åº“å¯èƒ½æ˜¯ä¸€ä¸ªåšä¸ºç»ƒä¹ çš„åˆé€‚é€‰æ‹©ï¼Œå®ƒèƒ½æä¾›ä»¥ä¸‹æ–¹é¢çš„æŒ‘æˆ˜ï¼š</p> <ul><li>C++</li> <li>é¢å‘å¯¹è±¡ç¼–ç¨‹</li> <li>ç»å…¸æ•°æ®ç»“æ„åŠç®—æ³•</li> <li>å†…å­˜ç®¡ç†</li> <li>å¤šçº¿ç¨‹åŠå¤šè¿›ç¨‹å¹¶å‘æ§åˆ¶</li> <li>C/S ç½‘ç»œé€šè®¯æ¨¡å‹</li> <li>IO æ“ä½œä»¥åŠä¸æ–‡ä»¶ç³»ç»Ÿæ‰“äº¤é“</li></ul> <h5 id="ikvs-part-1-what-are-key-value-stores-and-why-implement-one"><a href="https://codecapsule.com/2012/11/07/implementing-a-key-value-store-part-1-what-are-key-value-stores-and-why-implement-one/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 1 - What are key-value stores, and why implement one?</i></a></h5> <p>ä¸€èˆ¬æ¥è¯´ï¼ŒKV æ•°æ®åº“å…·æœ‰ä»¥ä¸‹å‡ ä¸ªæ¥å£ï¼šGet(key)ã€Set(key)ã€Delete(key)ï¼Œä¸€èˆ¬åŸºäºå“ˆå¸Œè¡¨æˆ–æŸç§è‡ªå¹³è¡¡æ ‘ï¼ˆB-Treeã€çº¢é»‘æ ‘ï¼‰æ¥å®ç°ã€‚å…¶ä¸­â€œkeyâ€å°±æ˜¯æ•°æ®äºå…¶ä½ç½®çš„æ˜ å°„ï¼Œæ ¹æ® keyï¼ŒKV æ•°æ®åº“èƒ½é«˜æ•ˆæŸ¥æ‰¾åˆ°å¯¹åº”çš„æ•°æ®ã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äº KV æ•°æ®åº“ä¸çŸ¥é“å®ƒåˆ°åº•å­˜äº†å“ªç§çš„æ•°æ®ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³æƒ³ SQL ä¸€æ ·ä½¿ç”¨ WHERE è¯­å¥çš„è¯ï¼Œé‚£å°±åªèƒ½æŠŠæ‰€æœ‰æ•°æ®éƒ½éå†ä¸€éäº†ã€‚</p> <p>ç½‘ä¸Šå¤ªå¤š KV æ•°æ®åº“åŠæˆå“äº†ï¼ˆè¿˜æ²¡ç®—ä¸Šç©å…·ï¼‰ï¼Œå¾ˆå¤šäººåªæ˜¯ç®€å•çš„å®ç°äº†ä¸€ä¸ªæ•°æ®åº“ï¼Œå¹¶ç”¨ä¸€ä¸ªé€Ÿåº¦å›¾è¡¨æ¥å±•ç°å®ƒçš„ä¼˜åŠ¿ã€‚å…¶å®ï¼Œæ•°æ®åº“çš„é€Ÿåº¦å’Œè®¸å¤šä¸œè¥¿æŒ‚é’©ï¼Œæ‰€ä»¥é€šå¸¸çš„æ•°æ®å¹¶ä¸èƒ½å±•ç°ä»€ä¹ˆè¿‡äººä¹‹å¤„ã€‚å¦‚æœä½ æƒ³åœ¨ KV æ•°æ®åº“ä¸Šæœ‰ä»€ä¹ˆåˆ›æ–°çš„è¯ï¼Œå¯ä»¥è¯•è¯•ä»¥ä¸‹æ€è·¯ï¼š</p> <ul><li>é€‚é…ç‰¹å®šç±»å‹çš„æ•°æ®ï¼ˆæ¯”å¦‚å›¾ã€åœ°ç†æ•°æ®ç­‰ï¼‰</li> <li>é€‚é…ç‰¹å®šæ“ä½œï¼ˆå¦‚å†™å…¥å¾ˆå¿«æˆ–è¯»å–å¾ˆå¿«ç­‰ï¼‰</li> <li>è‡ªåŠ¨å‚æ•°è°ƒæ•´ï¼ˆï¼Ÿï¼‰</li> <li>æä¾›æ›´å¤šæ•°æ®è®¿é—®æ–¹æ³•ï¼ˆæ¯”å¦‚ LevelDB å¯ä»¥éå†æ’åºå¥½çš„æ•°æ®ï¼‰</li> <li>ç»™ä½¿ç”¨ä»–çš„äººæä¾›æ–¹ä¾¿ï¼ˆå¦‚æä¾›å®Œæ•´çš„æ–‡æ¡£ä»¥åŠä»£ç ç¤ºä¾‹ï¼‰</li> <li>é€‚é…ç‰¹å®šåº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚è®¸å¤šçˆ¬è™«éƒ½ä¼šä½¿ç”¨åˆ°å¤§é‡çš„ URL åœ°å€ï¼‰</li></ul> <h5 id="ikvs-part-2-using-existing-key-value-stores-as-models"><a href="http://codecapsule.com/2012/12/03/implementing-a-key-value-store-part-2-using-existing-key-value-stores-as-models/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 2 - Using existing key-value stores as models</i></a></h5> <p>éµä»é«˜å°”å®šå¾‹ï¼Œæˆ‘ä»¬åº”è¯¥ä»ä¸€ä¸ªç®€å•çš„ã€èƒ½éªŒè¯çš„æ¨¡å‹å…¥æ‰‹ï¼Œä¸€æ­¥ä¸€æ­¥å®ç°å¹¶å®Œå–„æ–°çš„ KV æ•°æ®åº“ã€‚ä¸ºäº†é¿å…é‡å¤é€ è½®å­ï¼Œéœ€è¦è€ƒå¯Ÿä¸€ä¸‹ç°æœ‰çš„ç»è¿‡æ—¶é—´æ£€éªŒè¿‡çš„ KV æ•°æ®åº“ã€‚ç»è¿‡æŒ‘é€‰ï¼ŒEmmanuel å†³å®šé€‰ç”¨ Berkeley DBã€Kyoto Cabinetï¼ˆä¸‹ç®€ç§° KCï¼‰ å’Œ LevelDBã€‚</p> <blockquote><p>A complex system that works is invariably found to have evolved from a simple system that worked. The inverse proposition also appears to be true - A complex system designed from scratch never works and cannot be made to work. You have to start over, beginning with a working simple system.
<name>Gallâ€™s law</name></p></blockquote> <h5 id="ikvs-part-3-comparative-analysis-of-the-architectures-of-kyoto-cabinet-and-leveldb"><a href="https://codecapsule.com/2012/12/30/implementing-a-key-value-store-part-3-comparative-analysis-of-the-architectures-of-kyoto-cabinet-and-leveldb/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 3 - Comparative Analysis of the Architectures of Kyoto Cabinet and LevelDB</i></a></h5> <p>å¿½ç•¥è¿™äº›çŸ¥åæ•°æ®åº“ä¸åŒçš„æ¶æ„ï¼Œå¤§éƒ¨åˆ† KV æ•°æ®åº“éƒ½åŒ…å«ä»¥ä¸‹å‡ ä¸ªç»„ä»¶ï¼š</p> <ul><li>Interfaceï¼šå‘å®¢æˆ·ç«¯æä¾›ç”¨äºæ“ä½œçš„ API</li> <li>Parametrizationï¼šç³»ç»Ÿå‚æ•°è®¾ç½®</li> <li>Data Storageï¼šæ•°æ®å­˜å‚¨</li> <li>Data Structureï¼šç®¡ç†æ•°æ®ä½¿ç”¨çš„æ•°æ®ç»“æ„</li> <li>Memory Managementï¼šå†…å­˜ç®¡ç†</li> <li>Iterationï¼šè¿­ä»£å™¨ä»¥åŠæ¸¸æ ‡</li> <li>Stringï¼šå­—ç¬¦ä¸²ç›¸å…³ç®—æ³•</li> <li>Lock Managementï¼šç”¨äºæ§åˆ¶é”ã€å¹¶å‘å’Œå¤šçº¿ç¨‹æ“ä½œ</li> <li>Error Managementï¼šé”™è¯¯ç®¡ç†</li> <li>Loggingï¼šäº‹ä»¶è®°å½•</li> <li>Transaction Managementï¼šäº‹åŠ¡ç®¡ç†</li> <li>Compressionï¼šæ•°æ®å‹ç¼©</li> <li>Comparatorsï¼šæ¯”è¾ƒå™¨</li> <li>Checksumï¼šç”¨äºç¡®ä¿å’Œæ ¡éªŒæ•°æ®å®Œæ•´æ€§çš„æ–¹æ³•</li> <li>Snapshotï¼šç»™æ•°æ®æä¾›ä¸€ä¸ªåªè¯»çš„è§†å›¾</li> <li>Partitioningï¼šæ•°æ®åˆ†ç‰‡</li> <li>Replicationï¼šæ•°æ®å¤‡ä»½æœºåˆ¶</li> <li>Testing Frameworkï¼šæµ‹è¯•å¥—ä»¶</li></ul> <p>Emmanuel å¯¹æ¯”äº† KC å’Œ LevelDB çš„æ¶æ„å›¾ï¼Œç²—ç•¥åˆ†æäº†ä¸€ä¸‹ä¸¤è€…çš„ä¸åŒã€‚</p> <p><img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220321121058.png?w=60" alt="Kyoto Cabinet v1.2.76" loading="lazy"> <img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220321121216.png?w=60" alt="LevelDB v1.7.0" loading="lazy"></p> <p>LevelDB çš„æ ¸å¿ƒï¼ˆCore/Interfaceï¼‰æ›´å°ï¼ŒAPI è®¾è®¡æ›´ç´§å‡‘ã€‚æ¯”æ–¹è¯´ï¼ŒLevelDB æŠŠå‚æ•°ä¹Ÿå¯¹è±¡åŒ–ï¼Œå¹¶é€šè¿‡ ReadOptions å’Œ WriteOptions æš´éœ²è¯»å†™æ“ä½œï¼Œä½¿å¾—è¿™äº›æ¥å£æ²¡å¿…è¦ä¸æ•°æ®åº“çš„æ ¸å¿ƒè€¦åˆèµ·æ¥ã€‚</p> <p>Emmanuel è®¤ä¸ºå•ç‹¬è®¾è®¡å­—ç¬¦ä¸²çš„æ“ä½œç±» String æ˜¯æœ‰å¿…è¦çš„ï¼Œæ¯”å¦‚è¯´ LevelDB ä½¿ç”¨â€œSliceâ€æ¥å­˜å‚¨å­—ç¬¦ä¸²å¯ä»¥æŠŠè·å–å­—ç¬¦ä¸²é•¿åº¦é™ä½åˆ° O(1)ï¼ˆå¯¹æ¯” strlen åœ¨ C ä¸­æ˜¯ O(n) çš„æ€§èƒ½ï¼‰ã€‚â€œSliceâ€ åœ¨æ‹·è´æ—¶ä½¿ç”¨æµ…æ‹·è´è€Œä¸æ˜¯æ·±æ‹·è´ï¼Œä½¿å¾—å®ƒå’Œ C++ ä¸­ std::string çš„è¡¨ç°ä¸ä¸€è‡´ã€‚æ€»çš„æ¥è¯´ï¼ŒLevelDB çš„ String å¯ä»¥èŠ‚çº¦æ‹·è´å’Œåˆ†é…å†…å­˜çš„æ—¶é—´ã€‚è€Œ KC å®Œå…¨ä¾èµ– std::stringã€‚</p> <p>KC ä½¿ç”¨ C é£æ ¼çš„é”™è¯¯å¤„ç†ï¼Œåœ¨ä»»ä½•å‡ºé”™çš„åœ°æ–¹è¿”å›æ•°å€¼å¼‚å¸¸å€¼ï¼›LevelDB æ²¡æœ‰ä½¿ç”¨å¼‚å¸¸æ•è·ï¼Œè€Œæ˜¯ä½¿ç”¨äº†ä¸€ä¸ª Status å¯¹è±¡æ¥æ ‡è®°ç¨‹åºè¿è¡Œæ­£å¸¸æˆ–å¦ï¼ˆæ‰‹åŠ¨ç ´æŠ˜å·ï¼‰ç”±äºæ¯ä¸ªæ–¹æ³•éƒ½æœ‰ä»è¿”å›å€¼ä¸­åˆ¤æ–­é”™è¯¯æƒ…å†µï¼Œæ‰€ä»¥æ¯ä¸ªæ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šå¤šæ¶ˆè€—ä¸€äº›å†…å­˜ã€‚ä¸è¿‡è¿™ç§æ¶ˆè€—æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå®ƒé¿å…äº†é­”æ³•æ•°å€¼ï¼Œå¹¶ä¸”å°†é”™è¯¯ç å’Œæ ¸å¿ƒè§£è€¦ã€‚</p> <p>åœ¨å†…å­˜ç®¡ç†ä¸Šä¸¤è€…æœ‰å¾ˆå¤§åŒºåˆ«ï¼šKC æŒç»­è·Ÿè¸ªç”± mmap() æ˜ å°„çš„ç©ºé—²å†…å­˜å—ï¼Œå¹¶å°†æ•°æ®å‚¨å­˜åˆ°è¶³å¤Ÿå¤§å°çš„å—ä¸­ã€‚LevelDB ä½¿ç”¨ LSM æ ‘è¿›è¡Œæ•°æ®ç®¡ç†ï¼Œä¸€æ—¦å…¶å¤§å°è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼Œä¾¿å¼€å§‹å‹ç¼©ã€‚è¿™ä¸¤ä¸ªæ•°æ®åº“éƒ½æ˜¯ç”¨æ–‡ä»¶ç³»ç»Ÿå‚¨å­˜æ•°æ®ã€‚</p> <h5 id="ikvs-part-4-api-design"><a href="https://codecapsule.com/2013/04/03/implementing-a-key-value-store-part-4-api-design/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 4 - API Design</i></a></h5> <p>Emmanuel å†³å®šæŠŠè‡ªå·±çš„ KV Store å«åš KingDBã€‚åœ¨è®¾è®¡ API æ—¶ï¼Œä»–å»ºè®®éµå¾ª Joshua Bloch çš„åŸåˆ™ï¼ˆä»¥åŠ <i>Effective C++</i>ï¼‰ï¼š</p> <ul><li>å­˜ç–‘åˆ™ä¸ç•™ï¼šä¸çŸ¥é“ä¸€ä¸ª API æ˜¯å¦åº”è¯¥æš´éœ²ç»™ç”¨æˆ·æ—¶ï¼Œä¸è¦æš´éœ²ï¼›</li> <li>èƒ½åšåˆ™åšï¼šå¦‚æœå®¢æˆ·ç«¯éœ€è¦è¿ç»­è°ƒç”¨å¥½å‡ ä¸ªå‡½æ•°æ¥å®Œæˆæ“ä½œï¼Œé‚£ä¹ˆå°†å…¶åŒ…å«è¿› API ä¸­ä¼šä½¿å®¢æˆ·ç«¯æ›´çœäº‹å„¿ï¼›</li> <li>éµå¾ªä¼ ç»Ÿï¼šä½¿ API çœ‹èµ·æ¥åƒç»å…¸çš„åº”ç”¨ï¼Œè¿™èƒ½ä½¿å®¢æˆ·ç«¯çœ‹ä¸€çœ¼å°±çŸ¥é“æ€ä¹ˆè°ƒç”¨ï¼›</li></ul> <p>å¥½çš„ API åº”è¯¥å¯¹ç§°ï¼šå¦‚æœæˆ‘è°ƒç”¨äº†â€œopenâ€ï¼Œé‚£åº”è¯¥è¿˜å¯ä»¥è°ƒç”¨â€œcloseâ€ï¼Œè€Œä¸æ˜¯åƒ LevelDB ä¸€æ ·ä½¿ç”¨ delete æ¥å…³é—­æ•°æ®åº“ã€‚åŒæ ·ï¼ŒåŸºäºå¯¹ç§°æ€§çš„ç†ç”±ï¼ŒEmmanuel è®¤ä¸º API ä¸­çš„ Get()/Put() ä¼šæ¯” Get()/Set() æ›´æ›´æ˜“è¯»ä¸€äº›ï¼›ä½¿ç”¨è¿­ä»£å™¨è€Œä¸æ˜¯æ¸¸æ ‡æ¥è·å–æ•°æ®ä¹Ÿæ˜¯ä¾æ­¤ä¸ºæ®ã€‚</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">/* LevelDB */</span>
leveldb<span class="token double-colon punctuation">::</span>DB<span class="token operator">*</span> db<span class="token punctuation">;</span>
leveldb<span class="token double-colon punctuation">::</span><span class="token class-name">DB</span><span class="token double-colon punctuation">::</span><span class="token function">Open</span><span class="token punctuation">(</span>leveldb<span class="token double-colon punctuation">::</span>Options<span class="token punctuation">,</span> <span class="token string">&quot;/tmp/testdb&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>db<span class="token punctuation">)</span><span class="token punctuation">;</span>

leveldb<span class="token double-colon punctuation">::</span>Iterator<span class="token operator">*</span> it <span class="token operator">=</span> db<span class="token operator">-&gt;</span><span class="token function">NewIterator</span><span class="token punctuation">(</span>leveldb<span class="token double-colon punctuation">::</span><span class="token function">ReadOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>it<span class="token operator">-&gt;</span><span class="token function">SeekToFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">-&gt;</span><span class="token function">Valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">-&gt;</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cout <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;: &quot;</span>  <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">delete</span> it<span class="token punctuation">;</span>

<span class="token keyword">delete</span> db<span class="token punctuation">;</span>
</code></pre></div><p>KC å’Œ LevelDB ä½¿ç”¨äº†ä¸¤ç§å®Œå…¨ä¸åŒçš„è®¾å®šæ–¹æ³•ï¼ˆè§æ¶æ„å›¾ï¼‰ã€‚ç»™ KC æ•°æ®åº“å®ä¾‹è®¾ç½®å‚æ•°æ—¶å¯ä»¥ç›´æ¥è°ƒç”¨å…¶æ–¹æ³•ï¼›è€Œ LevelDB åœ¨è®¾å®šå‚æ•°æ—¶ï¼Œéœ€è¦åˆ›å»ºæ–°çš„å‚æ•°å¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°åœ¨å¤šä¸ªæ•°æ®åº“ä¹‹é—´å…±äº«å¯¹è±¡ã€‚ä¸è¿‡ LevelDB æ¯æ¬¡ Get æˆ– Put æ—¶éƒ½éœ€è¦å°†å‚æ•°å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼ŒEmmanuel è®¤ä¸ºè¿™æ ·åšä¹Ÿè®¸æœ‰å…¶ç†ç”±ï¼Œä½†æ˜¯ä½¿ç”¨é‡è½½æˆ–æ˜¯å°†å‚æ•°å¯¹è±¡ä½œä¸ºæœ€åä¸€é¡¹å¯é€‰å‚æ•°è¦æ›´â€œC++-styleâ€ä¸€äº›ã€‚</p> <h5 id="ikvs-part-5-hash-table-implementations"><a href="https://codecapsule.com/2013/05/13/implementing-a-key-value-store-part-5-hash-table-implementations/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 5 - Hash table implementations</i></a></h5> <p>å“ˆå¸Œè¡¨å¯ä»¥é«˜æ•ˆå­˜å–æ•°æ®ï¼Œä½†æ˜¯åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œéœ€è¦è€ƒè™‘è®¸å¤šå€¼å“ˆå¸Œåå¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªç»“æœï¼Œè¿™æ—¶éœ€è¦å¦‚ä½•å­˜å‚¨ã€‚ä¸ºäº†è§£å†³å“ˆå¸Œç¢°æ’ï¼Œå¸¸å¸¸ä½¿ç”¨é“¾è¡¨æˆ–è‡ªå¹³è¡¡æ ‘æ¥å‚¨å­˜å€¼ï¼Œæˆ–ä½¿ç”¨çº¿æ€§æˆ–å¹³åˆ†å¯»å€æŠ€æœ¯ã€‚å¥½çš„å“ˆå¸Œç®—æ³•åº”è¯¥ä½¿ç»“æœå°½å¯èƒ½å‡åŒ€åœ°åˆ†å¸ƒåœ¨ç´¢å¼•æ•°æ®èŒƒå›´å†…ï¼Œæ¯”å¦‚ MurmurHash3ã€CityHashã€‚</p> <p>libstdc ä¸­çš„ unordered_map å“ˆå¸Œç®—æ³•ä½¿ç”¨é“¾è¡¨å®ç°äº†å­˜å‚¨ï¼Œå®ƒå®šä¹‰äº†â€œNodeâ€ç»“æ„ç”¨æ¥ä¿å­˜å½“å‰èŠ‚ç‚¹çš„å€¼ä»¥åŠä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ã€‚</p> <figure data-type="image"><img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220321205051.png?w=60" alt="" loading="lazy"><figcaption>unordered_map from GCC 4.8.0</figcaption></figure> <p>dence_hash_map ä½¿ç”¨å¹³åˆ†å¯»å€æŠ€æœ¯æ¥æ£€æµ‹æ˜¯å¦æœ‰ç©ºä½ã€‚è¿™ç§æŠ€æœ¯èƒ½è¾ƒé«˜æ•ˆåˆ©ç”¨ç¼“å­˜ä»¥å¿«é€Ÿå¯»å€ï¼Œä¸”èƒ½é¿å…çº¿æ€§å¯»å€å®¹æ˜“é€ æˆçš„é›†ç¾¤ç°è±¡ã€‚</p> <figure data-type="image"><img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220321210944.png?w=60" alt="" loading="lazy"><figcaption>dence_hash_map from SparseHash v2.0.2</figcaption></figure> <p>KC ä½¿ç”¨äº†è‡ªå·±å®ç°çš„å“ˆå¸Œè¡¨ HashDBï¼Œå®ƒä½¿ç”¨äºŒåˆ†æœç´¢æ ‘æ¥å‚¨å­˜æ•°æ®ã€‚HashDB åˆ†ä¸ºå››å—ï¼Œè§ä¸‹å›¾ï¼ŒHeader ç”¨æ¥å­˜æ”¾æ•°æ®åº“å…ƒä¿¡æ¯ï¼ŒFreeBlock Pool ç”¨æ¥æ ‡è®°æ˜¯å¦ç£ç›˜å‰©ä½™çš„ç©ºé—´ï¼ŒBucket Array æ˜¯ç´¢å¼•æ•°ç»„ï¼ŒRecords åˆ™ç”¨æ¥å­˜æ”¾æ•°æ®ã€‚ç”±äº KC çš„æ¡¶å¤§å°ä¸èƒ½è¿›è¡Œå˜æ›´ï¼Œæ‰€ä»¥ä¸€ä½†å…¶å¤§å°è®¾ç½®åœ°æ¯”å®é™…éœ€è¦çš„æ›´å°ï¼Œé‚£ä¹ˆå½“æ¡¶å¿«æ»¡æ—¶ï¼ŒKC çš„æ€§èƒ½å°±ä¼šå¼€å§‹æ€¥å‰§ä¸‹é™ã€‚</p> <figure data-type="image"><img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220321214250.png?w=60" alt="" loading="lazy"><figcaption>HashDB from Kyoto Cabinet v1.2.76</figcaption></figure> <p>æ¯ä¸ª Record éƒ½éœ€è¦è®°å½•ä»¥ä¸‹ä¿¡æ¯ã€‚</p> <figure data-type="image"><img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220321222250.png" alt="" loading="lazy"><figcaption>Record</figcaption></figure> <ul><li>psizï¼šå¡«å……çš„ç©ºç™½çš„å¤§å°</li> <li>leftï¼šæœç´¢æ ‘çš„å·¦èŠ‚ç‚¹åç¦»é‡</li> <li>rightï¼šæœç´¢æ ‘çš„å³èŠ‚ç‚¹åç¦»é‡</li> <li>ksizï¼šé”®çš„å¤§å°</li> <li>vsizï¼šå€¼çš„å¤§å°</li> <li>keyï¼šé”®</li> <li>valueï¼šå€¼</li> <li>paddingï¼šç©ºç™½</li></ul> <p>å¯ä»¥å‘ç°ï¼Œæ¯ä¸ª Record éƒ½æ˜¯æœç´¢æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å°†æ ‘çš„èŠ‚ç‚¹å’Œé”®å€¼å¯¹ç”¨åŒä¸€ä¸ªç»“æ„å‚¨å­˜ä¸‹æ¥æ˜¯éå¸¸æ–¹ä¾¿çš„åšæ³•ï¼Œå®ƒä½¿å¾—å‚¨å­˜ä¸å®šé•¿çš„æ•°æ®æˆä¸ºå¯èƒ½ï¼Œå¹¶ä¸”ç›¸æ¯”å°†ä¸¤è€…åˆ†å¼€å­˜æ”¾èƒ½å‡å°‘è¯»ç›˜æ¬¡æ•°ã€‚æ—¢ç„¶è¦ç”¨åˆ°æœç´¢æ ‘ï¼Œé‚£ä¹ˆæ¯”è¾ƒç®—æ³•ä¹Ÿæ˜¯å°‘ä¸äº†çš„ã€‚KC ç®€å•æŠ˜å äº†å“ˆå¸Œå€¼ç”¨äºèŠ‚ç‚¹çš„æ’åºï¼š</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">/* from kyotocabinet-1.2.76/kchashdb.h */</span> 
<span class="token keyword">uint32_t</span> <span class="token function">fold_hash</span><span class="token punctuation">(</span><span class="token keyword">uint64_t</span> hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>hash <span class="token operator">&amp;</span> <span class="token number">0xffff000000000000ULL</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">48</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hash <span class="token operator">&amp;</span> <span class="token number">0x0000ffff00000000ULL</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span>
    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>hash <span class="token operator">&amp;</span> <span class="token number">0x000000000000ffffULL</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hash <span class="token operator">&amp;</span> <span class="token number">0x00000000ffff0000ULL</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="ikvs-part-6-open-addressing-hash-tables"><a href="https://codecapsule.com/2014/05/07/implementing-a-key-value-store-part-6-open-addressing-hash-tables/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 6 - Open-Addressing Hash Tables</i></a></h5> <p>Emmanuel ä½¿ç”¨ DIPã€DFBã€DMBã€DSB ç­‰å¤šä¸ªæŒ‡æ ‡ï¼Œé‡æ–°å¯¹æ¯”äº†çº¿æ€§å¯»å€ã€è·³æˆ¿å­å“ˆå¸Œå’Œç½—å®¾æ±‰å“ˆå¸Œçš„æ€§èƒ½ã€‚ç”±äº CPU Cache Line çš„é™åˆ¶ï¼ŒDIB ç­‰æŒ‡æ ‡å¯èƒ½ä¼šåœ¨æŸäº›å€¼é™„è¿‘å‡ºç°æ€§èƒ½çªå˜çš„æƒ…å†µã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬å’Œæ€§èƒ½å¹¶ä¸æ˜¯ç®€å•çš„çº¿æ€§å…³ç³»ã€‚å¦å¤–ï¼Œä½œè€…è¿˜æœ‰ä¸€äº›æ„Ÿå…´è¶£ä½†æ²¡æœ‰åˆ—å‡ºçš„æŒ‡æ ‡ï¼Œæ¯”å¦‚ï¼šå“ˆå¸Œå†²çªæ¬¡æ•°ï¼ˆè¿™æ„å‘³ç€é¢å¤–çš„ IO æ“ä½œæ¬¡æ•°ï¼‰å’Œå¯„å­˜å™¨çš„ç¼“å­˜å‘½ä¸­ç‡ã€‚</p> <ul><li>DIBï¼šDistance to Initial Bucketï¼ŒæŒ‡å‚¨å­˜ä¸€ä¸ªæ¡ç›®çš„ä½ç½®åˆ°å…¶é”®æœ€åˆè¢«æ•£åˆ—åˆ°çš„ä½ç½®çš„è·ç¦»ã€‚</li> <li>DFBï¼šDistance to Free Bucketï¼Œä»ç»™å®šå…¥å£åˆ°æ‰«æåˆ°ç©ºä½æ‰€è·³è¿‡çš„æ•°é‡ã€‚</li> <li>DMBï¼šDistance to Missing Bucketï¼Œä»ç»™å®šå…¥å£æ‰«æç›´åˆ°åˆ¤æ–­å‡ºè¯¥é”®ä¸å±äºå½“å‰ç´¢å¼•çš„æ‰«ææ¬¡æ•°ã€‚</li> <li>DSBï¼šDistance to Shift Bucketï¼Œåœ¨ç½—å®¾æ±‰å“ˆå¸Œä¸­åˆ é™¤å…ƒç´ æ—¶å¦‚æœä½¿ç”¨æŸç§ç®—æ³•ä¼šä½¿ç»¼åˆæ€§èƒ½æå‡ï¼Œä½†ä¼šå¼•å…¥è¿™ä¸ªæŒ‡æ ‡ï¼Ÿï¼Ÿï¼Ÿ</li> <li>Number of bucket swapsï¼šç½—å®¾æ±‰å“ˆå¸Œå’Œè·³æˆ¿å­å“ˆå¸Œåœ¨æ’å…¥åä¼šé‡æ’åºï¼Œä¼šå¸¦æ¥è¯»å†™æ“ä½œï¼Œæ‰€ä»¥éœ€è¦è€ƒè™‘è¿™ä¸ªæŒ‡æ ‡ã€‚</li></ul> <figure data-type="image"><img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220322225431.png" alt="" loading="lazy"><figcaption>Metrics</figcaption></figure> <p>æœ€ç»ˆï¼Œå¾—å‡ºç½—å®¾æ±‰å“ˆå¸Œçš„æ€§èƒ½è¦æ¯”è·³æˆ¿å­å“ˆå¸Œå¥½è®¸å¤šã€‚ä½œè€…é€‰ç”¨äº†ç½—å®¾æ±‰å“ˆå¸Œä½œä¸º KingDB ä¹‹åå°†å®ç°çš„å“ˆå¸Œè¡¨ç®—æ³•ã€‚</p> <h5 id="ikvs-part-7-optimizing-data-structures-for-ssds"><a href="https://codecapsule.com/2014/10/18/implementing-a-key-value-store-part-7-optimizing-data-structures-for-ssds/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 7 - Optimizing Data Structures for SSDs</i></a></h5> <p><a href="/gists/ssd.html">SSD çš„åŸºæœ¬åŸç†</a>å’Œ HDD æœ‰ç€å·¨å¤§çš„ä¸åŒã€‚SSD çš„åŸºæœ¬æ›´æ–°å•ä½æ˜¯é¡µï¼Œé¡µçš„å¤§å°æŒ‰ç…§ä¸åŒè§„æ ¼çš„å‚¨å­˜å™¨å¯èƒ½è®¾è®¡ä¸º 4KBã€16KB æˆ–æ˜¯å…¶å®ƒå®¹é‡ã€‚è¿™æ„å‘³ç€ï¼Œæ— è®ºæ˜¯å¤šä¹ˆå°çš„æ•°æ®ï¼Œæ¯æ¬¡å†™å…¥æ—¶éƒ½è¦æŒ‰é¡µå†™å…¥ã€‚è¿™æµªè´¹äº†è®¸å¤šå†™å…¥æ€§èƒ½ï¼Œå³<strong>å†™å…¥æ”¾å¤§æ•ˆåº”</strong>ã€‚æ­¤å¤–ï¼ŒSSD é€šè¿‡å†…éƒ¨çš„å¯„å­˜å™¨å’Œ RAM æ§åˆ¶å™¨æ¥ç»™å‡ºæ¯ä¸€é¡µè®¾ç½®è¿‡æœŸæ ‡è®°ï¼Œè¿™å‰²è£‚äº†å‚¨å­˜çš„é€»è¾‘ç©ºé—´å’Œç‰©ç†ç©ºé—´ã€‚æ‰€ä»¥ç»å…¸ç®—æ³•ä¸­çš„å°±åœ°æ›´æ–°ç­–ç•¥ä»¥åŠå¤§äºé¡µå®¹é‡çº§åˆ«çš„é¡ºåºè¯»å†™ç®—æ³•ï¼Œå¯¹äºä½¿ç”¨ SSD ä½œä¸ºå‚¨å­˜ä»‹è´¨çš„ç¨‹åºè€Œè¨€ï¼Œåªä¼šå¾’å¢ä»£ç å¤æ‚åº¦ï¼Œä¸ä¼šå¸¦æ¥ä»»ä½•æ€§èƒ½æå‡ã€‚</p> <p>æ™®éæ¥è¯´ï¼ŒSSD çš„è¯»å–é€Ÿåº¦è¦è¿œå¿«äº HHDã€‚æ‰€ä»¥é’ˆå¯¹ SSD çš„ç¨‹åºçš„ä¼˜åŒ–ï¼Œé€šå¸¸æ˜¯ä¸“æ³¨äºå†™å…¥ã€‚é€šå¸¸ï¼ŒSSD çš„é›†ç¾¤å—ï¼ˆClustered Blockï¼‰çš„å¤§å°å¯ä»¥è¾¾åˆ° 32MBã€‚ç”±äºå†…éƒ¨çš„å¹¶è¡Œç»“æ„ï¼Œå¯¹é›†ç¾¤å—çš„å†™å…¥æ“ä½œæ˜¯ååˆ†å¿«çš„ï¼ˆï¼Ÿï¼‰ã€‚ä¾æ­¤åŸç†ï¼ŒKingDB éœ€è¦å°½é‡ä½¿ç”¨â€œè¿½åŠ â€è€Œä¸æ˜¯â€œè¦†ç›–â€çš„æ–¹å¼æ¥ä¸€æ¬¡æ€§å†™å…¥å¤§é‡ï¼ˆé›†ç¾¤å—å¤§å°çš„ï¼‰æ•°æ®ã€‚</p> <p>å¬èµ·æ¥å¥½åƒåˆ°äº† LSM-tree æ“…é•¿çš„é¢†åŸŸï¼ŸLSM-tree é€šè¿‡å»ºç«‹äº†å¤šçº§ç¼“å­˜ï¼Œä½¿å†™å…¥ä»¥è¿½åŠ çš„å½¢å¼å†™å…¥å¿«é€Ÿç¼“å­˜ä¸­ï¼›å¦‚æœå¿«é€Ÿç¼“å­˜æ…¢äº†ï¼Œæ¯”å¦‚è¾¾åˆ°äº† 32MBï¼Œå†å°†ç¼“å­˜ä¸­çš„æ ‘åˆå¹¶ä¸ºä¸€é¢—æ›´å¤§çš„æ ‘ï¼Œå†™å…¥ç£ç›˜ã€‚å‡è®¾ LSM-tree æœ‰ä¸¤çº§ç¼“å­˜ï¼Œåˆ†åˆ«ä½äºå†…å­˜å’Œ SSD ä¸­ï¼Œå¯ä»¥æƒ³è±¡ï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†å†…å­˜çš„é«˜é€Ÿè¯»å†™ç‰¹æ€§å’Œ SSD å¤§æ‰¹é‡å†™å…¥æ—¶å¢é€Ÿçš„ç‰¹æ€§ã€‚ä¹Ÿå³ï¼ŒLSM-tree å¤©ç„¶åœ°æŠŠå¤šæ¬¡éšæœºå†™æ“ä½œæ¨è¿Ÿå¹¶åˆå¹¶æˆäº†åœ¨ç£ç›˜ä¸­çš„é¡ºåºå†™ã€‚å½“ç„¶ï¼Œç¼ºç‚¹ä¹Ÿæ˜¯æœ‰çš„ã€‚åˆå¹¶æ“ä½œå¯èƒ½ä¸å¯é¢„æµ‹ï¼Œä¸”ä¼šé€ æˆçªç„¶çš„ CPU é«˜è´Ÿè½½ã€‚</p> <p>Emmanuel è¿˜åˆ—ä¸¾äº†å‡ ç§å›´ç»•å‡å°‘ç³»ç»Ÿè°ƒç”¨<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>å‡ºç°çš„ä¼˜åŒ– IO çš„æ–¹æ³•ã€‚</p> <ul><li><strong>å†…å­˜æ˜ å°„</strong>ï¼šä½¿ç”¨å†…å­˜æ˜ å°„ç›¸å½“äºå°†æ–‡ä»¶åŒºåŸŸæ˜ å°„ä¸ºç‰©ç†å†…å­˜åœ°å€ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå¯ä»¥åœ¨ç¨‹åºä¸­åƒæ“ä½œç¼“å­˜ä¸€æ ·æ“ä½œæ–‡ä»¶ï¼Œè€ŒæŠŠ IO æ“ä½œç•™ç»™ç³»ç»Ÿå†…æ ¸ä¼˜åŒ–åŠå®Œæˆã€‚</li> <li><strong>å‘é‡ IO</strong>ï¼šåˆç§°èšé›†å‘æ•£ IOï¼ˆscatter-gather I/Oï¼‰ï¼Œä¸çŸ¥æ˜¯ä¸ªå•¥ã€‚</li> <li><strong>é›¶æ‹·è´</strong>ï¼šè§<a href="/gists/linux.html#é›¶æ‹·è´">é›¶æ‹·è´</a>ã€‚</li></ul> <h5 id="ikvs-part-8-architecture-of-kingdb"><a href="https://codecapsule.com/2015/05/25/implementing-a-key-value-store-part-8-architecture-of-kingdb/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 8: Architecture of KingDB</i></a></h5> <figure data-type="image"><img src="https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/other/20220405172549.png?w=60" alt="" loading="lazy"><figcaption>KingDB Architecture</figcaption></figure> <p>å¯¹ç›¸åŒå€¼çš„ç´¢å¼•ï¼ŒKingDB ç›´æ¥ä½¿ç”¨æ–°å€¼å»è¦†ç›–æ—§çš„å€¼ï¼Œè€Œä¸æ˜¯å†™å…¥åˆ é™¤ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå®ƒçš„å†™å…¥é€Ÿåº¦å¾ˆå¿«ã€‚æ‰€æœ‰çš„ç´¢å¼•éƒ½ä½¿ç”¨ std::multimap å‚¨å­˜ï¼Œåˆ†åˆ«è®°å½• hashed key å’Œ locationï¼›ç´¢å¼•æœ‰å¤šä¸ªè¯»å–å’Œä¸€ä¸ªå†™å…¥ï¼ŒåŒæ—¶ä½¿ç”¨é”æ¥ä¿è¯åœ¨è¯»å–æ—¶ç´¢å¼•ä¸ä¼šæ”¹å˜ã€‚</p> <p>Emmanuel è€ƒè™‘è¿‡è¦å®ç°è‡ªå·±çš„é›¶é”ç‰ˆæœ¬çš„ç½—å®¾æ±‰å“ˆå¸Œï¼Œä½†æ˜¯é‰´äº std::multimap èƒ½èŠ‚çº¦å·¨å¤§çš„å·¥ä½œé‡ï¼Œæ‰€ä»¥å°±ç›´æ¥ç”¨äº†ã€‚ä½¿ç”¨ std::multimap å¸¦æ¥çš„é—®é¢˜æ˜¯ï¼š</p> <ul><li>éœ€è¦ç»è¿‡ä¸¤æ¬¡å“ˆå¸Œè¿ç®—ï¼Œæ‰‹åŠ¨è®¡ç®—å“ˆå¸Œæ—¶ä¸€æ¬¡ï¼Œstd::multimap å‚¨å­˜æ—¶æœ¬èº«éœ€è¦å¯¹æ‰‹åŠ¨å“ˆå¸Œå¾—åˆ°çš„å€¼åœ¨è¿›è¡Œä¸€æ¬¡å“ˆå¸Œã€‚</li> <li>ç´¢å¼•éœ€è¦å®Œæ•´çš„å­˜å…¥å†…å­˜ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€æ•°æ®åº“å¿«ç…§ä¹Ÿéœ€è¦å æœ‰è®¸å¤šå†…å­˜ã€‚</li></ul> <p>KingDB ç”¨ ByteArray å°è£…è¯»å–æ“ä½œï¼Œå®ƒä½¿ç”¨ RAII ä»¥åŠå†…å­˜æ˜ å°„æŠ€æœ¯æå‡æ€§èƒ½ã€‚Another interesting point is that the data retrieved is likely to be larger than the maximum payload that can transit on a network, thus any type of caching while reading data from disk is going to increase the throughput. Memory maps are an easy way to get such caching, by reading only what is needed from the buffer and letting the kernel handle the caching. å› ä¸ºå‚¨å­˜åœ¨ç£ç›˜ä¸­çš„æ•°æ®ä½¿ç”¨ LSM-tree æ¥ä¿è¯åœ¨åŒä¸€ä¸ªåŒºåŸŸä¸ä¼šåŒæ—¶æœ‰è¯»å†™æ“ä½œï¼Œæ‰€ä»¥ HSTable ä¸­çš„å†…å®¹å¯ä»¥è®¿é—®æ—¶ä¸åŠ é”ä¹Ÿæ²¡å…³ç³»ã€‚</p> <p>KingDB è¢«åˆ’åˆ†ä¸ºäº† Storage Engine å’Œ Server ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥æ›´æ–¹ä¾¿æµ‹è¯•ã€‚ç”±äº Server éœ€è¦æŠŠæ¥å—åˆ°çš„æ‰€æœ‰æ•°æ®éƒ½å…ˆæ”¾åˆ°æ–°å¼€è¾Ÿçš„å†…å­˜ä¸­å†ä¼ åˆ°ç¼“å­˜ï¼Œåœ¨ä¼ é€’å¤§æ–‡ä»¶æ—¶å¾ˆå®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡ºï¼Œæ‰€ä»¥åæ¥åœ¨ Write Buffer å’Œ Storage Engine ä¸­å¼•å…¥äº†â€œPartâ€ ï¼ˆåº”è¯¥æ˜¯éƒ¨åˆ†å†™å…¥ä¹‹ç±»çš„æ¦‚å¿µï¼‰ã€‚åŒæ—¶ï¼ŒServer éœ€è¦å®Œå–„ Multipart APIï¼ˆå¤§æ–‡ä»¶åˆ†å—æ¥æ”¶ä¸å‚¨å­˜ï¼‰ï¼Œè€Œå…¶ä¸­çš„æƒè¡¡æ˜¯ï¼šå½“å®¢æˆ·ç«¯å¹¶å‘æ•°å¾ˆå°‘æ—¶ï¼Œrevc() å…è®¸å®¢æˆ·ç«¯å ç”¨æ›´å¤§çš„ç¼“å­˜åŒºï¼Œå‡å°‘å†™å…¥æ¬¡æ•°ï¼›å¦‚æœå¹¶å‘å¤šé‚£ä¹ˆåˆ†å—èƒ½ä½¿å†…å­˜å ç”¨å‡å°‘ï¼Œä½†åŒæ—¶å†™å…¥æ¬¡æ•°ï¼ˆä»¥åŠç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼‰å°±ä¸Šå»äº†ã€‚</p> <p>å†™ç¼“å­˜ï¼ˆWrite Bufferï¼‰æŠŠéšæœºå†™å…¥èšåˆèµ·æ¥ï¼Œè½¬æ¢ä¸ºä¸€æ¬¡æ›´å¤§çš„é¡ºåºå†™å…¥,ä¸è¿‡å®ƒçš„ç¼ºç‚¹åœ¨äºå¯èƒ½ä¼šåœ¨å¤§æ–‡ä»¶å†™å…¥æ—¶é€ æˆå†™åœé¡¿ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰ã€‚è§ <a href="http://yoshinorimatsunobu.blogspot.com/2014/03/why-buffered-writes-are-sometimes.html" target="_blank" rel="noopener noreferrer"><i>Why buffered writes are sometimes stalled</i></a> ã€‚KingDB æœ‰ä¸¤ä¸ªå†™ç¼“å­˜åŒºï¼Œå…¶ä¸­ä¸€ä¸ªç”¨äºæ¥å—æ•°æ®è¯·æ±‚ï¼Œå¦ä¸€ä¸ªç”¨åšåˆ·æ–°æ“ä½œçš„æºï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰ã€‚å½“æ¥å—æ•°æ®çš„ç¼“å­˜åŒºå‡†å¤‡å¥½è¢«åˆ·æ–°æ—¶ï¼Œå°±ä¼šè¢«é”å®šï¼Œç„¶åä¸¤ç¼“å­˜åŒºçš„è§’è‰²äº’æ¢ã€‚The two std::vector in the Write Buffer are storing instances of the Order class. Each order contains the key of the entry it belongs to, a part of data for the value of that entry, and the offset of that part in the value array. Keys and parts are instances of ByteArray, which allows to share allocated memory buffers when they are needed all along the persisting pipeline, and seamlessly release them once they have been persisted by the Storage Engine.</p> <p>å°†æ‰€æœ‰å¯èƒ½ç­‰å¾… IO æ“ä½œçš„å·¥ä½œç”¨å¤šçº¿ç¨‹è®¾è®¡å¯ä»¥æ˜æ˜¾å‡å°‘ç­‰å¾…æ—¶é—´ï¼ˆdowntimesï¼‰ã€‚Emmanuel ä½¿ç”¨ C++11 çš„ std::mutex æ¥åŒæ­¥è¿™äº›çº¿ç¨‹ã€‚å°½ç®¡é›¶é”ç‰ˆæœ¬å¯èƒ½æ˜¯æ›´ä¼˜è§£ï¼Œä½†æ˜¯å¯¹äºç“¶é¢ˆåœ¨ç£ç›˜ IO çš„ KingDB æ¥è¯´ï¼Œç®—è¿‡æ—©ä¼˜åŒ–äº†ã€‚å¦‚ä¸Šå›¾ KingDB æ¶æ„æ‰€ç¤ºï¼Œå…¶çº¿ç¨‹åŒ…å«ï¼š</p> <ul><li>Buffer Managerï¼šç”¨äºæ§åˆ¶ç¼“å­˜åŒºä¸ Storage Engine çš„äº¤äº’ã€‚</li> <li>Entry Writerï¼šç­‰å¾… EventManager::flush_buffer äº‹ä»¶å¹¶å¤„ç†ä»å†™ç¼“å­˜ä¼ å…¥çš„ Orders Vectorã€‚</li> <li>Index Updaterï¼šç­‰å¾… EventManager::update_index å¹¶åœ¨åˆé€‚çš„æ—¶æœºæ›´æ–°ç´¢å¼•ã€‚</li> <li>Compactorï¼šå®šæœŸæ£€æŸ¥æ•°æ®åº“çš„å„é¡¹æ•°æ®ä»¥ç¡®å®šæ˜¯å¦éœ€è¦è°ƒç”¨<del>å‹ç¼©</del>åˆå¹¶ä»¥å›æ”¶ç£ç›˜ç©ºé—´ã€‚</li> <li>System Statics Pollerï¼šå®šæœŸæ”¶é›†ç³»ç»Ÿå„é¡¹æ•°æ®ï¼ˆå¦‚ç£ç›˜å‰©ä½™å®¹é‡ï¼‰ã€‚</li></ul> <p>å¯¹äºå¤šçº¿ç¨‹é—´çš„æ¶ˆæ¯é€šè®¯ï¼ŒKingDB æœ‰è‡ªå·±çš„å®ç°ï¼Œä»… 70 locï¼Œä½¿ç”¨ std::condition_variable å’Œ std::mutex æ‰“é€ ï¼ˆæºç è§ <a href="C:%5Cgoossaert%5Ckingdb%5Cblob%5Cmaster%5Cthread%5Cevent_manager.h">KingDB/thread/event_manager.h</a>ï¼‰ã€‚å¦‚æœçº¿ç¨‹é—´éœ€è¦ä¼ è¾“æ•°æ®ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨åˆ°å†…éƒ¨çš„äº‹ä»¶ç³»ç»Ÿã€‚</p> <p>å¼‚å¸¸ç®¡ç†è¿˜æ˜¯æ²¿ç”¨çš„ LevelDB é‚£å¥—é£æ ¼ã€‚KingDB æ²¡æœ‰å¤„ç†å†…å­˜ä¸è¶³æ—¶çš„å¼‚å¸¸ï¼Œä½œä¸ºå†…å­˜æ•°æ®åº“ï¼Œå¯¹æ­¤å¼‚å¸¸æ— èƒ½ä¸ºåŠ›ã€‚ä¸è¿‡ï¼ŒKingDB é€šè¿‡ Valgrind è¯¦ç»†æ£€æµ‹äº†å†…å­˜æ³„æ¼ã€å †ç ´åï¼ˆHeap Corruptionï¼‰ã€é™æ€ç­‰é¡¹ç›®ã€‚KingDB ä½¿ç”¨ Status Class è€Œä¸æ˜¯å¼‚å¸¸çš„åŸå› æ˜¯ï¼š</p> <ul><li>Status ç±»æ›´æ˜“è¯»ï¼Œå¯ä»¥å®¹æ˜“åˆ†è¾¨æºç æœ‰æ²¡æœ‰æ˜ç¡®åœ°å¤„ç†æˆ–æ˜¯å¦‚ä½•å¤„ç†çš„é”™è¯¯ï¼›</li> <li>Exception éš¾ä»¥ç»´æŠ¤ï¼Œæƒ³è±¡ä¸€ä¸‹ä¸ºä¹‹å‰æ²¡æœ‰è€ƒè™‘è¿‡çš„é”™è¯¯æƒ…å†µæ·»åŠ æˆ–æ›´æ”¹é¢å¤–çš„å¼‚å¸¸ç±»å‹ï¼›</li> <li>Code locality matters, and exceptions make everything they can to make that not the case â€” technically, exceptions are free as long as they are not thrown; when theyâ€™re thrown, they incur a 10-20x slowdown with the Zero-Cost model.</li></ul> <p>åœ¨è°ƒè¯•æ—¶ï¼Œå¯ä»¥æŠŠæ—¥å¿—çº§åˆ«è®¾ç½®ä¸ºâ€œtraceâ€ï¼Œè€Œåœ¨ç”Ÿäº§ç¯å¢ƒè¿™è®¾ç½®ä¸ºâ€œerrorâ€ã€‚æ—¥å¿—ç›¸å…³æ–¹æ³•éƒ½æ˜¯åœ¨ printf åŸºç¡€ä¸Šçš„å°è£…ã€‚å¦ä¸€æ–¹é¢ï¼Œå‚æ•°ç±»ä¹Ÿæ˜¯å•ç‹¬çš„å°è£…ã€‚æ­£å¦‚å‰æ–‡æ‰€æè¿°çš„ï¼Œå°†å‚æ•°åŒ–å¯¹è±¡å°è£…èµ·æ¥æœ‰åŠ©äºè§£è€¦æ ¸å¿ƒå¼•æ“ï¼Œè¿™ä¹Ÿæ˜¯ä» LevelDB ä¸­ä¹ å¾—çš„ã€‚</p> <p>å‹ç¼©ç®—æ³•é€‰ç”¨äº† LZ4ï¼Œæ ¡éªŒå’Œç®—æ³•æ˜¯ CRC32ï¼Œå“ˆå¸Œç®—æ³•å¯ä»¥ä» Murmurhash3 ä»¥åŠ xxHash ä¸­ä»»é€‰ã€‚</p> <h5 id="ikvs-part-9-data-format-and-memory-management-in-kingdb"><a href="https://codecapsule.com/2015/08/03/implementing-a-key-value-store-part-9-data-format-and-memory-management-in-kingdb/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 9: Data Format and Memory Management in KingDB</i></a></h5> <h5 id="ikvs-part-10-high-performance-networking-kingserver-vs-nginx"><a href="https://codecapsule.com/2016/07/21/implementing-a-key-value-store-part-10-high-performance-networking-kingserver-vs-nginx/" target="_blank" rel="noopener noreferrer"><i>IKVS Part 10: High-Performance Networking: KingServer vs. Nginx</i></a></h5> <h2 id="hash-collisions">Hash Collisions</h2> <Frame src="/gists/hash-collision.html"></Frame> <h2 id="read-more">Read More</h2> <h5 id="usenix-atc-20-matrixkv-reducing-write-stalls-and-write-amplification-in-lsm-tree-based-kv-stores"><a href="https://www.youtube.com/watch?v=LabTka3h1ek" target="_blank" rel="noopener noreferrer">USENIX ATC '20 - MatrixKV Reducing Write Stalls and Write Amplification in LSM-tree Based KV Stores</a></h5> <p>â€ Hello, everyone. My name is tian yao from hua zhong university of science and technology. â€â€My talk today is metrics kv reducing right store and right amplification in lsmg based kv storesâ€â€ with a metrics container in on the end. â€â€This is a joint work of pink cup company, the university of texas at arlington and temple university. â€â€I will give this talk in four parts. First, let me introduce the backgrounds and motivation. â€â€L symmetry based akv store are widely deployed in riding tensive scenarios. â€â€Popular kv stores such as level db cassandra and rocks db are built with l sm tree. â€â€They usually run assistance with d ram and ssd storage isâ€â€ elsam trees offer high ride throughput by batching right in memory and offer faster read and range quarries with lifetime compaction. â€â€This figure present the structure of an l symmetry in the popular implementation, rocks dbâ€â€ rusty b is composed of ad ram component and an ssd component. â€â€Alsome tree levels on ssd are exponentially increased from level zero to level six. â€â€At the amplification factor of ten rights request, first inserting to memory tables in d ram, â€â€then flush to ssd finally do level by level complexions. Overall, â€â€the operations of rux db manly includes insert, flush and compassion of multiple levelsâ€â€ to better understand elm tree based the, kb store. â€â€We evaluate rocks db by randomly writing an 80 gigabyte data setâ€â€ and measure the random rights throughput in every 10 seconds. â€â€From this figure, we first observe the challenge of right store. That isâ€â€ application throughput periodically dropped to nearly zero. The troughs of system throughput indicate right stores, â€â€the dramatic fluctuation of performance and long tail latenciesâ€â€ go against non sequel assistance, design goal of predictable and stable performance. â€â€To figure out the reason of rice stores, we record the period of each flush and compactionâ€â€ of different levels. Surprisingly, we find that the period of level zero to level one compactionâ€â€ mattress right stall approximately. â€â€Here we can see that each red line represent a level zero to level one compaction. â€â€Its lands along x axis represent the latency of the compaction. â€â€The right y axis shows the amount of data processed in each complexion. Soâ€â€ it reaches 3.1 gigabyte, on average. â€â€Now we elaborate the level zero to level one compaction to explain why it involves so much compaction dataâ€â€ to come back a level zero to level one compaction. First, we pick a victim assets table in level zero. â€â€Second, over left ss tables in level one are picked. Third, â€â€since ss tables in level zero, are ov er la pp ed to each other. â€â€We go back to level zero and pick more ss tables within the compaction key range. Fourth, we'veâ€â€ go to level one and find if there are any other ov er la pp ed as as tables and picks day and pick it. â€â€Now we get all the compaction data or the compaction data, â€â€or read into the memory, merge and salt, then right back to level one. â€â€As we go back and forth between level zero and level one. â€â€Almost ss all assets tables in both level, joins the level zero to level one compaction in the end. â€â€The larger amount of compaction data leads to heavy read, â€â€merge, right? Which takes up cp u cycles and ssd bandwidth, â€â€thus blocking foreground request and making level zero to level one compaction, the primary cost of right storesâ€â€ from the same test. We observe the second challenge. â€â€As the green line shows, system throughput degrade with the increase of data sets, size. â€â€The growing data set increases the depths of an l symmetry, so that brings more compaction and thus higher right amplification. â€â€As we know, l symmetry based kv stores have long been criticized for their high right amplification, â€â€due to level by level complexions with the amplification factor of adjacent levels of ten, by default. â€â€Right? Amplification increases with a number of levels. â€â€That is right, amplification accords to af times n where n is the number of levels. â€â€Emerging non voluntal memory technologies has the property of fast success by adjustable and persistency. â€â€It provides us a potential solution to adjust the both challenges. â€â€Na va sm from abc 18 adopts only m to store large mutable memory tables. â€â€From the right figure, we can see that now vs m improves random right throughputâ€â€ compared to rocks. Db is about 1.7 times. â€â€To some extent, it due reduce right amplification. â€â€However, it significantly increases the size of on sorted level zero. â€â€That makes level zero to level one. Compassion data reaches 15 gigabyte. â€â€The larger amount of compassion data making the period of right store extended severely. Hence, we sayâ€â€ the state of art solution. â€â€Now, sm is not sufficient to adjust the both two challenging issues. â€â€From the above analysis, we conclude thatâ€â€ all to all level zero to level one, compaction is the main cause of red stock. â€â€Rice stop brings unpredictable and unstable performance. â€â€The increased depth of alexum tree is the main course of increased, right amplification. â€â€Higher, right? Amplification brings decreased system performance, especially decreased random, right? Throughput, â€â€motivated by these challenging issues. â€â€We propose matrix kvâ€â€ that aims to reducing right store and right amplification in l symmetry based kv stores by exploiting nvnâ€â€ next, we will see the design of metrics, kvâ€â€ this figure shows the overall architecture of matrix kv we add an nvm between d ram and ssdâ€â€ as we can see from the right figure from the top to the button, they ran batches, right? â€â€Nvm stores the top level of sm tree with our proposed metrics container. â€â€Ssd stores the remaining levels of a flattened alison tree. â€â€Matrix kv has four design strategies. First, the metrics container in nvn that storesâ€â€ and manage the un. So rt, ed level zero. Second, the column compaction to reduce right stores. Third, â€â€the flattened sm tree on ssd to reduce right amplificationâ€â€ and force the crossroad hint search to improve the red efficiency in nvnâ€â€ in the following, I will introduce all the four design strategies, one by one. â€â€First, let's see the metrics container manages the level zero of lsm three. â€â€He consists of a receiver and a compactor. â€â€For receiver, it receives flushed memory table from the ram and stores them row by row, â€â€where each row is organized as a role table. As showing this figure, â€â€an immutable memory table flashed from the rain is stored in the receiver as a row table. â€â€Once the receiver is fully filled, in process, a it logically turns into a compactor. â€â€Thenâ€â€ for competitor, it compacts data from level zero to level one column by column. â€â€We call it column compaction like these. The nvm pages of a, column or freed after the column compaction. â€â€Those 3 pages are returned to the free list and waiting for storing newly flashed data. â€â€Here we show the row table structure. Row table consists of data and math data. â€â€The data region stores serialized kv items from the immutable memory table. â€â€The math data region is a sorted array. â€â€Isury, my element maintains the key, the page number, the offsetting the page, â€â€and a forward pointer for crossroad hint search. To locate akv item in this row table. â€â€We just need binary search, the sorted array to forget the target key, â€â€and then its value can be indexed with the page number and offsetâ€â€ with the metrics, container and road table. â€â€Now we can do, â€â€we can do the fine grand column compaction for level zero and level one. â€â€The non ov, er la pp ed level one on ssd provide us assorted key space with multiple contiguous key ranges. â€â€As showing this figure, the contiguous key range are 023, â€â€325528, and so on. â€â€Now I introduce the column compaction with an example. â€â€Column compassion starts from the first key range in level one that is 0 to 3, thenâ€â€ multiple thread in the compactor orâ€â€ multiple threats in the compactor searches, the keys within the key range, 0 to 3 like this. â€â€If the amount of data is under the threshold of a compaction, the next key range 3 to 5 joins, â€â€if the amount of data is still not enough, the next range 5 to 8 joins. â€â€Finally, the compaction range is 0 to 8. â€â€A logical column is formed with the data within the key range, 0 to 8. â€â€And the column compaction merges the column and the first two ss tables in level one. â€â€Then we do the next column compaction, arrange 8 to 30 and the next oneâ€â€ by processing level zero to level one, column, compassion, column by column. â€â€Each compaction only merges a small key range that has very limited amount of data. Hence, â€â€the column compaction can reduce right amplification, right? Stores due to all compaction. â€â€Since right amplification, ecles to af times the number of lmc levelsâ€â€ matches kb tries to flatten the lcm tree to reduce right amplification. â€â€Soâ€â€ what we do is keep the af on change while increasing the size of level zero and level one to reduce the nâ€â€ due to column compassion, the size of level zero and level one does not affect the overheadâ€â€ of level zero to level one. Compaction is always at a limited amount of data. â€â€Since larger on salted level zero might decrease. â€â€The red efficiency of metrics, kv we propose crossroad hint, search next. The process of crossroad hint, search. â€â€To process the crossroad hint search, we need construct, crossroad hint with forward pointers. First. â€â€For the key x in row table I is forward point indexes the key y in row table I minus one. â€â€Why always the first key that no less than xâ€â€ for example, here, 3 points, 235.267points to 8, and so on. â€â€In this way, we can logically sort all keys in level zero. â€â€Now, â€â€if you want to search the key 12, â€â€we first binary search, the row table three to get two adjacent keys. We wear. â€â€The 12 might recite that is p 10 and 23 with the forward pointer of 10 and 23. â€â€We can go to round table, too. â€â€The key aid is added into our search region, because 12 is between 8 and 13. Thenâ€â€ we will go to row table one with the forward pointer of key 8 and 13. â€â€Then we go to let row table zero finally, and find 12 in row table zero. â€â€From this yellow region, we can see that crossroad hinge searchâ€â€ compares fewer keys that's reducing the search overhead compared to travels all of the keys andâ€â€ come compares, all of the keys. â€â€For the evaluation, we compare matrix kb with conventional rocks cbâ€â€ which is the ssd based rock cb and the rock cb level zero in the end, â€â€where it put level zero in nvm and run assistance with d ram mvmssd hierarchy, â€â€then is the state of art. â€â€Now, sm all the systems useâ€â€ eight gigabyte opton, dcpmmâ€â€ this figure shows the random right throughput with value sizes, ranging from 64 byte to 64 kilobyte. â€â€Generally, matrix kv obtains the best random performance in all the different value sizes. â€â€We just take the four kb value size as an example metrics. Kv out performs roxy b level zero and vnâ€â€ by 3.6 times. And out performs not sm by 2.6 times respectfully. Next, â€â€we will in explain this advantage of metrics. Kv comes from two reason. â€â€The first is reduced the right store. The second is decreased, right amplificationâ€â€ by recording the throughput in every 10 seconds during the 80 gigabyt random note. â€â€We see the fluctuation of system performance. Here, metrics kv is represented by red line. â€â€This figure show that mattress kv is the fastest to load the same at gigabyte data set. â€â€It has the most stable random right throughput, which meansâ€â€ we do reduce right stars with column compaction. â€â€Okay? â€â€In terms of tale latency, we can see that matrix kv obtains the shortest tale latency in all cases. â€â€Taking the 99 person tale latency as an example. â€â€Mattress kv is 27 times lower than rocks dbssd 5 times lower than not smâ€â€1.9 times lower than rocks db level zero nvnâ€â€ here, we record each level zero to level one compaction to explain why matrix kv reduce right stores. â€â€From this figure, we can see that for each level zero to level one compaction. Now, sm mergesâ€â€15 gigabyte data. Now sms rock cbssd merges 3.1 gigabyte data, â€â€rock cb level zero nvn merges 4.9 gigabyte data. However, â€â€metrics kv only merges 33 megabyte data, and itâ€â€ due the column compaction for 467 times. Soâ€â€ the small but multiple time compaction reduce right store. â€â€Here we show the right amplification of randomly loading 80 gigabyte data set. Test result show thatâ€â€ by flattering, the l symmetry matches kv reduces right amplification than others resistance. That'sâ€â€ that is 3.43 times here, right? Amplification is calculated by the ratio ofâ€â€ amount of data riden to ssdâ€â€ to amount of data written by users. â€â€In summary, conventional ssd based kv store areâ€â€ has unpredicted has unpredictable performance due to write storesâ€â€ And decrease the performance due to higher, right? Amplification. â€â€Matches kv build an l symmetry based kv store for assistance with d RM, ndm and SSD storage. â€â€With four design strategies, metrics, KB reduces right store and improves right throughput. Finally. â€â€Thanks, everyone.</p> <hr class="footnotes-sep"> <section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>ç”¨æˆ·æ€ä¸å†…æ ¸æ€é—´çš„åˆ‡æ¢å¤§çº¦éœ€è¦ 100nsï¼›Michael Kerrisk åœ¨ä»–çš„ä¹¦ä¸­åšäº†ä¸€ä¸ªæµ‹è¯•ï¼Œåˆ†åˆ«è®¾ç¼“å­˜åŒºå¤§å°ä¸º 1byteã€4KBï¼Œå¹¶å†™å…¥ 100MB æ•°æ®ï¼Œç»“æœåˆ†åˆ«è€—æ—¶ 72sã€0.11sï¼Œè¡¨æ˜å¤§é‡ç³»ç»Ÿè°ƒç”¨ç¡®å®åœ¨å®è§‚ä¸Šæåº¦å½±å“æ€§èƒ½ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ¬æ–‡æœ€åæ›´æ–°äº:</span> <span class="time">May 07 2022 11:51</span></div></footer> <!----> <div id="page-bottom" data-v-7b64de4a><a href="/rss.xml" target="_blank" class="rss" data-v-7b64de4a>RSS è®¢é˜…</a> <a href="/friends/" target="_blank" class="friends" data-v-7b64de4a>Friends &amp; Me</a></div></main></div><div class="global-ui"><Comment></Comment></div></div>
    <script src="/assets/js/app.a3c6d88b.js" defer></script><script src="/assets/js/layout-Layout.4f71e0d9.js" defer></script><script src="/assets/js/vendors~layout-Layout.e1a4d7b9.js" defer></script><script src="/assets/js/KVStore.e29ba6f5.js" defer></script>
  </body>
</html>
