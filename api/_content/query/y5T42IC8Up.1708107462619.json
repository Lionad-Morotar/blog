{"_path":"/gists/task-slice","_dir":"gists","_draft":false,"_partial":false,"_locale":"","title":"任务切片","description":"JS 执行会抢占 UI 渲染的时间，若 JS 任务长时间运作，页面看起来就会像“假死”，连滚动操作都无法正常进行。使用任务切片技术能使页面在不使用 Web Worker 的情况下榨干页面性能，并保持 UI 响应。","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"任务切片"},"children":[{"type":"text","value":"任务切片"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"JS 执行会抢占 UI 渲染的时间，若 JS 任务长时间运作，页面看起来就会像“假死”，连滚动操作都无法正常进行。使用任务切片技术能使页面在不使用 Web Worker 的情况下榨干页面性能，并保持 UI 响应。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下图形中有 400 个圆形。每 600ms 会对圆形进行一次更新。使用全量更新策略在我的个人电脑需要耗时约 360ms，也就意味着只有 2/5 的时间留给浏览器响应 UI 渲染。若使用任务切片，虽然总任务执行时间延长到 460ms，但令人惊喜的是，无论是滚动操作，还是界面中的动画，滚动页面带来的卡顿都得到缓解。"}]},{"type":"element","tag":"article-g200919-task-slice","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。\n滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试滚动测试。"}]},{"type":"element","tag":"h2","props":{"id":"关键代码"},"children":[{"type":"text","value":"关键代码"}]},{"type":"element","tag":"h4","props":{"id":"fps"},"children":[{"type":"text","value":"FPS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"FPS 统计使用了 requestAnimationFrame API。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一种方法来自 "},{"type":"element","tag":"a","props":{"href":"https://mp.weixin.qq.com/s/fD-jtZ0ETUWwyL3YhmA3kw","rel":["nofollow"]},"children":[{"type":"text","value":"AlloyTeam 的示例代码"}]},{"type":"text","value":"，通过累计时间以计算每一秒的帧率。"}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","code":"let lastTime = performance.now()\nlet frames = 0\nconst loop = () => {\n    const currentTime = performance.now()\n    frames += 1\n    if (currentTime > 1000 + lastTime) {\n        fps = Math.round((frames * 1000) / (currentTime - lastTime))\n        frames = 0\n        lastTime = currentTime\n        console.log(`fps:${fps}`)\n      }\n    window.requestAnimationFrame(loop)\n}\nloop()\n","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" lastTime "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" performance"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"now"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" frames "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" loop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" ()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" currentTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" performance"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"now"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    frames"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" +="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672;--shiki-light-font-style:italic;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:inherit"},"children":[{"type":"text","value":"    if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"currentTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" >"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" 1000"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" +"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" lastTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"        fps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" Math"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"round"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"frames"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" 1000"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"currentTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" -"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" lastTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"        frames"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"        lastTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" currentTime\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"        console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":"fps:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"fps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    window"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"requestAnimationFrame"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"loop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"loop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也可以实施计算每一秒帧率。"}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","code":"let date = +new Date()\nconst step = () => {\n  const currentFPS = Math.floor(1000 / Math.abs(date - (date = +new Date())))\n  this.$emit('onFPS', currentFPS)\n  requestAnimationFrame(step)\n}\nrequestAnimationFrame(step)\n","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" date "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" +new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" step"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" ()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" currentFPS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" Math"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"floor"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":"1000"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" /"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" Math"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"abs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" -"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" +new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"())))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F"},"children":[{"type":"text","value":"  this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"$emit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":"onFPS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" currentFPS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"  requestAnimationFrame"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"step"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"requestAnimationFrame"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(step)\n"}]}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"关键代码","depth":2,"text":"关键代码"}]}},"_type":"markdown","_id":"content:7.gists:task-slice.md","_source":"content","_file":"7.gists/task-slice.md","_extension":"md"}