{"_path":"/maps/_workflow/packer","_dir":"_workflow","_draft":false,"_partial":true,"_locale":"","title":"打包工具","description":"前端打包工具全景图，涵盖 Vite、Webpack、Rollup、tsup、Unbuild、Rome 等主流工具的特性对比和使用说明。","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"vite"},"children":[{"type":"text","value":"Vite"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/maps/_workflow/packer/vite"},"children":[{"type":"text","value":"Vite"}]}]}]},{"type":"element","tag":"h2","props":{"id":"tsup"},"children":[{"type":"text","value":"tsup"}]},{"type":"element","tag":"h4","props":{"id":"tsup-是什么"},"children":[{"type":"text","value":"tsup 是什么？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"tsup 是一个基于 ESBuild、SWC 的小型大宝漆，允许用户使用非常简单的配置项来编译 TS 项目生成目标代码。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"默认支持 NodeJS 生态相关文件如 .cjs、.esm、.json，有多入口、类型生成、编译格式（cjs、esm、iife）、编译目标（浏览器等）、代码切分、支持 hashbang、watch、压缩等能力。运行命令行或代码调用，一个典型的使用案例是："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsup src/index.ts --format cjs,esm --dts"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"见："},{"type":"element","tag":"a","props":{"href":"https://antfu.me/posts/publish-esm-and-cjs#tsup","rel":["nofollow"]},"children":[{"type":"text","value":"publish-esm-and-cjs#tsup | antfu"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://tsup.egoist.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"tsup document"}]}]},{"type":"element","tag":"h2","props":{"id":"rollup"},"children":[{"type":"text","value":"Rollup"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对比了一下 Rollup 和 Rspack（Webpack）在输出体积上的差异："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@cx/definition"}]},{"type":"text","value":" minified，rollup 42kb，webpack 60kb"}]}]},{"type":"element","tag":"h2","props":{"id":"webpack"},"children":[{"type":"text","value":"Webpack"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/maps/_workflow/packer/webpack"},"children":[{"type":"text","value":"Webpack"}]}]}]},{"type":"element","tag":"h2","props":{"id":"rspack"},"children":[{"type":"text","value":"Rspack"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/maps/_workflow/packer/rspack"},"children":[{"type":"text","value":"Rspack"}]}]}]},{"type":"element","tag":"h2","props":{"id":"unbuild"},"children":[{"type":"text","value":"Unbuild"}]},{"type":"element","tag":"h4","props":{"id":"unbuild-的-stub-模式是什么意思"},"children":[{"type":"text","value":"unbuild 的 stub 模式是什么意思？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"stub 即插桩。unbuild 的插桩模式意味着只需要启动一个文件监听进程，就可以监听不同项目的代码的改变并触发对应项目的重新构建。配合 Monorepo 使用，修改某个包不需要触发重新构建，达到类似热更新的效果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"见："},{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/7203968787325992997","rel":["nofollow"]},"children":[{"type":"text","value":"还在用 rollup 打包库？试试 unbuild 吧 | markthree"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://antfu.me/posts/publish-esm-and-cjs#stubbing","rel":["nofollow"]},"children":[{"type":"text","value":"publish-esm-and-cjs#stubbing | antfu"}]}]},{"type":"element","tag":"h2","props":{"id":"rome"},"children":[{"type":"text","value":"Rome"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Rome 致力于统一前端开发工具链。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Rome is not only linter, but also a compiler, bundler, test runner, and more, for JavaScript, TypeScript, HTML, JSON, Markdown, and CSS."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"见："},{"type":"element","tag":"a","props":{"href":"https://rome.tools/blog/2020/08/08/introducing-rome/","rel":["nofollow"]},"children":[{"type":"text","value":"Introducing Rome"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在应该叫 Biome 了，他们团队同时赢得了 Prettier 十万美金奖项。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"vite","depth":2,"text":"Vite"},{"id":"tsup","depth":2,"text":"tsup"},{"id":"rollup","depth":2,"text":"Rollup"},{"id":"webpack","depth":2,"text":"Webpack"},{"id":"rspack","depth":2,"text":"Rspack"},{"id":"unbuild","depth":2,"text":"Unbuild"},{"id":"rome","depth":2,"text":"Rome"}]}},"_type":"markdown","_id":"content:6.maps:_workflow:packer:0.index.md","_source":"content","_file":"6.maps/_workflow/packer/0.index.md","_stem":"6.maps/_workflow/packer/0.index","_extension":"md"}