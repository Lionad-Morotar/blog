[{"data":1,"prerenderedAt":3476},["ShallowReactive",2],{"navigation":3,"/_achieved/2020-05/js-module-history":384,"/_achieved/2020-05/js-module-history-surround":3468},[4,35,86,105,132,138,144,150,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":205,"_path":206},"正则表达式","/gists/eegex",{"title":208,"_path":209},"Emoji","/gists/emoji",{"title":211,"_path":212},"工程","/gists/engineering",{"title":214,"_path":215},"熵","/gists/entropy",{"title":217,"_path":218},"Environment","/gists/environment",{"title":220,"_path":221},"Erlang","/gists/erlang",{"title":223,"_path":224},"逃离塔克夫","/gists/escape-from-tarkov",{"title":226,"_path":227},"ESNext (ES6-ES11)","/gists/esnext",{"title":229,"_path":230},"Eval！","/gists/eval",{"title":232,"_path":233},"Flutter","/gists/flutter",{"title":235,"_path":236},"字体","/gists/font",{"title":238,"_path":239},"JS 函数式编程","/gists/functional",{"title":241,"_path":242},"游戏化","/gists/gamification",{"title":244,"_path":245},"Google C++ Standard","/gists/google-cpp-standard",{"title":247,"_path":248},"双向链接完全体","/gists/graph",{"title":250,"_path":251},"Hardwares","/gists/hardwares",{"title":253,"_path":254},"哈希冲突","/gists/hash-collision",{"title":256,"_path":257},"信息设计","/gists/information-design",{"title":259,"_path":260},"InstantPage","/gists/instant.page",{"title":262,"_path":263},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":265,"_path":266},"KVStore","/gists/key-value-db",{"title":268,"_path":269},"Kubernetes","/gists/kubernetes",{"title":271,"_path":272},"Makefile","/gists/makefile",{"title":274,"_path":275},"Markdown Inline Style","/gists/markdown-nice",{"title":277,"_path":278},"减小页面快照体积","/gists/minify-html",{"title":280,"_path":281},"mklink","/gists/mklink",{"title":283,"_path":284},"Mock","/gists/mock",{"title":286,"_path":287},"多人协作系统","/gists/multiplayer",{"title":289,"_path":290},"多端应用","/gists/multy-end-app",{"title":292,"_path":293},"神经科学","/gists/neuroscience",{"title":295,"_path":296},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":298,"_path":299},"PInvoke","/gists/pinvoke",{"title":301,"_path":302},"像素","/gists/pixel",{"title":304,"_path":305},"PowerShell","/gists/powershell",{"title":307,"_path":308},"量子","/gists/quantum",{"title":310,"_path":311},"保持好奇心","/gists/questions",{"title":313,"_path":314},"React Native","/gists/react-native",{"title":316,"_path":317},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":319,"_path":320},"SEO","/gists/seo",{"title":322,"_path":323},"Shader","/gists/shader",{"title":325,"_path":326},"Shape Up","/gists/shape-up",{"title":328,"_path":329},"睡觉","/gists/sleep",{"title":331,"_path":332},"记录奇怪的问题","/gists/solved",{"title":334,"_path":335},"States","/gists/states",{"title":337,"_path":338},"Storage","/gists/storage",{"title":340,"_path":341},"音视频流处理","/gists/stream-cli",{"title":343,"_path":344},"Symbol","/gists/symbol",{"title":346,"_path":347},"系统论","/gists/systems-theory",{"title":349,"_path":350},"任务切片","/gists/task-slice",{"title":352,"_path":353},"技术偏好","/gists/tech-dudge",{"title":355,"_path":356},"Untitled","/gists/untitled",{"title":358,"_path":359},"可变字体","/gists/variable-font",{"title":361,"_path":362},"视觉错觉","/gists/visual-illusion",{"title":364,"_path":365},"SS(SSR)","/gists/vpn",{"title":367,"_path":368},"VS Code 插件开发","/gists/vscode-plugin",{"title":370,"_path":371},"Web Components","/gists/web-components",{"title":373,"_path":374},"Windows","/gists/windows",{"title":376,"_path":377},"查缺补漏","/gists/wrong",{"title":379,"_path":380,"children":381},"我 / About","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"_path":385,"_dir":386,"_draft":387,"_partial":388,"_locale":389,"title":390,"description":389,"body":391,"_type":3462,"_id":3463,"_source":3464,"_file":3465,"_stem":3466,"_extension":3467},"/_achieved/2020-05/js-module-history","2020-05",false,true,"","JS 模块化简史",{"type":392,"children":393,"toc":3451},"root",[394,402,408,414,510,515,628,633,646,797,811,1292,1297,1302,1575,1580,1768,1773,1904,1909,1914,1934,1939,1944,1962,1967,2211,2216,2221,2362,2367,2616,2621,2972,2978,2991,3101,3106,3111,3124,3130,3135,3156,3162,3167,3173,3178,3190,3204,3216,3222,3331,3345,3350,3355,3360,3373,3378,3383,3445],{"type":395,"tag":396,"props":397,"children":399},"element","h2",{"id":398},"模块化的历史进程",[400],{"type":401,"value":398},"text",{"type":395,"tag":403,"props":404,"children":406},"h3",{"id":405},"模块模式",[407],{"type":401,"value":405},{"type":395,"tag":409,"props":410,"children":411},"p",{},[412],{"type":401,"value":413},"起初，我们写代码比较随意：",{"type":395,"tag":415,"props":416,"children":420},"pre",{"className":417,"code":418,"language":419,"meta":389,"style":389},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","function foo() {\n  //...\n}\nfunction bar() {\n  //...\n}\n","js",[421],{"type":395,"tag":422,"props":423,"children":424},"code",{"__ignoreMap":389},[425,454,464,473,494,502],{"type":395,"tag":426,"props":427,"children":430},"span",{"class":428,"line":429},"line",1,[431,437,443,449],{"type":395,"tag":426,"props":432,"children":434},{"style":433},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[435],{"type":401,"value":436},"function",{"type":395,"tag":426,"props":438,"children":440},{"style":439},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[441],{"type":401,"value":442}," foo",{"type":395,"tag":426,"props":444,"children":446},{"style":445},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[447],{"type":401,"value":448},"()",{"type":395,"tag":426,"props":450,"children":451},{"style":445},[452],{"type":401,"value":453}," {\n",{"type":395,"tag":426,"props":455,"children":457},{"class":428,"line":456},2,[458],{"type":395,"tag":426,"props":459,"children":461},{"style":460},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[462],{"type":401,"value":463},"  //...\n",{"type":395,"tag":426,"props":465,"children":467},{"class":428,"line":466},3,[468],{"type":395,"tag":426,"props":469,"children":470},{"style":445},[471],{"type":401,"value":472},"}\n",{"type":395,"tag":426,"props":474,"children":476},{"class":428,"line":475},4,[477,481,486,490],{"type":395,"tag":426,"props":478,"children":479},{"style":433},[480],{"type":401,"value":436},{"type":395,"tag":426,"props":482,"children":483},{"style":439},[484],{"type":401,"value":485}," bar",{"type":395,"tag":426,"props":487,"children":488},{"style":445},[489],{"type":401,"value":448},{"type":395,"tag":426,"props":491,"children":492},{"style":445},[493],{"type":401,"value":453},{"type":395,"tag":426,"props":495,"children":497},{"class":428,"line":496},5,[498],{"type":395,"tag":426,"props":499,"children":500},{"style":460},[501],{"type":401,"value":463},{"type":395,"tag":426,"props":503,"children":505},{"class":428,"line":504},6,[506],{"type":395,"tag":426,"props":507,"children":508},{"style":445},[509],{"type":401,"value":472},{"type":395,"tag":409,"props":511,"children":512},{},[513],{"type":401,"value":514},"这种写法容易和全局变量发生命名冲突问题，于是我们有了改进的写法：",{"type":395,"tag":415,"props":516,"children":518},{"className":417,"code":517,"language":419,"meta":389,"style":389},"var Utils = {\n  foo: function() {},\n  bar: function() {}\n}\nUtils.foo()\n",[519],{"type":395,"tag":422,"props":520,"children":521},{"__ignoreMap":389},[522,546,573,598,605],{"type":395,"tag":426,"props":523,"children":524},{"class":428,"line":429},[525,530,536,542],{"type":395,"tag":426,"props":526,"children":527},{"style":433},[528],{"type":401,"value":529},"var",{"type":395,"tag":426,"props":531,"children":533},{"style":532},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[534],{"type":401,"value":535}," Utils ",{"type":395,"tag":426,"props":537,"children":539},{"style":538},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[540],{"type":401,"value":541},"=",{"type":395,"tag":426,"props":543,"children":544},{"style":445},[545],{"type":401,"value":453},{"type":395,"tag":426,"props":547,"children":548},{"class":428,"line":456},[549,554,559,564,568],{"type":395,"tag":426,"props":550,"children":551},{"style":439},[552],{"type":401,"value":553},"  foo",{"type":395,"tag":426,"props":555,"children":556},{"style":445},[557],{"type":401,"value":558},":",{"type":395,"tag":426,"props":560,"children":561},{"style":433},[562],{"type":401,"value":563}," function",{"type":395,"tag":426,"props":565,"children":566},{"style":445},[567],{"type":401,"value":448},{"type":395,"tag":426,"props":569,"children":570},{"style":445},[571],{"type":401,"value":572}," {},\n",{"type":395,"tag":426,"props":574,"children":575},{"class":428,"line":466},[576,581,585,589,593],{"type":395,"tag":426,"props":577,"children":578},{"style":439},[579],{"type":401,"value":580},"  bar",{"type":395,"tag":426,"props":582,"children":583},{"style":445},[584],{"type":401,"value":558},{"type":395,"tag":426,"props":586,"children":587},{"style":433},[588],{"type":401,"value":563},{"type":395,"tag":426,"props":590,"children":591},{"style":445},[592],{"type":401,"value":448},{"type":395,"tag":426,"props":594,"children":595},{"style":445},[596],{"type":401,"value":597}," {}\n",{"type":395,"tag":426,"props":599,"children":600},{"class":428,"line":475},[601],{"type":395,"tag":426,"props":602,"children":603},{"style":445},[604],{"type":401,"value":472},{"type":395,"tag":426,"props":606,"children":607},{"class":428,"line":496},[608,613,618,623],{"type":395,"tag":426,"props":609,"children":610},{"style":532},[611],{"type":401,"value":612},"Utils",{"type":395,"tag":426,"props":614,"children":615},{"style":445},[616],{"type":401,"value":617},".",{"type":395,"tag":426,"props":619,"children":620},{"style":439},[621],{"type":401,"value":622},"foo",{"type":395,"tag":426,"props":624,"children":625},{"style":532},[626],{"type":401,"value":627},"()\n",{"type":395,"tag":409,"props":629,"children":630},{},[631],{"type":401,"value":632},"这种写法看似解决了命名冲突问题，其实也暗含了安全问题。我们可以在外部随意访问 Utils.foo 并对其进行修改。",{"type":395,"tag":409,"props":634,"children":635},{},[636,638,644],{"type":401,"value":637},"来看 jQuery，jQuery 通过 IIFE，使用",{"type":395,"tag":422,"props":639,"children":641},{"className":640},[],[642],{"type":401,"value":643},"引入全局变量",{"type":401,"value":645},"的方式解决了命名冲突及模块安全问题。",{"type":395,"tag":415,"props":647,"children":649},{"className":417,"code":648,"language":419,"meta":389,"style":389},";(function(window) {\n  const _privateFn = function() {\n    console.log('Aha, this is a private Fn')\n  }\n})(window)\n_privateFn // undefined\n",[650],{"type":395,"tag":422,"props":651,"children":652},{"__ignoreMap":389},[653,689,720,763,771,784],{"type":395,"tag":426,"props":654,"children":655},{"class":428,"line":429},[656,661,666,670,674,680,685],{"type":395,"tag":426,"props":657,"children":658},{"style":445},[659],{"type":401,"value":660},";",{"type":395,"tag":426,"props":662,"children":663},{"style":532},[664],{"type":401,"value":665},"(",{"type":395,"tag":426,"props":667,"children":668},{"style":433},[669],{"type":401,"value":436},{"type":395,"tag":426,"props":671,"children":672},{"style":445},[673],{"type":401,"value":665},{"type":395,"tag":426,"props":675,"children":677},{"style":676},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[678],{"type":401,"value":679},"window",{"type":395,"tag":426,"props":681,"children":682},{"style":445},[683],{"type":401,"value":684},")",{"type":395,"tag":426,"props":686,"children":687},{"style":445},[688],{"type":401,"value":453},{"type":395,"tag":426,"props":690,"children":691},{"class":428,"line":456},[692,697,703,708,712,716],{"type":395,"tag":426,"props":693,"children":694},{"style":433},[695],{"type":401,"value":696},"  const",{"type":395,"tag":426,"props":698,"children":700},{"style":699},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[701],{"type":401,"value":702}," _privateFn",{"type":395,"tag":426,"props":704,"children":705},{"style":538},[706],{"type":401,"value":707}," =",{"type":395,"tag":426,"props":709,"children":710},{"style":433},[711],{"type":401,"value":563},{"type":395,"tag":426,"props":713,"children":714},{"style":445},[715],{"type":401,"value":448},{"type":395,"tag":426,"props":717,"children":718},{"style":445},[719],{"type":401,"value":453},{"type":395,"tag":426,"props":721,"children":722},{"class":428,"line":466},[723,728,732,737,742,748,754,758],{"type":395,"tag":426,"props":724,"children":725},{"style":532},[726],{"type":401,"value":727},"    console",{"type":395,"tag":426,"props":729,"children":730},{"style":445},[731],{"type":401,"value":617},{"type":395,"tag":426,"props":733,"children":734},{"style":439},[735],{"type":401,"value":736},"log",{"type":395,"tag":426,"props":738,"children":740},{"style":739},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[741],{"type":401,"value":665},{"type":395,"tag":426,"props":743,"children":745},{"style":744},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[746],{"type":401,"value":747},"'",{"type":395,"tag":426,"props":749,"children":751},{"style":750},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[752],{"type":401,"value":753},"Aha, this is a private Fn",{"type":395,"tag":426,"props":755,"children":756},{"style":744},[757],{"type":401,"value":747},{"type":395,"tag":426,"props":759,"children":760},{"style":739},[761],{"type":401,"value":762},")\n",{"type":395,"tag":426,"props":764,"children":765},{"class":428,"line":475},[766],{"type":395,"tag":426,"props":767,"children":768},{"style":445},[769],{"type":401,"value":770},"  }\n",{"type":395,"tag":426,"props":772,"children":773},{"class":428,"line":496},[774,779],{"type":395,"tag":426,"props":775,"children":776},{"style":445},[777],{"type":401,"value":778},"}",{"type":395,"tag":426,"props":780,"children":781},{"style":532},[782],{"type":401,"value":783},")(window)\n",{"type":395,"tag":426,"props":785,"children":786},{"class":428,"line":504},[787,792],{"type":395,"tag":426,"props":788,"children":789},{"style":532},[790],{"type":401,"value":791},"_privateFn ",{"type":395,"tag":426,"props":793,"children":794},{"style":460},[795],{"type":401,"value":796},"// undefined\n",{"type":395,"tag":409,"props":798,"children":799},{},[800,809],{"type":395,"tag":801,"props":802,"children":806},"a",{"href":803,"rel":804},"https://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html",[805],"nofollow",[807],{"type":401,"value":808},"这篇博客",{"type":401,"value":810},"提到了如何解决状态私有问题：",{"type":395,"tag":415,"props":812,"children":814},{"className":417,"code":813,"language":419,"meta":389,"style":389},"var MODULE = (function(my) {\n  const _private = (my._private = my._private || {})\n  const _seal = (my._seal =\n    my._seal ||\n    function() {\n      delete my._private\n      delete my._seal\n      delete my._unseal\n    })\n  const _unseal = (my._unseal =\n    my._unseal ||\n    function() {\n      my._private = _private\n      my._seal = _seal\n      my._unseal = _unseal\n    })\n\n  return my\n})(MODULE || {})\n",[815],{"type":395,"tag":422,"props":816,"children":817},{"__ignoreMap":389},[818,861,925,963,984,1000,1021,1042,1063,1076,1114,1134,1150,1176,1201,1226,1238,1247,1262],{"type":395,"tag":426,"props":819,"children":820},{"class":428,"line":429},[821,825,831,835,840,844,848,853,857],{"type":395,"tag":426,"props":822,"children":823},{"style":433},[824],{"type":401,"value":529},{"type":395,"tag":426,"props":826,"children":828},{"style":827},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[829],{"type":401,"value":830}," MODULE",{"type":395,"tag":426,"props":832,"children":833},{"style":538},[834],{"type":401,"value":707},{"type":395,"tag":426,"props":836,"children":837},{"style":532},[838],{"type":401,"value":839}," (",{"type":395,"tag":426,"props":841,"children":842},{"style":433},[843],{"type":401,"value":436},{"type":395,"tag":426,"props":845,"children":846},{"style":445},[847],{"type":401,"value":665},{"type":395,"tag":426,"props":849,"children":850},{"style":676},[851],{"type":401,"value":852},"my",{"type":395,"tag":426,"props":854,"children":855},{"style":445},[856],{"type":401,"value":684},{"type":395,"tag":426,"props":858,"children":859},{"style":445},[860],{"type":401,"value":453},{"type":395,"tag":426,"props":862,"children":863},{"class":428,"line":456},[864,868,873,877,881,885,889,894,898,903,907,911,916,921],{"type":395,"tag":426,"props":865,"children":866},{"style":433},[867],{"type":401,"value":696},{"type":395,"tag":426,"props":869,"children":870},{"style":827},[871],{"type":401,"value":872}," _private",{"type":395,"tag":426,"props":874,"children":875},{"style":538},[876],{"type":401,"value":707},{"type":395,"tag":426,"props":878,"children":879},{"style":739},[880],{"type":401,"value":839},{"type":395,"tag":426,"props":882,"children":883},{"style":532},[884],{"type":401,"value":852},{"type":395,"tag":426,"props":886,"children":887},{"style":445},[888],{"type":401,"value":617},{"type":395,"tag":426,"props":890,"children":891},{"style":532},[892],{"type":401,"value":893},"_private",{"type":395,"tag":426,"props":895,"children":896},{"style":538},[897],{"type":401,"value":707},{"type":395,"tag":426,"props":899,"children":900},{"style":532},[901],{"type":401,"value":902}," my",{"type":395,"tag":426,"props":904,"children":905},{"style":445},[906],{"type":401,"value":617},{"type":395,"tag":426,"props":908,"children":909},{"style":532},[910],{"type":401,"value":893},{"type":395,"tag":426,"props":912,"children":913},{"style":538},[914],{"type":401,"value":915}," ||",{"type":395,"tag":426,"props":917,"children":918},{"style":445},[919],{"type":401,"value":920}," {}",{"type":395,"tag":426,"props":922,"children":923},{"style":739},[924],{"type":401,"value":762},{"type":395,"tag":426,"props":926,"children":927},{"class":428,"line":466},[928,932,937,941,945,949,953,958],{"type":395,"tag":426,"props":929,"children":930},{"style":433},[931],{"type":401,"value":696},{"type":395,"tag":426,"props":933,"children":934},{"style":827},[935],{"type":401,"value":936}," _seal",{"type":395,"tag":426,"props":938,"children":939},{"style":538},[940],{"type":401,"value":707},{"type":395,"tag":426,"props":942,"children":943},{"style":739},[944],{"type":401,"value":839},{"type":395,"tag":426,"props":946,"children":947},{"style":532},[948],{"type":401,"value":852},{"type":395,"tag":426,"props":950,"children":951},{"style":445},[952],{"type":401,"value":617},{"type":395,"tag":426,"props":954,"children":955},{"style":532},[956],{"type":401,"value":957},"_seal",{"type":395,"tag":426,"props":959,"children":960},{"style":538},[961],{"type":401,"value":962}," =\n",{"type":395,"tag":426,"props":964,"children":965},{"class":428,"line":475},[966,971,975,979],{"type":395,"tag":426,"props":967,"children":968},{"style":532},[969],{"type":401,"value":970},"    my",{"type":395,"tag":426,"props":972,"children":973},{"style":445},[974],{"type":401,"value":617},{"type":395,"tag":426,"props":976,"children":977},{"style":532},[978],{"type":401,"value":957},{"type":395,"tag":426,"props":980,"children":981},{"style":538},[982],{"type":401,"value":983}," ||\n",{"type":395,"tag":426,"props":985,"children":986},{"class":428,"line":496},[987,992,996],{"type":395,"tag":426,"props":988,"children":989},{"style":433},[990],{"type":401,"value":991},"    function",{"type":395,"tag":426,"props":993,"children":994},{"style":445},[995],{"type":401,"value":448},{"type":395,"tag":426,"props":997,"children":998},{"style":445},[999],{"type":401,"value":453},{"type":395,"tag":426,"props":1001,"children":1002},{"class":428,"line":504},[1003,1008,1012,1016],{"type":395,"tag":426,"props":1004,"children":1005},{"style":538},[1006],{"type":401,"value":1007},"      delete",{"type":395,"tag":426,"props":1009,"children":1010},{"style":532},[1011],{"type":401,"value":902},{"type":395,"tag":426,"props":1013,"children":1014},{"style":445},[1015],{"type":401,"value":617},{"type":395,"tag":426,"props":1017,"children":1018},{"style":532},[1019],{"type":401,"value":1020},"_private\n",{"type":395,"tag":426,"props":1022,"children":1024},{"class":428,"line":1023},7,[1025,1029,1033,1037],{"type":395,"tag":426,"props":1026,"children":1027},{"style":538},[1028],{"type":401,"value":1007},{"type":395,"tag":426,"props":1030,"children":1031},{"style":532},[1032],{"type":401,"value":902},{"type":395,"tag":426,"props":1034,"children":1035},{"style":445},[1036],{"type":401,"value":617},{"type":395,"tag":426,"props":1038,"children":1039},{"style":532},[1040],{"type":401,"value":1041},"_seal\n",{"type":395,"tag":426,"props":1043,"children":1045},{"class":428,"line":1044},8,[1046,1050,1054,1058],{"type":395,"tag":426,"props":1047,"children":1048},{"style":538},[1049],{"type":401,"value":1007},{"type":395,"tag":426,"props":1051,"children":1052},{"style":532},[1053],{"type":401,"value":902},{"type":395,"tag":426,"props":1055,"children":1056},{"style":445},[1057],{"type":401,"value":617},{"type":395,"tag":426,"props":1059,"children":1060},{"style":532},[1061],{"type":401,"value":1062},"_unseal\n",{"type":395,"tag":426,"props":1064,"children":1066},{"class":428,"line":1065},9,[1067,1072],{"type":395,"tag":426,"props":1068,"children":1069},{"style":445},[1070],{"type":401,"value":1071},"    }",{"type":395,"tag":426,"props":1073,"children":1074},{"style":739},[1075],{"type":401,"value":762},{"type":395,"tag":426,"props":1077,"children":1079},{"class":428,"line":1078},10,[1080,1084,1089,1093,1097,1101,1105,1110],{"type":395,"tag":426,"props":1081,"children":1082},{"style":433},[1083],{"type":401,"value":696},{"type":395,"tag":426,"props":1085,"children":1086},{"style":827},[1087],{"type":401,"value":1088}," _unseal",{"type":395,"tag":426,"props":1090,"children":1091},{"style":538},[1092],{"type":401,"value":707},{"type":395,"tag":426,"props":1094,"children":1095},{"style":739},[1096],{"type":401,"value":839},{"type":395,"tag":426,"props":1098,"children":1099},{"style":532},[1100],{"type":401,"value":852},{"type":395,"tag":426,"props":1102,"children":1103},{"style":445},[1104],{"type":401,"value":617},{"type":395,"tag":426,"props":1106,"children":1107},{"style":532},[1108],{"type":401,"value":1109},"_unseal",{"type":395,"tag":426,"props":1111,"children":1112},{"style":538},[1113],{"type":401,"value":962},{"type":395,"tag":426,"props":1115,"children":1117},{"class":428,"line":1116},11,[1118,1122,1126,1130],{"type":395,"tag":426,"props":1119,"children":1120},{"style":532},[1121],{"type":401,"value":970},{"type":395,"tag":426,"props":1123,"children":1124},{"style":445},[1125],{"type":401,"value":617},{"type":395,"tag":426,"props":1127,"children":1128},{"style":532},[1129],{"type":401,"value":1109},{"type":395,"tag":426,"props":1131,"children":1132},{"style":538},[1133],{"type":401,"value":983},{"type":395,"tag":426,"props":1135,"children":1137},{"class":428,"line":1136},12,[1138,1142,1146],{"type":395,"tag":426,"props":1139,"children":1140},{"style":433},[1141],{"type":401,"value":991},{"type":395,"tag":426,"props":1143,"children":1144},{"style":445},[1145],{"type":401,"value":448},{"type":395,"tag":426,"props":1147,"children":1148},{"style":445},[1149],{"type":401,"value":453},{"type":395,"tag":426,"props":1151,"children":1153},{"class":428,"line":1152},13,[1154,1159,1163,1167,1171],{"type":395,"tag":426,"props":1155,"children":1156},{"style":532},[1157],{"type":401,"value":1158},"      my",{"type":395,"tag":426,"props":1160,"children":1161},{"style":445},[1162],{"type":401,"value":617},{"type":395,"tag":426,"props":1164,"children":1165},{"style":532},[1166],{"type":401,"value":893},{"type":395,"tag":426,"props":1168,"children":1169},{"style":538},[1170],{"type":401,"value":707},{"type":395,"tag":426,"props":1172,"children":1173},{"style":532},[1174],{"type":401,"value":1175}," _private\n",{"type":395,"tag":426,"props":1177,"children":1179},{"class":428,"line":1178},14,[1180,1184,1188,1192,1196],{"type":395,"tag":426,"props":1181,"children":1182},{"style":532},[1183],{"type":401,"value":1158},{"type":395,"tag":426,"props":1185,"children":1186},{"style":445},[1187],{"type":401,"value":617},{"type":395,"tag":426,"props":1189,"children":1190},{"style":532},[1191],{"type":401,"value":957},{"type":395,"tag":426,"props":1193,"children":1194},{"style":538},[1195],{"type":401,"value":707},{"type":395,"tag":426,"props":1197,"children":1198},{"style":532},[1199],{"type":401,"value":1200}," _seal\n",{"type":395,"tag":426,"props":1202,"children":1204},{"class":428,"line":1203},15,[1205,1209,1213,1217,1221],{"type":395,"tag":426,"props":1206,"children":1207},{"style":532},[1208],{"type":401,"value":1158},{"type":395,"tag":426,"props":1210,"children":1211},{"style":445},[1212],{"type":401,"value":617},{"type":395,"tag":426,"props":1214,"children":1215},{"style":532},[1216],{"type":401,"value":1109},{"type":395,"tag":426,"props":1218,"children":1219},{"style":538},[1220],{"type":401,"value":707},{"type":395,"tag":426,"props":1222,"children":1223},{"style":532},[1224],{"type":401,"value":1225}," _unseal\n",{"type":395,"tag":426,"props":1227,"children":1229},{"class":428,"line":1228},16,[1230,1234],{"type":395,"tag":426,"props":1231,"children":1232},{"style":445},[1233],{"type":401,"value":1071},{"type":395,"tag":426,"props":1235,"children":1236},{"style":739},[1237],{"type":401,"value":762},{"type":395,"tag":426,"props":1239,"children":1241},{"class":428,"line":1240},17,[1242],{"type":395,"tag":426,"props":1243,"children":1244},{"emptyLinePlaceholder":388},[1245],{"type":401,"value":1246},"\n",{"type":395,"tag":426,"props":1248,"children":1250},{"class":428,"line":1249},18,[1251,1257],{"type":395,"tag":426,"props":1252,"children":1254},{"style":1253},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1255],{"type":401,"value":1256},"  return",{"type":395,"tag":426,"props":1258,"children":1259},{"style":532},[1260],{"type":401,"value":1261}," my\n",{"type":395,"tag":426,"props":1263,"children":1265},{"class":428,"line":1264},19,[1266,1270,1275,1280,1284,1288],{"type":395,"tag":426,"props":1267,"children":1268},{"style":445},[1269],{"type":401,"value":778},{"type":395,"tag":426,"props":1271,"children":1272},{"style":532},[1273],{"type":401,"value":1274},")(",{"type":395,"tag":426,"props":1276,"children":1277},{"style":827},[1278],{"type":401,"value":1279},"MODULE",{"type":395,"tag":426,"props":1281,"children":1282},{"style":538},[1283],{"type":401,"value":915},{"type":395,"tag":426,"props":1285,"children":1286},{"style":445},[1287],{"type":401,"value":920},{"type":395,"tag":426,"props":1289,"children":1290},{"style":532},[1291],{"type":401,"value":762},{"type":395,"tag":403,"props":1293,"children":1295},{"id":1294},"模块加载",[1296],{"type":401,"value":1294},{"type":395,"tag":409,"props":1298,"children":1299},{},[1300],{"type":401,"value":1301},"起初，我们这样组织代码：",{"type":395,"tag":415,"props":1303,"children":1305},{"className":417,"code":1304,"language":419,"meta":389,"style":389},"\u003Cscript type=\"text/javascript\" src=\"module1.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module2.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module3.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module4.js\">\u003C/script>\n",[1306],{"type":395,"tag":422,"props":1307,"children":1308},{"__ignoreMap":389},[1309,1383,1447,1511],{"type":395,"tag":426,"props":1310,"children":1311},{"class":428,"line":429},[1312,1317,1323,1329,1333,1338,1343,1347,1352,1356,1360,1365,1369,1374,1378],{"type":395,"tag":426,"props":1313,"children":1314},{"style":445},[1315],{"type":401,"value":1316},"\u003C",{"type":395,"tag":426,"props":1318,"children":1320},{"style":1319},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1321],{"type":401,"value":1322},"script",{"type":395,"tag":426,"props":1324,"children":1326},{"style":1325},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1327],{"type":401,"value":1328}," type",{"type":395,"tag":426,"props":1330,"children":1331},{"style":538},[1332],{"type":401,"value":541},{"type":395,"tag":426,"props":1334,"children":1335},{"style":744},[1336],{"type":401,"value":1337},"\"",{"type":395,"tag":426,"props":1339,"children":1340},{"style":750},[1341],{"type":401,"value":1342},"text/javascript",{"type":395,"tag":426,"props":1344,"children":1345},{"style":744},[1346],{"type":401,"value":1337},{"type":395,"tag":426,"props":1348,"children":1349},{"style":1325},[1350],{"type":401,"value":1351}," src",{"type":395,"tag":426,"props":1353,"children":1354},{"style":538},[1355],{"type":401,"value":541},{"type":395,"tag":426,"props":1357,"children":1358},{"style":744},[1359],{"type":401,"value":1337},{"type":395,"tag":426,"props":1361,"children":1362},{"style":750},[1363],{"type":401,"value":1364},"module1.js",{"type":395,"tag":426,"props":1366,"children":1367},{"style":744},[1368],{"type":401,"value":1337},{"type":395,"tag":426,"props":1370,"children":1371},{"style":445},[1372],{"type":401,"value":1373},">\u003C/",{"type":395,"tag":426,"props":1375,"children":1376},{"style":1319},[1377],{"type":401,"value":1322},{"type":395,"tag":426,"props":1379,"children":1380},{"style":445},[1381],{"type":401,"value":1382},">\n",{"type":395,"tag":426,"props":1384,"children":1385},{"class":428,"line":456},[1386,1390,1394,1398,1402,1406,1410,1414,1418,1422,1426,1431,1435,1439,1443],{"type":395,"tag":426,"props":1387,"children":1388},{"style":445},[1389],{"type":401,"value":1316},{"type":395,"tag":426,"props":1391,"children":1392},{"style":1319},[1393],{"type":401,"value":1322},{"type":395,"tag":426,"props":1395,"children":1396},{"style":1325},[1397],{"type":401,"value":1328},{"type":395,"tag":426,"props":1399,"children":1400},{"style":538},[1401],{"type":401,"value":541},{"type":395,"tag":426,"props":1403,"children":1404},{"style":744},[1405],{"type":401,"value":1337},{"type":395,"tag":426,"props":1407,"children":1408},{"style":750},[1409],{"type":401,"value":1342},{"type":395,"tag":426,"props":1411,"children":1412},{"style":744},[1413],{"type":401,"value":1337},{"type":395,"tag":426,"props":1415,"children":1416},{"style":1325},[1417],{"type":401,"value":1351},{"type":395,"tag":426,"props":1419,"children":1420},{"style":538},[1421],{"type":401,"value":541},{"type":395,"tag":426,"props":1423,"children":1424},{"style":744},[1425],{"type":401,"value":1337},{"type":395,"tag":426,"props":1427,"children":1428},{"style":750},[1429],{"type":401,"value":1430},"module2.js",{"type":395,"tag":426,"props":1432,"children":1433},{"style":744},[1434],{"type":401,"value":1337},{"type":395,"tag":426,"props":1436,"children":1437},{"style":445},[1438],{"type":401,"value":1373},{"type":395,"tag":426,"props":1440,"children":1441},{"style":1319},[1442],{"type":401,"value":1322},{"type":395,"tag":426,"props":1444,"children":1445},{"style":445},[1446],{"type":401,"value":1382},{"type":395,"tag":426,"props":1448,"children":1449},{"class":428,"line":466},[1450,1454,1458,1462,1466,1470,1474,1478,1482,1486,1490,1495,1499,1503,1507],{"type":395,"tag":426,"props":1451,"children":1452},{"style":445},[1453],{"type":401,"value":1316},{"type":395,"tag":426,"props":1455,"children":1456},{"style":1319},[1457],{"type":401,"value":1322},{"type":395,"tag":426,"props":1459,"children":1460},{"style":1325},[1461],{"type":401,"value":1328},{"type":395,"tag":426,"props":1463,"children":1464},{"style":538},[1465],{"type":401,"value":541},{"type":395,"tag":426,"props":1467,"children":1468},{"style":744},[1469],{"type":401,"value":1337},{"type":395,"tag":426,"props":1471,"children":1472},{"style":750},[1473],{"type":401,"value":1342},{"type":395,"tag":426,"props":1475,"children":1476},{"style":744},[1477],{"type":401,"value":1337},{"type":395,"tag":426,"props":1479,"children":1480},{"style":1325},[1481],{"type":401,"value":1351},{"type":395,"tag":426,"props":1483,"children":1484},{"style":538},[1485],{"type":401,"value":541},{"type":395,"tag":426,"props":1487,"children":1488},{"style":744},[1489],{"type":401,"value":1337},{"type":395,"tag":426,"props":1491,"children":1492},{"style":750},[1493],{"type":401,"value":1494},"module3.js",{"type":395,"tag":426,"props":1496,"children":1497},{"style":744},[1498],{"type":401,"value":1337},{"type":395,"tag":426,"props":1500,"children":1501},{"style":445},[1502],{"type":401,"value":1373},{"type":395,"tag":426,"props":1504,"children":1505},{"style":1319},[1506],{"type":401,"value":1322},{"type":395,"tag":426,"props":1508,"children":1509},{"style":445},[1510],{"type":401,"value":1382},{"type":395,"tag":426,"props":1512,"children":1513},{"class":428,"line":475},[1514,1518,1522,1526,1530,1534,1538,1542,1546,1550,1554,1559,1563,1567,1571],{"type":395,"tag":426,"props":1515,"children":1516},{"style":445},[1517],{"type":401,"value":1316},{"type":395,"tag":426,"props":1519,"children":1520},{"style":1319},[1521],{"type":401,"value":1322},{"type":395,"tag":426,"props":1523,"children":1524},{"style":1325},[1525],{"type":401,"value":1328},{"type":395,"tag":426,"props":1527,"children":1528},{"style":538},[1529],{"type":401,"value":541},{"type":395,"tag":426,"props":1531,"children":1532},{"style":744},[1533],{"type":401,"value":1337},{"type":395,"tag":426,"props":1535,"children":1536},{"style":750},[1537],{"type":401,"value":1342},{"type":395,"tag":426,"props":1539,"children":1540},{"style":744},[1541],{"type":401,"value":1337},{"type":395,"tag":426,"props":1543,"children":1544},{"style":1325},[1545],{"type":401,"value":1351},{"type":395,"tag":426,"props":1547,"children":1548},{"style":538},[1549],{"type":401,"value":541},{"type":395,"tag":426,"props":1551,"children":1552},{"style":744},[1553],{"type":401,"value":1337},{"type":395,"tag":426,"props":1555,"children":1556},{"style":750},[1557],{"type":401,"value":1558},"module4.js",{"type":395,"tag":426,"props":1560,"children":1561},{"style":744},[1562],{"type":401,"value":1337},{"type":395,"tag":426,"props":1564,"children":1565},{"style":445},[1566],{"type":401,"value":1373},{"type":395,"tag":426,"props":1568,"children":1569},{"style":1319},[1570],{"type":401,"value":1322},{"type":395,"tag":426,"props":1572,"children":1573},{"style":445},[1574],{"type":401,"value":1382},{"type":395,"tag":409,"props":1576,"children":1577},{},[1578],{"type":401,"value":1579},"YUI3、KISSY 主要是通过配置的方式来解决文件依赖的问题。",{"type":395,"tag":415,"props":1581,"children":1583},{"className":417,"code":1582,"language":419,"meta":389,"style":389},"YUI.add(\n  'module1',\n  function(Y) {\n    // ...\n  },\n  '0.0.1',\n  {\n    requires: ['node', 'event']\n  }\n)\n",[1584],{"type":395,"tag":422,"props":1585,"children":1586},{"__ignoreMap":389},[1587,1609,1631,1656,1664,1672,1692,1700,1754,1761],{"type":395,"tag":426,"props":1588,"children":1589},{"class":428,"line":429},[1590,1595,1599,1604],{"type":395,"tag":426,"props":1591,"children":1592},{"style":827},[1593],{"type":401,"value":1594},"YUI",{"type":395,"tag":426,"props":1596,"children":1597},{"style":445},[1598],{"type":401,"value":617},{"type":395,"tag":426,"props":1600,"children":1601},{"style":439},[1602],{"type":401,"value":1603},"add",{"type":395,"tag":426,"props":1605,"children":1606},{"style":532},[1607],{"type":401,"value":1608},"(\n",{"type":395,"tag":426,"props":1610,"children":1611},{"class":428,"line":456},[1612,1617,1622,1626],{"type":395,"tag":426,"props":1613,"children":1614},{"style":744},[1615],{"type":401,"value":1616},"  '",{"type":395,"tag":426,"props":1618,"children":1619},{"style":750},[1620],{"type":401,"value":1621},"module1",{"type":395,"tag":426,"props":1623,"children":1624},{"style":744},[1625],{"type":401,"value":747},{"type":395,"tag":426,"props":1627,"children":1628},{"style":445},[1629],{"type":401,"value":1630},",\n",{"type":395,"tag":426,"props":1632,"children":1633},{"class":428,"line":466},[1634,1639,1643,1648,1652],{"type":395,"tag":426,"props":1635,"children":1636},{"style":433},[1637],{"type":401,"value":1638},"  function",{"type":395,"tag":426,"props":1640,"children":1641},{"style":445},[1642],{"type":401,"value":665},{"type":395,"tag":426,"props":1644,"children":1645},{"style":676},[1646],{"type":401,"value":1647},"Y",{"type":395,"tag":426,"props":1649,"children":1650},{"style":445},[1651],{"type":401,"value":684},{"type":395,"tag":426,"props":1653,"children":1654},{"style":445},[1655],{"type":401,"value":453},{"type":395,"tag":426,"props":1657,"children":1658},{"class":428,"line":475},[1659],{"type":395,"tag":426,"props":1660,"children":1661},{"style":460},[1662],{"type":401,"value":1663},"    // ...\n",{"type":395,"tag":426,"props":1665,"children":1666},{"class":428,"line":496},[1667],{"type":395,"tag":426,"props":1668,"children":1669},{"style":445},[1670],{"type":401,"value":1671},"  },\n",{"type":395,"tag":426,"props":1673,"children":1674},{"class":428,"line":504},[1675,1679,1684,1688],{"type":395,"tag":426,"props":1676,"children":1677},{"style":744},[1678],{"type":401,"value":1616},{"type":395,"tag":426,"props":1680,"children":1681},{"style":750},[1682],{"type":401,"value":1683},"0.0.1",{"type":395,"tag":426,"props":1685,"children":1686},{"style":744},[1687],{"type":401,"value":747},{"type":395,"tag":426,"props":1689,"children":1690},{"style":445},[1691],{"type":401,"value":1630},{"type":395,"tag":426,"props":1693,"children":1694},{"class":428,"line":1023},[1695],{"type":395,"tag":426,"props":1696,"children":1697},{"style":445},[1698],{"type":401,"value":1699},"  {\n",{"type":395,"tag":426,"props":1701,"children":1702},{"class":428,"line":1044},[1703,1708,1712,1717,1721,1726,1730,1735,1740,1745,1749],{"type":395,"tag":426,"props":1704,"children":1705},{"style":739},[1706],{"type":401,"value":1707},"    requires",{"type":395,"tag":426,"props":1709,"children":1710},{"style":445},[1711],{"type":401,"value":558},{"type":395,"tag":426,"props":1713,"children":1714},{"style":532},[1715],{"type":401,"value":1716}," [",{"type":395,"tag":426,"props":1718,"children":1719},{"style":744},[1720],{"type":401,"value":747},{"type":395,"tag":426,"props":1722,"children":1723},{"style":750},[1724],{"type":401,"value":1725},"node",{"type":395,"tag":426,"props":1727,"children":1728},{"style":744},[1729],{"type":401,"value":747},{"type":395,"tag":426,"props":1731,"children":1732},{"style":445},[1733],{"type":401,"value":1734},",",{"type":395,"tag":426,"props":1736,"children":1737},{"style":744},[1738],{"type":401,"value":1739}," '",{"type":395,"tag":426,"props":1741,"children":1742},{"style":750},[1743],{"type":401,"value":1744},"event",{"type":395,"tag":426,"props":1746,"children":1747},{"style":744},[1748],{"type":401,"value":747},{"type":395,"tag":426,"props":1750,"children":1751},{"style":532},[1752],{"type":401,"value":1753},"]\n",{"type":395,"tag":426,"props":1755,"children":1756},{"class":428,"line":1065},[1757],{"type":395,"tag":426,"props":1758,"children":1759},{"style":445},[1760],{"type":401,"value":770},{"type":395,"tag":426,"props":1762,"children":1763},{"class":428,"line":1078},[1764],{"type":395,"tag":426,"props":1765,"children":1766},{"style":532},[1767],{"type":401,"value":762},{"type":395,"tag":409,"props":1769,"children":1770},{},[1771],{"type":401,"value":1772},"但是也带来了命名空间冲突的问题。",{"type":395,"tag":415,"props":1774,"children":1776},{"className":417,"code":1775,"language":419,"meta":389,"style":389},"YUI().use('a', 'b', function(Y) {\n  Y.foo()\n  // foo 方法究竟是模块 a 还是 b 提供的？\n  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n})\n",[1777],{"type":395,"tag":422,"props":1778,"children":1779},{"__ignoreMap":389},[1780,1857,1877,1885,1893],{"type":395,"tag":426,"props":1781,"children":1782},{"class":428,"line":429},[1783,1787,1791,1795,1800,1804,1808,1812,1816,1820,1824,1829,1833,1837,1841,1845,1849,1853],{"type":395,"tag":426,"props":1784,"children":1785},{"style":439},[1786],{"type":401,"value":1594},{"type":395,"tag":426,"props":1788,"children":1789},{"style":532},[1790],{"type":401,"value":448},{"type":395,"tag":426,"props":1792,"children":1793},{"style":445},[1794],{"type":401,"value":617},{"type":395,"tag":426,"props":1796,"children":1797},{"style":439},[1798],{"type":401,"value":1799},"use",{"type":395,"tag":426,"props":1801,"children":1802},{"style":532},[1803],{"type":401,"value":665},{"type":395,"tag":426,"props":1805,"children":1806},{"style":744},[1807],{"type":401,"value":747},{"type":395,"tag":426,"props":1809,"children":1810},{"style":750},[1811],{"type":401,"value":801},{"type":395,"tag":426,"props":1813,"children":1814},{"style":744},[1815],{"type":401,"value":747},{"type":395,"tag":426,"props":1817,"children":1818},{"style":445},[1819],{"type":401,"value":1734},{"type":395,"tag":426,"props":1821,"children":1822},{"style":744},[1823],{"type":401,"value":1739},{"type":395,"tag":426,"props":1825,"children":1826},{"style":750},[1827],{"type":401,"value":1828},"b",{"type":395,"tag":426,"props":1830,"children":1831},{"style":744},[1832],{"type":401,"value":747},{"type":395,"tag":426,"props":1834,"children":1835},{"style":445},[1836],{"type":401,"value":1734},{"type":395,"tag":426,"props":1838,"children":1839},{"style":433},[1840],{"type":401,"value":563},{"type":395,"tag":426,"props":1842,"children":1843},{"style":445},[1844],{"type":401,"value":665},{"type":395,"tag":426,"props":1846,"children":1847},{"style":676},[1848],{"type":401,"value":1647},{"type":395,"tag":426,"props":1850,"children":1851},{"style":445},[1852],{"type":401,"value":684},{"type":395,"tag":426,"props":1854,"children":1855},{"style":445},[1856],{"type":401,"value":453},{"type":395,"tag":426,"props":1858,"children":1859},{"class":428,"line":456},[1860,1865,1869,1873],{"type":395,"tag":426,"props":1861,"children":1862},{"style":827},[1863],{"type":401,"value":1864},"  Y",{"type":395,"tag":426,"props":1866,"children":1867},{"style":445},[1868],{"type":401,"value":617},{"type":395,"tag":426,"props":1870,"children":1871},{"style":439},[1872],{"type":401,"value":622},{"type":395,"tag":426,"props":1874,"children":1875},{"style":739},[1876],{"type":401,"value":627},{"type":395,"tag":426,"props":1878,"children":1879},{"class":428,"line":466},[1880],{"type":395,"tag":426,"props":1881,"children":1882},{"style":460},[1883],{"type":401,"value":1884},"  // foo 方法究竟是模块 a 还是 b 提供的？\n",{"type":395,"tag":426,"props":1886,"children":1887},{"class":428,"line":475},[1888],{"type":395,"tag":426,"props":1889,"children":1890},{"style":460},[1891],{"type":401,"value":1892},"  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n",{"type":395,"tag":426,"props":1894,"children":1895},{"class":428,"line":496},[1896,1900],{"type":395,"tag":426,"props":1897,"children":1898},{"style":445},[1899],{"type":401,"value":778},{"type":395,"tag":426,"props":1901,"children":1902},{"style":532},[1903],{"type":401,"value":762},{"type":395,"tag":409,"props":1905,"children":1906},{},[1907],{"type":401,"value":1908},"为什么我们需要模块化？",{"type":395,"tag":409,"props":1910,"children":1911},{},[1912],{"type":401,"value":1913},"当下来看，页面内应用正在变得复杂，我们需要使用模块解耦各个 JS 文件，使开发过程变得可维护，在部署过程中优化以提高页面加载性能。",{"type":395,"tag":1915,"props":1916,"children":1917},"ul",{},[1918,1924,1929],{"type":395,"tag":1919,"props":1920,"children":1921},"li",{},[1922],{"type":401,"value":1923},"如何安全的把模块的 API 暴漏出去？",{"type":395,"tag":1919,"props":1925,"children":1926},{},[1927],{"type":401,"value":1928},"如何唯一标识一个模块？",{"type":395,"tag":1919,"props":1930,"children":1931},{},[1932],{"type":401,"value":1933},"如何方便的使用所依赖的模块？",{"type":395,"tag":403,"props":1935,"children":1937},{"id":1936},"模块化规范演变",[1938],{"type":401,"value":1936},{"type":395,"tag":409,"props":1940,"children":1941},{},[1942],{"type":401,"value":1943},"目前有三种主流的模块加载方式，",{"type":395,"tag":1915,"props":1945,"children":1946},{},[1947,1952,1957],{"type":395,"tag":1919,"props":1948,"children":1949},{},[1950],{"type":401,"value":1951},"CommonJS",{"type":395,"tag":1919,"props":1953,"children":1954},{},[1955],{"type":401,"value":1956},"AMD（Asynchronous Module Definition）/ CMD / UMD",{"type":395,"tag":1919,"props":1958,"children":1959},{},[1960],{"type":401,"value":1961},"ES Module",{"type":395,"tag":409,"props":1963,"children":1964},{},[1965],{"type":401,"value":1966},"CommonJS 原名为 ServerJS，推出 Modules/1.0 规范后，在 Node.js 环境下取得了很不错的实践。",{"type":395,"tag":415,"props":1968,"children":1970},{"className":417,"code":1969,"language":419,"meta":389,"style":389},"// Define in math.js\nexports.sum = function(...numbers) {\n  return numbers.reduce((result, num) => result + num, 0)\n}\n\n// Use in other file\nvar math = require('math')\nmath.sum(1, 3)\n",[1971],{"type":395,"tag":422,"props":1972,"children":1973},{"__ignoreMap":389},[1974,1982,2030,2110,2117,2124,2132,2174],{"type":395,"tag":426,"props":1975,"children":1976},{"class":428,"line":429},[1977],{"type":395,"tag":426,"props":1978,"children":1979},{"style":460},[1980],{"type":401,"value":1981},"// Define in math.js\n",{"type":395,"tag":426,"props":1983,"children":1984},{"class":428,"line":456},[1985,1991,1995,2000,2004,2008,2012,2017,2022,2026],{"type":395,"tag":426,"props":1986,"children":1988},{"style":1987},"--shiki-light:#39ADB5;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1989],{"type":401,"value":1990},"exports",{"type":395,"tag":426,"props":1992,"children":1993},{"style":445},[1994],{"type":401,"value":617},{"type":395,"tag":426,"props":1996,"children":1997},{"style":439},[1998],{"type":401,"value":1999},"sum",{"type":395,"tag":426,"props":2001,"children":2002},{"style":538},[2003],{"type":401,"value":707},{"type":395,"tag":426,"props":2005,"children":2006},{"style":433},[2007],{"type":401,"value":563},{"type":395,"tag":426,"props":2009,"children":2010},{"style":445},[2011],{"type":401,"value":665},{"type":395,"tag":426,"props":2013,"children":2014},{"style":538},[2015],{"type":401,"value":2016},"...",{"type":395,"tag":426,"props":2018,"children":2019},{"style":676},[2020],{"type":401,"value":2021},"numbers",{"type":395,"tag":426,"props":2023,"children":2024},{"style":445},[2025],{"type":401,"value":684},{"type":395,"tag":426,"props":2027,"children":2028},{"style":445},[2029],{"type":401,"value":453},{"type":395,"tag":426,"props":2031,"children":2032},{"class":428,"line":466},[2033,2037,2042,2046,2051,2055,2059,2064,2068,2073,2077,2082,2087,2092,2096,2100,2106],{"type":395,"tag":426,"props":2034,"children":2035},{"style":1253},[2036],{"type":401,"value":1256},{"type":395,"tag":426,"props":2038,"children":2039},{"style":532},[2040],{"type":401,"value":2041}," numbers",{"type":395,"tag":426,"props":2043,"children":2044},{"style":445},[2045],{"type":401,"value":617},{"type":395,"tag":426,"props":2047,"children":2048},{"style":439},[2049],{"type":401,"value":2050},"reduce",{"type":395,"tag":426,"props":2052,"children":2053},{"style":739},[2054],{"type":401,"value":665},{"type":395,"tag":426,"props":2056,"children":2057},{"style":445},[2058],{"type":401,"value":665},{"type":395,"tag":426,"props":2060,"children":2061},{"style":676},[2062],{"type":401,"value":2063},"result",{"type":395,"tag":426,"props":2065,"children":2066},{"style":445},[2067],{"type":401,"value":1734},{"type":395,"tag":426,"props":2069,"children":2070},{"style":676},[2071],{"type":401,"value":2072}," num",{"type":395,"tag":426,"props":2074,"children":2075},{"style":445},[2076],{"type":401,"value":684},{"type":395,"tag":426,"props":2078,"children":2079},{"style":433},[2080],{"type":401,"value":2081}," =>",{"type":395,"tag":426,"props":2083,"children":2084},{"style":532},[2085],{"type":401,"value":2086}," result",{"type":395,"tag":426,"props":2088,"children":2089},{"style":538},[2090],{"type":401,"value":2091}," +",{"type":395,"tag":426,"props":2093,"children":2094},{"style":532},[2095],{"type":401,"value":2072},{"type":395,"tag":426,"props":2097,"children":2098},{"style":445},[2099],{"type":401,"value":1734},{"type":395,"tag":426,"props":2101,"children":2103},{"style":2102},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2104],{"type":401,"value":2105}," 0",{"type":395,"tag":426,"props":2107,"children":2108},{"style":739},[2109],{"type":401,"value":762},{"type":395,"tag":426,"props":2111,"children":2112},{"class":428,"line":475},[2113],{"type":395,"tag":426,"props":2114,"children":2115},{"style":445},[2116],{"type":401,"value":472},{"type":395,"tag":426,"props":2118,"children":2119},{"class":428,"line":496},[2120],{"type":395,"tag":426,"props":2121,"children":2122},{"emptyLinePlaceholder":388},[2123],{"type":401,"value":1246},{"type":395,"tag":426,"props":2125,"children":2126},{"class":428,"line":504},[2127],{"type":395,"tag":426,"props":2128,"children":2129},{"style":460},[2130],{"type":401,"value":2131},"// Use in other file\n",{"type":395,"tag":426,"props":2133,"children":2134},{"class":428,"line":1023},[2135,2139,2144,2148,2153,2157,2161,2166,2170],{"type":395,"tag":426,"props":2136,"children":2137},{"style":433},[2138],{"type":401,"value":529},{"type":395,"tag":426,"props":2140,"children":2141},{"style":532},[2142],{"type":401,"value":2143}," math ",{"type":395,"tag":426,"props":2145,"children":2146},{"style":538},[2147],{"type":401,"value":541},{"type":395,"tag":426,"props":2149,"children":2150},{"style":439},[2151],{"type":401,"value":2152}," require",{"type":395,"tag":426,"props":2154,"children":2155},{"style":532},[2156],{"type":401,"value":665},{"type":395,"tag":426,"props":2158,"children":2159},{"style":744},[2160],{"type":401,"value":747},{"type":395,"tag":426,"props":2162,"children":2163},{"style":750},[2164],{"type":401,"value":2165},"math",{"type":395,"tag":426,"props":2167,"children":2168},{"style":744},[2169],{"type":401,"value":747},{"type":395,"tag":426,"props":2171,"children":2172},{"style":532},[2173],{"type":401,"value":762},{"type":395,"tag":426,"props":2175,"children":2176},{"class":428,"line":1044},[2177,2181,2185,2189,2193,2198,2202,2207],{"type":395,"tag":426,"props":2178,"children":2179},{"style":532},[2180],{"type":401,"value":2165},{"type":395,"tag":426,"props":2182,"children":2183},{"style":445},[2184],{"type":401,"value":617},{"type":395,"tag":426,"props":2186,"children":2187},{"style":439},[2188],{"type":401,"value":1999},{"type":395,"tag":426,"props":2190,"children":2191},{"style":532},[2192],{"type":401,"value":665},{"type":395,"tag":426,"props":2194,"children":2195},{"style":2102},[2196],{"type":401,"value":2197},"1",{"type":395,"tag":426,"props":2199,"children":2200},{"style":445},[2201],{"type":401,"value":1734},{"type":395,"tag":426,"props":2203,"children":2204},{"style":2102},[2205],{"type":401,"value":2206}," 3",{"type":395,"tag":426,"props":2208,"children":2209},{"style":532},[2210],{"type":401,"value":762},{"type":395,"tag":409,"props":2212,"children":2213},{},[2214],{"type":401,"value":2215},"ServerJS 想进一步推广到浏览器端，于是将社区改名叫 CommonJS。激烈争论 Modules 的下一版规范时，分歧和冲突由此诞生。",{"type":395,"tag":409,"props":2217,"children":2218},{},[2219],{"type":401,"value":2220},"James Burke 推荐直接改良 CommonJS 的模块格式以适应浏览器端开发，但是 CommonJS 的发起者并不同意，这也就催生了 RequireJS。James Burke 制定了 AMD 规范，并在 2010 年实现了遵循 AMD 规范的模块加载器 RequireJS。",{"type":395,"tag":415,"props":2222,"children":2224},{"className":417,"code":2223,"language":419,"meta":389,"style":389},"require(['module/module1.js', 'module/module2.js'], function(module1, module2) {\n  module1.printModule1FileName()\n  module2.printModule2FileName()\n})\n",[2225],{"type":395,"tag":422,"props":2226,"children":2227},{"__ignoreMap":389},[2228,2309,2330,2351],{"type":395,"tag":426,"props":2229,"children":2230},{"class":428,"line":429},[2231,2236,2241,2245,2250,2254,2258,2262,2267,2271,2276,2280,2284,2288,2292,2296,2301,2305],{"type":395,"tag":426,"props":2232,"children":2233},{"style":439},[2234],{"type":401,"value":2235},"require",{"type":395,"tag":426,"props":2237,"children":2238},{"style":532},[2239],{"type":401,"value":2240},"([",{"type":395,"tag":426,"props":2242,"children":2243},{"style":744},[2244],{"type":401,"value":747},{"type":395,"tag":426,"props":2246,"children":2247},{"style":750},[2248],{"type":401,"value":2249},"module/module1.js",{"type":395,"tag":426,"props":2251,"children":2252},{"style":744},[2253],{"type":401,"value":747},{"type":395,"tag":426,"props":2255,"children":2256},{"style":445},[2257],{"type":401,"value":1734},{"type":395,"tag":426,"props":2259,"children":2260},{"style":744},[2261],{"type":401,"value":1739},{"type":395,"tag":426,"props":2263,"children":2264},{"style":750},[2265],{"type":401,"value":2266},"module/module2.js",{"type":395,"tag":426,"props":2268,"children":2269},{"style":744},[2270],{"type":401,"value":747},{"type":395,"tag":426,"props":2272,"children":2273},{"style":532},[2274],{"type":401,"value":2275},"]",{"type":395,"tag":426,"props":2277,"children":2278},{"style":445},[2279],{"type":401,"value":1734},{"type":395,"tag":426,"props":2281,"children":2282},{"style":433},[2283],{"type":401,"value":563},{"type":395,"tag":426,"props":2285,"children":2286},{"style":445},[2287],{"type":401,"value":665},{"type":395,"tag":426,"props":2289,"children":2290},{"style":676},[2291],{"type":401,"value":1621},{"type":395,"tag":426,"props":2293,"children":2294},{"style":445},[2295],{"type":401,"value":1734},{"type":395,"tag":426,"props":2297,"children":2298},{"style":676},[2299],{"type":401,"value":2300}," module2",{"type":395,"tag":426,"props":2302,"children":2303},{"style":445},[2304],{"type":401,"value":684},{"type":395,"tag":426,"props":2306,"children":2307},{"style":445},[2308],{"type":401,"value":453},{"type":395,"tag":426,"props":2310,"children":2311},{"class":428,"line":456},[2312,2317,2321,2326],{"type":395,"tag":426,"props":2313,"children":2314},{"style":532},[2315],{"type":401,"value":2316},"  module1",{"type":395,"tag":426,"props":2318,"children":2319},{"style":445},[2320],{"type":401,"value":617},{"type":395,"tag":426,"props":2322,"children":2323},{"style":439},[2324],{"type":401,"value":2325},"printModule1FileName",{"type":395,"tag":426,"props":2327,"children":2328},{"style":739},[2329],{"type":401,"value":627},{"type":395,"tag":426,"props":2331,"children":2332},{"class":428,"line":466},[2333,2338,2342,2347],{"type":395,"tag":426,"props":2334,"children":2335},{"style":532},[2336],{"type":401,"value":2337},"  module2",{"type":395,"tag":426,"props":2339,"children":2340},{"style":445},[2341],{"type":401,"value":617},{"type":395,"tag":426,"props":2343,"children":2344},{"style":439},[2345],{"type":401,"value":2346},"printModule2FileName",{"type":395,"tag":426,"props":2348,"children":2349},{"style":739},[2350],{"type":401,"value":627},{"type":395,"tag":426,"props":2352,"children":2353},{"class":428,"line":475},[2354,2358],{"type":395,"tag":426,"props":2355,"children":2356},{"style":445},[2357],{"type":401,"value":778},{"type":395,"tag":426,"props":2359,"children":2360},{"style":532},[2361],{"type":401,"value":762},{"type":395,"tag":409,"props":2363,"children":2364},{},[2365],{"type":401,"value":2366},"玉伯认为 RequireJS 不够完善，并从头开始实现模块加载程序 SeaJS。CMD 是 SeaJS 在推广过程中对模块定义的规范化产出。",{"type":395,"tag":415,"props":2368,"children":2370},{"className":417,"code":2369,"language":419,"meta":389,"style":389},"define(function(require, exports, module) {\n  // AMD推崇依赖前置，而CMD推崇依赖就近\n  const a = require('./a')\n  a.test()\n\n  // 软依赖\n  if (status) {\n    const b = require('./b')\n    b.test()\n  }\n})\n",[2371],{"type":395,"tag":422,"props":2372,"children":2373},{"__ignoreMap":389},[2374,2424,2432,2473,2494,2501,2509,2536,2578,2598,2605],{"type":395,"tag":426,"props":2375,"children":2376},{"class":428,"line":429},[2377,2382,2386,2390,2394,2398,2402,2407,2411,2416,2420],{"type":395,"tag":426,"props":2378,"children":2379},{"style":439},[2380],{"type":401,"value":2381},"define",{"type":395,"tag":426,"props":2383,"children":2384},{"style":532},[2385],{"type":401,"value":665},{"type":395,"tag":426,"props":2387,"children":2388},{"style":433},[2389],{"type":401,"value":436},{"type":395,"tag":426,"props":2391,"children":2392},{"style":445},[2393],{"type":401,"value":665},{"type":395,"tag":426,"props":2395,"children":2396},{"style":676},[2397],{"type":401,"value":2235},{"type":395,"tag":426,"props":2399,"children":2400},{"style":445},[2401],{"type":401,"value":1734},{"type":395,"tag":426,"props":2403,"children":2404},{"style":676},[2405],{"type":401,"value":2406}," exports",{"type":395,"tag":426,"props":2408,"children":2409},{"style":445},[2410],{"type":401,"value":1734},{"type":395,"tag":426,"props":2412,"children":2413},{"style":676},[2414],{"type":401,"value":2415}," module",{"type":395,"tag":426,"props":2417,"children":2418},{"style":445},[2419],{"type":401,"value":684},{"type":395,"tag":426,"props":2421,"children":2422},{"style":445},[2423],{"type":401,"value":453},{"type":395,"tag":426,"props":2425,"children":2426},{"class":428,"line":456},[2427],{"type":395,"tag":426,"props":2428,"children":2429},{"style":460},[2430],{"type":401,"value":2431},"  // AMD推崇依赖前置，而CMD推崇依赖就近\n",{"type":395,"tag":426,"props":2433,"children":2434},{"class":428,"line":466},[2435,2439,2444,2448,2452,2456,2460,2465,2469],{"type":395,"tag":426,"props":2436,"children":2437},{"style":433},[2438],{"type":401,"value":696},{"type":395,"tag":426,"props":2440,"children":2441},{"style":827},[2442],{"type":401,"value":2443}," a",{"type":395,"tag":426,"props":2445,"children":2446},{"style":538},[2447],{"type":401,"value":707},{"type":395,"tag":426,"props":2449,"children":2450},{"style":439},[2451],{"type":401,"value":2152},{"type":395,"tag":426,"props":2453,"children":2454},{"style":739},[2455],{"type":401,"value":665},{"type":395,"tag":426,"props":2457,"children":2458},{"style":744},[2459],{"type":401,"value":747},{"type":395,"tag":426,"props":2461,"children":2462},{"style":750},[2463],{"type":401,"value":2464},"./a",{"type":395,"tag":426,"props":2466,"children":2467},{"style":744},[2468],{"type":401,"value":747},{"type":395,"tag":426,"props":2470,"children":2471},{"style":739},[2472],{"type":401,"value":762},{"type":395,"tag":426,"props":2474,"children":2475},{"class":428,"line":475},[2476,2481,2485,2490],{"type":395,"tag":426,"props":2477,"children":2478},{"style":532},[2479],{"type":401,"value":2480},"  a",{"type":395,"tag":426,"props":2482,"children":2483},{"style":445},[2484],{"type":401,"value":617},{"type":395,"tag":426,"props":2486,"children":2487},{"style":439},[2488],{"type":401,"value":2489},"test",{"type":395,"tag":426,"props":2491,"children":2492},{"style":739},[2493],{"type":401,"value":627},{"type":395,"tag":426,"props":2495,"children":2496},{"class":428,"line":496},[2497],{"type":395,"tag":426,"props":2498,"children":2499},{"emptyLinePlaceholder":388},[2500],{"type":401,"value":1246},{"type":395,"tag":426,"props":2502,"children":2503},{"class":428,"line":504},[2504],{"type":395,"tag":426,"props":2505,"children":2506},{"style":460},[2507],{"type":401,"value":2508},"  // 软依赖\n",{"type":395,"tag":426,"props":2510,"children":2511},{"class":428,"line":1023},[2512,2517,2521,2526,2531],{"type":395,"tag":426,"props":2513,"children":2514},{"style":1253},[2515],{"type":401,"value":2516},"  if",{"type":395,"tag":426,"props":2518,"children":2519},{"style":739},[2520],{"type":401,"value":839},{"type":395,"tag":426,"props":2522,"children":2523},{"style":532},[2524],{"type":401,"value":2525},"status",{"type":395,"tag":426,"props":2527,"children":2528},{"style":739},[2529],{"type":401,"value":2530},") ",{"type":395,"tag":426,"props":2532,"children":2533},{"style":445},[2534],{"type":401,"value":2535},"{\n",{"type":395,"tag":426,"props":2537,"children":2538},{"class":428,"line":1044},[2539,2544,2549,2553,2557,2561,2565,2570,2574],{"type":395,"tag":426,"props":2540,"children":2541},{"style":433},[2542],{"type":401,"value":2543},"    const",{"type":395,"tag":426,"props":2545,"children":2546},{"style":827},[2547],{"type":401,"value":2548}," b",{"type":395,"tag":426,"props":2550,"children":2551},{"style":538},[2552],{"type":401,"value":707},{"type":395,"tag":426,"props":2554,"children":2555},{"style":439},[2556],{"type":401,"value":2152},{"type":395,"tag":426,"props":2558,"children":2559},{"style":739},[2560],{"type":401,"value":665},{"type":395,"tag":426,"props":2562,"children":2563},{"style":744},[2564],{"type":401,"value":747},{"type":395,"tag":426,"props":2566,"children":2567},{"style":750},[2568],{"type":401,"value":2569},"./b",{"type":395,"tag":426,"props":2571,"children":2572},{"style":744},[2573],{"type":401,"value":747},{"type":395,"tag":426,"props":2575,"children":2576},{"style":739},[2577],{"type":401,"value":762},{"type":395,"tag":426,"props":2579,"children":2580},{"class":428,"line":1065},[2581,2586,2590,2594],{"type":395,"tag":426,"props":2582,"children":2583},{"style":532},[2584],{"type":401,"value":2585},"    b",{"type":395,"tag":426,"props":2587,"children":2588},{"style":445},[2589],{"type":401,"value":617},{"type":395,"tag":426,"props":2591,"children":2592},{"style":439},[2593],{"type":401,"value":2489},{"type":395,"tag":426,"props":2595,"children":2596},{"style":739},[2597],{"type":401,"value":627},{"type":395,"tag":426,"props":2599,"children":2600},{"class":428,"line":1078},[2601],{"type":395,"tag":426,"props":2602,"children":2603},{"style":445},[2604],{"type":401,"value":770},{"type":395,"tag":426,"props":2606,"children":2607},{"class":428,"line":1116},[2608,2612],{"type":395,"tag":426,"props":2609,"children":2610},{"style":445},[2611],{"type":401,"value":778},{"type":395,"tag":426,"props":2613,"children":2614},{"style":532},[2615],{"type":401,"value":762},{"type":395,"tag":409,"props":2617,"children":2618},{},[2619],{"type":401,"value":2620},"UMD 统一 CommonJS 和 AMD，所以 UMD 定义的模块可以同时在客户端和服务端使用：",{"type":395,"tag":415,"props":2622,"children":2624},{"className":417,"code":2623,"language":419,"meta":389,"style":389},";(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self), (global.myModule = factory()))\n})(this, function() {\n  return myModule\n})\n",[2625],{"type":395,"tag":422,"props":2626,"children":2627},{"__ignoreMap":389},[2628,2669,2732,2770,2820,2844,2916,2949,2961],{"type":395,"tag":426,"props":2629,"children":2630},{"class":428,"line":429},[2631,2635,2639,2643,2647,2652,2656,2661,2665],{"type":395,"tag":426,"props":2632,"children":2633},{"style":445},[2634],{"type":401,"value":660},{"type":395,"tag":426,"props":2636,"children":2637},{"style":532},[2638],{"type":401,"value":665},{"type":395,"tag":426,"props":2640,"children":2641},{"style":433},[2642],{"type":401,"value":436},{"type":395,"tag":426,"props":2644,"children":2645},{"style":445},[2646],{"type":401,"value":665},{"type":395,"tag":426,"props":2648,"children":2649},{"style":676},[2650],{"type":401,"value":2651},"global",{"type":395,"tag":426,"props":2653,"children":2654},{"style":445},[2655],{"type":401,"value":1734},{"type":395,"tag":426,"props":2657,"children":2658},{"style":676},[2659],{"type":401,"value":2660}," factory",{"type":395,"tag":426,"props":2662,"children":2663},{"style":445},[2664],{"type":401,"value":684},{"type":395,"tag":426,"props":2666,"children":2667},{"style":445},[2668],{"type":401,"value":453},{"type":395,"tag":426,"props":2670,"children":2671},{"class":428,"line":456},[2672,2677,2681,2686,2690,2695,2699,2704,2709,2713,2718,2722,2727],{"type":395,"tag":426,"props":2673,"children":2674},{"style":538},[2675],{"type":401,"value":2676},"  typeof",{"type":395,"tag":426,"props":2678,"children":2679},{"style":1987},[2680],{"type":401,"value":2406},{"type":395,"tag":426,"props":2682,"children":2683},{"style":538},[2684],{"type":401,"value":2685}," ===",{"type":395,"tag":426,"props":2687,"children":2688},{"style":744},[2689],{"type":401,"value":1739},{"type":395,"tag":426,"props":2691,"children":2692},{"style":750},[2693],{"type":401,"value":2694},"object",{"type":395,"tag":426,"props":2696,"children":2697},{"style":744},[2698],{"type":401,"value":747},{"type":395,"tag":426,"props":2700,"children":2701},{"style":538},[2702],{"type":401,"value":2703}," &&",{"type":395,"tag":426,"props":2705,"children":2706},{"style":538},[2707],{"type":401,"value":2708}," typeof",{"type":395,"tag":426,"props":2710,"children":2711},{"style":1987},[2712],{"type":401,"value":2415},{"type":395,"tag":426,"props":2714,"children":2715},{"style":538},[2716],{"type":401,"value":2717}," !==",{"type":395,"tag":426,"props":2719,"children":2720},{"style":744},[2721],{"type":401,"value":1739},{"type":395,"tag":426,"props":2723,"children":2724},{"style":750},[2725],{"type":401,"value":2726},"undefined",{"type":395,"tag":426,"props":2728,"children":2729},{"style":744},[2730],{"type":401,"value":2731},"'\n",{"type":395,"tag":426,"props":2733,"children":2734},{"class":428,"line":466},[2735,2740,2744,2749,2753,2757,2761,2765],{"type":395,"tag":426,"props":2736,"children":2737},{"style":538},[2738],{"type":401,"value":2739},"    ?",{"type":395,"tag":426,"props":2741,"children":2742},{"style":739},[2743],{"type":401,"value":839},{"type":395,"tag":426,"props":2745,"children":2746},{"style":1987},[2747],{"type":401,"value":2748},"module",{"type":395,"tag":426,"props":2750,"children":2751},{"style":445},[2752],{"type":401,"value":617},{"type":395,"tag":426,"props":2754,"children":2755},{"style":1987},[2756],{"type":401,"value":1990},{"type":395,"tag":426,"props":2758,"children":2759},{"style":538},[2760],{"type":401,"value":707},{"type":395,"tag":426,"props":2762,"children":2763},{"style":439},[2764],{"type":401,"value":2660},{"type":395,"tag":426,"props":2766,"children":2767},{"style":739},[2768],{"type":401,"value":2769},"())\n",{"type":395,"tag":426,"props":2771,"children":2772},{"class":428,"line":475},[2773,2778,2782,2787,2791,2795,2799,2803,2807,2811,2815],{"type":395,"tag":426,"props":2774,"children":2775},{"style":538},[2776],{"type":401,"value":2777},"    :",{"type":395,"tag":426,"props":2779,"children":2780},{"style":538},[2781],{"type":401,"value":2708},{"type":395,"tag":426,"props":2783,"children":2784},{"style":532},[2785],{"type":401,"value":2786}," define",{"type":395,"tag":426,"props":2788,"children":2789},{"style":538},[2790],{"type":401,"value":2685},{"type":395,"tag":426,"props":2792,"children":2793},{"style":744},[2794],{"type":401,"value":1739},{"type":395,"tag":426,"props":2796,"children":2797},{"style":750},[2798],{"type":401,"value":436},{"type":395,"tag":426,"props":2800,"children":2801},{"style":744},[2802],{"type":401,"value":747},{"type":395,"tag":426,"props":2804,"children":2805},{"style":538},[2806],{"type":401,"value":2703},{"type":395,"tag":426,"props":2808,"children":2809},{"style":532},[2810],{"type":401,"value":2786},{"type":395,"tag":426,"props":2812,"children":2813},{"style":445},[2814],{"type":401,"value":617},{"type":395,"tag":426,"props":2816,"children":2817},{"style":532},[2818],{"type":401,"value":2819},"amd\n",{"type":395,"tag":426,"props":2821,"children":2822},{"class":428,"line":496},[2823,2827,2831,2835,2840],{"type":395,"tag":426,"props":2824,"children":2825},{"style":538},[2826],{"type":401,"value":2739},{"type":395,"tag":426,"props":2828,"children":2829},{"style":439},[2830],{"type":401,"value":2786},{"type":395,"tag":426,"props":2832,"children":2833},{"style":739},[2834],{"type":401,"value":665},{"type":395,"tag":426,"props":2836,"children":2837},{"style":532},[2838],{"type":401,"value":2839},"factory",{"type":395,"tag":426,"props":2841,"children":2842},{"style":739},[2843],{"type":401,"value":762},{"type":395,"tag":426,"props":2845,"children":2846},{"class":428,"line":504},[2847,2851,2856,2860,2864,2869,2873,2878,2882,2886,2890,2894,2898,2903,2907,2911],{"type":395,"tag":426,"props":2848,"children":2849},{"style":538},[2850],{"type":401,"value":2777},{"type":395,"tag":426,"props":2852,"children":2853},{"style":739},[2854],{"type":401,"value":2855}," ((",{"type":395,"tag":426,"props":2857,"children":2858},{"style":532},[2859],{"type":401,"value":2651},{"type":395,"tag":426,"props":2861,"children":2862},{"style":538},[2863],{"type":401,"value":707},{"type":395,"tag":426,"props":2865,"children":2866},{"style":532},[2867],{"type":401,"value":2868}," global",{"type":395,"tag":426,"props":2870,"children":2871},{"style":538},[2872],{"type":401,"value":915},{"type":395,"tag":426,"props":2874,"children":2875},{"style":532},[2876],{"type":401,"value":2877}," self",{"type":395,"tag":426,"props":2879,"children":2880},{"style":739},[2881],{"type":401,"value":684},{"type":395,"tag":426,"props":2883,"children":2884},{"style":445},[2885],{"type":401,"value":1734},{"type":395,"tag":426,"props":2887,"children":2888},{"style":739},[2889],{"type":401,"value":839},{"type":395,"tag":426,"props":2891,"children":2892},{"style":532},[2893],{"type":401,"value":2651},{"type":395,"tag":426,"props":2895,"children":2896},{"style":445},[2897],{"type":401,"value":617},{"type":395,"tag":426,"props":2899,"children":2900},{"style":532},[2901],{"type":401,"value":2902},"myModule",{"type":395,"tag":426,"props":2904,"children":2905},{"style":538},[2906],{"type":401,"value":707},{"type":395,"tag":426,"props":2908,"children":2909},{"style":439},[2910],{"type":401,"value":2660},{"type":395,"tag":426,"props":2912,"children":2913},{"style":739},[2914],{"type":401,"value":2915},"()))\n",{"type":395,"tag":426,"props":2917,"children":2918},{"class":428,"line":1023},[2919,2923,2927,2933,2937,2941,2945],{"type":395,"tag":426,"props":2920,"children":2921},{"style":445},[2922],{"type":401,"value":778},{"type":395,"tag":426,"props":2924,"children":2925},{"style":532},[2926],{"type":401,"value":1274},{"type":395,"tag":426,"props":2928,"children":2930},{"style":2929},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2931],{"type":401,"value":2932},"this",{"type":395,"tag":426,"props":2934,"children":2935},{"style":445},[2936],{"type":401,"value":1734},{"type":395,"tag":426,"props":2938,"children":2939},{"style":433},[2940],{"type":401,"value":563},{"type":395,"tag":426,"props":2942,"children":2943},{"style":445},[2944],{"type":401,"value":448},{"type":395,"tag":426,"props":2946,"children":2947},{"style":445},[2948],{"type":401,"value":453},{"type":395,"tag":426,"props":2950,"children":2951},{"class":428,"line":1044},[2952,2956],{"type":395,"tag":426,"props":2953,"children":2954},{"style":1253},[2955],{"type":401,"value":1256},{"type":395,"tag":426,"props":2957,"children":2958},{"style":532},[2959],{"type":401,"value":2960}," myModule\n",{"type":395,"tag":426,"props":2962,"children":2963},{"class":428,"line":1065},[2964,2968],{"type":395,"tag":426,"props":2965,"children":2966},{"style":445},[2967],{"type":401,"value":778},{"type":395,"tag":426,"props":2969,"children":2970},{"style":532},[2971],{"type":401,"value":762},{"type":395,"tag":403,"props":2973,"children":2975},{"id":2974},"现代模块规范-es-module",[2976],{"type":401,"value":2977},"现代模块规范 ES Module",{"type":395,"tag":409,"props":2979,"children":2980},{},[2981,2983,2989],{"type":401,"value":2982},"2015 年 6 月， ECMAScript6 标准正式发布，其中 ES 模块化规范的提出目标是整合 CommonJS、AMD 等已有模块方案，",{"type":395,"tag":2984,"props":2985,"children":2986},"strong",{},[2987],{"type":401,"value":2988},"在语言标准层面实现模块化",{"type":401,"value":2990},"，成为浏览器和服务器通用的模块解决方案。",{"type":395,"tag":415,"props":2992,"children":2994},{"className":417,"code":2993,"language":419,"meta":389,"style":389},"import { foo, bar } from '/modules/my-module.js'\n\nexport const foo = Math.sqrt(2)\n",[2995],{"type":395,"tag":422,"props":2996,"children":2997},{"__ignoreMap":389},[2998,3046,3053],{"type":395,"tag":426,"props":2999,"children":3000},{"class":428,"line":429},[3001,3006,3011,3015,3019,3023,3028,3033,3037,3042],{"type":395,"tag":426,"props":3002,"children":3003},{"style":1253},[3004],{"type":401,"value":3005},"import",{"type":395,"tag":426,"props":3007,"children":3008},{"style":445},[3009],{"type":401,"value":3010}," {",{"type":395,"tag":426,"props":3012,"children":3013},{"style":532},[3014],{"type":401,"value":442},{"type":395,"tag":426,"props":3016,"children":3017},{"style":445},[3018],{"type":401,"value":1734},{"type":395,"tag":426,"props":3020,"children":3021},{"style":532},[3022],{"type":401,"value":485},{"type":395,"tag":426,"props":3024,"children":3025},{"style":445},[3026],{"type":401,"value":3027}," }",{"type":395,"tag":426,"props":3029,"children":3030},{"style":1253},[3031],{"type":401,"value":3032}," from",{"type":395,"tag":426,"props":3034,"children":3035},{"style":744},[3036],{"type":401,"value":1739},{"type":395,"tag":426,"props":3038,"children":3039},{"style":750},[3040],{"type":401,"value":3041},"/modules/my-module.js",{"type":395,"tag":426,"props":3043,"children":3044},{"style":744},[3045],{"type":401,"value":2731},{"type":395,"tag":426,"props":3047,"children":3048},{"class":428,"line":456},[3049],{"type":395,"tag":426,"props":3050,"children":3051},{"emptyLinePlaceholder":388},[3052],{"type":401,"value":1246},{"type":395,"tag":426,"props":3054,"children":3055},{"class":428,"line":466},[3056,3061,3066,3070,3074,3079,3083,3088,3092,3097],{"type":395,"tag":426,"props":3057,"children":3058},{"style":1253},[3059],{"type":401,"value":3060},"export",{"type":395,"tag":426,"props":3062,"children":3063},{"style":433},[3064],{"type":401,"value":3065}," const",{"type":395,"tag":426,"props":3067,"children":3068},{"style":827},[3069],{"type":401,"value":442},{"type":395,"tag":426,"props":3071,"children":3072},{"style":538},[3073],{"type":401,"value":707},{"type":395,"tag":426,"props":3075,"children":3076},{"style":532},[3077],{"type":401,"value":3078}," Math",{"type":395,"tag":426,"props":3080,"children":3081},{"style":445},[3082],{"type":401,"value":617},{"type":395,"tag":426,"props":3084,"children":3085},{"style":439},[3086],{"type":401,"value":3087},"sqrt",{"type":395,"tag":426,"props":3089,"children":3090},{"style":532},[3091],{"type":401,"value":665},{"type":395,"tag":426,"props":3093,"children":3094},{"style":2102},[3095],{"type":401,"value":3096},"2",{"type":395,"tag":426,"props":3098,"children":3099},{"style":532},[3100],{"type":401,"value":762},{"type":395,"tag":409,"props":3102,"children":3103},{},[3104],{"type":401,"value":3105},"为什么 ES 模块比 CommonJS 更好？我引用 RollupJS 文档中的一段加以解释：",{"type":395,"tag":409,"props":3107,"children":3108},{},[3109],{"type":401,"value":3110},"ES Module 是官方标准，也是 JavaScript 语言明确的发展方向，而 CommonJS 模块是一种特殊的传统格式，在 ES 模块被提出之前做为暂时的解决方案。 ES 模块允许进行静态分析，从而实现像 tree-shaking 的优化，并提供诸如循环引用和动态绑定等高级功能。",{"type":395,"tag":409,"props":3112,"children":3113},{},[3114,3116,3122],{"type":401,"value":3115},"在浏览器中，需要使用特定属性的脚本标签，以支持 ES Module 规范（ ",{"type":395,"tag":422,"props":3117,"children":3119},{"className":3118},[],[3120],{"type":401,"value":3121},"\u003Cscript type=\"module\">",{"type":401,"value":3123}," ）。",{"type":395,"tag":3125,"props":3126,"children":3128},"h4",{"id":3127},"兼容性",[3129],{"type":401,"value":3127},{"type":395,"tag":409,"props":3131,"children":3132},{},[3133],{"type":401,"value":3134},"截止 2020 年 5 月 18 日，各大浏览器兼容 ES Module 情况如下：",{"type":395,"tag":409,"props":3136,"children":3137},{},[3138,3140,3146,3148,3154],{"type":401,"value":3139},"在 NodeJS 中（Version >= 8.5），需要打开一个开关（",{"type":395,"tag":422,"props":3141,"children":3143},{"className":3142},[],[3144],{"type":401,"value":3145},"--experimental-modules",{"type":401,"value":3147},"），以支持 ES Module 规范，但是需要模块的文件名为 ",{"type":395,"tag":422,"props":3149,"children":3151},{"className":3150},[],[3152],{"type":401,"value":3153},".mjs",{"type":401,"value":3155},"。",{"type":395,"tag":3125,"props":3157,"children":3159},{"id":3158},"动态-import",[3160],{"type":401,"value":3161},"动态 Import",{"type":395,"tag":409,"props":3163,"children":3164},{},[3165],{"type":401,"value":3166},"动态 Import 如今已经被大部分浏览器所支持。",{"type":395,"tag":396,"props":3168,"children":3170},{"id":3169},"cjs-vs-esm",[3171],{"type":401,"value":3172},"CJS VS ESM",{"type":395,"tag":409,"props":3174,"children":3175},{},[3176],{"type":401,"value":3177},"尽管 ES Module 规范发布已久，但并没有得到广泛的兼容。由于 ES Module 继承了现在来说仍属主流的 CommonJS 规范的诸多优点，所以两者之间有许多共性。我们来看看它们之间的区别。",{"type":395,"tag":409,"props":3179,"children":3180},{},[3181,3183,3188],{"type":401,"value":3182},"最大的不同之处在于，",{"type":395,"tag":2984,"props":3184,"children":3185},{},[3186],{"type":401,"value":3187},"CommonJS 是一种约定，而 ES Module 是语言规范",{"type":401,"value":3189},"。CommonJS 定义了一套使用“module.epoxrts 和 require”等代码进行模块导入导出的约定，通过扩充 JS 编译器外层代码，只要开发人员遵守约定，就可以使用此规范。而 ES Module 的实现依赖于编译器。这也导致：",{"type":395,"tag":3191,"props":3192,"children":3193},"ol",{},[3194,3199],{"type":395,"tag":1919,"props":3195,"children":3196},{},[3197],{"type":401,"value":3198},"Require 导入值的拷贝，模块内部变化不能直接反应到外部；ES Module 导入值的映射，就算是模块内部的字符串有修改，同样会反映到模块外部。",{"type":395,"tag":1919,"props":3200,"children":3201},{},[3202],{"type":401,"value":3203},"Require 本质是一个函数，所以容易实现动态导入的功能；ES Module 依赖于编译器的静态分析，所以动态导入功能难以被完善实现。",{"type":395,"tag":409,"props":3205,"children":3206},{},[3207,3209,3215],{"type":401,"value":3208},"要看看 Require 到底是个啥玩意儿，请看这篇：",{"type":395,"tag":801,"props":3210,"children":3212},{"href":3211},"/source-code/_server/nodejs/require.html",[3213],{"type":401,"value":3214},"Require",{"type":401,"value":3155},{"type":395,"tag":3125,"props":3217,"children":3219},{"id":3218},"如何在-esm-中引入-cjs-中的命名导出",[3220],{"type":401,"value":3221},"如何在 esm 中引入 cjs 中的命名导出？",{"type":395,"tag":415,"props":3223,"children":3225},{"className":417,"code":3224,"language":419,"meta":389,"style":389},"// .mjs\nimport { namedExport } from './lib.cjs'\n// .cjs\nexports.namedExport = 'yes'\n// .cjs wrong example\n// exports = { namedExport: 'yes' }\n",[3226],{"type":395,"tag":422,"props":3227,"children":3228},{"__ignoreMap":389},[3229,3237,3274,3282,3315,3323],{"type":395,"tag":426,"props":3230,"children":3231},{"class":428,"line":429},[3232],{"type":395,"tag":426,"props":3233,"children":3234},{"style":460},[3235],{"type":401,"value":3236},"// .mjs\n",{"type":395,"tag":426,"props":3238,"children":3239},{"class":428,"line":456},[3240,3244,3248,3253,3257,3261,3265,3270],{"type":395,"tag":426,"props":3241,"children":3242},{"style":1253},[3243],{"type":401,"value":3005},{"type":395,"tag":426,"props":3245,"children":3246},{"style":445},[3247],{"type":401,"value":3010},{"type":395,"tag":426,"props":3249,"children":3250},{"style":532},[3251],{"type":401,"value":3252}," namedExport",{"type":395,"tag":426,"props":3254,"children":3255},{"style":445},[3256],{"type":401,"value":3027},{"type":395,"tag":426,"props":3258,"children":3259},{"style":1253},[3260],{"type":401,"value":3032},{"type":395,"tag":426,"props":3262,"children":3263},{"style":744},[3264],{"type":401,"value":1739},{"type":395,"tag":426,"props":3266,"children":3267},{"style":750},[3268],{"type":401,"value":3269},"./lib.cjs",{"type":395,"tag":426,"props":3271,"children":3272},{"style":744},[3273],{"type":401,"value":2731},{"type":395,"tag":426,"props":3275,"children":3276},{"class":428,"line":466},[3277],{"type":395,"tag":426,"props":3278,"children":3279},{"style":460},[3280],{"type":401,"value":3281},"// .cjs\n",{"type":395,"tag":426,"props":3283,"children":3284},{"class":428,"line":475},[3285,3289,3293,3298,3302,3306,3311],{"type":395,"tag":426,"props":3286,"children":3287},{"style":1987},[3288],{"type":401,"value":1990},{"type":395,"tag":426,"props":3290,"children":3291},{"style":445},[3292],{"type":401,"value":617},{"type":395,"tag":426,"props":3294,"children":3295},{"style":532},[3296],{"type":401,"value":3297},"namedExport ",{"type":395,"tag":426,"props":3299,"children":3300},{"style":538},[3301],{"type":401,"value":541},{"type":395,"tag":426,"props":3303,"children":3304},{"style":744},[3305],{"type":401,"value":1739},{"type":395,"tag":426,"props":3307,"children":3308},{"style":750},[3309],{"type":401,"value":3310},"yes",{"type":395,"tag":426,"props":3312,"children":3313},{"style":744},[3314],{"type":401,"value":2731},{"type":395,"tag":426,"props":3316,"children":3317},{"class":428,"line":496},[3318],{"type":395,"tag":426,"props":3319,"children":3320},{"style":460},[3321],{"type":401,"value":3322},"// .cjs wrong example\n",{"type":395,"tag":426,"props":3324,"children":3325},{"class":428,"line":504},[3326],{"type":395,"tag":426,"props":3327,"children":3328},{"style":460},[3329],{"type":401,"value":3330},"// exports = { namedExport: 'yes' }\n",{"type":395,"tag":409,"props":3332,"children":3333},{},[3334,3336,3343],{"type":401,"value":3335},"见：",{"type":395,"tag":801,"props":3337,"children":3340},{"href":3338,"rel":3339},"https://2ality.com/2022/10/commonjs-named-exports.html",[805],[3341],{"type":401,"value":3342},"How to write CommonJS exports that can be name-imported from ESM",{"type":401,"value":3344},"，就算在 mjs 中导入了 cjs 的导出，为了兼容性考虑，导入的并不是映射。",{"type":395,"tag":396,"props":3346,"children":3348},{"id":3347},"打包工具之争",[3349],{"type":401,"value":3347},{"type":395,"tag":409,"props":3351,"children":3352},{},[3353],{"type":401,"value":3354},"TODO",{"type":395,"tag":409,"props":3356,"children":3357},{},[3358],{"type":401,"value":3359},"为什么需要打包工具",{"type":395,"tag":1915,"props":3361,"children":3362},{},[3363,3368],{"type":395,"tag":1919,"props":3364,"children":3365},{},[3366],{"type":401,"value":3367},"代码分析（合并、压缩、混淆）",{"type":395,"tag":1919,"props":3369,"children":3370},{},[3371],{"type":401,"value":3372},"兼容各种规范",{"type":395,"tag":409,"props":3374,"children":3375},{},[3376],{"type":401,"value":3377},"应用程序使用 WebpackJS，库文件使用 RollupJS",{"type":395,"tag":396,"props":3379,"children":3381},{"id":3380},"阅读更多",[3382],{"type":401,"value":3380},{"type":395,"tag":1915,"props":3384,"children":3385},{},[3386,3396,3406,3416,3426,3435],{"type":395,"tag":1919,"props":3387,"children":3388},{},[3389],{"type":395,"tag":801,"props":3390,"children":3393},{"href":3391,"rel":3392},"https://github.com/seajs/seajs/issues/547",[805],[3394],{"type":401,"value":3395},"模块开发的价值",{"type":395,"tag":1919,"props":3397,"children":3398},{},[3399],{"type":395,"tag":801,"props":3400,"children":3403},{"href":3401,"rel":3402},"https://www.cyj.me/programming/2018/05/22/about-module-i/",[805],[3404],{"type":401,"value":3405},"前端模块的历史沿革",{"type":395,"tag":1919,"props":3407,"children":3408},{},[3409],{"type":395,"tag":801,"props":3410,"children":3413},{"href":3411,"rel":3412},"https://www.cyj.me/programming/2018/05/23/about-module-ii/",[805],[3414],{"type":401,"value":3415},"前端模块的现状",{"type":395,"tag":1919,"props":3417,"children":3418},{},[3419],{"type":395,"tag":801,"props":3420,"children":3423},{"href":3421,"rel":3422},"https://zhuanlan.zhihu.com/p/22890374",[805],[3424],{"type":401,"value":3425},"JavaScript 模块化入门 Ⅰ：理解模块",{"type":395,"tag":1919,"props":3427,"children":3428},{},[3429],{"type":395,"tag":801,"props":3430,"children":3432},{"href":3431},"hhttps://zhuanlan.zhihu.com/p/22945985",[3433],{"type":401,"value":3434},"JavaScript 模块化入门 Ⅱ：模块打包构建",{"type":395,"tag":1919,"props":3436,"children":3437},{},[3438],{"type":395,"tag":801,"props":3439,"children":3442},{"href":3440,"rel":3441},"https://juejin.im/post/5cb004da5188251b130c773e",[805],[3443],{"type":401,"value":3444},"前端工程师必备：前端的模块化",{"type":395,"tag":3446,"props":3447,"children":3448},"style",{},[3449],{"type":401,"value":3450},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":389,"searchDepth":456,"depth":456,"links":3452},[3453,3459,3460,3461],{"id":398,"depth":456,"text":398,"children":3454},[3455,3456,3457,3458],{"id":405,"depth":466,"text":405},{"id":1294,"depth":466,"text":1294},{"id":1936,"depth":466,"text":1936},{"id":2974,"depth":466,"text":2977},{"id":3169,"depth":456,"text":3172},{"id":3347,"depth":456,"text":3347},{"id":3380,"depth":456,"text":3380},"markdown","content:_achieved:2020-05:js-module-history.md","content","_achieved/2020-05/js-module-history.md","_achieved/2020-05/js-module-history","md",[3469,3473],{"_path":3470,"title":3471,"description":3472},"/_achieved/2020-04/p5","造型构成","用P5.js做了一些造型构成练习，源码都在 GitHub 上，欢迎来星星 ⭐",{"_path":3474,"title":3475,"description":389},"/_achieved/2020-05/type-check","🎫 常用类型判断方法的优势及缺陷",1742040363994]