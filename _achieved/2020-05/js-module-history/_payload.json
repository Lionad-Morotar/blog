[{"data":1,"prerenderedAt":3485},["ShallowReactive",2],{"navigation":3,"/_achieved/2020-05/js-module-history":393,"/_achieved/2020-05/js-module-history-surround":3477},[4,35,86,105,132,138,144,150,387],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"数字化转型","/gists/digital-transformation",{"title":205,"_path":206},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":208,"_path":209},"正则表达式","/gists/eegex",{"title":211,"_path":212},"Emoji","/gists/emoji",{"title":214,"_path":215},"工程","/gists/engineering",{"title":217,"_path":218},"熵","/gists/entropy",{"title":220,"_path":221},"Environment","/gists/environment",{"title":223,"_path":224},"Erlang","/gists/erlang",{"title":226,"_path":227},"逃离塔克夫","/gists/escape-from-tarkov",{"title":229,"_path":230},"ESNext (ES6-ES11)","/gists/esnext",{"title":232,"_path":233},"Eval！","/gists/eval",{"title":235,"_path":236},"Flutter","/gists/flutter",{"title":238,"_path":239},"字体","/gists/font",{"title":241,"_path":242},"JS 函数式编程","/gists/functional",{"title":244,"_path":245},"游戏化","/gists/gamification",{"title":247,"_path":248},"Google C++ Standard","/gists/google-cpp-standard",{"title":250,"_path":251},"双向链接完全体","/gists/graph",{"title":253,"_path":254},"Hardwares","/gists/hardwares",{"title":256,"_path":257},"哈希冲突","/gists/hash-collision",{"title":259,"_path":260},"信息设计","/gists/information-design",{"title":262,"_path":263},"InstantPage","/gists/instant.page",{"title":265,"_path":266},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":268,"_path":269},"KVStore","/gists/key-value-db",{"title":271,"_path":272},"Kubernetes","/gists/kubernetes",{"title":274,"_path":275},"Makefile","/gists/makefile",{"title":277,"_path":278},"Markdown Inline Style","/gists/markdown-nice",{"title":280,"_path":281},"小程序","/gists/miniapp",{"title":283,"_path":284},"减小页面快照体积","/gists/minify-html",{"title":286,"_path":287},"mklink","/gists/mklink",{"title":289,"_path":290},"Mock","/gists/mock",{"title":292,"_path":293},"多人协作系统","/gists/multiplayer",{"title":295,"_path":296},"多端应用","/gists/multy-end-app",{"title":298,"_path":299},"神经科学","/gists/neuroscience",{"title":301,"_path":302},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":304,"_path":305},"PInvoke","/gists/pinvoke",{"title":307,"_path":308},"像素","/gists/pixel",{"title":310,"_path":311},"PowerShell","/gists/powershell",{"title":313,"_path":314},"量子","/gists/quantum",{"title":316,"_path":317},"保持好奇心","/gists/questions",{"title":319,"_path":320},"React Native","/gists/react-native",{"title":322,"_path":323},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":325,"_path":326},"SEO","/gists/seo",{"title":328,"_path":329},"Shader","/gists/shader",{"title":331,"_path":332},"Shape Up","/gists/shape-up",{"title":334,"_path":335},"睡觉","/gists/sleep",{"title":337,"_path":338},"记录奇怪的问题","/gists/solved",{"title":340,"_path":341},"States","/gists/states",{"title":343,"_path":344},"Storage","/gists/storage",{"title":346,"_path":347},"音视频流处理","/gists/stream-cli",{"title":349,"_path":350},"Symbol","/gists/symbol",{"title":352,"_path":353},"系统论","/gists/systems-theory",{"title":355,"_path":356},"Taro","/gists/taro",{"title":358,"_path":359},"任务切片","/gists/task-slice",{"title":361,"_path":362},"技术偏好","/gists/tech-dudge",{"title":364,"_path":365},"Untitled","/gists/untitled",{"title":367,"_path":368},"可变字体","/gists/variable-font",{"title":370,"_path":371},"视觉错觉","/gists/visual-illusion",{"title":373,"_path":374},"SS(SSR)","/gists/vpn",{"title":376,"_path":377},"VS Code 插件开发","/gists/vscode-plugin",{"title":379,"_path":380},"Web Components","/gists/web-components",{"title":382,"_path":383},"Windows","/gists/windows",{"title":385,"_path":386},"查缺补漏","/gists/wrong",{"title":388,"_path":389,"children":390},"我 / About","/hire",[391],{"title":392,"_path":389},"📬 技术简历",{"_path":394,"_dir":395,"_draft":396,"_partial":397,"_locale":398,"title":399,"description":398,"body":400,"_type":3471,"_id":3472,"_source":3473,"_file":3474,"_stem":3475,"_extension":3476},"/_achieved/2020-05/js-module-history","2020-05",false,true,"","JS 模块化简史",{"type":401,"children":402,"toc":3460},"root",[403,411,417,423,519,524,637,642,655,806,820,1301,1306,1311,1584,1589,1777,1782,1913,1918,1923,1943,1948,1953,1971,1976,2220,2225,2230,2371,2376,2625,2630,2981,2987,3000,3110,3115,3120,3133,3139,3144,3165,3171,3176,3182,3187,3199,3213,3225,3231,3340,3354,3359,3364,3369,3382,3387,3392,3454],{"type":404,"tag":405,"props":406,"children":408},"element","h2",{"id":407},"模块化的历史进程",[409],{"type":410,"value":407},"text",{"type":404,"tag":412,"props":413,"children":415},"h3",{"id":414},"模块模式",[416],{"type":410,"value":414},{"type":404,"tag":418,"props":419,"children":420},"p",{},[421],{"type":410,"value":422},"起初，我们写代码比较随意：",{"type":404,"tag":424,"props":425,"children":429},"pre",{"className":426,"code":427,"language":428,"meta":398,"style":398},"language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai","function foo() {\n  //...\n}\nfunction bar() {\n  //...\n}\n","js",[430],{"type":404,"tag":431,"props":432,"children":433},"code",{"__ignoreMap":398},[434,463,473,482,503,511],{"type":404,"tag":435,"props":436,"children":439},"span",{"class":437,"line":438},"line",1,[440,446,452,458],{"type":404,"tag":435,"props":441,"children":443},{"style":442},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[444],{"type":410,"value":445},"function",{"type":404,"tag":435,"props":447,"children":449},{"style":448},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[450],{"type":410,"value":451}," foo",{"type":404,"tag":435,"props":453,"children":455},{"style":454},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[456],{"type":410,"value":457},"()",{"type":404,"tag":435,"props":459,"children":460},{"style":454},[461],{"type":410,"value":462}," {\n",{"type":404,"tag":435,"props":464,"children":466},{"class":437,"line":465},2,[467],{"type":404,"tag":435,"props":468,"children":470},{"style":469},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[471],{"type":410,"value":472},"  //...\n",{"type":404,"tag":435,"props":474,"children":476},{"class":437,"line":475},3,[477],{"type":404,"tag":435,"props":478,"children":479},{"style":454},[480],{"type":410,"value":481},"}\n",{"type":404,"tag":435,"props":483,"children":485},{"class":437,"line":484},4,[486,490,495,499],{"type":404,"tag":435,"props":487,"children":488},{"style":442},[489],{"type":410,"value":445},{"type":404,"tag":435,"props":491,"children":492},{"style":448},[493],{"type":410,"value":494}," bar",{"type":404,"tag":435,"props":496,"children":497},{"style":454},[498],{"type":410,"value":457},{"type":404,"tag":435,"props":500,"children":501},{"style":454},[502],{"type":410,"value":462},{"type":404,"tag":435,"props":504,"children":506},{"class":437,"line":505},5,[507],{"type":404,"tag":435,"props":508,"children":509},{"style":469},[510],{"type":410,"value":472},{"type":404,"tag":435,"props":512,"children":514},{"class":437,"line":513},6,[515],{"type":404,"tag":435,"props":516,"children":517},{"style":454},[518],{"type":410,"value":481},{"type":404,"tag":418,"props":520,"children":521},{},[522],{"type":410,"value":523},"这种写法容易和全局变量发生命名冲突问题，于是我们有了改进的写法：",{"type":404,"tag":424,"props":525,"children":527},{"className":426,"code":526,"language":428,"meta":398,"style":398},"var Utils = {\n  foo: function() {},\n  bar: function() {}\n}\nUtils.foo()\n",[528],{"type":404,"tag":431,"props":529,"children":530},{"__ignoreMap":398},[531,555,582,607,614],{"type":404,"tag":435,"props":532,"children":533},{"class":437,"line":438},[534,539,545,551],{"type":404,"tag":435,"props":535,"children":536},{"style":442},[537],{"type":410,"value":538},"var",{"type":404,"tag":435,"props":540,"children":542},{"style":541},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[543],{"type":410,"value":544}," Utils ",{"type":404,"tag":435,"props":546,"children":548},{"style":547},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[549],{"type":410,"value":550},"=",{"type":404,"tag":435,"props":552,"children":553},{"style":454},[554],{"type":410,"value":462},{"type":404,"tag":435,"props":556,"children":557},{"class":437,"line":465},[558,563,568,573,577],{"type":404,"tag":435,"props":559,"children":560},{"style":448},[561],{"type":410,"value":562},"  foo",{"type":404,"tag":435,"props":564,"children":565},{"style":454},[566],{"type":410,"value":567},":",{"type":404,"tag":435,"props":569,"children":570},{"style":442},[571],{"type":410,"value":572}," function",{"type":404,"tag":435,"props":574,"children":575},{"style":454},[576],{"type":410,"value":457},{"type":404,"tag":435,"props":578,"children":579},{"style":454},[580],{"type":410,"value":581}," {},\n",{"type":404,"tag":435,"props":583,"children":584},{"class":437,"line":475},[585,590,594,598,602],{"type":404,"tag":435,"props":586,"children":587},{"style":448},[588],{"type":410,"value":589},"  bar",{"type":404,"tag":435,"props":591,"children":592},{"style":454},[593],{"type":410,"value":567},{"type":404,"tag":435,"props":595,"children":596},{"style":442},[597],{"type":410,"value":572},{"type":404,"tag":435,"props":599,"children":600},{"style":454},[601],{"type":410,"value":457},{"type":404,"tag":435,"props":603,"children":604},{"style":454},[605],{"type":410,"value":606}," {}\n",{"type":404,"tag":435,"props":608,"children":609},{"class":437,"line":484},[610],{"type":404,"tag":435,"props":611,"children":612},{"style":454},[613],{"type":410,"value":481},{"type":404,"tag":435,"props":615,"children":616},{"class":437,"line":505},[617,622,627,632],{"type":404,"tag":435,"props":618,"children":619},{"style":541},[620],{"type":410,"value":621},"Utils",{"type":404,"tag":435,"props":623,"children":624},{"style":454},[625],{"type":410,"value":626},".",{"type":404,"tag":435,"props":628,"children":629},{"style":448},[630],{"type":410,"value":631},"foo",{"type":404,"tag":435,"props":633,"children":634},{"style":541},[635],{"type":410,"value":636},"()\n",{"type":404,"tag":418,"props":638,"children":639},{},[640],{"type":410,"value":641},"这种写法看似解决了命名冲突问题，其实也暗含了安全问题。我们可以在外部随意访问 Utils.foo 并对其进行修改。",{"type":404,"tag":418,"props":643,"children":644},{},[645,647,653],{"type":410,"value":646},"来看 jQuery，jQuery 通过 IIFE，使用",{"type":404,"tag":431,"props":648,"children":650},{"className":649},[],[651],{"type":410,"value":652},"引入全局变量",{"type":410,"value":654},"的方式解决了命名冲突及模块安全问题。",{"type":404,"tag":424,"props":656,"children":658},{"className":426,"code":657,"language":428,"meta":398,"style":398},";(function(window) {\n  const _privateFn = function() {\n    console.log('Aha, this is a private Fn')\n  }\n})(window)\n_privateFn // undefined\n",[659],{"type":404,"tag":431,"props":660,"children":661},{"__ignoreMap":398},[662,698,729,772,780,793],{"type":404,"tag":435,"props":663,"children":664},{"class":437,"line":438},[665,670,675,679,683,689,694],{"type":404,"tag":435,"props":666,"children":667},{"style":454},[668],{"type":410,"value":669},";",{"type":404,"tag":435,"props":671,"children":672},{"style":541},[673],{"type":410,"value":674},"(",{"type":404,"tag":435,"props":676,"children":677},{"style":442},[678],{"type":410,"value":445},{"type":404,"tag":435,"props":680,"children":681},{"style":454},[682],{"type":410,"value":674},{"type":404,"tag":435,"props":684,"children":686},{"style":685},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[687],{"type":410,"value":688},"window",{"type":404,"tag":435,"props":690,"children":691},{"style":454},[692],{"type":410,"value":693},")",{"type":404,"tag":435,"props":695,"children":696},{"style":454},[697],{"type":410,"value":462},{"type":404,"tag":435,"props":699,"children":700},{"class":437,"line":465},[701,706,712,717,721,725],{"type":404,"tag":435,"props":702,"children":703},{"style":442},[704],{"type":410,"value":705},"  const",{"type":404,"tag":435,"props":707,"children":709},{"style":708},"--shiki-light:#90A4AE;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[710],{"type":410,"value":711}," _privateFn",{"type":404,"tag":435,"props":713,"children":714},{"style":547},[715],{"type":410,"value":716}," =",{"type":404,"tag":435,"props":718,"children":719},{"style":442},[720],{"type":410,"value":572},{"type":404,"tag":435,"props":722,"children":723},{"style":454},[724],{"type":410,"value":457},{"type":404,"tag":435,"props":726,"children":727},{"style":454},[728],{"type":410,"value":462},{"type":404,"tag":435,"props":730,"children":731},{"class":437,"line":475},[732,737,741,746,751,757,763,767],{"type":404,"tag":435,"props":733,"children":734},{"style":541},[735],{"type":410,"value":736},"    console",{"type":404,"tag":435,"props":738,"children":739},{"style":454},[740],{"type":410,"value":626},{"type":404,"tag":435,"props":742,"children":743},{"style":448},[744],{"type":410,"value":745},"log",{"type":404,"tag":435,"props":747,"children":749},{"style":748},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[750],{"type":410,"value":674},{"type":404,"tag":435,"props":752,"children":754},{"style":753},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[755],{"type":410,"value":756},"'",{"type":404,"tag":435,"props":758,"children":760},{"style":759},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[761],{"type":410,"value":762},"Aha, this is a private Fn",{"type":404,"tag":435,"props":764,"children":765},{"style":753},[766],{"type":410,"value":756},{"type":404,"tag":435,"props":768,"children":769},{"style":748},[770],{"type":410,"value":771},")\n",{"type":404,"tag":435,"props":773,"children":774},{"class":437,"line":484},[775],{"type":404,"tag":435,"props":776,"children":777},{"style":454},[778],{"type":410,"value":779},"  }\n",{"type":404,"tag":435,"props":781,"children":782},{"class":437,"line":505},[783,788],{"type":404,"tag":435,"props":784,"children":785},{"style":454},[786],{"type":410,"value":787},"}",{"type":404,"tag":435,"props":789,"children":790},{"style":541},[791],{"type":410,"value":792},")(window)\n",{"type":404,"tag":435,"props":794,"children":795},{"class":437,"line":513},[796,801],{"type":404,"tag":435,"props":797,"children":798},{"style":541},[799],{"type":410,"value":800},"_privateFn ",{"type":404,"tag":435,"props":802,"children":803},{"style":469},[804],{"type":410,"value":805},"// undefined\n",{"type":404,"tag":418,"props":807,"children":808},{},[809,818],{"type":404,"tag":810,"props":811,"children":815},"a",{"href":812,"rel":813},"https://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html",[814],"nofollow",[816],{"type":410,"value":817},"这篇博客",{"type":410,"value":819},"提到了如何解决状态私有问题：",{"type":404,"tag":424,"props":821,"children":823},{"className":426,"code":822,"language":428,"meta":398,"style":398},"var MODULE = (function(my) {\n  const _private = (my._private = my._private || {})\n  const _seal = (my._seal =\n    my._seal ||\n    function() {\n      delete my._private\n      delete my._seal\n      delete my._unseal\n    })\n  const _unseal = (my._unseal =\n    my._unseal ||\n    function() {\n      my._private = _private\n      my._seal = _seal\n      my._unseal = _unseal\n    })\n\n  return my\n})(MODULE || {})\n",[824],{"type":404,"tag":431,"props":825,"children":826},{"__ignoreMap":398},[827,870,934,972,993,1009,1030,1051,1072,1085,1123,1143,1159,1185,1210,1235,1247,1256,1271],{"type":404,"tag":435,"props":828,"children":829},{"class":437,"line":438},[830,834,840,844,849,853,857,862,866],{"type":404,"tag":435,"props":831,"children":832},{"style":442},[833],{"type":410,"value":538},{"type":404,"tag":435,"props":835,"children":837},{"style":836},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[838],{"type":410,"value":839}," MODULE",{"type":404,"tag":435,"props":841,"children":842},{"style":547},[843],{"type":410,"value":716},{"type":404,"tag":435,"props":845,"children":846},{"style":541},[847],{"type":410,"value":848}," (",{"type":404,"tag":435,"props":850,"children":851},{"style":442},[852],{"type":410,"value":445},{"type":404,"tag":435,"props":854,"children":855},{"style":454},[856],{"type":410,"value":674},{"type":404,"tag":435,"props":858,"children":859},{"style":685},[860],{"type":410,"value":861},"my",{"type":404,"tag":435,"props":863,"children":864},{"style":454},[865],{"type":410,"value":693},{"type":404,"tag":435,"props":867,"children":868},{"style":454},[869],{"type":410,"value":462},{"type":404,"tag":435,"props":871,"children":872},{"class":437,"line":465},[873,877,882,886,890,894,898,903,907,912,916,920,925,930],{"type":404,"tag":435,"props":874,"children":875},{"style":442},[876],{"type":410,"value":705},{"type":404,"tag":435,"props":878,"children":879},{"style":836},[880],{"type":410,"value":881}," _private",{"type":404,"tag":435,"props":883,"children":884},{"style":547},[885],{"type":410,"value":716},{"type":404,"tag":435,"props":887,"children":888},{"style":748},[889],{"type":410,"value":848},{"type":404,"tag":435,"props":891,"children":892},{"style":541},[893],{"type":410,"value":861},{"type":404,"tag":435,"props":895,"children":896},{"style":454},[897],{"type":410,"value":626},{"type":404,"tag":435,"props":899,"children":900},{"style":541},[901],{"type":410,"value":902},"_private",{"type":404,"tag":435,"props":904,"children":905},{"style":547},[906],{"type":410,"value":716},{"type":404,"tag":435,"props":908,"children":909},{"style":541},[910],{"type":410,"value":911}," my",{"type":404,"tag":435,"props":913,"children":914},{"style":454},[915],{"type":410,"value":626},{"type":404,"tag":435,"props":917,"children":918},{"style":541},[919],{"type":410,"value":902},{"type":404,"tag":435,"props":921,"children":922},{"style":547},[923],{"type":410,"value":924}," ||",{"type":404,"tag":435,"props":926,"children":927},{"style":454},[928],{"type":410,"value":929}," {}",{"type":404,"tag":435,"props":931,"children":932},{"style":748},[933],{"type":410,"value":771},{"type":404,"tag":435,"props":935,"children":936},{"class":437,"line":475},[937,941,946,950,954,958,962,967],{"type":404,"tag":435,"props":938,"children":939},{"style":442},[940],{"type":410,"value":705},{"type":404,"tag":435,"props":942,"children":943},{"style":836},[944],{"type":410,"value":945}," _seal",{"type":404,"tag":435,"props":947,"children":948},{"style":547},[949],{"type":410,"value":716},{"type":404,"tag":435,"props":951,"children":952},{"style":748},[953],{"type":410,"value":848},{"type":404,"tag":435,"props":955,"children":956},{"style":541},[957],{"type":410,"value":861},{"type":404,"tag":435,"props":959,"children":960},{"style":454},[961],{"type":410,"value":626},{"type":404,"tag":435,"props":963,"children":964},{"style":541},[965],{"type":410,"value":966},"_seal",{"type":404,"tag":435,"props":968,"children":969},{"style":547},[970],{"type":410,"value":971}," =\n",{"type":404,"tag":435,"props":973,"children":974},{"class":437,"line":484},[975,980,984,988],{"type":404,"tag":435,"props":976,"children":977},{"style":541},[978],{"type":410,"value":979},"    my",{"type":404,"tag":435,"props":981,"children":982},{"style":454},[983],{"type":410,"value":626},{"type":404,"tag":435,"props":985,"children":986},{"style":541},[987],{"type":410,"value":966},{"type":404,"tag":435,"props":989,"children":990},{"style":547},[991],{"type":410,"value":992}," ||\n",{"type":404,"tag":435,"props":994,"children":995},{"class":437,"line":505},[996,1001,1005],{"type":404,"tag":435,"props":997,"children":998},{"style":442},[999],{"type":410,"value":1000},"    function",{"type":404,"tag":435,"props":1002,"children":1003},{"style":454},[1004],{"type":410,"value":457},{"type":404,"tag":435,"props":1006,"children":1007},{"style":454},[1008],{"type":410,"value":462},{"type":404,"tag":435,"props":1010,"children":1011},{"class":437,"line":513},[1012,1017,1021,1025],{"type":404,"tag":435,"props":1013,"children":1014},{"style":547},[1015],{"type":410,"value":1016},"      delete",{"type":404,"tag":435,"props":1018,"children":1019},{"style":541},[1020],{"type":410,"value":911},{"type":404,"tag":435,"props":1022,"children":1023},{"style":454},[1024],{"type":410,"value":626},{"type":404,"tag":435,"props":1026,"children":1027},{"style":541},[1028],{"type":410,"value":1029},"_private\n",{"type":404,"tag":435,"props":1031,"children":1033},{"class":437,"line":1032},7,[1034,1038,1042,1046],{"type":404,"tag":435,"props":1035,"children":1036},{"style":547},[1037],{"type":410,"value":1016},{"type":404,"tag":435,"props":1039,"children":1040},{"style":541},[1041],{"type":410,"value":911},{"type":404,"tag":435,"props":1043,"children":1044},{"style":454},[1045],{"type":410,"value":626},{"type":404,"tag":435,"props":1047,"children":1048},{"style":541},[1049],{"type":410,"value":1050},"_seal\n",{"type":404,"tag":435,"props":1052,"children":1054},{"class":437,"line":1053},8,[1055,1059,1063,1067],{"type":404,"tag":435,"props":1056,"children":1057},{"style":547},[1058],{"type":410,"value":1016},{"type":404,"tag":435,"props":1060,"children":1061},{"style":541},[1062],{"type":410,"value":911},{"type":404,"tag":435,"props":1064,"children":1065},{"style":454},[1066],{"type":410,"value":626},{"type":404,"tag":435,"props":1068,"children":1069},{"style":541},[1070],{"type":410,"value":1071},"_unseal\n",{"type":404,"tag":435,"props":1073,"children":1075},{"class":437,"line":1074},9,[1076,1081],{"type":404,"tag":435,"props":1077,"children":1078},{"style":454},[1079],{"type":410,"value":1080},"    }",{"type":404,"tag":435,"props":1082,"children":1083},{"style":748},[1084],{"type":410,"value":771},{"type":404,"tag":435,"props":1086,"children":1088},{"class":437,"line":1087},10,[1089,1093,1098,1102,1106,1110,1114,1119],{"type":404,"tag":435,"props":1090,"children":1091},{"style":442},[1092],{"type":410,"value":705},{"type":404,"tag":435,"props":1094,"children":1095},{"style":836},[1096],{"type":410,"value":1097}," _unseal",{"type":404,"tag":435,"props":1099,"children":1100},{"style":547},[1101],{"type":410,"value":716},{"type":404,"tag":435,"props":1103,"children":1104},{"style":748},[1105],{"type":410,"value":848},{"type":404,"tag":435,"props":1107,"children":1108},{"style":541},[1109],{"type":410,"value":861},{"type":404,"tag":435,"props":1111,"children":1112},{"style":454},[1113],{"type":410,"value":626},{"type":404,"tag":435,"props":1115,"children":1116},{"style":541},[1117],{"type":410,"value":1118},"_unseal",{"type":404,"tag":435,"props":1120,"children":1121},{"style":547},[1122],{"type":410,"value":971},{"type":404,"tag":435,"props":1124,"children":1126},{"class":437,"line":1125},11,[1127,1131,1135,1139],{"type":404,"tag":435,"props":1128,"children":1129},{"style":541},[1130],{"type":410,"value":979},{"type":404,"tag":435,"props":1132,"children":1133},{"style":454},[1134],{"type":410,"value":626},{"type":404,"tag":435,"props":1136,"children":1137},{"style":541},[1138],{"type":410,"value":1118},{"type":404,"tag":435,"props":1140,"children":1141},{"style":547},[1142],{"type":410,"value":992},{"type":404,"tag":435,"props":1144,"children":1146},{"class":437,"line":1145},12,[1147,1151,1155],{"type":404,"tag":435,"props":1148,"children":1149},{"style":442},[1150],{"type":410,"value":1000},{"type":404,"tag":435,"props":1152,"children":1153},{"style":454},[1154],{"type":410,"value":457},{"type":404,"tag":435,"props":1156,"children":1157},{"style":454},[1158],{"type":410,"value":462},{"type":404,"tag":435,"props":1160,"children":1162},{"class":437,"line":1161},13,[1163,1168,1172,1176,1180],{"type":404,"tag":435,"props":1164,"children":1165},{"style":541},[1166],{"type":410,"value":1167},"      my",{"type":404,"tag":435,"props":1169,"children":1170},{"style":454},[1171],{"type":410,"value":626},{"type":404,"tag":435,"props":1173,"children":1174},{"style":541},[1175],{"type":410,"value":902},{"type":404,"tag":435,"props":1177,"children":1178},{"style":547},[1179],{"type":410,"value":716},{"type":404,"tag":435,"props":1181,"children":1182},{"style":541},[1183],{"type":410,"value":1184}," _private\n",{"type":404,"tag":435,"props":1186,"children":1188},{"class":437,"line":1187},14,[1189,1193,1197,1201,1205],{"type":404,"tag":435,"props":1190,"children":1191},{"style":541},[1192],{"type":410,"value":1167},{"type":404,"tag":435,"props":1194,"children":1195},{"style":454},[1196],{"type":410,"value":626},{"type":404,"tag":435,"props":1198,"children":1199},{"style":541},[1200],{"type":410,"value":966},{"type":404,"tag":435,"props":1202,"children":1203},{"style":547},[1204],{"type":410,"value":716},{"type":404,"tag":435,"props":1206,"children":1207},{"style":541},[1208],{"type":410,"value":1209}," _seal\n",{"type":404,"tag":435,"props":1211,"children":1213},{"class":437,"line":1212},15,[1214,1218,1222,1226,1230],{"type":404,"tag":435,"props":1215,"children":1216},{"style":541},[1217],{"type":410,"value":1167},{"type":404,"tag":435,"props":1219,"children":1220},{"style":454},[1221],{"type":410,"value":626},{"type":404,"tag":435,"props":1223,"children":1224},{"style":541},[1225],{"type":410,"value":1118},{"type":404,"tag":435,"props":1227,"children":1228},{"style":547},[1229],{"type":410,"value":716},{"type":404,"tag":435,"props":1231,"children":1232},{"style":541},[1233],{"type":410,"value":1234}," _unseal\n",{"type":404,"tag":435,"props":1236,"children":1238},{"class":437,"line":1237},16,[1239,1243],{"type":404,"tag":435,"props":1240,"children":1241},{"style":454},[1242],{"type":410,"value":1080},{"type":404,"tag":435,"props":1244,"children":1245},{"style":748},[1246],{"type":410,"value":771},{"type":404,"tag":435,"props":1248,"children":1250},{"class":437,"line":1249},17,[1251],{"type":404,"tag":435,"props":1252,"children":1253},{"emptyLinePlaceholder":397},[1254],{"type":410,"value":1255},"\n",{"type":404,"tag":435,"props":1257,"children":1259},{"class":437,"line":1258},18,[1260,1266],{"type":404,"tag":435,"props":1261,"children":1263},{"style":1262},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[1264],{"type":410,"value":1265},"  return",{"type":404,"tag":435,"props":1267,"children":1268},{"style":541},[1269],{"type":410,"value":1270}," my\n",{"type":404,"tag":435,"props":1272,"children":1274},{"class":437,"line":1273},19,[1275,1279,1284,1289,1293,1297],{"type":404,"tag":435,"props":1276,"children":1277},{"style":454},[1278],{"type":410,"value":787},{"type":404,"tag":435,"props":1280,"children":1281},{"style":541},[1282],{"type":410,"value":1283},")(",{"type":404,"tag":435,"props":1285,"children":1286},{"style":836},[1287],{"type":410,"value":1288},"MODULE",{"type":404,"tag":435,"props":1290,"children":1291},{"style":547},[1292],{"type":410,"value":924},{"type":404,"tag":435,"props":1294,"children":1295},{"style":454},[1296],{"type":410,"value":929},{"type":404,"tag":435,"props":1298,"children":1299},{"style":541},[1300],{"type":410,"value":771},{"type":404,"tag":412,"props":1302,"children":1304},{"id":1303},"模块加载",[1305],{"type":410,"value":1303},{"type":404,"tag":418,"props":1307,"children":1308},{},[1309],{"type":410,"value":1310},"起初，我们这样组织代码：",{"type":404,"tag":424,"props":1312,"children":1314},{"className":426,"code":1313,"language":428,"meta":398,"style":398},"\u003Cscript type=\"text/javascript\" src=\"module1.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module2.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module3.js\">\u003C/script>\n\u003Cscript type=\"text/javascript\" src=\"module4.js\">\u003C/script>\n",[1315],{"type":404,"tag":431,"props":1316,"children":1317},{"__ignoreMap":398},[1318,1392,1456,1520],{"type":404,"tag":435,"props":1319,"children":1320},{"class":437,"line":438},[1321,1326,1332,1338,1342,1347,1352,1356,1361,1365,1369,1374,1378,1383,1387],{"type":404,"tag":435,"props":1322,"children":1323},{"style":454},[1324],{"type":410,"value":1325},"\u003C",{"type":404,"tag":435,"props":1327,"children":1329},{"style":1328},"--shiki-light:#E53935;--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[1330],{"type":410,"value":1331},"script",{"type":404,"tag":435,"props":1333,"children":1335},{"style":1334},"--shiki-light:#9C3EDA;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[1336],{"type":410,"value":1337}," type",{"type":404,"tag":435,"props":1339,"children":1340},{"style":547},[1341],{"type":410,"value":550},{"type":404,"tag":435,"props":1343,"children":1344},{"style":753},[1345],{"type":410,"value":1346},"\"",{"type":404,"tag":435,"props":1348,"children":1349},{"style":759},[1350],{"type":410,"value":1351},"text/javascript",{"type":404,"tag":435,"props":1353,"children":1354},{"style":753},[1355],{"type":410,"value":1346},{"type":404,"tag":435,"props":1357,"children":1358},{"style":1334},[1359],{"type":410,"value":1360}," src",{"type":404,"tag":435,"props":1362,"children":1363},{"style":547},[1364],{"type":410,"value":550},{"type":404,"tag":435,"props":1366,"children":1367},{"style":753},[1368],{"type":410,"value":1346},{"type":404,"tag":435,"props":1370,"children":1371},{"style":759},[1372],{"type":410,"value":1373},"module1.js",{"type":404,"tag":435,"props":1375,"children":1376},{"style":753},[1377],{"type":410,"value":1346},{"type":404,"tag":435,"props":1379,"children":1380},{"style":454},[1381],{"type":410,"value":1382},">\u003C/",{"type":404,"tag":435,"props":1384,"children":1385},{"style":1328},[1386],{"type":410,"value":1331},{"type":404,"tag":435,"props":1388,"children":1389},{"style":454},[1390],{"type":410,"value":1391},">\n",{"type":404,"tag":435,"props":1393,"children":1394},{"class":437,"line":465},[1395,1399,1403,1407,1411,1415,1419,1423,1427,1431,1435,1440,1444,1448,1452],{"type":404,"tag":435,"props":1396,"children":1397},{"style":454},[1398],{"type":410,"value":1325},{"type":404,"tag":435,"props":1400,"children":1401},{"style":1328},[1402],{"type":410,"value":1331},{"type":404,"tag":435,"props":1404,"children":1405},{"style":1334},[1406],{"type":410,"value":1337},{"type":404,"tag":435,"props":1408,"children":1409},{"style":547},[1410],{"type":410,"value":550},{"type":404,"tag":435,"props":1412,"children":1413},{"style":753},[1414],{"type":410,"value":1346},{"type":404,"tag":435,"props":1416,"children":1417},{"style":759},[1418],{"type":410,"value":1351},{"type":404,"tag":435,"props":1420,"children":1421},{"style":753},[1422],{"type":410,"value":1346},{"type":404,"tag":435,"props":1424,"children":1425},{"style":1334},[1426],{"type":410,"value":1360},{"type":404,"tag":435,"props":1428,"children":1429},{"style":547},[1430],{"type":410,"value":550},{"type":404,"tag":435,"props":1432,"children":1433},{"style":753},[1434],{"type":410,"value":1346},{"type":404,"tag":435,"props":1436,"children":1437},{"style":759},[1438],{"type":410,"value":1439},"module2.js",{"type":404,"tag":435,"props":1441,"children":1442},{"style":753},[1443],{"type":410,"value":1346},{"type":404,"tag":435,"props":1445,"children":1446},{"style":454},[1447],{"type":410,"value":1382},{"type":404,"tag":435,"props":1449,"children":1450},{"style":1328},[1451],{"type":410,"value":1331},{"type":404,"tag":435,"props":1453,"children":1454},{"style":454},[1455],{"type":410,"value":1391},{"type":404,"tag":435,"props":1457,"children":1458},{"class":437,"line":475},[1459,1463,1467,1471,1475,1479,1483,1487,1491,1495,1499,1504,1508,1512,1516],{"type":404,"tag":435,"props":1460,"children":1461},{"style":454},[1462],{"type":410,"value":1325},{"type":404,"tag":435,"props":1464,"children":1465},{"style":1328},[1466],{"type":410,"value":1331},{"type":404,"tag":435,"props":1468,"children":1469},{"style":1334},[1470],{"type":410,"value":1337},{"type":404,"tag":435,"props":1472,"children":1473},{"style":547},[1474],{"type":410,"value":550},{"type":404,"tag":435,"props":1476,"children":1477},{"style":753},[1478],{"type":410,"value":1346},{"type":404,"tag":435,"props":1480,"children":1481},{"style":759},[1482],{"type":410,"value":1351},{"type":404,"tag":435,"props":1484,"children":1485},{"style":753},[1486],{"type":410,"value":1346},{"type":404,"tag":435,"props":1488,"children":1489},{"style":1334},[1490],{"type":410,"value":1360},{"type":404,"tag":435,"props":1492,"children":1493},{"style":547},[1494],{"type":410,"value":550},{"type":404,"tag":435,"props":1496,"children":1497},{"style":753},[1498],{"type":410,"value":1346},{"type":404,"tag":435,"props":1500,"children":1501},{"style":759},[1502],{"type":410,"value":1503},"module3.js",{"type":404,"tag":435,"props":1505,"children":1506},{"style":753},[1507],{"type":410,"value":1346},{"type":404,"tag":435,"props":1509,"children":1510},{"style":454},[1511],{"type":410,"value":1382},{"type":404,"tag":435,"props":1513,"children":1514},{"style":1328},[1515],{"type":410,"value":1331},{"type":404,"tag":435,"props":1517,"children":1518},{"style":454},[1519],{"type":410,"value":1391},{"type":404,"tag":435,"props":1521,"children":1522},{"class":437,"line":484},[1523,1527,1531,1535,1539,1543,1547,1551,1555,1559,1563,1568,1572,1576,1580],{"type":404,"tag":435,"props":1524,"children":1525},{"style":454},[1526],{"type":410,"value":1325},{"type":404,"tag":435,"props":1528,"children":1529},{"style":1328},[1530],{"type":410,"value":1331},{"type":404,"tag":435,"props":1532,"children":1533},{"style":1334},[1534],{"type":410,"value":1337},{"type":404,"tag":435,"props":1536,"children":1537},{"style":547},[1538],{"type":410,"value":550},{"type":404,"tag":435,"props":1540,"children":1541},{"style":753},[1542],{"type":410,"value":1346},{"type":404,"tag":435,"props":1544,"children":1545},{"style":759},[1546],{"type":410,"value":1351},{"type":404,"tag":435,"props":1548,"children":1549},{"style":753},[1550],{"type":410,"value":1346},{"type":404,"tag":435,"props":1552,"children":1553},{"style":1334},[1554],{"type":410,"value":1360},{"type":404,"tag":435,"props":1556,"children":1557},{"style":547},[1558],{"type":410,"value":550},{"type":404,"tag":435,"props":1560,"children":1561},{"style":753},[1562],{"type":410,"value":1346},{"type":404,"tag":435,"props":1564,"children":1565},{"style":759},[1566],{"type":410,"value":1567},"module4.js",{"type":404,"tag":435,"props":1569,"children":1570},{"style":753},[1571],{"type":410,"value":1346},{"type":404,"tag":435,"props":1573,"children":1574},{"style":454},[1575],{"type":410,"value":1382},{"type":404,"tag":435,"props":1577,"children":1578},{"style":1328},[1579],{"type":410,"value":1331},{"type":404,"tag":435,"props":1581,"children":1582},{"style":454},[1583],{"type":410,"value":1391},{"type":404,"tag":418,"props":1585,"children":1586},{},[1587],{"type":410,"value":1588},"YUI3、KISSY 主要是通过配置的方式来解决文件依赖的问题。",{"type":404,"tag":424,"props":1590,"children":1592},{"className":426,"code":1591,"language":428,"meta":398,"style":398},"YUI.add(\n  'module1',\n  function(Y) {\n    // ...\n  },\n  '0.0.1',\n  {\n    requires: ['node', 'event']\n  }\n)\n",[1593],{"type":404,"tag":431,"props":1594,"children":1595},{"__ignoreMap":398},[1596,1618,1640,1665,1673,1681,1701,1709,1763,1770],{"type":404,"tag":435,"props":1597,"children":1598},{"class":437,"line":438},[1599,1604,1608,1613],{"type":404,"tag":435,"props":1600,"children":1601},{"style":836},[1602],{"type":410,"value":1603},"YUI",{"type":404,"tag":435,"props":1605,"children":1606},{"style":454},[1607],{"type":410,"value":626},{"type":404,"tag":435,"props":1609,"children":1610},{"style":448},[1611],{"type":410,"value":1612},"add",{"type":404,"tag":435,"props":1614,"children":1615},{"style":541},[1616],{"type":410,"value":1617},"(\n",{"type":404,"tag":435,"props":1619,"children":1620},{"class":437,"line":465},[1621,1626,1631,1635],{"type":404,"tag":435,"props":1622,"children":1623},{"style":753},[1624],{"type":410,"value":1625},"  '",{"type":404,"tag":435,"props":1627,"children":1628},{"style":759},[1629],{"type":410,"value":1630},"module1",{"type":404,"tag":435,"props":1632,"children":1633},{"style":753},[1634],{"type":410,"value":756},{"type":404,"tag":435,"props":1636,"children":1637},{"style":454},[1638],{"type":410,"value":1639},",\n",{"type":404,"tag":435,"props":1641,"children":1642},{"class":437,"line":475},[1643,1648,1652,1657,1661],{"type":404,"tag":435,"props":1644,"children":1645},{"style":442},[1646],{"type":410,"value":1647},"  function",{"type":404,"tag":435,"props":1649,"children":1650},{"style":454},[1651],{"type":410,"value":674},{"type":404,"tag":435,"props":1653,"children":1654},{"style":685},[1655],{"type":410,"value":1656},"Y",{"type":404,"tag":435,"props":1658,"children":1659},{"style":454},[1660],{"type":410,"value":693},{"type":404,"tag":435,"props":1662,"children":1663},{"style":454},[1664],{"type":410,"value":462},{"type":404,"tag":435,"props":1666,"children":1667},{"class":437,"line":484},[1668],{"type":404,"tag":435,"props":1669,"children":1670},{"style":469},[1671],{"type":410,"value":1672},"    // ...\n",{"type":404,"tag":435,"props":1674,"children":1675},{"class":437,"line":505},[1676],{"type":404,"tag":435,"props":1677,"children":1678},{"style":454},[1679],{"type":410,"value":1680},"  },\n",{"type":404,"tag":435,"props":1682,"children":1683},{"class":437,"line":513},[1684,1688,1693,1697],{"type":404,"tag":435,"props":1685,"children":1686},{"style":753},[1687],{"type":410,"value":1625},{"type":404,"tag":435,"props":1689,"children":1690},{"style":759},[1691],{"type":410,"value":1692},"0.0.1",{"type":404,"tag":435,"props":1694,"children":1695},{"style":753},[1696],{"type":410,"value":756},{"type":404,"tag":435,"props":1698,"children":1699},{"style":454},[1700],{"type":410,"value":1639},{"type":404,"tag":435,"props":1702,"children":1703},{"class":437,"line":1032},[1704],{"type":404,"tag":435,"props":1705,"children":1706},{"style":454},[1707],{"type":410,"value":1708},"  {\n",{"type":404,"tag":435,"props":1710,"children":1711},{"class":437,"line":1053},[1712,1717,1721,1726,1730,1735,1739,1744,1749,1754,1758],{"type":404,"tag":435,"props":1713,"children":1714},{"style":748},[1715],{"type":410,"value":1716},"    requires",{"type":404,"tag":435,"props":1718,"children":1719},{"style":454},[1720],{"type":410,"value":567},{"type":404,"tag":435,"props":1722,"children":1723},{"style":541},[1724],{"type":410,"value":1725}," [",{"type":404,"tag":435,"props":1727,"children":1728},{"style":753},[1729],{"type":410,"value":756},{"type":404,"tag":435,"props":1731,"children":1732},{"style":759},[1733],{"type":410,"value":1734},"node",{"type":404,"tag":435,"props":1736,"children":1737},{"style":753},[1738],{"type":410,"value":756},{"type":404,"tag":435,"props":1740,"children":1741},{"style":454},[1742],{"type":410,"value":1743},",",{"type":404,"tag":435,"props":1745,"children":1746},{"style":753},[1747],{"type":410,"value":1748}," '",{"type":404,"tag":435,"props":1750,"children":1751},{"style":759},[1752],{"type":410,"value":1753},"event",{"type":404,"tag":435,"props":1755,"children":1756},{"style":753},[1757],{"type":410,"value":756},{"type":404,"tag":435,"props":1759,"children":1760},{"style":541},[1761],{"type":410,"value":1762},"]\n",{"type":404,"tag":435,"props":1764,"children":1765},{"class":437,"line":1074},[1766],{"type":404,"tag":435,"props":1767,"children":1768},{"style":454},[1769],{"type":410,"value":779},{"type":404,"tag":435,"props":1771,"children":1772},{"class":437,"line":1087},[1773],{"type":404,"tag":435,"props":1774,"children":1775},{"style":541},[1776],{"type":410,"value":771},{"type":404,"tag":418,"props":1778,"children":1779},{},[1780],{"type":410,"value":1781},"但是也带来了命名空间冲突的问题。",{"type":404,"tag":424,"props":1783,"children":1785},{"className":426,"code":1784,"language":428,"meta":398,"style":398},"YUI().use('a', 'b', function(Y) {\n  Y.foo()\n  // foo 方法究竟是模块 a 还是 b 提供的？\n  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n})\n",[1786],{"type":404,"tag":431,"props":1787,"children":1788},{"__ignoreMap":398},[1789,1866,1886,1894,1902],{"type":404,"tag":435,"props":1790,"children":1791},{"class":437,"line":438},[1792,1796,1800,1804,1809,1813,1817,1821,1825,1829,1833,1838,1842,1846,1850,1854,1858,1862],{"type":404,"tag":435,"props":1793,"children":1794},{"style":448},[1795],{"type":410,"value":1603},{"type":404,"tag":435,"props":1797,"children":1798},{"style":541},[1799],{"type":410,"value":457},{"type":404,"tag":435,"props":1801,"children":1802},{"style":454},[1803],{"type":410,"value":626},{"type":404,"tag":435,"props":1805,"children":1806},{"style":448},[1807],{"type":410,"value":1808},"use",{"type":404,"tag":435,"props":1810,"children":1811},{"style":541},[1812],{"type":410,"value":674},{"type":404,"tag":435,"props":1814,"children":1815},{"style":753},[1816],{"type":410,"value":756},{"type":404,"tag":435,"props":1818,"children":1819},{"style":759},[1820],{"type":410,"value":810},{"type":404,"tag":435,"props":1822,"children":1823},{"style":753},[1824],{"type":410,"value":756},{"type":404,"tag":435,"props":1826,"children":1827},{"style":454},[1828],{"type":410,"value":1743},{"type":404,"tag":435,"props":1830,"children":1831},{"style":753},[1832],{"type":410,"value":1748},{"type":404,"tag":435,"props":1834,"children":1835},{"style":759},[1836],{"type":410,"value":1837},"b",{"type":404,"tag":435,"props":1839,"children":1840},{"style":753},[1841],{"type":410,"value":756},{"type":404,"tag":435,"props":1843,"children":1844},{"style":454},[1845],{"type":410,"value":1743},{"type":404,"tag":435,"props":1847,"children":1848},{"style":442},[1849],{"type":410,"value":572},{"type":404,"tag":435,"props":1851,"children":1852},{"style":454},[1853],{"type":410,"value":674},{"type":404,"tag":435,"props":1855,"children":1856},{"style":685},[1857],{"type":410,"value":1656},{"type":404,"tag":435,"props":1859,"children":1860},{"style":454},[1861],{"type":410,"value":693},{"type":404,"tag":435,"props":1863,"children":1864},{"style":454},[1865],{"type":410,"value":462},{"type":404,"tag":435,"props":1867,"children":1868},{"class":437,"line":465},[1869,1874,1878,1882],{"type":404,"tag":435,"props":1870,"children":1871},{"style":836},[1872],{"type":410,"value":1873},"  Y",{"type":404,"tag":435,"props":1875,"children":1876},{"style":454},[1877],{"type":410,"value":626},{"type":404,"tag":435,"props":1879,"children":1880},{"style":448},[1881],{"type":410,"value":631},{"type":404,"tag":435,"props":1883,"children":1884},{"style":748},[1885],{"type":410,"value":636},{"type":404,"tag":435,"props":1887,"children":1888},{"class":437,"line":475},[1889],{"type":404,"tag":435,"props":1890,"children":1891},{"style":469},[1892],{"type":410,"value":1893},"  // foo 方法究竟是模块 a 还是 b 提供的？\n",{"type":404,"tag":435,"props":1895,"children":1896},{"class":437,"line":484},[1897],{"type":404,"tag":435,"props":1898,"children":1899},{"style":469},[1900],{"type":410,"value":1901},"  // 如果模块 a 和 b 都提供 foo 方法，如何避免冲突？\n",{"type":404,"tag":435,"props":1903,"children":1904},{"class":437,"line":505},[1905,1909],{"type":404,"tag":435,"props":1906,"children":1907},{"style":454},[1908],{"type":410,"value":787},{"type":404,"tag":435,"props":1910,"children":1911},{"style":541},[1912],{"type":410,"value":771},{"type":404,"tag":418,"props":1914,"children":1915},{},[1916],{"type":410,"value":1917},"为什么我们需要模块化？",{"type":404,"tag":418,"props":1919,"children":1920},{},[1921],{"type":410,"value":1922},"当下来看，页面内应用正在变得复杂，我们需要使用模块解耦各个 JS 文件，使开发过程变得可维护，在部署过程中优化以提高页面加载性能。",{"type":404,"tag":1924,"props":1925,"children":1926},"ul",{},[1927,1933,1938],{"type":404,"tag":1928,"props":1929,"children":1930},"li",{},[1931],{"type":410,"value":1932},"如何安全的把模块的 API 暴漏出去？",{"type":404,"tag":1928,"props":1934,"children":1935},{},[1936],{"type":410,"value":1937},"如何唯一标识一个模块？",{"type":404,"tag":1928,"props":1939,"children":1940},{},[1941],{"type":410,"value":1942},"如何方便的使用所依赖的模块？",{"type":404,"tag":412,"props":1944,"children":1946},{"id":1945},"模块化规范演变",[1947],{"type":410,"value":1945},{"type":404,"tag":418,"props":1949,"children":1950},{},[1951],{"type":410,"value":1952},"目前有三种主流的模块加载方式，",{"type":404,"tag":1924,"props":1954,"children":1955},{},[1956,1961,1966],{"type":404,"tag":1928,"props":1957,"children":1958},{},[1959],{"type":410,"value":1960},"CommonJS",{"type":404,"tag":1928,"props":1962,"children":1963},{},[1964],{"type":410,"value":1965},"AMD（Asynchronous Module Definition）/ CMD / UMD",{"type":404,"tag":1928,"props":1967,"children":1968},{},[1969],{"type":410,"value":1970},"ES Module",{"type":404,"tag":418,"props":1972,"children":1973},{},[1974],{"type":410,"value":1975},"CommonJS 原名为 ServerJS，推出 Modules/1.0 规范后，在 Node.js 环境下取得了很不错的实践。",{"type":404,"tag":424,"props":1977,"children":1979},{"className":426,"code":1978,"language":428,"meta":398,"style":398},"// Define in math.js\nexports.sum = function(...numbers) {\n  return numbers.reduce((result, num) => result + num, 0)\n}\n\n// Use in other file\nvar math = require('math')\nmath.sum(1, 3)\n",[1980],{"type":404,"tag":431,"props":1981,"children":1982},{"__ignoreMap":398},[1983,1991,2039,2119,2126,2133,2141,2183],{"type":404,"tag":435,"props":1984,"children":1985},{"class":437,"line":438},[1986],{"type":404,"tag":435,"props":1987,"children":1988},{"style":469},[1989],{"type":410,"value":1990},"// Define in math.js\n",{"type":404,"tag":435,"props":1992,"children":1993},{"class":437,"line":465},[1994,2000,2004,2009,2013,2017,2021,2026,2031,2035],{"type":404,"tag":435,"props":1995,"children":1997},{"style":1996},"--shiki-light:#39ADB5;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1998],{"type":410,"value":1999},"exports",{"type":404,"tag":435,"props":2001,"children":2002},{"style":454},[2003],{"type":410,"value":626},{"type":404,"tag":435,"props":2005,"children":2006},{"style":448},[2007],{"type":410,"value":2008},"sum",{"type":404,"tag":435,"props":2010,"children":2011},{"style":547},[2012],{"type":410,"value":716},{"type":404,"tag":435,"props":2014,"children":2015},{"style":442},[2016],{"type":410,"value":572},{"type":404,"tag":435,"props":2018,"children":2019},{"style":454},[2020],{"type":410,"value":674},{"type":404,"tag":435,"props":2022,"children":2023},{"style":547},[2024],{"type":410,"value":2025},"...",{"type":404,"tag":435,"props":2027,"children":2028},{"style":685},[2029],{"type":410,"value":2030},"numbers",{"type":404,"tag":435,"props":2032,"children":2033},{"style":454},[2034],{"type":410,"value":693},{"type":404,"tag":435,"props":2036,"children":2037},{"style":454},[2038],{"type":410,"value":462},{"type":404,"tag":435,"props":2040,"children":2041},{"class":437,"line":475},[2042,2046,2051,2055,2060,2064,2068,2073,2077,2082,2086,2091,2096,2101,2105,2109,2115],{"type":404,"tag":435,"props":2043,"children":2044},{"style":1262},[2045],{"type":410,"value":1265},{"type":404,"tag":435,"props":2047,"children":2048},{"style":541},[2049],{"type":410,"value":2050}," numbers",{"type":404,"tag":435,"props":2052,"children":2053},{"style":454},[2054],{"type":410,"value":626},{"type":404,"tag":435,"props":2056,"children":2057},{"style":448},[2058],{"type":410,"value":2059},"reduce",{"type":404,"tag":435,"props":2061,"children":2062},{"style":748},[2063],{"type":410,"value":674},{"type":404,"tag":435,"props":2065,"children":2066},{"style":454},[2067],{"type":410,"value":674},{"type":404,"tag":435,"props":2069,"children":2070},{"style":685},[2071],{"type":410,"value":2072},"result",{"type":404,"tag":435,"props":2074,"children":2075},{"style":454},[2076],{"type":410,"value":1743},{"type":404,"tag":435,"props":2078,"children":2079},{"style":685},[2080],{"type":410,"value":2081}," num",{"type":404,"tag":435,"props":2083,"children":2084},{"style":454},[2085],{"type":410,"value":693},{"type":404,"tag":435,"props":2087,"children":2088},{"style":442},[2089],{"type":410,"value":2090}," =>",{"type":404,"tag":435,"props":2092,"children":2093},{"style":541},[2094],{"type":410,"value":2095}," result",{"type":404,"tag":435,"props":2097,"children":2098},{"style":547},[2099],{"type":410,"value":2100}," +",{"type":404,"tag":435,"props":2102,"children":2103},{"style":541},[2104],{"type":410,"value":2081},{"type":404,"tag":435,"props":2106,"children":2107},{"style":454},[2108],{"type":410,"value":1743},{"type":404,"tag":435,"props":2110,"children":2112},{"style":2111},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2113],{"type":410,"value":2114}," 0",{"type":404,"tag":435,"props":2116,"children":2117},{"style":748},[2118],{"type":410,"value":771},{"type":404,"tag":435,"props":2120,"children":2121},{"class":437,"line":484},[2122],{"type":404,"tag":435,"props":2123,"children":2124},{"style":454},[2125],{"type":410,"value":481},{"type":404,"tag":435,"props":2127,"children":2128},{"class":437,"line":505},[2129],{"type":404,"tag":435,"props":2130,"children":2131},{"emptyLinePlaceholder":397},[2132],{"type":410,"value":1255},{"type":404,"tag":435,"props":2134,"children":2135},{"class":437,"line":513},[2136],{"type":404,"tag":435,"props":2137,"children":2138},{"style":469},[2139],{"type":410,"value":2140},"// Use in other file\n",{"type":404,"tag":435,"props":2142,"children":2143},{"class":437,"line":1032},[2144,2148,2153,2157,2162,2166,2170,2175,2179],{"type":404,"tag":435,"props":2145,"children":2146},{"style":442},[2147],{"type":410,"value":538},{"type":404,"tag":435,"props":2149,"children":2150},{"style":541},[2151],{"type":410,"value":2152}," math ",{"type":404,"tag":435,"props":2154,"children":2155},{"style":547},[2156],{"type":410,"value":550},{"type":404,"tag":435,"props":2158,"children":2159},{"style":448},[2160],{"type":410,"value":2161}," require",{"type":404,"tag":435,"props":2163,"children":2164},{"style":541},[2165],{"type":410,"value":674},{"type":404,"tag":435,"props":2167,"children":2168},{"style":753},[2169],{"type":410,"value":756},{"type":404,"tag":435,"props":2171,"children":2172},{"style":759},[2173],{"type":410,"value":2174},"math",{"type":404,"tag":435,"props":2176,"children":2177},{"style":753},[2178],{"type":410,"value":756},{"type":404,"tag":435,"props":2180,"children":2181},{"style":541},[2182],{"type":410,"value":771},{"type":404,"tag":435,"props":2184,"children":2185},{"class":437,"line":1053},[2186,2190,2194,2198,2202,2207,2211,2216],{"type":404,"tag":435,"props":2187,"children":2188},{"style":541},[2189],{"type":410,"value":2174},{"type":404,"tag":435,"props":2191,"children":2192},{"style":454},[2193],{"type":410,"value":626},{"type":404,"tag":435,"props":2195,"children":2196},{"style":448},[2197],{"type":410,"value":2008},{"type":404,"tag":435,"props":2199,"children":2200},{"style":541},[2201],{"type":410,"value":674},{"type":404,"tag":435,"props":2203,"children":2204},{"style":2111},[2205],{"type":410,"value":2206},"1",{"type":404,"tag":435,"props":2208,"children":2209},{"style":454},[2210],{"type":410,"value":1743},{"type":404,"tag":435,"props":2212,"children":2213},{"style":2111},[2214],{"type":410,"value":2215}," 3",{"type":404,"tag":435,"props":2217,"children":2218},{"style":541},[2219],{"type":410,"value":771},{"type":404,"tag":418,"props":2221,"children":2222},{},[2223],{"type":410,"value":2224},"ServerJS 想进一步推广到浏览器端，于是将社区改名叫 CommonJS。激烈争论 Modules 的下一版规范时，分歧和冲突由此诞生。",{"type":404,"tag":418,"props":2226,"children":2227},{},[2228],{"type":410,"value":2229},"James Burke 推荐直接改良 CommonJS 的模块格式以适应浏览器端开发，但是 CommonJS 的发起者并不同意，这也就催生了 RequireJS。James Burke 制定了 AMD 规范，并在 2010 年实现了遵循 AMD 规范的模块加载器 RequireJS。",{"type":404,"tag":424,"props":2231,"children":2233},{"className":426,"code":2232,"language":428,"meta":398,"style":398},"require(['module/module1.js', 'module/module2.js'], function(module1, module2) {\n  module1.printModule1FileName()\n  module2.printModule2FileName()\n})\n",[2234],{"type":404,"tag":431,"props":2235,"children":2236},{"__ignoreMap":398},[2237,2318,2339,2360],{"type":404,"tag":435,"props":2238,"children":2239},{"class":437,"line":438},[2240,2245,2250,2254,2259,2263,2267,2271,2276,2280,2285,2289,2293,2297,2301,2305,2310,2314],{"type":404,"tag":435,"props":2241,"children":2242},{"style":448},[2243],{"type":410,"value":2244},"require",{"type":404,"tag":435,"props":2246,"children":2247},{"style":541},[2248],{"type":410,"value":2249},"([",{"type":404,"tag":435,"props":2251,"children":2252},{"style":753},[2253],{"type":410,"value":756},{"type":404,"tag":435,"props":2255,"children":2256},{"style":759},[2257],{"type":410,"value":2258},"module/module1.js",{"type":404,"tag":435,"props":2260,"children":2261},{"style":753},[2262],{"type":410,"value":756},{"type":404,"tag":435,"props":2264,"children":2265},{"style":454},[2266],{"type":410,"value":1743},{"type":404,"tag":435,"props":2268,"children":2269},{"style":753},[2270],{"type":410,"value":1748},{"type":404,"tag":435,"props":2272,"children":2273},{"style":759},[2274],{"type":410,"value":2275},"module/module2.js",{"type":404,"tag":435,"props":2277,"children":2278},{"style":753},[2279],{"type":410,"value":756},{"type":404,"tag":435,"props":2281,"children":2282},{"style":541},[2283],{"type":410,"value":2284},"]",{"type":404,"tag":435,"props":2286,"children":2287},{"style":454},[2288],{"type":410,"value":1743},{"type":404,"tag":435,"props":2290,"children":2291},{"style":442},[2292],{"type":410,"value":572},{"type":404,"tag":435,"props":2294,"children":2295},{"style":454},[2296],{"type":410,"value":674},{"type":404,"tag":435,"props":2298,"children":2299},{"style":685},[2300],{"type":410,"value":1630},{"type":404,"tag":435,"props":2302,"children":2303},{"style":454},[2304],{"type":410,"value":1743},{"type":404,"tag":435,"props":2306,"children":2307},{"style":685},[2308],{"type":410,"value":2309}," module2",{"type":404,"tag":435,"props":2311,"children":2312},{"style":454},[2313],{"type":410,"value":693},{"type":404,"tag":435,"props":2315,"children":2316},{"style":454},[2317],{"type":410,"value":462},{"type":404,"tag":435,"props":2319,"children":2320},{"class":437,"line":465},[2321,2326,2330,2335],{"type":404,"tag":435,"props":2322,"children":2323},{"style":541},[2324],{"type":410,"value":2325},"  module1",{"type":404,"tag":435,"props":2327,"children":2328},{"style":454},[2329],{"type":410,"value":626},{"type":404,"tag":435,"props":2331,"children":2332},{"style":448},[2333],{"type":410,"value":2334},"printModule1FileName",{"type":404,"tag":435,"props":2336,"children":2337},{"style":748},[2338],{"type":410,"value":636},{"type":404,"tag":435,"props":2340,"children":2341},{"class":437,"line":475},[2342,2347,2351,2356],{"type":404,"tag":435,"props":2343,"children":2344},{"style":541},[2345],{"type":410,"value":2346},"  module2",{"type":404,"tag":435,"props":2348,"children":2349},{"style":454},[2350],{"type":410,"value":626},{"type":404,"tag":435,"props":2352,"children":2353},{"style":448},[2354],{"type":410,"value":2355},"printModule2FileName",{"type":404,"tag":435,"props":2357,"children":2358},{"style":748},[2359],{"type":410,"value":636},{"type":404,"tag":435,"props":2361,"children":2362},{"class":437,"line":484},[2363,2367],{"type":404,"tag":435,"props":2364,"children":2365},{"style":454},[2366],{"type":410,"value":787},{"type":404,"tag":435,"props":2368,"children":2369},{"style":541},[2370],{"type":410,"value":771},{"type":404,"tag":418,"props":2372,"children":2373},{},[2374],{"type":410,"value":2375},"玉伯认为 RequireJS 不够完善，并从头开始实现模块加载程序 SeaJS。CMD 是 SeaJS 在推广过程中对模块定义的规范化产出。",{"type":404,"tag":424,"props":2377,"children":2379},{"className":426,"code":2378,"language":428,"meta":398,"style":398},"define(function(require, exports, module) {\n  // AMD推崇依赖前置，而CMD推崇依赖就近\n  const a = require('./a')\n  a.test()\n\n  // 软依赖\n  if (status) {\n    const b = require('./b')\n    b.test()\n  }\n})\n",[2380],{"type":404,"tag":431,"props":2381,"children":2382},{"__ignoreMap":398},[2383,2433,2441,2482,2503,2510,2518,2545,2587,2607,2614],{"type":404,"tag":435,"props":2384,"children":2385},{"class":437,"line":438},[2386,2391,2395,2399,2403,2407,2411,2416,2420,2425,2429],{"type":404,"tag":435,"props":2387,"children":2388},{"style":448},[2389],{"type":410,"value":2390},"define",{"type":404,"tag":435,"props":2392,"children":2393},{"style":541},[2394],{"type":410,"value":674},{"type":404,"tag":435,"props":2396,"children":2397},{"style":442},[2398],{"type":410,"value":445},{"type":404,"tag":435,"props":2400,"children":2401},{"style":454},[2402],{"type":410,"value":674},{"type":404,"tag":435,"props":2404,"children":2405},{"style":685},[2406],{"type":410,"value":2244},{"type":404,"tag":435,"props":2408,"children":2409},{"style":454},[2410],{"type":410,"value":1743},{"type":404,"tag":435,"props":2412,"children":2413},{"style":685},[2414],{"type":410,"value":2415}," exports",{"type":404,"tag":435,"props":2417,"children":2418},{"style":454},[2419],{"type":410,"value":1743},{"type":404,"tag":435,"props":2421,"children":2422},{"style":685},[2423],{"type":410,"value":2424}," module",{"type":404,"tag":435,"props":2426,"children":2427},{"style":454},[2428],{"type":410,"value":693},{"type":404,"tag":435,"props":2430,"children":2431},{"style":454},[2432],{"type":410,"value":462},{"type":404,"tag":435,"props":2434,"children":2435},{"class":437,"line":465},[2436],{"type":404,"tag":435,"props":2437,"children":2438},{"style":469},[2439],{"type":410,"value":2440},"  // AMD推崇依赖前置，而CMD推崇依赖就近\n",{"type":404,"tag":435,"props":2442,"children":2443},{"class":437,"line":475},[2444,2448,2453,2457,2461,2465,2469,2474,2478],{"type":404,"tag":435,"props":2445,"children":2446},{"style":442},[2447],{"type":410,"value":705},{"type":404,"tag":435,"props":2449,"children":2450},{"style":836},[2451],{"type":410,"value":2452}," a",{"type":404,"tag":435,"props":2454,"children":2455},{"style":547},[2456],{"type":410,"value":716},{"type":404,"tag":435,"props":2458,"children":2459},{"style":448},[2460],{"type":410,"value":2161},{"type":404,"tag":435,"props":2462,"children":2463},{"style":748},[2464],{"type":410,"value":674},{"type":404,"tag":435,"props":2466,"children":2467},{"style":753},[2468],{"type":410,"value":756},{"type":404,"tag":435,"props":2470,"children":2471},{"style":759},[2472],{"type":410,"value":2473},"./a",{"type":404,"tag":435,"props":2475,"children":2476},{"style":753},[2477],{"type":410,"value":756},{"type":404,"tag":435,"props":2479,"children":2480},{"style":748},[2481],{"type":410,"value":771},{"type":404,"tag":435,"props":2483,"children":2484},{"class":437,"line":484},[2485,2490,2494,2499],{"type":404,"tag":435,"props":2486,"children":2487},{"style":541},[2488],{"type":410,"value":2489},"  a",{"type":404,"tag":435,"props":2491,"children":2492},{"style":454},[2493],{"type":410,"value":626},{"type":404,"tag":435,"props":2495,"children":2496},{"style":448},[2497],{"type":410,"value":2498},"test",{"type":404,"tag":435,"props":2500,"children":2501},{"style":748},[2502],{"type":410,"value":636},{"type":404,"tag":435,"props":2504,"children":2505},{"class":437,"line":505},[2506],{"type":404,"tag":435,"props":2507,"children":2508},{"emptyLinePlaceholder":397},[2509],{"type":410,"value":1255},{"type":404,"tag":435,"props":2511,"children":2512},{"class":437,"line":513},[2513],{"type":404,"tag":435,"props":2514,"children":2515},{"style":469},[2516],{"type":410,"value":2517},"  // 软依赖\n",{"type":404,"tag":435,"props":2519,"children":2520},{"class":437,"line":1032},[2521,2526,2530,2535,2540],{"type":404,"tag":435,"props":2522,"children":2523},{"style":1262},[2524],{"type":410,"value":2525},"  if",{"type":404,"tag":435,"props":2527,"children":2528},{"style":748},[2529],{"type":410,"value":848},{"type":404,"tag":435,"props":2531,"children":2532},{"style":541},[2533],{"type":410,"value":2534},"status",{"type":404,"tag":435,"props":2536,"children":2537},{"style":748},[2538],{"type":410,"value":2539},") ",{"type":404,"tag":435,"props":2541,"children":2542},{"style":454},[2543],{"type":410,"value":2544},"{\n",{"type":404,"tag":435,"props":2546,"children":2547},{"class":437,"line":1053},[2548,2553,2558,2562,2566,2570,2574,2579,2583],{"type":404,"tag":435,"props":2549,"children":2550},{"style":442},[2551],{"type":410,"value":2552},"    const",{"type":404,"tag":435,"props":2554,"children":2555},{"style":836},[2556],{"type":410,"value":2557}," b",{"type":404,"tag":435,"props":2559,"children":2560},{"style":547},[2561],{"type":410,"value":716},{"type":404,"tag":435,"props":2563,"children":2564},{"style":448},[2565],{"type":410,"value":2161},{"type":404,"tag":435,"props":2567,"children":2568},{"style":748},[2569],{"type":410,"value":674},{"type":404,"tag":435,"props":2571,"children":2572},{"style":753},[2573],{"type":410,"value":756},{"type":404,"tag":435,"props":2575,"children":2576},{"style":759},[2577],{"type":410,"value":2578},"./b",{"type":404,"tag":435,"props":2580,"children":2581},{"style":753},[2582],{"type":410,"value":756},{"type":404,"tag":435,"props":2584,"children":2585},{"style":748},[2586],{"type":410,"value":771},{"type":404,"tag":435,"props":2588,"children":2589},{"class":437,"line":1074},[2590,2595,2599,2603],{"type":404,"tag":435,"props":2591,"children":2592},{"style":541},[2593],{"type":410,"value":2594},"    b",{"type":404,"tag":435,"props":2596,"children":2597},{"style":454},[2598],{"type":410,"value":626},{"type":404,"tag":435,"props":2600,"children":2601},{"style":448},[2602],{"type":410,"value":2498},{"type":404,"tag":435,"props":2604,"children":2605},{"style":748},[2606],{"type":410,"value":636},{"type":404,"tag":435,"props":2608,"children":2609},{"class":437,"line":1087},[2610],{"type":404,"tag":435,"props":2611,"children":2612},{"style":454},[2613],{"type":410,"value":779},{"type":404,"tag":435,"props":2615,"children":2616},{"class":437,"line":1125},[2617,2621],{"type":404,"tag":435,"props":2618,"children":2619},{"style":454},[2620],{"type":410,"value":787},{"type":404,"tag":435,"props":2622,"children":2623},{"style":541},[2624],{"type":410,"value":771},{"type":404,"tag":418,"props":2626,"children":2627},{},[2628],{"type":410,"value":2629},"UMD 统一 CommonJS 和 AMD，所以 UMD 定义的模块可以同时在客户端和服务端使用：",{"type":404,"tag":424,"props":2631,"children":2633},{"className":426,"code":2632,"language":428,"meta":398,"style":398},";(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self), (global.myModule = factory()))\n})(this, function() {\n  return myModule\n})\n",[2634],{"type":404,"tag":431,"props":2635,"children":2636},{"__ignoreMap":398},[2637,2678,2741,2779,2829,2853,2925,2958,2970],{"type":404,"tag":435,"props":2638,"children":2639},{"class":437,"line":438},[2640,2644,2648,2652,2656,2661,2665,2670,2674],{"type":404,"tag":435,"props":2641,"children":2642},{"style":454},[2643],{"type":410,"value":669},{"type":404,"tag":435,"props":2645,"children":2646},{"style":541},[2647],{"type":410,"value":674},{"type":404,"tag":435,"props":2649,"children":2650},{"style":442},[2651],{"type":410,"value":445},{"type":404,"tag":435,"props":2653,"children":2654},{"style":454},[2655],{"type":410,"value":674},{"type":404,"tag":435,"props":2657,"children":2658},{"style":685},[2659],{"type":410,"value":2660},"global",{"type":404,"tag":435,"props":2662,"children":2663},{"style":454},[2664],{"type":410,"value":1743},{"type":404,"tag":435,"props":2666,"children":2667},{"style":685},[2668],{"type":410,"value":2669}," factory",{"type":404,"tag":435,"props":2671,"children":2672},{"style":454},[2673],{"type":410,"value":693},{"type":404,"tag":435,"props":2675,"children":2676},{"style":454},[2677],{"type":410,"value":462},{"type":404,"tag":435,"props":2679,"children":2680},{"class":437,"line":465},[2681,2686,2690,2695,2699,2704,2708,2713,2718,2722,2727,2731,2736],{"type":404,"tag":435,"props":2682,"children":2683},{"style":547},[2684],{"type":410,"value":2685},"  typeof",{"type":404,"tag":435,"props":2687,"children":2688},{"style":1996},[2689],{"type":410,"value":2415},{"type":404,"tag":435,"props":2691,"children":2692},{"style":547},[2693],{"type":410,"value":2694}," ===",{"type":404,"tag":435,"props":2696,"children":2697},{"style":753},[2698],{"type":410,"value":1748},{"type":404,"tag":435,"props":2700,"children":2701},{"style":759},[2702],{"type":410,"value":2703},"object",{"type":404,"tag":435,"props":2705,"children":2706},{"style":753},[2707],{"type":410,"value":756},{"type":404,"tag":435,"props":2709,"children":2710},{"style":547},[2711],{"type":410,"value":2712}," &&",{"type":404,"tag":435,"props":2714,"children":2715},{"style":547},[2716],{"type":410,"value":2717}," typeof",{"type":404,"tag":435,"props":2719,"children":2720},{"style":1996},[2721],{"type":410,"value":2424},{"type":404,"tag":435,"props":2723,"children":2724},{"style":547},[2725],{"type":410,"value":2726}," !==",{"type":404,"tag":435,"props":2728,"children":2729},{"style":753},[2730],{"type":410,"value":1748},{"type":404,"tag":435,"props":2732,"children":2733},{"style":759},[2734],{"type":410,"value":2735},"undefined",{"type":404,"tag":435,"props":2737,"children":2738},{"style":753},[2739],{"type":410,"value":2740},"'\n",{"type":404,"tag":435,"props":2742,"children":2743},{"class":437,"line":475},[2744,2749,2753,2758,2762,2766,2770,2774],{"type":404,"tag":435,"props":2745,"children":2746},{"style":547},[2747],{"type":410,"value":2748},"    ?",{"type":404,"tag":435,"props":2750,"children":2751},{"style":748},[2752],{"type":410,"value":848},{"type":404,"tag":435,"props":2754,"children":2755},{"style":1996},[2756],{"type":410,"value":2757},"module",{"type":404,"tag":435,"props":2759,"children":2760},{"style":454},[2761],{"type":410,"value":626},{"type":404,"tag":435,"props":2763,"children":2764},{"style":1996},[2765],{"type":410,"value":1999},{"type":404,"tag":435,"props":2767,"children":2768},{"style":547},[2769],{"type":410,"value":716},{"type":404,"tag":435,"props":2771,"children":2772},{"style":448},[2773],{"type":410,"value":2669},{"type":404,"tag":435,"props":2775,"children":2776},{"style":748},[2777],{"type":410,"value":2778},"())\n",{"type":404,"tag":435,"props":2780,"children":2781},{"class":437,"line":484},[2782,2787,2791,2796,2800,2804,2808,2812,2816,2820,2824],{"type":404,"tag":435,"props":2783,"children":2784},{"style":547},[2785],{"type":410,"value":2786},"    :",{"type":404,"tag":435,"props":2788,"children":2789},{"style":547},[2790],{"type":410,"value":2717},{"type":404,"tag":435,"props":2792,"children":2793},{"style":541},[2794],{"type":410,"value":2795}," define",{"type":404,"tag":435,"props":2797,"children":2798},{"style":547},[2799],{"type":410,"value":2694},{"type":404,"tag":435,"props":2801,"children":2802},{"style":753},[2803],{"type":410,"value":1748},{"type":404,"tag":435,"props":2805,"children":2806},{"style":759},[2807],{"type":410,"value":445},{"type":404,"tag":435,"props":2809,"children":2810},{"style":753},[2811],{"type":410,"value":756},{"type":404,"tag":435,"props":2813,"children":2814},{"style":547},[2815],{"type":410,"value":2712},{"type":404,"tag":435,"props":2817,"children":2818},{"style":541},[2819],{"type":410,"value":2795},{"type":404,"tag":435,"props":2821,"children":2822},{"style":454},[2823],{"type":410,"value":626},{"type":404,"tag":435,"props":2825,"children":2826},{"style":541},[2827],{"type":410,"value":2828},"amd\n",{"type":404,"tag":435,"props":2830,"children":2831},{"class":437,"line":505},[2832,2836,2840,2844,2849],{"type":404,"tag":435,"props":2833,"children":2834},{"style":547},[2835],{"type":410,"value":2748},{"type":404,"tag":435,"props":2837,"children":2838},{"style":448},[2839],{"type":410,"value":2795},{"type":404,"tag":435,"props":2841,"children":2842},{"style":748},[2843],{"type":410,"value":674},{"type":404,"tag":435,"props":2845,"children":2846},{"style":541},[2847],{"type":410,"value":2848},"factory",{"type":404,"tag":435,"props":2850,"children":2851},{"style":748},[2852],{"type":410,"value":771},{"type":404,"tag":435,"props":2854,"children":2855},{"class":437,"line":513},[2856,2860,2865,2869,2873,2878,2882,2887,2891,2895,2899,2903,2907,2912,2916,2920],{"type":404,"tag":435,"props":2857,"children":2858},{"style":547},[2859],{"type":410,"value":2786},{"type":404,"tag":435,"props":2861,"children":2862},{"style":748},[2863],{"type":410,"value":2864}," ((",{"type":404,"tag":435,"props":2866,"children":2867},{"style":541},[2868],{"type":410,"value":2660},{"type":404,"tag":435,"props":2870,"children":2871},{"style":547},[2872],{"type":410,"value":716},{"type":404,"tag":435,"props":2874,"children":2875},{"style":541},[2876],{"type":410,"value":2877}," global",{"type":404,"tag":435,"props":2879,"children":2880},{"style":547},[2881],{"type":410,"value":924},{"type":404,"tag":435,"props":2883,"children":2884},{"style":541},[2885],{"type":410,"value":2886}," self",{"type":404,"tag":435,"props":2888,"children":2889},{"style":748},[2890],{"type":410,"value":693},{"type":404,"tag":435,"props":2892,"children":2893},{"style":454},[2894],{"type":410,"value":1743},{"type":404,"tag":435,"props":2896,"children":2897},{"style":748},[2898],{"type":410,"value":848},{"type":404,"tag":435,"props":2900,"children":2901},{"style":541},[2902],{"type":410,"value":2660},{"type":404,"tag":435,"props":2904,"children":2905},{"style":454},[2906],{"type":410,"value":626},{"type":404,"tag":435,"props":2908,"children":2909},{"style":541},[2910],{"type":410,"value":2911},"myModule",{"type":404,"tag":435,"props":2913,"children":2914},{"style":547},[2915],{"type":410,"value":716},{"type":404,"tag":435,"props":2917,"children":2918},{"style":448},[2919],{"type":410,"value":2669},{"type":404,"tag":435,"props":2921,"children":2922},{"style":748},[2923],{"type":410,"value":2924},"()))\n",{"type":404,"tag":435,"props":2926,"children":2927},{"class":437,"line":1032},[2928,2932,2936,2942,2946,2950,2954],{"type":404,"tag":435,"props":2929,"children":2930},{"style":454},[2931],{"type":410,"value":787},{"type":404,"tag":435,"props":2933,"children":2934},{"style":541},[2935],{"type":410,"value":1283},{"type":404,"tag":435,"props":2937,"children":2939},{"style":2938},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2940],{"type":410,"value":2941},"this",{"type":404,"tag":435,"props":2943,"children":2944},{"style":454},[2945],{"type":410,"value":1743},{"type":404,"tag":435,"props":2947,"children":2948},{"style":442},[2949],{"type":410,"value":572},{"type":404,"tag":435,"props":2951,"children":2952},{"style":454},[2953],{"type":410,"value":457},{"type":404,"tag":435,"props":2955,"children":2956},{"style":454},[2957],{"type":410,"value":462},{"type":404,"tag":435,"props":2959,"children":2960},{"class":437,"line":1053},[2961,2965],{"type":404,"tag":435,"props":2962,"children":2963},{"style":1262},[2964],{"type":410,"value":1265},{"type":404,"tag":435,"props":2966,"children":2967},{"style":541},[2968],{"type":410,"value":2969}," myModule\n",{"type":404,"tag":435,"props":2971,"children":2972},{"class":437,"line":1074},[2973,2977],{"type":404,"tag":435,"props":2974,"children":2975},{"style":454},[2976],{"type":410,"value":787},{"type":404,"tag":435,"props":2978,"children":2979},{"style":541},[2980],{"type":410,"value":771},{"type":404,"tag":412,"props":2982,"children":2984},{"id":2983},"现代模块规范-es-module",[2985],{"type":410,"value":2986},"现代模块规范 ES Module",{"type":404,"tag":418,"props":2988,"children":2989},{},[2990,2992,2998],{"type":410,"value":2991},"2015 年 6 月， ECMAScript6 标准正式发布，其中 ES 模块化规范的提出目标是整合 CommonJS、AMD 等已有模块方案，",{"type":404,"tag":2993,"props":2994,"children":2995},"strong",{},[2996],{"type":410,"value":2997},"在语言标准层面实现模块化",{"type":410,"value":2999},"，成为浏览器和服务器通用的模块解决方案。",{"type":404,"tag":424,"props":3001,"children":3003},{"className":426,"code":3002,"language":428,"meta":398,"style":398},"import { foo, bar } from '/modules/my-module.js'\n\nexport const foo = Math.sqrt(2)\n",[3004],{"type":404,"tag":431,"props":3005,"children":3006},{"__ignoreMap":398},[3007,3055,3062],{"type":404,"tag":435,"props":3008,"children":3009},{"class":437,"line":438},[3010,3015,3020,3024,3028,3032,3037,3042,3046,3051],{"type":404,"tag":435,"props":3011,"children":3012},{"style":1262},[3013],{"type":410,"value":3014},"import",{"type":404,"tag":435,"props":3016,"children":3017},{"style":454},[3018],{"type":410,"value":3019}," {",{"type":404,"tag":435,"props":3021,"children":3022},{"style":541},[3023],{"type":410,"value":451},{"type":404,"tag":435,"props":3025,"children":3026},{"style":454},[3027],{"type":410,"value":1743},{"type":404,"tag":435,"props":3029,"children":3030},{"style":541},[3031],{"type":410,"value":494},{"type":404,"tag":435,"props":3033,"children":3034},{"style":454},[3035],{"type":410,"value":3036}," }",{"type":404,"tag":435,"props":3038,"children":3039},{"style":1262},[3040],{"type":410,"value":3041}," from",{"type":404,"tag":435,"props":3043,"children":3044},{"style":753},[3045],{"type":410,"value":1748},{"type":404,"tag":435,"props":3047,"children":3048},{"style":759},[3049],{"type":410,"value":3050},"/modules/my-module.js",{"type":404,"tag":435,"props":3052,"children":3053},{"style":753},[3054],{"type":410,"value":2740},{"type":404,"tag":435,"props":3056,"children":3057},{"class":437,"line":465},[3058],{"type":404,"tag":435,"props":3059,"children":3060},{"emptyLinePlaceholder":397},[3061],{"type":410,"value":1255},{"type":404,"tag":435,"props":3063,"children":3064},{"class":437,"line":475},[3065,3070,3075,3079,3083,3088,3092,3097,3101,3106],{"type":404,"tag":435,"props":3066,"children":3067},{"style":1262},[3068],{"type":410,"value":3069},"export",{"type":404,"tag":435,"props":3071,"children":3072},{"style":442},[3073],{"type":410,"value":3074}," const",{"type":404,"tag":435,"props":3076,"children":3077},{"style":836},[3078],{"type":410,"value":451},{"type":404,"tag":435,"props":3080,"children":3081},{"style":547},[3082],{"type":410,"value":716},{"type":404,"tag":435,"props":3084,"children":3085},{"style":541},[3086],{"type":410,"value":3087}," Math",{"type":404,"tag":435,"props":3089,"children":3090},{"style":454},[3091],{"type":410,"value":626},{"type":404,"tag":435,"props":3093,"children":3094},{"style":448},[3095],{"type":410,"value":3096},"sqrt",{"type":404,"tag":435,"props":3098,"children":3099},{"style":541},[3100],{"type":410,"value":674},{"type":404,"tag":435,"props":3102,"children":3103},{"style":2111},[3104],{"type":410,"value":3105},"2",{"type":404,"tag":435,"props":3107,"children":3108},{"style":541},[3109],{"type":410,"value":771},{"type":404,"tag":418,"props":3111,"children":3112},{},[3113],{"type":410,"value":3114},"为什么 ES 模块比 CommonJS 更好？我引用 RollupJS 文档中的一段加以解释：",{"type":404,"tag":418,"props":3116,"children":3117},{},[3118],{"type":410,"value":3119},"ES Module 是官方标准，也是 JavaScript 语言明确的发展方向，而 CommonJS 模块是一种特殊的传统格式，在 ES 模块被提出之前做为暂时的解决方案。 ES 模块允许进行静态分析，从而实现像 tree-shaking 的优化，并提供诸如循环引用和动态绑定等高级功能。",{"type":404,"tag":418,"props":3121,"children":3122},{},[3123,3125,3131],{"type":410,"value":3124},"在浏览器中，需要使用特定属性的脚本标签，以支持 ES Module 规范（ ",{"type":404,"tag":431,"props":3126,"children":3128},{"className":3127},[],[3129],{"type":410,"value":3130},"\u003Cscript type=\"module\">",{"type":410,"value":3132}," ）。",{"type":404,"tag":3134,"props":3135,"children":3137},"h4",{"id":3136},"兼容性",[3138],{"type":410,"value":3136},{"type":404,"tag":418,"props":3140,"children":3141},{},[3142],{"type":410,"value":3143},"截止 2020 年 5 月 18 日，各大浏览器兼容 ES Module 情况如下：",{"type":404,"tag":418,"props":3145,"children":3146},{},[3147,3149,3155,3157,3163],{"type":410,"value":3148},"在 NodeJS 中（Version >= 8.5），需要打开一个开关（",{"type":404,"tag":431,"props":3150,"children":3152},{"className":3151},[],[3153],{"type":410,"value":3154},"--experimental-modules",{"type":410,"value":3156},"），以支持 ES Module 规范，但是需要模块的文件名为 ",{"type":404,"tag":431,"props":3158,"children":3160},{"className":3159},[],[3161],{"type":410,"value":3162},".mjs",{"type":410,"value":3164},"。",{"type":404,"tag":3134,"props":3166,"children":3168},{"id":3167},"动态-import",[3169],{"type":410,"value":3170},"动态 Import",{"type":404,"tag":418,"props":3172,"children":3173},{},[3174],{"type":410,"value":3175},"动态 Import 如今已经被大部分浏览器所支持。",{"type":404,"tag":405,"props":3177,"children":3179},{"id":3178},"cjs-vs-esm",[3180],{"type":410,"value":3181},"CJS VS ESM",{"type":404,"tag":418,"props":3183,"children":3184},{},[3185],{"type":410,"value":3186},"尽管 ES Module 规范发布已久，但并没有得到广泛的兼容。由于 ES Module 继承了现在来说仍属主流的 CommonJS 规范的诸多优点，所以两者之间有许多共性。我们来看看它们之间的区别。",{"type":404,"tag":418,"props":3188,"children":3189},{},[3190,3192,3197],{"type":410,"value":3191},"最大的不同之处在于，",{"type":404,"tag":2993,"props":3193,"children":3194},{},[3195],{"type":410,"value":3196},"CommonJS 是一种约定，而 ES Module 是语言规范",{"type":410,"value":3198},"。CommonJS 定义了一套使用“module.epoxrts 和 require”等代码进行模块导入导出的约定，通过扩充 JS 编译器外层代码，只要开发人员遵守约定，就可以使用此规范。而 ES Module 的实现依赖于编译器。这也导致：",{"type":404,"tag":3200,"props":3201,"children":3202},"ol",{},[3203,3208],{"type":404,"tag":1928,"props":3204,"children":3205},{},[3206],{"type":410,"value":3207},"Require 导入值的拷贝，模块内部变化不能直接反应到外部；ES Module 导入值的映射，就算是模块内部的字符串有修改，同样会反映到模块外部。",{"type":404,"tag":1928,"props":3209,"children":3210},{},[3211],{"type":410,"value":3212},"Require 本质是一个函数，所以容易实现动态导入的功能；ES Module 依赖于编译器的静态分析，所以动态导入功能难以被完善实现。",{"type":404,"tag":418,"props":3214,"children":3215},{},[3216,3218,3224],{"type":410,"value":3217},"要看看 Require 到底是个啥玩意儿，请看这篇：",{"type":404,"tag":810,"props":3219,"children":3221},{"href":3220},"/source-code/_server/nodejs/require.html",[3222],{"type":410,"value":3223},"Require",{"type":410,"value":3164},{"type":404,"tag":3134,"props":3226,"children":3228},{"id":3227},"如何在-esm-中引入-cjs-中的命名导出",[3229],{"type":410,"value":3230},"如何在 esm 中引入 cjs 中的命名导出？",{"type":404,"tag":424,"props":3232,"children":3234},{"className":426,"code":3233,"language":428,"meta":398,"style":398},"// .mjs\nimport { namedExport } from './lib.cjs'\n// .cjs\nexports.namedExport = 'yes'\n// .cjs wrong example\n// exports = { namedExport: 'yes' }\n",[3235],{"type":404,"tag":431,"props":3236,"children":3237},{"__ignoreMap":398},[3238,3246,3283,3291,3324,3332],{"type":404,"tag":435,"props":3239,"children":3240},{"class":437,"line":438},[3241],{"type":404,"tag":435,"props":3242,"children":3243},{"style":469},[3244],{"type":410,"value":3245},"// .mjs\n",{"type":404,"tag":435,"props":3247,"children":3248},{"class":437,"line":465},[3249,3253,3257,3262,3266,3270,3274,3279],{"type":404,"tag":435,"props":3250,"children":3251},{"style":1262},[3252],{"type":410,"value":3014},{"type":404,"tag":435,"props":3254,"children":3255},{"style":454},[3256],{"type":410,"value":3019},{"type":404,"tag":435,"props":3258,"children":3259},{"style":541},[3260],{"type":410,"value":3261}," namedExport",{"type":404,"tag":435,"props":3263,"children":3264},{"style":454},[3265],{"type":410,"value":3036},{"type":404,"tag":435,"props":3267,"children":3268},{"style":1262},[3269],{"type":410,"value":3041},{"type":404,"tag":435,"props":3271,"children":3272},{"style":753},[3273],{"type":410,"value":1748},{"type":404,"tag":435,"props":3275,"children":3276},{"style":759},[3277],{"type":410,"value":3278},"./lib.cjs",{"type":404,"tag":435,"props":3280,"children":3281},{"style":753},[3282],{"type":410,"value":2740},{"type":404,"tag":435,"props":3284,"children":3285},{"class":437,"line":475},[3286],{"type":404,"tag":435,"props":3287,"children":3288},{"style":469},[3289],{"type":410,"value":3290},"// .cjs\n",{"type":404,"tag":435,"props":3292,"children":3293},{"class":437,"line":484},[3294,3298,3302,3307,3311,3315,3320],{"type":404,"tag":435,"props":3295,"children":3296},{"style":1996},[3297],{"type":410,"value":1999},{"type":404,"tag":435,"props":3299,"children":3300},{"style":454},[3301],{"type":410,"value":626},{"type":404,"tag":435,"props":3303,"children":3304},{"style":541},[3305],{"type":410,"value":3306},"namedExport ",{"type":404,"tag":435,"props":3308,"children":3309},{"style":547},[3310],{"type":410,"value":550},{"type":404,"tag":435,"props":3312,"children":3313},{"style":753},[3314],{"type":410,"value":1748},{"type":404,"tag":435,"props":3316,"children":3317},{"style":759},[3318],{"type":410,"value":3319},"yes",{"type":404,"tag":435,"props":3321,"children":3322},{"style":753},[3323],{"type":410,"value":2740},{"type":404,"tag":435,"props":3325,"children":3326},{"class":437,"line":505},[3327],{"type":404,"tag":435,"props":3328,"children":3329},{"style":469},[3330],{"type":410,"value":3331},"// .cjs wrong example\n",{"type":404,"tag":435,"props":3333,"children":3334},{"class":437,"line":513},[3335],{"type":404,"tag":435,"props":3336,"children":3337},{"style":469},[3338],{"type":410,"value":3339},"// exports = { namedExport: 'yes' }\n",{"type":404,"tag":418,"props":3341,"children":3342},{},[3343,3345,3352],{"type":410,"value":3344},"见：",{"type":404,"tag":810,"props":3346,"children":3349},{"href":3347,"rel":3348},"https://2ality.com/2022/10/commonjs-named-exports.html",[814],[3350],{"type":410,"value":3351},"How to write CommonJS exports that can be name-imported from ESM",{"type":410,"value":3353},"，就算在 mjs 中导入了 cjs 的导出，为了兼容性考虑，导入的并不是映射。",{"type":404,"tag":405,"props":3355,"children":3357},{"id":3356},"打包工具之争",[3358],{"type":410,"value":3356},{"type":404,"tag":418,"props":3360,"children":3361},{},[3362],{"type":410,"value":3363},"TODO",{"type":404,"tag":418,"props":3365,"children":3366},{},[3367],{"type":410,"value":3368},"为什么需要打包工具",{"type":404,"tag":1924,"props":3370,"children":3371},{},[3372,3377],{"type":404,"tag":1928,"props":3373,"children":3374},{},[3375],{"type":410,"value":3376},"代码分析（合并、压缩、混淆）",{"type":404,"tag":1928,"props":3378,"children":3379},{},[3380],{"type":410,"value":3381},"兼容各种规范",{"type":404,"tag":418,"props":3383,"children":3384},{},[3385],{"type":410,"value":3386},"应用程序使用 WebpackJS，库文件使用 RollupJS",{"type":404,"tag":405,"props":3388,"children":3390},{"id":3389},"阅读更多",[3391],{"type":410,"value":3389},{"type":404,"tag":1924,"props":3393,"children":3394},{},[3395,3405,3415,3425,3435,3444],{"type":404,"tag":1928,"props":3396,"children":3397},{},[3398],{"type":404,"tag":810,"props":3399,"children":3402},{"href":3400,"rel":3401},"https://github.com/seajs/seajs/issues/547",[814],[3403],{"type":410,"value":3404},"模块开发的价值",{"type":404,"tag":1928,"props":3406,"children":3407},{},[3408],{"type":404,"tag":810,"props":3409,"children":3412},{"href":3410,"rel":3411},"https://www.cyj.me/programming/2018/05/22/about-module-i/",[814],[3413],{"type":410,"value":3414},"前端模块的历史沿革",{"type":404,"tag":1928,"props":3416,"children":3417},{},[3418],{"type":404,"tag":810,"props":3419,"children":3422},{"href":3420,"rel":3421},"https://www.cyj.me/programming/2018/05/23/about-module-ii/",[814],[3423],{"type":410,"value":3424},"前端模块的现状",{"type":404,"tag":1928,"props":3426,"children":3427},{},[3428],{"type":404,"tag":810,"props":3429,"children":3432},{"href":3430,"rel":3431},"https://zhuanlan.zhihu.com/p/22890374",[814],[3433],{"type":410,"value":3434},"JavaScript 模块化入门 Ⅰ：理解模块",{"type":404,"tag":1928,"props":3436,"children":3437},{},[3438],{"type":404,"tag":810,"props":3439,"children":3441},{"href":3440},"hhttps://zhuanlan.zhihu.com/p/22945985",[3442],{"type":410,"value":3443},"JavaScript 模块化入门 Ⅱ：模块打包构建",{"type":404,"tag":1928,"props":3445,"children":3446},{},[3447],{"type":404,"tag":810,"props":3448,"children":3451},{"href":3449,"rel":3450},"https://juejin.im/post/5cb004da5188251b130c773e",[814],[3452],{"type":410,"value":3453},"前端工程师必备：前端的模块化",{"type":404,"tag":3455,"props":3456,"children":3457},"style",{},[3458],{"type":410,"value":3459},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":398,"searchDepth":465,"depth":465,"links":3461},[3462,3468,3469,3470],{"id":407,"depth":465,"text":407,"children":3463},[3464,3465,3466,3467],{"id":414,"depth":475,"text":414},{"id":1303,"depth":475,"text":1303},{"id":1945,"depth":475,"text":1945},{"id":2983,"depth":475,"text":2986},{"id":3178,"depth":465,"text":3181},{"id":3356,"depth":465,"text":3356},{"id":3389,"depth":465,"text":3389},"markdown","content:_achieved:2020-05:js-module-history.md","content","_achieved/2020-05/js-module-history.md","_achieved/2020-05/js-module-history","md",[3478,3482],{"_path":3479,"title":3480,"description":3481},"/_achieved/2020-04/p5","造型构成","用P5.js做了一些造型构成练习，源码都在 GitHub 上，欢迎来星星 ⭐",{"_path":3483,"title":3484,"description":398},"/_achieved/2020-05/type-check","🎫 常用类型判断方法的优势及缺陷",1741604952119]