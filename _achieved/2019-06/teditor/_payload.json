[{"data":1,"prerenderedAt":5996},["ShallowReactive",2],{"navigation":3,"/_achieved/2019-06/teditor":384,"/_achieved/2019-06/teditor-surround":5988},[4,35,86,105,132,138,144,150,378],{"title":5,"_path":6,"children":7},"心流思绪 / Heart Flows","/flows",[8,11,14,17,20,23,26,29,32],{"title":9,"_path":10},"📕 狮子的书单推荐","/flows/books",{"title":12,"_path":13},"🚝 四十二篇系列","/flows/fourty-two",{"title":15,"_path":16},"🌃 长夜梦","/flows/long-night-dream",{"title":18,"_path":19},"🌌 万物联结与幸福感","/flows/everything",{"title":21,"_path":22},"⌛ 偷取时间","/flows/stealing-time-from-god",{"title":24,"_path":25},"🌆 表达和孤独","/flows/expression-and-loneliness",{"title":27,"_path":28},"🌧️ 我的腼腆","/flows/shy",{"title":30,"_path":31},"🥛 新工作，喝新饮料","/flows/drinking-while-thinking",{"title":33,"_path":34},"📝 心流归档","/flows/archive",{"title":36,"_path":37,"children":38},"技术博客 / Coder","/articles",[39,41,44,47,50,53,56,59,62,65,68,71,74,77,80,83],{"title":40,"_path":37},"🦁 欢迎",{"title":42,"_path":43},"🥞 在 tailwind 中使用现代化 CSS Layers","/articles/tailwind-sass-and-css-layer",{"title":45,"_path":46},"💻 本地部署 Qwen 翻译网页","/articles/local-translator",{"title":48,"_path":49},"🧊 模板解析器轻考古","/articles/micro-templating",{"title":51,"_path":52},"Ⓜ️ Mini CSS Parser","/articles/mini-css-parser",{"title":54,"_path":55},"🚩 向AI咨询前端问题","/articles/use-gpt-learn-complex-frontend",{"title":57,"_path":58},"⛸️ 怎样定制复杂组件的自定义滚动条？","/articles/use-scrollbars",{"title":60,"_path":61},"⚖️ 统一多组件库的层叠顺序","/articles/zindex-manager",{"title":63,"_path":64},"🕷️ 滑动验证码破解思路","/articles/crack-the-slider",{"title":66,"_path":67},"🌟 探秘 CSS 光影效果","/articles/css-light-travel",{"title":69,"_path":70},"🍲 设计模式与 JS 魔法锅","/articles/design-patterns-and-js-magic-pot",{"title":72,"_path":73},"🌐 Anysort：灵活、优雅的多属性排序","/articles/anysort-2th",{"title":75,"_path":76},"💫 CSS 幻术 | 抗锯齿","/articles/css-poaa",{"title":78,"_path":79},"❓ 用纯CSS判断鼠标进入的方向","/articles/css-judge-direction",{"title":81,"_path":82},"📝 你本可以少写些 if-else","/articles/no-more-if-else",{"title":84,"_path":85},"📝 技术博客归档","/articles/archive",{"title":87,"_path":88,"children":89},"造物 / Make","/tools",[90,93,96,99,102],{"title":91,"_path":92},"🥥 Coconut","/tools/coconut",{"title":94,"_path":95},"🧶 网易云音乐歌单排序","/tools/netease-sorter",{"title":97,"_path":98},"🌐 AnySort","/tools/anysort",{"title":100,"_path":101},"⛸️ UseScrollbar","/tools/use-scrollbar",{"title":103,"_path":104},"👓 Crapto","/tools/crypto-inline",{"title":106,"_path":107,"children":108},"吉他剧场 / Music","/music",[109,111,114,117,120,123,126,129],{"title":110,"_path":107},"🎸 FingerStyle！",{"title":112,"_path":113},"🌬️ 等待的风","/music/wind",{"title":115,"_path":116},"💕 约定的海洋","/music/ocean",{"title":118,"_path":119},"🎼 Wings~You are the Hero！","/music/wings-you-are-the-hero",{"title":121,"_path":122},"🌏 残酷天使的行动纲领","/music/eva",{"title":124,"_path":125},"🏔️ 奇跡の山","/music/miracle-mountain",{"title":127,"_path":128},"🍷 Wu Wei","/music/wu-wei",{"title":130,"_path":131},"🌅 无题","/music/untitled",{"title":133,"_path":134,"children":135},"画点什么 / Paint","/paint",[136],{"title":137,"_path":134},"🚧 正在施工",{"title":139,"_path":140,"children":141},"读书笔记 / Notes","/books",[142],{"title":143,"_path":140},"📕 读书笔记",{"title":145,"_path":146,"children":147},"知识地图 / Maps","/maps",[148],{"title":149,"_path":146},"🏁 知识地图",{"title":151,"_path":152,"children":153},"零散的笔记 / Gists","/gists",[154,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375],{"title":155,"_path":152},"🧊 Gists",{"title":157,"_path":158},"网站的可访问性","/gists/accessibility",{"title":160,"_path":161},"Bit","/gists/bit",{"title":163,"_path":164},"图片模糊","/gists/blur",{"title":166,"_path":167},"渲染相关笔记","/gists/c4d",{"title":169,"_path":170},"CDN 问题记录","/gists/cdn",{"title":172,"_path":173},"消毒剂","/gists/cleaner",{"title":175,"_path":176},"Windows Command","/gists/cmd",{"title":178,"_path":179},"Command","/gists/command",{"title":181,"_path":182},"复杂科学","/gists/complexity-science",{"title":184,"_path":185},"GitHub Copilot","/gists/copilot",{"title":187,"_path":188},"宇宙","/gists/cosmos",{"title":190,"_path":191},"C++","/gists/cpp",{"title":193,"_path":194},"DEPRESSION","/gists/depression",{"title":196,"_path":197},"Developer Experience","/gists/developer-experience",{"title":199,"_path":200},"Device Metrics","/gists/device-metrix",{"title":202,"_path":203},"ECMAScript Language Specification","/gists/ecmascript-specification",{"title":205,"_path":206},"正则表达式","/gists/eegex",{"title":208,"_path":209},"Emoji","/gists/emoji",{"title":211,"_path":212},"工程","/gists/engineering",{"title":214,"_path":215},"熵","/gists/entropy",{"title":217,"_path":218},"Environment","/gists/environment",{"title":220,"_path":221},"Erlang","/gists/erlang",{"title":223,"_path":224},"逃离塔克夫","/gists/escape-from-tarkov",{"title":226,"_path":227},"ESNext (ES6-ES11)","/gists/esnext",{"title":229,"_path":230},"Eval！","/gists/eval",{"title":232,"_path":233},"Flutter","/gists/flutter",{"title":235,"_path":236},"字体","/gists/font",{"title":238,"_path":239},"JS 函数式编程","/gists/functional",{"title":241,"_path":242},"游戏化","/gists/gamification",{"title":244,"_path":245},"Google C++ Standard","/gists/google-cpp-standard",{"title":247,"_path":248},"双向链接完全体","/gists/graph",{"title":250,"_path":251},"Hardwares","/gists/hardwares",{"title":253,"_path":254},"哈希冲突","/gists/hash-collision",{"title":256,"_path":257},"信息设计","/gists/information-design",{"title":259,"_path":260},"InstantPage","/gists/instant.page",{"title":262,"_path":263},"ISUX 遇见大数据可视化系列","/gists/isux-data-visualization",{"title":265,"_path":266},"KVStore","/gists/key-value-db",{"title":268,"_path":269},"Kubernetes","/gists/kubernetes",{"title":271,"_path":272},"Makefile","/gists/makefile",{"title":274,"_path":275},"Markdown Inline Style","/gists/markdown-nice",{"title":277,"_path":278},"减小页面快照体积","/gists/minify-html",{"title":280,"_path":281},"mklink","/gists/mklink",{"title":283,"_path":284},"Mock","/gists/mock",{"title":286,"_path":287},"多人协作系统","/gists/multiplayer",{"title":289,"_path":290},"多端应用","/gists/multy-end-app",{"title":292,"_path":293},"神经科学","/gists/neuroscience",{"title":295,"_path":296},"Opinioned Personal Folder","/gists/opinioned-personal-folder",{"title":298,"_path":299},"PInvoke","/gists/pinvoke",{"title":301,"_path":302},"像素","/gists/pixel",{"title":304,"_path":305},"PowerShell","/gists/powershell",{"title":307,"_path":308},"量子","/gists/quantum",{"title":310,"_path":311},"保持好奇心","/gists/questions",{"title":313,"_path":314},"React Native","/gists/react-native",{"title":316,"_path":317},"博客改版碰到的浏览器平滑滚动问题","/gists/scroll",{"title":319,"_path":320},"SEO","/gists/seo",{"title":322,"_path":323},"Shader","/gists/shader",{"title":325,"_path":326},"Shape Up","/gists/shape-up",{"title":328,"_path":329},"睡觉","/gists/sleep",{"title":331,"_path":332},"记录奇怪的问题","/gists/solved",{"title":334,"_path":335},"States","/gists/states",{"title":337,"_path":338},"Storage","/gists/storage",{"title":340,"_path":341},"音视频流处理","/gists/stream-cli",{"title":343,"_path":344},"Symbol","/gists/symbol",{"title":346,"_path":347},"系统论","/gists/systems-theory",{"title":349,"_path":350},"任务切片","/gists/task-slice",{"title":352,"_path":353},"技术偏好","/gists/tech-dudge",{"title":355,"_path":356},"Untitled","/gists/untitled",{"title":358,"_path":359},"可变字体","/gists/variable-font",{"title":361,"_path":362},"视觉错觉","/gists/visual-illusion",{"title":364,"_path":365},"SS(SSR)","/gists/vpn",{"title":367,"_path":368},"VS Code 插件开发","/gists/vscode-plugin",{"title":370,"_path":371},"Web Components","/gists/web-components",{"title":373,"_path":374},"Windows","/gists/windows",{"title":376,"_path":377},"查缺补漏","/gists/wrong",{"title":379,"_path":380,"children":381},"我 / About","/hire",[382],{"title":383,"_path":380},"📬 技术简历",{"_path":385,"_dir":386,"_draft":387,"_partial":388,"_locale":389,"title":390,"description":389,"body":391,"_type":530,"_id":5983,"_source":5984,"_file":5985,"_stem":5986,"_extension":5987},"/_achieved/2019-06/teditor","2019-06",false,true,"","从一个越写越慢的编辑器中聊聊优化思路",{"type":392,"children":393,"toc":5970},"root",[394,403,409,414,429,445,450,464,477,486,491,496,501,521,526,575,586,596,601,651,656,661,666,671,684,689,725,731,736,1071,1076,1081,1094,1099,1412,1417,1422,1427,1432,1437,1443,1456,1461,1466,1479,1484,1490,1495,1508,2290,2295,2300,2308,4585,4590,5890,5895,5900,5905,5910,5915,5920,5925,5930,5964],{"type":395,"tag":396,"props":397,"children":399},"element","h2",{"id":398},"增订-2020年8月9日",[400],{"type":401,"value":402},"text","增订 | 2020年8月9日",{"type":395,"tag":404,"props":405,"children":406},"p",{},[407],{"type":401,"value":408},"TEditor 维护了一个解析状态栈。逐个读入字符，结合当前解析状态进行状态转换，将旧状态推入栈中，以模仿解析 HTML 的层级结构。状态栈的入栈、出栈过程，通过 DIG_IN、DIG_OUT 来维护，这两个函数会触发更新标签流的副作用。",{"type":395,"tag":404,"props":410,"children":411},{},[412],{"type":401,"value":413},"因为处理整段字符也只需要一次循环；要维护的状态大体上来说只有零散的几个变量和一个状态栈；没有用正则匹配；再加上每解析过程和正常的 Markdown 解析器不一样，TEditor 最大段落只支持到行，再加上每行都做了 LFU 缓存。所以理论上来说 TEditor 应该相当快... 不过，随着解析器的功能增强，状态维护变得有点困难，特别乱。反正我现在是很难看懂我以前写了啥玩意儿...",{"type":395,"tag":415,"props":416,"children":417},"blockquote",{},[418],{"type":395,"tag":404,"props":419,"children":420},{},[421,423],{"type":401,"value":422},"整个系统的状态转变则是发生在许许多多小的、细微的状态变化混合来形成的。这些相互关联的状态变化形成了一个概念上的“状态网”，我们时不时会因它而感到困惑。\n",{"type":395,"tag":424,"props":425,"children":426},"name",{},[427],{"type":401,"value":428},"《JavaScript 函数式编程》",{"type":395,"tag":404,"props":430,"children":431},{},[432,434,443],{"type":401,"value":433},"经过一年的 JS 学习，我的 JS 水平提高了不少。近期我重写了这个 Markdown 解析器，",{"type":395,"tag":435,"props":436,"children":440},"a",{"href":437,"rel":438},"https://github.com/Lionad-Morotar/read-source-code/tree/master/module/markdown-parser",[439],"nofollow",[441],{"type":401,"value":442},"Markdown Parser",{"type":401,"value":444},"，舍弃了“状态转换”的概念，用回了正则匹配 + AST。虽然说速度可能变慢了一个量级，不过可扩展性还是非常强的，比如说可自定义解析插件，介入解析过程。有空还是得学习 Markdown-It 的源码，那玩意儿是我的目标...",{"type":395,"tag":396,"props":446,"children":448},{"id":447},"原文",[449],{"type":401,"value":447},{"type":395,"tag":404,"props":451,"children":452},{},[453,455,462],{"type":401,"value":454},"你用过一个",{"type":395,"tag":456,"props":457,"children":459},"code",{"className":458},[],[460],{"type":401,"value":461},"越写越慢的编辑器",{"type":401,"value":463},"么？",{"type":395,"tag":404,"props":465,"children":466},{},[467,469,475],{"type":401,"value":468},"我曾在项目中实现了一个 MD 编辑器，用来解析简单的 MD 文本，不过它的性能令我捉急。初期基本没有做任何性能优化相关的内容，导致每当我正在写的文章变长之后，编辑器会变得非常",{"type":395,"tag":470,"props":471,"children":472},"del",{},[473],{"type":401,"value":474},"非常",{"type":401,"value":476},"卡，所以说是越写越慢的编辑器( ╯□╰ ) 这期文章主要针对这个编辑器聊聊我实践以及思考总结的一些性能优化方法，肯定还有文中没有总结到的一些方法，欢迎各位看官不舍赐教，留言评论。",{"type":395,"tag":404,"props":478,"children":479},{},[480],{"type":395,"tag":481,"props":482,"children":485},"img",{"alt":483,"src":484},"TEditor","https://mgear-image.oss-cn-shanghai.aliyuncs.com/image/teditor/2019-05-06-01-10-43.png",[],{"type":395,"tag":396,"props":487,"children":489},{"id":488},"解析过程简述",[490],{"type":401,"value":488},{"type":395,"tag":404,"props":492,"children":493},{},[494],{"type":401,"value":495},"文中 MD 编辑器可以在左侧窗口输入 MD 格式文本，然后通过调用解析函数将文本解析转换为 HTML 代码，放到右侧 v-html 窗口中直接渲染。",{"type":395,"tag":404,"props":497,"children":498},{},[499],{"type":401,"value":500},"一般来说 MD 解析不需要经过词法语法分析，而且标点符号几乎没有二义性，解析起来比较简单。对于一段简单的 MD 文本，我们大可从一个正则表达式的角度入手。思考从以下 4 点开始匹配：",{"type":395,"tag":502,"props":503,"children":504},"ol",{},[505,511,516],{"type":395,"tag":506,"props":507,"children":508},"li",{},[509],{"type":401,"value":510},"解析块状元素，分割线，引用块，代码段等",{"type":395,"tag":506,"props":512,"children":513},{},[514],{"type":401,"value":515},"解析文本元素，标题，列表，以及普通文本内容",{"type":395,"tag":506,"props":517,"children":518},{},[519],{"type":401,"value":520},"解析行内元素，角标，加粗，斜体等",{"type":395,"tag":404,"props":522,"children":523},{},[524],{"type":401,"value":525},"我们以以下文本为例进行解析：",{"type":395,"tag":527,"props":528,"children":532},"pre",{"code":529,"language":530,"meta":389,"className":531,"style":389},"### 一个*斜体*标题\n","markdown","language-markdown shiki shiki-themes material-theme-lighter github-light github-dark monokai",[533],{"type":395,"tag":456,"props":534,"children":535},{"__ignoreMap":389},[536],{"type":395,"tag":537,"props":538,"children":541},"span",{"class":539,"line":540},"line",1,[542,548,554,560,566,570],{"type":395,"tag":537,"props":543,"children":545},{"style":544},"--shiki-light:#39ADB5;--shiki-light-font-weight:inherit;--shiki-default:#005CC5;--shiki-default-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;--shiki-sepia:#A6E22E;--shiki-sepia-font-weight:bold",[546],{"type":401,"value":547},"### ",{"type":395,"tag":537,"props":549,"children":551},{"style":550},"--shiki-light:#E2931D;--shiki-light-font-weight:inherit;--shiki-default:#005CC5;--shiki-default-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;--shiki-sepia:#A6E22E;--shiki-sepia-font-weight:bold",[552],{"type":401,"value":553},"一个",{"type":395,"tag":537,"props":555,"children":557},{"style":556},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#24292E;--shiki-default-font-style:italic;--shiki-dark:#E1E4E8;--shiki-dark-font-style:italic;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[558],{"type":401,"value":559},"*",{"type":395,"tag":537,"props":561,"children":563},{"style":562},"--shiki-light:#E53935;--shiki-light-font-style:italic;--shiki-default:#24292E;--shiki-default-font-style:italic;--shiki-dark:#E1E4E8;--shiki-dark-font-style:italic;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[564],{"type":401,"value":565},"斜体",{"type":395,"tag":537,"props":567,"children":568},{"style":556},[569],{"type":401,"value":559},{"type":395,"tag":537,"props":571,"children":572},{"style":550},[573],{"type":401,"value":574},"标题\n",{"type":395,"tag":404,"props":576,"children":577},{},[578,580],{"type":401,"value":579},"首先命中文本元素标题，内容为",{"type":395,"tag":456,"props":581,"children":583},{"className":582},[],[584],{"type":401,"value":585},"一个*斜体*标题",{"type":395,"tag":404,"props":587,"children":588},{},[589,591],{"type":401,"value":590},"紧接着，继续解析比文本元素优先级更低的行内元素，这次命中行内元素斜体，内容为",{"type":395,"tag":456,"props":592,"children":594},{"className":593},[],[595],{"type":401,"value":565},{"type":395,"tag":404,"props":597,"children":598},{},[599],{"type":401,"value":600},"至此，我们将解析完的内容推入结果数组，结果形如：",{"type":395,"tag":527,"props":602,"children":606},{"code":603,"language":604,"meta":389,"className":605,"style":389},"parsedContent = [`\u003Ch3>一个\u003Ci>斜体\u003C/i>标题\u003C/h3>`]\n","js","language-js shiki shiki-themes material-theme-lighter github-light github-dark monokai",[607],{"type":395,"tag":456,"props":608,"children":609},{"__ignoreMap":389},[610],{"type":395,"tag":537,"props":611,"children":612},{"class":539,"line":540},[613,619,625,630,636,642,646],{"type":395,"tag":537,"props":614,"children":616},{"style":615},"--shiki-light:#90A4AE;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[617],{"type":401,"value":618},"parsedContent ",{"type":395,"tag":537,"props":620,"children":622},{"style":621},"--shiki-light:#39ADB5;--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[623],{"type":401,"value":624},"=",{"type":395,"tag":537,"props":626,"children":627},{"style":615},[628],{"type":401,"value":629}," [",{"type":395,"tag":537,"props":631,"children":633},{"style":632},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[634],{"type":401,"value":635},"`",{"type":395,"tag":537,"props":637,"children":639},{"style":638},"--shiki-light:#91B859;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[640],{"type":401,"value":641},"\u003Ch3>一个\u003Ci>斜体\u003C/i>标题\u003C/h3>",{"type":395,"tag":537,"props":643,"children":644},{"style":632},[645],{"type":401,"value":635},{"type":395,"tag":537,"props":647,"children":648},{"style":615},[649],{"type":401,"value":650},"]\n",{"type":395,"tag":404,"props":652,"children":653},{},[654],{"type":401,"value":655},"如果文本不是一行，再继续之前的思路继续解析，直到原始内容为空，得到最终的解析结果。",{"type":395,"tag":396,"props":657,"children":659},{"id":658},"解析函数节流",[660],{"type":401,"value":658},{"type":395,"tag":404,"props":662,"children":663},{},[664],{"type":401,"value":665},"函数节流是老生常谈的话题了，当然不能当左侧内容一有变动就立即更新。在一些极端的场合，比如长按删除或是长按空格回车等情况下，连续执行解析函数硬件会造成沉重的负担。所以我们优化思路首先要求尽量在不太影响视觉效果的情况下，尽可能少地执行解析函数。",{"type":395,"tag":404,"props":667,"children":668},{},[669],{"type":401,"value":670},"目标有了，那么对应的解决方案手到擒来：",{"type":395,"tag":502,"props":672,"children":673},{},[674,679],{"type":395,"tag":506,"props":675,"children":676},{},[677],{"type":401,"value":678},"对特定类型按键，我们将不调用解析函数，如多个连续的空格回车或是某些行内符号。因为这些内容的解析结果对之后预览结果没有影响",{"type":395,"tag":506,"props":680,"children":681},{},[682],{"type":401,"value":683},"对解析函数节流，将调用频率控制在 0.3 秒 1 次，具体的数值可根据个人需求调整，比如我常常在回车后习惯性扫一眼预览，那么按回车后可以跳过节流立即执行一次解析",{"type":395,"tag":396,"props":685,"children":687},{"id":686},"缓存解析结果",[688],{"type":401,"value":686},{"type":395,"tag":404,"props":690,"children":691},{},[692,694,700,702,708,710,716,718,723],{"type":401,"value":693},"缓存解析结果方案，类似于算法题中常见的缓存对象。比如我们要实现一个斐波那契数列递归函数，计算",{"type":395,"tag":456,"props":695,"children":697},{"className":696},[],[698],{"type":401,"value":699},"fabi(5)",{"type":401,"value":701},"时需要用到",{"type":395,"tag":456,"props":703,"children":705},{"className":704},[],[706],{"type":401,"value":707},"fabi(3)",{"type":401,"value":709},"和",{"type":395,"tag":456,"props":711,"children":713},{"className":712},[],[714],{"type":401,"value":715},"fabi(4)",{"type":401,"value":717},"的结果，如果我们有缓存，我们可以直接从缓存中获取",{"type":395,"tag":456,"props":719,"children":721},{"className":720},[],[722],{"type":401,"value":707},{"type":401,"value":724},"的结果。将这一概念推导到解析器，我们可以创建一个对象去缓存解析结果。",{"type":395,"tag":726,"props":727,"children":729},"h3",{"id":728},"备忘录实现",[730],{"type":401,"value":728},{"type":395,"tag":404,"props":732,"children":733},{},[734],{"type":401,"value":735},"一开始写解析结果缓存的时候，我犯了一个很严重的错误，那就是想尝试将所有内容以及其解析值缓存到备忘录对象，代码形如：",{"type":395,"tag":527,"props":737,"children":739},{"code":738,"language":604,"meta":389,"className":605,"style":389},"data: {\n  // 缓存对象\n  memo: {}\n}\nwatch： {\n  // 当编辑器的value变动时将尝试直接获取缓存，如果没有缓存才解析内容\n  value (n，o) {\n    if (this.memo[n]) {\n      this.parsedValue = this.memo[n]\n    } else {\n      this.memo[n] = this.parsedValue = parseMDToHTML(n)\n    }\n  }\n}\n",[740],{"type":395,"tag":456,"props":741,"children":742},{"__ignoreMap":389},[743,763,773,791,800,814,823,863,911,959,977,1045,1054,1063],{"type":395,"tag":537,"props":744,"children":745},{"class":539,"line":540},[746,752,758],{"type":395,"tag":537,"props":747,"children":749},{"style":748},"--shiki-light:#E2931D;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2",[750],{"type":401,"value":751},"data",{"type":395,"tag":537,"props":753,"children":755},{"style":754},"--shiki-light:#39ADB5;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[756],{"type":401,"value":757},":",{"type":395,"tag":537,"props":759,"children":760},{"style":754},[761],{"type":401,"value":762}," {\n",{"type":395,"tag":537,"props":764,"children":766},{"class":539,"line":765},2,[767],{"type":395,"tag":537,"props":768,"children":770},{"style":769},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#6A737D;--shiki-default-font-style:inherit;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;--shiki-sepia:#88846F;--shiki-sepia-font-style:inherit",[771],{"type":401,"value":772},"  // 缓存对象\n",{"type":395,"tag":537,"props":774,"children":776},{"class":539,"line":775},3,[777,782,786],{"type":395,"tag":537,"props":778,"children":779},{"style":748},[780],{"type":401,"value":781},"  memo",{"type":395,"tag":537,"props":783,"children":784},{"style":754},[785],{"type":401,"value":757},{"type":395,"tag":537,"props":787,"children":788},{"style":754},[789],{"type":401,"value":790}," {}\n",{"type":395,"tag":537,"props":792,"children":794},{"class":539,"line":793},4,[795],{"type":395,"tag":537,"props":796,"children":797},{"style":754},[798],{"type":401,"value":799},"}\n",{"type":395,"tag":537,"props":801,"children":803},{"class":539,"line":802},5,[804,809],{"type":395,"tag":537,"props":805,"children":806},{"style":615},[807],{"type":401,"value":808},"watch： ",{"type":395,"tag":537,"props":810,"children":811},{"style":754},[812],{"type":401,"value":813},"{\n",{"type":395,"tag":537,"props":815,"children":817},{"class":539,"line":816},6,[818],{"type":395,"tag":537,"props":819,"children":820},{"style":769},[821],{"type":401,"value":822},"  // 当编辑器的value变动时将尝试直接获取缓存，如果没有缓存才解析内容\n",{"type":395,"tag":537,"props":824,"children":826},{"class":539,"line":825},7,[827,833,839,844,849,854,859],{"type":395,"tag":537,"props":828,"children":830},{"style":829},"--shiki-light:#6182B8;--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[831],{"type":401,"value":832},"  value",{"type":395,"tag":537,"props":834,"children":836},{"style":835},"--shiki-light:#E53935;--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[837],{"type":401,"value":838}," (",{"type":395,"tag":537,"props":840,"children":841},{"style":615},[842],{"type":401,"value":843},"n",{"type":395,"tag":537,"props":845,"children":846},{"style":835},[847],{"type":401,"value":848},"，",{"type":395,"tag":537,"props":850,"children":851},{"style":615},[852],{"type":401,"value":853},"o",{"type":395,"tag":537,"props":855,"children":856},{"style":835},[857],{"type":401,"value":858},") ",{"type":395,"tag":537,"props":860,"children":861},{"style":754},[862],{"type":401,"value":813},{"type":395,"tag":537,"props":864,"children":866},{"class":539,"line":865},8,[867,873,877,883,888,893,898,902,907],{"type":395,"tag":537,"props":868,"children":870},{"style":869},"--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#F92672;--shiki-sepia-font-style:inherit",[871],{"type":401,"value":872},"    if",{"type":395,"tag":537,"props":874,"children":875},{"style":835},[876],{"type":401,"value":838},{"type":395,"tag":537,"props":878,"children":880},{"style":879},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[881],{"type":401,"value":882},"this",{"type":395,"tag":537,"props":884,"children":885},{"style":754},[886],{"type":401,"value":887},".",{"type":395,"tag":537,"props":889,"children":890},{"style":615},[891],{"type":401,"value":892},"memo",{"type":395,"tag":537,"props":894,"children":895},{"style":835},[896],{"type":401,"value":897},"[",{"type":395,"tag":537,"props":899,"children":900},{"style":615},[901],{"type":401,"value":843},{"type":395,"tag":537,"props":903,"children":904},{"style":835},[905],{"type":401,"value":906},"]) ",{"type":395,"tag":537,"props":908,"children":909},{"style":754},[910],{"type":401,"value":813},{"type":395,"tag":537,"props":912,"children":914},{"class":539,"line":913},9,[915,920,924,929,934,939,943,947,951,955],{"type":395,"tag":537,"props":916,"children":917},{"style":879},[918],{"type":401,"value":919},"      this",{"type":395,"tag":537,"props":921,"children":922},{"style":754},[923],{"type":401,"value":887},{"type":395,"tag":537,"props":925,"children":926},{"style":615},[927],{"type":401,"value":928},"parsedValue",{"type":395,"tag":537,"props":930,"children":931},{"style":621},[932],{"type":401,"value":933}," =",{"type":395,"tag":537,"props":935,"children":936},{"style":879},[937],{"type":401,"value":938}," this",{"type":395,"tag":537,"props":940,"children":941},{"style":754},[942],{"type":401,"value":887},{"type":395,"tag":537,"props":944,"children":945},{"style":615},[946],{"type":401,"value":892},{"type":395,"tag":537,"props":948,"children":949},{"style":835},[950],{"type":401,"value":897},{"type":395,"tag":537,"props":952,"children":953},{"style":615},[954],{"type":401,"value":843},{"type":395,"tag":537,"props":956,"children":957},{"style":835},[958],{"type":401,"value":650},{"type":395,"tag":537,"props":960,"children":962},{"class":539,"line":961},10,[963,968,973],{"type":395,"tag":537,"props":964,"children":965},{"style":754},[966],{"type":401,"value":967},"    }",{"type":395,"tag":537,"props":969,"children":970},{"style":869},[971],{"type":401,"value":972}," else",{"type":395,"tag":537,"props":974,"children":975},{"style":754},[976],{"type":401,"value":762},{"type":395,"tag":537,"props":978,"children":980},{"class":539,"line":979},11,[981,985,989,993,997,1001,1006,1010,1014,1018,1022,1026,1031,1036,1040],{"type":395,"tag":537,"props":982,"children":983},{"style":879},[984],{"type":401,"value":919},{"type":395,"tag":537,"props":986,"children":987},{"style":754},[988],{"type":401,"value":887},{"type":395,"tag":537,"props":990,"children":991},{"style":615},[992],{"type":401,"value":892},{"type":395,"tag":537,"props":994,"children":995},{"style":835},[996],{"type":401,"value":897},{"type":395,"tag":537,"props":998,"children":999},{"style":615},[1000],{"type":401,"value":843},{"type":395,"tag":537,"props":1002,"children":1003},{"style":835},[1004],{"type":401,"value":1005},"] ",{"type":395,"tag":537,"props":1007,"children":1008},{"style":621},[1009],{"type":401,"value":624},{"type":395,"tag":537,"props":1011,"children":1012},{"style":879},[1013],{"type":401,"value":938},{"type":395,"tag":537,"props":1015,"children":1016},{"style":754},[1017],{"type":401,"value":887},{"type":395,"tag":537,"props":1019,"children":1020},{"style":615},[1021],{"type":401,"value":928},{"type":395,"tag":537,"props":1023,"children":1024},{"style":621},[1025],{"type":401,"value":933},{"type":395,"tag":537,"props":1027,"children":1028},{"style":829},[1029],{"type":401,"value":1030}," parseMDToHTML",{"type":395,"tag":537,"props":1032,"children":1033},{"style":835},[1034],{"type":401,"value":1035},"(",{"type":395,"tag":537,"props":1037,"children":1038},{"style":615},[1039],{"type":401,"value":843},{"type":395,"tag":537,"props":1041,"children":1042},{"style":835},[1043],{"type":401,"value":1044},")\n",{"type":395,"tag":537,"props":1046,"children":1048},{"class":539,"line":1047},12,[1049],{"type":395,"tag":537,"props":1050,"children":1051},{"style":754},[1052],{"type":401,"value":1053},"    }\n",{"type":395,"tag":537,"props":1055,"children":1057},{"class":539,"line":1056},13,[1058],{"type":395,"tag":537,"props":1059,"children":1060},{"style":754},[1061],{"type":401,"value":1062},"  }\n",{"type":395,"tag":537,"props":1064,"children":1066},{"class":539,"line":1065},14,[1067],{"type":395,"tag":537,"props":1068,"children":1069},{"style":754},[1070],{"type":401,"value":799},{"type":395,"tag":404,"props":1072,"children":1073},{},[1074],{"type":401,"value":1075},"代码看起来没什么问题，因为问题不在代码。",{"type":395,"tag":404,"props":1077,"children":1078},{},[1079],{"type":401,"value":1080},"问题在内存容量上。",{"type":395,"tag":404,"props":1082,"children":1083},{},[1084,1086,1092],{"type":401,"value":1085},"代码运行在浏览器中，一般情况下，内存相对于代码执行速度而言是比较廉价的，所以我经常使用到用对象进行缓存这种",{"type":395,"tag":456,"props":1087,"children":1089},{"className":1088},[],[1090],{"type":401,"value":1091},"以空间换时间",{"type":401,"value":1093},"的代码模式。一般情况下它非常好用，但它可能带来一个问题。这种代码模式进一步限制了前端对内存的感知——我将整个编辑区域的原始值作为对象的键，将其解析结果作为值缓存下来——一旦文章长度开始增长，缓存对象占用的内存容量将急剧增大。",{"type":395,"tag":404,"props":1095,"children":1096},{},[1097],{"type":401,"value":1098},"假设我们有某文章字符长度总量为 n，那么备忘录模型将生长成这个样子：",{"type":395,"tag":527,"props":1100,"children":1102},{"code":1101,"language":604,"meta":389,"className":605,"style":389},"value = [1，2，3，...，n-1，n].join('')\nmemo == {\n  '1': '1',\n  '12': '12',\n  '123': '123',\n  // ...\n  '12345...n-1': '12345...n-1',\n  '12345...n': '12345...n',\n}\n",[1103],{"type":395,"tag":456,"props":1104,"children":1105},{"__ignoreMap":389},[1106,1196,1213,1253,1289,1325,1333,1369,1405],{"type":395,"tag":537,"props":1107,"children":1108},{"class":539,"line":540},[1109,1114,1118,1122,1128,1132,1137,1141,1146,1150,1155,1160,1165,1169,1174,1178,1183,1187,1192],{"type":395,"tag":537,"props":1110,"children":1111},{"style":615},[1112],{"type":401,"value":1113},"value ",{"type":395,"tag":537,"props":1115,"children":1116},{"style":621},[1117],{"type":401,"value":624},{"type":395,"tag":537,"props":1119,"children":1120},{"style":615},[1121],{"type":401,"value":629},{"type":395,"tag":537,"props":1123,"children":1125},{"style":1124},"--shiki-light:#F76D47;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1126],{"type":401,"value":1127},"1",{"type":395,"tag":537,"props":1129,"children":1130},{"style":615},[1131],{"type":401,"value":848},{"type":395,"tag":537,"props":1133,"children":1134},{"style":1124},[1135],{"type":401,"value":1136},"2",{"type":395,"tag":537,"props":1138,"children":1139},{"style":615},[1140],{"type":401,"value":848},{"type":395,"tag":537,"props":1142,"children":1143},{"style":1124},[1144],{"type":401,"value":1145},"3",{"type":395,"tag":537,"props":1147,"children":1148},{"style":615},[1149],{"type":401,"value":848},{"type":395,"tag":537,"props":1151,"children":1152},{"style":621},[1153],{"type":401,"value":1154},"...",{"type":395,"tag":537,"props":1156,"children":1157},{"style":615},[1158],{"type":401,"value":1159},"，n",{"type":395,"tag":537,"props":1161,"children":1162},{"style":621},[1163],{"type":401,"value":1164},"-",{"type":395,"tag":537,"props":1166,"children":1167},{"style":1124},[1168],{"type":401,"value":1127},{"type":395,"tag":537,"props":1170,"children":1171},{"style":615},[1172],{"type":401,"value":1173},"，n]",{"type":395,"tag":537,"props":1175,"children":1176},{"style":754},[1177],{"type":401,"value":887},{"type":395,"tag":537,"props":1179,"children":1180},{"style":829},[1181],{"type":401,"value":1182},"join",{"type":395,"tag":537,"props":1184,"children":1185},{"style":615},[1186],{"type":401,"value":1035},{"type":395,"tag":537,"props":1188,"children":1189},{"style":632},[1190],{"type":401,"value":1191},"''",{"type":395,"tag":537,"props":1193,"children":1194},{"style":615},[1195],{"type":401,"value":1044},{"type":395,"tag":537,"props":1197,"children":1198},{"class":539,"line":765},[1199,1204,1209],{"type":395,"tag":537,"props":1200,"children":1201},{"style":615},[1202],{"type":401,"value":1203},"memo ",{"type":395,"tag":537,"props":1205,"children":1206},{"style":621},[1207],{"type":401,"value":1208},"==",{"type":395,"tag":537,"props":1210,"children":1211},{"style":754},[1212],{"type":401,"value":762},{"type":395,"tag":537,"props":1214,"children":1215},{"class":539,"line":775},[1216,1221,1226,1231,1235,1240,1244,1248],{"type":395,"tag":537,"props":1217,"children":1218},{"style":632},[1219],{"type":401,"value":1220},"  '",{"type":395,"tag":537,"props":1222,"children":1224},{"style":1223},"--shiki-light:#E53935;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[1225],{"type":401,"value":1127},{"type":395,"tag":537,"props":1227,"children":1228},{"style":632},[1229],{"type":401,"value":1230},"'",{"type":395,"tag":537,"props":1232,"children":1233},{"style":754},[1234],{"type":401,"value":757},{"type":395,"tag":537,"props":1236,"children":1237},{"style":632},[1238],{"type":401,"value":1239}," '",{"type":395,"tag":537,"props":1241,"children":1242},{"style":638},[1243],{"type":401,"value":1127},{"type":395,"tag":537,"props":1245,"children":1246},{"style":632},[1247],{"type":401,"value":1230},{"type":395,"tag":537,"props":1249,"children":1250},{"style":754},[1251],{"type":401,"value":1252},",\n",{"type":395,"tag":537,"props":1254,"children":1255},{"class":539,"line":793},[1256,1260,1265,1269,1273,1277,1281,1285],{"type":395,"tag":537,"props":1257,"children":1258},{"style":632},[1259],{"type":401,"value":1220},{"type":395,"tag":537,"props":1261,"children":1262},{"style":1223},[1263],{"type":401,"value":1264},"12",{"type":395,"tag":537,"props":1266,"children":1267},{"style":632},[1268],{"type":401,"value":1230},{"type":395,"tag":537,"props":1270,"children":1271},{"style":754},[1272],{"type":401,"value":757},{"type":395,"tag":537,"props":1274,"children":1275},{"style":632},[1276],{"type":401,"value":1239},{"type":395,"tag":537,"props":1278,"children":1279},{"style":638},[1280],{"type":401,"value":1264},{"type":395,"tag":537,"props":1282,"children":1283},{"style":632},[1284],{"type":401,"value":1230},{"type":395,"tag":537,"props":1286,"children":1287},{"style":754},[1288],{"type":401,"value":1252},{"type":395,"tag":537,"props":1290,"children":1291},{"class":539,"line":802},[1292,1296,1301,1305,1309,1313,1317,1321],{"type":395,"tag":537,"props":1293,"children":1294},{"style":632},[1295],{"type":401,"value":1220},{"type":395,"tag":537,"props":1297,"children":1298},{"style":1223},[1299],{"type":401,"value":1300},"123",{"type":395,"tag":537,"props":1302,"children":1303},{"style":632},[1304],{"type":401,"value":1230},{"type":395,"tag":537,"props":1306,"children":1307},{"style":754},[1308],{"type":401,"value":757},{"type":395,"tag":537,"props":1310,"children":1311},{"style":632},[1312],{"type":401,"value":1239},{"type":395,"tag":537,"props":1314,"children":1315},{"style":638},[1316],{"type":401,"value":1300},{"type":395,"tag":537,"props":1318,"children":1319},{"style":632},[1320],{"type":401,"value":1230},{"type":395,"tag":537,"props":1322,"children":1323},{"style":754},[1324],{"type":401,"value":1252},{"type":395,"tag":537,"props":1326,"children":1327},{"class":539,"line":816},[1328],{"type":395,"tag":537,"props":1329,"children":1330},{"style":769},[1331],{"type":401,"value":1332},"  // ...\n",{"type":395,"tag":537,"props":1334,"children":1335},{"class":539,"line":825},[1336,1340,1345,1349,1353,1357,1361,1365],{"type":395,"tag":537,"props":1337,"children":1338},{"style":632},[1339],{"type":401,"value":1220},{"type":395,"tag":537,"props":1341,"children":1342},{"style":1223},[1343],{"type":401,"value":1344},"12345...n-1",{"type":395,"tag":537,"props":1346,"children":1347},{"style":632},[1348],{"type":401,"value":1230},{"type":395,"tag":537,"props":1350,"children":1351},{"style":754},[1352],{"type":401,"value":757},{"type":395,"tag":537,"props":1354,"children":1355},{"style":632},[1356],{"type":401,"value":1239},{"type":395,"tag":537,"props":1358,"children":1359},{"style":638},[1360],{"type":401,"value":1344},{"type":395,"tag":537,"props":1362,"children":1363},{"style":632},[1364],{"type":401,"value":1230},{"type":395,"tag":537,"props":1366,"children":1367},{"style":754},[1368],{"type":401,"value":1252},{"type":395,"tag":537,"props":1370,"children":1371},{"class":539,"line":865},[1372,1376,1381,1385,1389,1393,1397,1401],{"type":395,"tag":537,"props":1373,"children":1374},{"style":632},[1375],{"type":401,"value":1220},{"type":395,"tag":537,"props":1377,"children":1378},{"style":1223},[1379],{"type":401,"value":1380},"12345...n",{"type":395,"tag":537,"props":1382,"children":1383},{"style":632},[1384],{"type":401,"value":1230},{"type":395,"tag":537,"props":1386,"children":1387},{"style":754},[1388],{"type":401,"value":757},{"type":395,"tag":537,"props":1390,"children":1391},{"style":632},[1392],{"type":401,"value":1239},{"type":395,"tag":537,"props":1394,"children":1395},{"style":638},[1396],{"type":401,"value":1380},{"type":395,"tag":537,"props":1398,"children":1399},{"style":632},[1400],{"type":401,"value":1230},{"type":395,"tag":537,"props":1402,"children":1403},{"style":754},[1404],{"type":401,"value":1252},{"type":395,"tag":537,"props":1406,"children":1407},{"class":539,"line":913},[1408],{"type":395,"tag":537,"props":1409,"children":1410},{"style":754},[1411],{"type":401,"value":799},{"type":395,"tag":404,"props":1413,"children":1414},{},[1415],{"type":401,"value":1416},"那么可以轻易得出，文章字符长度(N)和内存消耗量(O)的关系，形如：",{"type":395,"tag":404,"props":1418,"children":1419},{},[1420],{"type":401,"value":1421},"$$O = N(N+1)/2 ≈ N^2$$",{"type":395,"tag":404,"props":1423,"children":1424},{},[1425],{"type":401,"value":1426},"和你想的一样，我浏览器内存爆了 😅",{"type":395,"tag":404,"props":1428,"children":1429},{},[1430],{"type":401,"value":1431},"不仅如此，文章不断地增长，不仅带来内存压力，解析函数每次要处理地内容也变多，浏览器响应速度也越来越慢。",{"type":395,"tag":404,"props":1433,"children":1434},{},[1435],{"type":401,"value":1436},"我们亟需更好的缓存方案。",{"type":395,"tag":726,"props":1438,"children":1440},{"id":1439},"lru-以及-lfu-策略",[1441],{"type":401,"value":1442},"LRU 以及 LFU 策略",{"type":395,"tag":404,"props":1444,"children":1445},{},[1446,1448,1454],{"type":401,"value":1447},"在解析过程简述小节，我们提到解析器在解析时，会将 MD 文本分为块状内容进行解析。由此我们可以尝试缓存块状内容的解析结果，而不是去缓存全文。为了在这次优化不爆内存，我们引入",{"type":395,"tag":456,"props":1449,"children":1451},{"className":1450},[],[1452],{"type":401,"value":1453},"有限空间概念",{"type":401,"value":1455},"——设想编辑器内含一个数组，用来存放 MD 文本中块状内容以及其解析结果，同时数组有最大长度限制，限制为 1000，假设我们的每一个元素占 5kb 的内存，那么这个数组将只占浏览器约 5MB 的内存，无论我们怎么折腾，至少不至于爆内存了~",{"type":395,"tag":404,"props":1457,"children":1458},{},[1459],{"type":401,"value":1460},"不过我们需要先考虑这样一种情况，假使我们的文章有超过 1001 个块状内容，那么多出的这一个块状内容进行解析后得到的结果很显然不能直接存入长度限制为 1000 数组中。所以我们需要一种算法去计算应该舍弃数组中哪一个元素，将该元素舍弃后，再把我们手中结果存入数组。",{"type":395,"tag":404,"props":1462,"children":1463},{},[1464],{"type":401,"value":1465},"用过 Redis 的朋友应该了解，Redis 作为一种使用内存作缓存的缓存系统，它有多种缓存策略：",{"type":395,"tag":502,"props":1467,"children":1468},{},[1469,1474],{"type":395,"tag":506,"props":1470,"children":1471},{},[1472],{"type":401,"value":1473},"基于数据访问时间进行淘汰(LRU : Least Recently Used 淘汰最近时间最少使用到的内容)",{"type":395,"tag":506,"props":1475,"children":1476},{},[1477],{"type":401,"value":1478},"基于访问频率进行淘汰(LFU : Least Frequently Used 淘汰访问频次最低的内容)",{"type":395,"tag":404,"props":1480,"children":1481},{},[1482],{"type":401,"value":1483},"下文将仿照 Redis 的缓存淘汰策略手动造一个使用 LFU 策略进行缓存淘汰的缓存类。",{"type":395,"tag":1485,"props":1486,"children":1488},"h4",{"id":1487},"简单的链表实现",[1489],{"type":401,"value":1487},{"type":395,"tag":404,"props":1491,"children":1492},{},[1493],{"type":401,"value":1494},"实际的代码并未采用数组充当缓存元素，实际选择了双向链表，使用双向列表可以抹除使用出租移除元素添加元素带来的性能成本。",{"type":395,"tag":404,"props":1496,"children":1497},{},[1498,1500,1506],{"type":401,"value":1499},"我们需要提前定义好节点类",{"type":395,"tag":456,"props":1501,"children":1503},{"className":1502},[],[1504],{"type":401,"value":1505},"Node",{"type":401,"value":1507},"：",{"type":395,"tag":527,"props":1509,"children":1511},{"code":1510,"language":604,"meta":389,"className":605,"style":389},"function Node (config) {\n  this.key = config.key\n  this.prev = null\n  this.next = null\n  this.data = config.data || {\n    val: null,\n    weight: 1\n  }\n}\n// 将当前节点的next指向另一节点\nNode.prototype.linkNextTo = function (nextNode) {\n  this.next = nextNode\n  nextNode.prev = this\n}\n// 将当前节点插入某一结点后\nNode.prototype.insertAfterNode = function (prevNode) {\n  const prevNextNode = prevNode.next\n  prevNode.linkNext(this)\n  this.linkNext(prevNextNode)\n}\n// 删除当前节点，除非节点是头节点/尾节点\nNode.prototype.unLink = function () {\n  const prev = this.prev\n  const next = this.next\n\n  if (!prev || !next) {\n    console.log(`Node : ${this.key} cant unlink`)\n    return false\n  }\n  prev.linkNext(next)\n}\n",[1512],{"type":395,"tag":456,"props":1513,"children":1514},{"__ignoreMap":389},[1515,1548,1583,1609,1633,1673,1694,1711,1718,1725,1733,1786,1810,1835,1842,1851,1901,1933,1963,1992,2000,2009,2051,2081,2110,2119,2162,2230,2245,2253,2282],{"type":395,"tag":537,"props":1516,"children":1517},{"class":539,"line":540},[1518,1524,1529,1533,1539,1544],{"type":395,"tag":537,"props":1519,"children":1521},{"style":1520},"--shiki-light:#9C3EDA;--shiki-light-font-style:inherit;--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1522],{"type":401,"value":1523},"function",{"type":395,"tag":537,"props":1525,"children":1526},{"style":829},[1527],{"type":401,"value":1528}," Node",{"type":395,"tag":537,"props":1530,"children":1531},{"style":754},[1532],{"type":401,"value":838},{"type":395,"tag":537,"props":1534,"children":1536},{"style":1535},"--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#E36209;--shiki-default-font-style:inherit;--shiki-dark:#FFAB70;--shiki-dark-font-style:inherit;--shiki-sepia:#FD971F;--shiki-sepia-font-style:italic",[1537],{"type":401,"value":1538},"config",{"type":395,"tag":537,"props":1540,"children":1541},{"style":754},[1542],{"type":401,"value":1543},")",{"type":395,"tag":537,"props":1545,"children":1546},{"style":754},[1547],{"type":401,"value":762},{"type":395,"tag":537,"props":1549,"children":1550},{"class":539,"line":765},[1551,1556,1560,1565,1569,1574,1578],{"type":395,"tag":537,"props":1552,"children":1553},{"style":879},[1554],{"type":401,"value":1555},"  this",{"type":395,"tag":537,"props":1557,"children":1558},{"style":754},[1559],{"type":401,"value":887},{"type":395,"tag":537,"props":1561,"children":1562},{"style":615},[1563],{"type":401,"value":1564},"key",{"type":395,"tag":537,"props":1566,"children":1567},{"style":621},[1568],{"type":401,"value":933},{"type":395,"tag":537,"props":1570,"children":1571},{"style":615},[1572],{"type":401,"value":1573}," config",{"type":395,"tag":537,"props":1575,"children":1576},{"style":754},[1577],{"type":401,"value":887},{"type":395,"tag":537,"props":1579,"children":1580},{"style":615},[1581],{"type":401,"value":1582},"key\n",{"type":395,"tag":537,"props":1584,"children":1585},{"class":539,"line":775},[1586,1590,1594,1599,1603],{"type":395,"tag":537,"props":1587,"children":1588},{"style":879},[1589],{"type":401,"value":1555},{"type":395,"tag":537,"props":1591,"children":1592},{"style":754},[1593],{"type":401,"value":887},{"type":395,"tag":537,"props":1595,"children":1596},{"style":615},[1597],{"type":401,"value":1598},"prev",{"type":395,"tag":537,"props":1600,"children":1601},{"style":621},[1602],{"type":401,"value":933},{"type":395,"tag":537,"props":1604,"children":1606},{"style":1605},"--shiki-light:#39ADB5;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[1607],{"type":401,"value":1608}," null\n",{"type":395,"tag":537,"props":1610,"children":1611},{"class":539,"line":793},[1612,1616,1620,1625,1629],{"type":395,"tag":537,"props":1613,"children":1614},{"style":879},[1615],{"type":401,"value":1555},{"type":395,"tag":537,"props":1617,"children":1618},{"style":754},[1619],{"type":401,"value":887},{"type":395,"tag":537,"props":1621,"children":1622},{"style":615},[1623],{"type":401,"value":1624},"next",{"type":395,"tag":537,"props":1626,"children":1627},{"style":621},[1628],{"type":401,"value":933},{"type":395,"tag":537,"props":1630,"children":1631},{"style":1605},[1632],{"type":401,"value":1608},{"type":395,"tag":537,"props":1634,"children":1635},{"class":539,"line":802},[1636,1640,1644,1648,1652,1656,1660,1664,1669],{"type":395,"tag":537,"props":1637,"children":1638},{"style":879},[1639],{"type":401,"value":1555},{"type":395,"tag":537,"props":1641,"children":1642},{"style":754},[1643],{"type":401,"value":887},{"type":395,"tag":537,"props":1645,"children":1646},{"style":615},[1647],{"type":401,"value":751},{"type":395,"tag":537,"props":1649,"children":1650},{"style":621},[1651],{"type":401,"value":933},{"type":395,"tag":537,"props":1653,"children":1654},{"style":615},[1655],{"type":401,"value":1573},{"type":395,"tag":537,"props":1657,"children":1658},{"style":754},[1659],{"type":401,"value":887},{"type":395,"tag":537,"props":1661,"children":1662},{"style":615},[1663],{"type":401,"value":751},{"type":395,"tag":537,"props":1665,"children":1666},{"style":621},[1667],{"type":401,"value":1668}," ||",{"type":395,"tag":537,"props":1670,"children":1671},{"style":754},[1672],{"type":401,"value":762},{"type":395,"tag":537,"props":1674,"children":1675},{"class":539,"line":816},[1676,1681,1685,1690],{"type":395,"tag":537,"props":1677,"children":1678},{"style":835},[1679],{"type":401,"value":1680},"    val",{"type":395,"tag":537,"props":1682,"children":1683},{"style":754},[1684],{"type":401,"value":757},{"type":395,"tag":537,"props":1686,"children":1687},{"style":1605},[1688],{"type":401,"value":1689}," null",{"type":395,"tag":537,"props":1691,"children":1692},{"style":754},[1693],{"type":401,"value":1252},{"type":395,"tag":537,"props":1695,"children":1696},{"class":539,"line":825},[1697,1702,1706],{"type":395,"tag":537,"props":1698,"children":1699},{"style":835},[1700],{"type":401,"value":1701},"    weight",{"type":395,"tag":537,"props":1703,"children":1704},{"style":754},[1705],{"type":401,"value":757},{"type":395,"tag":537,"props":1707,"children":1708},{"style":1124},[1709],{"type":401,"value":1710}," 1\n",{"type":395,"tag":537,"props":1712,"children":1713},{"class":539,"line":865},[1714],{"type":395,"tag":537,"props":1715,"children":1716},{"style":754},[1717],{"type":401,"value":1062},{"type":395,"tag":537,"props":1719,"children":1720},{"class":539,"line":913},[1721],{"type":395,"tag":537,"props":1722,"children":1723},{"style":754},[1724],{"type":401,"value":799},{"type":395,"tag":537,"props":1726,"children":1727},{"class":539,"line":961},[1728],{"type":395,"tag":537,"props":1729,"children":1730},{"style":769},[1731],{"type":401,"value":1732},"// 将当前节点的next指向另一节点\n",{"type":395,"tag":537,"props":1734,"children":1735},{"class":539,"line":979},[1736,1741,1745,1751,1755,1760,1764,1769,1773,1778,1782],{"type":395,"tag":537,"props":1737,"children":1739},{"style":1738},"--shiki-light:#E2931D;--shiki-light-font-style:inherit;--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1740],{"type":401,"value":1505},{"type":395,"tag":537,"props":1742,"children":1743},{"style":754},[1744],{"type":401,"value":887},{"type":395,"tag":537,"props":1746,"children":1748},{"style":1747},"--shiki-light:#90A4AE;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[1749],{"type":401,"value":1750},"prototype",{"type":395,"tag":537,"props":1752,"children":1753},{"style":754},[1754],{"type":401,"value":887},{"type":395,"tag":537,"props":1756,"children":1757},{"style":829},[1758],{"type":401,"value":1759},"linkNextTo",{"type":395,"tag":537,"props":1761,"children":1762},{"style":621},[1763],{"type":401,"value":933},{"type":395,"tag":537,"props":1765,"children":1766},{"style":1520},[1767],{"type":401,"value":1768}," function",{"type":395,"tag":537,"props":1770,"children":1771},{"style":754},[1772],{"type":401,"value":838},{"type":395,"tag":537,"props":1774,"children":1775},{"style":1535},[1776],{"type":401,"value":1777},"nextNode",{"type":395,"tag":537,"props":1779,"children":1780},{"style":754},[1781],{"type":401,"value":1543},{"type":395,"tag":537,"props":1783,"children":1784},{"style":754},[1785],{"type":401,"value":762},{"type":395,"tag":537,"props":1787,"children":1788},{"class":539,"line":1047},[1789,1793,1797,1801,1805],{"type":395,"tag":537,"props":1790,"children":1791},{"style":879},[1792],{"type":401,"value":1555},{"type":395,"tag":537,"props":1794,"children":1795},{"style":754},[1796],{"type":401,"value":887},{"type":395,"tag":537,"props":1798,"children":1799},{"style":615},[1800],{"type":401,"value":1624},{"type":395,"tag":537,"props":1802,"children":1803},{"style":621},[1804],{"type":401,"value":933},{"type":395,"tag":537,"props":1806,"children":1807},{"style":615},[1808],{"type":401,"value":1809}," nextNode\n",{"type":395,"tag":537,"props":1811,"children":1812},{"class":539,"line":1056},[1813,1818,1822,1826,1830],{"type":395,"tag":537,"props":1814,"children":1815},{"style":615},[1816],{"type":401,"value":1817},"  nextNode",{"type":395,"tag":537,"props":1819,"children":1820},{"style":754},[1821],{"type":401,"value":887},{"type":395,"tag":537,"props":1823,"children":1824},{"style":615},[1825],{"type":401,"value":1598},{"type":395,"tag":537,"props":1827,"children":1828},{"style":621},[1829],{"type":401,"value":933},{"type":395,"tag":537,"props":1831,"children":1832},{"style":879},[1833],{"type":401,"value":1834}," this\n",{"type":395,"tag":537,"props":1836,"children":1837},{"class":539,"line":1065},[1838],{"type":395,"tag":537,"props":1839,"children":1840},{"style":754},[1841],{"type":401,"value":799},{"type":395,"tag":537,"props":1843,"children":1845},{"class":539,"line":1844},15,[1846],{"type":395,"tag":537,"props":1847,"children":1848},{"style":769},[1849],{"type":401,"value":1850},"// 将当前节点插入某一结点后\n",{"type":395,"tag":537,"props":1852,"children":1854},{"class":539,"line":1853},16,[1855,1859,1863,1867,1871,1876,1880,1884,1888,1893,1897],{"type":395,"tag":537,"props":1856,"children":1857},{"style":1738},[1858],{"type":401,"value":1505},{"type":395,"tag":537,"props":1860,"children":1861},{"style":754},[1862],{"type":401,"value":887},{"type":395,"tag":537,"props":1864,"children":1865},{"style":1747},[1866],{"type":401,"value":1750},{"type":395,"tag":537,"props":1868,"children":1869},{"style":754},[1870],{"type":401,"value":887},{"type":395,"tag":537,"props":1872,"children":1873},{"style":829},[1874],{"type":401,"value":1875},"insertAfterNode",{"type":395,"tag":537,"props":1877,"children":1878},{"style":621},[1879],{"type":401,"value":933},{"type":395,"tag":537,"props":1881,"children":1882},{"style":1520},[1883],{"type":401,"value":1768},{"type":395,"tag":537,"props":1885,"children":1886},{"style":754},[1887],{"type":401,"value":838},{"type":395,"tag":537,"props":1889,"children":1890},{"style":1535},[1891],{"type":401,"value":1892},"prevNode",{"type":395,"tag":537,"props":1894,"children":1895},{"style":754},[1896],{"type":401,"value":1543},{"type":395,"tag":537,"props":1898,"children":1899},{"style":754},[1900],{"type":401,"value":762},{"type":395,"tag":537,"props":1902,"children":1904},{"class":539,"line":1903},17,[1905,1910,1915,1919,1924,1928],{"type":395,"tag":537,"props":1906,"children":1907},{"style":1520},[1908],{"type":401,"value":1909},"  const",{"type":395,"tag":537,"props":1911,"children":1912},{"style":1747},[1913],{"type":401,"value":1914}," prevNextNode",{"type":395,"tag":537,"props":1916,"children":1917},{"style":621},[1918],{"type":401,"value":933},{"type":395,"tag":537,"props":1920,"children":1921},{"style":615},[1922],{"type":401,"value":1923}," prevNode",{"type":395,"tag":537,"props":1925,"children":1926},{"style":754},[1927],{"type":401,"value":887},{"type":395,"tag":537,"props":1929,"children":1930},{"style":615},[1931],{"type":401,"value":1932},"next\n",{"type":395,"tag":537,"props":1934,"children":1936},{"class":539,"line":1935},18,[1937,1942,1946,1951,1955,1959],{"type":395,"tag":537,"props":1938,"children":1939},{"style":615},[1940],{"type":401,"value":1941},"  prevNode",{"type":395,"tag":537,"props":1943,"children":1944},{"style":754},[1945],{"type":401,"value":887},{"type":395,"tag":537,"props":1947,"children":1948},{"style":829},[1949],{"type":401,"value":1950},"linkNext",{"type":395,"tag":537,"props":1952,"children":1953},{"style":835},[1954],{"type":401,"value":1035},{"type":395,"tag":537,"props":1956,"children":1957},{"style":879},[1958],{"type":401,"value":882},{"type":395,"tag":537,"props":1960,"children":1961},{"style":835},[1962],{"type":401,"value":1044},{"type":395,"tag":537,"props":1964,"children":1966},{"class":539,"line":1965},19,[1967,1971,1975,1979,1983,1988],{"type":395,"tag":537,"props":1968,"children":1969},{"style":879},[1970],{"type":401,"value":1555},{"type":395,"tag":537,"props":1972,"children":1973},{"style":754},[1974],{"type":401,"value":887},{"type":395,"tag":537,"props":1976,"children":1977},{"style":829},[1978],{"type":401,"value":1950},{"type":395,"tag":537,"props":1980,"children":1981},{"style":835},[1982],{"type":401,"value":1035},{"type":395,"tag":537,"props":1984,"children":1985},{"style":615},[1986],{"type":401,"value":1987},"prevNextNode",{"type":395,"tag":537,"props":1989,"children":1990},{"style":835},[1991],{"type":401,"value":1044},{"type":395,"tag":537,"props":1993,"children":1995},{"class":539,"line":1994},20,[1996],{"type":395,"tag":537,"props":1997,"children":1998},{"style":754},[1999],{"type":401,"value":799},{"type":395,"tag":537,"props":2001,"children":2003},{"class":539,"line":2002},21,[2004],{"type":395,"tag":537,"props":2005,"children":2006},{"style":769},[2007],{"type":401,"value":2008},"// 删除当前节点，除非节点是头节点/尾节点\n",{"type":395,"tag":537,"props":2010,"children":2012},{"class":539,"line":2011},22,[2013,2017,2021,2025,2029,2034,2038,2042,2047],{"type":395,"tag":537,"props":2014,"children":2015},{"style":1738},[2016],{"type":401,"value":1505},{"type":395,"tag":537,"props":2018,"children":2019},{"style":754},[2020],{"type":401,"value":887},{"type":395,"tag":537,"props":2022,"children":2023},{"style":1747},[2024],{"type":401,"value":1750},{"type":395,"tag":537,"props":2026,"children":2027},{"style":754},[2028],{"type":401,"value":887},{"type":395,"tag":537,"props":2030,"children":2031},{"style":829},[2032],{"type":401,"value":2033},"unLink",{"type":395,"tag":537,"props":2035,"children":2036},{"style":621},[2037],{"type":401,"value":933},{"type":395,"tag":537,"props":2039,"children":2040},{"style":1520},[2041],{"type":401,"value":1768},{"type":395,"tag":537,"props":2043,"children":2044},{"style":754},[2045],{"type":401,"value":2046}," ()",{"type":395,"tag":537,"props":2048,"children":2049},{"style":754},[2050],{"type":401,"value":762},{"type":395,"tag":537,"props":2052,"children":2054},{"class":539,"line":2053},23,[2055,2059,2064,2068,2072,2076],{"type":395,"tag":537,"props":2056,"children":2057},{"style":1520},[2058],{"type":401,"value":1909},{"type":395,"tag":537,"props":2060,"children":2061},{"style":1747},[2062],{"type":401,"value":2063}," prev",{"type":395,"tag":537,"props":2065,"children":2066},{"style":621},[2067],{"type":401,"value":933},{"type":395,"tag":537,"props":2069,"children":2070},{"style":879},[2071],{"type":401,"value":938},{"type":395,"tag":537,"props":2073,"children":2074},{"style":754},[2075],{"type":401,"value":887},{"type":395,"tag":537,"props":2077,"children":2078},{"style":615},[2079],{"type":401,"value":2080},"prev\n",{"type":395,"tag":537,"props":2082,"children":2084},{"class":539,"line":2083},24,[2085,2089,2094,2098,2102,2106],{"type":395,"tag":537,"props":2086,"children":2087},{"style":1520},[2088],{"type":401,"value":1909},{"type":395,"tag":537,"props":2090,"children":2091},{"style":1747},[2092],{"type":401,"value":2093}," next",{"type":395,"tag":537,"props":2095,"children":2096},{"style":621},[2097],{"type":401,"value":933},{"type":395,"tag":537,"props":2099,"children":2100},{"style":879},[2101],{"type":401,"value":938},{"type":395,"tag":537,"props":2103,"children":2104},{"style":754},[2105],{"type":401,"value":887},{"type":395,"tag":537,"props":2107,"children":2108},{"style":615},[2109],{"type":401,"value":1932},{"type":395,"tag":537,"props":2111,"children":2113},{"class":539,"line":2112},25,[2114],{"type":395,"tag":537,"props":2115,"children":2116},{"emptyLinePlaceholder":388},[2117],{"type":401,"value":2118},"\n",{"type":395,"tag":537,"props":2120,"children":2122},{"class":539,"line":2121},26,[2123,2128,2132,2137,2141,2145,2150,2154,2158],{"type":395,"tag":537,"props":2124,"children":2125},{"style":869},[2126],{"type":401,"value":2127},"  if",{"type":395,"tag":537,"props":2129,"children":2130},{"style":835},[2131],{"type":401,"value":838},{"type":395,"tag":537,"props":2133,"children":2134},{"style":621},[2135],{"type":401,"value":2136},"!",{"type":395,"tag":537,"props":2138,"children":2139},{"style":615},[2140],{"type":401,"value":1598},{"type":395,"tag":537,"props":2142,"children":2143},{"style":621},[2144],{"type":401,"value":1668},{"type":395,"tag":537,"props":2146,"children":2147},{"style":621},[2148],{"type":401,"value":2149}," !",{"type":395,"tag":537,"props":2151,"children":2152},{"style":615},[2153],{"type":401,"value":1624},{"type":395,"tag":537,"props":2155,"children":2156},{"style":835},[2157],{"type":401,"value":858},{"type":395,"tag":537,"props":2159,"children":2160},{"style":754},[2161],{"type":401,"value":813},{"type":395,"tag":537,"props":2163,"children":2165},{"class":539,"line":2164},27,[2166,2171,2175,2180,2184,2188,2193,2199,2203,2208,2212,2217,2222,2226],{"type":395,"tag":537,"props":2167,"children":2168},{"style":615},[2169],{"type":401,"value":2170},"    console",{"type":395,"tag":537,"props":2172,"children":2173},{"style":754},[2174],{"type":401,"value":887},{"type":395,"tag":537,"props":2176,"children":2177},{"style":829},[2178],{"type":401,"value":2179},"log",{"type":395,"tag":537,"props":2181,"children":2182},{"style":835},[2183],{"type":401,"value":1035},{"type":395,"tag":537,"props":2185,"children":2186},{"style":632},[2187],{"type":401,"value":635},{"type":395,"tag":537,"props":2189,"children":2190},{"style":638},[2191],{"type":401,"value":2192},"Node : ",{"type":395,"tag":537,"props":2194,"children":2196},{"style":2195},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[2197],{"type":401,"value":2198},"${",{"type":395,"tag":537,"props":2200,"children":2201},{"style":879},[2202],{"type":401,"value":882},{"type":395,"tag":537,"props":2204,"children":2206},{"style":2205},"--shiki-light:#39ADB5;--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[2207],{"type":401,"value":887},{"type":395,"tag":537,"props":2209,"children":2210},{"style":615},[2211],{"type":401,"value":1564},{"type":395,"tag":537,"props":2213,"children":2214},{"style":2195},[2215],{"type":401,"value":2216},"}",{"type":395,"tag":537,"props":2218,"children":2219},{"style":638},[2220],{"type":401,"value":2221}," cant unlink",{"type":395,"tag":537,"props":2223,"children":2224},{"style":632},[2225],{"type":401,"value":635},{"type":395,"tag":537,"props":2227,"children":2228},{"style":835},[2229],{"type":401,"value":1044},{"type":395,"tag":537,"props":2231,"children":2233},{"class":539,"line":2232},28,[2234,2239],{"type":395,"tag":537,"props":2235,"children":2236},{"style":869},[2237],{"type":401,"value":2238},"    return",{"type":395,"tag":537,"props":2240,"children":2242},{"style":2241},"--shiki-light:#FF5370;--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[2243],{"type":401,"value":2244}," false\n",{"type":395,"tag":537,"props":2246,"children":2248},{"class":539,"line":2247},29,[2249],{"type":395,"tag":537,"props":2250,"children":2251},{"style":754},[2252],{"type":401,"value":1062},{"type":395,"tag":537,"props":2254,"children":2256},{"class":539,"line":2255},30,[2257,2262,2266,2270,2274,2278],{"type":395,"tag":537,"props":2258,"children":2259},{"style":615},[2260],{"type":401,"value":2261},"  prev",{"type":395,"tag":537,"props":2263,"children":2264},{"style":754},[2265],{"type":401,"value":887},{"type":395,"tag":537,"props":2267,"children":2268},{"style":829},[2269],{"type":401,"value":1950},{"type":395,"tag":537,"props":2271,"children":2272},{"style":835},[2273],{"type":401,"value":1035},{"type":395,"tag":537,"props":2275,"children":2276},{"style":615},[2277],{"type":401,"value":1624},{"type":395,"tag":537,"props":2279,"children":2280},{"style":835},[2281],{"type":401,"value":1044},{"type":395,"tag":537,"props":2283,"children":2285},{"class":539,"line":2284},31,[2286],{"type":395,"tag":537,"props":2287,"children":2288},{"style":754},[2289],{"type":401,"value":799},{"type":395,"tag":1485,"props":2291,"children":2293},{"id":2292},"缓存类",[2294],{"type":401,"value":2292},{"type":395,"tag":404,"props":2296,"children":2297},{},[2298],{"type":401,"value":2299},"缓存类将内含一个双向链表，同时还包含最大链表节点数，当前链表长度这些属性：",{"type":395,"tag":527,"props":2301,"children":2303},{"code":2302},"数组可以直接通过下标去获取某个特定的元素，而链表不行，在缓存类中我使用一个备忘录对象去记录每一个节点的访问地址，充当数组下标的作用，详见下代码中`nodeMemo`的使用\n",[2304],{"type":395,"tag":456,"props":2305,"children":2306},{"__ignoreMap":389},[2307],{"type":401,"value":2302},{"type":395,"tag":527,"props":2309,"children":2311},{"code":2310,"language":604,"meta":389,"className":605,"style":389},"function LFU (limit) {\n  this.headNode = new Node({ key: '__head__'，data: { val: null，weight: Number.MAX_VALUE } })\n  this.tailNode = new Node({ key: '__tail__'，data: { val: null，weight: Number.MIN_VALUE } })\n  this.headNode.linkNext(this.tailNode)\n  this.nodeMemo = {}\n  this.nodeLength = 0\n  this.nodeLengthLimit = limit || 999\n}\n// 通过key判断缓存中是否有某元素\nLFU.prototype.has = function (key) {\n  return !!this.nodeMemo[key]\n}\n// 通过key获取缓存中某一元素值\nLFU.prototype.get = function (key) {\n  let handle = this.nodeMemo[key]\n  if (handle) {\n    this.addNodeWeight(handle)\n    return handle.data.val\n  } else {\n    throw new Error(`Key : ${key} is not fount in LFU Nodes`)\n  }\n}\n// 通过key获取缓存中某一元素权重\nLFU.prototype.getNodeWeight = function (key) {\n  let handle = this.nodeMemo[key]\n  if (handle) {\n    return handle.data.weight\n  } else {\n    throw new Error(`Key : ${key} is not fount in LFU Nodes`)\n  }\n}\n// 添加新的缓存元素\nLFU.prototype.set = function (key，val) {\n  const handleNode = this.nodeMemo[key]\n  if (handleNode) {\n    this.addNodeWeight(handleNode，10)\n    handleNode.data.val = val\n  } else {\n    if (this.nodeLength \u003C this.nodeLengthLimit) {\n      this.nodeLength++\n    } else {\n      const deleteNode = this.tailNode.prev\n      deleteNode.unLink()\n      delete this.nodeMemo[deleteNode.key]\n    }\n    const newNode = new Node({ key，data: { val，weight: 1 } })\n    this.nodeMemo[key] = newNode\n    newNode.insertAfter(this.tailNode.prev)\n  }\n}\n// 打印缓存中全部节点\nLFU.prototype.showAllNodes = function () {\n  let next = this.headNode.next\n  while (next && next.next) {\n    console.log(`Node : ${next.key} has data ${next.data.val} and weight ${next.data.weight}`)\n    next = next.next\n  }\n}\n// 对某一元素进行加权操作\nLFU.prototype.addNodeWeight = function (node，w = 1) {\n  const handle = node\n  let prev = handle.prev\n\n  handle.unLink()\n  handle.data.weight += w\n  while (prev) {\n    if (prev.data.weight \u003C= handle.data.weight) {\n      prev = prev.prev\n    } else {\n      handle.insertAfter(prev)\n      prev = null\n    }\n  }\n}\n",[2312],{"type":395,"tag":456,"props":2313,"children":2314},{"__ignoreMap":389},[2315,2344,2474,2596,2639,2663,2688,2722,2729,2737,2786,2823,2830,2838,2886,2927,2951,2980,3008,3024,3079,3086,3093,3101,3149,3188,3211,3239,3254,3305,3312,3319,3328,3386,3427,3452,3489,3523,3539,3588,3609,3625,3663,3685,3727,3735,3809,3846,3892,3900,3908,3917,3958,3994,4036,4158,4183,4191,4199,4208,4274,4295,4323,4331,4352,4386,4410,4475,4500,4516,4545,4561,4569,4577],{"type":395,"tag":537,"props":2316,"children":2317},{"class":539,"line":540},[2318,2322,2327,2331,2336,2340],{"type":395,"tag":537,"props":2319,"children":2320},{"style":1520},[2321],{"type":401,"value":1523},{"type":395,"tag":537,"props":2323,"children":2324},{"style":829},[2325],{"type":401,"value":2326}," LFU",{"type":395,"tag":537,"props":2328,"children":2329},{"style":754},[2330],{"type":401,"value":838},{"type":395,"tag":537,"props":2332,"children":2333},{"style":1535},[2334],{"type":401,"value":2335},"limit",{"type":395,"tag":537,"props":2337,"children":2338},{"style":754},[2339],{"type":401,"value":1543},{"type":395,"tag":537,"props":2341,"children":2342},{"style":754},[2343],{"type":401,"value":762},{"type":395,"tag":537,"props":2345,"children":2346},{"class":539,"line":765},[2347,2351,2355,2360,2364,2369,2373,2377,2382,2387,2391,2395,2400,2404,2408,2412,2417,2421,2426,2430,2434,2438,2443,2447,2452,2456,2461,2465,2470],{"type":395,"tag":537,"props":2348,"children":2349},{"style":879},[2350],{"type":401,"value":1555},{"type":395,"tag":537,"props":2352,"children":2353},{"style":754},[2354],{"type":401,"value":887},{"type":395,"tag":537,"props":2356,"children":2357},{"style":615},[2358],{"type":401,"value":2359},"headNode",{"type":395,"tag":537,"props":2361,"children":2362},{"style":621},[2363],{"type":401,"value":933},{"type":395,"tag":537,"props":2365,"children":2366},{"style":621},[2367],{"type":401,"value":2368}," new",{"type":395,"tag":537,"props":2370,"children":2371},{"style":829},[2372],{"type":401,"value":1528},{"type":395,"tag":537,"props":2374,"children":2375},{"style":835},[2376],{"type":401,"value":1035},{"type":395,"tag":537,"props":2378,"children":2379},{"style":754},[2380],{"type":401,"value":2381},"{",{"type":395,"tag":537,"props":2383,"children":2384},{"style":835},[2385],{"type":401,"value":2386}," key",{"type":395,"tag":537,"props":2388,"children":2389},{"style":754},[2390],{"type":401,"value":757},{"type":395,"tag":537,"props":2392,"children":2393},{"style":632},[2394],{"type":401,"value":1239},{"type":395,"tag":537,"props":2396,"children":2397},{"style":638},[2398],{"type":401,"value":2399},"__head__",{"type":395,"tag":537,"props":2401,"children":2402},{"style":632},[2403],{"type":401,"value":1230},{"type":395,"tag":537,"props":2405,"children":2406},{"style":835},[2407],{"type":401,"value":848},{"type":395,"tag":537,"props":2409,"children":2410},{"style":615},[2411],{"type":401,"value":751},{"type":395,"tag":537,"props":2413,"children":2414},{"style":835},[2415],{"type":401,"value":2416},": ",{"type":395,"tag":537,"props":2418,"children":2419},{"style":754},[2420],{"type":401,"value":2381},{"type":395,"tag":537,"props":2422,"children":2423},{"style":835},[2424],{"type":401,"value":2425}," val",{"type":395,"tag":537,"props":2427,"children":2428},{"style":754},[2429],{"type":401,"value":757},{"type":395,"tag":537,"props":2431,"children":2432},{"style":1605},[2433],{"type":401,"value":1689},{"type":395,"tag":537,"props":2435,"children":2436},{"style":835},[2437],{"type":401,"value":848},{"type":395,"tag":537,"props":2439,"children":2440},{"style":615},[2441],{"type":401,"value":2442},"weight",{"type":395,"tag":537,"props":2444,"children":2445},{"style":835},[2446],{"type":401,"value":2416},{"type":395,"tag":537,"props":2448,"children":2449},{"style":615},[2450],{"type":401,"value":2451},"Number",{"type":395,"tag":537,"props":2453,"children":2454},{"style":754},[2455],{"type":401,"value":887},{"type":395,"tag":537,"props":2457,"children":2458},{"style":835},[2459],{"type":401,"value":2460},"MAX_VALUE ",{"type":395,"tag":537,"props":2462,"children":2463},{"style":754},[2464],{"type":401,"value":2216},{"type":395,"tag":537,"props":2466,"children":2467},{"style":754},[2468],{"type":401,"value":2469}," }",{"type":395,"tag":537,"props":2471,"children":2472},{"style":835},[2473],{"type":401,"value":1044},{"type":395,"tag":537,"props":2475,"children":2476},{"class":539,"line":775},[2477,2481,2485,2490,2494,2498,2502,2506,2510,2514,2518,2522,2527,2531,2535,2539,2543,2547,2551,2555,2559,2563,2567,2571,2575,2579,2584,2588,2592],{"type":395,"tag":537,"props":2478,"children":2479},{"style":879},[2480],{"type":401,"value":1555},{"type":395,"tag":537,"props":2482,"children":2483},{"style":754},[2484],{"type":401,"value":887},{"type":395,"tag":537,"props":2486,"children":2487},{"style":615},[2488],{"type":401,"value":2489},"tailNode",{"type":395,"tag":537,"props":2491,"children":2492},{"style":621},[2493],{"type":401,"value":933},{"type":395,"tag":537,"props":2495,"children":2496},{"style":621},[2497],{"type":401,"value":2368},{"type":395,"tag":537,"props":2499,"children":2500},{"style":829},[2501],{"type":401,"value":1528},{"type":395,"tag":537,"props":2503,"children":2504},{"style":835},[2505],{"type":401,"value":1035},{"type":395,"tag":537,"props":2507,"children":2508},{"style":754},[2509],{"type":401,"value":2381},{"type":395,"tag":537,"props":2511,"children":2512},{"style":835},[2513],{"type":401,"value":2386},{"type":395,"tag":537,"props":2515,"children":2516},{"style":754},[2517],{"type":401,"value":757},{"type":395,"tag":537,"props":2519,"children":2520},{"style":632},[2521],{"type":401,"value":1239},{"type":395,"tag":537,"props":2523,"children":2524},{"style":638},[2525],{"type":401,"value":2526},"__tail__",{"type":395,"tag":537,"props":2528,"children":2529},{"style":632},[2530],{"type":401,"value":1230},{"type":395,"tag":537,"props":2532,"children":2533},{"style":835},[2534],{"type":401,"value":848},{"type":395,"tag":537,"props":2536,"children":2537},{"style":615},[2538],{"type":401,"value":751},{"type":395,"tag":537,"props":2540,"children":2541},{"style":835},[2542],{"type":401,"value":2416},{"type":395,"tag":537,"props":2544,"children":2545},{"style":754},[2546],{"type":401,"value":2381},{"type":395,"tag":537,"props":2548,"children":2549},{"style":835},[2550],{"type":401,"value":2425},{"type":395,"tag":537,"props":2552,"children":2553},{"style":754},[2554],{"type":401,"value":757},{"type":395,"tag":537,"props":2556,"children":2557},{"style":1605},[2558],{"type":401,"value":1689},{"type":395,"tag":537,"props":2560,"children":2561},{"style":835},[2562],{"type":401,"value":848},{"type":395,"tag":537,"props":2564,"children":2565},{"style":615},[2566],{"type":401,"value":2442},{"type":395,"tag":537,"props":2568,"children":2569},{"style":835},[2570],{"type":401,"value":2416},{"type":395,"tag":537,"props":2572,"children":2573},{"style":615},[2574],{"type":401,"value":2451},{"type":395,"tag":537,"props":2576,"children":2577},{"style":754},[2578],{"type":401,"value":887},{"type":395,"tag":537,"props":2580,"children":2581},{"style":835},[2582],{"type":401,"value":2583},"MIN_VALUE ",{"type":395,"tag":537,"props":2585,"children":2586},{"style":754},[2587],{"type":401,"value":2216},{"type":395,"tag":537,"props":2589,"children":2590},{"style":754},[2591],{"type":401,"value":2469},{"type":395,"tag":537,"props":2593,"children":2594},{"style":835},[2595],{"type":401,"value":1044},{"type":395,"tag":537,"props":2597,"children":2598},{"class":539,"line":793},[2599,2603,2607,2611,2615,2619,2623,2627,2631,2635],{"type":395,"tag":537,"props":2600,"children":2601},{"style":879},[2602],{"type":401,"value":1555},{"type":395,"tag":537,"props":2604,"children":2605},{"style":754},[2606],{"type":401,"value":887},{"type":395,"tag":537,"props":2608,"children":2609},{"style":615},[2610],{"type":401,"value":2359},{"type":395,"tag":537,"props":2612,"children":2613},{"style":754},[2614],{"type":401,"value":887},{"type":395,"tag":537,"props":2616,"children":2617},{"style":829},[2618],{"type":401,"value":1950},{"type":395,"tag":537,"props":2620,"children":2621},{"style":835},[2622],{"type":401,"value":1035},{"type":395,"tag":537,"props":2624,"children":2625},{"style":879},[2626],{"type":401,"value":882},{"type":395,"tag":537,"props":2628,"children":2629},{"style":754},[2630],{"type":401,"value":887},{"type":395,"tag":537,"props":2632,"children":2633},{"style":615},[2634],{"type":401,"value":2489},{"type":395,"tag":537,"props":2636,"children":2637},{"style":835},[2638],{"type":401,"value":1044},{"type":395,"tag":537,"props":2640,"children":2641},{"class":539,"line":802},[2642,2646,2650,2655,2659],{"type":395,"tag":537,"props":2643,"children":2644},{"style":879},[2645],{"type":401,"value":1555},{"type":395,"tag":537,"props":2647,"children":2648},{"style":754},[2649],{"type":401,"value":887},{"type":395,"tag":537,"props":2651,"children":2652},{"style":615},[2653],{"type":401,"value":2654},"nodeMemo",{"type":395,"tag":537,"props":2656,"children":2657},{"style":621},[2658],{"type":401,"value":933},{"type":395,"tag":537,"props":2660,"children":2661},{"style":754},[2662],{"type":401,"value":790},{"type":395,"tag":537,"props":2664,"children":2665},{"class":539,"line":816},[2666,2670,2674,2679,2683],{"type":395,"tag":537,"props":2667,"children":2668},{"style":879},[2669],{"type":401,"value":1555},{"type":395,"tag":537,"props":2671,"children":2672},{"style":754},[2673],{"type":401,"value":887},{"type":395,"tag":537,"props":2675,"children":2676},{"style":615},[2677],{"type":401,"value":2678},"nodeLength",{"type":395,"tag":537,"props":2680,"children":2681},{"style":621},[2682],{"type":401,"value":933},{"type":395,"tag":537,"props":2684,"children":2685},{"style":1124},[2686],{"type":401,"value":2687}," 0\n",{"type":395,"tag":537,"props":2689,"children":2690},{"class":539,"line":825},[2691,2695,2699,2704,2708,2713,2717],{"type":395,"tag":537,"props":2692,"children":2693},{"style":879},[2694],{"type":401,"value":1555},{"type":395,"tag":537,"props":2696,"children":2697},{"style":754},[2698],{"type":401,"value":887},{"type":395,"tag":537,"props":2700,"children":2701},{"style":615},[2702],{"type":401,"value":2703},"nodeLengthLimit",{"type":395,"tag":537,"props":2705,"children":2706},{"style":621},[2707],{"type":401,"value":933},{"type":395,"tag":537,"props":2709,"children":2710},{"style":615},[2711],{"type":401,"value":2712}," limit",{"type":395,"tag":537,"props":2714,"children":2715},{"style":621},[2716],{"type":401,"value":1668},{"type":395,"tag":537,"props":2718,"children":2719},{"style":1124},[2720],{"type":401,"value":2721}," 999\n",{"type":395,"tag":537,"props":2723,"children":2724},{"class":539,"line":865},[2725],{"type":395,"tag":537,"props":2726,"children":2727},{"style":754},[2728],{"type":401,"value":799},{"type":395,"tag":537,"props":2730,"children":2731},{"class":539,"line":913},[2732],{"type":395,"tag":537,"props":2733,"children":2734},{"style":769},[2735],{"type":401,"value":2736},"// 通过key判断缓存中是否有某元素\n",{"type":395,"tag":537,"props":2738,"children":2739},{"class":539,"line":961},[2740,2745,2749,2753,2757,2762,2766,2770,2774,2778,2782],{"type":395,"tag":537,"props":2741,"children":2742},{"style":1738},[2743],{"type":401,"value":2744},"LFU",{"type":395,"tag":537,"props":2746,"children":2747},{"style":754},[2748],{"type":401,"value":887},{"type":395,"tag":537,"props":2750,"children":2751},{"style":1747},[2752],{"type":401,"value":1750},{"type":395,"tag":537,"props":2754,"children":2755},{"style":754},[2756],{"type":401,"value":887},{"type":395,"tag":537,"props":2758,"children":2759},{"style":829},[2760],{"type":401,"value":2761},"has",{"type":395,"tag":537,"props":2763,"children":2764},{"style":621},[2765],{"type":401,"value":933},{"type":395,"tag":537,"props":2767,"children":2768},{"style":1520},[2769],{"type":401,"value":1768},{"type":395,"tag":537,"props":2771,"children":2772},{"style":754},[2773],{"type":401,"value":838},{"type":395,"tag":537,"props":2775,"children":2776},{"style":1535},[2777],{"type":401,"value":1564},{"type":395,"tag":537,"props":2779,"children":2780},{"style":754},[2781],{"type":401,"value":1543},{"type":395,"tag":537,"props":2783,"children":2784},{"style":754},[2785],{"type":401,"value":762},{"type":395,"tag":537,"props":2787,"children":2788},{"class":539,"line":979},[2789,2794,2799,2803,2807,2811,2815,2819],{"type":395,"tag":537,"props":2790,"children":2791},{"style":869},[2792],{"type":401,"value":2793},"  return",{"type":395,"tag":537,"props":2795,"children":2796},{"style":621},[2797],{"type":401,"value":2798}," !!",{"type":395,"tag":537,"props":2800,"children":2801},{"style":879},[2802],{"type":401,"value":882},{"type":395,"tag":537,"props":2804,"children":2805},{"style":754},[2806],{"type":401,"value":887},{"type":395,"tag":537,"props":2808,"children":2809},{"style":615},[2810],{"type":401,"value":2654},{"type":395,"tag":537,"props":2812,"children":2813},{"style":835},[2814],{"type":401,"value":897},{"type":395,"tag":537,"props":2816,"children":2817},{"style":615},[2818],{"type":401,"value":1564},{"type":395,"tag":537,"props":2820,"children":2821},{"style":835},[2822],{"type":401,"value":650},{"type":395,"tag":537,"props":2824,"children":2825},{"class":539,"line":1047},[2826],{"type":395,"tag":537,"props":2827,"children":2828},{"style":754},[2829],{"type":401,"value":799},{"type":395,"tag":537,"props":2831,"children":2832},{"class":539,"line":1056},[2833],{"type":395,"tag":537,"props":2834,"children":2835},{"style":769},[2836],{"type":401,"value":2837},"// 通过key获取缓存中某一元素值\n",{"type":395,"tag":537,"props":2839,"children":2840},{"class":539,"line":1065},[2841,2845,2849,2853,2857,2862,2866,2870,2874,2878,2882],{"type":395,"tag":537,"props":2842,"children":2843},{"style":1738},[2844],{"type":401,"value":2744},{"type":395,"tag":537,"props":2846,"children":2847},{"style":754},[2848],{"type":401,"value":887},{"type":395,"tag":537,"props":2850,"children":2851},{"style":1747},[2852],{"type":401,"value":1750},{"type":395,"tag":537,"props":2854,"children":2855},{"style":754},[2856],{"type":401,"value":887},{"type":395,"tag":537,"props":2858,"children":2859},{"style":829},[2860],{"type":401,"value":2861},"get",{"type":395,"tag":537,"props":2863,"children":2864},{"style":621},[2865],{"type":401,"value":933},{"type":395,"tag":537,"props":2867,"children":2868},{"style":1520},[2869],{"type":401,"value":1768},{"type":395,"tag":537,"props":2871,"children":2872},{"style":754},[2873],{"type":401,"value":838},{"type":395,"tag":537,"props":2875,"children":2876},{"style":1535},[2877],{"type":401,"value":1564},{"type":395,"tag":537,"props":2879,"children":2880},{"style":754},[2881],{"type":401,"value":1543},{"type":395,"tag":537,"props":2883,"children":2884},{"style":754},[2885],{"type":401,"value":762},{"type":395,"tag":537,"props":2887,"children":2888},{"class":539,"line":1844},[2889,2894,2899,2903,2907,2911,2915,2919,2923],{"type":395,"tag":537,"props":2890,"children":2891},{"style":1520},[2892],{"type":401,"value":2893},"  let",{"type":395,"tag":537,"props":2895,"children":2896},{"style":615},[2897],{"type":401,"value":2898}," handle",{"type":395,"tag":537,"props":2900,"children":2901},{"style":621},[2902],{"type":401,"value":933},{"type":395,"tag":537,"props":2904,"children":2905},{"style":879},[2906],{"type":401,"value":938},{"type":395,"tag":537,"props":2908,"children":2909},{"style":754},[2910],{"type":401,"value":887},{"type":395,"tag":537,"props":2912,"children":2913},{"style":615},[2914],{"type":401,"value":2654},{"type":395,"tag":537,"props":2916,"children":2917},{"style":835},[2918],{"type":401,"value":897},{"type":395,"tag":537,"props":2920,"children":2921},{"style":615},[2922],{"type":401,"value":1564},{"type":395,"tag":537,"props":2924,"children":2925},{"style":835},[2926],{"type":401,"value":650},{"type":395,"tag":537,"props":2928,"children":2929},{"class":539,"line":1853},[2930,2934,2938,2943,2947],{"type":395,"tag":537,"props":2931,"children":2932},{"style":869},[2933],{"type":401,"value":2127},{"type":395,"tag":537,"props":2935,"children":2936},{"style":835},[2937],{"type":401,"value":838},{"type":395,"tag":537,"props":2939,"children":2940},{"style":615},[2941],{"type":401,"value":2942},"handle",{"type":395,"tag":537,"props":2944,"children":2945},{"style":835},[2946],{"type":401,"value":858},{"type":395,"tag":537,"props":2948,"children":2949},{"style":754},[2950],{"type":401,"value":813},{"type":395,"tag":537,"props":2952,"children":2953},{"class":539,"line":1903},[2954,2959,2963,2968,2972,2976],{"type":395,"tag":537,"props":2955,"children":2956},{"style":879},[2957],{"type":401,"value":2958},"    this",{"type":395,"tag":537,"props":2960,"children":2961},{"style":754},[2962],{"type":401,"value":887},{"type":395,"tag":537,"props":2964,"children":2965},{"style":829},[2966],{"type":401,"value":2967},"addNodeWeight",{"type":395,"tag":537,"props":2969,"children":2970},{"style":835},[2971],{"type":401,"value":1035},{"type":395,"tag":537,"props":2973,"children":2974},{"style":615},[2975],{"type":401,"value":2942},{"type":395,"tag":537,"props":2977,"children":2978},{"style":835},[2979],{"type":401,"value":1044},{"type":395,"tag":537,"props":2981,"children":2982},{"class":539,"line":1935},[2983,2987,2991,2995,2999,3003],{"type":395,"tag":537,"props":2984,"children":2985},{"style":869},[2986],{"type":401,"value":2238},{"type":395,"tag":537,"props":2988,"children":2989},{"style":615},[2990],{"type":401,"value":2898},{"type":395,"tag":537,"props":2992,"children":2993},{"style":754},[2994],{"type":401,"value":887},{"type":395,"tag":537,"props":2996,"children":2997},{"style":615},[2998],{"type":401,"value":751},{"type":395,"tag":537,"props":3000,"children":3001},{"style":754},[3002],{"type":401,"value":887},{"type":395,"tag":537,"props":3004,"children":3005},{"style":615},[3006],{"type":401,"value":3007},"val\n",{"type":395,"tag":537,"props":3009,"children":3010},{"class":539,"line":1965},[3011,3016,3020],{"type":395,"tag":537,"props":3012,"children":3013},{"style":754},[3014],{"type":401,"value":3015},"  }",{"type":395,"tag":537,"props":3017,"children":3018},{"style":869},[3019],{"type":401,"value":972},{"type":395,"tag":537,"props":3021,"children":3022},{"style":754},[3023],{"type":401,"value":762},{"type":395,"tag":537,"props":3025,"children":3026},{"class":539,"line":1994},[3027,3032,3036,3041,3045,3049,3054,3058,3062,3066,3071,3075],{"type":395,"tag":537,"props":3028,"children":3029},{"style":869},[3030],{"type":401,"value":3031},"    throw",{"type":395,"tag":537,"props":3033,"children":3034},{"style":621},[3035],{"type":401,"value":2368},{"type":395,"tag":537,"props":3037,"children":3038},{"style":829},[3039],{"type":401,"value":3040}," Error",{"type":395,"tag":537,"props":3042,"children":3043},{"style":835},[3044],{"type":401,"value":1035},{"type":395,"tag":537,"props":3046,"children":3047},{"style":632},[3048],{"type":401,"value":635},{"type":395,"tag":537,"props":3050,"children":3051},{"style":638},[3052],{"type":401,"value":3053},"Key : ",{"type":395,"tag":537,"props":3055,"children":3056},{"style":2195},[3057],{"type":401,"value":2198},{"type":395,"tag":537,"props":3059,"children":3060},{"style":615},[3061],{"type":401,"value":1564},{"type":395,"tag":537,"props":3063,"children":3064},{"style":2195},[3065],{"type":401,"value":2216},{"type":395,"tag":537,"props":3067,"children":3068},{"style":638},[3069],{"type":401,"value":3070}," is not fount in LFU Nodes",{"type":395,"tag":537,"props":3072,"children":3073},{"style":632},[3074],{"type":401,"value":635},{"type":395,"tag":537,"props":3076,"children":3077},{"style":835},[3078],{"type":401,"value":1044},{"type":395,"tag":537,"props":3080,"children":3081},{"class":539,"line":2002},[3082],{"type":395,"tag":537,"props":3083,"children":3084},{"style":754},[3085],{"type":401,"value":1062},{"type":395,"tag":537,"props":3087,"children":3088},{"class":539,"line":2011},[3089],{"type":395,"tag":537,"props":3090,"children":3091},{"style":754},[3092],{"type":401,"value":799},{"type":395,"tag":537,"props":3094,"children":3095},{"class":539,"line":2053},[3096],{"type":395,"tag":537,"props":3097,"children":3098},{"style":769},[3099],{"type":401,"value":3100},"// 通过key获取缓存中某一元素权重\n",{"type":395,"tag":537,"props":3102,"children":3103},{"class":539,"line":2083},[3104,3108,3112,3116,3120,3125,3129,3133,3137,3141,3145],{"type":395,"tag":537,"props":3105,"children":3106},{"style":1738},[3107],{"type":401,"value":2744},{"type":395,"tag":537,"props":3109,"children":3110},{"style":754},[3111],{"type":401,"value":887},{"type":395,"tag":537,"props":3113,"children":3114},{"style":1747},[3115],{"type":401,"value":1750},{"type":395,"tag":537,"props":3117,"children":3118},{"style":754},[3119],{"type":401,"value":887},{"type":395,"tag":537,"props":3121,"children":3122},{"style":829},[3123],{"type":401,"value":3124},"getNodeWeight",{"type":395,"tag":537,"props":3126,"children":3127},{"style":621},[3128],{"type":401,"value":933},{"type":395,"tag":537,"props":3130,"children":3131},{"style":1520},[3132],{"type":401,"value":1768},{"type":395,"tag":537,"props":3134,"children":3135},{"style":754},[3136],{"type":401,"value":838},{"type":395,"tag":537,"props":3138,"children":3139},{"style":1535},[3140],{"type":401,"value":1564},{"type":395,"tag":537,"props":3142,"children":3143},{"style":754},[3144],{"type":401,"value":1543},{"type":395,"tag":537,"props":3146,"children":3147},{"style":754},[3148],{"type":401,"value":762},{"type":395,"tag":537,"props":3150,"children":3151},{"class":539,"line":2112},[3152,3156,3160,3164,3168,3172,3176,3180,3184],{"type":395,"tag":537,"props":3153,"children":3154},{"style":1520},[3155],{"type":401,"value":2893},{"type":395,"tag":537,"props":3157,"children":3158},{"style":615},[3159],{"type":401,"value":2898},{"type":395,"tag":537,"props":3161,"children":3162},{"style":621},[3163],{"type":401,"value":933},{"type":395,"tag":537,"props":3165,"children":3166},{"style":879},[3167],{"type":401,"value":938},{"type":395,"tag":537,"props":3169,"children":3170},{"style":754},[3171],{"type":401,"value":887},{"type":395,"tag":537,"props":3173,"children":3174},{"style":615},[3175],{"type":401,"value":2654},{"type":395,"tag":537,"props":3177,"children":3178},{"style":835},[3179],{"type":401,"value":897},{"type":395,"tag":537,"props":3181,"children":3182},{"style":615},[3183],{"type":401,"value":1564},{"type":395,"tag":537,"props":3185,"children":3186},{"style":835},[3187],{"type":401,"value":650},{"type":395,"tag":537,"props":3189,"children":3190},{"class":539,"line":2121},[3191,3195,3199,3203,3207],{"type":395,"tag":537,"props":3192,"children":3193},{"style":869},[3194],{"type":401,"value":2127},{"type":395,"tag":537,"props":3196,"children":3197},{"style":835},[3198],{"type":401,"value":838},{"type":395,"tag":537,"props":3200,"children":3201},{"style":615},[3202],{"type":401,"value":2942},{"type":395,"tag":537,"props":3204,"children":3205},{"style":835},[3206],{"type":401,"value":858},{"type":395,"tag":537,"props":3208,"children":3209},{"style":754},[3210],{"type":401,"value":813},{"type":395,"tag":537,"props":3212,"children":3213},{"class":539,"line":2164},[3214,3218,3222,3226,3230,3234],{"type":395,"tag":537,"props":3215,"children":3216},{"style":869},[3217],{"type":401,"value":2238},{"type":395,"tag":537,"props":3219,"children":3220},{"style":615},[3221],{"type":401,"value":2898},{"type":395,"tag":537,"props":3223,"children":3224},{"style":754},[3225],{"type":401,"value":887},{"type":395,"tag":537,"props":3227,"children":3228},{"style":615},[3229],{"type":401,"value":751},{"type":395,"tag":537,"props":3231,"children":3232},{"style":754},[3233],{"type":401,"value":887},{"type":395,"tag":537,"props":3235,"children":3236},{"style":615},[3237],{"type":401,"value":3238},"weight\n",{"type":395,"tag":537,"props":3240,"children":3241},{"class":539,"line":2232},[3242,3246,3250],{"type":395,"tag":537,"props":3243,"children":3244},{"style":754},[3245],{"type":401,"value":3015},{"type":395,"tag":537,"props":3247,"children":3248},{"style":869},[3249],{"type":401,"value":972},{"type":395,"tag":537,"props":3251,"children":3252},{"style":754},[3253],{"type":401,"value":762},{"type":395,"tag":537,"props":3255,"children":3256},{"class":539,"line":2247},[3257,3261,3265,3269,3273,3277,3281,3285,3289,3293,3297,3301],{"type":395,"tag":537,"props":3258,"children":3259},{"style":869},[3260],{"type":401,"value":3031},{"type":395,"tag":537,"props":3262,"children":3263},{"style":621},[3264],{"type":401,"value":2368},{"type":395,"tag":537,"props":3266,"children":3267},{"style":829},[3268],{"type":401,"value":3040},{"type":395,"tag":537,"props":3270,"children":3271},{"style":835},[3272],{"type":401,"value":1035},{"type":395,"tag":537,"props":3274,"children":3275},{"style":632},[3276],{"type":401,"value":635},{"type":395,"tag":537,"props":3278,"children":3279},{"style":638},[3280],{"type":401,"value":3053},{"type":395,"tag":537,"props":3282,"children":3283},{"style":2195},[3284],{"type":401,"value":2198},{"type":395,"tag":537,"props":3286,"children":3287},{"style":615},[3288],{"type":401,"value":1564},{"type":395,"tag":537,"props":3290,"children":3291},{"style":2195},[3292],{"type":401,"value":2216},{"type":395,"tag":537,"props":3294,"children":3295},{"style":638},[3296],{"type":401,"value":3070},{"type":395,"tag":537,"props":3298,"children":3299},{"style":632},[3300],{"type":401,"value":635},{"type":395,"tag":537,"props":3302,"children":3303},{"style":835},[3304],{"type":401,"value":1044},{"type":395,"tag":537,"props":3306,"children":3307},{"class":539,"line":2255},[3308],{"type":395,"tag":537,"props":3309,"children":3310},{"style":754},[3311],{"type":401,"value":1062},{"type":395,"tag":537,"props":3313,"children":3314},{"class":539,"line":2284},[3315],{"type":395,"tag":537,"props":3316,"children":3317},{"style":754},[3318],{"type":401,"value":799},{"type":395,"tag":537,"props":3320,"children":3322},{"class":539,"line":3321},32,[3323],{"type":395,"tag":537,"props":3324,"children":3325},{"style":769},[3326],{"type":401,"value":3327},"// 添加新的缓存元素\n",{"type":395,"tag":537,"props":3329,"children":3331},{"class":539,"line":3330},33,[3332,3336,3340,3344,3348,3353,3357,3361,3365,3369,3373,3378,3382],{"type":395,"tag":537,"props":3333,"children":3334},{"style":1738},[3335],{"type":401,"value":2744},{"type":395,"tag":537,"props":3337,"children":3338},{"style":754},[3339],{"type":401,"value":887},{"type":395,"tag":537,"props":3341,"children":3342},{"style":1747},[3343],{"type":401,"value":1750},{"type":395,"tag":537,"props":3345,"children":3346},{"style":754},[3347],{"type":401,"value":887},{"type":395,"tag":537,"props":3349,"children":3350},{"style":829},[3351],{"type":401,"value":3352},"set",{"type":395,"tag":537,"props":3354,"children":3355},{"style":621},[3356],{"type":401,"value":933},{"type":395,"tag":537,"props":3358,"children":3359},{"style":1520},[3360],{"type":401,"value":1768},{"type":395,"tag":537,"props":3362,"children":3363},{"style":754},[3364],{"type":401,"value":838},{"type":395,"tag":537,"props":3366,"children":3367},{"style":1535},[3368],{"type":401,"value":1564},{"type":395,"tag":537,"props":3370,"children":3371},{"style":615},[3372],{"type":401,"value":848},{"type":395,"tag":537,"props":3374,"children":3375},{"style":1535},[3376],{"type":401,"value":3377},"val",{"type":395,"tag":537,"props":3379,"children":3380},{"style":754},[3381],{"type":401,"value":1543},{"type":395,"tag":537,"props":3383,"children":3384},{"style":754},[3385],{"type":401,"value":762},{"type":395,"tag":537,"props":3387,"children":3389},{"class":539,"line":3388},34,[3390,3394,3399,3403,3407,3411,3415,3419,3423],{"type":395,"tag":537,"props":3391,"children":3392},{"style":1520},[3393],{"type":401,"value":1909},{"type":395,"tag":537,"props":3395,"children":3396},{"style":1747},[3397],{"type":401,"value":3398}," handleNode",{"type":395,"tag":537,"props":3400,"children":3401},{"style":621},[3402],{"type":401,"value":933},{"type":395,"tag":537,"props":3404,"children":3405},{"style":879},[3406],{"type":401,"value":938},{"type":395,"tag":537,"props":3408,"children":3409},{"style":754},[3410],{"type":401,"value":887},{"type":395,"tag":537,"props":3412,"children":3413},{"style":615},[3414],{"type":401,"value":2654},{"type":395,"tag":537,"props":3416,"children":3417},{"style":835},[3418],{"type":401,"value":897},{"type":395,"tag":537,"props":3420,"children":3421},{"style":615},[3422],{"type":401,"value":1564},{"type":395,"tag":537,"props":3424,"children":3425},{"style":835},[3426],{"type":401,"value":650},{"type":395,"tag":537,"props":3428,"children":3430},{"class":539,"line":3429},35,[3431,3435,3439,3444,3448],{"type":395,"tag":537,"props":3432,"children":3433},{"style":869},[3434],{"type":401,"value":2127},{"type":395,"tag":537,"props":3436,"children":3437},{"style":835},[3438],{"type":401,"value":838},{"type":395,"tag":537,"props":3440,"children":3441},{"style":615},[3442],{"type":401,"value":3443},"handleNode",{"type":395,"tag":537,"props":3445,"children":3446},{"style":835},[3447],{"type":401,"value":858},{"type":395,"tag":537,"props":3449,"children":3450},{"style":754},[3451],{"type":401,"value":813},{"type":395,"tag":537,"props":3453,"children":3455},{"class":539,"line":3454},36,[3456,3460,3464,3468,3472,3476,3480,3485],{"type":395,"tag":537,"props":3457,"children":3458},{"style":879},[3459],{"type":401,"value":2958},{"type":395,"tag":537,"props":3461,"children":3462},{"style":754},[3463],{"type":401,"value":887},{"type":395,"tag":537,"props":3465,"children":3466},{"style":829},[3467],{"type":401,"value":2967},{"type":395,"tag":537,"props":3469,"children":3470},{"style":835},[3471],{"type":401,"value":1035},{"type":395,"tag":537,"props":3473,"children":3474},{"style":615},[3475],{"type":401,"value":3443},{"type":395,"tag":537,"props":3477,"children":3478},{"style":835},[3479],{"type":401,"value":848},{"type":395,"tag":537,"props":3481,"children":3482},{"style":1124},[3483],{"type":401,"value":3484},"10",{"type":395,"tag":537,"props":3486,"children":3487},{"style":835},[3488],{"type":401,"value":1044},{"type":395,"tag":537,"props":3490,"children":3492},{"class":539,"line":3491},37,[3493,3498,3502,3506,3510,3514,3518],{"type":395,"tag":537,"props":3494,"children":3495},{"style":615},[3496],{"type":401,"value":3497},"    handleNode",{"type":395,"tag":537,"props":3499,"children":3500},{"style":754},[3501],{"type":401,"value":887},{"type":395,"tag":537,"props":3503,"children":3504},{"style":615},[3505],{"type":401,"value":751},{"type":395,"tag":537,"props":3507,"children":3508},{"style":754},[3509],{"type":401,"value":887},{"type":395,"tag":537,"props":3511,"children":3512},{"style":615},[3513],{"type":401,"value":3377},{"type":395,"tag":537,"props":3515,"children":3516},{"style":621},[3517],{"type":401,"value":933},{"type":395,"tag":537,"props":3519,"children":3520},{"style":615},[3521],{"type":401,"value":3522}," val\n",{"type":395,"tag":537,"props":3524,"children":3526},{"class":539,"line":3525},38,[3527,3531,3535],{"type":395,"tag":537,"props":3528,"children":3529},{"style":754},[3530],{"type":401,"value":3015},{"type":395,"tag":537,"props":3532,"children":3533},{"style":869},[3534],{"type":401,"value":972},{"type":395,"tag":537,"props":3536,"children":3537},{"style":754},[3538],{"type":401,"value":762},{"type":395,"tag":537,"props":3540,"children":3542},{"class":539,"line":3541},39,[3543,3547,3551,3555,3559,3563,3568,3572,3576,3580,3584],{"type":395,"tag":537,"props":3544,"children":3545},{"style":869},[3546],{"type":401,"value":872},{"type":395,"tag":537,"props":3548,"children":3549},{"style":835},[3550],{"type":401,"value":838},{"type":395,"tag":537,"props":3552,"children":3553},{"style":879},[3554],{"type":401,"value":882},{"type":395,"tag":537,"props":3556,"children":3557},{"style":754},[3558],{"type":401,"value":887},{"type":395,"tag":537,"props":3560,"children":3561},{"style":615},[3562],{"type":401,"value":2678},{"type":395,"tag":537,"props":3564,"children":3565},{"style":621},[3566],{"type":401,"value":3567}," \u003C",{"type":395,"tag":537,"props":3569,"children":3570},{"style":879},[3571],{"type":401,"value":938},{"type":395,"tag":537,"props":3573,"children":3574},{"style":754},[3575],{"type":401,"value":887},{"type":395,"tag":537,"props":3577,"children":3578},{"style":615},[3579],{"type":401,"value":2703},{"type":395,"tag":537,"props":3581,"children":3582},{"style":835},[3583],{"type":401,"value":858},{"type":395,"tag":537,"props":3585,"children":3586},{"style":754},[3587],{"type":401,"value":813},{"type":395,"tag":537,"props":3589,"children":3591},{"class":539,"line":3590},40,[3592,3596,3600,3604],{"type":395,"tag":537,"props":3593,"children":3594},{"style":879},[3595],{"type":401,"value":919},{"type":395,"tag":537,"props":3597,"children":3598},{"style":754},[3599],{"type":401,"value":887},{"type":395,"tag":537,"props":3601,"children":3602},{"style":615},[3603],{"type":401,"value":2678},{"type":395,"tag":537,"props":3605,"children":3606},{"style":621},[3607],{"type":401,"value":3608},"++\n",{"type":395,"tag":537,"props":3610,"children":3612},{"class":539,"line":3611},41,[3613,3617,3621],{"type":395,"tag":537,"props":3614,"children":3615},{"style":754},[3616],{"type":401,"value":967},{"type":395,"tag":537,"props":3618,"children":3619},{"style":869},[3620],{"type":401,"value":972},{"type":395,"tag":537,"props":3622,"children":3623},{"style":754},[3624],{"type":401,"value":762},{"type":395,"tag":537,"props":3626,"children":3628},{"class":539,"line":3627},42,[3629,3634,3639,3643,3647,3651,3655,3659],{"type":395,"tag":537,"props":3630,"children":3631},{"style":1520},[3632],{"type":401,"value":3633},"      const",{"type":395,"tag":537,"props":3635,"children":3636},{"style":1747},[3637],{"type":401,"value":3638}," deleteNode",{"type":395,"tag":537,"props":3640,"children":3641},{"style":621},[3642],{"type":401,"value":933},{"type":395,"tag":537,"props":3644,"children":3645},{"style":879},[3646],{"type":401,"value":938},{"type":395,"tag":537,"props":3648,"children":3649},{"style":754},[3650],{"type":401,"value":887},{"type":395,"tag":537,"props":3652,"children":3653},{"style":615},[3654],{"type":401,"value":2489},{"type":395,"tag":537,"props":3656,"children":3657},{"style":754},[3658],{"type":401,"value":887},{"type":395,"tag":537,"props":3660,"children":3661},{"style":615},[3662],{"type":401,"value":2080},{"type":395,"tag":537,"props":3664,"children":3666},{"class":539,"line":3665},43,[3667,3672,3676,3680],{"type":395,"tag":537,"props":3668,"children":3669},{"style":615},[3670],{"type":401,"value":3671},"      deleteNode",{"type":395,"tag":537,"props":3673,"children":3674},{"style":754},[3675],{"type":401,"value":887},{"type":395,"tag":537,"props":3677,"children":3678},{"style":829},[3679],{"type":401,"value":2033},{"type":395,"tag":537,"props":3681,"children":3682},{"style":835},[3683],{"type":401,"value":3684},"()\n",{"type":395,"tag":537,"props":3686,"children":3688},{"class":539,"line":3687},44,[3689,3694,3698,3702,3706,3710,3715,3719,3723],{"type":395,"tag":537,"props":3690,"children":3691},{"style":621},[3692],{"type":401,"value":3693},"      delete",{"type":395,"tag":537,"props":3695,"children":3696},{"style":879},[3697],{"type":401,"value":938},{"type":395,"tag":537,"props":3699,"children":3700},{"style":754},[3701],{"type":401,"value":887},{"type":395,"tag":537,"props":3703,"children":3704},{"style":615},[3705],{"type":401,"value":2654},{"type":395,"tag":537,"props":3707,"children":3708},{"style":835},[3709],{"type":401,"value":897},{"type":395,"tag":537,"props":3711,"children":3712},{"style":615},[3713],{"type":401,"value":3714},"deleteNode",{"type":395,"tag":537,"props":3716,"children":3717},{"style":754},[3718],{"type":401,"value":887},{"type":395,"tag":537,"props":3720,"children":3721},{"style":615},[3722],{"type":401,"value":1564},{"type":395,"tag":537,"props":3724,"children":3725},{"style":835},[3726],{"type":401,"value":650},{"type":395,"tag":537,"props":3728,"children":3730},{"class":539,"line":3729},45,[3731],{"type":395,"tag":537,"props":3732,"children":3733},{"style":754},[3734],{"type":401,"value":1053},{"type":395,"tag":537,"props":3736,"children":3738},{"class":539,"line":3737},46,[3739,3744,3749,3753,3757,3761,3765,3769,3774,3778,3783,3788,3792,3797,3801,3805],{"type":395,"tag":537,"props":3740,"children":3741},{"style":1520},[3742],{"type":401,"value":3743},"    const",{"type":395,"tag":537,"props":3745,"children":3746},{"style":1747},[3747],{"type":401,"value":3748}," newNode",{"type":395,"tag":537,"props":3750,"children":3751},{"style":621},[3752],{"type":401,"value":933},{"type":395,"tag":537,"props":3754,"children":3755},{"style":621},[3756],{"type":401,"value":2368},{"type":395,"tag":537,"props":3758,"children":3759},{"style":829},[3760],{"type":401,"value":1528},{"type":395,"tag":537,"props":3762,"children":3763},{"style":835},[3764],{"type":401,"value":1035},{"type":395,"tag":537,"props":3766,"children":3767},{"style":754},[3768],{"type":401,"value":2381},{"type":395,"tag":537,"props":3770,"children":3771},{"style":835},[3772],{"type":401,"value":3773}," key，data",{"type":395,"tag":537,"props":3775,"children":3776},{"style":754},[3777],{"type":401,"value":757},{"type":395,"tag":537,"props":3779,"children":3780},{"style":754},[3781],{"type":401,"value":3782}," {",{"type":395,"tag":537,"props":3784,"children":3785},{"style":835},[3786],{"type":401,"value":3787}," val，weight",{"type":395,"tag":537,"props":3789,"children":3790},{"style":754},[3791],{"type":401,"value":757},{"type":395,"tag":537,"props":3793,"children":3794},{"style":1124},[3795],{"type":401,"value":3796}," 1",{"type":395,"tag":537,"props":3798,"children":3799},{"style":754},[3800],{"type":401,"value":2469},{"type":395,"tag":537,"props":3802,"children":3803},{"style":754},[3804],{"type":401,"value":2469},{"type":395,"tag":537,"props":3806,"children":3807},{"style":835},[3808],{"type":401,"value":1044},{"type":395,"tag":537,"props":3810,"children":3812},{"class":539,"line":3811},47,[3813,3817,3821,3825,3829,3833,3837,3841],{"type":395,"tag":537,"props":3814,"children":3815},{"style":879},[3816],{"type":401,"value":2958},{"type":395,"tag":537,"props":3818,"children":3819},{"style":754},[3820],{"type":401,"value":887},{"type":395,"tag":537,"props":3822,"children":3823},{"style":615},[3824],{"type":401,"value":2654},{"type":395,"tag":537,"props":3826,"children":3827},{"style":835},[3828],{"type":401,"value":897},{"type":395,"tag":537,"props":3830,"children":3831},{"style":615},[3832],{"type":401,"value":1564},{"type":395,"tag":537,"props":3834,"children":3835},{"style":835},[3836],{"type":401,"value":1005},{"type":395,"tag":537,"props":3838,"children":3839},{"style":621},[3840],{"type":401,"value":624},{"type":395,"tag":537,"props":3842,"children":3843},{"style":615},[3844],{"type":401,"value":3845}," newNode\n",{"type":395,"tag":537,"props":3847,"children":3849},{"class":539,"line":3848},48,[3850,3855,3859,3864,3868,3872,3876,3880,3884,3888],{"type":395,"tag":537,"props":3851,"children":3852},{"style":615},[3853],{"type":401,"value":3854},"    newNode",{"type":395,"tag":537,"props":3856,"children":3857},{"style":754},[3858],{"type":401,"value":887},{"type":395,"tag":537,"props":3860,"children":3861},{"style":829},[3862],{"type":401,"value":3863},"insertAfter",{"type":395,"tag":537,"props":3865,"children":3866},{"style":835},[3867],{"type":401,"value":1035},{"type":395,"tag":537,"props":3869,"children":3870},{"style":879},[3871],{"type":401,"value":882},{"type":395,"tag":537,"props":3873,"children":3874},{"style":754},[3875],{"type":401,"value":887},{"type":395,"tag":537,"props":3877,"children":3878},{"style":615},[3879],{"type":401,"value":2489},{"type":395,"tag":537,"props":3881,"children":3882},{"style":754},[3883],{"type":401,"value":887},{"type":395,"tag":537,"props":3885,"children":3886},{"style":615},[3887],{"type":401,"value":1598},{"type":395,"tag":537,"props":3889,"children":3890},{"style":835},[3891],{"type":401,"value":1044},{"type":395,"tag":537,"props":3893,"children":3895},{"class":539,"line":3894},49,[3896],{"type":395,"tag":537,"props":3897,"children":3898},{"style":754},[3899],{"type":401,"value":1062},{"type":395,"tag":537,"props":3901,"children":3903},{"class":539,"line":3902},50,[3904],{"type":395,"tag":537,"props":3905,"children":3906},{"style":754},[3907],{"type":401,"value":799},{"type":395,"tag":537,"props":3909,"children":3911},{"class":539,"line":3910},51,[3912],{"type":395,"tag":537,"props":3913,"children":3914},{"style":769},[3915],{"type":401,"value":3916},"// 打印缓存中全部节点\n",{"type":395,"tag":537,"props":3918,"children":3920},{"class":539,"line":3919},52,[3921,3925,3929,3933,3937,3942,3946,3950,3954],{"type":395,"tag":537,"props":3922,"children":3923},{"style":1738},[3924],{"type":401,"value":2744},{"type":395,"tag":537,"props":3926,"children":3927},{"style":754},[3928],{"type":401,"value":887},{"type":395,"tag":537,"props":3930,"children":3931},{"style":1747},[3932],{"type":401,"value":1750},{"type":395,"tag":537,"props":3934,"children":3935},{"style":754},[3936],{"type":401,"value":887},{"type":395,"tag":537,"props":3938,"children":3939},{"style":829},[3940],{"type":401,"value":3941},"showAllNodes",{"type":395,"tag":537,"props":3943,"children":3944},{"style":621},[3945],{"type":401,"value":933},{"type":395,"tag":537,"props":3947,"children":3948},{"style":1520},[3949],{"type":401,"value":1768},{"type":395,"tag":537,"props":3951,"children":3952},{"style":754},[3953],{"type":401,"value":2046},{"type":395,"tag":537,"props":3955,"children":3956},{"style":754},[3957],{"type":401,"value":762},{"type":395,"tag":537,"props":3959,"children":3961},{"class":539,"line":3960},53,[3962,3966,3970,3974,3978,3982,3986,3990],{"type":395,"tag":537,"props":3963,"children":3964},{"style":1520},[3965],{"type":401,"value":2893},{"type":395,"tag":537,"props":3967,"children":3968},{"style":615},[3969],{"type":401,"value":2093},{"type":395,"tag":537,"props":3971,"children":3972},{"style":621},[3973],{"type":401,"value":933},{"type":395,"tag":537,"props":3975,"children":3976},{"style":879},[3977],{"type":401,"value":938},{"type":395,"tag":537,"props":3979,"children":3980},{"style":754},[3981],{"type":401,"value":887},{"type":395,"tag":537,"props":3983,"children":3984},{"style":615},[3985],{"type":401,"value":2359},{"type":395,"tag":537,"props":3987,"children":3988},{"style":754},[3989],{"type":401,"value":887},{"type":395,"tag":537,"props":3991,"children":3992},{"style":615},[3993],{"type":401,"value":1932},{"type":395,"tag":537,"props":3995,"children":3997},{"class":539,"line":3996},54,[3998,4003,4007,4011,4016,4020,4024,4028,4032],{"type":395,"tag":537,"props":3999,"children":4000},{"style":869},[4001],{"type":401,"value":4002},"  while",{"type":395,"tag":537,"props":4004,"children":4005},{"style":835},[4006],{"type":401,"value":838},{"type":395,"tag":537,"props":4008,"children":4009},{"style":615},[4010],{"type":401,"value":1624},{"type":395,"tag":537,"props":4012,"children":4013},{"style":621},[4014],{"type":401,"value":4015}," &&",{"type":395,"tag":537,"props":4017,"children":4018},{"style":615},[4019],{"type":401,"value":2093},{"type":395,"tag":537,"props":4021,"children":4022},{"style":754},[4023],{"type":401,"value":887},{"type":395,"tag":537,"props":4025,"children":4026},{"style":615},[4027],{"type":401,"value":1624},{"type":395,"tag":537,"props":4029,"children":4030},{"style":835},[4031],{"type":401,"value":858},{"type":395,"tag":537,"props":4033,"children":4034},{"style":754},[4035],{"type":401,"value":813},{"type":395,"tag":537,"props":4037,"children":4039},{"class":539,"line":4038},55,[4040,4044,4048,4052,4056,4060,4064,4068,4072,4076,4080,4084,4089,4093,4097,4101,4105,4109,4113,4117,4122,4126,4130,4134,4138,4142,4146,4150,4154],{"type":395,"tag":537,"props":4041,"children":4042},{"style":615},[4043],{"type":401,"value":2170},{"type":395,"tag":537,"props":4045,"children":4046},{"style":754},[4047],{"type":401,"value":887},{"type":395,"tag":537,"props":4049,"children":4050},{"style":829},[4051],{"type":401,"value":2179},{"type":395,"tag":537,"props":4053,"children":4054},{"style":835},[4055],{"type":401,"value":1035},{"type":395,"tag":537,"props":4057,"children":4058},{"style":632},[4059],{"type":401,"value":635},{"type":395,"tag":537,"props":4061,"children":4062},{"style":638},[4063],{"type":401,"value":2192},{"type":395,"tag":537,"props":4065,"children":4066},{"style":2195},[4067],{"type":401,"value":2198},{"type":395,"tag":537,"props":4069,"children":4070},{"style":615},[4071],{"type":401,"value":1624},{"type":395,"tag":537,"props":4073,"children":4074},{"style":2205},[4075],{"type":401,"value":887},{"type":395,"tag":537,"props":4077,"children":4078},{"style":615},[4079],{"type":401,"value":1564},{"type":395,"tag":537,"props":4081,"children":4082},{"style":2195},[4083],{"type":401,"value":2216},{"type":395,"tag":537,"props":4085,"children":4086},{"style":638},[4087],{"type":401,"value":4088}," has data ",{"type":395,"tag":537,"props":4090,"children":4091},{"style":2195},[4092],{"type":401,"value":2198},{"type":395,"tag":537,"props":4094,"children":4095},{"style":615},[4096],{"type":401,"value":1624},{"type":395,"tag":537,"props":4098,"children":4099},{"style":2205},[4100],{"type":401,"value":887},{"type":395,"tag":537,"props":4102,"children":4103},{"style":615},[4104],{"type":401,"value":751},{"type":395,"tag":537,"props":4106,"children":4107},{"style":2205},[4108],{"type":401,"value":887},{"type":395,"tag":537,"props":4110,"children":4111},{"style":615},[4112],{"type":401,"value":3377},{"type":395,"tag":537,"props":4114,"children":4115},{"style":2195},[4116],{"type":401,"value":2216},{"type":395,"tag":537,"props":4118,"children":4119},{"style":638},[4120],{"type":401,"value":4121}," and weight ",{"type":395,"tag":537,"props":4123,"children":4124},{"style":2195},[4125],{"type":401,"value":2198},{"type":395,"tag":537,"props":4127,"children":4128},{"style":615},[4129],{"type":401,"value":1624},{"type":395,"tag":537,"props":4131,"children":4132},{"style":2205},[4133],{"type":401,"value":887},{"type":395,"tag":537,"props":4135,"children":4136},{"style":615},[4137],{"type":401,"value":751},{"type":395,"tag":537,"props":4139,"children":4140},{"style":2205},[4141],{"type":401,"value":887},{"type":395,"tag":537,"props":4143,"children":4144},{"style":615},[4145],{"type":401,"value":2442},{"type":395,"tag":537,"props":4147,"children":4148},{"style":2195},[4149],{"type":401,"value":2216},{"type":395,"tag":537,"props":4151,"children":4152},{"style":632},[4153],{"type":401,"value":635},{"type":395,"tag":537,"props":4155,"children":4156},{"style":835},[4157],{"type":401,"value":1044},{"type":395,"tag":537,"props":4159,"children":4161},{"class":539,"line":4160},56,[4162,4167,4171,4175,4179],{"type":395,"tag":537,"props":4163,"children":4164},{"style":615},[4165],{"type":401,"value":4166},"    next",{"type":395,"tag":537,"props":4168,"children":4169},{"style":621},[4170],{"type":401,"value":933},{"type":395,"tag":537,"props":4172,"children":4173},{"style":615},[4174],{"type":401,"value":2093},{"type":395,"tag":537,"props":4176,"children":4177},{"style":754},[4178],{"type":401,"value":887},{"type":395,"tag":537,"props":4180,"children":4181},{"style":615},[4182],{"type":401,"value":1932},{"type":395,"tag":537,"props":4184,"children":4186},{"class":539,"line":4185},57,[4187],{"type":395,"tag":537,"props":4188,"children":4189},{"style":754},[4190],{"type":401,"value":1062},{"type":395,"tag":537,"props":4192,"children":4194},{"class":539,"line":4193},58,[4195],{"type":395,"tag":537,"props":4196,"children":4197},{"style":754},[4198],{"type":401,"value":799},{"type":395,"tag":537,"props":4200,"children":4202},{"class":539,"line":4201},59,[4203],{"type":395,"tag":537,"props":4204,"children":4205},{"style":769},[4206],{"type":401,"value":4207},"// 对某一元素进行加权操作\n",{"type":395,"tag":537,"props":4209,"children":4211},{"class":539,"line":4210},60,[4212,4216,4220,4224,4228,4232,4236,4240,4244,4249,4253,4258,4262,4266,4270],{"type":395,"tag":537,"props":4213,"children":4214},{"style":1738},[4215],{"type":401,"value":2744},{"type":395,"tag":537,"props":4217,"children":4218},{"style":754},[4219],{"type":401,"value":887},{"type":395,"tag":537,"props":4221,"children":4222},{"style":1747},[4223],{"type":401,"value":1750},{"type":395,"tag":537,"props":4225,"children":4226},{"style":754},[4227],{"type":401,"value":887},{"type":395,"tag":537,"props":4229,"children":4230},{"style":829},[4231],{"type":401,"value":2967},{"type":395,"tag":537,"props":4233,"children":4234},{"style":621},[4235],{"type":401,"value":933},{"type":395,"tag":537,"props":4237,"children":4238},{"style":1520},[4239],{"type":401,"value":1768},{"type":395,"tag":537,"props":4241,"children":4242},{"style":754},[4243],{"type":401,"value":838},{"type":395,"tag":537,"props":4245,"children":4246},{"style":1535},[4247],{"type":401,"value":4248},"node",{"type":395,"tag":537,"props":4250,"children":4251},{"style":615},[4252],{"type":401,"value":848},{"type":395,"tag":537,"props":4254,"children":4255},{"style":1535},[4256],{"type":401,"value":4257},"w",{"type":395,"tag":537,"props":4259,"children":4260},{"style":621},[4261],{"type":401,"value":933},{"type":395,"tag":537,"props":4263,"children":4264},{"style":1124},[4265],{"type":401,"value":3796},{"type":395,"tag":537,"props":4267,"children":4268},{"style":754},[4269],{"type":401,"value":1543},{"type":395,"tag":537,"props":4271,"children":4272},{"style":754},[4273],{"type":401,"value":762},{"type":395,"tag":537,"props":4275,"children":4277},{"class":539,"line":4276},61,[4278,4282,4286,4290],{"type":395,"tag":537,"props":4279,"children":4280},{"style":1520},[4281],{"type":401,"value":1909},{"type":395,"tag":537,"props":4283,"children":4284},{"style":1747},[4285],{"type":401,"value":2898},{"type":395,"tag":537,"props":4287,"children":4288},{"style":621},[4289],{"type":401,"value":933},{"type":395,"tag":537,"props":4291,"children":4292},{"style":615},[4293],{"type":401,"value":4294}," node\n",{"type":395,"tag":537,"props":4296,"children":4298},{"class":539,"line":4297},62,[4299,4303,4307,4311,4315,4319],{"type":395,"tag":537,"props":4300,"children":4301},{"style":1520},[4302],{"type":401,"value":2893},{"type":395,"tag":537,"props":4304,"children":4305},{"style":615},[4306],{"type":401,"value":2063},{"type":395,"tag":537,"props":4308,"children":4309},{"style":621},[4310],{"type":401,"value":933},{"type":395,"tag":537,"props":4312,"children":4313},{"style":615},[4314],{"type":401,"value":2898},{"type":395,"tag":537,"props":4316,"children":4317},{"style":754},[4318],{"type":401,"value":887},{"type":395,"tag":537,"props":4320,"children":4321},{"style":615},[4322],{"type":401,"value":2080},{"type":395,"tag":537,"props":4324,"children":4326},{"class":539,"line":4325},63,[4327],{"type":395,"tag":537,"props":4328,"children":4329},{"emptyLinePlaceholder":388},[4330],{"type":401,"value":2118},{"type":395,"tag":537,"props":4332,"children":4334},{"class":539,"line":4333},64,[4335,4340,4344,4348],{"type":395,"tag":537,"props":4336,"children":4337},{"style":615},[4338],{"type":401,"value":4339},"  handle",{"type":395,"tag":537,"props":4341,"children":4342},{"style":754},[4343],{"type":401,"value":887},{"type":395,"tag":537,"props":4345,"children":4346},{"style":829},[4347],{"type":401,"value":2033},{"type":395,"tag":537,"props":4349,"children":4350},{"style":835},[4351],{"type":401,"value":3684},{"type":395,"tag":537,"props":4353,"children":4355},{"class":539,"line":4354},65,[4356,4360,4364,4368,4372,4376,4381],{"type":395,"tag":537,"props":4357,"children":4358},{"style":615},[4359],{"type":401,"value":4339},{"type":395,"tag":537,"props":4361,"children":4362},{"style":754},[4363],{"type":401,"value":887},{"type":395,"tag":537,"props":4365,"children":4366},{"style":615},[4367],{"type":401,"value":751},{"type":395,"tag":537,"props":4369,"children":4370},{"style":754},[4371],{"type":401,"value":887},{"type":395,"tag":537,"props":4373,"children":4374},{"style":615},[4375],{"type":401,"value":2442},{"type":395,"tag":537,"props":4377,"children":4378},{"style":621},[4379],{"type":401,"value":4380}," +=",{"type":395,"tag":537,"props":4382,"children":4383},{"style":615},[4384],{"type":401,"value":4385}," w\n",{"type":395,"tag":537,"props":4387,"children":4389},{"class":539,"line":4388},66,[4390,4394,4398,4402,4406],{"type":395,"tag":537,"props":4391,"children":4392},{"style":869},[4393],{"type":401,"value":4002},{"type":395,"tag":537,"props":4395,"children":4396},{"style":835},[4397],{"type":401,"value":838},{"type":395,"tag":537,"props":4399,"children":4400},{"style":615},[4401],{"type":401,"value":1598},{"type":395,"tag":537,"props":4403,"children":4404},{"style":835},[4405],{"type":401,"value":858},{"type":395,"tag":537,"props":4407,"children":4408},{"style":754},[4409],{"type":401,"value":813},{"type":395,"tag":537,"props":4411,"children":4413},{"class":539,"line":4412},67,[4414,4418,4422,4426,4430,4434,4438,4442,4447,4451,4455,4459,4463,4467,4471],{"type":395,"tag":537,"props":4415,"children":4416},{"style":869},[4417],{"type":401,"value":872},{"type":395,"tag":537,"props":4419,"children":4420},{"style":835},[4421],{"type":401,"value":838},{"type":395,"tag":537,"props":4423,"children":4424},{"style":615},[4425],{"type":401,"value":1598},{"type":395,"tag":537,"props":4427,"children":4428},{"style":754},[4429],{"type":401,"value":887},{"type":395,"tag":537,"props":4431,"children":4432},{"style":615},[4433],{"type":401,"value":751},{"type":395,"tag":537,"props":4435,"children":4436},{"style":754},[4437],{"type":401,"value":887},{"type":395,"tag":537,"props":4439,"children":4440},{"style":615},[4441],{"type":401,"value":2442},{"type":395,"tag":537,"props":4443,"children":4444},{"style":621},[4445],{"type":401,"value":4446}," \u003C=",{"type":395,"tag":537,"props":4448,"children":4449},{"style":615},[4450],{"type":401,"value":2898},{"type":395,"tag":537,"props":4452,"children":4453},{"style":754},[4454],{"type":401,"value":887},{"type":395,"tag":537,"props":4456,"children":4457},{"style":615},[4458],{"type":401,"value":751},{"type":395,"tag":537,"props":4460,"children":4461},{"style":754},[4462],{"type":401,"value":887},{"type":395,"tag":537,"props":4464,"children":4465},{"style":615},[4466],{"type":401,"value":2442},{"type":395,"tag":537,"props":4468,"children":4469},{"style":835},[4470],{"type":401,"value":858},{"type":395,"tag":537,"props":4472,"children":4473},{"style":754},[4474],{"type":401,"value":813},{"type":395,"tag":537,"props":4476,"children":4478},{"class":539,"line":4477},68,[4479,4484,4488,4492,4496],{"type":395,"tag":537,"props":4480,"children":4481},{"style":615},[4482],{"type":401,"value":4483},"      prev",{"type":395,"tag":537,"props":4485,"children":4486},{"style":621},[4487],{"type":401,"value":933},{"type":395,"tag":537,"props":4489,"children":4490},{"style":615},[4491],{"type":401,"value":2063},{"type":395,"tag":537,"props":4493,"children":4494},{"style":754},[4495],{"type":401,"value":887},{"type":395,"tag":537,"props":4497,"children":4498},{"style":615},[4499],{"type":401,"value":2080},{"type":395,"tag":537,"props":4501,"children":4503},{"class":539,"line":4502},69,[4504,4508,4512],{"type":395,"tag":537,"props":4505,"children":4506},{"style":754},[4507],{"type":401,"value":967},{"type":395,"tag":537,"props":4509,"children":4510},{"style":869},[4511],{"type":401,"value":972},{"type":395,"tag":537,"props":4513,"children":4514},{"style":754},[4515],{"type":401,"value":762},{"type":395,"tag":537,"props":4517,"children":4519},{"class":539,"line":4518},70,[4520,4525,4529,4533,4537,4541],{"type":395,"tag":537,"props":4521,"children":4522},{"style":615},[4523],{"type":401,"value":4524},"      handle",{"type":395,"tag":537,"props":4526,"children":4527},{"style":754},[4528],{"type":401,"value":887},{"type":395,"tag":537,"props":4530,"children":4531},{"style":829},[4532],{"type":401,"value":3863},{"type":395,"tag":537,"props":4534,"children":4535},{"style":835},[4536],{"type":401,"value":1035},{"type":395,"tag":537,"props":4538,"children":4539},{"style":615},[4540],{"type":401,"value":1598},{"type":395,"tag":537,"props":4542,"children":4543},{"style":835},[4544],{"type":401,"value":1044},{"type":395,"tag":537,"props":4546,"children":4548},{"class":539,"line":4547},71,[4549,4553,4557],{"type":395,"tag":537,"props":4550,"children":4551},{"style":615},[4552],{"type":401,"value":4483},{"type":395,"tag":537,"props":4554,"children":4555},{"style":621},[4556],{"type":401,"value":933},{"type":395,"tag":537,"props":4558,"children":4559},{"style":1605},[4560],{"type":401,"value":1608},{"type":395,"tag":537,"props":4562,"children":4564},{"class":539,"line":4563},72,[4565],{"type":395,"tag":537,"props":4566,"children":4567},{"style":754},[4568],{"type":401,"value":1053},{"type":395,"tag":537,"props":4570,"children":4572},{"class":539,"line":4571},73,[4573],{"type":395,"tag":537,"props":4574,"children":4575},{"style":754},[4576],{"type":401,"value":1062},{"type":395,"tag":537,"props":4578,"children":4580},{"class":539,"line":4579},74,[4581],{"type":395,"tag":537,"props":4582,"children":4583},{"style":754},[4584],{"type":401,"value":799},{"type":395,"tag":1485,"props":4586,"children":4588},{"id":4587},"另附测试用例",[4589],{"type":401,"value":4587},{"type":395,"tag":527,"props":4591,"children":4593},{"code":4592,"language":604,"meta":389,"className":605,"style":389},"import LFU from '@/utils/suites/teditor/LFU'\n\ndescribe('LFU测试'，() => {\n  const LFU = new LFU(4)\n  it('能够正确维护链表长度'，() => {\n    LFU.set('1'，1)\n    LFU.set('2'，2)\n    LFU.set('3'，3)\n    LFU.set('4'，4)\n    LFU.set('5'，5)\n    expect(LFU.has('4')).to.equal(false)\n  })\n  it('节点的数据应该正确'，() => {\n    expect(LFU.get('1')).to.equal(1)\n    expect(LFU.get('2')).to.equal(2)\n    expect(LFU.get('3')).to.equal(3)\n    expect(LFU.get('5')).to.equal(5)\n    LFU.get('5')\n    LFU.get('3')\n    LFU.get('3')\n    LFU.get('3')\n    LFU.get('3')\n    LFU.set('5'，6)\n    expect(LFU.get('5')).to.equal(6)\n  })\n  it('节点的权重应该正确'，() => {\n    expect(LFU.getNodeWeight('5')).to.equal(14)\n    expect(LFU.getNodeWeight('3')).to.equal(6)\n  })\n})\n\n",[4594],{"type":395,"tag":456,"props":4595,"children":4596},{"__ignoreMap":389},[4597,4629,4636,4679,4715,4756,4800,4843,4886,4929,4973,5049,5060,5100,5171,5242,5313,5384,5419,5454,5489,5524,5559,5603,5674,5685,5725,5797,5868,5879],{"type":395,"tag":537,"props":4598,"children":4599},{"class":539,"line":540},[4600,4605,4610,4615,4619,4624],{"type":395,"tag":537,"props":4601,"children":4602},{"style":869},[4603],{"type":401,"value":4604},"import",{"type":395,"tag":537,"props":4606,"children":4607},{"style":615},[4608],{"type":401,"value":4609}," LFU ",{"type":395,"tag":537,"props":4611,"children":4612},{"style":869},[4613],{"type":401,"value":4614},"from",{"type":395,"tag":537,"props":4616,"children":4617},{"style":632},[4618],{"type":401,"value":1239},{"type":395,"tag":537,"props":4620,"children":4621},{"style":638},[4622],{"type":401,"value":4623},"@/utils/suites/teditor/LFU",{"type":395,"tag":537,"props":4625,"children":4626},{"style":632},[4627],{"type":401,"value":4628},"'\n",{"type":395,"tag":537,"props":4630,"children":4631},{"class":539,"line":765},[4632],{"type":395,"tag":537,"props":4633,"children":4634},{"emptyLinePlaceholder":388},[4635],{"type":401,"value":2118},{"type":395,"tag":537,"props":4637,"children":4638},{"class":539,"line":775},[4639,4644,4648,4652,4657,4661,4665,4670,4675],{"type":395,"tag":537,"props":4640,"children":4641},{"style":829},[4642],{"type":401,"value":4643},"describe",{"type":395,"tag":537,"props":4645,"children":4646},{"style":615},[4647],{"type":401,"value":1035},{"type":395,"tag":537,"props":4649,"children":4650},{"style":632},[4651],{"type":401,"value":1230},{"type":395,"tag":537,"props":4653,"children":4654},{"style":638},[4655],{"type":401,"value":4656},"LFU测试",{"type":395,"tag":537,"props":4658,"children":4659},{"style":632},[4660],{"type":401,"value":1230},{"type":395,"tag":537,"props":4662,"children":4663},{"style":615},[4664],{"type":401,"value":848},{"type":395,"tag":537,"props":4666,"children":4667},{"style":754},[4668],{"type":401,"value":4669},"()",{"type":395,"tag":537,"props":4671,"children":4672},{"style":1520},[4673],{"type":401,"value":4674}," =>",{"type":395,"tag":537,"props":4676,"children":4677},{"style":754},[4678],{"type":401,"value":762},{"type":395,"tag":537,"props":4680,"children":4681},{"class":539,"line":793},[4682,4686,4690,4694,4698,4702,4706,4711],{"type":395,"tag":537,"props":4683,"children":4684},{"style":1520},[4685],{"type":401,"value":1909},{"type":395,"tag":537,"props":4687,"children":4688},{"style":1747},[4689],{"type":401,"value":2326},{"type":395,"tag":537,"props":4691,"children":4692},{"style":621},[4693],{"type":401,"value":933},{"type":395,"tag":537,"props":4695,"children":4696},{"style":621},[4697],{"type":401,"value":2368},{"type":395,"tag":537,"props":4699,"children":4700},{"style":829},[4701],{"type":401,"value":2326},{"type":395,"tag":537,"props":4703,"children":4704},{"style":835},[4705],{"type":401,"value":1035},{"type":395,"tag":537,"props":4707,"children":4708},{"style":1124},[4709],{"type":401,"value":4710},"4",{"type":395,"tag":537,"props":4712,"children":4713},{"style":835},[4714],{"type":401,"value":1044},{"type":395,"tag":537,"props":4716,"children":4717},{"class":539,"line":802},[4718,4723,4727,4731,4736,4740,4744,4748,4752],{"type":395,"tag":537,"props":4719,"children":4720},{"style":829},[4721],{"type":401,"value":4722},"  it",{"type":395,"tag":537,"props":4724,"children":4725},{"style":835},[4726],{"type":401,"value":1035},{"type":395,"tag":537,"props":4728,"children":4729},{"style":632},[4730],{"type":401,"value":1230},{"type":395,"tag":537,"props":4732,"children":4733},{"style":638},[4734],{"type":401,"value":4735},"能够正确维护链表长度",{"type":395,"tag":537,"props":4737,"children":4738},{"style":632},[4739],{"type":401,"value":1230},{"type":395,"tag":537,"props":4741,"children":4742},{"style":835},[4743],{"type":401,"value":848},{"type":395,"tag":537,"props":4745,"children":4746},{"style":754},[4747],{"type":401,"value":4669},{"type":395,"tag":537,"props":4749,"children":4750},{"style":1520},[4751],{"type":401,"value":4674},{"type":395,"tag":537,"props":4753,"children":4754},{"style":754},[4755],{"type":401,"value":762},{"type":395,"tag":537,"props":4757,"children":4758},{"class":539,"line":816},[4759,4764,4768,4772,4776,4780,4784,4788,4792,4796],{"type":395,"tag":537,"props":4760,"children":4761},{"style":1747},[4762],{"type":401,"value":4763},"    LFU",{"type":395,"tag":537,"props":4765,"children":4766},{"style":754},[4767],{"type":401,"value":887},{"type":395,"tag":537,"props":4769,"children":4770},{"style":829},[4771],{"type":401,"value":3352},{"type":395,"tag":537,"props":4773,"children":4774},{"style":835},[4775],{"type":401,"value":1035},{"type":395,"tag":537,"props":4777,"children":4778},{"style":632},[4779],{"type":401,"value":1230},{"type":395,"tag":537,"props":4781,"children":4782},{"style":638},[4783],{"type":401,"value":1127},{"type":395,"tag":537,"props":4785,"children":4786},{"style":632},[4787],{"type":401,"value":1230},{"type":395,"tag":537,"props":4789,"children":4790},{"style":835},[4791],{"type":401,"value":848},{"type":395,"tag":537,"props":4793,"children":4794},{"style":1124},[4795],{"type":401,"value":1127},{"type":395,"tag":537,"props":4797,"children":4798},{"style":835},[4799],{"type":401,"value":1044},{"type":395,"tag":537,"props":4801,"children":4802},{"class":539,"line":825},[4803,4807,4811,4815,4819,4823,4827,4831,4835,4839],{"type":395,"tag":537,"props":4804,"children":4805},{"style":1747},[4806],{"type":401,"value":4763},{"type":395,"tag":537,"props":4808,"children":4809},{"style":754},[4810],{"type":401,"value":887},{"type":395,"tag":537,"props":4812,"children":4813},{"style":829},[4814],{"type":401,"value":3352},{"type":395,"tag":537,"props":4816,"children":4817},{"style":835},[4818],{"type":401,"value":1035},{"type":395,"tag":537,"props":4820,"children":4821},{"style":632},[4822],{"type":401,"value":1230},{"type":395,"tag":537,"props":4824,"children":4825},{"style":638},[4826],{"type":401,"value":1136},{"type":395,"tag":537,"props":4828,"children":4829},{"style":632},[4830],{"type":401,"value":1230},{"type":395,"tag":537,"props":4832,"children":4833},{"style":835},[4834],{"type":401,"value":848},{"type":395,"tag":537,"props":4836,"children":4837},{"style":1124},[4838],{"type":401,"value":1136},{"type":395,"tag":537,"props":4840,"children":4841},{"style":835},[4842],{"type":401,"value":1044},{"type":395,"tag":537,"props":4844,"children":4845},{"class":539,"line":865},[4846,4850,4854,4858,4862,4866,4870,4874,4878,4882],{"type":395,"tag":537,"props":4847,"children":4848},{"style":1747},[4849],{"type":401,"value":4763},{"type":395,"tag":537,"props":4851,"children":4852},{"style":754},[4853],{"type":401,"value":887},{"type":395,"tag":537,"props":4855,"children":4856},{"style":829},[4857],{"type":401,"value":3352},{"type":395,"tag":537,"props":4859,"children":4860},{"style":835},[4861],{"type":401,"value":1035},{"type":395,"tag":537,"props":4863,"children":4864},{"style":632},[4865],{"type":401,"value":1230},{"type":395,"tag":537,"props":4867,"children":4868},{"style":638},[4869],{"type":401,"value":1145},{"type":395,"tag":537,"props":4871,"children":4872},{"style":632},[4873],{"type":401,"value":1230},{"type":395,"tag":537,"props":4875,"children":4876},{"style":835},[4877],{"type":401,"value":848},{"type":395,"tag":537,"props":4879,"children":4880},{"style":1124},[4881],{"type":401,"value":1145},{"type":395,"tag":537,"props":4883,"children":4884},{"style":835},[4885],{"type":401,"value":1044},{"type":395,"tag":537,"props":4887,"children":4888},{"class":539,"line":913},[4889,4893,4897,4901,4905,4909,4913,4917,4921,4925],{"type":395,"tag":537,"props":4890,"children":4891},{"style":1747},[4892],{"type":401,"value":4763},{"type":395,"tag":537,"props":4894,"children":4895},{"style":754},[4896],{"type":401,"value":887},{"type":395,"tag":537,"props":4898,"children":4899},{"style":829},[4900],{"type":401,"value":3352},{"type":395,"tag":537,"props":4902,"children":4903},{"style":835},[4904],{"type":401,"value":1035},{"type":395,"tag":537,"props":4906,"children":4907},{"style":632},[4908],{"type":401,"value":1230},{"type":395,"tag":537,"props":4910,"children":4911},{"style":638},[4912],{"type":401,"value":4710},{"type":395,"tag":537,"props":4914,"children":4915},{"style":632},[4916],{"type":401,"value":1230},{"type":395,"tag":537,"props":4918,"children":4919},{"style":835},[4920],{"type":401,"value":848},{"type":395,"tag":537,"props":4922,"children":4923},{"style":1124},[4924],{"type":401,"value":4710},{"type":395,"tag":537,"props":4926,"children":4927},{"style":835},[4928],{"type":401,"value":1044},{"type":395,"tag":537,"props":4930,"children":4931},{"class":539,"line":961},[4932,4936,4940,4944,4948,4952,4957,4961,4965,4969],{"type":395,"tag":537,"props":4933,"children":4934},{"style":1747},[4935],{"type":401,"value":4763},{"type":395,"tag":537,"props":4937,"children":4938},{"style":754},[4939],{"type":401,"value":887},{"type":395,"tag":537,"props":4941,"children":4942},{"style":829},[4943],{"type":401,"value":3352},{"type":395,"tag":537,"props":4945,"children":4946},{"style":835},[4947],{"type":401,"value":1035},{"type":395,"tag":537,"props":4949,"children":4950},{"style":632},[4951],{"type":401,"value":1230},{"type":395,"tag":537,"props":4953,"children":4954},{"style":638},[4955],{"type":401,"value":4956},"5",{"type":395,"tag":537,"props":4958,"children":4959},{"style":632},[4960],{"type":401,"value":1230},{"type":395,"tag":537,"props":4962,"children":4963},{"style":835},[4964],{"type":401,"value":848},{"type":395,"tag":537,"props":4966,"children":4967},{"style":1124},[4968],{"type":401,"value":4956},{"type":395,"tag":537,"props":4970,"children":4971},{"style":835},[4972],{"type":401,"value":1044},{"type":395,"tag":537,"props":4974,"children":4975},{"class":539,"line":979},[4976,4981,4985,4989,4993,4997,5001,5005,5009,5013,5018,5022,5027,5031,5036,5040,5045],{"type":395,"tag":537,"props":4977,"children":4978},{"style":829},[4979],{"type":401,"value":4980},"    expect",{"type":395,"tag":537,"props":4982,"children":4983},{"style":835},[4984],{"type":401,"value":1035},{"type":395,"tag":537,"props":4986,"children":4987},{"style":1747},[4988],{"type":401,"value":2744},{"type":395,"tag":537,"props":4990,"children":4991},{"style":754},[4992],{"type":401,"value":887},{"type":395,"tag":537,"props":4994,"children":4995},{"style":829},[4996],{"type":401,"value":2761},{"type":395,"tag":537,"props":4998,"children":4999},{"style":835},[5000],{"type":401,"value":1035},{"type":395,"tag":537,"props":5002,"children":5003},{"style":632},[5004],{"type":401,"value":1230},{"type":395,"tag":537,"props":5006,"children":5007},{"style":638},[5008],{"type":401,"value":4710},{"type":395,"tag":537,"props":5010,"children":5011},{"style":632},[5012],{"type":401,"value":1230},{"type":395,"tag":537,"props":5014,"children":5015},{"style":835},[5016],{"type":401,"value":5017},"))",{"type":395,"tag":537,"props":5019,"children":5020},{"style":754},[5021],{"type":401,"value":887},{"type":395,"tag":537,"props":5023,"children":5024},{"style":615},[5025],{"type":401,"value":5026},"to",{"type":395,"tag":537,"props":5028,"children":5029},{"style":754},[5030],{"type":401,"value":887},{"type":395,"tag":537,"props":5032,"children":5033},{"style":829},[5034],{"type":401,"value":5035},"equal",{"type":395,"tag":537,"props":5037,"children":5038},{"style":835},[5039],{"type":401,"value":1035},{"type":395,"tag":537,"props":5041,"children":5042},{"style":2241},[5043],{"type":401,"value":5044},"false",{"type":395,"tag":537,"props":5046,"children":5047},{"style":835},[5048],{"type":401,"value":1044},{"type":395,"tag":537,"props":5050,"children":5051},{"class":539,"line":1047},[5052,5056],{"type":395,"tag":537,"props":5053,"children":5054},{"style":754},[5055],{"type":401,"value":3015},{"type":395,"tag":537,"props":5057,"children":5058},{"style":835},[5059],{"type":401,"value":1044},{"type":395,"tag":537,"props":5061,"children":5062},{"class":539,"line":1056},[5063,5067,5071,5075,5080,5084,5088,5092,5096],{"type":395,"tag":537,"props":5064,"children":5065},{"style":829},[5066],{"type":401,"value":4722},{"type":395,"tag":537,"props":5068,"children":5069},{"style":835},[5070],{"type":401,"value":1035},{"type":395,"tag":537,"props":5072,"children":5073},{"style":632},[5074],{"type":401,"value":1230},{"type":395,"tag":537,"props":5076,"children":5077},{"style":638},[5078],{"type":401,"value":5079},"节点的数据应该正确",{"type":395,"tag":537,"props":5081,"children":5082},{"style":632},[5083],{"type":401,"value":1230},{"type":395,"tag":537,"props":5085,"children":5086},{"style":835},[5087],{"type":401,"value":848},{"type":395,"tag":537,"props":5089,"children":5090},{"style":754},[5091],{"type":401,"value":4669},{"type":395,"tag":537,"props":5093,"children":5094},{"style":1520},[5095],{"type":401,"value":4674},{"type":395,"tag":537,"props":5097,"children":5098},{"style":754},[5099],{"type":401,"value":762},{"type":395,"tag":537,"props":5101,"children":5102},{"class":539,"line":1065},[5103,5107,5111,5115,5119,5123,5127,5131,5135,5139,5143,5147,5151,5155,5159,5163,5167],{"type":395,"tag":537,"props":5104,"children":5105},{"style":829},[5106],{"type":401,"value":4980},{"type":395,"tag":537,"props":5108,"children":5109},{"style":835},[5110],{"type":401,"value":1035},{"type":395,"tag":537,"props":5112,"children":5113},{"style":1747},[5114],{"type":401,"value":2744},{"type":395,"tag":537,"props":5116,"children":5117},{"style":754},[5118],{"type":401,"value":887},{"type":395,"tag":537,"props":5120,"children":5121},{"style":829},[5122],{"type":401,"value":2861},{"type":395,"tag":537,"props":5124,"children":5125},{"style":835},[5126],{"type":401,"value":1035},{"type":395,"tag":537,"props":5128,"children":5129},{"style":632},[5130],{"type":401,"value":1230},{"type":395,"tag":537,"props":5132,"children":5133},{"style":638},[5134],{"type":401,"value":1127},{"type":395,"tag":537,"props":5136,"children":5137},{"style":632},[5138],{"type":401,"value":1230},{"type":395,"tag":537,"props":5140,"children":5141},{"style":835},[5142],{"type":401,"value":5017},{"type":395,"tag":537,"props":5144,"children":5145},{"style":754},[5146],{"type":401,"value":887},{"type":395,"tag":537,"props":5148,"children":5149},{"style":615},[5150],{"type":401,"value":5026},{"type":395,"tag":537,"props":5152,"children":5153},{"style":754},[5154],{"type":401,"value":887},{"type":395,"tag":537,"props":5156,"children":5157},{"style":829},[5158],{"type":401,"value":5035},{"type":395,"tag":537,"props":5160,"children":5161},{"style":835},[5162],{"type":401,"value":1035},{"type":395,"tag":537,"props":5164,"children":5165},{"style":1124},[5166],{"type":401,"value":1127},{"type":395,"tag":537,"props":5168,"children":5169},{"style":835},[5170],{"type":401,"value":1044},{"type":395,"tag":537,"props":5172,"children":5173},{"class":539,"line":1844},[5174,5178,5182,5186,5190,5194,5198,5202,5206,5210,5214,5218,5222,5226,5230,5234,5238],{"type":395,"tag":537,"props":5175,"children":5176},{"style":829},[5177],{"type":401,"value":4980},{"type":395,"tag":537,"props":5179,"children":5180},{"style":835},[5181],{"type":401,"value":1035},{"type":395,"tag":537,"props":5183,"children":5184},{"style":1747},[5185],{"type":401,"value":2744},{"type":395,"tag":537,"props":5187,"children":5188},{"style":754},[5189],{"type":401,"value":887},{"type":395,"tag":537,"props":5191,"children":5192},{"style":829},[5193],{"type":401,"value":2861},{"type":395,"tag":537,"props":5195,"children":5196},{"style":835},[5197],{"type":401,"value":1035},{"type":395,"tag":537,"props":5199,"children":5200},{"style":632},[5201],{"type":401,"value":1230},{"type":395,"tag":537,"props":5203,"children":5204},{"style":638},[5205],{"type":401,"value":1136},{"type":395,"tag":537,"props":5207,"children":5208},{"style":632},[5209],{"type":401,"value":1230},{"type":395,"tag":537,"props":5211,"children":5212},{"style":835},[5213],{"type":401,"value":5017},{"type":395,"tag":537,"props":5215,"children":5216},{"style":754},[5217],{"type":401,"value":887},{"type":395,"tag":537,"props":5219,"children":5220},{"style":615},[5221],{"type":401,"value":5026},{"type":395,"tag":537,"props":5223,"children":5224},{"style":754},[5225],{"type":401,"value":887},{"type":395,"tag":537,"props":5227,"children":5228},{"style":829},[5229],{"type":401,"value":5035},{"type":395,"tag":537,"props":5231,"children":5232},{"style":835},[5233],{"type":401,"value":1035},{"type":395,"tag":537,"props":5235,"children":5236},{"style":1124},[5237],{"type":401,"value":1136},{"type":395,"tag":537,"props":5239,"children":5240},{"style":835},[5241],{"type":401,"value":1044},{"type":395,"tag":537,"props":5243,"children":5244},{"class":539,"line":1853},[5245,5249,5253,5257,5261,5265,5269,5273,5277,5281,5285,5289,5293,5297,5301,5305,5309],{"type":395,"tag":537,"props":5246,"children":5247},{"style":829},[5248],{"type":401,"value":4980},{"type":395,"tag":537,"props":5250,"children":5251},{"style":835},[5252],{"type":401,"value":1035},{"type":395,"tag":537,"props":5254,"children":5255},{"style":1747},[5256],{"type":401,"value":2744},{"type":395,"tag":537,"props":5258,"children":5259},{"style":754},[5260],{"type":401,"value":887},{"type":395,"tag":537,"props":5262,"children":5263},{"style":829},[5264],{"type":401,"value":2861},{"type":395,"tag":537,"props":5266,"children":5267},{"style":835},[5268],{"type":401,"value":1035},{"type":395,"tag":537,"props":5270,"children":5271},{"style":632},[5272],{"type":401,"value":1230},{"type":395,"tag":537,"props":5274,"children":5275},{"style":638},[5276],{"type":401,"value":1145},{"type":395,"tag":537,"props":5278,"children":5279},{"style":632},[5280],{"type":401,"value":1230},{"type":395,"tag":537,"props":5282,"children":5283},{"style":835},[5284],{"type":401,"value":5017},{"type":395,"tag":537,"props":5286,"children":5287},{"style":754},[5288],{"type":401,"value":887},{"type":395,"tag":537,"props":5290,"children":5291},{"style":615},[5292],{"type":401,"value":5026},{"type":395,"tag":537,"props":5294,"children":5295},{"style":754},[5296],{"type":401,"value":887},{"type":395,"tag":537,"props":5298,"children":5299},{"style":829},[5300],{"type":401,"value":5035},{"type":395,"tag":537,"props":5302,"children":5303},{"style":835},[5304],{"type":401,"value":1035},{"type":395,"tag":537,"props":5306,"children":5307},{"style":1124},[5308],{"type":401,"value":1145},{"type":395,"tag":537,"props":5310,"children":5311},{"style":835},[5312],{"type":401,"value":1044},{"type":395,"tag":537,"props":5314,"children":5315},{"class":539,"line":1903},[5316,5320,5324,5328,5332,5336,5340,5344,5348,5352,5356,5360,5364,5368,5372,5376,5380],{"type":395,"tag":537,"props":5317,"children":5318},{"style":829},[5319],{"type":401,"value":4980},{"type":395,"tag":537,"props":5321,"children":5322},{"style":835},[5323],{"type":401,"value":1035},{"type":395,"tag":537,"props":5325,"children":5326},{"style":1747},[5327],{"type":401,"value":2744},{"type":395,"tag":537,"props":5329,"children":5330},{"style":754},[5331],{"type":401,"value":887},{"type":395,"tag":537,"props":5333,"children":5334},{"style":829},[5335],{"type":401,"value":2861},{"type":395,"tag":537,"props":5337,"children":5338},{"style":835},[5339],{"type":401,"value":1035},{"type":395,"tag":537,"props":5341,"children":5342},{"style":632},[5343],{"type":401,"value":1230},{"type":395,"tag":537,"props":5345,"children":5346},{"style":638},[5347],{"type":401,"value":4956},{"type":395,"tag":537,"props":5349,"children":5350},{"style":632},[5351],{"type":401,"value":1230},{"type":395,"tag":537,"props":5353,"children":5354},{"style":835},[5355],{"type":401,"value":5017},{"type":395,"tag":537,"props":5357,"children":5358},{"style":754},[5359],{"type":401,"value":887},{"type":395,"tag":537,"props":5361,"children":5362},{"style":615},[5363],{"type":401,"value":5026},{"type":395,"tag":537,"props":5365,"children":5366},{"style":754},[5367],{"type":401,"value":887},{"type":395,"tag":537,"props":5369,"children":5370},{"style":829},[5371],{"type":401,"value":5035},{"type":395,"tag":537,"props":5373,"children":5374},{"style":835},[5375],{"type":401,"value":1035},{"type":395,"tag":537,"props":5377,"children":5378},{"style":1124},[5379],{"type":401,"value":4956},{"type":395,"tag":537,"props":5381,"children":5382},{"style":835},[5383],{"type":401,"value":1044},{"type":395,"tag":537,"props":5385,"children":5386},{"class":539,"line":1935},[5387,5391,5395,5399,5403,5407,5411,5415],{"type":395,"tag":537,"props":5388,"children":5389},{"style":1747},[5390],{"type":401,"value":4763},{"type":395,"tag":537,"props":5392,"children":5393},{"style":754},[5394],{"type":401,"value":887},{"type":395,"tag":537,"props":5396,"children":5397},{"style":829},[5398],{"type":401,"value":2861},{"type":395,"tag":537,"props":5400,"children":5401},{"style":835},[5402],{"type":401,"value":1035},{"type":395,"tag":537,"props":5404,"children":5405},{"style":632},[5406],{"type":401,"value":1230},{"type":395,"tag":537,"props":5408,"children":5409},{"style":638},[5410],{"type":401,"value":4956},{"type":395,"tag":537,"props":5412,"children":5413},{"style":632},[5414],{"type":401,"value":1230},{"type":395,"tag":537,"props":5416,"children":5417},{"style":835},[5418],{"type":401,"value":1044},{"type":395,"tag":537,"props":5420,"children":5421},{"class":539,"line":1965},[5422,5426,5430,5434,5438,5442,5446,5450],{"type":395,"tag":537,"props":5423,"children":5424},{"style":1747},[5425],{"type":401,"value":4763},{"type":395,"tag":537,"props":5427,"children":5428},{"style":754},[5429],{"type":401,"value":887},{"type":395,"tag":537,"props":5431,"children":5432},{"style":829},[5433],{"type":401,"value":2861},{"type":395,"tag":537,"props":5435,"children":5436},{"style":835},[5437],{"type":401,"value":1035},{"type":395,"tag":537,"props":5439,"children":5440},{"style":632},[5441],{"type":401,"value":1230},{"type":395,"tag":537,"props":5443,"children":5444},{"style":638},[5445],{"type":401,"value":1145},{"type":395,"tag":537,"props":5447,"children":5448},{"style":632},[5449],{"type":401,"value":1230},{"type":395,"tag":537,"props":5451,"children":5452},{"style":835},[5453],{"type":401,"value":1044},{"type":395,"tag":537,"props":5455,"children":5456},{"class":539,"line":1994},[5457,5461,5465,5469,5473,5477,5481,5485],{"type":395,"tag":537,"props":5458,"children":5459},{"style":1747},[5460],{"type":401,"value":4763},{"type":395,"tag":537,"props":5462,"children":5463},{"style":754},[5464],{"type":401,"value":887},{"type":395,"tag":537,"props":5466,"children":5467},{"style":829},[5468],{"type":401,"value":2861},{"type":395,"tag":537,"props":5470,"children":5471},{"style":835},[5472],{"type":401,"value":1035},{"type":395,"tag":537,"props":5474,"children":5475},{"style":632},[5476],{"type":401,"value":1230},{"type":395,"tag":537,"props":5478,"children":5479},{"style":638},[5480],{"type":401,"value":1145},{"type":395,"tag":537,"props":5482,"children":5483},{"style":632},[5484],{"type":401,"value":1230},{"type":395,"tag":537,"props":5486,"children":5487},{"style":835},[5488],{"type":401,"value":1044},{"type":395,"tag":537,"props":5490,"children":5491},{"class":539,"line":2002},[5492,5496,5500,5504,5508,5512,5516,5520],{"type":395,"tag":537,"props":5493,"children":5494},{"style":1747},[5495],{"type":401,"value":4763},{"type":395,"tag":537,"props":5497,"children":5498},{"style":754},[5499],{"type":401,"value":887},{"type":395,"tag":537,"props":5501,"children":5502},{"style":829},[5503],{"type":401,"value":2861},{"type":395,"tag":537,"props":5505,"children":5506},{"style":835},[5507],{"type":401,"value":1035},{"type":395,"tag":537,"props":5509,"children":5510},{"style":632},[5511],{"type":401,"value":1230},{"type":395,"tag":537,"props":5513,"children":5514},{"style":638},[5515],{"type":401,"value":1145},{"type":395,"tag":537,"props":5517,"children":5518},{"style":632},[5519],{"type":401,"value":1230},{"type":395,"tag":537,"props":5521,"children":5522},{"style":835},[5523],{"type":401,"value":1044},{"type":395,"tag":537,"props":5525,"children":5526},{"class":539,"line":2011},[5527,5531,5535,5539,5543,5547,5551,5555],{"type":395,"tag":537,"props":5528,"children":5529},{"style":1747},[5530],{"type":401,"value":4763},{"type":395,"tag":537,"props":5532,"children":5533},{"style":754},[5534],{"type":401,"value":887},{"type":395,"tag":537,"props":5536,"children":5537},{"style":829},[5538],{"type":401,"value":2861},{"type":395,"tag":537,"props":5540,"children":5541},{"style":835},[5542],{"type":401,"value":1035},{"type":395,"tag":537,"props":5544,"children":5545},{"style":632},[5546],{"type":401,"value":1230},{"type":395,"tag":537,"props":5548,"children":5549},{"style":638},[5550],{"type":401,"value":1145},{"type":395,"tag":537,"props":5552,"children":5553},{"style":632},[5554],{"type":401,"value":1230},{"type":395,"tag":537,"props":5556,"children":5557},{"style":835},[5558],{"type":401,"value":1044},{"type":395,"tag":537,"props":5560,"children":5561},{"class":539,"line":2053},[5562,5566,5570,5574,5578,5582,5586,5590,5594,5599],{"type":395,"tag":537,"props":5563,"children":5564},{"style":1747},[5565],{"type":401,"value":4763},{"type":395,"tag":537,"props":5567,"children":5568},{"style":754},[5569],{"type":401,"value":887},{"type":395,"tag":537,"props":5571,"children":5572},{"style":829},[5573],{"type":401,"value":3352},{"type":395,"tag":537,"props":5575,"children":5576},{"style":835},[5577],{"type":401,"value":1035},{"type":395,"tag":537,"props":5579,"children":5580},{"style":632},[5581],{"type":401,"value":1230},{"type":395,"tag":537,"props":5583,"children":5584},{"style":638},[5585],{"type":401,"value":4956},{"type":395,"tag":537,"props":5587,"children":5588},{"style":632},[5589],{"type":401,"value":1230},{"type":395,"tag":537,"props":5591,"children":5592},{"style":835},[5593],{"type":401,"value":848},{"type":395,"tag":537,"props":5595,"children":5596},{"style":1124},[5597],{"type":401,"value":5598},"6",{"type":395,"tag":537,"props":5600,"children":5601},{"style":835},[5602],{"type":401,"value":1044},{"type":395,"tag":537,"props":5604,"children":5605},{"class":539,"line":2083},[5606,5610,5614,5618,5622,5626,5630,5634,5638,5642,5646,5650,5654,5658,5662,5666,5670],{"type":395,"tag":537,"props":5607,"children":5608},{"style":829},[5609],{"type":401,"value":4980},{"type":395,"tag":537,"props":5611,"children":5612},{"style":835},[5613],{"type":401,"value":1035},{"type":395,"tag":537,"props":5615,"children":5616},{"style":1747},[5617],{"type":401,"value":2744},{"type":395,"tag":537,"props":5619,"children":5620},{"style":754},[5621],{"type":401,"value":887},{"type":395,"tag":537,"props":5623,"children":5624},{"style":829},[5625],{"type":401,"value":2861},{"type":395,"tag":537,"props":5627,"children":5628},{"style":835},[5629],{"type":401,"value":1035},{"type":395,"tag":537,"props":5631,"children":5632},{"style":632},[5633],{"type":401,"value":1230},{"type":395,"tag":537,"props":5635,"children":5636},{"style":638},[5637],{"type":401,"value":4956},{"type":395,"tag":537,"props":5639,"children":5640},{"style":632},[5641],{"type":401,"value":1230},{"type":395,"tag":537,"props":5643,"children":5644},{"style":835},[5645],{"type":401,"value":5017},{"type":395,"tag":537,"props":5647,"children":5648},{"style":754},[5649],{"type":401,"value":887},{"type":395,"tag":537,"props":5651,"children":5652},{"style":615},[5653],{"type":401,"value":5026},{"type":395,"tag":537,"props":5655,"children":5656},{"style":754},[5657],{"type":401,"value":887},{"type":395,"tag":537,"props":5659,"children":5660},{"style":829},[5661],{"type":401,"value":5035},{"type":395,"tag":537,"props":5663,"children":5664},{"style":835},[5665],{"type":401,"value":1035},{"type":395,"tag":537,"props":5667,"children":5668},{"style":1124},[5669],{"type":401,"value":5598},{"type":395,"tag":537,"props":5671,"children":5672},{"style":835},[5673],{"type":401,"value":1044},{"type":395,"tag":537,"props":5675,"children":5676},{"class":539,"line":2112},[5677,5681],{"type":395,"tag":537,"props":5678,"children":5679},{"style":754},[5680],{"type":401,"value":3015},{"type":395,"tag":537,"props":5682,"children":5683},{"style":835},[5684],{"type":401,"value":1044},{"type":395,"tag":537,"props":5686,"children":5687},{"class":539,"line":2121},[5688,5692,5696,5700,5705,5709,5713,5717,5721],{"type":395,"tag":537,"props":5689,"children":5690},{"style":829},[5691],{"type":401,"value":4722},{"type":395,"tag":537,"props":5693,"children":5694},{"style":835},[5695],{"type":401,"value":1035},{"type":395,"tag":537,"props":5697,"children":5698},{"style":632},[5699],{"type":401,"value":1230},{"type":395,"tag":537,"props":5701,"children":5702},{"style":638},[5703],{"type":401,"value":5704},"节点的权重应该正确",{"type":395,"tag":537,"props":5706,"children":5707},{"style":632},[5708],{"type":401,"value":1230},{"type":395,"tag":537,"props":5710,"children":5711},{"style":835},[5712],{"type":401,"value":848},{"type":395,"tag":537,"props":5714,"children":5715},{"style":754},[5716],{"type":401,"value":4669},{"type":395,"tag":537,"props":5718,"children":5719},{"style":1520},[5720],{"type":401,"value":4674},{"type":395,"tag":537,"props":5722,"children":5723},{"style":754},[5724],{"type":401,"value":762},{"type":395,"tag":537,"props":5726,"children":5727},{"class":539,"line":2164},[5728,5732,5736,5740,5744,5748,5752,5756,5760,5764,5768,5772,5776,5780,5784,5788,5793],{"type":395,"tag":537,"props":5729,"children":5730},{"style":829},[5731],{"type":401,"value":4980},{"type":395,"tag":537,"props":5733,"children":5734},{"style":835},[5735],{"type":401,"value":1035},{"type":395,"tag":537,"props":5737,"children":5738},{"style":1747},[5739],{"type":401,"value":2744},{"type":395,"tag":537,"props":5741,"children":5742},{"style":754},[5743],{"type":401,"value":887},{"type":395,"tag":537,"props":5745,"children":5746},{"style":829},[5747],{"type":401,"value":3124},{"type":395,"tag":537,"props":5749,"children":5750},{"style":835},[5751],{"type":401,"value":1035},{"type":395,"tag":537,"props":5753,"children":5754},{"style":632},[5755],{"type":401,"value":1230},{"type":395,"tag":537,"props":5757,"children":5758},{"style":638},[5759],{"type":401,"value":4956},{"type":395,"tag":537,"props":5761,"children":5762},{"style":632},[5763],{"type":401,"value":1230},{"type":395,"tag":537,"props":5765,"children":5766},{"style":835},[5767],{"type":401,"value":5017},{"type":395,"tag":537,"props":5769,"children":5770},{"style":754},[5771],{"type":401,"value":887},{"type":395,"tag":537,"props":5773,"children":5774},{"style":615},[5775],{"type":401,"value":5026},{"type":395,"tag":537,"props":5777,"children":5778},{"style":754},[5779],{"type":401,"value":887},{"type":395,"tag":537,"props":5781,"children":5782},{"style":829},[5783],{"type":401,"value":5035},{"type":395,"tag":537,"props":5785,"children":5786},{"style":835},[5787],{"type":401,"value":1035},{"type":395,"tag":537,"props":5789,"children":5790},{"style":1124},[5791],{"type":401,"value":5792},"14",{"type":395,"tag":537,"props":5794,"children":5795},{"style":835},[5796],{"type":401,"value":1044},{"type":395,"tag":537,"props":5798,"children":5799},{"class":539,"line":2232},[5800,5804,5808,5812,5816,5820,5824,5828,5832,5836,5840,5844,5848,5852,5856,5860,5864],{"type":395,"tag":537,"props":5801,"children":5802},{"style":829},[5803],{"type":401,"value":4980},{"type":395,"tag":537,"props":5805,"children":5806},{"style":835},[5807],{"type":401,"value":1035},{"type":395,"tag":537,"props":5809,"children":5810},{"style":1747},[5811],{"type":401,"value":2744},{"type":395,"tag":537,"props":5813,"children":5814},{"style":754},[5815],{"type":401,"value":887},{"type":395,"tag":537,"props":5817,"children":5818},{"style":829},[5819],{"type":401,"value":3124},{"type":395,"tag":537,"props":5821,"children":5822},{"style":835},[5823],{"type":401,"value":1035},{"type":395,"tag":537,"props":5825,"children":5826},{"style":632},[5827],{"type":401,"value":1230},{"type":395,"tag":537,"props":5829,"children":5830},{"style":638},[5831],{"type":401,"value":1145},{"type":395,"tag":537,"props":5833,"children":5834},{"style":632},[5835],{"type":401,"value":1230},{"type":395,"tag":537,"props":5837,"children":5838},{"style":835},[5839],{"type":401,"value":5017},{"type":395,"tag":537,"props":5841,"children":5842},{"style":754},[5843],{"type":401,"value":887},{"type":395,"tag":537,"props":5845,"children":5846},{"style":615},[5847],{"type":401,"value":5026},{"type":395,"tag":537,"props":5849,"children":5850},{"style":754},[5851],{"type":401,"value":887},{"type":395,"tag":537,"props":5853,"children":5854},{"style":829},[5855],{"type":401,"value":5035},{"type":395,"tag":537,"props":5857,"children":5858},{"style":835},[5859],{"type":401,"value":1035},{"type":395,"tag":537,"props":5861,"children":5862},{"style":1124},[5863],{"type":401,"value":5598},{"type":395,"tag":537,"props":5865,"children":5866},{"style":835},[5867],{"type":401,"value":1044},{"type":395,"tag":537,"props":5869,"children":5870},{"class":539,"line":2247},[5871,5875],{"type":395,"tag":537,"props":5872,"children":5873},{"style":754},[5874],{"type":401,"value":3015},{"type":395,"tag":537,"props":5876,"children":5877},{"style":835},[5878],{"type":401,"value":1044},{"type":395,"tag":537,"props":5880,"children":5881},{"class":539,"line":2255},[5882,5886],{"type":395,"tag":537,"props":5883,"children":5884},{"style":754},[5885],{"type":401,"value":2216},{"type":395,"tag":537,"props":5887,"children":5888},{"style":615},[5889],{"type":401,"value":1044},{"type":395,"tag":396,"props":5891,"children":5893},{"id":5892},"拆分渲染内容",[5894],{"type":401,"value":5892},{"type":395,"tag":404,"props":5896,"children":5897},{},[5898],{"type":401,"value":5899},"拆分渲染内容和通过节流解析函数想要达到的目的类似——通过限制浏览器的重绘回流次数以减轻硬件负担。",{"type":395,"tag":404,"props":5901,"children":5902},{},[5903],{"type":401,"value":5904},"我的解析函数会将传入的 MD 文本解析为 HTML 片段，然后通过 v-html 将片段放到浏览器右侧窗口进行渲染，虽然我们在解析函数中做了缓存，使得解析速度增加，但是每一次的解析都会使浏览器重新绘制整一个右侧窗口，这里有一个优化点。",{"type":395,"tag":404,"props":5906,"children":5907},{},[5908],{"type":401,"value":5909},"拆分渲染内容就是要解决这样一个问题。我们把右侧窗口一整块 v-html 区域以 MD 块状元素拆分为多个小的 v-html 区域，当编辑器某一行的文本数据有变动时，只通知右侧窗口更新对应区域的内容，这样一来，浏览器性能可以得到进一步提升。",{"type":395,"tag":396,"props":5911,"children":5913},{"id":5912},"总结",[5914],{"type":401,"value":5912},{"type":395,"tag":404,"props":5916,"children":5917},{},[5918],{"type":401,"value":5919},"前端做页面性能优化时，除了网络层面的优化，剩下很大一块内容都落在 JS 和浏览器的头上，考虑 JS，主要是如何减少重复计算，至于浏览器，则主要会想到重绘回流这块。依靠这两大山头，相信你也能写出运行速度飞快的代码！",{"type":395,"tag":404,"props":5921,"children":5922},{},[5923],{"type":401,"value":5924},"本文只对代码做了概括性说明，具体的代码细节还需要待我使劲整理再发一篇新文章，比如\u003C动手撸一个简单的 LFU 缓存类>之类的 😀，敬请期待~",{"type":395,"tag":396,"props":5926,"children":5928},{"id":5927},"更多",[5929],{"type":401,"value":5927},{"type":395,"tag":5931,"props":5932,"children":5933},"ul",{},[5934,5944,5954],{"type":395,"tag":506,"props":5935,"children":5936},{},[5937],{"type":395,"tag":435,"props":5938,"children":5941},{"href":5939,"rel":5940},"https://juejin.im/post/5a9923e9518825558251c96a",[439],[5942],{"type":401,"value":5943},"浏览器的回流与重绘 (Reflow & Repaint)",{"type":395,"tag":506,"props":5945,"children":5946},{},[5947],{"type":395,"tag":435,"props":5948,"children":5951},{"href":5949,"rel":5950},"https://www.jianshu.com/p/c8aeb3eee6bc",[439],[5952],{"type":401,"value":5953},"Redis 的缓存淘汰策略 LFU 与 LFU",{"type":395,"tag":506,"props":5955,"children":5956},{},[5957],{"type":395,"tag":435,"props":5958,"children":5961},{"href":5959,"rel":5960},"https://blog.csdn.net/elricboa/article/details/78847305",[439],[5962],{"type":401,"value":5963},"LFU 算法四种实现方式介绍",{"type":395,"tag":5965,"props":5966,"children":5967},"style",{},[5968],{"type":401,"value":5969},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":389,"searchDepth":765,"depth":765,"links":5971},[5972,5973,5974,5975,5976,5980,5981,5982],{"id":398,"depth":765,"text":402},{"id":447,"depth":765,"text":447},{"id":488,"depth":765,"text":488},{"id":658,"depth":765,"text":658},{"id":686,"depth":765,"text":686,"children":5977},[5978,5979],{"id":728,"depth":775,"text":728},{"id":1439,"depth":775,"text":1442},{"id":5892,"depth":765,"text":5892},{"id":5912,"depth":765,"text":5912},{"id":5927,"depth":765,"text":5927},"content:_achieved:2019-06:teditor.md","content","_achieved/2019-06/teditor.md","_achieved/2019-06/teditor","md",[5989,5992],{"_path":5990,"title":5991,"description":389},"/_achieved/2019-06/messy-in-two-years","💖 聊聊此次离职，毕业，及其它杂乱的事情",{"_path":5993,"title":5994,"description":5995},"/_achieved/2019-07/chrome-image-lazyload","听说你还在手写懒加载?","过去, 我们对含有大量图片的网站进行优化无外乎要依靠 JS 逻辑或是相关插件来完成, 比如懒加载技术. 而现在(至少在不久的将来), Chrome 75 版本将增加原生懒加载功能.",1741914077268]